{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/product/inventory_adjustment/InventoryAdjustment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/product/inventory_adjustment/InventoryAdjustment.vue","mtime":1639364469154},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/babel.config.js","mtime":1638499442885},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1hY2NvdW50aW5nLXdlYi1tb2R1bGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IGtlbmRvIGZyb20gJ0Bwcm9ncmVzcy9rZW5kby11aScKaW1wb3J0IHsgaTE4biB9IGZyb20gIkAvaTE4biI7CmltcG9ydCBJbnZlbnRvcnlBZGp1c3RtZW50IGZyb20gIkAvc2NyaXB0cy9tb2RlbC9pbnZlbnRvcnlBZGp1c3RtZW50IjsKaW1wb3J0IHsgU2hvd1Jlc291cmNlIH0gZnJvbSAiQC9vYnNlcnZhYmxlL3N0b3JlIjsKaW1wb3J0IHsgdXVpZCB9IGZyb20gInZ1ZS11dWlkIjsKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CmltcG9ydCBTYWxlRm9ybUNvbnRlbnRNb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvU2FsZUZvcm1Db250ZW50IjsKaW1wb3J0IEl0ZW1MaW5lTW9kZWwgZnJvbSAiQC9zY3JpcHRzL2ludmVudG9yeS1hZGp1c3RtZW50L21vZGVsL0l0ZW1MaW5lIjsgLy8gaW1wb3J0IHsgRHJvcERvd25MaXN0IH0gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXZ1ZS1kcm9wZG93bnMiOwoKdmFyIGFjY291bnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2hhbmRsZXIvYWNjb3VudGluZy9hY2NvdW50Iik7Cgp2YXIgYmlsbGluZ0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaW52b2ljZS9oYW5kbGVyL2JpbGxpbmdIYW5kbGVyIik7Cgp2YXIgcHJlZml4SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcmVmaXhIYW5kbGVyIik7Cgp2YXIgd2FyZWhvdXNlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy93YXJlaG91c2VIYW5kbGVyIik7Cgp2YXIgc2V0dGluZ3NIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NldHRpbmdzSGFuZGxlciIpOwoKdmFyIGxvY2F0aW9uSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9sb2NhdGlvbkhhbmRsZXIiKTsKCnZhciBwcm9qZWN0SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcm9qZWN0SGFuZGxlciIpOwoKdmFyIHByb2R1Y3RWYXJpYW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcm9kdWN0VmFyaWFudEhhbmRsZXIiKTsKCnZhciBzYWxlRm9ybUNvbnRlbnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NhbGVGb3JtQ29udGVudEhhbmRsZXIiKTsKCnZhciBzYWxlRm9ybUNvbnRlbnRNb2RlbCA9IG5ldyBTYWxlRm9ybUNvbnRlbnRNb2RlbCh7fSk7Cgp2YXIgY3VycmVuY3lIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2N1cnJlbmN5L2hhbmRsZXIvY3VycmVuY3lIYW5kbGVyIik7Cgp2YXIgaXRlbUxpbmVNb2RlbCA9IG5ldyBJdGVtTGluZU1vZGVsKHt9KTsKdmFyIHByZWZpeCA9ICJpbnZlbnRvcnkgYWRqdXN0bWVudCI7CnZhciB0eG5UeXBlID0gIkludmVudG9yeSBBZGp1c3RtZW50IjsKdmFyIGl0ZW1MaW5lUHJlZml4ID0gImxpbi0iOwp2YXIgJCA9IGtlbmRvLmpRdWVyeTsKCnZhciBjb29raWVKUyA9IHJlcXVpcmUoIkAvY29va2llLmpzIik7Cgp2YXIgY29va2llID0gY29va2llSlMuZ2V0Q29va2llKCk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSW52ZW50b3J5QWRqdXN0bWVudCIsCiAgY29tcG9uZW50czogewogICAgTG9hZGluZ01lOiBmdW5jdGlvbiBMb2FkaW5nTWUoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9Mb2FkaW5nIik7CiAgICB9LAogICAgImFwcC1kYXRlcGlja2VyIjogZnVuY3Rpb24gYXBwRGF0ZXBpY2tlcigpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvRGF0ZVBpY2tlckNvbXBvbmVudCIpOwogICAgfSwKICAgICJhcHAtbW9udGhwaWNrZXIiOiBmdW5jdGlvbiBhcHBNb250aHBpY2tlcigpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL2tlbmRvX3RlbXBsYXRlcy9Nb250aE9mUGlja2VyIik7CiAgICB9IC8vIGRyb3Bkb3dubGlzdDogRHJvcERvd25MaXN0LAoKICB9LAogIHByb3BzOiBbImlkIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzRWRpdDogZmFsc2UsCiAgICAgIC8vIExvYWRpbmdNZQogICAgICBzaG93TG9hZGluZzogdHJ1ZSwKICAgICAgYWxlcnQ6IGZhbHNlLAogICAgICB2YWxpZDogdHJ1ZSwKICAgICAgdGVtcGxhdGVzOiBbewogICAgICAgIHRpdGxlOiAiRHJhZnQiCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIk9wZW4iCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIlBhcnRpYWxseSBDbG9zZWQiCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIkNsb3NlZCIKICAgICAgfV0sCiAgICAgIGlzSGlkZUJhcjogZmFsc2UsCiAgICAgIGFjY291bnRzOiBbXSwKICAgICAgc2VnbWVudHM6IFtdLAogICAgICBsb2NhdGlvbnM6IFtdLAogICAgICBwcm9qZWN0czogW10sCiAgICAgIHdhcmVob3VzZXM6IFtdLAogICAgICBidW9tOiBbXSwKICAgICAgaXRlbUxpbmVzOiBbXSwKICAgICAgYmFzZUN1cnJlbmN5OiB7fSwKICAgICAgZXhjaGFuZ2VSYXRlOiB7fSwKICAgICAgc2FsZUZvcm1Db250ZW50OiBzYWxlRm9ybUNvbnRlbnRNb2RlbCwKICAgICAgaW52ZW50b3J5QWRqdXN0bWVudDogbmV3IEludmVudG9yeUFkanVzdG1lbnQoe30pLAogICAgICBpdGVtTGluZTogaXRlbUxpbmVNb2RlbCwKICAgICAgdHJhbnNhY3Rpb25EYXRlOiAiIiwKICAgICAgalJhdzogW10sCiAgICAgIGRyOiAwLAogICAgICBjcjogMCwKICAgICAgbG9nZ2VkVXNlcjogewogICAgICAgIGlkOiBjb29raWUuY3JlYXRvciwKICAgICAgICBuYW1lOiBjb29raWUuZW1haWwKICAgICAgfSwKICAgICAgc3RvY2tDb3VudHM6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbnVtYmVyRm9ybWF0OiBmdW5jdGlvbiBudW1iZXJGb3JtYXQodmFsdWUpIHsKICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKHZhbHVlLCAibiIuY29uY2F0KHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwpKTsKICAgIH0sCiAgICBvblRyYW5zYWN0aW9uRGF0ZUNoYW5nZWQ6IGZ1bmN0aW9uIG9uVHJhbnNhY3Rpb25EYXRlQ2hhbmdlZCgpIHsKICAgICAgLy8gdGhpcy5yZXNldERhdGFXaGVuVHhuRGF0ZUNoYW5nZWQoKQogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmdlbmVyYXRlTnVtYmVyKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuaW52ZW50b3J5QWRqdXN0bWVudC5tb250aE9mID0gbmV3IERhdGUodGhpcy5pbnZlbnRvcnlBZGp1c3RtZW50LnRyYW5zYWN0aW9uRGF0ZSkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgNyk7CiAgICB9LAogICAgaW5pdERhdGE6IGZ1bmN0aW9uIGluaXREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy4kcm91dGUucGFyYW1zLmlkICE9PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5sb2FkVmlld0FkanVzdG1lbnQoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX3RoaXMuYWRkUm93KCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkU2FsZUZvcm1Db250ZW50OiBmdW5jdGlvbiBsb2FkU2FsZUZvcm1Db250ZW50KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHNhbGVGb3JtQ29udGVudEhhbmRsZXIubGlzdCgpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShkYXRhLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2FsZUZvcm1Db250ZW50ID0gZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuYmFzZUN1cnJlbmN5ID0gZGF0YVswXS5iYXNlQ3VycmVuY3k7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmludmVudG9yeUFkanVzdG1lbnQuY3VycmVuY3kgPSBfdGhpczIuYmFzZUN1cnJlbmN5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmluaXREYXRhKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmxvYWRUcmFuc2FjdGlvblJhdGUoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB9KCkpOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFRyYW5zYWN0aW9uUmF0ZTogZnVuY3Rpb24gbG9hZFRyYW5zYWN0aW9uUmF0ZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKF90aGlzMy5pbnZlbnRvcnlBZGp1c3RtZW50LnRyYW5zYWN0aW9uRGF0ZSkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOwogICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW5jeSA9IF90aGlzMy5iYXNlQ3VycmVuY3k7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSAiIjsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbmN5Lmhhc093blByb3BlcnR5KCJjb2RlIikpIHsKICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjdXJyZW5jeS5jb2RlOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgIT09IHVuZGVmaW5lZCB8fCBjb2RlICE9PSAiIikgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5SGFuZGxlci5nZXRMYXN0RXhjaGFuZ2VSYXRlQnlEYXRlKGRhdGUsIGNvZGUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmV4Y2hhbmdlUmF0ZSA9IHJlcy5kYXRhLmRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmludmVudG9yeUFkanVzdG1lbnQudHhuUmF0ZSA9IF90aGlzMy5leGNoYW5nZVJhdGUucmF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuaW52ZW50b3J5QWRqdXN0bWVudC5leGNoYW5nZVJhdGUgPSBfdGhpczMuZXhjaGFuZ2VSYXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBpdGVtVGVtcGxhdGU6IGZ1bmN0aW9uIGl0ZW1UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgaXRlbSA9IGRhdGFJdGVtLml0ZW07CgogICAgICBpZiAoaXRlbSkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQoaXRlbS5uYW1lID8gaXRlbS5uYW1lIDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgSXRlbURyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBJdGVtRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJjb250YWlucyIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGhlYWRlclRlbXBsYXRlOiAnPGRpdiBjbGFzcz0iZHJvcGRvd24taGVhZGVyIGstd2lkZ2V0IGstaGVhZGVyIj4nICsgIjxzcGFuPkl0ZW1zIDwvc3Bhbj4iICsgIjxzcGFuPjwvc3Bhbj4iICsgIjwvZGl2PiIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogcHJvZHVjdFZhcmlhbnRIYW5kbGVyLml0ZW1WYXJpYW50U2VhcmNoVVJMKCkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIgogICAgICAgICAgfSwKICAgICAgICAgIHNjaGVtYTogewogICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgICAgIGZpZWxkczogewogICAgICAgICAgICAgICAgaWQ6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBuYW1lOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc2t1OiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgcW9oVGVtcGxhdGU6IGZ1bmN0aW9uIHFvaFRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIC8vIGNvbnN0IGJ1b20gPSBkYXRhSXRlbS5idW9tIHx8IHt9CiAgICAgIHZhciBxb2ggPSBkYXRhSXRlbS5xb2ggfHwgMDsgLy8gaWYgKGJ1b20uaGFzT3duUHJvcGVydHkoJ25hbWUnKSkgewoKICAgICAgcmV0dXJuIHFvaDsgLy8gfQogICAgICAvLyByZXR1cm4gYGAKICAgIH0sCiAgICBVT01UZW1wbGF0ZTogZnVuY3Rpb24gVU9NVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIHVvbSA9IGRhdGFJdGVtLmJ1b207CgogICAgICBpZiAodW9tKSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdCh1b20ubmFtZSA/IHVvbS5uYW1lIDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgbnVtYmVyRWRpdG9yOiBmdW5jdGlvbiBudW1iZXJFZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IGRhdGEtYmluZD0idmFsdWU6JyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb051bWVyaWNUZXh0Qm94KHsKICAgICAgICBkZWNpbWFsczogMzAsCiAgICAgICAgbWluOiAwLAogICAgICAgIGZvcm1hdDogIiIuY29uY2F0KHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwpCiAgICAgIH0pOwogICAgfSwKICAgIHJvd051bWJlclRtcGw6IGZ1bmN0aW9uIHJvd051bWJlclRtcGwoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIGFkZFJvdzogZnVuY3Rpb24gYWRkUm93KCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHRvdGFsID0gZHMudG90YWwoKTsKICAgICAgdGhpcy5pdGVtTGluZS5pZCA9IGl0ZW1MaW5lUHJlZml4ICsgdXVpZC52MSgpOwogICAgICB0aGlzLml0ZW1MaW5lLmRlY2ltYWxGb3JtYXQgPSAibiIgKyB0aGlzLnNhbGVGb3JtQ29udGVudC5kZWNpbWFsOwogICAgICBkcy5pbnNlcnQodG90YWwsIHRoaXMuaXRlbUxpbmUpOwogICAgfSwKICAgIGRhdGFTb3VyY2VDaGFuZ2VkOiBmdW5jdGlvbiBkYXRhU291cmNlQ2hhbmdlZChlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIGRhdGFSb3csIGl0ZW1UeXBlLCBidW9tLCBjb3VudCwgZGlmZiwgcW9oOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIWUuZmllbGQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGF0YVJvdyA9IGUuaXRlbXNbMF0sIGl0ZW1UeXBlID0gJycsIGJ1b20gPSB7fSwgY291bnQgPSAwLCBkaWZmID0gMCwgcW9oID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9IGUuZmllbGQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IF9jb250ZXh0NS50MCA9PT0gIml0ZW0iID8gNSA6IF9jb250ZXh0NS50MCA9PT0gImNvdW50IiA/IDEyIDogX2NvbnRleHQ1LnQwID09PSAiY29zdCIgPyAxNCA6IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJkZXNjcmlwdGlvbiIsIGRhdGFSb3cuaXRlbS5kZXNjcmlwdGlvbik7CiAgICAgICAgICAgICAgICBidW9tID0gZGF0YVJvdy5pdGVtLnVvbTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJidW9tIiwgYnVvbSk7CiAgICAgICAgICAgICAgICBpdGVtVHlwZSA9IGRhdGFSb3cuaXRlbS50eXBlIHx8ICcnOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuc2VhcmNoVHJhbnNhY3Rpb24oZGF0YVJvdywgZGF0YVJvdy5pdGVtLmlkLCBpdGVtVHlwZSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgiYnJlYWsiLCAxNyk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICBjb3VudCA9IHBhcnNlRmxvYXQoZGF0YVJvdy5jb3VudCB8fCAwKTsKICAgICAgICAgICAgICAgICAgcW9oID0gcGFyc2VGbG9hdChkYXRhUm93LnFvaCB8fCAwKTsKICAgICAgICAgICAgICAgICAgZGlmZiA9IGNvdW50IC0gcW9oOwogICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZGlmZmVyZW50IiwgcGFyc2VGbG9hdChkaWZmKSk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBwYXJzZUZsb2F0KGRhdGFSb3cuY29zdCkgKiBwYXJzZUZsb2F0KGRpZmYpKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKF91bnVzZWQpIHsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImRpZmZlcmVudCIsIDApOwogICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgMCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoImJyZWFrIiwgMTcpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgZGlmZiA9IHBhcnNlRmxvYXQoZGF0YVJvdy5kaWZmZXJlbnQgfHwgMCk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBwYXJzZUZsb2F0KGRhdGFSb3cuY29zdCkgKiBwYXJzZUZsb2F0KGRpZmYpKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKF91bnVzZWQyKSB7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCAwKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgiYnJlYWsiLCAxNyk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgiYnJlYWsiLCAxNyk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBpZiAoZS5maWVsZCkgewogICAgICAgICAgICAgICAgICBfdGhpczQuYXV0b0NhbGN1bGF0ZSgpOyAvLyB0aGlzLnJhd0ZvckpvdXJuYWwoKQoKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGU6IGZ1bmN0aW9uIGF1dG9DYWxjdWxhdGUoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIHZhciBuYXR1cmUgPSAiIiwKICAgICAgICAgIGFtb3VudCA9IDAsCiAgICAgICAgICBxdHkgPSAwOwogICAgICB0aGlzLmpSYXcgPSBbXTsKICAgICAgdmFyIHJvd3MgPSBkcy5kYXRhKCk7CiAgICAgIHJvd3MuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICB2YXIgYW10ID0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQpOwogICAgICAgIHZhciBkaWZmID0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5kaWZmZXJlbnQpOwogICAgICAgIGFtb3VudCArPSBhbXQ7CiAgICAgICAgcXR5ICs9IGRpZmY7CiAgICAgICAgdmFyIGl0ZW0gPSB2YWx1ZS5pdGVtOwoKICAgICAgICBpZiAoYW10ID4gMCkgewogICAgICAgICAgbmF0dXJlID0gImRyIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICB9CgogICAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAiVmFyaWFudCIpIHsKICAgICAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoImludmVudG9yeUFjYyIpKSB7CiAgICAgICAgICAgICAgaWYgKGl0ZW0uaW52ZW50b3J5QWNjLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICB2YXIgaW52ZW50b3J5QWNjID0gaXRlbS5pbnZlbnRvcnlBY2M7CgogICAgICAgICAgICAgICAgX3RoaXM1LmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBpbnZlbnRvcnlBY2MuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGl0ZW0uZGVzY3JpcHRpb24gfHwgIiIsCiAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGl0ZW0uaW52ZW50b3J5QWNjLAogICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGl0ZW0uaW52ZW50b3J5QWNjLmlkLAogICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtdCwKICAgICAgICAgICAgICAgICAgLy8gcXR5KmF2Z19jb3N0ICwKICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGFtdCwKICAgICAgICAgICAgICAgICAgLy94QW1vdW50LAogICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgIHR5cGVBczogIml0ZW0iCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmludmVudG9yeUFkanVzdG1lbnQuYW1vdW50ID0gYW1vdW50OwogICAgICB0aGlzLmludmVudG9yeUFkanVzdG1lbnQuZXhjaGFuZ2VBbW91bnQgPSBhbW91bnQ7CiAgICAgIHRoaXMuaW52ZW50b3J5QWRqdXN0bWVudC5xdHkgPSBxdHk7IC8vIGFkanVzdG1lbnQgYWNjb3VudAoKICAgICAgaWYgKHRoaXMuaW52ZW50b3J5QWRqdXN0bWVudC5hY2NvdW50KSB7CiAgICAgICAgdmFyIGFkanVzdEFjYyA9IHRoaXMuaW52ZW50b3J5QWRqdXN0bWVudC5hY2NvdW50OwoKICAgICAgICBpZiAoYW1vdW50ICogLTEgPiAwKSB7CiAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5qUmF3LnB1c2goewogICAgICAgICAgaWQ6IGFkanVzdEFjYy5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHt9KSwKICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmludmVudG9yeUFkanVzdG1lbnQuam91cm5hbE5vdGUsCiAgICAgICAgICBhY2NvdW50OiBhZGp1c3RBY2MsCiAgICAgICAgICBhY2NvdW50SWQ6IGFkanVzdEFjYy5pZCwKICAgICAgICAgIGFtb3VudDogYW1vdW50ICogLTEsCiAgICAgICAgICAvLyBxdHkqYXZnX2Nvc3QgLAogICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGFtb3VudCAqIC0xLAogICAgICAgICAgLy94QW1vdW50LAogICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgdHlwZUFzOiAiYWRqdXN0bWVudCBhY2MiCiAgICAgICAgfSk7CiAgICAgIH0gLy8gdG9kbzogcmF3IEpvdXJuYWwKICAgICAgLy8gY29uc3QgYWNjb3VudCA9IHRoaXMuaW52ZW50b3J5QWRqdXN0bWVudC5hY2NvdW50IHx8IHt9CiAgICAgIC8vIGlmICh0aGlzLmludmVudG9yeUFkanVzdG1lbnQuYW1vdW50RHVlID4gMCkgewogICAgICAvLyAgIG5hdHVyZSA9ICdkcicKICAgICAgLy8gfSBlbHNlIHsKICAgICAgLy8gICBuYXR1cmUgPSAnY3InCiAgICAgIC8vIH0KICAgICAgLy8gaWYgKGFjY291bnQpIHsKICAgICAgLy8gICBpZiAoYWNjb3VudC5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkgewogICAgICAvLyAgICAgdGhpcy5qUmF3LnB1c2goewogICAgICAvLyAgICAgICBpZDogYWNjb3VudC5pZCArICctJyArIG5hdHVyZSwKICAgICAgLy8gICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwoe30pLAogICAgICAvLyAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5pbnZvaWNlLmpvdXJuYWxOb3RlLAogICAgICAvLyAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAvLyAgICAgICBhY2NvdW50SWQ6IGFjY291bnQuaWQsCiAgICAgIC8vICAgICAgIGV4Y2hhbmdlQW1vdW50OiB0aGlzLmludmVudG9yeUFkanVzdG1lbnQuZXhjaGFuZ2VBbW91bnQsCiAgICAgIC8vICAgICAgIGFtb3VudDogdGhpcy5pbnZvaWNlLmFtb3VudER1ZSwKICAgICAgLy8gICAgICAgdHlwZTogbmF0dXJlLAogICAgICAvLyAgICAgICB0eXBlQXM6ICdhcicKICAgICAgLy8gICAgIH0pCiAgICAgIC8vICAgfQogICAgICAvLyB9CiAgICAgIC8vIHRvZG86IGVuZCByYXcgSm91cm5hbAoKCiAgICAgIHRoaXMuc2hyaW5rRGF0YSh0aGlzLmpSYXcpOyAvLyBjb25zdCB1bmlxdWUgPSB0aGlzLnJlbW92ZUR1cGxpY2F0ZSh0aGlzLmFjY291bnRzKQogICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2codW5pcXVlLCAndW5pcXVlJykKICAgIH0sCiAgICByZW1vdmVEdXBsaWNhdGU6IGZ1bmN0aW9uIHJlbW92ZUR1cGxpY2F0ZShhcnJheSkgewogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgIHZhciBtYXAgPSBuZXcgTWFwKCk7CgogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYXJyYXkpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgIGlmICghbWFwLmhhcyhpdGVtLmlkKSkgewogICAgICAgICAgICBtYXAuc2V0KGl0ZW0uaWQsIHRydWUpOyAvLyBzZXQgYW55IHZhbHVlIHRvIE1hcAoKICAgICAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgc2hyaW5rRGF0YTogZnVuY3Rpb24gc2hyaW5rRGF0YShvYmopIHsKICAgICAgdmFyIHVuaXF1ZXMgPSB0aGlzLnJlbW92ZUR1cGxpY2F0ZShvYmopOwogICAgICAvKlsuLi5uZXcgU2V0KGFjY291bnRJZC5tYXAoaSA9PiB7CiAgICAgIHJldHVybiB7CiAgICAgIGlkXzogaS5pZF8sCiAgICAgIGlkOiBpLmlkLAogICAgICB0eXBlOiBpLnR5cGUKICAgICAgfQogICAgICB9KSldKi8KCiAgICAgIHVuaXF1ZXMuZm9yRWFjaChmdW5jdGlvbiAobikgewogICAgICAgIHZhciBmb3VuZCA9IG9iai5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgIHJldHVybiBtLmlkID09PSBuLmlkOwogICAgICAgIH0pOwogICAgICAgIHZhciBhbW91bnQgPSAwLAogICAgICAgICAgICB4QW1vdW50ID0gMDsKICAgICAgICBmb3VuZC5mb3JFYWNoKGZ1bmN0aW9uICh6KSB7CiAgICAgICAgICBhbW91bnQgKz0gcGFyc2VGbG9hdCh6LmFtb3VudCB8fCAwKTsKICAgICAgICAgIHhBbW91bnQgKz0gcGFyc2VGbG9hdCh6LmV4Y2hhbmdlQW1vdW50IHx8IDApOwogICAgICAgIH0pOwogICAgICAgIG4uYW1vdW50ID0gcGFyc2VGbG9hdChhbW91bnQpOyAvL3RoaXMubnVtYmVyRm9ybWF0KGFtb3VudCkKCiAgICAgICAgbi5leGNoYW5nZUFtb3VudCA9IHBhcnNlRmxvYXQoeEFtb3VudCk7IC8vcGFyc2VGbG9hdChwYXJzZUZsb2F0KGFtb3VudCAqIHBhcnNlRmxvYXQodGhpcy5pbnZvaWNlLnR4blJhdGUpKSkgLy90aGlzLm51bWJlckZvcm1hdChhbW91bnQgKiBwYXJzZUZsb2F0KHRoaXMuaW52b2ljZS50eG5SYXRlKSkgLy8udG9GaXhlZCh0aGlzLnNhbGVGb3JtQ29udGVudC5kZWNpbWFsKQogICAgICB9KTsKICAgICAgdGhpcy5qUmF3ID0gdW5pcXVlczsKICAgICAgdmFyIGRyID0gMCwKICAgICAgICAgIGNyID0gMDsKICAgICAgdGhpcy5qUmF3LmZvckVhY2goZnVuY3Rpb24gKGopIHsKICAgICAgICBzd2l0Y2ggKGoudHlwZSkgewogICAgICAgICAgY2FzZSAiY3IiOgogICAgICAgICAgICBjciArPSBwYXJzZUZsb2F0KGouYW1vdW50KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAiZHIiOgogICAgICAgICAgICBkciArPSBwYXJzZUZsb2F0KGouYW1vdW50KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5kciA9IGRyOwogICAgICB0aGlzLmNyID0gY3I7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygiZHI9IiwgZHIsICJjcj0iLCBjciwgImRyK2NyID0gIiwgZHIgKyBjcik7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh1bmlxdWVzKSwgInVuaXF1ZXMiKTsKICAgIH0sCiAgICBIZWxwOiBmdW5jdGlvbiBIZWxwKGtleXdvcmRfc2VhcmNoKSB7CiAgICAgIFNob3dSZXNvdXJjZShrZXl3b3JkX3NlYXJjaCk7CiAgICB9LAogICAgc2VhcmNoVHJhbnNhY3Rpb246IGZ1bmN0aW9uIHNlYXJjaFRyYW5zYWN0aW9uKGRhdGFSb3csIGl0ZW1JZCwgaXRlbVR5cGUpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczYuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHZhciBzdGFydERhdGUgPSBfdGhpczYuaW52ZW50b3J5QWRqdXN0bWVudC50cmFuc2FjdGlvbkRhdGU7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9ICI/YXNPZj0iICsgc3RhcnREYXRlICsgIiZpZD0iICsgaXRlbUlkICsgJyZpdGVtVHlwZT0nICsgaXRlbVR5cGU7CiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIuaW52ZW50b3J5QmFsYW5jZShzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmFsYW5jZSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFsYW5jZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvc3QiLCBiYWxhbmNlWzBdLndhYyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInFvaCIsIGJhbGFuY2VbMF0ucW9oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgcGFyc2VGbG9hdChiYWxhbmNlWzBdLndhYykgKiBwYXJzZUZsb2F0KGRhdGFSb3cuZGlmZmVyZW50KSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvc3QiLCAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJiYWxhbmNlIiwgcmVzLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQWNjb3VudDogZnVuY3Rpb24gbG9hZEFjY291bnQoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgYWNjb3VudEhhbmRsZXIuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5hY2NvdW50cyA9IHJlcy5kYXRhLm1hcChmdW5jdGlvbiAoaXRtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0bS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGl0bS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0bS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6IGl0bS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaXRtLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICBpc190YXhhYmxlOiBpdG0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5oamlBY2NDb2RlOiBpdG0uYmFuaGppQWNjQ29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9jb2RlOiBpdG0uZ3JvdXBfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfYWNjb3VudDogaXRtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfY29kZTogaXRtLnR5cGVfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IGl0bS5hY2NvdW50X3R5cGUKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczcuYWNjb3VudHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuaW52ZW50b3J5QWRqdXN0bWVudC5hY2NvdW50ID0gX3RoaXM3LmFjY291bnRzWzBdOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFByb2plY3RzOiBmdW5jdGlvbiBsb2FkUHJvamVjdHMoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBwcm9qZWN0SGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOC5wcm9qZWN0cyA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICBpZiAoX3RoaXM4LnByb2plY3RzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczguaW52ZW50b3J5QWRqdXN0bWVudC5wcm9qZWN0ID0gX3RoaXM4LnByb2plY3RzWzBdOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFNlZ21lbnQ6IGZ1bmN0aW9uIGxvYWRTZWdtZW50KCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIF90aGlzOS5zZWdtZW50cyA9IFtdOwogICAgICAgICAgICAgICAgICAgIHNldHRpbmdzSGFuZGxlci5nZXRTZWcoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5zaG93TG9hZGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LnNlZ21lbnRzID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczkuc2VnbWVudHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5pbnZlbnRvcnlBZGp1c3RtZW50LnNlZ21lbnQgPSBfdGhpczkuc2VnbWVudHNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gLy8gdGhpcy5zZWdtZW50TGlzdCA9IHJlcy5kYXRhLmRhdGEKCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkTG9jYXRpb246IGZ1bmN0aW9uIGxvYWRMb2NhdGlvbigpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczEwLmxvY2F0aW9ucyA9IFtdOwogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uSGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5sb2NhdGlvbnMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTAubG9jYXRpb25zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLmludmVudG9yeUFkanVzdG1lbnQubG9jYXRpb24gPSBfdGhpczEwLmxvY2F0aW9uc1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFdhcmVob3VzZXM6IGZ1bmN0aW9uIGxvYWRXYXJlaG91c2VzKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB3YXJlaG91c2VIYW5kbGVyLmdldFdhcmVob3VzZVNldHRpbmdBbGwoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMS53YXJlaG91c2VzID0gcmVzOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFByZWZpeDogZnVuY3Rpb24gbG9hZFByZWZpeCgpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJlZml4SGFuZGxlci5nZXQocHJlZml4KS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMihyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi50cmFuc2FjdGlvblR5cGVzID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfdGhpczEyLnRyYW5zYWN0aW9uVHlwZXMubGVuZ3RoID4gMCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5pbnZlbnRvcnlBZGp1c3RtZW50LnRyYW5zYWN0aW9uVHlwZSA9IF90aGlzMTIudHJhbnNhY3Rpb25UeXBlc1swXTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfdGhpczEyLiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEyLmdlbmVyYXRlTnVtYmVyKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgICAgICAgICAgICAgfSkpLCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZW5lcmF0ZU51bWJlcjogZnVuY3Rpb24gZ2VuZXJhdGVOdW1iZXIoKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTMuaW52ZW50b3J5QWRqdXN0bWVudC50cmFuc2FjdGlvbkRhdGUgIT09ICIiKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgYWJicjogX3RoaXMxMy5pbnZlbnRvcnlBZGp1c3RtZW50LnRyYW5zYWN0aW9uVHlwZS5hYmJyLAogICAgICAgICAgICAgICAgICBzdHJ1Y3R1cmU6IF90aGlzMTMuaW52ZW50b3J5QWRqdXN0bWVudC50cmFuc2FjdGlvblR5cGUuc3RydWN0dXJlLAogICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IF90aGlzMTMuaW52ZW50b3J5QWRqdXN0bWVudC50cmFuc2FjdGlvbkRhdGUsCiAgICAgICAgICAgICAgICAgIHNlcXVjZW5jaW5nOiBfdGhpczEzLmludmVudG9yeUFkanVzdG1lbnQudHJhbnNhY3Rpb25UeXBlLnNlcXVjZW5jaW5nLAogICAgICAgICAgICAgICAgICB0eXBlOiAiSW52ZW50b3J5IEFkanVzdG1lbnQiCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX3RoaXMxMy5pbnZlbnRvcnlBZGp1c3RtZW50LmFiYnIgPSBkYXRhLmFiYnI7CiAgICAgICAgICAgICAgICBfdGhpczEzLmludmVudG9yeUFkanVzdG1lbnQuc3RydWN0dXJlID0gZGF0YS5zdHJ1Y3R1cmU7CiAgICAgICAgICAgICAgICBfdGhpczEzLmludmVudG9yeUFkanVzdG1lbnQuc2VxdWNlbmNpbmcgPSBkYXRhLnNlcXVjZW5jaW5nOwogICAgICAgICAgICAgICAgX3RoaXMxMy5pbnZlbnRvcnlBZGp1c3RtZW50LnRyYW5zYWN0aW9uRGF0ZSA9IGRhdGEudHJhbnNhY3Rpb25EYXRlOwogICAgICAgICAgICAgICAgX3RoaXMxMy5pbnZlbnRvcnlBZGp1c3RtZW50LnR5cGUgPSBkYXRhLnR5cGU7CiAgICAgICAgICAgICAgICBfdGhpczEzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGJpbGxpbmdIYW5kbGVyLmxhc3ROdW1iZXIoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHZhciByZXMgPSByZXNwb25zZS5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgIHZhciBsYXN0TnVtYmVyID0gX3RoaXMxMy56ZXJvUGFkKHBhcnNlSW50KHJlcy5sYXN0TnVtYmVyKSwgX3RoaXMxMy5pbnZlbnRvcnlBZGp1c3RtZW50LnRyYW5zYWN0aW9uVHlwZS5mb3JtYXQpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczEzLmludmVudG9yeUFkanVzdG1lbnQubnVtYmVyID0gcmVzLnN1ZmZpeCArIF90aGlzMTMuaW52ZW50b3J5QWRqdXN0bWVudC50cmFuc2FjdGlvblR5cGUubnVtYmVyU2VwYXJhdG9yICsgbGFzdE51bWJlcjsKICAgICAgICAgICAgICAgICAgICBfdGhpczEzLmludmVudG9yeUFkanVzdG1lbnQubGFzdE51bWJlciA9IHJlcy5zdWZmaXggKyBsYXN0TnVtYmVyOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBfdGhpczEzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmVycm9yKGUpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHplcm9QYWQ6IGZ1bmN0aW9uIHplcm9QYWQobnVtLCBwbGFjZXMpIHsKICAgICAgcmV0dXJuIFN0cmluZyhudW0pLnBhZFN0YXJ0KHBsYWNlcywgIjAiKTsKICAgIH0sCiAgICBzYXZlUHJpbnQ6IGZ1bmN0aW9uIHNhdmVQcmludCgpIHt9LAogICAgc2F2ZU5ldzogZnVuY3Rpb24gc2F2ZU5ldygpIHt9LAogICAgb25TYXZlQ2xvc2U6IGZ1bmN0aW9uIG9uU2F2ZUNsb3NlKGlzU2F2ZSkgewogICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNC4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMxNC4kcmVmcy5mb3JtLnZhbGlkYXRlKCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJtRW1wbG95ZWUiLCBfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQuZW1wbG95ZWUpOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczE0Lm1FbXBsb3llZS5pZCAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0F1dG9HZW5lcmF0ZSA9IDE7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTQuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbkRhdGUgPSBuZXcgRGF0ZShfdGhpczE0LnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuRGF0ZUFkanVzdG1lbnQgPSBuZXcgRGF0ZShfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQudHJhbnNhY3Rpb25EYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5EYXRlTSA9IHRyYW5EYXRlLmdldEZ1bGxZZWFyKCkgKyB0cmFuRGF0ZS5nZXRNb250aCgpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbkRhdGVUeG5NID0gdHJhbkRhdGVBZGp1c3RtZW50LmdldEZ1bGxZZWFyKCkgKyB0cmFuRGF0ZUFkanVzdG1lbnQuZ2V0TW9udGgoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFuRGF0ZU0gPT09IHRyYW5EYXRlVHhuTSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXV0b0dlbmVyYXRlID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuYXV0b0NhbGN1bGF0ZSgpOwoKICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtTGluZURTID0gX3RoaXMxNC4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCk7CgogICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFSb3cgPSBpdGVtTGluZURTLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8uYnVvbSAhPT0ge30gfHwgby5idW9tICE9PSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSXRlbUxpbmVNb2RlbChvKTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhUm93Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC5pZCA/IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC5pZCA6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC51dWlkID8gX3RoaXMxNC5pbnZlbnRvcnlBZGp1c3RtZW50LnV1aWQgOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICBqb3VybmFsX3V1aWQ6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC5qb3VybmFsX3V1aWQgPyBfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQuam91cm5hbF91dWlkIDogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHhuVHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWJicjogX3RoaXMxNC5pbnZlbnRvcnlBZGp1c3RtZW50LnRyYW5zYWN0aW9uVHlwZS5hYmJyLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogX3RoaXMxNC50cmFuc2FjdGlvbkRhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhPZjogX3RoaXMxNC5pbnZlbnRvcnlBZGp1c3RtZW50Lm1vbnRoT2YsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25UeXBlOiBfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQudHJhbnNhY3Rpb25UeXBlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHR4blJhdGU6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC50eG5SYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlUmF0ZTogX3RoaXMxNC5pbnZlbnRvcnlBZGp1c3RtZW50LmV4Y2hhbmdlUmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogX3RoaXMxNC5pbnZlbnRvcnlBZGp1c3RtZW50LmN1cnJlbmN5LAogICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1MaW5lOiBkYXRhUm93LAogICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnQ6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC5zZWdtZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQubG9jYXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogX3RoaXMxNC5pbnZlbnRvcnlBZGp1c3RtZW50LnByb2plY3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWU6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC5lbXBsb3llZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbk5vdGU6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC50cmFuc2FjdGlvbk5vdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgam91cm5hbE5vdGU6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC5qb3VybmFsTm90ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiBfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQuYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQuY3JlYXRlZEF0LAogICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogX3RoaXMxNC5pbnZlbnRvcnlBZGp1c3RtZW50LmFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogX3RoaXMxNC5pbnZlbnRvcnlBZGp1c3RtZW50LmV4Y2hhbmdlQW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHF0eTogX3RoaXMxNC5pbnZlbnRvcnlBZGp1c3RtZW50LnF0eSwKICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZWRVc2VyOiBfdGhpczE0LmxvZ2dlZFVzZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBdXRvR2VuZXJhdGU6IGlzQXV0b0dlbmVyYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGpSYXc6IF90aGlzMTQualJhdywKICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25UeXBlOiBfdGhpczE0LiRyb3V0ZS5wYXJhbXMuaWQgPyBfdGhpczE0LiRyb3V0ZS5xdWVyeS50eXBlIDogIm5ldyIKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLmludmVudG9yeUFkanVzdG1lbnQoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LiRzbm90aWZ5LnN1Y2Nlc3MoIlN1Y2Nlc3NmdWxseSIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1NhdmUgPT0gIm5ldyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5jbGVhcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1NhdmUgPT0gImNsb3NlIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LmNsZWFyKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC4kc25vdGlmeS5lcnJvcigiU29tZXRoaW5nIHdlbnQgd3JvbmciKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5lcnJvcnMucHVzaChlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHdpbmRvdy5oaXN0b3J5LmdvKC0xKTsKICAgIH0sCiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7CiAgICAgIHRoaXMubG9hZFByZWZpeCgpOwogICAgICB0aGlzLmxvYWRBY2NvdW50KCk7CiAgICAgIHRoaXMubG9hZFNlZ21lbnQoKTsKICAgICAgdGhpcy5sb2FkTG9jYXRpb24oKTsKICAgICAgdGhpcy5sb2FkUHJvamVjdHMoKTsKICAgICAgdGhpcy5pbnZlbnRvcnlBZGp1c3RtZW50ID0gbmV3IEludmVudG9yeUFkanVzdG1lbnQoe30pOwogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgZHMuZGF0YShbXSk7CiAgICAgIHRoaXMuYWRkUm93KCk7CiAgICB9LAogICAgcmVtb3ZlUm93OiBmdW5jdGlvbiByZW1vdmVSb3coZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZEl0ZW1MaW5lIikuZGF0YSgia2VuZG9HcmlkIiksCiAgICAgICAgICBkYXRhU291cmNlID0gZ3JpZC5kYXRhU291cmNlLAogICAgICAgICAgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKCQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKCiAgICAgIGlmIChkYXRhU291cmNlLnRvdGFsKCkgPiAxKSB7CiAgICAgICAgZGF0YVNvdXJjZS5yZW1vdmUoZGF0YUl0ZW0pOwogICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgICB9CiAgICB9LAogICAgZXJyb3JNZXNzYWdlOiBmdW5jdGlvbiBlcnJvck1lc3NhZ2UoKSB7fSwKICAgIGFjY291bnREcm9wRG93bkVkaXRvcjogZnVuY3Rpb24gYWNjb3VudERyb3BEb3duRWRpdG9yKCkge30sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgdGl0bGU6IGkxOG4udCgibXNnX3RpdGxlX3dhcm5pbmciKSwKICAgICAgICB0ZXh0OiBpMThuLnQoIm1zZ19kaXNjYXJkIiksCiAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCJjYW5jZWwiKSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoImRpc2NhcmQiKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHRDZW4pIHsKICAgICAgICBpZiAocmVzdWx0Q2VuLnZhbHVlKSB7CiAgICAgICAgICBfdGhpczE1LiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGlkZVNtYWxsU2lkZWJhcjogZnVuY3Rpb24gaGlkZVNtYWxsU2lkZWJhcigpIHsKICAgICAgdGhpcy5pc0hpZGVCYXIgPSAhdGhpcy5pc0hpZGVCYXI7CiAgICB9LAogICAgbG9hZFZpZXdBZGp1c3RtZW50OiBmdW5jdGlvbiBsb2FkVmlld0FkanVzdG1lbnQoKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsICdpZCcpCgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE2LiRyb3V0ZS5wYXJhbXMuaWQgIT09IHVuZGVmaW5lZCB8fCBfdGhpczE2LiRyb3V0ZS5wYXJhbXMuaWQgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLmludmVudG9yeUFkanVzdG1lbnRMaXN0KCI/aWQ9IiArIF90aGlzMTYuJHJvdXRlLnBhcmFtcy5pZCArICcmdHlwZT1JbnZlbnRvcnkgQWRqdXN0bWVudCcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuaW52ZW50b3J5QWRqdXN0bWVudCA9IHJlcy5kYXRhLmRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5pdGVtTGluZXMgPSBfdGhpczE2LmludmVudG9yeUFkanVzdG1lbnQuaXRlbUxpbmU7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLml0ZW1MaW5lcywgJy0nKQoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LnRyYW5zYWN0aW9uRGF0ZSA9IF90aGlzMTYuaW52ZW50b3J5QWRqdXN0bWVudC50cmFuc2FjdGlvbkRhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5tRW1wbG95ZWUgPSBfdGhpczE2LmludmVudG9yeUFkanVzdG1lbnQuZW1wbG95ZWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjY291bnRfID0gX3RoaXMxNi5pbnZlbnRvcnlBZGp1c3RtZW50LmFjY291bnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5pbnZlbnRvcnlBZGp1c3RtZW50LmFjY291bnQgPSBhY2NvdW50XzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5hdXRvQ2FsY3VsYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFN0b2NrQ291bnQ6IGZ1bmN0aW9uIGxvYWRTdG9ja0NvdW50KHR5cGUpIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczE3LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnREYXRlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZERhdGUgPSAnJzsKICAgICAgICAgICAgICAgICAgICB2YXIgc3RyRmlsdGVyID0gIj9zdGFydD0iICsgc3RhcnREYXRlICsgIiZlbmQ9IiArIGVuZERhdGUgKyAiJnR5cGU9IiArIHR5cGU7CiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIuaW52ZW50b3J5QWRqdXN0bWVudExpc3Qoc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE3LnN0b2NrQ291bnRzID0gcmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4uc3RhdHVzID09PSAxOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTcuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFZpZXdTdG9ja0NvdW50OiBmdW5jdGlvbiBsb2FkVmlld1N0b2NrQ291bnQoKSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsICdpZCcpCgogICAgICAgICAgICAgICAgICAgIHZhciBzdG9ja0NvdW50ID0gX3RoaXMxOC5pbnZlbnRvcnlBZGp1c3RtZW50LnN0b2NrQ291bnQgfHwge307CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b2NrQ291bnRJZCA9IHN0b2NrQ291bnQuaWQgfHwgJyc7CgogICAgICAgICAgICAgICAgICAgIGlmIChzdG9ja0NvdW50SWQgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE4LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLmludmVudG9yeUFkanVzdG1lbnRMaXN0KCI/aWQ9IiArIHN0b2NrQ291bnRJZCArICcmdHlwZT1TdG9jayBDb3VudCcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTguc3RvY2tDb3VudCA9IHJlcy5kYXRhLmRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHN0b2NrQ291bnRBZGp1c3RtZW50OiBmdW5jdGlvbiBzdG9ja0NvdW50QWRqdXN0bWVudCgpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIwKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjAkKF9jb250ZXh0MjApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMC5wcmV2ID0gX2NvbnRleHQyMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsgLy8gd2luZG93LmNvbnNvbGUubG9nKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwgJ2lkJykKCiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b2NrQ291bnQgPSBfdGhpczE5LmludmVudG9yeUFkanVzdG1lbnQuc3RvY2tDb3VudCB8fCB7fTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3RvY2tDb3VudElkID0gc3RvY2tDb3VudC5pZCB8fCAnJzsKICAgICAgICAgICAgICAgICAgICB2YXIgYXNPZiA9IF90aGlzMTkuaW52ZW50b3J5QWRqdXN0bWVudC50cmFuc2FjdGlvbkRhdGUgfHwgJyc7CgogICAgICAgICAgICAgICAgICAgIGlmIChzdG9ja0NvdW50SWQgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE5LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTkuaXRlbUxpbmVzID0gW107CiAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0VmFyaWFudEhhbmRsZXIuc3RvY2tDb3VudEFkanVzdG1lbnQoIj9pZD0iICsgc3RvY2tDb3VudElkICsgJyZhc09mPScgKyBhc09mKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTkuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE5Lml0ZW1MaW5lcyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMCk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGlkOiBmdW5jdGlvbiBpZCgpIHsKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCdpZC0tJywgdGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmluaXREYXRhKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgdGhpcy5sb2FkVmlld0FkanVzdG1lbnQoKTsKICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7Ly8gZmV0Y2ggdGhlIGRhdGEgd2hlbiB0aGUgdmlldyBpcyBjcmVhdGVkIGFuZCB0aGUgZGF0YSBpcwogICAgLy8gYWxyZWFkeSBiZWluZyBvYnNlcnZlZAogICAgLy8gdGhpcy5sb2FkT2JqKCkKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyMCA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIxKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIxJChfY29udGV4dDIxKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMS5wcmV2ID0gX2NvbnRleHQyMS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIwLmxvYWRTYWxlRm9ybUNvbnRlbnQoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIwLmxvYWRBY2NvdW50KCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMC5sb2FkTG9jYXRpb24oKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIwLmxvYWRQcmVmaXgoKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMC5sb2FkU2VnbWVudCgpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAxMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMC5sb2FkUHJvamVjdHMoKTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjAubG9hZFN0b2NrQ291bnQoJ1N0b2NrIENvdW50Jyk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyMSk7CiAgICB9KSkoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBoaWRkZW5CdXR0b246IGZ1bmN0aW9uIGhpZGRlbkJ1dHRvbigpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGUgPT0gImVkaXQiKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["InventoryAdjustment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\">\n                        <v-row>\n                            <v-col\n                                class=\"bigSide py-0\"\n                                sm=\"8\"\n                                cols=\"12\"\n                                style=\"transition: 0.3s ease-in\"\n                                :class=\"{ hide_big_bar_class: isHideBar }\">\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">{{ $t(\"inventory_adjustment\") }}</h2>\n                                        <v-icon\n                                            v-if=\"isHideBar\"\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px\"\n                                            class=\"float-right\">close\n                                        </v-icon>\n                                        <span\n                                            style=\"transition: 0.3s ease-in; z-index: 10\"\n                                            :class=\"{  iconArrow: !isHideBar, iconArrowHide: isHideBar, }\">\n                      <v-icon\n                          size=\"22\"\n                          class=\"arr_icon\"\n                          @click=\"hideSmallSidebar\"\n                          v-if=\"isHideBar\">\n                        mdi-chevron-left-circle\n                      </v-icon>\n                      <v-icon\n                          size=\"22\"\n                          class=\"arr_icon\"\n                          @click=\"hideSmallSidebar\"\n                          v-if=\"!isHideBar\">\n                        mdi-chevron-right-circle\n                      </v-icon>\n                    </span>\n                                    </v-card>\n\n                                    <v-card\n                                        outlined\n                                        dense\n                                        class=\"px-3 no_border\"\n                                        color=\"grayBg\"\n                                        height=\" 172px\">\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{ $t(\"date\") }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"inventoryAdjustment.transactionDate\"\n                                                    @onChanged=\"onTransactionDateChanged\"\n                                                    @emitDate=\"inventoryAdjustment.transactionDate = $event\"\n                                                />\n                                                <label class=\"label\">{{ $t(\"stock_count_ref\") }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :items=\"stockCounts\"\n                                                    tage=\"account\"\n                                                    item-value=\"id\"\n                                                    item-text=\"referenceNo\"\n                                                    @change=\"stockCountAdjustment\"\n                                                    v-model=\"inventoryAdjustment.stockCount\"\n                                                    clearable\n                                                    return-object\n                                                    outlined\n                                                />\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\">\n                                                <label class=\"label\">{{\n                                                        $t(\"adjustment_number\")\n                                                    }}</label>\n                                                <div class=\"d-flex mt-1\">\n                                                    <div class=\"code_text flex-1 text-bold\">\n                                                        {{ inventoryAdjustment.abbr }}\n                                                    </div>\n                                                    <v-text-field\n                                                        class=\"flex-2 custom-border\"\n                                                        v-model=\"inventoryAdjustment.number\"\n                                                        readonly\n                                                        outlined\n                                                        :rules=\"[(v) => !!v || $t('is_required')]\"\n                                                        required\n                                                    />\n                                                    <v-icon\n                                                        color=\"black\"\n                                                        size=\"30\"\n                                                        style=\"height: 40px\"\n                                                        class=\"border_qrcode ml-2\"\n                                                        @click=\"generateNumber\"\n                                                    >mdi-qrcode\n                                                    </v-icon>\n                                                </div>\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\">\n                                                <label class=\"label\">{{\n                                                        $t(\"adjustment_account\")\n                                                    }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :items=\"accounts\"\n                                                    tage=\"account\"\n                                                    item-value=\"id\"\n                                                    :item-text=\"(item) => `${item.number} - ${item.name}`\"\n                                                    v-model=\"inventoryAdjustment.account\"\n                                                    :rules=\"[(v) => !!v || $t('is_required')]\"\n                                                    return-object\n                                                    outlined\n                                                />\n                                                <!-- <label class=\"label\">{{ $t(\"adjustment_memo\") }}</label>\n                                                <v-text-field\n                                                  class=\"mt-1\"\n                                                  v-model=\"inventoryAdjustment.transactionNote\"\n                                                  outlined\n                                                  tage=\"memo\"\n                                                  required\n                                                /> -->\n                                                <!-- <label class=\"label\">{{\n                                                  $t(\"message_for_journal\")\n                                                }}</label>\n                                                <v-text-field\n                                                  class=\"mt-1\"\n                                                  v-model=\"inventoryAdjustment.journalNote\"\n                                                  outlined\n                                                  tage=\"Message for Journal\"\n                                                  required\n                                                /> -->\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-row style=\"background-color: #fff\">\n                                        <v-col sm=\"12\" cols=\"12\">\n                                            <kendo-datasource\n                                                ref=\"itemLineDS\"\n                                                :data=\"itemLines\"\n                                                :change=\"dataSourceChanged\"\n                                            />\n                                            <kendo-grid\n                                                id=\"gridItemLine\"\n                                                class=\"grid-function\"\n                                                :data-source-ref=\"'itemLineDS'\"\n                                                :sortable=\"false\"\n                                                :column-menu=\"true\"\n                                                :editable=\"true\"\n                                                :scrollable-virtual=\"true\"\n                                            >\n                                                <kendo-grid-column\n                                                    :command=\"{ iconClass: 'k-icon k-i-trash', text: ' ', click: removeRow, class: 'btn-plus',}\"\n                                                    :title=\"''\"\n                                                    :width=\"63\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5',}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :title=\"$t('no.')\"\n                                                    :width=\"53\"\n                                                    :column-menu=\"false\"\n                                                    :template=\"rowNumberTmpl\"\n                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5;', class: 'text-products', }\"\n                                                    :attributes=\"{ style: 'text-align: products', }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'item'\"\n                                                    :title=\"$t('item')\"\n                                                    :template=\"itemTemplate\"\n                                                    :editor=\"ItemDropDownEditor\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5', }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'description'\"\n                                                    :title=\"$t('description')\"\n                                                    :template=\"'<span>#=description#</span>'\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{  style: 'background-color: #EDF1F5', }\"\n                                                />\n\n                                                <kendo-grid-column\n                                                    :field=\"'buom'\"\n                                                    :title=\"$t('uom')\"\n                                                    :width=\"170\"\n                                                    :template=\"UOMTemplate\"\n                                                    :editable=\" () => { return false; } \"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5', }\"\n                                                    :attributes=\"{ style: 'text-align: left', }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'cost'\"\n                                                    :title=\"$t('cost')\"\n                                                    :editor=\"numberEditor\"\n                                                    :template=\"'<span>#=kendo.toString(cost || 0, decimalFormat) || 0#</span>'\"\n                                                    :width=\"170\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5', }\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'qoh'\"\n                                                    :title=\"$t('on_hand')\"\n                                                    :template=\"'<span>#=kendo.toString(qoh || 0, decimalFormat) || 0#</span>'\"\n                                                    :width=\"170\"\n                                                    :editable=\" () => { return false;  }\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5',}\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'count'\"\n                                                    :title=\"$t('counted')\"\n                                                    :editor=\"numberEditor\"\n                                                    :template=\"'<span>#=kendo.toString(count || 0, decimalFormat)#</span>'\"\n                                                    :width=\"170\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5',  }\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'different'\"\n                                                    :title=\"$t('different')\"\n                                                    :editable=\" () => { return false; } \"\n                                                    :width=\"170\"\n                                                    :template=\"'<span>#=kendo.toString(different || 0, decimalFormat)#</span>'\"\n                                                    :editor=\"numberEditor\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5', }\"\n                                                    :attributes=\"{ style: 'text-align: right', }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'amount'\"\n                                                    :title=\"$t('amount')\"\n                                                    :width=\"170\"\n                                                    :editable=\" () => { return false; }\"\n                                                    :template=\"'<span>#=kendo.toString(amount || 0, decimalFormat)#</span>'\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5', }\"\n                                                    :attributes=\"{ style: 'text-align: right', }\"\n                                                />\n                                            </kendo-grid>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <v-btn\n                                                color=\"primary\"\n                                                class=\"float-left ml-0 btn_plus rounded-4 white--text mr-2\"\n                                                @click=\"addRow\">\n                                                <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                            </v-btn>\n                                        </v-col>\n                                        <v-col sm=\"6\" cols=\"12\">\n                                            <label>{{ $t(\"message_these_adjustment\") }}</label>\n                                            <v-textarea\n                                                class=\"mt-1\"\n                                                outlined\n                                                no-resize\n                                                height=\"70px\"\n                                                tage=\"Message on Invoice\"\n                                                placeholder=\"This will appear on the invoice\"\n                                            />\n                                            <label>{{ $t(\"message_on_journal\") }}</label>\n                                            <v-textarea\n                                                class=\"mt-1\"\n                                                outlined\n                                                no-resize\n                                                height=\"70px\"\n                                                tage=\"Message on Order\"\n                                                placeholder=\"This will appear on the journal\"\n                                            />\n                                        </v-col>\n                                        <v-col class=\"pt-5\" sm=\"6\" cols=\"12\">\n                                            <v-simple-table>\n                                                <template v-slot:default>\n                                                    <tbody>\n                                                    <tr>\n                                                        <td class=\"text-left\">{{ $t(\"dr\") }}</td>\n                                                        <td class=\"text-center\">:</td>\n                                                        <td class=\"text-right color_green text-bold\">\n                                                            {{ numberFormat(dr) }}\n                                                        </td>\n                                                    </tr>\n                                                    <tr>\n                                                        <td class=\"text-left\">{{ $t(\"cr\") }}</td>\n                                                        <td class=\"text-center\">:</td>\n                                                        <td class=\"text-right color_green text-bold\">\n                                                            {{ numberFormat(cr) }}\n                                                        </td>\n                                                    </tr>\n                                                    </tbody>\n                                                </template>\n                                            </v-simple-table>\n                                        </v-col>\n                                    </v-row>\n                                    <v-divider/>\n                                    <v-card elevation=\"0\" class=\"no_border function_footer\">\n                                        <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                                            <span v-html=\"errorMessage\"/>\n                                        </v-alert>\n                                        <v-menu>\n                                            <v-list>\n                                                <v-list-item\n                                                    v-for=\"(item, index) in templates\"\n                                                    :key=\"index\">\n                                                    <v-list-item-title>{{\n                                                            item.title\n                                                        }}\n                                                    </v-list-item-title>\n                                                </v-list-item>\n                                            </v-list>\n                                        </v-menu>\n                                        <v-btn\n                                            color=\"primary\"\n                                            outlined\n                                            class=\"text-capitalize black--text float-left\"\n                                            @click=\"cancel\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <v-btn\n                                            color=\"primary\"\n                                            @click=\"onSaveClose('close')\"\n                                            class=\"float-right white--text text-capitalize\">\n                                            {{ $t(\"save_close\") }}\n                                        </v-btn>\n                                        <v-btn\n                                            color=\"secondary\"\n                                            style=\"margin-right: 10px !important\"\n                                            class=\"white--text float-right text-capitalize\"\n                                            @click=\"onSaveClose('new')\"\n                                            :hidden=\"hiddenButton\">{{ $t(\"save_new\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-form>\n                            </v-col>\n                            <v-col\n                                class=\"smallSide\"\n                                sm=\"4\"\n                                style=\"transition: 0.3s ease-in\"\n                                :class=\"{ hide_small_bar_class: isHideBar }\">\n                                <h3\n                                    style=\"color: #b3b5bc; font-size: 20px\"\n                                    v-if=\"!isHideBar\"\n                                    class=\"text-uppercase float-right mt-n3\">\n                  <span class=\"pointer\" @click=\"Help('inventory adjustment')\">\n                    {{ $t(\"help\") }}\n                  </span>\n                                    <v-icon\n                                        @click=\"cancel()\"\n                                        style=\"cursor: pointer; color: #333; font-size: 40px\"\n                                        class=\"float-right mt-n1\"\n                                    >close\n                                    </v-icon>\n                                </h3>\n\n                                <div v-if=\"!isHideBar\" class=\"small_sidebar mt-8 grayBg\">\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                            <v-card\n                                                outlined\n                                                dense\n                                                class=\" pa-3 mb-2 no_border my_card rounded-4 white--text \"\n                                                color=\"primary\"\n                                                height=\"60px\">\n                                                <h3 class=\"text-left font_13 flex-1 text-uppercase\">\n                                                    {{ $t(\"adjustment_amount\") }}\n                                                </h3>\n                                                <h3 class=\"text-right flex-1 font_20 niradei_heavy\">\n                                                    0000\n                                                </h3>\n                                            </v-card>\n                                            <label class=\"label mb-0\">{{ $t(\"segment\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"inventoryAdjustment.segment\"\n                                                :items=\"segments\"\n                                                item-value=\"id\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                return-object\n                                                tage=\"sub Of\"\n                                                placeholder=\"Sub Of\"\n                                                outlined=\"\"\n                                            />\n                                            <label class=\"label mb-0\">{{ $t(\"location\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"inventoryAdjustment.location\"\n                                                :items=\"locations\"\n                                                item-value=\"id\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                return-object\n                                                tage=\"Location\"\n                                                placeholder=\"location\"\n                                                outlined=\"\"\n                                            />\n                                            <label class=\"label\">{{ $t(\"project\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"inventoryAdjustment.project\"\n                                                :items=\"projects\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                item-value=\"id\"\n                                                tage=\"Project\"\n                                                outlined\n                                            />\n                                            <label class=\"label\">{{ $t(\"for_month_of\") }}</label>\n                                            <app-monthpicker\n                                                :initMonthOf=\"inventoryAdjustment.monthOf\"\n                                                @emitMonthOf=\"inventoryAdjustment.monthOf = $event\"\n                                            />\n                                            <p class=\"detial_smallside_p font_14\">\n                                                {{ $t(\"inventory_adjustment_func_desc\") }} </p>\n                                        </v-col>\n                                    </v-row>\n                                </div>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"false\"\n                type=\"loading\"\n                :myLoading=\"true\"\n            />\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n// import kendo from '@progress/kendo-ui'\nimport {i18n} from \"@/i18n\";\nimport InventoryAdjustment from \"@/scripts/model/inventoryAdjustment\";\nimport {ShowResource} from \"@/observable/store\";\nimport {uuid} from \"vue-uuid\";\nimport kendo from \"@progress/kendo-ui\";\nimport SaleFormContentModel from \"@/scripts/model/SaleFormContent\";\nimport ItemLineModel from \"@/scripts/inventory-adjustment/model/ItemLine\";\n// import { DropDownList } from \"@progress/kendo-vue-dropdowns\";\n\nconst accountHandler = require(\"@/scripts/handler/accounting/account\");\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\nconst prefixHandler = require(\"@/scripts/prefixHandler\");\nconst warehouseHandler = require(\"@/scripts/warehouseHandler\");\nconst settingsHandler = require(\"@/scripts/settingsHandler\");\nconst locationHandler = require(\"@/scripts/locationHandler\");\nconst projectHandler = require(\"@/scripts/projectHandler\");\nconst productVariantHandler = require(\"@/scripts/productVariantHandler\");\nconst saleFormContentHandler = require(\"@/scripts/saleFormContentHandler\");\nconst saleFormContentModel = new SaleFormContentModel({});\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\");\n\nconst itemLineModel = new ItemLineModel({});\nconst prefix = \"inventory adjustment\";\nconst txnType = \"Inventory Adjustment\";\nconst itemLinePrefix = \"lin-\";\nconst $ = kendo.jQuery\n\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\n\nexport default {\n    name: \"InventoryAdjustment\",\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n        \"app-datepicker\": () => import(\"@/components/custom_templates/DatePickerComponent\"),\n        \"app-monthpicker\": () => import(\"@/components/kendo_templates/MonthOfPicker\"),\n        // dropdownlist: DropDownList,\n    },\n    props: [\"id\"],\n    data: () => ({\n        isEdit: false,\n        // LoadingMe\n        showLoading: true,\n        alert: false,\n        valid: true,\n        templates: [\n            {title: \"Draft\"},\n            {title: \"Open\"},\n            {title: \"Partially Closed\"},\n            {title: \"Closed\"},\n        ],\n        isHideBar: false,\n        accounts: [],\n        segments: [],\n        locations: [],\n        projects: [],\n        warehouses: [],\n        buom: [],\n        itemLines: [],\n        baseCurrency: {},\n        exchangeRate: {},\n        saleFormContent: saleFormContentModel,\n        inventoryAdjustment: new InventoryAdjustment({}),\n        itemLine: itemLineModel,\n        transactionDate: \"\",\n        jRaw: [],\n        dr: 0,\n        cr: 0,\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email,\n        },\n        stockCounts: []\n    }),\n    methods: {\n        numberFormat(value) {\n            return kendo.toString(value, `n${this.saleFormContent.decimal}`);\n        },\n        onTransactionDateChanged() {\n            // this.resetDataWhenTxnDateChanged()\n            if (this.$route.params.id === undefined) {\n                this.generateNumber();\n            }\n            this.inventoryAdjustment.monthOf = new Date(\n                this.inventoryAdjustment.transactionDate\n            )\n                .toISOString()\n                .substr(0, 7);\n        },\n        async initData() {\n            if (this.$route.params.id !== undefined) {\n                await this.loadViewAdjustment();\n                // window.console.log('1', this.$route.params)\n            } else {\n                this.addRow();\n            }\n        },\n        async loadSaleFormContent() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    saleFormContentHandler.list().then(async (res) => {\n                        if (res.data.statusCode === 200) {\n                            const data = res.data.data;\n                            if (data.length > 0) {\n                                this.saleFormContent = data[0];\n                                this.baseCurrency = data[0].baseCurrency;\n                                this.inventoryAdjustment.currency = this.baseCurrency;\n                                await this.initData();\n                                await this.loadTransactionRate();\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadTransactionRate() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const date = new Date(this.inventoryAdjustment.transactionDate)\n                        .toISOString()\n                        .substr(0, 10);\n                    const currency = this.baseCurrency;\n                    let code = \"\";\n                    if (currency.hasOwnProperty(\"code\")) {\n                        code = currency.code;\n                    }\n                    if (code !== undefined || code !== \"\") {\n                        this.showLoading = true;\n                        currencyHandler\n                            .getLastExchangeRateByDate(date, code)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.exchangeRate = res.data.data[0];\n                                    this.inventoryAdjustment.txnRate = this.exchangeRate.rate;\n                                    this.inventoryAdjustment.exchangeRate = this.exchangeRate;\n                                    this.showLoading = false;\n                                }\n                            });\n                    }\n                }, 10);\n            });\n        },\n        itemTemplate(dataItem) {\n            const item = dataItem.item;\n            if (item) {\n                return `<span>${item.name ? item.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        ItemDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate:\n                        '<div class=\"dropdown-header k-widget k-header\">' +\n                        \"<span>Items </span>\" +\n                        \"<span></span>\" +\n                        \"</div>\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: productVariantHandler.itemVariantSearchURL(),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                    }),\n                });\n        },\n        qohTemplate(dataItem) {\n            // const buom = dataItem.buom || {}\n            const qoh = dataItem.qoh || 0;\n            // if (buom.hasOwnProperty('name')) {\n            return qoh;\n            // }\n            // return ``\n        },\n        UOMTemplate(dataItem) {\n            const uom = dataItem.buom;\n            if (uom) {\n                return `<span>${uom.name ? uom.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        numberEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    min: 0,\n                    format: `${this.saleFormContent.decimal}`,\n                });\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        addRow() {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                total = ds.total();\n            this.itemLine.id = itemLinePrefix + uuid.v1();\n            this.itemLine.decimalFormat = \"n\" + this.saleFormContent.decimal;\n            ds.insert(total, this.itemLine);\n        },\n        async dataSourceChanged(e) {\n            if (e.field) {\n                let dataRow = e.items[0], itemType = '',\n                    buom = {},\n                    count = 0,\n                    diff = 0,\n                    qoh = 0;\n                switch (e.field) {\n                    case \"item\":\n                        dataRow.set(\"description\", dataRow.item.description);\n                        buom = dataRow.item.uom;\n                        dataRow.set(\"buom\", buom);\n                        itemType = dataRow.item.type || ''\n                        await this.searchTransaction(dataRow, dataRow.item.id, itemType);\n                        break;\n                    case \"count\":\n                        try {\n                            count = parseFloat(dataRow.count || 0);\n                            qoh = parseFloat(dataRow.qoh || 0);\n                            diff = count - qoh;\n                            dataRow.set(\"different\", parseFloat(diff));\n                            dataRow.set(\n                                \"amount\",\n                                parseFloat(dataRow.cost) * parseFloat(diff)\n                            );\n                        } catch {\n                            dataRow.set(\"different\", 0);\n                            dataRow.set(\"amount\", 0);\n                        }\n                        break;\n                    case \"cost\":\n                        try {\n                            diff = parseFloat(dataRow.different || 0);\n                            dataRow.set(\n                                \"amount\",\n                                parseFloat(dataRow.cost) * parseFloat(diff)\n                            );\n                        } catch {\n                            dataRow.set(\"amount\", 0);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (e.field) {\n                    this.autoCalculate();\n                    // this.rawForJournal()\n                }\n            }\n        },\n        autoCalculate() {\n            let ds = this.$refs.itemLineDS.kendoWidget();\n            let nature = \"\",\n                amount = 0,\n                qty = 0;\n            this.jRaw = [];\n            const rows = ds.data();\n            rows.forEach((value) => {\n                const amt = kendo.parseFloat(value.amount);\n                const diff = kendo.parseFloat(value.different);\n                amount += amt;\n                qty += diff;\n                const item = value.item;\n                if (amt > 0) {\n                    nature = \"dr\";\n                } else {\n                    nature = \"cr\";\n                }\n                if (item) {\n                    if (item.type === \"Variant\") {\n                        if (item.hasOwnProperty(\"inventoryAcc\")) {\n                            if (item.inventoryAcc.hasOwnProperty(\"id\")) {\n                                let inventoryAcc = item.inventoryAcc;\n                                this.jRaw.push({\n                                    id: inventoryAcc.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    description: item.description || \"\",\n                                    account: item.inventoryAcc,\n                                    accountId: item.inventoryAcc.id,\n                                    amount: amt, // qty*avg_cost ,\n                                    exchangeAmount: amt, //xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                    }\n                }\n            });\n            this.inventoryAdjustment.amount = amount;\n            this.inventoryAdjustment.exchangeAmount = amount;\n            this.inventoryAdjustment.qty = qty;\n            // adjustment account\n            if (this.inventoryAdjustment.account) {\n                const adjustAcc = this.inventoryAdjustment.account;\n                if (amount * -1 > 0) {\n                    nature = \"dr\";\n                } else {\n                    nature = \"cr\";\n                }\n                this.jRaw.push({\n                    id: adjustAcc.id + \"-\" + nature,\n                    line: new ItemLineModel({}),\n                    description: this.inventoryAdjustment.journalNote,\n                    account: adjustAcc,\n                    accountId: adjustAcc.id,\n                    amount: amount * -1, // qty*avg_cost ,\n                    exchangeAmount: amount * -1, //xAmount,\n                    type: nature,\n                    typeAs: \"adjustment acc\",\n                });\n            }\n            // todo: raw Journal\n            // const account = this.inventoryAdjustment.account || {}\n            // if (this.inventoryAdjustment.amountDue > 0) {\n            //   nature = 'dr'\n            // } else {\n            //   nature = 'cr'\n            // }\n            // if (account) {\n            //   if (account.hasOwnProperty('id')) {\n            //     this.jRaw.push({\n            //       id: account.id + '-' + nature,\n            //       line: new ItemLineModel({}),\n            //       description: this.invoice.journalNote,\n            //       account: account,\n            //       accountId: account.id,\n            //       exchangeAmount: this.inventoryAdjustment.exchangeAmount,\n            //       amount: this.invoice.amountDue,\n            //       type: nature,\n            //       typeAs: 'ar'\n            //     })\n            //   }\n            // }\n            // todo: end raw Journal\n            this.shrinkData(this.jRaw);\n            // const unique = this.removeDuplicate(this.accounts)\n            // window.console.log(unique, 'unique')\n        },\n        removeDuplicate(array) {\n            const result = [];\n            const map = new Map();\n            for (const item of array) {\n                if (!map.has(item.id)) {\n                    map.set(item.id, true); // set any value to Map\n                    result.push(item);\n                }\n            }\n            return result;\n        },\n        shrinkData(obj) {\n            const uniques =\n                this.removeDuplicate(obj); /*[...new Set(accountId.map(i => {\n                return {\n                    id_: i.id_,\n                    id: i.id,\n                    type: i.type\n                }\n            }))]*/\n            uniques.forEach((n) => {\n                const found = obj.filter((m) => m.id === n.id);\n                let amount = 0,\n                    xAmount = 0;\n                found.forEach((z) => {\n                    amount += parseFloat(z.amount || 0);\n                    xAmount += parseFloat(z.exchangeAmount || 0);\n                });\n                n.amount = parseFloat(amount); //this.numberFormat(amount)\n                n.exchangeAmount = parseFloat(xAmount); //parseFloat(parseFloat(amount * parseFloat(this.invoice.txnRate))) //this.numberFormat(amount * parseFloat(this.invoice.txnRate)) //.toFixed(this.saleFormContent.decimal)\n            });\n            this.jRaw = uniques;\n            let dr = 0,\n                cr = 0;\n            this.jRaw.forEach((j) => {\n                switch (j.type) {\n                    case \"cr\":\n                        cr += parseFloat(j.amount);\n                        break;\n                    case \"dr\":\n                        dr += parseFloat(j.amount);\n                        break;\n                    default:\n                        break;\n                }\n            });\n            this.dr = dr;\n            this.cr = cr;\n            window.console.log(\"dr=\", dr, \"cr=\", cr, \"dr+cr = \", dr + cr);\n            window.console.log(JSON.stringify(uniques), \"uniques\");\n        },\n        Help(keyword_search) {\n            ShowResource(keyword_search);\n        },\n        async searchTransaction(dataRow, itemId, itemType) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    const startDate = this.inventoryAdjustment.transactionDate;\n                    let strFilter = \"?asOf=\" + startDate + \"&id=\" + itemId + '&itemType=' + itemType;\n                    billingHandler.inventoryBalance(strFilter).then((res) => {\n                        if (res.data.statusCode === 200) {\n                            const balance = res.data.data;\n                            if (balance.length > 0) {\n                                dataRow.set(\"cost\", balance[0].wac);\n                                dataRow.set(\"qoh\", balance[0].qoh);\n                                dataRow.set(\n                                    \"amount\",\n                                    parseFloat(balance[0].wac) * parseFloat(dataRow.different)\n                                );\n                            } else {\n                                dataRow.set(\"cost\", 0);\n                            }\n                            window.console.log(\"balance\", res.data.data);\n                        }\n                        this.showLoading = false;\n                    });\n                }, 10);\n            });\n        },\n        async loadAccount() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    accountHandler.getAll().then((res) => {\n                        this.showLoading = false;\n                        this.accounts = res.data.map((itm) => {\n                            return {\n                                id: itm.uuid,\n                                uuid: itm.uuid,\n                                name: itm.name,\n                                local_name: itm.local_name,\n                                number: itm.number,\n                                is_taxable: itm.is_taxable,\n                                banhjiAccCode: itm.banhjiAccCode,\n                                group_code: itm.group_code,\n                                parent_account: itm.parent_account,\n                                type_code: itm.type_code,\n                                account_type: itm.account_type,\n                            };\n                        });\n                        if (this.accounts.length > 0) {\n                            this.inventoryAdjustment.account = this.accounts[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadProjects() {\n            await projectHandler.list().then((res) => {\n                this.projects = res.data.data;\n                if (this.projects.length > 0) {\n                    this.inventoryAdjustment.project = this.projects[0];\n                }\n            });\n        },\n        async loadSegment() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.segments = [];\n                    settingsHandler\n                        .getSeg()\n                        .then((res) => {\n                            this.showLoading = true;\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.segments = res.data.data;\n                                if (this.segments.length > 0) {\n                                    this.inventoryAdjustment.segment = this.segments[0];\n                                }\n                                // this.segmentList = res.data.data\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadLocation() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.locations = [];\n                    locationHandler\n                        .list()\n                        .then((res) => {\n                            this.showLoading = true;\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.locations = res.data.data;\n                                if (this.locations.length > 0) {\n                                    this.inventoryAdjustment.location = this.locations[0];\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadWarehouses() {\n            warehouseHandler.getWarehouseSettingAll().then((res) => {\n                this.warehouses = res;\n            });\n        },\n        async loadPrefix() {\n            new Promise((resolve) => {\n                setTimeout(async () => {\n                    resolve(\"resolved\");\n                    await prefixHandler.get(prefix).then(async (res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.transactionTypes = res.data.data;\n                            if (this.transactionTypes.length > 0) {\n                                this.inventoryAdjustment.transactionType =\n                                    this.transactionTypes[0];\n                                if (this.$route.params.id === undefined) {\n                                    await this.generateNumber();\n                                }\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async generateNumber() {\n            if (this.inventoryAdjustment.transactionDate !== \"\") {\n                let data = {\n                    abbr: this.inventoryAdjustment.transactionType.abbr,\n                    structure: this.inventoryAdjustment.transactionType.structure,\n                    transactionDate: this.inventoryAdjustment.transactionDate,\n                    sequcencing: this.inventoryAdjustment.transactionType.sequcencing,\n                    type: \"Inventory Adjustment\",\n                };\n                this.inventoryAdjustment.abbr = data.abbr;\n                this.inventoryAdjustment.structure = data.structure;\n                this.inventoryAdjustment.sequcencing = data.sequcencing;\n                this.inventoryAdjustment.transactionDate = data.transactionDate;\n                this.inventoryAdjustment.type = data.type;\n                this.showLoading = true;\n                await billingHandler\n                    .lastNumber(data)\n                    .then((response) => {\n                        if (response.data.statusCode === 200) {\n                            this.showLoading = false;\n                            const res = response.data.data;\n                            const lastNumber = this.zeroPad(\n                                parseInt(res.lastNumber),\n                                this.inventoryAdjustment.transactionType.format\n                            );\n                            this.inventoryAdjustment.number =\n                                res.suffix +\n                                this.inventoryAdjustment.transactionType.numberSeparator +\n                                lastNumber;\n                            this.inventoryAdjustment.lastNumber = res.suffix + lastNumber;\n                        }\n                    })\n                    .catch((e) => {\n                        this.showLoading = false;\n                        window.console.error(e);\n                    });\n            }\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, \"0\");\n        },\n        savePrint() {\n        },\n        saveNew() {\n        },\n        async onSaveClose(isSave) {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate();\n                return;\n            }\n            window.console.log(\"mEmployee\", this.inventoryAdjustment.employee);\n            if (this.mEmployee.id !== null) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        let isAutoGenerate = 1;\n                        if (this.$route.params.id) {\n                            const tranDate = new Date(this.transactionDate);\n                            const tranDateAdjustment = new Date(\n                                this.inventoryAdjustment.transactionDate\n                            );\n                            const tranDateM = tranDate.getFullYear() + tranDate.getMonth();\n                            const tranDateTxnM =\n                                tranDateAdjustment.getFullYear() +\n                                tranDateAdjustment.getMonth();\n                            if (tranDateM === tranDateTxnM) {\n                                isAutoGenerate = 0;\n                            }\n                        }\n                        this.autoCalculate();\n                        let itemLineDS = this.$refs.itemLineDS.kendoWidget();\n                        const dataRow = itemLineDS\n                            .data()\n                            .filter((o) => o.buom !== {} || o.buom !== null)\n                            .map((o) => {\n                                return new ItemLineModel(o);\n                            });\n                        if (dataRow.length > 0) {\n                            let data = {\n                                id: this.inventoryAdjustment.id\n                                    ? this.inventoryAdjustment.id\n                                    : \"\",\n                                uuid: this.inventoryAdjustment.uuid\n                                    ? this.inventoryAdjustment.uuid\n                                    : \"\",\n                                journal_uuid: this.inventoryAdjustment.journal_uuid\n                                    ? this.inventoryAdjustment.journal_uuid\n                                    : \"\",\n                                type: txnType,\n                                number: this.inventoryAdjustment.number,\n                                abbr: this.inventoryAdjustment.transactionType.abbr,\n                                transactionDate: this.transactionDate,\n                                monthOf: this.inventoryAdjustment.monthOf,\n                                transactionType: this.inventoryAdjustment.transactionType,\n                                txnRate: this.inventoryAdjustment.txnRate,\n                                exchangeRate: this.inventoryAdjustment.exchangeRate,\n                                currency: this.inventoryAdjustment.currency,\n                                itemLine: dataRow,\n                                segment: this.inventoryAdjustment.segment,\n                                location: this.inventoryAdjustment.location,\n                                project: this.inventoryAdjustment.project,\n                                employee: this.inventoryAdjustment.employee,\n                                transactionNote: this.inventoryAdjustment.transactionNote,\n                                journalNote: this.inventoryAdjustment.journalNote,\n                                account: this.inventoryAdjustment.account,\n                                status: 1,\n                                createdAt: this.inventoryAdjustment.createdAt,\n                                amount: this.inventoryAdjustment.amount,\n                                exchangeAmount: this.inventoryAdjustment.exchangeAmount,\n                                qty: this.inventoryAdjustment.qty,\n                                loggedUser: this.loggedUser,\n                                isAutoGenerate: isAutoGenerate,\n                                jRaw: this.jRaw,\n                                actionType: this.$route.params.id\n                                    ? this.$route.query.type\n                                    : \"new\",\n                            };\n                            this.showLoading = true;\n                            billingHandler\n                                .inventoryAdjustment(data)\n                                .then((response) => {\n                                    if (response.data.statusCode === 201) {\n                                        this.showLoading = false;\n                                        this.$snotify.success(\"Successfully\");\n                                        if (isSave == \"new\") {\n                                            this.clear();\n                                        } else if (isSave == \"close\") {\n                                            this.clear();\n                                            this.close();\n                                        }\n                                    }\n                                })\n                                .catch((e) => {\n                                    this.showLoading = false;\n                                    this.$snotify.error(\"Something went wrong\");\n                                    this.errors.push(e);\n                                });\n                        }\n                    }, 10);\n                });\n            }\n        },\n        close() {\n            window.history.go(-1);\n        },\n        clear() {\n            this.loadPrefix();\n            this.loadAccount();\n            this.loadSegment();\n            this.loadLocation();\n            this.loadProjects();\n            this.inventoryAdjustment = new InventoryAdjustment({});\n            let ds = this.$refs.itemLineDS.kendoWidget();\n            ds.data([]);\n            this.addRow();\n        },\n        removeRow(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#gridItemLine\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n                this.autoCalculate();\n            }\n        },\n        errorMessage() {\n        },\n        accountDropDownEditor() {\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((resultCen) => {\n                if (resultCen.value) {\n                    this.$router.go(-1);\n                }\n            });\n        },\n        hideSmallSidebar() {\n            this.isHideBar = !this.isHideBar;\n        },\n        async loadViewAdjustment() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    // window.console.log(this.$route.params.id, 'id')\n                    if (\n                        this.$route.params.id !== undefined ||\n                        this.$route.params.id !== \"\"\n                    ) {\n                        this.showLoading = true;\n                        billingHandler\n                            .inventoryAdjustmentList(\"?id=\" + this.$route.params.id + '&type=Inventory Adjustment')\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.inventoryAdjustment = res.data.data[0];\n                                    this.itemLines = this.inventoryAdjustment.itemLine;\n                                    // window.console.log(this.itemLines, '-')\n                                    this.transactionDate =\n                                        this.inventoryAdjustment.transactionDate;\n                                    this.mEmployee = this.inventoryAdjustment.employee;\n                                    const account_ = this.inventoryAdjustment.account;\n                                    this.inventoryAdjustment.account = account_;\n                                    this.autoCalculate();\n                                }\n                            });\n                    }\n                }, 10);\n            });\n        },\n        async loadStockCount(type) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    const startDate = ''\n                    const endDate = ''\n                    const strFilter = \"?start=\" + startDate + \"&end=\" + endDate + \"&type=\" + type;\n\n                    billingHandler.inventoryAdjustmentList(strFilter).then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            const response = res.data.data\n                            this.stockCounts = response.filter(n => n.status === 1)\n                        } else {\n                            this.showLoading = false;\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadViewStockCount() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    // window.console.log(this.$route.params.id, 'id')\n                    const stockCount = this.inventoryAdjustment.stockCount || {}\n                    const stockCountId = stockCount.id || ''\n                    if (stockCountId !== '') {\n                        this.showLoading = true;\n                        billingHandler.inventoryAdjustmentList(\"?id=\" + stockCountId + '&type=Stock Count').then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.stockCount = res.data.data[0];\n                            } else {\n                                this.showLoading = false\n                            }\n                        });\n                    }\n                }, 10);\n            });\n        },\n        async stockCountAdjustment() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    // window.console.log(this.$route.params.id, 'id')\n                    const stockCount = this.inventoryAdjustment.stockCount || {}\n                    const stockCountId = stockCount.id || ''\n                    const asOf = this.inventoryAdjustment.transactionDate || ''\n                    if (stockCountId !== '') {\n                        this.showLoading = true;\n                        this.itemLines = []\n                        productVariantHandler.stockCountAdjustment(\"?id=\" + stockCountId + '&asOf=' + asOf).then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.itemLines = res.data.data\n                            } else {\n                                this.showLoading = false\n                            }\n                        });\n                    }\n                }, 10);\n            });\n        },\n    },\n    watch: {\n        id() {\n            // window.console.log('id--', this.$route.params.id)\n            if (this.$route.params.id === undefined) {\n                this.initData();\n            } else {\n                this.showLoading = true;\n                this.loadViewAdjustment();\n                this.showLoading = false;\n            }\n        },\n    },\n    created() {\n        // fetch the data when the view is created and the data is\n        // already being observed\n        // this.loadObj()\n    },\n    async mounted() {\n        await this.loadSaleFormContent();\n        await this.loadAccount();\n        await this.loadLocation();\n        await this.loadPrefix();\n        await this.loadSegment();\n        await this.loadProjects();\n        // await this.loadWarehouses()\n        // await this.loadEmployeeCenter();\n        await this.loadStockCount('Stock Count');\n    },\n    computed: {\n        hiddenButton() {\n            if (this.$route.query.type == \"edit\") {\n                return true;\n            } else {\n                return false;\n            }\n        },\n    },\n};\n</script>\n\n<style scoped>\n.small_sidebar {\n    height: 95%;\n    position: relative;\n    padding: 12px;\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: 0.5s ease-in;\n    flex: 0 0 0;\n    padding: 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> tbody\n> tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n\n.detial_smallside_p {\n    /*position: absolute;*/\n    bottom: 10px;\n}\n</style>\n"],"sourceRoot":"src/views/products/product/inventory_adjustment"}]}