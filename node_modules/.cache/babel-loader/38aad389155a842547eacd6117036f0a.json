{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/customers/SaleQuote.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/customers/SaleQuote.vue","mtime":1642155812659},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1jb21tZXJjZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKdmFyIF9kZWZhdWx0SXRlbTsKCmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnBhZC1zdGFydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIGltcG9ydCBMb2FkaW5nTWUgZnJvbSAnQC9jb21wb25lbnRzL0xvYWRpbmcnCmltcG9ydCB7IGkxOG4gfSBmcm9tICJAL2kxOG4iOwppbXBvcnQgRGF0ZVBpY2tlckNvbXBvbmVudCBmcm9tICJAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9EYXRlUGlja2VyQ29tcG9uZW50IjsKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CmltcG9ydCB7IERyb3BEb3duTGlzdCB9IGZyb20gIkBwcm9ncmVzcy9rZW5kby12dWUtZHJvcGRvd25zIjsKaW1wb3J0IFNhbGVGb3JtQ29udGVudE1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9TYWxlRm9ybUNvbnRlbnQiOwppbXBvcnQgSXRlbUxpbmVNb2RlbCBmcm9tICJAL3NjcmlwdHMvaW52b2ljZS9tb2RlbC9JdGVtTGluZSI7CmltcG9ydCB7IHV1aWQgfSBmcm9tICJ2dWUtdXVpZCI7CmltcG9ydCBUcmFuc2FjdGlvbk1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9UcmFuc2FjdGlvbiI7Ci8qIFN0b3JlICovCgppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CnZhciBpbnN0aXR1dGUgPSBzdG9yZS5zdGF0ZS5pbnN0aXR1dGUuaW5zdGl0dXRlOwppbXBvcnQgeyBTaG93UmVzb3VyY2UgfSBmcm9tICJAL29ic2VydmFibGUvc3RvcmUiOwppbXBvcnQgcGF5bWVudFRlcm1IYW5kbGVyXyBmcm9tICJAL3NjcmlwdHMvcGF5bWVudHRlcm0vaGFuZGxlci9wYXltZW50VGVybUhhbmRsZXIiOwppbXBvcnQgY3JlZGl0TGltaXRIYW5kbGVyIGZyb20gIkAvc2NyaXB0cy9jcmVkaXRMaW1pdC9oYW5kbGVyL2NyZWRpdExpbWl0SGFuZGxlciI7IC8vLy9oYW5kbGVyCgp2YXIgdHJhbnNhY3Rpb25IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3RyYW5zYWN0aW9uSGFuZGxlciIpOwoKdmFyIGJpbGxpbmdIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2ludm9pY2UvaGFuZGxlci9iaWxsaW5nSGFuZGxlciIpOwoKdmFyIGN1c3RvbWVySGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jdXN0b21lckhhbmRsZXIiKTsKCnZhciBwcm9qZWN0SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcm9qZWN0SGFuZGxlciIpOwoKdmFyIHByZWZpeEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJlZml4SGFuZGxlciIpOwoKdmFyIHBheW1lbnRUZXJtSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wYXltZW50VGVybUhhbmRsZXIiKTsKCnZhciBwcmljZUxldmVsSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcmljZUxldmVsSGFuZGxlciIpOwoKdmFyIHNhbGVGb3JtQ29udGVudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2FsZUZvcm1Db250ZW50SGFuZGxlciIpOwoKdmFyIGVtcGxveWVlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9lbXBsb3llZUhhbmRsZXIiKTsKCnZhciBpdGVtTW9kaWZpZXJIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2l0ZW1Nb2RpZmllckhhbmRsZXIiKTsKCnZhciBkaXNjb3VudEl0ZW1IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2Rpc2NvdW50SXRlbUhhbmRsZXIiKTsKCnZhciB1b21QcmljZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvdW9tUHJpY2VIYW5kbGVyIik7Cgp2YXIgcHJvZHVjdFZhcmlhbnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3Byb2R1Y3RWYXJpYW50SGFuZGxlciIpOwoKdmFyIG90aGVyQ2hhcmdlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9vdGhlckNoYXJnZUhhbmRsZXIiKTsKCnZhciBsb2NhdGlvbkhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvbG9jYXRpb25IYW5kbGVyIik7Cgp2YXIgc2V0dGluZ3NIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NldHRpbmdzSGFuZGxlciIpOwoKdmFyIHNhbGVDaGFubmVsSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zYWxlQ2hhbm5lbEhhbmRsZXIiKTsKCnZhciBzYWxlVW5pdEl0ZW1IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NhbGVVbml0SXRlbUhhbmRsZXIiKTsKCnZhciBzZXR0aW5nSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zZXR0aW5nSGFuZGxlciIpOwoKdmFyIGNhdGFsb2dIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2NhdGFsb2dIYW5kbGVyIik7Cgp2YXIgcHJvZHVjdEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJvZHVjdEhhbmRsZXIiKTsKCnZhciBjdXJyZW5jeUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY3VycmVuY3kvaGFuZGxlci9jdXJyZW5jeUhhbmRsZXIiKTsKCnZhciBzYWxlRm9ybUNvbnRlbnRNb2RlbCA9IG5ldyBTYWxlRm9ybUNvbnRlbnRNb2RlbCh7fSk7CnZhciBpdGVtTGluZU1vZGVsID0gbmV3IEl0ZW1MaW5lTW9kZWwoe30pOyAvL290aGVyCgp2YXIgJCA9IGtlbmRvLmpRdWVyeTsKdmFyIHRleHRGaWVsZCA9ICJudW1iZXJOYW1lIjsKdmFyIGtleUZpZWxkID0gImlkIjsKdmFyIGRlZmF1bHRJdGVtID0gKF9kZWZhdWx0SXRlbSA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2RlZmF1bHRJdGVtLCB0ZXh0RmllbGQsICJTZWxlY3QgY3VzdG9tZXIuLi4iKSwgX2RlZmluZVByb3BlcnR5KF9kZWZhdWx0SXRlbSwga2V5RmllbGQsIG51bGwpLCBfZGVmYXVsdEl0ZW0pOwoKdmFyIGVtcHR5SXRlbSA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgdGV4dEZpZWxkLCAibG9hZGluZyAuLi4iKTsKCnZhciBpbnZvaWNlUHJlZml4ID0gImxpbi0iOwp2YXIgRElTQ09VTlRfVFlQRSA9ICI/dHlwZT1TYWxlIjsKCnZhciBjb29raWVKUyA9IHJlcXVpcmUoIkAvY29va2llLmpzIik7Cgp2YXIgY29va2llID0gY29va2llSlMuZ2V0Q29va2llKCk7Cgp2YXIgX3JlcXVpcmUgPSByZXF1aXJlKCJAL29ic2VydmFibGUvc3RvcmUiKSwKICAgIGRhdGFTdG9yZSA9IF9yZXF1aXJlLmRhdGFTdG9yZTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2FsZVF1b3RlIiwKICBwcm9wczogewogICAgaWQ6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgaW5pdFNhbGVRdW90ZTogewogICAgICB0eXBlOiBUcmFuc2FjdGlvbk1vZGVsCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nTWU6IGZ1bmN0aW9uIExvYWRpbmdNZSgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL0xvYWRpbmciKTsKICAgIH0sCiAgICAiYXBwLWRhdGVwaWNrZXIiOiBEYXRlUGlja2VyQ29tcG9uZW50LAogICAgZHJvcGRvd25saXN0OiBEcm9wRG93bkxpc3QsCiAgICAiYXBwLW1vbnRob2YtcGlja2VyIjogZnVuY3Rpb24gYXBwTW9udGhvZlBpY2tlcigpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL2tlbmRvX3RlbXBsYXRlcy9Nb250aE9mUGlja2VyIik7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdHJhbnNhY3Rpb246IG5ldyBUcmFuc2FjdGlvbk1vZGVsKCksCiAgICAgIGlzRWRpdDogZmFsc2UsCiAgICAgIG51bVNlbGVjdDogWzFdLAogICAgICBkaWFsb2dUYXg6IGZhbHNlLAogICAgICAvL0NhdGFsb2cKICAgICAgZGlhbG9nQ2F0YWxvZzogZmFsc2UsCiAgICAgIGdyaWRTY2hlbWE6IHsKICAgICAgICBtb2RlbDogewogICAgICAgICAgaWQ6ICJpZCIKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNhdGFsb2dzOiBbXSwKICAgICAgaW1nVVJMOiAiaHR0cHM6Ly9zMy1hcC1zb3V0aGVhc3QtMS5hbWF6b25hd3MuY29tL2ltYWdlcy5iYW5oamkvIiwKICAgICAgLy8gTG9hZGluZ01lCiAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgbG9hZGluZ0FsZXJ0OiBmYWxzZSwKICAgICAgbG9hZGluZ0NvbG9yQWxlcnQ6ICIiLAogICAgICBsb2FkaW5nVGV4dEFsZXJ0OiAiIiwKICAgICAgYmlsbF9kYXRlOiAiIiwKICAgICAgYWxlcnQ6IGZhbHNlLAogICAgICBmaWxlczogW10sCiAgICAgIGVycm9yczogW10sCiAgICAgIC8vIEZvcm0gdmFsaWRhdGlvbgogICAgICB2YWxpZDogdHJ1ZSwKICAgICAgdGVtcGxhdGVzOiBbewogICAgICAgIHRpdGxlOiAiRHJhZnQiCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIk9wZW4iCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIlBhcnRpYWxseSBDbG9zZWQiCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIkNsb3NlZCIKICAgICAgfV0sCiAgICAgIGNvbF9leHBhbmQ6IDksCiAgICAgIGNvbF9oaWRlOiAzLAogICAgICBpc0hpZGVCYXI6IGZhbHNlLAogICAgICBmaWx0ZXI6ICIiLAogICAgICB0ZXh0RmllbGQ6ICJudW1iZXJOYW1lIiwKICAgICAgZGF0YUl0ZW1LZXk6ICJpZCIsCiAgICAgIGRlZmF1bHRJdGVtOiBkZWZhdWx0SXRlbSwKICAgICAgbU90aGVyQ2hhcmdlOiBbXSwKICAgICAgLy9pdGVtCiAgICAgIGl0ZW1MaW5lczogW10sCiAgICAgIGl0ZW1MaW5lOiBpdGVtTGluZU1vZGVsLAogICAgICBkYXRlRm9ybWF0OiBpdGVtTGluZU1vZGVsLmRhdGVGb3JtYXQsCiAgICAgIC8vY3VzdG9tZXIKICAgICAgY3VzQmFzZVVybDogY3VzdG9tZXJIYW5kbGVyLnNlYXJjaHYxKCksCiAgICAgIGVtcEJhc2VVcmw6IGVtcGxveWVlSGFuZGxlci5zZWFyY2goKSwKICAgICAgY3VzdG9tZXI6IHt9LAogICAgICBjdXN0b21lckxpc3Q6IFtdLAogICAgICBiaWxsaW5nQWRkcmVzczogW10sCiAgICAgIGRlbGl2ZXJ5QWRkcmVzczogW10sCiAgICAgIHByaWNlTGV2ZWw6IFtdLAogICAgICAvL2RhdGUKICAgICAgcGF5bWVudFRlcm1zOiBbXSwKICAgICAgdHJhbnNhY3Rpb25zOiBbXSwKICAgICAgZW1wbG95ZWVzOiBbXSwKICAgICAgbUVtcGxveWVlOiB7fSwKICAgICAgc2FsZUNoYW5uZWxMaXN0OiBbXSwKICAgICAgbG9jYXRpb25zOiBbXSwKICAgICAgY3VzdG9tZXJQcm9qZWN0czogW10sCiAgICAgIHNlZ21lbnRzOiBbXSwKICAgICAgdHJhbnNhY3Rpb25UeXBlOiB7fSwKICAgICAgdGF4TGlzdFRvdGFsOiB7fSwKICAgICAgY3VzdG9tZXJEaXNjb3VudEl0ZW06IFtdLAogICAgICBjdXN0b21lclNhbGVVbml0OiBbXSwKICAgICAgc2FsZUZvcm1Db250ZW50OiBzYWxlRm9ybUNvbnRlbnRNb2RlbCwKICAgICAgdHJhbnNhY3Rpb25EYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwKICAgICAgZGVsaXZlcnlEYXRlVGltZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICAgIHZhbGlkaXR5RGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICAgIHNwZWNpZmljRGlzY291bnRJdGVtOiBbXSwKICAgICAgb3RoZXJDaGFyZ2VMaXN0OiBbXSwKICAgICAgc2FsZVVuaXRJdGVtTGlzdDogW10sCiAgICAgIG90aGVyVGF4OiBbXSwKICAgICAgc3BlY2lmaWNUYXg6IFtdLAogICAgICBwdWJsaWNMaWdodGluZ1RheDogW10sCiAgICAgIHZhdFRheDogW10sCiAgICAgIHRheDogW10sCiAgICAgIGxvZ2dlZFVzZXI6IHsKICAgICAgICBpZDogY29va2llLmNyZWF0b3IsCiAgICAgICAgbmFtZTogY29va2llLmVtYWlsCiAgICAgIH0sCiAgICAgIGxlYWRzOiBbXSwKICAgICAgbW9udGhPZjogJycsCiAgICAgIGlzU2F2ZU5ldzogZmFsc2UsCiAgICAgIGlzU2F2ZUNsb3NlOiBmYWxzZSwKICAgICAgaXNTYXZlUHJpbnQ6IGZhbHNlLAogICAgICBpc1NhdmVEcmFmdDogZmFsc2UsCiAgICAgIGV4Y2hhbmdlUmF0ZToge30sCiAgICAgIGJhc2VDdXJyZW5jeUNvZGU6ICIiLAogICAgICBjdXJyZW5jeUNvZGU6ICIiLAogICAgICB0cmFuc2FjdGlvblJhdGU6IDEsCiAgICAgIHNhdmVPcHRpb246ICIiLAogICAgICBzY2hlbWFNb2RlbEZpZWxkczogewogICAgICAgIHVvbTogewogICAgICAgICAgdmFsaWRhdGlvbjogewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcHJpY2U6IHsKICAgICAgICAgIHZhbGlkYXRpb246IHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGlzUHJpY2VMZXZlbENoYW5nZWQ6IGZhbHNlLAogICAgICB0ZW1wbGF0ZXNGb3JtOiBbewogICAgICAgIGlkOiAxLAogICAgICAgIHR5cGU6ICJTYWxlIFF1b3RlIiwKICAgICAgICBuYW1lOiAiU2FsZSBRdW90ZSIKICAgICAgfV0sCiAgICAgIHRlbXBsYXRlOiAwLAogICAgICBidG5EaXNhYmxlZDogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBDaG9zZVRlbXBsYXRlOiBmdW5jdGlvbiBDaG9zZVRlbXBsYXRlKGkpIHsKICAgICAgdGhpcy50ZW1wbGF0ZSA9IGk7CiAgICB9LAogICAgbG9hZEVtcGxveWVlQ2VudGVyOiBmdW5jdGlvbiBsb2FkRW1wbG95ZWVDZW50ZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1wbG95ZWVzID0gW107CiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVIYW5kbGVyLmNlbnRlcih1bmRlZmluZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJhbnNhY3Rpb24uZW1wbG95ZWUgPSB7fTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVtcGxveWVlcyA9IFtdOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1wbG95ZWVzID0gcmVzLmRhdGEuZGF0YTsgLy8gaWYgKHRoaXMuZW1wbG95ZWVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMudHJhbnNhY3Rpb24uZW1wbG95ZWUgPSB0aGlzLmVtcGxveWVlc1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG51bWJlckVkaXRvcjogZnVuY3Rpb24gbnVtYmVyRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBkYXRhLWJpbmQ9InZhbHVlOicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9OdW1lcmljVGV4dEJveCh7CiAgICAgICAgZGVjaW1hbHM6IDMwLAogICAgICAgIG1pbjogMC4wMDAxLAogICAgICAgIGZvcm1hdDogIiIuY29uY2F0KHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwpCiAgICAgIH0pOwogICAgfSwKICAgIGFtb3VudEZvcm1hdDogZnVuY3Rpb24gYW1vdW50Rm9ybWF0KHZhbHVlKSB7CiAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyh2YWx1ZS5hbW91bnQsICJuIi5jb25jYXQodGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbCkpOwogICAgfSwKICAgIHByaWNlRm9ybWF0OiBmdW5jdGlvbiBwcmljZUZvcm1hdCh2YWx1ZSkgewogICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcodmFsdWUucHJpY2UsICJuIi5jb25jYXQodGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbCkpOwogICAgfSwKICAgIEhlbHA6IGZ1bmN0aW9uIEhlbHAoa2V5X3NlYXJjaCkgewogICAgICBTaG93UmVzb3VyY2Uoa2V5X3NlYXJjaCk7CiAgICB9LAogICAgaW5pdGlhbERhdGE6IGZ1bmN0aW9uIGluaXRpYWxEYXRhKCkgewogICAgICBpZiAodGhpcy5pbml0U2FsZVF1b3RlKSB7CiAgICAgICAgLy8gRWRpdCBNb2RlCiAgICAgICAgdGhpcy50cmFuc2FjdGlvbiA9IHRoaXMuaW5pdFNhbGVRdW90ZTsKICAgICAgICB0aGlzLmJpbmREYXRhKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gQnJhbmQgTmV3IE1vZGUKICAgICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdERhdGEoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5sb2FkVmlld1NhbGVRdW90ZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNldERlZmF1bHREYXRhOiBmdW5jdGlvbiBzZXREZWZhdWx0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyBCcmFuZCBOZXcgTW9kZQogICAgICB0aGlzLmlzRWRpdCA9IGZhbHNlOyAvL3NldCBkZWZhdWx0IHNlZ21lbnQKICAgICAgLy8gbGV0IHMgPSB7fTsKICAgICAgLy8gaWYgKHRoaXMuc2VnbWVudHMubGVuZ3RoID4gMCkgewogICAgICAvLyAgICAgcyA9IHRoaXMuc2VnbWVudHNbMF07CiAgICAgIC8vIH0KICAgICAgLy8gLy9zZXQgZGVmYXVsdCBsb2NhdGlvbgogICAgICAvLyBsZXQgbCA9IHt9OwogICAgICAvLyBpZiAodGhpcy5sb2NhdGlvbnMubGVuZ3RoID4gMCkgewogICAgICAvLyAgICAgbCA9IHRoaXMubG9jYXRpb25zWzBdOwogICAgICAvLyB9CiAgICAgIC8vIC8vc2V0IGRlZmF1bHQgZW1wbG95ZWUKICAgICAgLy8gbGV0IGUgPSB7fTsKICAgICAgLy8gaWYgKHRoaXMuZW1wbG95ZWVzLmxlbmd0aCA+IDApIHsKICAgICAgLy8gICAgIGUgPSB0aGlzLmVtcGxveWVlc1swXTsKICAgICAgLy8gfQogICAgICAvLyAvL3RyYW5zYWN0aW9uIHR5cGUKICAgICAgLy8gbGV0IHR0ID0ge307CiAgICAgIC8vIGlmICh0aGlzLnRyYW5zYWN0aW9uVHlwZS5sZW5ndGggPiAwKSB7CiAgICAgIC8vICAgICB0dCA9IHRoaXMudHJhbnNhY3Rpb25UeXBlWzBdOwogICAgICAvLyB9CiAgICAgIC8vIC8vcGF5bWVudCB0ZXJtCiAgICAgIC8vIGxldCBwID0ge307CiAgICAgIC8vIGlmICh0aGlzLnBheW1lbnRUZXJtcy5sZW5ndGggPiAwKSB7CiAgICAgIC8vICAgICBwID0gdGhpcy5wYXltZW50VGVybXNbMF07CiAgICAgIC8vIH0KICAgICAgLy8gLy9wcmljZSBsZXZlbAogICAgICAvLyBsZXQgcGwgPSB7fTsKICAgICAgLy8gaWYgKHRoaXMucHJpY2VMZXZlbC5sZW5ndGggPiAwKSB7CiAgICAgIC8vICAgICBwbCA9IHRoaXMucHJpY2VMZXZlbFswXTsKICAgICAgLy8gfQogICAgICAvLyAvL3NhbGUgY2hhbmVsCiAgICAgIC8vIGxldCBzYyA9IHt9OwogICAgICAvLyBpZiAodGhpcy5zYWxlQ2hhbm5lbExpc3QubGVuZ3RoID4gMCkgewogICAgICAvLyAgICAgc2MgPSB0aGlzLnNhbGVDaGFubmVsTGlzdFswXTsKICAgICAgLy8gfQoKICAgICAgdGhpcy50cmFuc2FjdGlvbiA9IG5ldyBUcmFuc2FjdGlvbk1vZGVsKCk7IC8vIEdlbmVyYXRlIE51bWJlcgoKICAgICAgdGhpcy5pdGVtTGluZXMgPSBbXTsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5zYWxlUXVvdGVJdGVtTGluZURTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIGRzLmRhdGEoW10pOyAvLyBBZGQgMiBkZWZhdWx0IGxpbmVzCiAgICAgIC8vIHRoaXMucmVtb3ZlRW1wdHlMaW5lKCkKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIC8vIHRoaXMuYWRkUm93KCkKICAgICAgICBfdGhpczIuYWRkUm93KCk7CiAgICAgIH0sIDUwMCk7IC8vIHRoaXMubG9hZExlYWQoKTsKICAgICAgLy8gdGhpcy5sb2FkU2FsZUNoYW5uZWwoKTsKICAgICAgLy8gdGhpcy5sb2FkRW1wbG95ZWVDZW50ZXIoKQoKICAgICAgdGhpcy5vdGhlckNoYXJnZUxpc3QgPSBbXTsKICAgICAgdGhpcy5tT3RoZXJDaGFyZ2UgPSBbXTsKICAgICAgdGhpcy50YXhMaXN0VG90YWwgPSB7fTsKICAgICAgdGhpcy5tRW1wbG95ZWUgPSB7fTsgLy8gdGhpcy5sb2FkTGVhZCgpCgogICAgICB0aGlzLmxlYWRzID0gW107CiAgICB9LAogICAgYmluZERhdGE6IGZ1bmN0aW9uIGJpbmREYXRhKCkgewogICAgICAvLyBFZGl0IE1vZGUKICAgICAgdGhpcy5pc0VkaXQgPSB0cnVlOwogICAgICB0aGlzLmN1c3RvbWVyID0gdGhpcy50cmFuc2FjdGlvbi5jdXN0b21lcjsgLy8gdGhpcy5vbkNoYW5nZShlKQoKICAgICAgdGhpcy5iaWxsaW5nQWRkcmVzcyA9IHRoaXMudHJhbnNhY3Rpb24uY3VzdG9tZXIuYmlsbGluZ0FkZHJlc3M7CiAgICAgIHRoaXMuZGVsaXZlcnlBZGRyZXNzID0gdGhpcy50cmFuc2FjdGlvbi5jdXN0b21lci5kZWxpdmVyeUFkZHJlc3M7CiAgICAgIHRoaXMudGF4TGlzdFRvdGFsID0gdGhpcy50cmFuc2FjdGlvbi50YXhMaXN0VG90YWw7CiAgICAgIHRoaXMuaXRlbUxpbmVzID0gdGhpcy50cmFuc2FjdGlvbi5pdGVtTGluZXM7CiAgICAgIHRoaXMubU90aGVyQ2hhcmdlID0gdGhpcy50cmFuc2FjdGlvbi5vdGhlckNoYXJnZTsKICAgICAgdGhpcy5sb2FkUHJvamVjdEJ5Q3VzdG9tZXIoKTsKCiAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgdGhpcy5sb2FkQ3VzdG9tZXJCYWxhbmNlKHRoaXMuY3VzdG9tZXIuaWQpOwogICAgICB9CiAgICB9LAogICAgYWRkU2VsZWN0OiBmdW5jdGlvbiBhZGRTZWxlY3QoKSB7CiAgICAgIHZhciBhbW91bnRfbnVtID0gdGhpcy5udW1TZWxlY3QubGVuZ3RoOwogICAgICB2YXIgbnVtID0gdGhpcy5udW1TZWxlY3RbYW1vdW50X251bSAtIDFdOwogICAgICB2YXIgbmV3X251bSA9IG51bSArIDE7CiAgICAgIHZhciBsZW5naHRJdGVtID0gdGhpcy5zcGVjaWZpY0Rpc2NvdW50SXRlbS5sZW5ndGg7CgogICAgICBpZiAobmV3X251bSA8PSBsZW5naHRJdGVtKSB7CiAgICAgICAgdGhpcy5udW1TZWxlY3QucHVzaChuZXdfbnVtKTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZVNlbGVjdDogZnVuY3Rpb24gcmVtb3ZlU2VsZWN0KGluZGV4KSB7CiAgICAgIHRoaXMubnVtU2VsZWN0LnNwbGljZShpbmRleCwgMSk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyhpbmRleCwgdGhpcy5udW1TZWxlY3QpCiAgICAgIC8vIHRoaXMuc2VsZWN0RGlzY291bnQuc3BsaWNlKGluZGV4LDEpCiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygicmVtb3ZlIix0aGlzLnNlbGVjdERpc2NvdW50KQogICAgICAvLyB0aGlzLnNlbGVjdERpc2NvdW50ID0gdGhpcy5zZWxlY3REaXNjb3VudC5maWx0ZXIoaXRlbSA9PiAgaXRlbS5pZCAhPSB2YWwuaWQpOwogICAgfSwKICAgIGVycm9yTWVzc2FnZTogZnVuY3Rpb24gZXJyb3JNZXNzYWdlKCkge30sCiAgICBhY2NvdW50RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIGFjY291bnREcm9wRG93bkVkaXRvcigpIHt9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgdGl0bGU6IGkxOG4udCgibXNnX3RpdGxlX3dhcm5pbmciKSwKICAgICAgICB0ZXh0OiBpMThuLnQoIm1zZ19kaXNjYXJkIiksCiAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCJjYW5jZWwiKSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoImRpc2NhcmQiKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICBfdGhpczMuY2xlYXIoKTsKCiAgICAgICAgICBfdGhpczMuJHJvdXRlci5nbygtMSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoaWRlX3NtYWxsc2l0ZWJhcjogZnVuY3Rpb24gaGlkZV9zbWFsbHNpdGViYXIoKSB7CiAgICAgIHRoaXMuaXNIaWRlQmFyID0gIXRoaXMuaXNIaWRlQmFyOwogICAgfSwKICAgIC8vbnVtYmVyCiAgICBnZW5lcmF0ZU51bWJlcjogZnVuY3Rpb24gZ2VuZXJhdGVOdW1iZXIoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCdnZW5lcmF0ZU51bWJlcicpCiAgICAgIHZhciBkID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7CgogICAgICBpZiAodGhpcy50cmFuc2FjdGlvbi50cmFuc2FjdGlvbkRhdGUpIHsKICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2codGhpcy50cmFuc2FjdGlvbkRhdGUpCiAgICAgICAgZCA9IHRoaXMudHJhbnNhY3Rpb24udHJhbnNhY3Rpb25EYXRlOwogICAgICB9CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBhYmJyOiB0aGlzLnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uVHlwZS5hYmJyLAogICAgICAgIHN0cnVjdHVyZTogdGhpcy50cmFuc2FjdGlvbi50cmFuc2FjdGlvblR5cGUuc3RydWN0dXJlLAogICAgICAgIHByZWZpeFNlcGFyYXRvcjogdGhpcy50cmFuc2FjdGlvbi50cmFuc2FjdGlvblR5cGUucHJlZml4U2VwYXJhdG9yIHx8ICcnLAogICAgICAgIG51bWJlclNlcGFyYXRvcjogdGhpcy50cmFuc2FjdGlvbi50cmFuc2FjdGlvblR5cGUubnVtYmVyU2VwYXJhdG9yIHx8ICcnLAogICAgICAgIGZvcm1hdDogdGhpcy50cmFuc2FjdGlvbi50cmFuc2FjdGlvblR5cGUuZm9ybWF0IHx8IDUsCiAgICAgICAgc2VxdWNlbmNpbmc6IHRoaXMudHJhbnNhY3Rpb24udHJhbnNhY3Rpb25UeXBlLnNlcXVjZW5jaW5nLAogICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogZCwKICAgICAgICB0eXBlOiAiU2FsZSBRdW90ZSIKICAgICAgfTsKICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICBiaWxsaW5nSGFuZGxlci5sYXN0TnVtYmVyKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKICAgICAgICAgIHZhciBsYXN0TnVtYmVyID0gX3RoaXM0Lnplcm9QYWQocGFyc2VJbnQocmVzLmxhc3ROdW1iZXIpLCBfdGhpczQudHJhbnNhY3Rpb24udHJhbnNhY3Rpb25UeXBlLmZvcm1hdCk7CgogICAgICAgICAgdmFyIG51bWJlciA9IHJlcy5zdWZmaXggKyBfdGhpczQudHJhbnNhY3Rpb24udHJhbnNhY3Rpb25UeXBlLm51bWJlclNlcGFyYXRvciArIGxhc3ROdW1iZXI7CiAgICAgICAgICBfdGhpczQudHJhbnNhY3Rpb24ubnVtYmVyID0gbnVtYmVyOwogICAgICAgICAgX3RoaXM0LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzNC5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHplcm9QYWQ6IGZ1bmN0aW9uIHplcm9QYWQobnVtLCBwbGFjZXMpIHsKICAgICAgcmV0dXJuIFN0cmluZyhudW0pLnBhZFN0YXJ0KHBsYWNlcywgIjAiKTsKICAgIH0sCiAgICAvL2N1c3RvbWVyCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKGV2ZW50LCAnY3VzdG9tZXInKTsKICAgICAgdmFyIHZhbHVlID0gZXZlbnQudmFsdWU7CgogICAgICBpZiAodmFsdWUgJiYgdmFsdWVbdGV4dEZpZWxkXSA9PT0gZW1wdHlJdGVtW3RleHRGaWVsZF0pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuY3VzdG9tZXIgPSB2YWx1ZTsKICAgICAgdGhpcy50cmFuc2FjdGlvbi5jdXN0b21lciA9IHZhbHVlOyAvLyB0aGlzLmludm9pY2UgPSB2YWx1ZQoKICAgICAgd2luZG93LmNvbnNvbGUubG9nKHZhbHVlLCAnY3VzdG9tZXInKTsKICAgICAgdGhpcy50cmFuc2FjdGlvbi5wcmljZUxldmVsID0gdmFsdWUucHJpY2VMZXZlbCA/IHZhbHVlLnByaWNlTGV2ZWwgOiB7fTsKICAgICAgdGhpcy5iaWxsaW5nQWRkcmVzcyA9IHZhbHVlLmhhc093blByb3BlcnR5KCJiaWxsaW5nQWRkcmVzcyIpID8gdmFsdWUuYmlsbGluZ0FkZHJlc3MgOiBbXTsKICAgICAgdGhpcy5kZWxpdmVyeUFkZHJlc3MgPSB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgiZGVsaXZlcnlBZGRyZXNzIikgPyB2YWx1ZS5kZWxpdmVyeUFkZHJlc3MgOiBbXTsKCiAgICAgIGlmICh0aGlzLmJpbGxpbmdBZGRyZXNzLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLnRyYW5zYWN0aW9uLmJpbGxpbmdBZGRyZXNzID0gdGhpcy5iaWxsaW5nQWRkcmVzc1swXTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZGVsaXZlcnlBZGRyZXNzLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLnRyYW5zYWN0aW9uLmRlbGl2ZXJ5QWRkcmVzcyA9IHRoaXMuZGVsaXZlcnlBZGRyZXNzWzBdOwogICAgICB9CgogICAgICB0aGlzLm9uUXVvdGVEYXRlQ2hhbmdlZCgpOwogICAgICB0aGlzLmxvYWRQcm9qZWN0QnlDdXN0b21lcigpOwogICAgICB2YXIgcHJpY2VMZXZlbCA9IHZhbHVlLmhhc093blByb3BlcnR5KCJwcmljZUxldmVsIikgPyB2YWx1ZS5wcmljZUxldmVsIDoge307CiAgICAgIHZhciBiYXNlQ3VycmVuY3kgPSB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgiYmFzZUN1cnJlbmN5IikgPyB2YWx1ZS5iYXNlQ3VycmVuY3kgOiB7fTsKCiAgICAgIGlmIChiYXNlQ3VycmVuY3kuaGFzT3duUHJvcGVydHkoImNvZGUiKSkgewogICAgICAgIHRoaXMuYmFzZUN1cnJlbmN5Q29kZSA9IGJhc2VDdXJyZW5jeS5jb2RlOwogICAgICB9CgogICAgICBpZiAocHJpY2VMZXZlbC5oYXNPd25Qcm9wZXJ0eSgiY3VycmVuY3kiKSkgewogICAgICAgIGlmIChwcmljZUxldmVsLmN1cnJlbmN5Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICB0aGlzLmxvYWRUcmFuc2FjdGlvblJhdGUoKTsKICAgICAgICB9CiAgICAgIH0gLy8gY29uc3QgY3JlZGl0TGltaXQgPSB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgiY3JlZGl0TGltaXQiKQogICAgICAvLyAgICAgPyB2YWx1ZS5jcmVkaXRMaW1pdAogICAgICAvLyAgICAgOiAwOwogICAgICAvLyB0aGlzLnRyYW5zYWN0aW9uLmNyZWRpdExpbWl0ID0ga2VuZG8ucGFyc2VGbG9hdChjcmVkaXRMaW1pdCk7CiAgICAgIC8vIHRoaXMubG9hZEN1c3RvbWVyQmFsYW5jZSh0aGlzLmN1c3RvbWVyLmlkKTsKICAgICAgLy8gdGhpcy5sb2FkUGF5bWVudFRlcm1MaXN0KCk7CiAgICAgIC8vIHRoaXMubG9hZENyZWRpdExpbWl0KCk7CgogICAgfSwKICAgIG9uRmlsdGVyQ2hhbmdlOiBmdW5jdGlvbiBvbkZpbHRlckNoYW5nZShldmVudCkgewogICAgICB2YXIgZmlsdGVyID0gZXZlbnQuZmlsdGVyLnZhbHVlOwogICAgICB0aGlzLnJlcXVlc3REYXRhKDAsIGZpbHRlciwgdGhpcy5jdXNCYXNlVXJsKTsKICAgICAgdGhpcy5maWx0ZXIgPSBmaWx0ZXI7CiAgICB9LAogICAgcmVxdWVzdERhdGE6IGZ1bmN0aW9uIHJlcXVlc3REYXRhKHNraXAsIGZpbHRlciwgYmFzZVVybCkgewogICAgICB2YXIgdXJsID0gYmFzZVVybCArICI/ZmlsdGVyPSIuY29uY2F0KGZpbHRlcik7CiAgICAgIHRoaXMucmVxdWVzdFN0YXJ0ZWQgPSB0cnVlOwogICAgICBmZXRjaCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgfSkudGhlbih0aGlzLmFmdGVyRmV0Y2gpOwogICAgfSwKICAgIHJlcXVlc3REYXRhXzogZnVuY3Rpb24gcmVxdWVzdERhdGFfKHNraXAsIGZpbHRlciwgYmFzZVVybCkgewogICAgICB2YXIgdXJsID0gYmFzZVVybCArICIvIi5jb25jYXQoZmlsdGVyKTsKICAgICAgdGhpcy5yZXF1ZXN0U3RhcnRlZCA9IHRydWU7CiAgICAgIGZldGNoKHVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICB9KS50aGVuKHRoaXMuYWZ0ZXJGZXRjaF8pOwogICAgfSwKICAgIGFmdGVyRmV0Y2hfOiBmdW5jdGlvbiBhZnRlckZldGNoXyhqc29uKSB7CiAgICAgIHRoaXMuZW1wbG95ZWVzID0ganNvbi5kYXRhOwogICAgfSwKICAgIGFmdGVyRmV0Y2g6IGZ1bmN0aW9uIGFmdGVyRmV0Y2goanNvbikgewogICAgICB0aGlzLmN1c3RvbWVyTGlzdCA9IGpzb24uZGF0YTsKICAgIH0sCiAgICByZW1vdmVSb3c6IGZ1bmN0aW9uIHJlbW92ZVJvdyhlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkSXRlbUxpbmVTYWxlUXVvdGUiKS5kYXRhKCJrZW5kb0dyaWQiKSwKICAgICAgICAgIGRhdGFTb3VyY2UgPSBncmlkLmRhdGFTb3VyY2UsCiAgICAgICAgICBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwoKICAgICAgaWYgKGRhdGFTb3VyY2UudG90YWwoKSA+IDEpIHsKICAgICAgICBkYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7CiAgICAgIH0KCiAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgfSwKICAgIC8vZGF0ZQogICAgb25RdW90ZURhdGVDaGFuZ2VkOiBmdW5jdGlvbiBvblF1b3RlRGF0ZUNoYW5nZWQoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHBheW1lbnRUZXJtLCBuZXREdWUsIHNvbWVEYXRlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LnRyYW5zYWN0aW9uKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS50cmFuc2FjdGlvbi5tb250aE9mID0gbmV3IERhdGUoX3RoaXM1LnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uRGF0ZSkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgNyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5sb2FkUGF5bWVudFRlcm1MaXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUubG9hZENyZWRpdExpbWl0KCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUubG9hZEN1c3RvbWVyQmFsYW5jZShfdGhpczUuY3VzdG9tZXIuaWQpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1Lm9uUHJpY2VMZXZlbENoYW5nZSgpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LmN1c3RvbWVyKSB7CiAgICAgICAgICAgICAgICAgIHBheW1lbnRUZXJtID0gX3RoaXM1LmN1c3RvbWVyLnBheW1lbnRUZXJtIHx8IHt9OwogICAgICAgICAgICAgICAgICBuZXREdWUgPSBwYXltZW50VGVybS5uZXREdWU7CiAgICAgICAgICAgICAgICAgIHNvbWVEYXRlID0gbmV3IERhdGUoX3RoaXM1LnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgICAgICAgICAgIHNvbWVEYXRlLnNldERhdGUoc29tZURhdGUuZ2V0RGF0ZSgpICsgcGFyc2VJbnQobmV0RHVlKSk7IC8vbnVtYmVyICBvZiBkYXlzIHRvIGFkZCwgZS54LiAxNSBkYXlzCiAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyhzb21lRGF0ZSwgJ3RoaXMudHJhbnNhY3Rpb24udmFsaWRpdHlEYXRlICcpCiAgICAgICAgICAgICAgICAgIC8vIHRoaXMudHJhbnNhY3Rpb24udmFsaWRpdHlEYXRlID0gc29tZURhdGUudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygib25RdW90ZURhdGVDaGFuZ2VkIik7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5nZW5lcmF0ZU51bWJlcigpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy9lbXBsb3llZQogICAgb25FbXBsb3llZUNoYW5nZWQ6IGZ1bmN0aW9uIG9uRW1wbG95ZWVDaGFuZ2VkKGV2ZW50KSB7CiAgICAgIHZhciB2YWx1ZSA9IGV2ZW50LnZhbHVlOwoKICAgICAgaWYgKHZhbHVlICYmIHZhbHVlW3RleHRGaWVsZF0gPT09IGVtcHR5SXRlbVt0ZXh0RmllbGRdKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLm1FbXBsb3llZSA9IHZhbHVlOwogICAgICB0aGlzLnRyYW5zYWN0aW9uLmVtcGxveWVlID0gdmFsdWU7CiAgICB9LAogICAgb25FbXBsb3llZUZpbHRlckNoYW5nZWQ6IGZ1bmN0aW9uIG9uRW1wbG95ZWVGaWx0ZXJDaGFuZ2VkKGV2ZW50KSB7CiAgICAgIHZhciBmaWx0ZXIgPSBldmVudC5maWx0ZXIudmFsdWU7CiAgICAgIHRoaXMucmVxdWVzdERhdGFfKDAsIGZpbHRlciwgdGhpcy5lbXBCYXNlVXJsKTsKICAgICAgdGhpcy5maWx0ZXJfID0gZmlsdGVyOwogICAgfSwKICAgIG9uUGF5bWVudFRlcm1DaGFuZ2VkOiBmdW5jdGlvbiBvblBheW1lbnRUZXJtQ2hhbmdlZCgpIHsKICAgICAgaWYgKHRoaXMuY3VzdG9tZXIpIHsKICAgICAgICB2YXIgcGF5bWVudFRlcm0gPSB0aGlzLnRyYW5zYWN0aW9uLnBheW1lbnRUZXJtIHx8IHt9OwogICAgICAgIHZhciBuZXREdWUgPSBwYXltZW50VGVybS5uZXREdWUgfHwgMDsKICAgICAgICB2YXIgc29tZURhdGUgPSBuZXcgRGF0ZSh0aGlzLnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgc29tZURhdGUuc2V0RGF0ZShzb21lRGF0ZS5nZXREYXRlKCkgKyBwYXJzZUludChuZXREdWUpKTsgLy9udW1iZXIgIG9mIGRheXMgdG8gYWRkLCBlLnguIDE1IGRheXMKICAgICAgICAvLyB0aGlzLnRyYW5zYWN0aW9uLnZhbGlkaXR5RGF0ZSA9IHNvbWVEYXRlLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKQogICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygiaW0iLCBzb21lRGF0ZSwgbmV0RHVlKTsKICAgICAgfSAvLyB0aGlzLm9uUXVvdGVEYXRlQ2hhbmdlZCgpOwoKICAgIH0sCiAgICAvL251bWJlcgogICAgbnVtYmVyRm9ybWF0OiBmdW5jdGlvbiBudW1iZXJGb3JtYXQodmFsdWUpIHsKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwsJ25pbW9sJykKICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKHZhbHVlLCAibiIuY29uY2F0KHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwpKTsgLy8gcmV0dXJuIHZhbHVlCiAgICB9LAogICAgLy8KICAgIGxvYWRMZWFkOiBmdW5jdGlvbiBsb2FkTGVhZCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3RyRmlsdGVyID0gIj90eXBlPVNhbGUgTGVhZCI7CiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIubGlzdChzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVhZCA9IHJlcy5kYXRhLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChvYmopIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iai5zdGF0dXMgIT0gMDsKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChsZWFkLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmxlYWRzID0gbGVhZDsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQYXltZW50VGVybTogZnVuY3Rpb24gbG9hZFBheW1lbnRUZXJtKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHBheW1lbnRUZXJtSGFuZGxlci5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnBheW1lbnRUZXJtcyA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNy5wYXltZW50VGVybXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM3LiRyb3V0ZS5wYXJhbXMuaWQgIT09IHVuZGVmaW5lZCB8fCBfdGhpczcuJHJvdXRlLnBhcmFtcy5pZCAhPSAiIikgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy50cmFuc2FjdGlvbi5wYXltZW50VGVybSA9IF90aGlzNy5wYXltZW50VGVybXNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uUHJpY2VMZXZlbENoYW5nZTogZnVuY3Rpb24gb25QcmljZUxldmVsQ2hhbmdlKCkgewogICAgICB0aGlzLmlzUHJpY2VMZXZlbENoYW5nZWQgPSB0cnVlOwogICAgICB0aGlzLmxvYWRUcmFuc2FjdGlvblJhdGUoKTsKICAgICAgdGhpcy5jbGVhclVPTUl0ZW0oKTsKICAgIH0sCiAgICBsb2FkUHJpY2VMZXZlbDogZnVuY3Rpb24gbG9hZFByaWNlTGV2ZWwoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9ICc/bmF0dXJlPXNhbGUnOwogICAgICAgICAgICAgICAgICAgIHByaWNlTGV2ZWxIYW5kbGVyLmdldChzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LnByaWNlTGV2ZWwgPSByZXM7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzOC5wcmljZUxldmVsLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzOC4kcm91dGUucGFyYW1zLmlkICE9PSB1bmRlZmluZWQgfHwgX3RoaXM4LiRyb3V0ZS5wYXJhbXMuaWQgIT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnRyYW5zYWN0aW9uLnByaWNlTGV2ZWwgPSB0aGlzLnByaWNlTGV2ZWxbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LmxvYWRUcmFuc2FjdGlvblJhdGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVtb3ZlRHVwbGljYXRlOiBmdW5jdGlvbiByZW1vdmVEdXBsaWNhdGUoYXJyYXkpIHsKICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICB2YXIgbWFwID0gbmV3IE1hcCgpOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFycmF5KSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBpZiAoIW1hcC5oYXMoaXRlbS5pZCkpIHsKICAgICAgICAgICAgbWFwLnNldChpdGVtLmlkLCB0cnVlKTsgLy8gc2V0IGFueSB2YWx1ZSB0byBNYXAKCiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVEaXNjb3VudDogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZURpc2NvdW50KGRpc2NvdW50SXRlbSwgc3ViVG90YWwpIHsKICAgICAgaWYgKGRpc2NvdW50SXRlbSkgewogICAgICAgIHZhciBuYXR1cmUgPSBkaXNjb3VudEl0ZW0ubmF0dXJlIHx8ICcnOwogICAgICAgIHZhciBhbW91bnQgPSBkaXNjb3VudEl0ZW0uYW1vdW50IHx8IDA7CgogICAgICAgIGlmIChuYXR1cmUgPT09ICdBbW91bnQnKSB7CiAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChhbW91bnQpOwogICAgICAgIH0gZWxzZSBpZiAobmF0dXJlID09PSAnUGVyY2VudGFnZScpIHsKICAgICAgICAgIHJldHVybiBzdWJUb3RhbCAqIChwYXJzZUZsb2F0KGFtb3VudCkgLyAxMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlVGF4OiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlVGF4KHRheCwgYW1vdW50KSB7CiAgICAgIGlmICh0YXgpIHsKICAgICAgICB2YXIgZm9ybXVsYSA9IHRheC5mb3JtdWxhOwogICAgICAgIHZhciBpbkFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB2YXIgbkFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB2YXIgdGF4QmFzZSA9IGtlbmRvLnBhcnNlRmxvYXQodGF4LnRheEJhc2UpIC8gMTAwOwogICAgICAgIHZhciByYXRlID0ga2VuZG8ucGFyc2VGbG9hdCh0YXgucmF0ZSkgLyAxMDA7CiAgICAgICAgdmFyIHRvdGFsID0gZXZhbChmb3JtdWxhKTsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coaW5BbXQsIG5BbXQsIHRheEJhc2UsIHJhdGUsIGZvcm11bGEsIHRvdGFsKTsgLy8gd2luZG93LmNvbnNvbGUubG9nKGFtb3VudCkKCiAgICAgICAgcmV0dXJuIHRvdGFsOwogICAgICB9IC8vIHJldHVybiAwCgogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVUYXhCeVR5cGU6IGZ1bmN0aW9uIGF1dG9DYWxjdWxhdGVUYXhCeVR5cGUodGF4KSB7CiAgICAgIC8vIHJldHVybiBieSBhIGtleQogICAgICB2YXIgZ3JvdXBBbGwgPSBmdW5jdGlvbiBncm91cEFsbChsaXN0KSB7CiAgICAgICAgcmV0dXJuIGxpc3QucmVkdWNlKGZ1bmN0aW9uICh0YXgsIGl0ZW0pIHsKICAgICAgICAgIHZhciB0YXhBbW91bnQgPSB0YXhbaXRlbS5uYW1lXSB8fCAwOwogICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRheCwgX2RlZmluZVByb3BlcnR5KHt9LCBpdGVtLm5hbWUsIHRheEFtb3VudCArIHBhcnNlRmxvYXQoaXRlbS5hbW91bnQpKSk7CiAgICAgICAgfSwge30pOwogICAgICB9OwoKICAgICAgdGhpcy50YXhMaXN0VG90YWwgPSBncm91cEFsbCh0YXgpOyAvLyB3aW5kb3cuY29uc29sZS5sb2coJ25pbW9sJywgZ3JvdXBBbGwodGF4KSkKICAgICAgLy8gdGhpcy4KICAgIH0sCiAgICB0YXhNYXBwaW5nOiBmdW5jdGlvbiB0YXhNYXBwaW5nKG9ialRheCwgdGF4KSB7CiAgICAgIHZhciB0YXhJZCA9IHRheC5pZCB8fCAnJzsKICAgICAgdmFyIHRheF8gPSBvYmpUYXguZmlsdGVyKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgcmV0dXJuIHQuaWQgPT09IHRheElkOwogICAgICB9KVswXTsKICAgICAgcmV0dXJuIHRheF8gfHwgewogICAgICAgIGlkOiAnJywKICAgICAgICBkZWZhdWx0VGF4OiAnJwogICAgICB9OwogICAgfSwKICAgIGRhdGFTb3VyY2VDaGFuZ2VkOiBmdW5jdGlvbiBkYXRhU291cmNlQ2hhbmdlZChlKSB7CiAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgdmFyIGRhdGFSb3cgPSBlLml0ZW1zWzBdLAogICAgICAgICAgICB2VGF4ID0ge30sCiAgICAgICAgICAgIHNwVGF4ID0ge30sCiAgICAgICAgICAgIG90VGF4ID0ge30sCiAgICAgICAgICAgIHBsVGF4ID0ge30sCiAgICAgICAgICAgIGJ1b20gPSB7fSwKICAgICAgICAgICAgY29udmVyc2lvblJhdGUgPSAxLAogICAgICAgICAgICB3YWMgPSAwLAogICAgICAgICAgICBxb2ggPSAwLAogICAgICAgICAgICBhbW91bnQgPSAwLAogICAgICAgICAgICB4QW1vdW50ID0gMDsKCiAgICAgICAgc3dpdGNoIChlLmZpZWxkKSB7CiAgICAgICAgICBjYXNlICJpdGVtIjoKICAgICAgICAgICAgLy8gdGhpcy5hdHRyaWJ1dGVfID0gdGhpcy5hdHRyaWJ1dGVzLmZpbHRlcihtID0+IG0udHlwZS5pZCA9PT0gZGF0YVJvdy52YXJpYW50LmlkKQogICAgICAgICAgICBkYXRhUm93LnNldCgiZGVzY3JpcHRpb24iLCBkYXRhUm93Lml0ZW0uZGVzY3JpcHRpb24pOwogICAgICAgICAgICBidW9tID0gZGF0YVJvdy5pdGVtLnVvbSB8fCB7fTsKICAgICAgICAgICAgZGF0YVJvdy5zZXQoImJ1b20iLCBidW9tKTsgLy8gZGF0YVJvdy5zZXQoJ3VvbScsIGJ1b20pCiAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyhkYXRhUm93Lml0ZW0sJ3JvdycpCiAgICAgICAgICAgIC8vIGF3YWl0IHRoaXMuaW52ZW50b3J5QmFsYW5jZShkYXRhUm93LCBkYXRhUm93Lml0ZW0uaWQpCgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJwcmljZSI6CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgYW1vdW50ID0gcGFyc2VGbG9hdChkYXRhUm93LnByaWNlKSAqIHBhcnNlRmxvYXQoZGF0YVJvdy5xdHkpOwogICAgICAgICAgICAgIHhBbW91bnQgPSBhbW91bnQgKiBwYXJzZUZsb2F0KHRoaXMudHJhbnNhY3Rpb24udHhuUmF0ZSk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInByaWNlIiwgcGFyc2VGbG9hdChkYXRhUm93LnByaWNlKSk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIGFtb3VudCk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlQW1vdW50IiwgeEFtb3VudCk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZygncHJpY2UnLGRhdGFSb3cucHJpY2UpCiAgICAgICAgICAgIH0gY2F0Y2ggKF91bnVzZWQpIHsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgicHJpY2UiLCAwKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgMCk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlQW1vdW50IiwgMCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgInVvbSI6CiAgICAgICAgICAgIGlmICh0aGlzLmlzUHJpY2VMZXZlbENoYW5nZWQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGJ1b20gPSBkYXRhUm93LnVvbS5idW9tIHx8IHt9OwogICAgICAgICAgICAgICAgcW9oID0gZGF0YVJvdy51b20ucW9oIHx8IDA7CiAgICAgICAgICAgICAgICBjb252ZXJzaW9uUmF0ZSA9IGRhdGFSb3cudW9tLmNvbnZlcnNpb25SYXRlIHx8IDE7CiAgICAgICAgICAgICAgICB3YWMgPSBkYXRhUm93LnVvbS53YWMgfHwgMDsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJidW9tIiwgYnVvbSk7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgid2FjIiwgd2FjKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJxb2giLCBxb2gpOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvbnZlcnNpb25SYXRlIiwgcGFyc2VGbG9hdChjb252ZXJzaW9uUmF0ZSkpOwogICAgICAgICAgICAgICAgLyogdG9kbzogbWFwcGluZyB0YXggb2JqZWN0ICovCgogICAgICAgICAgICAgICAgdlRheCA9IHRoaXMudGF4TWFwcGluZyh0aGlzLnZhdFRheCwgZGF0YVJvdy51b20udmF0VGF4IHx8IHt9KTsKICAgICAgICAgICAgICAgIG90VGF4ID0gdGhpcy50YXhNYXBwaW5nKHRoaXMub3RoZXJUYXgsIGRhdGFSb3cudW9tLm90aGVyVGF4IHx8IHt9KTsKICAgICAgICAgICAgICAgIHNwVGF4ID0gdGhpcy50YXhNYXBwaW5nKHRoaXMuc3BlY2lmaWNUYXgsIGRhdGFSb3cudW9tLnNwZWNpZmljVGF4IHx8IHt9KTsKICAgICAgICAgICAgICAgIHBsVGF4ID0gdGhpcy50YXhNYXBwaW5nKHRoaXMucHVibGljTGlnaHRpbmdUYXgsIGRhdGFSb3cudW9tLnB1YmxpY0xpZ2h0aW5nVGF4IHx8IHt9KTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJ2YXRUYXgiLCB2VGF4KTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJzcGVjaWZpY1RheCIsIG90VGF4KTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJvdGhlclRheCIsIHNwVGF4KTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJwdWJsaWNMaWdodGluZ1RheCIsIHBsVGF4KTsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YVJvdy51b20pIHsKICAgICAgICAgICAgICAgICAgYW1vdW50ID0gcGFyc2VGbG9hdChkYXRhUm93LnVvbS5wcmljZSkgKiBwYXJzZUZsb2F0KGRhdGFSb3cucXR5KTsKICAgICAgICAgICAgICAgICAgeEFtb3VudCA9IGFtb3VudCAqIHBhcnNlRmxvYXQodGhpcy50cmFuc2FjdGlvbi50eG5SYXRlKTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInByaWNlIiwgcGFyc2VGbG9hdChkYXRhUm93LnVvbS5wcmljZSkpOwogICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgYW1vdW50KTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlQW1vdW50IiwgeEFtb3VudCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBhbW91bnQgPSBwYXJzZUZsb2F0KGRhdGFSb3cucHJpY2UpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSk7CiAgICAgICAgICAgICAgICAgIHhBbW91bnQgPSBhbW91bnQgKiBwYXJzZUZsb2F0KHRoaXMudHJhbnNhY3Rpb24udHhuUmF0ZSk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJwcmljZSIsIHBhcnNlRmxvYXQoZGF0YVJvdy5wcmljZSkpOwogICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgYW1vdW50KTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlQW1vdW50IiwgeEFtb3VudCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coImVycm9yIiwgZXJyKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJidW9tIiwge30pOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvbnZlcnNpb25SYXRlIiwgMSk7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgicHJpY2UiLCAwKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJxb2giLCAwKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJ3YWMiLCAwKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCAwKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIDApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAicXR5IjoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBhbW91bnQgPSBwYXJzZUZsb2F0KGRhdGFSb3cucHJpY2UpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSk7CiAgICAgICAgICAgICAgeEFtb3VudCA9IGFtb3VudCAqIHBhcnNlRmxvYXQodGhpcy50cmFuc2FjdGlvbi50eG5SYXRlKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgicHJpY2UiLCBwYXJzZUZsb2F0KGRhdGFSb3cucHJpY2UpKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgYW1vdW50KTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZXhjaGFuZ2VBbW91bnQiLCB4QW1vdW50KTsKICAgICAgICAgICAgfSBjYXRjaCAoX3VudXNlZDIpIHsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgicHJpY2UiLCAwKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgMCk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlQW1vdW50IiwgMCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgIm90aGVyVGF4IjoKICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCItLSIsIGRhdGFSb3cpCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgaWYgKGUuZmllbGQpIHsKICAgICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIGl0ZW1DaGFuZ2UoZGF0YUl0ZW0pewogICAgLy8gICAgIHdpbmRvdy5jb25zb2xlLmxvZyhkYXRhSXRlbSkKICAgIC8vICAgICB0aGlzLmxvYWRVT01ieUl0ZW0oZGF0YUl0ZW0uaWQpCiAgICAvLyAgICAgLy8gdW9tUHJpY2VIYW5kbGVyLmdldFVSTChvcHRpb25zLm1vZGVsLml0ZW0uaWQsIHRoaXMucXVvdGUucHJpY2VMZXZlbC5pZCksCiAgICAvLyB9LAogICAgLy8gbG9hZFVPTWJ5SXRlbShpdGVtKSB7CiAgICAvLyAgICAgLy8gdW9tUHJpY2VIYW5kbGVyLmdldFVSTChpdGVtLCB0aGlzLnF1b3RlLnByaWNlTGV2ZWwuaWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgLy8gICAgIC8vICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgIC8vICAgICAvLyAgICAgICAgIGNvbnN0IHJlcyA9IHJlc3BvbnNlLmRhdGEuZGF0YQogICAgLy8gICAgIC8vICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlcyk7CiAgICAvLyAgICAgLy8gICAgICAgICAvLyBjb25zdCBsYXN0TnVtYmVyID0gdGhpcy56ZXJvUGFkKHBhcnNlSW50KHJlcy5sYXN0TnVtYmVyKSwgdGhpcy5xdW90ZS5wcmVmaXguZm9ybWF0KQogICAgLy8gICAgIC8vICAgICAgICAgLy8gY29uc3QgbnVtYmVyID0gcmVzLnN1ZmZpeCArIHRoaXMucXVvdGUucHJlZml4Lm51bWJlclNlcGFyYXRvciArIGxhc3ROdW1iZXIKICAgIC8vICAgICAvLyAgICAgICAgIC8vIHRoaXMucXVvdGUubnVtYmVyID0gbnVtYmVyCiAgICAvLyAgICAgLy8gICAgIH0KICAgIC8vICAgICAvLyB9KS5jYXRjaChlID0+IHsKICAgIC8vICAgICAvLyAgICAgdGhpcy5lcnJvcnMucHVzaChlKQogICAgLy8gICAgIC8vIH0pCiAgICAvLyAgICAgLy8gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAvLyAgICAgLy8gICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgLy8gICAgIC8vICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgIC8vICAgICAvLyAgICAgICAgIHVvbVByaWNlSGFuZGxlci5nZXRVUkwoaXRlbSwgdGhpcy5xdW90ZS5wcmljZUxldmVsLmlkKS50aGVuKHJlcyA9PiB7CiAgICAvLyAgICAgLy8gICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGEuZGF0YQogICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coZGF0YSk7CiAgICAvLyAgICAgLy8gICAgICAgICAgICAgfQogICAgLy8gICAgIC8vICAgICAgICAgfSkKICAgIC8vICAgICAvLyAgICAgfSwgMTApCiAgICAvLyAgICAgLy8gfSkKICAgIC8vIH0sCiAgICBhdXRvQ2FsY3VsYXRlOiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuc2FsZVF1b3RlSXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgc3ViVG90YWwgPSAwLAogICAgICAgICAgdG90YWxUYXggPSAwLAogICAgICAgICAgZGlzY291bnRUb3RhbCA9IDAsCiAgICAgICAgICBzcFRheCA9IDAsCiAgICAgICAgICBwbHRheCA9IDAsCiAgICAgICAgICBvdGhlclRheCA9IDAsCiAgICAgICAgICB2YXRUYXggPSAwLAogICAgICAgICAgZGlzY291bnRJbnZvaWNlID0gMCwKICAgICAgICAgIHRheExpc3QgPSBbXSwKICAgICAgICAgIGRpc2NvdW50SXRlbSA9IFtdLAogICAgICAgICAgc2FsZVVuaXQgPSBbXSwKICAgICAgICAgIGluY2x1c2l2ZVRheCA9IDAsCiAgICAgICAgICBpdGVtU3VidG90YWwgPSAwLAogICAgICAgICAgdHhuSXRtU3VidG90YWwgPSAwLAogICAgICAgICAgc2VydmljZVN1YnRvdGFsID0gMCwKICAgICAgICAgIGl0ZW1EaXNjb3VudCA9IDAsCiAgICAgICAgICBzZXJ2aWNlRGlzY291bnQgPSAwLAogICAgICAgICAgdHhuRGlzY291bnQgPSAwOwogICAgICB2YXIgcm93cyA9IGRzLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChtLmFtb3VudCkgPiAwOwogICAgICB9KTsKICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHZhciBtb2RpZmllclByaWNlID0gMDsKCiAgICAgICAgaWYgKHZhbHVlLm1vZGlmaWVyKSB7CiAgICAgICAgICBtb2RpZmllclByaWNlID0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5tb2RpZmllci5wcmljZSk7CiAgICAgICAgfSAvLyBzdWJUb3RhbCArPSAoa2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQpICsgbW9kaWZpZXJQcmljZSkKCgogICAgICAgIHZhciBkaXNjb3VudCA9IDA7CgogICAgICAgIGlmICh2YWx1ZS5kaXNjb3VudEl0ZW0pIHsKICAgICAgICAgIHZhciBzdWJUbyA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucHJpY2UpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdHkpOwogICAgICAgICAgZGlzY291bnQgPSBfdGhpczkuYXV0b0NhbGN1bGF0ZURpc2NvdW50KHZhbHVlLmRpc2NvdW50SXRlbSwgc3ViVG8pOwogICAgICAgICAgZGlzY291bnQgPSBfdGhpczkuYXV0b0NhbGN1bGF0ZURpc2NvdW50KHZhbHVlLmRpc2NvdW50SXRlbSwgc3ViVG8pOwogICAgICAgICAgdmFsdWVbImRpc2NvdW50QW1vdW50Il0gPSBkaXNjb3VudDsKICAgICAgICAgIHZhbHVlWyJkaXNjb3VudEV4Y2hhbmdlQW1vdW50Il0gPSBkaXNjb3VudCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM5LnRyYW5zYWN0aW9uLnR4blJhdGUpOwoKICAgICAgICAgIGlmICh2YWx1ZS5kaXNjb3VudEl0ZW0uaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgZGlzY291bnRJdGVtLnB1c2godmFsdWUuZGlzY291bnRJdGVtKTsKICAgICAgICAgIH0KCiAgICAgICAgICBkaXNjb3VudFRvdGFsICs9IGRpc2NvdW50OwogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlLnNhbGVVbml0KSB7CiAgICAgICAgICBpZiAodmFsdWUuc2FsZVVuaXQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgc2FsZVVuaXQucHVzaCh2YWx1ZS5zYWxlVW5pdCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUuc3BlY2lmaWNUYXgpIHsKICAgICAgICAgIHNwVGF4ID0gX3RoaXM5LmF1dG9DYWxjdWxhdGVUYXgodmFsdWUuc3BlY2lmaWNUYXgsIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSAtIGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnQpKTsgLy8gd2luZG93LmNvbnNvbGUubG9nKCdzcCAnLCBkaXNjb3VudCkKCiAgICAgICAgICBzcFRheCA9IGtlbmRvLnBhcnNlRmxvYXQoc3BUYXgpID8ga2VuZG8ucGFyc2VGbG9hdChzcFRheCkgOiAwOwogICAgICAgICAgdmFsdWVbInNwZWNpZmljVGF4QW1vdW50Il0gPSBzcFRheDsKICAgICAgICAgIHZhbHVlWyJzcGVjaWZpY1RheEV4Y2hhbmdlQW1vdW50Il0gPSBzcFRheCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM5LnRyYW5zYWN0aW9uLnR4blJhdGUpOwogICAgICAgICAgdmFyIHRheCA9IHZhbHVlLnNwZWNpZmljVGF4OwogICAgICAgICAgdmFyIGJhc2VBbW91bnQgPSB0YXguYmFzZUFtb3VudDsKCiAgICAgICAgICBpZiAoYmFzZUFtb3VudCkgewogICAgICAgICAgICBpZiAoYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSAiaW5jbHVzaXZlIikgewogICAgICAgICAgICAgIGluY2x1c2l2ZVRheCArPSBzcFRheDsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmICh2YWx1ZS5zcGVjaWZpY1RheC5oYXNPd25Qcm9wZXJ0eSgidGF4VHlwZSIpKSB7CiAgICAgICAgICAgIHRheExpc3QucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogdmFsdWUuc3BlY2lmaWNUYXgudGF4VHlwZS5uYW1lLAogICAgICAgICAgICAgIGFtb3VudDogc3BUYXgsCiAgICAgICAgICAgICAgaWQ6IHZhbHVlLnNwZWNpZmljVGF4LnRheFR5cGUuaWQKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUucHVibGljTGlnaHRpbmdUYXgpIHsKICAgICAgICAgIHBsdGF4ID0gX3RoaXM5LmF1dG9DYWxjdWxhdGVUYXgodmFsdWUucHVibGljTGlnaHRpbmdUYXgsIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSAtIGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnQpKTsKICAgICAgICAgIHBsdGF4ID0ga2VuZG8ucGFyc2VGbG9hdChwbHRheCkgPyBrZW5kby5wYXJzZUZsb2F0KHBsdGF4KSA6IDA7CiAgICAgICAgICB2YWx1ZVsicHVibGljTGlnaHRpbmdUYXhBbW91bnQiXSA9IHBsdGF4OwogICAgICAgICAgdmFsdWVbInB1YmxpY0xpZ2h0aW5nVGF4RXhjaGFuZ2VBbW91bnQiXSA9IHBsdGF4ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczkudHJhbnNhY3Rpb24udHhuUmF0ZSk7CiAgICAgICAgICB2YXIgX3RheCA9IHZhbHVlLnB1YmxpY0xpZ2h0aW5nVGF4OwogICAgICAgICAgdmFyIF9iYXNlQW1vdW50ID0gX3RheC5iYXNlQW1vdW50OwoKICAgICAgICAgIGlmIChfYmFzZUFtb3VudCkgewogICAgICAgICAgICBpZiAoX2Jhc2VBbW91bnQudG9Mb3dlckNhc2UoKSA9PT0gImluY2x1c2l2ZSIpIHsKICAgICAgICAgICAgICBpbmNsdXNpdmVUYXggKz0gcGx0YXg7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUucHVibGljTGlnaHRpbmdUYXguaGFzT3duUHJvcGVydHkoInRheFR5cGUiKSkgewogICAgICAgICAgICB0YXhMaXN0LnB1c2goewogICAgICAgICAgICAgIG5hbWU6IHZhbHVlLnB1YmxpY0xpZ2h0aW5nVGF4LnRheFR5cGUubmFtZSwKICAgICAgICAgICAgICBhbW91bnQ6IHBsdGF4LAogICAgICAgICAgICAgIGlkOiB2YWx1ZS5wdWJsaWNMaWdodGluZ1RheC50YXhUeXBlLmlkCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlLm90aGVyVGF4KSB7CiAgICAgICAgICBvdGhlclRheCA9IF90aGlzOS5hdXRvQ2FsY3VsYXRlVGF4KHZhbHVlLm90aGVyVGF4LCBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCkgLSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50KSk7CiAgICAgICAgICBvdGhlclRheCA9IGtlbmRvLnBhcnNlRmxvYXQob3RoZXJUYXgpID8ga2VuZG8ucGFyc2VGbG9hdChvdGhlclRheCkgOiAwOwogICAgICAgICAgdmFsdWVbIm90aGVyVGF4QW1vdW50Il0gPSBvdGhlclRheDsKICAgICAgICAgIHZhbHVlWyJvdGhlclRheEV4Y2hhbmdlQW1vdW50Il0gPSBvdGhlclRheCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM5LnRyYW5zYWN0aW9uLnR4blJhdGUpOwogICAgICAgICAgdmFyIF90YXgyID0gdmFsdWUucHVibGljTGlnaHRpbmdUYXg7CiAgICAgICAgICB2YXIgX2Jhc2VBbW91bnQyID0gX3RheDIuYmFzZUFtb3VudDsKCiAgICAgICAgICBpZiAoX2Jhc2VBbW91bnQyKSB7CiAgICAgICAgICAgIGlmIChfYmFzZUFtb3VudDIudG9Mb3dlckNhc2UoKSA9PT0gImluY2x1c2l2ZSIpIHsKICAgICAgICAgICAgICBpbmNsdXNpdmVUYXggKz0gb3RoZXJUYXg7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUub3RoZXJUYXguaGFzT3duUHJvcGVydHkoInRheFR5cGUiKSkgewogICAgICAgICAgICB0YXhMaXN0LnB1c2goewogICAgICAgICAgICAgIG5hbWU6IHZhbHVlLm90aGVyVGF4LnRheFR5cGUubmFtZSwKICAgICAgICAgICAgICBhbW91bnQ6IG90aGVyVGF4LAogICAgICAgICAgICAgIGlkOiB2YWx1ZS5vdGhlclRheC50YXhUeXBlLmlkCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlLnZhdFRheCkgewogICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCdWYXQgVGF4JywgdmFsdWUudmF0VGF4KQogICAgICAgICAgdmFyIGFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoc3BUYXggPyBzcFRheCA6IDApICsga2VuZG8ucGFyc2VGbG9hdChwbHRheCA/IHBsdGF4IDogMCkgKyBrZW5kby5wYXJzZUZsb2F0KG90aGVyVGF4ID8gb3RoZXJUYXggOiAwKSArIChrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCA/IHZhbHVlLmFtb3VudCA6IDApIC0gKGRpc2NvdW50ID8gZGlzY291bnQgOiAwKSk7CiAgICAgICAgICB2YXRUYXggPSBfdGhpczkuYXV0b0NhbGN1bGF0ZVRheCh2YWx1ZS52YXRUYXgsIGFtdCk7CiAgICAgICAgICB2YXRUYXggPSBrZW5kby5wYXJzZUZsb2F0KHZhdFRheCkgPyBrZW5kby5wYXJzZUZsb2F0KHZhdFRheCkgOiAwOwogICAgICAgICAgdmFsdWVbInZhdFRheEFtb3VudCJdID0gdmF0VGF4OwogICAgICAgICAgdmFsdWVbInZhdFRheEV4Y2hhbmdlQW1vdW50Il0gPSB2YXRUYXggKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzOS50cmFuc2FjdGlvbi50eG5SYXRlKTsKICAgICAgICAgIHZhciBfdGF4MyA9IHZhbHVlLnZhdFRheDsKICAgICAgICAgIHZhciBfYmFzZUFtb3VudDMgPSBfdGF4My5iYXNlQW1vdW50OwoKICAgICAgICAgIGlmIChfYmFzZUFtb3VudDMpIHsKICAgICAgICAgICAgaWYgKF9iYXNlQW1vdW50My50b0xvd2VyQ2FzZSgpID09PSAiaW5jbHVzaXZlIikgewogICAgICAgICAgICAgIGluY2x1c2l2ZVRheCArPSB2YXRUYXg7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUudmF0VGF4Lmhhc093blByb3BlcnR5KCJ0YXhUeXBlIikpIHsKICAgICAgICAgICAgdGF4TGlzdC5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiB2YWx1ZS52YXRUYXgudGF4VHlwZS5uYW1lLAogICAgICAgICAgICAgIGFtb3VudDogdmF0VGF4LAogICAgICAgICAgICAgIGlkOiB2YWx1ZS52YXRUYXgudGF4VHlwZS5pZAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRvdGFsVGF4ICs9IGtlbmRvLnBhcnNlRmxvYXQoc3BUYXggPyBzcFRheCA6IDApICsga2VuZG8ucGFyc2VGbG9hdChwbHRheCA/IHBsdGF4IDogMCkgKyBrZW5kby5wYXJzZUZsb2F0KG90aGVyVGF4ID8gb3RoZXJUYXggOiAwKSArIGtlbmRvLnBhcnNlRmxvYXQodmF0VGF4ID8gdmF0VGF4IDogMCk7CiAgICAgICAgc3ViVG90YWwgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQpICsgbW9kaWZpZXJQcmljZSAtIGluY2x1c2l2ZVRheDsKICAgICAgICB2YXIgaXRlbSA9IHZhbHVlLml0ZW07CiAgICAgICAgdmFyIGl0bVR5cGUgPSBpdGVtLnR5cGUgfHwgIiI7CgogICAgICAgIGlmIChpdG1UeXBlID09PSAiVmFyaWFudCIpIHsKICAgICAgICAgIGl0ZW1TdWJ0b3RhbCArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmNvc3QpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdHkpOwogICAgICAgICAgaXRlbURpc2NvdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnQpOwogICAgICAgIH0gZWxzZSBpZiAoaXRtVHlwZSA9PT0gIlNlcnZpY2UiKSB7CiAgICAgICAgICBzZXJ2aWNlU3VidG90YWwgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5jb3N0KSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucXR5KTsKICAgICAgICAgIGl0ZW1EaXNjb3VudCArPSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdHhuSXRtU3VidG90YWwgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5jb3N0KSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucXR5KTsKICAgICAgICAgIGl0ZW1EaXNjb3VudCArPSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50KTsKICAgICAgICB9IC8vaW5jbHVkZSBUYXggQW1vdW50CgoKICAgICAgICB2YXIgYW1vdW50Tm9kaXNjb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucHJpY2UpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdHkpIC0gZGlzY291bnQ7CiAgICAgICAgdmFyIGluY2x1ZGVUYXhBbW91bnQgPSBhbW91bnROb2Rpc2NvdW50ICsgdmF0VGF4ICsgcGx0YXggKyBzcFRheCArIG90aGVyVGF4OwogICAgICAgIHZhbHVlWyJpbmNsdWRlVGF4QW1vdW50Il0gPSBpbmNsdWRlVGF4QW1vdW50OwogICAgICAgIHZhbHVlWyJpbmNsdWRlVGF4RXhjaGFuZ2VBbW91bnQiXSA9IGluY2x1ZGVUYXhBbW91bnQgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzOS50cmFuc2FjdGlvbi50eG5SYXRlKTsKICAgICAgfSk7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24uaXRlbVN1YnRvdGFsID0gaXRlbVN1YnRvdGFsOwogICAgICB0aGlzLnRyYW5zYWN0aW9uLmV4Y2hhbmdlSXRlbVN1YnRvdGFsID0gaXRlbVN1YnRvdGFsICoga2VuZG8ucGFyc2VGbG9hdCh0aGlzLnRyYW5zYWN0aW9uLnR4blJhdGUpOwogICAgICB0aGlzLnRyYW5zYWN0aW9uLnNlcnZpY2VTdWJ0b3RhbCA9IHNlcnZpY2VTdWJ0b3RhbDsKICAgICAgdGhpcy50cmFuc2FjdGlvbi5leGNoYW5nZVNlcnZpY2VTdWJ0b3RhbCA9IHNlcnZpY2VTdWJ0b3RhbCAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy50cmFuc2FjdGlvbi50eG5SYXRlKTsKICAgICAgdGhpcy50cmFuc2FjdGlvbi50eG5JdG1TdWJ0b3RhbCA9IHR4bkl0bVN1YnRvdGFsOwogICAgICB0aGlzLnRyYW5zYWN0aW9uLmV4Y2hhbmdlVHhuSXRtU3VidG90YWwgPSB0eG5JdG1TdWJ0b3RhbCAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy50cmFuc2FjdGlvbi50eG5SYXRlKTsKICAgICAgdGhpcy50cmFuc2FjdGlvbi5pdGVtRGlzY291bnQgPSBpdGVtRGlzY291bnQ7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24uZXhjaGFuZ2VJdGVtRGlzY291bnQgPSBpdGVtRGlzY291bnQgKiBrZW5kby5wYXJzZUZsb2F0KHRoaXMudHJhbnNhY3Rpb24udHhuUmF0ZSk7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24uc2VydmljZURpc2NvdW50ID0gc2VydmljZURpc2NvdW50OwogICAgICB0aGlzLnRyYW5zYWN0aW9uLmV4Y2hhbmdlU2VydmljZURpc2NvdW50ID0gc2VydmljZURpc2NvdW50ICoga2VuZG8ucGFyc2VGbG9hdCh0aGlzLnRyYW5zYWN0aW9uLnR4blJhdGUpOwogICAgICB0aGlzLnRyYW5zYWN0aW9uLnR4bkl0bURpc2NvdW50ID0gdHhuRGlzY291bnQ7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24uZXhjaGFuZ2VUeG5JdG1EaXNjb3VudCA9IHR4bkRpc2NvdW50ICoga2VuZG8ucGFyc2VGbG9hdCh0aGlzLnRyYW5zYWN0aW9uLnR4blJhdGUpOwogICAgICBkaXNjb3VudFRvdGFsID0gZGlzY291bnRUb3RhbCA/IGRpc2NvdW50VG90YWwgOiAwOyAvLyB3aW5kb3cuY29uc29sZS5sb2coc3BUYXgsIHBsdGF4LCBvdGhlclRheCwgdmF0VGF4KQoKICAgICAgdmFyIHRvdGFsID0ga2VuZG8ucGFyc2VGbG9hdChzdWJUb3RhbCkgLSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50VG90YWwpICsga2VuZG8ucGFyc2VGbG9hdCh0b3RhbFRheCk7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24uc3ViVG90YWwgPSBzdWJUb3RhbDsKICAgICAgJCgiI3N1YnRvdGFsIikudGV4dChrZW5kby5wYXJzZUZsb2F0KHN1YlRvdGFsKSk7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24udG90YWxUYXhBbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KHRvdGFsVGF4KTsKICAgICAgdGhpcy50cmFuc2FjdGlvbi5kaXNjb3VudFRvdGFsID0ga2VuZG8ucGFyc2VGbG9hdChkaXNjb3VudFRvdGFsKTsKCiAgICAgIGlmICh0aGlzLnRyYW5zYWN0aW9uLnNwZWNpZmljRGlzY291bnRJdGVtKSB7CiAgICAgICAgZGlzY291bnRJbnZvaWNlID0gdGhpcy5hdXRvQ2FsY3VsYXRlRGlzY291bnQodGhpcy50cmFuc2FjdGlvbi5zcGVjaWZpY0Rpc2NvdW50SXRlbSwga2VuZG8ucGFyc2VGbG9hdChzdWJUb3RhbCkpOwogICAgICAgIGRpc2NvdW50SW52b2ljZSA9IGRpc2NvdW50SW52b2ljZSA/IGRpc2NvdW50SW52b2ljZSA6IDA7CiAgICAgIH0gLy8gdGhpcy5vbk90aGVyQ2hhcmdlQ2hhbmdlKCkKCgogICAgICB0aGlzLnRyYW5zYWN0aW9uLnRvdGFsID0ga2VuZG8ucGFyc2VGbG9hdCh0b3RhbCkgLSBkaXNjb3VudEludm9pY2UgKyBrZW5kby5wYXJzZUZsb2F0KHRoaXMudHJhbnNhY3Rpb24ub3RoZXJDaGFyZ2VBbW91bnQpOwogICAgICB0aGlzLnRyYW5zYWN0aW9uLmV4Y2hhbmdlQW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh0aGlzLnRyYW5zYWN0aW9uLnRvdGFsKSAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy50cmFuc2FjdGlvbi50eG5SYXRlKTsKICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlVGF4QnlUeXBlKHRheExpc3QpOwogICAgICB0aGlzLmN1c3RvbWVyRGlzY291bnRJdGVtID0gdGhpcy5yZW1vdmVEdXBsaWNhdGUoZGlzY291bnRJdGVtKTsKICAgICAgdGhpcy5jdXN0b21lclNhbGVVbml0ID0gdGhpcy5yZW1vdmVEdXBsaWNhdGUoc2FsZVVuaXQpOyAvLyB3aW5kb3cuY29uc29sZS5sb2coJ2Rpc2NvdW50ICcsIHRoaXMuY3VzdG9tZXJEaXNjb3VudEl0ZW0pCiAgICB9LAogICAgcm93TnVtYmVyVG1wbDogZnVuY3Rpb24gcm93TnVtYmVyVG1wbChkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLnNhbGVRdW90ZUl0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgbG9hZFNhbGVGb3JtQ29udGVudDogZnVuY3Rpb24gbG9hZFNhbGVGb3JtQ29udGVudCgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgc2FsZUZvcm1Db250ZW50SGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLnNhbGVGb3JtQ29udGVudCA9IGRhdGFbMF07IC8vIHdpbmRvdy5jb25zb2xlLmxvZyhkYXRhWzBdKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB2YXRUZW1wbGF0ZTogZnVuY3Rpb24gdmF0VGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIHZhdCA9IGRhdGFJdGVtLnZhdFRheDsKCiAgICAgIGlmICh2YXQpIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KHZhdC5kZWZhdWx0VGF4ID8gdmF0LmRlZmF1bHRUYXggOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBpdGVtVGVtcGxhdGU6IGZ1bmN0aW9uIGl0ZW1UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgaXRlbSA9IGRhdGFJdGVtLml0ZW07CgogICAgICBpZiAoaXRlbSkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQoaXRlbS5uYW1lID8gaXRlbS5uYW1lIDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgVU9NVGVtcGxhdGU6IGZ1bmN0aW9uIFVPTVRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHZhciB1b20gPSBkYXRhSXRlbS51b207CiAgICAgIHZhciBjb2RlID0gdW9tLmNvZGUgfHwgJyc7CgogICAgICBpZiAodW9tKSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdCh1b20udW9tID8gY29kZSA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIHNhbGVVbml0VGVtcGxhdGU6IGZ1bmN0aW9uIHNhbGVVbml0VGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIHNhbGVVbml0ID0gZGF0YUl0ZW0uc2FsZVVuaXQ7CgogICAgICBpZiAoc2FsZVVuaXQpIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KHNhbGVVbml0Lm5hbWUgPyBzYWxlVW5pdC5uYW1lIDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgZGlzY291bnRJdGVtVGVtcGxhdGU6IGZ1bmN0aW9uIGRpc2NvdW50SXRlbVRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHZhciBkaXNjb3VudEl0ZW0gPSBkYXRhSXRlbS5kaXNjb3VudEl0ZW07CgogICAgICBpZiAoZGlzY291bnRJdGVtKSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChkaXNjb3VudEl0ZW0uY29kZSA/IGRpc2NvdW50SXRlbS5jb2RlIDogIiIsICIgLSAiKS5jb25jYXQoZGlzY291bnRJdGVtLm5hbWUgPyBkaXNjb3VudEl0ZW0ubmFtZSA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIFNlcnZpY2VEYXRlRWRpdG9yOiBmdW5jdGlvbiBTZXJ2aWNlRGF0ZUVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgcmVxdWlyZWQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0RhdGVQaWNrZXIoKTsgLy8gbGV0IGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCkKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKGRzLmRhdGEoKSkKICAgICAgLy8gLy8gY29uc3QgZGF0ZVN0cmluZyA9IGtlbmRvLnRvU3RyaW5nKChuZXcgRGF0ZShvcHRpb25zLm1vZGVsLml0ZW1zLnNlcnZpY2VEYXRlKSksIHRoaXMuaXRlbUxpbmUuZGF0ZUZvcm1hdCkKICAgICAgLy8gLy8gY29uc3QgZGF0ZVN0cmluZyA9IGtlbmRvLnRvU3RyaW5nKG9wdGlvbnMubW9kZWwuaXRlbXMuc2VydmljZURhdGUpCiAgICAgIC8vIGNvbnN0ICRpbnB1dCA9ICQoIjxpbnB1dCB2YWx1ZT0iICsgb3B0aW9ucy5tb2RlbC5zZXJ2aWNlRGF0ZSArICIgLz4iKS5hcHBlbmRUbyhjb250YWluZXIpCiAgICAgIC8vICRpbnB1dC5rZW5kb0RhdGVQaWNrZXIoKQogICAgICAvLyAvLyAkaW5wdXQuYXBwZW5kVG8oY29udGFpbmVyKQogICAgICAvLyAvLyBvcHRpb25zLm1vZGVsLml0ZW1zLnNlcnZpY2VEYXRlID0gZGF0ZVN0cmluZwogICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coJGlucHV0KQogICAgfSwKICAgIFNlcnZpY2VEYXRlVG9FZGl0b3I6IGZ1bmN0aW9uIFNlcnZpY2VEYXRlVG9FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IHJlcXVpcmVkIG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9EYXRlUGlja2VyKCk7CiAgICB9LAogICAgSXRlbURyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBJdGVtRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJjb250YWlucyIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGhlYWRlclRlbXBsYXRlOiAnPGRpdiBjbGFzcz0iZHJvcGRvd24taGVhZGVyIGstd2lkZ2V0IGstaGVhZGVyIj4nICsgIjxzcGFuPkl0ZW1zIDwvc3Bhbj4iICsgIjxzcGFuPjwvc3Bhbj4iICsgIjwvZGl2PiIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogcHJvZHVjdFZhcmlhbnRIYW5kbGVyLml0ZW1TZWFyY2hVUkwoJz9wbElkPScgKyB0aGlzLnRyYW5zYWN0aW9uLnByaWNlTGV2ZWwuaWQpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbmFtZTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNrdTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgfSAvLyBkYXRhOiB0aGlzLnZhcmlhbnRzCgogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFVPTURyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBVT01Ecm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJjb2RlIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogInVvbUNvbnZlcnRJZCIsCiAgICAgICAgY2FzY2FkZUZyb206ICJpdGVtIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9Y29kZSB8fCBgTm8gUHJpY2UgTGV2ZWxgIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgc2VydmVyRmlsdGVyaW5nOiB0cnVlLAogICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICB1cmw6IHVvbVByaWNlSGFuZGxlci51b21QcmljZUJ5UHJpY2VMZXZlbFVSTCgiaWQ9IiArIG9wdGlvbnMubW9kZWwuaXRlbS5pZCArICImcGxJZD0iICsgdGhpcy50cmFuc2FjdGlvbi5wcmljZUxldmVsLmlkICsgIiZkYXRlPSIgKyB0aGlzLnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uRGF0ZSkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIgogICAgICAgICAgfSwKICAgICAgICAgIHNjaGVtYTogewogICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgICAgIGZpZWxkczogewogICAgICAgICAgICAgICAgaWQ6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0gLy8gbmFtZToge3R5cGU6ICJzdHJpbmcifSwKICAgICAgICAgICAgICAgIC8vIHNrdToge3R5cGU6ICJzdHJpbmcifSwKCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIGRhdGE6IHRoaXMudmFyaWFudHMKCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgRGlzY291bnRJdGVtRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIERpc2NvdW50SXRlbURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGNhc2NhZGVGcm9tOiAiaXRlbSIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWNvZGUjIC0gIz1uYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgc2VydmVyRmlsdGVyaW5nOiB0cnVlLAogICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICB1cmw6IGRpc2NvdW50SXRlbUhhbmRsZXIuZ2V0VVJMKERJU0NPVU5UX1RZUEUpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9IC8vIG5hbWU6IHt0eXBlOiAic3RyaW5nIn0sCiAgICAgICAgICAgICAgICAvLyBza3U6IHt0eXBlOiAic3RyaW5nIn0sCgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFNwZWNpZmljVGF4RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIFNwZWNpZmljVGF4RHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAiZGVmYXVsdFRheCIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWRlZmF1bHRUYXgjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLnNwZWNpZmljVGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICBpZiAob3B0aW9ucy5tb2RlbC5oYXNPd25Qcm9wZXJ0eSgidmF0VGF4IikpIHsKICAgICAgICAgICAgICB2YXIgdmF0ID0gb3B0aW9ucy5tb2RlbC52YXRUYXg7CgogICAgICAgICAgICAgIGlmICh2YXQpIHsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gbnVsbCB8fCBvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gIm51bGwiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSBvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFB1YmxpY0xpZ2h0aW5nVGF4RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIFB1YmxpY0xpZ2h0aW5nVGF4RHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAiZGVmYXVsdFRheCIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWRlZmF1bHRUYXgjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLnB1YmxpY0xpZ2h0aW5nVGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICBpZiAob3B0aW9ucy5tb2RlbC5oYXNPd25Qcm9wZXJ0eSgidmF0VGF4IikpIHsKICAgICAgICAgICAgICB2YXIgdmF0ID0gb3B0aW9ucy5tb2RlbC52YXRUYXg7CgogICAgICAgICAgICAgIGlmICh2YXQpIHsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gbnVsbCAmJiBvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gIm51bGwiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSBvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIE90aGVyVGF4RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIE90aGVyVGF4RHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAiZGVmYXVsdFRheCIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWRlZmF1bHRUYXgjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLm90aGVyVGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICBpZiAob3B0aW9ucy5tb2RlbC5oYXNPd25Qcm9wZXJ0eSgidmF0VGF4IikpIHsKICAgICAgICAgICAgICB2YXIgdmF0ID0gb3B0aW9ucy5tb2RlbC52YXRUYXg7CgogICAgICAgICAgICAgIGlmICh2YXQpIHsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gbnVsbCAmJiBvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gIm51bGwiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSBvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFZhdFRheERyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBWYXRUYXhEcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJkZWZhdWx0VGF4IiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9ZGVmYXVsdFRheCM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tU2VsZWN0LS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgZGF0YTogdGhpcy52YXRUYXgKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBTYWxlVW5pdERyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBTYWxlVW5pdERyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1jb2RlIyAtICM9bmFtZSM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIGRhdGE6IHRoaXMuc2FsZVVuaXRJdGVtTGlzdAogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIE1vZGlmaWVyRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIE1vZGlmaWVyRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIHZhciBpdGVtID0gb3B0aW9ucy5tb2RlbC5pdGVtIHx8IHt9OwogICAgICB2YXIgdW9tID0gaXRlbS51b20gfHwge307CiAgICAgIHZhciBpdGVtSWQgPSBpdGVtLmlkIHx8ICcnOwogICAgICB2YXIgdW9tSWQgPSB1b20uaWQgfHwgJyc7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJjb250YWlucyIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGhlYWRlclRlbXBsYXRlOiAnPGRpdiBjbGFzcz0iZHJvcGRvd24taGVhZGVyIGstd2lkZ2V0IGstaGVhZGVyIj4nICsgIjxzcGFuPk1vZGlmaWVyIDwvc3Bhbj4iICsgIjxzcGFuPjwvc3Bhbj4iICsgIjwvZGl2PiIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogaXRlbU1vZGlmaWVySGFuZGxlci5zZWFyY2hVUkwoJz9wbElkPScgKyB0aGlzLnRyYW5zYWN0aW9uLnByaWNlTGV2ZWwuaWQgKyAnJmlkPScgKyBpdGVtSWQgKyAnJnVvbUlkPScgKyB1b21JZCkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIgogICAgICAgICAgfSwKICAgICAgICAgIHNjaGVtYTogewogICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgICAgIGZpZWxkczogewogICAgICAgICAgICAgICAgaWQ6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBuYW1lOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcHJpY2U6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogIm51bWJlciIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB1b206IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG90YWw6IGZ1bmN0aW9uIHRvdGFsKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBFbXBsb3llZURyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBFbXBsb3llZURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBkYXRhLWJpbmQ9InZhbHVlOicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9NdWx0aVNlbGVjdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIHN1Z2dlc3Q6IHRydWUsCiAgICAgICAgZmlsdGVyOiAiY29udGFpbnMiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICBoZWFkZXJUZW1wbGF0ZTogJzxkaXYgY2xhc3M9ImRyb3Bkb3duLWhlYWRlciBrLXdpZGdldCBrLWhlYWRlciI+JyArICI8c3Bhbj5FbXBsb3llZSA8L3NwYW4+IiArICI8c3Bhbj48L3NwYW4+IiArICI8L2Rpdj4iLAogICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1uYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgc2VydmVyRmlsdGVyaW5nOiB0cnVlLAogICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICB1cmw6IGVtcGxveWVlSGFuZGxlci5zZWFyY2hVUkwoKQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhVHlwZTogImpzb24iCiAgICAgICAgICB9LAogICAgICAgICAgc2NoZW1hOiB7CiAgICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgICAgaWQ6ICJpZCIsCiAgICAgICAgICAgICAgZmllbGRzOiB7CiAgICAgICAgICAgICAgICBpZDogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBsYXN0TmFtZTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIGVtcEltcGw6IGZ1bmN0aW9uIGVtcEltcGwoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGVtcElkcyA9IFtdOwogICAgICBkYXRhSXRlbS5lbXBsb3llZS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgZW1wSWRzLnB1c2gobS5maXJzdE5hbWUgKyAiIC0gIiArIG0ubGFzdE5hbWUpOwogICAgICB9KTsgLy8gd2luZG93LmNvbnNvbGUubG9nKGVtcElkcy5qb2luKCcsICcpKQoKICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChlbXBJZHMuam9pbigiLCAiKSwgIjwvc3Bhbj4iKTsKICAgIH0sCiAgICBhZGRSb3c6IGZ1bmN0aW9uIGFkZFJvdygpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5zYWxlUXVvdGVJdGVtTGluZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICB0b3RhbCA9IGRzLnRvdGFsKCk7CiAgICAgIHRoaXMuaXRlbUxpbmUuaWQgPSBpbnZvaWNlUHJlZml4ICsgdXVpZC52MSgpOwogICAgICBkcy5pbnNlcnQodG90YWwsIHRoaXMuaXRlbUxpbmUpOwogICAgfSwKICAgIG9uU3BlY2lmaWNEaXNjb3VudENoYW5nZWQ6IGZ1bmN0aW9uIG9uU3BlY2lmaWNEaXNjb3VudENoYW5nZWQoKSB7CiAgICAgIGlmICh0aGlzLnRyYW5zYWN0aW9uLnNwZWNpZmljRGlzY291bnRJdGVtKSB7CiAgICAgICAgdmFyIGRpc2NvdW50UXVvdGUgPSB0aGlzLmF1dG9DYWxjdWxhdGVEaXNjb3VudCh0aGlzLnRyYW5zYWN0aW9uLnNwZWNpZmljRGlzY291bnRJdGVtLCB0aGlzLnRyYW5zYWN0aW9uLnN1YlRvdGFsKTsKICAgICAgICB0aGlzLnRyYW5zYWN0aW9uLnNwZWNpZmljRGlzY291bnRUb3RhbCA9IGtlbmRvLnRvU3RyaW5nKGRpc2NvdW50UXVvdGUgPyBkaXNjb3VudFF1b3RlIDogMCwgIm4iKTsKICAgICAgICB2YXIgdG90YWwgPSBrZW5kby5wYXJzZUZsb2F0KHRoaXMudHJhbnNhY3Rpb24uc3ViVG90YWwpIC0gKGtlbmRvLnBhcnNlRmxvYXQodGhpcy50cmFuc2FjdGlvbi5kaXNjb3VudFRvdGFsKSArIGtlbmRvLnBhcnNlRmxvYXQodGhpcy50cmFuc2FjdGlvbi50b3RhbFRheEFtb3VudCkpIC0gZGlzY291bnRRdW90ZTsKICAgICAgICB0aGlzLnRyYW5zYWN0aW9uLnRvdGFsID0ga2VuZG8udG9TdHJpbmcodG90YWwsICJuIik7CiAgICAgIH0KICAgIH0sCiAgICBvbk90aGVyQ2hhcmdlQ2hhbmdlOiBmdW5jdGlvbiBvbk90aGVyQ2hhcmdlQ2hhbmdlKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICB2YXIgb3RoZXJDaGFyZ2UgPSAwOwogICAgICB0aGlzLm1PdGhlckNoYXJnZS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgb3RoZXJDaGFyZ2UgKz0gX3RoaXMxMS5hdXRvQ2FsY3VsYXRlRGlzY291bnQobSwgX3RoaXMxMS50cmFuc2FjdGlvbi5zdWJUb3RhbCk7CiAgICAgIH0pOwogICAgICB0aGlzLnRyYW5zYWN0aW9uLm90aGVyQ2hhcmdlQW1vdW50ID0gb3RoZXJDaGFyZ2U7CiAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgfSwKICAgIGxvYWRPdGhlckNoYXJnZTogZnVuY3Rpb24gbG9hZE90aGVyQ2hhcmdlKCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBvdGhlckNoYXJnZUhhbmRsZXIubGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLm90aGVyQ2hhcmdlTGlzdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbk90aGVyQW1vdW50OiBmdW5jdGlvbiBvbk90aGVyQW1vdW50KHZhbHVlKSB7CiAgICAgIHJldHVybiB0aGlzLmF1dG9DYWxjdWxhdGVEaXNjb3VudCh2YWx1ZSwgdGhpcy50cmFuc2FjdGlvbi5zdWJUb3RhbCk7CiAgICB9LAogICAgbG9hZERpc2NvdW50SXRlbTogZnVuY3Rpb24gbG9hZERpc2NvdW50SXRlbSgpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgZGlzY291bnRJdGVtSGFuZGxlci5saXN0KERJU0NPVU5UX1RZUEUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLnNwZWNpZmljRGlzY291bnRJdGVtID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRTZWdtZW50OiBmdW5jdGlvbiBsb2FkU2VnbWVudCgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgdmFyIHJvbGVUeXBlLCByb2xlRGF0YSwgc2VnbWVudCwgc2VnbWVudERlZmF1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvbGVUeXBlID0gZGF0YVN0b3JlLnJvbGVUeXBlIHx8IDA7CgogICAgICAgICAgICAgICAgaWYgKHJvbGVUeXBlID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIGlmIChkYXRhU3RvcmUucm9sZURhdGEpIHsKICAgICAgICAgICAgICAgICAgICByb2xlRGF0YSA9IGRhdGFTdG9yZS5yb2xlRGF0YSB8fCBbXTsKICAgICAgICAgICAgICAgICAgICBzZWdtZW50ID0gcm9sZURhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdG0udHlwZSA9PT0gJ3NlZ21lbnQnOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHNlZ21lbnREZWZhdWx0ID0gc2VnbWVudC5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmlzRGVmYXVsdCA9PT0gMTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnNlZ21lbnRzID0gc2VnbWVudDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTQuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkIHx8IF90aGlzMTQuJHJvdXRlLnBhcmFtcy5pZCA9PT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWdtZW50RGVmYXVsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQudHJhbnNhY3Rpb24uc2VnbWVudCA9IHNlZ21lbnREZWZhdWx0WzBdOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyb2xlVHlwZSA9PT0gMSkgewogICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2VnbWVudHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzSGFuZGxlci5nZXRTZWcoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5zaG93TG9hZGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2VnbWVudHMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNC5zZWdtZW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnRyYW5zYWN0aW9uLnNlZ21lbnQgPSBfdGhpczE0LnNlZ21lbnRzWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRMb2NhdGlvbjogZnVuY3Rpb24gbG9hZExvY2F0aW9uKCkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgdmFyIHJvbGVUeXBlLCByb2xlRGF0YSwgbG9jYXRpb24sIGxvY2F0aW9uRGVmYXVsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMTUubG9jYXRpb25zID0gW107CiAgICAgICAgICAgICAgICByb2xlVHlwZSA9IGRhdGFTdG9yZS5yb2xlVHlwZSB8fCAwOwoKICAgICAgICAgICAgICAgIGlmIChyb2xlVHlwZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICBpZiAoZGF0YVN0b3JlLnJvbGVEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgcm9sZURhdGEgPSBkYXRhU3RvcmUucm9sZURhdGEgfHwgW107CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24gPSByb2xlRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0bSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0bS50eXBlID09PSAnbG9jYXRpb24nOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uRGVmYXVsdCA9IGxvY2F0aW9uLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uaXNEZWZhdWx0ID09PSAxOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTUubG9jYXRpb25zID0gbG9jYXRpb247CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE1LiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCB8fCBfdGhpczE1LiRyb3V0ZS5wYXJhbXMuaWQgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb25EZWZhdWx0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS50cmFuc2FjdGlvbi5sb2NhdGlvbiA9IGxvY2F0aW9uRGVmYXVsdFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sZVR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LmxvY2F0aW9ucyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25IYW5kbGVyLmxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5zaG93TG9hZGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUubG9jYXRpb25zID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTUubG9jYXRpb25zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUudHJhbnNhY3Rpb24ubG9jYXRpb24gPSBfdGhpczE1LmxvY2F0aW9uc1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQcm9qZWN0QnlDdXN0b21lcjogZnVuY3Rpb24gbG9hZFByb2plY3RCeUN1c3RvbWVyKCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHByb2plY3RIYW5kbGVyLmdldEJ5Q3VzdG9tZXIoX3RoaXMxNi5jdXN0b21lci5pZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5jdXN0b21lclByb2plY3RzID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE2LmN1c3RvbWVyUHJvamVjdHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMxNi5pbml0U2FsZVF1b3RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LnRyYW5zYWN0aW9uLnByb2plY3QgPSBfdGhpczE2LmN1c3RvbWVyUHJvamVjdHNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkU2FsZUNoYW5uZWw6IGZ1bmN0aW9uIGxvYWRTYWxlQ2hhbm5lbCgpIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczE3LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBzYWxlQ2hhbm5lbEhhbmRsZXIuZ2V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTcuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5zYWxlQ2hhbm5lbExpc3QgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTcuc2FsZUNoYW5uZWxMaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNy4kcm91dGUucGFyYW1zLmlkICE9PSB1bmRlZmluZWQgfHwgX3RoaXMxNy4kcm91dGUucGFyYW1zLmlkICE9ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE3LnRyYW5zYWN0aW9uLnNhbGVDaGFubmVsID0gX3RoaXMxNy5zYWxlQ2hhbm5lbExpc3RbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE3LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRUYXg6IGZ1bmN0aW9uIGxvYWRUYXgoKSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ0hhbmRsZXIuZ2V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE4LnRheCA9IHJlczsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTgub3RoZXJUYXggPSBfdGhpczE4LnRheC5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChtLnRheFR5cGUudHlwZUlkID09PSA3IHx8IG0udGF4VHlwZS50eXBlSWQgPT09IDEwKSAmJiBtLnRyYW5zYWN0aW9uVHlwZSA9PT0gIlNhbGUiOwogICAgICAgICAgICAgICAgICAgICAgfSk7IC8vIHZhbHVhYmxlIHRheAoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTguc3BlY2lmaWNUYXggPSBfdGhpczE4LnRheC5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChtLnRheFR5cGUudHlwZUlkID09PSA4IHx8IG0udGF4VHlwZS50eXBlSWQgPT09IDEwKSAmJiBtLnRyYW5zYWN0aW9uVHlwZSA9PT0gIlNhbGUiOwogICAgICAgICAgICAgICAgICAgICAgfSk7IC8vIHZhbHVhYmxlIHRheAoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTgucHVibGljTGlnaHRpbmdUYXggPSBfdGhpczE4LnRheC5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChtLnRheFR5cGUudHlwZUlkID09PSA5IHx8IG0udGF4VHlwZS50eXBlSWQgPT09IDEwKSAmJiBtLnRyYW5zYWN0aW9uVHlwZSA9PT0gIlNhbGUiOwogICAgICAgICAgICAgICAgICAgICAgfSk7IC8vIHZhbHVhYmxlIHRheAoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTgudmF0VGF4ID0gX3RoaXMxOC50YXguZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAobS50YXhUeXBlLnR5cGVJZCA9PT0gMSB8fCBtLnRheFR5cGUudHlwZUlkID09PSA4IHx8IG0udGF4VHlwZS50eXBlSWQgPT09IDEwKSAmJiBtLnRyYW5zYWN0aW9uVHlwZSA9PT0gIlNhbGUiOwogICAgICAgICAgICAgICAgICAgICAgfSk7IC8vIHZhbHVhYmxlIHRheAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkU2FsZVVuaXRJdGVtczogZnVuY3Rpb24gbG9hZFNhbGVVbml0SXRlbXMoKSB7CiAgICAgIHZhciBfdGhpczE5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgc2FsZVVuaXRJdGVtSGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSBfdGhpczE5LnNhbGVVbml0SXRlbUxpc3QgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoZGF0YSkgewogICAgICB0aGlzLmxvYWRFbXBsb3llZUNlbnRlcigpOwogICAgICB0aGlzLnRyYW5zYWN0aW9uLmN1c3RvbWVyID0ge307CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuc2FsZVF1b3RlSXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwogICAgICBkcy5kYXRhKFtdKTsKICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICB0aGlzLnRyYW5zYWN0aW9uID0gbmV3IFRyYW5zYWN0aW9uTW9kZWwoe30pOwogICAgICB0aGlzLmFkZFJvdygpOwogICAgICB3aW5kb3cuaGlzdG9yeS5nbygtMSk7IC8vIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCkgewogICAgICAvLyAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgLy8gICAgIG5hbWU6ICJDdXN0b21lcnMiLAogICAgICAvLyAgICAgcGFyYW1zOiB7CiAgICAgIC8vICAgICAgIGRhdGE6IGRhdGEsCiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgfSkKICAgICAgLy8gfSBlbHNlIHsKICAgICAgLy8gICB3aW5kb3cuaGlzdG9yeS5nbygtMSkKICAgICAgLy8gfQoKICAgICAgd2luZG93LmNvbnNvbGUubG9nKGRhdGEsICJjbG9zZSIpOyAvLyBsb2NhbFN0b3JhZ2UuZGF0YS5pZCA9IEpTT04uc3RyaW5naWZ5KGRhdGEpCiAgICB9LAogICAgLy9jYXRhbG9nCiAgICBsb2FkSW1hZ2U6IGZ1bmN0aW9uIGxvYWRJbWFnZShkYXRhSXRlbSkgewogICAgICBpZiAoZGF0YUl0ZW0uaGFzT3duUHJvcGVydHkoImltYWdlcyIpKSB7CiAgICAgICAgaWYgKGRhdGFJdGVtLmltYWdlcy5oYXNPd25Qcm9wZXJ0eSgiZGVmYXVsdCIpKSB7CiAgICAgICAgICB2YXIgdXJsID0gdGhpcy5pbWdVUkwgKyBkYXRhSXRlbS5pbWFnZXMuZGVmYXVsdC50aHVtYjsKICAgICAgICAgIHJldHVybiAiPGltZyB3aWR0aD0nNTAnIGhlaWdodD0nNTAnIHN0eWxlPSAnbWFyZ2luOiBhdXRvO2Rpc3BsYXk6IGJsb2NrOycgc3JjPSciICsgdXJsICsgIicgLz4iOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkQ2F0YWxvZ3M6IGZ1bmN0aW9uIGxvYWRDYXRhbG9ncygpIHsKICAgICAgdmFyIF90aGlzMjAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczIwLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBjYXRhbG9nSGFuZGxlci5nZXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjAuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjAuY2F0YWxvZ3MgPSByZXM7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZENhdGFsb2c6IGZ1bmN0aW9uIGFkZENhdGFsb2coZSkgewogICAgICB2YXIgX3RoaXMyMSA9IHRoaXM7CgogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZENhdGFsb2ciKS5kYXRhKCJrZW5kb0dyaWQiKTsKICAgICAgdmFyIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyhkYXRhSXRlbSkKCiAgICAgIGlmIChkYXRhSXRlbS52YXJpYW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgZGF0YUl0ZW0udmFyaWFudHMuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgICAgaWYgKG0uaGFzT3duUHJvcGVydHkoInZhcmlhbnQiKSkgewogICAgICAgICAgICBpZiAobS52YXJpYW50Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgX3RoaXMyMS5sb2FkU2luZ2xlSXRlbShtLnZhcmlhbnQuaWQsICJpIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLmRpYWxvZ0NhdGFsb2cgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKGRhdGFJdGVtLnNlcnZpY2VzLmxlbmd0aCA+IDApIHsKICAgICAgICBkYXRhSXRlbS5zZXJ2aWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICBpZiAobS5oYXNPd25Qcm9wZXJ0eSgic2VydmljZSIpKSB7CiAgICAgICAgICAgIGlmIChtLnNlcnZpY2UuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICBfdGhpczIxLmxvYWRTaW5nbGVJdGVtKG0uc2VydmljZS5pZCwgInMiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMuZGlhbG9nQ2F0YWxvZyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgbG9hZFNpbmdsZUl0ZW06IGZ1bmN0aW9uIGxvYWRTaW5nbGVJdGVtKGl0ZW1JZCwgdHlwZSkgewogICAgICB2YXIgX3RoaXMyMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIyLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SGFuZGxlci5nZXRPbmUoaXRlbUlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzOwogICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGRhdGEpOwoKICAgICAgICAgICAgICAgICAgICAgIHZhciBkcyA9IF90aGlzMjIuJHJlZnMuc2FsZVF1b3RlSXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gZHMudG90YWwoKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIyLml0ZW1MaW5lLmlkID0gaW52b2ljZVByZWZpeCArIHV1aWQudjEoKTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIuaXRlbUxpbmUuaXRlbSA9IGRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gImkiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIuaXRlbUxpbmUuZGVzY3JpcHRpb24gPSBkYXRhLnZhcmlhbnQuc2FsZURlc2NyaXB0aW9uOwogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMi5pdGVtTGluZS5kZXNjcmlwdGlvbiA9IGRhdGEuc2FsZURlc2NyaXB0aW9uOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIGRzLmluc2VydCh0b3RhbCwgX3RoaXMyMi5pdGVtTGluZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHt9LAogICAgbG9hZFByZWZpeDogZnVuY3Rpb24gbG9hZFByZWZpeCgpIHsKICAgICAgdmFyIF90aGlzMjMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBwcmVmaXhIYW5kbGVyLmdldCgic2FsZSBxdW90ZSIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjMudHJhbnNhY3Rpb25UeXBlID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIzLnRyYW5zYWN0aW9uVHlwZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy50cmFuc2FjdGlvbi50cmFuc2FjdGlvblR5cGUgPSBfdGhpczIzLnRyYW5zYWN0aW9uVHlwZVswXTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpczIzLmluaXRTYWxlUXVvdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygibG9hZCBwcmVmaXgiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIzLmdlbmVyYXRlTnVtYmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRWaWV3U2FsZVF1b3RlOiBmdW5jdGlvbiBsb2FkVmlld1NhbGVRdW90ZSgpIHsKICAgICAgdmFyIF90aGlzMjQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczI0LmluaXRTYWxlUXVvdGUpIHsKICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJoZXJlIGZyb20gaWQgd2l0aCBubyBwcm9wIGRhdGEiKTsKICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczI0LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFuZGxlci52aWV3KF90aGlzMjQuJHJvdXRlLnBhcmFtcy5pZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI0LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNC50cmFuc2FjdGlvbiA9IHJlcy5kYXRhLmRhdGFbMF07CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjQuYmluZERhdGEoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVtb3ZlRW1wdHlMaW5lOiBmdW5jdGlvbiByZW1vdmVFbXB0eUxpbmUoKSB7CiAgICAgIHZhciBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZEl0ZW1MaW5lU2FsZVF1b3RlIikuZGF0YSgia2VuZG9HcmlkIiksCiAgICAgICAgICBkYXRhU291cmNlID0gZ3JpZC5kYXRhU291cmNlOwoKICAgICAgaWYgKGRhdGFTb3VyY2UuZGF0YSgpLmxlbmd0aCA+IDApIHsKICAgICAgICBkYXRhU291cmNlLmRhdGEoKS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICB2YXIgaXRtID0gbS5pdGVtIHx8IHt9OwoKICAgICAgICAgIGlmIChpdG0pIHsKICAgICAgICAgICAgaWYgKGl0bS5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgZGF0YVNvdXJjZS5yZW1vdmUobSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGxvYWRUcmFuc2FjdGlvblJhdGU6IGZ1bmN0aW9uIGxvYWRUcmFuc2FjdGlvblJhdGUoKSB7CiAgICAgIHZhciBfdGhpczI1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShfdGhpczI1LnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uRGF0ZSkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOwogICAgICAgICAgICAgICAgICAgIHZhciBwcmljZUxldmVsID0gX3RoaXMyNS50cmFuc2FjdGlvbi5wcmljZUxldmVsOwogICAgICAgICAgICAgICAgICAgIHZhciBjb2RlID0gIiI7CgogICAgICAgICAgICAgICAgICAgIGlmIChwcmljZUxldmVsLmhhc093blByb3BlcnR5KCJjdXJyZW5jeSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2VMZXZlbC5jdXJyZW5jeS5oYXNPd25Qcm9wZXJ0eSgiY29kZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBwcmljZUxldmVsLmN1cnJlbmN5LmNvZGU7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPT0gdW5kZWZpbmVkIHx8IGNvZGUgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5SGFuZGxlci5nZXRMYXN0RXhjaGFuZ2VSYXRlQnlEYXRlKGRhdGUsIGNvZGUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuZXhjaGFuZ2VSYXRlID0gcmVzLmRhdGEuZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LmN1cnJlbmN5Q29kZSA9IF90aGlzMjUuZXhjaGFuZ2VSYXRlLmNvZGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNS50cmFuc2FjdGlvblJhdGUgPSBfdGhpczI1LmV4Y2hhbmdlUmF0ZS5yYXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUudHJhbnNhY3Rpb24udHhuUmF0ZSA9IF90aGlzMjUuZXhjaGFuZ2VSYXRlLnJhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNS50cmFuc2FjdGlvbi5leGNoYW5nZVJhdGUgPSBfdGhpczI1LmV4Y2hhbmdlUmF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY3JlZGl0TGltaXRVc2FnZTogZnVuY3Rpb24gY3JlZGl0TGltaXRVc2FnZShiYWxhbmNlLCBjcmVkaXRMaW1pdCkgewogICAgICBpZiAoY3JlZGl0TGltaXQgPiAwKSB7CiAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKGJhbGFuY2UgLyBjcmVkaXRMaW1pdCAqIDEwMCwgIm4iLmNvbmNhdCh0aGlzLnNhbGVGb3JtQ29udGVudC5kZWNpbWFsKSkgKyAiICUiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZygwLCAibiIuY29uY2F0KHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwpKSArICIgJSI7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkQ3VzdG9tZXJCYWxhbmNlOiBmdW5jdGlvbiBsb2FkQ3VzdG9tZXJCYWxhbmNlKGlkKSB7CiAgICAgIHZhciBfdGhpczI2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9IGlkICsgIj90eXBlPWJhbCI7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyNi50cmFuc2FjdGlvbi5jdXJyZW50QmFsYW5jZSA9IDA7CiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIuYmFsYW5jZShzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNi50cmFuc2FjdGlvbi5jdXJyZW50QmFsYW5jZSA9IGRhdGFbMF0uYmFsYW5jZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNi5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIwKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy5zdWNjZXNzID0gdHJ1ZTsKICAgIH0sCiAgICBzYXZlQ2xvc2U6IGZ1bmN0aW9uIHNhdmVDbG9zZSgpIHsKICAgICAgdmFyIF90aGlzMjcgPSB0aGlzOwoKICAgICAgdGhpcy5pc1NhdmVDbG9zZSA9IHRydWU7CiAgICAgIHRoaXMuc2F2ZU9wdGlvbiA9ICJzYXZlQ2xvc2UiOwogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLnNhbGVRdW90ZUl0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgdmFyIGQxID0gZHMuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgIHJldHVybiBuLmFtb3VudCA+IDA7CiAgICAgIH0pOwogICAgICB2YXIgZGF0YVZhbGlkYXRlID0gMDsKICAgICAgZDEuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdpbmRleCcsIHZhbHVlKTsKCiAgICAgICAgaWYgKHZhbHVlLml0ZW0uaWQgPT0gdW5kZWZpbmVkIHx8IHZhbHVlLnVvbS51b20uaWQgPT0gdW5kZWZpbmVkIHx8IHZhbHVlLml0ZW0uaWQgPT0gIiIgfHwgdmFsdWUudW9tLnVvbS5pZCA9PSAiIikgewogICAgICAgICAgX3RoaXMyNy4kc25vdGlmeS5lcnJvcigiUGxlYXNlIGNoZWNrIEl0ZW0gb3IgVW9tICBvbiByb3cgIiArIChpbmRleCArIDEpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZGF0YVZhbGlkYXRlICs9IDE7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmIChkMS5sZW5ndGggPT0gZGF0YVZhbGlkYXRlKSB7CiAgICAgICAgdGhpcy5zYXZlKCk7CiAgICAgIH0KICAgIH0sCiAgICBzYXZlUHJpbnQ6IGZ1bmN0aW9uIHNhdmVQcmludCgpIHsKICAgICAgdGhpcy5pc1NhdmVQcmludCA9IHRydWU7CiAgICAgIHRoaXMuc2F2ZU9wdGlvbiA9ICJzYXZlUHJpbnQiOwogICAgICB0aGlzLnNhdmUoKTsKICAgIH0sCiAgICBzYXZlTmV3OiBmdW5jdGlvbiBzYXZlTmV3KCkgewogICAgICB2YXIgX3RoaXMyOCA9IHRoaXM7CgogICAgICB0aGlzLnNhdmVPcHRpb24gPSAic2F2ZU5ldyI7CiAgICAgIHRoaXMuaXNTYXZlTmV3ID0gdHJ1ZTsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5zYWxlUXVvdGVJdGVtTGluZURTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIHZhciBkMSA9IGRzLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICByZXR1cm4gbi5hbW91bnQgPiAwOwogICAgICB9KTsKICAgICAgdmFyIGRhdGFWYWxpZGF0ZSA9IDA7CiAgICAgIGQxLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgewogICAgICAgIGlmICh2YWx1ZS5pdGVtLmlkID09IHVuZGVmaW5lZCB8fCB2YWx1ZS51b20uaWQgPT0gdW5kZWZpbmVkIHx8IHZhbHVlLml0ZW0uaWQgPT0gIiIgfHwgdmFsdWUudW9tLmlkID09ICIiKSB7CiAgICAgICAgICBfdGhpczI4LiRzbm90aWZ5LmVycm9yKCJQbGVhc2UgY2hlY2sgSXRlbSBvciBVb20gIG9uIHJvdyAiICsgKGluZGV4ICsgMSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkYXRhVmFsaWRhdGUgKz0gMTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgaWYgKGQxLmxlbmd0aCA9PSBkYXRhVmFsaWRhdGUpIHsKICAgICAgICB0aGlzLnNhdmUoKTsKICAgICAgfQogICAgfSwKICAgIHNhdmVEcmFmdDogZnVuY3Rpb24gc2F2ZURyYWZ0KCkgewogICAgICB0aGlzLnNhdmVPcHRpb24gPSAic2F2ZURyYWZ0IjsKICAgICAgdGhpcy5pc1NhdmVEcmFmdCA9IHRydWU7CiAgICAgIHRoaXMuc2F2ZSgpOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpczI5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMSgpIHsKICAgICAgICB2YXIgaWQsIGRzLCB0b3RhbDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIxJChfY29udGV4dDIxKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjEucHJldiA9IF9jb250ZXh0MjEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczI5LiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczI5LiRyZWZzLmZvcm0udmFsaWRhdGUoKTsKCiAgICAgICAgICAgICAgICBfdGhpczI5LiRzbm90aWZ5LmVycm9yKCJGaWVsZCBpcyByZXF1aXJlZCwgcGxlYXNlIGNoZWNrIGZpZWxkIGVhY2ggb2YgdGFicyEiKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBpZCA9ICIiOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczI5LmN1c3RvbWVyLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgIGlkID0gX3RoaXMyOS5jdXN0b21lci5pZCB8fCAiIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShpZCA9PT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMjkuJHNub3RpZnkuZXJyb3IoIkN1c3RvbWVyIGlzIHJlcXVpcmUiKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfdGhpczI5LnJlbW92ZUVtcHR5TGluZSgpOwoKICAgICAgICAgICAgICAgIGRzID0gX3RoaXMyOS4kcmVmcy5zYWxlUXVvdGVJdGVtTGluZURTLmtlbmRvV2lkZ2V0KCksIHRvdGFsID0gZHMudG90YWwoKTsKCiAgICAgICAgICAgICAgICBpZiAoISh0b3RhbCA9PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyOS4kc25vdGlmeS5lcnJvcigiSXRlbSBpcyByZXF1aXJlIik7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHR4bkxpc3QgPSBbXTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjkudHJhbnNhY3Rpb24ubGVhZC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgdHhuTGlzdC5wdXNoKF90aGlzMjkudHJhbnNhY3Rpb24ubGVhZCk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBfdGhpczI5LnJlbW92ZUVtcHR5TGluZSgpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUxpbmVEUyA9IF90aGlzMjkuJHJlZnMuc2FsZVF1b3RlSXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IGl0ZW1MaW5lRFMudG90YWwoKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsIDw9IDApIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjkuJHNub3RpZnkuZXJyb3IoIkZpZWxkIFJlcXVpcmVkISIpOwoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHZhciBkYXRhUm93ID0gaXRlbUxpbmVEUy5kYXRhKCkubWFwKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEl0ZW1MaW5lTW9kZWwobSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICBpZDogX3RoaXMyOS50cmFuc2FjdGlvbi5pZCA/IF90aGlzMjkudHJhbnNhY3Rpb24uaWQgOiAiIiwKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJTYWxlIFF1b3RlIiwKICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogX3RoaXMyOS50cmFuc2FjdGlvbi5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICBhYmJyOiBfdGhpczI5LnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uVHlwZS5hYmJyLAogICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25EYXRlOiBfdGhpczI5LnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uRGF0ZSwKICAgICAgICAgICAgICAgICAgICAgIHZhbGlkaXR5RGF0ZTogX3RoaXMyOS50cmFuc2FjdGlvbi52YWxpZGl0eURhdGUsCiAgICAgICAgICAgICAgICAgICAgICBtb250aE9mOiBfdGhpczI5LnRyYW5zYWN0aW9uLm1vbnRoT2YsCiAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcjogX3RoaXMyOS50cmFuc2FjdGlvbi5jdXN0b21lciwKICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRUZXJtOiBfdGhpczI5LnRyYW5zYWN0aW9uLnBheW1lbnRUZXJtLAogICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25UeXBlOiBfdGhpczI5LnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uVHlwZSwKICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50UHJvbW90aW9uOiB7fSwKICAgICAgICAgICAgICAgICAgICAgIHByaWNlTGV2ZWw6IF90aGlzMjkudHJhbnNhY3Rpb24ucHJpY2VMZXZlbCwKICAgICAgICAgICAgICAgICAgICAgIGl0ZW1MaW5lczogZGF0YVJvdywKICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Q6IF90aGlzMjkudHJhbnNhY3Rpb24ucHJvamVjdCwKICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnQ6IF90aGlzMjkudHJhbnNhY3Rpb24uc2VnbWVudCA/IF90aGlzMjkudHJhbnNhY3Rpb24uc2VnbWVudCA6IHt9LAogICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IF90aGlzMjkudHJhbnNhY3Rpb24ubG9jYXRpb24gPyBfdGhpczI5LnRyYW5zYWN0aW9uLmxvY2F0aW9uIDoge30sCiAgICAgICAgICAgICAgICAgICAgICBzYWxlQ2hhbm5lbDogX3RoaXMyOS50cmFuc2FjdGlvbi5zYWxlQ2hhbm5lbCwKICAgICAgICAgICAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzOiBfdGhpczI5LnRyYW5zYWN0aW9uLmJpbGxpbmdBZGRyZXNzLAogICAgICAgICAgICAgICAgICAgICAgZGVsaXZlcnlBZGRyZXNzOiBfdGhpczI5LnRyYW5zYWN0aW9uLmRlbGl2ZXJ5QWRkcmVzcywKICAgICAgICAgICAgICAgICAgICAgIGRlbGl2ZXJ5RGF0ZVRpbWU6IF90aGlzMjkudHJhbnNhY3Rpb24uZGVsaXZlcnlEYXRlVGltZSwKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uTm90ZTogX3RoaXMyOS50cmFuc2FjdGlvbi50cmFuc2FjdGlvbk5vdGUsCiAgICAgICAgICAgICAgICAgICAgICBzdWJUb3RhbDogX3RoaXMyOS50cmFuc2FjdGlvbi5zdWJUb3RhbCwKICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiBfdGhpczI5LnRyYW5zYWN0aW9uLnRvdGFsID8gX3RoaXMyOS50cmFuc2FjdGlvbi50b3RhbCA6IDAsCiAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IF90aGlzMjkudHJhbnNhY3Rpb24uYW1vdW50RHVlIHx8IDAsCiAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudFRvdGFsOiBfdGhpczI5LnRyYW5zYWN0aW9uLmRpc2NvdW50VG90YWwsCiAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogX3RoaXMyOS50cmFuc2FjdGlvbi5leGNoYW5nZUFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgIHNwZWNpZmljRGlzY291bnRUb3RhbDogX3RoaXMyOS50cmFuc2FjdGlvbi5zcGVjaWZpY0Rpc2NvdW50VG90YWwsCiAgICAgICAgICAgICAgICAgICAgICBkZWxpdmVyeUZlZTogX3RoaXMyOS50cmFuc2FjdGlvbi5kZWxpdmVyeUZlZSwKICAgICAgICAgICAgICAgICAgICAgIHRvdGFsVGF4QW1vdW50OiBfdGhpczI5LnRyYW5zYWN0aW9uLnRvdGFsVGF4QW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJhbGFuY2U6IF90aGlzMjkudHJhbnNhY3Rpb24uY3VycmVudEJhbGFuY2UsCiAgICAgICAgICAgICAgICAgICAgICBiYWxhbmNlOiBfdGhpczI5LnRyYW5zYWN0aW9uLmJhbGFuY2UsCiAgICAgICAgICAgICAgICAgICAgICBjcmVkaXRMaW1pdDogX3RoaXMyOS50cmFuc2FjdGlvbi5jcmVkaXRMaW1pdCwKICAgICAgICAgICAgICAgICAgICAgIHNhdmVPcHRpb246IF90aGlzMjkuc2F2ZU9wdGlvbiwKICAgICAgICAgICAgICAgICAgICAgIHR4blJhdGU6IF90aGlzMjkudHJhbnNhY3Rpb24udHhuUmF0ZSwKICAgICAgICAgICAgICAgICAgICAgIHJhdGU6IF90aGlzMjkudHJhbnNhY3Rpb24udHhuUmF0ZSwKICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogMSwKICAgICAgICAgICAgICAgICAgICAgIC8vMSBvcGVuLCAwIHVzZWQsCiAgICAgICAgICAgICAgICAgICAgICBhcHByb3ZlZEJ5OiBfdGhpczI5LnRyYW5zYWN0aW9uLmFwcHJvdmVkQnksCiAgICAgICAgICAgICAgICAgICAgICByZWplY3RlZEJ5OiB7fSwKICAgICAgICAgICAgICAgICAgICAgIGZvcm1UZW1wbGF0ZTogX3RoaXMyOS50ZW1wbGF0ZXNGb3JtW190aGlzMjkudGVtcGxhdGVdLAogICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWNEaXNjb3VudEl0ZW06IF90aGlzMjkudHJhbnNhY3Rpb24uc3BlY2lmaWNEaXNjb3VudEl0ZW0sCiAgICAgICAgICAgICAgICAgICAgICBvdGhlckNoYXJnZTogX3RoaXMyOS5tT3RoZXJDaGFyZ2UsCiAgICAgICAgICAgICAgICAgICAgICBvdGhlckNoYXJnZUFtb3VudDogX3RoaXMyOS50cmFuc2FjdGlvbi5vdGhlckNoYXJnZUFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgIHRheExpc3RUb3RhbDogX3RoaXMyOS50YXhMaXN0VG90YWwsCiAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc2luZ1N0YXR1czogIiIsCiAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lckRpc2NvdW50SXRlbTogX3RoaXMyOS5jdXN0b21lckRpc2NvdW50SXRlbSwKICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyU2FsZVVuaXQ6IF90aGlzMjkuY3VzdG9tZXJTYWxlVW5pdCwKICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlZFVzZXI6IF90aGlzMjkubG9nZ2VkVXNlciwKICAgICAgICAgICAgICAgICAgICAgIHR4bkxpc3Q6IHR4bkxpc3QsCiAgICAgICAgICAgICAgICAgICAgICBwdWJsaWNMaW5rOiAiIiwKICAgICAgICAgICAgICAgICAgICAgIHVzZWREYXRlQXQ6ICIiLAogICAgICAgICAgICAgICAgICAgICAgZGVsZXRlZEF0OiAiIiwKICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZWQ6IDAsCiAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgICAgICAgICAgICAgICAgICAgc2FsZU9yZGVyVHlwZTogMCwKICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlOiBfdGhpczI5Lm1FbXBsb3llZSwKICAgICAgICAgICAgICAgICAgICAgIHN1cHBsaWVyOiB7fSwKICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlUmF0ZTogX3RoaXMyOS50cmFuc2FjdGlvbi5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgICAgICAgICBmb3JtOiAxLAogICAgICAgICAgICAgICAgICAgICAgbGVhZDogX3RoaXMyOS50cmFuc2FjdGlvbi5sZWFkLAogICAgICAgICAgICAgICAgICAgICAgYW1vdW50RHVlOiBfdGhpczI5LnRyYW5zYWN0aW9uLmFtb3VudER1ZSwKICAgICAgICAgICAgICAgICAgICAgIGl0ZW1TdWJ0b3RhbDogX3RoaXMyOS50cmFuc2FjdGlvbi5pdGVtU3VidG90YWwsCiAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUl0ZW1TdWJ0b3RhbDogX3RoaXMyOS50cmFuc2FjdGlvbi5leGNoYW5nZUl0ZW1TdWJ0b3RhbCwKICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VTdWJ0b3RhbDogX3RoaXMyOS50cmFuc2FjdGlvbi5zZXJ2aWNlU3VidG90YWwsCiAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVNlcnZpY2VTdWJ0b3RhbDogX3RoaXMyOS50cmFuc2FjdGlvbi5leGNoYW5nZVNlcnZpY2VTdWJ0b3RhbCwKICAgICAgICAgICAgICAgICAgICAgIHR4bkl0bVN1YnRvdGFsOiBfdGhpczI5LnRyYW5zYWN0aW9uLnR4bkl0bVN1YnRvdGFsLAogICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VUeG5JdG1TdWJ0b3RhbDogX3RoaXMyOS50cmFuc2FjdGlvbi5leGNoYW5nZVR4bkl0bVN1YnRvdGFsLAogICAgICAgICAgICAgICAgICAgICAgaXRlbURpc2NvdW50OiBfdGhpczI5LnRyYW5zYWN0aW9uLml0ZW1EaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlSXRlbURpc2NvdW50OiBfdGhpczI5LnRyYW5zYWN0aW9uLmV4Y2hhbmdlSXRlbURpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgc2VydmljZURpc2NvdW50OiBfdGhpczI5LnRyYW5zYWN0aW9uLnNlcnZpY2VEaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlU2VydmljZURpc2NvdW50OiBfdGhpczI5LnRyYW5zYWN0aW9uLmV4Y2hhbmdlU2VydmljZURpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgdHhuSXRtRGlzY291bnQ6IF90aGlzMjkudHJhbnNhY3Rpb24udHhuSXRtRGlzY291bnQsCiAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVR4bkl0bURpc2NvdW50OiBfdGhpczI5LnRyYW5zYWN0aW9uLmV4Y2hhbmdlVHhuSXRtRGlzY291bnQsCiAgICAgICAgICAgICAgICAgICAgICByb3V0ZVZpZXc6ICJzYWxlX3F1b3RlX3ZpZXciLAogICAgICAgICAgICAgICAgICAgICAgZXhzcGVjdGVkRGF0ZTogIiIKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIF90aGlzMjkuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIF90aGlzMjkuYnRuRGlzYWJsZWQgPSB0cnVlOyAvLyB3aW5kb3cuY29uc29sZS5sb2coZGF0YSk7CgogICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFuZGxlci5jcmVhdGUoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjkuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjkuYnRuRGlzYWJsZWQgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjkuJHNub3RpZnkuc3VjY2VzcygiU3VjY2Vzc2Z1bGx5Iik7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyOS5pc1NhdmVOZXcgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOS5zZXREZWZhdWx0RGF0YSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI5LmNsb3NlKHJlc3BvbnNlLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjkuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOS5idG5EaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczI5LiRzbm90aWZ5LmVycm9yKCJTb21ldGhpbmcgd2VudCB3cm9uZyIpOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjkuZXJyb3JzLnB1c2goZSk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyhlKTsKCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjEpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkYXRhQm91bmQ6IGZ1bmN0aW9uIGRhdGFCb3VuZCgpIHsKICAgICAgdGhpcy5zY2hlbWFNb2RlbEZpZWxkcyA9IHsKICAgICAgICB1b206IHsKICAgICAgICAgIHZhbGlkYXRpb246IHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHByaWNlOiB7CiAgICAgICAgICB2YWxpZGF0aW9uOiB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgIGxvYWRQYXltZW50VGVybUxpc3Q6IGZ1bmN0aW9uIGxvYWRQYXltZW50VGVybUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczMwID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIyJChfY29udGV4dDIyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjIucHJldiA9IF9jb250ZXh0MjIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczMwLmN1c3RvbWVyKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RyRmlsdGVyID0gJz9pZD0nICsgX3RoaXMzMC5jdXN0b21lci5pZCArICcmdHJhbnNhY3Rpb25EYXRlPScgKyBfdGhpczMwLnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uRGF0ZSArICcmdHlwZT1DdXN0b21lcic7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMwLnRyYW5zYWN0aW9uLnBheW1lbnRUZXJtID0ge307CiAgICAgICAgICAgICAgICAgICAgICBwYXltZW50VGVybUhhbmRsZXJfLmdldChzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm1zID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMwLnRyYW5zYWN0aW9uLnBheW1lbnRUZXJtID0gdGVybXMudGVybTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQ3JlZGl0TGltaXQ6IGZ1bmN0aW9uIGxvYWRDcmVkaXRMaW1pdCgpIHsKICAgICAgdmFyIF90aGlzMzEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjMkKF9jb250ZXh0MjMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMy5wcmV2ID0gX2NvbnRleHQyMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMzEuY3VzdG9tZXIpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHJGaWx0ZXIgPSAnP2lkPScgKyBfdGhpczMxLmN1c3RvbWVyLmlkICsgJyZ0cmFuc2FjdGlvbkRhdGU9JyArIF90aGlzMzEudHJhbnNhY3Rpb24udHJhbnNhY3Rpb25EYXRlICsgJyZ0eXBlPUN1c3RvbWVyJzsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzEudHJhbnNhY3Rpb24uY3JlZGl0TGltaXQgPSAwOwogICAgICAgICAgICAgICAgICAgICAgY3JlZGl0TGltaXRIYW5kbGVyLmdldChzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5jcmVkaXRMaW1pdEl0ZW0gPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWRpdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzMS50cmFuc2FjdGlvbi5jcmVkaXRMaW1pdCA9IGtlbmRvLnBhcnNlRmxvYXQoY3JlZGl0LmFtb3VudCB8fCAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjbGVhclVPTUl0ZW06IGZ1bmN0aW9uIGNsZWFyVU9NSXRlbSgpIHsKICAgICAgdmFyIF90aGlzMzIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI0KCkgewogICAgICAgIHZhciBkczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI0JChfY29udGV4dDI0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjQucHJldiA9IF9jb250ZXh0MjQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRzID0gX3RoaXMzMi4kcmVmcy5zYWxlUXVvdGVJdGVtTGluZURTLmtlbmRvV2lkZ2V0KCk7CiAgICAgICAgICAgICAgICBkcy5kYXRhKCkubWFwKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICAgIG4uc2V0KCd1b20nLCB7fSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzMzIuaXNQcmljZUxldmVsQ2hhbmdlZCA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRRdW90ZTogZnVuY3Rpb24gbG9hZFF1b3RlKGlkKSB7CiAgICAgIHZhciBfdGhpczMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI1JChfY29udGV4dDI1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjUucHJldiA9IF9jb250ZXh0MjUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhpZCwgJ2xvYWQgaWQnKTsKICAgICAgICAgICAgICAgIF90aGlzMzMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYW5kbGVyLnZpZXcoaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczMzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIF90aGlzMzMuaXNFZGl0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgX3RoaXMzMy5pdGVtTGluZXMgPSBbXTsKICAgICAgICAgICAgICAgICAgX3RoaXMzMy50cmFuc2FjdGlvbiA9IHJlcy5kYXRhLmRhdGFbMF07CgogICAgICAgICAgICAgICAgICBfdGhpczMzLmJpbmREYXRhKCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkU2luZ2xlRGF0YTogZnVuY3Rpb24gbG9hZFNpbmdsZURhdGEoKSB7CiAgICAgIHZhciBfdGhpczM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI2JChfY29udGV4dDI2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjYucHJldiA9IF9jb250ZXh0MjYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMzQuYnRuRGlzYWJsZWQgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczM0LiRyb3V0ZS5uYW1lID09PSAnU2FsZSBRdW90ZScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDI1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzNC5pbml0U2FsZVF1b3RlKSB7CiAgICAgICAgICAgICAgICAgIC8vIEVkaXQgTW9kZQogICAgICAgICAgICAgICAgICBfdGhpczM0Lml0ZW1MaW5lcyA9IFtdOwogICAgICAgICAgICAgICAgICBfdGhpczM0LnRyYW5zYWN0aW9uID0gX3RoaXMzNC5pbml0U2FsZVF1b3RlOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzNC5iaW5kRGF0YSgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy8gbmV3CiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczM0LiRyb3V0ZS5wYXJhbXMuaWQgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzNC5sb2FkUXVvdGUoX3RoaXMzNC4kcm91dGUucGFyYW1zLmlkKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczM0LnNldERlZmF1bHREYXRhKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBwcmVmaXhIYW5kbGVyLmdldCgic2FsZSBxdW90ZSIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzNC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIF90aGlzMzQudHJhbnNhY3Rpb25UeXBlID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMzQudHJhbnNhY3Rpb25UeXBlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczM0LiRyb3V0ZS5wYXJhbXMuaWQgIT09IHVuZGVmaW5lZCB8fCBfdGhpczM0LiRyb3V0ZS5wYXJhbXMuaWQgIT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNC50cmFuc2FjdGlvbi50cmFuc2FjdGlvblR5cGUgPSBfdGhpczM0LnRyYW5zYWN0aW9uVHlwZVswXTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMzNC5pbml0U2FsZVF1b3RlICYmIF90aGlzMzQuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNC5nZW5lcmF0ZU51bWJlcigpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzNC5sb2FkUGF5bWVudFRlcm0oKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczM0LmxvYWRTYWxlRm9ybUNvbnRlbnQoKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzNC5sb2FkT3RoZXJDaGFyZ2UoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMzQubG9hZFByaWNlTGV2ZWwoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMzQubG9hZERpc2NvdW50SXRlbSgwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMzQubG9hZFNhbGVDaGFubmVsKCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dDI2Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczM0LmxvYWRDYXRhbG9ncygpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzNC5sb2FkTGVhZCgpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX3RoaXMzNC5sb2FkVGF4KCk7CgogICAgICAgICAgICAgICAgX3RoaXMzNC5sb2FkU2FsZVVuaXRJdGVtcygpOwoKICAgICAgICAgICAgICAgIF90aGlzMzQubG9hZFNlZ21lbnQoKTsKCiAgICAgICAgICAgICAgICBfdGhpczM0LmxvYWRMb2NhdGlvbigpOwoKICAgICAgICAgICAgICAgIF90aGlzMzQubG9hZEVtcGxveWVlQ2VudGVyKCk7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNik7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRhdGVGb3JtYXR0ZWQ6IGZ1bmN0aW9uIGRhdGVGb3JtYXR0ZWQoKSB7CiAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSgpLCBpbnN0aXR1dGUuZGF0ZUZvcm1hdCk7CiAgICB9LAogICAgZGF0ZVRpbWVGb3JtYXR0ZWQ6IGZ1bmN0aW9uIGRhdGVUaW1lRm9ybWF0dGVkKCkgewogICAgICB3aW5kb3cuY29uc29sZS5sb2coaW5zdGl0dXRlLmRhdGVGb3JtYXQgKyAiIEhIOm1tIiwgImluc3QgZGF0ZSIpOwogICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcobmV3IERhdGUoKSwgaW5zdGl0dXRlLmRhdGVGb3JtYXQgKyAiIEhIOm1tIik7CiAgICB9LAogICAgdmFsaWRDdXN0b21lcjogZnVuY3Rpb24gdmFsaWRDdXN0b21lcigpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tZXIuaWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmN1c3RvbWVyLmlkICE9PSBudWxsOwogICAgfSwKICAgIGhpZGRlbkJ1dHRvbjogZnVuY3Rpb24gaGlkZGVuQnV0dG9uKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucXVlcnkudHlwZSA9PSAiZWRpdCIpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAnJHJvdXRlJzogJ2xvYWRTaW5nbGVEYXRhJywKICAgIC8vICckcm91dGUnOiAnbG9hZFZpZXdTYWxlUXVvdGUnLAogICAgaW5pdFNhbGVRdW90ZTogZnVuY3Rpb24gaW5pdFNhbGVRdW90ZSgpIHsKICAgICAgdGhpcy5pbml0aWFsRGF0YSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfbW91bnRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI3KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI3JChfY29udGV4dDI3KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNy5wcmV2ID0gX2NvbnRleHQyNy5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICB0aGlzLmxvYWRTaW5nbGVEYXRhKCk7CiAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RGF0YSgwLCB0aGlzLmZpbHRlciwgdGhpcy5jdXNCYXNlVXJsKTsKICAgICAgICAgICAgICB0aGlzLnJlcXVlc3REYXRhKDAsIHRoaXMuZmlsdGVyLCB0aGlzLmN1c0Jhc2VVcmwpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyNywgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgcmV0dXJuIF9tb3VudGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIG1vdW50ZWQ7CiAgfSgpCn07"},{"version":3,"sources":["SaleQuote.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\"\n                    >\n                        <v-row>\n                            <v-col\n                                class=\"bigSide pr-2 py-0\"\n                                sm=\"8\"\n                                cols=\"12\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_big_bar_class: isHideBar }\"\n                            >\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">Sale {{ saleFormContent.saleQuote }}</h2>\n                                        <v-icon\n                                            v-if=\"isHideBar\"\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                        <span\n                                            style=\"transition: .3s ease-in; z-index:10;\"\n                                            :class=\"{\n                        iconArrow: !isHideBar,\n                        iconArrowHide: isHideBar,\n                      }\"\n                                        >\n                      <v-icon\n                          size=\"22\"\n                          class=\"arr_icon\"\n                          @click=\"hide_smallsitebar\"\n                          v-if=\"isHideBar\"\n                      >\n                        mdi-chevron-left-circle</v-icon\n                      >\n                      <v-icon\n                          size=\"22\"\n                          class=\"arr_icon\"\n                          @click=\"hide_smallsitebar\"\n                          v-if=\"!isHideBar\"\n                      >\n                        mdi-chevron-right-circle</v-icon\n                      ></span\n                                        >\n                                    </v-card>\n                                    <v-card\n                                        outlined\n                                        dense\n                                        class=\"px-4 rounded-4 no_border mb-3\"\n                                        color=\"grayBg\"\n                                    >\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{ $t(\"customer\") }}</label>\n                                                <v-col\n                                                    sm=\"12\"\n                                                    cols=\"12\"\n                                                    class=\"kendo_dropdown_custom pl-0 pb-4 pt-0 mt-1 pr-0\"\n                                                >\n                                                    <dropdownlist\n                                                        width=\"100%\"\n                                                        :data-items=\"customerList\"\n                                                        @change=\"onChange\"\n                                                        :value=\"transaction.customer\"\n                                                        :data-item-key=\"dataItemKey\"\n                                                        :text-field=\"textField\"\n                                                        :default-item=\"defaultItem\"\n                                                        :required=\"true\"\n                                                        :valid=\"validCustomer\"\n                                                        :filterable=\"true\"\n                                                        :disabled=\"isEdit\"\n                                                        @filterchange=\"onFilterChange\"\n                                                    >\n                                                    </dropdownlist>\n                                                </v-col>\n                                                <label class=\"label\">{{ $t(\"date\") }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"transaction.transactionDate\"\n                                                    @onChanged=\"onQuoteDateChanged\"\n                                                    @emitDate=\"transaction.transactionDate = $event\"\n                                                />\n                                                <label class=\"label\">{{ $t(\"number\") }}</label>\n                                                <v-row class=\"mt-1 mr-0\">\n                                                    <v-col sm=\"3\" cols=\"3\" class=\"pt-0 pr-0\">\n                                                        <div class=\"code_text text-bold\">\n                                                            {{ transaction.transactionType.abbr }}\n                                                        </div>\n                                                    </v-col>\n                                                    <v-col sm=\"7\" cols=\"7\" class=\"pt-0 pl-0 pr-1\">\n                                                        <v-text-field\n                                                            class=\" custom-border \"\n                                                            v-model=\"transaction.number\"\n                                                            outlined\n                                                            disabled\n                                                            :rules=\"[(v) => !!v || 'Number is required']\"\n                                                            required\n                                                        />\n                                                    </v-col>\n                                                    <v-col sm=\"2\" cols=\"2\" class=\"pt-0 px-0\">\n                                                        <v-icon\n                                                            color=\"black\"\n                                                            size=\"30\"\n                                                            class=\"border_qrcode\"\n                                                            :disabled=\"isEdit\"\n                                                            @click=\"generateNumber\">mdi-qrcode\n                                                        </v-icon>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                            <v-col sm=\"8\" cols=\"12\" class=\"\">\n                                                <v-row>\n                                                    <v-col sm=\"6\" cols=\"12\" class=\"py-0 pt-0\">\n                                                        <!-- <p class=\"mb-1 d-block\">\n                                                            {{ $t(\"current_balance\") }}\n                                                        </p>\n                                                        <h3 class=\"color_green float-right\">\n                                                            {{ numberFormat(transaction.currentBalance) }}\n                                                        </h3> -->\n                                                        <label class=\"label mb-0\">{{ $t(\"term\") }}</label>\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            v-model=\"transaction.paymentTerm\"\n                                                            :items=\"paymentTerms\"\n                                                            @change=\"onPaymentTermChanged\"\n                                                            placeholder=\"Term\"\n                                                            item-text=\"name\"\n                                                            item-value=\"id\"\n                                                            return-object\n                                                            outlined\n                                                        />\n                                                    </v-col>\n                                                    <v-col sm=\"6\" cols=\"12\" class=\"pl-0 pt-0\">\n                                                        <label class=\"mb-0 d-block\">\n                                                            {{ $t(\"credit_limit_allowed\") }}\n                                                        </label>\n                                                        <h3 class=\"font_19 mt-3 float-left\">\n                                                            {{\n                                                                creditLimitUsage(\n                                                                    transaction.currentBalance,\n                                                                    transaction.creditLimit\n                                                                )\n                                                            }}\n                                                        </h3>\n                                                        <h3 class=\"font_19 mt-3 float-right\">\n                                                            {{ numberFormat(transaction.creditLimit) }}\n                                                        </h3>\n                                                    </v-col>\n                                                </v-row>\n                                                <!-- <p class=\"mb-2 ml-n3 color_grey\">{{ $t('additional_information') }}</p> -->\n\n                                                <v-row class=\"mr-0 mt-0\">\n                                                    <v-col class=\"pb-0 pt-0\" sm=\"6\" cols=\"12\">\n\n                                                        <label class=\"label mb-0\">{{ $t(\"lead\") }}</label>\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            v-model=\"transaction.lead\"\n                                                            :items=\"leads\"\n                                                            placeholder=\"Lead\"\n                                                            item-text=\"name\"\n                                                            item-value=\"id\"\n                                                            clearable\n                                                            return-object\n                                                            outlined\n                                                        />\n                                                        <label class=\"label mb-0\">{{\n                                                                $t(\"price_level\")\n                                                            }}</label>\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            v-model=\"transaction.priceLevel\"\n                                                            :items=\"priceLevel\"\n                                                            @change=\"onPriceLevelChange\"\n                                                            item-value=\"id\"\n                                                            item-text=\"name\"\n                                                            return-object\n                                                            placeholder=\"Price Level\"\n                                                            tage=\"Default Price Level\"\n                                                            outlined\n                                                        />\n                                                    </v-col>\n                                                    <v-col class=\"py-0 pr-0\" sm=\"6\" cols=\"12\">\n                                                        <label class=\"label  mb-0\">{{\n                                                                $t(\"validity_date\")\n                                                            }}</label>\n                                                        <app-datepicker\n                                                            :initialDate=\"transaction.validityDate\"\n                                                            @emitDate=\"transaction.validityDate = $event\"\n                                                        />\n                                                        <div class=\"d-flex justify-space-between\">\n                                                            <div>\n                                                                <label class=\"label mb-0\">{{ $t(\"currency\") }}</label>\n                                                                <p class=\"label font_19 mt-3 mb-0\">{{\n                                                                        currencyCode\n                                                                    }}</p>\n                                                            </div>\n                                                            <div>\n                                                                <label class=\"label mb-0\">{{ $t(\"rate\") }}</label>\n                                                                <p class=\"label font_19 mt-3 mb-0\">{{\n                                                                        transactionRate\n                                                                    }}</p>\n                                                            </div>\n                                                        </div>\n\n                                                    </v-col>\n\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-card outlined dense class=\"no_border mb-3\" color=\"white\">\n                                        <v-row>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                                <kendo-datasource\n                                                    ref=\"saleQuoteItemLineDS\"\n                                                    :data=\"itemLines\"\n                                                    :change=\"dataSourceChanged\"/>\n                                                <kendo-grid\n                                                    id=\"gridItemLineSaleQuote\"\n                                                    class=\"grid-function\"\n                                                    :data-source-ref=\"'saleQuoteItemLineDS'\"\n                                                    :sortable=\"false\"\n                                                    :column-menu=\"true\"\n                                                    :editable=\"true\"\n                                                    :scrollable-virtual=\"true\">\n                                                    <kendo-grid-column\n                                                        :command=\"{\n                              iconClass: 'k-icon k-i-trash',\n                              text: ' ',\n                              click: removeRow,\n                              class: 'btn-plus',}\"\n                                                        :title=\"''\"\n                                                        :width=\"63\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: left; background-color: #EDF1F5',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :title=\"$t('no.')\"\n                                                        :width=\"53\"\n                                                        :column-menu=\"false\"\n                                                        :template=\"rowNumberTmpl\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5;',\n                              class: 'text-products',\n                            }\"\n                                                        :attributes=\"{\n                              style: 'text-align: products',\n                            }\"\n                                                    />\n\n                                                    <kendo-grid-column\n                                                        :field=\"'item'\"\n                                                        :title=\"$t('item')\"\n                                                        :template=\"itemTemplate\"\n                                                        :editor=\"ItemDropDownEditor\"\n                                                        :width=\"200\"\n                                                        :required=\"true\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'description'\"\n                                                        :title=\"$t('description')\"\n                                                        :template=\"'<span>#=description#</span>'\"\n                                                        :width=\"200\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'uom'\"\n                                                        :title=\"$t('uom')\"\n                                                        :width=\"100\"\n                                                        :template=\"UOMTemplate\"\n                                                        :editor=\"UOMDropDownEditor\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: left; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{\n                              style: 'text-align: left',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'qty'\"\n                                                        :title=\"$t('qty')\"\n                                                        :format=\"'{0:n}'\"\n                                                        :editor=\"numberEditor\"\n                                                        :template=\"'<span>#=qty#</span>'\"\n                                                        :width=\"100\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: left; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: left; ' }\"\n                                                    />\n\n                                                    <kendo-grid-column\n                                                        :field=\"'price'\"\n                                                        :title=\"$t('price')\"\n                                                        :width=\"200\"\n                                                        :template=\"priceFormat\"\n                                                        :editor=\"numberEditor\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: left; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{\n                              style: 'text-align: left',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'amount'\"\n                                                        :title=\"$t('amount')\"\n                                                        :editor=\"numberEditor\"\n                                                        :editable=\"\n                              () => {\n                                return false;\n                              }\n                            \"\n                                                        :width=\"200\"\n                                                        :template=\"amountFormat\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: left; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{\n                              style: 'text-align: left',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'vatTax'\"\n                                                        :title=\"$t('vat')\"\n                                                        :width=\"200\"\n                                                        :template=\"vatTemplate\"\n                                                        :editor=\"VatTaxDropDownEditor\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: left; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: left' }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'serviceDate'\"\n                                                        :title=\"$t('date_from')\"\n                                                        :width=\"160\"\n                                                        :hidden=\"!saleFormContent.serviceDate\"\n                                                        :template=\"\n                              '<span>#= kendo.toString(new Date(serviceDate), dateFormat)#</span>'\n                            \"\n                                                        :editor=\"ServiceDateEditor\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'serviceDateTo'\"\n                                                        :title=\"$t('date_to')\"\n                                                        :width=\"160\"\n                                                        :hidden=\"!saleFormContent.serviceDateTo\"\n                                                        :template=\"\n                              '<span>#= kendo.toString(new Date(serviceDateTo), dateFormat)#</span>'\n                            \"\n                                                        :editor=\"ServiceDateToEditor\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'modifier'\"\n                                                        :title=\"$t('modifier')\"\n                                                        :format=\"'{0:n}'\"\n                                                        :width=\"200\"\n                                                        :hidden=\"!saleFormContent.modifier\"\n                                                        :template=\"\n                              '<span>#=modifier.name?modifier.name:``#</span>'\n                            \"\n                                                        :editor=\"ModifierDropDownEditor\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: left; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: left' }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'discountItem'\"\n                                                        :title=\"$t('discount_item')\"\n                                                        :width=\"200\"\n                                                        :hidden=\"!saleFormContent.discountItem\"\n                                                        :template=\"discountItemTemplate\"\n                                                        :editor=\"DiscountItemDropDownEditor\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: left; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{\n                              style: 'text-align: left',\n                            }\"\n                                                    />\n\n                                                    <kendo-grid-column\n                                                        :field=\"'specificTax'\"\n                                                        :title=\"$t('specificTax')\"\n                                                        :width=\"200\"\n                                                        :hidden=\"!saleFormContent.specificTax\"\n                                                        :template=\"\n                              '<span>#=specificTax.defaultTax?specificTax.defaultTax:``#</span>'\n                            \"\n                                                        :editor=\"SpecificTaxDropDownEditor\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: left; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: left' }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'otherTax'\"\n                                                        :title=\"$t('otherTax')\"\n                                                        :width=\"200\"\n                                                        :hidden=\"!saleFormContent.otherTax\"\n                                                        :template=\"\n                              '<span>#=otherTax.defaultTax?otherTax.defaultTax:``#</span>'\n                            \"\n                                                        :editor=\"OtherTaxDropDownEditor\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: left; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: left' }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'publicLightingTax'\"\n                                                        :title=\"$t('pl_tax')\"\n                                                        :width=\"200\"\n                                                        :hidden=\"!saleFormContent.publicLightingTax\"\n                                                        :template=\"\n                              '<span>#=publicLightingTax.defaultTax?publicLightingTax.defaultTax:``#</span>'\n                            \"\n                                                        :editor=\"PublicLightingTaxDropDownEditor\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: left; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: left' }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'saleUnit'\"\n                                                        :title=\"$t('sale_unit')\"\n                                                        :width=\"200\"\n                                                        :hidden=\"!saleFormContent.saleUnit\"\n                                                        :template=\"saleUnitTemplate\"\n                                                        :editor=\"SaleUnitDropDownEditor\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: left; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: left' }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'employee'\"\n                                                        :title=\"$t('employee')\"\n                                                        :width=\"200\"\n                                                        :hidden=\"!saleFormContent.employee\"\n                                                        :template=\"empImpl\"\n                                                        :editor=\"EmployeeDropDownEditor\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: left; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: left' }\"\n                                                    />\n                                                </kendo-grid>\n                                            </v-col>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                <v-row>\n                                                    <v-col sm=\"6\" cols=\"12\" class=\"pt-0 pb-1\">\n                                                        <v-btn\n                                                            class=\"float-left btn_plus  mr-2\"\n                                                            @click=\"addRow\"\n                                                        >\n                                                            <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                                        </v-btn>\n                                                        <!--                            <v-btn @click=\"dialogCatalog=true\"-->\n                                                        <!--                                   color=\"secondary\"-->\n                                                        <!--                                   class=\"float-left rounded-0 mr-2 white&#45;&#45;text text-capitalize\">-->\n                                                        <!--                              {{ $t('catalog') }}-->\n                                                        <!--                            </v-btn>-->\n                                                        <!--                                                        <template>-->\n                                                        <!--                                                            <v-file-input class=\"mt-0 pt-0 \" sm=\"3\" cols=\"6\"-->\n                                                        <!--                                                                          v-model=\"files\"-->\n                                                        <!--                                                                          :placeholder=\"$t('attachment')\"-->\n                                                        <!--                                                                          multiple-->\n                                                        <!--                                                                          prepend-icon=\"mdi-paperclip\">-->\n                                                        <!--                                                                <template v-slot:selection=\"{ text }\">-->\n                                                        <!--                                                                    <v-chip-->\n                                                        <!--                                                                        small-->\n                                                        <!--                                                                        label-->\n                                                        <!--                                                                        color=\"primary\"-->\n                                                        <!--                                                                    >-->\n                                                        <!--                                                                        {{ text }}-->\n                                                        <!--                                                                    </v-chip>-->\n                                                        <!--                                                                </template>-->\n                                                        <!--                                                            </v-file-input>-->\n                                                        <!--                                                        </template>-->\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"py-0 pt-3\">\n                                                <v-row>\n                                                    <v-col class=\"pt-0\" sm=\"5\" cols=\"6\">\n                                                        <v-card\n                                                            class=\"no-boxshadow rounded-4 pa-3 rounded-0\"\n                                                            height=\"375px\"\n                                                            color=\"grayBg\"\n                                                        >\n                                                            <v-row>\n                                                                <v-col class=\"py-0\" sm=\"12\" cols=\"12\">\n                                                                    <label class=\"label\">{{\n                                                                            $t(\"billing_address\")\n                                                                        }}</label>\n                                                                    <v-select\n                                                                        class=\"mt-1\"\n                                                                        v-model=\"transaction.billingAddress\"\n                                                                        :items=\"billingAddress\"\n                                                                        item-value=\"id\"\n                                                                        item-text=\"name\"\n                                                                        tage=\"Billing Address\"\n                                                                        placeholder=\"Address\"\n                                                                        outlined\n                                                                    />\n                                                                    <!--                                  <label class=\"label\">{{-->\n                                                                    <!--                                      $t(\"pickup_delivery_address\")-->\n                                                                    <!--                                    }}</label>-->\n                                                                    <!--                                  <v-select-->\n                                                                    <!--                                      class=\"mt-1\"-->\n                                                                    <!--                                      v-model=\"transaction.deliveryAddress\"-->\n                                                                    <!--                                      :items=\"deliveryAddress\"-->\n                                                                    <!--                                      item-value=\"id\"-->\n                                                                    <!--                                      item-text=\"name\"-->\n                                                                    <!--                                      tage=\"Pickup/ Delivery Address\"-->\n                                                                    <!--                                      placeholder=\"USA\"-->\n                                                                    <!--                                      outlined-->\n                                                                    <!--                                  />-->\n                                                                    <!--                                  <label class=\"label\">{{-->\n                                                                    <!--                                      $t(\"pickup_delivery_date_time\")-->\n                                                                    <!--                                    }}</label>-->\n                                                                    <!--                                  <v-datetime-picker-->\n                                                                    <!--                                      :date-format=\"dateFormatted\"-->\n                                                                    <!--                                      v-model=\"transaction.deliveryDateTime\"-->\n                                                                    <!--                                  >-->\n                                                                    <!--                                  </v-datetime-picker>-->\n                                                                    <label>{{\n                                                                            $t(\"message_on_sale_quote\")\n                                                                        }}</label>\n                                                                    <v-textarea\n                                                                        class=\"mt-1\"\n                                                                        v-model=\"transaction.transactionNote\"\n                                                                        outlined\n                                                                        no-resize\n                                                                        height=\"60px\"\n                                                                        tage=\"Message on Invoice\"\n                                                                        placeholder=\"This will appear on the quote\"\n                                                                    />\n                                                                </v-col>\n                                                            </v-row>\n                                                        </v-card>\n                                                    </v-col>\n                                                    <v-col class=\"pt-0\" sm=\"7\" cols=\"6\">\n                                                        <v-simple-table>\n                                                            <template v-slot:default>\n                                                                <tbody>\n                                                                <tr>\n                                                                    <td class=\"text-left pr-0\">\n                                                                        {{ $t(\"subtotal\") }}\n                                                                    </td>\n                                                                    <td class=\"text-center\">:</td>\n                                                                    <td class=\"text-right\">\n                                                                        {{ numberFormat(transaction.subTotal) }}\n                                                                    </td>\n                                                                </tr>\n                                                                <tr>\n                                                                    <td class=\"text-left pr-0\">\n                                                                        {{ $t(\"general_discount\") }}\n                                                                    </td>\n                                                                    <td class=\"text-center\">:</td>\n                                                                    <td class=\"text-right\">\n                                                                        ({{\n                                                                            numberFormat(transaction.discountTotal)\n                                                                        }})\n                                                                    </td>\n                                                                </tr>\n                                                                <tr>\n                                                                    <td class=\"text-left pr-0\">\n                                                                        {{ $t(\"total_tax\") }}\n                                                                        <v-btn\n                                                                            @click=\"dialogTax = true\"\n                                                                            outlined\n                                                                            class=\"text-white text-bold rounded-0 float-right text-uppercase\"\n                                                                            color=\"primary\"\n                                                                            style=\"height: 30px !important;\"\n                                                                        >\n                                                                            {{ $t(\"tax\") }}\n                                                                        </v-btn>\n                                                                    </td>\n                                                                    <td class=\"text-center\">:</td>\n                                                                    <td class=\"text-right\">\n                                                                        {{\n                                                                            numberFormat(transaction.totalTaxAmount)\n                                                                        }}\n                                                                    </td>\n                                                                </tr>\n                                                                <tr style=\"background:#F8F8F9;\">\n                                                                    <td class=\"text-left text-uppercase pr-0\">\n                                                                        {{ $t(\"total\") }}\n                                                                    </td>\n                                                                    <td class=\"text-center\">:</td>\n                                                                    <td\n                                                                        class=\"text-right color_green text-bold\"\n                                                                        id=\"total\"\n                                                                    >\n                                                                        {{ numberFormat(transaction.total) }}\n                                                                    </td>\n                                                                </tr>\n                                                                </tbody>\n                                                            </template>\n                                                        </v-simple-table>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n                                    <v-divider/>\n                                    <v-card outlined dense class=\"no_border function_footer\">\n                                        <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                                            <span v-html=\"errorMessage\"/>\n                                        </v-alert>\n                                        <v-menu>\n                                            <template v-slot:activator=\"{ on }\">\n                                                <v-btn\n                                                    class=\"mr-2 text-capitalize  black--text float-left\"\n                                                    v-on=\"on\"\n                                                >\n                                                    {{\n                                                        template >= 0\n                                                            ? templatesForm[template].name\n                                                            : $t(\"select_template\")\n                                                    }}\n                                                    <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                                </v-btn>\n                                            </template>\n                                            <v-list>\n                                                <v-list-item\n                                                    v-for=\"(item, index) in templatesForm\"\n                                                    @click=\"ChoseTemplate(index)\"\n                                                    :key=\"index\">\n                                                    <v-list-item-title>{{ item.name }}</v-list-item-title>\n                                                </v-list-item>\n                                            </v-list>\n                                        </v-menu>\n                                        <v-btn\n                                            color=\"black\"\n                                            outlined\n                                            class=\"text-capitalize  black--text float-left\"\n                                            @click=\"cancel\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <!--                    <v-menu>-->\n                                        <!--                      <template v-slot:activator=\"{ on }\">-->\n                                        <!--                        <v-btn color=\"primary\"-->\n                                        <!--                               class=\"ml-2 float-right text-capitalize  white&#45;&#45;text\"-->\n                                        <!--                               v-on=\"on\">-->\n                                        <!--                          {{ $t('save_option') }}-->\n                                        <!--                          <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>-->\n                                        <!--                        </v-btn>-->\n                                        <!--                      </template>-->\n                                        <!--                      <v-list rounded>-->\n                                        <!--                        <v-list-item-group>-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title v-if=\"!isEdit\" @click=\"saveNew\">-->\n                                        <!--                                {{ $t('save_new') }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title @click=\"saveClose\">{{-->\n                                        <!--                                  $t('save_close')-->\n                                        <!--                                }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                        </v-list-item-group>-->\n                                        <!--                      </v-list>-->\n                                        <!--                    </v-menu>-->\n                                        <v-btn\n                                            color=\"primary\"\n                                            :disabled=\"btnDisabled\"\n                                            class=\"float-right white--text text-capitalize \"\n                                            @click=\"saveClose\">\n                                            {{ $t(\"save_close\") }}\n                                        </v-btn>\n                                        <v-btn color=\"secondary\"\n                                               style=\"margin-right: 10px !important\"\n                                               :disabled=\"btnDisabled\"\n                                               class=\"white--text float-right text-capitalize\"\n                                               @click=\"saveNew\" :hidden=\"hiddenButton\">{{ $t(\"save_new\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-form>\n                            </v-col>\n                            <v-col\n                                class=\"smallSide pl-2 pt-0\"\n                                sm=\"4\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_small_bar_class: isHideBar }\">\n                                <div class=\"d-flex justify-end\">\n                                    <h3 style=\"color: #b3b5bc; font-size:20px;\"\n                                        v-if=\"!isHideBar\"\n                                        class=\"text-uppercase\">\n                                        <span class=\"pointer\" @click=\"Help('sale quote')\">{{ $t(\"help\") }}</span>\n                                        <v-icon\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333333; font-size: 40px;\"\n                                            class=\"float-right mt-n1\">close\n                                        </v-icon>\n                                    </h3>\n                                </div>\n\n                                <div v-if=\"!isHideBar\" class=\"small_sidebar mt-2 px-4 rounded-4 grayBg\">\n                                    <v-card style=\"margin-bottom: 2px;\" outlined dense\n                                            class=\"pa-3 no_border my_card rounded-4 white--text\"\n                                            color=\"primary\" height=\"60px\">\n                                        <h3 class=\"text-left font_13 flex-1 text-uppercase\">{{ $t('amount_due') }}</h3>\n                                        <h3 class=\"text-right flex-1 font_20 niradei_heavy\">\n                                            {{ numberFormat(transaction.total) }} </h3>\n                                    </v-card>\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-4\">\n                                            <!-- <h4  style=\"line-height: 18px;\" class=\"mb-1 text-uppercase\">{{ $t('analysis') }}</h4> -->\n                                            <label class=\"label\">{{ $t(\"segment\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"transaction.segment\"\n                                                :items=\"segments\"\n                                                item-value=\"id\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                return-object\n                                                :rules=\"[(v) => !!v || 'Segment is required']\"\n                                                tage=\"segment\"\n                                                placeholder=\"Segment\"\n                                                outlined=\"\"\n                                            />\n                                            <label class=\"label\">{{ $t(\"location\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"transaction.location\"\n                                                :items=\"locations\"\n                                                item-value=\"id\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                return-object\n                                                tage=\"Location\"\n                                                placeholder=\"bu/location\"\n                                                outlined=\"\"\n                                            />\n                                            <label class=\"label font_14\">{{\n                                                    $t(\"sale_channel\")\n                                                }}</label>\n                                            <v-select\n                                                class=\" mt-1\"\n                                                v-model=\"transaction.saleChannel\"\n                                                :items=\"saleChannelList\"\n                                                item-value=\"id\"\n                                                item-text=\"name\"\n                                                return-object\n                                                tage=\"Sale Channel\"\n                                                placeholder=\"Channel\"\n                                                outlined\n                                            />\n                                            <label class=\"label font_14\">{{ $t('employee') }}</label>\n                                            <v-col sm=\"12\" cols=\"12\"\n                                                   class=\"kendo_dropdown_custom pl-0 pr-0 pb-3 pt-1\">\n                                                <dropdownlist\n                                                    :data-items=\"employees\"\n                                                    @change=\"onEmployeeChanged\"\n                                                    :value=\"mEmployee\"\n                                                    :data-item-key=\"'id'\"\n                                                    :text-field=\"'name'\"\n                                                    :default-item=\"defaultItem\"\n                                                    :filterable=\"true\"\n                                                    @filterchange=\"onEmployeeFilterChanged\">\n                                                </dropdownlist>\n                                            </v-col>\n                                            <label class=\"label\">{{ $t(\"for_month_of\") }}</label>\n                                            <app-monthof-picker\n                                                :initMonthOf=\"transaction.monthOf\"\n                                                @emitMonthOf=\"transaction.monthOf = $event\"\n                                            />\n                                        </v-col>\n                                    </v-row>\n                                </div>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"false\"\n                :myLoading=\"true\"\n                :alertMessage=\"loadingAlert\"\n                :color=\"loadingColorAlert\"\n                :alertText=\"loadingTextAlert\"\n            />\n            <v-dialog v-model=\"dialogTax\" max-width=\"450px\">\n                <v-card>\n                    <div class=\"modal_header\">\n                        <v-card-title>{{ $t(\"tax_list\") }}</v-card-title>\n                        <v-icon class=\"btn_close\" @click=\"dialogTax = false\">close</v-icon>\n                    </div>\n                    <v-card-text class=\"modal_text_content\">\n                        <v-row>\n                            <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                <v-simple-table>\n                                    <template v-slot:default>\n                                        <tbody>\n                                        <tr\n                                            v-for=\"(value, name) in taxListTotal\"\n                                            v-bind:key=\"name\"\n                                        >\n                                            <td class=\"text-left\" width=\"180px\">{{ name }}</td>\n                                            <td class=\"text-center\">:</td>\n                                            <td class=\"text-right\">\n                                                {{ numberFormat(value) }}\n                                            </td>\n                                        </tr>\n                                        <tr>\n                                            <td class=\"text-left\" width=\"180px\">\n                                                {{ $t(\"total\") }}\n                                            </td>\n                                            <td class=\"text-center\">:</td>\n                                            <td class=\"text-right\">\n                                                {{ numberFormat(transaction.totalTaxAmount) }}\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </template>\n                                </v-simple-table>\n                            </v-col>\n                        </v-row>\n                    </v-card-text>\n                    <v-divider/>\n                </v-card>\n            </v-dialog>\n            <v-dialog v-model=\"dialogCatalog\" max-width=\"850px\">\n                <v-card>\n                    <div class=\"modal_header\">\n                        <v-card-title>{{ $t(\"catalog\") }}</v-card-title>\n                        <v-icon @click=\"dialogCatalog = false\"\n                        >close\n                        </v-icon\n                        >\n                    </div>\n                    <v-card-text class=\"modal_text_content\">\n                        <v-row>\n                            <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                <v-simple-table>\n                                    <kendo-datasource\n                                        ref=\"catalogDatasource\"\n                                        :data=\"catalogs\"\n                                        :schema=\"gridSchema\"\n                                    />\n                                    <kendo-grid\n                                        id=\"gridCatalog\"\n                                        class=\"grid-function\"\n                                        :data-source-ref=\"'catalogDatasource'\"\n                                        :style=\"{ width: '100%' }\"\n                                        :noRecords=\"true\"\n                                        :pageable-numeric=\"false\"\n                                        :pageable-previous-next=\"false\"\n                                        :pageable-messages-display=\"'Showing {2} data items'\"\n                                        :scrollable-virtual=\"true\"\n                                    >\n                                        <kendo-grid-column\n                                            :field=\"'images'\"\n                                            :title=\"$t('image')\"\n                                            :width=\"50\"\n                                            :template=\"loadImage\"\n                                            :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                                        />\n                                        <kendo-grid-column\n                                            :field=\"'number'\"\n                                            :title=\"$t('number')\"\n                                            :width=\"70\"\n                                            :template=\"'<span>#=number#</span>'\"\n                                            :groupHeaderColumnTemplate=\"'#=value#'\"\n                                            :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                                        />\n                                        <kendo-grid-column\n                                            :field=\"'name'\"\n                                            :title=\"$t('name')\"\n                                            :attributes=\"{ class: 'tb_name_td' }\"\n                                            :width=\"100\"\n                                            :template=\"'<span>#=name#</span>'\"\n                                            :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                                        />\n                                        <kendo-grid-column\n                                            :field=\"'description'\"\n                                            :title=\"$t('description')\"\n                                            :width=\"100\"\n                                            :template=\"'<span>#=description#</span>'\"\n                                            :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                                        />\n                                        <kendo-grid-column\n                                            :field=\"'noOfProduct'\"\n                                            :title=\"$t('products')\"\n                                            :template=\"'<span>#=noOfProduct#</span>'\"\n                                            :width=\"50\"\n                                            :headerAttributes=\"{\n                        style: 'text-align: left; background-color: #EDF1F5',\n                      }\"\n                                        />\n                                        <kendo-grid-column\n                                            :field=\"''\"\n                                            :title=\"$t('action')\"\n                                            :width=\"60\"\n                                            :command=\"[{ text: $t('add'), click: addCatalog }]\"\n                                            :headerAttributes=\"{\n                        style: 'text-align: left; background-color: #EDF1F5',\n                      }\"\n                                        />\n                                    </kendo-grid>\n                                </v-simple-table>\n                            </v-col>\n                        </v-row>\n                    </v-card-text>\n                    <v-divider/>\n                </v-card>\n            </v-dialog>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n// import LoadingMe from '@/components/Loading'\nimport {i18n} from \"@/i18n\";\nimport DatePickerComponent from \"@/components/custom_templates/DatePickerComponent\";\nimport kendo from \"@progress/kendo-ui\";\nimport {DropDownList} from \"@progress/kendo-vue-dropdowns\";\nimport SaleFormContentModel from \"@/scripts/model/SaleFormContent\";\nimport ItemLineModel from \"@/scripts/invoice/model/ItemLine\";\nimport {uuid} from \"vue-uuid\";\nimport TransactionModel from \"@/scripts/model/Transaction\";\n\n/* Store */\nimport store from \"@/store\"\n\nconst institute = store.state.institute.institute\n\nimport {ShowResource} from \"@/observable/store\";\nimport paymentTermHandler_ from \"@/scripts/paymentterm/handler/paymentTermHandler\";\nimport creditLimitHandler from \"@/scripts/creditLimit/handler/creditLimitHandler\";\n////handler\nconst transactionHandler = require(\"@/scripts/transactionHandler\");\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\nconst customerHandler = require(\"@/scripts/customerHandler\");\nconst projectHandler = require(\"@/scripts/projectHandler\");\nconst prefixHandler = require(\"@/scripts/prefixHandler\");\nconst paymentTermHandler = require(\"@/scripts/paymentTermHandler\");\nconst priceLevelHandler = require(\"@/scripts/priceLevelHandler\");\nconst saleFormContentHandler = require(\"@/scripts/saleFormContentHandler\");\nconst employeeHandler = require(\"@/scripts/employeeHandler\");\nconst itemModifierHandler = require(\"@/scripts/itemModifierHandler\");\nconst discountItemHandler = require(\"@/scripts/discountItemHandler\");\nconst uomPriceHandler = require(\"@/scripts/uomPriceHandler\");\nconst productVariantHandler = require(\"@/scripts/productVariantHandler\");\nconst otherChargeHandler = require(\"@/scripts/otherChargeHandler\");\nconst locationHandler = require(\"@/scripts/locationHandler\");\nconst settingsHandler = require(\"@/scripts/settingsHandler\");\nconst saleChannelHandler = require(\"@/scripts/saleChannelHandler\");\nconst saleUnitItemHandler = require(\"@/scripts/saleUnitItemHandler\");\nconst settingHandler = require(\"@/scripts/settingHandler\");\nconst catalogHandler = require(\"@/scripts/catalogHandler\");\nconst productHandler = require(\"@/scripts/productHandler\");\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\");\n\nconst saleFormContentModel = new SaleFormContentModel({});\nconst itemLineModel = new ItemLineModel({});\n//other\nconst $ = kendo.jQuery\nconst textField = \"numberName\";\nconst keyField = \"id\";\nconst defaultItem = {[textField]: \"Select customer...\", [keyField]: null};\nconst emptyItem = {[textField]: \"loading ...\"};\nconst invoicePrefix = \"lin-\";\nconst DISCOUNT_TYPE = \"?type=Sale\";\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\nconst {dataStore} = require(\"@/observable/store\");\n\nexport default {\n    name: \"SaleQuote\",\n    props: {\n        id: {\n            type: String,\n        },\n        initSaleQuote: {\n            type: TransactionModel,\n        },\n    },\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n        \"app-datepicker\": DatePickerComponent,\n        dropdownlist: DropDownList,\n        \"app-monthof-picker\": () =>\n            import(\"@/components/kendo_templates/MonthOfPicker\"),\n    },\n    data: () => ({\n        transaction: new TransactionModel(),\n        isEdit: false,\n        numSelect: [1],\n        dialogTax: false,\n        //Catalog\n        dialogCatalog: false,\n        gridSchema: {\n            model: {\n                id: \"id\",\n            },\n        },\n        catalogs: [],\n        imgURL: \"https://s3-ap-southeast-1.amazonaws.com/images.banhji/\",\n        // LoadingMe\n        showLoading: false,\n        loadingAlert: false,\n        loadingColorAlert: \"\",\n        loadingTextAlert: \"\",\n        bill_date: \"\",\n        alert: false,\n        files: [],\n        errors: [],\n        // Form validation\n        valid: true,\n        templates: [\n            {title: \"Draft\"},\n            {title: \"Open\"},\n            {title: \"Partially Closed\"},\n            {title: \"Closed\"},\n        ],\n        col_expand: 9,\n        col_hide: 3,\n        isHideBar: false,\n        filter: \"\",\n        textField: \"numberName\",\n        dataItemKey: \"id\",\n        defaultItem: defaultItem,\n        mOtherCharge: [],\n        //item\n        itemLines: [],\n        itemLine: itemLineModel,\n        dateFormat: itemLineModel.dateFormat,\n        //customer\n        cusBaseUrl: customerHandler.searchv1(),\n        empBaseUrl: employeeHandler.search(),\n        customer: {},\n        customerList: [],\n        billingAddress: [],\n        deliveryAddress: [],\n        priceLevel: [],\n        //date\n        paymentTerms: [],\n        transactions: [],\n        employees: [],\n        mEmployee: {},\n        saleChannelList: [],\n        locations: [],\n        customerProjects: [],\n        segments: [],\n        transactionType: {},\n        taxListTotal: {},\n        customerDiscountItem: [],\n        customerSaleUnit: [],\n        saleFormContent: saleFormContentModel,\n        transactionDate: new Date().toISOString().substr(0, 10),\n        deliveryDateTime: new Date().toISOString().substr(0, 10),\n        validityDate: new Date().toISOString().substr(0, 10),\n        specificDiscountItem: [],\n        otherChargeList: [],\n        saleUnitItemList: [],\n        otherTax: [],\n        specificTax: [],\n        publicLightingTax: [],\n        vatTax: [],\n        tax: [],\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email\n        },\n        leads: [],\n        monthOf: '',\n        isSaveNew: false,\n        isSaveClose: false,\n        isSavePrint: false,\n        isSaveDraft: false,\n        exchangeRate: {},\n        baseCurrencyCode: \"\",\n        currencyCode: \"\",\n        transactionRate: 1,\n        saveOption: \"\",\n        schemaModelFields: {\n            uom: {validation: {required: true}},\n            price: {validation: {required: true}},\n        },\n        isPriceLevelChanged: false,\n        templatesForm: [\n            {\n                id: 1,\n                type: \"Sale Quote\",\n                name: \"Sale Quote\",\n            }\n        ],\n        template: 0,\n        btnDisabled: false\n    }),\n    methods: {\n        ChoseTemplate(i) {\n            this.template = i;\n        },\n        async loadEmployeeCenter() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.employees = [];\n                    employeeHandler\n                        .center(undefined)\n                        .then((res) => {\n                            this.showLoading = true;\n                            this.transaction.employee = {}\n                            this.employees = []\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.employees = res.data.data;\n                                // if (this.employees.length > 0) {\n                                //     this.transaction.employee = this.employees[0];\n                                // }\n                            } else {\n                                this.showLoading = false;\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        numberEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    min: 0.0001,\n                    format: `${this.saleFormContent.decimal}`,\n                });\n        },\n        amountFormat(value) {\n            return kendo.toString(value.amount, `n${this.saleFormContent.decimal}`);\n        },\n        priceFormat(value) {\n            return kendo.toString(value.price, `n${this.saleFormContent.decimal}`);\n        },\n        Help(key_search) {\n            ShowResource(key_search);\n        },\n        initialData() {\n            if (this.initSaleQuote) {\n                // Edit Mode\n                this.transaction = this.initSaleQuote;\n                this.bindData();\n            } else {\n                // Brand New Mode\n                if (this.$route.params.id === undefined) {\n                    this.setDefaultData();\n                } else {\n                    this.loadViewSaleQuote();\n                }\n            }\n        },\n        setDefaultData() {\n            // Brand New Mode\n            this.isEdit = false;\n            //set default segment\n            // let s = {};\n            // if (this.segments.length > 0) {\n            //     s = this.segments[0];\n            // }\n            // //set default location\n            // let l = {};\n            // if (this.locations.length > 0) {\n            //     l = this.locations[0];\n            // }\n            // //set default employee\n            // let e = {};\n            // if (this.employees.length > 0) {\n            //     e = this.employees[0];\n            // }\n            // //transaction type\n            // let tt = {};\n            // if (this.transactionType.length > 0) {\n            //     tt = this.transactionType[0];\n            // }\n            // //payment term\n            // let p = {};\n            // if (this.paymentTerms.length > 0) {\n            //     p = this.paymentTerms[0];\n            // }\n            // //price level\n            // let pl = {};\n            // if (this.priceLevel.length > 0) {\n            //     pl = this.priceLevel[0];\n            // }\n            // //sale chanel\n            // let sc = {};\n            // if (this.saleChannelList.length > 0) {\n            //     sc = this.saleChannelList[0];\n            // }\n            this.transaction = new TransactionModel();\n            // Generate Number\n            this.itemLines = []\n            let ds = this.$refs.saleQuoteItemLineDS.kendoWidget();\n            ds.data([]);\n            // Add 2 default lines\n            // this.removeEmptyLine()\n            setTimeout(() => {\n                // this.addRow()\n                this.addRow()\n            }, 500)\n            // this.loadLead();\n            // this.loadSaleChannel();\n            // this.loadEmployeeCenter()\n            this.otherChargeList = []\n            this.mOtherCharge = []\n            this.taxListTotal = {}\n            this.mEmployee = {}\n            // this.loadLead()\n            this.leads = []\n        },\n        bindData() {\n            // Edit Mode\n            this.isEdit = true;\n            this.customer = this.transaction.customer;\n            // this.onChange(e)\n            this.billingAddress = this.transaction.customer.billingAddress;\n            this.deliveryAddress = this.transaction.customer.deliveryAddress;\n            this.taxListTotal = this.transaction.taxListTotal;\n            this.itemLines = this.transaction.itemLines;\n            this.mOtherCharge = this.transaction.otherCharge;\n            this.loadProjectByCustomer();\n            if (this.customer.hasOwnProperty(\"id\")) {\n                this.loadCustomerBalance(this.customer.id);\n            }\n        },\n        addSelect() {\n            let amount_num = this.numSelect.length;\n            let num = this.numSelect[amount_num - 1];\n            let new_num = num + 1;\n            let lenghtItem = this.specificDiscountItem.length;\n            if (new_num <= lenghtItem) {\n                this.numSelect.push(new_num);\n            }\n        },\n        removeSelect(index) {\n            this.numSelect.splice(index, 1);\n            // window.console.log(index, this.numSelect)\n            // this.selectDiscount.splice(index,1)\n            // window.console.log(\"remove\",this.selectDiscount)\n            // this.selectDiscount = this.selectDiscount.filter(item =>  item.id != val.id);\n        },\n        errorMessage() {\n        },\n        accountDropDownEditor() {\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((result) => {\n                if (result.value) {\n                    this.clear();\n                    this.$router.go(-1);\n                }\n            });\n        },\n        hide_smallsitebar() {\n            this.isHideBar = !this.isHideBar;\n        },\n        //number\n        generateNumber() {\n            // window.console.log('generateNumber')\n            let d = new Date().toISOString().substr(0, 10);\n            if (this.transaction.transactionDate) {\n                // window.console.log(this.transactionDate)\n                d = this.transaction.transactionDate;\n            }\n            let data = {\n                abbr: this.transaction.transactionType.abbr,\n                structure: this.transaction.transactionType.structure,\n                prefixSeparator: this.transaction.transactionType.prefixSeparator || '',\n                numberSeparator: this.transaction.transactionType.numberSeparator || '',\n                format: this.transaction.transactionType.format || 5,\n                sequcencing: this.transaction.transactionType.sequcencing,\n                transactionDate: d,\n                type: \"Sale Quote\",\n            };\n            this.showLoading = false;\n            billingHandler\n                .lastNumber(data)\n                .then((response) => {\n                    if (response.data.statusCode === 200) {\n                        const res = response.data.data;\n                        const lastNumber = this.zeroPad(\n                            parseInt(res.lastNumber),\n                            this.transaction.transactionType.format\n                        );\n                        const number =\n                            res.suffix +\n                            this.transaction.transactionType.numberSeparator +\n                            lastNumber;\n                        this.transaction.number = number;\n                        this.showLoading = false;\n                    }\n                })\n                .catch((e) => {\n                    this.showLoading = false;\n                    this.errors.push(e);\n                });\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, \"0\");\n        },\n        //customer\n        onChange(event) {\n            window.console.log(event, 'customer');\n            const value = event.value;\n            if (value && value[textField] === emptyItem[textField]) {\n                return;\n            }\n            this.customer = value;\n            this.transaction.customer = value;\n            // this.invoice = value\n            window.console.log(value, 'customer')\n            this.transaction.priceLevel = value.priceLevel ? value.priceLevel : {}\n            this.billingAddress = value.hasOwnProperty(\"billingAddress\")\n                ? value.billingAddress\n                : [];\n            this.deliveryAddress = value.hasOwnProperty(\"deliveryAddress\")\n                ? value.deliveryAddress\n                : [];\n            if (this.billingAddress.length > 0) {\n                this.transaction.billingAddress = this.billingAddress[0];\n            }\n            if (this.deliveryAddress.length > 0) {\n                this.transaction.deliveryAddress = this.deliveryAddress[0];\n            }\n            this.onQuoteDateChanged();\n            this.loadProjectByCustomer();\n            const priceLevel = value.hasOwnProperty(\"priceLevel\")\n                ? value.priceLevel\n                : {};\n            const baseCurrency = value.hasOwnProperty(\"baseCurrency\")\n                ? value.baseCurrency\n                : {};\n            if (baseCurrency.hasOwnProperty(\"code\")) {\n                this.baseCurrencyCode = baseCurrency.code;\n            }\n            if (priceLevel.hasOwnProperty(\"currency\")) {\n                if (priceLevel.currency.hasOwnProperty(\"id\")) {\n                    this.loadTransactionRate();\n                }\n            }\n            // const creditLimit = value.hasOwnProperty(\"creditLimit\")\n            //     ? value.creditLimit\n            //     : 0;\n            // this.transaction.creditLimit = kendo.parseFloat(creditLimit);\n            // this.loadCustomerBalance(this.customer.id);\n            // this.loadPaymentTermList();\n            // this.loadCreditLimit();\n        },\n        onFilterChange(event) {\n            const filter = event.filter.value;\n            this.requestData(0, filter, this.cusBaseUrl);\n            this.filter = filter;\n        },\n        requestData(skip, filter, baseUrl) {\n            const url = baseUrl + `?filter=${filter}`;\n            this.requestStarted = true;\n            fetch(url)\n                .then((response) => {\n                    return response.json();\n                })\n                .then(this.afterFetch);\n        },\n        requestData_(skip, filter, baseUrl) {\n            const url = baseUrl + `/${filter}`;\n            this.requestStarted = true;\n            fetch(url)\n                .then((response) => {\n                    return response.json();\n                })\n                .then(this.afterFetch_);\n        },\n        afterFetch_(json) {\n            this.employees = json.data;\n        },\n        afterFetch(json) {\n            this.customerList = json.data;\n        },\n        removeRow(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#gridItemLineSaleQuote\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n            }\n            this.autoCalculate();\n        },\n        //date\n        async onQuoteDateChanged() {\n            if (this.transaction) {\n                this.transaction.monthOf = new Date(this.transaction.transactionDate).toISOString().substr(0, 7)\n            }\n            await this.loadPaymentTermList();\n            await this.loadCreditLimit();\n            await this.loadCustomerBalance(this.customer.id);\n            await this.onPriceLevelChange();\n            if (this.customer) {\n                const paymentTerm = this.customer.paymentTerm || {}\n                const netDue = paymentTerm.netDue;\n                let someDate = new Date(this.transaction.transactionDate);\n                someDate.setDate(someDate.getDate() + parseInt(netDue)); //number  of days to add, e.x. 15 days\n                // window.console.log(someDate, 'this.transaction.validityDate ')\n                // this.transaction.validityDate = someDate.toISOString().substr(0, 10);\n            }\n            if (this.$route.params.id === undefined) {\n                // window.console.log(\"onQuoteDateChanged\");\n                this.generateNumber();\n            }\n        },\n        //employee\n        onEmployeeChanged(event) {\n            const value = event.value;\n            if (value && value[textField] === emptyItem[textField]) {\n                return;\n            }\n            this.mEmployee = value;\n            this.transaction.employee = value;\n        },\n        onEmployeeFilterChanged(event) {\n            const filter = event.filter.value;\n            this.requestData_(0, filter, this.empBaseUrl);\n            this.filter_ = filter;\n        },\n        onPaymentTermChanged() {\n            if (this.customer) {\n                const paymentTerm = this.transaction.paymentTerm || {}\n                const netDue = paymentTerm.netDue || 0;\n                const someDate = new Date(this.transaction.transactionDate);\n                someDate.setDate(someDate.getDate() + parseInt(netDue)); //number  of days to add, e.x. 15 days\n                // this.transaction.validityDate = someDate.toISOString().substr(0, 10)\n                // window.console.log(\"im\", someDate, netDue);\n            }\n            // this.onQuoteDateChanged();\n        },\n        //number\n        numberFormat(value) {\n            // window.console.log(this.saleFormContent.decimal,'nimol')\n            return kendo.toString(value, `n${this.saleFormContent.decimal}`);\n            // return value\n        },\n        //\n        async loadLead() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = \"?type=Sale Lead\";\n                    billingHandler.list(strFilter).then((res) => {\n                        this.showLoading = false;\n                        let lead = res.data.data.filter((obj) => {\n                            return obj.status != 0;\n                        });\n                        if (lead.length > 0) {\n                            this.leads = lead;\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadPaymentTerm() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    paymentTermHandler.getAll().then((res) => {\n                        this.showLoading = false;\n                        this.paymentTerms = res.data.data;\n                        if (this.paymentTerms.length > 0) {\n                            if (\n                                this.$route.params.id !== undefined ||\n                                this.$route.params.id != \"\"\n                            ) {\n                                this.transaction.paymentTerm = this.paymentTerms[0];\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        onPriceLevelChange() {\n            this.isPriceLevelChanged = true\n            this.loadTransactionRate()\n            this.clearUOMItem()\n        },\n        async loadPriceLevel() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = '?nature=sale'\n                    priceLevelHandler.get(strFilter).then((res) => {\n                        this.priceLevel = res;\n                        if (this.priceLevel.length > 0) {\n                            if (\n                                this.$route.params.id !== undefined ||\n                                this.$route.params.id != \"\"\n                            ) {\n                                // this.transaction.priceLevel = this.priceLevel[0];\n                                this.loadTransactionRate();\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        removeDuplicate(array) {\n            const result = [];\n            const map = new Map();\n            for (const item of array) {\n                if (!map.has(item.id)) {\n                    map.set(item.id, true); // set any value to Map\n                    result.push(item);\n                }\n            }\n            return result;\n        },\n        autoCalculateDiscount(discountItem, subTotal) {\n            if (discountItem) {\n                const nature = discountItem.nature || ''\n                const amount = discountItem.amount || 0\n                if (nature === 'Amount') {\n                    return parseFloat(amount)\n                } else if (nature === 'Percentage') {\n                    return (subTotal * (parseFloat(amount) / 100))\n                } else {\n                    return 0\n                }\n            } else {\n                return 0\n            }\n        },\n        autoCalculateTax(tax, amount) {\n            if (tax) {\n                var formula = tax.formula;\n                var inAmt = kendo.parseFloat(amount);\n                var nAmt = kendo.parseFloat(amount);\n                var taxBase = kendo.parseFloat(tax.taxBase) / 100;\n                var rate = kendo.parseFloat(tax.rate) / 100;\n                var total = eval(formula);\n                window.console.log(inAmt, nAmt, taxBase, rate, formula, total);\n                // window.console.log(amount)\n                return total;\n            }\n            // return 0\n        },\n        autoCalculateTaxByType(tax) {\n            // return by a key\n            const groupAll = (list) =>\n                list.reduce((tax, item) => {\n                    const taxAmount = tax[item.name] || 0;\n                    return Object.assign({}, tax, {\n                        [item.name]: taxAmount + parseFloat(item.amount),\n                    });\n                }, {});\n            this.taxListTotal = groupAll(tax);\n            // window.console.log('nimol', groupAll(tax))\n            // this.\n        },\n        taxMapping(objTax, tax) {\n            const taxId = tax.id || ''\n            const tax_ = objTax.filter(t => t.id === taxId)[0]\n            return tax_ || {\n                id: '',\n                defaultTax: ''\n            }\n        },\n        dataSourceChanged(e) {\n            if (e.field) {\n                let dataRow = e.items[0], vTax = {}, spTax = {}, otTax = {}, plTax = {},\n                    buom = {},\n                    conversionRate = 1,\n                    wac = 0,\n                    qoh = 0,\n                    amount = 0,\n                    xAmount = 0;\n                switch (e.field) {\n                    case \"item\":\n                        // this.attribute_ = this.attributes.filter(m => m.type.id === dataRow.variant.id)\n                        dataRow.set(\"description\", dataRow.item.description);\n                        buom = dataRow.item.uom || {};\n                        dataRow.set(\"buom\", buom);\n                        // dataRow.set('uom', buom)\n                        // window.console.log(dataRow.item,'row')\n                        // await this.inventoryBalance(dataRow, dataRow.item.id)\n                        break;\n                    case \"price\":\n                        try {\n                            amount = parseFloat(dataRow.price) * parseFloat(dataRow.qty);\n                            xAmount = amount * parseFloat(this.transaction.txnRate);\n\n                            dataRow.set(\"price\", parseFloat(dataRow.price));\n                            dataRow.set(\"amount\", amount);\n                            dataRow.set(\"exchangeAmount\", xAmount);\n                            // window.console.log('price',dataRow.price)\n                        } catch {\n                            dataRow.set(\"price\", 0);\n                            dataRow.set(\"amount\", 0);\n                            dataRow.set(\"exchangeAmount\", 0);\n                        }\n                        break;\n                    case \"uom\":\n                        if (this.isPriceLevelChanged === false) {\n                            try {\n                                buom = dataRow.uom.buom || {};\n                                qoh = dataRow.uom.qoh || 0;\n                                conversionRate = dataRow.uom.conversionRate || 1;\n                                wac = dataRow.uom.wac || 0;\n                                dataRow.set(\"buom\", buom);\n                                dataRow.set(\"wac\", wac);\n                                dataRow.set(\"qoh\", qoh);\n                                dataRow.set(\"conversionRate\", parseFloat(conversionRate));\n                                /* todo: mapping tax object */\n                                vTax = this.taxMapping(this.vatTax, dataRow.uom.vatTax || {})\n                                otTax = this.taxMapping(this.otherTax, dataRow.uom.otherTax || {})\n                                spTax = this.taxMapping(this.specificTax, dataRow.uom.specificTax || {})\n                                plTax = this.taxMapping(this.publicLightingTax, dataRow.uom.publicLightingTax || {})\n\n                                dataRow.set(\"vatTax\", vTax);\n                                dataRow.set(\"specificTax\", otTax);\n                                dataRow.set(\"otherTax\", spTax);\n                                dataRow.set(\"publicLightingTax\", plTax);\n\n                                if (dataRow.uom) {\n                                    amount =\n                                        parseFloat(dataRow.uom.price) * parseFloat(dataRow.qty);\n                                    xAmount = amount * parseFloat(this.transaction.txnRate);\n\n                                    dataRow.set(\"price\", parseFloat(dataRow.uom.price));\n                                    dataRow.set(\"amount\", amount);\n                                    dataRow.set(\"exchangeAmount\", xAmount);\n                                } else {\n                                    amount = parseFloat(dataRow.price) * parseFloat(dataRow.qty);\n                                    xAmount = amount * parseFloat(this.transaction.txnRate);\n\n                                    dataRow.set(\"price\", parseFloat(dataRow.price));\n                                    dataRow.set(\"amount\", amount);\n                                    dataRow.set(\"exchangeAmount\", xAmount);\n                                }\n                            } catch (err) {\n                                window.console.log(\"error\", err);\n                                dataRow.set(\"buom\", {});\n                                dataRow.set(\"conversionRate\", 1);\n                                dataRow.set(\"price\", 0);\n                                dataRow.set(\"qoh\", 0);\n                                dataRow.set(\"wac\", 0);\n                                dataRow.set(\"amount\", 0);\n                                dataRow.set(\"exchangeAmount\", 0);\n                            }\n                        }\n                        break;\n                    case \"qty\":\n                        try {\n                            amount = parseFloat(dataRow.price) * parseFloat(dataRow.qty);\n                            xAmount = amount * parseFloat(this.transaction.txnRate);\n\n                            dataRow.set(\"price\", parseFloat(dataRow.price));\n                            dataRow.set(\"amount\", amount);\n                            dataRow.set(\"exchangeAmount\", xAmount);\n                        } catch {\n                            dataRow.set(\"price\", 0);\n                            dataRow.set(\"amount\", 0);\n                            dataRow.set(\"exchangeAmount\", 0);\n                        }\n                        break;\n                    case \"otherTax\":\n                        // window.console.log(\"--\", dataRow)\n                        break;\n                    default:\n                        break;\n                }\n                if (e.field) {\n                    this.autoCalculate();\n                }\n            }\n        },\n        // itemChange(dataItem){\n        //     window.console.log(dataItem)\n        //     this.loadUOMbyItem(dataItem.id)\n        //     // uomPriceHandler.getURL(options.model.item.id, this.quote.priceLevel.id),\n        // },\n        // loadUOMbyItem(item) {\n        //     // uomPriceHandler.getURL(item, this.quote.priceLevel.id).then(response => {\n        //     //     if (response.data.statusCode === 200) {\n        //     //         const res = response.data.data\n        //     //         window.console.log(res);\n        //     //         // const lastNumber = this.zeroPad(parseInt(res.lastNumber), this.quote.prefix.format)\n        //     //         // const number = res.suffix + this.quote.prefix.numberSeparator + lastNumber\n        //     //         // this.quote.number = number\n        //     //     }\n        //     // }).catch(e => {\n        //     //     this.errors.push(e)\n        //     // })\n        //     // new Promise(resolve => {\n        //     //     setTimeout(() => {\n        //     //         resolve('resolved');\n        //     //         uomPriceHandler.getURL(item, this.quote.priceLevel.id).then(res => {\n        //     //             if (res.data.statusCode === 200) {\n        //     //                 const data = res.data.data\n        //     //                 window.console.log(data);\n        //     //             }\n        //     //         })\n        //     //     }, 10)\n        //     // })\n        // },\n        autoCalculate() {\n            let ds = this.$refs.saleQuoteItemLineDS.kendoWidget(),\n                subTotal = 0,\n                totalTax = 0,\n                discountTotal = 0,\n                spTax = 0,\n                pltax = 0,\n                otherTax = 0,\n                vatTax = 0,\n                discountInvoice = 0,\n                taxList = [],\n                discountItem = [],\n                saleUnit = [],\n                inclusiveTax = 0,\n                itemSubtotal = 0,\n                txnItmSubtotal = 0,\n                serviceSubtotal = 0,\n                itemDiscount = 0,\n                serviceDiscount = 0,\n                txnDiscount = 0;\n            const rows = ds.data().filter((m) => parseFloat(m.amount) > 0);\n            rows.forEach((value) => {\n                let modifierPrice = 0;\n                if (value.modifier) {\n                    modifierPrice = kendo.parseFloat(value.modifier.price);\n                }\n\n                // subTotal += (kendo.parseFloat(value.amount) + modifierPrice)\n                let discount = 0;\n                if (value.discountItem) {\n                    let subTo =\n                        kendo.parseFloat(value.price) * kendo.parseFloat(value.qty);\n                    discount = this.autoCalculateDiscount(value.discountItem, subTo);\n                    discount = this.autoCalculateDiscount(value.discountItem, subTo);\n                    value[\"discountAmount\"] = discount;\n                    value[\"discountExchangeAmount\"] =\n                        discount * kendo.parseFloat(this.transaction.txnRate);\n                    if (value.discountItem.hasOwnProperty(\"id\")) {\n                        discountItem.push(value.discountItem);\n                    }\n                    discountTotal += discount;\n                }\n                if (value.saleUnit) {\n                    if (value.saleUnit.hasOwnProperty(\"id\")) {\n                        saleUnit.push(value.saleUnit);\n                    }\n                }\n                if (value.specificTax) {\n                    spTax = this.autoCalculateTax(\n                        value.specificTax,\n                        kendo.parseFloat(value.amount) - kendo.parseFloat(discount)\n                    );\n                    // window.console.log('sp ', discount)\n                    spTax = kendo.parseFloat(spTax) ? kendo.parseFloat(spTax) : 0;\n                    value[\"specificTaxAmount\"] = spTax;\n                    value[\"specificTaxExchangeAmount\"] =\n                        spTax * kendo.parseFloat(this.transaction.txnRate);\n                    const tax = value.specificTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += spTax;\n                        }\n                    }\n                    if (value.specificTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.specificTax.taxType.name,\n                            amount: spTax,\n                            id: value.specificTax.taxType.id,\n                        });\n                    }\n                }\n                if (value.publicLightingTax) {\n                    pltax = this.autoCalculateTax(\n                        value.publicLightingTax,\n                        kendo.parseFloat(value.amount) - kendo.parseFloat(discount)\n                    );\n                    pltax = kendo.parseFloat(pltax) ? kendo.parseFloat(pltax) : 0;\n                    value[\"publicLightingTaxAmount\"] = pltax;\n                    value[\"publicLightingTaxExchangeAmount\"] =\n                        pltax * kendo.parseFloat(this.transaction.txnRate);\n                    const tax = value.publicLightingTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += pltax;\n                        }\n                    }\n                    if (value.publicLightingTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.publicLightingTax.taxType.name,\n                            amount: pltax,\n                            id: value.publicLightingTax.taxType.id,\n                        });\n                    }\n                }\n                if (value.otherTax) {\n                    otherTax = this.autoCalculateTax(\n                        value.otherTax,\n                        kendo.parseFloat(value.amount) - kendo.parseFloat(discount)\n                    );\n                    otherTax = kendo.parseFloat(otherTax)\n                        ? kendo.parseFloat(otherTax)\n                        : 0;\n                    value[\"otherTaxAmount\"] = otherTax;\n                    value[\"otherTaxExchangeAmount\"] =\n                        otherTax * kendo.parseFloat(this.transaction.txnRate);\n                    const tax = value.publicLightingTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += otherTax;\n                        }\n                    }\n                    if (value.otherTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.otherTax.taxType.name,\n                            amount: otherTax,\n                            id: value.otherTax.taxType.id,\n                        });\n                    }\n                }\n\n                if (value.vatTax) {\n                    // window.console.log('Vat Tax', value.vatTax)\n                    let amt =\n                        kendo.parseFloat(spTax ? spTax : 0) +\n                        kendo.parseFloat(pltax ? pltax : 0) +\n                        kendo.parseFloat(otherTax ? otherTax : 0) +\n                        (kendo.parseFloat(value.amount ? value.amount : 0) -\n                            (discount ? discount : 0));\n                    vatTax = this.autoCalculateTax(value.vatTax, amt);\n                    vatTax = kendo.parseFloat(vatTax) ? kendo.parseFloat(vatTax) : 0;\n                    value[\"vatTaxAmount\"] = vatTax;\n                    value[\"vatTaxExchangeAmount\"] =\n                        vatTax * kendo.parseFloat(this.transaction.txnRate);\n                    const tax = value.vatTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += vatTax;\n                        }\n                    }\n                    if (value.vatTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.vatTax.taxType.name,\n                            amount: vatTax,\n                            id: value.vatTax.taxType.id,\n                        });\n                    }\n                }\n                totalTax +=\n                    kendo.parseFloat(spTax ? spTax : 0) +\n                    kendo.parseFloat(pltax ? pltax : 0) +\n                    kendo.parseFloat(otherTax ? otherTax : 0) +\n                    kendo.parseFloat(vatTax ? vatTax : 0);\n                subTotal +=\n                    kendo.parseFloat(value.amount) + modifierPrice - inclusiveTax;\n\n                const item = value.item;\n                const itmType = item.type || \"\";\n                if (itmType === \"Variant\") {\n                    itemSubtotal +=\n                        kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    itemDiscount += kendo.parseFloat(discount);\n                } else if (itmType === \"Service\") {\n                    serviceSubtotal +=\n                        kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    itemDiscount += kendo.parseFloat(discount);\n                } else {\n                    txnItmSubtotal +=\n                        kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    itemDiscount += kendo.parseFloat(discount);\n                }\n                //include Tax Amount\n                const amountNodiscount =\n                    kendo.parseFloat(value.price) * kendo.parseFloat(value.qty) -\n                    discount;\n                const includeTaxAmount =\n                    amountNodiscount + vatTax + pltax + spTax + otherTax;\n                value[\"includeTaxAmount\"] = includeTaxAmount;\n                value[\"includeTaxExchangeAmount\"] =\n                    includeTaxAmount * kendo.parseFloat(this.transaction.txnRate);\n            });\n\n            this.transaction.itemSubtotal = itemSubtotal;\n            this.transaction.exchangeItemSubtotal =\n                itemSubtotal * kendo.parseFloat(this.transaction.txnRate);\n            this.transaction.serviceSubtotal = serviceSubtotal;\n            this.transaction.exchangeServiceSubtotal =\n                serviceSubtotal * kendo.parseFloat(this.transaction.txnRate);\n            this.transaction.txnItmSubtotal = txnItmSubtotal;\n            this.transaction.exchangeTxnItmSubtotal =\n                txnItmSubtotal * kendo.parseFloat(this.transaction.txnRate);\n            this.transaction.itemDiscount = itemDiscount;\n            this.transaction.exchangeItemDiscount =\n                itemDiscount * kendo.parseFloat(this.transaction.txnRate);\n            this.transaction.serviceDiscount = serviceDiscount;\n            this.transaction.exchangeServiceDiscount =\n                serviceDiscount * kendo.parseFloat(this.transaction.txnRate);\n            this.transaction.txnItmDiscount = txnDiscount;\n            this.transaction.exchangeTxnItmDiscount =\n                txnDiscount * kendo.parseFloat(this.transaction.txnRate);\n\n            discountTotal = discountTotal ? discountTotal : 0;\n\n            // window.console.log(spTax, pltax, otherTax, vatTax)\n            let total =\n                kendo.parseFloat(subTotal) -\n                kendo.parseFloat(discountTotal) +\n                kendo.parseFloat(totalTax);\n            this.transaction.subTotal = subTotal;\n            $(\"#subtotal\").text(kendo.parseFloat(subTotal));\n            this.transaction.totalTaxAmount = kendo.parseFloat(totalTax);\n            this.transaction.discountTotal = kendo.parseFloat(discountTotal);\n            if (this.transaction.specificDiscountItem) {\n                discountInvoice = this.autoCalculateDiscount(\n                    this.transaction.specificDiscountItem,\n                    kendo.parseFloat(subTotal)\n                );\n                discountInvoice = discountInvoice ? discountInvoice : 0;\n            }\n            // this.onOtherChargeChange()\n            this.transaction.total =\n                kendo.parseFloat(total) -\n                discountInvoice +\n                kendo.parseFloat(this.transaction.otherChargeAmount);\n            this.transaction.exchangeAmount =\n                kendo.parseFloat(this.transaction.total) *\n                kendo.parseFloat(this.transaction.txnRate);\n            this.autoCalculateTaxByType(taxList);\n            this.customerDiscountItem = this.removeDuplicate(discountItem);\n            this.customerSaleUnit = this.removeDuplicate(saleUnit);\n            // window.console.log('discount ', this.customerDiscountItem)\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.saleQuoteItemLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        async loadSaleFormContent() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    saleFormContentHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            const data = res.data.data;\n                            if (data.length > 0) {\n                                this.saleFormContent = data[0];\n                                // window.console.log(data[0])\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        vatTemplate(dataItem) {\n            const vat = dataItem.vatTax;\n            if (vat) {\n                return `<span>${vat.defaultTax ? vat.defaultTax : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        itemTemplate(dataItem) {\n            const item = dataItem.item;\n            if (item) {\n                return `<span>${item.name ? item.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        UOMTemplate(dataItem) {\n            const uom = dataItem.uom;\n            const code = uom.code || ''\n            if (uom) {\n                return `<span>${uom.uom ? code : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        saleUnitTemplate(dataItem) {\n            const saleUnit = dataItem.saleUnit;\n            if (saleUnit) {\n                return `<span>${saleUnit.name ? saleUnit.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        discountItemTemplate(dataItem) {\n            const discountItem = dataItem.discountItem;\n            if (discountItem) {\n                return `<span>${discountItem.code ? discountItem.code : ``} - ${\n                    discountItem.name ? discountItem.name : ``\n                }</span>`;\n            } else {\n                return ``;\n            }\n        },\n        ServiceDateEditor(container, options) {\n            kendo\n                .jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDatePicker();\n\n            // let ds = this.$refs.itemLineDS.kendoWidget()\n            // window.console.log(ds.data())\n            // // const dateString = kendo.toString((new Date(options.model.items.serviceDate)), this.itemLine.dateFormat)\n            // // const dateString = kendo.toString(options.model.items.serviceDate)\n            // const $input = $(\"<input value=\" + options.model.serviceDate + \" />\").appendTo(container)\n            // $input.kendoDatePicker()\n            // // $input.appendTo(container)\n            // // options.model.items.serviceDate = dateString\n            // window.console.log($input)\n        },\n        ServiceDateToEditor(container, options) {\n            kendo\n                .jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDatePicker();\n        },\n        ItemDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate:\n                        '<div class=\"dropdown-header k-widget k-header\">' +\n                        \"<span>Items </span>\" +\n                        \"<span></span>\" +\n                        \"</div>\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: productVariantHandler.itemSearchURL('?plId=' + this.transaction.priceLevel.id),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                        // data: this.variants\n                    }),\n                });\n        },\n        UOMDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"code\",\n                    dataValueField: \"uomConvertId\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=code || `No Price Level`#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {url: uomPriceHandler.uomPriceByPriceLevelURL(\"id=\" + options.model.item.id + \"&plId=\" + this.transaction.priceLevel.id + \"&date=\" + this.transaction.transactionDate),},\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    // name: {type: \"string\"},\n                                    // sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                        // data: this.variants\n                    }),\n                });\n        },\n        DiscountItemDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=code# - #=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: discountItemHandler.getURL(DISCOUNT_TYPE),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    // name: {type: \"string\"},\n                                    // sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                    }),\n                });\n        },\n        SpecificTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.specificTax.filter((m) => {\n                            if (options.model.hasOwnProperty(\"vatTax\")) {\n                                const vat = options.model.vatTax;\n                                if (vat) {\n                                    if (\n                                        options.model.vatTax !== null ||\n                                        options.model.vatTax !== \"null\"\n                                    ) {\n                                        if (options.model.vatTax.baseAmount) {\n                                            return (\n                                                m.baseAmount.toLowerCase() ===\n                                                options.model.vatTax.baseAmount.toLowerCase()\n                                            );\n                                        } else {\n                                            return m;\n                                        }\n                                    }\n                                } else {\n                                    return m;\n                                }\n                            }\n                        }),\n                    }),\n                });\n        },\n        PublicLightingTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.publicLightingTax.filter((m) => {\n                            if (options.model.hasOwnProperty(\"vatTax\")) {\n                                const vat = options.model.vatTax;\n                                if (vat) {\n                                    if (\n                                        options.model.vatTax !== null &&\n                                        options.model.vatTax !== \"null\"\n                                    ) {\n                                        if (options.model.vatTax.baseAmount) {\n                                            return (\n                                                m.baseAmount.toLowerCase() ===\n                                                options.model.vatTax.baseAmount.toLowerCase()\n                                            );\n                                        } else {\n                                            return m;\n                                        }\n                                    }\n                                } else {\n                                    return m;\n                                }\n                            }\n                        }),\n                    }),\n                });\n        },\n        OtherTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.otherTax.filter((m) => {\n                            if (options.model.hasOwnProperty(\"vatTax\")) {\n                                const vat = options.model.vatTax;\n                                if (vat) {\n                                    if (\n                                        options.model.vatTax !== null &&\n                                        options.model.vatTax !== \"null\"\n                                    ) {\n                                        if (options.model.vatTax.baseAmount) {\n                                            return (\n                                                m.baseAmount.toLowerCase() ===\n                                                options.model.vatTax.baseAmount.toLowerCase()\n                                            );\n                                        } else {\n                                            return m;\n                                        }\n                                    }\n                                } else {\n                                    return m;\n                                }\n                            }\n                        }),\n                    }),\n                });\n        },\n        VatTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.vatTax,\n                    }),\n                });\n        },\n        SaleUnitDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=code# - #=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.saleUnitItemList,\n                    }),\n                });\n        },\n        ModifierDropDownEditor(container, options) {\n            const item = options.model.item || {}\n            const uom = item.uom || {}\n            const itemId = item.id || ''\n            const uomId = uom.id || ''\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate:\n                        '<div class=\"dropdown-header k-widget k-header\">' +\n                        \"<span>Modifier </span>\" +\n                        \"<span></span>\" +\n                        \"</div>\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: itemModifierHandler.searchURL('?plId=' + this.transaction.priceLevel.id + '&id=' + itemId + '&uomId=' + uomId),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    price: {type: \"number\"},\n                                    uom: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                    }),\n                });\n        },\n        EmployeeDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoMultiSelect({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    suggest: true,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate:\n                        '<div class=\"dropdown-header k-widget k-header\">' +\n                        \"<span>Employee </span>\" +\n                        \"<span></span>\" +\n                        \"</div>\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: employeeHandler.searchURL(),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    firstName: {type: \"string\"},\n                                    lastName: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                    }),\n                });\n        },\n        empImpl(dataItem) {\n            let empIds = [];\n            dataItem.employee.forEach((m) => {\n                empIds.push(m.firstName + \" - \" + m.lastName);\n            });\n            // window.console.log(empIds.join(', '))\n            return `<span>${empIds.join(\", \")}</span>`;\n        },\n        addRow() {\n            let ds = this.$refs.saleQuoteItemLineDS.kendoWidget(),\n                total = ds.total();\n            this.itemLine.id = invoicePrefix + uuid.v1();\n            ds.insert(total, this.itemLine);\n        },\n        onSpecificDiscountChanged() {\n            if (this.transaction.specificDiscountItem) {\n                const discountQuote = this.autoCalculateDiscount(\n                    this.transaction.specificDiscountItem,\n                    this.transaction.subTotal\n                );\n                this.transaction.specificDiscountTotal = kendo.toString(\n                    discountQuote ? discountQuote : 0,\n                    \"n\"\n                );\n                let total =\n                    kendo.parseFloat(this.transaction.subTotal) -\n                    (kendo.parseFloat(this.transaction.discountTotal) +\n                        kendo.parseFloat(this.transaction.totalTaxAmount)) -\n                    discountQuote;\n                this.transaction.total = kendo.toString(total, \"n\");\n            }\n        },\n        onOtherChargeChange() {\n            let otherCharge = 0;\n            this.mOtherCharge.forEach((m) => {\n                otherCharge += this.autoCalculateDiscount(m, this.transaction.subTotal);\n            });\n            this.transaction.otherChargeAmount = otherCharge;\n            this.autoCalculate();\n        },\n        async loadOtherCharge() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    otherChargeHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.otherChargeList = res.data.data;\n                        }\n                    });\n                }, 10);\n            });\n        },\n        onOtherAmount(value) {\n            return this.autoCalculateDiscount(value, this.transaction.subTotal);\n        },\n        async loadDiscountItem() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    discountItemHandler.list(DISCOUNT_TYPE).then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.specificDiscountItem = res.data.data;\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadSegment() {\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const segment = roleData.filter(itm => itm.type === 'segment')\n                    const segmentDefault = segment.filter(m => m.isDefault === 1)\n                    this.segments = segment\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        if (segmentDefault.length > 0) {\n                            this.transaction.segment = segmentDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.segments = [];\n                        settingsHandler\n                            .getSeg()\n                            .then((res) => {\n                                this.showLoading = true;\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.segments = res.data.data;\n                                    if (this.segments.length > 0) {\n                                        this.transaction.segment = this.segments[0];\n                                    }\n                                }\n                            })\n                            .catch();\n                        {\n                            this.showLoading = false;\n                        }\n                    }, 10);\n                });\n            }\n        },\n        async loadLocation() {\n            this.locations = []\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const location = roleData.filter(itm => itm.type === 'location')\n                    const locationDefault = location.filter(m => m.isDefault === 1)\n                    this.locations = location\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        if (locationDefault.length > 0) {\n                            this.transaction.location = locationDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.locations = [];\n                        locationHandler\n                            .list()\n                            .then((res) => {\n                                this.showLoading = true;\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.locations = res.data.data;\n                                    if ( this.locations.length > 0) {\n                                        this.transaction.location = this.locations[0];\n                                    }\n                                }\n                            })\n                            .catch();\n                        {\n                            this.showLoading = false;\n                        }\n                    }, 10);\n                });\n            }\n\n        },\n        async loadProjectByCustomer() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    projectHandler\n                        .getByCustomer(this.customer.id)\n                        .then((res) => {\n                            this.showLoading = true;\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.customerProjects = res.data.data;\n                                if (this.customerProjects.length > 0) {\n                                    if (!this.initSaleQuote) {\n                                        this.transaction.project = this.customerProjects[0];\n                                    }\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadSaleChannel() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    saleChannelHandler.get().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.saleChannelList = res.data.data;\n                            if (this.saleChannelList.length > 0) {\n                                if (\n                                    this.$route.params.id !== undefined ||\n                                    this.$route.params.id != \"\"\n                                ) {\n                                    this.transaction.saleChannel = this.saleChannelList[0];\n                                }\n                            }\n                        } else {\n                            this.showLoading = false;\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadTax() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    settingHandler.get().then((res) => {\n                        this.tax = res;\n                        this.otherTax = this.tax.filter(\n                            (m) =>\n                                (m.taxType.typeId === 7 || m.taxType.typeId === 10) &&\n                                m.transactionType === \"Sale\"\n                        ); // valuable tax\n                        this.specificTax = this.tax.filter(\n                            (m) =>\n                                (m.taxType.typeId === 8 || m.taxType.typeId === 10) &&\n                                m.transactionType === \"Sale\"\n                        ); // valuable tax\n                        this.publicLightingTax = this.tax.filter(\n                            (m) =>\n                                (m.taxType.typeId === 9 || m.taxType.typeId === 10) &&\n                                m.transactionType === \"Sale\"\n                        ); // valuable tax\n                        this.vatTax = this.tax.filter(\n                            (m) =>\n                                (m.taxType.typeId === 1 ||\n                                    m.taxType.typeId === 8 ||\n                                    m.taxType.typeId === 10) &&\n                                m.transactionType === \"Sale\"\n                        ); // valuable tax\n                    });\n                }, 10);\n            });\n        },\n        async loadSaleUnitItems() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    saleUnitItemHandler.list().then((res) => {\n                        if (res.data.statusCode === 200)\n                            this.saleUnitItemList = res.data.data;\n                    });\n                }, 10);\n            });\n        },\n        close(data) {\n            this.loadEmployeeCenter()\n            this.transaction.customer = {};\n            let ds = this.$refs.saleQuoteItemLineDS.kendoWidget();\n            ds.data([]);\n            this.showLoading = false;\n            this.transaction = new TransactionModel({});\n            this.addRow()\n            window.history.go(-1);\n            // if (this.$route.params.id === undefined) {\n            //   this.$router.push({\n            //     name: \"Customers\",\n            //     params: {\n            //       data: data,\n            //     }\n            //   })\n            // } else {\n            //   window.history.go(-1)\n            // }\n            window.console.log(data, \"close\");\n            // localStorage.data.id = JSON.stringify(data)\n        },\n        //catalog\n        loadImage(dataItem) {\n            if (dataItem.hasOwnProperty(\"images\")) {\n                if (dataItem.images.hasOwnProperty(\"default\")) {\n                    const url = this.imgURL + dataItem.images.default.thumb;\n                    return (\n                        \"<img width='50' height='50' style= 'margin: auto;display: block;' src='\" +\n                        url +\n                        \"' />\"\n                    );\n                }\n            } else {\n                return \"\";\n            }\n        },\n        async loadCatalogs() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    catalogHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.catalogs = res;\n                    });\n                }, 10);\n            });\n        },\n        addCatalog(e) {\n            e.preventDefault();\n            let grid = kendo.jQuery(\"#gridCatalog\").data(\"kendoGrid\");\n            let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n            // window.console.log(dataItem)\n            if (dataItem.variants.length > 0) {\n                dataItem.variants.forEach((m) => {\n                    if (m.hasOwnProperty(\"variant\")) {\n                        if (m.variant.hasOwnProperty(\"id\")) {\n                            this.loadSingleItem(m.variant.id, \"i\");\n                        }\n                    }\n                });\n                this.dialogCatalog = false;\n            }\n            if (dataItem.services.length > 0) {\n                dataItem.services.forEach((m) => {\n                    if (m.hasOwnProperty(\"service\")) {\n                        if (m.service.hasOwnProperty(\"id\")) {\n                            this.loadSingleItem(m.service.id, \"s\");\n                        }\n                    }\n                });\n                this.dialogCatalog = false;\n            }\n        },\n        async loadSingleItem(itemId, type) {\n            new Promise((resolve) => {\n                resolve(\"resolved\");\n                setTimeout(() => {\n                    this.showLoading = true;\n                    productHandler.getOne(itemId).then((res) => {\n                        this.showLoading = false;\n                        let data = res;\n                        window.console.log(data);\n                        let ds = this.$refs.saleQuoteItemLineDS.kendoWidget(),\n                            total = ds.total();\n                        this.itemLine.id = invoicePrefix + uuid.v1();\n                        this.itemLine.item = data;\n                        if (type == \"i\") {\n                            this.itemLine.description = data.variant.saleDescription;\n                        } else {\n                            this.itemLine.description = data.saleDescription;\n                        }\n                        ds.insert(total, this.itemLine);\n                    });\n                }, 10);\n            });\n        },\n        clear() {\n        },\n        async loadPrefix() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    prefixHandler.get(\"sale quote\").then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.transactionType = res.data.data;\n                            if (this.transactionType.length > 0) {\n                                this.transaction.transactionType = this.transactionType[0];\n                                if (!this.initSaleQuote) {\n                                    window.console.log(\"load prefix\");\n                                    this.generateNumber();\n                                }\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadViewSaleQuote() {\n            if (!this.initSaleQuote) {\n                window.console.log(\"here from id with no prop data\");\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.showLoading = true;\n                        transactionHandler\n                            .view(this.$route.params.id)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.transaction = res.data.data[0];\n                                    this.bindData();\n                                }\n                            })\n                            .catch();\n                        {\n                            this.showLoading = false;\n                        }\n                    }, 10);\n                });\n            }\n        },\n        removeEmptyLine() {\n            const grid = kendo.jQuery(\"#gridItemLineSaleQuote\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource;\n            if (dataSource.data().length > 0) {\n                dataSource.data().forEach((m) => {\n                    const itm = m.item || {}\n                    if (itm) {\n                        if (itm.id === undefined) {\n                            dataSource.remove(m);\n                        }\n                    }\n                });\n            }\n        },\n        async loadTransactionRate() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const date = new Date(this.transaction.transactionDate)\n                        .toISOString()\n                        .substr(0, 10);\n                    const priceLevel = this.transaction.priceLevel;\n                    let code = \"\";\n                    if (priceLevel.hasOwnProperty(\"currency\")) {\n                        if (priceLevel.currency.hasOwnProperty(\"code\")) {\n                            code = priceLevel.currency.code;\n                        }\n                    }\n                    if (code !== undefined || code !== \"\") {\n                        this.showLoading = true;\n                        currencyHandler\n                            .getLastExchangeRateByDate(date, code)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.exchangeRate = res.data.data[0];\n                                    this.currencyCode = this.exchangeRate.code;\n                                    this.transactionRate = this.exchangeRate.rate;\n                                    this.transaction.txnRate = this.exchangeRate.rate;\n                                    this.transaction.exchangeRate = this.exchangeRate;\n                                    this.showLoading = false;\n                                }\n                            });\n                    }\n                }, 10);\n            });\n        },\n        creditLimitUsage(balance, creditLimit) {\n            if (creditLimit > 0) {\n                return (\n                    kendo.toString(\n                        (balance / creditLimit) * 100,\n                        `n${this.saleFormContent.decimal}`\n                    ) + \" %\"\n                );\n            } else {\n                return kendo.toString(0, `n${this.saleFormContent.decimal}`) + \" %\";\n            }\n        },\n        async loadCustomerBalance(id) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = id + \"?type=bal\";\n                    this.transaction.currentBalance = 0;\n                    billingHandler\n                        .balance(strFilter)\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                const data = res.data.data;\n                                if (data.length > 0) {\n                                    this.transaction.currentBalance = data[0].balance;\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        handleSubmit(event) {\n            event.preventDefault();\n            this.success = true;\n        },\n        saveClose() {\n            this.isSaveClose = true;\n            this.saveOption = \"saveClose\";\n\n            let ds = this.$refs.saleQuoteItemLineDS.kendoWidget();\n            let d1 = ds.data().filter(n => n.amount > 0);\n            let dataValidate = 0;\n            d1.forEach((value, index) => {\n                window.console.log('index', value)\n                if (\n                    value.item.id == undefined ||\n                    value.uom.uom.id == undefined ||\n                    value.item.id == \"\" ||\n                    value.uom.uom.id == \"\"\n                ) {\n                    this.$snotify.error(\n                        \"Please check Item or Uom  on row \" + (index + 1)\n                    );\n                } else {\n                    dataValidate += 1;\n                }\n            });\n            if (d1.length == dataValidate) {\n                this.save();\n            }\n        },\n        savePrint() {\n            this.isSavePrint = true;\n            this.saveOption = \"savePrint\";\n            this.save();\n        },\n        saveNew() {\n            this.saveOption = \"saveNew\";\n            this.isSaveNew = true;\n            let ds = this.$refs.saleQuoteItemLineDS.kendoWidget();\n            let d1 = ds.data().filter(n => n.amount > 0);\n            let dataValidate = 0;\n            d1.forEach((value, index) => {\n                if (\n                    value.item.id == undefined ||\n                    value.uom.id == undefined ||\n                    value.item.id == \"\" ||\n                    value.uom.id == \"\"\n                ) {\n                    this.$snotify.error(\n                        \"Please check Item or Uom  on row \" + (index + 1)\n                    );\n                } else {\n                    dataValidate += 1;\n                }\n            });\n            if (d1.length == dataValidate) {\n                this.save();\n            }\n        },\n        saveDraft() {\n            this.saveOption = \"saveDraft\";\n            this.isSaveDraft = true;\n            this.save();\n        },\n        async save() {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate();\n                this.$snotify.error(\n                    \"Field is required, please check field each of tabs!\"\n                );\n                return;\n            }\n            let id = \"\";\n            if (this.customer.hasOwnProperty(\"id\")) {\n                id = this.customer.id || \"\";\n            }\n            if (id === \"\") {\n                this.$snotify.error(\"Customer is require\");\n                return;\n            }\n            this.removeEmptyLine()\n            let ds = this.$refs.saleQuoteItemLineDS.kendoWidget(),\n                total = ds.total()\n            if (total == 0) {\n                this.$snotify.error(\"Item is require\");\n                return\n            }\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    let txnList = [];\n                    if (this.transaction.lead.hasOwnProperty(\"id\")) {\n                        txnList.push(this.transaction.lead);\n                    }\n                    this.removeEmptyLine();\n                    let itemLineDS = this.$refs.saleQuoteItemLineDS.kendoWidget(),\n                        total = itemLineDS.total();\n                    if (total <= 0) {\n                        this.$snotify.error(\"Field Required!\");\n                        return;\n                    }\n                    const dataRow = itemLineDS.data().map((m) => {\n                        return new ItemLineModel(m);\n                    });\n\n                    let data = {\n                        id: this.transaction.id ? this.transaction.id : \"\",\n                        type: \"Sale Quote\",\n                        number: this.transaction.number,\n                        abbr: this.transaction.transactionType.abbr,\n                        transactionDate: this.transaction.transactionDate,\n                        validityDate: this.transaction.validityDate,\n                        monthOf: this.transaction.monthOf,\n                        customer: this.transaction.customer,\n                        paymentTerm: this.transaction.paymentTerm,\n                        transactionType: this.transaction.transactionType,\n                        discountPromotion: {},\n                        priceLevel: this.transaction.priceLevel,\n                        itemLines: dataRow,\n                        project: this.transaction.project,\n                        segment: this.transaction.segment ? this.transaction.segment : {},\n                        location: this.transaction.location\n                            ? this.transaction.location\n                            : {},\n                        saleChannel: this.transaction.saleChannel,\n                        billingAddress: this.transaction.billingAddress,\n                        deliveryAddress: this.transaction.deliveryAddress,\n                        deliveryDateTime: this.transaction.deliveryDateTime,\n                        transactionNote: this.transaction.transactionNote,\n                        subTotal: this.transaction.subTotal,\n                        total: this.transaction.total ? this.transaction.total : 0,\n                        amount: this.transaction.amountDue || 0,\n                        discountTotal: this.transaction.discountTotal,\n                        exchangeAmount: this.transaction.exchangeAmount,\n                        specificDiscountTotal: this.transaction.specificDiscountTotal,\n                        deliveryFee: this.transaction.deliveryFee,\n                        totalTaxAmount: this.transaction.totalTaxAmount,\n                        currentBalance: this.transaction.currentBalance,\n                        balance: this.transaction.balance,\n                        creditLimit: this.transaction.creditLimit,\n                        saveOption: this.saveOption,\n                        txnRate: this.transaction.txnRate,\n                        rate: this.transaction.txnRate,\n                        status: 1, //1 open, 0 used,\n                        approvedBy: this.transaction.approvedBy,\n                        rejectedBy: {},\n                        formTemplate: this.templatesForm[this.template],\n                        specificDiscountItem: this.transaction.specificDiscountItem,\n                        otherCharge: this.mOtherCharge,\n                        otherChargeAmount: this.transaction.otherChargeAmount,\n                        taxListTotal: this.taxListTotal,\n                        progressingStatus: \"\",\n                        customerDiscountItem: this.customerDiscountItem,\n                        customerSaleUnit: this.customerSaleUnit,\n                        loggedUser: this.loggedUser,\n                        txnList: txnList,\n                        publicLink: \"\",\n                        usedDateAt: \"\",\n                        deletedAt: \"\",\n                        deleted: 0,\n                        createdAt: new Date().toISOString().substr(0, 10),\n                        saleOrderType: 0,\n                        employee: this.mEmployee,\n                        supplier: {},\n                        exchangeRate: this.transaction.exchangeRate,\n                        form: 1,\n                        lead: this.transaction.lead,\n                        amountDue: this.transaction.amountDue,\n                        itemSubtotal: this.transaction.itemSubtotal,\n                        exchangeItemSubtotal: this.transaction.exchangeItemSubtotal,\n                        serviceSubtotal: this.transaction.serviceSubtotal,\n                        exchangeServiceSubtotal: this.transaction.exchangeServiceSubtotal,\n                        txnItmSubtotal: this.transaction.txnItmSubtotal,\n                        exchangeTxnItmSubtotal: this.transaction.exchangeTxnItmSubtotal,\n                        itemDiscount: this.transaction.itemDiscount,\n                        exchangeItemDiscount: this.transaction.exchangeItemDiscount,\n                        serviceDiscount: this.transaction.serviceDiscount,\n                        exchangeServiceDiscount: this.transaction.exchangeServiceDiscount,\n                        txnItmDiscount: this.transaction.txnItmDiscount,\n                        exchangeTxnItmDiscount: this.transaction.exchangeTxnItmDiscount,\n                        routeView: \"sale_quote_view\",\n                        exspectedDate: \"\",\n                    };\n                    this.showLoading = true;\n                    this.btnDisabled = true;\n                    // window.console.log(data);\n                    transactionHandler\n                        .create(data)\n                        .then((response) => {\n                            this.showLoading = false;\n                            this.btnDisabled = false\n                            if (response.data.statusCode === 201) {\n                                // this.$refs.form.reset();\n                                this.$snotify.success(\"Successfully\");\n                                if (this.isSaveNew == true) {\n                                    setTimeout(() => {\n                                        this.setDefaultData();\n                                    }, 10);\n                                } else {\n                                    this.close(response.data.data);\n                                }\n                            } else {\n                                this.showLoading = false;\n                                this.btnDisabled = false\n                            }\n                        })\n                        .catch((e) => {\n                            this.$snotify.error(\"Something went wrong\");\n                            this.errors.push(e);\n                            // window.console.log(e);\n                        });\n                }, 10);\n            });\n        },\n        dataBound() {\n            this.schemaModelFields = {\n                uom: {validation: {required: true}},\n                price: {validation: {required: true}},\n            };\n        },\n        async loadPaymentTermList() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (this.customer) {\n                        const strFilter = '?id=' + this.customer.id + '&transactionDate=' + this.transaction.transactionDate + '&type=Customer'\n                        this.transaction.paymentTerm = {}\n                        paymentTermHandler_.get(strFilter).then((res) => {\n                            if (res.data.statusCode === 200) {\n                                const terms = res.data.data\n                                this.transaction.paymentTerm = terms.term\n                            }\n                        });\n                    }\n                }, 10);\n            });\n        },\n        async loadCreditLimit() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (this.customer) {\n                        const strFilter = '?id=' + this.customer.id + '&transactionDate=' + this.transaction.transactionDate + '&type=Customer'\n                        this.transaction.creditLimit = 0\n                        creditLimitHandler.get(strFilter).then((res) => {\n                            if (res.data.statusCode === 200) {\n                                // this.creditLimitItem = res.data.data\n                                const credit = res.data.data\n                                this.transaction.creditLimit = kendo.parseFloat(credit.amount || 0);\n                            }\n                        });\n                    }\n                }, 10);\n            });\n        },\n        async clearUOMItem() {\n            let ds = this.$refs.saleQuoteItemLineDS.kendoWidget()\n            ds.data().map(n => {\n                n.set('uom', {})\n            })\n            this.isPriceLevelChanged = false\n        },\n        async loadQuote(id) {\n            window.console.log(id, 'load id')\n            this.showLoading = true\n            transactionHandler.view(id).then((res) => {\n                this.showLoading = false\n                this.isEdit = true\n                this.itemLines = []\n                this.transaction = res.data.data[0]\n                this.bindData();\n            })\n        },\n        async loadSingleData() {\n            this.btnDisabled = false\n            if (this.$route.name === 'Sale Quote') {\n                if (this.initSaleQuote) {\n                    // Edit Mode\n                    this.itemLines = []\n                    this.transaction = this.initSaleQuote;\n                    this.bindData();\n                } else {\n                    // new\n                    if (this.$route.params.id != undefined) {\n                        this.loadQuote(this.$route.params.id)\n                    } else {\n                        this.setDefaultData()\n                    }\n                }\n                prefixHandler.get(\"sale quote\").then((res) => {\n                    if (res.data.statusCode === 200) {\n                        this.showLoading = false;\n                        this.transactionType = res.data.data;\n                        if (this.transactionType.length > 0) {\n                            if (\n                                this.$route.params.id !== undefined ||\n                                this.$route.params.id != \"\"\n                            ) {\n                                this.transaction.transactionType = this.transactionType[0];\n                                if (!this.initSaleQuote && this.$route.params.id === undefined) {\n                                    this.generateNumber();\n                                }\n                            }\n                        }\n                    }\n                });\n                await this.loadPaymentTerm();\n                await this.loadSaleFormContent();\n                await this.loadOtherCharge();\n                await this.loadPriceLevel();\n                await this.loadDiscountItem(0);\n                await this.loadSaleChannel();\n                await this.loadCatalogs();\n                await this.loadLead();\n                this.loadTax();\n                this.loadSaleUnitItems();\n                this.loadSegment();\n                this.loadLocation();\n                this.loadEmployeeCenter();\n            }\n        },\n    },\n    computed: {\n        dateFormatted() {\n            return kendo.toString(new Date(), institute.dateFormat);\n        },\n        dateTimeFormatted() {\n            window.console.log(institute.dateFormat + \" HH:mm\", \"inst date\");\n            return kendo.toString(new Date(), institute.dateFormat + \" HH:mm\");\n        },\n        validCustomer() {\n            return this.customer.id !== undefined && this.customer.id !== null;\n        },\n        hiddenButton() {\n            if (this.$route.query.type == \"edit\") {\n                return true\n            } else {\n                return false\n            }\n\n        }\n    },\n    watch: {\n        '$route': 'loadSingleData',\n        // '$route': 'loadViewSaleQuote',\n        initSaleQuote() {\n            this.initialData();\n        },\n    },\n    created() {\n    },\n    mounted: async function () {\n        this.loadSingleData();\n        this.requestData(0, this.filter, this.cusBaseUrl);\n        this.requestData(0, this.filter, this.cusBaseUrl);\n    },\n};\n</script>\n\n<style scoped>\n.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> tbody\n> tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: 0.5s ease-in;\n    flex: 0 0 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n.small_sidebar {\n    height: 97%;\n    position: relative;\n    padding: 12px;\n    background-color: #edf1f5;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 12px;\n}\n\n.kendo_dropdown_custom .k-dropdown.k-header {\n    width: 100%;\n}\n</style>\n"],"sourceRoot":"src/views/customers"}]}