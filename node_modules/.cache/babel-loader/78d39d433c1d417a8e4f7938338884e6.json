{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/customers/CashReceipt.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/customers/CashReceipt.vue","mtime":1642478961304},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1jb21tZXJjZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX3R5cGVvZiBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1jb21tZXJjZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1jb21tZXJjZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKdmFyIF9kZWZhdWx0SXRlbTsKCmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5wYWQtc3RhcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy53ZWFrLXNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgaTE4biB9IGZyb20gJ0AvaTE4bic7CmltcG9ydCB7IERyb3BEb3duTGlzdCB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby12dWUtZHJvcGRvd25zJzsKaW1wb3J0IERhdGVQaWNrZXJDb21wb25lbnQgZnJvbSAnQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvRGF0ZVBpY2tlckNvbXBvbmVudCc7CmltcG9ydCBDYXNoUmVjZWlwdE1vZGVsIGZyb20gIkAvc2NyaXB0cy9jYXNoLXJlY2VpcHQvbW9kZWwvQ2FzaFJlY2VpcHQiOwppbXBvcnQgSXRlbUxpbmVNb2RlbCBmcm9tICJAL3NjcmlwdHMvY2FzaC1yZWNlaXB0L21vZGVsL0l0ZW1MaW5lIjsKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CmltcG9ydCBQYXltZW50T3B0aW9uRWRpdG9yIGZyb20gIkAvc2NyaXB0cy9rZW5kb19lZGl0b3IvUGF5bWVudE9wdGlvbkVkaXRvciI7CmltcG9ydCBIZWxwZXIgZnJvbSAiQC9oZWxwZXIiOwoKdmFyIHByZWZpeEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJlZml4SGFuZGxlciIpOwoKdmFyIHNhbGVGb3JtQ29udGVudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2FsZUZvcm1Db250ZW50SGFuZGxlciIpOwoKdmFyIGJpbGxpbmdIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2ludm9pY2UvaGFuZGxlci9iaWxsaW5nSGFuZGxlciIpOwoKdmFyIGN1c3RvbWVySGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jdXN0b21lckhhbmRsZXIiKTsKCnZhciBzZXR0aW5nSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zZXR0aW5nc0hhbmRsZXIiKTsKCnZhciAkID0ga2VuZG8ualF1ZXJ5OyAvL3JlcXVpcmUoImpxdWVyeSIpCgp2YXIgcGF5bWVudE9wdGlvbkhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcGF5bWVudE9wdGlvbkhhbmRsZXIiKTsgLy8gY29uc3QgcGF5bWVudE9wdGlvbkhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcGF5bWVudE9wdGlvbkhhbmRsZXIiKQoKCnZhciBjYXNoUmVjZWlwdE1vZGVsID0gbmV3IENhc2hSZWNlaXB0TW9kZWwobmV3IE9iamVjdCgpKTsKdmFyIGl0ZW1MaW5lTW9kZWwgPSBuZXcgSXRlbUxpbmVNb2RlbCh7fSk7CnZhciBrZXlGaWVsZCA9ICdpZCc7CnZhciB0ZXh0RmllbGQgPSAnbnVtYmVyTmFtZSc7CnZhciBkZWZhdWx0SXRlbSA9IChfZGVmYXVsdEl0ZW0gPSB7fSwgX2RlZmluZVByb3BlcnR5KF9kZWZhdWx0SXRlbSwgdGV4dEZpZWxkLCAnU2VsZWN0IGN1c3RvbWVyLi4uJyksIF9kZWZpbmVQcm9wZXJ0eShfZGVmYXVsdEl0ZW0sIGtleUZpZWxkLCBudWxsKSwgX2RlZmF1bHRJdGVtKTsKCnZhciBlbXB0eUl0ZW0gPSBfZGVmaW5lUHJvcGVydHkoe30sIHRleHRGaWVsZCwgJ2xvYWRpbmcgLi4uJyk7Cgp2YXIgT1BUSU9OX1RZUEUgPSAnQ3VzdG9tZXInOwp2YXIgc3RyRmlsdGVyID0gJz9vcHRpb25UeXBlPScgKyBPUFRJT05fVFlQRTsKCnZhciBjb29raWVKUyA9IHJlcXVpcmUoIkAvY29va2llLmpzIik7Cgp2YXIgY29va2llID0gY29va2llSlMuZ2V0Q29va2llKCk7IC8vIGZyb20KCnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zZXR0aW5nc0hhbmRsZXIuanMiKSwKICAgIGdldEZvcm1TZXR0aW5nID0gX3JlcXVpcmUuZ2V0Rm9ybVNldHRpbmc7CgppbXBvcnQgeyBwcmludCB9IGZyb20gIkAvZm9ybS9TYWxlLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDYXNoUmVjZWlwdCIsCiAgcHJvcHM6IFsnaWQnXSwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nTWU6IGZ1bmN0aW9uIExvYWRpbmdNZSgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL0xvYWRpbmciKTsKICAgIH0sCiAgICAnYXBwLWRhdGVwaWNrZXInOiBEYXRlUGlja2VyQ29tcG9uZW50LAogICAgJ2Ryb3Bkb3dubGlzdCc6IERyb3BEb3duTGlzdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoZWNrX2lkX2VkaXQ6IHRydWUsCiAgICAgIFBheW1lbnRPcHRpb25FZGl0b3I6IFBheW1lbnRPcHRpb25FZGl0b3IsCiAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgbG9hZGluZ0FsZXJ0OiBmYWxzZSwKICAgICAgbG9hZGluZ0NvbG9yQWxlcnQ6ICcnLAogICAgICBsb2FkaW5nVGV4dEFsZXJ0OiAnJywKICAgICAgYWxlcnQ6IGZhbHNlLAogICAgICBmaWxlczogW10sCiAgICAgIHZhbGlkOiB0cnVlLAogICAgICBsb2dnZWRVc2VyOiB7CiAgICAgICAgaWQ6IGNvb2tpZS5jcmVhdG9yLAogICAgICAgIG5hbWU6IGNvb2tpZS5lbWFpbAogICAgICB9LAogICAgICBpdGVtTGluZXM6IFtdLAogICAgICB0ZW1wbGF0ZXM6IFt7CiAgICAgICAgdGl0bGU6ICdEcmFmdCcKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAnT3BlbicKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAnUGFydGlhbGx5IENsb3NlZCcKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAnQ2xvc2VkJwogICAgICB9XSwKICAgICAgY29sX2V4cGFuZDogOSwKICAgICAgY29sX2hpZGU6IDMsCiAgICAgIGlzSGlkZUJhcjogZmFsc2UsCiAgICAgIHBheW1lbnRPcHRpb25zOiBbJ0ludm9pY2UnLCAnQ1JOJywgJ1BheW1lbnQgQ29kZScsICdDdXN0b21lciddLAogICAgICBtUGF5bWVudE9wdGlvbjogJ0ludm9pY2UnLAogICAgICBwYXltZW50TWV0aG9kOiBbJ0Nhc2gnLCAnQ2hlcXVlJ10sCiAgICAgIHRyYW5zYWN0aW9uRGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICAgIGNhc2hSZWNlaXB0OiBjYXNoUmVjZWlwdE1vZGVsLAogICAgICBpdGVtTGluZTogaXRlbUxpbmVNb2RlbCwKICAgICAgc2FsZUZvcm1Db250ZW50OiB7fSwKICAgICAgc2VhcmNoOiAnJywKICAgICAgdHJhbnNhY3Rpb25UeXBlczogW10sCiAgICAgIGN1c3RvbWVyczogW10sCiAgICAgIG1DdXN0b21lcjoge30sCiAgICAgIGRlZmF1bHRJdGVtOiBkZWZhdWx0SXRlbSwKICAgICAgY3VzQmFzZVVybDogY3VzdG9tZXJIYW5kbGVyLnNlYXJjaCgpLAogICAgICBmaWx0ZXI6ICcnLAogICAgICBuYW1lOiAnJywKICAgICAgcmVmZXJlbmNlTm86ICcnLAogICAgICBvbGRUb3RhbDogMCwKICAgICAgZGF0ZUZvcm1hdDogaXRlbUxpbmVNb2RlbC5kYXRlRm9ybWF0LAogICAgICBncm91cDogewogICAgICAgIGZpZWxkOiAnY3VzdG9tZXIubmFtZScKICAgICAgfSwKICAgICAgYmFua3M6IFtdLAogICAgICB0eG5MaXN0OiBbXSwKICAgICAgY3VycmVuY3lDb2RlOiAnJywKICAgICAgdHJhbnNhY3Rpb25SYXRlOiAxLAogICAgICBzY2hlbWFEZWZpbml0aW9uOiB7CiAgICAgICAgbW9kZWw6IHsKICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgZmllbGRzOiB7CiAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNoZWNrOiB7CiAgICAgICAgICAgICAgdHlwZTogJ2Jvb2xlYW4nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlZmVyZW5jZU5vOiB7CiAgICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFtb3VudDogewogICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFtb3VudFRvYmVQYWlkOiB7CiAgICAgICAgICAgICAgdHlwZTogJ251bWJlcicKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3ZlckR1ZTogewogICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNybjogewogICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBhaWRBbW91bnQ6IHsKICAgICAgICAgICAgICB0eXBlOiAnbnVtYmVyJwogICAgICAgICAgICB9LAogICAgICAgICAgICBkaXNjb3VudDogewogICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBlbmFsdHk6IHsKICAgICAgICAgICAgICB0eXBlOiAnbnVtYmVyJwogICAgICAgICAgICB9LAogICAgICAgICAgICBwYXltZW50Q29kZTogewogICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJhc2VDdXJyZW5jeToge30sCiAgICAgIGJhc2VDdXJyZW5jeUNvZGU6ICcnLAogICAgICBqUmF3OiBbXSwKICAgICAgZ2Fpbkxvc3NBY2M6IHt9LAogICAgICBvdGhlclJldmVudWVBY2M6IHt9LAogICAgICBnYWluT3JMb3NzRGVzY3JpcHRpb246ICdnYWluL2xvc3Mgb24gZXhjaGFuZ2UgcmF0ZScsCiAgICAgIHBlbmFsdHlEZXNjcmlwdGlvbjogJ3BlbmFsdHknLAogICAgICBjcjogMCwKICAgICAgZHI6IDAKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBuYW1lVGVtcGxhdGU6IGZ1bmN0aW9uIG5hbWVUZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB3aW5kb3cuY29uc29sZS5sb2coZGF0YUl0ZW0sICc6dGV4dC1maWVsZCcpOwogICAgICB2YXIgY3VzdG9tZXIgPSBkYXRhSXRlbS5jdXN0b21lciB8fCB7fTsKICAgICAgdmFyIG5hbWUgPSBjdXN0b21lci5uYW1lIHx8ICcnOwogICAgICB2YXIgbnVtYmVyID0gY3VzdG9tZXIubnVtYmVyIHx8ICcnOwogICAgICByZXR1cm4gbnVtYmVyICsgJyAtICcgKyBuYW1lOwogICAgfSwKICAgIF9wcmludDogZnVuY3Rpb24gX3ByaW50KGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcHJpbnRfZGF0YSA9IHRoaXMuY2FzaFJlY2VpcHQ7CiAgICAgIHByaW50X2RhdGFbJ2Jhc2VDdXJyZW5jeUNvZGUnXSA9IHRoaXMuYmFzZUN1cnJlbmN5Q29kZTsKICAgICAgdmFyIHBhcmFtcyA9ICI/Zm9ybVR5cGU9Q2FzaFJlY2VpcHQiOwogICAgICBnZXRGb3JtU2V0dGluZyhwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGFbIjAiXS5zZXR0aW5ncyk7CiAgICAgICAgICAgIHByaW50KHByaW50X2RhdGEsIGlkLCByZXMuZGF0YS5kYXRhWyIwIl0uc2V0dGluZ3MpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuJHNub3RpZnkuZXJyb3IoaTE4bi50KCdwbGVhc2Vfc2F2ZV9mb3JtX2luX3NldHRpbmcnKSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmVEdXBsaWNhdGU6IGZ1bmN0aW9uIHJlbW92ZUR1cGxpY2F0ZShhcnJheSkgewogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgIHZhciBtYXAgPSBuZXcgTWFwKCk7CgogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYXJyYXkpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgIGlmICghbWFwLmhhcyhpdGVtLmlkKSkgewogICAgICAgICAgICBtYXAuc2V0KGl0ZW0uaWQsIHRydWUpOyAvLyBzZXQgYW55IHZhbHVlIHRvIE1hcAoKICAgICAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgY3JuVG1wOiBmdW5jdGlvbiBjcm5UbXAoZGF0YUl0ZW0pIHsKICAgICAgaWYgKGRhdGFJdGVtKSB7CiAgICAgICAgaWYgKGRhdGFJdGVtLmhhc093blByb3BlcnR5KCdjcm4nKSkgewogICAgICAgICAgcmV0dXJuIGRhdGFJdGVtLmNybjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiAnJzsKICAgIH0sCiAgICBjdXJyZW5jeTogZnVuY3Rpb24gY3VycmVuY3koZGF0YUl0ZW0pIHsKICAgICAgaWYgKGRhdGFJdGVtKSB7CiAgICAgICAgaWYgKGRhdGFJdGVtLmhhc093blByb3BlcnR5KCdjdXJyZW5jeUNvZGUnKSkgewogICAgICAgICAgcmV0dXJuIGRhdGFJdGVtLmN1cnJlbmN5Q29kZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiAnJzsKICAgIH0sCiAgICBwYXltZW50Q29kZVRtcDogZnVuY3Rpb24gcGF5bWVudENvZGVUbXAoZGF0YUl0ZW0pIHsKICAgICAgaWYgKGRhdGFJdGVtKSB7CiAgICAgICAgaWYgKGRhdGFJdGVtLmhhc093blByb3BlcnR5KCdwYXltZW50Q29kZScpKSB7CiAgICAgICAgICByZXR1cm4gZGF0YUl0ZW0ucGF5bWVudENvZGU7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gJyc7CiAgICB9LAogICAgcmVmZXJlbmNlTm9UbXA6IGZ1bmN0aW9uIHJlZmVyZW5jZU5vVG1wKGRhdGFJdGVtKSB7CiAgICAgIGlmIChkYXRhSXRlbSkgewogICAgICAgIGlmIChkYXRhSXRlbS5oYXNPd25Qcm9wZXJ0eSgncmVmZXJlbmNlTm8nKSkgewogICAgICAgICAgcmV0dXJuIGRhdGFJdGVtLnJlZmVyZW5jZU5vOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuICcnOwogICAgfSwKICAgIHBhaWRBbW91bnRUbXA6IGZ1bmN0aW9uIHBhaWRBbW91bnRUbXAoZGF0YUl0ZW0pIHsKICAgICAgaWYgKGRhdGFJdGVtKSB7CiAgICAgICAgaWYgKGRhdGFJdGVtLmhhc093blByb3BlcnR5KCdwYWlkQW1vdW50JykpIHsKICAgICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhkYXRhSXRlbS5wYWlkQW1vdW50IHx8IDAsIGRhdGFJdGVtLmRlY2ltYWxGb3JtYXQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIDA7CiAgICB9LAogICAgYW1vdW50VG9iZVBhaWQ6IGZ1bmN0aW9uIGFtb3VudFRvYmVQYWlkKGRhdGFJdGVtKSB7CiAgICAgIGlmIChkYXRhSXRlbSkgewogICAgICAgIGlmIChkYXRhSXRlbS5oYXNPd25Qcm9wZXJ0eSgnYW1vdW50VG9iZVBhaWQnKSkgewogICAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKGRhdGFJdGVtLmFtb3VudFRvYmVQYWlkIHx8IDAsIGRhdGFJdGVtLmRlY2ltYWxGb3JtYXQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIDA7CiAgICB9LAogICAgZGlzY291bnQ6IGZ1bmN0aW9uIGRpc2NvdW50KGRhdGFJdGVtKSB7CiAgICAgIGlmIChkYXRhSXRlbSkgewogICAgICAgIGlmIChkYXRhSXRlbS5oYXNPd25Qcm9wZXJ0eSgnZGlzY291bnQnKSkgewogICAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKGRhdGFJdGVtLmRpc2NvdW50IHx8IDAsIGRhdGFJdGVtLmRlY2ltYWxGb3JtYXQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIDA7CiAgICB9LAogICAgYW1vdW50OiBmdW5jdGlvbiBhbW91bnQoZGF0YUl0ZW0pIHsKICAgICAgaWYgKGRhdGFJdGVtKSB7CiAgICAgICAgaWYgKGRhdGFJdGVtLmhhc093blByb3BlcnR5KCdhbW91bnQnKSkgewogICAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKGRhdGFJdGVtLmFtb3VudCB8fCAwLCBkYXRhSXRlbS5kZWNpbWFsRm9ybWF0KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiAwOwogICAgfSwKICAgIHBlbmFsdHk6IGZ1bmN0aW9uIHBlbmFsdHkoZGF0YUl0ZW0pIHsKICAgICAgaWYgKGRhdGFJdGVtKSB7CiAgICAgICAgaWYgKGRhdGFJdGVtLmhhc093blByb3BlcnR5KCdwZW5hbHR5JykpIHsKICAgICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhkYXRhSXRlbS5wZW5hbHR5IHx8IDAsIGRhdGFJdGVtLmRlY2ltYWxGb3JtYXQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIDA7CiAgICB9LAogICAgYmFua1JlZmVyZW5jZU5vOiBmdW5jdGlvbiBiYW5rUmVmZXJlbmNlTm8oZGF0YUl0ZW0pIHsKICAgICAgaWYgKGRhdGFJdGVtKSB7CiAgICAgICAgaWYgKGRhdGFJdGVtLmhhc093blByb3BlcnR5KCdiYW5rUmVmZXJlbmNlTm8nKSkgewogICAgICAgICAgcmV0dXJuIGRhdGFJdGVtLmJhbmtSZWZlcmVuY2VObzsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiAnJzsKICAgIH0sCiAgICBvdmVyRHVlOiBmdW5jdGlvbiBvdmVyRHVlKGRhdGFJdGVtKSB7CiAgICAgIGlmIChkYXRhSXRlbSkgewogICAgICAgIGlmIChkYXRhSXRlbS5oYXNPd25Qcm9wZXJ0eSgnb3ZlckR1ZScpKSB7CiAgICAgICAgICByZXR1cm4gZGF0YUl0ZW0ub3ZlckR1ZSB8fCAwOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIDA7CiAgICB9LAogICAgLy8gYXN5bmMgbG9hZFRyYW5zYWN0aW9uUmF0ZShjb2RlKSB7CiAgICAvLyAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAvLyAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgLy8gICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKQogICAgLy8gICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRoaXMudHJhbnNhY3Rpb25EYXRlKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCkKICAgIC8vICAgICAgICAgICAgIC8vIGNvbnN0IHByaWNlTGV2ZWwgPSB0aGlzLmludm9pY2UucHJpY2VMZXZlbAogICAgLy8gICAgICAgICAgICAgaWYgKGNvZGUgIT09IHVuZGVmaW5lZCB8fCBjb2RlICE9PSAnJykgewogICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAvLyAgICAgICAgICAgICAgICAgY3VycmVuY3lIYW5kbGVyLmdldExhc3RFeGNoYW5nZVJhdGVCeURhdGUoZGF0ZSwgY29kZSkudGhlbihyZXMgPT4gewogICAgLy8gICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4Y2hhbmdlUmF0ZSA9IHJlcy5kYXRhLmRhdGEKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVuY3lDb2RlID0gZXhjaGFuZ2VSYXRlLmNvZGUKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25SYXRlID0gZXhjaGFuZ2VSYXRlLnJhdGUKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FzaFJlY2VpcHQudHhuUmF0ZSA9IGV4Y2hhbmdlUmF0ZS5yYXRlCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc2hSZWNlaXB0LmV4Y2hhbmdlUmF0ZSA9IGV4Y2hhbmdlUmF0ZQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAvLyAgICAgICAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgICB9KQogICAgLy8gICAgICAgICAgICAgfQogICAgLy8KICAgIC8vICAgICAgICAgfSwgMTApCiAgICAvLyAgICAgfSkKICAgIC8vIH0sCiAgICBpbml0RGF0YTogZnVuY3Rpb24gaW5pdERhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcXVlcnlTdHJpbmcsIHR5cGUsIG9wdGlvbjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczIuJHJvdXRlLnBhcmFtcy5pZCAhPT0gdW5kZWZpbmVkKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHF1ZXJ5U3RyaW5nID0gX3RoaXMyLiRyb3V0ZS5xdWVyeTsKICAgICAgICAgICAgICAgIHR5cGUgPSAnJzsKICAgICAgICAgICAgICAgIG9wdGlvbiA9IDA7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeVN0cmluZy5oYXNPd25Qcm9wZXJ0eSgndHlwZScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdHlwZSA9IHF1ZXJ5U3RyaW5nLnR5cGU7CiAgICAgICAgICAgICAgICBvcHRpb24gPSBxdWVyeVN0cmluZy5vcHRpb247CgogICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdwbXQnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5tUGF5bWVudE9wdGlvbiA9IG9wdGlvbjsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnNlYXJjaCA9IF90aGlzMi4kcm91dGUucGFyYW1zLmlkOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLnNlYXJjaEludm9pY2UoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIubG9hZENhc2hSZWNlaXB0VmlldygpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfdGhpczIuaW5pdFJvdygpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHBhaWRBbW91bnRFZGl0b3I6IGZ1bmN0aW9uIHBhaWRBbW91bnRFZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IGRhdGEtYmluZD0idmFsdWU6JyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb051bWVyaWNUZXh0Qm94KHsKICAgICAgICBkZWNpbWFsczogMzAsCiAgICAgICAgZm9ybWF0OiAibiIuY29uY2F0KHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwpLAogICAgICAgIG1pbjogMAogICAgICB9KTsKICAgIH0sCiAgICBkaXNjb3VudEVkaXRvcjogZnVuY3Rpb24gZGlzY291bnRFZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IGRhdGEtYmluZD0idmFsdWU6JyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb051bWVyaWNUZXh0Qm94KHsKICAgICAgICBkZWNpbWFsczogMzAsCiAgICAgICAgZm9ybWF0OiAibiIuY29uY2F0KHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwpLAogICAgICAgIG1pbjogMAogICAgICB9KTsKICAgIH0sCiAgICBwZW5hbHR5RWRpdG9yOiBmdW5jdGlvbiBwZW5hbHR5RWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBkYXRhLWJpbmQ9InZhbHVlOicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9OdW1lcmljVGV4dEJveCh7CiAgICAgICAgZGVjaW1hbHM6IDMwLAogICAgICAgIGZvcm1hdDogIm4iLmNvbmNhdCh0aGlzLnNhbGVGb3JtQ29udGVudC5kZWNpbWFsKSwKICAgICAgICBtaW46IDAKICAgICAgfSk7CiAgICB9LAogICAgb25UcmFuc2FjdGlvbkRhdGVDaGFuZ2VkOiBmdW5jdGlvbiBvblRyYW5zYWN0aW9uRGF0ZUNoYW5nZWQoKSB7CiAgICAgIHRoaXMuZ2VuZXJhdGVOdW1iZXIoKTsKICAgICAgdGhpcy5zZWFyY2hJbnZvaWNlKCk7CiAgICB9LAogICAgZ2VuZXJhdGVOdW1iZXI6IGZ1bmN0aW9uIGdlbmVyYXRlTnVtYmVyKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICB2YXIgdHJhbkRhdGUgPSBuZXcgRGF0ZSh0aGlzLmNhc2hSZWNlaXB0LnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgdmFyIHRyYW5EYXRlUmVjZWlwdCA9IG5ldyBEYXRlKHRoaXMuY2FzaFJlY2VpcHQudHJhbnNhY3Rpb25EYXRlKTsKICAgICAgICB2YXIgdHJhbkRhdGVNID0gdHJhbkRhdGUuZ2V0RnVsbFllYXIoKSArIHRyYW5EYXRlLmdldE1vbnRoKCk7CiAgICAgICAgdmFyIHRyYW5EYXRlUmVjZWlwdE0gPSB0cmFuRGF0ZVJlY2VpcHQuZ2V0RnVsbFllYXIoKSArIHRyYW5EYXRlUmVjZWlwdC5nZXRNb250aCgpOwoKICAgICAgICBpZiAodHJhbkRhdGVNID09PSB0cmFuRGF0ZVJlY2VpcHRNKSB7CiAgICAgICAgICB0aGlzLmNhc2hSZWNlaXB0LnJlZmVyZW5jZU5vID0gdGhpcy5yZWZlcmVuY2VObzsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmNhc2hSZWNlaXB0LnRyYW5zYWN0aW9uRGF0ZSAhPT0gJycgJiYgdGhpcy50cmFuc2FjdGlvblR5cGVzLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIGFiYnI6IHRoaXMuY2FzaFJlY2VpcHQudHJhbnNhY3Rpb25UeXBlLmFiYnIsCiAgICAgICAgICBzdHJ1Y3R1cmU6IHRoaXMuY2FzaFJlY2VpcHQudHJhbnNhY3Rpb25UeXBlLnN0cnVjdHVyZSwKICAgICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogdGhpcy5jYXNoUmVjZWlwdC50cmFuc2FjdGlvbkRhdGUsCiAgICAgICAgICBzZXF1Y2VuY2luZzogdGhpcy5jYXNoUmVjZWlwdC50cmFuc2FjdGlvblR5cGUuc2VxdWNlbmNpbmcsCiAgICAgICAgICBwcmVmaXhTZXBhcmF0b3I6IHRoaXMuY2FzaFJlY2VpcHQudHJhbnNhY3Rpb25UeXBlLnByZWZpeFNlcGFyYXRvciB8fCAnJywKICAgICAgICAgIG51bWJlclNlcGFyYXRvcjogdGhpcy5jYXNoUmVjZWlwdC50cmFuc2FjdGlvblR5cGUubnVtYmVyU2VwYXJhdG9yIHx8ICcnLAogICAgICAgICAgZm9ybWF0OiB0aGlzLmNhc2hSZWNlaXB0LnRyYW5zYWN0aW9uVHlwZS5mb3JtYXQgfHwgNSwKICAgICAgICAgIHR5cGU6ICdDYXNoIFJlY2VpcHQnLAogICAgICAgICAgZW50aXR5OiAxCiAgICAgICAgfTsKICAgICAgICBiaWxsaW5nSGFuZGxlci5sYXN0TnVtYmVyKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKCiAgICAgICAgICAgIHZhciBsYXN0TnVtYmVyID0gX3RoaXMzLnplcm9QYWQocGFyc2VJbnQocmVzLmxhc3ROdW1iZXIpLCBfdGhpczMuY2FzaFJlY2VpcHQudHJhbnNhY3Rpb25UeXBlLmZvcm1hdCk7CgogICAgICAgICAgICB2YXIgbnVtYmVyID0gcmVzLnN1ZmZpeCArIF90aGlzMy5jYXNoUmVjZWlwdC50cmFuc2FjdGlvblR5cGUubnVtYmVyU2VwYXJhdG9yICsgbGFzdE51bWJlcjsKICAgICAgICAgICAgX3RoaXMzLmNhc2hSZWNlaXB0Lm51bWJlciA9IG51bWJlcjsKCiAgICAgICAgICAgIGlmIChfdGhpczMuY2FzaFJlY2VpcHQudHJhbnNhY3Rpb25UeXBlLmhhc093blByb3BlcnR5KCdwcmVmaXhTZXBhcmF0b3InKSkgewogICAgICAgICAgICAgIHZhciBwcmVmaXhTZXAgPSBfdGhpczMuY2FzaFJlY2VpcHQudHJhbnNhY3Rpb25UeXBlLnByZWZpeFNlcGFyYXRvcjsKICAgICAgICAgICAgICBfdGhpczMuY2FzaFJlY2VpcHQucmVmZXJlbmNlTm8gPSBfdGhpczMuY2FzaFJlY2VpcHQudHJhbnNhY3Rpb25UeXBlLmFiYnIgKyBwcmVmaXhTZXAgKyBudW1iZXI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKGUpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgemVyb1BhZDogZnVuY3Rpb24gemVyb1BhZChudW0sIHBsYWNlcykgewogICAgICByZXR1cm4gU3RyaW5nKG51bSkucGFkU3RhcnQocGxhY2VzLCAnMCcpOwogICAgfSwKICAgIGdldENpcmN1bGFyUmVwbGFjZXI6IGZ1bmN0aW9uIGdldENpcmN1bGFyUmVwbGFjZXIoKSB7CiAgICAgIHZhciBzZWVuID0gbmV3IFdlYWtTZXQoKTsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7CiAgICAgICAgaWYgKF90eXBlb2YodmFsdWUpID09PSAib2JqZWN0IiAmJiB2YWx1ZSAhPT0gbnVsbCkgewogICAgICAgICAgaWYgKHNlZW4uaGFzKHZhbHVlKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgc2Vlbi5hZGQodmFsdWUpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICB9OwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGU6IGZ1bmN0aW9uIGF1dG9DYWxjdWxhdGUoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgLy90b2RvOiBub3RlIDogcmF0ZVRvYmFzZSBpcyBjYXNoIHJlY2VpcHQgcmF0ZSAsIHR4blJhdGUgaXMgaW52b2ljZSByYXRlCiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuY2FzaFJlY2VpcHRJdGVtTGluZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICByZWNlaXB0QW1vdW50ID0gMCwKICAgICAgICAgIGRpc2NvdW50ID0gMCwKICAgICAgICAgIHBlbmFsdHkgPSAwLAogICAgICAgICAgY29udmVydGVkQW1vdW50ID0gMCwKICAgICAgICAgIGV4Y2hhbmdlRGlzY291bnQgPSAwLAogICAgICAgICAgZXhjaGFuZ2VQZW5hbHR5ID0gMCwKICAgICAgICAgIHBhaWRBbW91bnRUeG4gPSAwLAogICAgICAgICAgZXhjaGFuZ2VQZW5hbHR5VHhuID0gMCwKICAgICAgICAgIGV4Y2hhbmdlRGlzY291bnRUeG4gPSAwOwogICAgICB2YXIgcm93ID0gZHMuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgIHJldHVybiBuLnBhaWRBbW91bnQgPiAwOwogICAgICB9KTsKICAgICAgdGhpcy5qUmF3ID0gW107CiAgICAgIHJvdy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHZhciBwYWlkQW10ID0gMCwKICAgICAgICAgICAgbmF0dXJlID0gJycsCiAgICAgICAgICAgIGludlJhdGUgPSAwLAogICAgICAgICAgICByZWNlaXB0UmF0ZSA9IDAsCiAgICAgICAgICAgIHJhd1BhaWRBbW91bnQgPSAwLAogICAgICAgICAgICByYXdEaXNjb3VudEFtb3VudCA9IDAsCiAgICAgICAgICAgIHJhd1BlbmFsdHlBbW91bnQgPSAwLAogICAgICAgICAgICBjdXJyZW5jeUNvZGUgPSAnJzsKICAgICAgICB2YXIgZGlzY291bnRBbW91bnQgPSAwLAogICAgICAgICAgICBhckFtb3VudCA9IDAsCiAgICAgICAgICAgIHJlZk5vID0gJycsCiAgICAgICAgICAgIHBheU9wdGlvbiA9IHt9LAogICAgICAgICAgICBwZW5hbHR5QW1vdW50ID0gMCwKICAgICAgICAgICAgY3VycmVuY3kgPSB7fSwKICAgICAgICAgICAgZ2Fpbkxvc3MgPSAwLAogICAgICAgICAgICBsYXN0WFJhdGUgPSB7fSwKICAgICAgICAgICAgbG9jYXRpb24gPSB7fSwKICAgICAgICAgICAgc2VnbWVudCA9IHt9LAogICAgICAgICAgICBwcm9qZWN0ID0ge30sCiAgICAgICAgICAgIGxvY2F0aW9uSWQgPSAnJywKICAgICAgICAgICAgc2VnbWVudElkID0gJycsCiAgICAgICAgICAgIHByb2plY3RJZCA9ICcnLAogICAgICAgICAgICB0eG5JZCA9ICcnOwoKICAgICAgICBpZiAodmFsdWUucmVmZXJlbmNlTm8pIHsKICAgICAgICAgIHJlZk5vID0gdmFsdWUucmVmZXJlbmNlTm87CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUuaWQpIHsKICAgICAgICAgIHR4bklkID0gdmFsdWUuaWQgfHwgJyc7CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUudHhuUmF0ZSkgewogICAgICAgICAgaW52UmF0ZSA9IHBhcnNlRmxvYXQodmFsdWUudHhuUmF0ZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUuY3VycmVuY3lDb2RlKSB7CiAgICAgICAgICBjdXJyZW5jeUNvZGUgPSB2YWx1ZS5jdXJyZW5jeUNvZGUgfHwgJyc7CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUuY3VycmVuY3kpIHsKICAgICAgICAgIGN1cnJlbmN5ID0gdmFsdWUuY3VycmVuY3kgfHwge307CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUubG9jYXRpb24pIHsKICAgICAgICAgIGxvY2F0aW9uID0gdmFsdWUubG9jYXRpb24gfHwge307CgogICAgICAgICAgaWYgKGxvY2F0aW9uLmhhc093blByb3BlcnR5KCdpZCcpKSB7CiAgICAgICAgICAgIGxvY2F0aW9uSWQgPSBsb2NhdGlvbi5pZDsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh2YWx1ZS5zZWdtZW50KSB7CiAgICAgICAgICBzZWdtZW50ID0gdmFsdWUuc2VnbWVudCB8fCB7fTsKCiAgICAgICAgICBpZiAoc2VnbWVudC5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkgewogICAgICAgICAgICBzZWdtZW50SWQgPSBzZWdtZW50LmlkOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlLnByb2plY3QpIHsKICAgICAgICAgIHByb2plY3QgPSB2YWx1ZS5wcm9qZWN0IHx8IHt9OwoKICAgICAgICAgIGlmIChwcm9qZWN0Lmhhc093blByb3BlcnR5KCdpZCcpKSB7CiAgICAgICAgICAgIHByb2plY3RJZCA9IHByb2plY3QuaWQ7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUuZXhjaGFuZ2VSYXRlKSB7CiAgICAgICAgICBsYXN0WFJhdGUgPSB2YWx1ZS5leGNoYW5nZVJhdGUgfHwge307CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUucmF0ZVRvYmFzZSkgewogICAgICAgICAgcmVjZWlwdFJhdGUgPSBwYXJzZUZsb2F0KHZhbHVlLnJhdGVUb2Jhc2UpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlLnBhaWRBbW91bnQpIHsKICAgICAgICAgIHJlY2VpcHRBbW91bnQgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5wYWlkQW1vdW50KTsKICAgICAgICAgIGNvbnZlcnRlZEFtb3VudCArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnBhaWRBbW91bnQpICogcmVjZWlwdFJhdGU7CiAgICAgICAgICBwYWlkQW1vdW50VHhuICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucGFpZEFtb3VudCkgKiBpbnZSYXRlOwogICAgICAgICAgcGFpZEFtdCA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucGFpZEFtb3VudCkgKiByZWNlaXB0UmF0ZTsKICAgICAgICAgIHJhd1BhaWRBbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnBhaWRBbW91bnQpOwogICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdjb252ZXJ0ZWRBbW91bnQnLCBjb252ZXJ0ZWRBbW91bnQsICctJywgcmVjZWlwdFJhdGUpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlLmRpc2NvdW50KSB7CiAgICAgICAgICAvLyBkaXNjb3VudCArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmRpc2NvdW50KQogICAgICAgICAgZGlzY291bnQgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5kaXNjb3VudCkgKiByZWNlaXB0UmF0ZTsKICAgICAgICAgIGV4Y2hhbmdlRGlzY291bnQgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5leGNoYW5nZURpc2NvdW50KSAqIHJlY2VpcHRSYXRlOwogICAgICAgICAgZXhjaGFuZ2VEaXNjb3VudFR4biArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmRpc2NvdW50KSAqIGludlJhdGU7CiAgICAgICAgICBkaXNjb3VudEFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuZGlzY291bnQpICogcmVjZWlwdFJhdGU7CiAgICAgICAgICByYXdEaXNjb3VudEFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuZGlzY291bnQpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlLnBlbmFsdHkpIHsKICAgICAgICAgIC8vIHBlbmFsdHkgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5wZW5hbHR5KQogICAgICAgICAgcGVuYWx0eSArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnBlbmFsdHkpICogcmVjZWlwdFJhdGU7CiAgICAgICAgICBwZW5hbHR5QW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5wZW5hbHR5KSAqIHJlY2VpcHRSYXRlOwogICAgICAgICAgZXhjaGFuZ2VQZW5hbHR5ICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuZXhjaGFuZ2VQZW5hbHR5KSAqIHJlY2VpcHRSYXRlOwogICAgICAgICAgcmF3UGVuYWx0eUFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucGVuYWx0eSk7CiAgICAgICAgICBleGNoYW5nZVBlbmFsdHlUeG4gKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5wZW5hbHR5KSAqIGludlJhdGU7IC8vIHRvZG86IE90aGVyIFJldmVudWUgUGVuYWx0eQoKICAgICAgICAgIGlmIChwZW5hbHR5QW1vdW50ID4gMCkgewogICAgICAgICAgICBpZiAocGVuYWx0eUFtb3VudCAqIC0xID4gMCkgewogICAgICAgICAgICAgIG5hdHVyZSA9ICdkcic7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgbmF0dXJlID0gJ2NyJzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKF90aGlzNC5vdGhlclJldmVudWVBY2MuaGFzT3duUHJvcGVydHkoJ2lkJykpIHsKICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgaWQ6IF90aGlzNC5vdGhlclJldmVudWVBY2MuaWQgKyAnLScgKyBuYXR1cmUgKyAnLScgKyBjdXJyZW5jeUNvZGUgKyAnLScgKyBpbnZSYXRlICsgJy0nICsgbG9jYXRpb25JZCArICctJyArIHByb2plY3RJZCArICctJyArIHNlZ21lbnRJZCArICctJyArIHR4bklkLAogICAgICAgICAgICAgICAgdHhuSWQ6IHR4bklkLAogICAgICAgICAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0SWQsCiAgICAgICAgICAgICAgICBsb2NhdGlvbklkOiBsb2NhdGlvbklkLAogICAgICAgICAgICAgICAgc2VnbWVudElkOiBzZWdtZW50SWQsCiAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGN1cnJlbmN5Q29kZSwKICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSwKICAgICAgICAgICAgICAgIGxhc3RYUmF0ZTogbGFzdFhSYXRlLAogICAgICAgICAgICAgICAgcmVmZXJlbmNlTm86IHJlZk5vLAogICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25EYXRlOiB2YWx1ZS50cmFuc2FjdGlvbkRhdGUgfHwgJycsCiAgICAgICAgICAgICAgICBwYXltZW50T3B0aW9uOiB2YWx1ZS5wYXltZW50T3B0aW9uIHx8ICcnLAogICAgICAgICAgICAgICAgYmFua1JlZmVyZW5jZU5vOiB2YWx1ZS5iYW5rUmVmZXJlbmNlTm8gfHwgJycsCiAgICAgICAgICAgICAgICAvLyBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICByZWNlaXB0UmF0ZTogcmVjZWlwdFJhdGUsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1BlbmFsdHknLAogICAgICAgICAgICAgICAgY2FzaEJhc2ljRW50cmllczoge30sCiAgICAgICAgICAgICAgICBhY2NvdW50OiBfdGhpczQub3RoZXJSZXZlbnVlQWNjLAogICAgICAgICAgICAgICAgYWNjb3VudElkOiBfdGhpczQub3RoZXJSZXZlbnVlQWNjLmlkLAogICAgICAgICAgICAgICAgYW1vdW50OiByYXdQZW5hbHR5QW1vdW50ICogLTEsCiAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogcGVuYWx0eUFtb3VudCAqIC0xLAogICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgdHlwZUFzOiAnUGVuYWx0eScKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIHZhciBvYmpDYXNoQmFzaWMgPSB7CiAgICAgICAgICAgICAgICBpZDogX3RoaXM0Lm90aGVyUmV2ZW51ZUFjYy5pZCArICctJyArIG5hdHVyZSArICctJyArIGN1cnJlbmN5Q29kZSArICctJyArIGludlJhdGUgKyAnLScgKyBsb2NhdGlvbklkICsgJy0nICsgcHJvamVjdElkICsgJy0nICsgc2VnbWVudElkICsgJy0nICsgdHhuSWQsCiAgICAgICAgICAgICAgICB0eG5JZDogdHhuSWQsCiAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZCwKICAgICAgICAgICAgICAgIGxvY2F0aW9uSWQ6IGxvY2F0aW9uSWQsCiAgICAgICAgICAgICAgICBzZWdtZW50SWQ6IHNlZ21lbnRJZCwKICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgICAgbGFzdFhSYXRlOiBsYXN0WFJhdGUsCiAgICAgICAgICAgICAgICByZWZlcmVuY2VObzogcmVmTm8sCiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IHZhbHVlLnRyYW5zYWN0aW9uRGF0ZSB8fCAnJywKICAgICAgICAgICAgICAgIHBheW1lbnRPcHRpb246IHZhbHVlLnBheW1lbnRPcHRpb24gfHwgJycsCiAgICAgICAgICAgICAgICBiYW5rUmVmZXJlbmNlTm86IHZhbHVlLmJhbmtSZWZlcmVuY2VObyB8fCAnJywKICAgICAgICAgICAgICAgIC8vIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgIHJlY2VpcHRSYXRlOiByZWNlaXB0UmF0ZSwKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUGVuYWx0eScsCiAgICAgICAgICAgICAgICBhY2NvdW50OiBfdGhpczQub3RoZXJSZXZlbnVlQWNjLAogICAgICAgICAgICAgICAgYWNjb3VudElkOiBfdGhpczQub3RoZXJSZXZlbnVlQWNjLmlkLAogICAgICAgICAgICAgICAgYW1vdW50OiByYXdQZW5hbHR5QW1vdW50ICogLTEsCiAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogcGVuYWx0eUFtb3VudCAqIC0xLAogICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgdHlwZUFzOiAnUGVuYWx0eScKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIG9iai5jYXNoQmFzaWNFbnRyaWVzID0gb2JqQ2FzaEJhc2ljOwoKICAgICAgICAgICAgICBfdGhpczQualJhdy5wdXNoKG9iaik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IC8vIHRvZG86IGdhaW4gb3IgbG9zcyBleGNoYW5nZSByYXRlCgoKICAgICAgICBnYWluTG9zcyA9IHBhcnNlRmxvYXQoKGludlJhdGUgLSByZWNlaXB0UmF0ZSkgKiAocmF3UGFpZEFtb3VudCArIHJhd0Rpc2NvdW50QW1vdW50IC0gcmF3UGVuYWx0eUFtb3VudCkpOwoKICAgICAgICBpZiAoZ2Fpbkxvc3MgIT09IDApIHsKICAgICAgICAgIGlmIChnYWluTG9zcyA+IDApIHsKICAgICAgICAgICAgbmF0dXJlID0gJ2RyJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5hdHVyZSA9ICdjcic7CiAgICAgICAgICB9CgogICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdnYWluTG9zcycsIGdhaW5Mb3NzLCBwYWlkQW10LCBfdGhpczQuZ2Fpbkxvc3NBY2MpOyAvLyBpZiAoZ2Fpbkxvc3MpIHsKCiAgICAgICAgICBpZiAoX3RoaXM0LmdhaW5Mb3NzQWNjLmhhc093blByb3BlcnR5KCdpZCcpKSB7CiAgICAgICAgICAgIHZhciBfb2JqID0gewogICAgICAgICAgICAgIGlkOiBfdGhpczQuZ2Fpbkxvc3NBY2MuaWQgKyAnLScgKyBuYXR1cmUgKyAnLScgKyBjdXJyZW5jeUNvZGUgKyAnLScgKyBpbnZSYXRlICsgJy0nICsgbG9jYXRpb25JZCArICctJyArIHByb2plY3RJZCArICctJyArIHNlZ21lbnRJZCArICctJyArIHR4bklkLAogICAgICAgICAgICAgIHR4bklkOiB0eG5JZCwKICAgICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZCwKICAgICAgICAgICAgICBsb2NhdGlvbklkOiBsb2NhdGlvbklkLAogICAgICAgICAgICAgIHNlZ21lbnRJZDogc2VnbWVudElkLAogICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSwKICAgICAgICAgICAgICBsYXN0WFJhdGU6IGxhc3RYUmF0ZSwKICAgICAgICAgICAgICByZWZlcmVuY2VObzogcmVmTm8sCiAgICAgICAgICAgICAgdHJhbnNhY3Rpb25EYXRlOiB2YWx1ZS50cmFuc2FjdGlvbkRhdGUgfHwgJycsCiAgICAgICAgICAgICAgcGF5bWVudE9wdGlvbjogdmFsdWUucGF5bWVudE9wdGlvbiB8fCAnJywKICAgICAgICAgICAgICBiYW5rUmVmZXJlbmNlTm86IHZhbHVlLmJhbmtSZWZlcmVuY2VObyB8fCAnJywKICAgICAgICAgICAgICAvLyBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgcmVjZWlwdFJhdGU6IGdhaW5Mb3NzID4gMCA/IHJlY2VpcHRSYXRlIDogaW52UmF0ZSwKICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogX3RoaXM0LmdhaW5Pckxvc3NEZXNjcmlwdGlvbiwKICAgICAgICAgICAgICBhY2NvdW50OiBfdGhpczQuZ2Fpbkxvc3NBY2MsCiAgICAgICAgICAgICAgY2FzaEJhc2ljRW50cmllczoge30sCiAgICAgICAgICAgICAgYWNjb3VudElkOiBfdGhpczQuZ2Fpbkxvc3NBY2MuaWQsCiAgICAgICAgICAgICAgYW1vdW50OiAwLAogICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBnYWluTG9zcywKICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgdHlwZUFzOiAnR2Fpbk9yTG9zcycKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdmFyIF9vYmpDYXNoQmFzaWMgPSB7CiAgICAgICAgICAgICAgaWQ6IF90aGlzNC5nYWluTG9zc0FjYy5pZCArICctJyArIG5hdHVyZSArICctJyArIGN1cnJlbmN5Q29kZSArICctJyArIGludlJhdGUgKyAnLScgKyBsb2NhdGlvbklkICsgJy0nICsgcHJvamVjdElkICsgJy0nICsgc2VnbWVudElkICsgJy0nICsgdHhuSWQsCiAgICAgICAgICAgICAgdHhuSWQ6IHR4bklkLAogICAgICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdElkLAogICAgICAgICAgICAgIGxvY2F0aW9uSWQ6IGxvY2F0aW9uSWQsCiAgICAgICAgICAgICAgc2VnbWVudElkOiBzZWdtZW50SWQsCiAgICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjdXJyZW5jeUNvZGUsCiAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgIGxhc3RYUmF0ZTogbGFzdFhSYXRlLAogICAgICAgICAgICAgIHJlZmVyZW5jZU5vOiByZWZObywKICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IHZhbHVlLnRyYW5zYWN0aW9uRGF0ZSB8fCAnJywKICAgICAgICAgICAgICBwYXltZW50T3B0aW9uOiB2YWx1ZS5wYXltZW50T3B0aW9uIHx8ICcnLAogICAgICAgICAgICAgIGJhbmtSZWZlcmVuY2VObzogdmFsdWUuYmFua1JlZmVyZW5jZU5vIHx8ICcnLAogICAgICAgICAgICAgIC8vIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICByZWNlaXB0UmF0ZTogZ2Fpbkxvc3MgPiAwID8gcmVjZWlwdFJhdGUgOiBpbnZSYXRlLAogICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBfdGhpczQuZ2Fpbk9yTG9zc0Rlc2NyaXB0aW9uLAogICAgICAgICAgICAgIGFjY291bnQ6IF90aGlzNC5nYWluTG9zc0FjYywKICAgICAgICAgICAgICBhY2NvdW50SWQ6IF90aGlzNC5nYWluTG9zc0FjYy5pZCwKICAgICAgICAgICAgICBhbW91bnQ6IDAsCiAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGdhaW5Mb3NzLAogICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICB0eXBlQXM6ICdHYWluT3JMb3NzJwogICAgICAgICAgICB9OwogICAgICAgICAgICBfb2JqLmNhc2hCYXNpY0VudHJpZXMgPSBfb2JqQ2FzaEJhc2ljOwoKICAgICAgICAgICAgX3RoaXM0LmpSYXcucHVzaChfb2JqKTsKICAgICAgICAgIH0gLy8gfQoKICAgICAgICB9IC8vVG9kbzogQVIgIENyCgoKICAgICAgICBhckFtb3VudCA9IHJhd1BhaWRBbW91bnQgKyByYXdEaXNjb3VudEFtb3VudCAtIHJhd1BlbmFsdHlBbW91bnQ7CgogICAgICAgIGlmIChhckFtb3VudCAqIC0xID4gMCkgewogICAgICAgICAgbmF0dXJlID0gJ2RyJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmF0dXJlID0gJ2NyJzsKICAgICAgICB9CgogICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgncmVjZWl2YWJsZUFjYycpKSB7CiAgICAgICAgICB2YXIgY2FzaEJhc2ljRW50cmllcyA9IFtdOwoKICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnY2FzaEJhc2ljSW5jb21lQWNjJykpIHsKICAgICAgICAgICAgdmFyIGNhc2hCYXNpY0luY29tZUFjYyA9IHZhbHVlLmNhc2hCYXNpY0luY29tZUFjYyB8fCBbXTsKICAgICAgICAgICAgY2FzaEJhc2ljSW5jb21lQWNjLmZvckVhY2goZnVuY3Rpb24gKGssIGluZGV4KSB7CiAgICAgICAgICAgICAgdmFyIGFjY291bnQgPSBrLmFjY291bnQgfHwge307CiAgICAgICAgICAgICAgdmFyIGFjY291bnRJZCA9IGsuYWNjb3VudElkIHx8ICcnOwogICAgICAgICAgICAgIHZhciBhbW91bnQgPSBhckFtb3VudCAqIChrLmFtb3VudFBlcmNlbnRhZ2UgfHwgMCk7CgogICAgICAgICAgICAgIGlmIChhY2NvdW50SWQpIHsKICAgICAgICAgICAgICAgIGNhc2hCYXNpY0VudHJpZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBhY2NvdW50SWQgKyAnLScgKyBuYXR1cmUgKyAnLScgKyBjdXJyZW5jeUNvZGUgKyAnLScgKyBpbnZSYXRlICsgJy0nICsgbG9jYXRpb25JZCArICctJyArIHByb2plY3RJZCArICctJyArIHNlZ21lbnRJZCArICctJyArIHR4bklkLAogICAgICAgICAgICAgICAgICB0eG5JZDogdHhuSWQsCiAgICAgICAgICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdElkLAogICAgICAgICAgICAgICAgICBsb2NhdGlvbklkOiBsb2NhdGlvbklkLAogICAgICAgICAgICAgICAgICBzZWdtZW50SWQ6IHNlZ21lbnRJZCwKICAgICAgICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjdXJyZW5jeUNvZGUsCiAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgbGFzdFhSYXRlOiBsYXN0WFJhdGUsCiAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZU5vOiByZWZObywKICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25EYXRlOiB2YWx1ZS50cmFuc2FjdGlvbkRhdGUgfHwgJycsCiAgICAgICAgICAgICAgICAgIHBheW1lbnRPcHRpb246IHZhbHVlLnBheW1lbnRPcHRpb24gfHwgJycsCiAgICAgICAgICAgICAgICAgIGJhbmtSZWZlcmVuY2VObzogdmFsdWUuYmFua1JlZmVyZW5jZU5vIHx8ICcnLAogICAgICAgICAgICAgICAgICAvLyBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgIHJlY2VpcHRSYXRlOiBpbnZSYXRlLAogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogX3RoaXM0LmNhc2hSZWNlaXB0LmpvdXJuYWxOb3RlIHx8IHJlZk5vLAogICAgICAgICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGFjY291bnRJZCwKICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQgKiAtMSwKICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGFtb3VudCAqIC0xICogaW52UmF0ZSwKICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICB0eXBlQXM6ICdJbmNvbWUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZhciByZWNlaXZhYmxlQWNjID0gdmFsdWUucmVjZWl2YWJsZUFjYzsKCiAgICAgICAgICAgICAgICBpZiAocmVjZWl2YWJsZUFjYykgewogICAgICAgICAgICAgICAgICBpZiAocmVjZWl2YWJsZUFjYy5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNC5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgICAgICAgaWQ6IHJlY2VpdmFibGVBY2MuaWQgKyAnLScgKyBuYXR1cmUgKyAnLScgKyBjdXJyZW5jeUNvZGUgKyAnLScgKyBpbnZSYXRlICsgJy0nICsgbG9jYXRpb25JZCArICctJyArIHByb2plY3RJZCArICctJyArIHNlZ21lbnRJZCArICctJyArIHR4bklkICsgJy0nICsgaW5kZXgsCiAgICAgICAgICAgICAgICAgICAgICB0eG5JZDogdHhuSWQsCiAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZCwKICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uSWQ6IGxvY2F0aW9uSWQsCiAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50SWQ6IHNlZ21lbnRJZCwKICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgICAgICAgICAgbGFzdFhSYXRlOiBsYXN0WFJhdGUsCiAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VObzogcmVmTm8sCiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IHZhbHVlLnRyYW5zYWN0aW9uRGF0ZSB8fCAnJywKICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRPcHRpb246IHZhbHVlLnBheW1lbnRPcHRpb24gfHwgJycsCiAgICAgICAgICAgICAgICAgICAgICBiYW5rUmVmZXJlbmNlTm86IHZhbHVlLmJhbmtSZWZlcmVuY2VObyB8fCAnJywKICAgICAgICAgICAgICAgICAgICAgIC8vIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgICAgICAgIHJlY2VpcHRSYXRlOiBpbnZSYXRlLAogICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzNC5jYXNoUmVjZWlwdC5qb3VybmFsTm90ZSB8fCByZWZObywKICAgICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IHJlY2VpdmFibGVBY2MsCiAgICAgICAgICAgICAgICAgICAgICBjYXNoQmFzaWNFbnRyaWVzOiBjYXNoQmFzaWNFbnRyaWVzW2luZGV4XSwKICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogcmVjZWl2YWJsZUFjYy5pZCwKICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogaW5kZXggPT09IDAgPyBhckFtb3VudCAqIC0xIDogMCwKICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBpbmRleCA9PT0gMCA/IGFyQW1vdW50ICogLTEgKiBpbnZSYXRlIDogMCwKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgIHR5cGVBczogJ0FSJwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IC8vVG9kbzogQ2FzaCBBY2NvdW50ICBEcgoKCiAgICAgICAgaWYgKHZhbHVlLnBheW1lbnRPcHRpb24pIHsKICAgICAgICAgIHBheU9wdGlvbiA9IHZhbHVlLnBheW1lbnRPcHRpb247CiAgICAgICAgICB2YXIgY2FzaEFtb3VudCA9IHJhd1BhaWRBbW91bnQ7IC8vKyAoKGludlJhdGUgLSByZWNlaXB0UmF0ZSkgKiAocmF3UGFpZEFtb3VudCArIHJhd0Rpc2NvdW50QW1vdW50KSkKICAgICAgICAgIC8vIGNvbnN0IGNhc2hBbW91bnQgPSByYXdQYWlkQW1vdW50ICsgKGdhaW5Mb3NzICkgKyByYXdQYWlkQW1vdW50CgogICAgICAgICAgaWYgKGNhc2hBbW91bnQgPiAwKSB7CiAgICAgICAgICAgIG5hdHVyZSA9ICdkcic7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuYXR1cmUgPSAnY3InOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChwYXlPcHRpb24uaGFzT3duUHJvcGVydHkoJ2FjY291bnQnKSkgewogICAgICAgICAgICB2YXIgcGF5T3B0aW9uQWNjID0gcGF5T3B0aW9uLmFjY291bnQgfHwge307CgogICAgICAgICAgICBpZiAocGF5T3B0aW9uQWNjLmhhc093blByb3BlcnR5KCdpZCcpKSB7CiAgICAgICAgICAgICAgdmFyIF9vYmoyID0gewogICAgICAgICAgICAgICAgaWQ6IHBheU9wdGlvbkFjYy5pZCArICctJyArIG5hdHVyZSArICctJyArIGN1cnJlbmN5Q29kZSArICctJyArIGludlJhdGUgKyAnLScgKyBsb2NhdGlvbklkICsgJy0nICsgcHJvamVjdElkICsgJy0nICsgc2VnbWVudElkICsgJy0nICsgdHhuSWQsCiAgICAgICAgICAgICAgICB0eG5JZDogdHhuSWQsCiAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZCwKICAgICAgICAgICAgICAgIGxvY2F0aW9uSWQ6IGxvY2F0aW9uSWQsCiAgICAgICAgICAgICAgICBzZWdtZW50SWQ6IHNlZ21lbnRJZCwKICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgICAgbGFzdFhSYXRlOiBsYXN0WFJhdGUsCiAgICAgICAgICAgICAgICByZWZlcmVuY2VObzogcmVmTm8sCiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IHZhbHVlLnRyYW5zYWN0aW9uRGF0ZSB8fCAnJywKICAgICAgICAgICAgICAgIHBheW1lbnRPcHRpb246IHZhbHVlLnBheW1lbnRPcHRpb24gfHwgJycsCiAgICAgICAgICAgICAgICBiYW5rUmVmZXJlbmNlTm86IHZhbHVlLmJhbmtSZWZlcmVuY2VObyB8fCAnJywKICAgICAgICAgICAgICAgIHJlY2VpcHRSYXRlOiBpbnZSYXRlLAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzNC5jYXNoUmVjZWlwdC5qb3VybmFsTm90ZSB8fCByZWZObywKICAgICAgICAgICAgICAgIGFjY291bnQ6IHBheU9wdGlvbkFjYywKICAgICAgICAgICAgICAgIGFjY291bnRJZDogcGF5T3B0aW9uQWNjLmlkLAogICAgICAgICAgICAgICAgYW1vdW50OiBjYXNoQW1vdW50LAogICAgICAgICAgICAgICAgY2FzaEJhc2ljRW50cmllczoge30sCiAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogY2FzaEFtb3VudCAqIHJlY2VpcHRSYXRlLAogICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgdHlwZUFzOiAnQ2FzaEFjY291bnQnCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB2YXIgb2JqQ2FzaEJhc2ljRW50cnkgPSB7CiAgICAgICAgICAgICAgICBpZDogcGF5T3B0aW9uQWNjLmlkICsgJy0nICsgbmF0dXJlICsgJy0nICsgY3VycmVuY3lDb2RlICsgJy0nICsgaW52UmF0ZSArICctJyArIGxvY2F0aW9uSWQgKyAnLScgKyBwcm9qZWN0SWQgKyAnLScgKyBzZWdtZW50SWQgKyAnLScgKyB0eG5JZCwKICAgICAgICAgICAgICAgIHR4bklkOiB0eG5JZCwKICAgICAgICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdElkLAogICAgICAgICAgICAgICAgbG9jYXRpb25JZDogbG9jYXRpb25JZCwKICAgICAgICAgICAgICAgIHNlZ21lbnRJZDogc2VnbWVudElkLAogICAgICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjdXJyZW5jeUNvZGUsCiAgICAgICAgICAgICAgICBjdXJyZW5jeTogY3VycmVuY3ksCiAgICAgICAgICAgICAgICBsYXN0WFJhdGU6IGxhc3RYUmF0ZSwKICAgICAgICAgICAgICAgIHJlZmVyZW5jZU5vOiByZWZObywKICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogdmFsdWUudHJhbnNhY3Rpb25EYXRlIHx8ICcnLAogICAgICAgICAgICAgICAgcGF5bWVudE9wdGlvbjogdmFsdWUucGF5bWVudE9wdGlvbiB8fCAnJywKICAgICAgICAgICAgICAgIGJhbmtSZWZlcmVuY2VObzogdmFsdWUuYmFua1JlZmVyZW5jZU5vIHx8ICcnLAogICAgICAgICAgICAgICAgcmVjZWlwdFJhdGU6IGludlJhdGUsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogX3RoaXM0LmNhc2hSZWNlaXB0LmpvdXJuYWxOb3RlIHx8IHJlZk5vLAogICAgICAgICAgICAgICAgYWNjb3VudDogcGF5T3B0aW9uQWNjLAogICAgICAgICAgICAgICAgYWNjb3VudElkOiBwYXlPcHRpb25BY2MuaWQsCiAgICAgICAgICAgICAgICBhbW91bnQ6IGNhc2hBbW91bnQsCiAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogY2FzaEFtb3VudCAqIHJlY2VpcHRSYXRlLAogICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgdHlwZUFzOiAnQ2FzaEFjY291bnQnCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfb2JqMi5jYXNoQmFzaWNFbnRyaWVzID0gb2JqQ2FzaEJhc2ljRW50cnk7IC8vIG9iai5jYXNoQmFzaWNFbnRyaWVzID0gb2JqQ2FzaEJhc2ljRW50cnkKICAgICAgICAgICAgICAvLyBsZXQgb2JqMSA9IG9iagogICAgICAgICAgICAgIC8vIG9iajFbJ2Nhc2hCYXNpY0VudHJpZXMnXSA9IG9iagogICAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygnY2FzaEJhc2ljRW50cmllcycsIG9iajEpCgogICAgICAgICAgICAgIF90aGlzNC5qUmF3LnB1c2goX29iajIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSAvL1RvZG86IFNldHRsZW1lbnQgRGlzY291bnQgIERyCgoKICAgICAgICBpZiAodmFsdWUucGF5bWVudFRlcm0pIHsKICAgICAgICAgIGlmIChkaXNjb3VudEFtb3VudCA+IDApIHsKICAgICAgICAgICAgdmFyIHNldHRsZW1lbnREaXNjID0gdmFsdWUucGF5bWVudFRlcm07CgogICAgICAgICAgICBpZiAoZGlzY291bnRBbW91bnQgPiAwKSB7CiAgICAgICAgICAgICAgbmF0dXJlID0gJ2RyJzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBuYXR1cmUgPSAnY3InOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoc2V0dGxlbWVudERpc2MuaGFzT3duUHJvcGVydHkoJ2FjY291bnQnKSkgewogICAgICAgICAgICAgIHZhciBzZXR0bGVtZW50RGlzY0FjYyA9IHNldHRsZW1lbnREaXNjLmFjY291bnQ7CgogICAgICAgICAgICAgIGlmIChzZXR0bGVtZW50RGlzY0FjYy5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkgewogICAgICAgICAgICAgICAgdmFyIF9vYmozID0gewogICAgICAgICAgICAgICAgICBpZDogc2V0dGxlbWVudERpc2NBY2MuaWQgKyAnLScgKyBuYXR1cmUgKyAnLScgKyBjdXJyZW5jeUNvZGUgKyAnLScgKyBpbnZSYXRlICsgJy0nICsgbG9jYXRpb25JZCArICctJyArIHByb2plY3RJZCArICctJyArIHNlZ21lbnRJZCArICctJyArIHR4bklkLAogICAgICAgICAgICAgICAgICB0eG5JZDogdHhuSWQsCiAgICAgICAgICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdElkLAogICAgICAgICAgICAgICAgICBsb2NhdGlvbklkOiBsb2NhdGlvbklkLAogICAgICAgICAgICAgICAgICBzZWdtZW50SWQ6IHNlZ21lbnRJZCwKICAgICAgICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjdXJyZW5jeUNvZGUsCiAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgbGFzdFhSYXRlOiBsYXN0WFJhdGUsCiAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZU5vOiByZWZObywKICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25EYXRlOiB2YWx1ZS50cmFuc2FjdGlvbkRhdGUgfHwgJycsCiAgICAgICAgICAgICAgICAgIHBheW1lbnRPcHRpb246IHZhbHVlLnBheW1lbnRPcHRpb24gfHwgJycsCiAgICAgICAgICAgICAgICAgIGJhbmtSZWZlcmVuY2VObzogdmFsdWUuYmFua1JlZmVyZW5jZU5vIHx8ICcnLAogICAgICAgICAgICAgICAgICAvLyBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgIHJlY2VpcHRSYXRlOiByZWNlaXB0UmF0ZSwKICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdSZWNlaXB0IFNldHRsZW1lbnQgRGlzY291bnQnLAogICAgICAgICAgICAgICAgICBhY2NvdW50OiBzZXR0bGVtZW50RGlzY0FjYywKICAgICAgICAgICAgICAgICAgY2FzaEJhc2ljRW50cmllczoge30sCiAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogc2V0dGxlbWVudERpc2NBY2MuaWQsCiAgICAgICAgICAgICAgICAgIGFtb3VudDogcmF3RGlzY291bnRBbW91bnQsCiAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBkaXNjb3VudEFtb3VudCwKICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICB0eXBlQXM6ICdTZXR0bGVtZW50IERpc2NvdW50JwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHZhciBvYmpDYXNoYmFzaWMgPSB7CiAgICAgICAgICAgICAgICAgIGlkOiBzZXR0bGVtZW50RGlzY0FjYy5pZCArICctJyArIG5hdHVyZSArICctJyArIGN1cnJlbmN5Q29kZSArICctJyArIGludlJhdGUgKyAnLScgKyBsb2NhdGlvbklkICsgJy0nICsgcHJvamVjdElkICsgJy0nICsgc2VnbWVudElkICsgJy0nICsgdHhuSWQsCiAgICAgICAgICAgICAgICAgIHR4bklkOiB0eG5JZCwKICAgICAgICAgICAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0SWQsCiAgICAgICAgICAgICAgICAgIGxvY2F0aW9uSWQ6IGxvY2F0aW9uSWQsCiAgICAgICAgICAgICAgICAgIHNlZ21lbnRJZDogc2VnbWVudElkLAogICAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGN1cnJlbmN5Q29kZSwKICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgICAgICBsYXN0WFJhdGU6IGxhc3RYUmF0ZSwKICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlTm86IHJlZk5vLAogICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IHZhbHVlLnRyYW5zYWN0aW9uRGF0ZSB8fCAnJywKICAgICAgICAgICAgICAgICAgcGF5bWVudE9wdGlvbjogdmFsdWUucGF5bWVudE9wdGlvbiB8fCAnJywKICAgICAgICAgICAgICAgICAgYmFua1JlZmVyZW5jZU5vOiB2YWx1ZS5iYW5rUmVmZXJlbmNlTm8gfHwgJycsCiAgICAgICAgICAgICAgICAgIC8vIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgICAgcmVjZWlwdFJhdGU6IHJlY2VpcHRSYXRlLAogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1JlY2VpcHQgU2V0dGxlbWVudCBEaXNjb3VudCcsCiAgICAgICAgICAgICAgICAgIGFjY291bnQ6IHNldHRsZW1lbnREaXNjQWNjLAogICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IHNldHRsZW1lbnREaXNjQWNjLmlkLAogICAgICAgICAgICAgICAgICBhbW91bnQ6IHJhd0Rpc2NvdW50QW1vdW50LAogICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogZGlzY291bnRBbW91bnQsCiAgICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgICAgdHlwZUFzOiAnU2V0dGxlbWVudCBEaXNjb3VudCcKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfb2JqMy5jYXNoQmFzaWNFbnRyaWVzID0gb2JqQ2FzaGJhc2ljOwoKICAgICAgICAgICAgICAgIF90aGlzNC5qUmF3LnB1c2goX29iajMpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7IC8vIHRoaXMuaW52b2ljZVR4bih0eG5JZHMpCgogICAgICB0aGlzLmNhc2hSZWNlaXB0LnRvdGFsID0gcmVjZWlwdEFtb3VudDsKICAgICAgdGhpcy5jYXNoUmVjZWlwdC5leGNoYW5nZUFtb3VudCA9IGNvbnZlcnRlZEFtb3VudDsKICAgICAgdGhpcy5jYXNoUmVjZWlwdC5kaXNjb3VudCA9IGRpc2NvdW50OwogICAgICB0aGlzLmNhc2hSZWNlaXB0LmV4Y2hhbmdlRGlzY291bnQgPSBleGNoYW5nZURpc2NvdW50OwogICAgICB0aGlzLmNhc2hSZWNlaXB0LnBlbmFsdHkgPSBwZW5hbHR5OwogICAgICB0aGlzLmNhc2hSZWNlaXB0LmV4Y2hhbmdlUGVuYWx0eVR4biA9IGV4Y2hhbmdlUGVuYWx0eVR4bjsKICAgICAgdGhpcy5jYXNoUmVjZWlwdC5wYWlkQW1vdW50VHhuID0gcGFpZEFtb3VudFR4bjsKICAgICAgdGhpcy5jYXNoUmVjZWlwdC5leGNoYW5nZURpc2NvdW50VHhuID0gZXhjaGFuZ2VEaXNjb3VudFR4bjsKICAgICAgdGhpcy5jYXNoUmVjZWlwdC5leGNoYW5nZVBlbmFsdHkgPSBleGNoYW5nZVBlbmFsdHk7CiAgICAgIHRoaXMuc2hyaW5rRGF0YSh0aGlzLmpSYXcpOyAvLyBsZXQgaXRlbUxpbmVEUyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpCiAgICAgIC8vIGNvbnN0IGRhdGFSb3cgPSBpdGVtTGluZURTLmRhdGEoKS5maWx0ZXIobiA9PiBuLnBhaWRBbW91bnQgPiAwKQogICAgICAvLwogICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2codGhpcy5qUmF3LCAnY2FzaCBqUmF3JykKICAgIH0sCiAgICBzaHJpbmtEYXRhOiBmdW5jdGlvbiBzaHJpbmtEYXRhKG9iaikgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciB1bmlxdWVzID0gdGhpcy5yZW1vdmVEdXBsaWNhdGUob2JqKTsKICAgICAgLypbLi4ubmV3IFNldChhY2NvdW50SWQubWFwKGkgPT4gewogICAgICByZXR1cm4gewogICAgICBpZF86IGkuaWRfLAogICAgICBpZDogaS5pZCwKICAgICAgdHlwZTogaS50eXBlCiAgICAgIH0KICAgICAgfSkpXSovCgogICAgICB1bmlxdWVzLmZvckVhY2goZnVuY3Rpb24gKG4pIHsKICAgICAgICB2YXIgZm91bmQgPSBvYmouZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICByZXR1cm4gbS5pZCA9PT0gbi5pZDsKICAgICAgICB9KTsKICAgICAgICB2YXIgYW1vdW50ID0gMCwKICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQgPSAwOwogICAgICAgIGZvdW5kLmZvckVhY2goZnVuY3Rpb24gKHopIHsKICAgICAgICAgIGFtb3VudCArPSBwYXJzZUZsb2F0KHouYW1vdW50IHx8IDApOwogICAgICAgICAgZXhjaGFuZ2VBbW91bnQgKz0gcGFyc2VGbG9hdCh6LmV4Y2hhbmdlQW1vdW50IHx8IDApOwogICAgICAgIH0pOwogICAgICAgIG4uZXhjaGFuZ2VBbW91bnQgPSBwYXJzZUZsb2F0KGV4Y2hhbmdlQW1vdW50KTsgLy90aGlzLm51bWJlckZvcm1hdChhbW91bnQpCgogICAgICAgIG4uYW1vdW50ID0gcGFyc2VGbG9hdChhbW91bnQpOyAvL3BhcnNlRmxvYXQocGFyc2VGbG9hdChhbW91bnQgLyBwYXJzZUZsb2F0KG4ucmVjZWlwdFJhdGUpKSkgLy90aGlzLm51bWJlckZvcm1hdChhbW91bnQgKiBwYXJzZUZsb2F0KHRoaXMuaW52b2ljZS50eG5SYXRlKSkgLy8udG9GaXhlZCh0aGlzLnNhbGVGb3JtQ29udGVudC5kZWNpbWFsKQogICAgICB9KTsKICAgICAgdGhpcy5qUmF3ID0gdW5pcXVlczsKICAgICAgdmFyIGRyID0gMCwKICAgICAgICAgIGNyID0gMDsKICAgICAgdGhpcy5qUmF3LmZvckVhY2goZnVuY3Rpb24gKGopIHsKICAgICAgICBzd2l0Y2ggKGoudHlwZSkgewogICAgICAgICAgY2FzZSAnY3InOgogICAgICAgICAgICBjciArPSBwYXJzZUZsb2F0KGouZXhjaGFuZ2VBbW91bnQpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdkcic6CiAgICAgICAgICAgIGRyICs9IHBhcnNlRmxvYXQoai5leGNoYW5nZUFtb3VudCk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHZhciB0eG5JZCA9IHRoaXMualJhdy5tYXAoZnVuY3Rpb24gKG8pIHsKICAgICAgICByZXR1cm4gby50eG5JZDsKICAgICAgfSk7CiAgICAgIHZhciB1U2V0ID0gbmV3IFNldCh0eG5JZCk7CgogICAgICB2YXIgdW5pcXVlU2V0ID0gX3RvQ29uc3VtYWJsZUFycmF5KHVTZXQpOwoKICAgICAgdmFyIGpSYXdzID0gW107CiAgICAgIHVuaXF1ZVNldC5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgdmFyIGZvdW5kID0gX3RoaXM1LmpSYXcuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICByZXR1cm4gbS50eG5JZCA9PT0gbjsKICAgICAgICB9KTsKCiAgICAgICAgalJhd3MucHVzaCh7CiAgICAgICAgICBpZDogbiwKICAgICAgICAgIGN1cnJlbmN5Q29kZTogZm91bmRbMF0uY3VycmVuY3lDb2RlLAogICAgICAgICAgcHJvamVjdElkOiBmb3VuZFswXS5wcm9qZWN0SWQsCiAgICAgICAgICBzZWdtZW50SWQ6IGZvdW5kWzBdLnNlZ21lbnRJZCwKICAgICAgICAgIGxvY2F0aW9uSWQ6IGZvdW5kWzBdLmxvY2F0aW9uSWQsCiAgICAgICAgICByZWZlcmVuY2VObzogZm91bmRbMF0ucmVmZXJlbmNlTm8sCiAgICAgICAgICBlbnRyaWVzOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGZvdW5kKSkKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMualJhdyA9IGpSYXdzOwogICAgICB0aGlzLmRyID0gZHI7CiAgICAgIHRoaXMuY3IgPSBjcjsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdkcj0nLCBkciwgJ2NyPScsIGNyLCAnZHIrY3IgPSAnLCBkciArIGNyKTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHRoaXMualJhdyksICd1bmlxdWVzJyk7CiAgICB9LAogICAgaW52b2ljZVR4bjogZnVuY3Rpb24gaW52b2ljZVR4bigpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB2YXIgdHhuSWRzID0gW10sCiAgICAgICAgICBpZHMgPSBbXTsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5jYXNoUmVjZWlwdEl0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgdmFyIGRhdGEgPSBkcy5kYXRhKCk7CiAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICBpZiAodmFsdWUuaWQpIHsKICAgICAgICAgIHR4bklkcy5wdXNoKHsKICAgICAgICAgICAgaWQ6IHZhbHVlLmlkLAogICAgICAgICAgICBzdGF0dXM6IDEKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGlkcyA9IE9iamVjdC52YWx1ZXModHhuSWRzLnJlZHVjZShmdW5jdGlvbiAociwgbykgewogICAgICAgIHJldHVybiByW28uaWRdID0gbywgcjsKICAgICAgfSwge30pKTsKICAgICAgaWRzLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICB2YXIgbGluZXMgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgcmV0dXJuIG4uaWQgPT09IG0uaWQ7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHBhaWRBbXQgPSAwOwogICAgICAgIHZhciBhbW91bnRUb2JlUGFpZCA9IDA7CiAgICAgICAgbGluZXMuZm9yRWFjaChmdW5jdGlvbiAoeCkgewogICAgICAgICAgaWYgKHgucGFpZEFtb3VudCkgewogICAgICAgICAgICBwYWlkQW10ICs9IHgucGFpZEFtb3VudDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoeC5hbW91bnRUb2JlUGFpZCkgewogICAgICAgICAgICBhbW91bnRUb2JlUGFpZCArPSB4LmFtb3VudFRvYmVQYWlkOwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICB2YXIgcEFtdCA9IF90aGlzNi5udW1iZXJGb3JtYXQocGFpZEFtdCk7CgogICAgICAgIHZhciBhbXRUb2JlUGFpZCA9IF90aGlzNi5udW1iZXJGb3JtYXQoYW1vdW50VG9iZVBhaWQpOwoKICAgICAgICBpZiAocEFtdCA9PT0gYW10VG9iZVBhaWQpIHsKICAgICAgICAgIG1bJ3N0YXR1cyddID0gMzsgLy9QYWlkCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1bJ3N0YXR1cyddID0gMjsgLy8gUGFydGlhbGx5IFBhaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnR4bkxpc3QgPSBpZHM7CiAgICB9LAogICAgaW5pdFJvdzogZnVuY3Rpb24gaW5pdFJvdygpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5jYXNoUmVjZWlwdEl0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgZHMuaW5zZXJ0KFt0aGlzLml0ZW1MaW5lXSk7CiAgICB9LAogICAgaW5pdEdyaWQ6IGZ1bmN0aW9uIGluaXRHcmlkKHRoYXQpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGdyaWQsIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGdyaWQgPSAkKCcjZ3JpZENhc2hSZWNlaXB0JykuZGF0YSgna2VuZG9HcmlkJyk7CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgICQoJyNoZWFkZXItY2hiJykuY2hhbmdlKGZ1bmN0aW9uIChldikgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBldi50YXJnZXQuY2hlY2tlZDsKICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICQoJy5yb3ctY2hlY2tib3gnKS5lYWNoKGZ1bmN0aW9uIChpZHgsIGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISQoaXRlbSkuY2xvc2VzdCgndHInKS5pcygnLmstc3RhdGUtc2VsZWN0ZWQnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1Sb3cgPSAkKGl0ZW0pLmNsb3Nlc3QoJ3RyJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKG1Sb3cpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKGRhdGFJdGVtKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2hlY2tlZENoYW5nZWQoZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOyAvLwogICAgICAgICAgICAgICAgLy8gbGV0IGNoZWNrZWRJZHMgPSB7fQoKICAgICAgICAgICAgICAgIGRhdGEgPSBbXTsgLy8KICAgICAgICAgICAgICAgIC8vIGZ1bmN0aW9uIHNlbGVjdFJvdyh0aGF0KSB7CiAgICAgICAgICAgICAgICAvLyAgICAgbGV0IGNoZWNrZWQgPSB0aGlzLmNoZWNrZWQsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHJvdyA9ICQodGhpcykuY2xvc2VzdCgidHIiKSwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgZ3JpZCA9ICQoJyNpdGVtTGluZScpLmRhdGEoJ2tlbmRvR3JpZCcpLAogICAgICAgICAgICAgICAgLy8gICAgICAgICBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0ocm93KQogICAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICAgIC8vICAgICBjaGVja2VkSWRzW2RhdGFJdGVtLnBheW1lbnRDb2RlXSA9IGNoZWNrZWQ7CiAgICAgICAgICAgICAgICAvLyAgICAgd2luZG93LmNvbnNvbGUubG9nKCdoZXJlJyxkYXRhSXRlbSkKICAgICAgICAgICAgICAgIC8vICAgICBpZiAoY2hlY2tlZCkgewogICAgICAgICAgICAgICAgLy8gICAgICAgICAvLy1zZWxlY3QgdGhlIHJvdwogICAgICAgICAgICAgICAgLy8gICAgICAgICByb3cuYWRkQ2xhc3MoImstc3RhdGUtc2VsZWN0ZWQiKQogICAgICAgICAgICAgICAgLy8gICAgICAgICBkYXRhLnB1c2goZGF0YUl0ZW0pCiAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGF0LmNoZWNrZWRDaGFuZ2VkKGRhdGFJdGVtKQogICAgICAgICAgICAgICAgLy8gICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIC8vLXJlbW92ZSBzZWxlY3Rpb24KICAgICAgICAgICAgICAgIC8vICAgICAgICAgcm93LnJlbW92ZUNsYXNzKCJrLXN0YXRlLXNlbGVjdGVkIikKICAgICAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAvLyBpZiAoZ3JpZCkgewogICAgICAgICAgICAgICAgLy8gICAgIGdyaWQudGFibGUub24oImNsaWNrIiwgIi5yb3ctY2hlY2tib3giLCBzZWxlY3RSb3codGhhdCkpCiAgICAgICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoZWNrZWRDaGFuZ2VkOiBmdW5jdGlvbiBjaGVja2VkQ2hhbmdlZChkYXRhKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgaWYgKHBhcnNlRmxvYXQobS5wYWlkQW1vdW50KSA9PT0gMCkgewogICAgICAgICAgbS5wYWlkQW1vdW50ID0gbS5hbW91bnRUb2JlUGFpZDsKICAgICAgICB9CgogICAgICAgIHZhciBpbmRleCA9IF90aGlzNy5pdGVtTGluZXMuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gbS5wYXltZW50Q29kZSA9PT0gaXRlbS5wYXltZW50Q29kZSAmJiBwYXJzZUZsb2F0KGl0ZW0ucGFpZEFtb3VudCkgPT09IDA7CiAgICAgICAgfSk7CgogICAgICAgIF90aGlzNy5pdGVtTGluZXMuc3BsaWNlKGluZGV4LCAxLCBtKTsKICAgICAgfSk7CiAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgfSwKICAgIGhlYWRlclRlbXBsYXRlOiBmdW5jdGlvbiBoZWFkZXJUZW1wbGF0ZSgpIHsKICAgICAgcmV0dXJuICI8aW5wdXQgdHlwZT0nY2hlY2tib3gnIGlkPSdoZWFkZXItY2hiJyBjbGFzcz0nay1jaGVja2JveCBoZWFkZXItY2hlY2tib3gnPiI7CiAgICB9LAogICAgY2hlY2tUZW1wbGF0ZTogZnVuY3Rpb24gY2hlY2tUZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICByZXR1cm4gIjxpbnB1dCB0eXBlPSdjaGVja2JveCcgIz0gIi5jb25jYXQoZGF0YUl0ZW0uY2hlY2ssICIgPyBcXCdjaGVja2VkPVwiY2hlY2tlZFwiXFwnIDogJycgIyBjbGFzcz0nay1jaGVja2JveCByb3ctY2hlY2tib3gnIC8+Iik7CiAgICB9LAogICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRhSXRlbSkgewogICAgICBpZiAoZGF0YUl0ZW0uaGFzT3duUHJvcGVydHkoJ2R1ZURhdGUnKSkgewogICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZShkYXRhSXRlbS5kdWVEYXRlKSwgdGhpcy5kYXRlRm9ybWF0KTsKICAgICAgfQoKICAgICAgcmV0dXJuICcnOwogICAgfSwKICAgIHNldHRsZW1lbnREaXNjb3VudDogZnVuY3Rpb24gc2V0dGxlbWVudERpc2NvdW50KGRhdGFJdGVtKSB7CiAgICAgIGlmIChkYXRhSXRlbS5oYXNPd25Qcm9wZXJ0eSgncGF5bWVudFRlcm0nKSkgewogICAgICAgIHJldHVybiBkYXRhSXRlbS5wYXltZW50VGVybS5uYW1lIHx8ICcnOwogICAgICB9CgogICAgICByZXR1cm4gJyc7CiAgICB9LAogICAgc3RhdHVzOiBmdW5jdGlvbiBzdGF0dXMoZGF0YUl0ZW0pIHsKICAgICAgaWYgKGRhdGFJdGVtKSB7CiAgICAgICAgaWYgKGRhdGFJdGVtLmhhc093blByb3BlcnR5KCdzdGF0dXMnKSkgewogICAgICAgICAgdmFyIHN0YXR1cyA9IGRhdGFJdGVtLnN0YXR1czsKICAgICAgICAgIHZhciBzdGF0dXNUZXh0ID0gJyc7CgogICAgICAgICAgc3dpdGNoIChzdGF0dXMpIHsKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIHN0YXR1c1RleHQgPSAnT1BFTic7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICdQYXJ0aWFsbHkgUGFpZCc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICdWT0lEJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBzdGF0dXNUZXh0ID0gJ1BBSUQnOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBzdGF0dXNUZXh0OwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuICcnOwogICAgfSwKICAgIG9uQ3VzdG9tZXJDaGFuZ2VkOiBmdW5jdGlvbiBvbkN1c3RvbWVyQ2hhbmdlZChldmVudCkgewogICAgICB2YXIgdmFsdWUgPSBldmVudC52YWx1ZTsKCiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZVt0ZXh0RmllbGRdID09PSBlbXB0eUl0ZW1bdGV4dEZpZWxkXSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5tQ3VzdG9tZXIgPSB2YWx1ZTsKICAgICAgdGhpcy5jYXNoUmVjZWlwdC5jdXN0b21lciA9IHZhbHVlOwogICAgfSwKICAgIG9uQ3VzdG9tZXJGaWx0ZXJDaGFuZ2VkOiBmdW5jdGlvbiBvbkN1c3RvbWVyRmlsdGVyQ2hhbmdlZChldmVudCkgewogICAgICB2YXIgZmlsdGVyID0gZXZlbnQuZmlsdGVyLnZhbHVlOwogICAgICB0aGlzLmxvYWREYXRhKDAsIGZpbHRlciwgdGhpcy5jdXNCYXNlVXJsKTsKICAgICAgdGhpcy5maWx0ZXIgPSBmaWx0ZXI7CiAgICB9LAogICAgbG9hZERhdGE6IGZ1bmN0aW9uIGxvYWREYXRhKHNraXAsIGZpbHRlciwgYmFzZVVybCkgewogICAgICB2YXIgdXJsID0gYmFzZVVybCArICI/ZmlsdGVyPSIuY29uY2F0KGZpbHRlcik7CiAgICAgIHRoaXMucmVxdWVzdFN0YXJ0ZWQgPSB0cnVlOwogICAgICBmZXRjaCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgfSkudGhlbih0aGlzLmFmdGVyRmV0Y2gpOwogICAgfSwKICAgIGFmdGVyRmV0Y2g6IGZ1bmN0aW9uIGFmdGVyRmV0Y2goanNvbikgewogICAgICB0aGlzLmN1c3RvbWVycyA9IGpzb24uZGF0YTsKICAgIH0sCiAgICBudW1iZXJGb3JtYXQ6IGZ1bmN0aW9uIG51bWJlckZvcm1hdCh2YWx1ZSkgewogICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcodmFsdWUsICJuIi5jb25jYXQodGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbCkpOwogICAgfSwKICAgIHJvd051bWJlclRtcGw6IGZ1bmN0aW9uIHJvd051bWJlclRtcGwoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5jYXNoUmVjZWlwdEl0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgZGF0YVNvdXJjZUNoYW5nZWQ6IGZ1bmN0aW9uIGRhdGFTb3VyY2VDaGFuZ2VkKGUpIHsKICAgICAgdmFyIGRhdGFSb3cgPSBlLml0ZW1zWzBdIHx8IHt9OwoKICAgICAgaWYgKE9iamVjdC5rZXlzKGRhdGFSb3cpLmxlbmd0aCA+IDApIHsKICAgICAgICBkYXRhUm93LnNldCgnb3B0aW9uVHlwZScsIE9QVElPTl9UWVBFKTsKICAgICAgfQoKICAgICAgaWYgKGUuZmllbGQpIHsKICAgICAgICB2YXIgYW1vdW50VG9iZVBhaWQgPSAwLAogICAgICAgICAgICBwYWlkQW1vdW50ID0gMCwKICAgICAgICAgICAgdmFyaWFuY2UgPSAwOwoKICAgICAgICBzd2l0Y2ggKGUuZmllbGQpIHsKICAgICAgICAgIGNhc2UgImRpc2NvdW50IjoKICAgICAgICAgICAgZGF0YVJvdy5zZXQoJ2Ftb3VudFRvYmVQYWlkJywgcGFyc2VGbG9hdChkYXRhUm93LmFtb3VudCkgKyBwYXJzZUZsb2F0KGRhdGFSb3cucGVuYWx0eSkgLSBwYXJzZUZsb2F0KGRhdGFSb3cuZGlzY291bnQpKTsKICAgICAgICAgICAgZGF0YVJvdy5zZXQoJ2V4Y2hhbmdlRGlzY291bnQnLCBwYXJzZUZsb2F0KGRhdGFSb3cuZGlzY291bnQpICogcGFyc2VGbG9hdChkYXRhUm93LnJhdGVUb2Jhc2UpKTsKICAgICAgICAgICAgZGF0YVJvdy5zZXQoJ2V4Y2hhbmdlRGlzY291bnRUeG4nLCBwYXJzZUZsb2F0KGRhdGFSb3cuZGlzY291bnQpICogcGFyc2VGbG9hdChkYXRhUm93LnR4blJhdGUpKTsKICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHBhcnNlRmxvYXQoZGF0YVJvdy5kaXNjb3VudCkgKiBwYXJzZUZsb2F0KGRhdGFSb3cucmF0ZVRvYmFzZSksICctLS0tJyk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgInBlbmFsdHkiOgogICAgICAgICAgICBkYXRhUm93LnNldCgnYW1vdW50VG9iZVBhaWQnLCBwYXJzZUZsb2F0KGRhdGFSb3cuYW1vdW50KSArIHBhcnNlRmxvYXQoZGF0YVJvdy5wZW5hbHR5KSAtIHBhcnNlRmxvYXQoZGF0YVJvdy5kaXNjb3VudCkpOwogICAgICAgICAgICBkYXRhUm93LnNldCgnZXhjaGFuZ2VQZW5hbHR5JywgcGFyc2VGbG9hdChkYXRhUm93LnBlbmFsdHkpICogcGFyc2VGbG9hdChkYXRhUm93LnJhdGVUb2Jhc2UpKTsKICAgICAgICAgICAgZGF0YVJvdy5zZXQoJ2V4Y2hhbmdlUGVuYWx0eVR4bicsIHBhcnNlRmxvYXQoZGF0YVJvdy5wZW5hbHR5KSAqIHBhcnNlRmxvYXQoZGF0YVJvdy50eG5SYXRlKSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgInBhaWRBbW91bnQiOgogICAgICAgICAgICBhbW91bnRUb2JlUGFpZCA9IHBhcnNlRmxvYXQoZGF0YVJvdy5hbW91bnRUb2JlUGFpZCk7CiAgICAgICAgICAgIHBhaWRBbW91bnQgPSBwYXJzZUZsb2F0KGRhdGFSb3cucGFpZEFtb3VudCk7CiAgICAgICAgICAgIHZhcmlhbmNlID0gcGFyc2VGbG9hdChkYXRhUm93LnBlbmFsdHkpIC0gcGFyc2VGbG9hdChkYXRhUm93LmRpc2NvdW50KTsKCiAgICAgICAgICAgIGlmIChwYWlkQW1vdW50ID4gYW1vdW50VG9iZVBhaWQpIHsKICAgICAgICAgICAgICBwYWlkQW1vdW50ID0gYW1vdW50VG9iZVBhaWQ7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFpZEFtb3VudCA8IHZhcmlhbmNlKSB7CiAgICAgICAgICAgICAgcGFpZEFtb3VudCA9IHZhcmlhbmNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBkYXRhUm93LnNldCgncGFpZEFtb3VudCcsIHBhaWRBbW91bnQpOwogICAgICAgICAgICBkYXRhUm93LnNldCgncGFpZEFtb3VudFRvYmFzZScsIHBhaWRBbW91bnQgKiBwYXJzZUZsb2F0KGRhdGFSb3cucmF0ZVRvYmFzZSkpOwogICAgICAgICAgICBkYXRhUm93LnNldCgncGFpZEFtb3VudFR4bicsIHBhaWRBbW91bnQgKiBwYXJzZUZsb2F0KGRhdGFSb3cudHhuUmF0ZSkpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIHRoaXMuaW52b2ljZVR4bigpOwogICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgICB9CiAgICB9LAogICAgc2VhcmNoT3B0aW9uQ2hhbmdlZDogZnVuY3Rpb24gc2VhcmNoT3B0aW9uQ2hhbmdlZCgpIHt9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgdGl0bGU6IGkxOG4udCgnbXNnX3RpdGxlX3dhcm5pbmcnKSwKICAgICAgICB0ZXh0OiBpMThuLnQoJ21zZ19kaXNjYXJkJyksCiAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCdjYW5jZWwnKSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoJ2Rpc2NhcmQnKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICBfdGhpczguY2xlYXIoKTsKCiAgICAgICAgICBfdGhpczguJHJvdXRlci5nbygtMSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBQTVRUZW1wbGF0ZTogZnVuY3Rpb24gUE1UVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIHBtdCA9IGRhdGFJdGVtLnBheW1lbnRPcHRpb24gfHwge307CgogICAgICBpZiAocG10KSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChwbXQuYmFua0FjY291bnROYW1lIHx8ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIGxvYWRQYXltZW50T3B0aW9uOiBmdW5jdGlvbiBsb2FkUGF5bWVudE9wdGlvbigpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczkucGF5bWVudE1ldGhvZCA9IFtdOwogICAgICAgICAgICAgICAgICAgIHBheW1lbnRPcHRpb25IYW5kbGVyLmxpc3Qoc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5wYXltZW50TWV0aG9kID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRPdGhlckFjY291bnQ6IGZ1bmN0aW9uIGxvYWRPdGhlckFjY291bnQoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIHNldHRpbmdIYW5kbGVyLmdldE90aGVyQWNjb3VudCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8uYmFuaGppQWNjQ29kZSA9PT0gJzc0MDAxMCc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyB3aW5kb3cuY29uc29sZS5sb2coZGF0YSwgJyB0aGlzLmdhaW5Mb3NzQWMnKQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAuZ2Fpbkxvc3NBY2MgPSBkYXRhWzBdLmFjY291bnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKF90aGlzMTAuZ2Fpbkxvc3NBY2MsICdkYXRhWzBdLmFjY291bnQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFfID0gcmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8uYmFuaGppQWNjQ29kZSA9PT0gJzc0MDA0MCc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFfLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLm90aGVyUmV2ZW51ZUFjYyA9IGRhdGFfWzBdLmFjY291bnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBQYXltZW50TWV0aG9kRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIFBheW1lbnRNZXRob2REcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bmFtZSM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tU2VsZWN0LS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgZGF0YTogdGhpcy5wYXltZW50TWV0aG9kCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgaGlkZVNtYWxsU2lkZWJhcjogZnVuY3Rpb24gaGlkZVNtYWxsU2lkZWJhcigpIHsKICAgICAgdGhpcy5pc0hpZGVCYXIgPSAhdGhpcy5pc0hpZGVCYXI7CiAgICB9LAogICAgbG9hZFByZWZpeDogZnVuY3Rpb24gbG9hZFByZWZpeCgpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICAgICAgICAgICAgcHJlZml4SGFuZGxlci5nZXQoJ2Nhc2ggcmVjZWlwdCcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczExLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEudHJhbnNhY3Rpb25UeXBlcyA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMS50cmFuc2FjdGlvblR5cGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczExLmNhc2hSZWNlaXB0LnRyYW5zYWN0aW9uVHlwZSA9IF90aGlzMTEudHJhbnNhY3Rpb25UeXBlc1swXTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpczExLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEuZ2VuZXJhdGVOdW1iZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRTYWxlRm9ybUNvbnRlbnQ6IGZ1bmN0aW9uIGxvYWRTYWxlRm9ybUNvbnRlbnQoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIHNhbGVGb3JtQ29udGVudEhhbmRsZXIubGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5zYWxlRm9ybUNvbnRlbnQgPSBkYXRhWzBdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZWFyY2hJbnZvaWNlOiBmdW5jdGlvbiBzZWFyY2hJbnZvaWNlKCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9OwogICAgICAgICAgICAgICAgICAgIF90aGlzMTMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhfdGhpczEzLm1QYXltZW50T3B0aW9uLCAncGF5bWVudCAnKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTMubVBheW1lbnRPcHRpb24gPT09ICdJbnZvaWNlJykgewogICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiBfdGhpczEzLnNlYXJjaCwKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ludm9pY2UnLAogICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IF90aGlzMTMuY2FzaFJlY2VpcHQudHJhbnNhY3Rpb25EYXRlCiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMxMy5tUGF5bWVudE9wdGlvbiA9PT0gJ0NSTicpIHsKICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaDogX3RoaXMxMy5zZWFyY2gsCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjcm4nLAogICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IF90aGlzMTMuY2FzaFJlY2VpcHQudHJhbnNhY3Rpb25EYXRlCiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMxMy5tUGF5bWVudE9wdGlvbiA9PT0gJ1BheW1lbnQgQ29kZScpIHsKICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaDogX3RoaXMxMy5zZWFyY2gsCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwYXltZW50IGNvZGUnLAogICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IF90aGlzMTMuY2FzaFJlY2VpcHQudHJhbnNhY3Rpb25EYXRlCiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMxMy5tUGF5bWVudE9wdGlvbiA9PT0gJ0N1c3RvbWVyJykgewogICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiBfdGhpczEzLm1DdXN0b21lci5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2N1c3RvbWVyJywKICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25EYXRlOiBfdGhpczEzLmNhc2hSZWNlaXB0LnRyYW5zYWN0aW9uRGF0ZQogICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIF90aGlzMTMuaXRlbUxpbmVzID0gW107CgogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnNlYXJjaCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc2VhcmNoLmxlbmd0aCA+IDQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5zaG93TG9hZGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLnNlYXJjaChkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlcy5kYXRhLnJlc3VsdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLml0ZW1MaW5lcyA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSByZXNwb25zZVswXTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5hdXRvQ2FsY3VsYXRlKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoJ2N1c3RvbWVyJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuY2FzaFJlY2VpcHQuY3VzdG9tZXIgPSBvYmouY3VzdG9tZXI7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5jdXN0b21lci5oYXNPd25Qcm9wZXJ0eSgnbmFtZScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMubmFtZSA9IG9iai5jdXN0b21lci5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2VDdXJyZW5jeSA9IHJlc3VsdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5iYXNlQ3VycmVuY3kgPSBiYXNlQ3VycmVuY3k7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuY2FzaFJlY2VpcHQuY3VycmVuY3kgPSBiYXNlQ3VycmVuY3k7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZUN1cnJlbmN5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJhc2VDdXJyZW5jeS5oYXNPd25Qcm9wZXJ0eSgnY29kZScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLmJhc2VDdXJyZW5jeUNvZGUgPSBiYXNlQ3VycmVuY3kuY29kZTsgLy8gaWYgKGNvZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmxvYWRUcmFuc2FjdGlvblJhdGUoYmFzZUN1cnJlbmN5LmNvZGUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uU2F2ZUNsb3NlOiBmdW5jdGlvbiBvblNhdmVDbG9zZShzYXZlKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHZhciBpdGVtTGluZURTLCBkYXRhVmFsaWRhdGUsIGRhdGFSb3csIGlzQXV0b0dlbmVyYXRlLCB0cmFuRGF0ZSwgdHJhbkRhdGVSZWNlaXB0LCB0cmFuRGF0ZU0sIHRyYW5EYXRlUmVjZWlwdE07CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczE0LiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMTQuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaXRlbUxpbmVEUyA9IF90aGlzMTQuJHJlZnMuY2FzaFJlY2VpcHRJdGVtTGluZURTLmtlbmRvV2lkZ2V0KCk7CiAgICAgICAgICAgICAgICBkYXRhVmFsaWRhdGUgPSAwOwogICAgICAgICAgICAgICAgZGF0YVJvdyA9IGl0ZW1MaW5lRFMuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICByZXR1cm4gbi5wYWlkQW1vdW50ID4gMDsKICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAobykgewogICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEl0ZW1MaW5lTW9kZWwobyk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YVJvdy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLnBheW1lbnRPcHRpb24uaWQgPT0gdW5kZWZpbmVkIHx8IHZhbHVlLnBheW1lbnRPcHRpb24uaWQgPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuJHNub3RpZnkuZXJyb3IoJ1BsZWFzZSBjaGVjayBwYXltZW50IG9wdGlvbiBhZ2FpbicgKyAoaW5kZXggKyAxKSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIGRhdGFWYWxpZGF0ZSArPSAxOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBpZiAoZGF0YVJvdy5sZW5ndGggPT09IGRhdGFWYWxpZGF0ZSkgewogICAgICAgICAgICAgICAgICAgIGlzQXV0b0dlbmVyYXRlID0gMTsgLy8gdGhpcy5hdXRvQ2FsY3VsYXRlKCkKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTQuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgICAgICAgICAgICAgdHJhbkRhdGUgPSBuZXcgRGF0ZShfdGhpczE0LmNhc2hSZWNlaXB0LnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICB0cmFuRGF0ZVJlY2VpcHQgPSBuZXcgRGF0ZShfdGhpczE0LmNhc2hSZWNlaXB0LnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICB0cmFuRGF0ZU0gPSB0cmFuRGF0ZS5nZXRGdWxsWWVhcigpICsgdHJhbkRhdGUuZ2V0TW9udGgoKTsKICAgICAgICAgICAgICAgICAgICAgIHRyYW5EYXRlUmVjZWlwdE0gPSB0cmFuRGF0ZVJlY2VpcHQuZ2V0RnVsbFllYXIoKSArIHRyYW5EYXRlUmVjZWlwdC5nZXRNb250aCgpOwoKICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFuRGF0ZU0gPT09IHRyYW5EYXRlUmVjZWlwdE0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXNBdXRvR2VuZXJhdGUgPSAwOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gLy90b2RvOiBtYXRjaCBDYXNoIHJlY2VpcHQgbW9kZWwKCgogICAgICAgICAgICAgICAgICAgIF90aGlzMTQuY2FzaFJlY2VpcHQucGFpZE9wdGlvbiA9IF90aGlzMTQubVBheW1lbnRPcHRpb247CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5jYXNoUmVjZWlwdC50cmFuc2FjdGlvbkRhdGVUWiA9IEhlbHBlci50b0lTT0RhdGUoX3RoaXMxNC5jYXNoUmVjZWlwdC50cmFuc2FjdGlvbkRhdGUpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTQuY2FzaFJlY2VpcHQucGFpZE9wdGlvblRleHQgPSBfdGhpczE0LnNlYXJjaCA/IF90aGlzMTQuc2VhcmNoIDogX3RoaXMxNC5tQ3VzdG9tZXI7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5jYXNoUmVjZWlwdC5pdGVtTGluZSA9IGRhdGFSb3c7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5jYXNoUmVjZWlwdFsnalJhdyddID0gX3RoaXMxNC5qUmF3OwogICAgICAgICAgICAgICAgICAgIF90aGlzMTQuY2FzaFJlY2VpcHQubG9nZ2VkVXNlciA9IF90aGlzMTQubG9nZ2VkVXNlcjsKICAgICAgICAgICAgICAgICAgICBfdGhpczE0LmNhc2hSZWNlaXB0WydvbGRUb3RhbCddID0gX3RoaXMxNC5vbGRUb3RhbDsKICAgICAgICAgICAgICAgICAgICBfdGhpczE0LmNhc2hSZWNlaXB0Wydpc0F1dG9HZW5lcmF0ZSddID0gaXNBdXRvR2VuZXJhdGU7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5jYXNoUmVjZWlwdFsndHhuTGlzdCddID0gX3RoaXMxNC50eG5MaXN0OwogICAgICAgICAgICAgICAgICAgIF90aGlzMTQuY2FzaFJlY2VpcHRbJ3RyYW5zYWN0aW9uRGF0ZSddID0gX3RoaXMxNC5jYXNoUmVjZWlwdC50cmFuc2FjdGlvbkRhdGU7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5jYXNoUmVjZWlwdFsnYWN0aW9uVHlwZSddID0gX3RoaXMxNC4kcm91dGUucGFyYW1zLmlkID8gX3RoaXMxNC4kcm91dGUucXVlcnkudHlwZSA6ICduZXcnOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBsZXQgZGF0YSA9IHRoaXMuY2FzaFJlY2VpcHQKICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZGF0YSksICctLS0tJywgaXNBdXRvR2VuZXJhdGUpCgogICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLmNyZWF0ZVJlY2VpcHQoX3RoaXMxNC5jYXNoUmVjZWlwdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIHRoaXMuY2xvc2UocmVzcG9uc2UuZGF0YS5kYXRhKQoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC4kc25vdGlmeS5zdWNjZXNzKCdTdWNjZXNzZnVsbHknKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzYXZlID09ICduZXcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5jbGVhcigpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNhdmUgPT0gJ3ByaW50JykgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuX3ByaW50KDQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5jbGVhcigpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC4kc25vdGlmeS5lcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcnKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LmVycm9ycy5wdXNoKGUpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRDYXNoUmVjZWlwdFZpZXc6IGZ1bmN0aW9uIGxvYWRDYXNoUmVjZWlwdFZpZXcoKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTUuaXRlbUxpbmVzID0gW107CiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIudHhuVmlldyhfdGhpczE1LiRyb3V0ZS5wYXJhbXMuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUuY2FzaFJlY2VpcHQgPSByZXNwb25zZVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnJlZmVyZW5jZU5vID0gX3RoaXMxNS5jYXNoUmVjZWlwdC5yZWZlcmVuY2VObzsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1Lm9sZFRvdGFsID0gX3RoaXMxNS5jYXNoUmVjZWlwdC50b3RhbDsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1Lml0ZW1MaW5lcyA9IHJlc3BvbnNlWzBdLml0ZW1MaW5lOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNS5jYXNoUmVjZWlwdC5oYXNPd25Qcm9wZXJ0eSgnY3VzdG9tZXInKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTUuY2FzaFJlY2VpcHQuY3VzdG9tZXIuaGFzT3duUHJvcGVydHkoJ25hbWUnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1Lm5hbWUgPSBfdGhpczE1LmNhc2hSZWNlaXB0LmN1c3RvbWVyLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmNhc2hSZWNlaXB0SXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwogICAgICBkcy5kYXRhKFtdKTsKICAgICAgdGhpcy5pZCA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy5tQ3VzdG9tZXIgPSB7fTsKICAgICAgdGhpcy5uYW1lID0gJyc7CiAgICAgIHRoaXMubVBheW1lbnRPcHRpb24gPSAnSW52b2ljZSc7CiAgICAgIHRoaXMuY2FzaFJlY2VpcHQgPSBuZXcgQ2FzaFJlY2VpcHRNb2RlbCgpOwogICAgICB0aGlzLmNhc2hSZWNlaXB0LnRyYW5zYWN0aW9uVHlwZSA9IHRoaXMudHJhbnNhY3Rpb25UeXBlc1swXTsKICAgICAgdGhpcy5nZW5lcmF0ZU51bWJlcigpOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAvLyBpZCgpIHsKICAgIC8vICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQpIHsKICAgIC8vICAgICAgICAgdGhpcy5jbGVhcigpCiAgICAvLyAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUKICAgIC8vICAgICAgICAgdGhpcy5sb2FkT3RoZXJBY2NvdW50KCkKICAgIC8vICAgICAgICAgdGhpcy5pbml0RGF0YSgpCiAgICAvLyAgICAgfQogICAgLy8gfSwKICAgIGNoZWNrSWQ6IGZ1bmN0aW9uIGNoZWNrSWQoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuY2xlYXIoKTsKICAgICAgICB0aGlzLmNoZWNrX2lkX2VkaXQgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICB0aGlzLmNoZWNrX2lkX2VkaXQgPSB0cnVlOwogICAgICAgIHRoaXMubG9hZENhc2hSZWNlaXB0VmlldygpOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgey8vIGZldGNoIHRoZSBkYXRhIHdoZW4gdGhlIHZpZXcgaXMgY3JlYXRlZCBhbmQgdGhlIGRhdGEgaXMKICAgIC8vIGFscmVhZHkgYmVpbmcgb2JzZXJ2ZWQKICAgIC8vIHRoaXMubG9hZE9iaigpCiAgICAvLyB0aGlzLmxvYWRQYXltZW50T3B0aW9uKCkKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfbW91bnRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRPdGhlckFjY291bnQoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRQcmVmaXgoKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRTYWxlRm9ybUNvbnRlbnQoKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICB0aGlzLmxvYWREYXRhKDAsIHRoaXMuZmlsdGVyLCB0aGlzLmN1c0Jhc2VVcmwpOwogICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdEdyaWQodGhpcyk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdERhdGEoKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrX2lkX2VkaXQgPSBmYWxzZTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5jaGVja19pZF9lZGl0ID0gdHJ1ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxMCwgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgcmV0dXJuIF9tb3VudGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIG1vdW50ZWQ7CiAgfSgpLAogIGNvbXB1dGVkOiB7CiAgICBkaXNhYmxlZE1lOiBmdW5jdGlvbiBkaXNhYmxlZE1lKCkgewogICAgICByZXR1cm4gISF0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICB9LAogICAgc2hvd01lOiBmdW5jdGlvbiBzaG93TWUoKSB7CiAgICAgIHJldHVybiB0aGlzLm1QYXltZW50T3B0aW9uID09PSAnQ3VzdG9tZXInOyAvLyBvciBzb21lIG90aGVyIG1vcmUgY29tcGxpY2F0ZWQgbG9naWMKICAgIH0sCiAgICBjaGVja0lkOiBmdW5jdGlvbiBjaGVja0lkKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgfQogIH0KfTs="},{"version":3,"sources":["CashReceipt.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card outlined dense class=\"pa-4 no_border rounded-sm\" color=\"white\">\n                        <v-row>\n                            <v-col class=\"bigSide py-0\" sm=\"12\" cols=\"12\" style=\"transition: .3s ease-in;\"\n                                   :class=\"{'hide_big_bar_class':isHideBar}\">\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">{{ $t('cash_receipt') }} #{{ cashReceipt.referenceNo }}</h2>\n                                        <v-icon v-if=\"!isHideBar\"\n                                                @click=\"cancel()\"\n                                                style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                                class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                        <!--                                        <span style=\"transition: .3s ease-in; z-index:10;\"-->\n                                        <!--                                              :class=\"{'iconArrow': !isHideBar,'iconArrowHide': isHideBar }\">-->\n                                        <!--                                            <v-icon size=\"22\"-->\n                                        <!--                                                    class=\"arr_icon\"-->\n                                        <!--                                                    @click=\"hideSmallSidebar\"-->\n                                        <!--                                                    v-if=\"isHideBar\"> mdi-chevron-left-circle-->\n                                        <!--                                            </v-icon>-->\n                                        <!--                                            <v-icon size=\"22\"-->\n                                        <!--                                                    class=\"arr_icon\"-->\n                                        <!--                                                    @click=\"hideSmallSidebar\"-->\n                                        <!--                                                    v-if=\"!isHideBar\"> mdi-chevron-right-circle-->\n                                        <!--                                            </v-icon></span>-->\n                                    </v-card>\n                                    <v-card outlined dense class=\"px-3 no_border\" color=\"grayBg\" height=\"175px\">\n                                        <v-row>\n                                            <v-col sm=\"7\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{ $t('select_option') }}</label>\n                                                <v-select class=\"mt-1\"\n                                                          v-model=\"mPaymentOption\"\n                                                          :items=\"paymentOptions\"\n                                                          @change=\"searchOptionChanged\"\n                                                          :placeholder=\"$t('search')\"\n                                                          outlined>\n                                                </v-select>\n\n                                                <v-row class=\"pt-3\" v-if=\"!showMe\">\n                                                    <v-col cols=\"10\" class=\"pr-1\">\n                                                        <v-text-field\n                                                            class=\"\"\n                                                            v-model=\"search\"\n                                                            outlined\n                                                            :placeholder=\"$t('search')\"\n                                                        />\n                                                    </v-col>\n                                                    <v-col cols=\"2\" class=\"pl-1\">\n                                                        <v-btn color=\"primary white--text\" @click=\"searchInvoice\">\n                                                            <i class=\"b-search\"\n                                                               style=\"font-size: 18px; color:#fff !important;\"/>\n                                                        </v-btn>\n                                                    </v-col>\n                                                </v-row>\n                                                <v-row class=\"pt-3\" v-if=\"showMe\">\n                                                    <v-col cols=\"10\" class=\"kendo_dropdown_custom mt-2 pb-3 pt-0 pr-0\">\n                                                        <dropdownlist\n                                                            :data-items=\"customers\"\n                                                            @change=\"onCustomerChanged\"\n                                                            :value=\"mCustomer\"\n                                                            :data-item-key=\"'id'\"\n                                                            :text-field=\"'numberName'\"\n                                                            :default-item=\"defaultItem\"\n                                                            :filterable=\"true\"\n                                                            @filterchange=\"onCustomerFilterChanged\">\n                                                        </dropdownlist>\n                                                    </v-col>\n                                                    <v-col cols=\"2\" class=\"pl-1\">\n                                                        <v-btn color=\"primary white--text\" @click=\"searchInvoice\">\n                                                            <i class=\"b-search\"\n                                                               style=\"font-size: 18px; color:#fff !important;\"/>\n                                                        </v-btn>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                            <v-col sm=\"5\" cosl=\"12\">\n                                                <label class=\"label\">{{ $t('date') }}</label>\n                                                <app-datepicker :initialDate=\"cashReceipt.transactionDate\"\n                                                                :disabled=\"disabledMe\"\n                                                                @onChanged=\"onTransactionDateChanged\"\n                                                                @emitDate=\"cashReceipt.transactionDate = $event\"/>\n                                                <label class=\"label\">{{ $t('customer_name') }}</label>\n                                                <v-text-field\n                                                    class=\"mt-1\"\n                                                    v-model=\"name\"\n                                                    readonly=\"readonly\"\n                                                    outlined\n                                                />\n                                                <v-row>\n                                                    <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n\n\n                                                    </v-col>\n                                                    <!--                                                    <v-col sm=\"6\" cols=\"12\" class=\"py-0\">-->\n                                                    <!--                                                        <div class=\"d-flex justify-space-between\">-->\n                                                    <!--                                                            <div>-->\n                                                    <!--                                                                <p class=\"label mb-0\">{{ $t('currency') }}</p>-->\n                                                    <!--                                                                <p class=\"label mb-0\">{{ currencyCode }}</p>-->\n                                                    <!--                                                            </div>-->\n                                                    <!--                                                            <div>-->\n                                                    <!--                                                                <p class=\"label mb-0\">{{ $t('rate') }}</p>-->\n                                                    <!--                                                                <p class=\"label mb-0\">{{ transactionRate }}</p>-->\n                                                    <!--                                                            </div>-->\n                                                    <!--                                                        </div>-->\n                                                    <!--                                                    </v-col>-->\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-row class=\"pt-3\" style=\"background-color: #fff;\">\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                            <LoadingMe\n                                                :isLoading=\"showLoading\"\n                                                :fullPage=\"false\"\n                                                :myLoading=\"true\"\n                                                :alertMessage=\"loadingAlert\"\n                                                :color=\"loadingColorAlert\"\n                                                :alertText=\"loadingTextAlert\"/>\n                                            <kendo-datasource ref=\"cashReceiptItemLineDS\"\n                                                              :change=\"dataSourceChanged\"\n                                                              :data=\"itemLines\"/>\n                                            <kendo-grid id=\"gridCashReceipt\" class=\"grid-function\"\n                                                        :data-source-ref=\"'cashReceiptItemLineDS'\"\n                                                        :sortable=\"false\"\n                                                        :groupable=\"false\"\n                                                        :filterable=\"false\"\n                                                        :column-menu=\"true\"\n                                                        :resizable=\"true\"\n                                                        :editable=\"true\"\n                                                        :noRecords=\"true\">\n                                                <!--                                                <kendo-grid-column-->\n                                                <!--                                                    :title=\"$t('no.')\"-->\n                                                <!--                                                    :width=\"55\"-->\n                                                <!--                                                    :column-menu=\"false\"-->\n                                                <!--                                                    :template=\"rowNumberTmpl\"-->\n                                                <!--                                                    :headerAttributes=\"{-->\n                                                <!--                                                                    style: 'background-color: #EDF1F5;',-->\n                                                <!--                                                                    class: 'text-products'-->\n                                                <!--                                                                }\"-->\n                                                <!--                                                    :attributes=\"{-->\n                                                <!--                                                                    style: 'text-align: products'-->\n                                                <!--                                                                }\"/>-->\n                                                <!--                        <kendo-grid-column-->\n                                                <!--                            :field=\"'check'\"-->\n                                                <!--                            :title=\"''\"-->\n                                                <!--                            :headerTemplate=\"headerTemplate\"-->\n                                                <!--                            :template=\"checkTemplate\"-->\n                                                <!--                            :width=\"60\"-->\n                                                <!--                            :column-menu=\"false\"-->\n                                                <!--                            :editable=\"()=>{ return false}\"-->\n                                                <!--                            :locked=\"true\"-->\n                                                <!--                            :headerAttributes=\"{ style: 'background-color: #EDF1F5;', class: 'text-center'\t}\"-->\n                                                <!--                            :attributes=\"{style: 'text-align: center'}\"/>-->\n                                                <kendo-grid-column\n                                                    :field=\"'referenceNo'\"\n                                                    :title=\"$t('invoice_no')\"\n                                                    :width=\"200\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :template=\"referenceNoTmp\"\n                                                    :locked=\"true\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'crn'\"\n                                                    :title=\"$t('crn')\"\n                                                    :width=\"100\"\n                                                    :template=\"crnTmp\"\n                                                    :hidden=\"true\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :locked=\"true\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'paymentCode'\"\n                                                    :title=\"$t('payment_code')\"\n                                                    :width=\"180\"\n                                                    :template=\"paymentCodeTmp\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :locked=\"true\"\n                                                    :lockable=\"false\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'dueDate'\"\n                                                    :title=\"$t('due_date')\"\n                                                    :width=\"150\"\n                                                    :lockable=\"false\"\n                                                    :template=\"formatDate\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'txnNote'\"\n                                                    :title=\"$t('note')\"\n                                                    :width=\"200\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :hidden=\"true\"\n                                                    :lockable=\"false\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5',}\"\n                                                    :attributes=\"{ style: 'text-align: left; ' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'overDue'\"\n                                                    :title=\"$t('over_due')\"\n                                                    :width=\"150\"\n                                                    :lockable=\"false\"\n                                                    :hidden=\"true\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :template=\"overDue\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n\n                                                <kendo-grid-column\n                                                    :field=\"'paymentTerm'\"\n                                                    :title=\"$t('payment_term')\"\n                                                    :width=\"220\"\n                                                    :lockable=\"false\"\n                                                    :hidden=\"true\"\n                                                    :template=\"settlementDiscount\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: right; '}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'paymentOption'\"\n                                                    :title=\"$t('payment_option')\"\n                                                    :width=\"200\"\n                                                    :lockable=\"false\"\n                                                    :template=\"PMTTemplate\"\n                                                    :editor=\"PaymentOptionEditor\"\n                                                    :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: right; '}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'bankReferenceNo'\"\n                                                    :title=\"$t('bank_reference_no')\"\n                                                    :width=\"180\"\n                                                    :lockable=\"false\"\n                                                    :template=\"bankReferenceNo\"\n                                                    :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: right; '}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'status'\"\n                                                    :title=\"$t('status')\"\n                                                    :width=\"100\"\n                                                    :lockable=\"false\"\n                                                    :template=\"status\"\n                                                    :hidden=\"true\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: right; '}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'currencyCode'\"\n                                                    :title=\"$t('currency')\"\n                                                    :width=\"150\"\n                                                    :lockable=\"false\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :template=\"currency\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'amount'\"\n                                                    :title=\"$t('amount')\"\n                                                    :width=\"150\"\n                                                    :lockable=\"false\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :template=\"amount\"\n                                                    :attributes=\"{style: 'text-align: right; '}\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n\n                                                <kendo-grid-column\n                                                    :field=\"'penalty'\"\n                                                    :title=\"$t('penalty')\"\n                                                    :width=\"150\"\n                                                    :lockable=\"false\"\n                                                    :editor=\"penaltyEditor\"\n                                                    :template=\"penalty\"\n                                                    :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: right; '}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'discount'\"\n                                                    :title=\"$t('discount')\"\n                                                    :editor=\"discountEditor\"\n                                                    :template=\"discount\"\n                                                    :width=\"150\"\n                                                    :lockable=\"false\"\n                                                    :headerAttributes=\"{\n                                                                        style: 'text-align: right; background-color: #EDF1F5'\n                                                                    }\"\n                                                    :attributes=\"{\n                                                                        style: 'text-align: right'\n                                                                    }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'amountTobePaid'\"\n                                                    :title=\"$t('amount_to_be_paid')\"\n                                                    :width=\"210\"\n                                                    :lockable=\"false\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :template=\"amountTobePaid\"\n                                                    :attributes=\"{style: 'text-align: right; '}\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'paidAmount'\"\n                                                    :title=\"$t('paid_amount')\"\n                                                    :width=\"200\"\n                                                    :lockable=\"false\"\n                                                    :editor=\"paidAmountEditor\"\n                                                    :template=\"paidAmountTmp\"\n                                                    :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: right; '}\"/>\n                                            </kendo-grid>\n\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                            <v-row>\n                                                <v-col sm=\"6\" cols=\"12\" class=\"\">\n                                                    <v-card class=\"no-boxshadow pa-3\" color=\"grayBg\">\n                                                        <v-row>\n                                                            <v-col class=\"py-0\" sm=\"6\" cols=\"6\">\n                                                                <label>{{ $t('message_on_receipt') }}</label>\n                                                                <v-textarea class=\"mt-1\"\n                                                                            outlined\n                                                                            v-model=\"cashReceipt.transactionNote\"\n                                                                            no-resize\n                                                                            height=\"70px\"\n                                                                            rows=\"3\"\n                                                                            placeholder=\"This will appear on the invoice\"\n                                                                />\n                                                            </v-col>\n                                                            <v-col class=\"py-0\" sm=\"6\" cols=\"6\">\n                                                                <label>{{ $t('message_for_journal') }}</label>\n                                                                <v-textarea class=\"mt-1\"\n                                                                            outlined\n                                                                            v-model=\"cashReceipt.journalNote\"\n                                                                            no-resize\n                                                                            height=\"70px\"\n                                                                            rows=\"3\"\n                                                                            placeholder=\"This will appear on the invoice\"\n                                                                />\n                                                            </v-col>\n                                                        </v-row>\n                                                    </v-card>\n                                                    <!--                                                    <template>-->\n                                                    <!--                                                        <v-file-input class=\"mt-0 pt-0 \" sm=\"3\" cols=\"6\"-->\n                                                    <!--                                                                      v-model=\"files\"-->\n                                                    <!--                                                                      :placeholder=\"$t('attachment')\"-->\n                                                    <!--                                                                      multiple-->\n                                                    <!--                                                                      prepend-icon=\"mdi-paperclip\">-->\n                                                    <!--                                                            <template v-slot:selection=\"{ text }\">-->\n                                                    <!--                                                                <v-chip-->\n                                                    <!--                                                                    small-->\n                                                    <!--                                                                    label-->\n                                                    <!--                                                                    color=\"primary\">-->\n                                                    <!--                                                                    {{ text }}-->\n                                                    <!--                                                                </v-chip>-->\n                                                    <!--                                                            </template>-->\n                                                    <!--                                                        </v-file-input>-->\n                                                    <!--                                                    </template>-->\n                                                </v-col>\n                                                <v-col sm=\"6\" cols=\"12\">\n                                                    <v-simple-table>\n                                                        <template v-slot:default>\n                                                            <tbody>\n                                                            <tr>\n                                                                <td class=\"text-left text-uppercase\">{{ $t('penalty') }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-left primary--text text-bold\">\n                                                                    {{ numberFormat(cashReceipt.penalty) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left text-uppercase\">{{\n                                                                        $t('discount')\n                                                                    }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-left primary--text text-bold\">\n                                                                    {{ numberFormat(cashReceipt.discount) }}\n                                                                </td>\n                                                            </tr>\n                                                            <!--                                                            <tr>-->\n                                                            <!--                                                                <td class=\"text-left text-uppercase\">{{ $t('total') }}-->\n                                                            <!--                                                                </td>-->\n                                                            <!--                                                                <td class=\"text-center\">:</td>-->\n                                                            <!--                                                                <td class=\"text-left primary--text text-bold\">-->\n                                                            <!--                                                                    {{ numberFormat(cashReceipt.total) }}-->\n                                                            <!--                                                                </td>-->\n                                                            <!--                                                            </tr>-->\n                                                            <tr>\n                                                                <td class=\"text-left text-uppercase\">\n                                                                    {{ $t('exchange_amount') }} - {{ baseCurrencyCode }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-left primary--text text-bold\">\n                                                                    {{ numberFormat(cashReceipt.exchangeAmount) }}\n                                                                </td>\n                                                            </tr>\n\n                                                            <tr hidden>\n                                                                <td class=\"text-left text-uppercase\">\n                                                                    {{ $t('dr') }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-left primary--text text-bold\">\n                                                                    {{ numberFormat(dr) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr hidden>\n                                                                <td class=\"text-left text-uppercase\">\n                                                                    {{ $t('cr') }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-left primary--text text-bold\">\n                                                                    {{ numberFormat(cr) }}\n                                                                </td>\n                                                            </tr>\n                                                            </tbody>\n                                                        </template>\n                                                    </v-simple-table>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n\n                                    </v-row>\n\n                                    <v-divider/>\n                                    <v-card outlined dense class=\"no_border function_footer\">\n                                        <!--                    <v-menu>-->\n                                        <!--                      <template v-slot:activator=\"{ on }\">-->\n                                        <!--                        <v-btn color=\"black\" outlined-->\n                                        <!--                               class=\"mr-2 text-capitalize  black&#45;&#45;text float-left\"-->\n                                        <!--                               v-on=\"on\">-->\n                                        <!--                          {{ $t('select_template') }}-->\n                                        <!--                          <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>-->\n                                        <!--                        </v-btn>-->\n                                        <!--                      </template>-->\n                                        <!--                      <v-list>-->\n                                        <!--                        <v-list-item v-for=\"(item, index) in templates\" :key=\"index\">-->\n                                        <!--                          <v-list-item-title>{{ item.title }}</v-list-item-title>-->\n                                        <!--                        </v-list-item>-->\n                                        <!--                      </v-list>-->\n                                        <!--                    </v-menu>-->\n                                        <v-btn color=\"black\"\n                                               outlined\n                                               class=\"text-capitalize  black--text float-left\"\n                                               @click=\"cancel\">{{ $t('cancel') }}\n                                        </v-btn>\n                                        <!--                    <v-menu>-->\n                                        <!--                      <template v-slot:activator=\"{ on }\">-->\n                                        <!--                        <v-btn color=\"primary\"-->\n                                        <!--                               class=\"ml-2 float-right text-capitalize  white&#45;&#45;text\"-->\n                                        <!--                               v-on=\"on\">-->\n                                        <!--                          {{ $t('save_option') }}-->\n                                        <!--                          <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>-->\n                                        <!--                        </v-btn>-->\n                                        <!--                      </template>-->\n                                        <!--                      <v-list rounded>-->\n                                        <!--                        <v-list-item-group>-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title>{{ $t('save_print') }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title>{{ $t('save_draft') }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                        </v-list-item-group>-->\n                                        <!--                      </v-list>-->\n                                        <!--                    </v-menu>-->\n                                        <v-btn v-if=\"!check_id_edit\"  color=\"primary\"\n                                               class=\"float-right white--text text-capitalize \"\n                                               @click=\"onSaveClose('close')\">\n                                            {{ $t('save_close') }}\n                                        </v-btn>\n                                        <v-btn v-if=\"!check_id_edit\" color=\"secondary\"\n                                               style=\"margin-right: 10px !important\"\n                                               class=\"white--text float-right text-capitalize\"\n                                               @click=\"onSaveClose('new')\">{{ $t(\"save_new\") }}\n                                        </v-btn>\n                                        <v-btn v-if=\"!check_id_edit\" color=\"secondary\"\n                                               style=\"margin-right: 10px !important\"\n                                               class=\"white--text float-right text-capitalize\"\n                                               @click=\"onSaveClose('print')\">{{ $t(\"save_print\") }}\n                                        </v-btn>\n                                        <v-btn v-if=\"check_id_edit\" color=\"secondary\"\n                                               class=\"white--text mx-2 float-right text-capitalize\"\n                                               @click=\"_print(4)\">\n                                            {{ $t(\"print\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-form>\n                            </v-col>\n                        </v-row>\n\n                    </v-card>\n                </v-col>\n            </v-row>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport {i18n} from '@/i18n';\nimport {DropDownList} from '@progress/kendo-vue-dropdowns'\n\nimport DatePickerComponent from '@/components/custom_templates/DatePickerComponent'\nimport CashReceiptModel from \"@/scripts/cash-receipt/model/CashReceipt\";\nimport ItemLineModel from \"@/scripts/cash-receipt/model/ItemLine\";\nimport kendo from \"@progress/kendo-ui\";\nimport PaymentOptionEditor from \"@/scripts/kendo_editor/PaymentOptionEditor\";\nimport Helper from \"@/helper\";\n\nconst prefixHandler = require(\"@/scripts/prefixHandler\")\nconst saleFormContentHandler = require(\"@/scripts/saleFormContentHandler\")\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\")\nconst customerHandler = require(\"@/scripts/customerHandler\")\nconst settingHandler = require(\"@/scripts/settingsHandler\")\n\nconst $ = kendo.jQuery //require(\"jquery\")\nconst paymentOptionHandler = require(\"@/scripts/paymentOptionHandler\")\n// const paymentOptionHandler = require(\"@/scripts/paymentOptionHandler\")\n\nconst cashReceiptModel = new CashReceiptModel(new Object())\nconst itemLineModel = new ItemLineModel({})\n\nconst keyField = 'id'\nconst textField = 'numberName'\nconst defaultItem = {[textField]: 'Select customer...', [keyField]: null}\nconst emptyItem = {[textField]: 'loading ...'}\nconst OPTION_TYPE = 'Customer'\nconst strFilter = '?optionType=' + OPTION_TYPE\n\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\n// from\nconst {getFormSetting} = require(\"@/scripts/settingsHandler.js\")\nimport {print} from \"@/form/Sale.js\";\n\nexport default {\n    name: \"CashReceipt\",\n    props: ['id'],\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n        'app-datepicker': DatePickerComponent,\n        'dropdownlist': DropDownList\n    },\n    data: () => ({\n        check_id_edit: true,\n        PaymentOptionEditor: PaymentOptionEditor,\n        showLoading: false,\n        loadingAlert: false,\n        loadingColorAlert: '',\n        loadingTextAlert: '',\n        alert: false,\n        files: [],\n        valid: true,\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email\n        },\n        itemLines: [],\n        templates: [\n            {title: 'Draft'},\n            {title: 'Open'},\n            {title: 'Partially Closed'},\n            {title: 'Closed'},\n        ],\n        col_expand: 9,\n        col_hide: 3,\n        isHideBar: false,\n        paymentOptions: ['Invoice', 'CRN', 'Payment Code', 'Customer'],\n        mPaymentOption: 'Invoice',\n        paymentMethod: ['Cash', 'Cheque'],\n        transactionDate: new Date().toISOString().substr(0, 10),\n        cashReceipt: cashReceiptModel,\n        itemLine: itemLineModel,\n        saleFormContent: {},\n        search: '',\n        transactionTypes: [],\n        customers: [],\n        mCustomer: {},\n        defaultItem: defaultItem,\n        cusBaseUrl: customerHandler.search(),\n        filter: '',\n        name: '',\n        referenceNo: '',\n        oldTotal: 0,\n        dateFormat: itemLineModel.dateFormat,\n        group: {field: 'customer.name'},\n        banks: [],\n        txnList: [],\n        currencyCode: '',\n        transactionRate: 1,\n        schemaDefinition: {\n            model: {\n                id: \"id\",\n                fields: {\n                    id: {editable: false},\n                    check: {type: 'boolean'},\n                    referenceNo: {editable: false},\n                    amount: {type: 'number'},\n                    amountTobePaid: {type: 'number'},\n                    overDue: {type: 'number'},\n                    crn: {type: 'string'},\n                    paidAmount: {type: 'number'},\n                    discount: {type: 'number'},\n                    penalty: {type: 'number'},\n                    paymentCode: {type: 'number'}\n                }\n            }\n        },\n        baseCurrency: {},\n        baseCurrencyCode: '',\n        jRaw: [],\n        gainLossAcc: {},\n        otherRevenueAcc: {},\n        gainOrLossDescription: 'gain/loss on exchange rate',\n        penaltyDescription: 'penalty',\n        cr: 0,\n        dr: 0,\n\n    }),\n    methods: {\n        nameTemplate(dataItem) {\n            window.console.log(dataItem, ':text-field')\n            const customer = dataItem.customer || {}\n            const name = customer.name || ''\n            const number = customer.number || ''\n            return number + ' - ' + name\n        },\n        _print(id) {\n            let print_data = this.cashReceipt;\n            print_data['baseCurrencyCode'] = this.baseCurrencyCode\n            let params = \"?formType=CashReceipt\"\n            getFormSetting(params).then(res => {\n                if (res.data.statusCode === 200) {\n                    if (res.data.data.length > 0) {\n                        window.console.log(res.data.data[\"0\"].settings);\n                        print(print_data, id, res.data.data[\"0\"].settings);\n                    } else {\n                        this.$snotify.error(i18n.t('please_save_form_in_setting'))\n                    }\n                }\n            });\n        },\n        removeDuplicate(array) {\n            const result = [];\n            const map = new Map();\n            for (const item of array) {\n                if (!map.has(item.id)) {\n                    map.set(item.id, true);    // set any value to Map\n                    result.push(item)\n                }\n            }\n            return result\n        },\n        crnTmp(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty('crn')) {\n                    return dataItem.crn\n                }\n            }\n            return ''\n        },\n        currency(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty('currencyCode')) {\n                    return dataItem.currencyCode\n                }\n            }\n            return ''\n        },\n        paymentCodeTmp(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty('paymentCode')) {\n                    return dataItem.paymentCode\n                }\n            }\n            return ''\n        },\n        referenceNoTmp(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty('referenceNo')) {\n                    return dataItem.referenceNo\n                }\n            }\n            return ''\n        },\n        paidAmountTmp(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty('paidAmount')) {\n                    return kendo.toString(dataItem.paidAmount || 0, dataItem.decimalFormat)\n                }\n            }\n            return 0\n        },\n        amountTobePaid(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty('amountTobePaid')) {\n                    return kendo.toString(dataItem.amountTobePaid || 0, dataItem.decimalFormat)\n                }\n            }\n            return 0\n        },\n        discount(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty('discount')) {\n                    return kendo.toString(dataItem.discount || 0, dataItem.decimalFormat)\n                }\n            }\n            return 0\n        },\n        amount(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty('amount')) {\n                    return kendo.toString(dataItem.amount || 0, dataItem.decimalFormat)\n                }\n            }\n            return 0\n        },\n        penalty(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty('penalty')) {\n                    return kendo.toString(dataItem.penalty || 0, dataItem.decimalFormat)\n                }\n            }\n            return 0\n        },\n        bankReferenceNo(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty('bankReferenceNo')) {\n                    return dataItem.bankReferenceNo\n                }\n            }\n            return ''\n        },\n        overDue(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty('overDue')) {\n                    return dataItem.overDue || 0\n                }\n            }\n            return 0\n        },\n        // async loadTransactionRate(code) {\n        //     new Promise(resolve => {\n        //         setTimeout(() => {\n        //             resolve('resolved')\n        //             const date = new Date(this.transactionDate).toISOString().substr(0, 10)\n        //             // const priceLevel = this.invoice.priceLevel\n        //             if (code !== undefined || code !== '') {\n        //                 this.showLoading = true\n        //                 currencyHandler.getLastExchangeRateByDate(date, code).then(res => {\n        //                     if (res.data.statusCode === 200) {\n        //                         this.showLoading = false\n        //                         const exchangeRate = res.data.data\n        //                         this.currencyCode = exchangeRate.code\n        //                         this.transactionRate = exchangeRate.rate\n        //                         this.cashReceipt.txnRate = exchangeRate.rate\n        //                         this.cashReceipt.exchangeRate = exchangeRate\n        //                         this.showLoading = false\n        //                     }\n        //                 })\n        //             }\n        //\n        //         }, 10)\n        //     })\n        // },\n        async initData() {\n            if (this.$route.params.id !== undefined) {\n                const queryString = this.$route.query\n                let type = ''\n                let option = 0\n                if (queryString.hasOwnProperty('type')) {\n                    type = queryString.type\n                    option = queryString.option\n                    if (type === 'pmt') {\n                        this.mPaymentOption = option\n                        this.search = this.$route.params.id\n                        this.searchInvoice()\n                    }\n                } else {\n                    await this.loadCashReceiptView()\n                }\n\n            } else {\n                this.initRow()\n            }\n        },\n        paidAmountEditor(container, options) {\n            kendo.jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    format: `n${this.saleFormContent.decimal}`,\n                    min: 0\n                });\n        },\n        discountEditor(container, options) {\n            kendo.jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    format: `n${this.saleFormContent.decimal}`,\n                    min: 0\n                });\n        },\n        penaltyEditor(container, options) {\n            kendo.jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    format: `n${this.saleFormContent.decimal}`,\n                    min: 0\n                });\n        },\n        onTransactionDateChanged() {\n            this.generateNumber()\n            this.searchInvoice()\n        },\n        generateNumber() {\n            if (this.$route.params.id) {\n                const tranDate = new Date(this.cashReceipt.transactionDate)\n                const tranDateReceipt = new Date(this.cashReceipt.transactionDate)\n                const tranDateM = tranDate.getFullYear() + tranDate.getMonth()\n                const tranDateReceiptM = tranDateReceipt.getFullYear() + tranDateReceipt.getMonth()\n                if (tranDateM === tranDateReceiptM) {\n                    this.cashReceipt.referenceNo = this.referenceNo\n                    return\n                }\n            }\n            if (this.cashReceipt.transactionDate !== '' && this.transactionTypes.length > 0) {\n                let data = {\n                    abbr: this.cashReceipt.transactionType.abbr,\n                    structure: this.cashReceipt.transactionType.structure,\n                    transactionDate: this.cashReceipt.transactionDate,\n                    sequcencing: this.cashReceipt.transactionType.sequcencing,\n                    prefixSeparator: this.cashReceipt.transactionType.prefixSeparator || '',\n                    numberSeparator: this.cashReceipt.transactionType.numberSeparator || '',\n                    format: this.cashReceipt.transactionType.format || 5,\n                    type: 'Cash Receipt',\n                    entity: 1\n                }\n                billingHandler.lastNumber(data).then(response => {\n                    if (response.data.statusCode === 200) {\n                        const res = response.data.data\n                        const lastNumber = this.zeroPad(parseInt(res.lastNumber), this.cashReceipt.transactionType.format)\n                        const number = res.suffix + this.cashReceipt.transactionType.numberSeparator + lastNumber\n                        this.cashReceipt.number = number\n                        if (this.cashReceipt.transactionType.hasOwnProperty('prefixSeparator')) {\n                            const prefixSep = this.cashReceipt.transactionType.prefixSeparator\n                            this.cashReceipt.referenceNo = this.cashReceipt.transactionType.abbr + prefixSep + number\n                        }\n                    }\n                }).catch(e => {\n                    this.errors.push(e)\n                })\n            }\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, '0')\n        },\n        getCircularReplacer() {\n            const seen = new WeakSet();\n            return (key, value) => {\n                if (typeof value === \"object\" && value !== null) {\n                    if (seen.has(value)) {\n                        return;\n                    }\n                    seen.add(value);\n                }\n                return value;\n            };\n        },\n        autoCalculate() {\n            //todo: note : rateTobase is cash receipt rate , txnRate is invoice rate\n            let ds = this.$refs.cashReceiptItemLineDS.kendoWidget(),\n                receiptAmount = 0, discount = 0, penalty = 0, convertedAmount = 0, exchangeDiscount = 0,\n                exchangePenalty = 0, paidAmountTxn = 0, exchangePenaltyTxn = 0, exchangeDiscountTxn = 0\n            const row = ds.data().filter(n => n.paidAmount > 0)\n            this.jRaw = []\n            row.forEach(value => {\n                let paidAmt = 0, nature = '', invRate = 0, receiptRate = 0, rawPaidAmount = 0, rawDiscountAmount = 0,\n                    rawPenaltyAmount = 0, currencyCode = ''\n                let discountAmount = 0, arAmount = 0, refNo = '', payOption = {}, penaltyAmount = 0,\n                    currency = {}, gainLoss = 0, lastXRate = {}, location = {}, segment = {}, project = {},\n                    locationId = '', segmentId = '', projectId = '', txnId = ''\n                if (value.referenceNo) {\n                    refNo = value.referenceNo\n                }\n                if (value.id) {\n                    txnId = value.id || ''\n                }\n                if (value.txnRate) {\n                    invRate = parseFloat(value.txnRate)\n                }\n                if (value.currencyCode) {\n                    currencyCode = (value.currencyCode) || ''\n                }\n                if (value.currency) {\n                    currency = (value.currency) || {}\n                }\n                if (value.location) {\n                    location = (value.location) || {}\n                    if (location.hasOwnProperty('id')) {\n                        locationId = location.id\n                    }\n                }\n                if (value.segment) {\n                    segment = (value.segment) || {}\n                    if (segment.hasOwnProperty('id')) {\n                        segmentId = segment.id\n                    }\n                }\n                if (value.project) {\n                    project = (value.project) || {}\n                    if (project.hasOwnProperty('id')) {\n                        projectId = project.id\n                    }\n                }\n                if (value.exchangeRate) {\n                    lastXRate = (value.exchangeRate) || {}\n                }\n                if (value.rateTobase) {\n                    receiptRate = parseFloat(value.rateTobase)\n                }\n                if (value.paidAmount) {\n                    receiptAmount += kendo.parseFloat(value.paidAmount)\n                    convertedAmount += (kendo.parseFloat(value.paidAmount) * receiptRate)\n                    paidAmountTxn += (kendo.parseFloat(value.paidAmount) * invRate)\n                    paidAmt = kendo.parseFloat(value.paidAmount) * receiptRate\n                    rawPaidAmount = kendo.parseFloat(value.paidAmount)\n                    window.console.log('convertedAmount', convertedAmount, '-', receiptRate)\n                }\n                if (value.discount) {\n                    // discount += kendo.parseFloat(value.discount)\n                    discount += (kendo.parseFloat(value.discount) * receiptRate)\n                    exchangeDiscount += (kendo.parseFloat(value.exchangeDiscount) * receiptRate)\n                    exchangeDiscountTxn += (kendo.parseFloat(value.discount) * invRate)\n                    discountAmount = kendo.parseFloat(value.discount) * receiptRate\n                    rawDiscountAmount = kendo.parseFloat(value.discount)\n                }\n                if (value.penalty) {\n                    // penalty += kendo.parseFloat(value.penalty)\n                    penalty += (kendo.parseFloat(value.penalty) * receiptRate)\n                    penaltyAmount = (kendo.parseFloat(value.penalty)) * receiptRate\n                    exchangePenalty += (kendo.parseFloat(value.exchangePenalty) * receiptRate)\n                    rawPenaltyAmount = kendo.parseFloat(value.penalty)\n                    exchangePenaltyTxn += kendo.parseFloat(value.penalty) * invRate\n                    // todo: Other Revenue Penalty\n                    if (penaltyAmount > 0) {\n                        if (penaltyAmount * -1 > 0) {\n                            nature = 'dr'\n                        } else {\n                            nature = 'cr'\n                        }\n                        if (this.otherRevenueAcc.hasOwnProperty('id')) {\n                            const obj = {\n                                id: this.otherRevenueAcc.id + '-' + nature + '-' + currencyCode + '-' + invRate + '-' + locationId + '-' + projectId + '-' + segmentId + '-' + txnId,\n                                txnId: txnId,\n                                projectId: projectId,\n                                locationId: locationId,\n                                segmentId: segmentId,\n                                currencyCode: currencyCode,\n                                currency: currency,\n                                lastXRate: lastXRate,\n                                referenceNo: refNo,\n                                transactionDate: value.transactionDate || '',\n                                paymentOption: value.paymentOption || '',\n                                bankReferenceNo: value.bankReferenceNo || '',\n                                // line: new ItemLineModel(value),\n                                receiptRate: receiptRate,\n                                description: 'Penalty',\n                                cashBasicEntries: {},\n                                account: this.otherRevenueAcc,\n                                accountId: this.otherRevenueAcc.id,\n                                amount: rawPenaltyAmount * -1,\n                                exchangeAmount: penaltyAmount * -1,\n                                type: nature,\n                                typeAs: 'Penalty'\n                            }\n                            const objCashBasic = {\n                                id: this.otherRevenueAcc.id + '-' + nature + '-' + currencyCode + '-' + invRate + '-' + locationId + '-' + projectId + '-' + segmentId + '-' + txnId,\n                                txnId: txnId,\n                                projectId: projectId,\n                                locationId: locationId,\n                                segmentId: segmentId,\n                                currencyCode: currencyCode,\n                                currency: currency,\n                                lastXRate: lastXRate,\n                                referenceNo: refNo,\n                                transactionDate: value.transactionDate || '',\n                                paymentOption: value.paymentOption || '',\n                                bankReferenceNo: value.bankReferenceNo || '',\n                                // line: new ItemLineModel(value),\n                                receiptRate: receiptRate,\n                                description: 'Penalty',\n                                account: this.otherRevenueAcc,\n                                accountId: this.otherRevenueAcc.id,\n                                amount: rawPenaltyAmount * -1,\n                                exchangeAmount: penaltyAmount * -1,\n                                type: nature,\n                                typeAs: 'Penalty'\n                            }\n                            obj.cashBasicEntries = objCashBasic\n                            this.jRaw.push(obj)\n                        }\n                    }\n                }\n                // todo: gain or loss exchange rate\n                gainLoss = parseFloat((invRate - receiptRate) * (rawPaidAmount + rawDiscountAmount - rawPenaltyAmount))\n                if (gainLoss !== 0) {\n                    if (gainLoss > 0) {\n                        nature = 'dr'\n                    } else {\n                        nature = 'cr'\n                    }\n                    window.console.log('gainLoss', gainLoss, paidAmt, this.gainLossAcc)\n                    // if (gainLoss) {\n                    if (this.gainLossAcc.hasOwnProperty('id')) {\n                        const obj = {\n                            id: this.gainLossAcc.id + '-' + nature + '-' + currencyCode + '-' + invRate + '-' + locationId + '-' + projectId + '-' + segmentId + '-' + txnId,\n                            txnId: txnId,\n                            projectId: projectId,\n                            locationId: locationId,\n                            segmentId: segmentId,\n                            currencyCode: currencyCode,\n                            currency: currency,\n                            lastXRate: lastXRate,\n                            referenceNo: refNo,\n                            transactionDate: value.transactionDate || '',\n                            paymentOption: value.paymentOption || '',\n                            bankReferenceNo: value.bankReferenceNo || '',\n                            // line: new ItemLineModel(value),\n                            receiptRate: gainLoss > 0 ? receiptRate : invRate,\n                            description: this.gainOrLossDescription,\n                            account: this.gainLossAcc,\n                            cashBasicEntries: {},\n                            accountId: this.gainLossAcc.id,\n                            amount: 0,\n                            exchangeAmount: gainLoss,\n                            type: nature,\n                            typeAs: 'GainOrLoss'\n                        }\n                        const objCashBasic = {\n                            id: this.gainLossAcc.id + '-' + nature + '-' + currencyCode + '-' + invRate + '-' + locationId + '-' + projectId + '-' + segmentId + '-' + txnId,\n                            txnId: txnId,\n                            projectId: projectId,\n                            locationId: locationId,\n                            segmentId: segmentId,\n                            currencyCode: currencyCode,\n                            currency: currency,\n                            lastXRate: lastXRate,\n                            referenceNo: refNo,\n                            transactionDate: value.transactionDate || '',\n                            paymentOption: value.paymentOption || '',\n                            bankReferenceNo: value.bankReferenceNo || '',\n                            // line: new ItemLineModel(value),\n                            receiptRate: gainLoss > 0 ? receiptRate : invRate,\n                            description: this.gainOrLossDescription,\n                            account: this.gainLossAcc,\n                            accountId: this.gainLossAcc.id,\n                            amount: 0,\n                            exchangeAmount: gainLoss,\n                            type: nature,\n                            typeAs: 'GainOrLoss'\n                        }\n                        obj.cashBasicEntries = objCashBasic\n                        this.jRaw.push(obj)\n                    }\n                    // }\n                }\n\n                //Todo: AR  Cr\n                arAmount = (rawPaidAmount + rawDiscountAmount - rawPenaltyAmount)\n                if (arAmount * -1 > 0) {\n                    nature = 'dr'\n                } else {\n                    nature = 'cr'\n                }\n                if (value.hasOwnProperty('receivableAcc')) {\n                    let cashBasicEntries = []\n                    if (value.hasOwnProperty('cashBasicIncomeAcc')) {\n                        const cashBasicIncomeAcc = value.cashBasicIncomeAcc || []\n                        cashBasicIncomeAcc.forEach((k, index) => {\n                            const account = k.account || {}\n                            const accountId = k.accountId || ''\n                            const amount = arAmount * (k.amountPercentage || 0)\n                            if (accountId) {\n                                cashBasicEntries.push({\n                                    id: accountId + '-' + nature + '-' + currencyCode + '-' + invRate + '-' + locationId + '-' + projectId + '-' + segmentId + '-' + txnId,\n                                    txnId: txnId,\n                                    projectId: projectId,\n                                    locationId: locationId,\n                                    segmentId: segmentId,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    lastXRate: lastXRate,\n                                    referenceNo: refNo,\n                                    transactionDate: value.transactionDate || '',\n                                    paymentOption: value.paymentOption || '',\n                                    bankReferenceNo: value.bankReferenceNo || '',\n                                    // line: new ItemLineModel(value),\n                                    receiptRate: invRate,\n                                    description: this.cashReceipt.journalNote || refNo,\n                                    account: account,\n                                    accountId: accountId,\n                                    amount: amount * -1,\n                                    exchangeAmount: amount * -1 * invRate,\n                                    type: nature,\n                                    typeAs: 'Income'\n                                })\n                                const receivableAcc = value.receivableAcc\n                                if (receivableAcc) {\n                                    if (receivableAcc.hasOwnProperty('id')) {\n                                        this.jRaw.push({\n                                            id: receivableAcc.id + '-' + nature + '-' + currencyCode + '-' + invRate + '-' + locationId + '-' + projectId + '-' + segmentId + '-' + txnId + '-' + index,\n                                            txnId: txnId,\n                                            projectId: projectId,\n                                            locationId: locationId,\n                                            segmentId: segmentId,\n                                            currencyCode: currencyCode,\n                                            currency: currency,\n                                            lastXRate: lastXRate,\n                                            referenceNo: refNo,\n                                            transactionDate: value.transactionDate || '',\n                                            paymentOption: value.paymentOption || '',\n                                            bankReferenceNo: value.bankReferenceNo || '',\n                                            // line: new ItemLineModel(value),\n                                            receiptRate: invRate,\n                                            description: this.cashReceipt.journalNote || refNo,\n                                            account: receivableAcc,\n                                            cashBasicEntries: cashBasicEntries[index],\n                                            accountId: receivableAcc.id,\n                                            amount: index === 0 ? (arAmount * -1) : 0,\n                                            exchangeAmount: index === 0 ? (arAmount * -1 * invRate) : 0,\n                                            type: nature,\n                                            typeAs: 'AR'\n                                        })\n                                    }\n                                }\n                            }\n                        })\n                    }\n                }\n\n                //Todo: Cash Account  Dr\n                if (value.paymentOption) {\n                    payOption = value.paymentOption\n                    const cashAmount = (rawPaidAmount) //+ ((invRate - receiptRate) * (rawPaidAmount + rawDiscountAmount))\n                    // const cashAmount = rawPaidAmount + (gainLoss ) + rawPaidAmount\n                    if (cashAmount > 0) {\n                        nature = 'dr'\n                    } else {\n                        nature = 'cr'\n                    }\n                    if (payOption.hasOwnProperty('account')) {\n                        const payOptionAcc = payOption.account || {}\n                        if (payOptionAcc.hasOwnProperty('id')) {\n                            const obj = {\n                                id: payOptionAcc.id + '-' + nature + '-' + currencyCode + '-' + invRate + '-' + locationId + '-' + projectId + '-' + segmentId + '-' + txnId,\n                                txnId: txnId,\n                                projectId: projectId,\n                                locationId: locationId,\n                                segmentId: segmentId,\n                                currencyCode: currencyCode,\n                                currency: currency,\n                                lastXRate: lastXRate,\n                                referenceNo: refNo,\n                                transactionDate: value.transactionDate || '',\n                                paymentOption: value.paymentOption || '',\n                                bankReferenceNo: value.bankReferenceNo || '',\n                                receiptRate: invRate,\n                                description: this.cashReceipt.journalNote || refNo,\n                                account: payOptionAcc,\n                                accountId: payOptionAcc.id,\n                                amount: cashAmount,\n                                cashBasicEntries: {},\n                                exchangeAmount: cashAmount * receiptRate,\n                                type: nature,\n                                typeAs: 'CashAccount'\n                            }\n                            const objCashBasicEntry = {\n                                id: payOptionAcc.id + '-' + nature + '-' + currencyCode + '-' + invRate + '-' + locationId + '-' + projectId + '-' + segmentId + '-' + txnId,\n                                txnId: txnId,\n                                projectId: projectId,\n                                locationId: locationId,\n                                segmentId: segmentId,\n                                currencyCode: currencyCode,\n                                currency: currency,\n                                lastXRate: lastXRate,\n                                referenceNo: refNo,\n                                transactionDate: value.transactionDate || '',\n                                paymentOption: value.paymentOption || '',\n                                bankReferenceNo: value.bankReferenceNo || '',\n                                receiptRate: invRate,\n                                description: this.cashReceipt.journalNote || refNo,\n                                account: payOptionAcc,\n                                accountId: payOptionAcc.id,\n                                amount: cashAmount,\n                                exchangeAmount: cashAmount * receiptRate,\n                                type: nature,\n                                typeAs: 'CashAccount'\n                            }\n                            obj.cashBasicEntries = objCashBasicEntry\n                            // obj.cashBasicEntries = objCashBasicEntry\n                            // let obj1 = obj\n                            // obj1['cashBasicEntries'] = obj\n                            // window.console.log('cashBasicEntries', obj1)\n                            this.jRaw.push(obj)\n                        }\n                    }\n                }\n                //Todo: Settlement Discount  Dr\n                if (value.paymentTerm) {\n                    if (discountAmount > 0) {\n                        const settlementDisc = value.paymentTerm\n                        if (discountAmount > 0) {\n                            nature = 'dr'\n                        } else {\n                            nature = 'cr'\n                        }\n                        if (settlementDisc.hasOwnProperty('account')) {\n                            const settlementDiscAcc = settlementDisc.account\n                            if (settlementDiscAcc.hasOwnProperty('id')) {\n                                const obj = {\n                                    id: settlementDiscAcc.id + '-' + nature + '-' + currencyCode + '-' + invRate + '-' + locationId + '-' + projectId + '-' + segmentId + '-' + txnId,\n                                    txnId: txnId,\n                                    projectId: projectId,\n                                    locationId: locationId,\n                                    segmentId: segmentId,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    lastXRate: lastXRate,\n                                    referenceNo: refNo,\n                                    transactionDate: value.transactionDate || '',\n                                    paymentOption: value.paymentOption || '',\n                                    bankReferenceNo: value.bankReferenceNo || '',\n                                    // line: new ItemLineModel(value),\n                                    receiptRate: receiptRate,\n                                    description: 'Receipt Settlement Discount',\n                                    account: settlementDiscAcc,\n                                    cashBasicEntries: {},\n                                    accountId: settlementDiscAcc.id,\n                                    amount: rawDiscountAmount,\n                                    exchangeAmount: discountAmount,\n                                    type: nature,\n                                    typeAs: 'Settlement Discount'\n                                }\n                                const objCashbasic = {\n                                    id: settlementDiscAcc.id + '-' + nature + '-' + currencyCode + '-' + invRate + '-' + locationId + '-' + projectId + '-' + segmentId + '-' + txnId,\n                                    txnId: txnId,\n                                    projectId: projectId,\n                                    locationId: locationId,\n                                    segmentId: segmentId,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    lastXRate: lastXRate,\n                                    referenceNo: refNo,\n                                    transactionDate: value.transactionDate || '',\n                                    paymentOption: value.paymentOption || '',\n                                    bankReferenceNo: value.bankReferenceNo || '',\n                                    // line: new ItemLineModel(value),\n                                    receiptRate: receiptRate,\n                                    description: 'Receipt Settlement Discount',\n                                    account: settlementDiscAcc,\n                                    accountId: settlementDiscAcc.id,\n                                    amount: rawDiscountAmount,\n                                    exchangeAmount: discountAmount,\n                                    type: nature,\n                                    typeAs: 'Settlement Discount'\n                                }\n                                obj.cashBasicEntries = objCashbasic\n                                this.jRaw.push(obj)\n                            }\n                        }\n                    }\n                }\n            })\n            // this.invoiceTxn(txnIds)\n\n            this.cashReceipt.total = receiptAmount\n            this.cashReceipt.exchangeAmount = convertedAmount\n            this.cashReceipt.discount = discount\n            this.cashReceipt.exchangeDiscount = exchangeDiscount\n\n            this.cashReceipt.penalty = penalty\n\n            this.cashReceipt.exchangePenaltyTxn = exchangePenaltyTxn\n            this.cashReceipt.paidAmountTxn = paidAmountTxn\n            this.cashReceipt.exchangeDiscountTxn = exchangeDiscountTxn\n            this.cashReceipt.exchangePenalty = exchangePenalty\n\n            this.shrinkData(this.jRaw)\n            // let itemLineDS = this.$refs.itemLineDS.kendoWidget()\n            // const dataRow = itemLineDS.data().filter(n => n.paidAmount > 0)\n            //\n            // window.console.log(this.jRaw, 'cash jRaw')\n        },\n        shrinkData(obj) {\n            const uniques = this.removeDuplicate(obj) /*[...new Set(accountId.map(i => {\n                return {\n                    id_: i.id_,\n                    id: i.id,\n                    type: i.type\n                }\n            }))]*/\n            uniques.forEach(n => {\n                const found = obj.filter(m => m.id === n.id)\n                let amount = 0, exchangeAmount = 0\n                found.forEach(z => {\n                    amount += parseFloat(z.amount || 0)\n                    exchangeAmount += parseFloat(z.exchangeAmount || 0)\n                })\n                n.exchangeAmount = parseFloat(exchangeAmount) //this.numberFormat(amount)\n                n.amount = parseFloat(amount)  //parseFloat(parseFloat(amount / parseFloat(n.receiptRate))) //this.numberFormat(amount * parseFloat(this.invoice.txnRate)) //.toFixed(this.saleFormContent.decimal)\n            })\n            this.jRaw = uniques\n            let dr = 0, cr = 0\n            this.jRaw.forEach(j => {\n                switch (j.type) {\n                    case 'cr':\n                        cr += parseFloat(j.exchangeAmount)\n                        break\n                    case 'dr':\n                        dr += parseFloat(j.exchangeAmount)\n                        break\n                    default:\n                        break\n                }\n            })\n            const txnId = this.jRaw.map(o => o.txnId)\n            var uSet = new Set(txnId);\n            const uniqueSet = [...uSet]\n            let jRaws = []\n            uniqueSet.forEach(n => {\n                const found = this.jRaw.filter(m => m.txnId === n)\n                jRaws.push({\n                    id: n,\n                    currencyCode: found[0].currencyCode,\n                    projectId: found[0].projectId,\n                    segmentId: found[0].segmentId,\n                    locationId: found[0].locationId,\n                    referenceNo: found[0].referenceNo,\n                    entries: JSON.parse(JSON.stringify(found))\n                })\n            })\n            this.jRaw = jRaws\n            this.dr = dr\n            this.cr = cr\n            window.console.log('dr=', dr, 'cr=', cr, 'dr+cr = ', dr + cr)\n            window.console.log(JSON.stringify(this.jRaw), 'uniques')\n\n        },\n        invoiceTxn() {\n            let txnIds = [], ids = []\n            const ds = this.$refs.cashReceiptItemLineDS.kendoWidget()\n            const data = ds.data()\n            data.forEach(value => {\n                if (value.id) {\n                    txnIds.push({\n                        id: value.id,\n                        status: 1\n                    })\n                }\n            })\n            ids = Object.values(txnIds.reduce((r, o) => (r[o.id] = o, r), {}))\n            ids.forEach(m => {\n                const lines = data.filter(n => n.id === m.id)\n                let paidAmt = 0\n                let amountTobePaid = 0\n                lines.forEach(x => {\n                    if (x.paidAmount) {\n                        paidAmt += x.paidAmount\n                    }\n                    if (x.amountTobePaid) {\n                        amountTobePaid += x.amountTobePaid\n                    }\n                })\n                const pAmt = this.numberFormat(paidAmt)\n                const amtTobePaid = this.numberFormat(amountTobePaid)\n                if (pAmt === amtTobePaid) {\n                    m['status'] = 3 //Paid\n                } else {\n                    m['status'] = 2 // Partially Paid\n                }\n            })\n            this.txnList = ids\n        },\n        initRow() {\n            let ds = this.$refs.cashReceiptItemLineDS.kendoWidget()\n            ds.insert([this.itemLine])\n\n        },\n        async initGrid(that) {\n            let grid = $('#gridCashReceipt').data('kendoGrid')\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    $('#header-chb').change(function (ev) {\n                        let checked = ev.target.checked\n                        data = []\n                        $('.row-checkbox').each(function (idx, item) {\n                            if (checked) {\n                                if (!($(item).closest('tr').is('.k-state-selected'))) {\n                                    $(item).click()\n                                    let mRow = $(item).closest('tr')\n                                    let dataItem = grid.dataItem(mRow)\n                                    data.push(dataItem)\n                                }\n\n                            } else {\n                                $(item).click()\n                            }\n                        })\n                        that.checkedChanged(data)\n                    })\n                }, 10)\n            })\n\n            //\n            // let checkedIds = {}\n            let data = []\n            //\n            // function selectRow(that) {\n            //     let checked = this.checked,\n            //         row = $(this).closest(\"tr\"),\n            //         grid = $('#itemLine').data('kendoGrid'),\n            //         dataItem = grid.dataItem(row)\n            //\n            //     checkedIds[dataItem.paymentCode] = checked;\n            //     window.console.log('here',dataItem)\n            //     if (checked) {\n            //         //-select the row\n            //         row.addClass(\"k-state-selected\")\n            //         data.push(dataItem)\n            //\n            //         that.checkedChanged(dataItem)\n            //     } else {\n            //         //-remove selection\n            //         row.removeClass(\"k-state-selected\")\n            //     }\n            // }\n            // if (grid) {\n            //     grid.table.on(\"click\", \".row-checkbox\", selectRow(that))\n            // }\n\n        },\n        checkedChanged(data) {\n            data.forEach(m => {\n                if (parseFloat(m.paidAmount) === 0) {\n                    m.paidAmount = m.amountTobePaid\n                }\n                const index = this.itemLines.findIndex(item => {\n                    return ((m.paymentCode === item.paymentCode) && parseFloat(item.paidAmount) === 0)\n                })\n                this.itemLines.splice(index, 1, m)\n            })\n            this.autoCalculate()\n        },\n        headerTemplate() {\n            return `<input type='checkbox' id='header-chb' class='k-checkbox header-checkbox'>`\n        },\n        checkTemplate(dataItem) {\n            return `<input type='checkbox' #= ${dataItem.check} ? \\\\'checked=\"checked\"\\\\' : '' # class='k-checkbox row-checkbox' />`\n        },\n        formatDate(dataItem) {\n            if (dataItem.hasOwnProperty('dueDate')) {\n                return kendo.toString(new Date(dataItem.dueDate), this.dateFormat)\n            }\n            return ''\n        },\n        settlementDiscount(dataItem) {\n            if (dataItem.hasOwnProperty('paymentTerm')) {\n                return dataItem.paymentTerm.name || ''\n            }\n            return ''\n        },\n        status(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty('status')) {\n                    const status = dataItem.status\n                    let statusText = ''\n                    switch (status) {\n                        case 1:\n                            statusText = 'OPEN'\n                            break\n                        case 2:\n                            statusText = 'Partially Paid'\n                            break\n                        case 4:\n                            statusText = 'VOID'\n                            break\n                        case 3:\n                            statusText = 'PAID'\n                            break\n                    }\n                    return statusText\n                }\n            }\n            return ''\n        },\n        onCustomerChanged(event) {\n            const value = event.value\n            if (value && value[textField] === emptyItem[textField]) {\n                return;\n            }\n            this.mCustomer = value\n            this.cashReceipt.customer = value\n        },\n        onCustomerFilterChanged(event) {\n            const filter = event.filter.value\n            this.loadData(0, filter, this.cusBaseUrl)\n            this.filter = filter\n        },\n        loadData(skip, filter, baseUrl) {\n            const url = baseUrl +\n                `?filter=${filter}`\n            this.requestStarted = true;\n            fetch(url)\n                .then((response) => {\n                    return response.json()\n                })\n                .then(this.afterFetch)\n        },\n        afterFetch(json) {\n            this.customers = json.data\n        },\n        numberFormat(value) {\n            return kendo.toString(value, `n${this.saleFormContent.decimal}`)\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.cashReceiptItemLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        dataSourceChanged(e) {\n            let dataRow = e.items[0] || {}\n            if (Object.keys(dataRow).length > 0) {\n                dataRow.set('optionType', OPTION_TYPE)\n            }\n\n            if (e.field) {\n                let amountTobePaid = 0, paidAmount = 0, variance = 0\n                switch (e.field) {\n                    case \"discount\":\n                        dataRow.set('amountTobePaid', (parseFloat(dataRow.amount) + parseFloat(dataRow.penalty)) - parseFloat(dataRow.discount))\n                        dataRow.set('exchangeDiscount', (parseFloat(dataRow.discount) * parseFloat(dataRow.rateTobase)))\n                        dataRow.set('exchangeDiscountTxn', parseFloat(dataRow.discount) * parseFloat(dataRow.txnRate))\n                        window.console.log((parseFloat(dataRow.discount) * parseFloat(dataRow.rateTobase)), '----')\n                        break\n                    case \"penalty\":\n                        dataRow.set('amountTobePaid', (parseFloat(dataRow.amount) + parseFloat(dataRow.penalty)) - parseFloat(dataRow.discount))\n                        dataRow.set('exchangePenalty', parseFloat(dataRow.penalty) * parseFloat(dataRow.rateTobase))\n                        dataRow.set('exchangePenaltyTxn', parseFloat(dataRow.penalty) * parseFloat(dataRow.txnRate))\n\n                        break\n                    case \"paidAmount\":\n                        amountTobePaid = parseFloat(dataRow.amountTobePaid)\n                        paidAmount = parseFloat(dataRow.paidAmount)\n                        variance = parseFloat(dataRow.penalty) - parseFloat(dataRow.discount)\n                        if (paidAmount > amountTobePaid) {\n                            paidAmount = amountTobePaid\n                        } else if (paidAmount < variance) {\n                            paidAmount = variance\n                        }\n                        dataRow.set('paidAmount', paidAmount)\n                        dataRow.set('paidAmountTobase', (paidAmount * parseFloat(dataRow.rateTobase)))\n                        dataRow.set('paidAmountTxn', (paidAmount * parseFloat(dataRow.txnRate)))\n                        break\n                    default:\n                        break\n                }\n\n                this.invoiceTxn()\n                this.autoCalculate()\n\n            }\n        },\n        searchOptionChanged() {\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t('msg_title_warning'),\n                text: i18n.t('msg_discard'),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t('cancel'),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t('discard'),\n            }).then((result) => {\n                if (result.value) {\n                    this.clear();\n                    this.$router.go(-1);\n                }\n            });\n        },\n        PMTTemplate(dataItem) {\n            const pmt = dataItem.paymentOption || {}\n            if (pmt) {\n                return `<span>${pmt.bankAccountName || ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        async loadPaymentOption() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.paymentMethod = []\n                    paymentOptionHandler.list(strFilter).then(res => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false\n                            this.paymentMethod = res.data.data\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 10)\n            })\n        },\n        async loadOtherAccount() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    settingHandler.getOtherAccount().then(res => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false\n                            const response = res.data.data\n                            const data = response.filter(o => o.banhjiAccCode === '740010')\n                            // window.console.log(data, ' this.gainLossAc')\n                            if (data.length > 0) {\n                                this.gainLossAcc = data[0].account\n                                window.console.log(this.gainLossAcc, 'data[0].account')\n                            }\n                            const data_ = response.filter(o => o.banhjiAccCode === '740040')\n                            if (data_.length > 0) {\n                                this.otherRevenueAcc = data_[0].account\n                            }\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 10)\n            })\n        },\n        PaymentMethodDropDownEditor(container, options) {\n            kendo.jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.paymentMethod\n                    })\n                })\n        },\n        hideSmallSidebar() {\n            this.isHideBar = !this.isHideBar;\n        },\n        async loadPrefix() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    prefixHandler.get('cash receipt').then(res => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false\n                            this.transactionTypes = res.data.data\n                            if (this.transactionTypes.length > 0) {\n                                this.cashReceipt.transactionType = this.transactionTypes[0]\n                                if (!this.$route.params.id) {\n                                    this.generateNumber()\n                                }\n                            }\n                        }\n                    })\n                }, 10);\n            })\n        },\n        async loadSaleFormContent() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    saleFormContentHandler.list().then(res => {\n                        if (res.data.statusCode === 200) {\n                            const data = res.data.data\n                            if (data.length > 0) {\n                                this.saleFormContent = data[0]\n                            }\n                        }\n                    })\n                }, 10)\n            })\n        },\n        async searchInvoice() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    let data = {}\n                    this.showLoading = true\n                    window.console.log(this.mPaymentOption, 'payment ')\n                    if (this.mPaymentOption === 'Invoice') {\n                        data = {\n                            search: this.search,\n                            type: 'invoice',\n                            transactionDate: this.cashReceipt.transactionDate,\n                        }\n                    } else if (this.mPaymentOption === 'CRN') {\n                        data = {\n                            search: this.search,\n                            type: 'crn',\n                            transactionDate: this.cashReceipt.transactionDate,\n                        }\n                    } else if (this.mPaymentOption === 'Payment Code') {\n                        data = {\n                            search: this.search,\n                            type: 'payment code',\n                            transactionDate: this.cashReceipt.transactionDate,\n                        }\n                    } else if (this.mPaymentOption === 'Customer') {\n                        data = {\n                            search: this.mCustomer.id,\n                            type: 'customer',\n                            transactionDate: this.cashReceipt.transactionDate,\n                        }\n                    }\n                    this.itemLines = []\n                    if (data.search) {\n                        if (data.search.length > 4) {\n                            this.showLoading = true\n                            try {\n                                billingHandler.search(data).then(res => {\n                                    if (res.data.statusCode === 200) {\n                                        const response = res.data.data\n                                        const result = res.data.result\n                                        this.showLoading = false\n                                        if (response.length > 0) {\n                                            this.itemLines = response\n                                            const obj = response[0]\n                                            this.autoCalculate()\n                                            if (obj.hasOwnProperty('customer')) {\n                                                this.cashReceipt.customer = obj.customer\n                                                if (obj.customer.hasOwnProperty('name')) {\n                                                    this.name = obj.customer.name\n                                                }\n                                            }\n                                        }\n                                        const baseCurrency = result\n                                        this.baseCurrency = baseCurrency\n                                        this.cashReceipt.currency = baseCurrency\n                                        if (baseCurrency) {\n                                            if (baseCurrency.hasOwnProperty('code')) {\n                                                this.baseCurrencyCode = baseCurrency.code\n                                                // if (code) {\n                                                //     this.loadTransactionRate(baseCurrency.code)\n                                                // }\n                                            }\n                                        }\n                                    }\n                                })\n                            } catch (e) {\n                                this.showLoading = false\n                            }\n                        } else {\n                            this.showLoading = false\n                        }\n\n                    } else {\n                        this.showLoading = false\n                    }\n                }, 10)\n            })\n        },\n        async onSaveClose(save) {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate()\n                return\n            }\n            let itemLineDS = this.$refs.cashReceiptItemLineDS.kendoWidget()\n            let dataValidate = 0\n            const dataRow = itemLineDS.data().filter(n => n.paidAmount > 0).map(o => {\n                return new ItemLineModel(o)\n            })\n\n            if (dataRow.length > 0) {\n                dataRow.forEach((value, index) => {\n                    if (value.paymentOption.id == undefined || value.paymentOption.id == '') {\n                        this.$snotify.error('Please check payment option again' + (index + 1))\n                    } else {\n                        dataValidate += 1\n                    }\n                });\n                if (dataRow.length === dataValidate) {\n                    let isAutoGenerate = 1\n                    // this.autoCalculate()\n                    if (this.$route.params.id) {\n                        const tranDate = new Date(this.cashReceipt.transactionDate)\n                        const tranDateReceipt = new Date(this.cashReceipt.transactionDate)\n                        const tranDateM = tranDate.getFullYear() + tranDate.getMonth()\n                        const tranDateReceiptM = tranDateReceipt.getFullYear() + tranDateReceipt.getMonth()\n                        if (tranDateM === tranDateReceiptM) {\n                            isAutoGenerate = 0\n                        }\n                    }\n                    //todo: match Cash receipt model\n                    this.cashReceipt.paidOption = this.mPaymentOption\n                    this.cashReceipt.transactionDateTZ = Helper.toISODate(this.cashReceipt.transactionDate)\n                    this.cashReceipt.paidOptionText = this.search ? this.search : this.mCustomer\n                    this.cashReceipt.itemLine = dataRow\n                    this.cashReceipt['jRaw'] = this.jRaw\n                    this.cashReceipt.loggedUser = this.loggedUser\n                    this.cashReceipt['oldTotal'] = this.oldTotal\n                    this.cashReceipt['isAutoGenerate'] = isAutoGenerate\n                    this.cashReceipt['txnList'] = this.txnList\n                    this.cashReceipt['transactionDate'] = this.cashReceipt.transactionDate\n                    this.cashReceipt['actionType'] = this.$route.params.id ? this.$route.query.type : 'new'\n\n                    this.showLoading = true\n                    // let data = this.cashReceipt\n                    // window.console.log(JSON.stringify(data), '----', isAutoGenerate)\n                    billingHandler.createReceipt(this.cashReceipt).then(response => {\n                        if (response.data.statusCode === 201) {\n                            this.showLoading = false\n                            // this.close(response.data.data)\n                            this.$snotify.success('Successfully')\n                            if (save == 'new') {\n                                this.clear()\n                            } else if (save == 'print') {\n                                this._print(4);\n                                this.clear();\n                            } else {\n                                this.clear()\n                                this.close()\n                            }\n                        }\n                    }).catch(e => {\n                        this.$snotify.error('Something went wrong')\n                        this.errors.push(e)\n                    })\n                }\n            }\n        },\n        async loadCashReceiptView() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.itemLines = []\n                    billingHandler.txnView(this.$route.params.id).then(res => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false\n                            const response = res.data.data\n                            if (response.length > 0) {\n                                this.cashReceipt = response[0]\n                                this.referenceNo = this.cashReceipt.referenceNo\n                                this.oldTotal = this.cashReceipt.total\n                                this.itemLines = response[0].itemLine\n                                if (this.cashReceipt.hasOwnProperty('customer')) {\n                                    if (this.cashReceipt.customer.hasOwnProperty('name')) {\n                                        this.name = this.cashReceipt.customer.name\n                                    }\n                                }\n                            }\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 10)\n            })\n        },\n        clear() {\n            let ds = this.$refs.cashReceiptItemLineDS.kendoWidget();\n            ds.data([]);\n            this.id = undefined\n            this.mCustomer = {}\n            this.name = ''\n            this.mPaymentOption = 'Invoice'\n            this.cashReceipt = new CashReceiptModel()\n            this.cashReceipt.transactionType = this.transactionTypes[0]\n            this.generateNumber()\n        },\n        close() {\n            this.$router.go(-1);\n        }\n    },\n    watch: {\n        // id() {\n        //     if (this.$route.params.id === undefined) {\n        //         this.clear()\n        //     } else {\n        //         this.showLoading = true\n        //         this.loadOtherAccount()\n        //         this.initData()\n        //     }\n        // },\n        checkId(){\n            if (this.$route.params.id === undefined) {\n                this.clear()\n                this.check_id_edit = false\n            } else {\n                this.showLoading = true\n                this.check_id_edit = true\n                this.loadCashReceiptView()\n            }\n        }\n    },\n    created() {\n        // fetch the data when the view is created and the data is\n        // already being observed\n        // this.loadObj()\n        // this.loadPaymentOption()\n    },\n    mounted: async function () {\n        await this.loadOtherAccount()\n        await this.loadPrefix()\n        await this.loadSaleFormContent()\n        this.loadData(0, this.filter, this.cusBaseUrl)\n        await this.initGrid(this)\n        await this.initData()\n        if (this.$route.params.id === undefined) {\n            this.check_id_edit = false\n        } else {\n            this.check_id_edit = true\n        }\n\n    },\n    computed: {\n        disabledMe() {\n            return !!this.$route.params.id;\n        },\n        showMe() {\n            return this.mPaymentOption === 'Customer' // or some other more complicated logic\n        },\n        checkId() {\n            return this.$route.params.id;\n        }\n    }\n};\n</script>\n\n<style scoped>\n.k-dropdown {\n    width: 100%;\n    margin-top: 3px;\n}\n\n.function_wrapper {\n    box-shadow: none !important;\n}\n\n.v-application--is-ltr .v-text-field .v-input__append-inner {\n    margin-top: 0 !important;\n}\n\n.v-input__slot {\n    background-color: #fff !important;\n}\n\n.function_content .label {\n    margin-bottom: 10px;\n    display: inline-block;\n}\n\n.border_radius10 {\n    border-radius: 10px !important;\n    background-color: #F2F2F2;\n}\n\n.pa-3.v-card h4 {\n    font-size: 18px;\n    color: #333;\n}\n\n.pa-3.v-card p {\n    font-size: 12px;\n    color: #B5B5B5;\n}\n\n.attachment_file {\n    background-color: #EFEDED;\n    border-radius: 0 !important;\n}\n\n.attachment_table.v-data-table table {\n    border: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.attachment_table table tr th {\n    border-left: thin solid rgba(0, 0, 0, 0.12);\n    height: 35px;\n    border-right: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.block_debit,\n.block_credit {\n    border-bottom: 1px solid #fff;\n}\n\n.block_debit p.number,\n.block_credit p.number {\n    font-size: 25px;\n    color: #7F7F7F;\n}\n\n.block_debit h5,\n.block_credit h5,\n.block_difference h5 {\n    text-transform: uppercase;\n    color: #7F7F7F;\n    font-size: 15px;\n    font-weight: normal;\n}\n\n.block_difference h5 {\n    font-size: 18px;\n}\n\n.block_difference h5 span {\n    font-size: 15px;\n}\n\n.custom_grid table th:last-child {\n    text-align: right !important;\n}\n\n.primary--text {\n    color: #03b154;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        max-width: 1250px;\n    }\n}\n\n@media (max-width: 576px) {\n    .pt-6.col-sm-5.col-12 {\n        padding-top: 0 !important;\n    }\n\n    .code_text {\n        width: 100%;\n    }\n\n    .phone_no_pt {\n        padding-top: 0 !important;\n    }\n\n    .select_template,\n    .save_option {\n        margin-bottom: 10px;\n    }\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: .5s ease-in;\n    flex: 0 0 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: .5s ease-in;\n    flex: 0 0 100%;\n}\n\n.info_add {\n    background-color: #ffffff;\n}\n\n.small_sidebar {\n    height: 98%;\n    position: relative;\n    padding: 12px;\n    background-color: #EDF1F5;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.color_grey {\n    color: #808080;\n}\n\n.card_green {\n    min-height: 70px;\n    background-color: #00b050 !important;\n    color: #ffffff;\n}\n\n.lb_bold {\n    font-size: 12px;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 10px;\n}\n\n.card_background {\n    background-color: #EDF1F5;\n    min-height: 120px;\n}\n\n.deposite_input {\n    width: 100px;\n}\n\n.btn_save_draft {\n    color: #ffffff;\n    background-color: #00b0f0 !important;\n    text-transform: capitalize;\n}\n\n.save_option {\n    background-color: #203864 !important;\n}\n\n.btn_add_small {\n    height: 27px !important;\n    min-width: 25px !important;\n    font-size: 10px;\n    padding: 0 22px !important;\n    background-color: #00b050 !important;\n    color: #ffffff;\n    border-radius: 0 !important;\n}\n\n.list_site_inv {\n    background-color: #92d050;\n    color: #ffffff;\n    font-size: 12px;\n}\n\n.list_site_exp {\n    background-color: #c5e0b4;\n    color: #000000;\n    font-size: 12px;\n    line-height: 16px;\n    min-height: 40px;\n}\n\n.checkbox_inv {\n    padding: 2px;\n    margin-top: 3px;\n    margin-right: 2px;\n}\n\n.exp_select {\n    font-size: 12px !important;\n}\n\n.theme--light.v-data-table td {\n    border-bottom: 1px solid #808080;\n    border-top: 1px solid #808080;\n}\n\n.theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n\n</style>"],"sourceRoot":"src/views/customers"}]}