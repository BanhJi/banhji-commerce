{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/suppliers/CashPayments.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/suppliers/CashPayments.vue","mtime":1642155812719},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1jb21tZXJjZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktY29tbWVyY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktY29tbWVyY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Cgp2YXIgX2RlZmF1bHRJdGVtOwoKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgRHJvcERvd25MaXN0IH0gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXZ1ZS1kcm9wZG93bnMiOwppbXBvcnQgeyBpMThuIH0gZnJvbSAiQC9pMThuIjsKaW1wb3J0IERhdGVQaWNrZXJDb21wb25lbnQgZnJvbSAiQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvRGF0ZVBpY2tlckNvbXBvbmVudCI7CmltcG9ydCBDYXNoUGF5bWVudE1vZGVsIGZyb20gIkAvc2NyaXB0cy9jYXNoLXBheW1lbnQvbW9kZWwvQ2FzaFBheW1lbnQiOwppbXBvcnQgSXRlbUxpbmVNb2RlbCBmcm9tICJAL3NjcmlwdHMvY2FzaC1wYXltZW50L21vZGVsL0l0ZW1MaW5lIjsKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CmltcG9ydCB7IGdldFByaW50IH0gZnJvbSAiQC9mb3JtL3BheW1lbnRWb3VjaGVyIjsKaW1wb3J0IFBheW1lbnRPcHRpb25FZGl0b3IgZnJvbSAiQC9zY3JpcHRzL2tlbmRvX2VkaXRvci9QYXltZW50T3B0aW9uRWRpdG9yIjsKaW1wb3J0IEhlbHBlciBmcm9tICJAL2hlbHBlciI7Cgp2YXIgcHJlZml4SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcmVmaXhIYW5kbGVyIik7Cgp2YXIgcHVyY2hhc2VGb3JtQ29udGVudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHVyY2hhc2VGb3JtQ29udGVudEhhbmRsZXIiKTsKCnZhciBiaWxsaW5nSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9pbnZvaWNlL2hhbmRsZXIvYmlsbGluZ0hhbmRsZXIiKTsKCnZhciBzdXBwbGllckhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc3VwcGxpZXJIYW5kbGVyIik7Cgp2YXIgJCA9IGtlbmRvLmpRdWVyeTsKCnZhciBjb29raWVKUyA9IHJlcXVpcmUoIkAvY29va2llLmpzIik7Cgp2YXIgY29va2llID0gY29va2llSlMuZ2V0Q29va2llKCk7Cgp2YXIgcGF5bWVudE9wdGlvbkhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcGF5bWVudE9wdGlvbkhhbmRsZXIiKTsKCnZhciBzZXR0aW5nSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zZXR0aW5nc0hhbmRsZXIiKTsKCnZhciBjYXNoUGF5bWVudE1vZGVsID0gbmV3IENhc2hQYXltZW50TW9kZWwoe30pOwp2YXIgaXRlbUxpbmVNb2RlbCA9IG5ldyBJdGVtTGluZU1vZGVsKHt9KTsKdmFyIGtleUZpZWxkID0gImlkIjsKdmFyIHRleHRGaWVsZCA9ICJudW1iZXJOYW1lIjsKdmFyIGRlZmF1bHRJdGVtID0gKF9kZWZhdWx0SXRlbSA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2RlZmF1bHRJdGVtLCB0ZXh0RmllbGQsICJTZWxlY3QgdmVuZG9yLi4uIiksIF9kZWZpbmVQcm9wZXJ0eShfZGVmYXVsdEl0ZW0sIGtleUZpZWxkLCBudWxsKSwgX2RlZmF1bHRJdGVtKTsKCnZhciBlbXB0eUl0ZW0gPSBfZGVmaW5lUHJvcGVydHkoe30sIHRleHRGaWVsZCwgImxvYWRpbmcgLi4uIik7Cgp2YXIgT1BUSU9OX1RZUEUgPSAiU3VwcGxpZXIiOwp2YXIgc3RyRmlsdGVyID0gIj9vcHRpb25UeXBlPSIgKyBPUFRJT05fVFlQRTsKdmFyIFRYTl9UWVBFID0gImNhc2ggcGF5bWVudCI7CnZhciBUUkFOU0FDVElPTl9UWVBFID0gIkNhc2ggUGF5bWVudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ2FzaFBheW1lbnQiLAogIHByb3BzOiBbImlkIl0sCiAgY29tcG9uZW50czogewogICAgTG9hZGluZ01lOiBmdW5jdGlvbiBMb2FkaW5nTWUoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9Mb2FkaW5nIik7CiAgICB9LAogICAgImFwcC1kYXRlcGlja2VyIjogRGF0ZVBpY2tlckNvbXBvbmVudCwKICAgIGRyb3Bkb3dubGlzdDogRHJvcERvd25MaXN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgUGF5bWVudE9wdGlvbkVkaXRvcjogUGF5bWVudE9wdGlvbkVkaXRvciwKICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgICBhbGVydDogZmFsc2UsCiAgICAgIGZpbGVzOiBbXSwKICAgICAgZXJyb3JzOiBbXSwKICAgICAgdmFsaWQ6IHRydWUsCiAgICAgIGxvZ2dlZFVzZXI6IHsKICAgICAgICBpZDogY29va2llLmNyZWF0b3IsCiAgICAgICAgbmFtZTogY29va2llLmVtYWlsCiAgICAgIH0sCiAgICAgIGl0ZW1MaW5lczogW10sCiAgICAgIHRlbXBsYXRlczogW3sKICAgICAgICB0aXRsZTogIkRyYWZ0IgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICJPcGVuIgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICJQYXJ0aWFsbHkgQ2xvc2VkIgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICJDbG9zZWQiCiAgICAgIH1dLAogICAgICBjb2xfZXhwYW5kOiA5LAogICAgICBjb2xfaGlkZTogMywKICAgICAgaXNIaWRlQmFyOiBmYWxzZSwKICAgICAgdHlwZUFzOiBbJ0Nhc2gnLCAnQmFuayddLAogICAgICBwYXltZW50T3B0aW9uczogWyJWZW5kb3IiXSwKICAgICAgbVBheW1lbnRPcHRpb246ICJWZW5kb3IiLAogICAgICBwYXltZW50TWV0aG9kOiBbIkNhc2giLCAiQ2hlcXVlIl0sCiAgICAgIHRyYW5zYWN0aW9uRGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICAgIGNhc2hQYXltZW50OiBjYXNoUGF5bWVudE1vZGVsLAogICAgICBpdGVtTGluZTogaXRlbUxpbmVNb2RlbCwKICAgICAgcHVyY2hhc2VGb3JtQ29udGVudDoge30sCiAgICAgIHNlYXJjaDogIiIsCiAgICAgIHRyYW5zYWN0aW9uVHlwZXM6IFtdLAogICAgICBzdXBwbGllcnM6IFtdLAogICAgICBtU3VwcGxpZXI6IHt9LAogICAgICBkZWZhdWx0SXRlbTogZGVmYXVsdEl0ZW0sCiAgICAgIHN1cEJhc2VVcmw6IHN1cHBsaWVySGFuZGxlci5zZWFyY2goKSwKICAgICAgZmlsdGVyOiAiIiwKICAgICAgbmFtZTogIiIsCiAgICAgIHJlZmVyZW5jZU5vOiAiIiwKICAgICAgb2xkVG90YWw6IDAsCiAgICAgIGRhdGVGb3JtYXQ6IGl0ZW1MaW5lTW9kZWwuZGF0ZUZvcm1hdCwKICAgICAgZ3JvdXA6IHsKICAgICAgICBmaWVsZDogInN1cHBsaWVyLm5hbWUiCiAgICAgIH0sCiAgICAgIGJhbmtzOiBbXSwKICAgICAgdHhuTGlzdDogW10sCiAgICAgIGN1cnJlbmN5Q29kZTogIiIsCiAgICAgIHRyYW5zYWN0aW9uUmF0ZTogMSwKICAgICAgc2NoZW1hRGVmaW5pdGlvbjogewogICAgICAgIG1vZGVsOiB7CiAgICAgICAgICBpZDogImxpbmVJZCIKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJhc2VDdXJyZW5jeToge30sCiAgICAgIGJhc2VDdXJyZW5jeUNvZGU6ICIiLAogICAgICBqUmF3OiBbXSwKICAgICAgZ2Fpbkxvc3NBY2M6IHt9LAogICAgICBvdGhlclJldmVudWVBY2M6IHt9LAogICAgICBnYWluT3JMb3NzRGVzY3JpcHRpb246ICJnYWluL2xvc3Mgb24gZXhjaGFuZ2UgcmF0ZSIsCiAgICAgIHBlbmFsdHlEZXNjcmlwdGlvbjogInBlbmFsdHkiLAogICAgICByZXF1ZXN0UGF5bWVudExpc3Q6IFtdLAogICAgICBzZWxlY3RlZEV4cGVuc2VJZHM6IFtdLAogICAgICBjcjogMCwKICAgICAgZHI6IDAsCiAgICAgIGlzRWRpdDogdHJ1ZSwKICAgICAgY2hlY2tlZDogZmFsc2UsCiAgICAgIGlzVmlldzogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBpc0VkaXRhYmxlOiBmdW5jdGlvbiBpc0VkaXRhYmxlKCkgewogICAgICByZXR1cm4gdGhpcy5pc0VkaXQ7CiAgICB9LAogICAgc2F2ZVByaW50OiBmdW5jdGlvbiBzYXZlUHJpbnQoKSB7fSwKICAgIGN1cnJlbmN5OiBmdW5jdGlvbiBjdXJyZW5jeShkYXRhSXRlbSkgewogICAgICBpZiAoZGF0YUl0ZW0pIHsKICAgICAgICBpZiAoZGF0YUl0ZW0uaGFzT3duUHJvcGVydHkoImN1cnJlbmN5Q29kZSIpKSB7CiAgICAgICAgICByZXR1cm4gZGF0YUl0ZW0uY3VycmVuY3lDb2RlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIHJlZmVyZW5jZU5vVG1wOiBmdW5jdGlvbiByZWZlcmVuY2VOb1RtcChkYXRhSXRlbSkgewogICAgICBpZiAoZGF0YUl0ZW0pIHsKICAgICAgICBpZiAoZGF0YUl0ZW0uaGFzT3duUHJvcGVydHkoInJlZmVyZW5jZU5vIikpIHsKICAgICAgICAgIHJldHVybiBkYXRhSXRlbS5yZWZlcmVuY2VObzsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBiaWxsTnVtYmVyVG1wOiBmdW5jdGlvbiBiaWxsTnVtYmVyVG1wKGRhdGFJdGVtKSB7CiAgICAgIGlmIChkYXRhSXRlbSkgewogICAgICAgIGlmIChkYXRhSXRlbS5oYXNPd25Qcm9wZXJ0eSgiYmlsbE51bWJlciIpKSB7CiAgICAgICAgICByZXR1cm4gZGF0YUl0ZW0uYmlsbE51bWJlcjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBwYWlkQW1vdW50VG1wOiBmdW5jdGlvbiBwYWlkQW1vdW50VG1wKGRhdGFJdGVtKSB7CiAgICAgIGlmIChkYXRhSXRlbSkgewogICAgICAgIGlmIChkYXRhSXRlbS5oYXNPd25Qcm9wZXJ0eSgicGFpZEFtb3VudCIpKSB7CiAgICAgICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcoZGF0YUl0ZW0ucGFpZEFtb3VudCwgZGF0YUl0ZW0uZGVjaW1hbEZvcm1hdCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgYW1vdW50VG9iZVBhaWQ6IGZ1bmN0aW9uIGFtb3VudFRvYmVQYWlkKGRhdGFJdGVtKSB7CiAgICAgIGlmIChkYXRhSXRlbSkgewogICAgICAgIGlmIChkYXRhSXRlbS5oYXNPd25Qcm9wZXJ0eSgiYW1vdW50VG9iZVBhaWQiKSkgewogICAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKGRhdGFJdGVtLmFtb3VudFRvYmVQYWlkLCBkYXRhSXRlbS5kZWNpbWFsRm9ybWF0KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBkaXNjb3VudDogZnVuY3Rpb24gZGlzY291bnQoZGF0YUl0ZW0pIHsKICAgICAgaWYgKGRhdGFJdGVtKSB7CiAgICAgICAgaWYgKGRhdGFJdGVtLmhhc093blByb3BlcnR5KCJkaXNjb3VudCIpKSB7CiAgICAgICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcoZGF0YUl0ZW0uZGlzY291bnQsIGRhdGFJdGVtLmRlY2ltYWxGb3JtYXQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIGFtb3VudDogZnVuY3Rpb24gYW1vdW50KGRhdGFJdGVtKSB7CiAgICAgIGlmIChkYXRhSXRlbSkgewogICAgICAgIGlmIChkYXRhSXRlbS5oYXNPd25Qcm9wZXJ0eSgiYW1vdW50IikpIHsKICAgICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhkYXRhSXRlbS5hbW91bnQsIGRhdGFJdGVtLmRlY2ltYWxGb3JtYXQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIGJhbmtSZWZlcmVuY2VObzogZnVuY3Rpb24gYmFua1JlZmVyZW5jZU5vKGRhdGFJdGVtKSB7CiAgICAgIGlmIChkYXRhSXRlbSkgewogICAgICAgIGlmIChkYXRhSXRlbS5oYXNPd25Qcm9wZXJ0eSgib3ZlckR1ZSIpKSB7CiAgICAgICAgICByZXR1cm4gZGF0YUl0ZW0uYmFua1JlZmVyZW5jZU5vOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIG92ZXJEdWU6IGZ1bmN0aW9uIG92ZXJEdWUoZGF0YUl0ZW0pIHsKICAgICAgaWYgKGRhdGFJdGVtKSB7CiAgICAgICAgaWYgKGRhdGFJdGVtLmhhc093blByb3BlcnR5KCJvdmVyRHVlIikpIHsKICAgICAgICAgIHJldHVybiBkYXRhSXRlbS5vdmVyRHVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIDA7CiAgICB9LAogICAgLy8gYXN5bmMgbG9hZFRyYW5zYWN0aW9uUmF0ZShjb2RlKSB7CiAgICAvLyAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAvLyAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgLy8gICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKQogICAgLy8gICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRoaXMudHJhbnNhY3Rpb25EYXRlKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCkKICAgIC8vICAgICAgICAgICAgIC8vIGNvbnN0IHByaWNlTGV2ZWwgPSB0aGlzLmludm9pY2UucHJpY2VMZXZlbAogICAgLy8gICAgICAgICAgICAgaWYgKGNvZGUgIT09IHVuZGVmaW5lZCB8fCBjb2RlICE9PSAnJykgewogICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAvLyAgICAgICAgICAgICAgICAgY3VycmVuY3lIYW5kbGVyLmdldExhc3RFeGNoYW5nZVJhdGVCeURhdGUoZGF0ZSwgY29kZSkudGhlbihyZXMgPT4gewogICAgLy8gICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4Y2hhbmdlUmF0ZSA9IHJlcy5kYXRhLmRhdGEKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVuY3lDb2RlID0gZXhjaGFuZ2VSYXRlLmNvZGUKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25SYXRlID0gZXhjaGFuZ2VSYXRlLnJhdGUKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FzaFJlY2VpcHQudHhuUmF0ZSA9IGV4Y2hhbmdlUmF0ZS5yYXRlCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc2hSZWNlaXB0LmV4Y2hhbmdlUmF0ZSA9IGV4Y2hhbmdlUmF0ZQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAvLyAgICAgICAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgICB9KQogICAgLy8gICAgICAgICAgICAgfQogICAgLy8KICAgIC8vICAgICAgICAgfSwgMTApCiAgICAvLyAgICAgfSkKICAgIC8vIH0sCiAgICBpbml0RGF0YTogZnVuY3Rpb24gaW5pdERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBxdWVyeVN0cmluZywgdHlwZSwgb3B0aW9uOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT09IHVuZGVmaW5lZCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBxdWVyeVN0cmluZyA9IF90aGlzLiRyb3V0ZS5xdWVyeTsKICAgICAgICAgICAgICAgIHR5cGUgPSAiIjsKICAgICAgICAgICAgICAgIG9wdGlvbiA9IDA7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeVN0cmluZy5oYXNPd25Qcm9wZXJ0eSgidHlwZSIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdHlwZSA9IHF1ZXJ5U3RyaW5nLnR5cGU7CiAgICAgICAgICAgICAgICBvcHRpb24gPSBxdWVyeVN0cmluZy5vcHRpb247CgogICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICJwbXQiKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLm1QYXltZW50T3B0aW9uID0gb3B0aW9uOwogICAgICAgICAgICAgICAgICBfdGhpcy5zZWFyY2ggPSBfdGhpcy4kcm91dGUucGFyYW1zLmlkOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuc2VhcmNoUHVyY2hhc2VPcmRlckV4cGVuc2UoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5sb2FkQ2FzaFBheW1lbnRWaWV3KCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF90aGlzLmluaXRSb3coKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBwYWlkQW1vdW50RWRpdG9yOiBmdW5jdGlvbiBwYWlkQW1vdW50RWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBkYXRhLWJpbmQ9InZhbHVlOicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9OdW1lcmljVGV4dEJveCh7CiAgICAgICAgZGVjaW1hbHM6IDMwLAogICAgICAgIGZvcm1hdDogIm4iLmNvbmNhdCh0aGlzLnB1cmNoYXNlRm9ybUNvbnRlbnQuZGVjaW1hbCksCiAgICAgICAgbWluOiAwCiAgICAgIH0pOwogICAgfSwKICAgIGRpc2NvdW50RWRpdG9yOiBmdW5jdGlvbiBkaXNjb3VudEVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgZGF0YS1iaW5kPSJ2YWx1ZTonICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvTnVtZXJpY1RleHRCb3goewogICAgICAgIGRlY2ltYWxzOiAzMCwKICAgICAgICBmb3JtYXQ6ICJuIi5jb25jYXQodGhpcy5wdXJjaGFzZUZvcm1Db250ZW50LmRlY2ltYWwpLAogICAgICAgIG1pbjogMAogICAgICB9KTsKICAgIH0sCiAgICBvblRyYW5zYWN0aW9uRGF0ZUNoYW5nZWQ6IGZ1bmN0aW9uIG9uVHJhbnNhY3Rpb25EYXRlQ2hhbmdlZCgpIHsKICAgICAgaWYgKHRoaXMuY2FzaFBheW1lbnQuc3VwcGxpZXIpIHsKICAgICAgICB2YXIgc3VwcGxpZXIgPSB0aGlzLmNhc2hQYXltZW50LnN1cHBsaWVyIHx8IHt9OwogICAgICAgIHZhciBzdXBJZCA9IHN1cHBsaWVyLmlkIHx8ICIiOwoKICAgICAgICBpZiAoc3VwSWQpIHsKICAgICAgICAgIHRoaXMuZ2VuZXJhdGVOdW1iZXIoKTsKICAgICAgICAgIHRoaXMuc2VhcmNoUHVyY2hhc2VPcmRlckV4cGVuc2UoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBnZW5lcmF0ZU51bWJlcjogZnVuY3Rpb24gZ2VuZXJhdGVOdW1iZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgIHZhciB0cmFuRGF0ZSA9IG5ldyBEYXRlKHRoaXMudHJhbnNhY3Rpb25EYXRlKTsKICAgICAgICB2YXIgdHJhbkRhdGVSZWNlaXB0ID0gbmV3IERhdGUodGhpcy5jYXNoUGF5bWVudC50cmFuc2FjdGlvbkRhdGUpOwogICAgICAgIHZhciB0cmFuRGF0ZU0gPSB0cmFuRGF0ZS5nZXRGdWxsWWVhcigpICsgdHJhbkRhdGUuZ2V0TW9udGgoKTsKICAgICAgICB2YXIgdHJhbkRhdGVSZWNlaXB0TSA9IHRyYW5EYXRlUmVjZWlwdC5nZXRGdWxsWWVhcigpICsgdHJhbkRhdGVSZWNlaXB0LmdldE1vbnRoKCk7CgogICAgICAgIGlmICh0cmFuRGF0ZU0gPT09IHRyYW5EYXRlUmVjZWlwdE0pIHsKICAgICAgICAgIHRoaXMuY2FzaFBheW1lbnQucmVmZXJlbmNlTm8gPSB0aGlzLnJlZmVyZW5jZU5vOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQoKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCd0aGlzLmNhc2hQYXltZW50LnRyYW5zYWN0aW9uVHlwZScsIHRoaXMuY2FzaFBheW1lbnQudHJhbnNhY3Rpb25UeXBlKTsKCiAgICAgIGlmICh0aGlzLmNhc2hQYXltZW50LnRyYW5zYWN0aW9uRGF0ZSAhPT0gIiIgJiYgdGhpcy50cmFuc2FjdGlvblR5cGVzLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIGFiYnI6IHRoaXMuY2FzaFBheW1lbnQudHJhbnNhY3Rpb25UeXBlLmFiYnIsCiAgICAgICAgICBzdHJ1Y3R1cmU6IHRoaXMuY2FzaFBheW1lbnQudHJhbnNhY3Rpb25UeXBlLnN0cnVjdHVyZSwKICAgICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogdGhpcy5jYXNoUGF5bWVudC50cmFuc2FjdGlvbkRhdGUsCiAgICAgICAgICBzZXF1Y2VuY2luZzogdGhpcy5jYXNoUGF5bWVudC50cmFuc2FjdGlvblR5cGUuc2VxdWNlbmNpbmcsCiAgICAgICAgICBwcmVmaXhTZXBhcmF0b3I6IHRoaXMuY2FzaFBheW1lbnQudHJhbnNhY3Rpb25UeXBlLnByZWZpeFNlcGFyYXRvciB8fCAnJywKICAgICAgICAgIG51bWJlclNlcGFyYXRvcjogdGhpcy5jYXNoUGF5bWVudC50cmFuc2FjdGlvblR5cGUubnVtYmVyU2VwYXJhdG9yIHx8ICcnLAogICAgICAgICAgZm9ybWF0OiB0aGlzLmNhc2hQYXltZW50LnRyYW5zYWN0aW9uVHlwZS5mb3JtYXQgfHwgNSwKICAgICAgICAgIHR5cGU6IFRSQU5TQUNUSU9OX1RZUEUsCiAgICAgICAgICBlbnRpdHk6IDEKICAgICAgICB9OwogICAgICAgIGJpbGxpbmdIYW5kbGVyLmxhc3ROdW1iZXIoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKICAgICAgICAgICAgdmFyIGxhc3ROdW1iZXIgPSBfdGhpczIuemVyb1BhZChwYXJzZUludChyZXMubGFzdE51bWJlciksIF90aGlzMi5jYXNoUGF5bWVudC50cmFuc2FjdGlvblR5cGUuZm9ybWF0KTsKCiAgICAgICAgICAgIHZhciBudW1iZXIgPSByZXMuc3VmZml4ICsgX3RoaXMyLmNhc2hQYXltZW50LnRyYW5zYWN0aW9uVHlwZS5udW1iZXJTZXBhcmF0b3IgKyBsYXN0TnVtYmVyOwogICAgICAgICAgICBfdGhpczIuY2FzaFBheW1lbnQubnVtYmVyID0gbnVtYmVyOwoKICAgICAgICAgICAgaWYgKF90aGlzMi5jYXNoUGF5bWVudC50cmFuc2FjdGlvblR5cGUuaGFzT3duUHJvcGVydHkoInByZWZpeFNlcGFyYXRvciIpKSB7CiAgICAgICAgICAgICAgdmFyIHByZWZpeFNlcCA9IF90aGlzMi5jYXNoUGF5bWVudC50cmFuc2FjdGlvblR5cGUucHJlZml4U2VwYXJhdG9yOwogICAgICAgICAgICAgIF90aGlzMi5jYXNoUGF5bWVudC5yZWZlcmVuY2VObyA9IF90aGlzMi5jYXNoUGF5bWVudC50cmFuc2FjdGlvblR5cGUuYWJiciArIHByZWZpeFNlcCArIG51bWJlcjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goZSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB6ZXJvUGFkOiBmdW5jdGlvbiB6ZXJvUGFkKG51bSwgcGxhY2VzKSB7CiAgICAgIHJldHVybiBTdHJpbmcobnVtKS5wYWRTdGFydChwbGFjZXMsICIwIik7CiAgICB9LAogICAgYXV0b0NhbGN1bGF0ZTogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHJlY2VpcHRBbW91bnQgPSAwLAogICAgICAgICAgZGlzY291bnQgPSAwLAogICAgICAgICAgY29udmVydGVkQW1vdW50ID0gMCwKICAgICAgICAgIGV4Y2hhbmdlRGlzY291bnQgPSAwLAogICAgICAgICAgZXhjaGFuZ2VEaXNjb3VudFR4biA9IDAsCiAgICAgICAgICBwYWlkQW1vdW50VHhuID0gMDsKICAgICAgdGhpcy5qUmF3ID0gW107CiAgICAgIHZhciByb3dzID0gZHMuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgIHJldHVybiBtLnBhaWRBbW91bnQgPiAwIHx8IG0uZGlzY291bnQgPiAwOwogICAgICB9KTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdjYXNoUGF5bWVudCcsIGRzLmRhdGEoKSk7CiAgICAgIHJvd3MuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICBpZiAofl90aGlzMy5zZWxlY3RlZEV4cGVuc2VJZHMuaW5kZXhPZih2YWx1ZS5saW5lSWQpKSB7CiAgICAgICAgICB2YXIgbmF0dXJlID0gIiIsCiAgICAgICAgICAgICAgcHVyY2hhc2VSYXRlID0gMCwKICAgICAgICAgICAgICBwYXltZW50UmF0ZSA9IDAsCiAgICAgICAgICAgICAgcmF3UGFpZEFtb3VudCA9IDAsCiAgICAgICAgICAgICAgcmF3RGlzY291bnRBbW91bnQgPSAwLAogICAgICAgICAgICAgIGN1cnJlbmN5Q29kZSA9ICIiOwogICAgICAgICAgdmFyIGRpc2NvdW50QW1vdW50ID0gMCwKICAgICAgICAgICAgICBhcEFtb3VudCA9IDAsCiAgICAgICAgICAgICAgcmVmTm8gPSAiIiwKICAgICAgICAgICAgICBwYXlPcHRpb24gPSB7fSwKICAgICAgICAgICAgICBjdXJyZW5jeSA9IHt9LAogICAgICAgICAgICAgIGdhaW5Mb3NzID0gMCwKICAgICAgICAgICAgICBsYXN0WFJhdGUgPSB7fSwKICAgICAgICAgICAgICBsb2NhdGlvbiA9IHt9LAogICAgICAgICAgICAgIHNlZ21lbnQgPSB7fSwKICAgICAgICAgICAgICBwcm9qZWN0ID0ge30sCiAgICAgICAgICAgICAgbG9jYXRpb25JZCA9ICIiLAogICAgICAgICAgICAgIHNlZ21lbnRJZCA9ICIiLAogICAgICAgICAgICAgIHByb2plY3RJZCA9ICIiLAogICAgICAgICAgICAgIHR4bklkID0gIiIsCiAgICAgICAgICAgICAgaW52UmF0ZSA9IDE7CgogICAgICAgICAgaWYgKHZhbHVlLnJlZmVyZW5jZU5vKSB7CiAgICAgICAgICAgIHJlZk5vID0gdmFsdWUucmVmZXJlbmNlTm87CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHZhbHVlLmlkKSB7CiAgICAgICAgICAgIHR4bklkID0gdmFsdWUuaWQgfHwgIiI7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHZhbHVlLnR4blJhdGUpIHsKICAgICAgICAgICAgcHVyY2hhc2VSYXRlID0gcGFyc2VGbG9hdCh2YWx1ZS50eG5SYXRlKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUuY3VycmVuY3lDb2RlKSB7CiAgICAgICAgICAgIGN1cnJlbmN5Q29kZSA9IHZhbHVlLmN1cnJlbmN5Q29kZSB8fCAiIjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUuY3VycmVuY3kpIHsKICAgICAgICAgICAgY3VycmVuY3kgPSB2YWx1ZS5jdXJyZW5jeSB8fCB7fTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUubG9jYXRpb24pIHsKICAgICAgICAgICAgbG9jYXRpb24gPSB2YWx1ZS5sb2NhdGlvbiB8fCB7fTsKCiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgIGxvY2F0aW9uSWQgPSBsb2NhdGlvbi5pZDsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmICh2YWx1ZS5zZWdtZW50KSB7CiAgICAgICAgICAgIHNlZ21lbnQgPSB2YWx1ZS5zZWdtZW50IHx8IHt9OwoKICAgICAgICAgICAgaWYgKHNlZ21lbnQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICBzZWdtZW50SWQgPSBzZWdtZW50LmlkOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHZhbHVlLnByb2plY3QpIHsKICAgICAgICAgICAgcHJvamVjdCA9IHZhbHVlLnByb2plY3QgfHwge307CgogICAgICAgICAgICBpZiAocHJvamVjdC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgIHByb2plY3RJZCA9IHByb2plY3QuaWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUuZXhjaGFuZ2VSYXRlKSB7CiAgICAgICAgICAgIGxhc3RYUmF0ZSA9IHZhbHVlLmV4Y2hhbmdlUmF0ZSB8fCB7fTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUudHhuUmF0ZSkgewogICAgICAgICAgICBpbnZSYXRlID0gcGFyc2VGbG9hdCh2YWx1ZS50eG5SYXRlKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUucmF0ZVRvYmFzZSkgewogICAgICAgICAgICBwYXltZW50UmF0ZSA9IHBhcnNlRmxvYXQodmFsdWUucmF0ZVRvYmFzZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHZhbHVlLnBhaWRBbW91bnQpIHsKICAgICAgICAgICAgcmVjZWlwdEFtb3VudCArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnBhaWRBbW91bnQpOwogICAgICAgICAgICBjb252ZXJ0ZWRBbW91bnQgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5wYWlkQW1vdW50KSAqIHZhbHVlLnJhdGVUb2Jhc2U7CiAgICAgICAgICAgIHBhaWRBbW91bnRUeG4gKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5wYWlkQW1vdW50KSAqIGludlJhdGU7IC8vIHBhaWRBbXQgPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnBhaWRBbW91bnQpICogcHVyY2hhc2VSYXRlCgogICAgICAgICAgICByYXdQYWlkQW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5wYWlkQW1vdW50KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUuZGlzY291bnQpIHsKICAgICAgICAgICAgLy8gZGlzY291bnQgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5kaXNjb3VudCkKICAgICAgICAgICAgZGlzY291bnQgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5kaXNjb3VudCkgKiB2YWx1ZS5yYXRlVG9iYXNlOwogICAgICAgICAgICBleGNoYW5nZURpc2NvdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuZXhjaGFuZ2VEaXNjb3VudCkgKiB2YWx1ZS5yYXRlVG9iYXNlOwogICAgICAgICAgICBleGNoYW5nZURpc2NvdW50VHhuICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuZGlzY291bnQpICogaW52UmF0ZTsKICAgICAgICAgICAgZGlzY291bnRBbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmRpc2NvdW50KSAqIHBheW1lbnRSYXRlOwogICAgICAgICAgICByYXdEaXNjb3VudEFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuZGlzY291bnQpOwogICAgICAgICAgfSAvLyB0b2RvOiBnYWluIG9yIGxvc3MgZXhjaGFuZ2UgcmF0ZQoKCiAgICAgICAgICBnYWluTG9zcyA9IHBhcnNlRmxvYXQoKHB1cmNoYXNlUmF0ZSAtIHBheW1lbnRSYXRlKSAqIChyYXdQYWlkQW1vdW50ICsgcmF3RGlzY291bnRBbW91bnQpKSAqIC0xOwoKICAgICAgICAgIGlmIChnYWluTG9zcyAhPT0gMCkgewogICAgICAgICAgICBpZiAoZ2Fpbkxvc3MgPiAwKSB7CiAgICAgICAgICAgICAgbmF0dXJlID0gImRyIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgICB9CgogICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coImdhaW5Mb3NzIiwgZ2Fpbkxvc3MpOwoKICAgICAgICAgICAgaWYgKGdhaW5Mb3NzKSB7CiAgICAgICAgICAgICAgaWYgKF90aGlzMy5nYWluTG9zc0FjYy5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgX3RoaXMzLmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBfdGhpczMuZ2Fpbkxvc3NBY2MuaWQgKyAiLSIgKyBuYXR1cmUgKyAiLSIgKyBjdXJyZW5jeUNvZGUgKyAiLSIgKyBwdXJjaGFzZVJhdGUgKyAiLSIgKyBsb2NhdGlvbklkICsgIi0iICsgcHJvamVjdElkICsgIi0iICsgc2VnbWVudElkICsgIi0iICsgdHhuSWQsCiAgICAgICAgICAgICAgICAgIHR4bklkOiB0eG5JZCwKICAgICAgICAgICAgICAgICAgcHJvamVjdDogcHJvamVjdCwKICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLAogICAgICAgICAgICAgICAgICBzZWdtZW50OiBzZWdtZW50LAogICAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZCwKICAgICAgICAgICAgICAgICAgbG9jYXRpb25JZDogbG9jYXRpb25JZCwKICAgICAgICAgICAgICAgICAgc2VnbWVudElkOiBzZWdtZW50SWQsCiAgICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgICAgICBjdXJyZW5jeTogY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgIGxhc3RYUmF0ZTogbGFzdFhSYXRlLAogICAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgIHJlY2VpcHRSYXRlOiBnYWluTG9zcyA+IDAgPyBwYXltZW50UmF0ZSA6IHB1cmNoYXNlUmF0ZSwKICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzMy5nYWluT3JMb3NzRGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgIGFjY291bnQ6IF90aGlzMy5nYWluTG9zc0FjYywKICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBfdGhpczMuZ2Fpbkxvc3NBY2MuaWQsCiAgICAgICAgICAgICAgICAgIGFtb3VudDogMCwKICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGdhaW5Mb3NzLAogICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgIHR5cGVBczogIkdhaW5Pckxvc3MiCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy9Ub2RvOiBBUCAgRHIKCgogICAgICAgICAgYXBBbW91bnQgPSByYXdQYWlkQW1vdW50ICsgcmF3RGlzY291bnRBbW91bnQ7CgogICAgICAgICAgaWYgKGFwQW1vdW50ID4gMCkgewogICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoImFwQWNjIikpIHsKICAgICAgICAgICAgdmFyIGFwQWNjID0gdmFsdWUuYXBBY2M7CgogICAgICAgICAgICBpZiAoYXBBY2MpIHsKICAgICAgICAgICAgICBpZiAoYXBBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgIF90aGlzMy5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgICBpZDogYXBBY2MuaWQgKyAiLSIgKyBuYXR1cmUgKyAiLSIgKyBjdXJyZW5jeUNvZGUgKyAiLSIgKyBwdXJjaGFzZVJhdGUgKyAiLSIgKyBsb2NhdGlvbklkICsgIi0iICsgcHJvamVjdElkICsgIi0iICsgc2VnbWVudElkICsgIi0iICsgdHhuSWQsCiAgICAgICAgICAgICAgICAgIHR4bklkOiB0eG5JZCwKICAgICAgICAgICAgICAgICAgcHJvamVjdDogcHJvamVjdCwKICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLAogICAgICAgICAgICAgICAgICBzZWdtZW50OiBzZWdtZW50LAogICAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZCwKICAgICAgICAgICAgICAgICAgbG9jYXRpb25JZDogbG9jYXRpb25JZCwKICAgICAgICAgICAgICAgICAgc2VnbWVudElkOiBzZWdtZW50SWQsCiAgICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgICAgICBjdXJyZW5jeTogY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgIGxhc3RYUmF0ZTogbGFzdFhSYXRlLAogICAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgIHJlY2VpcHRSYXRlOiBwdXJjaGFzZVJhdGUsCiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZWZObywKICAgICAgICAgICAgICAgICAgYWNjb3VudDogYXBBY2MsCiAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogYXBBY2MuaWQsCiAgICAgICAgICAgICAgICAgIGFtb3VudDogYXBBbW91bnQsCiAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBhcEFtb3VudCAqIHB1cmNoYXNlUmF0ZSwKICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICB0eXBlQXM6ICJBUCIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSAvL1RvZG86IENhc2ggQWNjb3VudCAgQ1IKCgogICAgICAgICAgaWYgKHZhbHVlLnBheW1lbnRPcHRpb24pIHsKICAgICAgICAgICAgcGF5T3B0aW9uID0gdmFsdWUucGF5bWVudE9wdGlvbjsKICAgICAgICAgICAgdmFyIGNhc2hBbW91bnQgPSByYXdQYWlkQW1vdW50ICogLTE7IC8vKyAoKHB1cmNoYXNlUmF0ZSAtIHBheW1lbnRSYXRlKSAqIChyYXdQYWlkQW1vdW50ICsgcmF3RGlzY291bnRBbW91bnQpKQogICAgICAgICAgICAvLyBjb25zdCBjYXNoQW1vdW50ID0gcmF3UGFpZEFtb3VudCArIChnYWluTG9zcyApICsgcmF3UGFpZEFtb3VudAoKICAgICAgICAgICAgaWYgKGNhc2hBbW91bnQgPiAwKSB7CiAgICAgICAgICAgICAgbmF0dXJlID0gImRyIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAocGF5T3B0aW9uLmhhc093blByb3BlcnR5KCJhY2NvdW50IikpIHsKICAgICAgICAgICAgICB2YXIgcGF5T3B0aW9uQWNjID0gcGF5T3B0aW9uLmFjY291bnQ7CgogICAgICAgICAgICAgIGlmIChwYXlPcHRpb25BY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgIF90aGlzMy5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgICBpZDogcGF5T3B0aW9uQWNjLmlkICsgIi0iICsgbmF0dXJlICsgIi0iICsgY3VycmVuY3lDb2RlICsgIi0iICsgcHVyY2hhc2VSYXRlICsgIi0iICsgbG9jYXRpb25JZCArICItIiArIHByb2plY3RJZCArICItIiArIHNlZ21lbnRJZCArICItIiArIHR4bklkLAogICAgICAgICAgICAgICAgICB0eG5JZDogdHhuSWQsCiAgICAgICAgICAgICAgICAgIHByb2plY3Q6IHByb2plY3QsCiAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbiwKICAgICAgICAgICAgICAgICAgc2VnbWVudDogc2VnbWVudCwKICAgICAgICAgICAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0SWQsCiAgICAgICAgICAgICAgICAgIGxvY2F0aW9uSWQ6IGxvY2F0aW9uSWQsCiAgICAgICAgICAgICAgICAgIHNlZ21lbnRJZDogc2VnbWVudElkLAogICAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGN1cnJlbmN5Q29kZSwKICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgICAgICBsYXN0WFJhdGU6IGxhc3RYUmF0ZSwKICAgICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwodmFsdWUpLAogICAgICAgICAgICAgICAgICByZWNlaXB0UmF0ZTogcHVyY2hhc2VSYXRlLAogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVmTm8sCiAgICAgICAgICAgICAgICAgIGFjY291bnQ6IHBheU9wdGlvbkFjYywKICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBwYXlPcHRpb25BY2MuaWQsCiAgICAgICAgICAgICAgICAgIGFtb3VudDogY2FzaEFtb3VudCwKICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGNhc2hBbW91bnQgKiBwYXltZW50UmF0ZSwKICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICB0eXBlQXM6ICJDYXNoQWNjb3VudCIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSAvL1RvZG86IFNldHRsZW1lbnQgRGlzY291bnQgIENyCgoKICAgICAgICAgIGlmICh2YWx1ZS5wYXltZW50VGVybSkgewogICAgICAgICAgICB2YXIgc2V0dGxlbWVudERpc2MgPSB2YWx1ZS5wYXltZW50VGVybTsKCiAgICAgICAgICAgIGlmIChkaXNjb3VudEFtb3VudCA+IDApIHsKICAgICAgICAgICAgICBpZiAoZGlzY291bnRBbW91bnQgKiAtMSA+IDApIHsKICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coc2V0dGxlbWVudERpc2MsICJzZXR0bGVtZW50RGlzYyIpOwoKICAgICAgICAgICAgICBpZiAoc2V0dGxlbWVudERpc2MuaGFzT3duUHJvcGVydHkoImFjY291bnQiKSkgewogICAgICAgICAgICAgICAgdmFyIHNldHRsZW1lbnREaXNjQWNjID0gc2V0dGxlbWVudERpc2MuYWNjb3VudDsKCiAgICAgICAgICAgICAgICBpZiAoc2V0dGxlbWVudERpc2NBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgaWQ6IHNldHRsZW1lbnREaXNjQWNjLmlkICsgIi0iICsgbmF0dXJlICsgIi0iICsgY3VycmVuY3lDb2RlICsgIi0iICsgcHVyY2hhc2VSYXRlICsgIi0iICsgbG9jYXRpb25JZCArICItIiArIHByb2plY3RJZCArICItIiArIHNlZ21lbnRJZCArICItIiArIHR4bklkLAogICAgICAgICAgICAgICAgICAgIHR4bklkOiB0eG5JZCwKICAgICAgICAgICAgICAgICAgICBwcm9qZWN0OiBwcm9qZWN0LAogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbiwKICAgICAgICAgICAgICAgICAgICBzZWdtZW50OiBzZWdtZW50LAogICAgICAgICAgICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdElkLAogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uSWQ6IGxvY2F0aW9uSWQsCiAgICAgICAgICAgICAgICAgICAgc2VnbWVudElkOiBzZWdtZW50SWQsCiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjdXJyZW5jeUNvZGUsCiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgICAgICAgIGxhc3RYUmF0ZTogbGFzdFhSYXRlLAogICAgICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgICAgICByZWNlaXB0UmF0ZTogcGF5bWVudFJhdGUsCiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICJQdXJjaGFzZSBQYXltZW50IERpc2NvdW50IiwKICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiBzZXR0bGVtZW50RGlzY0FjYywKICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IHNldHRsZW1lbnREaXNjQWNjLmlkLAogICAgICAgICAgICAgICAgICAgIGFtb3VudDogcmF3RGlzY291bnRBbW91bnQgKiAtMSwKICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogZGlzY291bnRBbW91bnQgKiAtMSwKICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgdHlwZUFzOiAiU2V0dGxlbWVudCBEaXNjb3VudCIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsgLy8gdGhpcy5pbnZvaWNlVHhuKHR4bklkcykKCiAgICAgIHRoaXMuY2FzaFBheW1lbnQudG90YWwgPSByZWNlaXB0QW1vdW50OwogICAgICB0aGlzLmNhc2hQYXltZW50LmV4Y2hhbmdlQW1vdW50ID0gY29udmVydGVkQW1vdW50OwogICAgICB0aGlzLmNhc2hQYXltZW50LmRpc2NvdW50ID0gZGlzY291bnQ7CiAgICAgIHRoaXMuY2FzaFBheW1lbnQuZXhjaGFuZ2VEaXNjb3VudCA9IGV4Y2hhbmdlRGlzY291bnQ7CiAgICAgIHRoaXMuY2FzaFBheW1lbnQucGFpZEFtb3VudFR4biA9IHBhaWRBbW91bnRUeG47CiAgICAgIHRoaXMuY2FzaFBheW1lbnQuZXhjaGFuZ2VEaXNjb3VudFR4biA9IGV4Y2hhbmdlRGlzY291bnRUeG47CiAgICAgIHRoaXMuc2hyaW5rRGF0YSh0aGlzLmpSYXcpOwogICAgfSwKICAgIHJlbW92ZUR1cGxpY2F0ZTogZnVuY3Rpb24gcmVtb3ZlRHVwbGljYXRlKGFycmF5KSB7CiAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgdmFyIG1hcCA9IG5ldyBNYXAoKTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhcnJheSksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgaWYgKCFtYXAuaGFzKGl0ZW0uaWQpKSB7CiAgICAgICAgICAgIG1hcC5zZXQoaXRlbS5pZCwgdHJ1ZSk7IC8vIHNldCBhbnkgdmFsdWUgdG8gTWFwCgogICAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBzaHJpbmtEYXRhOiBmdW5jdGlvbiBzaHJpbmtEYXRhKG9iaikgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciB1bmlxdWVzID0gdGhpcy5yZW1vdmVEdXBsaWNhdGUob2JqKTsKICAgICAgdW5pcXVlcy5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgdmFyIGZvdW5kID0gb2JqLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgcmV0dXJuIG0uaWQgPT09IG4uaWQ7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGFtb3VudCA9IDAsCiAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50ID0gMDsKICAgICAgICBmb3VuZC5mb3JFYWNoKGZ1bmN0aW9uICh6KSB7CiAgICAgICAgICBhbW91bnQgKz0gcGFyc2VGbG9hdCh6LmFtb3VudCB8fCAwKTsKICAgICAgICAgIGV4Y2hhbmdlQW1vdW50ICs9IHBhcnNlRmxvYXQoei5leGNoYW5nZUFtb3VudCB8fCAwKTsKICAgICAgICB9KTsKICAgICAgICBuLmV4Y2hhbmdlQW1vdW50ID0gcGFyc2VGbG9hdChleGNoYW5nZUFtb3VudCk7IC8vdGhpcy5udW1iZXJGb3JtYXQoYW1vdW50KQoKICAgICAgICBuLmFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50KTsgLy9wYXJzZUZsb2F0KHBhcnNlRmxvYXQoYW1vdW50IC8gcGFyc2VGbG9hdChuLnJlY2VpcHRSYXRlKSkpIC8vdGhpcy5udW1iZXJGb3JtYXQoYW1vdW50ICogcGFyc2VGbG9hdCh0aGlzLmludm9pY2UudHhuUmF0ZSkpIC8vLnRvRml4ZWQodGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbCkKICAgICAgfSk7CiAgICAgIHRoaXMualJhdyA9IHVuaXF1ZXM7CiAgICAgIHZhciBkciA9IDAsCiAgICAgICAgICBjciA9IDA7CiAgICAgIHRoaXMualJhdy5mb3JFYWNoKGZ1bmN0aW9uIChqKSB7CiAgICAgICAgc3dpdGNoIChqLnR5cGUpIHsKICAgICAgICAgIGNhc2UgImNyIjoKICAgICAgICAgICAgY3IgKz0gcGFyc2VGbG9hdChqLmV4Y2hhbmdlQW1vdW50KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAiZHIiOgogICAgICAgICAgICBkciArPSBwYXJzZUZsb2F0KGouZXhjaGFuZ2VBbW91bnQpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0pOyAvLyB3aW5kb3cuY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkodGhpcy5qUmF3KSwgJ3VuaXF1ZXMnKQoKICAgICAgdmFyIHR4bklkID0gdGhpcy5qUmF3Lm1hcChmdW5jdGlvbiAobykgewogICAgICAgIHJldHVybiBvLnR4bklkOwogICAgICB9KTsKICAgICAgdmFyIHVTZXQgPSBuZXcgU2V0KHR4bklkKTsKCiAgICAgIHZhciB1bmlxdWVTZXQgPSBfdG9Db25zdW1hYmxlQXJyYXkodVNldCk7CgogICAgICB2YXIgalJhd3MgPSBbXTsgLy8gd2luZG93LmNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHVuaXF1ZVNldCksICd1bmlxdWVzJykKCiAgICAgIHVuaXF1ZVNldC5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgdmFyIGZvdW5kID0gX3RoaXM0LmpSYXcuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICByZXR1cm4gbS50eG5JZCA9PT0gbjsKICAgICAgICB9KTsKCiAgICAgICAgdmFyIGxpbmUgPSBmb3VuZFswXS5saW5lOwogICAgICAgIHZhciByZWZObyA9IGxpbmUucmVmZXJlbmNlTm87CiAgICAgICAgalJhd3MucHVzaCh7CiAgICAgICAgICBpZDogbiwKICAgICAgICAgIGN1cnJlbmN5Q29kZTogZm91bmRbMF0uY3VycmVuY3lDb2RlLAogICAgICAgICAgcHJvamVjdElkOiBmb3VuZFswXS5wcm9qZWN0SWQsCiAgICAgICAgICBzZWdtZW50SWQ6IGZvdW5kWzBdLnNlZ21lbnRJZCwKICAgICAgICAgIGxvY2F0aW9uSWQ6IGZvdW5kWzBdLmxvY2F0aW9uSWQsCiAgICAgICAgICByZWZlcmVuY2VObzogcmVmTm8gfHwgIiIsCiAgICAgICAgICBlbnRyaWVzOiBmb3VuZAogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhpcy5qUmF3ID0galJhd3M7CiAgICAgIHRoaXMuZHIgPSBkcjsKICAgICAgdGhpcy5jciA9IGNyOwogICAgICB3aW5kb3cuY29uc29sZS5sb2coImRyPSIsIGRyLCAiY3I9IiwgY3IsICJkcitjciA9ICIsIGRyICsgY3IpOwogICAgICB3aW5kb3cuY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoalJhd3MpLCAidW5pcXVlcyIpOwogICAgfSwKICAgIHB1cmNoYXNlVHhuOiBmdW5jdGlvbiBwdXJjaGFzZVR4bigpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgdHhuSWRzID0gW10sCiAgICAgICAgICBpZHMgPSBbXTsKICAgICAgdGhpcy5pdGVtTGluZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICBpZiAodmFsdWUuaWQpIHsKICAgICAgICAgIHR4bklkcy5wdXNoKHsKICAgICAgICAgICAgaWQ6IHZhbHVlLmlkLAogICAgICAgICAgICBzdGF0dXM6IDEKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGlkcyA9IE9iamVjdC52YWx1ZXModHhuSWRzLnJlZHVjZShmdW5jdGlvbiAociwgbykgewogICAgICAgIHJldHVybiByW28uaWRdID0gbywgcjsKICAgICAgfSwge30pKTsKICAgICAgaWRzLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICB2YXIgbGluZXMgPSBfdGhpczUuaXRlbUxpbmVzLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgcmV0dXJuIG4uaWQgPT09IG0uaWQ7CiAgICAgICAgfSk7CgogICAgICAgIHZhciBwYWlkQW10ID0gMDsKICAgICAgICB2YXIgYW1vdW50VG9iZVBhaWQgPSAwOwogICAgICAgIGxpbmVzLmZvckVhY2goZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIGlmICh4LnBhaWRBbW91bnQpIHsKICAgICAgICAgICAgcGFpZEFtdCArPSB4LnBhaWRBbW91bnQ7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHguYW1vdW50VG9iZVBhaWQpIHsKICAgICAgICAgICAgYW1vdW50VG9iZVBhaWQgKz0geC5hbW91bnRUb2JlUGFpZDsKICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgdmFyIHBBbXQgPSBfdGhpczUubnVtYmVyRm9ybWF0KHBhaWRBbXQpOwoKICAgICAgICB2YXIgYW10VG9iZVBhaWQgPSBfdGhpczUubnVtYmVyRm9ybWF0KGFtb3VudFRvYmVQYWlkKTsKCiAgICAgICAgaWYgKHBBbXQgPT09IGFtdFRvYmVQYWlkKSB7CiAgICAgICAgICBtWyJzdGF0dXMiXSA9IDM7IC8vUGFpZAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBtWyJzdGF0dXMiXSA9IDI7IC8vIFBhcnRpYWxseSBQYWlkCiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy50eG5MaXN0ID0gaWRzOwogICAgfSwKICAgIGluaXRSb3c6IGZ1bmN0aW9uIGluaXRSb3coKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwogICAgICBkcy5pbnNlcnQoW3RoaXMuaXRlbUxpbmVdKTsKICAgIH0sCiAgICBpbml0R3JpZDogZnVuY3Rpb24gaW5pdEdyaWQodGhhdCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgZ3JpZCwgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRDYXNoUGF5bWVudCIpLmRhdGEoImtlbmRvR3JpZCIpOwogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICAkKCIjaGVhZGVyLWNoYiIpLmNoYW5nZShmdW5jdGlvbiAoZXYpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGVja2VkID0gZXYudGFyZ2V0LmNoZWNrZWQ7CiAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gW107CiAgICAgICAgICAgICAgICAgICAgICBrZW5kby5qUXVlcnkoIi5yb3ctY2hlY2tib3giKS5lYWNoKGZ1bmN0aW9uIChpZHgsIGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISQoaXRlbSkuY2xvc2VzdCgidHIiKS5pcygiLmstc3RhdGUtc2VsZWN0ZWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1Sb3cgPSAkKGl0ZW0pLmNsb3Nlc3QoInRyIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKG1Sb3cpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKGRhdGFJdGVtKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2hlY2tlZENoYW5nZWQoZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOyAvLwogICAgICAgICAgICAgICAgLy8gbGV0IGNoZWNrZWRJZHMgPSB7fQoKICAgICAgICAgICAgICAgIGRhdGEgPSBbXTsgLy8KICAgICAgICAgICAgICAgIC8vIGZ1bmN0aW9uIHNlbGVjdFJvdyh0aGF0KSB7CiAgICAgICAgICAgICAgICAvLyAgICAgbGV0IGNoZWNrZWQgPSB0aGlzLmNoZWNrZWQsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHJvdyA9ICQodGhpcykuY2xvc2VzdCgidHIiKSwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgZ3JpZCA9ICQoJyNpdGVtTGluZScpLmRhdGEoJ2tlbmRvR3JpZCcpLAogICAgICAgICAgICAgICAgLy8gICAgICAgICBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0ocm93KQogICAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICAgIC8vICAgICBjaGVja2VkSWRzW2RhdGFJdGVtLnBheW1lbnRDb2RlXSA9IGNoZWNrZWQ7CiAgICAgICAgICAgICAgICAvLyAgICAgd2luZG93LmNvbnNvbGUubG9nKCdoZXJlJyxkYXRhSXRlbSkKICAgICAgICAgICAgICAgIC8vICAgICBpZiAoY2hlY2tlZCkgewogICAgICAgICAgICAgICAgLy8gICAgICAgICAvLy1zZWxlY3QgdGhlIHJvdwogICAgICAgICAgICAgICAgLy8gICAgICAgICByb3cuYWRkQ2xhc3MoImstc3RhdGUtc2VsZWN0ZWQiKQogICAgICAgICAgICAgICAgLy8gICAgICAgICBkYXRhLnB1c2goZGF0YUl0ZW0pCiAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGF0LmNoZWNrZWRDaGFuZ2VkKGRhdGFJdGVtKQogICAgICAgICAgICAgICAgLy8gICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIC8vLXJlbW92ZSBzZWxlY3Rpb24KICAgICAgICAgICAgICAgIC8vICAgICAgICAgcm93LnJlbW92ZUNsYXNzKCJrLXN0YXRlLXNlbGVjdGVkIikKICAgICAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAvLyBpZiAoZ3JpZCkgewogICAgICAgICAgICAgICAgLy8gICAgIGdyaWQudGFibGUub24oImNsaWNrIiwgIi5yb3ctY2hlY2tib3giLCBzZWxlY3RSb3codGhhdCkpCiAgICAgICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoZWNrZWRDaGFuZ2VkOiBmdW5jdGlvbiBjaGVja2VkQ2hhbmdlZChkYXRhKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgaWYgKHBhcnNlRmxvYXQobS5wYWlkQW1vdW50KSA9PT0gMCkgewogICAgICAgICAgbS5wYWlkQW1vdW50ID0gbS5hbW91bnRUb2JlUGFpZDsKICAgICAgICB9CgogICAgICAgIHZhciBpbmRleCA9IF90aGlzNi5pdGVtTGluZXMuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gbS5wYXltZW50Q29kZSA9PT0gaXRlbS5wYXltZW50Q29kZSAmJiBwYXJzZUZsb2F0KGl0ZW0ucGFpZEFtb3VudCkgPT09IDA7CiAgICAgICAgfSk7CgogICAgICAgIF90aGlzNi5pdGVtTGluZXMuc3BsaWNlKGluZGV4LCAxLCBtKTsKICAgICAgfSk7CiAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgfSwKICAgIGhlYWRlclRlbXBsYXRlOiBmdW5jdGlvbiBoZWFkZXJUZW1wbGF0ZSgpIHsKICAgICAgcmV0dXJuICI8aW5wdXQgdHlwZT0nY2hlY2tib3gnIGlkPSdoZWFkZXItY2hiJyBjbGFzcz0nay1jaGVja2JveCBoZWFkZXItY2hlY2tib3gnPiI7CiAgICB9LAogICAgY2hlY2tUZW1wbGF0ZTogZnVuY3Rpb24gY2hlY2tUZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICByZXR1cm4gIjxpbnB1dCB0eXBlPSdjaGVja2JveCcgIz0gIi5jb25jYXQoZGF0YUl0ZW0uY2hlY2ssICIgPyBcXCdjaGVja2VkPVwiY2hlY2tlZFwiXFwnIDogJycgIyBjbGFzcz0nay1jaGVja2JveCByb3ctY2hlY2tib3gnIC8+Iik7CiAgICB9LAogICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRhSXRlbSkgewogICAgICBpZiAoZGF0YUl0ZW0uaGFzT3duUHJvcGVydHkoImR1ZURhdGUiKSkgewogICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZShkYXRhSXRlbS5kdWVEYXRlKSwgdGhpcy5kYXRlRm9ybWF0KTsKICAgICAgfQoKICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIHNldHRsZW1lbnREaXNjb3VudDogZnVuY3Rpb24gc2V0dGxlbWVudERpc2NvdW50KGRhdGFJdGVtKSB7CiAgICAgIGlmIChkYXRhSXRlbS5oYXNPd25Qcm9wZXJ0eSgicGF5bWVudFRlcm0iKSkgewogICAgICAgIHJldHVybiBkYXRhSXRlbS5wYXltZW50VGVybS5uYW1lOwogICAgICB9CgogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgc3RhdHVzOiBmdW5jdGlvbiBzdGF0dXMoZGF0YUl0ZW0pIHsKICAgICAgaWYgKGRhdGFJdGVtKSB7CiAgICAgICAgaWYgKGRhdGFJdGVtLmhhc093blByb3BlcnR5KCJzdGF0dXMiKSkgewogICAgICAgICAgdmFyIHN0YXR1cyA9IGRhdGFJdGVtLnN0YXR1czsKICAgICAgICAgIHZhciBzdGF0dXNUZXh0ID0gIiI7CgogICAgICAgICAgc3dpdGNoIChzdGF0dXMpIHsKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIHN0YXR1c1RleHQgPSAiT1BFTiI7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICJQYXJ0aWFsbHkgUGFpZCI7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICJWT0lEIjsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBzdGF0dXNUZXh0ID0gIlBBSUQiOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBzdGF0dXNUZXh0OwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIG9uQ3VzdG9tZXJDaGFuZ2VkOiBmdW5jdGlvbiBvbkN1c3RvbWVyQ2hhbmdlZChldmVudCkgewogICAgICB0aGlzLmlzRWRpdCA9IHRydWU7CiAgICAgIHZhciB2YWx1ZSA9IGV2ZW50LnZhbHVlOwoKICAgICAgaWYgKHZhbHVlICYmIHZhbHVlW3RleHRGaWVsZF0gPT09IGVtcHR5SXRlbVt0ZXh0RmllbGRdKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLm1TdXBwbGllciA9IHZhbHVlOwogICAgICB0aGlzLmNhc2hQYXltZW50LnN1cHBsaWVyID0gdmFsdWU7CiAgICAgIHRoaXMubG9hZFJlcXVlc3RQYXltZW50KCk7CiAgICB9LAogICAgb25DdXN0b21lckZpbHRlckNoYW5nZWQ6IGZ1bmN0aW9uIG9uQ3VzdG9tZXJGaWx0ZXJDaGFuZ2VkKGV2ZW50KSB7CiAgICAgIHZhciBmaWx0ZXIgPSBldmVudC5maWx0ZXIudmFsdWU7CiAgICAgIHRoaXMubG9hZERhdGEoMCwgZmlsdGVyLCB0aGlzLnN1cEJhc2VVcmwpOwogICAgICB0aGlzLmZpbHRlciA9IGZpbHRlcjsKICAgIH0sCiAgICBsb2FkRGF0YTogZnVuY3Rpb24gbG9hZERhdGEoc2tpcCwgZmlsdGVyLCBiYXNlVXJsKSB7CiAgICAgIHZhciB1cmwgPSBiYXNlVXJsICsgIj9maWx0ZXI9Ii5jb25jYXQoZmlsdGVyKTsKICAgICAgdGhpcy5yZXF1ZXN0U3RhcnRlZCA9IHRydWU7CiAgICAgIGZldGNoKHVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICB9KS50aGVuKHRoaXMuYWZ0ZXJGZXRjaCk7CiAgICB9LAogICAgYWZ0ZXJGZXRjaDogZnVuY3Rpb24gYWZ0ZXJGZXRjaChqc29uKSB7CiAgICAgIHRoaXMuc3VwcGxpZXJzID0ganNvbi5kYXRhOwogICAgfSwKICAgIG51bWJlckZvcm1hdDogZnVuY3Rpb24gbnVtYmVyRm9ybWF0KHZhbHVlKSB7CiAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyh2YWx1ZSwgIm4iLmNvbmNhdCh0aGlzLnB1cmNoYXNlRm9ybUNvbnRlbnQuZGVjaW1hbCkpOwogICAgfSwKICAgIHJvd051bWJlclRtcGw6IGZ1bmN0aW9uIHJvd051bWJlclRtcGwoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIGRhdGFTb3VyY2VDaGFuZ2VkOiBmdW5jdGlvbiBkYXRhU291cmNlQ2hhbmdlZChlKSB7CiAgICAgIHZhciBhbXRUb2JlUGFpZCA9IDAsCiAgICAgICAgICBhbW91bnQgPSAwLAogICAgICAgICAgZGlzY291bnQgPSAwLAogICAgICAgICAgcGFpZEFtb3VudCA9IDA7CiAgICAgIHZhciBkYXRhUm93ID0gZS5pdGVtc1swXSB8fCB7fTsKCiAgICAgIGlmIChPYmplY3Qua2V5cyhkYXRhUm93KS5sZW5ndGggPiAwKSB7CiAgICAgICAgZGF0YVJvdy5zZXQoJ29wdGlvblR5cGUnLCBPUFRJT05fVFlQRSk7CiAgICAgIH0KCiAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgdmFyIF9kYXRhUm93ID0gZS5pdGVtc1swXTsKCiAgICAgICAgc3dpdGNoIChlLmZpZWxkKSB7CiAgICAgICAgICBjYXNlICJkaXNjb3VudCI6CiAgICAgICAgICAgIGFtb3VudCA9IF9kYXRhUm93LmFtb3VudCB8fCAwOwogICAgICAgICAgICBkaXNjb3VudCA9IF9kYXRhUm93LmRpc2NvdW50IHx8IDA7CgogICAgICAgICAgICBpZiAoZGlzY291bnQgPiBhbW91bnQpIHsKICAgICAgICAgICAgICBfZGF0YVJvdy5zZXQoImRpc2NvdW50IiwgYW1vdW50KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2RhdGFSb3cuc2V0KCJhbW91bnRUb2JlUGFpZCIsIHBhcnNlRmxvYXQoX2RhdGFSb3cuYW1vdW50KSAtIHBhcnNlRmxvYXQoX2RhdGFSb3cuZGlzY291bnQpKTsKCiAgICAgICAgICAgIF9kYXRhUm93LnNldCgiZXhjaGFuZ2VEaXNjb3VudCIsIHBhcnNlRmxvYXQoX2RhdGFSb3cuZGlzY291bnQpICogcGFyc2VGbG9hdChfZGF0YVJvdy5yYXRlVG9iYXNlKSk7CgogICAgICAgICAgICBfZGF0YVJvdy5zZXQoImV4Y2hhbmdlRGlzY291bnRUeG4iLCBwYXJzZUZsb2F0KF9kYXRhUm93LmRpc2NvdW50KSAqIHBhcnNlRmxvYXQoX2RhdGFSb3cudHhuUmF0ZSkpOwoKICAgICAgICAgICAgYW10VG9iZVBhaWQgPSBwYXJzZUZsb2F0KF9kYXRhUm93LmFtb3VudFRvYmVQYWlkIHx8IDApOwogICAgICAgICAgICBwYWlkQW1vdW50ID0gcGFyc2VGbG9hdChfZGF0YVJvdy5wYWlkQW1vdW50IHx8IDApOwoKICAgICAgICAgICAgaWYgKHBhaWRBbW91bnQgPiBhbXRUb2JlUGFpZCkgewogICAgICAgICAgICAgIHBhaWRBbW91bnQgPSBhbXRUb2JlUGFpZDsKCiAgICAgICAgICAgICAgX2RhdGFSb3cuc2V0KCJwYWlkQW1vdW50IiwgcGFyc2VGbG9hdChwYWlkQW1vdW50KSk7CgogICAgICAgICAgICAgIF9kYXRhUm93LnNldCgicGFpZEFtb3VudFRvYmFzZSIsIHBhcnNlRmxvYXQocGFpZEFtb3VudCkgKiBwYXJzZUZsb2F0KF9kYXRhUm93LnJhdGVUb2Jhc2UgfHwgMSkpOwoKICAgICAgICAgICAgICBfZGF0YVJvdy5zZXQoInBhaWRBbW91bnRUeG4iLCBwYWlkQW1vdW50ICogcGFyc2VGbG9hdChfZGF0YVJvdy50eG5SYXRlIHx8IDEpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAicGFpZEFtb3VudCI6CiAgICAgICAgICAgIGFtdFRvYmVQYWlkID0gcGFyc2VGbG9hdChfZGF0YVJvdy5hbW91bnRUb2JlUGFpZCk7CiAgICAgICAgICAgIHBhaWRBbW91bnQgPSBwYXJzZUZsb2F0KF9kYXRhUm93LnBhaWRBbW91bnQpOwoKICAgICAgICAgICAgaWYgKHBhaWRBbW91bnQgPiBhbXRUb2JlUGFpZCkgewogICAgICAgICAgICAgIHBhaWRBbW91bnQgPSBhbXRUb2JlUGFpZDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2RhdGFSb3cuc2V0KCJwYWlkQW1vdW50IiwgcGFyc2VGbG9hdChwYWlkQW1vdW50KSk7CgogICAgICAgICAgICBfZGF0YVJvdy5zZXQoInBhaWRBbW91bnRUb2Jhc2UiLCBwYXJzZUZsb2F0KHBhaWRBbW91bnQpICogcGFyc2VGbG9hdChfZGF0YVJvdy5yYXRlVG9iYXNlKSk7CgogICAgICAgICAgICBfZGF0YVJvdy5zZXQoInBhaWRBbW91bnRUeG4iLCBwYWlkQW1vdW50ICogcGFyc2VGbG9hdChfZGF0YVJvdy50eG5SYXRlKSk7CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIHRoaXMucHVyY2hhc2VUeG4oKTsKICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGUoKTsKICAgICAgfQogICAgfSwKICAgIG9uVHlwZUNoYW5nZWQ6IGZ1bmN0aW9uIG9uVHlwZUNoYW5nZWQoKSB7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsICdwcCcpOwoKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA9PT0gbnVsbCB8fCB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT09ICIiIHx8IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5nZW5lcmF0ZU51bWJlcigpOwogICAgICB9IC8vIHRoaXMudGVtcGxhdGVIYW5kbGUoKTsKCiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgdGl0bGU6IGkxOG4udCgibXNnX3RpdGxlX3dhcm5pbmciKSwKICAgICAgICB0ZXh0OiBpMThuLnQoIm1zZ19kaXNjYXJkIiksCiAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCJjYW5jZWwiKSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoImRpc2NhcmQiKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHRDZW4pIHsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzdWx0Q2VuKTsKCiAgICAgICAgaWYgKHJlc3VsdENlbi52YWx1ZSkgewogICAgICAgICAgX3RoaXM3LiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgUE1UVGVtcGxhdGU6IGZ1bmN0aW9uIFBNVFRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHZhciBwbXQgPSBkYXRhSXRlbS5wYXltZW50T3B0aW9uIHx8IHt9OwoKICAgICAgaWYgKHBtdCkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQocG10LmJhbmtBY2NvdW50TmFtZSB8fCAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkUGF5bWVudE9wdGlvbjogZnVuY3Rpb24gbG9hZFBheW1lbnRPcHRpb24oKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM4LnBheW1lbnRNZXRob2QgPSBbXTsKICAgICAgICAgICAgICAgICAgICBwYXltZW50T3B0aW9uSGFuZGxlci5saXN0KHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczgucGF5bWVudE1ldGhvZCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczguc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBQYXltZW50TWV0aG9kRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIFBheW1lbnRNZXRob2REcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bmFtZSM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tU2VsZWN0LS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgZGF0YTogdGhpcy5wYXltZW50TWV0aG9kCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgaGlkZVNtYWxsU2lkZWJhcjogZnVuY3Rpb24gaGlkZVNtYWxsU2lkZWJhcigpIHsKICAgICAgdGhpcy5pc0hpZGVCYXIgPSAhdGhpcy5pc0hpZGVCYXI7CiAgICB9LAogICAgbG9hZFByZWZpeDogZnVuY3Rpb24gbG9hZFByZWZpeCgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBwcmVmaXhIYW5kbGVyLmdldChUWE5fVFlQRSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkudHJhbnNhY3Rpb25UeXBlcyA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM5LnRyYW5zYWN0aW9uVHlwZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5jYXNoUGF5bWVudC50cmFuc2FjdGlvblR5cGUgPSBfdGhpczkudHJhbnNhY3Rpb25UeXBlc1swXTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpczkuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LmdlbmVyYXRlTnVtYmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkU2FsZUZvcm1Db250ZW50OiBmdW5jdGlvbiBsb2FkU2FsZUZvcm1Db250ZW50KCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBwdXJjaGFzZUZvcm1Db250ZW50SGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLnB1cmNoYXNlRm9ybUNvbnRlbnQgPSBkYXRhWzBdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZWFyY2hQdXJjaGFzZU9yZGVyRXhwZW5zZTogZnVuY3Rpb24gc2VhcmNoUHVyY2hhc2VPcmRlckV4cGVuc2UoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTEuY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTEuaXNFZGl0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9OwogICAgICAgICAgICAgICAgICAgIF90aGlzMTEuY2FzaFBheW1lbnQucmVxdWVzdFBheW1lbnQgPSB7fTsKICAgICAgICAgICAgICAgICAgICBfdGhpczExLnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTEubVBheW1lbnRPcHRpb24gPT09ICJWZW5kb3IiKSB7CiAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2g6IF90aGlzMTEubVN1cHBsaWVyLmlkLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVmVuZG9yIiwKICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25EYXRlOiBfdGhpczExLmNhc2hQYXltZW50LnRyYW5zYWN0aW9uRGF0ZQogICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIF90aGlzMTEuaXRlbUxpbmVzID0gW107CgogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnNlYXJjaCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc2VhcmNoLmxlbmd0aCA+IDQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5zaG93TG9hZGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEuaXRlbUxpbmVzID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5jYXNoUGF5bWVudC5pdGVtTGluZSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLnNlYXJjaENhc2hQYXltZW50KGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlcy5kYXRhLnJlc3VsdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczExLml0ZW1MaW5lcyA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEuY2FzaFBheW1lbnQuaXRlbUxpbmUgPSByZXNwb25zZTsgLy8gdGhpcy4kcmVmcy5saW5lRFMua2VuZG9XaWRnZXQoKS5zZXREYXRhU291cmNlKHRoaXMuaXRlbUxpbmVzKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gcmVzcG9uc2VbMF07IC8vIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZGF0YVNvdXJjZUNoYW5nZWQoKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KCJzdXBwbGllciIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczExLmNhc2hQYXltZW50LnN1cHBsaWVyID0gb2JqLnN1cHBsaWVyOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouc3VwcGxpZXIuaGFzT3duUHJvcGVydHkoIm5hbWUiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczExLm5hbWUgPSBvYmouc3VwcGxpZXIubmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYXNlQ3VycmVuY3kgPSByZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEuYmFzZUN1cnJlbmN5ID0gYmFzZUN1cnJlbmN5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczExLmNhc2hQYXltZW50LmN1cnJlbmN5ID0gYmFzZUN1cnJlbmN5OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJhc2VDdXJyZW5jeSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYXNlQ3VycmVuY3kuaGFzT3duUHJvcGVydHkoImNvZGUiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5iYXNlQ3VycmVuY3lDb2RlID0gYmFzZUN1cnJlbmN5LmNvZGU7IC8vIGlmIChjb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5sb2FkVHJhbnNhY3Rpb25SYXRlKGJhc2VDdXJyZW5jeS5jb2RlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczExLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvblNhdmVDbG9zZTogZnVuY3Rpb24gb25TYXZlQ2xvc2UoaXNQcmludCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTIuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMxMi4kcmVmcy5mb3JtLnZhbGlkYXRlKCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUxpbmVEUyA9IF90aGlzMTIuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YVZhbGlkYXRlID0gMDsKICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUxpbmVzID0gW107CiAgICAgICAgICAgICAgICAgICAgaXRlbUxpbmVEUy5kYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi5wYWlkQW1vdW50ID4gMCB8fCBuLmRpc2NvdW50ID4gMDsKICAgICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgICAgICAgICAgIGlmICh+X3RoaXMxMi5zZWxlY3RlZEV4cGVuc2VJZHMuaW5kZXhPZihuLmxpbmVJZCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgblsnaWQnXSA9IG5bJ3R4bklkXyddOwogICAgICAgICAgICAgICAgICAgICAgICBpdGVtTGluZXMucHVzaChuZXcgSXRlbUxpbmVNb2RlbChuKSk7CiAgICAgICAgICAgICAgICAgICAgICB9IC8vIHJldHVybiBuZXcgSXRlbUxpbmVNb2RlbChuKTsKCiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtTGluZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgLyp0b2RvOiBjaGVjayBwYXltZW50IG9wdGlvbiAqLwogICAgICAgICAgICAgICAgICAgICAgaXRlbUxpbmVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF5bWVudE9wdGlvbiA9IHZhbHVlLnBheW1lbnRPcHRpb24gfHwge307CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXltZW50T3B0aW9uSWQgPSBwYXltZW50T3B0aW9uLmlkIHx8ICIiOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheW1lbnRPcHRpb25JZCA9PT0gIiIgfHwgcGF5bWVudE9wdGlvbklkID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLiRzbm90aWZ5LmVycm9yKCJQbGVhc2Ugc2VsZWN0IHBheW1lbnQgb3B0aW9uIGF0IHJvdyAiICsgKGluZGV4ICsgMSkpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFWYWxpZGF0ZSArPSAxOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbUxpbmVzLmxlbmd0aCA9PT0gZGF0YVZhbGlkYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0F1dG9HZW5lcmF0ZSA9IDE7CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLmF1dG9DYWxjdWxhdGUoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczEyLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbkRhdGUgPSBuZXcgRGF0ZShfdGhpczEyLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5EYXRlUmVjZWlwdCA9IG5ldyBEYXRlKF90aGlzMTIuY2FzaFBheW1lbnQudHJhbnNhY3Rpb25EYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbkRhdGVNID0gdHJhbkRhdGUuZ2V0RnVsbFllYXIoKSArIHRyYW5EYXRlLmdldE1vbnRoKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5EYXRlUmVjZWlwdE0gPSB0cmFuRGF0ZVJlY2VpcHQuZ2V0RnVsbFllYXIoKSArIHRyYW5EYXRlUmVjZWlwdC5nZXRNb250aCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhbkRhdGVNID09PSB0cmFuRGF0ZVJlY2VpcHRNKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F1dG9HZW5lcmF0ZSA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IC8vIGxldCBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICJpZCI6IHRoaXMuY2FzaFBheW1lbnQuaWQgPyB0aGlzLmNhc2hQYXltZW50LmlkIDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgInR5cGUiOiBUUkFOU0FDVElPTl9UWVBFLAogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICJudW1iZXIiOiB0aGlzLmNhc2hQYXltZW50Lm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAiYWJiciI6IHRoaXMuY2FzaFBheW1lbnQudHJhbnNhY3Rpb25UeXBlLmFiYnIsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgInRyYW5zYWN0aW9uRGF0ZSI6IHRoaXMudHJhbnNhY3Rpb25EYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICJzdXBwbGllciI6IHRoaXMuY2FzaFBheW1lbnQuc3VwcGxpZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgInRyYW5zYWN0aW9uVHlwZSI6IHRoaXMuY2FzaFBheW1lbnQudHJhbnNhY3Rpb25UeXBlLAogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICJpdGVtTGluZSI6IGRhdGFSb3csCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgInRyYW5zYWN0aW9uTm90ZSI6IHRoaXMuY2FzaFBheW1lbnQudHJhbnNhY3Rpb25Ob3RlLAogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICJqb3VybmFsTm90ZSI6IHRoaXMuY2FzaFBheW1lbnQuam91cm5hbE5vdGUsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgInJlZmVyZW5jZU5vIjogdGhpcy5jYXNoUGF5bWVudC5yZWZlcmVuY2VObywKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAidG90YWwiOiB0aGlzLmNhc2hQYXltZW50LnRvdGFsLCAvLyBub3QgdXNlZAogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICJjdXJyZW5jeSI6IHRoaXMuY2FzaFBheW1lbnQuY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgImV4Y2hhbmdlQW1vdW50IjogdGhpcy5jYXNoUGF5bWVudC5leGNoYW5nZUFtb3VudCwvLyBhbW91bnQgdG8gYmFzZSBjdXJyZW5jeQogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICJwYWlkT3B0aW9uIjogdGhpcy5tUGF5bWVudE9wdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAicGFpZE9wdGlvblRleHQiOiB0aGlzLm1TdXBwbGllciwKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAiZGlzY291bnQiOiB0aGlzLmNhc2hQYXltZW50LmRpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICJzdGF0dXMiOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICJhcHByb3ZlZEJ5IjogdGhpcy5jYXNoUGF5bWVudC5hcHByb3ZlZEJ5LAogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICJmb3JtVGVtcGxhdGUiOiB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAiY3JlYXRlZEF0IjogdGhpcy5jYXNoUGF5bWVudC5jcmVhdGVkQXQsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgImxvZ2dlZFVzZXIiOiB0aGlzLmxvZ2dlZFVzZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgInR4bkxpc3QiOiB0aGlzLnR4bkxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgImlzQXV0b0dlbmVyYXRlIjogaXNBdXRvR2VuZXJhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIm9sZFRvdGFsIjogdGhpcy5vbGRUb3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAialJhdyI6IHRoaXMualJhdywKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAiYWN0aW9uVHlwZSI6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA/IHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGUgOiAnbmV3JwogICAgICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgICAgICAgIC8vdG9kbzogbWF0Y2ggQ2FzaCBQYXltZW50IG1vZGVsCgoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5jYXNoUGF5bWVudC5wYWlkT3B0aW9uID0gX3RoaXMxMi5tUGF5bWVudE9wdGlvbjsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5jYXNoUGF5bWVudC5wYWlkT3B0aW9uVGV4dCA9IF90aGlzMTIubVN1cHBsaWVyOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLmNhc2hQYXltZW50Lml0ZW1MaW5lID0gaXRlbUxpbmVzOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLmNhc2hQYXltZW50WyJqUmF3Il0gPSBfdGhpczEyLmpSYXc7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuY2FzaFBheW1lbnRbInR5cGUiXSA9IFRSQU5TQUNUSU9OX1RZUEU7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuY2FzaFBheW1lbnQubG9nZ2VkVXNlciA9IF90aGlzMTIubG9nZ2VkVXNlcjsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5jYXNoUGF5bWVudFsib2xkVG90YWwiXSA9IF90aGlzMTIub2xkVG90YWw7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuY2FzaFBheW1lbnRbImlzQXV0b0dlbmVyYXRlIl0gPSBpc0F1dG9HZW5lcmF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5jYXNoUGF5bWVudFsidHhuTGlzdCJdID0gX3RoaXMxMi50eG5MaXN0OwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLmNhc2hQYXltZW50WyJ0cmFuc2FjdGlvbkRhdGVUWiJdID0gSGVscGVyLnRvSVNPRGF0ZShfdGhpczEyLmNhc2hQYXltZW50LnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuY2FzaFBheW1lbnRbImFjdGlvblR5cGUiXSA9IF90aGlzMTIuJHJvdXRlLnBhcmFtcy5pZCA/IF90aGlzMTIuJHJvdXRlLnF1ZXJ5LnR5cGUgOiAibmV3IjsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5jYXNoUGF5bWVudFsibG9nZ2VkVXNlciJdID0gX3RoaXMxMi5sb2dnZWRVc2VyOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGlmKGlzUHJpbnQgPT0gdHJ1ZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKHRoaXMuY2FzaFBheW1lbnQsICdjYXNoIFBheW1lbnQnLCBpc1ByaW50KQoKICAgICAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIuY3JlYXRlQ2FzaFBheW1lbnQoX3RoaXMxMi5jYXNoUGF5bWVudCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2xvc2UocmVzcG9uc2UuZGF0YS5kYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuJHNub3RpZnkuc3VjY2VzcygiU3VjY2Vzc2Z1bGx5Iik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzUHJpbnQgPT0gJ1ByaW50JykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRQcmludChyZXNwb25zZS5kYXRhLmRhdGEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5jbGVhcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1ByaW50ID09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5jbGVhcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5jbGVhcigpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkuZ28oLTEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLnNob3dMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuJHNub3RpZnkuZXJyb3IoIlNvbWV0aGluZyB3ZW50IHdyb25nIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuZXJyb3JzLnB1c2goZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMjApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIF9wcmludDogZnVuY3Rpb24gX3ByaW50KCkgewogICAgICB0aGlzLmNhc2hQYXltZW50WyJqUmF3Il0gPSB0aGlzLmpSYXc7CiAgICAgIGdldFByaW50KHRoaXMuY2FzaFBheW1lbnQpOwogICAgfSwKICAgIGxvYWRDYXNoUGF5bWVudFZpZXc6IGZ1bmN0aW9uIGxvYWRDYXNoUGF5bWVudFZpZXcoKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTMuaXRlbUxpbmVzID0gW107CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczEzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBfc3RyRmlsdGVyID0gIj9pZD0iICsgX3RoaXMxMy4kcm91dGUucGFyYW1zLmlkOwoKICAgICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLnR4bkNhc2hQYXltZW50KF9zdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLmNhc2hQYXltZW50ID0gcmVzcG9uc2VbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLnJlZmVyZW5jZU5vID0gX3RoaXMxMy5jYXNoUGF5bWVudC5yZWZlcmVuY2VObzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMubVN1cHBsaWVyID0gX3RoaXMxMy5jYXNoUGF5bWVudC5zdXBwbGllcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMub2xkVG90YWwgPSBfdGhpczEzLmNhc2hQYXltZW50LnRvdGFsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy50cmFuc2FjdGlvbkRhdGUgPSBfdGhpczEzLmNhc2hQYXltZW50LnRyYW5zYWN0aW9uRGF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuaXRlbUxpbmVzID0gcmVzcG9uc2VbMF0uaXRlbUxpbmU7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTMuY2FzaFBheW1lbnQuaGFzT3duUHJvcGVydHkoInN1cHBsaWVyIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTMuY2FzaFBheW1lbnQuc3VwcGxpZXIuaGFzT3duUHJvcGVydHkoIm5hbWUiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMubmFtZSA9IF90aGlzMTMuY2FzaFBheW1lbnQuc3VwcGxpZXIubmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHsKICAgICAgdGhpcy5pZCA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy5tU3VwcGxpZXIgPSB7fTsKICAgICAgdGhpcy5jYXNoUGF5bWVudCA9IG5ldyBDYXNoUGF5bWVudE1vZGVsKHt9KTsKICAgICAgdmFyIGl0ZW1MaW5lRFMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgdGhpcy5pdGVtTGluZXMgPSBpdGVtTGluZURTLmRhdGEoW10pOwogICAgICB0aGlzLmNhc2hQYXltZW50LnRyYW5zYWN0aW9uVHlwZSA9IHRoaXMudHJhbnNhY3Rpb25UeXBlc1swXTsKICAgICAgdGhpcy5uYW1lID0gIiI7CiAgICAgIHRoaXMucmVxdWVzdFBheW1lbnRMaXN0ID0gW107CiAgICAgIHRoaXMuZ2VuZXJhdGVOdW1iZXIoKTsKICAgIH0sCiAgICBsb2FkT3RoZXJBY2NvdW50OiBmdW5jdGlvbiBsb2FkT3RoZXJBY2NvdW50KCkgewogICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBzZXR0aW5nSGFuZGxlci5nZXRPdGhlckFjY291bnQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbiAobykgewogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvLmJhbmhqaUFjY0NvZGUgPT09ICI3NDAwMTAiOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGRhdGEsICIgdGhpcy5nYWluTG9zc0FjIik7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5nYWluTG9zc0FjYyA9IGRhdGFbMF0uYWNjb3VudDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFfID0gcmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8uYmFuaGppQWNjQ29kZSA9PT0gIjc0MDA0MCI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFfLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0Lm90aGVyUmV2ZW51ZUFjYyA9IGRhdGFfWzBdLmFjY291bnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUmVxdWVzdFBheW1lbnQ6IGZ1bmN0aW9uIGxvYWRSZXF1ZXN0UGF5bWVudCgpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3VwcGxpZXIgPSBfdGhpczE1LmNhc2hQYXltZW50LnN1cHBsaWVyIHx8IHt9OwogICAgICAgICAgICAgICAgICAgIHZhciBzdXBwbGllcklkID0gc3VwcGxpZXIuaWQgfHwgJyc7CgogICAgICAgICAgICAgICAgICAgIGlmIChzdXBwbGllcklkKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICB2YXIgX3N0ckZpbHRlcjIgPSAiP2lkPSIgKyBzdXBwbGllcklkICsgJyZzdGF0dXM9MSc7CgogICAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIucmVxdWVzdFBheW1lbnRMaXN0KF9zdHJGaWx0ZXIyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnJlcXVlc3RQYXltZW50TGlzdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRSZXF1ZXN0UGF5bWVudExpbmVzOiBmdW5jdGlvbiBsb2FkUmVxdWVzdFBheW1lbnRMaW5lcygpIHsKICAgICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdFBheW1lbnQgPSBfdGhpczE2LmNhc2hQYXltZW50LnJlcXVlc3RQYXltZW50IHx8IHt9OwogICAgICAgICAgICAgICAgICAgIHZhciByZXFJZCA9IHJlcXVlc3RQYXltZW50LmlkIHx8ICcnOwoKICAgICAgICAgICAgICAgICAgICBpZiAocmVxSWQpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuc2hvd0xvYWRpbmcgPSB0cnVlOwoKICAgICAgICAgICAgICAgICAgICAgIHZhciBfc3RyRmlsdGVyMyA9ICI/aWQ9IiArIHJlcUlkICsgJyZkZXRhaWw9MSc7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5pdGVtTGluZXMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuY2FzaFBheW1lbnQuaXRlbUxpbmUgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLnJlcXVlc3RQYXltZW50TGlzdChfc3RyRmlsdGVyMykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5pdGVtTGluZXMgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuY2FzaFBheW1lbnQuaXRlbUxpbmUgPSBfdGhpczE2Lml0ZW1MaW5lczsgLy8gdGhpcy4kcmVmcy5saW5lRFMua2VuZG9XaWRnZXQoKS5zZXREYXRhU291cmNlKHRoaXMuaXRlbUxpbmVzKQogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCBkYXRhU291cmNlID0gbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGRhdGE6IHRoaXMuaXRlbUxpbmUKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQgZ3JpZCA9ICQoJyNncmlkJykuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ3JpZC5zZXREYXRhU291cmNlKGRhdGFTb3VyY2UpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LmF1dG9DYWxjdWxhdGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25QYXltZW50UmVxdWVzdENoYW5nZTogZnVuY3Rpb24gb25QYXltZW50UmVxdWVzdENoYW5nZSgpIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHZhciByZXE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczE3LmlzRWRpdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgX3RoaXMxNy5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHJlcSA9IF90aGlzMTcuY2FzaFBheW1lbnQucmVxdWVzdFBheW1lbnQgfHwge307CgogICAgICAgICAgICAgICAgaWYgKCFyZXEuaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE3LmxvYWRSZXF1ZXN0UGF5bWVudExpbmVzKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF90aGlzMTcuaXRlbUxpbmVzID0gW107CiAgICAgICAgICAgICAgICBfdGhpczE3LmNhc2hQYXltZW50Lml0ZW1MaW5lID0gW107CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uR3JpZENhc2hQYXltZW50OiBmdW5jdGlvbiBvbkdyaWRDYXNoUGF5bWVudCgpIHsKICAgICAgdmFyIGdyaWQgPSB0aGlzLiRyZWZzLmdyaWRDYXNoUGF5bWVudC5rZW5kb1dpZGdldCgpOwogICAgICB0aGlzLnNlbGVjdGVkRXhwZW5zZUlkcyA9IGdyaWQuc2VsZWN0ZWRLZXlOYW1lcygpOwogICAgICB0aGlzLmF1dG9DYWxjdWxhdGUoKTsKICAgIH0sCiAgICBkYXRhQm91bmQ6IGZ1bmN0aW9uIGRhdGFCb3VuZCgpIHsKICAgICAgaWYgKHRoaXMuY2hlY2tlZCkgewogICAgICAgICQoIiNncmlkQ2FzaFBheW1lbnQgdGJvZHkgaW5wdXQ6Y2hlY2tib3giKS50cmlnZ2VyKCJjbGljayIpOwogICAgICAgICQoIiNncmlkQ2FzaFBheW1lbnQgdGJvZHkgaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJkaXNhYmxlZCIsIHRydWUpOwogICAgICAgICQoIi5rLWhlYWRlciBpbnB1dDpjaGVja2JveCIpLnByb3AoImRpc2FibGVkIiwgdHJ1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgJCgiI2dyaWRDYXNoUGF5bWVudCB0Ym9keSBpbnB1dDpjaGVja2JveCIpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICAgICQoIi5rLWhlYWRlciBpbnB1dDpjaGVja2JveCIpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaWQ6IGZ1bmN0aW9uIGlkKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmNsZWFyKCk7CiAgICAgICAgdGhpcy5pc1ZpZXcgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICB0aGlzLmluaXREYXRhKCk7CiAgICAgICAgdGhpcy5pc1ZpZXcgPSB0cnVlOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy8gZmV0Y2ggdGhlIGRhdGEgd2hlbiB0aGUgdmlldyBpcyBjcmVhdGVkIGFuZCB0aGUgZGF0YSBpcwogICAgLy8gYWxyZWFkeSBiZWluZyBvYnNlcnZlZAogICAgLy8gdGhpcy5sb2FkT2JqKCkKICAgIHRoaXMubG9hZFBheW1lbnRPcHRpb24oKTsKICAgIHRoaXMubG9hZE90aGVyQWNjb3VudCgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gKCkgewogICAgdmFyIF9tb3VudGVkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZFByZWZpeCgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZFNhbGVGb3JtQ29udGVudCgpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHRoaXMubG9hZERhdGEoMCwgdGhpcy5maWx0ZXIsIHRoaXMuc3VwQmFzZVVybCk7CiAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbml0R3JpZCh0aGlzKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXREYXRhKCk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICB0aGlzLmlzVmlldyA9IGZhbHNlOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmlzVmlldyA9IHRydWU7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTMsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHJldHVybiBfbW91bnRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBtb3VudGVkOwogIH0oKSwKICBjb21wdXRlZDogewogICAgZGlzYWJsZWRNZTogZnVuY3Rpb24gZGlzYWJsZWRNZSgpIHsKICAgICAgcmV0dXJuICEhdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgfSwKICAgIHNob3dNZTogZnVuY3Rpb24gc2hvd01lKCkgewogICAgICByZXR1cm4gdGhpcy5tUGF5bWVudE9wdGlvbiA9PT0gIlZlbmRvciI7IC8vIG9yIHNvbWUgb3RoZXIgbW9yZSBjb21wbGljYXRlZCBsb2dpYwogICAgfSwKICAgIGVuYWJsZWQ6IGZ1bmN0aW9uIGVuYWJsZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT09IHVuZGVmaW5lZDsKICAgIH0sCiAgICBoaWRkZW5CdXR0b246IGZ1bmN0aW9uIGhpZGRlbkJ1dHRvbigpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGUgPT0gImVkaXQiKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["CashPayments.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\">\n                        <v-row>\n                            <v-col\n                                class=\"bigSide py-0\"\n                                sm=\"12\"\n                                cols=\"12\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_big_bar_class: isHideBar }\">\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">\n                                            {{ $t(\"cash_payment\") }}\n                                        </h2>\n                                        <v-icon\n                                            v-if=\"!isHideBar\"\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                    </v-card>\n                                    <v-card outlined dense class=\"px-3 no_border\" color=\"grayBg\">\n                                        <v-row>\n                                            <v-col sm=\"7\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{ $t(\"vendor_name\") }}</label>\n                                                <div class=\"pt-0 mb-4 kendo_dropdown_custom d-flex mt-0\">\n                                                    <dropdownlist\n                                                        :data-items=\"suppliers\"\n                                                        @change=\"onCustomerChanged\"\n                                                        :value=\"mSupplier\"\n                                                        :disabled=\"enabled\"\n                                                        :data-item-key=\"'id'\"\n                                                        :text-field=\"'name'\"\n                                                        :default-item=\"defaultItem\"\n                                                        :filterable=\"true\"\n                                                        @filterchange=\"onCustomerFilterChanged\"\n                                                    >\n                                                    </dropdownlist>\n                                                    <v-btn\n                                                        color=\"primary mt-1 ml-2 white--text\"\n                                                        @click=\"searchPurchaseOrderExpense\"\n                                                        :disabled=\"enabled\"\n                                                    >\n                                                        <i\n                                                            class=\"b-search\"\n                                                            style=\"font-size: 18px; color:#fff\"\n                                                        />\n                                                    </v-btn>\n\n                                                </div>\n\n                                                <label class=\"label\">{{ $t(\"type\") }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    v-model=\"cashPayment.transactionType\"\n                                                    :items=\"transactionTypes\"\n                                                    item-value=\"id\"\n                                                    item-text=\"name\"\n                                                    return-object\n                                                    @change=\"onTypeChanged\"\n                                                    :placeholder=\"$t('type')\"\n                                                    outlined\n                                                >\n                                                </v-select>\n                                                <label class=\"label\">{{ $t(\"date\") }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"cashPayment.transactionDate\"\n                                                    @onChanged=\"onTransactionDateChanged\"\n                                                    @emitDate=\"cashPayment.transactionDate = $event\"\n                                                />\n                                            </v-col>\n                                            <v-col sm=\"5\" cosl=\"12\">\n                                                <label class=\"label\">{{ $t(\"payment_request\") }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :items=\"requestPaymentList\"\n                                                    @change=\"onPaymentRequestChange\"\n                                                    item-value=\"id\"\n                                                    item-text=\"referenceNo\"\n                                                    v-model=\"cashPayment.requestPayment\"\n                                                    :placeholder=\"$t('payment_request')\"\n                                                    return-object\n                                                    clearable\n                                                    outlined\n                                                />\n                                                <label class=\"label\">{{ $t(\"name\") }}</label>\n                                                <v-text-field\n                                                    class=\"mt-1\"\n                                                    v-model=\"name\"\n                                                    readonly=\"readonly\"\n                                                    outlined\n                                                />\n                                                <label class=\"label mb-0\">{{ $t(\"number\") }}</label>\n                                                <div class=\"d-flex mt-1\">\n\n                                                    <div class=\"code_text flex-1 text-bold\">\n                                                        {{ cashPayment.transactionType.abbr }}\n                                                    </div>\n                                                    <v-text-field\n                                                        class=\" custom-border  flex-2\"\n                                                        v-model=\"cashPayment.number\"\n                                                        outlined\n                                                        disabled\n                                                        :rules=\"[(v) => !!v || 'Number is required']\"\n                                                        required\n                                                    />\n                                                    <v-icon\n                                                        color=\"black\"\n                                                        size=\"30\"\n                                                        style=\" height: 40px;\"\n                                                        class=\"border_qrcode ml-2\"\n                                                        @click=\"generateNumber\"\n                                                    >mdi-qrcode\n                                                    </v-icon>\n\n                                                </div>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-row class=\"pt-3\" style=\"background-color: #fff;\">\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                            <LoadingMe\n                                                :isLoading=\"showLoading\"\n                                                :fullPage=\"false\"\n                                                :myLoading=\"true\"\n                                            />\n                                            <kendo-datasource\n                                                ref=\"itemLineDS\"\n                                                :change=\"dataSourceChanged\"\n                                                :schema=\"schemaDefinition\"\n                                                :data=\"itemLines\"/>\n                                            <kendo-grid\n                                                id=\"gridCashPayment\"\n                                                ref=\"gridCashPayment\"\n                                                class=\"grid-function\"\n                                                :data-source-ref=\"'itemLineDS'\"\n                                                :sortable=\"false\"\n                                                :groupable=\"false\"\n                                                :filterable=\"false\"\n                                                :column-menu=\"true\"\n                                                :editable=\"true\"\n                                                :change=\"onGridCashPayment\"\n                                                v-on:databound=\"dataBound\"\n                                                :noRecords=\"true\">\n                                                <!-- <kendo-grid-column\n                                                                          :field=\"'check'\"\n                                                                          :title=\"''\"\n                                                                          :headerTemplate=\"headerTemplate\"\n                                                                          :template=\"checkTemplate\"\n                                                                          :width=\"60\"\n                                                                          :column-menu=\"false\"\n                                                                          :editable=\"\n                                                                            () => {\n                                                                              return false;\n                                                                            }\n                                                                          \"\n                                                                          :locked=\"true\"\n                                                                          :headerAttributes=\"{\n                                                                            style: 'background-color: #EDF1F5;',\n                                                                            class: 'text-center',\n                                                                          }\"\n                                                                          :attributes=\"{ style: 'text-align: center' }\"\n                                                                        /> -->\n                                                <kendo-grid-column\n                                                    :locked=\"true\"\n                                                    :selectable=\"true\"\n                                                    :selected=\"true\"\n                                                    :width=\"40\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'billNumber'\"\n                                                    :title=\"$t('bill_number')\"\n                                                    :width=\"180\"\n                                                    :editable=\" () => { return false;}\"\n                                                    :template=\"billNumberTmp\"\n                                                    :locked=\"true\"\n                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5',}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'referenceNo'\"\n                                                    :title=\"$t('transaction_num')\"\n                                                    :width=\"210\"\n                                                    :hidden=\"false\"\n                                                    :locked=\"true\"\n                                                    :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                                                    :template=\"referenceNoTmp\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'dueDate'\"\n                                                    :title=\"$t('due_date')\"\n                                                    :width=\"150\"\n                                                    :lockable=\"false\"\n                                                    :template=\"formatDate\"\n                                                    :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'txnNote'\"\n                                                    :title=\"$t('note')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"false\"\n                                                    :lockable=\"false\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left; ' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'paymentOption'\"\n                                                    :title=\"$t('payment_option')\"\n                                                    :width=\"200\"\n                                                    :lockable=\"false\"\n                                                    :template=\"PMTTemplate\"\n                                                    :editor=\"PaymentOptionEditor\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'currencyCode'\"\n                                                    :title=\"$t('currency')\"\n                                                    :width=\"150\"\n                                                    :lockable=\"false\"\n                                                    :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                                                    :template=\"currency\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'amount'\"\n                                                    :title=\"$t('amount')\"\n                                                    :width=\"150\"\n                                                    :lockable=\"false\"\n                                                    :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                                                    :template=\"amount\"\n                                                    :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n\n                                                <kendo-grid-column\n                                                    :field=\"'discount'\"\n                                                    :title=\"$t('discount')\"\n                                                    :editor=\"discountEditor\"\n                                                    :template=\"discount\"\n                                                    :width=\"150\"\n                                                    :lockable=\"false\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                                                />\n\n                                                <kendo-grid-column\n                                                    :field=\"'amountTobePaid'\"\n                                                    :title=\"$t('amount_to_be_paid')\"\n                                                    :width=\"210\"\n                                                    :lockable=\"false\"\n                                                    :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                                                    :template=\"amountTobePaid\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n\n                                                <kendo-grid-column\n                                                    :field=\"'paidAmount'\"\n                                                    :title=\"$t('paid_amount')\"\n                                                    :width=\"200\"\n                                                    :lockable=\"false\"\n                                                    :editor=\"paidAmountEditor\"\n                                                    :template=\"paidAmountTmp\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'overDue'\"\n                                                    :title=\"$t('over_due')\"\n                                                    :width=\"150\"\n                                                    :lockable=\"false\"\n                                                    :hidden=\"true\"\n                                                    :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                                                    :template=\"overDue\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n\n                                                <kendo-grid-column\n                                                    :field=\"'paymentTerm'\"\n                                                    :title=\"$t('payment_term')\"\n                                                    :width=\"200\"\n                                                    :lockable=\"false\"\n                                                    :hidden=\"true\"\n                                                    :template=\"settlementDiscount\"\n                                                    :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"\n                                                />\n\n                                                <kendo-grid-column\n                                                    :field=\"'bankReferenceNo'\"\n                                                    :title=\"$t('bank_reference_no')\"\n                                                    :width=\"180\"\n                                                    :lockable=\"false\"\n                                                    :hidden=\"true\"\n                                                    :template=\"bankReferenceNo\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'status'\"\n                                                    :title=\"$t('status')\"\n                                                    :width=\"100\"\n                                                    :lockable=\"false\"\n                                                    :template=\"status\"\n                                                    :hidden=\"true\"\n                                                    :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"\n                                                />\n                                            </kendo-grid>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                            <v-row>\n                                                <v-col sm=\"6\" cols=\"12\" class=\"\">\n                                                    <v-card class=\"no-boxshadow pa-3\" color=\"grayBg\">\n                                                        <v-row>\n                                                            <v-col class=\"py-0\" sm=\"6\" cols=\"6\">\n                                                                <label>{{ $t(\"message_on_receipt\") }}</label>\n                                                                <v-textarea\n                                                                    class=\"mt-1\"\n                                                                    outlined\n                                                                    v-model=\"cashPayment.transactionNote\"\n                                                                    no-resize\n                                                                    height=\"70px\"\n                                                                    rows=\"3\"\n                                                                    placeholder=\"This will appear on the invoice\"\n                                                                />\n                                                            </v-col>\n                                                            <v-col class=\"py-0\" sm=\"6\" cols=\"6\">\n                                                                <label>{{ $t(\"message_for_journal\") }}</label>\n                                                                <v-textarea\n                                                                    class=\"mt-1\"\n                                                                    outlined\n                                                                    v-model=\"cashPayment.journalNote\"\n                                                                    no-resize\n                                                                    height=\"70px\"\n                                                                    rows=\"3\"\n                                                                    placeholder=\"This will appear on the invoice\"\n                                                                />\n                                                            </v-col>\n                                                        </v-row>\n                                                    </v-card>\n                                                    <!--                                                    <template>-->\n                                                    <!--                                                        <v-file-input class=\"mt-0 pt-0 \" sm=\"3\" cols=\"6\"-->\n                                                    <!--                                                                      v-model=\"files\"-->\n                                                    <!--                                                                      :placeholder=\"$t('attachment')\"-->\n                                                    <!--                                                                      multiple-->\n                                                    <!--                                                                      prepend-icon=\"mdi-paperclip\">-->\n                                                    <!--                                                            <template v-slot:selection=\"{ text }\">-->\n                                                    <!--                                                                <v-chip-->\n                                                    <!--                                                                    small-->\n                                                    <!--                                                                    label-->\n                                                    <!--                                                                    color=\"primary\">-->\n                                                    <!--                                                                    {{ text }}-->\n                                                    <!--                                                                </v-chip>-->\n                                                    <!--                                                            </template>-->\n                                                    <!--                                                        </v-file-input>-->\n                                                    <!--                                                    </template>-->\n                                                </v-col>\n                                                <v-col sm=\"6\" cols=\"12\">\n                                                    <v-simple-table>\n                                                        <template v-slot:default>\n                                                            <tbody>\n                                                            <tr>\n                                                                <td class=\"text-left text-uppercase\">\n                                                                    {{ $t(\"discount\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-left primary--text text-bold\">\n                                                                    {{ numberFormat(cashPayment.discount) }}\n                                                                </td>\n                                                            </tr>\n                                                            <!--                                                            <tr>-->\n                                                            <!--                                                                <td class=\"text-left text-uppercase\">{{ $t('total') }}-->\n                                                            <!--                                                                </td>-->\n                                                            <!--                                                                <td class=\"text-center\">:</td>-->\n                                                            <!--                                                                <td class=\"text-left primary--text text-bold\">-->\n                                                            <!--                                                                    {{ numberFormat(cashReceipt.total) }}-->\n                                                            <!--                                                                </td>-->\n                                                            <!--                                                            </tr>-->\n                                                            <tr>\n                                                                <td class=\"text-left text-uppercase\">\n                                                                    {{ $t(\"exchange_amount\") }} -\n                                                                    {{ baseCurrencyCode }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-left primary--text text-bold\">\n                                                                    {{\n                                                                        numberFormat(cashPayment.exchangeAmount)\n                                                                    }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr hidden>\n                                                                <td class=\"text-left text-uppercase\">\n                                                                    {{ $t(\"dr\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-left primary--text text-bold\">\n                                                                    {{ numberFormat(dr) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr hidden>\n                                                                <td class=\"text-left text-uppercase\">\n                                                                    {{ $t(\"cr\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-left primary--text text-bold\">\n                                                                    {{ numberFormat(cr) }}\n                                                                </td>\n                                                            </tr>\n                                                            </tbody>\n                                                        </template>\n                                                    </v-simple-table>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n\n                                    <v-divider/>\n                                    <v-card outlined dense class=\"no_border function_footer\">\n                                        <!-- <v-menu>\n                                                              <template v-slot:activator=\"{ on }\">\n                                                                <v-btn color=\"black\" outlined\n                                                                       class=\"mr-2 text-capitalize  black--text float-left\"\n                                                                       v-on=\"on\">\n                                                                  {{ $t('select_template') }}\n                                                                  <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                                                </v-btn>\n                                                              </template>\n                                                              <v-list>\n                                                                <v-list-item v-for=\"(item, index) in templates\" :key=\"index\">\n                                                                  <v-list-item-title>{{ item.title }}</v-list-item-title>\n                                                                </v-list-item>\n                                                              </v-list>\n                                                            </v-menu> -->\n                                        <v-btn\n                                            color=\"primary\"\n                                            outlined\n                                            class=\"text-capitalize  black--text float-left\"\n                                            @click=\"cancel\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <!--                    <v-menu>-->\n                                        <!--                      <template v-slot:activator=\"{ on }\">-->\n                                        <!--                        <v-btn-->\n                                        <!--                            class=\"ml-2 float-right text-capitalize  black&#45;&#45;text\"-->\n                                        <!--                            v-on=\"on\"-->\n                                        <!--                        >-->\n                                        <!--                          {{ $t(\"save_option\") }}-->\n                                        <!--                          <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>-->\n                                        <!--                        </v-btn>-->\n                                        <!--                      </template>-->\n                                        <!--                      <v-list rounded>-->\n                                        <!--                        <v-list-item-group>-->\n                                        <!--                          <v-list-item @click=\"onSaveClose(true)\">-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title-->\n                                        <!--                              >{{ $t(\"save_print\") }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                          &lt;!&ndash; <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title>{{ $t('save_draft') }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item> &ndash;&gt;-->\n                                        <!--                        </v-list-item-group>-->\n                                        <!--                      </v-list>-->\n                                        <!--                    </v-menu>-->\n                                        <v-btn\n                                            color=\"primary\"\n                                            v-if=\"!isView\"\n                                            class=\"float-right white--text text-capitalize \"\n                                            @click=\"onSaveClose(false)\">\n                                            {{ $t(\"save_close\") }}\n                                        </v-btn>\n                                        <v-btn v-if=\"!isView\" color=\"secondary\"\n                                               style=\"margin-right: 10px !important\"\n                                               class=\"white--text float-right text-capitalize\"\n                                               @click=\"onSaveClose(true)\" :hidden=\"hiddenButton\">{{ $t(\"save_new\") }}\n                                        </v-btn>\n                                        <v-btn v-if=\"isView\" color=\"primary\"\n                                               style=\"margin-right: 10px !important\"\n                                               @click=\"_print\"\n                                               class=\"white--text float-right text-capitalize\"\n                                        >{{ $t(\"print\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-form>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport {DropDownList} from \"@progress/kendo-vue-dropdowns\";\nimport {i18n} from \"@/i18n\";\nimport DatePickerComponent from \"@/components/custom_templates/DatePickerComponent\";\nimport CashPaymentModel from \"@/scripts/cash-payment/model/CashPayment\";\nimport ItemLineModel from \"@/scripts/cash-payment/model/ItemLine\";\nimport kendo from \"@progress/kendo-ui\";\nimport {getPrint} from \"@/form/paymentVoucher\";\nimport PaymentOptionEditor from \"@/scripts/kendo_editor/PaymentOptionEditor\";\nimport Helper from \"@/helper\";\n\n\nconst prefixHandler = require(\"@/scripts/prefixHandler\");\nconst purchaseFormContentHandler = require(\"@/scripts/purchaseFormContentHandler\");\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\nconst supplierHandler = require(\"@/scripts/supplierHandler\");\n\nconst $ = kendo.jQuery\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\nconst paymentOptionHandler = require(\"@/scripts/paymentOptionHandler\");\nconst settingHandler = require(\"@/scripts/settingsHandler\");\n\nconst cashPaymentModel = new CashPaymentModel({});\nconst itemLineModel = new ItemLineModel({});\n\nconst keyField = \"id\";\nconst textField = \"numberName\";\nconst defaultItem = {[textField]: \"Select vendor...\", [keyField]: null};\nconst emptyItem = {[textField]: \"loading ...\"};\nconst OPTION_TYPE = \"Supplier\";\nconst strFilter = \"?optionType=\" + OPTION_TYPE;\nconst TXN_TYPE = \"cash payment\";\nconst TRANSACTION_TYPE = \"Cash Payment\";\n\nexport default {\n    name: \"CashPayment\",\n    props: [\"id\"],\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n        \"app-datepicker\": DatePickerComponent,\n        dropdownlist: DropDownList,\n    },\n    data: () => ({\n        PaymentOptionEditor: PaymentOptionEditor,\n        showLoading: false,\n        alert: false,\n        files: [],\n        errors: [],\n        valid: true,\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email,\n        },\n        itemLines: [],\n        templates: [\n            {title: \"Draft\"},\n            {title: \"Open\"},\n            {title: \"Partially Closed\"},\n            {title: \"Closed\"},\n        ],\n        col_expand: 9,\n        col_hide: 3,\n        isHideBar: false,\n        typeAs: ['Cash', 'Bank'],\n        paymentOptions: [\"Vendor\"],\n        mPaymentOption: \"Vendor\",\n        paymentMethod: [\"Cash\", \"Cheque\"],\n        transactionDate: new Date().toISOString().substr(0, 10),\n        cashPayment: cashPaymentModel,\n        itemLine: itemLineModel,\n        purchaseFormContent: {},\n        search: \"\",\n        transactionTypes: [],\n        suppliers: [],\n        mSupplier: {},\n        defaultItem: defaultItem,\n        supBaseUrl: supplierHandler.search(),\n        filter: \"\",\n        name: \"\",\n        referenceNo: \"\",\n        oldTotal: 0,\n        dateFormat: itemLineModel.dateFormat,\n        group: {field: \"supplier.name\"},\n        banks: [],\n        txnList: [],\n        currencyCode: \"\",\n        transactionRate: 1,\n        schemaDefinition: {\n            model: {id: \"lineId\"},\n        },\n        baseCurrency: {},\n        baseCurrencyCode: \"\",\n        jRaw: [],\n        gainLossAcc: {},\n        otherRevenueAcc: {},\n        gainOrLossDescription: \"gain/loss on exchange rate\",\n        penaltyDescription: \"penalty\",\n        requestPaymentList: [],\n        selectedExpenseIds: [],\n        cr: 0,\n        dr: 0,\n        isEdit: true,\n        checked: false,\n        isView: false\n    }),\n    methods: {\n        isEditable() {\n            return this.isEdit\n        },\n        savePrint() {\n        },\n        currency(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty(\"currencyCode\")) {\n                    return dataItem.currencyCode;\n                }\n            }\n            return \"\";\n        },\n        referenceNoTmp(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty(\"referenceNo\")) {\n                    return dataItem.referenceNo;\n                }\n            }\n            return \"\";\n        },\n        billNumberTmp(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty(\"billNumber\")) {\n                    return dataItem.billNumber;\n                }\n            }\n            return \"\";\n        },\n        paidAmountTmp(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty(\"paidAmount\")) {\n                    return kendo.toString(dataItem.paidAmount, dataItem.decimalFormat);\n                }\n            }\n            return \"\";\n        },\n        amountTobePaid(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty(\"amountTobePaid\")) {\n                    return kendo.toString(\n                        dataItem.amountTobePaid,\n                        dataItem.decimalFormat\n                    );\n                }\n            }\n            return \"\";\n        },\n        discount(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty(\"discount\")) {\n                    return kendo.toString(dataItem.discount, dataItem.decimalFormat);\n                }\n            }\n            return \"\";\n        },\n        amount(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty(\"amount\")) {\n                    return kendo.toString(dataItem.amount, dataItem.decimalFormat);\n                }\n            }\n            return \"\";\n        },\n        bankReferenceNo(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty(\"overDue\")) {\n                    return dataItem.bankReferenceNo;\n                }\n            }\n            return \"\";\n        },\n        overDue(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty(\"overDue\")) {\n                    return dataItem.overDue;\n                }\n            }\n            return 0;\n        },\n        // async loadTransactionRate(code) {\n        //     new Promise(resolve => {\n        //         setTimeout(() => {\n        //             resolve('resolved')\n        //             const date = new Date(this.transactionDate).toISOString().substr(0, 10)\n        //             // const priceLevel = this.invoice.priceLevel\n        //             if (code !== undefined || code !== '') {\n        //                 this.showLoading = true\n        //                 currencyHandler.getLastExchangeRateByDate(date, code).then(res => {\n        //                     if (res.data.statusCode === 200) {\n        //                         this.showLoading = false\n        //                         const exchangeRate = res.data.data\n        //                         this.currencyCode = exchangeRate.code\n        //                         this.transactionRate = exchangeRate.rate\n        //                         this.cashReceipt.txnRate = exchangeRate.rate\n        //                         this.cashReceipt.exchangeRate = exchangeRate\n        //                         this.showLoading = false\n        //                     }\n        //                 })\n        //             }\n        //\n        //         }, 10)\n        //     })\n        // },\n        async initData() {\n            if (this.$route.params.id !== undefined) {\n                const queryString = this.$route.query;\n                let type = \"\";\n                let option = 0;\n                if (queryString.hasOwnProperty(\"type\")) {\n                    type = queryString.type;\n                    option = queryString.option;\n                    if (type === \"pmt\") {\n                        this.mPaymentOption = option;\n                        this.search = this.$route.params.id;\n                        this.searchPurchaseOrderExpense();\n                    }\n                } else {\n                    await this.loadCashPaymentView();\n                }\n            } else {\n                this.initRow();\n            }\n        },\n        paidAmountEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    format: `n${this.purchaseFormContent.decimal}`,\n                    min: 0,\n                });\n        },\n        discountEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    format: `n${this.purchaseFormContent.decimal}`,\n                    min: 0,\n                });\n        },\n        onTransactionDateChanged() {\n            if (this.cashPayment.supplier) {\n                const supplier = this.cashPayment.supplier || {};\n                const supId = supplier.id || \"\";\n                if (supId) {\n                    this.generateNumber();\n                    this.searchPurchaseOrderExpense();\n                }\n            }\n        },\n        generateNumber() {\n            if (this.$route.params.id) {\n                const tranDate = new Date(this.transactionDate);\n                const tranDateReceipt = new Date(this.cashPayment.transactionDate);\n                const tranDateM = tranDate.getFullYear() + tranDate.getMonth();\n                const tranDateReceiptM =\n                    tranDateReceipt.getFullYear() + tranDateReceipt.getMonth();\n                if (tranDateM === tranDateReceiptM) {\n                    this.cashPayment.referenceNo = this.referenceNo;\n                    return;\n                }\n            }\n            window.console.log('this.cashPayment.transactionType', this.cashPayment.transactionType)\n            if (this.cashPayment.transactionDate !== \"\" && this.transactionTypes.length > 0) {\n                let data = {\n                    abbr: this.cashPayment.transactionType.abbr,\n                    structure: this.cashPayment.transactionType.structure,\n                    transactionDate: this.cashPayment.transactionDate,\n                    sequcencing: this.cashPayment.transactionType.sequcencing,\n                    prefixSeparator: this.cashPayment.transactionType.prefixSeparator || '',\n                    numberSeparator: this.cashPayment.transactionType.numberSeparator || '',\n                    format: this.cashPayment.transactionType.format || 5,\n                    type: TRANSACTION_TYPE,\n                    entity: 1,\n                };\n                billingHandler\n                    .lastNumber(data)\n                    .then((response) => {\n                        if (response.data.statusCode === 200) {\n                            const res = response.data.data;\n                            const lastNumber = this.zeroPad(\n                                parseInt(res.lastNumber),\n                                this.cashPayment.transactionType.format\n                            );\n                            const number =\n                                res.suffix +\n                                this.cashPayment.transactionType.numberSeparator +\n                                lastNumber;\n                            this.cashPayment.number = number;\n                            if (\n                                this.cashPayment.transactionType.hasOwnProperty(\n                                    \"prefixSeparator\"\n                                )\n                            ) {\n                                const prefixSep = this.cashPayment.transactionType\n                                    .prefixSeparator;\n                                this.cashPayment.referenceNo =\n                                    this.cashPayment.transactionType.abbr + prefixSep + number;\n                            }\n                        }\n                    })\n                    .catch((e) => {\n                        this.errors.push(e);\n                    });\n            }\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, \"0\");\n        },\n        autoCalculate() {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                receiptAmount = 0,\n                discount = 0,\n                convertedAmount = 0,\n                exchangeDiscount = 0,\n                exchangeDiscountTxn = 0,\n                paidAmountTxn = 0;\n            this.jRaw = [];\n            const rows = ds.data().filter((m) => m.paidAmount > 0 || m.discount > 0);\n            window.console.log('cashPayment', ds.data())\n            rows.forEach((value) => {\n                if (~this.selectedExpenseIds.indexOf(value.lineId)) {\n                    let nature = \"\",\n                        purchaseRate = 0,\n                        paymentRate = 0,\n                        rawPaidAmount = 0,\n                        rawDiscountAmount = 0,\n                        currencyCode = \"\";\n                    let discountAmount = 0,\n                        apAmount = 0,\n                        refNo = \"\",\n                        payOption = {},\n                        currency = {},\n                        gainLoss = 0,\n                        lastXRate = {},\n                        location = {},\n                        segment = {},\n                        project = {},\n                        locationId = \"\",\n                        segmentId = \"\",\n                        projectId = \"\",\n                        txnId = \"\",\n                        invRate = 1;\n                    if (value.referenceNo) {\n                        refNo = value.referenceNo;\n                    }\n                    if (value.id) {\n                        txnId = value.id || \"\";\n                    }\n                    if (value.txnRate) {\n                        purchaseRate = parseFloat(value.txnRate);\n                    }\n                    if (value.currencyCode) {\n                        currencyCode = value.currencyCode || \"\";\n                    }\n                    if (value.currency) {\n                        currency = value.currency || {};\n                    }\n                    if (value.location) {\n                        location = value.location || {};\n                        if (location.hasOwnProperty(\"id\")) {\n                            locationId = location.id;\n                        }\n                    }\n                    if (value.segment) {\n                        segment = value.segment || {};\n                        if (segment.hasOwnProperty(\"id\")) {\n                            segmentId = segment.id;\n                        }\n                    }\n                    if (value.project) {\n                        project = value.project || {};\n                        if (project.hasOwnProperty(\"id\")) {\n                            projectId = project.id;\n                        }\n                    }\n                    if (value.exchangeRate) {\n                        lastXRate = value.exchangeRate || {};\n                    }\n                    if (value.txnRate) {\n                        invRate = parseFloat(value.txnRate);\n                    }\n                    if (value.rateTobase) {\n                        paymentRate = parseFloat(value.rateTobase);\n                    }\n                    if (value.paidAmount) {\n                        receiptAmount += kendo.parseFloat(value.paidAmount);\n                        convertedAmount +=\n                            kendo.parseFloat(value.paidAmount) * value.rateTobase;\n                        paidAmountTxn += kendo.parseFloat(value.paidAmount) * invRate;\n                        // paidAmt = kendo.parseFloat(value.paidAmount) * purchaseRate\n                        rawPaidAmount = kendo.parseFloat(value.paidAmount);\n                    }\n                    if (value.discount) {\n                        // discount += kendo.parseFloat(value.discount)\n                        discount += kendo.parseFloat(value.discount) * value.rateTobase;\n                        exchangeDiscount +=\n                            kendo.parseFloat(value.exchangeDiscount) * value.rateTobase;\n                        exchangeDiscountTxn += kendo.parseFloat(value.discount) * invRate;\n                        discountAmount = kendo.parseFloat(value.discount) * paymentRate;\n                        rawDiscountAmount = kendo.parseFloat(value.discount);\n                    }\n                    // todo: gain or loss exchange rate\n                    gainLoss =\n                        parseFloat(\n                            (purchaseRate - paymentRate) * (rawPaidAmount + rawDiscountAmount)\n                        ) * -1;\n                    if (gainLoss !== 0) {\n                        if (gainLoss > 0) {\n                            nature = \"dr\";\n                        } else {\n                            nature = \"cr\";\n                        }\n                        window.console.log(\"gainLoss\", gainLoss);\n                        if (gainLoss) {\n                            if (this.gainLossAcc.hasOwnProperty(\"id\")) {\n                                this.jRaw.push({\n                                    id:\n                                        this.gainLossAcc.id +\n                                        \"-\" +\n                                        nature +\n                                        \"-\" +\n                                        currencyCode +\n                                        \"-\" +\n                                        purchaseRate +\n                                        \"-\" +\n                                        locationId +\n                                        \"-\" +\n                                        projectId +\n                                        \"-\" +\n                                        segmentId +\n                                        \"-\" +\n                                        txnId,\n                                    txnId: txnId,\n                                    project: project,\n                                    location: location,\n                                    segment: segment,\n                                    projectId: projectId,\n                                    locationId: locationId,\n                                    segmentId: segmentId,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    lastXRate: lastXRate,\n                                    line: new ItemLineModel(value),\n                                    receiptRate: gainLoss > 0 ? paymentRate : purchaseRate,\n                                    description: this.gainOrLossDescription,\n                                    account: this.gainLossAcc,\n                                    accountId: this.gainLossAcc.id,\n                                    amount: 0,\n                                    exchangeAmount: gainLoss,\n                                    type: nature,\n                                    typeAs: \"GainOrLoss\",\n                                });\n                            }\n                        }\n                    }\n                    //Todo: AP  Dr\n                    apAmount = rawPaidAmount + rawDiscountAmount;\n                    if (apAmount > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    if (value.hasOwnProperty(\"apAcc\")) {\n                        const apAcc = value.apAcc;\n                        if (apAcc) {\n                            if (apAcc.hasOwnProperty(\"id\")) {\n                                this.jRaw.push({\n                                    id:\n                                        apAcc.id +\n                                        \"-\" +\n                                        nature +\n                                        \"-\" +\n                                        currencyCode +\n                                        \"-\" +\n                                        purchaseRate +\n                                        \"-\" +\n                                        locationId +\n                                        \"-\" +\n                                        projectId +\n                                        \"-\" +\n                                        segmentId +\n                                        \"-\" +\n                                        txnId,\n                                    txnId: txnId,\n                                    project: project,\n                                    location: location,\n                                    segment: segment,\n                                    projectId: projectId,\n                                    locationId: locationId,\n                                    segmentId: segmentId,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    lastXRate: lastXRate,\n                                    line: new ItemLineModel(value),\n                                    receiptRate: purchaseRate,\n                                    description: refNo,\n                                    account: apAcc,\n                                    accountId: apAcc.id,\n                                    amount: apAmount,\n                                    exchangeAmount: apAmount * purchaseRate,\n                                    type: nature,\n                                    typeAs: \"AP\",\n                                });\n                            }\n                        }\n                    }\n                    //Todo: Cash Account  CR\n                    if (value.paymentOption) {\n                        payOption = value.paymentOption;\n                        const cashAmount = rawPaidAmount * -1; //+ ((purchaseRate - paymentRate) * (rawPaidAmount + rawDiscountAmount))\n                        // const cashAmount = rawPaidAmount + (gainLoss ) + rawPaidAmount\n                        if (cashAmount > 0) {\n                            nature = \"dr\";\n                        } else {\n                            nature = \"cr\";\n                        }\n                        if (payOption.hasOwnProperty(\"account\")) {\n                            const payOptionAcc = payOption.account;\n                            if (payOptionAcc.hasOwnProperty(\"id\")) {\n                                this.jRaw.push({\n                                    id:\n                                        payOptionAcc.id +\n                                        \"-\" +\n                                        nature +\n                                        \"-\" +\n                                        currencyCode +\n                                        \"-\" +\n                                        purchaseRate +\n                                        \"-\" +\n                                        locationId +\n                                        \"-\" +\n                                        projectId +\n                                        \"-\" +\n                                        segmentId +\n                                        \"-\" +\n                                        txnId,\n                                    txnId: txnId,\n                                    project: project,\n                                    location: location,\n                                    segment: segment,\n                                    projectId: projectId,\n                                    locationId: locationId,\n                                    segmentId: segmentId,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    lastXRate: lastXRate,\n                                    line: new ItemLineModel(value),\n                                    receiptRate: purchaseRate,\n                                    description: refNo,\n                                    account: payOptionAcc,\n                                    accountId: payOptionAcc.id,\n                                    amount: cashAmount,\n                                    exchangeAmount: cashAmount * paymentRate,\n                                    type: nature,\n                                    typeAs: \"CashAccount\",\n                                });\n                            }\n                        }\n                    }\n                    //Todo: Settlement Discount  Cr\n                    if (value.paymentTerm) {\n                        const settlementDisc = value.paymentTerm;\n                        if (discountAmount > 0) {\n                            if (discountAmount * -1 > 0) {\n                                nature = \"dr\";\n                            } else {\n                                nature = \"cr\";\n                            }\n                            window.console.log(settlementDisc, \"settlementDisc\");\n                            if (settlementDisc.hasOwnProperty(\"account\")) {\n                                const settlementDiscAcc = settlementDisc.account;\n                                if (settlementDiscAcc.hasOwnProperty(\"id\")) {\n                                    this.jRaw.push({\n                                        id:\n                                            settlementDiscAcc.id +\n                                            \"-\" +\n                                            nature +\n                                            \"-\" +\n                                            currencyCode +\n                                            \"-\" +\n                                            purchaseRate +\n                                            \"-\" +\n                                            locationId +\n                                            \"-\" +\n                                            projectId +\n                                            \"-\" +\n                                            segmentId +\n                                            \"-\" +\n                                            txnId,\n                                        txnId: txnId,\n                                        project: project,\n                                        location: location,\n                                        segment: segment,\n                                        projectId: projectId,\n                                        locationId: locationId,\n                                        segmentId: segmentId,\n                                        currencyCode: currencyCode,\n                                        currency: currency,\n                                        lastXRate: lastXRate,\n                                        line: new ItemLineModel(value),\n                                        receiptRate: paymentRate,\n                                        description: \"Purchase Payment Discount\",\n                                        account: settlementDiscAcc,\n                                        accountId: settlementDiscAcc.id,\n                                        amount: rawDiscountAmount * -1,\n                                        exchangeAmount: discountAmount * -1,\n                                        type: nature,\n                                        typeAs: \"Settlement Discount\",\n                                    });\n                                }\n                            }\n                        }\n                    }\n                }\n            });\n            // this.invoiceTxn(txnIds)\n\n            this.cashPayment.total = receiptAmount;\n            this.cashPayment.exchangeAmount = convertedAmount;\n            this.cashPayment.discount = discount;\n            this.cashPayment.exchangeDiscount = exchangeDiscount;\n            this.cashPayment.paidAmountTxn = paidAmountTxn;\n            this.cashPayment.exchangeDiscountTxn = exchangeDiscountTxn;\n            this.shrinkData(this.jRaw);\n        },\n        removeDuplicate(array) {\n            const result = [];\n            const map = new Map();\n            for (const item of array) {\n                if (!map.has(item.id)) {\n                    map.set(item.id, true); // set any value to Map\n                    result.push(item);\n                }\n            }\n            return result;\n        },\n        shrinkData(obj) {\n            const uniques = this.removeDuplicate(obj);\n            uniques.forEach((n) => {\n                const found = obj.filter((m) => m.id === n.id);\n                let amount = 0,\n                    exchangeAmount = 0;\n                found.forEach((z) => {\n                    amount += parseFloat(z.amount || 0);\n                    exchangeAmount += parseFloat(z.exchangeAmount || 0);\n                });\n                n.exchangeAmount = parseFloat(exchangeAmount); //this.numberFormat(amount)\n                n.amount = parseFloat(amount); //parseFloat(parseFloat(amount / parseFloat(n.receiptRate))) //this.numberFormat(amount * parseFloat(this.invoice.txnRate)) //.toFixed(this.saleFormContent.decimal)\n            });\n            this.jRaw = uniques;\n            let dr = 0,\n                cr = 0;\n            this.jRaw.forEach((j) => {\n                switch (j.type) {\n                    case \"cr\":\n                        cr += parseFloat(j.exchangeAmount);\n                        break;\n                    case \"dr\":\n                        dr += parseFloat(j.exchangeAmount);\n                        break;\n                    default:\n                        break;\n                }\n            });\n            // window.console.log(JSON.stringify(this.jRaw), 'uniques')\n            const txnId = this.jRaw.map((o) => o.txnId);\n            var uSet = new Set(txnId);\n            const uniqueSet = [...uSet];\n            let jRaws = [];\n            // window.console.log(JSON.stringify(uniqueSet), 'uniques')\n            uniqueSet.forEach((n) => {\n                const found = this.jRaw.filter((m) => m.txnId === n);\n                const line = found[0].line;\n                const refNo = line.referenceNo;\n                jRaws.push({\n                    id: n,\n                    currencyCode: found[0].currencyCode,\n                    projectId: found[0].projectId,\n                    segmentId: found[0].segmentId,\n                    locationId: found[0].locationId,\n                    referenceNo: refNo || \"\",\n                    entries: found,\n                });\n            });\n            this.jRaw = jRaws;\n            this.dr = dr;\n            this.cr = cr;\n            window.console.log(\"dr=\", dr, \"cr=\", cr, \"dr+cr = \", dr + cr);\n            window.console.log(JSON.stringify(jRaws), \"uniques\");\n        },\n        purchaseTxn() {\n            let txnIds = [],\n                ids = [];\n            this.itemLines.forEach((value) => {\n                if (value.id) {\n                    txnIds.push({\n                        id: value.id,\n                        status: 1,\n                    });\n                }\n            });\n            ids = Object.values(txnIds.reduce((r, o) => ((r[o.id] = o), r), {}));\n            ids.forEach((m) => {\n                const lines = this.itemLines.filter((n) => n.id === m.id);\n                let paidAmt = 0;\n                let amountTobePaid = 0;\n                lines.forEach((x) => {\n                    if (x.paidAmount) {\n                        paidAmt += x.paidAmount;\n                    }\n                    if (x.amountTobePaid) {\n                        amountTobePaid += x.amountTobePaid;\n                    }\n                });\n                const pAmt = this.numberFormat(paidAmt);\n                const amtTobePaid = this.numberFormat(amountTobePaid);\n                if (pAmt === amtTobePaid) {\n                    m[\"status\"] = 3; //Paid\n                } else {\n                    m[\"status\"] = 2; // Partially Paid\n                }\n            });\n            this.txnList = ids;\n        },\n        initRow() {\n            let ds = this.$refs.itemLineDS.kendoWidget();\n            ds.insert([this.itemLine]);\n        },\n        async initGrid(that) {\n            let grid = kendo.jQuery(\"#gridCashPayment\").data(\"kendoGrid\");\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    $(\"#header-chb\").change(function (ev) {\n                        let checked = ev.target.checked;\n                        data = [];\n                        kendo.jQuery(\".row-checkbox\").each(function (idx, item) {\n                            if (checked) {\n                                if (\n                                    !$(item)\n                                        .closest(\"tr\")\n                                        .is(\".k-state-selected\")\n                                ) {\n                                    $(item).click();\n                                    let mRow = $(item).closest(\"tr\");\n                                    let dataItem = grid.dataItem(mRow);\n                                    data.push(dataItem);\n                                }\n                            } else {\n                                $(item).click();\n                            }\n                        });\n                        that.checkedChanged(data);\n                    });\n                }, 10);\n            });\n\n            //\n            // let checkedIds = {}\n            let data = [];\n            //\n            // function selectRow(that) {\n            //     let checked = this.checked,\n            //         row = $(this).closest(\"tr\"),\n            //         grid = $('#itemLine').data('kendoGrid'),\n            //         dataItem = grid.dataItem(row)\n            //\n            //     checkedIds[dataItem.paymentCode] = checked;\n            //     window.console.log('here',dataItem)\n            //     if (checked) {\n            //         //-select the row\n            //         row.addClass(\"k-state-selected\")\n            //         data.push(dataItem)\n            //\n            //         that.checkedChanged(dataItem)\n            //     } else {\n            //         //-remove selection\n            //         row.removeClass(\"k-state-selected\")\n            //     }\n            // }\n            // if (grid) {\n            //     grid.table.on(\"click\", \".row-checkbox\", selectRow(that))\n            // }\n        },\n        checkedChanged(data) {\n            data.forEach((m) => {\n                if (parseFloat(m.paidAmount) === 0) {\n                    m.paidAmount = m.amountTobePaid;\n                }\n                const index = this.itemLines.findIndex((item) => {\n                    return (\n                        m.paymentCode === item.paymentCode &&\n                        parseFloat(item.paidAmount) === 0\n                    );\n                });\n                this.itemLines.splice(index, 1, m);\n            });\n            this.autoCalculate();\n        },\n        headerTemplate() {\n            return `<input type='checkbox' id='header-chb' class='k-checkbox header-checkbox'>`;\n        },\n        checkTemplate(dataItem) {\n            return `<input type='checkbox' #= ${dataItem.check} ? \\\\'checked=\"checked\"\\\\' : '' # class='k-checkbox row-checkbox' />`;\n        },\n        formatDate(dataItem) {\n            if (dataItem.hasOwnProperty(\"dueDate\")) {\n                return kendo.toString(new Date(dataItem.dueDate), this.dateFormat);\n            }\n            return \"\";\n        },\n        settlementDiscount(dataItem) {\n            if (dataItem.hasOwnProperty(\"paymentTerm\")) {\n                return dataItem.paymentTerm.name;\n            }\n            return \"\";\n        },\n        status(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty(\"status\")) {\n                    const status = dataItem.status;\n                    let statusText = \"\";\n                    switch (status) {\n                        case 1:\n                            statusText = \"OPEN\";\n                            break;\n                        case 2:\n                            statusText = \"Partially Paid\";\n                            break;\n                        case 4:\n                            statusText = \"VOID\";\n                            break;\n                        case 3:\n                            statusText = \"PAID\";\n                            break;\n                    }\n                    return statusText;\n                }\n            }\n            return \"\";\n        },\n        onCustomerChanged(event) {\n            this.isEdit = true\n            const value = event.value;\n            if (value && value[textField] === emptyItem[textField]) {\n                return;\n            }\n            this.mSupplier = value;\n            this.cashPayment.supplier = value;\n            this.loadRequestPayment();\n        },\n        onCustomerFilterChanged(event) {\n            const filter = event.filter.value;\n            this.loadData(0, filter, this.supBaseUrl);\n            this.filter = filter;\n        },\n        loadData(skip, filter, baseUrl) {\n            const url = baseUrl + `?filter=${filter}`;\n            this.requestStarted = true;\n            fetch(url)\n                .then((response) => {\n                    return response.json();\n                })\n                .then(this.afterFetch);\n        },\n        afterFetch(json) {\n            this.suppliers = json.data;\n        },\n        numberFormat(value) {\n            return kendo.toString(value, `n${this.purchaseFormContent.decimal}`);\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        dataSourceChanged(e) {\n            let amtTobePaid = 0, amount = 0, discount = 0,\n                paidAmount = 0;\n            let dataRow = e.items[0] || {}\n            if (Object.keys(dataRow).length > 0) {\n                dataRow.set('optionType', OPTION_TYPE)\n            }\n            if (e.field) {\n                let dataRow = e.items[0];\n                switch (e.field) {\n                    case \"discount\":\n                        amount = dataRow.amount || 0\n                        discount = dataRow.discount || 0\n                        if (discount > amount) {\n                            dataRow.set(\"discount\", amount);\n                        }\n                        dataRow.set(\"amountTobePaid\", parseFloat(dataRow.amount) - parseFloat(dataRow.discount));\n                        dataRow.set(\"exchangeDiscount\", parseFloat(dataRow.discount) * parseFloat(dataRow.rateTobase));\n                        dataRow.set(\"exchangeDiscountTxn\", parseFloat(dataRow.discount) * parseFloat(dataRow.txnRate));\n                        amtTobePaid = parseFloat(dataRow.amountTobePaid || 0);\n                        paidAmount = parseFloat(dataRow.paidAmount || 0);\n                        if (paidAmount > amtTobePaid) {\n                            paidAmount = amtTobePaid;\n                            dataRow.set(\"paidAmount\", parseFloat(paidAmount));\n                            dataRow.set(\"paidAmountTobase\", parseFloat(paidAmount) * parseFloat(dataRow.rateTobase || 1));\n                            dataRow.set(\"paidAmountTxn\", paidAmount * parseFloat(dataRow.txnRate || 1));\n                        }\n                        break;\n                    case \"paidAmount\":\n                        amtTobePaid = parseFloat(dataRow.amountTobePaid);\n                        paidAmount = parseFloat(dataRow.paidAmount);\n                        if (paidAmount > amtTobePaid) {\n                            paidAmount = amtTobePaid;\n                        }\n                        dataRow.set(\"paidAmount\", parseFloat(paidAmount));\n                        dataRow.set(\"paidAmountTobase\", parseFloat(paidAmount) * parseFloat(dataRow.rateTobase));\n                        dataRow.set(\"paidAmountTxn\", paidAmount * parseFloat(dataRow.txnRate));\n                        break;\n                    default:\n                        break;\n                }\n\n                this.purchaseTxn();\n                this.autoCalculate();\n            }\n        },\n        onTypeChanged() {\n            window.console.log(this.$route.params.id, 'pp')\n            if (this.$route.params.id === null || this.$route.params.id === \"\" || this.$route.params.id === undefined) {\n                this.generateNumber();\n            }\n            // this.templateHandle();\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((resultCen) => {\n                window.console.log(resultCen);\n                if (resultCen.value) {\n                    this.$router.go(-1);\n                }\n            });\n        },\n        PMTTemplate(dataItem) {\n            const pmt = dataItem.paymentOption || {};\n            if (pmt) {\n                return `<span>${pmt.bankAccountName || ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        async loadPaymentOption() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.paymentMethod = [];\n                    paymentOptionHandler\n                        .list(strFilter)\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.paymentMethod = res.data.data;\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        PaymentMethodDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.paymentMethod,\n                    }),\n                });\n        },\n        hideSmallSidebar() {\n            this.isHideBar = !this.isHideBar;\n        },\n        async loadPrefix() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    prefixHandler.get(TXN_TYPE).then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.transactionTypes = res.data.data;\n                            if (this.transactionTypes.length > 0) {\n                                this.cashPayment.transactionType = this.transactionTypes[0];\n                                if (!this.$route.params.id) {\n                                    this.generateNumber();\n                                }\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadSaleFormContent() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    purchaseFormContentHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            const data = res.data.data;\n                            if (data.length > 0) {\n                                this.purchaseFormContent = data[0];\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async searchPurchaseOrderExpense() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.checked = false\n                    this.isEdit = true\n                    let data = {};\n                    this.cashPayment.requestPayment = {}\n                    this.showLoading = true;\n                    if (this.mPaymentOption === \"Vendor\") {\n                        data = {\n                            search: this.mSupplier.id,\n                            type: \"Vendor\",\n                            transactionDate: this.cashPayment.transactionDate,\n                        };\n                    }\n                    this.itemLines = [];\n                    if (data.search) {\n                        if (data.search.length > 4) {\n                            this.showLoading = true;\n                            try {\n                                this.itemLines = []\n                                this.cashPayment.itemLine = []\n                                billingHandler.searchCashPayment(data).then((res) => {\n                                    this.showLoading = false;\n                                    if (res.data.statusCode === 200) {\n                                        const response = res.data.data;\n                                        const result = res.data.result;\n                                        this.showLoading = false;\n                                        if (response.length > 0) {\n                                            this.itemLines = response;\n                                            this.cashPayment.itemLine = response\n                                            // this.$refs.lineDS.kendoWidget().setDataSource(this.itemLines)\n                                            const obj = response[0];\n                                            // this.autoCalculate();\n                                            // this.dataSourceChanged()\n                                            if (obj.hasOwnProperty(\"supplier\")) {\n                                                this.cashPayment.supplier = obj.supplier;\n                                                if (obj.supplier.hasOwnProperty(\"name\")) {\n                                                    this.name = obj.supplier.name;\n                                                }\n                                            }\n                                        }\n                                        const baseCurrency = result;\n                                        this.baseCurrency = baseCurrency;\n                                        this.cashPayment.currency = baseCurrency;\n                                        if (baseCurrency) {\n                                            if (baseCurrency.hasOwnProperty(\"code\")) {\n                                                this.baseCurrencyCode = baseCurrency.code;\n                                                // if (code) {\n                                                //     this.loadTransactionRate(baseCurrency.code)\n                                                // }\n                                            }\n                                        }\n                                    }\n                                });\n                            } catch (e) {\n                                this.showLoading = false;\n                            }\n                        } else {\n                            this.showLoading = false;\n                        }\n                    } else {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async onSaveClose(isPrint) {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate();\n                return;\n            }\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    let itemLineDS = this.$refs.itemLineDS.kendoWidget();\n                    let dataValidate = 0;\n                    let itemLines = []\n                    itemLineDS\n                        .data()\n                        .filter((n) => n.paidAmount > 0 || n.discount > 0)\n                        .map((n) => {\n                            if (~this.selectedExpenseIds.indexOf(n.lineId)) {\n                                n['id'] = n['txnId_']\n                                itemLines.push(new ItemLineModel(n))\n                            }\n                            // return new ItemLineModel(n);\n                        });\n\n                    if (itemLines.length > 0) {\n                        /*todo: check payment option */\n                        itemLines.forEach((value, index) => {\n                            const paymentOption = value.paymentOption || {};\n                            const paymentOptionId = paymentOption.id || \"\";\n                            if (paymentOptionId === \"\" || paymentOptionId === undefined) {\n                                this.$snotify.error(\n                                    \"Please select payment option at row \" + (index + 1)\n                                );\n                            } else {\n                                dataValidate += 1;\n                            }\n                        });\n                        /*****************************/\n                        if (itemLines.length === dataValidate) {\n                            let isAutoGenerate = 1;\n                            this.autoCalculate();\n                            if (this.$route.params.id) {\n                                const tranDate = new Date(this.transactionDate);\n                                const tranDateReceipt = new Date(\n                                    this.cashPayment.transactionDate\n                                );\n                                const tranDateM = tranDate.getFullYear() + tranDate.getMonth();\n                                const tranDateReceiptM =\n                                    tranDateReceipt.getFullYear() + tranDateReceipt.getMonth();\n                                if (tranDateM === tranDateReceiptM) {\n                                    isAutoGenerate = 0;\n                                }\n                            }\n                            // let data = {\n                            //   \"id\": this.cashPayment.id ? this.cashPayment.id : '',\n                            //   \"type\": TRANSACTION_TYPE,\n                            //   \"number\": this.cashPayment.number,\n                            //   \"abbr\": this.cashPayment.transactionType.abbr,\n                            //   \"transactionDate\": this.transactionDate,\n                            //   \"supplier\": this.cashPayment.supplier,\n                            //   \"transactionType\": this.cashPayment.transactionType,\n                            //   \"itemLine\": dataRow,\n                            //   \"transactionNote\": this.cashPayment.transactionNote,\n                            //   \"journalNote\": this.cashPayment.journalNote,\n                            //   \"referenceNo\": this.cashPayment.referenceNo,\n                            //   \"total\": this.cashPayment.total, // not used\n                            //   \"currency\": this.cashPayment.currency,\n                            //   \"exchangeAmount\": this.cashPayment.exchangeAmount,// amount to base currency\n                            //   \"paidOption\": this.mPaymentOption,\n                            //   \"paidOptionText\": this.mSupplier,\n                            //   \"discount\": this.cashPayment.discount,\n                            //   \"status\": 1,\n                            //   \"approvedBy\": this.cashPayment.approvedBy,\n                            //   \"formTemplate\": {},\n                            //   \"createdAt\": this.cashPayment.createdAt,\n                            //   \"loggedUser\": this.loggedUser,\n                            //   \"txnList\": this.txnList,\n                            //   \"isAutoGenerate\": isAutoGenerate,\n                            //   \"oldTotal\": this.oldTotal,\n                            //   \"jRaw\": this.jRaw,\n                            //   \"actionType\": this.$route.params.id ? this.$route.query.type : 'new'\n                            // }\n                            //todo: match Cash Payment model\n                            this.cashPayment.paidOption = this.mPaymentOption;\n                            this.cashPayment.paidOptionText = this.mSupplier;\n                            this.cashPayment.itemLine = itemLines;\n                            this.cashPayment[\"jRaw\"] = this.jRaw;\n                            this.cashPayment[\"type\"] = TRANSACTION_TYPE;\n                            this.cashPayment.loggedUser = this.loggedUser;\n                            this.cashPayment[\"oldTotal\"] = this.oldTotal;\n                            this.cashPayment[\"isAutoGenerate\"] = isAutoGenerate;\n                            this.cashPayment[\"txnList\"] = this.txnList;\n                            this.cashPayment[\"transactionDateTZ\"] = Helper.toISODate(this.cashPayment.transactionDate);\n                            this.cashPayment[\"actionType\"] = this.$route.params.id\n                                ? this.$route.query.type\n                                : \"new\";\n                            this.cashPayment[\"loggedUser\"] = this.loggedUser;\n\n                            this.showLoading = false;\n                            // if(isPrint == true){\n                            //     this.clear();\n                            // }\n                            // window.console.log(this.cashPayment, 'cash Payment', isPrint)\n                            billingHandler.createCashPayment(this.cashPayment).then((response) => {\n                                if (response.data.statusCode === 201) {\n                                    // this.close(response.data.data)\n                                    this.showLoading = false;\n                                    this.$snotify.success(\"Successfully\");\n                                    if (isPrint == 'Print') {\n                                        getPrint(response.data.data);\n                                        this.clear();\n                                    } else if (isPrint == true) {\n                                        this.clear();\n                                    } else {\n                                        this.clear();\n                                        window.history.go(-1);\n                                    }\n                                }\n                            })\n                                .catch((e) => {\n                                    this.showLoading = false;\n                                    this.$snotify.error(\"Something went wrong\");\n                                    this.errors.push(e);\n                                });\n                        }\n                    }\n                }, 20);\n            });\n        },\n        _print() {\n            this.cashPayment[\"jRaw\"] = this.jRaw;\n            getPrint(this.cashPayment);\n        },\n        async loadCashPaymentView() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.itemLines = [];\n                    if (this.$route.params.id) {\n                        const strFilter = \"?id=\" + this.$route.params.id;\n                        billingHandler\n                            .txnCashPayment(strFilter)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    const response = res.data.data;\n                                    if (response.length > 0) {\n                                        this.cashPayment = response[0];\n                                        this.referenceNo = this.cashPayment.referenceNo;\n                                        this.mSupplier = this.cashPayment.supplier;\n                                        this.oldTotal = this.cashPayment.total;\n                                        this.transactionDate = this.cashPayment.transactionDate\n                                        this.itemLines = response[0].itemLine;\n                                        if (this.cashPayment.hasOwnProperty(\"supplier\")) {\n                                            if (this.cashPayment.supplier.hasOwnProperty(\"name\")) {\n                                                this.name = this.cashPayment.supplier.name;\n                                            }\n                                        }\n                                    }\n                                }\n                            })\n                            .catch();\n                        {\n                            this.showLoading = false;\n                        }\n                    }\n                }, 10);\n            });\n        },\n        clear() {\n            this.id = undefined;\n            this.mSupplier = {}\n            this.cashPayment = new CashPaymentModel({});\n            let itemLineDS = this.$refs.itemLineDS.kendoWidget();\n            this.itemLines = itemLineDS.data([]);\n            this.cashPayment.transactionType = this.transactionTypes[0];\n            this.name = \"\"\n            this.requestPaymentList = []\n            this.generateNumber();\n        },\n        async loadOtherAccount() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    settingHandler\n                        .getOtherAccount()\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                const response = res.data.data;\n                                const data = response.filter(\n                                    (o) => o.banhjiAccCode === \"740010\"\n                                );\n                                window.console.log(data, \" this.gainLossAc\");\n                                if (data.length > 0) {\n                                    this.gainLossAcc = data[0].account;\n                                }\n                                const data_ = response.filter(\n                                    (o) => o.banhjiAccCode === \"740040\"\n                                );\n                                if (data_.length > 0) {\n                                    this.otherRevenueAcc = data_[0].account;\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadRequestPayment() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const supplier = this.cashPayment.supplier || {}\n                    const supplierId = supplier.id || ''\n                    if (supplierId) {\n                        this.showLoading = true;\n                        const strFilter = \"?id=\" + supplierId + '&status=1';\n                        billingHandler.requestPaymentList(strFilter).then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.requestPaymentList = res.data.data;\n                            } else {\n                                this.showLoading = false;\n                            }\n                        });\n                    }\n\n                }, 10);\n            });\n        },\n        async loadRequestPaymentLines() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const requestPayment = this.cashPayment.requestPayment || {}\n                    const reqId = requestPayment.id || ''\n                    if (reqId) {\n                        this.showLoading = true;\n                        const strFilter = \"?id=\" + reqId + '&detail=1';\n                        this.itemLines = []\n                        this.cashPayment.itemLine = []\n                        billingHandler.requestPaymentList(strFilter).then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.itemLines = res.data.data;\n                                this.cashPayment.itemLine = this.itemLines\n                                // this.$refs.lineDS.kendoWidget().setDataSource(this.itemLines)\n                                // let dataSource = new kendo.data.DataSource({\n                                //     data: this.itemLine\n                                // });\n                                // let grid = $('#grid').data(\"kendoGrid\");\n                                // grid.setDataSource(dataSource);\n\n                                this.autoCalculate()\n                            } else {\n                                this.showLoading = false;\n                            }\n                        });\n                    }\n\n                }, 10);\n            });\n        },\n        async onPaymentRequestChange() {\n            this.isEdit = false\n            this.checked = true\n            const req = this.cashPayment.requestPayment || {}\n            if (req.id) {\n                await this.loadRequestPaymentLines()\n            } else {\n                this.itemLines = []\n                this.cashPayment.itemLine = []\n            }\n\n        },\n        onGridCashPayment() {\n            const grid = this.$refs.gridCashPayment.kendoWidget();\n            this.selectedExpenseIds = grid.selectedKeyNames();\n            this.autoCalculate();\n        },\n        dataBound: function () {\n            if (this.checked) {\n                $(\"#gridCashPayment tbody input:checkbox\").trigger(\"click\");\n                $(\"#gridCashPayment tbody input:checkbox\").prop(\"disabled\", true);\n                $(\".k-header input:checkbox\").prop(\"disabled\", true);\n            } else {\n                $(\"#gridCashPayment tbody input:checkbox\").prop(\"disabled\", false);\n                $(\".k-header input:checkbox\").prop(\"disabled\", false);\n            }\n        },\n    },\n    watch: {\n        id() {\n            if (this.$route.params.id === undefined) {\n                this.clear();\n                this.isView = false;\n            } else {\n                this.showLoading = true;\n                this.initData();\n                this.isView = true;\n            }\n        },\n    },\n    created() {\n        // fetch the data when the view is created and the data is\n        // already being observed\n        // this.loadObj()\n        this.loadPaymentOption();\n        this.loadOtherAccount();\n    },\n    mounted: async function () {\n        await this.loadPrefix();\n        await this.loadSaleFormContent();\n        this.loadData(0, this.filter, this.supBaseUrl);\n        await this.initGrid(this);\n        await this.initData();\n        if (this.$route.params.id === undefined) {\n\n            this.isView = false;\n        } else {\n\n            this.isView = true;\n        }\n    },\n    computed: {\n        disabledMe() {\n            return !!this.$route.params.id;\n        },\n        showMe() {\n            return this.mPaymentOption === \"Vendor\"; // or some other more complicated logic\n        },\n        enabled() {\n            return this.$route.params.id !== undefined;\n        },\n        hiddenButton() {\n            if (this.$route.query.type == \"edit\") {\n                return true\n            } else {\n                return false\n            }\n        }\n    },\n}\n</script>\n\n<style scoped>\n.k-dropdown {\n    width: 100%;\n    margin-top: 3px;\n}\n\n.function_wrapper {\n    box-shadow: none !important;\n}\n\n.v-application--is-ltr .v-text-field .v-input__append-inner {\n    margin-top: 0 !important;\n}\n\n.v-input__slot {\n    background-color: #fff !important;\n}\n\n.function_content .label {\n    margin-bottom: 10px;\n    display: inline-block;\n}\n\n.border_radius10 {\n    border-radius: 10px !important;\n    background-color: #f2f2f2;\n}\n\n.pa-3.v-card h4 {\n    font-size: 18px;\n    color: #333;\n}\n\n.pa-3.v-card p {\n    font-size: 12px;\n    color: #b5b5b5;\n}\n\n.attachment_file {\n    background-color: #efeded;\n    border-radius: 0 !important;\n}\n\n.attachment_table.v-data-table table {\n    border: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.attachment_table table tr th {\n    border-left: thin solid rgba(0, 0, 0, 0.12);\n    height: 35px;\n    border-right: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.block_debit,\n.block_credit {\n    border-bottom: 1px solid #fff;\n}\n\n.block_debit p.number,\n.block_credit p.number {\n    font-size: 25px;\n    color: #7f7f7f;\n}\n\n.block_debit h5,\n.block_credit h5,\n.block_difference h5 {\n    text-transform: uppercase;\n    color: #7f7f7f;\n    font-size: 15px;\n    font-weight: normal;\n}\n\n.block_difference h5 {\n    font-size: 18px;\n}\n\n.block_difference h5 span {\n    font-size: 15px;\n}\n\n.custom_grid table th:last-child {\n    text-align: right !important;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        max-width: 1080px !important;\n    }\n}\n\n@media (max-width: 576px) {\n    .pt-6.col-sm-5.col-12 {\n        padding-top: 0 !important;\n    }\n\n    .code_text {\n        width: 100%;\n    }\n\n    .phone_no_pt {\n        padding-top: 0 !important;\n    }\n\n    .select_template,\n    .save_option {\n        margin-bottom: 10px;\n    }\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: 0.5s ease-in;\n    flex: 0 0 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n.info_add {\n    background-color: #ffffff;\n}\n\n.small_sidebar {\n    height: 98%;\n    position: relative;\n    padding: 12px;\n    background-color: #edf1f5;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.color_grey {\n    color: #808080;\n}\n\n.card_green {\n    min-height: 70px;\n    background-color: #00b050 !important;\n    color: #ffffff;\n}\n\n.lb_bold {\n    font-size: 12px;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 10px;\n}\n\n.card_background {\n    background-color: #edf1f5;\n    min-height: 120px;\n}\n\n.deposite_input {\n    width: 100px;\n}\n\n.btn_save_draft {\n    color: #ffffff;\n    background-color: #00b0f0 !important;\n    text-transform: capitalize;\n}\n\n.save_option {\n    background-color: #203864 !important;\n}\n\n.btn_add_small {\n    height: 27px !important;\n    min-width: 25px !important;\n    font-size: 10px;\n    padding: 0 22px !important;\n    background-color: #00b050 !important;\n    color: #ffffff;\n    border-radius: 0 !important;\n}\n\n.list_site_inv {\n    background-color: #92d050;\n    color: #ffffff;\n    font-size: 12px;\n}\n\n.list_site_exp {\n    background-color: #c5e0b4;\n    color: #000000;\n    font-size: 12px;\n    line-height: 16px;\n    min-height: 40px;\n}\n\n.checkbox_inv {\n    padding: 2px;\n    margin-top: 3px;\n    margin-right: 2px;\n}\n\n.exp_select {\n    font-size: 12px !important;\n}\n\n.theme--light.v-data-table td {\n    border-bottom: 1px solid #808080;\n    border-top: 1px solid #808080;\n}\n\n.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> tbody\n> tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n\n.b-search:before {\n    color: #fff !important;\n}\n</style>\n"],"sourceRoot":"src/views/suppliers"}]}