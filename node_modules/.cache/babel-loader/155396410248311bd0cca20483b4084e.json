{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products/Product.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products/Product.vue","mtime":1640595536837},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgaTE4biB9IGZyb20gIkAvaTE4biI7CmltcG9ydCBQcm9kdWN0TW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL1Byb2R1Y3RzIjsKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CmltcG9ydCBWYXJpYW50TW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL1ZhcmlhbnRzIjsKdmFyICQgPSBrZW5kby5qUXVlcnk7Cgp2YXIgYWNjb3VudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaGFuZGxlci9hY2NvdW50aW5nL2FjY291bnQiKTsKCnZhciBjYXRlZ29yeUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY2F0ZWdvcnlIYW5kbGVyIik7Cgp2YXIgZ3JvdXBIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2dyb3VwSGFuZGxlciIpOwoKdmFyIHN1Ykdyb3VwSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zdWJHcm91cEhhbmRsZXIiKTsKCnZhciB1b21IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3VvbUhhbmRsZXIiKTsKCnZhciB3YXJlaG91c2VIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3dhcmVob3VzZUhhbmRsZXIiKTsKCnZhciBzZXR0aW5nSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zZXR0aW5nSGFuZGxlciIpOwoKdmFyIHByb2R1Y3RIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3Byb2R1Y3RIYW5kbGVyIik7Cgp2YXIgdmFyaWFudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvdmFyaWFudFR5cGVIYW5kbGVyIik7Cgp2YXIgcHJpY2VMZXZlbEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJpY2VMZXZlbEhhbmRsZXIiKTsgLy8gY29uc3QgYXR0cmlidXRlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9hdHRyaWJ1dGVIYW5kbGVyIikKCgp2YXIgdmFyaWFudE1vZGVsID0gbmV3IFZhcmlhbnRNb2RlbCh7fSk7CnZhciBwcm9kdWN0TW9kZWwgPSBuZXcgUHJvZHVjdE1vZGVsKHt9KTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBZGRQcm9kdWN0IiwKICBwcm9wczogWyJpZCJdLAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmdNZTogZnVuY3Rpb24gTG9hZGluZ01lKCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvTG9hZGluZyIpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dMb2FkaW5nOiB0cnVlLAogICAgICBhY2NMb2FkaW5nOiBmYWxzZSwKICAgICAgdmFsaWQ6ICIiLAogICAgICBpbmNvbWVBY2M6ICIiLAogICAgICBtQWNjSW52ZW50b3J5OiAiIiwKICAgICAgbUNhdGVnb3J5OiAiIiwKICAgICAgbUdyb3VwOiAiIiwKICAgICAgbUZvcm1UZW1wbGF0ZTogIiIsCiAgICAgIGZvcm1UZW1wbGF0ZTogW3sKICAgICAgICBpZDogImZ0cC1jMzVjYmU0Ni0xYzVlLTExZWItYWRjMS0wMjQyYWMxMjAwMDIiLAogICAgICAgIG5hbWU6ICJGb3JtIEEiCiAgICAgIH0sIHsKICAgICAgICBpZDogImZ0cC1jMzVjYzA2Mi0xYzVlLTExZWItYWRjMS0wMjQyYWMxMjAwMDIiLAogICAgICAgIG5hbWU6ICJGb3JtIEIiCiAgICAgIH0sIHsKICAgICAgICBpZDogImZ0cC1jMzVjYzJlYy0xYzVlLTExZWItYWRjMS0wMjQyYWMxMjAwMDIiLAogICAgICAgIG5hbWU6ICJGb3JtIEMiCiAgICAgIH1dLAogICAgICBtQWNjQ29zdE9mR29vZFNvbGQ6ICIiLAogICAgICBhY2NSZXZlbnVlOiBbXSwKICAgICAgYWNjSW52ZW50b3J5OiBbXSwKICAgICAgYWNjQ29zdE9mR29vZFNvbGQ6IFtdLAogICAgICBjYXRlZ29yaWVzOiBbXSwKICAgICAgZ3JvdXBzOiBbXSwKICAgICAgZ3JvdXA6IFtdLAogICAgICBzdWJHcm91cDogW10sCiAgICAgIHVvbTogW10sCiAgICAgIHRheDogW10sCiAgICAgIHNwZWNpZmljVGF4OiBbXSwKICAgICAgdmF0OiBbXSwKICAgICAgbVN1Ykdyb3VwOiB7fSwKICAgICAgc3ViR3JvdXBzOiBbXSwKICAgICAgd2FyZUhvdXNlczogW10sCiAgICAgIG1VT006IHt9LAogICAgICBtV2FyZUhvdXNlOiB7fSwKICAgICAgbVNwZWNpZmljVGF4OiB7fSwKICAgICAgbU90aGVyVGF4OiB7fSwKICAgICAgb3RoZXJUYXg6IFtdLAogICAgICBtRGVmYXVsdFRheDoge30sCiAgICAgIHB1cmNoYXNlVGF4OiBbXSwKICAgICAgbVB1cmNoYXNlVGF4OiB7fSwKICAgICAgbVNlcmlhbE9yQmF0Y2g6IDAsCiAgICAgIHZhcmlhbnRUeXBlczogW10sCiAgICAgIHZhcmlhbnQ6IHZhcmlhbnRNb2RlbCwKICAgICAgdmFyTGlzdHM6IFtdLAogICAgICBwcm9kdWN0OiBwcm9kdWN0TW9kZWwsCiAgICAgIHByb2R1Y3RWYXJpYW50OiB7fSwKICAgICAgdmFyaWFudElkOiAiIiwKICAgICAgcHJpY2VMZXZlbDogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkUHJpY2VMZXZlbDogZnVuY3Rpb24gbG9hZFByaWNlTGV2ZWwoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgcHJpY2VMZXZlbEhhbmRsZXIuZ2V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlcyB8fCBbXTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnByaWNlTGV2ZWwgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi50eXBlLm5hbWUgPT09ICJTdGFuZGFyZCI7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucHJpY2VMZXZlbC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnByb2R1Y3QucHJpY2VMZXZlbCA9IF90aGlzLnByaWNlTGV2ZWxbMF07CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZENhdGVnb3J5QWNjb3VudEFuZFRheDogZnVuY3Rpb24gbG9hZENhdGVnb3J5QWNjb3VudEFuZFRheCgpIHsKICAgICAgLy8gdGhpcy5tT3RoZXJUYXggPSB0aGlzLm1DYXRlZ29yeS50YXguaGFzT3duUHJvcGVydHkoIm90aGVyVGF4IikKICAgICAgLy8gICAgID8gdGhpcy5tQ2F0ZWdvcnkudGF4Lm90aGVyVGF4CiAgICAgIC8vICAgICA6IHt9OwogICAgICAvLyB0aGlzLm1TcGVjaWZpY1RheCA9IHRoaXMubUNhdGVnb3J5LnRheC5oYXNPd25Qcm9wZXJ0eSgic3BlY2lmaWNUYXgiKQogICAgICAvLyAgICAgPyB0aGlzLm1DYXRlZ29yeS50YXguc3BlY2lmaWNUYXgKICAgICAgLy8gICAgIDoge307CiAgICAgIC8vIHRoaXMubURlZmF1bHRUYXggPSB0aGlzLm1DYXRlZ29yeS50YXguaGFzT3duUHJvcGVydHkoImRlZmF1bHRUYXgiKQogICAgICAvLyAgICAgPyB0aGlzLm1DYXRlZ29yeS50YXguZGVmYXVsdFRheAogICAgICAvLyAgICAgOiB7fTsKICAgICAgLy8gdGhpcy5tUHVyY2hhc2VUYXggPSB0aGlzLm1DYXRlZ29yeS50YXguaGFzT3duUHJvcGVydHkoInB1cmNoYXNlVGF4IikKICAgICAgLy8gICAgID8gdGhpcy5tQ2F0ZWdvcnkudGF4LnB1cmNoYXNlVGF4CiAgICAgIC8vICAgICA6IHt9OwogICAgICB0aGlzLmluY29tZUFjYyA9IHRoaXMubUNhdGVnb3J5LmFjY291bnQuaGFzT3duUHJvcGVydHkoImluY29tZUFjYyIpID8gdGhpcy5tQ2F0ZWdvcnkuYWNjb3VudC5pbmNvbWVBY2MgOiB7fTsKICAgICAgdGhpcy5tQWNjSW52ZW50b3J5ID0gdGhpcy5tQ2F0ZWdvcnkuYWNjb3VudC5oYXNPd25Qcm9wZXJ0eSgiaW52ZW50b3J5QWNjIikgPyB0aGlzLm1DYXRlZ29yeS5hY2NvdW50LmludmVudG9yeUFjYyA6IHt9OwogICAgICB0aGlzLm1BY2NDb3N0T2ZHb29kU29sZCA9IHRoaXMubUNhdGVnb3J5LmFjY291bnQuaGFzT3duUHJvcGVydHkoImNvc3RPZkdvb2RzU29sZEFjYyIpID8gdGhpcy5tQ2F0ZWdvcnkuYWNjb3VudC5jb3N0T2ZHb29kc1NvbGRBY2MgOiB7fTsKICAgIH0sCiAgICBpbml0RGF0YTogZnVuY3Rpb24gaW5pdERhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczIuJHJvdXRlLnBhcmFtcy5pZCAhPT0gdW5kZWZpbmVkKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIubG9hZFNpbmdsZVByb2R1Y3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGRzID0gX3RoaXMyLiRyZWZzLmRhdGFTb3VyY2Uua2VuZG9XaWRnZXQoKTsKICAgICAgICAgICAgICAgIGRzLmRhdGEoW10pOwoKICAgICAgICAgICAgICAgIF90aGlzMi5hZGRSb3coKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkUm93OiBmdW5jdGlvbiBhZGRSb3coKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuZGF0YVNvdXJjZS5rZW5kb1dpZGdldCgpLAogICAgICAgICAgdG90YWwgPSBkcy50b3RhbCgpOwogICAgICBkcy5pbnNlcnQodG90YWwsIHsKICAgICAgICB2YXJpYW50OiB0aGlzLnZhcmlhbnQKICAgICAgfSk7CiAgICB9LAogICAgLy8gUm93IE51bWJlciBUZW1wbGF0ZQogICAgcm93TnVtYmVyVG1wbDogZnVuY3Rpb24gcm93TnVtYmVyVG1wbChkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmRhdGFTb3VyY2Uua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgLy8gR3JpZCBDdXN0b20gRWRpdG9yCiAgICBhdHRyaWJ1dGVEcm9wRG93bkVkaXRvcjogZnVuY3Rpb24gYXR0cmlidXRlRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IHJlcXVpcmVkIG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiBmYWxzZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1jb2RlIyAtICM9bmFtZSM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIGRhdGE6IHRoaXMudmFyaWFudFR5cGVzCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgLy8gUmVtb3ZlIFJvdwogICAgcmVtb3ZlUm93OiBmdW5jdGlvbiByZW1vdmVSb3coZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZCIpLmRhdGEoImtlbmRvR3JpZCIpLAogICAgICAgICAgZGF0YVNvdXJjZSA9IGdyaWQuZGF0YVNvdXJjZSwKICAgICAgICAgIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CgogICAgICBpZiAoZGF0YVNvdXJjZS50b3RhbCgpID4gMSkgewogICAgICAgIGRhdGFTb3VyY2UucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgfQogICAgfSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHt9LAogICAgb25FZGl0Q2xpY2s6IGZ1bmN0aW9uIG9uRWRpdENsaWNrKHZhbHVlKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnByb2R1Y3QgPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uTmV3Q2xpY2s6IGZ1bmN0aW9uIG9uTmV3Q2xpY2soKSB7CiAgICAgIHRoaXMucHJvZHVjdC5pZCA9ICIiOwogICAgICB0aGlzLmNsZWFyKCk7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKGRhdGEpIHsKICAgICAgd2luZG93Lmhpc3RvcnkuZ28oLTEpOwogICAgICB3aW5kb3cuY29uc29sZS5sb2coZGF0YSwgIi0tZGF0YSIpOyAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgIC8vICAgbmFtZTogJ1Byb2R1Y3RzJywgcGFyYW1zOiB7CiAgICAgIC8vICAgICBkYXRhOiBkYXRhCiAgICAgIC8vICAgfQogICAgICAvLyB9KQogICAgfSwKICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHsKICAgICAgdGhpcy5wcm9kdWN0ID0ge307CiAgICB9LAogICAgb25TYXZlQ2xvc2U6IGZ1bmN0aW9uIG9uU2F2ZUNsb3NlKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciB2YXJpYW50cywgZHMsIGRhdGFWYWxpZGF0ZSwgdmFyaWFudEFSLCB2YXJpYW50OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNC4kcmVmcy5mb3JtLnZhbGlkYXRlKCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB2YXJpYW50cyA9IFtdOwogICAgICAgICAgICAgICAgZHMgPSBfdGhpczQuJHJlZnMuZGF0YVNvdXJjZS5rZW5kb1dpZGdldCgpOwogICAgICAgICAgICAgICAgZGF0YVZhbGlkYXRlID0gMDsKICAgICAgICAgICAgICAgIGRzLmRhdGEoKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKHZhbHVlKQogICAgICAgICAgICAgICAgICBpZiAodmFsdWUudmFyaWFudCA9PSB1bmRlZmluZWQgfHwgdmFsdWUudmFyaWFudC5pZCA9PSB1bmRlZmluZWQgfHwgdmFsdWUudmFyaWFudC5pZCA9PSBudWxsIHx8IHZhbHVlLnZhcmlhbnQuaWQgPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczQuJHNub3RpZnkuZXJyb3IoIlBsZWFzZSBjaGVjayBWYXJpYW50cyBvbiByb3cgIiArIChpbmRleCArIDEpKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBkYXRhVmFsaWRhdGUgKz0gMTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB2YXJpYW50QVIgPSBkcy5kYXRhKCk7CgogICAgICAgICAgICAgICAgaWYgKHZhcmlhbnRBUi5sZW5ndGggPT0gZGF0YVZhbGlkYXRlKSB7CiAgICAgICAgICAgICAgICAgIHZhcmlhbnQgPSBkcy5kYXRhKCk7CiAgICAgICAgICAgICAgICAgIHZhcmlhbnQuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICAgIHZhcmlhbnRzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogaS52YXJpYW50LAogICAgICAgICAgICAgICAgICAgICAgdWlkOiBpLnVpZAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7IC8vIGlmICh0aGlzLnByb2R1Y3QuaWQgPT09ICcnIHx8IHRoaXMucHJvZHVjdC5pZCA9PT0gdW5kZWZpbmVkKSB7CgogICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBfdGhpczQuJHJvdXRlLnBhcmFtcy5pZCA/IF90aGlzNC4kcm91dGUucGFyYW1zLmlkIDogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IF90aGlzNC5wcm9kdWN0Lm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHNrdTogX3RoaXM0LnByb2R1Y3Quc2t1LAogICAgICAgICAgICAgICAgICAgICAgICBzYWxlRGVzY3JpcHRpb246IF90aGlzNC5wcm9kdWN0LnNhbGVEZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgcHVyY2hhc2VEZXNjcmlwdGlvbjogX3RoaXM0LnByb2R1Y3QucHVyY2hhc2VEZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IF90aGlzNC5wcm9kdWN0LnByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICBjb3N0OiBfdGhpczQucHJvZHVjdC5jb3N0LAogICAgICAgICAgICAgICAgICAgICAgICByZU9yZGVyUVRZOiBfdGhpczQucHJvZHVjdC5yZU9yZGVyUVRZLAogICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogX3RoaXM0Lm1DYXRlZ29yeSB8fCB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VMZXZlbDogX3RoaXM0LnByb2R1Y3QucHJpY2VMZXZlbCwKICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IF90aGlzNC5tR3JvdXAgfHwge30sCiAgICAgICAgICAgICAgICAgICAgICAgIHN1Ykdyb3VwOiBfdGhpczQubVN1Ykdyb3VwIHx8IHt9LAogICAgICAgICAgICAgICAgICAgICAgICB1b206IF90aGlzNC5tVU9NLAogICAgICAgICAgICAgICAgICAgICAgICB3YXJlaG91c2U6IF90aGlzNC5tV2FyZUhvdXNlLAogICAgICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnlBY2M6IF90aGlzNC5tQWNjSW52ZW50b3J5LAogICAgICAgICAgICAgICAgICAgICAgICBpbmNvbWVBY2M6IF90aGlzNC5pbmNvbWVBY2MsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvc3RPZkdvb2RzU29sZEFjYzogX3RoaXM0Lm1BY2NDb3N0T2ZHb29kU29sZCwKICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdFRheDogdGhpcy5tRGVmYXVsdFRheCwKICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHVyY2hhc2VUYXg6IHRoaXMubVB1cmNoYXNlVGF4LAogICAgICAgICAgICAgICAgICAgICAgICAvLyBzcGVjaWZpY1RheDogdGhpcy5tU3BlY2lmaWNUYXgsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG90aGVyVGF4OiB0aGlzLm1PdGhlclRheCwKICAgICAgICAgICAgICAgICAgICAgICAgZm9ybVRlbXBsYXRlOiBfdGhpczQubUZvcm1UZW1wbGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogdmFyaWFudHMsCiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogX3RoaXM0LnZhcmlhbnRJZCwKICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVTb2xkOiBfdGhpczQucHJvZHVjdC5jYW5CZVNvbGQsCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlUHJvZHVjZTogX3RoaXM0LnByb2R1Y3QuY2FuQmVQcm9kdWNlLAogICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVJlbnQ6IF90aGlzNC5wcm9kdWN0LmNhbkJlUmVudCwKICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVQdXJjaGFzZTogX3RoaXM0LnByb2R1Y3QuY2FuQmVQdXJjaGFzZSwKICAgICAgICAgICAgICAgICAgICAgICAgaXNGYXZvcml0ZTogX3RoaXM0LnByb2R1Y3QuaXNGYXZvcml0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgYmF0Y2hPclNlcmlhbDogX3RoaXM0LnByb2R1Y3QuYmF0Y2hPclNlcmlhbCwKICAgICAgICAgICAgICAgICAgICAgICAgcmVVc2VkOiBfdGhpczQucHJvZHVjdC5yZVVzZWQgfHwgZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhdGNoVHJhY2tlZDogdGhpcy5tU2VyaWFsT3JCYXRjaCA9PSAxID8gdGhpcy5wcm9kdWN0LmJhdGNoVHJhY2tlZCA6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzU2VyaWFsTnVtYmVyOiB0aGlzLm1TZXJpYWxPckJhdGNoID09IDIgPyB0aGlzLnByb2R1Y3QuaXNTZXJpYWxOdW1iZXIgOiAwLAogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IF90aGlzNC5wcm9kdWN0LnN0YXR1cyB8fCAxLAogICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVkOiBfdGhpczQucHJvZHVjdC5kZWxldGVkIHx8IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IF90aGlzNC4kcm91dGUucGFyYW1zLmlkID8gX3RoaXM0LiRyb3V0ZS5xdWVyeS50eXBlIDogIm5ldyIKICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKTsKICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RIYW5kbGVyLmNyZWF0ZShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmxvYWRTYWxlVUMoKQogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2xlYXIoKQogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC4kc25vdGlmeS5zdWNjZXNzKCJTdWNjZXNzIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5jbG9zZShyZXNwb25zZS5kYXRhLmRhdGEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuJHJlZnMuZm9ybS5yZXNldCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuJHNub3RpZnkuZXJyb3IoIlNvbWV0aGluZyB3ZW50IHdyb25nIik7CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goZSk7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbkNhdGVnb3J5Q2hhbmdlZDogZnVuY3Rpb24gb25DYXRlZ29yeUNoYW5nZWQoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLm1DYXRlZ29yeSkKCiAgICAgICAgICAgICAgICAgICAgX3RoaXM1Lm1Hcm91cCA9ICIiOwogICAgICAgICAgICAgICAgICAgIF90aGlzNS5tU3ViR3JvdXAgPSAiIjsKICAgICAgICAgICAgICAgICAgICBfdGhpczUuZ3JvdXAgPSBfdGhpczUuZ3JvdXBzLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uY2F0ZWdvcnkuaWQgPT09IF90aGlzNS5tQ2F0ZWdvcnkuaWQ7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczUuZ3JvdXAubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM1Lm1Hcm91cCA9IF90aGlzNS5ncm91cFswXTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5zdWJHcm91cCA9IF90aGlzNS5zdWJHcm91cHMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmdyb3VwLmlkID09PSBfdGhpczUuZ3JvdXBbMF0uaWQ7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LnN1Ykdyb3VwLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1Lm1TdWJHcm91cCA9IF90aGlzNS5zdWJHcm91cFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIF90aGlzNS5sb2FkQ2F0ZWdvcnlBY2NvdW50QW5kVGF4KCk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQWNjb3VudDogZnVuY3Rpb24gbG9hZEFjY291bnQoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNi5hY2NMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgYWNjb3VudEhhbmRsZXIuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5hY2NSZXZlbnVlID0gcmVzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmFjY291bnRfdHlwZS5udW1iZXIgPT09IDMyOwogICAgICAgICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6IGl0ZW0ubG9jYWxfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGl0ZW0ubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0ZW0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5oamlBY2NDb2RlOiBpdGVtLmJhbmhqaUFjY0NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfY29kZTogaXRlbS5ncm91cF9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdGVtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfY29kZTogaXRlbS50eXBlX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudF90eXBlOiBpdGVtLmFjY291bnRfdHlwZQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNi5hY2NSZXZlbnVlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmluY29tZUFjYyA9IF90aGlzNi5hY2NSZXZlbnVlWzBdOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5hY2NJbnZlbnRvcnkgPSByZXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYWNjb3VudF90eXBlLm51bWJlciA9PT0gODsKICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbF9uYW1lOiBpdGVtLmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpdGVtLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICBpc190YXhhYmxlOiBpdGVtLmlzX3RheGFibGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuaGppQWNjQ29kZTogaXRlbS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX2NvZGU6IGl0ZW0uZ3JvdXBfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfYWNjb3VudDogaXRlbS5wYXJlbnRfYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2NvZGU6IGl0ZW0udHlwZV9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRfdHlwZTogaXRlbS5hY2NvdW50X3R5cGUKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczYuYWNjSW52ZW50b3J5Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2Lm1BY2NJbnZlbnRvcnkgPSBfdGhpczYuYWNjSW52ZW50b3J5WzBdOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5hY2NDb3N0T2ZHb29kU29sZCA9IHJlcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5hY2NvdW50X3R5cGUubnVtYmVyID09PSAzMzsKICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbF9uYW1lOiBpdGVtLmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpdGVtLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICBpc190YXhhYmxlOiBpdGVtLmlzX3RheGFibGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuaGppQWNjQ29kZTogaXRlbS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX2NvZGU6IGl0ZW0uZ3JvdXBfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfYWNjb3VudDogaXRlbS5wYXJlbnRfYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2NvZGU6IGl0ZW0udHlwZV9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRfdHlwZTogaXRlbS5hY2NvdW50X3R5cGUKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczYuYWNjQ29zdE9mR29vZFNvbGQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYubUFjY0Nvc3RPZkdvb2RTb2xkID0gX3RoaXM2LmFjY0Nvc3RPZkdvb2RTb2xkWzBdOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5hY2NMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQ2F0ZWdvcnk6IGZ1bmN0aW9uIGxvYWRDYXRlZ29yeSgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUhhbmRsZXIuZ2V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5jYXRlZ29yaWVzID0gcmVzOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmNhdGVnb3JpZXMgPSBfdGhpczcuY2F0ZWdvcmllcy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uaGFzT3duUHJvcGVydHkoInR5cGUiKSAmJiBtLnR5cGUubmFtZSA9PT0gIlByb2R1Y3QiOwogICAgICAgICAgICAgICAgICAgICAgfSk7IC8vIGlmICh0aGlzLmNhdGVnb3JpZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgLy8gICB0aGlzLm1DYXRlZ29yeSA9IHRoaXMuY2F0ZWdvcmllc1swXQogICAgICAgICAgICAgICAgICAgICAgLy8gICB0aGlzLm9uQ2F0ZWdvcnlDaGFuZ2VkKCkKICAgICAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRHcm91cDogZnVuY3Rpb24gbG9hZEdyb3VwKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIGdyb3VwSGFuZGxlci5nZXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXM4Lmdyb3VwcyA9IHJlczsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRTdWJHcm91cDogZnVuY3Rpb24gbG9hZFN1Ykdyb3VwKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHN1Ykdyb3VwSGFuZGxlci5nZXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LnN1Ykdyb3VwcyA9IHJlczsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNrdUdlbmVyYXRvcjogZnVuY3Rpb24gc2t1R2VuZXJhdG9yKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBjYXRlZ29yeSA9IF90aGlzMTAubUNhdGVnb3J5IHx8IHt9OwogICAgICAgICAgICAgICAgICAgIHZhciBncm91cCA9IF90aGlzMTAubUdyb3VwIHx8IHt9OwogICAgICAgICAgICAgICAgICAgIHZhciBzR3JvdXAgPSBfdGhpczEwLm1TdWJHcm91cCB8fCB7fTsKICAgICAgICAgICAgICAgICAgICB2YXIgY2F0ZUFiYnIgPSAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBBYmJyID0gIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIHNHcm91cEFiYnIgPSAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgc2t1Q29kZSA9ICIiOwoKICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnkuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgIGNhdGVBYmJyID0gY2F0ZWdvcnkuYWJiciB8fCAiIjsKICAgICAgICAgICAgICAgICAgICAgIHNrdUNvZGUgKz0gY2F0ZUFiYnIgKyAiLyI7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoZ3JvdXAuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgIGdyb3VwQWJiciA9IGdyb3VwLmFiYnIgfHwgIiI7CiAgICAgICAgICAgICAgICAgICAgICBza3VDb2RlICs9IGdyb3VwQWJiciArICIvIjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChzR3JvdXAuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgIHNHcm91cEFiYnIgPSBzR3JvdXAuYWJiciB8fCAiIjsKICAgICAgICAgICAgICAgICAgICAgIHNrdUNvZGUgKz0gc0dyb3VwQWJicjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnLS14eCcsIGNhdGVnb3J5LCBncm91cCwgc0dyb3VwKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczEwLnByb2R1Y3Quc2t1ID0gc2t1Q29kZTsgLy8gaWYgKHRoaXMucHJvZHVjdC5uYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMucHJvZHVjdC5za3UgPQogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2t1Q29kZSArIHRoaXMucHJvZHVjdC5uYW1lLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDMpOwogICAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFVPTTogZnVuY3Rpb24gbG9hZFVPTSgpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB1b21IYW5kbGVyLmdldCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS51b20gPSByZXM7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTEudW9tLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5tVU9NID0gX3RoaXMxMS51b21bMF07CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRXYXJlSG91c2VzOiBmdW5jdGlvbiBsb2FkV2FyZUhvdXNlcygpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB3YXJlaG91c2VIYW5kbGVyLmdldFdhcmVob3VzZVNldHRpbmdBbGwoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIud2FyZUhvdXNlcyA9IHJlczsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMi53YXJlSG91c2VzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5tV2FyZUhvdXNlID0gX3RoaXMxMi53YXJlSG91c2VzWzBdOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkVmFyaWFudHM6IGZ1bmN0aW9uIGxvYWRWYXJpYW50cygpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXJpYW50SGFuZGxlci5nZXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMudmFyaWFudFR5cGVzID0gcmVzOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczEzLnZhcmlhbnRUeXBlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuaW5pdERhdGEoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFRheDogZnVuY3Rpb24gbG9hZFRheCgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBzZXR0aW5nSGFuZGxlci5nZXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQudGF4ID0gcmVzOwoKICAgICAgICAgICAgICAgICAgICAgIHZhciBzdCA9IF90aGlzMTQudGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS50YXhUeXBlLnR5cGVJZCA9PT0gODsKICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyB2YWx1YWJsZSB0YXgKCgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5zcGVjaWZpY1RheCA9IHN0OyAvLyBzcGVjaWFsIHRheAoKICAgICAgICAgICAgICAgICAgICAgIHZhciB2QVQgPSBfdGhpczE0LnRheC5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0udGF4VHlwZS50eXBlSWQgPT09IDEgJiYgbS50cmFuc2FjdGlvblR5cGUgPT09ICJTYWxlIjsKICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyB2YWx1YWJsZSB0YXgKCgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC52YXQgPSB2QVQ7IC8vIHZhbHVhYmxlIHRheAoKICAgICAgICAgICAgICAgICAgICAgIHZhciBvdFRheCA9IF90aGlzMTQudGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS50YXhUeXBlLnR5cGVJZCA9PT0gNzsKICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyB2YWx1YWJsZSB0YXgKCgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5vdGhlclRheCA9IG90VGF4OyAvLyB2YWx1YWJsZSB0YXgKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnB1cmNoYXNlVGF4ID0gX3RoaXMxNC50YXguZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLnRheFR5cGUudHlwZUlkID09PSAxICYmIG0udHJhbnNhY3Rpb25UeXBlID09PSAiUHVyY2hhc2UiOwogICAgICAgICAgICAgICAgICAgICAgfSk7IC8vIHZhbHVhYmxlIHRheAoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE0LnNwZWNpZmljVGF4Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5tU3BlY2lmaWNUYXggPSBfdGhpczE0LnNwZWNpZmljVGF4WzBdOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE0LnZhdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQubURlZmF1bHRUYXggPSBfdGhpczE0LnZhdFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNC5vdGhlclRheC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQubU90aGVyVGF4ID0gX3RoaXMxNC5vdGhlclRheFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNC5wdXJjaGFzZVRheC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQubVB1cmNoYXNlVGF4ID0gX3RoaXMxNC5wdXJjaGFzZVRheFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFNpbmdsZVByb2R1Y3Q6IGZ1bmN0aW9uIGxvYWRTaW5nbGVQcm9kdWN0KCkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTUuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHByb2R1Y3RIYW5kbGVyLmdldE9uZShfdGhpczE1LiRyb3V0ZS5wYXJhbXMuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5wcm9kdWN0ID0gcmVzOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE1LnByb2R1Y3QuaWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1Lm1DYXRlZ29yeSA9IF90aGlzMTUucHJvZHVjdC5jYXRlZ29yeTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5tR3JvdXAgPSBfdGhpczE1LnByb2R1Y3QuZ3JvdXA7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUubVN1Ykdyb3VwID0gX3RoaXMxNS5wcm9kdWN0LnN1Ykdyb3VwOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1Lm1VT00gPSBfdGhpczE1LnByb2R1Y3QudW9tOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1Lm1BY2NDb3N0T2ZHb29kU29sZCA9IF90aGlzMTUucHJvZHVjdC5jb3N0T2ZHb29kc1NvbGRBY2M7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUubUFjY0ludmVudG9yeSA9IF90aGlzMTUucHJvZHVjdC5pbnZlbnRvcnlBY2M7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUuaW5jb21lQWNjID0gX3RoaXMxNS5wcm9kdWN0LmluY29tZUFjYzsgLy8gdGhpcy5tU3BlY2lmaWNUYXggPSB0aGlzLnByb2R1Y3Quc3BlY2lmaWNUYXg7CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1Lm1TZXJpYWxPckJhdGNoID0gX3RoaXMxNS5wcm9kdWN0LmlzU2VyaWFsTnVtYmVyID4gMCA/IF90aGlzMTUucHJvZHVjdC5pc1NlcmlhbE51bWJlciA6IF90aGlzMTUucHJvZHVjdC5iYXRjaFRyYWNrZWQ7IC8vIHRoaXMubU90aGVyVGF4ID0gdGhpcy5wcm9kdWN0Lm90aGVyVGF4OwogICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLm1EZWZhdWx0VGF4ID0gdGhpcy5wcm9kdWN0LmRlZmF1bHRUYXg7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubVB1cmNoYXNlVGF4ID0gdGhpcy5wcm9kdWN0LnB1cmNoYXNlVGF4OwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5wcm9kdWN0VmFyaWFudCA9IF90aGlzMTUucHJvZHVjdC52YXJpYW50OwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1Lm1XYXJlSG91c2UgPSBfdGhpczE1LnByb2R1Y3Qud2FyZWhvdXNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnZhckxpc3RzID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUudmFyaWFudElkID0gX3RoaXMxNS5wcm9kdWN0LnZhcmlhbnQuaWQ7CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnByb2R1Y3QudmFyaWFudC52YXJpYW50LmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnZhckxpc3RzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBtLnZhcmlhbnQubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG0udmFyaWFudC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogbS52YXJpYW50LmNvZGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CgogICAgICB0aGlzLiRzd2FsKHsKICAgICAgICB0aXRsZTogaTE4bi50KCJtc2dfdGl0bGVfd2FybmluZyIpLAogICAgICAgIHRleHQ6IGkxOG4udCgibXNnX2Rpc2NhcmQiKSwKICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBpMThuLnQoImNhbmNlbCIpLAogICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiM0ZDQ4NDgiLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI0VEMUEzQSIsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IGkxOG4udCgiZGlzY2FyZCIpCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdENlbikgewogICAgICAgIGlmIChyZXN1bHRDZW4udmFsdWUpIHsKICAgICAgICAgIF90aGlzMTYuJHJvdXRlci5nbygtMSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfbW91bnRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE2JChfY29udGV4dDE2KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRVT00oKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRXYXJlSG91c2VzKCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkVmFyaWFudHMoKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRQcmljZUxldmVsKCk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTE2LCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICByZXR1cm4gX21vdW50ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gbW91bnRlZDsKICB9KCksCiAgY29tcHV0ZWQ6IHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfY3JlYXRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRBY2NvdW50KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkQ2F0ZWdvcnkoKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRHcm91cCgpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZFN1Ykdyb3VwKCk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTE3LCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICByZXR1cm4gX2NyZWF0ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gY3JlYXRlZDsKICB9KCksCiAgd2F0Y2g6IHsKICAgIGlkOiBmdW5jdGlvbiBpZCgpIHsKICAgICAgLy8gdGhpcy5wcm9kdWN0ID0gdGhpcy5zZWxlY3RlZFByb2R1Y3QKICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMuaWQsICJ3YXRjaCIpOwoKICAgICAgaWYgKHRoaXMuaWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMubG9hZFNpbmdsZVByb2R1Y3QoKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Product.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col cols=\"12\" sm=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\">\n                        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                            <v-card outlined dense class=\"no_border\">\n                                <h2 class=\"mb-0\">{{ $t(\"product\") }}</h2>\n                                <v-icon\n                                    @click=\"cancel()\"\n                                    style=\"cursor: pointer; color: #333; font-size: 40px\"\n                                    class=\"float-right\">close\n                                </v-icon>\n                            </v-card>\n                            <v-card outlined dense class=\"px-4 no_border\" color=\"grayBg\">\n                                <v-row>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label mb-0\">{{$t(\"product_category\")}}</label>\n                                        <v-select\n                                            class=\"mt-1\"\n                                            :placeholder=\"$t('category')\"\n                                            outlined\n                                            tage=\"Product Category\"\n                                            v-model=\"mCategory\"\n                                            :items=\"categories\"\n                                            item-value=\"id\"\n                                            :item-text=\"(item) => `${item.abbr} - ${item.name}`\"\n                                            @change=\"onCategoryChanged\"\n                                            return-object\n                                            :rules=\"[(v) => !!v['id'] || 'is required']\"\n                                            required/>\n                                        <label class=\"label mb-0\">{{ $t(\"product_group\") }}</label>\n                                        <v-select\n                                            class=\"mt-1\"\n                                            :placeholder=\"$t('select_group')\"\n                                            outlined\n                                            tage=\"Product Group\"\n                                            v-model=\"mGroup\"\n                                            :items=\"group\"\n                                            @change=\"skuGenerator\"\n                                            item-value=\"id\"\n                                            :item-text=\"(item) => `${item.abbr} - ${item.name}`\"\n                                            return-object\n                                            clearable\n                                            required/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pl-0\">\n                                        <label class=\"label mb-0\">{{ $t(\"sub_group\") }}</label>\n                                        <v-select\n                                            class=\"mt-1\"\n                                            :placeholder=\"$t('select_sub_group')\"\n                                            outlined\n                                            tage=\"Sub Group\"\n                                            v-model=\"mSubGroup\"\n                                            @change=\"skuGenerator\"\n                                            :items=\"subGroup\"\n                                            item-value=\"id\"\n                                            :item-text=\"(item) => `${item.abbr} - ${item.name}`\"\n                                            clearable\n                                            return-object\n                                            required/>\n                                        <label class=\"label mb-0\">{{ $t(\"product_name\") }}</label>\n                                        <v-text-field\n                                            class=\"mt-1\"\n                                            :placeholder=\"$t('name')\"\n                                            outlined\n                                            v-model=\"product.name\"\n                                            :rules=\"[(v) => !!v || 'is required']\"\n                                            required/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"my_checkbox\">\n                                        <label class=\"label mb-0 mt-1 mx-1\">{{ $t(\"sku\") }}</label>\n                                        <div class=\"d-flex\">\n                                            <v-text-field\n                                                class=\"mt-1 flex-1\"\n                                                v-model=\"product.sku\"\n                                                outlined\n                                                :rules=\"[(v) => !!v || 'is required']\"\n                                                required/>\n                                            <v-icon\n                                                color=\"black\"\n                                                size=\"30\"\n                                                @click=\"skuGenerator\"\n                                                class=\"border_qrcode ml-2 mt-1\">mdi-qrcode\n                                            </v-icon>\n                                        </div>\n                                        <h2 class=\"font_12 mt-0\">{{ $t(\"how_this_product\") }}</h2>\n                                        <v-row>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"my_radio pl-0 d-flex py-0\">\n                                                <div>\n                                                    <input\n                                                        id=\"radio1\"\n                                                        name=\"radio\"\n                                                        type=\"radio\"\n                                                        value=\"1\"\n                                                        v-model=\"product.batchOrSerial\"/>\n                                                    <label for=\"radio1\">{{ $t(\"batch\") }}</label>\n                                                </div>\n                                                <div>\n                                                    <input\n                                                        id=\"radio2\"\n                                                        name=\"radio\"\n                                                        type=\"radio\"\n                                                        value=\"2\"\n                                                        v-model=\"product.batchOrSerial\"/>\n                                                    <label for=\"radio2\">{{ $t(\"serial\") }}</label>\n                                                </div>\n                                                <input\n                                                    type=\"checkbox\"\n                                                    id=\"useAsFavorite\"\n                                                    v-model=\"product.reUsed\"/>\n                                                <label for=\"useAsFavorite\">{{$t(\"not_reuse\")}}</label>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                            <h2 class=\"font_18 mb-0 mt-2\">\n                                {{ $t(\"transaction_description\") }}\n                            </h2>\n                            <v-card outlined dense class=\"px-4 mb-4 rounded-0\" height=\"188px\">\n                                <v-row>\n                                    <v-col sm=\"6\" cols=\"12\">\n                                        <h2 class=\"font_16 mb-0\">\n                                            {{ $t(\"purchased_description\") }}\n                                        </h2>\n                                        <p class=\"grayBg---text mb-2\">\n                                            {{ $t(\"purchase_description_detail\") }}\n                                        </p>\n                                        <v-textarea\n                                            v-model=\"product.saleDescription\"\n                                            outlined\n                                            no-resize\n                                            height=\"100px\"\n                                            rows=\"3\"/>\n                                    </v-col>\n                                    <v-col sm=\"6\" cols=\"12\">\n                                        <h2 class=\"font_16 mb-0\">{{ $t(\"sale_description\") }}</h2>\n                                        <p class=\"grayBg---text mb-2\">\n                                            {{ $t(\"sale_description_detail\") }}\n                                        </p>\n                                        <v-textarea\n                                            v-model=\"product.purchaseDescription\"\n                                            outlined\n                                            no-resize\n                                            height=\"100px\"\n                                            rows=\"3\"/>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                            <h2 class=\"font_18 mb-0 mt-0\">\n                                {{ $t(\"product_info\") }}\n                            </h2>\n                            <v-card outlined dense class=\"px-4 rounded-0\">\n                                <v-row>\n                                    <v-col cols=\"12\">\n                                        <p class=\"grayBg---text mb-0\">\n                                            {{ $t(\"def_info_product\") }}\n                                        </p>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                                <label>{{ $t(\"uom\") }}</label>\n                                            </v-col>\n                                            <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                                                <v-select\n                                                    :placeholder=\"$t('uom')\"\n                                                    outlined\n                                                    tage=\"UOM\"\n                                                    :rules=\"[(v) => !!v || 'Number is required']\"\n                                                    v-model=\"mUOM\"\n                                                    :items=\"uom\"\n                                                    item-value=\"id\"\n                                                    :item-text=\"(item) => `${item.name}`\"\n                                                    return-object\n                                                    required/>\n                                            </v-col>\n                                        </v-row>\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                                <label>{{ $t(\"price_level\") }}</label>\n                                            </v-col>\n                                            <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                                                <v-select\n                                                    :placeholder=\"$t('price_level')\"\n                                                    outlined\n                                                    tage=\"price level\"\n                                                    :rules=\"[(v) => !!v || 'Number is required']\"\n                                                    v-model=\"product.priceLevel\"\n                                                    :items=\"priceLevel\"\n                                                    item-value=\"id\"\n                                                    item-text=\"name\"\n                                                    return-object\n                                                    required/>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                                <label>{{ $t(\"selling_price\") }}</label>\n                                            </v-col>\n                                            <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                                                <v-text-field\n                                                    outlined\n                                                    :rules=\"[(v) => !!v || 'Number is required']\"\n                                                    type=\"number\"\n                                                    v-model=\"product.price\"\n                                                    required/>\n                                            </v-col>\n                                        </v-row>\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                                <label>{{ $t(\"warehouse\") }}</label>\n                                            </v-col>\n                                            <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                                                <v-select\n                                                    :placeholder=\"$t('default_warehouse')\"\n                                                    outlined\n                                                    tage=\"Default Warehouse\"\n                                                    v-model=\"mWareHouse\"\n                                                    :items=\"wareHouses\"\n                                                    item-value=\"id\"\n                                                    :item-text=\"(item) => `${item.name}`\"\n                                                    return-object\n                                                    clearable\n                                                    required/>\n                                            </v-col>\n                                        </v-row>\n                                        <!-- <v-row>\n                                                              <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                                                <label>{{ $t('initial_cost_per_unit') }}</label>\n                                                              </v-col>\n                                                              <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                                                                <v-text-field outlined\n                                                                              :rules=\"[v => !!v || 'Number is required']\"\n                                                                              v-model=\"product.cost\"\n                                                                              type=\"number\"\n                                                                              required/>\n                                                              </v-col>\n                                                            </v-row> -->\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                                <label>{{ $t(\"recorder_qty\") }}</label>\n                                            </v-col>\n                                            <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                                                <v-text-field\n                                                    outlined\n                                                    v-model=\"product.reOrderQTY\"\n                                                    type=\"number\"/>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                            <v-card outlined dense class=\"no_border my-1\">\n                                <v-row>\n                                    <v-col sm=\"7\" cols=\"12\">\n                                        <v-card\n                                            outlined\n                                            dense\n                                            class=\"px-4 rounded-0\"\n                                            height=\"428px\">\n                                            <v-row>\n                                                <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                                    <h2 class=\"font_18 mb-0\">{{ $t(\"account\") }}</h2>\n                                                    <p class=\"mb-0 mb-1 color_grey\">\n                                                        {{ $t(\"account_tax_prod_desc\") }}\n                                                    </p>\n                                                </v-col>\n                                                <v-col sm=\"6\" cols=\"12\">\n                                                    <label class=\"label\">{{ $t(\"inventory\") }}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        :placeholder=\"$t('select_inventory')\"\n                                                        tage=\"Inventory\"\n                                                        :loading=\"accLoading\"\n                                                        v-model=\"mAccInventory\"\n                                                        :items=\"accInventory\"\n                                                        item-value=\"id\"\n                                                        :item-text=\"(item) => `${item.number} - ${item.name}`\"\n                                                        :rules=\"[(v) => !!v['id'] || 'Number is required']\"\n                                                        return-object\n                                                        outlined/>\n                                                    <label class=\"label\">{{$t(\"cost_of_goods_sold\")}}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        :placeholder=\"$t('select_goods')\"\n                                                        tage=\"Cost of Goods Sold\"\n                                                        v-model=\"mAccCostOfGoodSold\"\n                                                        :loading=\"accLoading\"\n                                                        :items=\"accCostOfGoodSold\"\n                                                        item-value=\"id\"\n                                                        :item-text=\"(item) => `${item.number} - ${item.name}`\"\n                                                        :rules=\"[(v) => !!v['id'] || 'Number is required']\"\n                                                        return-object\n                                                        outlined/>\n                                                    <label class=\"label\">{{ $t(\"revenue\") }}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        :placeholder=\"$t('revenue')\"\n                                                        tage=\"Revenue\"\n                                                        v-model=\"incomeAcc\"\n                                                        :loading=\"accLoading\"\n                                                        :items=\"accRevenue\"\n                                                        item-value=\"id\"\n                                                        :item-text=\"(item) => `${item.number} - ${item.name}`\"\n                                                        :rules=\"[(v) => !!v['id'] || 'Number is required']\"\n                                                        return-object\n                                                        outlined/>\n                                                    <!--                          <label class=\"label\">{{ $t(\"default_tax\") }}</label>-->\n                                                    <!--                          <v-select-->\n                                                    <!--                            class=\"mt-1\"-->\n                                                    <!--                            tage=\"Default Tax\"-->\n                                                    <!--                            v-model=\"mDefaultTax\"-->\n                                                    <!--                            :items=\"vat\"-->\n                                                    <!--                            item-value=\"id\"-->\n                                                    <!--                            item-text=\"defaultTax\"-->\n                                                    <!--                            return-object-->\n                                                    <!--                            outlined-->\n                                                    <!--                          />-->\n                                                </v-col>\n                                                <!--                        <v-col sm=\"6\" cols=\"12\">-->\n                                                <!--                          <label class=\"label\">{{ $t(\"sale_tax\") }}</label>-->\n                                                <!--                          <v-select-->\n                                                <!--                            class=\"mt-1\"-->\n                                                <!--                            tage=\"Default Tax\"-->\n                                                <!--                            v-model=\"mPurchaseTax\"-->\n                                                <!--                            :items=\"purchaseTax\"-->\n                                                <!--                            item-value=\"id\"-->\n                                                <!--                            item-text=\"defaultTax\"-->\n                                                <!--                            return-object-->\n                                                <!--                            outlined-->\n                                                <!--                          />-->\n                                                <!--                          <label class=\"label\">{{ $t(\"purchase_tax\") }}</label>-->\n                                                <!--                          <v-select-->\n                                                <!--                            class=\"mt-1\"-->\n                                                <!--                            tage=\"Default Tax\"-->\n                                                <!--                            v-model=\"mPurchaseTax\"-->\n                                                <!--                            :items=\"purchaseTax\"-->\n                                                <!--                            item-value=\"id\"-->\n                                                <!--                            item-text=\"defaultTax\"-->\n                                                <!--                            return-object-->\n                                                <!--                            outlined-->\n                                                <!--                          />-->\n                                                <!--                          <label class=\"label\">{{ $t(\"specific_tax\") }}</label>-->\n                                                <!--                          <v-select-->\n                                                <!--                            class=\"mt-1\"-->\n                                                <!--                            tage=\"Special Tax\"-->\n                                                <!--                            v-model=\"mSpecificTax\"-->\n                                                <!--                            :items=\"specificTax\"-->\n                                                <!--                            item-value=\"id\"-->\n                                                <!--                            item-text=\"defaultTax\"-->\n                                                <!--                            return-object-->\n                                                <!--                            outlined-->\n                                                <!--                          />-->\n                                                <!--                          <label class=\"label\">{{ $t(\"other_tax\") }}</label>-->\n                                                <!--                          <v-select-->\n                                                <!--                            class=\"mt-1\"-->\n                                                <!--                            tage=\"Special Tax\"-->\n                                                <!--                            v-model=\"mOtherTax\"-->\n                                                <!--                            :items=\"otherTax\"-->\n                                                <!--                            item-value=\"id\"-->\n                                                <!--                            item-text=\"defaultTax\"-->\n                                                <!--                            return-object-->\n                                                <!--                            outlined-->\n                                                <!--                          />-->\n                                                <!--                        </v-col>-->\n                                            </v-row>\n                                        </v-card>\n                                    </v-col>\n                                    <v-col sm=\"5\" cols=\"12\" class=\"pl-1\">\n                                        <v-card outlined dense class=\"px-4 rounded-0\">\n                                            <v-row>\n                                                <v-col cols=\"12\" sm=\"12\">\n                                                    <h2 class=\"font_18 mb-0\">\n                                                        {{ $t(\"product_variants\") }}\n                                                    </h2>\n                                                    <p class=\"mb-0 color_grey\">\n                                                        {{ $t(\"add_funct_prod_variants_desc\") }}\n                                                    </p>\n                                                </v-col>\n                                                <v-col sm=\"12\" cols=\"12\" class=\"pt-2\">\n                                                    <kendo-datasource ref=\"dataSource\" :data=\"varLists\"/>\n                                                    <kendo-grid\n                                                        id=\"grid\"\n                                                        class=\"grid-function\"\n                                                        :data-source-ref=\"'dataSource'\"\n                                                        :sortable=\"false\"\n                                                        :filterable=\"false\"\n                                                        :column-menu=\"true\"\n                                                        :navigatable=\"true\"\n                                                        :editable=\"true\"\n                                                        :scrollable-virtual=\"true\">\n                                                        <kendo-grid-column\n                                                            :title=\"$t('no.')\"\n                                                            :template=\"rowNumberTmpl\"\n                                                            :width=\"45\"\n                                                            :column-menu=\"false\"\n                                                            :headerAttributes=\"{\n                                                                style: 'background-color: #EDF1F5;',\n                                                                class: 'text-center'}\"\n                                                            :attributes=\"{ style: 'text-align: center' }\"/>\n                                                        <kendo-grid-column\n                                                            :field=\"'variant'\"\n                                                            :title=\"$t('variant')\"\n                                                            :width=\"190\"\n                                                            :template=\"'<span>#=variant.name#</span>'\"\n                                                            :editor=\"attributeDropDownEditor\"\n                                                            :headerAttributes=\"{\n                                                                style: 'background-color: #EDF1F5'}\"/>\n                                                        <kendo-grid-column\n                                                            :command=\"{\n                                                                iconClass: 'k-icon k-i-trash',\n                                                                text: 'Delete',\n                                                                click: removeRow,\n                                                                class: 'btn-plus'}\"\n                                                            :title=\"$t('action')\"\n                                                            :width=\"100\"\n                                                            :headerAttributes=\"{\n                                                                style: 'text-align: right; background-color: #EDF1F5'}\"\n                                                        />\n                                                    </kendo-grid>\n                                                    <v-btn\n                                                        color=\"primary\"\n                                                        class=\"float-left rounded-4 ml-0 btn_plus white--text mt-3\"\n                                                        @click=\"addRow\">\n                                                        <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                                    </v-btn>\n                                                </v-col>\n                                            </v-row>\n                                        </v-card>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                            <v-card outlined dense class=\"no_border function_footer\">\n                                <v-btn\n                                    color=\"black\"\n                                    @click=\"cancel\"\n                                    outlined\n                                    class=\"text-capitalize black--text float-left\">{{ $t(\"cancel\") }}\n                                </v-btn>\n                                <!--                                <v-menu>-->\n                                <!--                                    <template v-slot:activator=\"{ on }\">-->\n                                <!--                                        <v-btn-->\n                                <!--                                            class=\"ml-2 float-right black&#45;&#45;text text-capitalize\"-->\n                                <!--                                            v-on=\"on\"-->\n                                <!--                                        >-->\n                                <!--                                            {{ $t(\"save_option\") }}-->\n                                <!--                                            <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>-->\n                                <!--                                        </v-btn>-->\n                                <!--                                    </template>-->\n                                <!--                                </v-menu>-->\n                                <v-btn\n                                    class=\"float-right white--text\"\n                                    color=\"primary\"\n                                    @click=\"onSaveClose\">{{ $t(\"save_close\") }}\n                                </v-btn>\n                                <LoadingMe\n                                    :isLoading=\"showLoading\"\n                                    :fullPage=\"false\"\n                                    type=\"loading\"\n                                    :myLoading=\"true\"/>\n                            </v-card>\n                        </v-form>\n                    </v-card>\n                </v-col>\n            </v-row>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport {i18n} from \"@/i18n\";\nimport ProductModel from \"@/scripts/model/Products\";\nimport kendo from \"@progress/kendo-ui\";\nimport VariantModel from \"@/scripts/model/Variants\";\n\nconst $ = kendo.jQuery;\n\nconst accountHandler = require(\"@/scripts/handler/accounting/account\");\nconst categoryHandler = require(\"@/scripts/categoryHandler\");\nconst groupHandler = require(\"@/scripts/groupHandler\");\nconst subGroupHandler = require(\"@/scripts/subGroupHandler\");\nconst uomHandler = require(\"@/scripts/uomHandler\");\nconst warehouseHandler = require(\"@/scripts/warehouseHandler\");\nconst settingHandler = require(\"@/scripts/settingHandler\");\nconst productHandler = require(\"@/scripts/productHandler\");\nconst variantHandler = require(\"@/scripts/variantTypeHandler\");\nconst priceLevelHandler = require(\"@/scripts/priceLevelHandler\");\n// const attributeHandler = require(\"@/scripts/attributeHandler\")\nconst variantModel = new VariantModel({});\n\nlet productModel = new ProductModel({});\nexport default {\n    name: \"AddProduct\",\n    props: [\"id\"],\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n    },\n    data: function () {\n        return {\n            showLoading: true,\n            accLoading: false,\n            valid: \"\",\n            incomeAcc: \"\",\n            mAccInventory: \"\",\n            mCategory: \"\",\n            mGroup: \"\",\n            mFormTemplate: \"\",\n            formTemplate: [\n                {\n                    id: \"ftp-c35cbe46-1c5e-11eb-adc1-0242ac120002\",\n                    name: \"Form A\",\n                },\n                {\n                    id: \"ftp-c35cc062-1c5e-11eb-adc1-0242ac120002\",\n                    name: \"Form B\",\n                },\n                {\n                    id: \"ftp-c35cc2ec-1c5e-11eb-adc1-0242ac120002\",\n                    name: \"Form C\",\n                },\n            ],\n            mAccCostOfGoodSold: \"\",\n            accRevenue: [],\n            accInventory: [],\n            accCostOfGoodSold: [],\n            categories: [],\n            groups: [],\n            group: [],\n            subGroup: [],\n            uom: [],\n            tax: [],\n            specificTax: [],\n            vat: [],\n            mSubGroup: {},\n            subGroups: [],\n            wareHouses: [],\n            mUOM: {},\n            mWareHouse: {},\n            mSpecificTax: {},\n            mOtherTax: {},\n            otherTax: [],\n            mDefaultTax: {},\n            purchaseTax: [],\n            mPurchaseTax: {},\n            mSerialOrBatch: 0,\n            variantTypes: [],\n            variant: variantModel,\n            varLists: [],\n            product: productModel,\n            productVariant: {},\n            variantId: \"\",\n            priceLevel: [],\n        };\n    },\n    methods: {\n        async loadPriceLevel() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    priceLevelHandler.get().then((res) => {\n                        const data = res || [];\n                        this.priceLevel = data.filter((n) => n.type.name === \"Standard\");\n                        if (this.priceLevel.length > 0) {\n                            this.product.priceLevel = this.priceLevel[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        loadCategoryAccountAndTax() {\n            // this.mOtherTax = this.mCategory.tax.hasOwnProperty(\"otherTax\")\n            //     ? this.mCategory.tax.otherTax\n            //     : {};\n            // this.mSpecificTax = this.mCategory.tax.hasOwnProperty(\"specificTax\")\n            //     ? this.mCategory.tax.specificTax\n            //     : {};\n            // this.mDefaultTax = this.mCategory.tax.hasOwnProperty(\"defaultTax\")\n            //     ? this.mCategory.tax.defaultTax\n            //     : {};\n            // this.mPurchaseTax = this.mCategory.tax.hasOwnProperty(\"purchaseTax\")\n            //     ? this.mCategory.tax.purchaseTax\n            //     : {};\n            this.incomeAcc = this.mCategory.account.hasOwnProperty(\"incomeAcc\")\n                ? this.mCategory.account.incomeAcc\n                : {};\n            this.mAccInventory = this.mCategory.account.hasOwnProperty(\"inventoryAcc\")\n                ? this.mCategory.account.inventoryAcc\n                : {};\n            this.mAccCostOfGoodSold = this.mCategory.account.hasOwnProperty(\n                \"costOfGoodsSoldAcc\"\n            )\n                ? this.mCategory.account.costOfGoodsSoldAcc\n                : {};\n        },\n        async initData() {\n            // window.console.log('me', this.$route.params.id)\n            if (this.$route.params.id !== undefined) {\n                await this.loadSingleProduct();\n            } else {\n                let ds = this.$refs.dataSource.kendoWidget();\n                ds.data([]);\n                this.addRow();\n            }\n        },\n        addRow() {\n            let ds = this.$refs.dataSource.kendoWidget(),\n                total = ds.total();\n            ds.insert(total, {\n                variant: this.variant,\n            });\n        },\n        // Row Number Template\n        rowNumberTmpl(dataItem) {\n            var ds = this.$refs.dataSource.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        // Grid Custom Editor\n        attributeDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: false,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=code# - #=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.variantTypes,\n                    }),\n                });\n        },\n        // Remove Row\n        removeRow(e) {\n            e.preventDefault();\n\n            var grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n            }\n        },\n        onChange() {\n        },\n        async onEditClick(value) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.product = value;\n                }, 10);\n            });\n        },\n        onNewClick() {\n            this.product.id = \"\";\n            this.clear();\n        },\n        close(data) {\n            window.history.go(-1);\n            window.console.log(data, \"--data\");\n            // this.$router.push({\n            //   name: 'Products', params: {\n            //     data: data\n            //   }\n            // })\n        },\n        clear() {\n            this.product = {};\n        },\n        async onSaveClose() {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate();\n                return;\n            }\n            let variants = [];\n            let ds = this.$refs.dataSource.kendoWidget();\n            let dataValidate = 0;\n            ds.data().forEach((value, index) => {\n                // window.console.log(value)\n                if (\n                    value.variant == undefined ||\n                    value.variant.id == undefined ||\n                    value.variant.id == null ||\n                    value.variant.id == \"\"\n                ) {\n                    this.$snotify.error(\"Please check Variants on row \" + (index + 1));\n                } else {\n                    dataValidate += 1;\n                }\n            });\n            let variantAR = ds.data();\n            if (variantAR.length == dataValidate) {\n                const variant = ds.data();\n                variant.forEach((i) => {\n                    variants.push({\n                        variant: i.variant,\n                        uid: i.uid,\n                    });\n                });\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        // if (this.product.id === '' || this.product.id === undefined) {\n                        let data = {\n                            id:                     this.$route.params.id ? this.$route.params.id : \"\",\n                            name:                   this.product.name,\n                            sku:                    this.product.sku,\n                            saleDescription:        this.product.saleDescription,\n                            purchaseDescription:    this.product.purchaseDescription,\n                            price:                  this.product.price,\n                            cost:                   this.product.cost,\n                            reOrderQTY:             this.product.reOrderQTY,\n                            category:               this.mCategory || {},\n                            priceLevel:             this.product.priceLevel,\n                            group:                  this.mGroup || {},\n                            subGroup:               this.mSubGroup || {},\n                            uom:                    this.mUOM,\n                            warehouse:              this.mWareHouse,\n                            inventoryAcc:           this.mAccInventory,\n                            incomeAcc:              this.incomeAcc,\n                            costOfGoodsSoldAcc:     this.mAccCostOfGoodSold,\n                            // defaultTax: this.mDefaultTax,\n                            // purchaseTax: this.mPurchaseTax,\n                            // specificTax: this.mSpecificTax,\n                            // otherTax: this.mOtherTax,\n                            formTemplate:           this.mFormTemplate,\n                            variant:                variants,\n                            variantId:              this.variantId,\n                            canBeSold:              this.product.canBeSold,\n                            canBeProduce:           this.product.canBeProduce,\n                            canBeRent:              this.product.canBeRent,\n                            canBePurchase:          this.product.canBePurchase,\n                            isFavorite:             this.product.isFavorite,\n                            batchOrSerial:          this.product.batchOrSerial,\n                            reUsed:                 this.product.reUsed || false,\n                            // batchTracked: this.mSerialOrBatch == 1 ? this.product.batchTracked : 0,\n                            // isSerialNumber: this.mSerialOrBatch == 2 ? this.product.isSerialNumber : 0,\n                            status:                 this.product.status || 1,\n                            deleted:                this.product.deleted || 0,\n                            type:                   this.$route.params.id ? this.$route.query.type : \"new\",\n                        };\n                        window.console.log('data',data)\n                        productHandler\n                            .create(data)\n                            .then((response) => {\n                                if (response.data.statusCode === 201) {\n                                    // this.loadSaleUC()\n                                    // this.clear()\n                                    this.$snotify.success(\"Success\");\n                                    this.close(response.data.data);\n                                    this.$refs.form.reset();\n                                }\n                            })\n                            .catch((e) => {\n                                this.$snotify.error(\"Something went wrong\");\n                                this.errors.push(e);\n                            });\n                    }, 10);\n                });\n            }\n        },\n        async onCategoryChanged() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    // window.console.log(this.mCategory)\n                    this.mGroup = \"\";\n                    this.mSubGroup = \"\";\n\n                    this.group = this.groups.filter(\n                        (m) => m.category.id === this.mCategory.id\n                    );\n                    if (this.group.length > 0) {\n                        this.mGroup = this.group[0];\n                        this.subGroup = this.subGroups.filter(\n                            (m) => m.group.id === this.group[0].id\n                        );\n                        if (this.subGroup.length > 0) {\n                            this.mSubGroup = this.subGroup[0];\n                        }\n                    }\n                    this.loadCategoryAccountAndTax();\n                }, 10);\n            });\n        },\n        async loadAccount() {\n            this.accLoading = true;\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    accountHandler.getAll().then((res) => {\n                        this.showLoading = false;\n                        this.accRevenue = res.data\n                            .filter((m) => m.account_type.number === 32)\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type,\n                                };\n                            });\n                        if (this.accRevenue.length > 0) {\n                            this.incomeAcc = this.accRevenue[0];\n                        }\n                        this.accInventory = res.data\n                            .filter((m) => m.account_type.number === 8)\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type,\n                                };\n                            });\n                        if (this.accInventory.length > 0) {\n                            this.mAccInventory = this.accInventory[0];\n                        }\n                        this.accCostOfGoodSold = res.data\n                            .filter((m) => m.account_type.number === 33)\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type,\n                                };\n                            });\n                        if (this.accCostOfGoodSold.length > 0) {\n                            this.mAccCostOfGoodSold = this.accCostOfGoodSold[0];\n                        }\n                        this.accLoading = false;\n                    });\n                }, 10);\n            });\n        },\n        async loadCategory() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    categoryHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.categories = res;\n                        this.categories = this.categories.filter(\n                            (m) => m.hasOwnProperty(\"type\") && m.type.name === \"Product\"\n                        );\n                        // if (this.categories.length > 0) {\n                        //   this.mCategory = this.categories[0]\n                        //   this.onCategoryChanged()\n                        // }\n                    });\n                }, 10);\n            });\n        },\n        async loadGroup() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    groupHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.groups = res;\n                    });\n                }, 10);\n            });\n        },\n        async loadSubGroup() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    subGroupHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.subGroups = res;\n                    });\n                }, 10);\n            });\n        },\n        async skuGenerator() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const category = this.mCategory || {};\n                    const group = this.mGroup || {};\n                    const sGroup = this.mSubGroup || {};\n                    let cateAbbr = \"\",\n                        groupAbbr = \"\",\n                        sGroupAbbr = \"\",\n                        skuCode = \"\";\n                    if (category.id) {\n                        cateAbbr = category.abbr || \"\";\n                        skuCode += cateAbbr + \"/\";\n                    }\n                    if (group.id) {\n                        groupAbbr = group.abbr || \"\";\n                        skuCode += groupAbbr + \"/\";\n                    }\n                    if (sGroup.id) {\n                        sGroupAbbr = sGroup.abbr || \"\";\n                        skuCode += sGroupAbbr\n                    }\n                    window.console.log('--xx', category, group, sGroup)\n                    this.product.sku = skuCode\n                    // if (this.product.name) {\n                    //     this.product.sku =\n                    //         skuCode + this.product.name.toString().substring(0, 3);\n                    // }\n                }, 10);\n            });\n        },\n        async loadUOM() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    uomHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.uom = res;\n                        if (this.uom.length > 0) {\n                            this.mUOM = this.uom[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadWareHouses() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    warehouseHandler.getWarehouseSettingAll().then((res) => {\n                        this.showLoading = false;\n                        this.wareHouses = res;\n                        if (this.wareHouses.length > 0) {\n                            this.mWareHouse = this.wareHouses[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadVariants() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    variantHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.variantTypes = res;\n                        if (this.variantTypes.length > 0) {\n                            this.initData();\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadTax() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    settingHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.tax = res;\n                        let st = this.tax.filter((m) => m.taxType.typeId === 8); // valuable tax\n                        this.specificTax = st; // special tax\n\n                        let vAT = this.tax.filter(\n                            (m) => m.taxType.typeId === 1 && m.transactionType === \"Sale\"\n                        ); // valuable tax\n                        this.vat = vAT; // valuable tax\n\n                        let otTax = this.tax.filter((m) => m.taxType.typeId === 7); // valuable tax\n                        this.otherTax = otTax; // valuable tax\n\n                        this.purchaseTax = this.tax.filter(\n                            (m) => m.taxType.typeId === 1 && m.transactionType === \"Purchase\"\n                        ); // valuable tax\n                        if (this.specificTax.length > 0) {\n                            this.mSpecificTax = this.specificTax[0];\n                        }\n                        if (this.vat.length > 0) {\n                            this.mDefaultTax = this.vat[0];\n                        }\n                        if (this.otherTax.length > 0) {\n                            this.mOtherTax = this.otherTax[0];\n                        }\n                        if (this.purchaseTax.length > 0) {\n                            this.mPurchaseTax = this.purchaseTax[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadSingleProduct() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    productHandler.getOne(this.$route.params.id).then((res) => {\n                        this.showLoading = false;\n                        this.product = res;\n                        if (this.product.id !== undefined) {\n                            this.mCategory = this.product.category;\n                            this.mGroup = this.product.group;\n                            this.mSubGroup = this.product.subGroup;\n                            this.mUOM = this.product.uom;\n                            this.mAccCostOfGoodSold = this.product.costOfGoodsSoldAcc;\n                            this.mAccInventory = this.product.inventoryAcc;\n                            this.incomeAcc = this.product.incomeAcc;\n                            // this.mSpecificTax = this.product.specificTax;\n                            this.mSerialOrBatch =\n                                this.product.isSerialNumber > 0\n                                    ? this.product.isSerialNumber\n                                    : this.product.batchTracked;\n                            // this.mOtherTax = this.product.otherTax;\n                            // this.mDefaultTax = this.product.defaultTax;\n                            // this.mPurchaseTax = this.product.purchaseTax;\n                            this.productVariant = this.product.variant;\n                            this.mWareHouse = this.product.warehouse;\n                            this.varLists = [];\n                            this.variantId = this.product.variant.id;\n                            this.product.variant.variant.forEach((m) => {\n                                this.varLists.push({\n                                    variant: {\n                                        name: m.variant.name,\n                                        id: m.variant.id,\n                                        code: m.variant.code,\n                                    },\n                                });\n                            });\n                        }\n                    });\n                }, 10);\n            });\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((resultCen) => {\n                if (resultCen.value) {\n                    this.$router.go(-1);\n                }\n            });\n        },\n    },\n    mounted: async function () {\n        await this.loadUOM();\n        await this.loadWareHouses();\n        // await this.loadTax();\n        await this.loadVariants();\n        await this.loadPriceLevel();\n    },\n    computed: {},\n    created: async function () {\n        await this.loadAccount();\n        await this.loadCategory();\n        await this.loadGroup();\n        await this.loadSubGroup();\n    },\n    watch: {\n        id() {\n            // this.product = this.selectedProduct\n            window.console.log(this.id, \"watch\");\n            if (this.id !== undefined) {\n                this.loadSingleProduct();\n            }\n        },\n    },\n};\n</script>\n\n<style scoped>\n.function_content {\n    padding: 0 25px 25px;\n    border-bottom: 0;\n    background-color: #fff !important;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        /* max-width: 1185px; */\n        max-width: 1080px !important;\n    }\n}\n\n.grayBg {\n    background-color: #f8f8f9;\n}\n\n@media (max-width: 576px) {\n    .mb-6 {\n        margin-bottom: 0 !important;\n    }\n}\n\n.section2 {\n    border: 1px solid #d6d7d8;\n}\n\n.border_grey {\n    border: 1px solid #d6d7d8;\n}\n\n.attachment_table {\n    width: 100%;\n}\n\np {\n    font-size: 15px;\n    font-family: 'Niradei-Light' !important;\n}\n\n.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> tbody\n> tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n</style>\n"],"sourceRoot":"src/views/products"}]}