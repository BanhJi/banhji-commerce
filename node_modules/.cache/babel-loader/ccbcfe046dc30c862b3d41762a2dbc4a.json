{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/components/VOffline.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/components/VOffline.vue","mtime":1638499442943},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/babel.config.js","mtime":1638499442885},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBQaW5nIGZyb20gJ3BpbmcuanMnOwp2YXIgRVZFTlRTID0gWydvbmxpbmUnLCAnb2ZmbGluZScsICdsb2FkJ107CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVk9mZmxpbmUnLAogIHByb3BzOiB7CiAgICBzbG90TmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJ29ubGluZScKICAgIH0sCiAgICBvbmxpbmVDbGFzczogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBvZmZsaW5lQ2xhc3M6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgcGluZ1VybDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJ2h0dHBzOi8vZ29vZ2xlLmNvbScKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc09ubGluZTogbmF2aWdhdG9yLm9uTGluZSB8fCBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb21wdXRlZENsYXNzOiBmdW5jdGlvbiBjb21wdXRlZENsYXNzKCkgewogICAgICByZXR1cm4gdGhpcy5pc09ubGluZSA/IHRoaXMub25saW5lQ2xhc3MgOiB0aGlzLm9mZmxpbmVDbGFzczsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIEVWRU5UUy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkgewogICAgICByZXR1cm4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIF90aGlzLnVwZGF0ZU9ubGluZVN0YXR1cyk7CiAgICB9KTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICBFVkVOVFMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgcmV0dXJuIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBfdGhpczIudXBkYXRlT25saW5lU3RhdHVzKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlT25saW5lU3RhdHVzOiBmdW5jdGlvbiB1cGRhdGVPbmxpbmVTdGF0dXMoKSB7CiAgICAgIHZhciB0ID0gdGhpczsKICAgICAgdmFyIHAgPSBuZXcgUGluZygpOwogICAgICBwLnBpbmcodC5waW5nVXJsLCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgaWYgKGVyciB8fCAhbmF2aWdhdG9yLm9uTGluZSkgewogICAgICAgICAgdC5pc09ubGluZSA9IGZhbHNlOwogICAgICAgICAgdC4kZW1pdCgnZGV0ZWN0ZWQtY29uZGl0aW9uJywgdC5pc09ubGluZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHQuaXNPbmxpbmUgPSB0cnVlOwogICAgICAgICAgdC4kZW1pdCgnZGV0ZWN0ZWQtY29uZGl0aW9uJywgdC5pc09ubGluZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["VOffline.vue"],"names":[],"mappings":";;;;;;;AAOA,OAAA,IAAA,MAAA,SAAA;AAEA,IAAA,MAAA,GAAA,CAAA,QAAA,EAAA,SAAA,EAAA,MAAA,CAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KADA;AAMA,IAAA,WAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KANA;AAWA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAXA;AAgBA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA;AAhBA,GAFA;AAwBA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,QAAA,EAAA,SAAA,CAAA,MAAA,IAAA;AADA,KAAA;AAAA,GAxBA;AA2BA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,aAAA,KAAA,QAAA,GAAA,KAAA,WAAA,GAAA,KAAA,YAAA;AACA;AAHA,GA3BA;AAgCA,EAAA,OAhCA,qBAgCA;AAAA;;AACA,IAAA,MAAA,CAAA,OAAA,CAAA,UAAA,KAAA;AAAA,aACA,MAAA,CAAA,gBAAA,CAAA,KAAA,EAAA,KAAA,CAAA,kBAAA,CADA;AAAA,KAAA;AAGA,GApCA;AAqCA,EAAA,aArCA,2BAqCA;AAAA;;AACA,IAAA,MAAA,CAAA,OAAA,CAAA,UAAA,KAAA;AAAA,aACA,MAAA,CAAA,mBAAA,CAAA,KAAA,EAAA,MAAA,CAAA,kBAAA,CADA;AAAA,KAAA;AAGA,GAzCA;AA0CA,EAAA,OAAA,EAAA;AACA,IAAA,kBADA,gCACA;AACA,UAAA,CAAA,GAAA,IAAA;AACA,UAAA,CAAA,GAAA,IAAA,IAAA,EAAA;AACA,MAAA,CAAA,CAAA,IAAA,CAAA,CAAA,CAAA,OAAA,EAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,IAAA,CAAA,SAAA,CAAA,MAAA,EAAA;AACA,UAAA,CAAA,CAAA,QAAA,GAAA,KAAA;AACA,UAAA,CAAA,CAAA,KAAA,CAAA,oBAAA,EAAA,CAAA,CAAA,QAAA;AACA,SAHA,MAGA;AACA,UAAA,CAAA,CAAA,QAAA,GAAA,IAAA;AACA,UAAA,CAAA,CAAA,KAAA,CAAA,oBAAA,EAAA,CAAA,CAAA,QAAA;AACA;AACA,OARA;AASA;AAbA;AA1CA,CAAA","sourcesContent":["<template>\n    <div :class=\"computedClass\">\n        <slot :name=\"slotName\"/>\n    </div>\n</template>\n\n<script>\nimport Ping from 'ping.js';\n\nconst EVENTS = ['online', 'offline', 'load'];\nexport default {\n    name: 'VOffline',\n    props: {\n        slotName: {\n            type: String,\n            required: false,\n            default: 'online',\n        },\n        onlineClass: {\n            type: String,\n            required: false,\n            default: '',\n        },\n        offlineClass: {\n            type: String,\n            required: false,\n            default: '',\n        },\n        pingUrl: {\n            type: String,\n            required: false,\n            default: 'https://google.com',\n        },\n    },\n    data: () => ({\n        isOnline: navigator.onLine || false,\n    }),\n    computed: {\n        computedClass() {\n            return this.isOnline ? this.onlineClass : this.offlineClass;\n        },\n    },\n    created() {\n        EVENTS.forEach((event) =>\n            window.addEventListener(event, this.updateOnlineStatus),\n        );\n    },\n    beforeDestroy() {\n        EVENTS.forEach((event) =>\n            window.removeEventListener(event, this.updateOnlineStatus),\n        );\n    },\n    methods: {\n        updateOnlineStatus() {\n            const t = this;\n            const p = new Ping();\n            p.ping(t.pingUrl, (err) => {\n                if (err || !navigator.onLine) {\n                    t.isOnline = false;\n                    t.$emit('detected-condition', t.isOnline);\n                } else {\n                    t.isOnline = true;\n                    t.$emit('detected-condition', t.isOnline);\n                }\n            });\n        },\n    },\n};\n\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components"}]}