{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/eslint-loader/index.js??ref--13-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/compliance/monthly_tax/new_tax_return/finalize/_finalize.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/compliance/monthly_tax/new_tax_return/finalize/_finalize.js","mtime":1638499443162},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1hY2NvdW50aW5nLXdlYi1tb2R1bGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC50by1qc29uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7Ci8vIEB2dWUvY29tcG9uZW50CmltcG9ydCBKU1ppcCBmcm9tICdqc3ppcCc7CmltcG9ydCBrZW5kbyBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tdWknOwoKdmFyIGV4Y2VsID0gcmVxdWlyZSgiQC9jb21wb25lbnRzL0V4cG9ydDJFeGNlbCIpOwoKdmFyIHB1cmNoYXNlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jb21wbGlhbmNlL2hhbmRsZXIvcHVyY2hhc2VIYW5kbGVyIik7Cgp2YXIgd2l0aGhvbGRpbmdIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2NvbXBsaWFuY2UvaGFuZGxlci93aXRoaG9sZGluZ1RheEhhbmRsZXIiKTsKCnZhciBzYWxhcnlIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2NvbXBsaWFuY2UvaGFuZGxlci9zYWxhcnlIYW5kbGVyIik7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0ZpbmFsaXplJywKICBjb21wb25lbnRzOiB7fSwKICBtaXhpbnM6IFtdLAogIHByb3BzOiBbJ3NhbGUnLCAncHVyY2hhc2UnLCAnc2FsYXJ5JywgJ21vbnRobHlSZXR1cm4nLCAnd2l0aGhvbGRpbmcnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZG93bmxvYWRMb2FkaW5nOiBmYWxzZSwKICAgICAgZGF0ZVNhbGU6ICcnLAogICAgICBkYXRlUHVyY2hhc2U6ICcnLAogICAgICBkYXRlV2h0OiAnJywKICAgICAgZGF0ZVNhbGFyeTogJycsCiAgICAgIHRpbWVTaW5jZVNhbGU6ICcnLAogICAgICB0aW1lU2luY2VQdXJjaGFzZTogJycsCiAgICAgIHRpbWVTaW5jZVdodDogJycsCiAgICAgIHRpbWVTaW5jZVNhbGFyeTogJycsCiAgICAgIHRpbWVTYWxlOiBudWxsLAogICAgICB0aW1lUHVyY2hhc2U6IG51bGwsCiAgICAgIHRpbWVXaHQ6IG51bGwsCiAgICAgIHRpbWVTYWxhcnk6IG51bGwsCiAgICAgIGFtb3VudERsU2FsZTogMCwKICAgICAgYW1vdW50RGxQdXJjaGFzZTogMCwKICAgICAgYW1vdW50RGxXaHQ6IDAsCiAgICAgIGFtb3VudERsU2FsYXJ5OiAwLAogICAgICBwdXJjaGFzZURhdGE6IFtdLAogICAgICB3aXRoaG9sZGluZ0RhdGE6IFtdLAogICAgICBzYWxhcnlEYXRhOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBkYXRlU2FsZXM6IGZ1bmN0aW9uIGRhdGVTYWxlcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmRhdGVTYWxlICE9PSAnJykgewogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLmRhdGVTYWxlLCAnZGF0ZVNhbGUnKTsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZVNhbGUpOwogICAgICAgIHRoaXMudGltZVNhbGUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy50aW1lU2luY2VTYWxlID0gIigiLmNvbmNhdChfdGhpcy50aW1lU2luY2UobmV3IERhdGUoX3RoaXMuZGF0ZVNhbGUpKSwgIikiKTsKICAgICAgICB9LCA2MDAwMSk7CiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZVNhbGU7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5tb250aGx5UmV0dXJuLmRhdGVTYWxlICE9PSAnJykgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lU2FsZSk7CiAgICAgICAgdGhpcy50aW1lU2FsZSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnRpbWVTaW5jZVNhbGUgPSAiKCIuY29uY2F0KF90aGlzLnRpbWVTaW5jZShuZXcgRGF0ZShfdGhpcy5tb250aGx5UmV0dXJuLmRhdGVTYWxlKSksICIpIik7CiAgICAgICAgfSwgNjAwMDEpOwogICAgICAgIHJldHVybiB0aGlzLm1vbnRobHlSZXR1cm4uZGF0ZVNhbGU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CiAgICB9LAogICAgZGF0ZVB1cmNoYXNlczogZnVuY3Rpb24gZGF0ZVB1cmNoYXNlcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5kYXRlUHVyY2hhc2UgIT09ICcnKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVQdXJjaGFzZSk7CiAgICAgICAgdGhpcy50aW1lUHVyY2hhc2UgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIudGltZVNpbmNlUHVyY2hhc2UgPSAiKCIuY29uY2F0KF90aGlzMi50aW1lU2luY2UobmV3IERhdGUoX3RoaXMyLmRhdGVQdXJjaGFzZSkpLCAiKSIpOwogICAgICAgIH0sIDYwMDAxKTsKICAgICAgICByZXR1cm4gdGhpcy5kYXRlUHVyY2hhc2U7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5tb250aGx5UmV0dXJuLmRhdGVQdXJjaGFzZSAhPT0gJycpIHsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZVB1cmNoYXNlKTsKICAgICAgICB0aGlzLnRpbWVQdXJjaGFzZSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi50aW1lU2luY2VQdXJjaGFzZSA9ICIoIi5jb25jYXQoX3RoaXMyLnRpbWVTaW5jZShuZXcgRGF0ZShfdGhpczIubW9udGhseVJldHVybi5kYXRlUHVyY2hhc2UpKSwgIikiKTsKICAgICAgICB9LCA2MDAwMSk7CiAgICAgICAgcmV0dXJuIHRoaXMubW9udGhseVJldHVybi5kYXRlUHVyY2hhc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CiAgICB9LAogICAgZGF0ZVdodHM6IGZ1bmN0aW9uIGRhdGVXaHRzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmRhdGVXaHQgIT09ICcnKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVXaHQpOwogICAgICAgIHRoaXMudGltZVdodCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMy50aW1lU2luY2VXaHQgPSAiKCIuY29uY2F0KF90aGlzMy50aW1lU2luY2UobmV3IERhdGUoX3RoaXMzLmRhdGVXaHQpKSwgIikiKTsKICAgICAgICB9LCA2MDAwMSk7CiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZVdodDsKICAgICAgfSBlbHNlIGlmICh0aGlzLm1vbnRobHlSZXR1cm4uZGF0ZVdodCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lV2h0KTsKICAgICAgICB0aGlzLnRpbWVXaHQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczMudGltZVNpbmNlV2h0ID0gIigiLmNvbmNhdChfdGhpczMudGltZVNpbmNlKG5ldyBEYXRlKF90aGlzMy5tb250aGx5UmV0dXJuLmRhdGVXaHQpKSwgIikiKTsKICAgICAgICB9LCA2MDAwMSk7CiAgICAgICAgcmV0dXJuIHRoaXMubW9udGhseVJldHVybi5kYXRlV2h0OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSwKICAgIGRhdGVTYWxhcmllczogZnVuY3Rpb24gZGF0ZVNhbGFyaWVzKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmRhdGVTYWxhcnkgIT09ICcnKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVXaHQpOwogICAgICAgIHRoaXMudGltZVNhbGFyeSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNC50aW1lU2luY2VTYWxhcnkgPSAiKCIuY29uY2F0KF90aGlzNC50aW1lU2luY2UobmV3IERhdGUoX3RoaXM0LmRhdGVTYWxhcnkpKSwgIikiKTsKICAgICAgICB9LCA2MDAwMSk7CiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZVNhbGFyeTsKICAgICAgfSBlbHNlIGlmICh0aGlzLm1vbnRobHlSZXR1cm4uZGF0ZVNhbGFyeSkgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lV2h0KTsKICAgICAgICB0aGlzLnRpbWVXaHQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczQudGltZVNpbmNlU2FsYXJ5ID0gIigiLmNvbmNhdChfdGhpczQudGltZVNpbmNlKG5ldyBEYXRlKF90aGlzNC5tb250aGx5UmV0dXJuLmRhdGVTYWxhcnkpKSwgIikiKTsKICAgICAgICB9LCA2MDAwMSk7CiAgICAgICAgcmV0dXJuIHRoaXMubW9udGhseVJldHVybi5kYXRlU2FsYXJ5OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSwKICAgIHRpbWVTaW5jZVNhbGVzOiBmdW5jdGlvbiB0aW1lU2luY2VTYWxlcygpIHsKICAgICAgaWYgKHRoaXMudGltZVNpbmNlU2FsZSAhPT0gJycpIHsKICAgICAgICByZXR1cm4gdGhpcy50aW1lU2luY2VTYWxlOwogICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0ZVNhbGUgIT09ICcnKSB7CiAgICAgICAgcmV0dXJuICIoIi5jb25jYXQodGhpcy50aW1lU2luY2UobmV3IERhdGUodGhpcy5kYXRlU2FsZSkpLCAiKSIpOwogICAgICB9IGVsc2UgaWYgKHRoaXMubW9udGhseVJldHVybi5kYXRlU2FsZSkgewogICAgICAgIHJldHVybiAiKCIuY29uY2F0KHRoaXMudGltZVNpbmNlKG5ldyBEYXRlKHRoaXMubW9udGhseVJldHVybi5kYXRlU2FsZSkpLCAiKSIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSwKICAgIHRpbWVTaW5jZVB1cmNoYXNlczogZnVuY3Rpb24gdGltZVNpbmNlUHVyY2hhc2VzKCkgewogICAgICBpZiAodGhpcy50aW1lU2luY2VQdXJjaGFzZSAhPT0gJycpIHsKICAgICAgICByZXR1cm4gdGhpcy50aW1lU2luY2VQdXJjaGFzZTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGVQdXJjaGFzZSAhPT0gJycpIHsKICAgICAgICByZXR1cm4gIigiLmNvbmNhdCh0aGlzLnRpbWVTaW5jZShuZXcgRGF0ZSh0aGlzLmRhdGVQdXJjaGFzZSkpLCAiKSIpOwogICAgICB9IGVsc2UgaWYgKHRoaXMubW9udGhseVJldHVybi5kYXRlUHVyY2hhc2UpIHsKICAgICAgICByZXR1cm4gIigiLmNvbmNhdCh0aGlzLnRpbWVTaW5jZShuZXcgRGF0ZSh0aGlzLm1vbnRobHlSZXR1cm4uZGF0ZVB1cmNoYXNlKSksICIpIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CiAgICB9LAogICAgdGltZVNpbmNlV2h0czogZnVuY3Rpb24gdGltZVNpbmNlV2h0cygpIHsKICAgICAgaWYgKHRoaXMudGltZVNpbmNlV2h0ICE9PSAnJykgewogICAgICAgIHJldHVybiB0aGlzLnRpbWVTaW5jZVdodDsKICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGVXaHQgIT09ICcnKSB7CiAgICAgICAgcmV0dXJuICIoIi5jb25jYXQodGhpcy50aW1lU2luY2UobmV3IERhdGUodGhpcy5kYXRlV2h0KSksICIpIik7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5tb250aGx5UmV0dXJuLmRhdGVXaHQpIHsKICAgICAgICByZXR1cm4gIigiLmNvbmNhdCh0aGlzLnRpbWVTaW5jZShuZXcgRGF0ZSh0aGlzLm1vbnRobHlSZXR1cm4uZGF0ZVdodCkpLCAiKSIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSwKICAgIHRpbWVTaW5jZVNhbGFyaWVzOiBmdW5jdGlvbiB0aW1lU2luY2VTYWxhcmllcygpIHsKICAgICAgaWYgKHRoaXMudGltZVNpbmNlU2FsYXJ5ICE9PSAnJykgewogICAgICAgIHJldHVybiB0aGlzLnRpbWVTaW5jZVNhbGFyeTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGVTYWxhcnkgIT09ICcnKSB7CiAgICAgICAgcmV0dXJuICIoIi5jb25jYXQodGhpcy50aW1lU2luY2UobmV3IERhdGUodGhpcy5kYXRlU2FsYXJ5KSksICIpIik7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5tb250aGx5UmV0dXJuLmRhdGVTYWxhcnkpIHsKICAgICAgICByZXR1cm4gIigiLmNvbmNhdCh0aGlzLnRpbWVTaW5jZShuZXcgRGF0ZSh0aGlzLm1vbnRobHlSZXR1cm4uZGF0ZVNhbGFyeSkpLCAiKSIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSwKICAgIG1vbnRobHk6IGZ1bmN0aW9uIG1vbnRobHkoKSB7CiAgICAgIGlmICh0aGlzLm1vbnRobHlSZXR1cm4gIT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuZGF0ZVNhbGUgPSB0aGlzLm1vbnRobHlSZXR1cm4uZGF0ZVNhbGU7CiAgICAgICAgdGhpcy5kYXRlUHVyY2hhc2UgPSB0aGlzLm1vbnRobHlSZXR1cm4uZGF0ZVB1cmNoYXNlOwogICAgICAgIHRoaXMuZGF0ZVdodCA9IHRoaXMubW9udGhseVJldHVybi5kYXRlV2h0OwogICAgICAgIHJldHVybiB0aGlzLm1vbnRobHlSZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgc2FsZXM6IGZ1bmN0aW9uIHNhbGVzKCkgewogICAgICBpZiAodGhpcy5zYWxlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5zYWxlLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGUuaXNTYXZlICE9PSBmYWxzZSAmJiBlLmlzU2F2ZSAhPT0gdW5kZWZpbmVkOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIG51bVNhbGU6IGZ1bmN0aW9uIG51bVNhbGUoKSB7CiAgICAgIGlmICh0aGlzLnNhbGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHZhciByMSA9IHRoaXMuc2FsZS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLmlzU2F2ZSA9PT0gZmFsc2UgfHwgZS5pc1NhdmUgPT09IHVuZGVmaW5lZDsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcjEubGVuZ3RoOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICB9LAogICAgcHVyY2hhc2VzOiBmdW5jdGlvbiBwdXJjaGFzZXMoKSB7CiAgICAgIGlmICh0aGlzLnB1cmNoYXNlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wdXJjaGFzZS5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucHVyY2hhc2UuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZS5pc1NhdmUgIT09IGZhbHNlICYmIGUuaXNTYXZlICE9PSB1bmRlZmluZWQ7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5wdXJjaGFzZURhdGEubGVuZ3RoID4gMCkgewogICAgICAgIHJldHVybiB0aGlzLnB1cmNoYXNlRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLmlzU2F2ZSAhPT0gZmFsc2UgJiYgZS5pc1NhdmUgIT09IHVuZGVmaW5lZDsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBudW1QdXJjaGFzZTogZnVuY3Rpb24gbnVtUHVyY2hhc2UoKSB7CiAgICAgIGlmICh0aGlzLnB1cmNoYXNlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wdXJjaGFzZS5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIHIxID0gdGhpcy5wdXJjaGFzZS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLmlzU2F2ZSA9PT0gZmFsc2UgfHwgZS5pc1NhdmUgPT09IHVuZGVmaW5lZDsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcjEubGVuZ3RoOwogICAgICB9IGVsc2UgaWYgKHRoaXMucHVyY2hhc2VEYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgX3IgPSB0aGlzLnB1cmNoYXNlRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLmlzU2F2ZSA9PT0gZmFsc2UgfHwgZS5pc1NhdmUgPT09IHVuZGVmaW5lZDsKICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIF9yLmxlbmd0aDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgfSwKICAgIHdodDogZnVuY3Rpb24gd2h0KCkgewogICAgICBpZiAodGhpcy53aXRoaG9sZGluZyAhPT0gdW5kZWZpbmVkICYmIHRoaXMud2l0aGhvbGRpbmcubGVuZ3RoID4gMCkgewogICAgICAgIHJldHVybiB0aGlzLndpdGhob2xkaW5nLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGUuaXNTYXZlICE9PSBmYWxzZSAmJiBlLmlzU2F2ZSAhPT0gdW5kZWZpbmVkOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMud2l0aGhvbGRpbmdEYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICByZXR1cm4gdGhpcy53aXRoaG9sZGluZ0RhdGEuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZS5pc1NhdmUgIT09IGZhbHNlICYmIGUuaXNTYXZlICE9PSB1bmRlZmluZWQ7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgbnVtV2h0OiBmdW5jdGlvbiBudW1XaHQoKSB7CiAgICAgIGlmICh0aGlzLndpdGhob2xkaW5nICE9PSB1bmRlZmluZWQgJiYgdGhpcy53aXRoaG9sZGluZy5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIHIxID0gdGhpcy53aXRoaG9sZGluZy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLmlzU2F2ZSA9PT0gZmFsc2UgfHwgZS5pc1NhdmUgPT09IHVuZGVmaW5lZDsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcjEubGVuZ3RoOwogICAgICB9IGVsc2UgaWYgKHRoaXMud2l0aGhvbGRpbmdEYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgX3IyID0gdGhpcy53aXRoaG9sZGluZ0RhdGEuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZS5pc1NhdmUgPT09IGZhbHNlIHx8IGUuaXNTYXZlID09PSB1bmRlZmluZWQ7CiAgICAgICAgfSk7CgogICAgICAgIHJldHVybiBfcjIubGVuZ3RoOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICB9LAogICAgc2FsYXJpZXM6IGZ1bmN0aW9uIHNhbGFyaWVzKCkgewogICAgICBpZiAodGhpcy5zYWxhcnkgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnNhbGFyeS5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc2FsYXJ5LmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGUuaXNTYXZlICE9PSBmYWxzZSAmJiBlLmlzU2F2ZSAhPT0gdW5kZWZpbmVkOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc2FsYXJ5RGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc2FsYXJ5RGF0YS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLmlzU2F2ZSAhPT0gZmFsc2UgJiYgZS5pc1NhdmUgIT09IHVuZGVmaW5lZDsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBudW1TYWxhcmllczogZnVuY3Rpb24gbnVtU2FsYXJpZXMoKSB7CiAgICAgIGlmICh0aGlzLnNhbGFyeSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2FsYXJ5Lmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgcjEgPSB0aGlzLnNhbGFyeS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLmlzU2F2ZSA9PT0gZmFsc2UgfHwgZS5pc1NhdmUgPT09IHVuZGVmaW5lZDsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcjEubGVuZ3RoOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc2FsYXJ5RGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIF9yMyA9IHRoaXMuc2FsYXJ5RGF0YS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLmlzU2F2ZSA9PT0gZmFsc2UgfHwgZS5pc1NhdmUgPT09IHVuZGVmaW5lZDsKICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIF9yMy5sZW5ndGg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgIH0sCiAgICBhbW91bnREbFNhbGVzOiBmdW5jdGlvbiBhbW91bnREbFNhbGVzKCkgewogICAgICBpZiAodGhpcy5tb250aGx5UmV0dXJuLmFtb3VudERsU2FsZSA+IDAgfHwgdGhpcy5tb250aGx5UmV0dXJuLmFtb3VudERsU2FsZSAhPT0gJycpIHsKICAgICAgICByZXR1cm4gdGhpcy5tb250aGx5UmV0dXJuLmFtb3VudERsU2FsZTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmFtb3VudERsU2FsZSA+IDApIHsKICAgICAgICByZXR1cm4gdGhpcy5hbW91bnREbFNhbGU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgIH0sCiAgICBhbW91bnREbFB1cmNoYXNlczogZnVuY3Rpb24gYW1vdW50RGxQdXJjaGFzZXMoKSB7CiAgICAgIGlmICh0aGlzLm1vbnRobHlSZXR1cm4uYW1vdW50RGxQdXJjaGFzZSA+IDAgfHwgdGhpcy5tb250aGx5UmV0dXJuLmFtb3VudERsUHVyY2hhc2UgIT09ICcnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubW9udGhseVJldHVybi5hbW91bnREbFB1cmNoYXNlOwogICAgICB9IGVsc2UgaWYgKHRoaXMuYW1vdW50RGxQdXJjaGFzZSA+IDApIHsKICAgICAgICByZXR1cm4gdGhpcy5hbW91bnREbFB1cmNoYXNlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICB9LAogICAgYW1vdW50RGxXaHRzOiBmdW5jdGlvbiBhbW91bnREbFdodHMoKSB7CiAgICAgIGlmICh0aGlzLm1vbnRobHlSZXR1cm4uYW1vdW50RGxXaHQgPiAwIHx8IHRoaXMubW9udGhseVJldHVybi5hbW91bnREbFdodCAhPT0gJycpIHsKICAgICAgICByZXR1cm4gdGhpcy5tb250aGx5UmV0dXJuLmFtb3VudERsV2h0OwogICAgICB9IGVsc2UgaWYgKHRoaXMuYW1vdW50RGxXaHQgPiAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYW1vdW50RGxXaHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgIH0sCiAgICBhbW91bnREbFNhbGFyaWVzOiBmdW5jdGlvbiBhbW91bnREbFNhbGFyaWVzKCkgewogICAgICBpZiAodGhpcy5tb250aGx5UmV0dXJuLmFtb3VudERsU2FsYXJ5ID4gMCB8fCB0aGlzLm1vbnRobHlSZXR1cm4uYW1vdW50RGxTYWxhcnkgIT09ICcnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubW9udGhseVJldHVybi5hbW91bnREbFNhbGFyeTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmFtb3VudERsU2FsYXJ5ID4gMCkgewogICAgICAgIHJldHVybiB0aGlzLmFtb3VudERsU2FsYXJ5OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgd2luZG93LkpTWmlwID0gSlNaaXA7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVTYWxlKTsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lUHVyY2hhc2UpOwogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVXaHQpOwogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVTYWxhcnkpOwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlRG93bmxvYWRTYWxhcnk6IGZ1bmN0aW9uIGhhbmRsZURvd25sb2FkU2FsYXJ5KCkge30sCiAgICBoYW5kbGVEb3dubG9hZFdodDogZnVuY3Rpb24gaGFuZGxlRG93bmxvYWRXaHQoKSB7CiAgICAgIHZhciBtdWx0aUhlYWRlciA9IFtbJ05vJywgJ0RhdGUnLCAnUmVmZXJlbmNlJywgJ05hdHVyZScsICdTdXBwbGllcicsICcnLCAnJywgJycsICdUeXBlIG9mIHByb2R1Y3Qvc2VydmljZScsICdBbW91bnQnXV07CiAgICAgIHZhciBoZWFkZXIgPSBbJycsICcnLCAnJywgJycsICdUeXBlJywgJ1RJTicsICdOYW1lIGluIEtobWVyJywgJ05hbWUgaW4gRW5nbGlzaCcsICcnLCAnJ107CiAgICAgIHZhciBmaWx0ZXJWYWwgPSBbJ25vJywgJ2RhdGUnLCAncmVmZXJlbmNlJywgJ25hdHVyZScsICdndGRJZCcsICdzdXBwbGllcklkJywgJ25hbWVLbScsICduYW1lRW4nLCAnY29kZScsICd0b3RhbFZBVCddOwogICAgICB2YXIgbGlzdCA9IHRoaXMud2h0OwogICAgICB2YXIgZGF0YSA9IHRoaXMuZm9ybWF0SnNvbldodChmaWx0ZXJWYWwsIGxpc3QpOwogICAgICB2YXIgbWVyZ2VzID0gWydBMTpBMicsICdCMTpCMicsICdDMTpDMicsICdEMTpEMicsICdFMTpIMScsICdJMTpJMicsICdKMTpKMiddOwogICAgICB2YXIgbmFtZVNoZWV0ID0gIldJVEhIT0xESU5HIjsKICAgICAgdmFyIGZpbGVuYW1lID0gIldpdGhob2xkaW5nKEJhbmhKaSBDb3JyZWN0KSI7CiAgICAgIHZhciBsb2NhbGUgPSB0aGlzLiRpMThuLmxvY2FsZTsKCiAgICAgIGlmIChsb2NhbGUgPT09ICdlbicpIHsKICAgICAgICBleGNlbC5leHBvcnRfanNvbl90b19leGNlbCh7CiAgICAgICAgICBtdWx0aUhlYWRlcjogbXVsdGlIZWFkZXIsCiAgICAgICAgICBoZWFkZXI6IGhlYWRlciwKICAgICAgICAgIGxvY2FsZTogbG9jYWxlLAogICAgICAgICAgbWVyZ2VzOiBtZXJnZXMsCiAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgbmFtZVNoZWV0OiBuYW1lU2hlZXQsCiAgICAgICAgICBmaWxlbmFtZTogZmlsZW5hbWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBleGNlbC5leHBvcnRfanNvbl90b19leGNlbCh7CiAgICAgICAgICBtdWx0aUhlYWRlcjogbXVsdGlIZWFkZXIsCiAgICAgICAgICBoZWFkZXI6IGhlYWRlciwKICAgICAgICAgIGxvY2FsZTogbG9jYWxlLAogICAgICAgICAgbWVyZ2VzOiBtZXJnZXMsCiAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgbmFtZVNoZWV0OiBuYW1lU2hlZXQsCiAgICAgICAgICBmaWxlbmFtZTogZmlsZW5hbWUKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5kYXRlV2h0ID0gbmV3IERhdGUoKS50b0pTT04oKTsKICAgICAgdGhpcy5hbW91bnREbFdodCA9IHRoaXMuYW1vdW50RGxXaHRzICsgMTsKICAgICAgdGhpcy50aW1lU2luY2VXaHQgPSAiKCIuY29uY2F0KHRoaXMudGltZVNpbmNlKHRoaXMuZGF0ZVdodCksICIpIik7CiAgICAgIHRoaXMub25VcGRhdGVEYXRlV2h0KCk7CiAgICB9LAogICAgZm9ybWF0SnNvbldodDogZnVuY3Rpb24gZm9ybWF0SnNvbldodChmaWx0ZXJWYWwsIGpzb25EYXRhKSB7CiAgICAgIHZhciBuID0gMDsKICAgICAgcmV0dXJuIGpzb25EYXRhLm1hcChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiBmaWx0ZXJWYWwubWFwKGZ1bmN0aW9uIChqKSB7CiAgICAgICAgICB2YXIgc3VwcCA9IHYuc3VwcGxpZXIsCiAgICAgICAgICAgICAgdHlwZVByb2R1Y3QgPSB2LnR5cGVQcm9kdWN0OwogICAgICAgICAgdmFyIHN1cHBJZCA9ICIiLAogICAgICAgICAgICAgIHN1cHBUeXBlID0gIiIsCiAgICAgICAgICAgICAgc3VwcE5hbWVLbSA9ICIiLAogICAgICAgICAgICAgIHN1cHBOYW1lRW4gPSAiIiwKICAgICAgICAgICAgICBjb2RlID0gIiIsCiAgICAgICAgICAgICAgbmF0dXJlVHlwZSA9ICIiLAogICAgICAgICAgICAgIG5hdHVyZSA9ICIiOwoKICAgICAgICAgIGlmIChzdXBwLmhhc093blByb3BlcnR5KCd0YXhJZCcpKSB7CiAgICAgICAgICAgIHN1cHBJZCA9ICJzdXBwbGllcklkIjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc3VwcC5oYXNPd25Qcm9wZXJ0eSgnbmF0dXJlJykpIHsKICAgICAgICAgICAgbmF0dXJlID0gc3VwcC5uYXR1cmU7CiAgICAgICAgICAgIG5hdHVyZVR5cGUgPSAibmF0dXJlIjsKCiAgICAgICAgICAgIGlmIChuYXR1cmUuaGFzT3duUHJvcGVydHkoJ25hbWUnKSkgewogICAgICAgICAgICAgIHN1cHBUeXBlID0gImd0ZElkIjsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzdXBwLmhhc093blByb3BlcnR5KCduYW1lJykpIHsKICAgICAgICAgICAgc3VwcE5hbWVLbSA9ICJuYW1lS20iOwogICAgICAgICAgICBzdXBwTmFtZUVuID0gIm5hbWVFbiI7CiAgICAgICAgICB9IC8vIGlmIChjdXMuaGFzT3duUHJvcGVydHkoJ25hbWVFbicpKSB7CiAgICAgICAgICAvLyAgICAgY3VzTmFtZUVuID0gIm5hbWVFbiIKICAgICAgICAgIC8vIH0KCgogICAgICAgICAgaWYgKHR5cGVQcm9kdWN0Lmhhc093blByb3BlcnR5KCdjb2RlJykpIHsKICAgICAgICAgICAgY29kZSA9ICJjb2RlIjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc3VwcElkID09PSAic3VwcGxpZXJJZCIgJiYgc3VwcElkID09PSBqKSB7CiAgICAgICAgICAgIHJldHVybiBzdXBwLnRheElkOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChuYXR1cmVUeXBlID09PSAibmF0dXJlIiAmJiBuYXR1cmVUeXBlID09PSBqKSB7CiAgICAgICAgICAgIGlmIChuYXR1cmUubmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5kaXZpZHVhbC1mb3JlaWduJyB8fCBuYXR1cmUubmFtZS50b0xvd2VyQ2FzZSgpID09PSAnZm9yZWlnbiBlbnRpdHknKSB7CiAgICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc3VwcFR5cGUgPT09ICJndGRJZCIgJiYgc3VwcFR5cGUgPT09IGopIHsKICAgICAgICAgICAgaWYgKG5hdHVyZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbmRpdmlkdWFsLWxvY2FsJyB8fCBuYXR1cmUubmFtZS50b0xvd2VyQ2FzZSgpID09PSAndGF4YWJsZSBlbnRpdHknKSB7CiAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobmF0dXJlLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ25vbi10YXhhYmxlIGVudGl0eScpIHsKICAgICAgICAgICAgICByZXR1cm4gMjsKICAgICAgICAgICAgfSBlbHNlIGlmIChuYXR1cmUubmFtZS50b0xvd2VyQ2FzZSgpID09PSAnZm9yZWlnbiBlbnRpdHknIHx8IG5hdHVyZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbmRpdmlkdWFsLWZvcmVpZ24nKSB7CiAgICAgICAgICAgICAgcmV0dXJuIDM7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc3VwcE5hbWVLbSA9PT0gIm5hbWVLbSIgJiYgc3VwcE5hbWVLbSA9PT0gaikgewogICAgICAgICAgICByZXR1cm4gc3VwcC5uYW1lOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzdXBwTmFtZUVuID09PSAibmFtZUVuIiAmJiBzdXBwTmFtZUVuID09PSBqKSB7CiAgICAgICAgICAgIHJldHVybiBzdXBwLm5hbWU7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGNvZGUgPT09ICJjb2RlIiAmJiBjb2RlID09PSBqKSB7CiAgICAgICAgICAgIHJldHVybiB0eXBlUHJvZHVjdC5jb2RlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChqID09PSAnbm8nKSB7CiAgICAgICAgICAgIG4rKzsKICAgICAgICAgICAgcmV0dXJuIG47CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdltqXTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRG93bmxvYWRQdXJjaGFzZTogZnVuY3Rpb24gaGFuZGxlRG93bmxvYWRQdXJjaGFzZSgpIHsKICAgICAgdmFyIG11bHRpSGVhZGVyS2ggPSBbWyfhnpsu4Z6aKicsICfhnoDhnrbhnpvhnpThnprhnrfhnoXhn5Lhnobhn4HhnpEqJywgJ+Gem+GfgeGegeGenOGet+GegOGfkuGegOGemeGelOGej+GfkuGemionLCAn4Z6i4Z+S4Z6T4Z6A4Z6V4Z+S4Z6C4Z6P4Z+L4Z6V4Z+S4Z6C4Z6EJywgJycsICcnLCAnJywgJ+GelOGfkuGemuGel+GfgeGekeGeleGfkuGeguGej+Gfi+GeleGfkuGeguGehOGfi+GekeGfhuGek+Get+GeiSDhnqzhnp/hn4HhnpzhnrbhnoDhnpjhn5LhnpgqJywgJ+Gej+GemOGfkuGem+Gfg+Gen+GemuGeu+GelOGeh+GetuGelOGfi+GeouGej+GelConLCAn4Z6P4Z6Y4Z+S4Z6b4Z+D4Z6f4Z6a4Z674Z6U4Z6Y4Z634Z6T4Z6H4Z624Z6U4Z+L4Z6i4Z6P4Z6UJ11dOwogICAgICB2YXIgbXVsdGlIZWFkZXIgPSBbWydObycsICdEYXRlJywgJ1JlZmVyZW5jZScsICdTdXBwbGllcicsICcnLCAnJywgJycsICdUeXBlIG9mIHByb2R1Y3Qvc2VydmljZScsICdBbW91bnQoVkFUIGluY2x1c2l2ZSknLCAnQW1vdW50KG5ldCBvZiBWQVQpJ11dOwogICAgICB2YXIgaGVhZGVyS2ggPSBbJycsICcnLCAnJywgJ+GelOGfkuGemuGel+GfgeGekSonLCAn4Z6b4Z+B4Z6B4Z6f4Z6Y4Z+S4Z6C4Z624Z6b4Z+LKicsICfhnojhn5Lhnpjhn4Thn4co4Z6B4Z+S4Z6Y4Z+C4Z6aKScsICfhnojhn5Lhnpjhn4Thn4co4Z6h4Z624Z6P4Z624Z+G4Z6EKScsICcnLCAnJywgJyddOwogICAgICB2YXIgaGVhZGVyID0gWycnLCAnJywgJycsICdUeXBlJywgJ1RJTicsICdOYW1lIGluIEtobWVyJywgJ05hbWUgaW4gRW5nbGlzaCcsICcnLCAnJywgJyddOwogICAgICB2YXIgZmlsdGVyVmFsID0gWydubycsICdkYXRlJywgJ3JlZmVyZW5jZScsICdndGRJZCcsICdzdXBwbGllcklkJywgJ25hbWVLbScsICduYW1lRW4nLCAnY29kZScsICd0b3RhbEFtb3VudEluY2x1c2l2ZScsICd0b3RhbEFtb3VudE5ldFZhdCddOwogICAgICB2YXIgbGlzdCA9IHRoaXMucHVyY2hhc2VzOwogICAgICB2YXIgZGF0YSA9IHRoaXMuZm9ybWF0SnNvblB1cmNoYXNlKGZpbHRlclZhbCwgbGlzdCk7CiAgICAgIHZhciBtZXJnZXMgPSBbJ0ExOkEyJywgJ0IxOkIyJywgJ0MxOkMyJywgJ0QxOkcxJywgJ0gxOkgyJywgJ0kxOkkyJywgJ0oxOkoyJ107CiAgICAgIHZhciBuYW1lU2hlZXQgPSAiUHVyY2hhc2UiOwogICAgICB2YXIgZmlsZW5hbWUgPSAiUHVyY2hhc2UoQmFuaEppIENvcnJlY3QpIjsKICAgICAgdmFyIGxvY2FsZSA9IHRoaXMuJGkxOG4ubG9jYWxlOwoKICAgICAgaWYgKGxvY2FsZSA9PT0gJ2VuJykgewogICAgICAgIGV4Y2VsLmV4cG9ydF9qc29uX3RvX2V4Y2VsKHsKICAgICAgICAgIG11bHRpSGVhZGVyOiBtdWx0aUhlYWRlciwKICAgICAgICAgIGhlYWRlcjogaGVhZGVyLAogICAgICAgICAgbG9jYWxlOiBsb2NhbGUsCiAgICAgICAgICBtZXJnZXM6IG1lcmdlcywKICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICBuYW1lU2hlZXQ6IG5hbWVTaGVldCwKICAgICAgICAgIGZpbGVuYW1lOiBmaWxlbmFtZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGV4Y2VsLmV4cG9ydF9qc29uX3RvX2V4Y2VsKHsKICAgICAgICAgIG11bHRpSGVhZGVyS2g6IG11bHRpSGVhZGVyS2gsCiAgICAgICAgICBoZWFkZXJLaDogaGVhZGVyS2gsCiAgICAgICAgICBsb2NhbGU6IGxvY2FsZSwKICAgICAgICAgIG1lcmdlczogbWVyZ2VzLAogICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgIG5hbWVTaGVldDogbmFtZVNoZWV0LAogICAgICAgICAgZmlsZW5hbWU6IGZpbGVuYW1lCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZGF0ZVB1cmNoYXNlID0gbmV3IERhdGUoKS50b0pTT04oKTsKICAgICAgdGhpcy5hbW91bnREbFB1cmNoYXNlID0gdGhpcy5hbW91bnREbFB1cmNoYXNlcyArIDE7CiAgICAgIHRoaXMudGltZVNpbmNlUHVyY2hhc2UgPSAiKCIuY29uY2F0KHRoaXMudGltZVNpbmNlKHRoaXMuZGF0ZVB1cmNoYXNlKSwgIikiKTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMuZGF0ZVB1cmNoYXNlLCB0aGlzLnRpbWVTaW5jZVB1cmNoYXNlLCAnMTM0NTY3JywgdGhpcy5kYXRlU2FsZSk7IC8vIHRoaXMub25VcGRhdGVEYXRlUHVyY2hhc2UoKQogICAgfSwKICAgIGZvcm1hdEpzb25QdXJjaGFzZTogZnVuY3Rpb24gZm9ybWF0SnNvblB1cmNoYXNlKGZpbHRlclZhbCwganNvbkRhdGEpIHsKICAgICAgdmFyIG4gPSAwOwogICAgICByZXR1cm4ganNvbkRhdGEubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIGZpbHRlclZhbC5tYXAoZnVuY3Rpb24gKGopIHsKICAgICAgICAgIHZhciBzdXBwID0gdi5zdXBwbGllciwKICAgICAgICAgICAgICB0eXBlUHJvZHVjdCA9IHYudHlwZVByb2R1Y3Q7CiAgICAgICAgICB2YXIgc3VwcElkID0gIiIsCiAgICAgICAgICAgICAgc3VwcFR5cGUgPSAiIiwKICAgICAgICAgICAgICBzdXBwTmFtZUttID0gIiIsCiAgICAgICAgICAgICAgc3VwcE5hbWVFbiA9ICIiLAogICAgICAgICAgICAgIGNvZGUgPSAiIjsKCiAgICAgICAgICBpZiAoc3VwcC5oYXNPd25Qcm9wZXJ0eSgndGF4SWQnKSkgewogICAgICAgICAgICBzdXBwSWQgPSAic3VwcGxpZXJJZCI7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHN1cHAuaGFzT3duUHJvcGVydHkoJ25hdHVyZScpKSB7CiAgICAgICAgICAgIHZhciBzID0gc3VwcC5uYXR1cmU7CgogICAgICAgICAgICBpZiAocy5oYXNPd25Qcm9wZXJ0eSgnbmFtZScpKSB7CiAgICAgICAgICAgICAgc3VwcFR5cGUgPSAiZ3RkSWQiOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHN1cHAuaGFzT3duUHJvcGVydHkoJ25hbWUnKSkgewogICAgICAgICAgICBzdXBwTmFtZUttID0gIm5hbWVLbSI7CiAgICAgICAgICAgIHN1cHBOYW1lRW4gPSAibmFtZUVuIjsKICAgICAgICAgIH0gLy8gaWYgKGN1cy5oYXNPd25Qcm9wZXJ0eSgnbmFtZUVuJykpIHsKICAgICAgICAgIC8vICAgICBjdXNOYW1lRW4gPSAibmFtZUVuIgogICAgICAgICAgLy8gfQoKCiAgICAgICAgICBpZiAodHlwZVByb2R1Y3QuaGFzT3duUHJvcGVydHkoJ2NvZGUnKSkgewogICAgICAgICAgICBjb2RlID0gImNvZGUiOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzdXBwSWQgPT09ICJzdXBwbGllcklkIiAmJiBzdXBwSWQgPT09IGopIHsKICAgICAgICAgICAgcmV0dXJuIHN1cHAudGF4SWQ7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHN1cHBUeXBlID09PSAiZ3RkSWQiICYmIHN1cHBUeXBlID09PSBqKSB7CiAgICAgICAgICAgIGlmIChzdXBwLm5hdHVyZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbmRpdmlkdWFsLWxvY2FsJyB8fCBzdXBwLm5hdHVyZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0YXhhYmxlIGVudGl0eScpIHsKICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgfSBlbHNlIGlmIChzdXBwLm5hdHVyZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdub24tdGF4YWJsZSBlbnRpdHknKSB7CiAgICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3VwcC5uYXR1cmUubmFtZS50b0xvd2VyQ2FzZSgpID09PSAnZm9yZWlnbiBlbnRpdHknIHx8IHN1cHAubmF0dXJlLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2luZGl2aWR1YWwtZm9yZWlnbicpIHsKICAgICAgICAgICAgICByZXR1cm4gMzsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzdXBwTmFtZUttID09PSAibmFtZUttIiAmJiBzdXBwTmFtZUttID09PSBqKSB7CiAgICAgICAgICAgIHJldHVybiBzdXBwLm5hbWU7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHN1cHBOYW1lRW4gPT09ICJuYW1lRW4iICYmIHN1cHBOYW1lRW4gPT09IGopIHsKICAgICAgICAgICAgcmV0dXJuIHN1cHAubmFtZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoY29kZSA9PT0gImNvZGUiICYmIGNvZGUgPT09IGopIHsKICAgICAgICAgICAgcmV0dXJuIHR5cGVQcm9kdWN0LmNvZGU7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGogPT09ICdubycpIHsKICAgICAgICAgICAgbisrOwogICAgICAgICAgICByZXR1cm4gbjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB2W2pdOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVEb3dubG9hZFNhbGU6IGZ1bmN0aW9uIGhhbmRsZURvd25sb2FkU2FsZSgpIHsKICAgICAgdmFyIG11bHRpSGVhZGVyS2ggPSBbWyfhnpsu4Z6aKicsICfhnoDhnrbhnpvhnpThnprhnrfhnoXhn5Lhnobhn4HhnpEqJywgJ+Gem+GfgeGegeGenOGet+GegOGfkuGegOGemeGelOGej+GfkuGemionLCAn4Z6i4Z+S4Z6T4Z6A4Z6R4Z634Z6JJywgJycsICcnLCAnJywgJ+GelOGfkuGemuGel+GfgeGekeGeleGfkuGeguGej+Gfi+GeleGfkuGeguGehOGfi+GekeGfhuGek+Get+GeiSDhnqzhnp/hn4HhnpzhnrbhnoDhnpjhn5LhnpgqJywgJ+Gej+GemOGfkuGem+Gfg+Gen+GemuGeu+GelOGeh+GetuGelOGfi+GeouGej+GelConLCAn4Z6P4Z6Y4Z+S4Z6b4Z+D4Z6f4Z6a4Z674Z6U4Z6Y4Z634Z6T4Z6H4Z624Z6U4Z+L4Z6i4Z6P4Z6UJywgJ+GeouGetuGegOGemuGeluGet+Gen+GfgeGen+Gem+GevuGekeGfhuGek+Get+GeieGek+Get+GehOGen+GfgeGenOGetuGemOGeveGemeGeheGfhuGek+GeveGekycsICfhnqLhnrbhnoDhnprhnpThn4bhnpfhn5Lhnpvhnrrhnp/hnrbhnpLhnrbhnprhno7hn4gnLCAn4Z6i4Z624Z6A4Z6a4Z6b4Z6+4Z6A4Z624Z6a4Z6f4Z+S4Z6T4Z624Z6A4Z+L4Z6T4Z+FJ11dOwogICAgICB2YXIgbXVsdGlIZWFkZXIgPSBbWydObycsICdEYXRlJywgJ1JlZmVyZW5jZScsICdDdXN0b21lcicsICcnLCAnJywgJycsICdUeXBlIG9mIHByb2R1Y3Qvc2VydmljZScsICdBbW91bnQoVkFUIGluY2x1c2l2ZSknLCAnQW1vdW50KG5ldCBvZiBWQVQpJywgJ1NwZWNpZmljIFRheCcsICdQdWJsaWMgTGlnaHRpbmcgVGF4JywgJ0FjY29tLiBUYXgnXV07CiAgICAgIHZhciBoZWFkZXJLaCA9IFsnJywgJycsICcnLCAn4Z6U4Z+S4Z6a4Z6X4Z+B4Z6RKicsICfhnpvhn4HhnoHhnp/hnpjhn5LhnoLhnrbhnpvhn4sqJywgJ+GeiOGfkuGemOGfhOGfhyjhnoHhn5Lhnpjhn4LhnpopJywgJ+GeiOGfkuGemOGfhOGfhyjhnqHhnrbhno/hnrbhn4bhnoQpJywgJycsICcnLCAnJywgJycsICcnLCAnJ107CiAgICAgIHZhciBoZWFkZXIgPSBbJycsICcnLCAnJywgJ1R5cGUnLCAnVElOJywgJ05hbWUgaW4gS2htZXInLCAnTmFtZSBpbiBFbmdsaXNoJywgJycsICcnLCAnJywgJycsICcnLCAnJ107CiAgICAgIHZhciBmaWx0ZXJWYWwgPSBbJ25vJywgJ2RhdGUnLCAncmVmZXJlbmNlJywgJ2d0ZElkJywgJ2N1c3RvbWVySWQnLCAnbmFtZUttJywgJ25hbWVFbicsICdjb2RlJywgJ3RvdGFsQW1vdW50SW5jbHVzaXZlJywgJ3RvdGFsQW1vdW50TmV0VmF0JywgJ3RvdGFsU3BlY2lmaWNUYXgnLCAndG90YWxQdWJUYXgnLCAndG90YWxBY2NvbVRheCddOwogICAgICB2YXIgbGlzdCA9IHRoaXMuc2FsZXM7CiAgICAgIHZhciBkYXRhID0gdGhpcy5mb3JtYXRKc29uU2FsZShmaWx0ZXJWYWwsIGxpc3QpOwogICAgICB2YXIgbWVyZ2VzID0gWydBMTpBMicsICdCMTpCMicsICdDMTpDMicsICdEMTpHMScsICdIMTpIMicsICdJMTpJMicsICdKMTpKMicsICdLMTpLMicsICdMMTpMMicsICdNMTpNMiddOwogICAgICB2YXIgbmFtZVNoZWV0ID0gIlNhbGUiOwogICAgICB2YXIgZmlsZW5hbWUgPSAiU2FsZShCYW5oSmkgQ29ycmVjdCkiOwogICAgICB2YXIgbG9jYWxlID0gdGhpcy4kaTE4bi5sb2NhbGU7CgogICAgICBpZiAobG9jYWxlID09PSAnZW4nKSB7CiAgICAgICAgZXhjZWwuZXhwb3J0X2pzb25fdG9fZXhjZWwoewogICAgICAgICAgbXVsdGlIZWFkZXI6IG11bHRpSGVhZGVyLAogICAgICAgICAgaGVhZGVyOiBoZWFkZXIsCiAgICAgICAgICBsb2NhbGU6IGxvY2FsZSwKICAgICAgICAgIG1lcmdlczogbWVyZ2VzLAogICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgIG5hbWVTaGVldDogbmFtZVNoZWV0LAogICAgICAgICAgZmlsZW5hbWU6IGZpbGVuYW1lCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZXhjZWwuZXhwb3J0X2pzb25fdG9fZXhjZWwoewogICAgICAgICAgbXVsdGlIZWFkZXJLaDogbXVsdGlIZWFkZXJLaCwKICAgICAgICAgIGhlYWRlcktoOiBoZWFkZXJLaCwKICAgICAgICAgIGxvY2FsZTogbG9jYWxlLAogICAgICAgICAgbWVyZ2VzOiBtZXJnZXMsCiAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgbmFtZVNoZWV0OiBuYW1lU2hlZXQsCiAgICAgICAgICBmaWxlbmFtZTogZmlsZW5hbWUKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5kYXRlU2FsZSA9IG5ldyBEYXRlKCkudG9KU09OKCk7CiAgICAgIHRoaXMuYW1vdW50RGxTYWxlID0gdGhpcy5hbW91bnREbFNhbGVzICsgMTsKICAgICAgdGhpcy50aW1lU2luY2VTYWxlID0gIigiLmNvbmNhdCh0aGlzLnRpbWVTaW5jZSh0aGlzLmRhdGVTYWxlKSwgIikiKTsKICAgICAgdGhpcy5vblVwZGF0ZURhdGVTYWxlKCk7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLmRhdGVTYWxlLCAnaGFuZGxlIGRhdGUgc2FsZScpOwogICAgfSwKICAgIGZvcm1hdEpzb25TYWxlOiBmdW5jdGlvbiBmb3JtYXRKc29uU2FsZShmaWx0ZXJWYWwsIGpzb25EYXRhKSB7CiAgICAgIHZhciBuID0gMDsKICAgICAgcmV0dXJuIGpzb25EYXRhLm1hcChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiBmaWx0ZXJWYWwubWFwKGZ1bmN0aW9uIChqKSB7CiAgICAgICAgICB2YXIgY3VzID0gdi5jdXN0b21lciwKICAgICAgICAgICAgICB0eXBlUHJvZHVjdCA9IHYudHlwZVByb2R1Y3Q7CiAgICAgICAgICB2YXIgY3VzSWQgPSAiIiwKICAgICAgICAgICAgICBjdXNUeXBlID0gIiIsCiAgICAgICAgICAgICAgY3VzTmFtZUttID0gIiIsCiAgICAgICAgICAgICAgY3VzTmFtZUVuID0gIiIsCiAgICAgICAgICAgICAgY29kZSA9ICIiOwoKICAgICAgICAgIGlmIChjdXMuaGFzT3duUHJvcGVydHkoJ3RheElkJykpIHsKICAgICAgICAgICAgY3VzSWQgPSAiY3VzdG9tZXJJZCI7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGN1cy5oYXNPd25Qcm9wZXJ0eSgnbmF0dXJlJykpIHsKICAgICAgICAgICAgdmFyIGMgPSBjdXMubmF0dXJlOwoKICAgICAgICAgICAgaWYgKGMuaGFzT3duUHJvcGVydHkoJ25hbWUnKSkgewogICAgICAgICAgICAgIGN1c1R5cGUgPSAiZ3RkSWQiOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGN1cy5oYXNPd25Qcm9wZXJ0eSgnbmFtZScpKSB7CiAgICAgICAgICAgIGN1c05hbWVLbSA9ICJuYW1lS20iOwogICAgICAgICAgICBjdXNOYW1lRW4gPSAibmFtZUVuIjsKICAgICAgICAgIH0gLy8gaWYgKGN1cy5oYXNPd25Qcm9wZXJ0eSgnbmFtZUVuJykpIHsKICAgICAgICAgIC8vICAgICBjdXNOYW1lRW4gPSAibmFtZUVuIgogICAgICAgICAgLy8gfQoKCiAgICAgICAgICBpZiAodHlwZVByb2R1Y3QuaGFzT3duUHJvcGVydHkoJ2NvZGUnKSkgewogICAgICAgICAgICBjb2RlID0gImNvZGUiOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChjdXNJZCA9PT0gImN1c3RvbWVySWQiICYmIGN1c0lkID09PSBqKSB7CiAgICAgICAgICAgIHJldHVybiBjdXMudGF4SWQ7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGN1c1R5cGUgPT09ICJndGRJZCIgJiYgY3VzVHlwZSA9PT0gaikgewogICAgICAgICAgICBpZiAoY3VzLm5hdHVyZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbmRpdmlkdWFsLWxvY2FsJyB8fCBjdXMubmF0dXJlLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RheGFibGUgZW50aXR5JykgewogICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICB9IGVsc2UgaWYgKGN1cy5uYXR1cmUubmFtZS50b0xvd2VyQ2FzZSgpID09PSAnbm9uLXRheGFibGUgZW50aXR5JykgewogICAgICAgICAgICAgIHJldHVybiAyOwogICAgICAgICAgICB9IGVsc2UgaWYgKGN1cy5uYXR1cmUubmFtZS50b0xvd2VyQ2FzZSgpID09PSAnZm9yZWlnbiBlbnRpdHknIHx8IGN1cy5uYXR1cmUubmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5kaXZpZHVhbC1mb3JlaWduJykgewogICAgICAgICAgICAgIHJldHVybiAzOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGN1c05hbWVLbSA9PT0gIm5hbWVLbSIgJiYgY3VzTmFtZUttID09PSBqKSB7CiAgICAgICAgICAgIHJldHVybiBjdXMubmFtZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoY3VzTmFtZUVuID09PSAibmFtZUVuIiAmJiBjdXNOYW1lRW4gPT09IGopIHsKICAgICAgICAgICAgcmV0dXJuIGN1cy5uYW1lOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChjb2RlID09PSAiY29kZSIgJiYgY29kZSA9PT0gaikgewogICAgICAgICAgICByZXR1cm4gdHlwZVByb2R1Y3QuY29kZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaiA9PT0gJ25vJykgewogICAgICAgICAgICBuKys7CiAgICAgICAgICAgIHJldHVybiBuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHZbal07CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uVXBkYXRlRGF0ZVNhbGU6IGZ1bmN0aW9uIG9uVXBkYXRlRGF0ZVNhbGUoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2dldERhdGVTYWxlJywgewogICAgICAgIGRhdGU6IHRoaXMuZGF0ZVNhbGUsCiAgICAgICAgYW1vdW50OiB0aGlzLmFtb3VudERsU2FsZXMKICAgICAgfSk7CiAgICB9LAogICAgb25VcGRhdGVEYXRlUHVyY2hhc2U6IGZ1bmN0aW9uIG9uVXBkYXRlRGF0ZVB1cmNoYXNlKCkgewogICAgICB0aGlzLiRlbWl0KCdnZXREYXRlUHVyY2hhc2UnLCB7CiAgICAgICAgZGF0ZTogdGhpcy5kYXRlUHVyY2hhc2UsCiAgICAgICAgYW1vdW50OiB0aGlzLmFtb3VudERsUHVyY2hhc2VzCiAgICAgIH0pOwogICAgfSwKICAgIG9uVXBkYXRlRGF0ZVdodDogZnVuY3Rpb24gb25VcGRhdGVEYXRlV2h0KCkgewogICAgICB0aGlzLiRlbWl0KCdnZXREYXRlV2h0JywgewogICAgICAgIGRhdGU6IHRoaXMuZGF0ZVdodCwKICAgICAgICBhbW91bnQ6IHRoaXMuYW1vdW50RGxXaHRzCiAgICAgIH0pOwogICAgfSwKICAgIG9uVXBkYXRlRGF0ZVNhbGFyeTogZnVuY3Rpb24gb25VcGRhdGVEYXRlU2FsYXJ5KCkgewogICAgICB0aGlzLiRlbWl0KCdnZXREYXRlU2FsYXJ5JywgewogICAgICAgIGRhdGU6IHRoaXMuZGF0ZVNhbGFyeSwKICAgICAgICBhbW91bnQ6IHRoaXMuYW1vdW50RGxTYWxhcmllcwogICAgICB9KTsKICAgIH0sCiAgICB0aW1lU2luY2U6IGZ1bmN0aW9uIHRpbWVTaW5jZShkYXRlKSB7CiAgICAgIHZhciBzZWNvbmRzID0gTWF0aC5mbG9vcigobmV3IERhdGUoKSAtIGRhdGUpIC8gMTAwMCk7CgogICAgICBpZiAoaXNOYU4oc2Vjb25kcykpIHsKICAgICAgICByZXR1cm4gMCArICcgc2Vjb25kJzsKICAgICAgfQoKICAgICAgdmFyIGludGVydmFsID0gc2Vjb25kcyAvIDMxNTM2MDAwOwogICAgICB3aW5kb3cuY29uc29sZS5sb2coc2Vjb25kcywgJ3NlY29uZCcpOwoKICAgICAgaWYgKGludGVydmFsID4gMSkgewogICAgICAgIHJldHVybiBNYXRoLmZsb29yKGludGVydmFsKSArICcgeWVhcnMgYWdvJzsKICAgICAgfQoKICAgICAgaW50ZXJ2YWwgPSBzZWNvbmRzIC8gMjU5MjAwMDsKCiAgICAgIGlmIChpbnRlcnZhbCA+IDEpIHsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihpbnRlcnZhbCkgKyAnIG1vbnRocyBhZ28nOwogICAgICB9CgogICAgICBpbnRlcnZhbCA9IHNlY29uZHMgLyA4NjQwMDsKCiAgICAgIGlmIChpbnRlcnZhbCA+IDEpIHsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihpbnRlcnZhbCkgKyAnIGRheXMgYWdvJzsKICAgICAgfQoKICAgICAgaW50ZXJ2YWwgPSBzZWNvbmRzIC8gMzYwMDsKCiAgICAgIGlmIChpbnRlcnZhbCA+IDEpIHsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihpbnRlcnZhbCkgKyAnIGhvdXJzIGFnbyc7CiAgICAgIH0KCiAgICAgIGludGVydmFsID0gc2Vjb25kcyAvIDYwOwoKICAgICAgaWYgKGludGVydmFsID4gMSkgewogICAgICAgIHJldHVybiBNYXRoLmZsb29yKGludGVydmFsKSArICcgbWludXRlcyBhZ28nOwogICAgICB9CgogICAgICByZXR1cm4gTWF0aC5mbG9vcihzZWNvbmRzKSArICcgc2Vjb25kcyc7CiAgICB9LAogICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlKSB7CiAgICAgIGlmIChkYXRlICE9PSAnJykgewogICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZShkYXRlKSwgJ2RkLU1NLXl5eXksIEhIOm1tJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CiAgICB9LAogICAgb25sb2FkUHVyY2hhc2U6IGZ1bmN0aW9uIG9ubG9hZFB1cmNoYXNlKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS5wdXJjaGFzZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgICAgcHVyY2hhc2VIYW5kbGVyLmdldEJ5TXJJZChfdGhpczUuJHJvdXRlLnBhcmFtcy5pZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5wdXJjaGFzZURhdGEgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oX3RoaXM1Lm1vbnRobHkuYWJiciArIF90aGlzNS5tb250aGx5Lm51bWJlciArICcmUHVyY2hhc2UnKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbGxBcnJheTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQXJyYXkgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzNS5wdXJjaGFzZURhdGEpLCBfdG9Db25zdW1hYmxlQXJyYXkoZGF0YSkpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEFycmF5ID0gX3RoaXM1LnB1cmNoYXNlRGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGFsbEFycmF5LCAnYWxsYXJyYXknKTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnB1cmNoYXNlRGF0YSA9IGFsbEFycmF5LmZpbHRlcihmdW5jdGlvbiAoZSwgaSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxBcnJheS5maW5kSW5kZXgoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvLnRvdGFsVkFUID09PSBlLnRvdGFsVkFUICYmIG8udG90YWxBbW91bnRJbmNsdXNpdmUgPT09IGUudG90YWxBbW91bnRJbmNsdXNpdmUgJiYgby50b3RhbEFtb3VudE5ldFZhdCA9PT0gZS50b3RhbEFtb3VudE5ldFZhdDsKICAgICAgICAgICAgICAgICAgICAgICAgICB9KSA9PT0gaTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUub25VcGRhdGVQdXJjaGFzZSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhfdGhpczUucHVyY2hhc2VEYXRhLCAncHVyY2hhc2UgZGF0YScpOwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvblVwZGF0ZVB1cmNoYXNlOiBmdW5jdGlvbiBvblVwZGF0ZVB1cmNoYXNlKCkgewogICAgICB0aGlzLiRlbWl0KCdnZXRQdXJjaGFzZScsIHRoaXMucHVyY2hhc2VzKTsKICAgIH0sCiAgICBvbmxvYWRXaXRoaG9sZGluZzogZnVuY3Rpb24gb25sb2FkV2l0aGhvbGRpbmcoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczYud2h0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICBfdGhpczYuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICAgIHdpdGhob2xkaW5nSGFuZGxlci5nZXRCeU1ySWQoX3RoaXM2LiRyb3V0ZS5wYXJhbXMuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXM2JHdpdGhob2xkaW5nRGF0OwoKICAgICAgICAgICAgICAgICAgICAgICAgKF90aGlzNiR3aXRoaG9sZGluZ0RhdCA9IF90aGlzNi53aXRoaG9sZGluZ0RhdGEpLnB1c2guYXBwbHkoX3RoaXM2JHdpdGhob2xkaW5nRGF0LCBfdG9Db25zdW1hYmxlQXJyYXkocmVzLmRhdGEuZGF0YSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKF90aGlzNi5tb250aGx5LmFiYnIgKyBfdGhpczYubW9udGhseS5udW1iZXIgKyAnJldpdGhob2xkaW5nJykpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWxsQXJyYXk7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEFycmF5ID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfdGhpczYud2l0aGhvbGRpbmdEYXRhKSwgW2RhdGFdKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxBcnJheSA9IF90aGlzNi53aXRoaG9sZGluZ0RhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhhbGxBcnJheSwgJ2FsbGFycmF5IGZpbmFsaXplIDEyMycpOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYud2l0aGhvbGRpbmdEYXRhID0gYWxsQXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChlLCBpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbEFycmF5LmZpbmRJbmRleChmdW5jdGlvbiAobykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8udG90YWxWQVQgPT09IGUudG90YWxWQVQgJiYgby50b3RhbEFtb3VudCA9PT0gZS50b3RhbEFtb3VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICB9KSA9PT0gaTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYub25VcGRhdGVXaHQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uVXBkYXRlV2h0OiBmdW5jdGlvbiBvblVwZGF0ZVdodCgpIHsKICAgICAgdGhpcy4kZW1pdCgnZ2V0V2h0JywgdGhpcy53aHQpOwogICAgfSwKICAgIG9ubG9hZFNhbGFyeTogZnVuY3Rpb24gb25sb2FkU2FsYXJ5KCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM3LnNhbGFyaWVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICBfdGhpczcuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICAgIHNhbGFyeUhhbmRsZXIuZ2V0QnlNcklkKF90aGlzNy4kcm91dGUucGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzNyRzYWxhcnlEYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgKF90aGlzNyRzYWxhcnlEYXRhID0gX3RoaXM3LnNhbGFyeURhdGEpLnB1c2guYXBwbHkoX3RoaXM3JHNhbGFyeURhdGEsIF90b0NvbnN1bWFibGVBcnJheShyZXMuZGF0YS5kYXRhKSk7CgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oX3RoaXM3Lm1vbnRobHkuYWJiciArIF90aGlzNy5tb250aGx5Lm51bWJlciArICcmU2FsYXJ5JykpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWxsQXJyYXk7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEFycmF5ID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfdGhpczcuc2FsYXJ5RGF0YSksIFtkYXRhXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQXJyYXkgPSBfdGhpczcuc2FsYXJ5RGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGFsbEFycmF5LCAnYWxsYXJyYXkgZmluYWxpemUgMTIzJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5zYWxhcnlEYXRhID0gYWxsQXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChlLCBpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbEFycmF5LmZpbmRJbmRleChmdW5jdGlvbiAobykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8udGF4U2FsYXJ5ID09PSBlLnRheFNhbGFyeSAmJiBvLnNlZ21lbnRJZCA9PT0gZS5zZWdtZW50SWQgJiYgby5hbW91bnRUb1BhaWQgPT09IGUuYW1vdW50VG9QYWlkICYmIG8ubnVtTWlub3IgPT09IGUubnVtTWlub3IgJiYgby5zcG91c2UgPT09IGUuc3BvdXNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0pID09PSBpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5vblVwZGF0ZVNhbGFyeSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9LCAyMDApOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25VcGRhdGVTYWxhcnk6IGZ1bmN0aW9uIG9uVXBkYXRlU2FsYXJ5KCkgewogICAgICB0aGlzLiRlbWl0KCdnZXRXaHQnLCB0aGlzLnNhbGFyaWVzKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5vbmxvYWRQdXJjaGFzZSgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4Lm9ubG9hZFdpdGhob2xkaW5nKCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczgub25sb2FkU2FsYXJ5KCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/compliance/monthly_tax/new_tax_return/finalize/_finalize.js"],"names":["JSZip","kendo","excel","require","purchaseHandler","withholdingHandler","salaryHandler","name","components","mixins","props","data","downloadLoading","dateSale","datePurchase","dateWht","dateSalary","timeSinceSale","timeSincePurchase","timeSinceWht","timeSinceSalary","timeSale","timePurchase","timeWht","timeSalary","amountDlSale","amountDlPurchase","amountDlWht","amountDlSalary","purchaseData","withholdingData","salaryData","computed","dateSales","window","console","log","clearInterval","setInterval","timeSince","Date","monthlyReturn","datePurchases","dateWhts","dateSalaries","timeSinceSales","timeSincePurchases","timeSinceWhts","timeSinceSalaries","monthly","undefined","sales","sale","filter","e","isSave","numSale","r1","length","purchases","purchase","numPurchase","wht","withholding","numWht","salaries","salary","numSalaries","amountDlSales","amountDlPurchases","amountDlWhts","amountDlSalaries","created","beforeDestroy","methods","handleDownloadSalary","handleDownloadWht","multiHeader","header","filterVal","list","formatJsonWht","merges","nameSheet","filename","locale","$i18n","export_json_to_excel","toJSON","onUpdateDateWht","jsonData","n","map","v","j","supp","supplier","typeProduct","suppId","suppType","suppNameKm","suppNameEn","code","natureType","nature","hasOwnProperty","taxId","toLowerCase","handleDownloadPurchase","multiHeaderKh","headerKh","formatJsonPurchase","s","handleDownloadSale","formatJsonSale","onUpdateDateSale","cus","customer","cusId","cusType","cusNameKm","cusNameEn","c","$emit","date","amount","onUpdateDatePurchase","onUpdateDateSalary","seconds","Math","floor","isNaN","interval","formatDate","toString","onloadPurchase","showLoading","Promise","resolve","setTimeout","getByMrId","$route","params","id","then","res","JSON","parse","localStorage","getItem","abbr","number","allArray","i","findIndex","o","totalVAT","totalAmountInclusive","totalAmountNetVat","onUpdatePurchase","onloadWithholding","push","totalAmount","onUpdateWht","onloadSalary","taxSalary","segmentId","amountToPaid","numMinor","spouse","onUpdateSalary","mounted"],"mappings":"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","sourcesContent":["// @vue/component\nimport JSZip from 'jszip'\nimport kendo from '@progress/kendo-ui'\n\nconst excel = require(\"@/components/Export2Excel\")\nconst purchaseHandler = require(\"@/scripts/compliance/handler/purchaseHandler\")\nconst withholdingHandler = require(\"@/scripts/compliance/handler/withholdingTaxHandler\")\nconst salaryHandler = require(\"@/scripts/compliance/handler/salaryHandler\")\nexport default {\n    name: 'Finalize',\n\n    components: {},\n\n    mixins: [],\n\n    props: ['sale', 'purchase', 'salary', 'monthlyReturn', 'withholding'],\n\n    data() {\n        return {\n            downloadLoading: false,\n            dateSale: '',\n            datePurchase: '',\n            dateWht: '',\n            dateSalary: '',\n            timeSinceSale: '',\n            timeSincePurchase: '',\n            timeSinceWht: '',\n            timeSinceSalary: '',\n            timeSale: null,\n            timePurchase: null,\n            timeWht: null,\n            timeSalary: null,\n            amountDlSale: 0,\n            amountDlPurchase: 0,\n            amountDlWht: 0,\n            amountDlSalary: 0,\n            purchaseData: [],\n            withholdingData: [],\n            salaryData: [],\n        }\n    },\n\n    computed: {\n        dateSales() {\n            if (this.dateSale !== '') {\n                window.console.log(this.dateSale, 'dateSale')\n                clearInterval(this.timeSale)\n                this.timeSale = setInterval(() => {\n                    this.timeSinceSale = `(${this.timeSince(new Date(this.dateSale))})`\n                }, 60001)\n                return this.dateSale\n            } else if (this.monthlyReturn.dateSale !== '') {\n                clearInterval(this.timeSale)\n                this.timeSale = setInterval(() => {\n                    this.timeSinceSale = `(${this.timeSince(new Date(this.monthlyReturn.dateSale))})`\n                }, 60001)\n                return this.monthlyReturn.dateSale\n            } else {\n                return ''\n            }\n        },\n        datePurchases() {\n            if (this.datePurchase !== '') {\n                clearInterval(this.timePurchase)\n                this.timePurchase = setInterval(() => {\n                    this.timeSincePurchase = `(${this.timeSince(new Date(this.datePurchase))})`\n                }, 60001)\n                return this.datePurchase\n            } else if (this.monthlyReturn.datePurchase !== '') {\n                clearInterval(this.timePurchase)\n                this.timePurchase = setInterval(() => {\n                    this.timeSincePurchase = `(${this.timeSince(new Date(this.monthlyReturn.datePurchase))})`\n                }, 60001)\n                return this.monthlyReturn.datePurchase\n            } else {\n                return ''\n            }\n        },\n        dateWhts() {\n            if (this.dateWht !== '') {\n                clearInterval(this.timeWht)\n                this.timeWht = setInterval(() => {\n                    this.timeSinceWht = `(${this.timeSince(new Date(this.dateWht))})`\n                }, 60001)\n                return this.dateWht\n            } else if (this.monthlyReturn.dateWht) {\n                clearInterval(this.timeWht)\n                this.timeWht = setInterval(() => {\n                    this.timeSinceWht = `(${this.timeSince(new Date(this.monthlyReturn.dateWht))})`\n                }, 60001)\n                return this.monthlyReturn.dateWht\n            } else {\n                return ''\n            }\n        },\n        dateSalaries() {\n            if (this.dateSalary !== '') {\n                clearInterval(this.timeWht)\n                this.timeSalary = setInterval(() => {\n                    this.timeSinceSalary = `(${this.timeSince(new Date(this.dateSalary))})`\n                }, 60001)\n                return this.dateSalary\n            } else if (this.monthlyReturn.dateSalary) {\n                clearInterval(this.timeWht)\n                this.timeWht = setInterval(() => {\n                    this.timeSinceSalary = `(${this.timeSince(new Date(this.monthlyReturn.dateSalary))})`\n                }, 60001)\n                return this.monthlyReturn.dateSalary\n            } else {\n                return ''\n            }\n        },\n        timeSinceSales() {\n            if (this.timeSinceSale !== '') {\n                return this.timeSinceSale\n            } else if (this.dateSale !== '') {\n                return `(${this.timeSince(new Date(this.dateSale))})`\n            } else if (this.monthlyReturn.dateSale) {\n                return `(${this.timeSince(new Date(this.monthlyReturn.dateSale))})`\n            } else {\n                return ''\n            }\n        },\n        timeSincePurchases() {\n            if (this.timeSincePurchase !== '') {\n                return this.timeSincePurchase\n            } else if (this.datePurchase !== '') {\n                return `(${this.timeSince(new Date(this.datePurchase))})`\n            } else if (this.monthlyReturn.datePurchase) {\n                return `(${this.timeSince(new Date(this.monthlyReturn.datePurchase))})`\n            } else {\n                return ''\n            }\n        },\n        timeSinceWhts() {\n            if (this.timeSinceWht !== '') {\n                return this.timeSinceWht\n            } else if (this.dateWht !== '') {\n                return `(${this.timeSince(new Date(this.dateWht))})`\n            } else if (this.monthlyReturn.dateWht) {\n                return `(${this.timeSince(new Date(this.monthlyReturn.dateWht))})`\n            } else {\n                return ''\n            }\n        },\n        timeSinceSalaries() {\n            if (this.timeSinceSalary !== '') {\n                return this.timeSinceSalary\n            } else if (this.dateSalary !== '') {\n                return `(${this.timeSince(new Date(this.dateSalary))})`\n            } else if (this.monthlyReturn.dateSalary) {\n                return `(${this.timeSince(new Date(this.monthlyReturn.dateSalary))})`\n            } else {\n                return ''\n            }\n        },\n        monthly() {\n            if (this.monthlyReturn !== undefined) {\n                this.dateSale = this.monthlyReturn.dateSale\n                this.datePurchase = this.monthlyReturn.datePurchase\n                this.dateWht = this.monthlyReturn.dateWht\n                return this.monthlyReturn\n            } else {\n                return {}\n            }\n        },\n        sales() {\n            if (this.sale !== undefined) {\n                return this.sale.filter(e => e.isSave !== false && e.isSave !== undefined)\n            } else {\n                return []\n            }\n        },\n        numSale() {\n            if (this.sale !== undefined) {\n                const r1 = this.sale.filter(e => e.isSave === false || e.isSave === undefined)\n                return r1.length\n            } else {\n                return 0\n            }\n        },\n        purchases() {\n            if (this.purchase !== undefined && this.purchase.length > 0) {\n                return this.purchase.filter(e => e.isSave !== false && e.isSave !== undefined)\n            } else if (this.purchaseData.length > 0) {\n                return this.purchaseData.filter(e => e.isSave !== false && e.isSave !== undefined)\n            } else {\n                return []\n            }\n        },\n        numPurchase() {\n            if (this.purchase !== undefined && this.purchase.length > 0) {\n                const r1 = this.purchase.filter(e => e.isSave === false || e.isSave === undefined)\n                return r1.length\n            } else if (this.purchaseData.length > 0) {\n                const r1 = this.purchaseData.filter(e => e.isSave === false || e.isSave === undefined)\n                return r1.length\n            } else {\n                return 0\n            }\n        },\n        wht() {\n            if (this.withholding !== undefined && this.withholding.length > 0) {\n                return this.withholding.filter(e => e.isSave !== false && e.isSave !== undefined)\n            } else if (this.withholdingData.length > 0) {\n                return this.withholdingData.filter(e => e.isSave !== false && e.isSave !== undefined)\n            } else {\n                return []\n            }\n        },\n        numWht() {\n            if (this.withholding !== undefined && this.withholding.length > 0) {\n                const r1 = this.withholding.filter(e => e.isSave === false || e.isSave === undefined)\n                return r1.length\n            } else if (this.withholdingData.length > 0) {\n                const r1 = this.withholdingData.filter(e => e.isSave === false || e.isSave === undefined)\n                return r1.length\n            } else {\n                return 0\n            }\n        },\n        salaries() {\n            if (this.salary !== undefined && this.salary.length > 0) {\n                return this.salary.filter(e => e.isSave !== false && e.isSave !== undefined)\n            } else if (this.salaryData.length > 0) {\n                return this.salaryData.filter(e => e.isSave !== false && e.isSave !== undefined)\n            } else {\n                return []\n            }\n        },\n        numSalaries() {\n            if (this.salary !== undefined && this.salary.length > 0) {\n                const r1 = this.salary.filter(e => e.isSave === false || e.isSave === undefined)\n                return r1.length\n            } else if (this.salaryData.length > 0) {\n                const r1 = this.salaryData.filter(e => e.isSave === false || e.isSave === undefined)\n                return r1.length\n            } else {\n                return 0\n            }\n        },\n        amountDlSales() {\n            if (this.monthlyReturn.amountDlSale > 0 || this.monthlyReturn.amountDlSale !== '') {\n                return this.monthlyReturn.amountDlSale\n            } else if (this.amountDlSale > 0) {\n                return this.amountDlSale\n            } else {\n                return 0\n            }\n        },\n        amountDlPurchases() {\n            if (this.monthlyReturn.amountDlPurchase > 0 || this.monthlyReturn.amountDlPurchase !== '') {\n                return this.monthlyReturn.amountDlPurchase\n            } else if (this.amountDlPurchase > 0) {\n                return this.amountDlPurchase\n            } else {\n                return 0\n            }\n        },\n        amountDlWhts() {\n            if (this.monthlyReturn.amountDlWht > 0 || this.monthlyReturn.amountDlWht !== '') {\n                return this.monthlyReturn.amountDlWht\n            } else if (this.amountDlWht > 0) {\n                return this.amountDlWht\n            } else {\n                return 0\n            }\n        },\n        amountDlSalaries() {\n            if (this.monthlyReturn.amountDlSalary > 0 || this.monthlyReturn.amountDlSalary !== '') {\n                return this.monthlyReturn.amountDlSalary\n            } else if (this.amountDlSalary > 0) {\n                return this.amountDlSalary\n            } else {\n                return 0\n            }\n        },\n    },\n\n    created() {\n        window.JSZip = JSZip\n    },\n    beforeDestroy() {\n        clearInterval(this.timeSale)\n        clearInterval(this.timePurchase)\n        clearInterval(this.timeWht)\n        clearInterval(this.timeSalary)\n    },\n    methods: {\n        handleDownloadSalary() {\n        },\n        handleDownloadWht() {\n            const multiHeader = [['No', 'Date', 'Reference', 'Nature', 'Supplier', '', '', '', 'Type of product/service', 'Amount']]\n            const header = ['', '', '', '', 'Type', 'TIN', 'Name in Khmer', 'Name in English', '', '']\n            const filterVal = ['no', 'date', 'reference', 'nature', 'gtdId', 'supplierId', 'nameKm', 'nameEn', 'code', 'totalVAT']\n            const list = this.wht\n            const data = this.formatJsonWht(filterVal, list)\n            const merges = ['A1:A2', 'B1:B2', 'C1:C2', 'D1:D2', 'E1:H1', 'I1:I2', 'J1:J2']\n            const nameSheet = \"WITHHOLDING\"\n            const filename = \"Withholding(BanhJi Correct)\"\n            const locale = this.$i18n.locale\n            if (locale === 'en') {\n                excel.export_json_to_excel({\n                    multiHeader,\n                    header,\n                    locale,\n                    merges,\n                    data,\n                    nameSheet,\n                    filename\n                })\n            } else {\n                excel.export_json_to_excel({\n                    multiHeader,\n                    header,\n                    locale,\n                    merges,\n                    data,\n                    nameSheet,\n                    filename\n                })\n            }\n            this.dateWht = new Date().toJSON()\n            this.amountDlWht = this.amountDlWhts + 1\n            this.timeSinceWht = `(${this.timeSince(this.dateWht)})`\n            this.onUpdateDateWht()\n        },\n        formatJsonWht(filterVal, jsonData) {\n            let n = 0\n            return jsonData.map(v => filterVal.map(j => {\n                let supp = v.supplier,\n                    typeProduct = v.typeProduct\n                let suppId = \"\",\n                    suppType = \"\",\n                    suppNameKm = \"\",\n                    suppNameEn = \"\",\n                    code = \"\",\n                    natureType = \"\",\n                    nature = \"\"\n\n                if (supp.hasOwnProperty('taxId')) {\n                    suppId = \"supplierId\"\n                }\n                if (supp.hasOwnProperty('nature')) {\n                    nature = supp.nature\n                    natureType = \"nature\"\n                    if (nature.hasOwnProperty('name')) {\n                        suppType = \"gtdId\"\n                    }\n                }\n                if (supp.hasOwnProperty('name')) {\n                    suppNameKm = \"nameKm\"\n                    suppNameEn = \"nameEn\"\n                }\n                // if (cus.hasOwnProperty('nameEn')) {\n                //     cusNameEn = \"nameEn\"\n                // }\n                if (typeProduct.hasOwnProperty('code')) {\n                    code = \"code\"\n                }\n\n                if (suppId === \"supplierId\" && suppId === j) {\n                    return supp.taxId\n                }\n                if (natureType === \"nature\" && natureType === j) {\n                    if (nature.name.toLowerCase() === 'individual-foreign' || nature.name.toLowerCase() === 'foreign entity') {\n                        return 2\n                    } else {\n                        return 1\n                    }\n                }\n                if (suppType === \"gtdId\" && suppType === j) {\n                    if (nature.name.toLowerCase() === 'individual-local' || nature.name.toLowerCase() === 'taxable entity') {\n                        return 1\n                    } else if (nature.name.toLowerCase() === 'non-taxable entity') {\n                        return 2\n                    } else if (nature.name.toLowerCase() === 'foreign entity' || nature.name.toLowerCase() === 'individual-foreign') {\n                        return 3\n                    }\n                }\n                if (suppNameKm === \"nameKm\" && suppNameKm === j) {\n                    return supp.name\n                }\n                if (suppNameEn === \"nameEn\" && suppNameEn === j) {\n                    return supp.name\n                }\n                if (code === \"code\" && code === j) {\n                    return typeProduct.code\n                }\n                if (j === 'no') {\n                    n++\n                    return n\n                } else {\n                    return v[j]\n                }\n\n            }))\n        },\n        handleDownloadPurchase() {\n            const multiHeaderKh = [['.*', '*', '*', '', '', '', '', ' *', '*', '']]\n            const multiHeader = [['No', 'Date', 'Reference', 'Supplier', '', '', '', 'Type of product/service', 'Amount(VAT inclusive)', 'Amount(net of VAT)']]\n            const headerKh = ['', '', '', '*', '*', '()', '()', '', '', '']\n            const header = ['', '', '', 'Type', 'TIN', 'Name in Khmer', 'Name in English', '', '', '']\n            const filterVal = ['no', 'date', 'reference', 'gtdId', 'supplierId', 'nameKm', 'nameEn', 'code', 'totalAmountInclusive', 'totalAmountNetVat']\n            const list = this.purchases\n            const data = this.formatJsonPurchase(filterVal, list)\n            const merges = ['A1:A2', 'B1:B2', 'C1:C2', 'D1:G1', 'H1:H2', 'I1:I2', 'J1:J2']\n            const nameSheet = \"Purchase\"\n            const filename = \"Purchase(BanhJi Correct)\"\n            const locale = this.$i18n.locale\n            if (locale === 'en') {\n                excel.export_json_to_excel({\n                    multiHeader,\n                    header,\n                    locale,\n                    merges,\n                    data,\n                    nameSheet,\n                    filename\n                })\n            } else {\n                excel.export_json_to_excel({\n                    multiHeaderKh,\n                    headerKh,\n                    locale,\n                    merges,\n                    data,\n                    nameSheet,\n                    filename\n                })\n            }\n            this.datePurchase = new Date().toJSON()\n            this.amountDlPurchase = this.amountDlPurchases + 1\n            this.timeSincePurchase = `(${this.timeSince(this.datePurchase)})`\n            window.console.log(this.datePurchase, this.timeSincePurchase, '134567', this.dateSale)\n            // this.onUpdateDatePurchase()\n        },\n        formatJsonPurchase(filterVal, jsonData) {\n            let n = 0\n            return jsonData.map(v => filterVal.map(j => {\n                let supp = v.supplier,\n                    typeProduct = v.typeProduct\n                let suppId = \"\",\n                    suppType = \"\",\n                    suppNameKm = \"\",\n                    suppNameEn = \"\",\n                    code = \"\"\n\n                if (supp.hasOwnProperty('taxId')) {\n                    suppId = \"supplierId\"\n                }\n                if (supp.hasOwnProperty('nature')) {\n                    let s = supp.nature\n                    if (s.hasOwnProperty('name')) {\n                        suppType = \"gtdId\"\n                    }\n                }\n                if (supp.hasOwnProperty('name')) {\n                    suppNameKm = \"nameKm\"\n                    suppNameEn = \"nameEn\"\n                }\n                // if (cus.hasOwnProperty('nameEn')) {\n                //     cusNameEn = \"nameEn\"\n                // }\n                if (typeProduct.hasOwnProperty('code')) {\n                    code = \"code\"\n                }\n\n                if (suppId === \"supplierId\" && suppId === j) {\n                    return supp.taxId\n                }\n                if (suppType === \"gtdId\" && suppType === j) {\n                    if (supp.nature.name.toLowerCase() === 'individual-local' || supp.nature.name.toLowerCase() === 'taxable entity') {\n                        return 1\n                    } else if (supp.nature.name.toLowerCase() === 'non-taxable entity') {\n                        return 2\n                    } else if (supp.nature.name.toLowerCase() === 'foreign entity' || supp.nature.name.toLowerCase() === 'individual-foreign') {\n                        return 3\n                    }\n                }\n                if (suppNameKm === \"nameKm\" && suppNameKm === j) {\n                    return supp.name\n                }\n                if (suppNameEn === \"nameEn\" && suppNameEn === j) {\n                    return supp.name\n                }\n                if (code === \"code\" && code === j) {\n                    return typeProduct.code\n                }\n                if (j === 'no') {\n                    n++\n                    return n\n                } else {\n                    return v[j]\n                }\n\n            }))\n        },\n        handleDownloadSale() {\n            const multiHeaderKh = [['.*', '*', '*', '', '', '', '', ' *', '*', '', '', '', '']]\n            const multiHeader = [['No', 'Date', 'Reference', 'Customer', '', '', '', 'Type of product/service', 'Amount(VAT inclusive)', 'Amount(net of VAT)', 'Specific Tax', 'Public Lighting Tax', 'Accom. Tax']]\n            const headerKh = ['', '', '', '*', '*', '()', '()', '', '', '', '', '', '']\n            const header = ['', '', '', 'Type', 'TIN', 'Name in Khmer', 'Name in English', '', '', '', '', '', '']\n            const filterVal = ['no', 'date', 'reference', 'gtdId', 'customerId', 'nameKm', 'nameEn', 'code', 'totalAmountInclusive', 'totalAmountNetVat', 'totalSpecificTax', 'totalPubTax', 'totalAccomTax']\n            const list = this.sales\n            const data = this.formatJsonSale(filterVal, list)\n            const merges = ['A1:A2', 'B1:B2', 'C1:C2', 'D1:G1', 'H1:H2', 'I1:I2', 'J1:J2', 'K1:K2', 'L1:L2', 'M1:M2']\n            const nameSheet = \"Sale\"\n            const filename = \"Sale(BanhJi Correct)\"\n            const locale = this.$i18n.locale\n            if (locale === 'en') {\n                excel.export_json_to_excel({\n                    multiHeader,\n                    header,\n                    locale,\n                    merges,\n                    data,\n                    nameSheet,\n                    filename\n                })\n            } else {\n                excel.export_json_to_excel({\n                    multiHeaderKh,\n                    headerKh,\n                    locale,\n                    merges,\n                    data,\n                    nameSheet,\n                    filename\n                })\n            }\n\n            this.dateSale = new Date().toJSON()\n            this.amountDlSale = this.amountDlSales + 1\n            this.timeSinceSale = `(${this.timeSince(this.dateSale)})`\n            this.onUpdateDateSale()\n            window.console.log(this.dateSale, 'handle date sale')\n        },\n        formatJsonSale(filterVal, jsonData) {\n            let n = 0\n            return jsonData.map(v => filterVal.map(j => {\n                let cus = v.customer,\n                    typeProduct = v.typeProduct\n                let cusId = \"\",\n                    cusType = \"\",\n                    cusNameKm = \"\",\n                    cusNameEn = \"\",\n                    code = \"\"\n\n                if (cus.hasOwnProperty('taxId')) {\n                    cusId = \"customerId\"\n                }\n                if (cus.hasOwnProperty('nature')) {\n                    let c = cus.nature\n                    if (c.hasOwnProperty('name')) {\n                        cusType = \"gtdId\"\n                    }\n                }\n                if (cus.hasOwnProperty('name')) {\n                    cusNameKm = \"nameKm\"\n                    cusNameEn = \"nameEn\"\n                }\n                // if (cus.hasOwnProperty('nameEn')) {\n                //     cusNameEn = \"nameEn\"\n                // }\n                if (typeProduct.hasOwnProperty('code')) {\n                    code = \"code\"\n                }\n\n                if (cusId === \"customerId\" && cusId === j) {\n                    return cus.taxId\n                }\n                if (cusType === \"gtdId\" && cusType === j) {\n                    if (cus.nature.name.toLowerCase() === 'individual-local' || cus.nature.name.toLowerCase() === 'taxable entity') {\n                        return 1\n                    } else if (cus.nature.name.toLowerCase() === 'non-taxable entity') {\n                        return 2\n                    } else if (cus.nature.name.toLowerCase() === 'foreign entity' || cus.nature.name.toLowerCase() === 'individual-foreign') {\n                        return 3\n                    }\n                }\n                if (cusNameKm === \"nameKm\" && cusNameKm === j) {\n                    return cus.name\n                }\n                if (cusNameEn === \"nameEn\" && cusNameEn === j) {\n                    return cus.name\n                }\n                if (code === \"code\" && code === j) {\n                    return typeProduct.code\n                }\n                if (j === 'no') {\n                    n++\n                    return n\n                } else {\n                    return v[j]\n                }\n\n            }))\n        },\n        onUpdateDateSale() {\n            this.$emit('getDateSale', {date: this.dateSale, amount: this.amountDlSales})\n        },\n        onUpdateDatePurchase() {\n            this.$emit('getDatePurchase', {date: this.datePurchase, amount: this.amountDlPurchases})\n        },\n        onUpdateDateWht() {\n            this.$emit('getDateWht', {date: this.dateWht, amount: this.amountDlWhts})\n        },\n        onUpdateDateSalary() {\n            this.$emit('getDateSalary', {date: this.dateSalary, amount: this.amountDlSalaries})\n        },\n        timeSince(date) {\n            let seconds = Math.floor((new Date() - date) / 1000)\n            if (isNaN(seconds)) {\n                return 0 + ' second'\n            }\n            let interval = seconds / 31536000\n            window.console.log(seconds, 'second')\n            if (interval > 1) {\n                return Math.floor(interval) + ' years ago'\n            }\n            interval = seconds / 2592000\n            if (interval > 1) {\n                return Math.floor(interval) + ' months ago'\n            }\n            interval = seconds / 86400\n            if (interval > 1) {\n                return Math.floor(interval) + ' days ago'\n            }\n            interval = seconds / 3600\n            if (interval > 1) {\n                return Math.floor(interval) + ' hours ago'\n            }\n            interval = seconds / 60\n            if (interval > 1) {\n                return Math.floor(interval) + ' minutes ago'\n            }\n            return Math.floor(seconds) + ' seconds'\n        },\n        formatDate(date) {\n            if (date !== '') {\n                return kendo.toString(new Date(date), 'dd-MM-yyyy, HH:mm')\n            } else {\n                return ''\n            }\n\n        },\n        async onloadPurchase() {\n            if (this.purchases.length === 0) {\n                this.showLoading = true\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        purchaseHandler.getByMrId(this.$route.params.id).then(res => {\n                            this.purchaseData = res.data.data\n                            let data = JSON.parse(localStorage.getItem(this.monthly.abbr + this.monthly.number + '&Purchase'))\n                            let allArray\n                            if (data !== null) {\n                                allArray = [...this.purchaseData, ...data]\n                            } else {\n                                allArray = this.purchaseData\n                            }\n                            window.console.log(allArray, 'allarray')\n                            this.purchaseData = allArray.filter((e, i) => allArray.findIndex(o => o.totalVAT === e.totalVAT && o.totalAmountInclusive === e.totalAmountInclusive && o.totalAmountNetVat === e.totalAmountNetVat) === i)\n                            this.onUpdatePurchase()\n                            this.showLoading = false\n                            window.console.log(this.purchaseData, 'purchase data')\n                        })\n                    }, 200)\n                })\n            }\n        },\n        onUpdatePurchase() {\n            this.$emit('getPurchase', this.purchases)\n        },\n        async onloadWithholding() {\n            if (this.wht.length === 0) {\n                this.showLoading = true\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        withholdingHandler.getByMrId(this.$route.params.id).then(res => {\n                            this.withholdingData.push(...res.data.data)\n                            let data = JSON.parse(localStorage.getItem(this.monthly.abbr + this.monthly.number + '&Withholding'))\n                            let allArray\n                            if (data !== null) {\n                                allArray = [...this.withholdingData, data]\n                            } else {\n                                allArray = this.withholdingData\n                            }\n                            window.console.log(allArray, 'allarray finalize 123')\n                            this.withholdingData = allArray.filter((e, i) => allArray.findIndex(o => o.totalVAT === e.totalVAT && o.totalAmount === e.totalAmount) === i)\n                            this.onUpdateWht()\n                            this.showLoading = false\n                        })\n                    }, 200)\n                })\n            }\n        },\n        onUpdateWht() {\n            this.$emit('getWht', this.wht)\n        },\n        async onloadSalary() {\n            if (this.salaries.length === 0) {\n                this.showLoading = true\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        salaryHandler.getByMrId(this.$route.params.id).then(res => {\n                            this.salaryData.push(...res.data.data)\n                            let data = JSON.parse(localStorage.getItem(this.monthly.abbr + this.monthly.number + '&Salary'))\n                            let allArray\n                            if (data !== null) {\n                                allArray = [...this.salaryData, data]\n                            } else {\n                                allArray = this.salaryData\n                            }\n                            window.console.log(allArray, 'allarray finalize 123')\n                            this.salaryData = allArray.filter((e, i) => allArray.findIndex(o => o.taxSalary === e.taxSalary && o.segmentId === e.segmentId && o.amountToPaid === e.amountToPaid && o.numMinor === e.numMinor && o.spouse === e.spouse) === i)\n                            this.onUpdateSalary()\n                            this.showLoading = false\n                        })\n                    }, 200)\n                })\n            }\n        },\n        onUpdateSalary() {\n            this.$emit('getWht', this.salaries)\n        },\n    },\n    async mounted() {\n        await this.onloadPurchase()\n        await this.onloadWithholding()\n        await this.onloadSalary()\n    },\n}\n"]}]}