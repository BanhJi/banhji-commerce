{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/eslint-loader/index.js??ref--13-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/store/modules/budgets.js","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/store/modules/budgets.js","mtime":1638499443070},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKCnZhciBCdWRnZXRIYW5kbGVyID0gcmVxdWlyZSgnQC9zY3JpcHRzL2hhbmRsZXIvd29ya2luZ2NhcGl0YWwvYnVkZ2V0SGFuZGxlcicpOyAvLyBpbml0aWFsIHN0YXRlCgoKdmFyIHN0YXRlID0gZnVuY3Rpb24gc3RhdGUoKSB7CiAgcmV0dXJuIHsKICAgIGxpc3Q6IFtdLAogICAgaXNMb2FkZWQ6IGZhbHNlCiAgfTsKfTsgLy8gZ2V0dGVycwoKCnZhciBnZXR0ZXJzID0ge307IC8vIGFjdGlvbnMKCnZhciBhY3Rpb25zID0gewogIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoX3JlZikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHN0YXRlLCBjb21taXQsIHJlc3BvbnNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmLnN0YXRlLCBjb21taXQgPSBfcmVmLmNvbW1pdDsKCiAgICAgICAgICAgICAgaWYgKHN0YXRlLmlzTG9hZGVkKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIEJ1ZGdldEhhbmRsZXIuZ2V0QWxsKCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgic2V0TGlzdCIsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIGNvbW1pdCgic2V0TG9hZGVkIiwgdHJ1ZSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgc3RhdGUubGlzdCk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBhZGRMaXN0OiBmdW5jdGlvbiBhZGRMaXN0KF9yZWYyLCBsaXN0KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgY29tbWl0KCJzZXRMaXN0IiwgbGlzdCk7CiAgICBjb21taXQoInNldExvYWRlZCIsIHRydWUpOwogIH0sCiAgc2F2ZUJ1ZGdldDogZnVuY3Rpb24gc2F2ZUJ1ZGdldChfcmVmMywgYnVkZ2V0KSB7CiAgICB2YXIgc3RhdGUgPSBfcmVmMy5zdGF0ZSwKICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICB2YXIgaW5kZXggPSBzdGF0ZS5saXN0LmZpbmRJbmRleChmdW5jdGlvbiAoaSkgewogICAgICByZXR1cm4gaS51dWlkID09PSBidWRnZXQudXVpZDsKICAgIH0pOwoKICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgIC8qIFVwZGF0ZSBidWRnZXQgKi8KCiAgICAgIC8qIFJlcGxhY2VzIDEgZWxlbWVudCBhdCBzcGVjaWZpYyBpbmRleCAqLwogICAgICBzdGF0ZS5saXN0LnNwbGljZShpbmRleCwgMSwgYnVkZ2V0KTsKICAgIH0gZWxzZSB7CiAgICAgIC8qIEFkZCBuZXcgYnVkZ2V0ICovCiAgICAgIGNvbW1pdCgicHVzaEJ1ZGdldCIsIGJ1ZGdldCk7CiAgICB9CiAgfQp9OyAvLyBtdXRhdGlvbnMKCnZhciBtdXRhdGlvbnMgPSB7CiAgc2V0TGlzdDogZnVuY3Rpb24gc2V0TGlzdChzdGF0ZSwgbGlzdCkgewogICAgc3RhdGUubGlzdCA9IGxpc3Q7CiAgfSwKICBzZXRMb2FkZWQ6IGZ1bmN0aW9uIHNldExvYWRlZChzdGF0ZSwgc3RhdHVzKSB7CiAgICBzdGF0ZS5pc0xvYWRlZCA9IHN0YXR1czsKICB9LAogIHB1c2hCdWRnZXQ6IGZ1bmN0aW9uIHB1c2hCdWRnZXQoc3RhdGUsIGJ1ZGdldCkgewogICAgc3RhdGUubGlzdC5wdXNoKGJ1ZGdldCk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/store/modules/budgets.js"],"names":["BudgetHandler","require","state","list","isLoaded","getters","actions","getList","commit","getAll","response","data","addList","saveBudget","budget","index","findIndex","i","uuid","splice","mutations","setList","setLoaded","status","pushBudget","push","namespaced"],"mappings":";;;;;AAAA,IAAMA,aAAa,GAAGC,OAAO,CAAC,gDAAD,CAA7B,C,CAEA;;;AACA,IAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,SAAO;AACjBC,IAAAA,IAAI,EAAE,EADW;AAEjBC,IAAAA,QAAQ,EAAE;AAFO,GAAP;AAAA,CAAd,C,CAKA;;;AACA,IAAMC,OAAO,GAAG,EAAhB,C,CAEA;;AACA,IAAMC,OAAO,GAAG;AACNC,EAAAA,OADM,yBACsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAjBL,cAAAA,KAAiB,QAAjBA,KAAiB,EAAVM,MAAU,QAAVA,MAAU;;AAAA,kBAC1BN,KAAK,CAACE,QADoB;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAELJ,aAAa,CAACS,MAAd,EAFK;;AAAA;AAEtBC,cAAAA,QAFsB;AAG1BF,cAAAA,MAAM,CAAC,SAAD,EAAYE,QAAQ,CAACC,IAArB,CAAN;AACAH,cAAAA,MAAM,CAAC,WAAD,EAAc,IAAd,CAAN;;AAJ0B;AAAA,+CAOvBN,KAAK,CAACC,IAPiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQjC,GATW;AAUZS,EAAAA,OAVY,0BAUQT,IAVR,EAUc;AAAA,QAAhBK,MAAgB,SAAhBA,MAAgB;AACtBA,IAAAA,MAAM,CAAC,SAAD,EAAYL,IAAZ,CAAN;AACAK,IAAAA,MAAM,CAAC,WAAD,EAAc,IAAd,CAAN;AACH,GAbW;AAcZK,EAAAA,UAdY,6BAckBC,MAdlB,EAc0B;AAAA,QAAzBZ,KAAyB,SAAzBA,KAAyB;AAAA,QAAlBM,MAAkB,SAAlBA,MAAkB;AAClC,QAAIO,KAAK,GAAGb,KAAK,CAACC,IAAN,CAAWa,SAAX,CAAqB,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACC,IAAF,KAAWJ,MAAM,CAACI,IAAtB;AAAA,KAAtB,CAAZ;;AACA,QAAIH,KAAK,GAAG,CAAC,CAAb,EAAgB;AAAE;;AACd;AACAb,MAAAA,KAAK,CAACC,IAAN,CAAWgB,MAAX,CAAkBJ,KAAlB,EAAyB,CAAzB,EAA4BD,MAA5B;AACH,KAHD,MAGK;AACD;AACAN,MAAAA,MAAM,CAAC,YAAD,EAAeM,MAAf,CAAN;AACH;AACJ;AAvBW,CAAhB,C,CA0BA;;AACA,IAAMM,SAAS,GAAG;AACdC,EAAAA,OADc,mBACLnB,KADK,EACEC,IADF,EACQ;AAClBD,IAAAA,KAAK,CAACC,IAAN,GAAaA,IAAb;AACH,GAHa;AAIdmB,EAAAA,SAJc,qBAIHpB,KAJG,EAIIqB,MAJJ,EAIY;AACtBrB,IAAAA,KAAK,CAACE,QAAN,GAAiBmB,MAAjB;AACH,GANa;AAOdC,EAAAA,UAPc,sBAOHtB,KAPG,EAOIY,MAPJ,EAOY;AACtBZ,IAAAA,KAAK,CAACC,IAAN,CAAWsB,IAAX,CAAgBX,MAAhB;AACH;AATa,CAAlB;AAYA,eAAe;AACbY,EAAAA,UAAU,EAAE,IADC;AAEbxB,EAAAA,KAAK,EAALA,KAFa;AAGbG,EAAAA,OAAO,EAAPA,OAHa;AAIbC,EAAAA,OAAO,EAAPA,OAJa;AAKbc,EAAAA,SAAS,EAATA;AALa,CAAf","sourcesContent":["const BudgetHandler = require('@/scripts/handler/workingcapital/budgetHandler');\n\n// initial state\nconst state = () => ({\n    list: [],\n    isLoaded: false,\n})\n\n// getters\nconst getters = {}\n\n// actions\nconst actions = {\n    async getList ({ state, commit }) {\n        if(!state.isLoaded){\n            let response = await BudgetHandler.getAll();\n            commit(\"setList\", response.data);\n            commit(\"setLoaded\", true);\n        }\n\n        return state.list;\n    },\n    addList({ commit }, list) {\n        commit(\"setList\", list);\n        commit(\"setLoaded\", true);\n    },\n    saveBudget({ state, commit }, budget) {\n        let index = state.list.findIndex(i => i.uuid === budget.uuid)\n        if (index > -1) { /* Update budget */\n            /* Replaces 1 element at specific index */\n            state.list.splice(index, 1, budget);\n        }else{\n            /* Add new budget */\n            commit(\"pushBudget\", budget);\n        }\n    },\n}\n\n// mutations\nconst mutations = {\n    setList (state, list) {\n        state.list = list\n    },\n    setLoaded (state, status) {\n        state.isLoaded = status\n    },\n    pushBudget(state, budget) {\n        state.list.push(budget);\n    },\n}\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n}"]}]}