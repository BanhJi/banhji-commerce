{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/banking/banking/BankStatementReconciliation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/banking/banking/BankStatementReconciliation.vue","mtime":1638499443122},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwppbXBvcnQgSGVscGVyIGZyb20gIkAvaGVscGVyLmpzIjsKaW1wb3J0IHsgaTE4biB9IGZyb20gJ0AvaTE4bic7CmltcG9ydCB7IEJhbmtBY2NvdW50TW9kZWwsIEJhbmtTdGF0ZW1lbnRNb2RlbCwgUmVjb25jaWxlTW9kZWwsIEFjY291bnRNb2RlbCwgSm91cm5hbE1vZGVsLCBKb3VybmFsRW50cnlNb2RlbCwgQ3VycmVuY3lNb2RlbCwgRXhjaGFuZ2VSYXRlTW9kZWwgfSBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQXBwTW9kZWxzIjsKLyogU3RvcmUgKi8KCmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsKdmFyIGluc3RpdHV0ZSA9IHN0b3JlLnN0YXRlLmluc3RpdHV0ZS5pbnN0aXR1dGU7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7Cgp2YXIgX3JlcXVpcmUgPSByZXF1aXJlKCJAL3NjcmlwdHMvQXBwSGFuZGxlcnMiKSwKICAgIHJlY29uY2lsZUhhbmRsZXIgPSBfcmVxdWlyZS5yZWNvbmNpbGVIYW5kbGVyLAogICAgam91cm5hbEhhbmRsZXIgPSBfcmVxdWlyZS5qb3VybmFsSGFuZGxlcjsKCnZhciBfcmVxdWlyZTIgPSByZXF1aXJlKCJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9Db2xsZWN0aW9ucyIpLAogICAgRW50aXR5VHlwZSA9IF9yZXF1aXJlMi5FbnRpdHlUeXBlLAogICAgU2F2ZU9wdGlvbiA9IF9yZXF1aXJlMi5TYXZlT3B0aW9uOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJCYW5rU3RhdGVtZW50UmVjb25jaWxpYXRpb24iLAogIGNvbXBvbmVudHM6IHsKICAgICJMb2FkaW5nTWUiOiBmdW5jdGlvbiBMb2FkaW5nTWUoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJ0AvY29tcG9uZW50cy9Mb2FkaW5nJyk7CiAgICB9LAogICAgImFwcC1kYXRlcGlja2VyIjogZnVuY3Rpb24gYXBwRGF0ZXBpY2tlcigpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvRGF0ZVBpY2tlckNvbXBvbmVudCcpOwogICAgfSwKICAgICJhcHAtYWRqdXN0bWVudC1hY2NvdW50LWRyb3Bkb3dubGlzdCI6IGZ1bmN0aW9uIGFwcEFkanVzdG1lbnRBY2NvdW50RHJvcGRvd25saXN0KCkgewogICAgICByZXR1cm4gaW1wb3J0KCdAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L0FjY291bnQnKTsKICAgIH0KICB9LAogIHByb3BzOiB7CiAgICBpbml0QmFua1N0YXRlbWVudDogewogICAgICB0eXBlOiBCYW5rU3RhdGVtZW50TW9kZWwKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvKiBPYmogKi8KICAgICAgYmFua0FjY291bnQ6IG5ldyBCYW5rQWNjb3VudE1vZGVsKCksCiAgICAgIHJlY29uY2lsZTogbmV3IFJlY29uY2lsZU1vZGVsKCksCiAgICAgIGFkanVzdG1lbnRKb3VybmFsOiBuZXcgSm91cm5hbE1vZGVsKCksCiAgICAgIGFkanVzdG1lbnRFbnRyaWVzOiBbXSwKICAgICAgLy8gRm9ybSB2YWxpZGF0aW9uCiAgICAgIHZhbGlkOiB0cnVlLAogICAgICBpc0VkaXQ6IGZhbHNlLAogICAgICBhbGVydDogZmFsc2UsCiAgICAgIGVycm9yTWVzc2FnZTogJycsCiAgICAgIEhlbHBlcjogSGVscGVyLAogICAgICB1c2VyOiBIZWxwZXIuZ2V0VXNlcigpLAogICAgICBTYXZlT3B0aW9uOiBTYXZlT3B0aW9uLAogICAgICAvLyBPdGhlcgogICAgICBleGNoYW5nZVJhdGU6IG5ldyBFeGNoYW5nZVJhdGVNb2RlbChpbnN0aXR1dGUuYmFzZUN1cnJlbmN5KSwKICAgICAgYmFua1N0YXRlbWVudDogbmV3IEJhbmtTdGF0ZW1lbnRNb2RlbCgpLAogICAgICBiYW5oamlUeG5BbW91bnQ6IDAsCiAgICAgIGJhbmhqaVRyYW5zYWN0aW9uczogW10sCiAgICAgIGJhbmhqaU1hdGNoZWRUeG5zOiBbXSwKICAgICAgLy8gS2VuZG8KICAgICAgc2NoZW1hRmllbGRzOiB7CiAgICAgICAgam91cm5hbF9kYXRlOiB7CiAgICAgICAgICB0eXBlOiAiZGF0ZSIKICAgICAgICB9LAogICAgICAgIGpvdXJuYWxfdHlwZTogewogICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICB9LAogICAgICAgIGpvdXJuYWxfbnVtYmVyOiB7CiAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246IHsKICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgfSwKICAgICAgICBhbW91bnQ6IHsKICAgICAgICAgIHR5cGU6ICJudW1iZXIiCiAgICAgICAgfQogICAgICB9LAogICAgICAvLyBMb2FkaW5nTWUKICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLyogSW5pdGlhbCBEYXRhICovCiAgICBpbml0aWFsRGF0YTogZnVuY3Rpb24gaW5pdGlhbERhdGEoKSB7CiAgICAgIHRoaXMuYmFua1N0YXRlbWVudCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaW5pdEJhbmtTdGF0ZW1lbnQpOwogICAgICB0aGlzLnNldERlZmF1bHREYXRhKCk7CiAgICAgIHRoaXMubG9hZEJhbmhqaVRyYW5zYWN0aW9uKCk7CiAgICB9LAogICAgbG9hZERhdGE6IGZ1bmN0aW9uIGxvYWREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5zaG93TG9hZGluZyA9IHRydWU7IC8vIENhbGwgTGlzdAoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnYmFua2luZy9nZXRCYW5rTWFwcGluZ3MnKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdiYW5raW5nL2dldEJhbmtBY2NvdW50cycpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAoKICAgIC8qIFNldCBkZWZhdWx0IGRhdGEgKi8KICAgIHNldERlZmF1bHREYXRhOiBmdW5jdGlvbiBzZXREZWZhdWx0RGF0YSgpIHsKICAgICAgdGhpcy5yZWNvbmNpbGUgPSBuZXcgUmVjb25jaWxlTW9kZWwoewogICAgICAgIHR5cGU6IEVudGl0eVR5cGUuQkFOS19SRUNPTkNJTElBVElPTl9CQU5LX0ZFRURTCiAgICAgIH0pOyAvLyBHZW5lcmF0ZSBOdW1iZXIKCiAgICAgIHRoaXMuZ2VuZXJhdGVOdW1iZXIoKTsgLy8gR2V0IEV4Y2hhbmdlIFJhdGUKCiAgICAgIHRoaXMuZ2V0RXhjaGFuZ2VSYXRlKCk7CiAgICB9LAogICAgLy8gTnVtYmVyCiAgICBnZW5lcmF0ZU51bWJlcjogZnVuY3Rpb24gZ2VuZXJhdGVOdW1iZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIG51bTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5pc0VkaXQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gSGVscGVyLmdlbmVyYXRlQWNjb3VudGluZ051bWJlcihfdGhpczIucmVjb25jaWxlLnR5cGUsIF90aGlzMi5yZWNvbmNpbGUuZGF0ZSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIG51bSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMyLnJlY29uY2lsZS5udW1iZXIgPSBudW0ubnVtYmVyOwogICAgICAgICAgICAgICAgX3RoaXMyLnJlY29uY2lsZS5wcmVmaXhfZm9ybWF0ID0gbnVtLnByZWZpeF9mb3JtYXQ7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIEdldCBFeGNoYW5nZSBSYXRlCiAgICBnZXRFeGNoYW5nZVJhdGU6IGZ1bmN0aW9uIGdldEV4Y2hhbmdlUmF0ZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMzLnJlY29uY2lsZS5kYXRlICYmIF90aGlzMy5iYW5rQWNjb3VudC5jdXJyZW5jeS5jb2RlICE9PSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gSGVscGVyLmdldExhc3RFeGNoYW5nZVJhdGVCeURhdGUoX3RoaXMzLnJlY29uY2lsZS5kYXRlLCBfdGhpczMuYmFua0FjY291bnQuY3VycmVuY3kuY29kZSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzMy5leGNoYW5nZVJhdGUgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfdGhpczMuZXhjaGFuZ2VSYXRlID0gbmV3IEV4Y2hhbmdlUmF0ZU1vZGVsKGluc3RpdHV0ZS5iYXNlQ3VycmVuY3kpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCgogICAgLyogTG9hZCBCYW5oSmkgVHJhbnNhY3Rpb24gKi8KICAgIGxvYWRCYW5oamlUcmFuc2FjdGlvbjogZnVuY3Rpb24gbG9hZEJhbmhqaVRyYW5zYWN0aW9uKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBkcywgY3VycmVudEZpc2NhbERhdGUsIHNkYXRlLCBlZGF0ZSwgc3RhdGVtZW50czsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM0LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIC8qIENsZWFyICovCgogICAgICAgICAgICAgICAgZHMgPSBfdGhpczQuJHJlZnMuYmFuaGppVHJhbnNhY3Rpb25EUy5rZW5kb1dpZGdldCgpOwogICAgICAgICAgICAgICAgZHMuZmlsdGVyKFtdKTsKICAgICAgICAgICAgICAgIGRzLmRhdGEoW10pOwogICAgICAgICAgICAgICAgLyogRmluZCBiYW5rIGFjY291bnQgYnkgdXVpZCAqLwoKICAgICAgICAgICAgICAgIF90aGlzNC5iYW5rQWNjb3VudCA9IF90aGlzNC5iYW5rQWNjb3VudHMuZmluZChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaS51dWlkID09PSBfdGhpczQuYmFua1N0YXRlbWVudC5iYW5rX2FjY191dWlkOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAvKiBMb2FkIGpvdXJuYWwgZW50cnkgZGV0YWlsIGJ5IGFjY291bnQgdXVpZCAqLwoKICAgICAgICAgICAgICAgIGN1cnJlbnRGaXNjYWxEYXRlID0gSGVscGVyLmdldEZpc2NhbERhdGVCeURhdGUobmV3IERhdGUoKSk7CiAgICAgICAgICAgICAgICBzZGF0ZSA9IGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKGN1cnJlbnRGaXNjYWxEYXRlLnN0YXJ0X2RhdGUpLCAneXl5eS1NTS1kZCcpICsgJ1QwMDowMDowMC4wMDBaJywgZWRhdGUgPSBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSgpLCAneXl5eS1NTS1kZCcpICsgJ1QyMzo1OTo1OS45OTlaJzsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBqb3VybmFsSGFuZGxlci5nZXRFbnRyeURldGFpbEJ5QWNjb3VudChfdGhpczQuYmFua0FjY291bnQuYWNjb3VudC51dWlkLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGU6IHNkYXRlLAogICAgICAgICAgICAgICAgICAgIGVuZF9kYXRlOiBlZGF0ZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgc3RhdGVtZW50cyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXM0LmJhbmhqaVRyYW5zYWN0aW9ucyA9IHN0YXRlbWVudHMuZW50cmllc19kZXRhaWwuZmlsdGVyKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpLmlzX3JlY29uY2lsZWQgIT09IDE7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzNC5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAoKICAgIC8qIEdyaWQgUm93IFRlbXBsYXRlICovCiAgICByb3dUbXBsOiBmdW5jdGlvbiByb3dUbXBsKGRhdGFJdGVtKSB7CiAgICAgIHZhciBzdHIgPSAiPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIi5jb25jYXQoSGVscGVyLmRhdGVGb3JtYXQoZGF0YUl0ZW0uam91cm5hbF9kYXRlKSwgIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiKS5jb25jYXQoZGF0YUl0ZW0uam91cm5hbF9udW1iZXIsICJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbW91bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIikuY29uY2F0KE51bWJlcihkYXRhSXRlbS5hbW91bnQpLnRvTG9jYWxlU3RyaW5nKCksICIgIikuY29uY2F0KGRhdGFJdGVtLmN1cnJlbmN5LmNvZGUsICJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiB4LXNtYWxsO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiKS5jb25jYXQoZGF0YUl0ZW0uZGVzY3JpcHRpb24sICJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4iKTsKICAgICAgcmV0dXJuIHN0cjsKICAgIH0sCiAgICBkYXRlVGVtcGxhdGU6IGZ1bmN0aW9uIGRhdGVUZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICByZXR1cm4gSGVscGVyLmRhdGVGb3JtYXQoZGF0YUl0ZW0uam91cm5hbF9kYXRlKTsKICAgIH0sCiAgICBvbkJhbmhqaU1hdGNoZWRUeG5EU0NoYW5nZXM6IGZ1bmN0aW9uIG9uQmFuaGppTWF0Y2hlZFR4bkRTQ2hhbmdlcygpIHsKICAgICAgdmFyIGJzID0gdGhpcy5iYW5rU3RhdGVtZW50LAogICAgICAgICAgZHMgPSB0aGlzLiRyZWZzLmJhbmhqaU1hdGNoZWRUeG5EUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgdG90YWwgPSAwOwogICAgICBkcy5kYXRhKCkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICB0b3RhbCArPSB2YWx1ZS5hbW91bnQ7CiAgICAgIH0pOwogICAgICB0aGlzLnJlY29uY2lsZS52YXJpYW5jZV9hbW91bnQgPSBicy5hbW91bnQgLSB0b3RhbDsKICAgICAgdGhpcy5iYW5oamlUeG5BbW91bnQgPSB0b3RhbDsKICAgIH0sCgogICAgLyogT24gR3JpZCBDaGFuZ2UgKi8KICAgIG9uQWRkQmFuaGppVHhuQ2xpY2s6IGZ1bmN0aW9uIG9uQWRkQmFuaGppVHhuQ2xpY2soZSkgewogICAgICB2YXIgZ3JpZCA9IHRoaXMuJHJlZnMuYmFuaGppVHJhbnNhY3Rpb25HcmlkLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBpdGVtID0gZ3JpZC5kYXRhSXRlbShrZW5kby5qUXVlcnkoZS50YXJnZXQpLmNsb3Nlc3QoInRyIikpOwogICAgICB0aGlzLmFkZEJhbmhqaVRyYW5zYWN0aW9uKGl0ZW0pOwogICAgfSwKCiAgICAvKiBBZGQgQmFuaGppIFRyYW5zYWN0aW9uICovCiAgICBhZGRCYW5oamlUcmFuc2FjdGlvbjogZnVuY3Rpb24gYWRkQmFuaGppVHJhbnNhY3Rpb24oaXRlbSkgewogICAgICB2YXIgZ3JpZCA9IHRoaXMuJHJlZnMuYmFuaGppTWF0Y2hlZFR4bkdyaWQua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGRzID0gZ3JpZC5kYXRhU291cmNlOwogICAgICB2YXIgZXhpc3RpbmdJdGVtID0gZHMuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICByZXR1cm4gdmFsdWUuZW50cnlfdXVpZCA9PT0gaXRlbS5lbnRyeV91dWlkOwogICAgICB9KTsKCiAgICAgIGlmIChleGlzdGluZ0l0ZW0ubGVuZ3RoID09PSAwKSB7CiAgICAgICAgZHMuYWRkKGl0ZW0pOwogICAgICB9CiAgICB9LAogICAgLy8gUmVtb3ZlIFJvdwogICAgcmVtb3ZlUm93OiBmdW5jdGlvbiByZW1vdmVSb3coZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBncmlkID0gdGhpcy4kcmVmcy5iYW5oamlNYXRjaGVkVHhuR3JpZC5rZW5kb1dpZGdldCgpLAogICAgICAgICAgZHMgPSBncmlkLmRhdGFTb3VyY2UsCiAgICAgICAgICBpdGVtID0gZ3JpZC5kYXRhSXRlbShrZW5kby5qUXVlcnkoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKICAgICAgZHMucmVtb3ZlKGl0ZW0pOwogICAgfSwKCiAgICAvKiBGaW5kIEJlc3QgTWF0Y2ggVHJhbnNhY3Rpb24gKi8KICAgIGZpbmRCZXN0TWF0Y2g6IGZ1bmN0aW9uIGZpbmRCZXN0TWF0Y2goKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgLy8gbGV0IHNlbGYgPSB0aGlzOwogICAgICB2YXIgYnRtID0gdGhpcy5iYW5rVHJhbnNhY3Rpb25NYXBwaW5ncy5maW5kKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHJldHVybiB2YWx1ZS5iYW5rX3V1aWQgPT09IF90aGlzNS5iYW5rQWNjb3VudC5iYW5rLnV1aWQ7CiAgICAgIH0pOwogICAgICB2YXIgZmlsdGVycyA9IFtdOwogICAgICBidG0uY3JpdGVyaWEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIHZhciBzdGF0ZW1lbnRWYWx1ZSA9ICIiLAogICAgICAgICAgICBqb3VybmFsRmllbGROYW1lID0gIiI7CgogICAgICAgIGlmIChlbGVtZW50LmZpZWxkMiA9PT0gInN0YXRlbWVudF9kYXRlIikgewogICAgICAgICAgLyogRGF0ZSAqLwogICAgICAgICAgam91cm5hbEZpZWxkTmFtZSA9ICJqb3VybmFsX2RhdGUiOwogICAgICAgICAgc3RhdGVtZW50VmFsdWUgPSBfdGhpczUuYmFua1N0YXRlbWVudFsic3RhdGVtZW50X2RhdGUiXTsKICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZmllbGQyID09PSAiYmFua19yZWYiKSB7CiAgICAgICAgICAvKiBOdW1iZXIgKi8KICAgICAgICAgIGpvdXJuYWxGaWVsZE5hbWUgPSAiam91cm5hbF9udW1iZXIiOwogICAgICAgICAgc3RhdGVtZW50VmFsdWUgPSBfdGhpczUuYmFua1N0YXRlbWVudFsiYmFua19yZWYiXTsKICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZmllbGQyID09PSAiZGViaXQiKSB7CiAgICAgICAgICAvKiBEZWJpdCAqLwogICAgICAgICAgam91cm5hbEZpZWxkTmFtZSA9ICJhbW91bnQiOwogICAgICAgICAgc3RhdGVtZW50VmFsdWUgPSBNYXRoLmFicyhfdGhpczUuYmFua1N0YXRlbWVudFsiYW1vdW50Il0pOwogICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5maWVsZDIgPT09ICJjcmVkaXQiKSB7CiAgICAgICAgICAvKiBDcmVkaXQgKi8KICAgICAgICAgIGpvdXJuYWxGaWVsZE5hbWUgPSAiYW1vdW50IjsKICAgICAgICAgIHN0YXRlbWVudFZhbHVlID0gTWF0aC5hYnMoX3RoaXM1LmJhbmtTdGF0ZW1lbnRbImFtb3VudCJdKSAqIC0xOwogICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5maWVsZDIgPT09ICJjdXJyZW5jeSIpIHsKICAgICAgICAgIC8qIEN1cnJlbmN5ICovCiAgICAgICAgICBqb3VybmFsRmllbGROYW1lID0gImN1cnJlbmN5LmNvZGUiOwogICAgICAgICAgc3RhdGVtZW50VmFsdWUgPSBfdGhpczUuYmFua1N0YXRlbWVudFsiY3VycmVuY3kiXTsKICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZmllbGQyID09PSAiZGV0YWlscyIpIHsKICAgICAgICAgIC8qIERldGFpbCAqLwogICAgICAgICAgam91cm5hbEZpZWxkTmFtZSA9ICJkZXNjcmlwdGlvbiI7CiAgICAgICAgICBzdGF0ZW1lbnRWYWx1ZSA9IGVsZW1lbnQudmFsdWU7CiAgICAgICAgfQoKICAgICAgICBmaWx0ZXJzLnB1c2goewogICAgICAgICAgImZpZWxkIjogam91cm5hbEZpZWxkTmFtZSwKICAgICAgICAgICJvcGVyYXRvciI6IGVsZW1lbnQub3BlcmF0b3IsCiAgICAgICAgICAidmFsdWUiOiBzdGF0ZW1lbnRWYWx1ZQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5iYW5oamlUcmFuc2FjdGlvbkRTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIGRzLmZpbHRlcih7CiAgICAgICAgbG9naWM6ICJvciIsCiAgICAgICAgZmlsdGVyczogZmlsdGVycwogICAgICB9KTsKICAgIH0sCiAgICAvLyBBZGQgSm91cm5hbAogICAgYWRkSm91cm5hbDogZnVuY3Rpb24gYWRkSm91cm5hbCgpIHsKICAgICAgdmFyIGVudHJpZXMgPSBbXSwKICAgICAgICAgIGRlYml0QWNjb3VudCA9IHRoaXMuYmFua0FjY291bnQuYWNjb3VudCwKICAgICAgICAgIGNyZWRpdEFjY291bnQgPSB0aGlzLnJlY29uY2lsZS5hZGp1c3RtZW50X2FjY291bnQsCiAgICAgICAgICBhbW91bnQgPSBNYXRoLmFicyh0aGlzLnJlY29uY2lsZS52YXJpYW5jZV9hbW91bnQpOyAvLyBWYXJpYW5jZSA+IDAKCiAgICAgIGlmICh0aGlzLnJlY29uY2lsZS52YXJpYW5jZV9hbW91bnQgPiAwKSB7CiAgICAgICAgZGViaXRBY2NvdW50ID0gdGhpcy5yZWNvbmNpbGUuYWRqdXN0bWVudF9hY2NvdW50OwogICAgICAgIGNyZWRpdEFjY291bnQgPSB0aGlzLmJhbmtBY2NvdW50LmFjY291bnQ7CiAgICAgIH0gLy8gRGViaXQgU2lkZQoKCiAgICAgIGVudHJpZXMucHVzaChuZXcgSm91cm5hbEVudHJ5TW9kZWwoewogICAgICAgIGFjY291bnQ6IGRlYml0QWNjb3VudCwKICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5yZWNvbmNpbGUuZGVzY3JpcHRpb24sCiAgICAgICAgY3VycmVuY3k6IG5ldyBDdXJyZW5jeU1vZGVsKHRoaXMuYmFua0FjY291bnQuY3VycmVuY3kpLAogICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgIGV4Y2hhbmdlX3JhdGVfdXVpZDogdGhpcy5leGNoYW5nZVJhdGUuaWQsCiAgICAgICAgZXhjaGFuZ2VfcmF0ZTogdGhpcy5leGNoYW5nZVJhdGUucmF0ZQogICAgICB9KSk7IC8vIENyZWRpdCBTaWRlCgogICAgICBlbnRyaWVzLnB1c2gobmV3IEpvdXJuYWxFbnRyeU1vZGVsKHsKICAgICAgICBhY2NvdW50OiBjcmVkaXRBY2NvdW50LAogICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLnJlY29uY2lsZS5kZXNjcmlwdGlvbiwKICAgICAgICBjdXJyZW5jeTogbmV3IEN1cnJlbmN5TW9kZWwodGhpcy5iYW5rQWNjb3VudC5jdXJyZW5jeSksCiAgICAgICAgYW1vdW50OiBhbW91bnQgKiAtMSwKICAgICAgICAvLyBDcmVkaXQgc2lkZSBpcyBuZWdhdGl2ZQogICAgICAgIGV4Y2hhbmdlX3JhdGVfdXVpZDogdGhpcy5leGNoYW5nZVJhdGUuaWQsCiAgICAgICAgZXhjaGFuZ2VfcmF0ZTogdGhpcy5leGNoYW5nZVJhdGUucmF0ZQogICAgICB9KSk7IC8vIEFkanVzdG1lbnQgSm91cm5hbAoKICAgICAgdGhpcy5hZGp1c3RtZW50Sm91cm5hbC5udW1iZXIgPSB0aGlzLnJlY29uY2lsZS5udW1iZXI7CiAgICAgIHRoaXMuYWRqdXN0bWVudEpvdXJuYWwuZGVzY3JpcHRpb24gPSB0aGlzLnJlY29uY2lsZS5kZXNjcmlwdGlvbjsKICAgICAgdGhpcy5hZGp1c3RtZW50Sm91cm5hbC5qb3VybmFsX2RhdGUgPSBIZWxwZXIudG9JU09EYXRlKHRoaXMucmVjb25jaWxlLmRhdGUpOwogICAgICB0aGlzLmFkanVzdG1lbnRKb3VybmFsLmpvdXJuYWxfdHlwZSA9IEVudGl0eVR5cGUuQURKVVNUTUVOVDsKICAgICAgdGhpcy5hZGp1c3RtZW50Sm91cm5hbC50cmFuc2FjdGlvbl90eXBlID0gdGhpcy5yZWNvbmNpbGUudHlwZTsKICAgICAgdGhpcy5hZGp1c3RtZW50Sm91cm5hbC5wcmVmaXhfZm9ybWF0ID0gdGhpcy5yZWNvbmNpbGUucHJlZml4X2Zvcm1hdDsKICAgICAgdGhpcy5hZGp1c3RtZW50Sm91cm5hbC5pc19kcmFmdCA9IHRoaXMucmVjb25jaWxlLmlzX2RyYWZ0OwogICAgICB0aGlzLmFkanVzdG1lbnRKb3VybmFsLmNyZWF0ZWRfYnkgPSB0aGlzLnJlY29uY2lsZS5jcmVhdGVkX2J5OwogICAgICB0aGlzLmFkanVzdG1lbnRKb3VybmFsLm1vZGlmaWVkX2J5ID0gdGhpcy5yZWNvbmNpbGUubW9kaWZpZWRfYnk7IC8vIEFkanVzdG1lbnQgRW50cmllcwoKICAgICAgdGhpcy5hZGp1c3RtZW50RW50cmllcyA9IGVudHJpZXM7CiAgICB9LAogICAgLy8gU2hyaW5rIERhdGEKICAgIHNocmlua0RhdGE6IGZ1bmN0aW9uIHNocmlua0RhdGEoKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuYmFuaGppTWF0Y2hlZFR4bkRTLmtlbmRvV2lkZ2V0KCk7IC8vIERhdGUKCiAgICAgIHRoaXMucmVjb25jaWxlLmRhdGUgPSBIZWxwZXIudG9JU09EYXRlKHRoaXMucmVjb25jaWxlLmRhdGUpOwogICAgICB0aGlzLnJlY29uY2lsZS5iYW5rX3N0YXRlbWVudF91dWlkID0gdGhpcy5iYW5rU3RhdGVtZW50LnV1aWQ7IC8vIFJlY29uY2lsZSBFbnRyaWVzCgogICAgICB2YXIgZW50cnlVdWlkTGlzdCA9IFtdOwogICAgICBkcy5kYXRhKCkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICBlbnRyeVV1aWRMaXN0LnB1c2godmFsdWUuZW50cnlfdXVpZCk7CiAgICAgIH0pOwogICAgICB0aGlzLnJlY29uY2lsZS5yZWNvbmNpbGVfZW50cmllcyA9IGVudHJ5VXVpZExpc3Q7IC8vIFVzZXIKCiAgICAgIGlmICh0aGlzLmlzRWRpdCkgewogICAgICAgIHRoaXMucmVjb25jaWxlLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VyOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucmVjb25jaWxlLmNyZWF0ZWRfYnkgPSB0aGlzLnVzZXI7CiAgICAgIH0KICAgIH0sCiAgICAvLyBWYWxpZGF0aW5nCiAgICB2YWxpZGF0ZUZvcm06IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybSgpIHsKICAgICAgdmFyIHJlc3VsdCA9IHRydWUsCiAgICAgICAgICBtc2cgPSAnJywKICAgICAgICAgIHJjID0gdGhpcy5yZWNvbmNpbGUsCiAgICAgICAgICBkcyA9IHRoaXMuJHJlZnMuYmFuaGppTWF0Y2hlZFR4bkRTLmtlbmRvV2lkZ2V0KCk7IC8vIE1hdGNoZWQgVHJhbnNhY3Rpb25zCgogICAgICBpZiAoZHMudG90YWwoKSA9PT0gMCkgewogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICAgIG1zZyArPSAnPHA+UGxlYXNlIGFkZCBhIHRyYW5zYWN0aW9uLjwvcD4nOwogICAgICB9IC8vIEFkanVzdG1lbnQgQWNjb3VudAoKCiAgICAgIGlmIChyYy52YXJpYW5jZV9hbW91bnQgIT09IDApIHsKICAgICAgICBpZiAodGhpcy5yZWNvbmNpbGUuYWRqdXN0bWVudF9hY2NvdW50LnV1aWQgPT09ICcnKSB7CiAgICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgICAgIG1zZyArPSAnPHA+UGxlYXNlIHNlbGVjdCBhZGp1c3RtZW50IGFjY291bnQuPC9wPic7CiAgICAgICAgfQogICAgICB9IC8vIFNob3cgQWxlcnQKCgogICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IG1zZzsKICAgICAgdGhpcy5hbGVydCA9IGZhbHNlOwoKICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHsKICAgICAgICB0aGlzLmFsZXJ0ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICAvLyBBbGwgU2F2ZXMKICAgIG9uU2F2ZU9wdGlvbkNsaWNrOiBmdW5jdGlvbiBvblNhdmVPcHRpb25DbGljayhtb2RlKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSAmJiB0aGlzLnZhbGlkYXRlRm9ybSgpKSB7CiAgICAgICAgdGhpcy5zYXZlTW9kZSA9IG1vZGU7CiAgICAgICAgdGhpcy5zYXZlKCk7CiAgICAgIH0KICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLiRzd2FsKHsKICAgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLAogICAgICAgIHRleHQ6ICJZb3Ugd29uJ3QgYmUgYWJsZSB0byByZXZlcnQgdGhpcyEiLAogICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyM0ZDQ4NDgnLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnIzMwODVkNicsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMsIGRpc2NhcmQgaXQhJwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICBfdGhpczYuY2xlYXIoKTsKCiAgICAgICAgICBfdGhpczYuJHJvdXRlci5nbygtMSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7CiAgICAgIC8vIFJlc2V0IEZvcm0KICAgICAgLy8gdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCk7CiAgICAgIHRoaXMuYmFuaGppVHhuQW1vdW50ID0gMDsKICAgICAgdGhpcy5iYW5oamlNYXRjaGVkVHhucyA9IFtdOwogICAgICB0aGlzLnJlY29uY2lsZSA9IG5ldyBSZWNvbmNpbGVNb2RlbCgpOwogICAgICB0aGlzLnJlY29uY2lsZS5hZGp1c3RtZW50X2FjY291bnQgPSBuZXcgQWNjb3VudE1vZGVsKCk7CiAgICAgIHRoaXMuYWRqdXN0bWVudEpvdXJuYWwgPSBuZXcgSm91cm5hbE1vZGVsKCk7CiAgICAgIHRoaXMuYWRqdXN0bWVudEVudHJpZXMgPSBbXTsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5iYW5oamlNYXRjaGVkVHhuRFMua2VuZG9XaWRnZXQoKTsKICAgICAgZHMuZGF0YShbXSk7IC8vIE5ldyBEZWZhdWx0IERhdGEKCiAgICAgIHRoaXMuc2V0RGVmYXVsdERhdGEoKTsKICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7IC8vIFNocmluayBEYXRhCgogICAgICB0aGlzLnNocmlua0RhdGEoKTsgLy8gQWRqdXN0bWVudCBKb3VybmFsCgogICAgICBpZiAodGhpcy5yZWNvbmNpbGUudmFyaWFuY2VfYW1vdW50ICE9PSAwKSB7CiAgICAgICAgdGhpcy5hZGRKb3VybmFsKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hZGp1c3RtZW50Sm91cm5hbCA9IG5ldyBKb3VybmFsTW9kZWwoKTsKICAgICAgICB0aGlzLmFkanVzdG1lbnRFbnRyaWVzID0gW107CiAgICAgIH0gLy8gU3luYyBEYXRhCgoKICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgIHJlY29uY2lsZUhhbmRsZXIuc2F2ZSh7CiAgICAgICAgcmVjb25jaWxlOiBuZXcgUmVjb25jaWxlTW9kZWwodGhpcy5yZWNvbmNpbGUpLAogICAgICAgIGFkanVzdG1lbnRfam91cm5hbDogbmV3IEpvdXJuYWxNb2RlbCh0aGlzLmFkanVzdG1lbnRKb3VybmFsKSwKICAgICAgICBhZGp1c3RtZW50X2VudHJpZXM6IHRoaXMuYWRqdXN0bWVudEVudHJpZXMKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBzZWxmLnJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgc2VsZi5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgIEhlbHBlci5hbGVydEVycm9yTXNnKGVycm9yKTsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgc2VsZi5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyBSZXNwb25zZSBTdGF0dXMKICAgIHJlc3BvbnNlU3RhdHVzOiBmdW5jdGlvbiByZXNwb25zZVN0YXR1cyhyZXNwb25zZSkgewogICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAvKiBTYXZlIENsb3NlIG9yIERlbGV0ZSBBY3Rpb24gKi8KICAgICAgICBpZiAodGhpcy5zYXZlTW9kZSA9PT0gU2F2ZU9wdGlvbi5TQVZFQ0xPU0UgfHwgdGhpcy5zYXZlTW9kZSA9PT0gU2F2ZU9wdGlvbi5ERUxFVEUpIHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgICAgfQogICAgICAgIC8qIFJlc2V0IERhdGEgKi8KCgogICAgICAgIHRoaXMuY2xlYXIoKTsKICAgICAgICAvKiBBbGVydCBTdWNjZXNzICovCgogICAgICAgIHRoaXMuJHNub3RpZnkuc3VjY2VzcyhpMThuLnQoInN1Y2Nlc3NmdWwiKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLyogQWxlcnQgRXJyb3IgKi8KICAgICAgICB0aGlzLiRzbm90aWZ5LmVycm9yKGkxOG4udCgiZXJyb3Jfc29tZXRoaW5nX3dyb25nIikpOwogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaW5pdEJhbmtTdGF0ZW1lbnQ6ICJpbml0aWFsRGF0YSIKICB9LAogIGNvbXB1dGVkOiBtYXBTdGF0ZSh7CiAgICBiYW5rVHJhbnNhY3Rpb25NYXBwaW5nczogZnVuY3Rpb24gYmFua1RyYW5zYWN0aW9uTWFwcGluZ3Moc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmJhbmtpbmcuYmFua01hcHBpbmdzOwogICAgfSwKICAgIGJhbmtBY2NvdW50czogZnVuY3Rpb24gYmFua0FjY291bnRzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5iYW5raW5nLmJhbmtBY2NvdW50czsKICAgIH0KICB9KSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkRGF0YSgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdGlhbERhdGEoKTsKICB9Cn07"},{"version":3,"sources":["BankStatementReconciliation.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-container>\n        <v-card\n         elevation=\"0\"\n         class=\"pa-4\"\n         style=\"position:relative;\"\n         color=\"white\"\n        >\n            <h2>{{$t('bank_statement_reconciliation')}}</h2>\n            <v-icon \n                onclick=\"window.history.go(-1); return false;\" \n                style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                class=\"float-right\"\n            >close</v-icon>\n\n            <v-divider/>\n            <v-card-text style=\"min-height: 850px; background-color: #F8F8F9; color: #333;\">\n                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                    <v-row>\n                        <!-- From Bank -->\n                        <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                            <v-card outlined dense color=\"grayBg\" class=\"no_border\" v-if=\"bankStatement\">\n                                <v-card outlined dense color=\"third\" class=\"pa-3 no_border\">\n                                    <v-row>\n                                        <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                            <h3 class=\"white--text\">{{$t('from_bank')}}</h3>\n                                        </v-col>\n                                        <v-col sm=\"6\" cols=\"12\" class=\"py-0 text-right\">\n                                            <h3 class=\"white--text\">{{ Number(bankStatement.amount).toLocaleString() }} {{ bankStatement.currency }}</h3>\n                                        </v-col>\n                                    </v-row>\n                                </v-card>\n                                <v-row>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"px-6\">\n                                        <div>\n                                            {{ bankStatement.statement_date }}\n                                            {{ bankStatement.transaction_type }}\n                                        </div>\n                                        <div>\n                                            {{ bankStatement.reference }}\n                                            Amount\n                                            {{ Number(bankStatement.amount).toLocaleString() }} {{ bankStatement.currency }}\n                                        </div>\n                                        <div style=\"font-size: x-small;\">\n                                            {{ bankStatement.details }}\n                                        </div>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                        </v-col>\n\n                        <!-- From BanhJi -->\n                        <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                            <v-card outlined dense color=\"grayBg\" class=\"no_border\">\n                                <v-card outlined dense color=\"third\" class=\"pa-3 no_border\">\n                                    <v-row>\n                                        <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                            <h3 class=\"white--text\">{{$t('from_banhji')}}</h3>\n                                        </v-col>\n                                        <v-col sm=\"6\" cols=\"12\" class=\"py-0 text-right\">\n                                            <h3 class=\"white--text\">{{ Number(banhjiTxnAmount).toLocaleString() }}</h3>\n                                        </v-col>\n                                    </v-row>\n                                </v-card>\n                                <v-row>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"px-6\">\n                                        <kendo-datasource ref=\"banhjiMatchedTxnDS\"\n                                            :change=\"onBanhjiMatchedTxnDSChanges\"\n                                            :data=\"banhjiMatchedTxns\"\n                                            :page-size='20'\n                                            :schema-model-fields=\"schemaFields\">\n                                        </kendo-datasource>\n                                        \n                                        <kendo-grid id=\"banhjiMatchedTxnGrid\"\n                                                ref=\"banhjiMatchedTxnGrid\"\n                                                class=\"grid-center mb-3\"\n                                                :data-source-ref=\"'banhjiMatchedTxnDS'\"\n                                                :noRecords=\"true\">\n                                            <kendo-grid-column \n                                                :field=\"'entry_uuid'\"\n                                                :title=\"'&nbsp;'\"\n                                                :template=\"rowTmpl\"\n                                                :width=\"200\" />\n                                            <kendo-grid-column\n                                                :command=\"{ iconClass: 'k-icon k-i-trash', text: 'DEL', click: removeRow, class: 'btn-plus' }\"\n                                                :title=\"'&nbsp;'\"\n                                                :width=\"75\"\n                                            />\n                                        </kendo-grid>\n\n                                        <div class=\"float-right\">\n                                            <v-btn color=\"primary\"\n                                                class=\"white--text text-capitalize\"\n                                                @click=\"findBestMatch\" small>\n                                                    {{$t('find_best_match')}}\n                                            </v-btn>\n\n                                            <v-btn color=\"primary\"\n                                                class=\"white--text\"\n                                                @click=\"loadBanhjiTransaction\" small>\n                                                <v-icon>refresh</v-icon>\n                                            </v-btn>\n                                        </div>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                        </v-col>\n\n                        <!-- Variance -->\n                        <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                            <v-card outlined dense color=\"grayBg\" class=\"no_border\">\n                                <v-card outlined dense color=\"third\" class=\"pa-3 no_border\">\n                                    <v-row>\n                                        <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                            <h3 class=\"white--text\">{{$t('variance')}}</h3>\n                                        </v-col>\n                                        <v-col sm=\"6\" cols=\"12\" class=\"py-0 text-right\">\n                                            <h3 class=\"white--text\">{{ Number(reconcile.variance_amount).toLocaleString() }}</h3>\n                                        </v-col>\n                                    </v-row>\n                                </v-card>\n                                <v-row>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"px-6\" v-if=\"reconcile.variance_amount !== 0\">\n                                        <label class=\"label\">{{$t('adjustment_account')}}</label>\n                                        <app-adjustment-account-dropdownlist\n                                            :initAccount=\"reconcile.adjustment_account\"\n                                            @emitAccount=\"reconcile.adjustment_account = $event\"\n                                        />\n                                    </v-col>\n\n                                    <!-- Reconcile Info -->\n                                    <v-col sm=\"12\" cols=\"12\" class=\"px-6\">\n                                        <label class=\"label\">{{$t('date')}}</label>\n                                        <app-datepicker :initialDate=\"reconcile.date\"\n                                                        @emitDate=\"reconcile.date = $event\"\n                                                        @onChanged=\"getExchangeRate\" />\n\n                                        <label class=\"label\">{{$t('number')}}</label>\n                                        <v-row>\n                                            <v-col sm=\"10\" cols=\"10\" class=\"pr-0\">\n                                                <v-text-field class=\"\"\n                                                                v-model=\"reconcile.number\"\n                                                                outlined\n                                                                readonly\n                                                                required/>\n                                            </v-col>\n                                            <v-col sm=\"2\" cols=\"2\" class=\"pl-0\">\n                                                <v-icon color=\"black\" size=\"30\" class=\"border_qrcode\"\n                                                        @click=\"generateNumber\">mdi-qrcode\n                                                </v-icon>\n                                            </v-col>\n                                        </v-row>\n\n                                        <v-alert type=\"warning\"\n                                                v-model=\"alert\"\n                                                dismissible>\n                                            <span style=\"font-size: small;\" v-html=\"errorMessage\"/>\n                                        </v-alert>\n                                    \n                                        <v-btn color=\"primary\"\n                                            class=\"white--text float-right text-capitalize\"\n                                            @click=\"onSaveOptionClick(SaveOption.SAVECLOSE)\" small>\n                                                {{$t('reconcile')}}\n                                        </v-btn>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                        </v-col>\n                        \n                        <!-- Search BanhJi Transaction Grid -->\n                        <v-col sm=\"12\" cols=\"12\">\n                            <kendo-datasource ref=\"banhjiTransactionDS\"\n                                :data=\"banhjiTransactions\"\n                                :page-size='20'\n                                :schema-model-fields=\"schemaFields\">\n                            </kendo-datasource>\n\n                            <kendo-grid id=\"banhjiTransactionGrid\"\n                                ref=\"banhjiTransactionGrid\"\n                                :data-source-ref=\"'banhjiTransactionDS'\"\n                                :pageable=\"true\"\n                                :filterable-mode=\"'row'\"\n                                :noRecords=\"true\"\n                                :scrollable=\"true\"\n                                :pageable-numeric=\"false\"\n                                :pageable-previous-next=\"false\"\n                                :pageable-messages-display=\"'Showing {2} data items'\">\n                                <kendo-grid-column \n                                    :field=\"'journal_date'\"\n                                    :title=\"$t('date')\"\n                                    :template=\"dateTemplate\"\n                                    :width=\"150\" />\n                                <kendo-grid-column \n                                    :field=\"'journal_type'\"\n                                    :title=\"$t('type')\"\n                                    :width=\"150\" />\n                                <kendo-grid-column \n                                    :field=\"'journal_number'\"\n                                    :title=\"$t('number')\"\n                                    :width=\"150\" />\n                                <kendo-grid-column \n                                    :field=\"'description'\"\n                                    :title=\"$t('description')\"\n                                    :filterable-cell-operator=\"'contains'\"\n                                    :filterable-cell-suggestion-operator=\"'contains'\" />\n                                <kendo-grid-column \n                                    :field=\"'amount'\"\n                                    :title=\"$t('amount')\"\n                                    :format=\"'{0:n}'\"\n                                    :width=\"150\"\n                                    :filterable-cell-operator=\"'gte'\" />\n                                <kendo-grid-column\n                                    :command=\"{ text: 'Add', click: onAddBanhjiTxnClick, class: 'btn-plus' }\"\n                                    :title=\"'&nbsp;'\"\n                                    :width=\"80\"\n                                />\n                            </kendo-grid>\n                        </v-col>\n                    </v-row>\n                </v-form>\n            </v-card-text>\n\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"false\"\n                :myLoading=\"true\"\n                type=\"loading\"\n            />\n        </v-card>\n    </v-container>\n</template>\n<script>\n    import kendo from \"@progress/kendo-ui\";\n    import Helper from \"@/helper.js\";\n    import { i18n } from '@/i18n';\n    import { \n        BankAccountModel, \n        BankStatementModel, \n        ReconcileModel, \n        AccountModel, \n        JournalModel, \n        JournalEntryModel,\n        CurrencyModel,\n        ExchangeRateModel,\n    } from \"@/scripts/model/AppModels\";\n    \n    /* Store */\n    import store from \"@/store\"\n    const institute = store.state.institute.institute\n    import { mapState } from 'vuex';\n\n    const {\n        reconcileHandler,\n        journalHandler,\n    } = require(\"@/scripts/AppHandlers\");\n    const { EntityType, SaveOption } = require(\"@/scripts/default_setup/Collections\");\n\n    export default {\n        name: \"BankStatementReconciliation\",\n        components: {\n            \"LoadingMe\": () => import('@/components/Loading'),\n            \"app-datepicker\": () => import('@/components/custom_templates/DatePickerComponent'),\n            \"app-adjustment-account-dropdownlist\": () => import('@/components/dropdownlist/Account'),\n        },\n        props: {\n            initBankStatement: {\n                type: BankStatementModel,\n            },\n        },\n        data () {\n            return {\n                /* Obj */\n                bankAccount         : new BankAccountModel(),\n                reconcile           : new ReconcileModel(),\n                adjustmentJournal   : new JournalModel(),\n                adjustmentEntries   : [],\n                // Form validation\n                valid: true,\n                isEdit: false,\n                alert: false,\n                errorMessage: '',\n                Helper              : Helper,\n                user: Helper.getUser(),\n                SaveOption: SaveOption,\n                // Other\n                exchangeRate        : new ExchangeRateModel(institute.baseCurrency),\n                bankStatement       : new BankStatementModel(),\n                banhjiTxnAmount     : 0,\n                banhjiTransactions  : [],\n                banhjiMatchedTxns   : [],\n                // Kendo\n                schemaFields: {\n                    journal_date    : { type: \"date\" },\n                    journal_type    : { type: \"string\" },\n                    journal_number  : { type: \"string\" },\n                    description     : { type: \"string\" },\n                    amount          : { type: \"number\" }\n                },\n                // LoadingMe\n                showLoading: false,\n            }\n        },\n        methods: {\n            /* Initial Data */\n            initialData(){\n                this.bankStatement = Object.assign({}, this.initBankStatement);\n                \n                this.setDefaultData();\n                this.loadBanhjiTransaction();\n            },\n            async loadData () {\n                this.showLoading = true;\n                \n                // Call List\n                await this.$store.dispatch('banking/getBankMappings');\n\n                // Call Bank Account\n                await this.$store.dispatch('banking/getBankAccounts');\n\n                this.showLoading = false;\n            },\n            /* Set default data */\n            setDefaultData() {\n                this.reconcile = new ReconcileModel({\n                    type: EntityType.BANK_RECONCILIATION_BANK_FEEDS, \n                })\n                \n                // Generate Number\n                this.generateNumber();\n\n                // Get Exchange Rate\n                this.getExchangeRate();\n            },\n            // Number\n            async generateNumber() {\n                if (!this.isEdit) {\n                    let num = await Helper.generateAccountingNumber(this.reconcile.type, this.reconcile.date);\n\n                    this.reconcile.number = num.number;\n                    this.reconcile.prefix_format = num.prefix_format;\n                }\n            },\n            // Get Exchange Rate\n            async getExchangeRate() {\n                if(this.reconcile.date && this.bankAccount.currency.code !== ''){\n                    this.exchangeRate = await Helper.getLastExchangeRateByDate(this.reconcile.date, this.bankAccount.currency.code);\n                }else{\n                    this.exchangeRate = new ExchangeRateModel(institute.baseCurrency);\n                }\n            },\n            /* Load BanhJi Transaction */\n            async loadBanhjiTransaction () {\n                this.showLoading = true;\n\n                /* Clear */\n                let ds = this.$refs.banhjiTransactionDS.kendoWidget();\n                ds.filter([]);\n                ds.data([]);\n                \n                /* Find bank account by uuid */\n                this.bankAccount = this.bankAccounts.find(i=>i.uuid === this.bankStatement.bank_acc_uuid);\n\n                /* Load journal entry detail by account uuid */\n                let currentFiscalDate = Helper.getFiscalDateByDate(new Date());\n                let sdate = kendo.toString(new Date(currentFiscalDate.start_date), 'yyyy-MM-dd') + 'T00:00:00.000Z',\n                    edate = kendo.toString(new Date(), 'yyyy-MM-dd') + 'T23:59:59.999Z';\n                \n                let statements = await journalHandler.getEntryDetailByAccount(this.bankAccount.account.uuid, {\n                    params: {\n                        start_date \t: sdate,\n                        end_date \t: edate,\n                    }\n                });\n\n                this.banhjiTransactions = statements.entries_detail.filter(i=>i.is_reconciled !== 1);\n\n                this.showLoading = false;\n            },\n            /* Grid Row Template */\n            rowTmpl (dataItem) {\n                let str = `<div>\n                                ${ Helper.dateFormat(dataItem.journal_date) }\n                                ${ dataItem.journal_number }\n                            </div>\n                            <div>\n                                Amount\n                                ${ Number(dataItem.amount).toLocaleString() } ${ dataItem.currency.code }\n                            </div>\n                            <div style=\"font-size: x-small;\">\n                                ${ dataItem.description }\n                            </div>`\n\n                return str\n            },\n            dateTemplate(dataItem){\n                return Helper.dateFormat(dataItem.journal_date);\n            },\n            onBanhjiMatchedTxnDSChanges () {\n                let bs = this.bankStatement,\n                    ds = this.$refs.banhjiMatchedTxnDS.kendoWidget(),\n                    total = 0;\n\n                ds.data().forEach(value => {\n                    total += value.amount;\n                })\n\n                this.reconcile.variance_amount = bs.amount - total;\n                this.banhjiTxnAmount = total;\n            },\n            /* On Grid Change */\n\t\t\tonAddBanhjiTxnClick (e) {\n                let grid = this.$refs.banhjiTransactionGrid.kendoWidget(),\n                    item = grid.dataItem(kendo.jQuery(e.target).closest(\"tr\"));\n                \n                this.addBanhjiTransaction(item);\n            },\n            /* Add Banhji Transaction */\n            addBanhjiTransaction (item) {\n                let grid = this.$refs.banhjiMatchedTxnGrid.kendoWidget(),\n\t\t\t\t\tds = grid.dataSource;\n                \n                let existingItem = ds.data().filter(value => value.entry_uuid === item.entry_uuid);\n                if(existingItem.length === 0){\n                    ds.add(item);\n                }\n            },\n            // Remove Row\n\t\t\tremoveRow (e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tlet grid = this.$refs.banhjiMatchedTxnGrid.kendoWidget(),\n\t\t\t\t\tds = grid.dataSource,\n\t\t\t\t\titem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n\t\t\t\t\n\t\t\t\tds.remove(item);\n            },\n            /* Find Best Match Transaction */\n            findBestMatch () {\n                // let self = this;\n                let btm = this.bankTransactionMappings.find(value => value.bank_uuid === this.bankAccount.bank.uuid);\n                \n                let filters = [];\n                btm.criteria.forEach(element => {\n                    let statementValue = \"\",\n                        journalFieldName = \"\";\n                    \n                    if(element.field2 === \"statement_date\"){/* Date */\n                        journalFieldName = \"journal_date\";\n                        statementValue = this.bankStatement[\"statement_date\"];\n                    }else if(element.field2 === \"bank_ref\"){/* Number */\n                        journalFieldName = \"journal_number\";\n                        statementValue = this.bankStatement[\"bank_ref\"];\n                    }else if(element.field2 === \"debit\"){/* Debit */\n                        journalFieldName = \"amount\";\n                        statementValue = Math.abs(this.bankStatement[\"amount\"]);\n                    }else if(element.field2 === \"credit\"){/* Credit */\n                        journalFieldName = \"amount\";\n                        statementValue = Math.abs(this.bankStatement[\"amount\"]) * -1;\n                    }else if(element.field2 === \"currency\"){/* Currency */\n                        journalFieldName = \"currency.code\";\n                        statementValue = this.bankStatement[\"currency\"];\n                    }else if(element.field2 === \"details\"){/* Detail */\n                        journalFieldName = \"description\";\n                        statementValue = element.value;\n                    }\n\n                    filters.push({\n                        \"field\"     : journalFieldName,\n                        \"operator\"  : element.operator,\n                        \"value\"     : statementValue,\n                    })\n                })\n\n                let ds = this.$refs.banhjiTransactionDS.kendoWidget();\n                ds.filter({\n                    logic: \"or\",\n                    filters: filters\n                });\n            },\n            // Add Journal\n            addJournal() {\n                let entries = [],\n                    debitAccount = this.bankAccount.account,\n                    creditAccount = this.reconcile.adjustment_account,\n                    amount = Math.abs(this.reconcile.variance_amount);\n\n                // Variance > 0\n                if (this.reconcile.variance_amount > 0) {\n                    debitAccount = this.reconcile.adjustment_account\n                    creditAccount = this.bankAccount.account\n                }\n\n                // Debit Side\n                entries.push(new JournalEntryModel({\n                    account: debitAccount,\n                    description: this.reconcile.description,\n                    currency: new CurrencyModel(this.bankAccount.currency),\n                    amount: amount,\n                    exchange_rate_uuid: this.exchangeRate.id,\n                    exchange_rate: this.exchangeRate.rate,\n                }))\n\n                // Credit Side\n                entries.push(new JournalEntryModel({\n                    account: creditAccount,\n                    description: this.reconcile.description,\n                    currency: new CurrencyModel(this.bankAccount.currency),\n                    amount: amount * -1, // Credit side is negative\n                    exchange_rate_uuid: this.exchangeRate.id,\n                    exchange_rate: this.exchangeRate.rate,\n                }))\n\n                // Adjustment Journal\n                this.adjustmentJournal.number = this.reconcile.number;\n                this.adjustmentJournal.description = this.reconcile.description;\n                this.adjustmentJournal.journal_date = Helper.toISODate(this.reconcile.date);\n                this.adjustmentJournal.journal_type = EntityType.ADJUSTMENT;\n                this.adjustmentJournal.transaction_type = this.reconcile.type;\n                this.adjustmentJournal.prefix_format = this.reconcile.prefix_format;\n                this.adjustmentJournal.is_draft = this.reconcile.is_draft;\n                this.adjustmentJournal.created_by = this.reconcile.created_by;\n                this.adjustmentJournal.modified_by = this.reconcile.modified_by;\n\n                // Adjustment Entries\n                this.adjustmentEntries = entries;\n            },\n            // Shrink Data\n            shrinkData() {\n                let ds = this.$refs.banhjiMatchedTxnDS.kendoWidget();\n\n                // Date\n                this.reconcile.date = Helper.toISODate(this.reconcile.date);\n                this.reconcile.bank_statement_uuid = this.bankStatement.uuid;\n\n                // Reconcile Entries\n                let entryUuidList = [];\n                ds.data().forEach(value => {\n                    entryUuidList.push(value.entry_uuid);\n                });\n                this.reconcile.reconcile_entries = entryUuidList;\n\n                // User\n                if (this.isEdit) {\n                    this.reconcile.modified_by = this.user;\n                } else {\n                    this.reconcile.created_by = this.user;\n                }\n            },\n            // Validating\n            validateForm() {\n                let result = true, msg = '',\n                    rc = this.reconcile,\n                    ds = this.$refs.banhjiMatchedTxnDS.kendoWidget();\n\n                // Matched Transactions\n                if (ds.total() === 0) {\n                    result = false;\n                    msg += '<p>Please add a transaction.</p>';\n                }\n\n                // Adjustment Account\n                if (rc.variance_amount !== 0) {\n                    if (this.reconcile.adjustment_account.uuid === '') {\n                        result = false;\n                        msg += '<p>Please select adjustment account.</p>';\n                    }\n                }\n\n                // Show Alert\n                this.errorMessage = msg;\n                this.alert = false;\n                if (result === false) {\n                    this.alert = true;\n                }\n\n                return result;\n            },\n            // All Saves\n            onSaveOptionClick(mode) {\n\t\t\t\tif (this.$refs.form.validate() && this.validateForm()) {\n\t\t\t\t\tthis.saveMode = mode;\n\t\t\t\t\tthis.save();\n\t\t\t\t}\n\t\t\t},\n            cancel() {\n                this.$swal({\n                    title: 'Are you sure?',\n                    text: \"You won't be able to revert this!\",\n                    icon: 'warning',\n                    showCancelButton: true,\n                    confirmButtonColor: '#4d4848',\n                    cancelButtonColor: '#3085d6',\n                    confirmButtonText: 'Yes, discard it!'\n                }).then((result) => {\n                    if (result.value) {\n                        this.clear();\n                        this.$router.go(-1);\n                    }\n                })\n            },\n            clear() {\n                // Reset Form\n                // this.$refs.form.reset();\n\n                this.banhjiTxnAmount = 0;\n                this.banhjiMatchedTxns = [];\n\n                this.reconcile = new ReconcileModel();\n                this.reconcile.adjustment_account = new AccountModel();\n                this.adjustmentJournal = new JournalModel();\n                this.adjustmentEntries = [];\n\n                let ds = this.$refs.banhjiMatchedTxnDS.kendoWidget();\n                ds.data([]);\n\n                // New Default Data\n                this.setDefaultData();\n            },\n            save() {\n                let self = this;\n\n                // Shrink Data\n                this.shrinkData();\n\n                // Adjustment Journal\n                if (this.reconcile.variance_amount !== 0) {\n                    this.addJournal();\n                } else {\n                    this.adjustmentJournal = new JournalModel();\n                    this.adjustmentEntries = [];\n                }\n\n                // Sync Data\n                this.showLoading = true;\n                reconcileHandler.save({\n                    reconcile: new ReconcileModel(this.reconcile),\n                    adjustment_journal: new JournalModel(this.adjustmentJournal),\n                    adjustment_entries: this.adjustmentEntries,\n                })\n                .then(function (response) {\n                    self.responseStatus(response);\n                })\n                .catch(function (error) {\n                    self.showLoading = false;\n                    Helper.alertErrorMsg(error);\n                })\n                .finally(()=>{\n                    self.showLoading = false;\n                });\n            },\n            // Response Status\n            responseStatus(response) {\n                if (response.status === 200) {\n                    /* Save Close or Delete Action */\n                    if (this.saveMode === SaveOption.SAVECLOSE || this.saveMode === SaveOption.DELETE) {\n                        this.$router.go(-1);\n                    }\n                    \n                    /* Reset Data */\n                    this.clear();\n\n                    /* Alert Success */\n                    this.$snotify.success(i18n.t(\"successful\"));\n                } else {\n                    /* Alert Error */\n                    this.$snotify.error(i18n.t(\"error_something_wrong\"));\n                }\n            },\n        },\n        watch: {\n            initBankStatement: \"initialData\"\n        },\n        computed: mapState({\n            bankTransactionMappings: state => state.banking.bankMappings,\n            bankAccounts: state => state.banking.bankAccounts,\n        }),\n        created() {\n            this.loadData();\n        },\n        mounted() {\n            this.initialData();\n        },\n    }\n</script>\n<style scoped>\n    @media (min-width: 1264px) {\n        .container {\n            max-width: 1080px !important;\n        }\n    }\n</style>"],"sourceRoot":"src/views/banking/banking"}]}