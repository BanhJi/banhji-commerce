{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/components/dropdownlist/ProjectListItemGroup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/components/dropdownlist/ProjectListItemGroup.vue","mtime":1640595536764},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktYWNjb3VudGluZy13ZWItbW9kdWxlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUHJvamVjdExpc3RJdGVtR3JvdXAnLAogIHByb3BzOiB7CiAgICBpbml0UHJvamVjdDogewogICAgICB0eXBlOiBBcnJheQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdGVkUHJvamVjdHM6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWREYXRhOiBmdW5jdGlvbiBsb2FkRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IHRydWU7IC8vIENhbGwgTGlzdAoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgncHJvamVjdHMvZ2V0TGlzdCcpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBlbWl0UHJvamVjdDogZnVuY3Rpb24gZW1pdFByb2plY3QoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2VtaXRQcm9qZWN0JywgdGhpcy5zZWxlY3RlZFByb2plY3RzKTsKICAgIH0sCiAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzMi5saWtlc0FsbEZydWl0KSB7CiAgICAgICAgICBfdGhpczIuc2VsZWN0ZWRQcm9qZWN0cyA9IFtdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgaWRzID0gW107CgogICAgICAgICAgX3RoaXMyLnByb2plY3RzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgIGlkcy5wdXNoKHZhbHVlLmlkKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMi5zZWxlY3RlZFByb2plY3RzID0gaWRzOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMyLmVtaXRQcm9qZWN0KCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGluaXRQcm9qZWN0OiBmdW5jdGlvbiBpbml0UHJvamVjdCgpIHsKICAgICAgdGhpcy5zZWxlY3RlZFByb2plY3RzID0gdGhpcy5pbml0UHJvamVjdDsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKHsKICAgIHByb2plY3RzOiBmdW5jdGlvbiBwcm9qZWN0cyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUucHJvamVjdHMubGlzdDsKICAgIH0KICB9KSksIHt9LCB7CiAgICBsaWtlc0FsbEZydWl0OiBmdW5jdGlvbiBsaWtlc0FsbEZydWl0KCkgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFByb2plY3RzLmxlbmd0aCA9PT0gdGhpcy5wcm9qZWN0cy5sZW5ndGg7CiAgICB9LAogICAgbGlrZXNTb21lRnJ1aXQ6IGZ1bmN0aW9uIGxpa2VzU29tZUZydWl0KCkgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFByb2plY3RzLmxlbmd0aCA+IDAgJiYgIXRoaXMubGlrZXNBbGxGcnVpdDsKICAgIH0sCiAgICBpY29uOiBmdW5jdGlvbiBpY29uKCkgewogICAgICBpZiAodGhpcy5saWtlc0FsbEZydWl0KSByZXR1cm4gJ21kaS1jbG9zZS1ib3gnOwogICAgICBpZiAodGhpcy5saWtlc1NvbWVGcnVpdCkgcmV0dXJuICdtZGktbWludXMtYm94JzsKICAgICAgcmV0dXJuICdtZGktY2hlY2tib3gtYmxhbmstb3V0bGluZSc7CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZERhdGEoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvKiBJbml0aWFsIFNlZ21lbnQgKi8KICAgIHRoaXMuc2VsZWN0ZWRQcm9qZWN0cyA9IHRoaXMuaW5pdFByb2plY3Q7CiAgfQp9Ow=="},{"version":3,"sources":["ProjectListItemGroup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA,SAAA,QAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,sBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,WAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AADA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,gBAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,IAAA,CADA,CAGA;;AAHA;AAAA,uBAIA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,kBAAA,CAJA;;AAAA;AAMA,gBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KARA;AASA,IAAA,WATA,yBASA;AACA,WAAA,KAAA,CAAA,aAAA,EAAA,KAAA,gBAAA;AACA,KAXA;AAYA,IAAA,MAZA,oBAYA;AAAA;;AACA,WAAA,SAAA,CAAA,YAAA;AACA,YAAA,MAAA,CAAA,aAAA,EAAA;AACA,UAAA,MAAA,CAAA,gBAAA,GAAA,EAAA;AACA,SAFA,MAEA;AACA,cAAA,GAAA,GAAA,EAAA;;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA,WAFA;;AAGA,UAAA,MAAA,CAAA,gBAAA,GAAA,GAAA;AACA;;AACA,QAAA,MAAA,CAAA,WAAA;AACA,OAXA;AAYA;AAzBA,GAbA;AAwCA,EAAA,KAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,gBAAA,GAAA,KAAA,WAAA;AACA;AAHA,GAxCA;AA6CA,EAAA,QAAA,kCACA,QAAA,CAAA;AACA,IAAA,QAAA,EAAA,kBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,QAAA,CAAA,IAAA;AAAA;AADA,GAAA,CADA;AAIA,IAAA,aAJA,2BAIA;AACA,aAAA,KAAA,gBAAA,CAAA,MAAA,KAAA,KAAA,QAAA,CAAA,MAAA;AACA,KANA;AAOA,IAAA,cAPA,4BAOA;AACA,aAAA,KAAA,gBAAA,CAAA,MAAA,GAAA,CAAA,IAAA,CAAA,KAAA,aAAA;AACA,KATA;AAUA,IAAA,IAVA,kBAUA;AACA,UAAA,KAAA,aAAA,EAAA,OAAA,eAAA;AACA,UAAA,KAAA,cAAA,EAAA,OAAA,eAAA;AACA,aAAA,4BAAA;AACA;AAdA,IA7CA;AA6DA,EAAA,OA7DA,qBA6DA;AACA,SAAA,QAAA;AACA,GA/DA;AAgEA,EAAA,OAhEA,qBAgEA;AACA;AACA,SAAA,gBAAA,GAAA,KAAA,WAAA;AACA;AAnEA,CAAA","sourcesContent":["<template>\n    <div>\n        <v-select\n            :loading=\"loading\"\n            v-model=\"selectedProjects\"\n            :items=\"projects\"\n            item-text=\"name\"\n            item-value=\"id\"\n            @change=\"emitProject\"\n            placeholder=\"Select Projects\"\n            multiple\n            class=\"mt-1\"\n            style=\"height: 50px !important;\"\n            outlined\n        >\n            <template v-slot:prepend-item>\n                <v-list-item\n                    ripple\n                    @click=\"toggle\"\n                >\n                    <v-list-item-action>\n                        <v-icon :color=\"selectedProjects.length > 0 ? 'indigo darken-4' : ''\">\n                            {{ icon }}\n                        </v-icon>\n                    </v-list-item-action>\n                    <v-list-item-content>\n                        <v-list-item-title>\n                            Select All\n                        </v-list-item-title>\n                    </v-list-item-content>\n                </v-list-item>\n                <v-divider class=\"mt-2\"></v-divider>\n            </template>\n\n            <template v-slot:selection=\"{ item, index }\">\n                <v-chip v-if=\"index === 0\">\n                    <span>{{ item.name }}</span>\n                </v-chip>\n                <span v-if=\"index === 1\" class=\"font_14\">\n                    (+{{ selectedProjects.length - 1 }} others)\n                </span>\n            </template>\n\n        </v-select>\n    </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nexport default {\n    name: 'ProjectListItemGroup',\n    props: {\n        initProject: {\n            type: Array,\n        },\n    },\n    data() {\n        return {\n            selectedProjects: [],\n            loading: false\n        }\n    },\n    methods: {\n        async loadData () {\n            this.loading = true;\n            \n            // Call List\n            await this.$store.dispatch('projects/getList')\n\n            this.loading = false;\n        },\n        emitProject() {\n            this.$emit('emitProject', this.selectedProjects);\n        },\n        toggle() {\n            this.$nextTick(() => {\n                if (this.likesAllFruit) {\n                    this.selectedProjects = [];\n                } else {\n                    let ids = [];\n                    this.projects.forEach(value => {\n                        ids.push(value.id);\n                    });\n                    this.selectedProjects = ids;\n                }\n                this.emitProject();\n            })\n        },\n    },\n    watch: {\n        initProject() {\n            this.selectedProjects = this.initProject;\n        }\n    },\n    computed: {\n        ...mapState({\n            projects: state => state.projects.list\n        }),\n        likesAllFruit() {\n            return this.selectedProjects.length === this.projects.length\n        },\n        likesSomeFruit() {\n            return this.selectedProjects.length > 0 && !this.likesAllFruit\n        },\n        icon() {\n            if (this.likesAllFruit) return 'mdi-close-box'\n            if (this.likesSomeFruit) return 'mdi-minus-box'\n            return 'mdi-checkbox-blank-outline'\n        },\n    },\n    created() {\n        this.loadData();\n    },\n    mounted() {\n        /* Initial Segment */\n        this.selectedProjects = this.initProject;\n    }\n}\n</script>"],"sourceRoot":"src/components/dropdownlist"}]}