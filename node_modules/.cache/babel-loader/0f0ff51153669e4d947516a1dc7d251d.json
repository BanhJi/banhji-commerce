{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/banking/collection/ConnectCollectionAccount.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/banking/collection/ConnectCollectionAccount.vue","mtime":1638499443129},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEJhbmtQYXltZW50TW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL0JhbmtQYXltZW50IjsKCnZhciBiYW5rSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9iYW5rSGFuZGxlciIpOwoKdmFyIGJhbmtBY2NvdW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9iYW5rQWNjb3VudEhhbmRsZXIiKTsKCnZhciBvdGhlckhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvb3RoZXJIYW5kbGVyIik7Cgp2YXIgYmFua1BheW1lbnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2JhbmtQYXltZW50SGFuZGxlciIpOwoKdmFyIGJhbmtQYXltZW50TW9kZWwgPSBuZXcgQmFua1BheW1lbnRNb2RlbCh7fSk7CmltcG9ydCB7IHV1aWQgfSBmcm9tICd2dWUtdXVpZCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ29ubmVjdGVkQWNjb3VudCcsCiAgY29tcG9uZW50czogewogICAgTG9hZGluZ01lOiBmdW5jdGlvbiBMb2FkaW5nTWUoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9Mb2FkaW5nIik7CiAgICB9LAogICAgQmFua0Nvbm5lY3Rpb246IGZ1bmN0aW9uIEJhbmtDb25uZWN0aW9uKCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvQmFua0Nvbm5lY3Rpb24iKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBiYW5rQ2xpY2s6IGZhbHNlLAogICAgICB2YWxpZDogdHJ1ZSwKICAgICAgY29ubmVjdEJhbmtTdWNjZXNzOiBmYWxzZSwKICAgICAgY29ubmVjdExvYWRpbmc6IGZhbHNlLAogICAgICBhY2NvdW50OiBbXSwKICAgICAgZGlhbG9nTTM6IGZhbHNlLAogICAgICBtU2VsZWN0ZWRBY2NvdW50OiBbXSwKICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgICBpc0xvYWRlZDogZmFsc2UsCiAgICAgIGluZm86IHt9LAogICAgICBiYW5rUGF5bWVudDogYmFua1BheW1lbnRNb2RlbCwKICAgICAgYmFua3M6IFtdLAogICAgICBiYW5rUGFydG5lcnM6IFtdLAogICAgICBiYW5rQWNjb3VudDogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkQmFua1BhcnRuZXI6IGZ1bmN0aW9uIGxvYWRCYW5rUGFydG5lcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgb3RoZXJIYW5kbGVyLmJhbmtQYXJuZXIoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmJhbmtQYXJ0bmVycyA9IHJlczsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLmJhbmtQYXJ0bmVycywgJ3BhcnRuZXInKQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQmFua0FjY291bnQ6IGZ1bmN0aW9uIGxvYWRCYW5rQWNjb3VudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGJhbmtBY2NvdW50SGFuZGxlci5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5iYW5rQWNjb3VudCA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5sb2FkQWxsQmFua3MoKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQWxsQmFua3M6IGZ1bmN0aW9uIGxvYWRBbGxCYW5rcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgIF90aGlzMy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICBiYW5rSGFuZGxlci5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgX3RoaXMzLmJhbmtzID0gW107CiAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG0uaXNfZGVsZXRlZCA9PT0gMCAmJiBtLmhhc093blByb3BlcnR5KCdwYXJ0bmVyX2lkJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBkYXRhLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgIF90aGlzMy5iYW5rUGFydG5lcnMuZm9yRWFjaChmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgaWYgKG4uaWQgPT09IG0ucGFydG5lcl9pZCkgewogICAgICAgICAgICAgICAgICBtWydpbWFnZSddID0gbi5pbWFnZTsKICAgICAgICAgICAgICAgICAgbVsnb3JkZXInXSA9IG4ub3JkZXI7CgogICAgICAgICAgICAgICAgICBfdGhpczMuYmFua3MucHVzaChtKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgbVsnYmFua0FjY291bnQnXSA9IF90aGlzMy5iYW5rQWNjb3VudC5maWx0ZXIoZnVuY3Rpb24gKGwpIHsKICAgICAgICAgICAgICAgIHJldHVybiBsLmJhbmsudXVpZCA9PT0gbS51dWlkOwogICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoaykgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgaWQ6IGsudXVpZCwKICAgICAgICAgICAgICAgICAgbmFtZTogay5uYW1lLAogICAgICAgICAgICAgICAgICBudW1iZXI6IGsubnVtYmVyLAogICAgICAgICAgICAgICAgICB0eXBlOiBrLnR5cGUsCiAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBrLmN1cnJlbmN5LAogICAgICAgICAgICAgICAgICBhY2NvdW50OiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGsuYWNjb3VudC51dWlkLAogICAgICAgICAgICAgICAgICAgIG5hbWU6IGsuYWNjb3VudC5uYW1lLAogICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6IGsuYWNjb3VudC5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICAgIG51bWJlcjogay5hY2NvdW50Lm51bWJlciwKICAgICAgICAgICAgICAgICAgICBpc190YXhhYmxlOiBrLmFjY291bnQuaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgICAgICBiYW5oamlBY2NDb2RlOiBrLmFjY291bnQuYmFuaGppQWNjQ29kZSwKICAgICAgICAgICAgICAgICAgICBncm91cF9jb2RlOiBrLmFjY291bnQuZ3JvdXBfY29kZSwKICAgICAgICAgICAgICAgICAgICBwYXJlbnRfYWNjb3VudDogay5hY2NvdW50LnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgIHR5cGVfY29kZTogay5hY2NvdW50LnR5cGVfY29kZSwKICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IGsuYWNjb3VudC5hY2NvdW50X3R5cGUKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczMuYmFua3Muc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICAgIHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczMuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gd2luZG93LmNvbnNvbGUubG9nKHRoaXMuYmFua3MpCiAgICAgICAgICB9KTsKICAgICAgICB9LCAzMDApOwogICAgICB9KTsKICAgIH0sCiAgICBvbkJhbmtDbGljazogZnVuY3Rpb24gb25CYW5rQ2xpY2soYmFuaykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuaW5mbyA9IGJhbms7CiAgICAgIHRoaXMuYmFua0NsaWNrID0gdHJ1ZTsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgaWQ6IHRoaXMuaW5mby5wYXJ0bmVyX2lkLAogICAgICAgIHN0YXR1czogJ0Nvbm5lY3RlZCcKICAgICAgfTsKICAgICAgdGhpcy5hY2NvdW50ID0gYmFuay5iYW5rQWNjb3VudDsgLy8gd2luZG93LmNvbnNvbGUubG9nKCdiYW5rIEluZm8nLCB0aGlzLmFjY291bnQpCgogICAgICBiYW5rUGF5bWVudEhhbmRsZXIuY29ubmVjdGVkQmFua0FjY291bnQoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgIHZhciBjb25uZWN0ZWRBY2MgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICBfdGhpczQubVNlbGVjdGVkQWNjb3VudCA9IGNvbm5lY3RlZEFjYzsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uQmFja1RvQ29ubmVjdDogZnVuY3Rpb24gb25CYWNrVG9Db25uZWN0KCkgewogICAgICB0aGlzLmJhbmtDbGljayA9IGZhbHNlOwogICAgfSwKICAgIG9uQ29ubmVjdENsaWNrOiBmdW5jdGlvbiBvbkNvbm5lY3RDbGljaygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBpZiAodGhpcy5tU2VsZWN0ZWRBY2NvdW50ID09PSAnJykgewogICAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY29ubmVjdExvYWRpbmcgPSB0cnVlOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM1Lm9uU2F2ZUNsb3NlKCk7CiAgICAgICAgfSwgMzAwKTsKICAgICAgfQogICAgfSwKICAgIG9uQ2xvc2VNb2RlbENvbm5lY3Q6IGZ1bmN0aW9uIG9uQ2xvc2VNb2RlbENvbm5lY3QoKSB7CiAgICAgIHRoaXMuY29ubmVjdEJhbmtTdWNjZXNzID0gZmFsc2U7CiAgICAgIHRoaXMuYmFua0NsaWNrID0gZmFsc2U7CiAgICAgIHRoaXMuZGlhbG9nTTMgPSBmYWxzZTsKICAgIH0sCiAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkgewogICAgICB0aGlzLmNvbm5lY3RCYW5rU3VjY2VzcyA9IGZhbHNlOwogICAgICB0aGlzLmJhbmtDbGljayA9IGZhbHNlOwogICAgICB0aGlzLmRpYWxvZ00zID0gZmFsc2U7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnQmFua2luZycsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBkYXRhOiB0aGlzLmNvbm5lY3RlZEJhbmtBY2NvdW50TGlzdAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb25TYXZlQ2xvc2U6IGZ1bmN0aW9uIG9uU2F2ZUNsb3NlKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIF90aGlzNi5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkQWNjID0gX3RoaXM2Lm1TZWxlY3RlZEFjY291bnQ7CiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRBY2MuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKCFtLmhhc093blByb3BlcnR5KCdpZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1bJ2lkJ10gPSAnYmNhLScgKyB1dWlkLnYxKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICBpZDogX3RoaXM2LmluZm8ucGFydG5lcl9pZCwKICAgICAgICAgICAgICAgICAgICAgIGJhbms6IF90aGlzNi5pbmZvLAogICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGVkQWNjb3VudDogc2VsZWN0ZWRBY2MsCiAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICJDb25uZWN0ZWQiLAogICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0JpbGwgUGF5bWVudCcsCiAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgfTsgLy8gd2luZG93LmNvbnNvbGUubG9nKGRhdGEsICctLScpCgogICAgICAgICAgICAgICAgICAgIGJhbmtQYXltZW50SGFuZGxlci5jcmVhdGUoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuY29ubmVjdGVkQmFua0FjY291bnRMaXN0ID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmNvbm5lY3RCYW5rU3VjY2VzcyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5jb25uZWN0TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gKCkgewogICAgdmFyIF9tb3VudGVkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJhbmtBY2NvdW50KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRCYW5rUGFydG5lcigpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHJldHVybiBfbW91bnRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBtb3VudGVkOwogIH0oKSwKICB3YXRjaDogewogICAgJyRyb3V0ZSc6ICdsb2FkQmFua0FjY291bnQnCiAgfQp9Ow=="},{"version":3,"sources":["ConnectCollectionAccount.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col cols=\"12\" sm=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\"\n                    >\n                        <v-card outlined dense class=\"no_border\">\n                            <h2 class=\"mb-0\">{{ $t('connect_collection_account') }}</h2>\n                            <v-icon\n                                @click=\"onClose\"\n                                style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                class=\"float-right\"\n                            >close\n                            </v-icon>\n                        </v-card>\n                        <v-card outlined dense class=\"px-5 py-2\" color=\"grayBg\">\n                            <LoadingMe\n                                :isLoading=\"showLoading\"\n                                :fullPage=\"false\"\n                                :myLoading=\"true\">\n                            </LoadingMe>\n                            <v-row v-if=\"!bankClick && !connectBankSuccess\">\n                                <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                                    <h3 class=\"primary--text font_20\">{{ $t('connect_to_partner_financial') }}</h3>\n                                    <p class=\"my-2 dark--text\">{{ $t('connect_to_partner_financial_desc') }}</p>\n                                    <v-row>\n                                        <v-col sm=\"6\" cols=\"12\">\n                                            <v-card outlined dense class=\"pa-2 grayBg\" height=\"225px\">\n                                                <v-img class=\"ma-auto\" width=\"60%\" src=\"@/assets/images/002.png\"/>\n                                                <p class=\"text-center mb-0 mt-3\">{{ $t('online_payments') }}</p>\n                                            </v-card>\n                                        </v-col>\n                                        <v-col sm=\"6\" cols=\"12\">\n                                            <v-card outlined dense class=\"pa-2 grayBg \" height=\"225px\">\n                                                <v-img class=\"ma-auto\" width=\"60%\" src=\"@/assets/images/003.png\"/>\n                                                <p class=\"text-center mb-0 mt-3\">{{ $t('proximity_payment') }}</p>\n                                            </v-card>\n                                        </v-col>\n                                    </v-row>\n                                </v-col>\n\n                                <v-col sm=\"6\" cols=\"12\" class=\"py-2\">\n                                    <p class=\"my-2\">{{ $t('please_select_financial_to_connect') }}</p>\n                                    <v-row>\n                                        <v-col sm=\"3\" cols=\"12\" v-for=\"item in banks\" v-bind:key=\"item.id\">\n                                            <v-card elevation=\"0\" color=\"white\" class=\"shadow_hover\" min-height=\"100px\">\n                                                <v-img @click=\"onBankClick(item)\" class=\" ma-auto \" width=\"100%\"\n                                                       v-bind:src=\"item.image\"/>\n                                            </v-card>\n                                        </v-col>\n                                    </v-row>\n                                </v-col>\n                            </v-row>\n                            <v-row v-else-if=\"bankClick && !connectBankSuccess\">\n                                <v-col cols=\"12\" class=\"pb-0\">\n                                    <v-btn color=\"primary\" class=\"white--text\" @click=\"onBackToConnect\">\n                                        <v-icon size=\"13\" class=\"mr-2\">fa fa-arrow-left</v-icon>\n                                        {{ $t('back') }}\n                                    </v-btn>\n                                </v-col>\n                                <v-col cols=\"12\" sm=\"12\">\n                                    <BankConnection :info=\"info\">\n                                        <template v-slot:account>\n                                            <v-form\n                                                ref=\"form\"\n                                                v-model=\"valid\"\n                                                lazy-validation\n                                            >\n                                                <label class=\"label\">{{ $t('nature') }}</label>\n                                                <p class=\"text_tip mb-0 mt-1\">{{ $t('nature_customer_desc') }}</p>\n                                                <v-select class=\"mt-4 \"\n                                                          multiple=\"multiple\"\n                                                          :items=\"account\"\n                                                          :item-text=\"item =>`${item.number} - ${item.name}`\"\n                                                          item-value=\"id\"\n                                                          v-model=\"mSelectedAccount\"\n                                                          :rules=\"[v => !!v || 'Item is required']\"\n                                                          required\n                                                          tage=\"Nature\"\n                                                          outlined\n                                                          return-object/>\n                                                <v-btn width=\"100%\" color=\"primary\" class=\" mt-4 white--text \"\n                                                       @click=\"onConnectClick\">\n                                                    <v-icon size=\"13\" class=\"mr-2 white--text\">fa fa-lock</v-icon>\n                                                    <span\n                                                        class=\"white--text text-capitalize\">{{\n                                                            $t('connect_collection_account')\n                                                        }}</span>\n                                                </v-btn>\n                                            </v-form>\n                                        </template>\n                                    </BankConnection>\n                                </v-col>\n                            </v-row>\n                            <v-row v-else-if=\"connectBankSuccess\">\n                                <v-col class=\"\" min-height=\"500\">\n                                    <h2 class=\"primary--text text-center d-block font_4em my-10 mt-16 fade-in\">\n                                        {{ $t('congratulation') }}</h2>\n                                    <p class=\"text-center mb-0 font_20\">{{ $t('your_collection_account') }}</p>\n                                </v-col>\n                            </v-row>\n                            <p class=\"text-center mb-2\">\n                                <v-icon size=\"13\" class=\"third--text mr-2 white--text\">fa fa-lock</v-icon>\n                                {{ $t('at_banhJi_the_privacy') }}\n                            </p>\n                        </v-card>\n                    </v-card>\n                </v-col>\n            </v-row>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport BankPaymentModel from \"@/scripts/model/BankPayment\";\n\nconst bankHandler = require(\"@/scripts/bankHandler\")\nconst bankAccountHandler = require(\"@/scripts/bankAccountHandler\")\nconst otherHandler = require(\"@/scripts/otherHandler\")\nconst bankPaymentHandler = require(\"@/scripts/bankPaymentHandler\")\nconst bankPaymentModel = new BankPaymentModel({})\nimport {uuid} from 'vue-uuid'\n\nexport default {\n    name: 'ConnectedAccount',\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n        BankConnection: () => import(`@/components/BankConnection`)\n    },\n    data: () => ({\n        bankClick: false,\n        valid: true,\n        connectBankSuccess: false,\n        connectLoading: false,\n        account: [],\n        dialogM3: false,\n        mSelectedAccount: [],\n        showLoading: false,\n        isLoaded: false,\n        info: {},\n        bankPayment: bankPaymentModel,\n        banks: [],\n        bankPartners: [],\n        bankAccount: [],\n    }),\n    methods: {\n        async loadBankPartner() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    this.showLoading = true\n                    otherHandler.bankParner().then(res => {\n                        this.bankPartners = res\n                        this.showLoading = false\n                        // window.console.log(this.bankPartners, 'partner')\n                    })\n                }, 300);\n            })\n        },\n        async loadBankAccount() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    this.showLoading = true\n                    bankAccountHandler.getAll().then(res => {\n                        this.bankAccount = res.data\n                        this.loadAllBanks()\n                        this.showLoading = false\n                    })\n                }, 300);\n            })\n        },\n        loadAllBanks() {\n            new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved')\n                        this.showLoading = true\n                        bankHandler.getAll().then(res => {\n                            this.banks = []\n                            const data = res.data.filter(m => {\n                                return (m.is_deleted === 0 && m.hasOwnProperty('partner_id'))\n                            })\n                            data.filter(m => {\n                                this.bankPartners.forEach(n => {\n                                    if (n.id === m.partner_id) {\n                                        m['image'] = n.image\n                                        m['order'] = n.order\n                                        this.banks.push(m)\n                                    }\n                                })\n                                m['bankAccount'] = this.bankAccount.filter(l => l.bank.uuid === m.uuid).map(k => {\n                                    return {\n                                        id: k.uuid,\n                                        name: k.name,\n                                        number: k.number,\n                                        type: k.type,\n                                        currency: k.currency,\n                                        account: {\n                                            id: k.account.uuid,\n                                            name: k.account.name,\n                                            local_name: k.account.local_name,\n                                            number: k.account.number,\n                                            is_taxable: k.account.is_taxable,\n                                            banhjiAccCode: k.account.banhjiAccCode,\n                                            group_code: k.account.group_code,\n                                            parent_account: k.account.parent_account,\n                                            type_code: k.account.type_code,\n                                            account_type: k.account.account_type\n                                        }\n                                    }\n                                })\n                            })\n                            this.banks\n                                .sort(function (a, b) {\n                                    return a.order - b.order\n                                })\n                            this.showLoading = false\n                            // window.console.log(this.banks)\n                        })\n                    }, 300)\n                }\n            )\n        },\n        onBankClick(bank) {\n            this.info = bank\n            this.bankClick = true\n            const data = {\n                id: this.info.partner_id,\n                status: 'Connected',\n            }\n            this.account = bank.bankAccount\n            // window.console.log('bank Info', this.account)\n            bankPaymentHandler.connectedBankAccount(data).then(response => {\n                if (response.data.statusCode === 200) {\n                    const connectedAcc = response.data.data\n                    this.mSelectedAccount = connectedAcc\n                }\n            })\n\n\n        },\n        onBackToConnect() {\n            this.bankClick = false\n        },\n        onConnectClick() {\n            if (this.mSelectedAccount === '') {\n                this.$refs.form.validate()\n            } else {\n                this.connectLoading = true\n                setTimeout(() => {\n                    this.onSaveClose()\n                }, 300);\n            }\n        },\n        onCloseModelConnect() {\n            this.connectBankSuccess = false\n            this.bankClick = false\n            this.dialogM3 = false\n        },\n        onClose() {\n            this.connectBankSuccess = false\n            this.bankClick = false\n            this.dialogM3 = false\n            this.$router.push({\n                name: 'Banking', params: {\n                    data: this.connectedBankAccountList\n                }\n            })\n\n\n        },\n        async onSaveClose() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    this.showLoading = true\n                    let selectedAcc = this.mSelectedAccount\n                    selectedAcc.forEach(m => {\n                        if (!m.hasOwnProperty('id')) {\n                            m['id'] = 'bca-' + uuid.v1()\n                        }\n                    })\n                    const data = {\n                        id: this.info.partner_id,\n                        bank: this.info,\n                        connectedAccount: selectedAcc,\n                        status: \"Connected\",\n                        type: 'Bill Payment',\n                        enabled: true,\n                    }\n                    // window.console.log(data, '--')\n                    bankPaymentHandler.create(data).then(res => {\n                        if (res.data.statusCode === 201) {\n                            this.showLoading = false\n                            this.connectedBankAccountList = res.data.data\n                            this.connectBankSuccess = true\n                            this.connectLoading = false\n                        }\n\n                    })\n                }, 300)\n            })\n        },\n    },\n    mounted: async function () {\n        await this.loadBankAccount()\n        await this.loadBankPartner()\n    },\n    watch: {\n        '$route': 'loadBankAccount'\n    }\n}\n</script>\n<style scoped>\n.function_content {\n    padding: 10px 25px 25px;\n    border-bottom: 0;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        max-width: 1080px !important;\n    }\n}\n\n@media (max-width: 576px) {\n\n}\n</style>"],"sourceRoot":"src/views/banking/collection"}]}