{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/payroll_run/Input.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/payroll_run/Input.vue","mtime":1638499443262},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/babel.config.js","mtime":1638499442885},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBVcGxvYWRFeGNlbENvbXBvbmVudCBmcm9tICdAL2NvbXBvbmVudHMvdXBsb2FkX2V4Y2VsL1RpbWVDYXJkLnZ1ZSc7CmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwppbXBvcnQgVGltZUNhcmRMaW5lIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9UaW1lQ2FyZExpbmUiOwppbXBvcnQgRW1wbG95ZWVNb2RlbCBmcm9tICdAL3NjcmlwdHMvbW9kZWwvRW1wbG95ZWUnOwppbXBvcnQgVGltZUNhcmQgZnJvbSAiQC9zY3JpcHRzL21vZGVsL1RpbWVDYXJkIjsKaW1wb3J0IFBheXJvbGxSdW4gZnJvbSAiQC9zY3JpcHRzL21vZGVsL1BheXJvbGxSdW4iOwppbXBvcnQgUGF5cm9sbExpc3QgZnJvbSAiQC9zY3JpcHRzL21vZGVsL1BheXJvbGxMaXN0IjsKCnZhciBpbnN0aXR1dGVIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2luc3RpdHV0ZUhhbmRsZXIiKTsKCnZhciBjdXJyZW5jeUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY3VycmVuY3kvaGFuZGxlci9jdXJyZW5jeUhhbmRsZXIiKTsKCnZhciBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7Cgp2YXIgdGltZUNhcmRMaW5lTW9kZWwgPSBuZXcgVGltZUNhcmRMaW5lKHt9KTsKdmFyIGVtcGxveWVlTW9kZWwgPSBuZXcgRW1wbG95ZWVNb2RlbCh7fSk7CnZhciB0aW1lQ2FyZE1vZGVsID0gbmV3IFRpbWVDYXJkKHt9KTsKdmFyIHBheXJvbGxSdW5Nb2RlbCA9IG5ldyBQYXlyb2xsUnVuKHt9KTsKCnZhciBlbXBsb3llZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvZW1wbG95ZWVIYW5kbGVyIik7Cgp2YXIgcGF5cm9sbEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcGF5cm9sbEhhbmRsZXIiKTsKCnZhciBsb2NhdGlvbkhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvbG9jYXRpb25IYW5kbGVyIik7Cgp2YXIgc2V0dGluZ3NIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NldHRpbmdzSGFuZGxlciIpOwoKdmFyIGN1cnJlbmN5VHlwZSA9IHsKICBGVU5DVElPTkFMX0NVUlJFTkNZOiAnZnVuLWMnLAogIFRSQU5TQUNUSU9OX0NVUlJFTkNZOiAndHhuLWMnLAogIFJFUE9SVElOR19DVVJSRU5DWTogJ3JwdC1jJywKICBUQVhfRVhDSEFOR0VfQ1VSUkVOQ1k6ICd0YXgtYycKfTsKLyogQ29va2llICovCgp2YXIgY29va2llSlMgPSByZXF1aXJlKCJAL2Nvb2tpZS5qcyIpOwoKdmFyIGNvb2tpZSA9IGNvb2tpZUpTLmdldENvb2tpZSgpOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsncHJvcElucHV0J10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBkaXNhYmxlZDogdHJ1ZSwKICAgICAgZGlzYWJsZWRMOiBmYWxzZSwKICAgICAgZGlzYWJsZWRHOiBmYWxzZSwKICAgICAgc2hvd0xvYWRpbmc6IHRydWUsCiAgICAgIGpvdXJuYWxfZGF0ZTogIiIsCiAgICAgIGRpYWxvZ206IGZhbHNlLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICB0YWJsZUhlYWRlcjogW10sCiAgICAgIGRhdGVGb3JtYXQ6IHRpbWVDYXJkTGluZU1vZGVsLmRhdGVGb3JtYXQsCiAgICAgIHRpbWVGb3JtYXQ6IHRpbWVDYXJkTGluZU1vZGVsLnRpbWVGb3JtYXQsCiAgICAgIGVtcGxveWVlRGF0YTogW10sCiAgICAgIG1vbnRoT2Y6ICcnLAogICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwKICAgICAgbG9jYXRpb246IFtdLAogICAgICBzZWdtZW50OiBbXSwKICAgICAgZW1wbG95ZWU6IGVtcGxveWVlTW9kZWwsCiAgICAgIHRpbWVDYXJkOiB0aW1lQ2FyZE1vZGVsLAogICAgICBwYXlyb2xsUnVuOiBwYXlyb2xsUnVuTW9kZWwsCiAgICAgIGxvY2F0aW9uU2VsZWN0ZWQ6ICcnLAogICAgICBzZWdtZW50U2VsZWN0ZWQ6ICcnLAogICAgICBzZXRDYXJkSGVpZ2h0OiBmYWxzZSwKICAgICAgbmF0dXJlSW5wdXQ6IFt7CiAgICAgICAgbmFtZTogJ1RpbWVzaGVldCcKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdUaW1lY2FyZCcKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdGaXhlZCcKICAgICAgfV0sCiAgICAgIHRpbWVDYXJkTGluZTogW10sCiAgICAgIHJlY29yZExpc3Q6IFtdLAogICAgICBuYXR1cmVJbnB1dFNlbGVjdGVkOiAnRml4ZWQnLAogICAgICBudW1iZXI6ICcnLAogICAgICBwcmVmaXg6ICcnLAogICAgICBwYXlOdW1iZXI6IHt9LAogICAgICByZXN1bHQ6IHt9LAogICAgICBleGNoYW5nZVJhdGU6IHt9LAogICAgICBidG5FbmFibGVkOiB0cnVlLAogICAgICBzb3J0OiBbewogICAgICAgIGZpZWxkOiAnZW1wbG95ZWVJZCcsCiAgICAgICAgZGlyOiAnYXNjJwogICAgICB9XSwKICAgICAgcGVyaW9kOiB7fSwKICAgICAgbG9nZ2VkVXNlcjogewogICAgICAgIGlkOiBjb29raWUuY3JlYXRvciwKICAgICAgICBuYW1lOiBjb29raWUuZW1haWwKICAgICAgfSwKICAgICAgYmFzZUN1cnJlbmN5OiB7fSwKICAgICAgZGVwYXJ0bWVudHM6IFtdLAogICAgICBkZXBhcnRtZW50OiAiIiwKICAgICAgbmF0dXJlQ29udHJhY3RzOiBbewogICAgICAgIGlkOiAiZml4ZWRfZHVyYXRpb25fY29udHJhY3QiLAogICAgICAgIG5hbWU6ICJGaXhlZCBEdXJhdGlvbiBDb250cmFjdCIKICAgICAgfSwgewogICAgICAgIGlkOiAidW5kZXRlcm1pbmVkX2R1cmF0aW9uX2NvbnRyYWN0IiwKICAgICAgICBuYW1lOiAiVW5kZXRlcm1pbmVkIER1cmF0aW9uIENvbnRyYWN0IgogICAgICB9LCB7CiAgICAgICAgaWQ6ICJjb250cmFjdGQiLAogICAgICAgIG5hbWU6ICJDb250cmFjdGVkIgogICAgICB9XSwKICAgICAgbmF0dXJlQ29udHJhY3Q6ICIiLAogICAgICBlbXBsb3llZUdyb3VwczogW10sCiAgICAgIGVtcGxveWVlR3JvdXA6ICIiCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgTG9hZGluZ01lOiBmdW5jdGlvbiBMb2FkaW5nTWUoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9Mb2FkaW5nIik7CiAgICB9LAogICAgJ3VwbG9hZC1leGNlbC1jb21wb25lbnQnOiBVcGxvYWRFeGNlbENvbXBvbmVudCwKICAgICdtb250aC1waWNrZXInOiBmdW5jdGlvbiBtb250aFBpY2tlcigpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvTW9udGhQaWNrZXInKTsKICAgIH0sCiAgICAnZGF0ZS1waWNrZXInOiBmdW5jdGlvbiBkYXRlUGlja2VyKCkgewogICAgICByZXR1cm4gaW1wb3J0KCdAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9EYXRlUGlja2VyQ29tcG9uZW50Jyk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBudW1iZXJGb3JtYXQ6IGZ1bmN0aW9uIG51bWJlckZvcm1hdCh2YWx1ZSkgewogICAgICB2YXIgcmF0ZSA9IHZhbHVlLnJhdGU7CiAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhrZW5kby5wYXJzZUZsb2F0KDEgLyByYXRlKSwgIm4wIik7CiAgICB9LAogICAgcmV0dXJuRGF0YTogZnVuY3Rpb24gcmV0dXJuRGF0YShkYXRhKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3JldHVybkRhdGEnLCBkYXRhKTsKICAgIH0sCiAgICBDaGFuZ2VOYXR1cmU6IGZ1bmN0aW9uIENoYW5nZU5hdHVyZSgpIHsKICAgICAgaWYgKHRoaXMubmF0dXJlSW5wdXRTZWxlY3RlZCA9PT0gJ1RpbWVjYXJkJykgewogICAgICAgIHRoaXMuYnRuRW5hYmxlZCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYnRuRW5hYmxlZCA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBtb250aE9mQ2hhbmdlOiBmdW5jdGlvbiBtb250aE9mQ2hhbmdlKCkgewogICAgICB0aGlzLmdlbmVyYXRlTnVtYmVyKCk7CiAgICB9LAogICAgYmVmb3JlVXBsb2FkOiBmdW5jdGlvbiBiZWZvcmVVcGxvYWQoZmlsZSkgewogICAgICB2YXIgaXNMdDFNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAxOwoKICAgICAgaWYgKGlzTHQxTSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGRvIG5vdCB1cGxvYWQgZmlsZXMgbGFyZ2VyIHRoYW4gMW0gaW4gc2l6ZS4nLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGhhbmRsZVN1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZVN1Y2Nlc3MoX3JlZikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHJlc3VsdHMgPSBfcmVmLnJlc3VsdHMsCiAgICAgICAgICBoZWFkZXIgPSBfcmVmLmhlYWRlcjsKICAgICAgcmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgdmFyIHV0Y19kYXlzID0gTWF0aC5mbG9vcihlbGVtZW50LmRhdGUgLSAyNTU2OSk7CiAgICAgICAgdmFyIHV0Y192YWx1ZSA9IHV0Y19kYXlzICogODY0MDA7CiAgICAgICAgdmFyIGRhdGVfaW5mbyA9IG5ldyBEYXRlKHV0Y192YWx1ZSAqIDEwMDApOwogICAgICAgIHZhciBmcmFjdGlvbmFsX2RheSA9IGVsZW1lbnQuZGF0ZSAtIE1hdGguZmxvb3IoZWxlbWVudC5kYXRlKSArIDAuMDAwMDAwMTsKICAgICAgICB2YXIgdG90YWxfc2Vjb25kcyA9IE1hdGguZmxvb3IoODY0MDAgKiBmcmFjdGlvbmFsX2RheSk7CiAgICAgICAgdmFyIHNlY29uZHMgPSB0b3RhbF9zZWNvbmRzICUgNjA7CiAgICAgICAgdG90YWxfc2Vjb25kcyAtPSBzZWNvbmRzOwogICAgICAgIHZhciBob3VycyA9IE1hdGguZmxvb3IodG90YWxfc2Vjb25kcyAvICg2MCAqIDYwKSk7CiAgICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRvdGFsX3NlY29uZHMgLyA2MCkgJSA2MDsKICAgICAgICB2YXIgY3VycmVudF9kYXRldGltZSA9IG5ldyBEYXRlKGRhdGVfaW5mby5nZXRGdWxsWWVhcigpLCBkYXRlX2luZm8uZ2V0TW9udGgoKSwgZGF0ZV9pbmZvLmdldERhdGUoKSwgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMpOwogICAgICAgIGVsZW1lbnQuZGF0ZSA9IGN1cnJlbnRfZGF0ZXRpbWU7CiAgICAgICAgZWxlbWVudC5kYXRlRm9ybWF0ID0gX3RoaXMuZGF0ZUZvcm1hdDsKICAgICAgICB2YXIgdXRjX2RheXNfdGltZV9pbiA9IE1hdGguZmxvb3IoZWxlbWVudC5jbG9ja2VkSW4gLSAyNTU2OSk7CiAgICAgICAgdmFyIHV0Y192YWx1ZV90aW1lX2luID0gdXRjX2RheXNfdGltZV9pbiAqIDg2NDAwOwogICAgICAgIHZhciBkYXRlX2luZm9fdGltZV9pbiA9IG5ldyBEYXRlKHV0Y192YWx1ZV90aW1lX2luICogMTAwMCk7CiAgICAgICAgdmFyIGZyYWN0aW9uYWxfdGltZV9pbiA9IGVsZW1lbnQuY2xvY2tlZEluIC0gTWF0aC5mbG9vcihlbGVtZW50LmNsb2NrZWRJbikgKyAwLjAwMDAwMDE7CiAgICAgICAgdmFyIHRvdGFsX3NlY29uZHNfdGltZV9pbiA9IE1hdGguZmxvb3IoODY0MDAgKiBmcmFjdGlvbmFsX3RpbWVfaW4pOwogICAgICAgIHZhciBzZWNvbmRzX3RpbWVfaW4gPSB0b3RhbF9zZWNvbmRzX3RpbWVfaW4gJSA2MDsKICAgICAgICB0b3RhbF9zZWNvbmRzX3RpbWVfaW4gLT0gc2Vjb25kc190aW1lX2luOwogICAgICAgIHZhciBob3Vyc190aW1lX2luID0gTWF0aC5mbG9vcih0b3RhbF9zZWNvbmRzX3RpbWVfaW4gLyAoNjAgKiA2MCkpOwogICAgICAgIHZhciBtaW51dGVzX3RpbWVfaW4gPSBNYXRoLmZsb29yKHRvdGFsX3NlY29uZHNfdGltZV9pbiAvIDYwKSAlIDYwOwogICAgICAgIHZhciBjdXJyZW50X3RpbWVfaW4gPSBuZXcgRGF0ZShkYXRlX2luZm9fdGltZV9pbi5nZXRGdWxsWWVhcigpLCBkYXRlX2luZm9fdGltZV9pbi5nZXRNb250aCgpLCBkYXRlX2luZm9fdGltZV9pbi5nZXREYXRlKCksIGhvdXJzX3RpbWVfaW4sIG1pbnV0ZXNfdGltZV9pbiwgc2Vjb25kc190aW1lX2luKTsKICAgICAgICBlbGVtZW50LmNsb2NrZWRJbiA9IGN1cnJlbnRfdGltZV9pbjsKICAgICAgICB2YXIgdXRjX2RheXNfdGltZV9vdXQgPSBNYXRoLmZsb29yKGVsZW1lbnQuY2xvY2tlZE91dCAtIDI1NTY5KTsKICAgICAgICB2YXIgdXRjX3ZhbHVlX3RpbWVfb3V0ID0gdXRjX2RheXNfdGltZV9vdXQgKiA4NjQwMDsKICAgICAgICB2YXIgZGF0ZV9pbmZvX3RpbWVfb3V0ID0gbmV3IERhdGUodXRjX3ZhbHVlX3RpbWVfb3V0ICogMTAwMCk7CiAgICAgICAgdmFyIGZyYWN0aW9uYWxfdGltZV9vdXQgPSBlbGVtZW50LmNsb2NrZWRPdXQgLSBNYXRoLmZsb29yKGVsZW1lbnQuY2xvY2tlZE91dCkgKyAwLjAwMDAwMDE7CiAgICAgICAgdmFyIHRvdGFsX3NlY29uZHNfdGltZV9vdXQgPSBNYXRoLmZsb29yKDg2NDAwICogZnJhY3Rpb25hbF90aW1lX291dCk7CiAgICAgICAgdmFyIHNlY29uZHNfdGltZV9vdXQgPSB0b3RhbF9zZWNvbmRzX3RpbWVfb3V0ICUgNjA7CiAgICAgICAgdG90YWxfc2Vjb25kc190aW1lX291dCAtPSBzZWNvbmRzX3RpbWVfb3V0OwogICAgICAgIHZhciBob3Vyc190aW1lX291dCA9IE1hdGguZmxvb3IodG90YWxfc2Vjb25kc190aW1lX291dCAvICg2MCAqIDYwKSk7CiAgICAgICAgdmFyIG1pbnV0ZXNfdGltZV9vdXQgPSBNYXRoLmZsb29yKHRvdGFsX3NlY29uZHNfdGltZV9vdXQgLyA2MCkgJSA2MDsKICAgICAgICB2YXIgY3VycmVudF90aW1lX291dCA9IG5ldyBEYXRlKGRhdGVfaW5mb190aW1lX291dC5nZXRGdWxsWWVhcigpLCBkYXRlX2luZm9fdGltZV9vdXQuZ2V0TW9udGgoKSwgZGF0ZV9pbmZvX3RpbWVfb3V0LmdldERhdGUoKSwgaG91cnNfdGltZV9vdXQsIG1pbnV0ZXNfdGltZV9vdXQsIHNlY29uZHNfdGltZV9vdXQpOwogICAgICAgIGVsZW1lbnQuY2xvY2tlZE91dCA9IGN1cnJlbnRfdGltZV9vdXQ7CiAgICAgICAgZWxlbWVudC50aW1lRm9ybWF0ID0gX3RoaXMudGltZUZvcm1hdDsKICAgICAgfSk7CiAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzdWx0czsKICAgICAgdGhpcy50YWJsZUhlYWRlciA9IGhlYWRlcjsKICAgIH0sCiAgICBvblNhdmVDbG9zZTogZnVuY3Rpb24gb25TYXZlQ2xvc2UoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICAgIHRoaXMuZ3JvdXBCeSgpOwogICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgIHZhciBkYXRhVGltZUNhcmQgPSB7CiAgICAgICAgICAgIGlkOiBfdGhpczIudGltZUNhcmQuaWQgPyBfdGhpczIudGltZUNhcmQuaWQgOiAnJywKICAgICAgICAgICAgbW9udGhPZjoga2VuZG8udG9TdHJpbmcobmV3IERhdGUoX3RoaXMyLm1vbnRoT2YpLCAneXl5eS1NTS1kZCcpLAogICAgICAgICAgICB0aW1lQ2FyZExpbmU6IF90aGlzMi50aW1lQ2FyZExpbmUsCiAgICAgICAgICAgIHRvdGFsV29yazogX3RoaXMyLnRvdGFsV29yaywKICAgICAgICAgICAgdG90YWxPdmVyVGltZVdlZWtlbmQ6IF90aGlzMi50b3RhbE92ZXJUaW1lV2Vla2VuZCwKICAgICAgICAgICAgdG90YWxPdmVyVGltZUhvbGlkYXk6IF90aGlzMi50b3RhbE92ZXJUaW1lSG9saWRheSwKICAgICAgICAgICAgdG90YWxPdmVyVGltZU5pZ2h0OiBfdGhpczIudG90YWxPdmVyVGltZU5pZ2h0LAogICAgICAgICAgICBsb2NhdGlvbjogX3RoaXMyLmxvY2F0aW9uU2VsZWN0ZWQsCiAgICAgICAgICAgIGxvY2F0aW9uSWQ6IF90aGlzMi5sb2NhdGlvblNlbGVjdGVkLmlkLAogICAgICAgICAgICBzZWdtZW50OiBfdGhpczIuc2VnbWVudFNlbGVjdGVkLAogICAgICAgICAgICBzZWdtZW50SWQ6IF90aGlzMi5zZWdtZW50U2VsZWN0ZWQuaWQsCiAgICAgICAgICAgIHBlcmlvZDogX3RoaXMyLnBlcmlvZAogICAgICAgICAgfTsKICAgICAgICAgIHBheXJvbGxIYW5kbGVyLmNyZWF0ZVRpbWVDYXJkKGRhdGFUaW1lQ2FyZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgX3RoaXMyLiRzbm90aWZ5LnN1Y2Nlc3MoJ1N1Y2Nlc3MnKTsKCiAgICAgICAgICAgICAgX3RoaXMyLmNsb3NlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIF90aGlzMi4kc25vdGlmeS5lcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcnKTsKCiAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaChlKTsKICAgICAgICAgIH0pOwogICAgICAgIH0sIDMwMCk7CiAgICAgIH0pOwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGU6IGZ1bmN0aW9uIGF1dG9DYWxjdWxhdGUoKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuZGF0YVNvdXJjZUlucHV0LmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICAvLyBzcGVjaWZpY1dvcmtzID0gW10sCiAgICAgIHRvdGFsV29yayA9IDAsCiAgICAgICAgICB0b3RhbE92ZXJUaW1lV2Vla2VuZCA9IDAsCiAgICAgICAgICB0b3RhbE92ZXJUaW1lSG9saWRheSA9IDAsCiAgICAgICAgICB0b3RhbE92ZXJUaW1lTmlnaHQgPSAwOwogICAgICBkcy5kYXRhKCkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICB0b3RhbFdvcmsgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS53b3JrVGltZSk7CiAgICAgICAgdG90YWxPdmVyVGltZVdlZWtlbmQgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5vdmVyVGltZVdlZWtlbmQpOwogICAgICAgIHRvdGFsT3ZlclRpbWVIb2xpZGF5ICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUub3ZlclRpbWVIb2xpZGF5KTsKICAgICAgICB0b3RhbE92ZXJUaW1lTmlnaHQgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5vdmVyVGltZU5pZ2h0KTsKICAgICAgfSk7CiAgICAgIHRoaXMudG90YWxXb3JrID0gdG90YWxXb3JrOwogICAgICB0aGlzLnRvdGFsT3ZlclRpbWVXZWVrZW5kID0gdG90YWxPdmVyVGltZVdlZWtlbmQ7CiAgICAgIHRoaXMudG90YWxPdmVyVGltZUhvbGlkYXkgPSB0b3RhbE92ZXJUaW1lSG9saWRheTsKICAgICAgdGhpcy50b3RhbE92ZXJUaW1lTmlnaHQgPSB0b3RhbE92ZXJUaW1lTmlnaHQ7CiAgICB9LAogICAgZ3JvdXBCeTogZnVuY3Rpb24gZ3JvdXBCeSgpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5kYXRhU291cmNlSW5wdXQua2VuZG9XaWRnZXQoKTsKICAgICAgdmFyIGhlbHBlciA9IHt9OwogICAgICB2YXIgcmVzdWx0ID0gZHMuZGF0YSgpLnJlZHVjZShmdW5jdGlvbiAociwgbykgewogICAgICAgIHZhciBrZXkgPSBvLmRhdGUgKyAnLScgKyBvLmVtcGxveWVlSWQ7CgogICAgICAgIGlmICghaGVscGVyW2tleV0pIHsKICAgICAgICAgIGhlbHBlcltrZXldID0gT2JqZWN0LmFzc2lnbih7fSwgbyk7IC8vIGNyZWF0ZSBhIGNvcHkgb2YgbwoKICAgICAgICAgIHIucHVzaChoZWxwZXJba2V5XSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGhlbHBlcltrZXldLndvcmtUaW1lICs9IG8ud29ya1RpbWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcjsKICAgICAgfSwgW10pOwogICAgICB2YXIgbGFzdFJlc3VsdCA9IHt9OwogICAgICB2YXIgZW1wbG95ZWVzID0gdGhpcy5lbXBsb3llZXM7CiAgICAgIHZhciBsYXN0X3Jlc3VsdCA9IHJlc3VsdC5yZWR1Y2UoZnVuY3Rpb24gKG0sIG4pIHsKICAgICAgICB2YXIga2V5ID0gbi5lbXBsb3llZUlkOwoKICAgICAgICBpZiAoIWxhc3RSZXN1bHRba2V5XSkgewogICAgICAgICAgbGFzdFJlc3VsdFtrZXldID0gT2JqZWN0LmFzc2lnbih7fSwgbik7IC8vIGNyZWF0ZSBhIGNvcHkgb2YgbwoKICAgICAgICAgIG0ucHVzaChsYXN0UmVzdWx0W2tleV0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlbXBsb3llZXMuZm9yRWFjaChmdW5jdGlvbiAoZW0pIHsKICAgICAgICAgICAgaWYgKGtleSA9PSBlbS5lbXBsb3llZUlkKSB7CiAgICAgICAgICAgICAgbGFzdFJlc3VsdFtrZXldLndvcmtUaW1lICs9IG4ud29ya1RpbWU7CiAgICAgICAgICAgICAgbGFzdFJlc3VsdFtrZXldLmVtcGxveWVlVXVpZCA9IGVtLmlkOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBtOwogICAgICB9LCBbXSk7CiAgICAgIHZhciB0aW1lQ2FyZExpbmUgPSBsYXN0X3Jlc3VsdC5tYXAoZnVuY3Rpb24gKG4pIHsKICAgICAgICByZXR1cm4gbmV3IFRpbWVDYXJkTGluZShuKTsKICAgICAgfSk7CiAgICAgIHRoaXMudGltZUNhcmRMaW5lID0gdGltZUNhcmRMaW5lOwogICAgfSwKICAgIGxvYWRFbXBsb3llZTogZnVuY3Rpb24gbG9hZEVtcGxveWVlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczMuZW1wbG95ZWVzID0gW107CiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVIYW5kbGVyLmNlbnRlcigpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuZW1wbG95ZWVzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLmRpYWxvZ20gPSBmYWxzZTsKICAgIH0sCiAgICBsb2FkTG9jYXRpb246IGZ1bmN0aW9uIGxvYWRMb2NhdGlvbigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbkhhbmRsZXIubGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQubG9jYXRpb24gPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRTZWdtZW50OiBmdW5jdGlvbiBsb2FkU2VnbWVudCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc0hhbmRsZXIuZ2V0U2VnKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5zZWdtZW50ID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBzZWFyY2gxKCl7CiAgICAvLyAgICAgaWYodGhpcy5uYXR1cmVJbnB1dFNlbGVjdGVkID09ICJGaXhlZCIpewogICAgLy8gICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5yZWNvcmRMaXN0LmZpbHRlcihuID0+bi5zYWxhcnlUeXBlID09Ik1vbnRobHkiICYmIG4uYXBwbHlPdmVydGltZSA9PSBmYWxzZSAmJiBuLmxvY2F0aW9uSWQgPT0gdGhpcy5sb2NhdGlvblNlbGVjdGVkLmlkKTsKICAgIC8vICAgICAgICAgbGV0IHRpbWVDYXJkTGlzdCA9IHJlc3VsdC5tYXAoaW5kZXggPT57CiAgICAvLyAgICAgICAgICAgICByZXR1cm4gewogICAgLy8gICAgICAgICAgICAgICAgIGVtcGxveWVlVXVpZDogICAgICAgICAgICAgICBpbmRleC5lbXBsb3llZS5pZCA/IGluZGV4LmVtcGxveWVlLmlkOiAnJywKICAgIC8vICAgICAgICAgICAgICAgICBzYWxhcnk6ICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChpbmRleC5zYWxhcnkpLAogICAgLy8gICAgICAgICAgICAgICAgIGVtcGxveWVlSWQ6ICAgICAgICAgICAgICAgICBpbmRleC5lbXBsb3llZUlkLAogICAgLy8gICAgICAgICAgICAgICAgIGJhbms6ICAgICAgICAgICAgICAgICAgICAgICBpbmRleC5lbXBsb3llZS5iYW5rICwKICAgIC8vICAgICAgICAgICAgICAgICBiYW5rQWNjb3VudDogICAgICAgICAgICAgICAgaW5kZXguZW1wbG95ZWUuYmFua0FjY291bnQsCiAgICAvLyAgICAgICAgICAgICAgICAgZW1wbG95ZWVOYW1lOiAgICAgICAgICAgICAgIGluZGV4LmVtcGxveWVlLmZpcnN0TmFtZSArJyAnKyBpbmRleC5lbXBsb3llZS5sYXN0TmFtZSwKICAgIC8vICAgICAgICAgICAgICAgICBuYXR1cmVFbXBsb3llZTogICAgICAgICAgICAgaW5kZXguZW1wbG95ZWUubmF0dXJlRW1wbG95ZWUsCiAgICAvLyAgICAgICAgICAgICAgICAgcGF5cm9sbExpYWJpbGl0aWU6ICAgICAgICAgIGluZGV4LmVtcGxveWVlLnBheXJvbGxMaWFiaWxpdGllLAogICAgLy8gICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2Q6ICAgICAgICAgICAgICBpbmRleC5lbXBsb3llZS5wYXltZW50TWV0aG9kLAogICAgLy8gICAgICAgICAgICAgICAgIGVtcGxveWVlOiAgICAgICAgICAgICAgICAgICBpbmRleC5lbXBsb3llZSwKICAgIC8vICAgICAgICAgICAgICAgICBvdmVyVGltZUhvbGlkYXk6ICAgICAgICAgICAgMCwKICAgIC8vICAgICAgICAgICAgICAgICBvdmVyVGltZVdlZWtlbmQ6ICAgICAgICAgICAgMCwKICAgIC8vICAgICAgICAgICAgICAgICBvdmVyVGltZU5pZ2h0OiAgICAgICAgICAgICAgMCwKICAgIC8vICAgICAgICAgICAgICAgICB3b3JrRGF5OiAgICAgICAgICAgICAgICAgICAgMCwKICAgIC8vICAgICAgICAgICAgICAgICB3b3JrVGltZTogICAgICAgICAgICAgICAgICAgMCwKICAgIC8vICAgICAgICAgICAgICAgICBiZW5lZml0OiAgICAgICAgICAgICAgICAgICAgaW5kZXguYmVuZWZpdCwKICAgIC8vICAgICAgICAgICAgICAgICB0b3RhbEJlbmVmaXQ6ICAgICAgICAgICAgICAgMCAsCiAgICAvLyAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICAgICAgICAgICAgICAgICAgIGluZGV4LmN1cnJlbmN5ID8gaW5kZXguY3VycmVuY3k6IHt9LAogICAgLy8gICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAgICAgICAgICAgICAgICAgICBpbmRleC5sb2NhdGlvbiwKICAgIC8vICAgICAgICAgICAgICAgICBzZWdtZW50OiAgICAgICAgICAgICAgICAgICAgaW5kZXguc2VnbWVudCwKICAgIC8vICAgICAgICAgICAgICAgICBzYWxhcnlUeXBlOiAgICAgICAgICAgICAgICAgaW5kZXguc2FsYXJ5VHlwZS5uYW1lLAogICAgLy8gICAgICAgICAgICAgICAgIHN0YXJ0aW5nVGltZTogICAgICAgICAgICAgICBpbmRleC5zdGFydGluZ1RpbWUsCiAgICAvLyAgICAgICAgICAgICAgICAgcG9zaXRpb246ICAgICAgICAgICAgICAgICAgIGluZGV4LnBvc2l0aW9uLAogICAgLy8gICAgICAgICAgICAgICAgIG5hdHVyZUNvbnRyYWN0OiAgICAgICAgICAgICBpbmRleC5uYXR1cmVDb250cmFjdCwKICAgIC8vICAgICAgICAgICAgICAgICBlYXJuaW5nOiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChpbmRleC5zYWxhcnkpLAogICAgLy8gICAgICAgICAgICAgICAgIHBhaWRIb3VyczogICAgICAgICAgICAgICAgICAwLAogICAgLy8gICAgICAgICAgICAgICAgIGRlZHVjdGlvbjogICAgICAgICAgICAgICAgICAwLAogICAgLy8gICAgICAgICAgICAgICAgIG5ldFBheTogICAgICAgICAgICAgICAgICAgICAwLAogICAgLy8gICAgICAgICAgICAgfQogICAgLy8gICAgICAgICB9KQogICAgLy8gICAgICAgICB0aGlzLnRpbWVDYXJkTGluZSA9IHRpbWVDYXJkTGlzdAogICAgLy8gICAgIH1lbHNlewogICAgLy8gICAgICAgICBsZXQgcGFyYW0gPSAgewogICAgLy8gICAgICAgICAgICAgJ21vbnRoT2YnOiAgICAgIGtlbmRvLnRvU3RyaW5nKCBuZXcgRGF0ZSh0aGlzLm1vbnRoT2YpLCd5eXl5LU1NLWRkJyksCiAgICAvLyAgICAgICAgICAgICAnc2VsZWN0VGltZSc6ICAgdGhpcy5uYXR1cmVJbnB1dFNlbGVjdGVkCiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAvLyAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgLy8gICAgICAgICAgICAgICAgIHBheXJvbGxIYW5kbGVyLmdldFRpbWVDYXJkKHBhcmFtKS50aGVuKHJlcyA9PiB7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGlmKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCl7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVzLmRhdGEuZGF0YTsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5sZW5ndGggPiAwKXsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHRbMF0udGltZUNhcmRMaW5lLmxlbmd0aCA+IDApewogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0X3RpbWVjYXJkID0gcmVzdWx0WzBdLnRpbWVDYXJkTGluZTsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdF9yZWNvcmQgPSB0aGlzLnJlY29yZExpc3QuZmlsdGVyKG4gPT5uLmFwcGx5T3ZlcnRpbWUgPT0gdHJ1ZSk7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1lQ2FyZExpc3QgPSBbXTsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0X3RpbWVjYXJkLmZvckVhY2goZnVuY3Rpb24odGMpIHsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1lX2VtcGxveWVlSWQgPSB0Yy5lbXBsb3llZUlkOwogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsQmVuZWZpdCA9IDA7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVkdWN0aW9uID0gMDsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXRQYXkgPSAwOwogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmUgPSAgcmVzdWx0X3JlY29yZC5maWx0ZXIobSA9PiBtLmVtcGxveWVlSWQgPT09ICB0aW1lX2VtcGxveWVlSWQpLm1hcChpdGVtID0+ewogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uYmVuZWZpdC5mb3JFYWNoKGZ1bmN0aW9uKGIpewogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihiLmFtb3VudCl7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEJlbmVmaXQgKz0gcGFyc2VGbG9hdChiLmFtb3VudCkKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXlyb2xsTGlhYmlsaXRpZSAgICAgICA9ICBpdGVtLmVtcGxveWVlLnBheXJvbGxMaWFiaWxpdGllCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBlcmlvZCA9IHJlc3VsdFswXS5wZXJpb2QKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3ZlclRpbWVOaWdodCA9IHRjLm92ZXJUaW1lTmlnaHQgKiBwYXJzZUZsb2F0KHBlcmlvZC5vdmVydGltZU5pZ2h0KQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvdmVyVGltZVdlZWtlbmQgPSB0Yy5vdmVyVGltZVdlZWtlbmQgKiBwYXJzZUZsb2F0KHBlcmlvZC5vdmVydGltZUZvcldlZWtlbmQpCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG92ZXJUaW1lSG9saWRheSA9IHRjLm92ZXJUaW1lSG9saWRheSAqIHBhcnNlRmxvYXQocGVyaW9kLm92ZXJ0aW1lRm9yTmF0aW9uYWxIb2xpZGF5KQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbEhvdXJzID0gdGMud29ya1RpbWUgKyBvdmVyVGltZU5pZ2h0ICsgb3ZlclRpbWVXZWVrZW5kICsgb3ZlclRpbWVIb2xpZGF5CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsb3ZlclRpbWUgPSBvdmVyVGltZU5pZ2h0ICsgb3ZlclRpbWVXZWVrZW5kICsgb3ZlclRpbWVIb2xpZGF5CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdvcmtEYXkgPSB0Yy53b3JrVGltZSAvIHBhcnNlRmxvYXQocGVyaW9kLmhvdXJQZXJEYXkpCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNhbGFyeUFtb3VudCA9IDAKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2FsYXJ5ID0gcGFyc2VGbG9hdChpdGVtLnNhbGFyeSkKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLnNhbGFyeVR5cGUgPT0gIk1vbnRobHkiKXsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNhbGFyeUhvdXJzID0gc2FsYXJ5IC8gKHBhcnNlRmxvYXQocGVyaW9kLmhvdXJQZXJEYXkpICogcGFyc2VGbG9hdChwZXJpb2Qud29ya2luZ0RheSkpIAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxhcnlBbW91bnQgPSBzYWxhcnkgKyAoc2FsYXJ5SG91cnMgKiB0b3RhbG92ZXJUaW1lKQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxhcnlBbW91bnQgPSBzYWxhcnkgKiB0b3RhbEhvdXJzCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlVXVpZDogICAgICAgICAgICAgICBpdGVtLmVtcGxveWVlLmlkID8gaXRlbS5lbXBsb3llZS5pZDogJycsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbGFyeTogICAgICAgICAgICAgICAgICAgICBzYWxhcnlBbW91bnQsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlSWQ6ICAgICAgICAgICAgICAgICB0Yy5lbXBsb3llZUlkLAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5rOiAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5lbXBsb3llZS5iYW5rICwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFua0FjY291bnQ6ICAgICAgICAgICAgICAgIGl0ZW0uZW1wbG95ZWUuYmFua0FjY291bnQsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlTmFtZTogICAgICAgICAgICAgICBpdGVtLmVtcGxveWVlLmZpcnN0TmFtZSArJyAnKyAgIGl0ZW0uZW1wbG95ZWUubGFzdE5hbWUsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdHVyZUVtcGxveWVlOiAgICAgICAgICAgICBpdGVtLmVtcGxveWVlLm5hdHVyZUVtcGxveWVlLAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlyb2xsTGlhYmlsaXRpZTogICAgICAgICAgcGF5cm9sbExpYWJpbGl0aWUsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2Q6ICAgICAgICAgICAgICBpdGVtLmVtcGxveWVlLnBheW1lbnRNZXRob2QsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlOiAgICAgICAgICAgICAgICAgICBpdGVtLmVtcGxveWVlLAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyVGltZUhvbGlkYXk6ICAgICAgICAgICAgdGMub3ZlclRpbWVIb2xpZGF5LAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyVGltZVdlZWtlbmQ6ICAgICAgICAgICAgdGMub3ZlclRpbWVXZWVrZW5kLAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyVGltZU5pZ2h0OiAgICAgICAgICAgICAgdGMub3ZlclRpbWVOaWdodCwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya0RheTogICAgICAgICAgICAgICAgICAgIHdvcmtEYXkgfHwgMCwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFpZEhvdXJzOiAgICAgICAgICAgICAgICAgIHRjLndvcmtUaW1lLAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFdvcmtpbmdob3VyczogICAgICAgICAgdGMud29ya1RpbWUsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlbmVmaXQ6ICAgICAgICAgICAgICAgICAgICBpdGVtLmJlbmVmaXQsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiAgICAgICAgICAgICAgICAgICB0Yy5jdXJyZW5jeSA/IHRjLmN1cnJlbmN5OiB7fSwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxCZW5lZml0OiAgICAgICAgICAgICAgIHBhcnNlRmxvYXQodG90YWxCZW5lZml0KSAsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAgICAgICAgICAgICAgICAgICBpdGVtLmxvY2F0aW9uLAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50OiAgICAgICAgICAgICAgICAgICAgaXRlbS5zZWdtZW50LAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxhcnlUeXBlOiAgICAgICAgICAgICAgICAgaXRlbS5zYWxhcnlUeXBlLm5hbWUsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0aW5nVGltZTogICAgICAgICAgICAgICBpdGVtLnN0YXJ0aW5nVGltZSwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICAgICAgICAgICAgICAgICAgIGl0ZW0ucG9zaXRpb24sCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdHVyZUNvbnRyYWN0OiAgICAgICAgICAgICBpdGVtLm5hdHVyZUNvbnRyYWN0LAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXJuaW5nOiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChpdGVtLnNhbGFyeSkgKyBwYXJzZUZsb2F0KHRvdGFsQmVuZWZpdCksCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZHVjdGlvbjogICAgICAgICAgICAgICAgICBkZWR1Y3Rpb24sCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldFBheTogICAgICAgICAgICAgICAgICAgICBuZXRQYXksCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlLmxlbmd0aCA+MCl7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZUNhcmRMaXN0LnB1c2gocmVbMF0pCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVDYXJkTGluZSA9IHRpbWVDYXJkTGlzdAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0X3JlY29yZCA9IHRoaXMucmVjb3JkTGlzdC5maWx0ZXIobiA9Pm4uYXBwbHlPdmVydGltZSA9PSB0cnVlKTsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRpbWVzaGVldCA9IFtdCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uKHRjKSB7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGltZV9lbXBsb3llZV9pZCA9IHRjLmVtcGxveWVlLmlkOwogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsQmVuZWZpdCA9IDA7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVkdWN0aW9uID0gMDsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXRQYXkgPSAwOwogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBlcmlvZCA9IHRjLnBlcmlvZAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGV0IHRvdGFsSG91cnMgPSAwCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZSA9ICByZXN1bHRfcmVjb3JkLmZpbHRlcihtID0+IG0uZW1wbG95ZWVfaWQgPT09ICB0aW1lX2VtcGxveWVlX2lkKS5tYXAoaXRlbSA9PnsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmJlbmVmaXQuZm9yRWFjaChmdW5jdGlvbihiKXsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoYi5hbW91bnQpewogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxCZW5lZml0ICs9IHBhcnNlRmxvYXQoYi5hbW91bnQpCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvdmVyVGltZU5pZ2h0ID0gdGMub3ZlclRpbWVOaWdodCAqIHBhcnNlRmxvYXQocGVyaW9kLm92ZXJ0aW1lTmlnaHQpCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG92ZXJ0aW1lSG91cnNXZWVrZW5kID0gdGMub3ZlcnRpbWVIb3Vyc1dlZWtlbmQgKiBwYXJzZUZsb2F0KHBlcmlvZC5vdmVydGltZUZvcldlZWtlbmQpCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG92ZXJ0aW1lSG91cnNIb2xpZGF5ID0gdGMub3ZlcnRpbWVIb3Vyc0hvbGlkYXkgKiBwYXJzZUZsb2F0KHBlcmlvZC5vdmVydGltZUZvck5hdGlvbmFsSG9saWRheSkKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWxIb3VycyA9IHRjLndvcmtpbmdIb3VycyArIG92ZXJUaW1lTmlnaHQgKyBvdmVydGltZUhvdXJzV2Vla2VuZCArIG92ZXJ0aW1lSG91cnNIb2xpZGF5CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdvcmtEYXkgPSB0Yy53b3JraW5nSG91cnMgL3BhcnNlRmxvYXQodGMucGVyaW9kLmhvdXJQZXJEYXkpCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsb3ZlclRpbWUgPSBvdmVyVGltZU5pZ2h0ICsgb3ZlcnRpbWVIb3Vyc1dlZWtlbmQgKyBvdmVydGltZUhvdXJzSG9saWRheQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzYWxhcnkgPSBwYXJzZUZsb2F0KGl0ZW0uc2FsYXJ5KQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzYWxhcnlBbW91bnQgPSAwCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5zYWxhcnlUeXBlID09ICJNb250aGx5Iil7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzYWxhcnlIb3VycyA9IHNhbGFyeSAvIChwYXJzZUZsb2F0KHRjLnBlcmlvZC5ob3VyUGVyRGF5KSAqIHBhcnNlRmxvYXQodGMucGVyaW9kLndvcmtpbmdEYXkpKSAKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsYXJ5QW1vdW50ID0gc2FsYXJ5ICsgKHNhbGFyeUhvdXJzICogdG90YWxvdmVyVGltZSkKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsYXJ5QW1vdW50ID0gc2FsYXJ5ICogdG90YWxIb3VycwogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZVV1aWQ6ICAgICAgIHRjLmVtcGxveWVlLmlkLAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxhcnk6ICAgICAgICAgICAgIHNhbGFyeUFtb3VudCwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVJZDogICAgICAgICB0Yy5lbXBsb3llZS5lbXBsb3llZUlkLAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZTogICAgICAgICAgIHRjLmVtcGxveWVlLAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlyb2xsTGlhYmlsaXRpZTogIHRjLmVtcGxveWVlLnBheXJvbGxMaWFiaWxpdGllLAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5rOiAgICAgICAgICAgICAgIHRjLmVtcGxveWVlLmJhbmssCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtBY2NvdW50OiAgICAgICAgdGMuZW1wbG95ZWUuYmFua0FjY291bnQsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2Q6ICAgICAgdGMuZW1wbG95ZWUucGF5bWVudE1ldGhvZCwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0dXJlRW1wbG95ZWU6ICAgICB0Yy5lbXBsb3llZS5uYXR1cmVFbXBsb3llZSwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVOYW1lOiAgICAgICB0Yy5lbXBsb3llZS5maXJzdE5hbWUgKycgJysgICB0Yy5lbXBsb3llZS5sYXN0TmFtZSwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlclRpbWVIb2xpZGF5OiAgICB0Yy5vdmVydGltZUhvdXJzSG9saWRheSwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlclRpbWVXZWVrZW5kOiAgICB0Yy5vdmVydGltZUhvdXJzV2Vla2VuZCwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlclRpbWVOaWdodDogICAgICB0Yy5vdmVyVGltZU5pZ2h0LAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWlkSG91cnM6ICAgICAgICAgIHRjLndvcmtpbmdIb3VycywKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya2luZ0hvdXJzOiAgICAgICB0Yy53b3JraW5nSG91cnMsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmlvZDogICAgICAgICAgICAgdGMucGVyaW9kLAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JrRGF5OiAgICAgICAgICAgIHdvcmtEYXkgfHwgMCwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVuZWZpdDogICAgICAgICAgICBpdGVtLmJlbmVmaXQsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQmVuZWZpdDogICAgICAgcGFyc2VGbG9hdCh0b3RhbEJlbmVmaXQpLAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFdvcmtpbmdob3VyczogIHBhcnNlRmxvYXQodG90YWxIb3VycyksCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnQ6ICAgICAgICAgICAgaXRlbS5zZWdtZW50LAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogICAgICAgICAgIGl0ZW0ubG9jYXRpb24sCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbGFyeVR5cGU6ICAgICAgICAgaXRlbS5zYWxhcnlUeXBlLm5hbWUsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0aW5nVGltZTogICAgICAgaXRlbS5zdGFydGluZ1RpbWUsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAgICAgICAgICAgaXRlbS5wb3NpdGlvbiwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICAgICAgICAgICBpdGVtLmN1cnJlbmN5ID8gaXRlbS5jdXJyZW5jeToge30sCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdHVyZUNvbnRyYWN0OiAgICAgaXRlbS5uYXR1cmVDb250cmFjdCwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFybmluZzogICAgICAgICAgICBwYXJzZUZsb2F0KGl0ZW0uc2FsYXJ5KSArIHBhcnNlRmxvYXQodG90YWxCZW5lZml0KSwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVkdWN0aW9uOiAgICAgICAgICBkZWR1Y3Rpb24sCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldFBheTogICAgICAgICAgICAgbmV0UGF5LAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihyZS5sZW5ndGggPiAwKXsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc2hlZXQucHVzaChyZVswXSkKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lQ2FyZExpbmUgPSB0aW1lc2hlZXQKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVDYXJkTGluZSA9IFtdCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgICB9KQogICAgLy8gICAgICAgICAgICAgfSwgMzAwKTsKICAgIC8vICAgICAgICAgfSkKICAgIC8vICAgICB9CiAgICAvLyB9LAogICAgZmlsdGVyRW1wbG95ZWU6IGZ1bmN0aW9uIGZpbHRlckVtcGxveWVlKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLm5hdHVyZUlucHV0U2VsZWN0ZWQgPT0gIkZpeGVkIikgewogICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnJlY29yZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICByZXR1cm4gbi5zYWxhcnlUeXBlID09ICJNb250aGx5IiAmJiBuLmFwcGx5T3ZlcnRpbWUgPT0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHRpbWVDYXJkTGlzdCA9IHJlc3VsdC5tYXAoZnVuY3Rpb24gKGluZGV4KSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBlbXBsb3llZVV1aWQ6IGluZGV4LmVtcGxveWVlLmlkID8gaW5kZXguZW1wbG95ZWUuaWQgOiAnJywKICAgICAgICAgICAgc2FsYXJ5OiBwYXJzZUZsb2F0KGluZGV4LnNhbGFyeSksCiAgICAgICAgICAgIGVtcGxveWVlSWQ6IGluZGV4LmVtcGxveWVlSWQsCiAgICAgICAgICAgIGJhbms6IGluZGV4LmVtcGxveWVlLmJhbmssCiAgICAgICAgICAgIGJhbmtBY2NvdW50OiBpbmRleC5lbXBsb3llZS5iYW5rQWNjb3VudCwKICAgICAgICAgICAgZW1wbG95ZWVOYW1lOiBpbmRleC5lbXBsb3llZS5maXJzdE5hbWUgKyAnICcgKyBpbmRleC5lbXBsb3llZS5sYXN0TmFtZSwKICAgICAgICAgICAgbmF0dXJlRW1wbG95ZWU6IGluZGV4LmVtcGxveWVlLm5hdHVyZUVtcGxveWVlLAogICAgICAgICAgICBwYXlyb2xsTGlhYmlsaXRpZTogaW5kZXguZW1wbG95ZWUucGF5cm9sbExpYWJpbGl0aWUsCiAgICAgICAgICAgIHBheW1lbnRNZXRob2Q6IGluZGV4LmVtcGxveWVlLnBheW1lbnRNZXRob2QsCiAgICAgICAgICAgIGVtcGxveWVlOiBpbmRleC5lbXBsb3llZSwKICAgICAgICAgICAgb3ZlclRpbWVIb2xpZGF5OiAwLAogICAgICAgICAgICBvdmVyVGltZVdlZWtlbmQ6IDAsCiAgICAgICAgICAgIG92ZXJUaW1lTmlnaHQ6IDAsCiAgICAgICAgICAgIHdvcmtEYXk6IDAsCiAgICAgICAgICAgIHdvcmtUaW1lOiAwLAogICAgICAgICAgICBiZW5lZml0OiBpbmRleC5iZW5lZml0LAogICAgICAgICAgICB0b3RhbEJlbmVmaXQ6IDAsCiAgICAgICAgICAgIGN1cnJlbmN5OiBpbmRleC5jdXJyZW5jeSA/IGluZGV4LmN1cnJlbmN5IDoge30sCiAgICAgICAgICAgIGxvY2F0aW9uOiBpbmRleC5sb2NhdGlvbiwKICAgICAgICAgICAgc2VnbWVudDogaW5kZXguc2VnbWVudCwKICAgICAgICAgICAgc2FsYXJ5VHlwZTogaW5kZXguc2FsYXJ5VHlwZS5uYW1lLAogICAgICAgICAgICBzdGFydGluZ1RpbWU6IGluZGV4LnN0YXJ0aW5nVGltZSwKICAgICAgICAgICAgcG9zaXRpb246IGluZGV4LnBvc2l0aW9uLAogICAgICAgICAgICBuYXR1cmVDb250cmFjdDogaW5kZXgubmF0dXJlQ29udHJhY3QsCiAgICAgICAgICAgIGVhcm5pbmc6IHBhcnNlRmxvYXQoaW5kZXguc2FsYXJ5KSwKICAgICAgICAgICAgcGFpZEhvdXJzOiAwLAogICAgICAgICAgICBkZWR1Y3Rpb246IDAsCiAgICAgICAgICAgIG5ldFBheTogMAogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLnRpbWVDYXJkTGluZSA9IHRpbWVDYXJkTGlzdDsKICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHBhcmFtID0gewogICAgICAgICAgJ21vbnRoT2YnOiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh0aGlzLm1vbnRoT2YpLCAneXl5eS1NTS1kZCcpLAogICAgICAgICAgJ3NlbGVjdFRpbWUnOiB0aGlzLm5hdHVyZUlucHV0U2VsZWN0ZWQKICAgICAgICB9OwogICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgcGF5cm9sbEhhbmRsZXIuZ2V0VGltZUNhcmQocGFyYW0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgIHZhciBfcmVzdWx0ID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAoX3Jlc3VsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIGlmIChfcmVzdWx0WzBdLnRpbWVDYXJkTGluZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdF90aW1lY2FyZCA9IF9yZXN1bHRbMF0udGltZUNhcmRMaW5lOwoKICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0X3JlY29yZCA9IF90aGlzNi5yZWNvcmRMaXN0LmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4uYXBwbHlPdmVydGltZSA9PSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICB2YXIgX3RpbWVDYXJkTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdF90aW1lY2FyZC5mb3JFYWNoKGZ1bmN0aW9uICh0YykgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVfZW1wbG95ZWVJZCA9IHRjLmVtcGxveWVlSWQ7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWxCZW5lZml0ID0gMDsKICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWR1Y3Rpb24gPSAwOwogICAgICAgICAgICAgICAgICAgICAgdmFyIG5ldFBheSA9IDA7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgcmUgPSByZXN1bHRfcmVjb3JkLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5lbXBsb3llZUlkID09PSB0aW1lX2VtcGxveWVlSWQ7CiAgICAgICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5iZW5lZml0LmZvckVhY2goZnVuY3Rpb24gKGIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYi5hbW91bnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQmVuZWZpdCArPSBwYXJzZUZsb2F0KGIuYW1vdW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF5cm9sbExpYWJpbGl0aWUgPSBpdGVtLmVtcGxveWVlLnBheXJvbGxMaWFiaWxpdGllOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGVyaW9kID0gX3Jlc3VsdFswXS5wZXJpb2Q7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdmVyVGltZU5pZ2h0ID0gdGMub3ZlclRpbWVOaWdodCAqIHBhcnNlRmxvYXQocGVyaW9kLm92ZXJ0aW1lTmlnaHQpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3ZlclRpbWVXZWVrZW5kID0gdGMub3ZlclRpbWVXZWVrZW5kICogcGFyc2VGbG9hdChwZXJpb2Qub3ZlcnRpbWVGb3JXZWVrZW5kKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG92ZXJUaW1lSG9saWRheSA9IHRjLm92ZXJUaW1lSG9saWRheSAqIHBhcnNlRmxvYXQocGVyaW9kLm92ZXJ0aW1lRm9yTmF0aW9uYWxIb2xpZGF5KTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvdGFsSG91cnMgPSB0Yy53b3JrVGltZSArIG92ZXJUaW1lTmlnaHQgKyBvdmVyVGltZVdlZWtlbmQgKyBvdmVyVGltZUhvbGlkYXk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbG92ZXJUaW1lID0gb3ZlclRpbWVOaWdodCArIG92ZXJUaW1lV2Vla2VuZCArIG92ZXJUaW1lSG9saWRheTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdvcmtEYXkgPSB0Yy53b3JrVGltZSAvIHBhcnNlRmxvYXQocGVyaW9kLmhvdXJQZXJEYXkpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2FsYXJ5QW1vdW50ID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNhbGFyeSA9IHBhcnNlRmxvYXQoaXRlbS5zYWxhcnkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uc2FsYXJ5VHlwZSA9PSAiTW9udGhseSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2FsYXJ5SG91cnMgPSBzYWxhcnkgLyAocGFyc2VGbG9hdChwZXJpb2QuaG91clBlckRheSkgKiBwYXJzZUZsb2F0KHBlcmlvZC53b3JraW5nRGF5KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsYXJ5QW1vdW50ID0gc2FsYXJ5ICsgc2FsYXJ5SG91cnMgKiB0b3RhbG92ZXJUaW1lOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgIHNhbGFyeUFtb3VudCA9IHNhbGFyeSAqIHRvdGFsSG91cnM7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVVdWlkOiBpdGVtLmVtcGxveWVlLmlkID8gaXRlbS5lbXBsb3llZS5pZCA6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgIHNhbGFyeTogc2FsYXJ5QW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlSWQ6IHRjLmVtcGxveWVlSWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuazogaXRlbS5lbXBsb3llZS5iYW5rLAogICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtBY2NvdW50OiBpdGVtLmVtcGxveWVlLmJhbmtBY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlTmFtZTogaXRlbS5lbXBsb3llZS5maXJzdE5hbWUgKyAnICcgKyBpdGVtLmVtcGxveWVlLmxhc3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hdHVyZUVtcGxveWVlOiBpdGVtLmVtcGxveWVlLm5hdHVyZUVtcGxveWVlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBheXJvbGxMaWFiaWxpdGllOiBwYXlyb2xsTGlhYmlsaXRpZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50TWV0aG9kOiBpdGVtLmVtcGxveWVlLnBheW1lbnRNZXRob2QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWU6IGl0ZW0uZW1wbG95ZWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlclRpbWVIb2xpZGF5OiB0Yy5vdmVyVGltZUhvbGlkYXksCiAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlclRpbWVXZWVrZW5kOiB0Yy5vdmVyVGltZVdlZWtlbmQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlclRpbWVOaWdodDogdGMub3ZlclRpbWVOaWdodCwKICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JrRGF5OiB3b3JrRGF5IHx8IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFpZEhvdXJzOiB0Yy53b3JrVGltZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFdvcmtpbmdob3VyczogdGMud29ya1RpbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYmVuZWZpdDogaXRlbS5iZW5lZml0LAogICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB0Yy5jdXJyZW5jeSA/IHRjLmN1cnJlbmN5IDoge30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxCZW5lZml0OiBwYXJzZUZsb2F0KHRvdGFsQmVuZWZpdCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGl0ZW0ubG9jYXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudDogaXRlbS5zZWdtZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHNhbGFyeVR5cGU6IGl0ZW0uc2FsYXJ5VHlwZS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0aW5nVGltZTogaXRlbS5zdGFydGluZ1RpbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGl0ZW0ucG9zaXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0dXJlQ29udHJhY3Q6IGl0ZW0ubmF0dXJlQ29udHJhY3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZWFybmluZzogcGFyc2VGbG9hdChpdGVtLnNhbGFyeSkgKyBwYXJzZUZsb2F0KHRvdGFsQmVuZWZpdCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVkdWN0aW9uOiBkZWR1Y3Rpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV0UGF5OiBuZXRQYXkKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aW1lQ2FyZExpc3QucHVzaChyZVswXSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnRpbWVDYXJkTGluZSA9IF90aW1lQ2FyZExpc3Q7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF9yZXN1bHRfcmVjb3JkID0gX3RoaXM2LnJlY29yZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi5hcHBseU92ZXJ0aW1lID09IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIHZhciB0aW1lc2hlZXQgPSBbXTsKCiAgICAgICAgICAgICAgICAgICAgX3Jlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uICh0YykgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVfZW1wbG95ZWVfaWQgPSB0Yy5lbXBsb3llZS5pZDsKICAgICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbEJlbmVmaXQgPSAwOwogICAgICAgICAgICAgICAgICAgICAgdmFyIGRlZHVjdGlvbiA9IDA7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV0UGF5ID0gMDsKICAgICAgICAgICAgICAgICAgICAgIHZhciBwZXJpb2QgPSB0Yy5wZXJpb2Q7IC8vIGxldCB0b3RhbEhvdXJzID0gMAoKICAgICAgICAgICAgICAgICAgICAgIHZhciByZSA9IF9yZXN1bHRfcmVjb3JkLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5lbXBsb3llZV9pZCA9PT0gdGltZV9lbXBsb3llZV9pZDsKICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmJlbmVmaXQuZm9yRWFjaChmdW5jdGlvbiAoYikgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiLmFtb3VudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxCZW5lZml0ICs9IHBhcnNlRmxvYXQoYi5hbW91bnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdmVyVGltZU5pZ2h0ID0gdGMub3ZlclRpbWVOaWdodCAqIHBhcnNlRmxvYXQocGVyaW9kLm92ZXJ0aW1lTmlnaHQpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3ZlcnRpbWVIb3Vyc1dlZWtlbmQgPSB0Yy5vdmVydGltZUhvdXJzV2Vla2VuZCAqIHBhcnNlRmxvYXQocGVyaW9kLm92ZXJ0aW1lRm9yV2Vla2VuZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdmVydGltZUhvdXJzSG9saWRheSA9IHRjLm92ZXJ0aW1lSG91cnNIb2xpZGF5ICogcGFyc2VGbG9hdChwZXJpb2Qub3ZlcnRpbWVGb3JOYXRpb25hbEhvbGlkYXkpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWxIb3VycyA9IHRjLndvcmtpbmdIb3VycyArIG92ZXJUaW1lTmlnaHQgKyBvdmVydGltZUhvdXJzV2Vla2VuZCArIG92ZXJ0aW1lSG91cnNIb2xpZGF5OwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgd29ya0RheSA9IHRjLndvcmtpbmdIb3VycyAvIHBhcnNlRmxvYXQodGMucGVyaW9kLmhvdXJQZXJEYXkpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWxvdmVyVGltZSA9IG92ZXJUaW1lTmlnaHQgKyBvdmVydGltZUhvdXJzV2Vla2VuZCArIG92ZXJ0aW1lSG91cnNIb2xpZGF5OwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2FsYXJ5ID0gcGFyc2VGbG9hdChpdGVtLnNhbGFyeSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzYWxhcnlBbW91bnQgPSAwOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uc2FsYXJ5VHlwZSA9PSAiTW9udGhseSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2FsYXJ5SG91cnMgPSBzYWxhcnkgLyAocGFyc2VGbG9hdCh0Yy5wZXJpb2QuaG91clBlckRheSkgKiBwYXJzZUZsb2F0KHRjLnBlcmlvZC53b3JraW5nRGF5KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsYXJ5QW1vdW50ID0gc2FsYXJ5ICsgc2FsYXJ5SG91cnMgKiB0b3RhbG92ZXJUaW1lOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgIHNhbGFyeUFtb3VudCA9IHNhbGFyeSAqIHRvdGFsSG91cnM7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVVdWlkOiB0Yy5lbXBsb3llZS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxhcnk6IHNhbGFyeUFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUlkOiB0Yy5lbXBsb3llZS5lbXBsb3llZUlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlOiB0Yy5lbXBsb3llZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlyb2xsTGlhYmlsaXRpZTogdGMuZW1wbG95ZWUucGF5cm9sbExpYWJpbGl0aWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuazogdGMuZW1wbG95ZWUuYmFuaywKICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5rQWNjb3VudDogdGMuZW1wbG95ZWUuYmFua0FjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudE1ldGhvZDogdGMuZW1wbG95ZWUucGF5bWVudE1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBuYXR1cmVFbXBsb3llZTogdGMuZW1wbG95ZWUubmF0dXJlRW1wbG95ZWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVOYW1lOiB0Yy5lbXBsb3llZS5maXJzdE5hbWUgKyAnICcgKyB0Yy5lbXBsb3llZS5sYXN0TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyVGltZUhvbGlkYXk6IHRjLm92ZXJ0aW1lSG91cnNIb2xpZGF5LAogICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJUaW1lV2Vla2VuZDogdGMub3ZlcnRpbWVIb3Vyc1dlZWtlbmQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlclRpbWVOaWdodDogdGMub3ZlclRpbWVOaWdodCwKICAgICAgICAgICAgICAgICAgICAgICAgICBwYWlkSG91cnM6IHRjLndvcmtpbmdIb3VycywKICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JraW5nSG91cnM6IHRjLndvcmtpbmdIb3VycywKICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJpb2Q6IHRjLnBlcmlvZCwKICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JrRGF5OiB3b3JrRGF5IHx8IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYmVuZWZpdDogaXRlbS5iZW5lZml0LAogICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQmVuZWZpdDogcGFyc2VGbG9hdCh0b3RhbEJlbmVmaXQpLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsV29ya2luZ2hvdXJzOiBwYXJzZUZsb2F0KHRvdGFsSG91cnMpLAogICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnQ6IGl0ZW0uc2VnbWVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogaXRlbS5sb2NhdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxhcnlUeXBlOiBpdGVtLnNhbGFyeVR5cGUubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydGluZ1RpbWU6IGl0ZW0uc3RhcnRpbmdUaW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBpdGVtLnBvc2l0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBpdGVtLmN1cnJlbmN5ID8gaXRlbS5jdXJyZW5jeSA6IHt9LAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hdHVyZUNvbnRyYWN0OiBpdGVtLm5hdHVyZUNvbnRyYWN0LAogICAgICAgICAgICAgICAgICAgICAgICAgIGVhcm5pbmc6IHBhcnNlRmxvYXQoaXRlbS5zYWxhcnkpICsgcGFyc2VGbG9hdCh0b3RhbEJlbmVmaXQpLAogICAgICAgICAgICAgICAgICAgICAgICAgIGRlZHVjdGlvbjogZGVkdWN0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5ldFBheTogbmV0UGF5CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocmUubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aW1lc2hlZXQucHVzaChyZVswXSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzNi50aW1lQ2FyZExpbmUgPSB0aW1lc2hlZXQ7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi50aW1lQ2FyZExpbmUgPSBbXTsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaCgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgcGFyYW07CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhcmFtID0gewogICAgICAgICAgICAgICAgICBzdGF0dXM6IDEsCiAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX2lkOiBfdGhpczcubG9jYXRpb25TZWxlY3RlZC5pZCB8fCAiIiwKICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudF9pZDogX3RoaXM3LmRlcGFydG1lbnQsCiAgICAgICAgICAgICAgICAgIG5hdHVyZUNvbnRyYWN0X2lkOiBfdGhpczcubmF0dXJlQ29udHJhY3QsCiAgICAgICAgICAgICAgICAgIGVtcGxveWVlR3JvdXBfaWQ6IF90aGlzNy5lbXBsb3llZUdyb3VwIHx8ICcnCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczcuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGVtcGxveWVlSGFuZGxlci5nZXRSZWNvcmQocGFyYW0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5yZWNvcmRMaXN0ID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5maWx0ZXJFbXBsb3llZSgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNhdmVOZXh0OiBmdW5jdGlvbiBzYXZlTmV4dCgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmRhdGFTb3VyY2VUaW1lQ2FyZC5rZW5kb1dpZGdldCgpOwogICAgICB2YXIgdG90YWxFbXBsb3llZSA9IDA7CiAgICAgIGRzLmRhdGEoKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIGlmICh2YWx1ZSkgewogICAgICAgICAgdG90YWxFbXBsb3llZSArPSAxOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMudG90YWxFbXBsb3llZSA9IHRvdGFsRW1wbG95ZWU7CiAgICAgIHZhciBkYXRhU291cmNlID0gZHMuZGF0YSgpOwogICAgICB0aGlzLnBheXJvbGxMaXN0ID0gZGF0YVNvdXJjZS5tYXAoZnVuY3Rpb24gKGluZGV4KSB7CiAgICAgICAgcmV0dXJuIG5ldyBQYXlyb2xsTGlzdCh7CiAgICAgICAgICBhcHBseU92ZXJ0aW1lOiBpbmRleC5hcHBseU92ZXJ0aW1lLAogICAgICAgICAgZGF0ZTogX3RoaXM4LmRhdGUsCiAgICAgICAgICBiZW5lZml0OiBpbmRleC5iZW5lZml0ID8gaW5kZXguYmVuZWZpdCA6IFtdLAogICAgICAgICAgZW1wbG95ZWU6IGluZGV4LmVtcGxveWVlLAogICAgICAgICAgZW1wbG95ZWVJZDogaW5kZXguZW1wbG95ZWVJZCwKICAgICAgICAgIGVtcGxveWVlX2lkOiBpbmRleC5lbXBsb3llZV9pZCwKICAgICAgICAgIGVtcGxveWVlVXVpZDogaW5kZXguZW1wbG95ZWVVdWlkLAogICAgICAgICAgZW1wbG95ZWVOYW1lOiBpbmRleC5lbXBsb3llZU5hbWUsCiAgICAgICAgICBsb2NhdGlvbjogaW5kZXgubG9jYXRpb24sCiAgICAgICAgICBuYXR1cmVSZWNvcmQ6IGluZGV4Lm5hdHVyZVJlY29yZCwKICAgICAgICAgIG5hdHVyZVNhbGFyeTogaW5kZXgubmF0dXJlU2FsYXJ5LAogICAgICAgICAgb3ZlclRpbWU6IGluZGV4Lm92ZXJUaW1lLAogICAgICAgICAgcG9zaXRpb246IGluZGV4LnBvc2l0aW9uLAogICAgICAgICAgc2FsYXJ5OiBpbmRleC5zYWxhcnksCiAgICAgICAgICBzYWxhcnkxOiBpbmRleC5zYWxhcnksCiAgICAgICAgICBzYWxhcnlUeXBlOiBpbmRleC5zYWxhcnlUeXBlLAogICAgICAgICAgdG90YWxCZW5lZml0OiBpbmRleC50b3RhbEJlbmVmaXQsCiAgICAgICAgICBzZWdtZW50OiBpbmRleC5zZWdtZW50ID8gaW5kZXguc2VnbWVudCA6IFtdLAogICAgICAgICAgc3RhcnRpbmdUaW1lOiBpbmRleC5zdGFydGluZ1RpbWUsCiAgICAgICAgICBzdGF0dXM6IGluZGV4LnN0YXR1cywKICAgICAgICAgIHdvcmtEYXk6IGluZGV4LndvcmtEYXksCiAgICAgICAgICBjdXJyZW5jeTogaW5kZXguY3VycmVuY3ksCiAgICAgICAgICBwZXJpb2Q6IGluZGV4LnBlcmlvZCwKICAgICAgICAgIG92ZXJUaW1lSG9saWRheTogaW5kZXgub3ZlclRpbWVIb2xpZGF5LAogICAgICAgICAgb3ZlclRpbWVXZWVrZW5kOiBpbmRleC5vdmVyVGltZVdlZWtlbmQsCiAgICAgICAgICBvdmVyVGltZU5pZ2h0OiBpbmRleC5vdmVyVGltZU5pZ2h0LAogICAgICAgICAgd29ya2luZ0hvdXJzOiBpbmRleC53b3JraW5nSG91cnMsCiAgICAgICAgICB0b3RhbFdvcmtpbmdob3VyczogaW5kZXgudG90YWxXb3JraW5naG91cnMsCiAgICAgICAgICBwYWlkSG91cnM6IGluZGV4LnBhaWRIb3VycywKICAgICAgICAgIHBheW1lbnRNZXRob2Q6IGluZGV4LnBheW1lbnRNZXRob2QsCiAgICAgICAgICBwYXlyb2xsTGlhYmlsaXRpZTogaW5kZXgucGF5cm9sbExpYWJpbGl0aWUsCiAgICAgICAgICBuYXR1cmVDb250cmFjdDogaW5kZXgubmF0dXJlQ29udHJhY3QKICAgICAgICB9KTsKICAgICAgfSk7CgogICAgICBpZiAodGhpcy5wYXlyb2xsTGlzdC5sZW5ndGggPiAwICYmIHRoaXMuYmFzZUN1cnJlbmN5ICYmIHRoaXMuZXhjaGFuZ2VSYXRlLnJhdGUpIHsKICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICAgIHZhciBkYXRhID0gbmV3IFBheXJvbGxSdW4oewogICAgICAgICAgICAgIGlkOiBfdGhpczguJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICAgICAgICBsb2NhdGlvbjogX3RoaXM4LmxvY2F0aW9uU2VsZWN0ZWQsCiAgICAgICAgICAgICAgbW9udGhPZjoga2VuZG8udG9TdHJpbmcobmV3IERhdGUoX3RoaXM4Lm1vbnRoT2YpLCAneXl5eS1NTS1kZCcpLAogICAgICAgICAgICAgIHNlcXVjZW5jaW5nOiBwYXJzZUludChrZW5kby50b1N0cmluZyhuZXcgRGF0ZShfdGhpczgubW9udGhPZiksICd5eXl5JykpLAogICAgICAgICAgICAgIHRvdGFsRW1wbG95ZWU6IF90aGlzOC50b3RhbEVtcGxveWVlLAogICAgICAgICAgICAgIGN1cnJlbmN5OiBfdGhpczguYmFzZUN1cnJlbmN5LAogICAgICAgICAgICAgIGV4Y2hhbmdlUmF0ZTogX3RoaXM4LmV4Y2hhbmdlUmF0ZSwKICAgICAgICAgICAgICBkYXRlOiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZShfdGhpczguZGF0ZSksICd5eXl5LU1NLWRkJyksCiAgICAgICAgICAgICAgcGF5TnVtYmVyOiBfdGhpczgucGF5TnVtYmVyLAogICAgICAgICAgICAgIG51bWJlcjogX3RoaXM4Lm51bWJlciwKICAgICAgICAgICAgICBjcmVhdGVkOiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSgpLCAneXl5eS1NTS1kZCcpLAogICAgICAgICAgICAgIGxhc3ROdW1iZXI6IF90aGlzOC5sYXN0TnVtYmVyLAogICAgICAgICAgICAgIGFiYnI6IF90aGlzOC5wYXlOdW1iZXIuYWJiciwKICAgICAgICAgICAgICB0eXBlOiAncGF5cm9sbCcsCiAgICAgICAgICAgICAgbmF0dXJlSW5wdXQ6IF90aGlzOC5uYXR1cmVJbnB1dFNlbGVjdGVkLAogICAgICAgICAgICAgIHJlZmVyZW5jZU51bWJlcjogX3RoaXM4LnBheU51bWJlci5hYmJyICsgX3RoaXM4LnBheU51bWJlci5udW1iZXJTZXBhcmF0b3IgKyBfdGhpczgubnVtYmVyLAogICAgICAgICAgICAgIHBheXJvbGxMaXN0OiBfdGhpczgucGF5cm9sbExpc3QsCiAgICAgICAgICAgICAgc3RlcDogMiwKICAgICAgICAgICAgICBkZXBhcnRtZW50OiBfdGhpczguZGVwYXJ0bWVudCwKICAgICAgICAgICAgICBuYXR1cmVDb250cmFjdDogX3RoaXM4Lm5hdHVyZUNvbnRyYWN0LAogICAgICAgICAgICAgIGVtcGxveWVlR3JvdXA6IF90aGlzOC5lbXBsb3llZUdyb3VwLAogICAgICAgICAgICAgIGxvZ2dlZFVzZXI6IF90aGlzOC5sb2dnZWRVc2VyCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfdGhpczguc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICBwYXlyb2xsSGFuZGxlci5jcmVhdGVQYXlyb2xsKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgX3RoaXM4LnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICBfdGhpczguJHNub3RpZnkuc3VjY2VzcygnU3VjY2VzcycpOwoKICAgICAgICAgICAgICAgIF90aGlzOC5sb2FkU3VjY2VzcyhyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUpOwoKICAgICAgICAgICAgICAgIF90aGlzOC5jbG9zZSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBfdGhpczguJHNub3RpZnkuZXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nJyk7CgogICAgICAgICAgICAgIF90aGlzOC5lcnJvcnMucHVzaChlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LCAzMDApOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICghdGhpcy5leGNoYW5nZVJhdGUucmF0ZSkgewogICAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcignRXhjaGFuZ2UgcmF0ZSBub3QgZm91bmQhIHBsZWFzZSBjaGVjayBhZ2FpbicpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMucGF5cm9sbExpc3QubGVuZ3RoID09IDApIHsKICAgICAgICAgIHRoaXMuJHNub3RpZnkuZXJyb3IoJ0RhdGEgbm90IGZvdW5kIHBsZWFzZSBjaGVjayBhZ2FpbicpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGxvYWRTdWNjZXNzOiBmdW5jdGlvbiBsb2FkU3VjY2VzcyhkYXRhKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2hlYWRsaW5lJywgZGF0YSk7CiAgICB9LAogICAgbG9hZFBheXJvbGxMaXN0OiBmdW5jdGlvbiBsb2FkUGF5cm9sbExpc3QoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM5LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBwYXlyb2xsSGFuZGxlci5nZXRQYXlyb2xsKF90aGlzOS4kcm91dGUucGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5zaG93TG9hZGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ1Jhbm5ubm4nLCByZXMpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0UGF5ID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRQYXkubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5yZXN1bHQgPSByZXN1bHRQYXlbMF07CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5sb2FkUGF5cm9sbEl0ZW0oX3RoaXM5LnJlc3VsdCk7IC8vIHRoaXMuZGF0ZSA9IHJlc3VsdFBheS5kYXRlCgoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM5LnJlc3VsdC5tb250aE9mICE9PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM5Lm1vbnRoT2YgPSBrZW5kby50b1N0cmluZyhuZXcgRGF0ZShfdGhpczkucmVzdWx0Lm1vbnRoT2YpLCAieXl5eS1NTSIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5nZW5lcmF0ZU51bWJlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LmxvY2F0aW9uU2VsZWN0ZWQgPSBfdGhpczkucmVzdWx0LmxvY2F0aW9uOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5lbXBsb3llZUdyb3VwID0gX3RoaXM5LnJlc3VsdC5lbXBsb3llZUdyb3VwOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM5LmVtcGxveWVlR3JvdXAgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuZGlzYWJsZWRMID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQYXlyb2xsSXRlbTogZnVuY3Rpb24gbG9hZFBheXJvbGxJdGVtKHJlc3VsdCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgIF90aGlzMTAuZW1wbG95ZWUgPSBbXTsKICAgICAgICAgIHBheXJvbGxIYW5kbGVyLmdldFBheXJvbGxJdGVtKHJlc3VsdC5pZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzMTAuc2hvd0xvYWRpbmcgPSB0cnVlOwoKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgIHZhciByZXN1dGxfaXRlbSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgX3RoaXMxMC50aW1lQ2FyZExpbmUgPSByZXN1dGxfaXRlbTsKICAgICAgICAgICAgICBfdGhpczEwLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKCk7CiAgICAgICAgICB7CiAgICAgICAgICAgIF90aGlzMTAuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9LCAzMDApOwogICAgICB9KTsKICAgIH0sCiAgICBsb2FkUHJlZml4ZXM6IGZ1bmN0aW9uIGxvYWRQcmVmaXhlcygpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICBzZXR0aW5nc0hhbmRsZXIuZ2V0UHJlZml4ZXMoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgIF90aGlzMTEucHJlZml4TGlzdCA9IHJlc3VsdC5maWx0ZXIoZnVuY3Rpb24gKHApIHsKICAgICAgICAgICAgICAgIHJldHVybiBwLnR5cGUgPT0gJ3BheXJvbGwnOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF90aGlzMTEucHJlZml4ID0gX3RoaXMxMS5wcmVmaXhMaXN0WzBdOwogICAgICAgICAgICAgIF90aGlzMTEucGF5TnVtYmVyID0gX3RoaXMxMS5wcmVmaXg7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0sIDMwMCk7CiAgICAgIH0pOwogICAgfSwKICAgIGdlbmVyYXRlTnVtYmVyOiBmdW5jdGlvbiBnZW5lcmF0ZU51bWJlcigpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgdmFyIHJlc3VsdE51bWJlciA9IHRoaXMucmVzdWx0OwoKICAgICAgaWYgKHJlc3VsdE51bWJlci5udW1iZXIpIHsKICAgICAgICB0aGlzLm51bWJlciA9IHJlc3VsdE51bWJlci5udW1iZXI7CiAgICAgICAgdGhpcy5sYXN0TnVtYmVyID0gcmVzdWx0TnVtYmVyLmxhc3ROdW1iZXI7CiAgICAgICAgdGhpcy5wYXlOdW1iZXIgPSByZXN1bHROdW1iZXIucGF5TnVtYmVyOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBtb250T2ZfZm9ybWF0ID0ga2VuZG8udG9TdHJpbmcobmV3IERhdGUodGhpcy5tb250aE9mKSwgJ3l5eXktTU0tZGQnKTsKCiAgICAgICAgaWYgKG1vbnRPZl9mb3JtYXQgPT0gIiIpIHsKICAgICAgICAgIHZhciBtb250aF95ZWFyID0ga2VuZG8udG9TdHJpbmcobmV3IERhdGUoKSwgJ3l5eXktTU0tZGQnKTsKICAgICAgICAgIG1vbnRPZl9mb3JtYXQgPSBtb250aF95ZWFyLnNldERhdGUoMSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgc2VxdWNlbmNpbmcgPSAnJzsKCiAgICAgICAgaWYgKHRoaXMucGF5TnVtYmVyLnNlcXVjZW5jaW5nID09ICJZZWFyIikgewogICAgICAgICAgc2VxdWNlbmNpbmcgPSBuZXcgRGF0ZShtb250T2ZfZm9ybWF0KS50b0lTT1N0cmluZygpLnN1YnN0cigwLCA0KTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGF5TnVtYmVyLnNlcXVjZW5jaW5nID09ICJNb250aCIpIHsKICAgICAgICAgIHNlcXVjZW5jaW5nID0gbmV3IERhdGUobW9udE9mX2Zvcm1hdCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgNyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNlcXVjZW5jaW5nID0gJyc7CiAgICAgICAgfQoKICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICAgIGFiYnI6IF90aGlzMTIucGF5TnVtYmVyLmFiYnIsCiAgICAgICAgICAgICAgc3RydWN0dXJlOiBfdGhpczEyLnBheU51bWJlci5zdHJ1Y3R1cmUsCiAgICAgICAgICAgICAgZGF0ZTogbW9udE9mX2Zvcm1hdCwKICAgICAgICAgICAgICB0eXBlOiAncGF5cm9sbCcsCiAgICAgICAgICAgICAgcGtJZDogJ3Bhci0nLAogICAgICAgICAgICAgIHNlcXVjZW5jaW5nOiBzZXF1Y2VuY2luZwogICAgICAgICAgICB9OwogICAgICAgICAgICB3aW5kb3c7CiAgICAgICAgICAgIHBheXJvbGxIYW5kbGVyLmdldFByZWZpeE51bWJlcihkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpczEyLnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgdmFyIGxhc3ROdW1iZXIgPSBfdGhpczEyLnplcm9QYWQocGFyc2VJbnQocmVzdWx0Lmxhc3ROdW1iZXIpLCBfdGhpczEyLnBheU51bWJlci5mb3JtYXQpOwoKICAgICAgICAgICAgICAgIHZhciBudW1iZXIgPSByZXN1bHQuc3VmZml4ICsgX3RoaXMxMi5wYXlOdW1iZXIubnVtYmVyU2VwYXJhdG9yICsgbGFzdE51bWJlcjsKICAgICAgICAgICAgICAgIF90aGlzMTIubnVtYmVyID0gbnVtYmVyOwogICAgICAgICAgICAgICAgX3RoaXMxMi5sYXN0TnVtYmVyID0gbGFzdE51bWJlcjsKICAgICAgICAgICAgICAgIF90aGlzMTIuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwgMzAwKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHplcm9QYWQ6IGZ1bmN0aW9uIHplcm9QYWQobnVtLCBwbGFjZXMpIHsKICAgICAgcmV0dXJuIFN0cmluZyhudW0pLnBhZFN0YXJ0KHBsYWNlcywgJzAnKTsKICAgIH0sCiAgICBkb3dubG9hZFRpbWVDYXJkOiBmdW5jdGlvbiBkb3dubG9hZFRpbWVDYXJkKCkgewogICAgICBheGlvcy5nZXQoJ2h0dHBzOi8vczMuYXAtc291dGhlYXN0LTEuYW1hem9uYXdzLmNvbS9pbWFnZXMuYmFuaGppL2ZpbGVzL1RpbWVjYXJkLnhsc3gnLCB7CiAgICAgICAgLy8gSWYgeW91IGZvcmdldCB0aGlzLCB5b3VyIGRvd25sb2FkIHdpbGwgYmUgY29ycnVwdC4KICAgICAgICByZXNwb25zZVR5cGU6ICdibG9iJwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIGxpbmsuaHJlZiA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtyZXNwb25zZS5kYXRhXSkpOwogICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICdUaW1lY2FyZC54bHN4Jyk7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgICBsaW5rLmNsaWNrKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRCYXNlQ3VycmVuY3k6IGZ1bmN0aW9uIGxvYWRCYXNlQ3VycmVuY3koKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBpbnN0aXR1dGVIYW5kbGVyLmdldE9uZUNvbXBhbnkoY29va2llLmluc3RpdHV0ZUlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuYmFzZUN1cnJlbmN5ID0gcmVzLmJhc2VDdXJyZW5jeTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICB9LCAyMDApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRMYXN0RXhjaGFuZ2VSYXRlOiBmdW5jdGlvbiBsb2FkTGFzdEV4Y2hhbmdlUmF0ZSgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGdldERhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgIHZhciBkYXRlX3RheF9wYXlyb2xsID0gbmV3IERhdGUoZ2V0RGF0ZS5nZXRGdWxsWWVhcigpLCBnZXREYXRlLmdldE1vbnRoKCksIDE1KTsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKGRhdGVfdGF4X3BheXJvbGwpLCAneXl5eS1NTS1kZCcpOwogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhkYXRlKTsKICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9ICdLSFInOwoKICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPT0gdW5kZWZpbmVkIHx8IGNvZGUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5SGFuZGxlci5nZXRMYXN0RXhjaGFuZ2VSYXRlVGF4QnlEYXRlKGRhdGUsIGNvZGUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKDEsIHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5leGNoYW5nZVJhdGUgPSByZXMuZGF0YS5kYXRhWzBdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZEN1cnJlbmN5RGF0YTogZnVuY3Rpb24gbG9hZEN1cnJlbmN5RGF0YSh0eXBlKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTUuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5SGFuZGxlci5saXN0KHR5cGUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IGN1cnJlbmN5VHlwZS5GVU5DVElPTkFMX0NVUlJFTkNZKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5mdW5jQ3VycmVuY3lMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IGN1cnJlbmN5VHlwZS5UUkFOU0FDVElPTl9DVVJSRU5DWSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUuY3VycmVuY3lMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdvQmFjazogZnVuY3Rpb24gZ29CYWNrKCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CgogICAgICB2YXIgcGF5cm9sbF9pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKCiAgICAgIGlmIChwYXlyb2xsX2lkICYmIHRoaXMucmVzdWx0LnN0ZXAgPT0gMSkgewogICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgX3RoaXMxNi5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIHBheXJvbGxIYW5kbGVyLmRlbGV0ZVRyYW5zYWN0aW9ucyhwYXlyb2xsX2lkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgIF90aGlzMTYubG9hZFBheXJvbGxMaXN0KCk7CgogICAgICAgICAgICAgICAgX3RoaXMxNi5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkuZ28oLTEpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LCAzMDApOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHdpbmRvdy5oaXN0b3J5LmdvKC0xKTsKICAgICAgfQogICAgfSwKICAgIGxvYWRQZXJpb2Q6IGZ1bmN0aW9uIGxvYWRQZXJpb2QoKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIHBheXJvbGxIYW5kbGVyLmdldFBlcmlpb2QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTcucGVyaW9kID0gcmVzWzBdOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvY2F0aW9uQ2hhbmdlOiBmdW5jdGlvbiBsb2NhdGlvbkNoYW5nZSgpIHsKICAgICAgdmFyIGxvY2F0aW9uID0gdGhpcy5sb2NhdGlvblNlbGVjdGVkOwogICAgICB3aW5kb3cuY29uc29sZS5sb2coJ2xvY2F0aW9uJywgbG9jYXRpb24pOwoKICAgICAgaWYgKGxvY2F0aW9uICE9PSBudWxsKSB7CiAgICAgICAgdGhpcy5kaXNhYmxlZEcgPSB0cnVlOwogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygxLCBsb2NhdGlvbik7CiAgICAgICAgdGhpcy5sb2FkRGVwYXJ0bWVudChsb2NhdGlvbi5pZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kZXBhcnRtZW50ID0gIiI7CiAgICAgICAgdGhpcy5uYXR1cmVDb250cmFjdCA9ICIiOwogICAgICAgIHRoaXMuZGlzYWJsZWRHID0gZmFsc2U7CiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKDIsIGxvY2F0aW9uKTsKICAgICAgfQogICAgfSwKICAgIGxvYWREZXBhcnRtZW50OiBmdW5jdGlvbiBsb2FkRGVwYXJ0bWVudChsb2NhdGlvbl9pZCkgewogICAgICB2YXIgX3RoaXMxOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgdmFyIHBhcmFtOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGFyYW0gPSB7CiAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX2lkOiBsb2NhdGlvbl9pZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICAgICAgICAgICAgcGF5cm9sbEhhbmRsZXIuZ2V0RGVwYXJ0bWVudChwYXJhbSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE4LmRlcGFydG1lbnRzID0gcmVzOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE4LmRlcGFydG1lbnRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOC5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkR3JvdXA6IGZ1bmN0aW9uIGxvYWRHcm91cCgpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBwYXlyb2xsSGFuZGxlci5nZXRHcm91cCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS5lbXBsb3llZUdyb3VwcyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZW1wbG95ZWVHcm91cENoYW5nZTogZnVuY3Rpb24gZW1wbG95ZWVHcm91cENoYW5nZSgpIHsKICAgICAgaWYgKHRoaXMuZW1wbG95ZWVHcm91cCkgewogICAgICAgIHRoaXMuZGlzYWJsZWRMID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRpc2FibGVkTCA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMjAgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMC5sb2FkUGVyaW9kKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMC5sb2FkUGF5cm9sbExpc3QoKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIwLmxvYWRFbXBsb3llZSgpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjAubG9hZExvY2F0aW9uKCk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjAubG9hZFNlZ21lbnQoKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjAubG9hZFByZWZpeGVzKCk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDE0OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIwLmxvYWRCYXNlQ3VycmVuY3koKTsKCiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjAubG9hZExhc3RFeGNoYW5nZVJhdGUoKTsKCiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjAubG9hZEdyb3VwKCk7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDIwOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIwLmxvYWRDdXJyZW5jeURhdGEoY3VycmVuY3lUeXBlLlRSQU5TQUNUSU9OX0NVUlJFTkNZKTsKCiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTEyKTsKICAgIH0pKSgpOwogIH0sCiAgd2F0Y2g6IHsKICAgIHByb3BJbnB1dDogZnVuY3Rpb24gcHJvcElucHV0KCkgewogICAgICBpZiAodGhpcy5wcm9wSW5wdXQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMubG9hZFBheXJvbGxMaXN0KCk7CiAgICAgICAgdGhpcy5sb2FkTGFzdEV4Y2hhbmdlUmF0ZSgpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Input.vue"],"names":[],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAA,cA3YA,4BA2YA;AAAA;;AACA,UAAA,KAAA,mBAAA,IAAA,OAAA,EAAA;AACA,YAAA,MAAA,GAAA,KAAA,UAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,UAAA,IAAA,SAAA,IAAA,CAAA,CAAA,aAAA,IAAA,KAAA;AAAA,SAAA,CAAA;AACA,YAAA,YAAA,GAAA,MAAA,CAAA,GAAA,CAAA,UAAA,KAAA,EAAA;AACA,iBAAA;AACA,YAAA,YAAA,EAAA,KAAA,CAAA,QAAA,CAAA,EAAA,GAAA,KAAA,CAAA,QAAA,CAAA,EAAA,GAAA,EADA;AAEA,YAAA,MAAA,EAAA,UAAA,CAAA,KAAA,CAAA,MAAA,CAFA;AAGA,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","sourcesContent":["<template>\n    <v-row>\n        <v-col cols=\"12\" class=\"pt-0\">\n            <v-row style=\"margin-bottom: -40px;\">\n                <v-col sm=\"3\">\n                    <label class=\"label\">{{$t('for_the_month_of')}}</label>\n                    <month-picker :initialMonth=\"monthOf\" @emitMonth=\"monthOf = $event\" @onChanged=\"monthOfChange\"/>\n                </v-col>\n                <v-col sm=\"3\">\n                    <v-row class=\"my-3 mr-0\" style=\"padding-top: 12px;\">\n                        <v-col sm=\"3\" cols=\"3\" class=\"pt-0 pr-0\">\n                            <div class=\"code_text text-bold\">{{prefix.abbr}}</div>\n                        </v-col>\n                        <v-col sm=\"7\" cols=\"7\" class=\"pt-0 pl-0 pr-1\">\n                            <v-text-field class=\" custom-border \"\n                                v-model=\"number\"\n                                outlined\n                                :rules=\"[v => !!v || 'Number is required']\"\n                                required\n                                readonly/>\n                        </v-col>\n                        <v-col sm=\"2\" cols=\"2\" class=\"pt-0 px-0\">\n                            <v-icon color=\"black\" size=\"30\" class=\"border_qrcode\"\n                                @click=\"generateNumber\">mdi-qrcode\n                            </v-icon>\n                        </v-col>\n                    </v-row>\n                </v-col>\n                <v-col sm=\"3\">\n                    <label class=\"label\">{{$t('Date')}}</label>\n                    <date-picker :initialDate=\"date\" @emitDate=\"date = $event\"/>\n                </v-col>\n                <v-col sm=\"3\" style=\"text-align: center;\">\n                    <p>{{$t('approved_exch_rate_month')}}</p>\n                    <h2 class=\"primary--text\">{{numberFormat(exchangeRate)}}</h2>\n                </v-col>\n            </v-row>\n            <v-row>\n                <v-col sm=\"3\">\n                    <label>{{$t('employee_group')}}</label>\n                    <v-select class=\"mt-1\"\n                        outlined\n                        :items=\"employeeGroups\"\n                        :item-text=\"item =>`${item.groupCode} - ${item.groupName}`\"\n                        item-value=\"id\"\n                        :disabled=\"disabledG\"\n                        v-model=\"employeeGroup\"\n                        @change=\"employeeGroupChange\"\n                        clearable\n                        tage=\"Business Unit/Branch\"/>\n                </v-col>\n                <v-col sm=\"3\">\n                    <label>{{$t('business_unit_branch')}}</label>\n                    <v-select class=\"mt-1\"\n                        outlined\n                        :disabled=\"disabledL\"\n                        :items=\"location\"\n                        item-text=\"name\"\n                        item-value=\"id\"\n                        v-model=\"locationSelected\"\n                        @change=\"locationChange\"\n                        tage=\"Business Unit/Branch\"\n                        return-object\n                        clearable/>\n                </v-col>\n                <v-col sm=\"3\">\n                    <label>{{$t('department')}}</label>\n                    <v-select class=\"mt-1\"\n                        outlined\n                        :disabled=\"disabled\"\n                        :loading=\"loading\"\n                        :items=\"departments\"\n                        item-text=\"name\"\n                        item-value=\"id\"\n                        v-model=\"department\"\n                        tage=\"Business Unit/Branch\"/>\n                </v-col>\n                <v-col sm=\"3\">\n                    <label>{{$t('nature_of_the_contract')}}</label>\n                    <v-select class=\"mt-1\"\n                        outlined\n                        :disabled=\"disabled\"\n                        :items=\"natureContracts\"\n                        item-text=\"name\"\n                        item-value=\"id\"\n                        v-model=\"natureContract\"\n                        tage=\"Business Unit/Branch\"/>\n                </v-col>\n            </v-row>\n            <v-row>\n                <v-col sm=\"3\" cols=\"12\">\n                    <v-select class=\"mt-1\"\n                        id=\"acc_type_selector\"\n                        :items=\"natureInput\"\n                        item-text=\"name\"\n                        item-value=\"id\"\n                        v-model=\"natureInputSelected\"\n                        @change=\"ChangeNature\"\n                        outlined\n                        clearable/>\n                </v-col>\n                <v-col sm=\"3\" cols=\"12\">\n                    <v-dialog v-model=\"dialogm\" max-width=\"1080px\">\n                        <template v-slot:activator=\"{ on }\">\n                            <!-- <v-card-text :class=\"{'setCardHeight': setCardHeight,'setCardHeightOther': !setCardHeight}\"> -->\n                                <!-- <div v-if=\"natureInputSelected === 'Timecard'\" > -->\n                                    <v-btn :disabled=\"btnEnabled\"  color=\"primary\" style=\"width: 100%;\" class=\"float-right text-capitalize\" v-on=\"on\">\n                                        {{$t('import_timecard')}}\n                                    </v-btn>\n                                <!-- </div> -->\n                            <!-- </v-card-text> -->\n                        </template>\n                        <v-card>\n                            <div class=\"modal_header\">\n                                <v-card-title>{{$t('import_data')}}</v-card-title>\n                                <v-icon  @click=\"dialogm = false\">close</v-icon>\n                            </div>\n                            <v-card-text class=\"modal_text_content\">\n                                <v-row>\n                                    <v-col sm=\"2\" class=\"pr-2 pt-2\">\n                                        <label class=\"label mt-2\">{{$t('location')}}</label>\n                                    </v-col>\n                                    <v-col sm=\"2\" class=\"pl-0\">\n                                    <v-select class=\"mt-1\"\n                                        outlined\n                                        :items=\"location\"\n                                        item-text=\"name\"\n                                        item-value=\"id\"\n                                        v-model=\"locationSelected\"\n                                        tage=\"Business Unit/Branch\"\n                                        return-object/>\n                                    </v-col>\n                                    <v-col sm=\"2\" class=\"pr-2 pt-2\">\n                                        <label class=\"label mt-2\">{{$t('segment')}}</label>\n                                    </v-col>\n                                    <v-col sm=\"2\" class=\"pl-0\">\n                                        <v-select class=\"mt-1\"\n                                        id=\"acc_type_selector\"\n                                        :items=\"segment\"\n                                        item-text=\"name\"\n                                        item-value=\"id\"\n                                        v-model=\"segmentSelected\"\n                                        outlined\n                                        return-object/>\n                                    </v-col>\n                                    <v-col sm=\"2\" class=\"pr-2 pt-2\">\n                                        <label class=\"label mt-3\">{{$t('month_of')}}</label>\n                                    </v-col>\n                                    <v-col sm=\"2\" class=\"pl-0\">\n                                        <month-picker :initialMonth=\"monthOf\" @emitMonth=\"monthOf = $event\"/>\n                                    </v-col>\n                                </v-row>\n                                <v-row>\n                                    <v-col sm=\"3\" cols=\"12\">\n                                        <p>Download file format for import</p>\n                                    </v-col>\n                                    <v-col sm=\"3\" cols=\"12\">\n                                        <v-btn color=\"secondary\" class=\" white--text float-right text-capitalize mr-5\" @click=\"downloadTimeCard\">\n                                            {{$t('file_format')}}\n                                        </v-btn>\n                                    </v-col>\n                                    <v-col sm=\"3\" cols=\"12\">\n                                        <p>Or start importing if you are ready</p>\n                                    </v-col>\n                                    <v-col sm=\"3\" cols=\"12\">\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <upload-excel-component :on-success=\"handleSuccess\" :before-upload=\"beforeUpload\" />\n                                        </v-col>\n                                    </v-col>\n                                </v-row>\n                                <v-row>\n                                    <v-col cols=\"12\">\n                                        <kendo-datasource ref=\"dataSourceInput\"\n                                            :data=\"tableData\"/>\n                                        <kendo-grid id=\"gridTimecard\" class=\"grid-function\"\n                                            :data-source-ref=\"'dataSourceInput'\"\n                                            :editable=\"false\"\n                                            :scrollable-virtual=\"true\">\n                                            <kendo-grid-column\n                                                :field=\"'date'\"\n                                                :title=\"$t('date')\"\n                                                :width=\"120\"\n                                                readonly\n                                                :template=\"'<span>#= kendo.toString(new Date(date),`yyyy-MM-dd`)#</span>'\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                            <kendo-grid-column\n                                                :field=\"'employeeId'\"\n                                                :title=\"$t('employee_id')\"\n                                                :width=\"120\"\n                                                readonly\n                                                :template=\"'<span>#= employeeId#</span>'\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                            <kendo-grid-column\n                                                :field=\"'employeeName'\"\n                                                :title=\"$t('employee_name')\"\n                                                :width=\"120\"\n                                                :template=\"'<span>#= employeeName#</span>'\"\n                                                readonly\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                            <kendo-grid-column\n                                                :field=\"'timeTable'\"\n                                                :title=\"$t('time_table')\"\n                                                :width=\"120\"\n                                                readonly\n                                                :template=\"'<span>#= timeTable#</span>'\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                            <kendo-grid-column\n                                                :field=\"'clockedIn'\"\n                                                :title=\"$t('clocked_in')\"\n                                                :width=\"120\"\n                                                readonly\n                                                :template=\"'<span>#= kendo.toString(new Date(clockedIn), timeFormat)#</span>'\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                            <kendo-grid-column\n                                                :field=\"'clockedOut'\"\n                                                :title=\"$t('clocked_out')\"\n                                                :width=\"120\"\n                                                readonly\n                                                :template=\"'<span>#= kendo.toString(new Date(clockedOut), timeFormat)#</span>'\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                            <kendo-grid-column\n                                                :field=\"'overTimeWeekend'\"\n                                                :title=\"$t('over_time_weekend')\"\n                                                :width=\"120\"\n                                                readonly\n                                                :template=\"'<span>#= overTimeWeekend#</span>'\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                            <kendo-grid-column\n                                                :field=\"'overTimeHoliday'\"\n                                                :title=\"$t('over_time_holiday')\"\n                                                :width=\"120\"\n                                                readonly\n                                                :template=\"'<span>#= overTimeHoliday#</span>'\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                            <kendo-grid-column\n                                                :field=\"'overTimeNight'\"\n                                                :title=\"$t('over_time_night')\"\n                                                :width=\"120\"\n                                                readonly\n                                                :template=\"'<span>#= overTimeNight#</span>'\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                            <kendo-grid-column\n                                                :field=\"'work_time'\"\n                                                :title=\"$t('work_time')\"\n                                                :width=\"120\"\n                                                readonly\n                                                :template=\"'<span>#= workTime ? workTime: 0#</span>'\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                        </kendo-grid>\n                                    </v-col>\n                                </v-row>\n                            </v-card-text>\n                            <v-card-actions class=\"modal_footer\">\n                                <v-btn class=\"btn_cancel\" @click=\"dialogm = false\">{{$t('cancel')}}</v-btn>\n                                <v-btn color=\"primary\" class=\"white--text capitalize\" @click=\"onSaveClose\">\n                                    {{$t('confirm_report')}}\n                                </v-btn>\n                            </v-card-actions>\n                        </v-card>\n                    </v-dialog>\n                </v-col>\n                <v-col sm=\"3\" cols=\"12\">\n                    <v-btn style=\"width: 100%;\" color=\"primary\" @click=\"search()\" class=\" white--text float-right text-capitalize\">\n                        {{$t('search')}}\n                    </v-btn>\n                </v-col>\n            </v-row>\n        </v-col>\n        <v-col cols=\"12\">\n            <kendo-datasource ref=\"dataSourceTimeCard\"\n                :data=\"timeCardLine\"\n                :sort=\"sort\"/>\n            <kendo-grid id=\"gridInput\" class=\"grid-function\"\n                :data-source-ref=\"'dataSourceTimeCard'\"\n                :editable=\"false\"\n                :scrollable-virtual=\"true\"\n                :column-menu=\"false\">\n                <kendo-grid-column\n                    :field=\"'employeeId'\"\n                    :title=\"$t('employee_id')\"\n                    :template=\"'<span>#= employeeId#</span>'\"\n                    readonly\n                    :width=\"150\"\n                    :headerAttributes=\"{\n                        style: 'background-color: #EDF1F5'\n                    }\"/>\n                <kendo-grid-column\n                    :field=\"'employeeName'\"\n                    :title=\"$t('employee_name')\"\n                    readonly\n                    :width=\"200\"\n                    :template=\"'<span>#= employeeName#</span>'\"\n                    :headerAttributes=\"{\n                        style: 'background-color: #EDF1F5'\n                    }\"/>\n                <kendo-grid-column\n                    :field=\"'workDay'\"\n                    :title=\"$t('workDay')\"\n                    readonly\n                    :width=\"120\"\n                    :template=\"'<span>#= workDay#</span>'\"\n                    :headerAttributes=\"{\n                        style: 'background-color: #EDF1F5'\n                    }\"\n                    :attributes=\"{\n                        style: 'text-align: center;'\n                    }\"/>\n                <kendo-grid-column\n                    :field=\"'paidHours'\"\n                    :title=\"$t('work_hours')\"\n                    readonly\n                    :width=\"120\"\n                    :template=\"'<span>#= paidHours#</span>'\"\n                    :headerAttributes=\"{\n                        style: 'background-color: #EDF1F5'\n                    }\"\n                    :attributes=\"{\n                        style: 'text-align: center;'\n                    }\"/>\n                <kendo-grid-column\n                    :field=\"'overTimeWeekend'\"\n                    :title=\"$t('over_time_weekend')\"\n                    readonly\n                    :template=\"'<span>#= overTimeWeekend#</span>'\"\n                    :headerAttributes=\"{\n                        style: 'background-color: #EDF1F5'\n                    }\"\n                    :attributes=\"{\n                        style: 'text-align: center;'\n                    }\"/>\n                <kendo-grid-column\n                    :field=\"'overTimeNight'\"\n                    :title=\"$t('over_time_night')\"\n                    readonly\n                    :template=\"'<span>#= overTimeNight || 0#</span>'\"\n                    :headerAttributes=\"{\n                        style: 'background-color: #EDF1F5'\n                    }\"\n                    :attributes=\"{\n                        style: 'text-align: center;'\n                    }\"/>\n                <kendo-grid-column\n                    :field=\"'overTimeHoliday'\"\n                    :title=\"$t('over_time_holiday')\"\n                    readonly\n                    :template=\"'<span>#= overTimeHoliday#</span>'\"\n                    :headerAttributes=\"{\n                        style: 'background-color: #EDF1F5'\n                    }\"\n                    :attributes=\"{\n                        style: 'text-align: center;'\n                    }\"/>\n            </kendo-grid>\n        </v-col>\n        <LoadingMe :isLoading=\"showLoading\" :fullPage=\"true\" :myLoading=\"true\"  type=\"loading\"/>\n    </v-row>\n</template>\n<script>\nimport UploadExcelComponent from '@/components/upload_excel/TimeCard.vue';\nimport kendo from \"@progress/kendo-ui\";\nimport TimeCardLine from \"@/scripts/model/TimeCardLine\";\nimport EmployeeModel from '@/scripts/model/Employee'\nimport TimeCard from \"@/scripts/model/TimeCard\";\nimport PayrollRun from \"@/scripts/model/PayrollRun\";\nimport PayrollList from \"@/scripts/model/PayrollList\"\n\nconst instituteHandler = require(\"@/scripts/instituteHandler\")\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\")\nconst axios \t= require('axios');\nconst timeCardLineModel = new TimeCardLine({})\nconst employeeModel = new EmployeeModel({})\nconst timeCardModel = new TimeCard({})\nconst payrollRunModel = new PayrollRun({})\nconst employeeHandler = require(\"@/scripts/employeeHandler\")\nconst payrollHandler = require(\"@/scripts/payrollHandler\")\nconst locationHandler = require(\"@/scripts/locationHandler\")\nconst settingsHandler = require(\"@/scripts/settingsHandler\")\nconst currencyType = {\n    FUNCTIONAL_CURRENCY: 'fun-c',\n    TRANSACTION_CURRENCY: 'txn-c',\n    REPORTING_CURRENCY: 'rpt-c',\n    TAX_EXCHANGE_CURRENCY: 'tax-c',\n}\n\n/* Cookie */\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\n\nexport default {\n    props:['propInput'],\n    data: () =>({\n        loading: false,\n        disabled: true,\n        disabledL: false,\n        disabledG: false,\n        showLoading: true,\n        journal_date: \"\",\n        dialogm: false,\n        tableData: [],\n        tableHeader: [],\n        dateFormat: timeCardLineModel.dateFormat,\n        timeFormat: timeCardLineModel.timeFormat,\n        employeeData: [],\n        monthOf: '',\n        date: new Date().toISOString().substr(0, 10),\n        location: [],\n        segment: [],\n        employee: employeeModel,\n        timeCard: timeCardModel,\n        payrollRun: payrollRunModel,\n        locationSelected: '',\n        segmentSelected: '',\n        setCardHeight: false,\n        natureInput:[\n            {name: 'Timesheet'},\n            {name: 'Timecard'},\n            {name: 'Fixed'}\n        ],\n        timeCardLine: [],\n        recordList: [],\n        natureInputSelected:'Fixed',\n        number: '',\n        prefix: '',\n        payNumber: {},\n        result: {},\n        exchangeRate: {},\n        btnEnabled: true,\n        sort:[\n            { field: 'employeeId', dir: 'asc' }\n        ],\n        period: {},\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email\n        },\n        baseCurrency: {},\n        departments: [],\n        department: \"\",\n        natureContracts:[\n            {id: \"fixed_duration_contract\", name: \"Fixed Duration Contract\"},\n            {id: \"undetermined_duration_contract\", name: \"Undetermined Duration Contract\"},\n            {id: \"contractd\", name: \"Contracted\"}\n        ],\n        natureContract: \"\",\n        employeeGroups: [],\n        employeeGroup: \"\"\n    }),\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n        'upload-excel-component':UploadExcelComponent,\n        'month-picker' : ()=> import('@/components/custom_templates/MonthPicker'),\n        'date-picker' : ()=> import('@/components/custom_templates/DatePickerComponent')\n    },\n    methods: {\n        numberFormat(value){\n            let rate = value.rate\n            return kendo.toString( kendo.parseFloat(1/rate),`n0`)\n        },\n        returnData(data){\n            this.$emit('returnData', data)\n        },\n        ChangeNature() {\n            if (this.natureInputSelected === 'Timecard') {\n                this.btnEnabled = false\n            }else {\n                this.btnEnabled = true\n            }\n        },\n        monthOfChange(){\n            this.generateNumber()\n        },\n        beforeUpload(file) {\n            const isLt1M = file.size / 1024 / 1024 < 1\n            if (isLt1M) {\n                return true\n            }\n            this.$message({\n                message: 'Please do not upload files larger than 1m in size.',\n                type: 'warning'\n            })\n            return false\n        },\n        handleSuccess({ results, header }) {\n            results.forEach(element => {\n                var utc_days  = Math.floor(element.date - 25569);\n                var utc_value = utc_days * 86400;                                        \n                var date_info = new Date(utc_value * 1000);\n                var fractional_day = element.date - Math.floor(element.date) + 0.0000001;\n                var total_seconds = Math.floor(86400 * fractional_day);\n                var seconds = total_seconds % 60;\n                total_seconds -= seconds;\n                var hours = Math.floor(total_seconds / (60 * 60));\n                var minutes = Math.floor(total_seconds / 60) % 60;\n                var current_datetime =  new Date(date_info.getFullYear(), date_info.getMonth(), date_info.getDate(), hours, minutes, seconds);\n                element.date    = current_datetime\n                element.dateFormat = this.dateFormat\n                var utc_days_time_in  = Math.floor(element.clockedIn - 25569);\n                var utc_value_time_in = utc_days_time_in * 86400;                                        \n                var date_info_time_in = new Date(utc_value_time_in * 1000);\n                var fractional_time_in = element.clockedIn - Math.floor(element.clockedIn) + 0.0000001;\n                var total_seconds_time_in = Math.floor(86400 * fractional_time_in);\n                var seconds_time_in = total_seconds_time_in % 60;\n                total_seconds_time_in -= seconds_time_in;\n                var hours_time_in = Math.floor(total_seconds_time_in / (60 * 60));\n                var minutes_time_in = Math.floor(total_seconds_time_in / 60) % 60;\n                var current_time_in =  new Date(date_info_time_in.getFullYear(), date_info_time_in.getMonth(), date_info_time_in.getDate(), hours_time_in, minutes_time_in, seconds_time_in);\n                element.clockedIn    = current_time_in\n\n                var utc_days_time_out  = Math.floor(element.clockedOut - 25569);\n                var utc_value_time_out = utc_days_time_out * 86400;                                        \n                var date_info_time_out = new Date(utc_value_time_out * 1000);\n                var fractional_time_out = element.clockedOut - Math.floor(element.clockedOut) + 0.0000001;\n                var total_seconds_time_out = Math.floor(86400 * fractional_time_out);\n                var seconds_time_out = total_seconds_time_out % 60;\n                total_seconds_time_out -= seconds_time_out;\n                var hours_time_out = Math.floor(total_seconds_time_out / (60 * 60));\n                var minutes_time_out = Math.floor(total_seconds_time_out / 60) % 60;\n                var current_time_out =  new Date(date_info_time_out.getFullYear(), date_info_time_out.getMonth(), date_info_time_out.getDate(), hours_time_out, minutes_time_out, seconds_time_out);\n                element.clockedOut    = current_time_out\n                element.timeFormat  = this.timeFormat\n            });\n            this.tableData = results\n            this.tableHeader = header\n        },\n        onSaveClose(){\n            this.autoCalculate()\n            this.groupBy()\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    let dataTimeCard = {\n                        id:                       this.timeCard.id ? this.timeCard.id : '',\n                        monthOf:                  kendo.toString(new Date(this.monthOf),'yyyy-MM-dd'),\n                        timeCardLine:             this.timeCardLine,\n                        totalWork:                this.totalWork,\n                        totalOverTimeWeekend:     this.totalOverTimeWeekend,\n                        totalOverTimeHoliday:     this.totalOverTimeHoliday,\n                        totalOverTimeNight:       this.totalOverTimeNight,\n                        location:                 this.locationSelected,\n                        locationId:               this.locationSelected.id,\n                        segment:                  this.segmentSelected,\n                        segmentId:                this.segmentSelected.id,\n                        period:                   this.period,\n                    };\n                    payrollHandler.createTimeCard(dataTimeCard).then(response => {\n                        if (response.data.statusCode === 201) {\n                            this.$snotify.success('Success')\n                            this.close()\n                        }\n                    }).catch(e => {\n                        this.$snotify.error('Something went wrong')\n                        this.errors.push(e)\n                    })\n                }, 300);\n            })\n        },\n        autoCalculate() {\n            let ds = this.$refs.dataSourceInput.kendoWidget(),\n            // specificWorks = [],\n            totalWork = 0,\n            totalOverTimeWeekend = 0,\n            totalOverTimeHoliday = 0,\n            totalOverTimeNight   = 0;\n            ds.data().forEach(value => {\n                totalWork += kendo.parseFloat(value.workTime)\n                totalOverTimeWeekend += kendo.parseFloat(value.overTimeWeekend)\n                totalOverTimeHoliday += kendo.parseFloat(value.overTimeHoliday)\n                totalOverTimeNight   += kendo.parseFloat(value.overTimeNight)\n            })\n            this.totalWork              = totalWork\n            this.totalOverTimeWeekend   = totalOverTimeWeekend\n            this.totalOverTimeHoliday   = totalOverTimeHoliday\n            this.totalOverTimeNight     = totalOverTimeNight\n        },\n        groupBy() {\n            let ds = this.$refs.dataSourceInput.kendoWidget();\n            let helper = {};\n            let result = ds.data().reduce(function(r, o) {\n                let key = o.date + '-' + o.employeeId;\n                if(!helper[key]) {\n                    helper[key] = Object.assign({}, o); // create a copy of o\n                    r.push(helper[key]);\n                } else {\n                    helper[key].workTime += o.workTime;\n                }\n                return r;\n            }, []);\n            let lastResult = {}\n            let employees = this.employees\n            let last_result = result.reduce(function(m, n) {\n                let key = n.employeeId\n                if(!lastResult[key]) {\n                    lastResult[key] = Object.assign({}, n); // create a copy of o\n                    m.push(lastResult[key]);\n                } else {\n                    employees.forEach(function(em) {\n                        if(key == em.employeeId){\n                            lastResult[key].workTime += n.workTime;\n                            lastResult[key].employeeUuid  = em.id;\n                        }\n                    });\n                }\n                return m;\n            }, []);\n            let timeCardLine =  last_result.map(n=>{\n                return new TimeCardLine(n)\n            })\n            this.timeCardLine = timeCardLine\n        },\n        async loadEmployee(){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.employees = []\n                    employeeHandler.center().then(res => {\n                        this.showLoading = true\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false\n                            this.employees = res.data.data\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 300)\n            })\n        },\n        close() {\n            this.dialogm = false\n        },\n        async loadLocation() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    locationHandler.list().then(res => {\n                        if(res.data.statusCode === 200){\n                            this.location = res.data.data\n                        }\n                        \n                    })\n                }, 300);\n            })\n        },\n        async loadSegment() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    settingsHandler.getSeg().then(res => {\n                        if(res.data.statusCode === 200){\n                            this.segment = res.data.data        \n                        }\n                    })\n                }, 300);\n            })\n        },\n        // search1(){\n        //     if(this.natureInputSelected == \"Fixed\"){\n        //         let result = this.recordList.filter(n =>n.salaryType ==\"Monthly\" && n.applyOvertime == false && n.locationId == this.locationSelected.id);\n        //         let timeCardList = result.map(index =>{\n        //             return {\n        //                 employeeUuid:               index.employee.id ? index.employee.id: '',\n        //                 salary:                     parseFloat(index.salary),\n        //                 employeeId:                 index.employeeId,\n        //                 bank:                       index.employee.bank ,\n        //                 bankAccount:                index.employee.bankAccount,\n        //                 employeeName:               index.employee.firstName +' '+ index.employee.lastName,\n        //                 natureEmployee:             index.employee.natureEmployee,\n        //                 payrollLiabilitie:          index.employee.payrollLiabilitie,\n        //                 paymentMethod:              index.employee.paymentMethod,\n        //                 employee:                   index.employee,\n        //                 overTimeHoliday:            0,\n        //                 overTimeWeekend:            0,\n        //                 overTimeNight:              0,\n        //                 workDay:                    0,\n        //                 workTime:                   0,\n        //                 benefit:                    index.benefit,\n        //                 totalBenefit:               0 ,\n        //                 currency:                   index.currency ? index.currency: {},\n        //                 location:                   index.location,\n        //                 segment:                    index.segment,\n        //                 salaryType:                 index.salaryType.name,\n        //                 startingTime:               index.startingTime,\n        //                 position:                   index.position,\n        //                 natureContract:             index.natureContract,\n        //                 earning:                    parseFloat(index.salary),\n        //                 paidHours:                  0,\n        //                 deduction:                  0,\n        //                 netPay:                     0,\n        //             }\n        //         })\n        //         this.timeCardLine = timeCardList\n        //     }else{\n        //         let param =  {\n        //             'monthOf':      kendo.toString( new Date(this.monthOf),'yyyy-MM-dd'),\n        //             'selectTime':   this.natureInputSelected\n        //         }\n        //         new Promise(resolve => {\n        //             setTimeout(() => {\n        //                 resolve('resolved');\n        //                 payrollHandler.getTimeCard(param).then(res => {\n        //                     if(res.data.statusCode === 200){\n        //                         let result = res.data.data;\n        //                         if(result.length > 0){\n        //                             if(result[0].timeCardLine.length > 0){\n        //                                 let result_timecard = result[0].timeCardLine;\n        //                                 let result_record = this.recordList.filter(n =>n.applyOvertime == true);\n        //                                 let timeCardList = [];\n        //                                 result_timecard.forEach(function(tc) {\n        //                                     let time_employeeId = tc.employeeId;\n        //                                     let totalBenefit = 0;\n        //                                     let deduction = 0;\n        //                                     let netPay = 0;\n        //                                     const re =  result_record.filter(m => m.employeeId ===  time_employeeId).map(item =>{\n        //                                         item.benefit.forEach(function(b){\n        //                                             if(b.amount){\n        //                                                 totalBenefit += parseFloat(b.amount)\n        //                                             }\n        //                                         }) \n        //                                         let payrollLiabilitie       =  item.employee.payrollLiabilitie\n        //                                         let period = result[0].period\n        //                                         let overTimeNight = tc.overTimeNight * parseFloat(period.overtimeNight)\n        //                                         let overTimeWeekend = tc.overTimeWeekend * parseFloat(period.overtimeForWeekend)\n        //                                         let overTimeHoliday = tc.overTimeHoliday * parseFloat(period.overtimeForNationalHoliday)\n        //                                         let totalHours = tc.workTime + overTimeNight + overTimeWeekend + overTimeHoliday\n        //                                         let totaloverTime = overTimeNight + overTimeWeekend + overTimeHoliday\n        //                                         let workDay = tc.workTime / parseFloat(period.hourPerDay)\n        //                                         let salaryAmount = 0\n        //                                         let salary = parseFloat(item.salary)\n        //                                         if(item.salaryType == \"Monthly\"){\n        //                                             let salaryHours = salary / (parseFloat(period.hourPerDay) * parseFloat(period.workingDay)) \n        //                                             salaryAmount = salary + (salaryHours * totaloverTime)\n        //                                         }else{\n        //                                             salaryAmount = salary * totalHours\n        //                                         }\n        //                                         return {\n        //                                             employeeUuid:               item.employee.id ? item.employee.id: '',\n        //                                             salary:                     salaryAmount,\n        //                                             employeeId:                 tc.employeeId,\n        //                                             bank:                       item.employee.bank ,\n        //                                             bankAccount:                item.employee.bankAccount,\n        //                                             employeeName:               item.employee.firstName +' '+   item.employee.lastName,\n        //                                             natureEmployee:             item.employee.natureEmployee,\n        //                                             payrollLiabilitie:          payrollLiabilitie,\n        //                                             paymentMethod:              item.employee.paymentMethod,\n        //                                             employee:                   item.employee,\n        //                                             overTimeHoliday:            tc.overTimeHoliday,\n        //                                             overTimeWeekend:            tc.overTimeWeekend,\n        //                                             overTimeNight:              tc.overTimeNight,\n        //                                             workDay:                    workDay || 0,\n        //                                             paidHours:                  tc.workTime,\n        //                                             totalWorkinghours:          tc.workTime,\n        //                                             benefit:                    item.benefit,\n        //                                             currency:                   tc.currency ? tc.currency: {},\n        //                                             totalBenefit:               parseFloat(totalBenefit) ,\n        //                                             location:                   item.location,\n        //                                             segment:                    item.segment,\n        //                                             salaryType:                 item.salaryType.name,\n        //                                             startingTime:               item.startingTime,\n        //                                             position:                   item.position,\n        //                                             natureContract:             item.natureContract,\n        //                                             earning:                    parseFloat(item.salary) + parseFloat(totalBenefit),\n        //                                             deduction:                  deduction,\n        //                                             netPay:                     netPay,\n        //                                         }\n        //                                     })\n        //                                     if(re.length >0){\n        //                                         timeCardList.push(re[0])\n        //                                     }\n        //                                 });\n        //                                 this.timeCardLine = timeCardList\n        //                             }else{\n        //                                 let result_record = this.recordList.filter(n =>n.applyOvertime == true);\n        //                                 let timesheet = []\n        //                                 result.forEach(function(tc) {\n        //                                     let time_employee_id = tc.employee.id;\n        //                                     let totalBenefit = 0;\n        //                                     let deduction = 0;\n        //                                     let netPay = 0;\n        //                                     let period = tc.period\n        //                                     // let totalHours = 0\n        //                                     const re =  result_record.filter(m => m.employee_id ===  time_employee_id).map(item =>{\n        //                                         item.benefit.forEach(function(b){\n        //                                             if(b.amount){\n        //                                                 totalBenefit += parseFloat(b.amount)\n        //                                             }\n        //                                         })\n        //                                         let overTimeNight = tc.overTimeNight * parseFloat(period.overtimeNight)\n        //                                         let overtimeHoursWeekend = tc.overtimeHoursWeekend * parseFloat(period.overtimeForWeekend)\n        //                                         let overtimeHoursHoliday = tc.overtimeHoursHoliday * parseFloat(period.overtimeForNationalHoliday)\n        //                                         let totalHours = tc.workingHours + overTimeNight + overtimeHoursWeekend + overtimeHoursHoliday\n        //                                         let workDay = tc.workingHours /parseFloat(tc.period.hourPerDay)\n        //                                         let totaloverTime = overTimeNight + overtimeHoursWeekend + overtimeHoursHoliday\n        //                                         let salary = parseFloat(item.salary)\n        //                                         let salaryAmount = 0\n        //                                         if(item.salaryType == \"Monthly\"){\n        //                                             let salaryHours = salary / (parseFloat(tc.period.hourPerDay) * parseFloat(tc.period.workingDay)) \n        //                                             salaryAmount = salary + (salaryHours * totaloverTime)\n        //                                         }else{\n        //                                             salaryAmount = salary * totalHours\n        //                                         }\n        //                                         return {\n        //                                             employeeUuid:       tc.employee.id,\n        //                                             salary:             salaryAmount,\n        //                                             employeeId:         tc.employee.employeeId,\n        //                                             employee:           tc.employee,\n        //                                             payrollLiabilitie:  tc.employee.payrollLiabilitie,\n        //                                             bank:               tc.employee.bank,\n        //                                             bankAccount:        tc.employee.bankAccount,\n        //                                             paymentMethod:      tc.employee.paymentMethod,\n        //                                             natureEmployee:     tc.employee.natureEmployee,\n        //                                             employeeName:       tc.employee.firstName +' '+   tc.employee.lastName,\n        //                                             overTimeHoliday:    tc.overtimeHoursHoliday,\n        //                                             overTimeWeekend:    tc.overtimeHoursWeekend,\n        //                                             overTimeNight:      tc.overTimeNight,\n        //                                             paidHours:          tc.workingHours,\n        //                                             workingHours:       tc.workingHours,\n        //                                             period:             tc.period,\n        //                                             workDay:            workDay || 0,\n        //                                             benefit:            item.benefit,\n        //                                             totalBenefit:       parseFloat(totalBenefit),\n        //                                             totalWorkinghours:  parseFloat(totalHours),\n        //                                             segment:            item.segment,\n        //                                             location:           item.location,\n        //                                             salaryType:         item.salaryType.name,\n        //                                             startingTime:       item.startingTime,\n        //                                             position:           item.position,\n        //                                             currency:           item.currency ? item.currency: {},\n        //                                             natureContract:     item.natureContract,\n        //                                             earning:            parseFloat(item.salary) + parseFloat(totalBenefit),\n        //                                             deduction:          deduction,\n        //                                             netPay:             netPay,\n        //                                         }\n        //                                     })\n        //                                     if(re.length > 0){\n        //                                         timesheet.push(re[0])\n        //                                     }\n        //                                 })\n        //                                 this.timeCardLine = timesheet\n        //                             }\n        //                         }else{\n        //                             this.timeCardLine = []\n        //                         }\n        //                     }\n        //                 })\n        //             }, 300);\n        //         })\n        //     }\n        // },\n        filterEmployee(){\n            if(this.natureInputSelected == \"Fixed\"){\n                let result = this.recordList.filter(n =>n.salaryType ==\"Monthly\" && n.applyOvertime == false);\n                let timeCardList = result.map(index =>{\n                    return {\n                        employeeUuid:               index.employee.id ? index.employee.id: '',\n                        salary:                     parseFloat(index.salary),\n                        employeeId:                 index.employeeId,\n                        bank:                       index.employee.bank ,\n                        bankAccount:                index.employee.bankAccount,\n                        employeeName:               index.employee.firstName +' '+ index.employee.lastName,\n                        natureEmployee:             index.employee.natureEmployee,\n                        payrollLiabilitie:          index.employee.payrollLiabilitie,\n                        paymentMethod:              index.employee.paymentMethod,\n                        employee:                   index.employee,\n                        overTimeHoliday:            0,\n                        overTimeWeekend:            0,\n                        overTimeNight:              0,\n                        workDay:                    0,\n                        workTime:                   0,\n                        benefit:                    index.benefit,\n                        totalBenefit:               0 ,\n                        currency:                   index.currency ? index.currency: {},\n                        location:                   index.location,\n                        segment:                    index.segment,\n                        salaryType:                 index.salaryType.name,\n                        startingTime:               index.startingTime,\n                        position:                   index.position,\n                        natureContract:             index.natureContract,\n                        earning:                    parseFloat(index.salary),\n                        paidHours:                  0,\n                        deduction:                  0,\n                        netPay:                     0,\n                    }\n                })\n                this.timeCardLine = timeCardList\n                this.showLoading = false;\n            }else{\n                let param =  {\n                    'monthOf':      kendo.toString( new Date(this.monthOf),'yyyy-MM-dd'),\n                    'selectTime':   this.natureInputSelected\n                }\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        payrollHandler.getTimeCard(param).then(res => {\n                            if(res.data.statusCode === 200){\n                                let result = res.data.data;\n                                if(result.length > 0){\n                                    if(result[0].timeCardLine.length > 0){\n                                        let result_timecard = result[0].timeCardLine;\n                                        let result_record = this.recordList.filter(n =>n.applyOvertime == true);\n                                        let timeCardList = [];\n                                        result_timecard.forEach(function(tc) {\n                                            let time_employeeId = tc.employeeId;\n                                            let totalBenefit = 0;\n                                            let deduction = 0;\n                                            let netPay = 0;\n                                            const re =  result_record.filter(m => m.employeeId ===  time_employeeId).map(item =>{\n                                                item.benefit.forEach(function(b){\n                                                    if(b.amount){\n                                                        totalBenefit += parseFloat(b.amount)\n                                                    }\n                                                }) \n                                                let payrollLiabilitie       =  item.employee.payrollLiabilitie\n                                                let period = result[0].period\n                                                let overTimeNight = tc.overTimeNight * parseFloat(period.overtimeNight)\n                                                let overTimeWeekend = tc.overTimeWeekend * parseFloat(period.overtimeForWeekend)\n                                                let overTimeHoliday = tc.overTimeHoliday * parseFloat(period.overtimeForNationalHoliday)\n                                                let totalHours = tc.workTime + overTimeNight + overTimeWeekend + overTimeHoliday\n                                                let totaloverTime = overTimeNight + overTimeWeekend + overTimeHoliday\n                                                let workDay = tc.workTime / parseFloat(period.hourPerDay)\n                                                let salaryAmount = 0\n                                                let salary = parseFloat(item.salary)\n                                                if(item.salaryType == \"Monthly\"){\n                                                    let salaryHours = salary / (parseFloat(period.hourPerDay) * parseFloat(period.workingDay)) \n                                                    salaryAmount = salary + (salaryHours * totaloverTime)\n                                                }else{\n                                                    salaryAmount = salary * totalHours\n                                                }\n                                                return {\n                                                    employeeUuid:               item.employee.id ? item.employee.id: '',\n                                                    salary:                     salaryAmount,\n                                                    employeeId:                 tc.employeeId,\n                                                    bank:                       item.employee.bank ,\n                                                    bankAccount:                item.employee.bankAccount,\n                                                    employeeName:               item.employee.firstName +' '+   item.employee.lastName,\n                                                    natureEmployee:             item.employee.natureEmployee,\n                                                    payrollLiabilitie:          payrollLiabilitie,\n                                                    paymentMethod:              item.employee.paymentMethod,\n                                                    employee:                   item.employee,\n                                                    overTimeHoliday:            tc.overTimeHoliday,\n                                                    overTimeWeekend:            tc.overTimeWeekend,\n                                                    overTimeNight:              tc.overTimeNight,\n                                                    workDay:                    workDay || 0,\n                                                    paidHours:                  tc.workTime,\n                                                    totalWorkinghours:          tc.workTime,\n                                                    benefit:                    item.benefit,\n                                                    currency:                   tc.currency ? tc.currency: {},\n                                                    totalBenefit:               parseFloat(totalBenefit) ,\n                                                    location:                   item.location,\n                                                    segment:                    item.segment,\n                                                    salaryType:                 item.salaryType.name,\n                                                    startingTime:               item.startingTime,\n                                                    position:                   item.position,\n                                                    natureContract:             item.natureContract,\n                                                    earning:                    parseFloat(item.salary) + parseFloat(totalBenefit),\n                                                    deduction:                  deduction,\n                                                    netPay:                     netPay,\n                                                }\n                                            })\n                                            if(re.length >0){\n                                                timeCardList.push(re[0])\n                                            }\n                                        });\n                                        this.timeCardLine = timeCardList\n                                        this.showLoading = false\n                                    }else{\n                                        let result_record = this.recordList.filter(n =>n.applyOvertime == true);\n                                        let timesheet = []\n                                        result.forEach(function(tc) {\n                                            let time_employee_id = tc.employee.id;\n                                            let totalBenefit = 0;\n                                            let deduction = 0;\n                                            let netPay = 0;\n                                            let period = tc.period\n                                            // let totalHours = 0\n                                            const re =  result_record.filter(m => m.employee_id ===  time_employee_id).map(item =>{\n                                                item.benefit.forEach(function(b){\n                                                    if(b.amount){\n                                                        totalBenefit += parseFloat(b.amount)\n                                                    }\n                                                })\n                                                let overTimeNight = tc.overTimeNight * parseFloat(period.overtimeNight)\n                                                let overtimeHoursWeekend = tc.overtimeHoursWeekend * parseFloat(period.overtimeForWeekend)\n                                                let overtimeHoursHoliday = tc.overtimeHoursHoliday * parseFloat(period.overtimeForNationalHoliday)\n                                                let totalHours = tc.workingHours + overTimeNight + overtimeHoursWeekend + overtimeHoursHoliday\n                                                let workDay = tc.workingHours /parseFloat(tc.period.hourPerDay)\n                                                let totaloverTime = overTimeNight + overtimeHoursWeekend + overtimeHoursHoliday\n                                                let salary = parseFloat(item.salary)\n                                                let salaryAmount = 0\n                                                if(item.salaryType == \"Monthly\"){\n                                                    let salaryHours = salary / (parseFloat(tc.period.hourPerDay) * parseFloat(tc.period.workingDay)) \n                                                    salaryAmount = salary + (salaryHours * totaloverTime)\n                                                }else{\n                                                    salaryAmount = salary * totalHours\n                                                }\n                                                return {\n                                                    employeeUuid:       tc.employee.id,\n                                                    salary:             salaryAmount,\n                                                    employeeId:         tc.employee.employeeId,\n                                                    employee:           tc.employee,\n                                                    payrollLiabilitie:  tc.employee.payrollLiabilitie,\n                                                    bank:               tc.employee.bank,\n                                                    bankAccount:        tc.employee.bankAccount,\n                                                    paymentMethod:      tc.employee.paymentMethod,\n                                                    natureEmployee:     tc.employee.natureEmployee,\n                                                    employeeName:       tc.employee.firstName +' '+   tc.employee.lastName,\n                                                    overTimeHoliday:    tc.overtimeHoursHoliday,\n                                                    overTimeWeekend:    tc.overtimeHoursWeekend,\n                                                    overTimeNight:      tc.overTimeNight,\n                                                    paidHours:          tc.workingHours,\n                                                    workingHours:       tc.workingHours,\n                                                    period:             tc.period,\n                                                    workDay:            workDay || 0,\n                                                    benefit:            item.benefit,\n                                                    totalBenefit:       parseFloat(totalBenefit),\n                                                    totalWorkinghours:  parseFloat(totalHours),\n                                                    segment:            item.segment,\n                                                    location:           item.location,\n                                                    salaryType:         item.salaryType.name,\n                                                    startingTime:       item.startingTime,\n                                                    position:           item.position,\n                                                    currency:           item.currency ? item.currency: {},\n                                                    natureContract:     item.natureContract,\n                                                    earning:            parseFloat(item.salary) + parseFloat(totalBenefit),\n                                                    deduction:          deduction,\n                                                    netPay:             netPay,\n                                                }\n                                            })\n                                            if(re.length > 0){\n                                                timesheet.push(re[0])\n                                            }\n                                        })\n                                        this.timeCardLine = timesheet\n                                        this.showLoading = false;\n                                    }\n                                }else{\n                                    this.timeCardLine = []\n                                    this.showLoading = false;\n                                }\n                            }\n                        })\n                    }, 300);\n                })\n            }\n        },\n        async search(){\n            let param ={\n                status:             1,\n                location_id:        this.locationSelected.id || \"\",\n                department_id:      this.department,\n                natureContract_id:  this.natureContract,\n                employeeGroup_id:   this.employeeGroup || ''\n            }\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    this.showLoading = true;\n                    employeeHandler.getRecord(param).then(res => {\n                        this.showLoading = true;\n                        if(res.data.statusCode === 200){\n                            this.recordList = res.data.data\n                            this.showLoading = true;\n                            this.filterEmployee()\n                        }\n                    })\n                }, 300);\n            })\n        },\n        saveNext(){\n            let ds = this.$refs.dataSourceTimeCard.kendoWidget()\n            let totalEmployee = 0;\n            ds.data().forEach(value => {\n                if(value){\n                    totalEmployee += 1\n                }\n            })\n            this.totalEmployee = totalEmployee\n            let dataSource = ds.data()\n            this.payrollList = dataSource.map(index=>{\n                return new PayrollList({\n                    applyOvertime:      index.applyOvertime,\n                    date:               this.date,\n                    benefit:            index.benefit ? index.benefit: [],\n                    employee:           index.employee,\n                    employeeId:         index.employeeId,\n                    employee_id:        index.employee_id,\n                    employeeUuid:       index.employeeUuid,\n                    employeeName:       index.employeeName,\n                    location:           index.location,\n                    natureRecord:       index.natureRecord,\n                    natureSalary:       index.natureSalary,\n                    overTime:           index.overTime,\n                    position:           index.position,\n                    salary:             index.salary,\n                    salary1:            index.salary,\n                    salaryType:         index.salaryType,\n                    totalBenefit:       index.totalBenefit,\n                    segment:            index.segment ? index.segment: [],\n                    startingTime:       index.startingTime,\n                    status:             index.status,\n                    workDay:            index.workDay,\n                    currency:           index.currency,\n                    period:             index.period,\n                    overTimeHoliday:    index.overTimeHoliday,\n                    overTimeWeekend:    index.overTimeWeekend,\n                    overTimeNight:      index.overTimeNight,\n                    workingHours:       index.workingHours,\n                    totalWorkinghours:  index.totalWorkinghours,\n                    paidHours:          index.paidHours,\n                    paymentMethod:      index.paymentMethod,\n                    payrollLiabilitie:  index.payrollLiabilitie,\n                    natureContract:     index.natureContract        \n                })\n            })\n            if(this.payrollList.length > 0 && this.baseCurrency && this.exchangeRate.rate){\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        let data = new PayrollRun({\n                            id:                   this.$route.params.id,\n                            location:             this.locationSelected,\n                            monthOf:              kendo.toString(new Date(this.monthOf),'yyyy-MM-dd'),\n                            sequcencing:          parseInt(kendo.toString(new Date(this.monthOf),'yyyy')),\n                            totalEmployee:        this.totalEmployee,\n                            currency:             this.baseCurrency,\n                            exchangeRate:         this.exchangeRate,\n                            date:                 kendo.toString(new Date(this.date),'yyyy-MM-dd'),\n                            payNumber:            this.payNumber,\n                            number:               this.number,\n                            created:              kendo.toString(new Date(),'yyyy-MM-dd'),\n                            lastNumber:           this.lastNumber,\n                            abbr:                 this.payNumber.abbr,\n                            type:                 'payroll',\n                            natureInput:          this.natureInputSelected,\n                            referenceNumber:      this.payNumber.abbr+this.payNumber.numberSeparator + this.number,\n                            payrollList:          this.payrollList,\n                            step:                 2,      \n                            department:           this.department,\n                            natureContract:       this.natureContract,\n                            employeeGroup:        this.employeeGroup,\n                            loggedUser:           this.loggedUser, \n                        });\n                        this.showLoading = true\n                        payrollHandler.createPayroll(data).then(response => {\n                            this.showLoading = true\n                            if (response.data.statusCode === 201) {\n                                this.$snotify.success('Success')\n                                this.loadSuccess(response.data.statusCode)\n                                this.close()\n                            }\n                        }).catch(e => {\n                            this.$snotify.error('Something went wrong')\n                            this.errors.push(e)\n                        })\n                    }, 300);\n                })\n            }else{\n                if(!this.exchangeRate.rate){\n                    this.$snotify.error('Exchange rate not found! please check again')\n                }\n                if(this.payrollList.length == 0){\n                    this.$snotify.error('Data not found please check again')\n                }\n            }\n        },\n        loadSuccess(data){\n            this.$emit('headline',data)\n        },\n        async loadPayrollList(){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    this.showLoading = true;\n                    payrollHandler.getPayroll(this.$route.params.id).then(res => {\n                        this.showLoading = true;\n                        if(res.data.statusCode === 200){\n                            window.console.log('Rannnnn', res)\n                            const resultPay = res.data.data\n                            if(resultPay.length > 0){                            \n                                this.result = resultPay[0]\n                                this.loadPayrollItem(this.result)\n                                // this.date = resultPay.date\n                                if(this.result.monthOf !== ''){\n                                    this.monthOf = kendo.toString(new Date(this.result.monthOf), \"yyyy-MM\")\n                                    this.generateNumber()\n                                }\n                                this.locationSelected = this.result.location\n                                this.employeeGroup = this.result.employeeGroup\n                                if(this.employeeGroup !== \"\"){\n                                    this.disabledL = true\n                                }\n                            }\n                            this.showLoading = false;\n                        }\n                    })\n                }, 300);\n            })\n        },\n        loadPayrollItem(result){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.employee = []\n                    payrollHandler.getPayrollItem(result.id).then(res => {\n                        this.showLoading = true\n                        if (res.data.statusCode === 200) {\n                            let resutl_item = res.data.data\n                            this.timeCardLine = resutl_item\n                            this.showLoading = false\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 300)\n            })\n        },\n        loadPrefixes() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    settingsHandler.getPrefixes().then(res => {\n                        if (res.data.statusCode === 200) {\n                            let result = res.data.data\n                            this.prefixList = result.filter(p => p.type =='payroll')\n                            this.prefix = this.prefixList[0]\n                            this.payNumber = this.prefix\n                        }\n                    })\n                }, 300)\n            })\n        },\n        generateNumber() {\n            let resultNumber = this.result\n            if(resultNumber.number){\n                this.number     = resultNumber.number\n                this.lastNumber = resultNumber.lastNumber\n                this.payNumber  = resultNumber.payNumber\n            }else{\n                let montOf_format = kendo.toString(new Date(this.monthOf),'yyyy-MM-dd');\n                if(montOf_format == \"\"){\n                    let month_year = kendo.toString(new Date(),'yyyy-MM-dd')\n                    montOf_format = month_year.setDate(1)\n                }\n                let sequcencing = ''\n                if(this.payNumber.sequcencing ==\"Year\"){\n                    sequcencing = new Date(montOf_format).toISOString().substr(0, 4)\n                }else if(this.payNumber.sequcencing ==\"Month\"){\n                    sequcencing = new Date(montOf_format).toISOString().substr(0, 7)\n                }else{\n                    sequcencing = ''\n                }\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        let data = {\n                            abbr:           this.payNumber.abbr,\n                            structure:      this.payNumber.structure,\n                            date:           montOf_format,\n                            type:           'payroll',\n                            pkId:           'par-',\n                            sequcencing:    sequcencing\n                        }\n                        window\n                        payrollHandler.getPrefixNumber(data).then(res => {\n                            this.showLoading = true;\n                            if(res.data.statusCode === 200){\n                                const result = res.data.data\n                                const lastNumber = this.zeroPad(parseInt(result.lastNumber), this.payNumber.format)\n                                const number = result.suffix + this.payNumber.numberSeparator + lastNumber\n                                this.number = number\n                                this.lastNumber = lastNumber\n                                this.showLoading = false;\n                            }\n                        })\n                    }, 300);\n                })\n            }\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, '0')\n        },\n        downloadTimeCard(){\n            axios.get('https://s3.ap-southeast-1.amazonaws.com/images.banhji/files/Timecard.xlsx', {\n            // If you forget this, your download will be corrupt.\n                responseType: 'blob'\n            }).then((response) => {\n                const link = document.createElement('a');\n                link.href = window.URL.createObjectURL(\n                    new Blob([response.data])\n                );\n                link.setAttribute('download', 'Timecard.xlsx');\n                document.body.appendChild(link);\n                link.click();\n            }); \n        },\n        async loadBaseCurrency() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    instituteHandler.getOneCompany(cookie.instituteId).then(res => {\n                        this.baseCurrency = res.baseCurrency\n                    })\n                    resolve('resolved');\n                }, 200);\n            });\n        },\n        async loadLastExchangeRate(){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    let getDate = new Date()\n                    let date_tax_payroll = new Date(getDate.getFullYear(), getDate.getMonth(), 15);\n                    let date = kendo.toString(new Date(date_tax_payroll),'yyyy-MM-dd')\n                    window.console.log(date)\n                    let code = 'KHR'\n                    if (code !== undefined || code !== '') {\n                        this.showLoading = true\n                        currencyHandler.getLastExchangeRateTaxByDate(date, code).then(res => {\n                            if (res.data.statusCode === 200) {\n                                window.console.log(1,res.data)\n                                this.showLoading = false\n                                this.exchangeRate = res.data.data[0]\n                            }\n                        })\n                    }\n\n                }, 300)\n            })\n        },\n        async loadCurrencyData(type) {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.showLoading = true\n                    currencyHandler.list(type).then(response => {\n                        if (response.data.statusCode === 200) {\n                            if (type === currencyType.FUNCTIONAL_CURRENCY) {\n                                this.funcCurrencyList = response.data.data\n                            } else if (type === currencyType.TRANSACTION_CURRENCY) {\n                                this.currencyList = response.data.data\n                            }\n                            this.showLoading = false\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 300)\n            })\n        },\n        goBack(){\n            let payroll_id = this.$route.params.id\n            if(payroll_id && this.result.step == 1){\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved')\n                        this.showLoading = true\n                        payrollHandler.deleteTransactions(payroll_id).then(response => {\n                            if (response.statusCode === 200) {\n                                this.loadPayrollList()\n                                this.showLoading = false\n                                window.history.go(-1)\n                            }\n                        })\n                    },300)\n                })\n            }else{\n                window.history.go(-1)\n            }\n        },\n        async loadPeriod(){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    payrollHandler.getPeriiod().then(res => {\n                        this.period = res[0]\n                    })\n                }, 300);\n            })\n        },\n        locationChange(){\n            let location = this.locationSelected\n            window.console.log('location',location)\n            if(location !== null){\n                this.disabledG = true\n                this.loading = true\n                this.disabled = false\n                window.console.log(1, location)\n                this.loadDepartment(location.id)\n            }else{\n                this.department = \"\"\n                this.natureContract = \"\"\n                this.disabledG = false\n                this.disabled = true\n                this.loading = false \n                \n\n                window.console.log(2, location)\n            }\n        },\n        async loadDepartment(location_id){\n            let param = {\n                location_id: location_id\n            }\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    payrollHandler.getDepartment(param).then(res => {\n                        this.departments = res\n                        if(this.departments.length > 0){\n                            this.loading = false\n                        }\n                    })\n                }, 300);\n            })\n        },\n        async loadGroup(){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    payrollHandler.getGroup().then(res => {\n                        this.employeeGroups = res.data\n                    })\n                }, 300);\n            })\n        },\n        employeeGroupChange (){\n            if(this.employeeGroup){\n                this.disabledL = true\n            }else{\n                this.disabledL = false\n            }\n        }\n    },\n    async mounted() {\n        await this.loadPeriod()\n        await this.loadPayrollList()\n        await this.loadEmployee()\n        await this.loadLocation()\n        await this.loadSegment()\n        // await this.loadRecord()\n        await this.loadPrefixes()\n        await this.loadBaseCurrency()\n        await this.loadLastExchangeRate()\n        await this.loadGroup()\n        await this.loadCurrencyData(currencyType.TRANSACTION_CURRENCY)\n    },\n    watch: {\n        propInput(){\n            if (this.propInput !== undefined) {\n                this.loadPayrollList()\n                this.loadLastExchangeRate()\n            }\n        }\n    },\n}\n</script>\n<style scoped>\n    .grayBg{\n        background-color: #F8F8F9;\n    }\n    .my_table_darkv .theme--light.v-data-table > .v-data-table__wrapper > table > thead > tr > th {\n        color: rgba(0, 0, 0, 0.6);\n        background: #222a35;\n        color: #fff !important;\n    }"],"sourceRoot":"src/views/payroll/payroll_run"}]}