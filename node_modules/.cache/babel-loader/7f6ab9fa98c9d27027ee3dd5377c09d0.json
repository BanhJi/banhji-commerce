{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products_services/product/inventory_adjustment/InventoryAdjustment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products_services/product/inventory_adjustment/InventoryAdjustment.vue","mtime":1643182494384},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5wYWQtc3RhcnQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLyBpbXBvcnQga2VuZG8gZnJvbSAnQHByb2dyZXNzL2tlbmRvLXVpJwppbXBvcnQgeyBpMThuIH0gZnJvbSAiQC9pMThuIjsKaW1wb3J0IEludmVudG9yeUFkanVzdG1lbnQgZnJvbSAiQC9zY3JpcHRzL21vZGVsL2ludmVudG9yeUFkanVzdG1lbnQiOwppbXBvcnQgeyBTaG93UmVzb3VyY2UgfSBmcm9tICJAL29ic2VydmFibGUvc3RvcmUiOwppbXBvcnQgeyB1dWlkIH0gZnJvbSAidnVlLXV1aWQiOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKaW1wb3J0IFNhbGVGb3JtQ29udGVudE1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9TYWxlRm9ybUNvbnRlbnQiOwppbXBvcnQgSXRlbUxpbmVNb2RlbCBmcm9tICJAL3NjcmlwdHMvaW52ZW50b3J5LWFkanVzdG1lbnQvbW9kZWwvSXRlbUxpbmUiOyAvLyBpbXBvcnQgeyBEcm9wRG93bkxpc3QgfSBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdnVlLWRyb3Bkb3ducyI7Cgp2YXIgYWNjb3VudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaGFuZGxlci9hY2NvdW50aW5nL2FjY291bnQiKTsKCnZhciBiaWxsaW5nSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9pbnZvaWNlL2hhbmRsZXIvYmlsbGluZ0hhbmRsZXIiKTsKCnZhciBwcmVmaXhIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3ByZWZpeEhhbmRsZXIiKTsKCnZhciB3YXJlaG91c2VIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3dhcmVob3VzZUhhbmRsZXIiKTsKCnZhciBzZXR0aW5nc0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2V0dGluZ3NIYW5kbGVyIik7Cgp2YXIgbG9jYXRpb25IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2xvY2F0aW9uSGFuZGxlciIpOwoKdmFyIHByb2plY3RIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3Byb2plY3RIYW5kbGVyIik7Cgp2YXIgcHJvZHVjdFZhcmlhbnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3Byb2R1Y3RWYXJpYW50SGFuZGxlciIpOwoKdmFyIHNhbGVGb3JtQ29udGVudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2FsZUZvcm1Db250ZW50SGFuZGxlciIpOwoKdmFyIHNhbGVGb3JtQ29udGVudE1vZGVsID0gbmV3IFNhbGVGb3JtQ29udGVudE1vZGVsKHt9KTsKCnZhciBjdXJyZW5jeUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY3VycmVuY3kvaGFuZGxlci9jdXJyZW5jeUhhbmRsZXIiKTsKCnZhciBpdGVtTGluZU1vZGVsID0gbmV3IEl0ZW1MaW5lTW9kZWwoe30pOwp2YXIgcHJlZml4ID0gImludmVudG9yeSBhZGp1c3RtZW50IjsKdmFyIHR4blR5cGUgPSAiSW52ZW50b3J5IEFkanVzdG1lbnQiOwp2YXIgaXRlbUxpbmVQcmVmaXggPSAibGluLSI7CnZhciAkID0ga2VuZG8ualF1ZXJ5OwoKdmFyIGNvb2tpZUpTID0gcmVxdWlyZSgiQC9jb29raWUuanMiKTsKCnZhciBjb29raWUgPSBjb29raWVKUy5nZXRDb29raWUoKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJJbnZlbnRvcnlBZGp1c3RtZW50IiwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nTWU6IGZ1bmN0aW9uIExvYWRpbmdNZSgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL0xvYWRpbmciKTsKICAgIH0sCiAgICAiYXBwLWRhdGVwaWNrZXIiOiBmdW5jdGlvbiBhcHBEYXRlcGlja2VyKCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9EYXRlUGlja2VyQ29tcG9uZW50Iik7CiAgICB9LAogICAgImFwcC1tb250aHBpY2tlciI6IGZ1bmN0aW9uIGFwcE1vbnRocGlja2VyKCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMva2VuZG9fdGVtcGxhdGVzL01vbnRoT2ZQaWNrZXIiKTsKICAgIH0gLy8gZHJvcGRvd25saXN0OiBEcm9wRG93bkxpc3QsCgogIH0sCiAgcHJvcHM6IFsiaWQiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgLy8gTG9hZGluZ01lCiAgICAgIHNob3dMb2FkaW5nOiB0cnVlLAogICAgICBhbGVydDogZmFsc2UsCiAgICAgIHZhbGlkOiB0cnVlLAogICAgICB0ZW1wbGF0ZXM6IFt7CiAgICAgICAgdGl0bGU6ICJEcmFmdCIKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAiT3BlbiIKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAiUGFydGlhbGx5IENsb3NlZCIKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAiQ2xvc2VkIgogICAgICB9XSwKICAgICAgaXNIaWRlQmFyOiBmYWxzZSwKICAgICAgYWNjb3VudHM6IFtdLAogICAgICBzZWdtZW50czogW10sCiAgICAgIGxvY2F0aW9uczogW10sCiAgICAgIHByb2plY3RzOiBbXSwKICAgICAgd2FyZWhvdXNlczogW10sCiAgICAgIGJ1b206IFtdLAogICAgICBpdGVtTGluZXM6IFtdLAogICAgICBiYXNlQ3VycmVuY3k6IHt9LAogICAgICBleGNoYW5nZVJhdGU6IHt9LAogICAgICBzYWxlRm9ybUNvbnRlbnQ6IHNhbGVGb3JtQ29udGVudE1vZGVsLAogICAgICBpbnZlbnRvcnlBZGp1c3RtZW50OiBuZXcgSW52ZW50b3J5QWRqdXN0bWVudCh7fSksCiAgICAgIGl0ZW1MaW5lOiBpdGVtTGluZU1vZGVsLAogICAgICB0cmFuc2FjdGlvbkRhdGU6ICIiLAogICAgICBqUmF3OiBbXSwKICAgICAgZHI6IDAsCiAgICAgIGNyOiAwLAogICAgICBsb2dnZWRVc2VyOiB7CiAgICAgICAgaWQ6IGNvb2tpZS5jcmVhdG9yLAogICAgICAgIG5hbWU6IGNvb2tpZS5lbWFpbAogICAgICB9LAogICAgICBzdG9ja0NvdW50czogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBudW1iZXJGb3JtYXQ6IGZ1bmN0aW9uIG51bWJlckZvcm1hdCh2YWx1ZSkgewogICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcodmFsdWUsICJuIi5jb25jYXQodGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbCkpOwogICAgfSwKICAgIG9uVHJhbnNhY3Rpb25EYXRlQ2hhbmdlZDogZnVuY3Rpb24gb25UcmFuc2FjdGlvbkRhdGVDaGFuZ2VkKCkgewogICAgICAvLyB0aGlzLnJlc2V0RGF0YVdoZW5UeG5EYXRlQ2hhbmdlZCgpCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuZ2VuZXJhdGVOdW1iZXIoKTsKICAgICAgfQoKICAgICAgdGhpcy5pbnZlbnRvcnlBZGp1c3RtZW50Lm1vbnRoT2YgPSBuZXcgRGF0ZSh0aGlzLmludmVudG9yeUFkanVzdG1lbnQudHJhbnNhY3Rpb25EYXRlKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCA3KTsKICAgIH0sCiAgICBpbml0RGF0YTogZnVuY3Rpb24gaW5pdERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT09IHVuZGVmaW5lZCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmxvYWRWaWV3QWRqdXN0bWVudCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpcy5hZGRSb3coKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRTYWxlRm9ybUNvbnRlbnQ6IGZ1bmN0aW9uIGxvYWRTYWxlRm9ybUNvbnRlbnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgc2FsZUZvcm1Db250ZW50SGFuZGxlci5saXN0KCkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGRhdGEubGVuZ3RoID4gMCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zYWxlRm9ybUNvbnRlbnQgPSBkYXRhWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5iYXNlQ3VycmVuY3kgPSBkYXRhWzBdLmJhc2VDdXJyZW5jeTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaW52ZW50b3J5QWRqdXN0bWVudC5jdXJyZW5jeSA9IF90aGlzMi5iYXNlQ3VycmVuY3k7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuaW5pdERhdGEoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIubG9hZFRyYW5zYWN0aW9uUmF0ZSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0oKSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkVHJhbnNhY3Rpb25SYXRlOiBmdW5jdGlvbiBsb2FkVHJhbnNhY3Rpb25SYXRlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoX3RoaXMzLmludmVudG9yeUFkanVzdG1lbnQudHJhbnNhY3Rpb25EYXRlKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbmN5ID0gX3RoaXMzLmJhc2VDdXJyZW5jeTsKICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9ICIiOwoKICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVuY3kuaGFzT3duUHJvcGVydHkoImNvZGUiKSkgewogICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGN1cnJlbmN5LmNvZGU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPT0gdW5kZWZpbmVkIHx8IGNvZGUgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lIYW5kbGVyLmdldExhc3RFeGNoYW5nZVJhdGVCeURhdGUoZGF0ZSwgY29kZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuZXhjaGFuZ2VSYXRlID0gcmVzLmRhdGEuZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuaW52ZW50b3J5QWRqdXN0bWVudC50eG5SYXRlID0gX3RoaXMzLmV4Y2hhbmdlUmF0ZS5yYXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5pbnZlbnRvcnlBZGp1c3RtZW50LmV4Y2hhbmdlUmF0ZSA9IF90aGlzMy5leGNoYW5nZVJhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGl0ZW1UZW1wbGF0ZTogZnVuY3Rpb24gaXRlbVRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHZhciBpdGVtID0gZGF0YUl0ZW0uaXRlbTsKCiAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChpdGVtLm5hbWUgPyBpdGVtLm5hbWUgOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBJdGVtRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIEl0ZW1Ecm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogImNvbnRhaW5zIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgaGVhZGVyVGVtcGxhdGU6ICc8ZGl2IGNsYXNzPSJkcm9wZG93bi1oZWFkZXIgay13aWRnZXQgay1oZWFkZXIiPicgKyAiPHNwYW4+SXRlbXMgPC9zcGFuPiIgKyAiPHNwYW4+PC9zcGFuPiIgKyAiPC9kaXY+IiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bmFtZSM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIHNlcnZlckZpbHRlcmluZzogdHJ1ZSwKICAgICAgICAgIHRyYW5zcG9ydDogewogICAgICAgICAgICByZWFkOiB7CiAgICAgICAgICAgICAgdXJsOiBwcm9kdWN0VmFyaWFudEhhbmRsZXIuaXRlbVZhcmlhbnRTZWFyY2hVUkwoKQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhVHlwZTogImpzb24iCiAgICAgICAgICB9LAogICAgICAgICAgc2NoZW1hOiB7CiAgICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgICAgaWQ6ICJpZCIsCiAgICAgICAgICAgICAgZmllbGRzOiB7CiAgICAgICAgICAgICAgICBpZDogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBza3U6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG90YWw6IGZ1bmN0aW9uIHRvdGFsKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBxb2hUZW1wbGF0ZTogZnVuY3Rpb24gcW9oVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgLy8gY29uc3QgYnVvbSA9IGRhdGFJdGVtLmJ1b20gfHwge30KICAgICAgdmFyIHFvaCA9IGRhdGFJdGVtLnFvaCB8fCAwOyAvLyBpZiAoYnVvbS5oYXNPd25Qcm9wZXJ0eSgnbmFtZScpKSB7CgogICAgICByZXR1cm4gcW9oOyAvLyB9CiAgICAgIC8vIHJldHVybiBgYAogICAgfSwKICAgIFVPTVRlbXBsYXRlOiBmdW5jdGlvbiBVT01UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgdW9tID0gZGF0YUl0ZW0uYnVvbTsKCiAgICAgIGlmICh1b20pIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KHVvbS5uYW1lID8gdW9tLm5hbWUgOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBudW1iZXJFZGl0b3I6IGZ1bmN0aW9uIG51bWJlckVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgZGF0YS1iaW5kPSJ2YWx1ZTonICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvTnVtZXJpY1RleHRCb3goewogICAgICAgIGRlY2ltYWxzOiAzMCwKICAgICAgICBtaW46IDAsCiAgICAgICAgZm9ybWF0OiAiIi5jb25jYXQodGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbCkKICAgICAgfSk7CiAgICB9LAogICAgcm93TnVtYmVyVG1wbDogZnVuY3Rpb24gcm93TnVtYmVyVG1wbChkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgYWRkUm93OiBmdW5jdGlvbiBhZGRSb3coKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgdG90YWwgPSBkcy50b3RhbCgpOwogICAgICB0aGlzLml0ZW1MaW5lLmlkID0gaXRlbUxpbmVQcmVmaXggKyB1dWlkLnYxKCk7CiAgICAgIHRoaXMuaXRlbUxpbmUuZGVjaW1hbEZvcm1hdCA9ICJuIiArIHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWw7CiAgICAgIGRzLmluc2VydCh0b3RhbCwgdGhpcy5pdGVtTGluZSk7CiAgICB9LAogICAgZGF0YVNvdXJjZUNoYW5nZWQ6IGZ1bmN0aW9uIGRhdGFTb3VyY2VDaGFuZ2VkKGUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgZGF0YVJvdywgaXRlbVR5cGUsIGJ1b20sIGNvdW50LCBkaWZmLCBxb2g7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghZS5maWVsZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhUm93ID0gZS5pdGVtc1swXSwgaXRlbVR5cGUgPSAnJywgYnVvbSA9IHt9LCBjb3VudCA9IDAsIGRpZmYgPSAwLCBxb2ggPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQwID0gZS5maWVsZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gX2NvbnRleHQ1LnQwID09PSAiaXRlbSIgPyA1IDogX2NvbnRleHQ1LnQwID09PSAiY291bnQiID8gMTIgOiBfY29udGV4dDUudDAgPT09ICJjb3N0IiA/IDE0IDogMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImRlc2NyaXB0aW9uIiwgZGF0YVJvdy5pdGVtLmRlc2NyaXB0aW9uKTsKICAgICAgICAgICAgICAgIGJ1b20gPSBkYXRhUm93Lml0ZW0udW9tOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImJ1b20iLCBidW9tKTsKICAgICAgICAgICAgICAgIGl0ZW1UeXBlID0gZGF0YVJvdy5pdGVtLnR5cGUgfHwgJyc7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5zZWFyY2hUcmFuc2FjdGlvbihkYXRhUm93LCBkYXRhUm93Lml0ZW0uaWQsIGl0ZW1UeXBlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJicmVhayIsIDE3KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIGNvdW50ID0gcGFyc2VGbG9hdChkYXRhUm93LmNvdW50IHx8IDApOwogICAgICAgICAgICAgICAgICBxb2ggPSBwYXJzZUZsb2F0KGRhdGFSb3cucW9oIHx8IDApOwogICAgICAgICAgICAgICAgICBkaWZmID0gY291bnQgLSBxb2g7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJkaWZmZXJlbnQiLCBwYXJzZUZsb2F0KGRpZmYpKTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIHBhcnNlRmxvYXQoZGF0YVJvdy5jb3N0KSAqIHBhcnNlRmxvYXQoZGlmZikpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoX3VudXNlZCkgewogICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZGlmZmVyZW50IiwgMCk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCAwKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgiYnJlYWsiLCAxNyk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICBkaWZmID0gcGFyc2VGbG9hdChkYXRhUm93LmRpZmZlcmVudCB8fCAwKTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIHBhcnNlRmxvYXQoZGF0YVJvdy5jb3N0KSAqIHBhcnNlRmxvYXQoZGlmZikpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoX3VudXNlZDIpIHsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIDApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJicmVhayIsIDE3KTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJicmVhayIsIDE3KTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5hdXRvQ2FsY3VsYXRlKCk7IC8vIHRoaXMucmF3Rm9ySm91cm5hbCgpCgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYXV0b0NhbGN1bGF0ZTogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgdmFyIG5hdHVyZSA9ICIiLAogICAgICAgICAgYW1vdW50ID0gMCwKICAgICAgICAgIHF0eSA9IDA7CiAgICAgIHRoaXMualJhdyA9IFtdOwogICAgICB2YXIgcm93cyA9IGRzLmRhdGEoKTsKICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHZhciBhbXQgPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCk7CiAgICAgICAgdmFyIGRpZmYgPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmRpZmZlcmVudCk7CiAgICAgICAgYW1vdW50ICs9IGFtdDsKICAgICAgICBxdHkgKz0gZGlmZjsKICAgICAgICB2YXIgaXRlbSA9IHZhbHVlLml0ZW07CgogICAgICAgIGlmIChhbXQgPiAwKSB7CiAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgIH0KCiAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICJWYXJpYW50IikgewogICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgiaW52ZW50b3J5QWNjIikpIHsKICAgICAgICAgICAgICBpZiAoaXRlbS5pbnZlbnRvcnlBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgIHZhciBpbnZlbnRvcnlBY2MgPSBpdGVtLmludmVudG9yeUFjYzsKCiAgICAgICAgICAgICAgICBfdGhpczUualJhdy5wdXNoKHsKICAgICAgICAgICAgICAgICAgaWQ6IGludmVudG9yeUFjYy5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwodmFsdWUpLAogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogaXRlbS5kZXNjcmlwdGlvbiB8fCAiIiwKICAgICAgICAgICAgICAgICAgYWNjb3VudDogaXRlbS5pbnZlbnRvcnlBY2MsCiAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogaXRlbS5pbnZlbnRvcnlBY2MuaWQsCiAgICAgICAgICAgICAgICAgIGFtb3VudDogYW10LAogICAgICAgICAgICAgICAgICAvLyBxdHkqYXZnX2Nvc3QgLAogICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogYW10LAogICAgICAgICAgICAgICAgICAvL3hBbW91bnQsCiAgICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgICAgdHlwZUFzOiAiaXRlbSIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuaW52ZW50b3J5QWRqdXN0bWVudC5hbW91bnQgPSBhbW91bnQ7CiAgICAgIHRoaXMuaW52ZW50b3J5QWRqdXN0bWVudC5leGNoYW5nZUFtb3VudCA9IGFtb3VudDsKICAgICAgdGhpcy5pbnZlbnRvcnlBZGp1c3RtZW50LnF0eSA9IHF0eTsgLy8gYWRqdXN0bWVudCBhY2NvdW50CgogICAgICBpZiAodGhpcy5pbnZlbnRvcnlBZGp1c3RtZW50LmFjY291bnQpIHsKICAgICAgICB2YXIgYWRqdXN0QWNjID0gdGhpcy5pbnZlbnRvcnlBZGp1c3RtZW50LmFjY291bnQ7CgogICAgICAgIGlmIChhbW91bnQgKiAtMSA+IDApIHsKICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmpSYXcucHVzaCh7CiAgICAgICAgICBpZDogYWRqdXN0QWNjLmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwoe30pLAogICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuaW52ZW50b3J5QWRqdXN0bWVudC5qb3VybmFsTm90ZSwKICAgICAgICAgIGFjY291bnQ6IGFkanVzdEFjYywKICAgICAgICAgIGFjY291bnRJZDogYWRqdXN0QWNjLmlkLAogICAgICAgICAgYW1vdW50OiBhbW91bnQgKiAtMSwKICAgICAgICAgIC8vIHF0eSphdmdfY29zdCAsCiAgICAgICAgICBleGNoYW5nZUFtb3VudDogYW1vdW50ICogLTEsCiAgICAgICAgICAvL3hBbW91bnQsCiAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICB0eXBlQXM6ICJhZGp1c3RtZW50IGFjYyIKICAgICAgICB9KTsKICAgICAgfSAvLyB0b2RvOiByYXcgSm91cm5hbAogICAgICAvLyBjb25zdCBhY2NvdW50ID0gdGhpcy5pbnZlbnRvcnlBZGp1c3RtZW50LmFjY291bnQgfHwge30KICAgICAgLy8gaWYgKHRoaXMuaW52ZW50b3J5QWRqdXN0bWVudC5hbW91bnREdWUgPiAwKSB7CiAgICAgIC8vICAgbmF0dXJlID0gJ2RyJwogICAgICAvLyB9IGVsc2UgewogICAgICAvLyAgIG5hdHVyZSA9ICdjcicKICAgICAgLy8gfQogICAgICAvLyBpZiAoYWNjb3VudCkgewogICAgICAvLyAgIGlmIChhY2NvdW50Lmhhc093blByb3BlcnR5KCdpZCcpKSB7CiAgICAgIC8vICAgICB0aGlzLmpSYXcucHVzaCh7CiAgICAgIC8vICAgICAgIGlkOiBhY2NvdW50LmlkICsgJy0nICsgbmF0dXJlLAogICAgICAvLyAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh7fSksCiAgICAgIC8vICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmludm9pY2Uuam91cm5hbE5vdGUsCiAgICAgIC8vICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgIC8vICAgICAgIGFjY291bnRJZDogYWNjb3VudC5pZCwKICAgICAgLy8gICAgICAgZXhjaGFuZ2VBbW91bnQ6IHRoaXMuaW52ZW50b3J5QWRqdXN0bWVudC5leGNoYW5nZUFtb3VudCwKICAgICAgLy8gICAgICAgYW1vdW50OiB0aGlzLmludm9pY2UuYW1vdW50RHVlLAogICAgICAvLyAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgIC8vICAgICAgIHR5cGVBczogJ2FyJwogICAgICAvLyAgICAgfSkKICAgICAgLy8gICB9CiAgICAgIC8vIH0KICAgICAgLy8gdG9kbzogZW5kIHJhdyBKb3VybmFsCgoKICAgICAgdGhpcy5zaHJpbmtEYXRhKHRoaXMualJhdyk7IC8vIGNvbnN0IHVuaXF1ZSA9IHRoaXMucmVtb3ZlRHVwbGljYXRlKHRoaXMuYWNjb3VudHMpCiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyh1bmlxdWUsICd1bmlxdWUnKQogICAgfSwKICAgIHJlbW92ZUR1cGxpY2F0ZTogZnVuY3Rpb24gcmVtb3ZlRHVwbGljYXRlKGFycmF5KSB7CiAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgdmFyIG1hcCA9IG5ldyBNYXAoKTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhcnJheSksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgaWYgKCFtYXAuaGFzKGl0ZW0uaWQpKSB7CiAgICAgICAgICAgIG1hcC5zZXQoaXRlbS5pZCwgdHJ1ZSk7IC8vIHNldCBhbnkgdmFsdWUgdG8gTWFwCgogICAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBzaHJpbmtEYXRhOiBmdW5jdGlvbiBzaHJpbmtEYXRhKG9iaikgewogICAgICB2YXIgdW5pcXVlcyA9IHRoaXMucmVtb3ZlRHVwbGljYXRlKG9iaik7CiAgICAgIC8qWy4uLm5ldyBTZXQoYWNjb3VudElkLm1hcChpID0+IHsKICAgICAgcmV0dXJuIHsKICAgICAgaWRfOiBpLmlkXywKICAgICAgaWQ6IGkuaWQsCiAgICAgIHR5cGU6IGkudHlwZQogICAgICB9CiAgICAgIH0pKV0qLwoKICAgICAgdW5pcXVlcy5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgdmFyIGZvdW5kID0gb2JqLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgcmV0dXJuIG0uaWQgPT09IG4uaWQ7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGFtb3VudCA9IDAsCiAgICAgICAgICAgIHhBbW91bnQgPSAwOwogICAgICAgIGZvdW5kLmZvckVhY2goZnVuY3Rpb24gKHopIHsKICAgICAgICAgIGFtb3VudCArPSBwYXJzZUZsb2F0KHouYW1vdW50IHx8IDApOwogICAgICAgICAgeEFtb3VudCArPSBwYXJzZUZsb2F0KHouZXhjaGFuZ2VBbW91bnQgfHwgMCk7CiAgICAgICAgfSk7CiAgICAgICAgbi5hbW91bnQgPSBwYXJzZUZsb2F0KGFtb3VudCk7IC8vdGhpcy5udW1iZXJGb3JtYXQoYW1vdW50KQoKICAgICAgICBuLmV4Y2hhbmdlQW1vdW50ID0gcGFyc2VGbG9hdCh4QW1vdW50KTsgLy9wYXJzZUZsb2F0KHBhcnNlRmxvYXQoYW1vdW50ICogcGFyc2VGbG9hdCh0aGlzLmludm9pY2UudHhuUmF0ZSkpKSAvL3RoaXMubnVtYmVyRm9ybWF0KGFtb3VudCAqIHBhcnNlRmxvYXQodGhpcy5pbnZvaWNlLnR4blJhdGUpKSAvLy50b0ZpeGVkKHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwpCiAgICAgIH0pOwogICAgICB0aGlzLmpSYXcgPSB1bmlxdWVzOwogICAgICB2YXIgZHIgPSAwLAogICAgICAgICAgY3IgPSAwOwogICAgICB0aGlzLmpSYXcuZm9yRWFjaChmdW5jdGlvbiAoaikgewogICAgICAgIHN3aXRjaCAoai50eXBlKSB7CiAgICAgICAgICBjYXNlICJjciI6CiAgICAgICAgICAgIGNyICs9IHBhcnNlRmxvYXQoai5hbW91bnQpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJkciI6CiAgICAgICAgICAgIGRyICs9IHBhcnNlRmxvYXQoai5hbW91bnQpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmRyID0gZHI7CiAgICAgIHRoaXMuY3IgPSBjcjsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJkcj0iLCBkciwgImNyPSIsIGNyLCAiZHIrY3IgPSAiLCBkciArIGNyKTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHVuaXF1ZXMpLCAidW5pcXVlcyIpOwogICAgfSwKICAgIEhlbHA6IGZ1bmN0aW9uIEhlbHAoa2V5d29yZF9zZWFyY2gpIHsKICAgICAgU2hvd1Jlc291cmNlKGtleXdvcmRfc2VhcmNoKTsKICAgIH0sCiAgICBzZWFyY2hUcmFuc2FjdGlvbjogZnVuY3Rpb24gc2VhcmNoVHJhbnNhY3Rpb24oZGF0YVJvdywgaXRlbUlkLCBpdGVtVHlwZSkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIF90aGlzNi5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9IF90aGlzNi5pbnZlbnRvcnlBZGp1c3RtZW50LnRyYW5zYWN0aW9uRGF0ZTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3RyRmlsdGVyID0gIj9hc09mPSIgKyBzdGFydERhdGUgKyAiJmlkPSIgKyBpdGVtSWQgKyAnJml0ZW1UeXBlPScgKyBpdGVtVHlwZTsKICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5pbnZlbnRvcnlCYWxhbmNlKHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYWxhbmNlID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYWxhbmNlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29zdCIsIGJhbGFuY2VbMF0ud2FjKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgicW9oIiwgYmFsYW5jZVswXS5xb2gpOwogICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBwYXJzZUZsb2F0KGJhbGFuY2VbMF0ud2FjKSAqIHBhcnNlRmxvYXQoZGF0YVJvdy5kaWZmZXJlbnQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29zdCIsIDApOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coImJhbGFuY2UiLCByZXMuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRBY2NvdW50OiBmdW5jdGlvbiBsb2FkQWNjb3VudCgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBhY2NvdW50SGFuZGxlci5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmFjY291bnRzID0gcmVzLmRhdGEubWFwKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogaXRtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRtLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxfbmFtZTogaXRtLmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpdG0ubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0bS5pc190YXhhYmxlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmhqaUFjY0NvZGU6IGl0bS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX2NvZGU6IGl0bS5ncm91cF9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdG0ucGFyZW50X2FjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9jb2RlOiBpdG0udHlwZV9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRfdHlwZTogaXRtLmFjY291bnRfdHlwZQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNy5hY2NvdW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5pbnZlbnRvcnlBZGp1c3RtZW50LmFjY291bnQgPSBfdGhpczcuYWNjb3VudHNbMF07CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUHJvamVjdHM6IGZ1bmN0aW9uIGxvYWRQcm9qZWN0cygpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHByb2plY3RIYW5kbGVyLmxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM4LnByb2plY3RzID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczgucHJvamVjdHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzOC5pbnZlbnRvcnlBZGp1c3RtZW50LnByb2plY3QgPSBfdGhpczgucHJvamVjdHNbMF07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkU2VnbWVudDogZnVuY3Rpb24gbG9hZFNlZ21lbnQoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM5LnNlZ21lbnRzID0gW107CiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NIYW5kbGVyLmdldFNlZygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuc2VnbWVudHMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzOS5zZWdtZW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LmludmVudG9yeUFkanVzdG1lbnQuc2VnbWVudCA9IF90aGlzOS5zZWdtZW50c1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyB0aGlzLnNlZ21lbnRMaXN0ID0gcmVzLmRhdGEuZGF0YQoKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRMb2NhdGlvbjogZnVuY3Rpb24gbG9hZExvY2F0aW9uKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTAubG9jYXRpb25zID0gW107CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25IYW5kbGVyLmxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAuc2hvd0xvYWRpbmcgPSB0cnVlOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLmxvY2F0aW9ucyA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMC5sb2NhdGlvbnMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAuaW52ZW50b3J5QWRqdXN0bWVudC5sb2NhdGlvbiA9IF90aGlzMTAubG9jYXRpb25zWzBdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkV2FyZWhvdXNlczogZnVuY3Rpb24gbG9hZFdhcmVob3VzZXMoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHdhcmVob3VzZUhhbmRsZXIuZ2V0V2FyZWhvdXNlU2V0dGluZ0FsbCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczExLndhcmVob3VzZXMgPSByZXM7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUHJlZml4OiBmdW5jdGlvbiBsb2FkUHJlZml4KCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmVmaXhIYW5kbGVyLmdldChwcmVmaXgpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLnRyYW5zYWN0aW9uVHlwZXMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTIudHJhbnNhY3Rpb25UeXBlcy5sZW5ndGggPiAwKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLmludmVudG9yeUFkanVzdG1lbnQudHJhbnNhY3Rpb25UeXBlID0gX3RoaXMxMi50cmFuc2FjdGlvblR5cGVzWzBdOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTIuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTIuZ2VuZXJhdGVOdW1iZXIoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTMpOwogICAgICAgICAgICAgICAgICB9KSksIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdlbmVyYXRlTnVtYmVyOiBmdW5jdGlvbiBnZW5lcmF0ZU51bWJlcigpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMy5pbnZlbnRvcnlBZGp1c3RtZW50LnRyYW5zYWN0aW9uRGF0ZSAhPT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICBhYmJyOiBfdGhpczEzLmludmVudG9yeUFkanVzdG1lbnQudHJhbnNhY3Rpb25UeXBlLmFiYnIsCiAgICAgICAgICAgICAgICAgIHN0cnVjdHVyZTogX3RoaXMxMy5pbnZlbnRvcnlBZGp1c3RtZW50LnRyYW5zYWN0aW9uVHlwZS5zdHJ1Y3R1cmUsCiAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogX3RoaXMxMy5pbnZlbnRvcnlBZGp1c3RtZW50LnRyYW5zYWN0aW9uRGF0ZSwKICAgICAgICAgICAgICAgICAgc2VxdWNlbmNpbmc6IF90aGlzMTMuaW52ZW50b3J5QWRqdXN0bWVudC50cmFuc2FjdGlvblR5cGUuc2VxdWNlbmNpbmcsCiAgICAgICAgICAgICAgICAgIHByZWZpeFNlcGFyYXRvcjogX3RoaXMxMy5pbnZlbnRvcnlBZGp1c3RtZW50LnRyYW5zYWN0aW9uVHlwZS5wcmVmaXhTZXBhcmF0b3IgfHwgJycsCiAgICAgICAgICAgICAgICAgIG51bWJlclNlcGFyYXRvcjogX3RoaXMxMy5pbnZlbnRvcnlBZGp1c3RtZW50LnRyYW5zYWN0aW9uVHlwZS5udW1iZXJTZXBhcmF0b3IgfHwgJycsCiAgICAgICAgICAgICAgICAgIGZvcm1hdDogX3RoaXMxMy5pbnZlbnRvcnlBZGp1c3RtZW50LnRyYW5zYWN0aW9uVHlwZS5mb3JtYXQgfHwgNSwKICAgICAgICAgICAgICAgICAgdHlwZTogIkludmVudG9yeSBBZGp1c3RtZW50IgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF90aGlzMTMuaW52ZW50b3J5QWRqdXN0bWVudC5hYmJyID0gZGF0YS5hYmJyOwogICAgICAgICAgICAgICAgX3RoaXMxMy5pbnZlbnRvcnlBZGp1c3RtZW50LnN0cnVjdHVyZSA9IGRhdGEuc3RydWN0dXJlOwogICAgICAgICAgICAgICAgX3RoaXMxMy5pbnZlbnRvcnlBZGp1c3RtZW50LnNlcXVjZW5jaW5nID0gZGF0YS5zZXF1Y2VuY2luZzsKICAgICAgICAgICAgICAgIF90aGlzMTMuaW52ZW50b3J5QWRqdXN0bWVudC50cmFuc2FjdGlvbkRhdGUgPSBkYXRhLnRyYW5zYWN0aW9uRGF0ZTsKICAgICAgICAgICAgICAgIF90aGlzMTMuaW52ZW50b3J5QWRqdXN0bWVudC50eXBlID0gZGF0YS50eXBlOwogICAgICAgICAgICAgICAgX3RoaXMxMy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBiaWxsaW5nSGFuZGxlci5sYXN0TnVtYmVyKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdE51bWJlciA9IF90aGlzMTMuemVyb1BhZChwYXJzZUludChyZXMubGFzdE51bWJlciksIF90aGlzMTMuaW52ZW50b3J5QWRqdXN0bWVudC50cmFuc2FjdGlvblR5cGUuZm9ybWF0KTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5pbnZlbnRvcnlBZGp1c3RtZW50Lm51bWJlciA9IHJlcy5zdWZmaXggKyBfdGhpczEzLmludmVudG9yeUFkanVzdG1lbnQudHJhbnNhY3Rpb25UeXBlLm51bWJlclNlcGFyYXRvciArIGxhc3ROdW1iZXI7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5pbnZlbnRvcnlBZGp1c3RtZW50Lmxhc3ROdW1iZXIgPSByZXMuc3VmZml4ICsgbGFzdE51bWJlcjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5lcnJvcihlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB6ZXJvUGFkOiBmdW5jdGlvbiB6ZXJvUGFkKG51bSwgcGxhY2VzKSB7CiAgICAgIHJldHVybiBTdHJpbmcobnVtKS5wYWRTdGFydChwbGFjZXMsICIwIik7CiAgICB9LAogICAgc2F2ZVByaW50OiBmdW5jdGlvbiBzYXZlUHJpbnQoKSB7fSwKICAgIHNhdmVOZXc6IGZ1bmN0aW9uIHNhdmVOZXcoKSB7fSwKICAgIG9uU2F2ZUNsb3NlOiBmdW5jdGlvbiBvblNhdmVDbG9zZShpc1NhdmUpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTQuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMTQuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygibUVtcGxveWVlIiwgX3RoaXMxNC5pbnZlbnRvcnlBZGp1c3RtZW50LmVtcGxveWVlKTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNC5tRW1wbG95ZWUuaWQgIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNBdXRvR2VuZXJhdGUgPSAxOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE0LiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5EYXRlID0gbmV3IERhdGUoX3RoaXMxNC50cmFuc2FjdGlvbkRhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbkRhdGVBZGp1c3RtZW50ID0gbmV3IERhdGUoX3RoaXMxNC5pbnZlbnRvcnlBZGp1c3RtZW50LnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuRGF0ZU0gPSB0cmFuRGF0ZS5nZXRGdWxsWWVhcigpICsgdHJhbkRhdGUuZ2V0TW9udGgoKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5EYXRlVHhuTSA9IHRyYW5EYXRlQWRqdXN0bWVudC5nZXRGdWxsWWVhcigpICsgdHJhbkRhdGVBZGp1c3RtZW50LmdldE1vbnRoKCk7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhbkRhdGVNID09PSB0cmFuRGF0ZVR4bk0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F1dG9HZW5lcmF0ZSA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LmF1dG9DYWxjdWxhdGUoKTsKCiAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUxpbmVEUyA9IF90aGlzMTQuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwoKICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhUm93ID0gaXRlbUxpbmVEUy5kYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvLmJ1b20gIT09IHt9IHx8IG8uYnVvbSAhPT0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAobykgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEl0ZW1MaW5lTW9kZWwobyk7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVJvdy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQuaWQgPyBfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQuaWQgOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQudXVpZCA/IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC51dWlkIDogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgam91cm5hbF91dWlkOiBfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQuam91cm5hbF91dWlkID8gX3RoaXMxNC5pbnZlbnRvcnlBZGp1c3RtZW50LmpvdXJuYWxfdXVpZCA6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR4blR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFiYnI6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC50cmFuc2FjdGlvblR5cGUuYWJiciwKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IF90aGlzMTQudHJhbnNhY3Rpb25EYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoT2Y6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC5tb250aE9mLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uVHlwZTogX3RoaXMxNC5pbnZlbnRvcnlBZGp1c3RtZW50LnRyYW5zYWN0aW9uVHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eG5SYXRlOiBfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQudHhuUmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVJhdGU6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC5jdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtTGluZTogZGF0YVJvdywKICAgICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50OiBfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQuc2VnbWVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogX3RoaXMxNC5pbnZlbnRvcnlBZGp1c3RtZW50LmxvY2F0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Q6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC5wcm9qZWN0LAogICAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlOiBfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQuZW1wbG95ZWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25Ob3RlOiBfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQudHJhbnNhY3Rpb25Ob3RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGpvdXJuYWxOb3RlOiBfdGhpczE0LmludmVudG9yeUFkanVzdG1lbnQuam91cm5hbE5vdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogX3RoaXMxNC5pbnZlbnRvcnlBZGp1c3RtZW50LmFjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogX3RoaXMxNC5pbnZlbnRvcnlBZGp1c3RtZW50LmNyZWF0ZWRBdCwKICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC5hbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC5leGNoYW5nZUFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBxdHk6IF90aGlzMTQuaW52ZW50b3J5QWRqdXN0bWVudC5xdHksCiAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VkVXNlcjogX3RoaXMxNC5sb2dnZWRVc2VyLAogICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXV0b0dlbmVyYXRlOiBpc0F1dG9HZW5lcmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBqUmF3OiBfdGhpczE0LmpSYXcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uVHlwZTogX3RoaXMxNC4kcm91dGUucGFyYW1zLmlkID8gX3RoaXMxNC4kcm91dGUucXVlcnkudHlwZSA6ICJuZXciCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5pbnZlbnRvcnlBZGp1c3RtZW50KGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnNob3dMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC4kc25vdGlmeS5zdWNjZXNzKCJTdWNjZXNzZnVsbHkiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTYXZlID09ICJuZXciKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuY2xlYXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTYXZlID09ICJjbG9zZSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5jbGVhcigpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnNob3dMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuJHNub3RpZnkuZXJyb3IoIlNvbWV0aGluZyB3ZW50IHdyb25nIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuZXJyb3JzLnB1c2goZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB3aW5kb3cuaGlzdG9yeS5nbygtMSk7CiAgICB9LAogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICB0aGlzLmxvYWRQcmVmaXgoKTsKICAgICAgdGhpcy5sb2FkQWNjb3VudCgpOwogICAgICB0aGlzLmxvYWRTZWdtZW50KCk7CiAgICAgIHRoaXMubG9hZExvY2F0aW9uKCk7CiAgICAgIHRoaXMubG9hZFByb2plY3RzKCk7CiAgICAgIHRoaXMuaW52ZW50b3J5QWRqdXN0bWVudCA9IG5ldyBJbnZlbnRvcnlBZGp1c3RtZW50KHt9KTsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIGRzLmRhdGEoW10pOwogICAgICB0aGlzLmFkZFJvdygpOwogICAgfSwKICAgIHJlbW92ZVJvdzogZnVuY3Rpb24gcmVtb3ZlUm93KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRJdGVtTGluZSIpLmRhdGEoImtlbmRvR3JpZCIpLAogICAgICAgICAgZGF0YVNvdXJjZSA9IGdyaWQuZGF0YVNvdXJjZSwKICAgICAgICAgIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CgogICAgICBpZiAoZGF0YVNvdXJjZS50b3RhbCgpID4gMSkgewogICAgICAgIGRhdGFTb3VyY2UucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGUoKTsKICAgICAgfQogICAgfSwKICAgIGVycm9yTWVzc2FnZTogZnVuY3Rpb24gZXJyb3JNZXNzYWdlKCkge30sCiAgICBhY2NvdW50RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIGFjY291bnREcm9wRG93bkVkaXRvcigpIHt9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHRoaXMuJHN3YWwoewogICAgICAgIHRpdGxlOiBpMThuLnQoIm1zZ190aXRsZV93YXJuaW5nIiksCiAgICAgICAgdGV4dDogaTE4bi50KCJtc2dfZGlzY2FyZCIpLAogICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IGkxOG4udCgiY2FuY2VsIiksCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjRUQxQTNBIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogaTE4bi50KCJkaXNjYXJkIikKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0Q2VuKSB7CiAgICAgICAgaWYgKHJlc3VsdENlbi52YWx1ZSkgewogICAgICAgICAgX3RoaXMxNS4kcm91dGVyLmdvKC0xKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhpZGVTbWFsbFNpZGViYXI6IGZ1bmN0aW9uIGhpZGVTbWFsbFNpZGViYXIoKSB7CiAgICAgIHRoaXMuaXNIaWRlQmFyID0gIXRoaXMuaXNIaWRlQmFyOwogICAgfSwKICAgIGxvYWRWaWV3QWRqdXN0bWVudDogZnVuY3Rpb24gbG9hZFZpZXdBZGp1c3RtZW50KCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTcoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOyAvLyB3aW5kb3cuY29uc29sZS5sb2codGhpcy4kcm91dGUucGFyYW1zLmlkLCAnaWQnKQoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNi4kcm91dGUucGFyYW1zLmlkICE9PSB1bmRlZmluZWQgfHwgX3RoaXMxNi4kcm91dGUucGFyYW1zLmlkICE9PSAiIikgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5pbnZlbnRvcnlBZGp1c3RtZW50TGlzdCgiP2lkPSIgKyBfdGhpczE2LiRyb3V0ZS5wYXJhbXMuaWQgKyAnJnR5cGU9SW52ZW50b3J5IEFkanVzdG1lbnQnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LmludmVudG9yeUFkanVzdG1lbnQgPSByZXMuZGF0YS5kYXRhWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuaXRlbUxpbmVzID0gX3RoaXMxNi5pbnZlbnRvcnlBZGp1c3RtZW50Lml0ZW1MaW5lOyAvLyB3aW5kb3cuY29uc29sZS5sb2codGhpcy5pdGVtTGluZXMsICctJykKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi50cmFuc2FjdGlvbkRhdGUgPSBfdGhpczE2LmludmVudG9yeUFkanVzdG1lbnQudHJhbnNhY3Rpb25EYXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYubUVtcGxveWVlID0gX3RoaXMxNi5pbnZlbnRvcnlBZGp1c3RtZW50LmVtcGxveWVlOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY2NvdW50XyA9IF90aGlzMTYuaW52ZW50b3J5QWRqdXN0bWVudC5hY2NvdW50OwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuaW52ZW50b3J5QWRqdXN0bWVudC5hY2NvdW50ID0gYWNjb3VudF87CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuYXV0b0NhbGN1bGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRTdG9ja0NvdW50OiBmdW5jdGlvbiBsb2FkU3RvY2tDb3VudCh0eXBlKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE4JChfY29udGV4dDE4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTgucHJldiA9IF9jb250ZXh0MTgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9ICcnOwogICAgICAgICAgICAgICAgICAgIHZhciBlbmREYXRlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9ICI/c3RhcnQ9IiArIHN0YXJ0RGF0ZSArICImZW5kPSIgKyBlbmREYXRlICsgIiZ0eXBlPSIgKyB0eXBlOwogICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLmludmVudG9yeUFkanVzdG1lbnRMaXN0KHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTcuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5zdG9ja0NvdW50cyA9IHJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuLnN0YXR1cyA9PT0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE3LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRWaWV3U3RvY2tDb3VudDogZnVuY3Rpb24gbG9hZFZpZXdTdG9ja0NvdW50KCkgewogICAgICB2YXIgX3RoaXMxOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTkoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOSQoX2NvbnRleHQxOSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE5LnByZXYgPSBfY29udGV4dDE5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOyAvLyB3aW5kb3cuY29uc29sZS5sb2codGhpcy4kcm91dGUucGFyYW1zLmlkLCAnaWQnKQoKICAgICAgICAgICAgICAgICAgICB2YXIgc3RvY2tDb3VudCA9IF90aGlzMTguaW52ZW50b3J5QWRqdXN0bWVudC5zdG9ja0NvdW50IHx8IHt9OwogICAgICAgICAgICAgICAgICAgIHZhciBzdG9ja0NvdW50SWQgPSBzdG9ja0NvdW50LmlkIHx8ICcnOwoKICAgICAgICAgICAgICAgICAgICBpZiAoc3RvY2tDb3VudElkICE9PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOC5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5pbnZlbnRvcnlBZGp1c3RtZW50TGlzdCgiP2lkPSIgKyBzdG9ja0NvdW50SWQgKyAnJnR5cGU9U3RvY2sgQ291bnQnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTguc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE4LnN0b2NrQ291bnQgPSByZXMuZGF0YS5kYXRhWzBdOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTguc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzdG9ja0NvdW50QWRqdXN0bWVudDogZnVuY3Rpb24gc3RvY2tDb3VudEFkanVzdG1lbnQoKSB7CiAgICAgIHZhciBfdGhpczE5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsICdpZCcpCgogICAgICAgICAgICAgICAgICAgIHZhciBzdG9ja0NvdW50ID0gX3RoaXMxOS5pbnZlbnRvcnlBZGp1c3RtZW50LnN0b2NrQ291bnQgfHwge307CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b2NrQ291bnRJZCA9IHN0b2NrQ291bnQuaWQgfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgdmFyIGFzT2YgPSBfdGhpczE5LmludmVudG9yeUFkanVzdG1lbnQudHJhbnNhY3Rpb25EYXRlIHx8ICcnOwoKICAgICAgICAgICAgICAgICAgICBpZiAoc3RvY2tDb3VudElkICE9PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE5Lml0ZW1MaW5lcyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFZhcmlhbnRIYW5kbGVyLnN0b2NrQ291bnRBZGp1c3RtZW50KCI/aWQ9IiArIHN0b2NrQ291bnRJZCArICcmYXNPZj0nICsgYXNPZikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE5LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS5pdGVtTGluZXMgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTkuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjApOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBpZDogZnVuY3Rpb24gaWQoKSB7CiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygnaWQtLScsIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5pbml0RGF0YSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgIHRoaXMubG9hZFZpZXdBZGp1c3RtZW50KCk7CiAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgey8vIGZldGNoIHRoZSBkYXRhIHdoZW4gdGhlIHZpZXcgaXMgY3JlYXRlZCBhbmQgdGhlIGRhdGEgaXMKICAgIC8vIGFscmVhZHkgYmVpbmcgb2JzZXJ2ZWQKICAgIC8vIHRoaXMubG9hZE9iaigpCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMjAgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMSQoX2NvbnRleHQyMSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjEucHJldiA9IF9jb250ZXh0MjEubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMC5sb2FkU2FsZUZvcm1Db250ZW50KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMC5sb2FkQWNjb3VudCgpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjAubG9hZExvY2F0aW9uKCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMC5sb2FkUHJlZml4KCk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjAubG9hZFNlZ21lbnQoKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjAubG9hZFByb2plY3RzKCk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDE0OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIwLmxvYWRTdG9ja0NvdW50KCdTdG9jayBDb3VudCcpOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMjEpOwogICAgfSkpKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgaGlkZGVuQnV0dG9uOiBmdW5jdGlvbiBoaWRkZW5CdXR0b24oKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS50eXBlID09ICJlZGl0IikgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["InventoryAdjustment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\">\n                        <v-row>\n                            <v-col\n                                class=\"bigSide py-0\"\n                                sm=\"8\"\n                                cols=\"12\"\n                                style=\"transition: 0.3s ease-in\"\n                                :class=\"{ hide_big_bar_class: isHideBar }\">\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">{{ $t(\"inventory_adjustment\") }}</h2>\n                                        <v-icon\n                                            v-if=\"isHideBar\"\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px\"\n                                            class=\"float-right\">close\n                                        </v-icon>\n                                        <span\n                                            style=\"transition: 0.3s ease-in; z-index: 10\"\n                                            :class=\"{  iconArrow: !isHideBar, iconArrowHide: isHideBar, }\">\n                      <v-icon\n                          size=\"22\"\n                          class=\"arr_icon\"\n                          @click=\"hideSmallSidebar\"\n                          v-if=\"isHideBar\">\n                        mdi-chevron-left-circle\n                      </v-icon>\n                      <v-icon\n                          size=\"22\"\n                          class=\"arr_icon\"\n                          @click=\"hideSmallSidebar\"\n                          v-if=\"!isHideBar\">\n                        mdi-chevron-right-circle\n                      </v-icon>\n                    </span>\n                                    </v-card>\n\n                                    <v-card\n                                        outlined\n                                        dense\n                                        class=\"px-3 no_border\"\n                                        color=\"grayBg\"\n                                        height=\" 172px\">\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{ $t(\"date\") }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"inventoryAdjustment.transactionDate\"\n                                                    @onChanged=\"onTransactionDateChanged\"\n                                                    @emitDate=\"inventoryAdjustment.transactionDate = $event\"\n                                                />\n                                                <label class=\"label\">{{ $t(\"stock_count_ref\") }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :items=\"stockCounts\"\n                                                    tage=\"account\"\n                                                    item-value=\"id\"\n                                                    item-text=\"referenceNo\"\n                                                    @change=\"stockCountAdjustment\"\n                                                    v-model=\"inventoryAdjustment.stockCount\"\n                                                    clearable\n                                                    return-object\n                                                    outlined\n                                                />\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\">\n                                                <label class=\"label\">{{\n                                                        $t(\"adjustment_number\")\n                                                    }}</label>\n                                                <div class=\"d-flex mt-1\">\n                                                    <div class=\"code_text flex-1 text-bold\">\n                                                        {{ inventoryAdjustment.abbr }}\n                                                    </div>\n                                                    <v-text-field\n                                                        class=\"flex-2 custom-border\"\n                                                        v-model=\"inventoryAdjustment.number\"\n                                                        readonly\n                                                        outlined\n                                                        :rules=\"[(v) => !!v || $t('is_required')]\"\n                                                        required\n                                                    />\n                                                    <v-icon\n                                                        color=\"black\"\n                                                        size=\"30\"\n                                                        style=\"height: 40px\"\n                                                        class=\"border_qrcode ml-2\"\n                                                        @click=\"generateNumber\"\n                                                    >mdi-qrcode\n                                                    </v-icon>\n                                                </div>\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\">\n                                                <label class=\"label\">{{\n                                                        $t(\"adjustment_account\")\n                                                    }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :items=\"accounts\"\n                                                    tage=\"account\"\n                                                    item-value=\"id\"\n                                                    :item-text=\"(item) => `${item.number} - ${item.name}`\"\n                                                    v-model=\"inventoryAdjustment.account\"\n                                                    :rules=\"[(v) => !!v || $t('is_required')]\"\n                                                    return-object\n                                                    outlined\n                                                />\n                                                <!-- <label class=\"label\">{{ $t(\"adjustment_memo\") }}</label>\n                                                <v-text-field\n                                                  class=\"mt-1\"\n                                                  v-model=\"inventoryAdjustment.transactionNote\"\n                                                  outlined\n                                                  tage=\"memo\"\n                                                  required\n                                                /> -->\n                                                <!-- <label class=\"label\">{{\n                                                  $t(\"message_for_journal\")\n                                                }}</label>\n                                                <v-text-field\n                                                  class=\"mt-1\"\n                                                  v-model=\"inventoryAdjustment.journalNote\"\n                                                  outlined\n                                                  tage=\"Message for Journal\"\n                                                  required\n                                                /> -->\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-row style=\"background-color: #fff\">\n                                        <v-col sm=\"12\" cols=\"12\">\n                                            <kendo-datasource\n                                                ref=\"itemLineDS\"\n                                                :data=\"itemLines\"\n                                                :change=\"dataSourceChanged\"\n                                            />\n                                            <kendo-grid\n                                                id=\"gridItemLine\"\n                                                class=\"grid-function\"\n                                                :data-source-ref=\"'itemLineDS'\"\n                                                :sortable=\"false\"\n                                                :column-menu=\"true\"\n                                                :editable=\"true\"\n                                                :scrollable-virtual=\"true\"\n                                            >\n                                                <kendo-grid-column\n                                                    :command=\"{ iconClass: 'k-icon k-i-trash', text: ' ', click: removeRow, class: 'btn-plus',}\"\n                                                    :title=\"''\"\n                                                    :width=\"63\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5',}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :title=\"$t('no.')\"\n                                                    :width=\"53\"\n                                                    :column-menu=\"false\"\n                                                    :template=\"rowNumberTmpl\"\n                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5;', class: 'text-products', }\"\n                                                    :attributes=\"{ style: 'text-align: products', }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'item'\"\n                                                    :title=\"$t('item')\"\n                                                    :template=\"itemTemplate\"\n                                                    :editor=\"ItemDropDownEditor\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5', }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'description'\"\n                                                    :title=\"$t('description')\"\n                                                    :template=\"'<span>#=description#</span>'\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{  style: 'background-color: #EDF1F5', }\"\n                                                />\n\n                                                <kendo-grid-column\n                                                    :field=\"'buom'\"\n                                                    :title=\"$t('uom')\"\n                                                    :width=\"170\"\n                                                    :template=\"UOMTemplate\"\n                                                    :editable=\" () => { return false; } \"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5', }\"\n                                                    :attributes=\"{ style: 'text-align: left', }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'cost'\"\n                                                    :title=\"$t('cost')\"\n                                                    :editor=\"numberEditor\"\n                                                    :template=\"'<span>#=kendo.toString(cost || 0, decimalFormat) || 0#</span>'\"\n                                                    :width=\"170\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5', }\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'qoh'\"\n                                                    :title=\"$t('on_hand')\"\n                                                    :template=\"'<span>#=kendo.toString(qoh || 0, decimalFormat) || 0#</span>'\"\n                                                    :width=\"170\"\n                                                    :editable=\" () => { return false;  }\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5',}\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'count'\"\n                                                    :title=\"$t('counted')\"\n                                                    :editor=\"numberEditor\"\n                                                    :template=\"'<span>#=kendo.toString(count || 0, decimalFormat)#</span>'\"\n                                                    :width=\"170\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5',  }\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'different'\"\n                                                    :title=\"$t('different')\"\n                                                    :editable=\" () => { return false; } \"\n                                                    :width=\"170\"\n                                                    :template=\"'<span>#=kendo.toString(different || 0, decimalFormat)#</span>'\"\n                                                    :editor=\"numberEditor\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5', }\"\n                                                    :attributes=\"{ style: 'text-align: right', }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'amount'\"\n                                                    :title=\"$t('amount')\"\n                                                    :width=\"170\"\n                                                    :editable=\" () => { return false; }\"\n                                                    :template=\"'<span>#=kendo.toString(amount || 0, decimalFormat)#</span>'\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5', }\"\n                                                    :attributes=\"{ style: 'text-align: right', }\"\n                                                />\n                                            </kendo-grid>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <v-btn\n                                                color=\"primary\"\n                                                class=\"float-left ml-0 btn_plus rounded-4 white--text mr-2\"\n                                                @click=\"addRow\">\n                                                <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                            </v-btn>\n                                        </v-col>\n                                        <v-col sm=\"6\" cols=\"12\">\n                                            <label>{{ $t(\"message_these_adjustment\") }}</label>\n                                            <v-textarea\n                                                class=\"mt-1\"\n                                                outlined\n                                                no-resize\n                                                height=\"70px\"\n                                                tage=\"Message on Invoice\"\n                                                placeholder=\"This will appear on the invoice\"\n                                            />\n                                            <label>{{ $t(\"message_on_journal\") }}</label>\n                                            <v-textarea\n                                                class=\"mt-1\"\n                                                outlined\n                                                no-resize\n                                                height=\"70px\"\n                                                tage=\"Message on Order\"\n                                                placeholder=\"This will appear on the journal\"\n                                            />\n                                        </v-col>\n                                        <v-col class=\"pt-5\" sm=\"6\" cols=\"12\">\n                                            <v-simple-table>\n                                                <template v-slot:default>\n                                                    <tbody>\n                                                    <tr>\n                                                        <td class=\"text-left\">{{ $t(\"dr\") }}</td>\n                                                        <td class=\"text-center\">:</td>\n                                                        <td class=\"text-right color_green text-bold\">\n                                                            {{ numberFormat(dr) }}\n                                                        </td>\n                                                    </tr>\n                                                    <tr>\n                                                        <td class=\"text-left\">{{ $t(\"cr\") }}</td>\n                                                        <td class=\"text-center\">:</td>\n                                                        <td class=\"text-right color_green text-bold\">\n                                                            {{ numberFormat(cr) }}\n                                                        </td>\n                                                    </tr>\n                                                    </tbody>\n                                                </template>\n                                            </v-simple-table>\n                                        </v-col>\n                                    </v-row>\n                                    <v-divider/>\n                                    <v-card elevation=\"0\" class=\"no_border function_footer\">\n                                        <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                                            <span v-html=\"errorMessage\"/>\n                                        </v-alert>\n                                        <v-menu>\n                                            <v-list>\n                                                <v-list-item\n                                                    v-for=\"(item, index) in templates\"\n                                                    :key=\"index\">\n                                                    <v-list-item-title>{{\n                                                            item.title\n                                                        }}\n                                                    </v-list-item-title>\n                                                </v-list-item>\n                                            </v-list>\n                                        </v-menu>\n                                        <v-btn\n                                            color=\"primary\"\n                                            outlined\n                                            class=\"text-capitalize black--text float-left\"\n                                            @click=\"cancel\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <v-btn\n                                            color=\"primary\"\n                                            @click=\"onSaveClose('close')\"\n                                            class=\"float-right white--text text-capitalize\">\n                                            {{ $t(\"save_close\") }}\n                                        </v-btn>\n                                        <v-btn\n                                            color=\"secondary\"\n                                            style=\"margin-right: 10px !important\"\n                                            class=\"white--text float-right text-capitalize\"\n                                            @click=\"onSaveClose('new')\"\n                                            :hidden=\"hiddenButton\">{{ $t(\"save_new\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-form>\n                            </v-col>\n                            <v-col\n                                class=\"smallSide\"\n                                sm=\"4\"\n                                style=\"transition: 0.3s ease-in\"\n                                :class=\"{ hide_small_bar_class: isHideBar }\">\n                                <h3\n                                    style=\"color: #b3b5bc; font-size: 20px\"\n                                    v-if=\"!isHideBar\"\n                                    class=\"text-uppercase float-right mt-n3\">\n                  <span class=\"pointer\" @click=\"Help('inventory adjustment')\">\n                    {{ $t(\"help\") }}\n                  </span>\n                                    <v-icon\n                                        @click=\"cancel()\"\n                                        style=\"cursor: pointer; color: #333; font-size: 40px\"\n                                        class=\"float-right mt-n1\"\n                                    >close\n                                    </v-icon>\n                                </h3>\n\n                                <div v-if=\"!isHideBar\" class=\"small_sidebar mt-8 grayBg\">\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                            <v-card\n                                                outlined\n                                                dense\n                                                class=\" pa-3 mb-2 no_border my_card rounded-4 white--text \"\n                                                color=\"primary\"\n                                                height=\"60px\">\n                                                <h3 class=\"text-left font_13 flex-1 text-uppercase\">\n                                                    {{ $t(\"adjustment_amount\") }}\n                                                </h3>\n                                                <h3 class=\"text-right flex-1 font_20 niradei_heavy\">\n                                                    0000\n                                                </h3>\n                                            </v-card>\n                                            <label class=\"label mb-0\">{{ $t(\"segment\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"inventoryAdjustment.segment\"\n                                                :items=\"segments\"\n                                                item-value=\"id\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                return-object\n                                                tage=\"sub Of\"\n                                                placeholder=\"Sub Of\"\n                                                outlined=\"\"\n                                            />\n                                            <label class=\"label mb-0\">{{ $t(\"location\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"inventoryAdjustment.location\"\n                                                :items=\"locations\"\n                                                item-value=\"id\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                return-object\n                                                tage=\"Location\"\n                                                placeholder=\"location\"\n                                                outlined=\"\"\n                                            />\n                                            <label class=\"label\">{{ $t(\"project\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"inventoryAdjustment.project\"\n                                                :items=\"projects\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                item-value=\"id\"\n                                                tage=\"Project\"\n                                                outlined\n                                            />\n                                            <label class=\"label\">{{ $t(\"for_month_of\") }}</label>\n                                            <app-monthpicker\n                                                :initMonthOf=\"inventoryAdjustment.monthOf\"\n                                                @emitMonthOf=\"inventoryAdjustment.monthOf = $event\"\n                                            />\n                                            <p class=\"detial_smallside_p font_14\">\n                                                {{ $t(\"inventory_adjustment_func_desc\") }} </p>\n                                        </v-col>\n                                    </v-row>\n                                </div>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"false\"\n                type=\"loading\"\n                :myLoading=\"true\"\n            />\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n// import kendo from '@progress/kendo-ui'\nimport {i18n} from \"@/i18n\";\nimport InventoryAdjustment from \"@/scripts/model/inventoryAdjustment\";\nimport {ShowResource} from \"@/observable/store\";\nimport {uuid} from \"vue-uuid\";\nimport kendo from \"@progress/kendo-ui\";\nimport SaleFormContentModel from \"@/scripts/model/SaleFormContent\";\nimport ItemLineModel from \"@/scripts/inventory-adjustment/model/ItemLine\";\n// import { DropDownList } from \"@progress/kendo-vue-dropdowns\";\n\nconst accountHandler = require(\"@/scripts/handler/accounting/account\");\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\nconst prefixHandler = require(\"@/scripts/prefixHandler\");\nconst warehouseHandler = require(\"@/scripts/warehouseHandler\");\nconst settingsHandler = require(\"@/scripts/settingsHandler\");\nconst locationHandler = require(\"@/scripts/locationHandler\");\nconst projectHandler = require(\"@/scripts/projectHandler\");\nconst productVariantHandler = require(\"@/scripts/productVariantHandler\");\nconst saleFormContentHandler = require(\"@/scripts/saleFormContentHandler\");\nconst saleFormContentModel = new SaleFormContentModel({});\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\");\n\nconst itemLineModel = new ItemLineModel({});\nconst prefix = \"inventory adjustment\";\nconst txnType = \"Inventory Adjustment\";\nconst itemLinePrefix = \"lin-\";\nconst $ = kendo.jQuery\n\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\n\nexport default {\n    name: \"InventoryAdjustment\",\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n        \"app-datepicker\": () => import(\"@/components/custom_templates/DatePickerComponent\"),\n        \"app-monthpicker\": () => import(\"@/components/kendo_templates/MonthOfPicker\"),\n        // dropdownlist: DropDownList,\n    },\n    props: [\"id\"],\n    data: () => ({\n        isEdit: false,\n        // LoadingMe\n        showLoading: true,\n        alert: false,\n        valid: true,\n        templates: [\n            {title: \"Draft\"},\n            {title: \"Open\"},\n            {title: \"Partially Closed\"},\n            {title: \"Closed\"},\n        ],\n        isHideBar: false,\n        accounts: [],\n        segments: [],\n        locations: [],\n        projects: [],\n        warehouses: [],\n        buom: [],\n        itemLines: [],\n        baseCurrency: {},\n        exchangeRate: {},\n        saleFormContent: saleFormContentModel,\n        inventoryAdjustment: new InventoryAdjustment({}),\n        itemLine: itemLineModel,\n        transactionDate: \"\",\n        jRaw: [],\n        dr: 0,\n        cr: 0,\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email,\n        },\n        stockCounts: []\n    }),\n    methods: {\n        numberFormat(value) {\n            return kendo.toString(value, `n${this.saleFormContent.decimal}`);\n        },\n        onTransactionDateChanged() {\n            // this.resetDataWhenTxnDateChanged()\n            if (this.$route.params.id === undefined) {\n                this.generateNumber();\n            }\n            this.inventoryAdjustment.monthOf = new Date(\n                this.inventoryAdjustment.transactionDate\n            )\n                .toISOString()\n                .substr(0, 7);\n        },\n        async initData() {\n            if (this.$route.params.id !== undefined) {\n                await this.loadViewAdjustment();\n                // window.console.log('1', this.$route.params)\n            } else {\n                this.addRow();\n            }\n        },\n        async loadSaleFormContent() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    saleFormContentHandler.list().then(async (res) => {\n                        if (res.data.statusCode === 200) {\n                            const data = res.data.data;\n                            if (data.length > 0) {\n                                this.saleFormContent = data[0];\n                                this.baseCurrency = data[0].baseCurrency;\n                                this.inventoryAdjustment.currency = this.baseCurrency;\n                                await this.initData();\n                                await this.loadTransactionRate();\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadTransactionRate() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const date = new Date(this.inventoryAdjustment.transactionDate)\n                        .toISOString()\n                        .substr(0, 10);\n                    const currency = this.baseCurrency;\n                    let code = \"\";\n                    if (currency.hasOwnProperty(\"code\")) {\n                        code = currency.code;\n                    }\n                    if (code !== undefined || code !== \"\") {\n                        this.showLoading = true;\n                        currencyHandler\n                            .getLastExchangeRateByDate(date, code)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.exchangeRate = res.data.data[0];\n                                    this.inventoryAdjustment.txnRate = this.exchangeRate.rate;\n                                    this.inventoryAdjustment.exchangeRate = this.exchangeRate;\n                                    this.showLoading = false;\n                                }\n                            });\n                    }\n                }, 10);\n            });\n        },\n        itemTemplate(dataItem) {\n            const item = dataItem.item;\n            if (item) {\n                return `<span>${item.name ? item.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        ItemDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate:\n                        '<div class=\"dropdown-header k-widget k-header\">' +\n                        \"<span>Items </span>\" +\n                        \"<span></span>\" +\n                        \"</div>\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: productVariantHandler.itemVariantSearchURL(),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                    }),\n                });\n        },\n        qohTemplate(dataItem) {\n            // const buom = dataItem.buom || {}\n            const qoh = dataItem.qoh || 0;\n            // if (buom.hasOwnProperty('name')) {\n            return qoh;\n            // }\n            // return ``\n        },\n        UOMTemplate(dataItem) {\n            const uom = dataItem.buom;\n            if (uom) {\n                return `<span>${uom.name ? uom.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        numberEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    min: 0,\n                    format: `${this.saleFormContent.decimal}`,\n                });\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        addRow() {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                total = ds.total();\n            this.itemLine.id = itemLinePrefix + uuid.v1();\n            this.itemLine.decimalFormat = \"n\" + this.saleFormContent.decimal;\n            ds.insert(total, this.itemLine);\n        },\n        async dataSourceChanged(e) {\n            if (e.field) {\n                let dataRow = e.items[0], itemType = '',\n                    buom = {},\n                    count = 0,\n                    diff = 0,\n                    qoh = 0;\n                switch (e.field) {\n                    case \"item\":\n                        dataRow.set(\"description\", dataRow.item.description);\n                        buom = dataRow.item.uom;\n                        dataRow.set(\"buom\", buom);\n                        itemType = dataRow.item.type || ''\n                        await this.searchTransaction(dataRow, dataRow.item.id, itemType);\n                        break;\n                    case \"count\":\n                        try {\n                            count = parseFloat(dataRow.count || 0);\n                            qoh = parseFloat(dataRow.qoh || 0);\n                            diff = count - qoh;\n                            dataRow.set(\"different\", parseFloat(diff));\n                            dataRow.set(\n                                \"amount\",\n                                parseFloat(dataRow.cost) * parseFloat(diff)\n                            );\n                        } catch {\n                            dataRow.set(\"different\", 0);\n                            dataRow.set(\"amount\", 0);\n                        }\n                        break;\n                    case \"cost\":\n                        try {\n                            diff = parseFloat(dataRow.different || 0);\n                            dataRow.set(\n                                \"amount\",\n                                parseFloat(dataRow.cost) * parseFloat(diff)\n                            );\n                        } catch {\n                            dataRow.set(\"amount\", 0);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (e.field) {\n                    this.autoCalculate();\n                    // this.rawForJournal()\n                }\n            }\n        },\n        autoCalculate() {\n            let ds = this.$refs.itemLineDS.kendoWidget();\n            let nature = \"\",\n                amount = 0,\n                qty = 0;\n            this.jRaw = [];\n            const rows = ds.data();\n            rows.forEach((value) => {\n                const amt = kendo.parseFloat(value.amount);\n                const diff = kendo.parseFloat(value.different);\n                amount += amt;\n                qty += diff;\n                const item = value.item;\n                if (amt > 0) {\n                    nature = \"dr\";\n                } else {\n                    nature = \"cr\";\n                }\n                if (item) {\n                    if (item.type === \"Variant\") {\n                        if (item.hasOwnProperty(\"inventoryAcc\")) {\n                            if (item.inventoryAcc.hasOwnProperty(\"id\")) {\n                                let inventoryAcc = item.inventoryAcc;\n                                this.jRaw.push({\n                                    id: inventoryAcc.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    description: item.description || \"\",\n                                    account: item.inventoryAcc,\n                                    accountId: item.inventoryAcc.id,\n                                    amount: amt, // qty*avg_cost ,\n                                    exchangeAmount: amt, //xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                    }\n                }\n            });\n            this.inventoryAdjustment.amount = amount;\n            this.inventoryAdjustment.exchangeAmount = amount;\n            this.inventoryAdjustment.qty = qty;\n            // adjustment account\n            if (this.inventoryAdjustment.account) {\n                const adjustAcc = this.inventoryAdjustment.account;\n                if (amount * -1 > 0) {\n                    nature = \"dr\";\n                } else {\n                    nature = \"cr\";\n                }\n                this.jRaw.push({\n                    id: adjustAcc.id + \"-\" + nature,\n                    line: new ItemLineModel({}),\n                    description: this.inventoryAdjustment.journalNote,\n                    account: adjustAcc,\n                    accountId: adjustAcc.id,\n                    amount: amount * -1, // qty*avg_cost ,\n                    exchangeAmount: amount * -1, //xAmount,\n                    type: nature,\n                    typeAs: \"adjustment acc\",\n                });\n            }\n            // todo: raw Journal\n            // const account = this.inventoryAdjustment.account || {}\n            // if (this.inventoryAdjustment.amountDue > 0) {\n            //   nature = 'dr'\n            // } else {\n            //   nature = 'cr'\n            // }\n            // if (account) {\n            //   if (account.hasOwnProperty('id')) {\n            //     this.jRaw.push({\n            //       id: account.id + '-' + nature,\n            //       line: new ItemLineModel({}),\n            //       description: this.invoice.journalNote,\n            //       account: account,\n            //       accountId: account.id,\n            //       exchangeAmount: this.inventoryAdjustment.exchangeAmount,\n            //       amount: this.invoice.amountDue,\n            //       type: nature,\n            //       typeAs: 'ar'\n            //     })\n            //   }\n            // }\n            // todo: end raw Journal\n            this.shrinkData(this.jRaw);\n            // const unique = this.removeDuplicate(this.accounts)\n            // window.console.log(unique, 'unique')\n        },\n        removeDuplicate(array) {\n            const result = [];\n            const map = new Map();\n            for (const item of array) {\n                if (!map.has(item.id)) {\n                    map.set(item.id, true); // set any value to Map\n                    result.push(item);\n                }\n            }\n            return result;\n        },\n        shrinkData(obj) {\n            const uniques =\n                this.removeDuplicate(obj); /*[...new Set(accountId.map(i => {\n                return {\n                    id_: i.id_,\n                    id: i.id,\n                    type: i.type\n                }\n            }))]*/\n            uniques.forEach((n) => {\n                const found = obj.filter((m) => m.id === n.id);\n                let amount = 0,\n                    xAmount = 0;\n                found.forEach((z) => {\n                    amount += parseFloat(z.amount || 0);\n                    xAmount += parseFloat(z.exchangeAmount || 0);\n                });\n                n.amount = parseFloat(amount); //this.numberFormat(amount)\n                n.exchangeAmount = parseFloat(xAmount); //parseFloat(parseFloat(amount * parseFloat(this.invoice.txnRate))) //this.numberFormat(amount * parseFloat(this.invoice.txnRate)) //.toFixed(this.saleFormContent.decimal)\n            });\n            this.jRaw = uniques;\n            let dr = 0,\n                cr = 0;\n            this.jRaw.forEach((j) => {\n                switch (j.type) {\n                    case \"cr\":\n                        cr += parseFloat(j.amount);\n                        break;\n                    case \"dr\":\n                        dr += parseFloat(j.amount);\n                        break;\n                    default:\n                        break;\n                }\n            });\n            this.dr = dr;\n            this.cr = cr;\n            window.console.log(\"dr=\", dr, \"cr=\", cr, \"dr+cr = \", dr + cr);\n            window.console.log(JSON.stringify(uniques), \"uniques\");\n        },\n        Help(keyword_search) {\n            ShowResource(keyword_search);\n        },\n        async searchTransaction(dataRow, itemId, itemType) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    const startDate = this.inventoryAdjustment.transactionDate;\n                    let strFilter = \"?asOf=\" + startDate + \"&id=\" + itemId + '&itemType=' + itemType;\n                    billingHandler.inventoryBalance(strFilter).then((res) => {\n                        if (res.data.statusCode === 200) {\n                            const balance = res.data.data;\n                            if (balance.length > 0) {\n                                dataRow.set(\"cost\", balance[0].wac);\n                                dataRow.set(\"qoh\", balance[0].qoh);\n                                dataRow.set(\n                                    \"amount\",\n                                    parseFloat(balance[0].wac) * parseFloat(dataRow.different)\n                                );\n                            } else {\n                                dataRow.set(\"cost\", 0);\n                            }\n                            window.console.log(\"balance\", res.data.data);\n                        }\n                        this.showLoading = false;\n                    });\n                }, 10);\n            });\n        },\n        async loadAccount() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    accountHandler.getAll().then((res) => {\n                        this.showLoading = false;\n                        this.accounts = res.data.map((itm) => {\n                            return {\n                                id: itm.uuid,\n                                uuid: itm.uuid,\n                                name: itm.name,\n                                local_name: itm.local_name,\n                                number: itm.number,\n                                is_taxable: itm.is_taxable,\n                                banhjiAccCode: itm.banhjiAccCode,\n                                group_code: itm.group_code,\n                                parent_account: itm.parent_account,\n                                type_code: itm.type_code,\n                                account_type: itm.account_type,\n                            };\n                        });\n                        if (this.accounts.length > 0) {\n                            this.inventoryAdjustment.account = this.accounts[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadProjects() {\n            await projectHandler.list().then((res) => {\n                this.projects = res.data.data;\n                if (this.projects.length > 0) {\n                    this.inventoryAdjustment.project = this.projects[0];\n                }\n            });\n        },\n        async loadSegment() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.segments = [];\n                    settingsHandler\n                        .getSeg()\n                        .then((res) => {\n                            this.showLoading = true;\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.segments = res.data.data;\n                                if (this.segments.length > 0) {\n                                    this.inventoryAdjustment.segment = this.segments[0];\n                                }\n                                // this.segmentList = res.data.data\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadLocation() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.locations = [];\n                    locationHandler\n                        .list()\n                        .then((res) => {\n                            this.showLoading = true;\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.locations = res.data.data;\n                                if (this.locations.length > 0) {\n                                    this.inventoryAdjustment.location = this.locations[0];\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadWarehouses() {\n            warehouseHandler.getWarehouseSettingAll().then((res) => {\n                this.warehouses = res;\n            });\n        },\n        async loadPrefix() {\n            new Promise((resolve) => {\n                setTimeout(async () => {\n                    resolve(\"resolved\");\n                    await prefixHandler.get(prefix).then(async (res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.transactionTypes = res.data.data;\n                            if (this.transactionTypes.length > 0) {\n                                this.inventoryAdjustment.transactionType =\n                                    this.transactionTypes[0];\n                                if (this.$route.params.id === undefined) {\n                                    await this.generateNumber();\n                                }\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async generateNumber() {\n            if (this.inventoryAdjustment.transactionDate !== \"\") {\n                let data = {\n                    abbr: this.inventoryAdjustment.transactionType.abbr,\n                    structure: this.inventoryAdjustment.transactionType.structure,\n                    transactionDate: this.inventoryAdjustment.transactionDate,\n                    sequcencing: this.inventoryAdjustment.transactionType.sequcencing,\n                    prefixSeparator: this.inventoryAdjustment.transactionType.prefixSeparator || '',\n                    numberSeparator: this.inventoryAdjustment.transactionType.numberSeparator || '',\n                    format: this.inventoryAdjustment.transactionType.format || 5,\n                    type: \"Inventory Adjustment\",\n                };\n                this.inventoryAdjustment.abbr = data.abbr;\n                this.inventoryAdjustment.structure = data.structure;\n                this.inventoryAdjustment.sequcencing = data.sequcencing;\n                this.inventoryAdjustment.transactionDate = data.transactionDate;\n                this.inventoryAdjustment.type = data.type;\n                this.showLoading = true;\n                await billingHandler\n                    .lastNumber(data)\n                    .then((response) => {\n                        if (response.data.statusCode === 200) {\n                            this.showLoading = false;\n                            const res = response.data.data;\n                            const lastNumber = this.zeroPad(\n                                parseInt(res.lastNumber),\n                                this.inventoryAdjustment.transactionType.format\n                            );\n                            this.inventoryAdjustment.number =\n                                res.suffix +\n                                this.inventoryAdjustment.transactionType.numberSeparator +\n                                lastNumber;\n                            this.inventoryAdjustment.lastNumber = res.suffix + lastNumber;\n                        }\n                    })\n                    .catch((e) => {\n                        this.showLoading = false;\n                        window.console.error(e);\n                    });\n            }\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, \"0\");\n        },\n        savePrint() {\n        },\n        saveNew() {\n        },\n        async onSaveClose(isSave) {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate();\n                return;\n            }\n            window.console.log(\"mEmployee\", this.inventoryAdjustment.employee);\n            if (this.mEmployee.id !== null) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        let isAutoGenerate = 1;\n                        if (this.$route.params.id) {\n                            const tranDate = new Date(this.transactionDate);\n                            const tranDateAdjustment = new Date(\n                                this.inventoryAdjustment.transactionDate\n                            );\n                            const tranDateM = tranDate.getFullYear() + tranDate.getMonth();\n                            const tranDateTxnM =\n                                tranDateAdjustment.getFullYear() +\n                                tranDateAdjustment.getMonth();\n                            if (tranDateM === tranDateTxnM) {\n                                isAutoGenerate = 0;\n                            }\n                        }\n                        this.autoCalculate();\n                        let itemLineDS = this.$refs.itemLineDS.kendoWidget();\n                        const dataRow = itemLineDS\n                            .data()\n                            .filter((o) => o.buom !== {} || o.buom !== null)\n                            .map((o) => {\n                                return new ItemLineModel(o);\n                            });\n                        if (dataRow.length > 0) {\n                            let data = {\n                                id: this.inventoryAdjustment.id\n                                    ? this.inventoryAdjustment.id\n                                    : \"\",\n                                uuid: this.inventoryAdjustment.uuid\n                                    ? this.inventoryAdjustment.uuid\n                                    : \"\",\n                                journal_uuid: this.inventoryAdjustment.journal_uuid\n                                    ? this.inventoryAdjustment.journal_uuid\n                                    : \"\",\n                                type: txnType,\n                                number: this.inventoryAdjustment.number,\n                                abbr: this.inventoryAdjustment.transactionType.abbr,\n                                transactionDate: this.transactionDate,\n                                monthOf: this.inventoryAdjustment.monthOf,\n                                transactionType: this.inventoryAdjustment.transactionType,\n                                txnRate: this.inventoryAdjustment.txnRate,\n                                exchangeRate: this.inventoryAdjustment.exchangeRate,\n                                currency: this.inventoryAdjustment.currency,\n                                itemLine: dataRow,\n                                segment: this.inventoryAdjustment.segment,\n                                location: this.inventoryAdjustment.location,\n                                project: this.inventoryAdjustment.project,\n                                employee: this.inventoryAdjustment.employee,\n                                transactionNote: this.inventoryAdjustment.transactionNote,\n                                journalNote: this.inventoryAdjustment.journalNote,\n                                account: this.inventoryAdjustment.account,\n                                status: 1,\n                                createdAt: this.inventoryAdjustment.createdAt,\n                                amount: this.inventoryAdjustment.amount,\n                                exchangeAmount: this.inventoryAdjustment.exchangeAmount,\n                                qty: this.inventoryAdjustment.qty,\n                                loggedUser: this.loggedUser,\n                                isAutoGenerate: isAutoGenerate,\n                                jRaw: this.jRaw,\n                                actionType: this.$route.params.id\n                                    ? this.$route.query.type\n                                    : \"new\",\n                            };\n                            this.showLoading = true;\n                            billingHandler\n                                .inventoryAdjustment(data)\n                                .then((response) => {\n                                    if (response.data.statusCode === 201) {\n                                        this.showLoading = false;\n                                        this.$snotify.success(\"Successfully\");\n                                        if (isSave == \"new\") {\n                                            this.clear();\n                                        } else if (isSave == \"close\") {\n                                            this.clear();\n                                            this.close();\n                                        }\n                                    }\n                                })\n                                .catch((e) => {\n                                    this.showLoading = false;\n                                    this.$snotify.error(\"Something went wrong\");\n                                    this.errors.push(e);\n                                });\n                        }\n                    }, 10);\n                });\n            }\n        },\n        close() {\n            window.history.go(-1);\n        },\n        clear() {\n            this.loadPrefix();\n            this.loadAccount();\n            this.loadSegment();\n            this.loadLocation();\n            this.loadProjects();\n            this.inventoryAdjustment = new InventoryAdjustment({});\n            let ds = this.$refs.itemLineDS.kendoWidget();\n            ds.data([]);\n            this.addRow();\n        },\n        removeRow(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#gridItemLine\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n                this.autoCalculate();\n            }\n        },\n        errorMessage() {\n        },\n        accountDropDownEditor() {\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((resultCen) => {\n                if (resultCen.value) {\n                    this.$router.go(-1);\n                }\n            });\n        },\n        hideSmallSidebar() {\n            this.isHideBar = !this.isHideBar;\n        },\n        async loadViewAdjustment() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    // window.console.log(this.$route.params.id, 'id')\n                    if (\n                        this.$route.params.id !== undefined ||\n                        this.$route.params.id !== \"\"\n                    ) {\n                        this.showLoading = true;\n                        billingHandler\n                            .inventoryAdjustmentList(\"?id=\" + this.$route.params.id + '&type=Inventory Adjustment')\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.inventoryAdjustment = res.data.data[0];\n                                    this.itemLines = this.inventoryAdjustment.itemLine;\n                                    // window.console.log(this.itemLines, '-')\n                                    this.transactionDate =\n                                        this.inventoryAdjustment.transactionDate;\n                                    this.mEmployee = this.inventoryAdjustment.employee;\n                                    const account_ = this.inventoryAdjustment.account;\n                                    this.inventoryAdjustment.account = account_;\n                                    this.autoCalculate();\n                                }\n                            });\n                    }\n                }, 10);\n            });\n        },\n        async loadStockCount(type) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    const startDate = ''\n                    const endDate = ''\n                    const strFilter = \"?start=\" + startDate + \"&end=\" + endDate + \"&type=\" + type;\n\n                    billingHandler.inventoryAdjustmentList(strFilter).then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            const response = res.data.data\n                            this.stockCounts = response.filter(n => n.status === 1)\n                        } else {\n                            this.showLoading = false;\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadViewStockCount() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    // window.console.log(this.$route.params.id, 'id')\n                    const stockCount = this.inventoryAdjustment.stockCount || {}\n                    const stockCountId = stockCount.id || ''\n                    if (stockCountId !== '') {\n                        this.showLoading = true;\n                        billingHandler.inventoryAdjustmentList(\"?id=\" + stockCountId + '&type=Stock Count').then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.stockCount = res.data.data[0];\n                            } else {\n                                this.showLoading = false\n                            }\n                        });\n                    }\n                }, 10);\n            });\n        },\n        async stockCountAdjustment() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    // window.console.log(this.$route.params.id, 'id')\n                    const stockCount = this.inventoryAdjustment.stockCount || {}\n                    const stockCountId = stockCount.id || ''\n                    const asOf = this.inventoryAdjustment.transactionDate || ''\n                    if (stockCountId !== '') {\n                        this.showLoading = true;\n                        this.itemLines = []\n                        productVariantHandler.stockCountAdjustment(\"?id=\" + stockCountId + '&asOf=' + asOf).then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.itemLines = res.data.data\n                            } else {\n                                this.showLoading = false\n                            }\n                        });\n                    }\n                }, 10);\n            });\n        },\n    },\n    watch: {\n        id() {\n            // window.console.log('id--', this.$route.params.id)\n            if (this.$route.params.id === undefined) {\n                this.initData();\n            } else {\n                this.showLoading = true;\n                this.loadViewAdjustment();\n                this.showLoading = false;\n            }\n        },\n    },\n    created() {\n        // fetch the data when the view is created and the data is\n        // already being observed\n        // this.loadObj()\n    },\n    async mounted() {\n        await this.loadSaleFormContent();\n        await this.loadAccount();\n        await this.loadLocation();\n        await this.loadPrefix();\n        await this.loadSegment();\n        await this.loadProjects();\n        // await this.loadWarehouses()\n        // await this.loadEmployeeCenter();\n        await this.loadStockCount('Stock Count');\n    },\n    computed: {\n        hiddenButton() {\n            if (this.$route.query.type == \"edit\") {\n                return true;\n            } else {\n                return false;\n            }\n        },\n    },\n};\n</script>\n\n<style scoped>\n.small_sidebar {\n    height: 95%;\n    position: relative;\n    padding: 12px;\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: 0.5s ease-in;\n    flex: 0 0 0;\n    padding: 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> tbody\n> tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n\n.detial_smallside_p {\n    /*position: absolute;*/\n    bottom: 10px;\n}\n</style>\n"],"sourceRoot":"src/views/products_services/product/inventory_adjustment"}]}