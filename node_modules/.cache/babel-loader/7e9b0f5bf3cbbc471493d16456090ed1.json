{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/suppliers/PurchaseOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/suppliers/PurchaseOrder.vue","mtime":1642155812732},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1jb21tZXJjZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Cgp2YXIgX2RlZmF1bHRJdGVtOwoKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBpMThuIH0gZnJvbSAiQC9pMThuIjsKaW1wb3J0IFRyYW5zYWN0aW9uTW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL1RyYW5zYWN0aW9uIjsKaW1wb3J0IHsgRHJvcERvd25MaXN0IH0gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXZ1ZS1kcm9wZG93bnMiOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKaW1wb3J0IHsgdXVpZCB9IGZyb20gInZ1ZS11dWlkIjsKaW1wb3J0IFB1cmNoYXNlRm9ybUNvbnRlbnRNb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvUHVyY2hhc2VGb3JtQ29udGVudCI7CmltcG9ydCB7IGRhdGFTdG9yZSwgU2hvd1Jlc291cmNlIH0gZnJvbSAiQC9vYnNlcnZhYmxlL3N0b3JlIjsKaW1wb3J0IEl0ZW1MaW5lTW9kZWwgZnJvbSAiQC9zY3JpcHRzL2ludm9pY2UvbW9kZWwvSXRlbUxpbmUiOwppbXBvcnQgY3JlZGl0TGltaXRIYW5kbGVyIGZyb20gIkAvc2NyaXB0cy9jcmVkaXRMaW1pdC9oYW5kbGVyL2NyZWRpdExpbWl0SGFuZGxlciI7CmltcG9ydCBwYXltZW50VGVybUhhbmRsZXJfIGZyb20gIkAvc2NyaXB0cy9wYXltZW50dGVybS9oYW5kbGVyL3BheW1lbnRUZXJtSGFuZGxlciI7CmltcG9ydCBIZWxwZXIgZnJvbSAiQC9oZWxwZXIiOwp2YXIgaXRlbUxpbmVNb2RlbCA9IG5ldyBJdGVtTGluZU1vZGVsKHt9KTsKCnZhciB0cmFuc2FjdGlvbkhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvdHJhbnNhY3Rpb25IYW5kbGVyIik7Cgp2YXIgc3VwcGxpZXJIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3N1cHBsaWVySGFuZGxlciIpOwoKdmFyIGN1cnJlbmN5SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jdXJyZW5jeS9oYW5kbGVyL2N1cnJlbmN5SGFuZGxlciIpOwoKdmFyIGJpbGxpbmdIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2ludm9pY2UvaGFuZGxlci9iaWxsaW5nSGFuZGxlciIpOyAvLyBjb25zdCBwYXltZW50VGVybUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcGF5bWVudFRlcm1IYW5kbGVyIik7CgoKdmFyIHB1cmNoYXNlRm9ybUNvbnRlbnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3B1cmNoYXNlRm9ybUNvbnRlbnRIYW5kbGVyIik7Cgp2YXIgc2V0dGluZ0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2V0dGluZ0hhbmRsZXIiKTsKCnZhciBsb2NhdGlvbkhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvbG9jYXRpb25IYW5kbGVyIik7Cgp2YXIgcHJvamVjdEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJvamVjdEhhbmRsZXIiKTsKCnZhciBkaXNjb3VudEl0ZW1IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2Rpc2NvdW50SXRlbUhhbmRsZXIiKTsKCnZhciB1b21QcmljZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvdW9tUHJpY2VIYW5kbGVyIik7Cgp2YXIgZW1wbG95ZWVIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2VtcGxveWVlSGFuZGxlciIpOwoKdmFyIHByaWNlTGV2ZWxIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3ByaWNlTGV2ZWxIYW5kbGVyIik7Cgp2YXIgcHJvZHVjdFZhcmlhbnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3Byb2R1Y3RWYXJpYW50SGFuZGxlciIpOwoKdmFyIHByZWZpeEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJlZml4SGFuZGxlciIpOwoKdmFyIHNldHRpbmdzSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zZXR0aW5nc0hhbmRsZXIiKTsKCnZhciBzYWxlVW5pdEl0ZW1IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NhbGVVbml0SXRlbUhhbmRsZXIiKTsKCnZhciBjYXRhbG9nSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jYXRhbG9nSGFuZGxlciIpOwoKdmFyIHByb2R1Y3RIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3Byb2R1Y3RIYW5kbGVyIik7Cgp2YXIgJCA9IGtlbmRvLmpRdWVyeTsKdmFyIHRleHRGaWVsZCA9ICJudW1iZXJOYW1lIjsKdmFyIGtleUZpZWxkID0gImlkIjsKdmFyIGRlZmF1bHRJdGVtID0gKF9kZWZhdWx0SXRlbSA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2RlZmF1bHRJdGVtLCB0ZXh0RmllbGQsICJTZWxlY3QgU3VwcGxpZXIuLi4iKSwgX2RlZmluZVByb3BlcnR5KF9kZWZhdWx0SXRlbSwga2V5RmllbGQsIG51bGwpLCBfZGVmYXVsdEl0ZW0pOwoKdmFyIGVtcHR5SXRlbSA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgdGV4dEZpZWxkLCAibG9hZGluZyAuLi4iKTsKCnZhciB0cmFuc2FjdGlvblByZWZpeCA9ICJsaW4tIjsKdmFyIHB1cmNoYXNlRm9ybUNvbnRlbnRNb2RlbCA9IG5ldyBQdXJjaGFzZUZvcm1Db250ZW50TW9kZWwoe30pOwp2YXIgRElTQ09VTlRfVFlQRSA9ICI/dHlwZT1QdXJjaGFzZSI7Cgp2YXIgY29va2llSlMgPSByZXF1aXJlKCJAL2Nvb2tpZS5qcyIpOwoKdmFyIGNvb2tpZSA9IGNvb2tpZUpTLmdldENvb2tpZSgpOwp2YXIgVFlQRSA9ICdwdXJjaGFzZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUHVyY2hhc2VPcmRlciIsCiAgcHJvcHM6IHsKICAgIGlkOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfSwKICAgIGluaXRQdXJjaGFzZU9yZGVyOiB7CiAgICAgIHR5cGU6IFRyYW5zYWN0aW9uTW9kZWwKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmdNZTogZnVuY3Rpb24gTG9hZGluZ01lKCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvTG9hZGluZyIpOwogICAgfSwKICAgICJhcHAtZGF0ZXBpY2tlciI6IGZ1bmN0aW9uIGFwcERhdGVwaWNrZXIoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL0RhdGVQaWNrZXJDb21wb25lbnQiKTsKICAgIH0sCiAgICBkcm9wZG93bmxpc3Q6IERyb3BEb3duTGlzdCwKICAgICJhcHAtbW9udGhvZi1waWNrZXIiOiBmdW5jdGlvbiBhcHBNb250aG9mUGlja2VyKCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMva2VuZG9fdGVtcGxhdGVzL01vbnRoT2ZQaWNrZXIiKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdWNjZXNzOiBmYWxzZSwKICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgdGV4dEZpZWxkOiAibnVtYmVyTmFtZSIsCiAgICAgIGRhdGFJdGVtS2V5OiAiaWQiLAogICAgICBiYWxhbmNlOiAwLAogICAgICAvLyBMb2FkaW5nTWUKICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgICBhbGVydDogZmFsc2UsCiAgICAgIGZpbGVzOiBbXSwKICAgICAgZGlhbG9nQ2F0YWxvZzogZmFsc2UsCiAgICAgIGdyaWRTY2hlbWE6IHsKICAgICAgICBtb2RlbDogewogICAgICAgICAgaWQ6ICJpZCIKICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIEZvcm0gdmFsaWRhdGlvbgogICAgICB2YWxpZDogdHJ1ZSwKICAgICAgdGVtcGxhdGVzOiBbewogICAgICAgIHRpdGxlOiAiUHVyY2hhc2UgT3JkZXIiLAogICAgICAgIHZhbHVlOiAiUHVyY2hhc2UgT3JkZXIiCiAgICAgIH1dLAogICAgICBpc0hpZGVCYXI6IGZhbHNlLAogICAgICB0cmFuc2FjdGlvbjogbmV3IFRyYW5zYWN0aW9uTW9kZWwoe30pLAogICAgICBzdXBwbGllckxpc3Q6IFtdLAogICAgICBzdXBwbGllcjoge30sCiAgICAgIGNhdGFsb2dzOiBbXSwKICAgICAgZGlhbG9nVGF4OiBmYWxzZSwKICAgICAgYmFzZUN1cnJlbmN5Q29kZTogIiIsCiAgICAgIHN1cEJhc2VVcmw6IHN1cHBsaWVySGFuZGxlci5zZWFyY2goKSwKICAgICAgZXhjaGFuZ2VSYXRlOiB7fSwKICAgICAgY3VycmVuY3lDb2RlOiAiIiwKICAgICAgdHJhbnNhY3Rpb25SYXRlOiAxLAogICAgICBwYXltZW50VGVybXM6IFtdLAogICAgICBlbXBsb3llZXM6IFtdLAogICAgICBtRW1wbG95ZWU6IHt9LAogICAgICBwdXJjaGFzZUZvcm1Db250ZW50OiBwdXJjaGFzZUZvcm1Db250ZW50TW9kZWwsCiAgICAgIHNlZ21lbnRzOiBbXSwKICAgICAgbG9jYXRpb25zOiBbXSwKICAgICAgdGF4TGlzdFRvdGFsOiB7fSwKICAgICAgaXRlbUxpbmVzOiBbXSwKICAgICAgaXRlbUxpbmU6IGl0ZW1MaW5lTW9kZWwsCiAgICAgIGRhdGVGb3JtYXQ6IGl0ZW1MaW5lTW9kZWwuZGF0ZUZvcm1hdCwKICAgICAgcHJvamVjdHM6IFtdLAogICAgICBmaWx0ZXI6ICIiLAogICAgICBwdXJjaGFzZU9yZGVyVHlwZTogMSwKICAgICAgcHVyY2hhc2VPcmRlclR5cGVzOiBbewogICAgICAgIG5hbWU6ICJTdGFuZGFyZCBPcmRlciIsCiAgICAgICAgaWQ6IDEKICAgICAgfSwgewogICAgICAgIG5hbWU6ICJPcGVuIE9yZGVyIiwKICAgICAgICBpZDogMgogICAgICB9LCB7CiAgICAgICAgbmFtZTogIkNvbnRyYWN0IiwKICAgICAgICBpZDogMwogICAgICB9LCB7CiAgICAgICAgbmFtZTogIkNvbnNpZ25tZW50IE9yZGVyIiwKICAgICAgICBpZDogNAogICAgICB9LCB7CiAgICAgICAgbmFtZTogIk9yZGVyIHJlcXVpcmVkIFB1cmNoYXNlIiwKICAgICAgICBpZDogNQogICAgICB9XSwKICAgICAgZGlzY291bnRJdGVtOiBbXSwKICAgICAgc2FsZVVuaXQ6IFtdLAogICAgICBkZWZhdWx0SXRlbTogZGVmYXVsdEl0ZW0sCiAgICAgIHR4bkxpc3RzOiBbXSwKICAgICAgc2F2ZU9wdGlvbjogIiIsCiAgICAgIGxvZ2dlZFVzZXI6IHsKICAgICAgICBpZDogY29va2llLmNyZWF0b3IsCiAgICAgICAgbmFtZTogY29va2llLmVtYWlsCiAgICAgIH0sCiAgICAgIHNhbGVVbml0SXRlbUxpc3Q6IFtdLAogICAgICB0YXg6IFtdLAogICAgICBvdGhlclRheDogW10sCiAgICAgIHZhdFRheDogW10sCiAgICAgIHR4blRvYmVBZGQ6IFtdLAogICAgICAvLyB3aXRoaG9sZGluZ1RheDogW10sCiAgICAgIHByaWNlTGV2ZWxzOiBbXSwKICAgICAgZXJyb3JzOiBbXSwKICAgICAgaXNTYXZlTmV3OiBmYWxzZSwKICAgICAgaXNTYXZlQ2xvc2U6IGZhbHNlLAogICAgICBpc1NhdmVQcmludDogZmFsc2UsCiAgICAgIGlzU2F2ZURyYWZ0OiBmYWxzZSwKICAgICAgaXNQcmljZUxldmVsQ2hhbmdlZDogZmFsc2UsCiAgICAgIHRheExpc3REZXRhaWw6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYXV0b0NhbGN1bGF0ZVRheERldGFpbDogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZVRheERldGFpbCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBpZHMgPSBbXTsKICAgICAgdGhpcy50YXhMaXN0RGV0YWlsLmZvckVhY2goZnVuY3Rpb24gKG4pIHsKICAgICAgICBpZHMucHVzaChuLmlkIHx8ICcnKTsKICAgICAgfSk7CgogICAgICB2YXIgdW5pcXVlID0gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQoaWRzKSk7CgogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgIHVuaXF1ZS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgdmFyIGFtb3VudCA9IDAsCiAgICAgICAgICAgIHJvdyA9IHt9LAogICAgICAgICAgICBkaXNjb3VudCA9IDAsCiAgICAgICAgICAgIHhEaXNjb3VudCA9IDAsCiAgICAgICAgICAgIHhBbW91bnQgPSAwLAogICAgICAgICAgICB0YXhBbW91bnQgPSAwLAogICAgICAgICAgICB4VGF4QW1vdW50ID0gMDsKICAgICAgICB2YXIgdGF4RGV0YWlsID0gW10sCiAgICAgICAgICAgIGlzVmF0ID0gMDsKCiAgICAgICAgdmFyIGZvdW5kID0gX3RoaXMudGF4TGlzdERldGFpbC5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgIHJldHVybiBuLmlkID09PSBtOwogICAgICAgIH0pOyAvLyB3aW5kb3cuY29uc29sZS5sb2coJ3RheExpc3REZXRhaWxpZHMnLCBmb3VuZCkKCgogICAgICAgIGZvdW5kLmZvckVhY2goZnVuY3Rpb24gKGspIHsKICAgICAgICAgIHJvdyA9IGs7CgogICAgICAgICAgaWYgKGsuaXNWYXQgPT09IDEpIHsKICAgICAgICAgICAgaXNWYXQgPSAxOwogICAgICAgICAgICB2YXIgZGV0YWlsXyA9IGsuZGV0YWlsIHx8IHt9OwogICAgICAgICAgICB0YXhEZXRhaWwucHVzaChkZXRhaWxfKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0YXhBbW91bnQgKz0gay50YXhBbW91bnRfIHx8IDA7CiAgICAgICAgICB4VGF4QW1vdW50ICs9IChrLnRheEFtb3VudF8gfHwgMCkgKiAoay50eG5SYXRlIHx8IDEpOwogICAgICAgICAgYW1vdW50ICs9IGsuYW1vdW50IHx8IDA7CiAgICAgICAgICB4QW1vdW50ICs9IChrLmFtb3VudCB8fCAwKSAqIChrLnR4blJhdGUgfHwgMSk7CiAgICAgICAgICBkaXNjb3VudCArPSBrLmRpc2NvdW50IHx8IDA7CiAgICAgICAgICB4RGlzY291bnQgKz0gKGsuZGlzY291bnQgfHwgMCkgKiAoay50eG5SYXRlIHx8IDEpOwogICAgICAgIH0pOwogICAgICAgIHZhciBzcFRheEFtdCA9IDAsCiAgICAgICAgICAgIHNwWFRheEFtdCA9IDAsCiAgICAgICAgICAgIHBsVGF4QW10ID0gMCwKICAgICAgICAgICAgcGxYVGF4QW10ID0gMCwKICAgICAgICAgICAgb3RUYXhBbXQgPSAwLAogICAgICAgICAgICBvdFhUYXhBbXQgPSAwLAogICAgICAgICAgICBzcFRheE5hbWUgPSAnJywKICAgICAgICAgICAgcGxUYXhOYW1lID0gJycsCiAgICAgICAgICAgIG90VGF4TmFtZSA9ICcnLAogICAgICAgICAgICBzcFRheE5hbWVMb2NhbGUgPSAnJywKICAgICAgICAgICAgcGxUYXhOYW1lTG9jYWxlID0gJycsCiAgICAgICAgICAgIG90VGF4TmFtZUxvY2FsZSA9ICcnLAogICAgICAgICAgICBzcEFjY0lkID0gJycsCiAgICAgICAgICAgIHBsQWNjSWQgPSAnJywKICAgICAgICAgICAgb3RBY2NJZCA9ICcnLAogICAgICAgICAgICBzcFJhdGUgPSAnJywKICAgICAgICAgICAgcGxSYXRlID0gJycsCiAgICAgICAgICAgIG90UmF0ZSA9ICcnOwogICAgICAgIHRheERldGFpbC5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICB2YXIgc3BUYXggPSBuLnNwZWNpZmljVGF4IHx8IHt9OwogICAgICAgICAgdmFyIHBsVGF4ID0gbi5wdWJsaWNMaWdodGluZ1RheCB8fCB7fTsKICAgICAgICAgIHZhciBvdGhlclRheCA9IG4ub3RoZXJUYXggfHwge307CgogICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHNwVGF4KS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHNwVGF4QW10ICs9IHNwVGF4LnRheEFtb3VudF8gfHwgMDsKICAgICAgICAgICAgc3BYVGF4QW10ICs9IChzcFRheC50YXhBbW91bnRfIHx8IDApICogKHNwVGF4LnRheFJhdGUgfHwgMSk7CiAgICAgICAgICAgIHNwVGF4TmFtZSA9IHNwVGF4LmRlZmF1bHRUYXggfHwgJyc7CiAgICAgICAgICAgIHNwVGF4TmFtZUxvY2FsZSA9IHNwVGF4LmRlZmF1bHRUYXhMb2NhbGUgfHwgJyc7CiAgICAgICAgICAgIHNwQWNjSWQgPSBzcFRheC5hY2NvdW50ID8gc3BUYXguYWNjb3VudC5pZCA6ICcnOwogICAgICAgICAgICBzcFJhdGUgPSBzcFRheC5yYXRlIHx8IDE7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHBsVGF4KS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHBsVGF4QW10ICs9IHBsVGF4LnRheEFtb3VudF8gfHwgMDsKICAgICAgICAgICAgcGxYVGF4QW10ICs9IChwbFRheC50YXhBbW91bnRfIHx8IDApICogKHBsVGF4LnRheFJhdGUgfHwgMSk7CiAgICAgICAgICAgIHBsVGF4TmFtZSA9IHBsVGF4LmRlZmF1bHRUYXggfHwgJyc7CiAgICAgICAgICAgIHBsVGF4TmFtZUxvY2FsZSA9IHBsVGF4LmRlZmF1bHRUYXhMb2NhbGUgfHwgJyc7CiAgICAgICAgICAgIHBsQWNjSWQgPSBwbFRheC5hY2NvdW50ID8gcGxUYXguYWNjb3VudC5pZCA6ICcnOwogICAgICAgICAgICBwbFJhdGUgPSBwbFRheC5yYXRlIHx8IDE7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG90aGVyVGF4KS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIG90VGF4QW10ICs9IG90aGVyVGF4LnRheEFtb3VudF8gfHwgMDsKICAgICAgICAgICAgb3RYVGF4QW10ICs9IChvdGhlclRheC50YXhBbW91bnRfIHx8IDApICogKHBsVGF4LnRheFJhdGUgfHwgMSk7CiAgICAgICAgICAgIG90VGF4TmFtZSA9IG90aGVyVGF4LmRlZmF1bHRUYXggfHwgJyc7CiAgICAgICAgICAgIG90VGF4TmFtZUxvY2FsZSA9IG90aGVyVGF4LmRlZmF1bHRUYXhMb2NhbGUgfHwgJyc7CiAgICAgICAgICAgIG90QWNjSWQgPSBvdGhlclRheC5hY2NvdW50ID8gb3RoZXJUYXguYWNjb3VudC5pZCA6ICcnOwogICAgICAgICAgICBvdFJhdGUgPSBvdGhlclRheC5yYXRlIHx8IDE7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGlmIChpc1ZhdCA9PT0gMSkgewogICAgICAgICAgcm93LmRldGFpbCA9IHsKICAgICAgICAgICAgc3BlY2lmaWNUYXg6IHsKICAgICAgICAgICAgICBuYW1lOiBzcFRheE5hbWUsCiAgICAgICAgICAgICAgbmFtZUxvY2FsZTogc3BUYXhOYW1lTG9jYWxlLAogICAgICAgICAgICAgIGFtb3VudDogc3BUYXhBbXQsCiAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IHNwWFRheEFtdCwKICAgICAgICAgICAgICBhY2NvdW50SWQ6IHNwQWNjSWQsCiAgICAgICAgICAgICAgcmF0ZTogc3BSYXRlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHB1YmxpY0xpZ2h0aW5nVGF4OiB7CiAgICAgICAgICAgICAgbmFtZTogcGxUYXhOYW1lLAogICAgICAgICAgICAgIG5hbWVMb2NhbGU6IHBsVGF4TmFtZUxvY2FsZSwKICAgICAgICAgICAgICBhbW91bnQ6IHBsVGF4QW10LAogICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBwbFhUYXhBbXQsCiAgICAgICAgICAgICAgYWNjb3VudElkOiBwbEFjY0lkLAogICAgICAgICAgICAgIHJhdGU6IHBsUmF0ZQogICAgICAgICAgICB9LAogICAgICAgICAgICBvdGhlclRheDogewogICAgICAgICAgICAgIG5hbWU6IG90VGF4TmFtZSwKICAgICAgICAgICAgICBuYW1lTG9jYWxlOiBvdFRheE5hbWVMb2NhbGUsCiAgICAgICAgICAgICAgYW1vdW50OiBvdFRheEFtdCwKICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogb3RYVGF4QW10LAogICAgICAgICAgICAgIGFjY291bnRJZDogb3RBY2NJZCwKICAgICAgICAgICAgICByYXRlOiBvdFJhdGUKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcm93LmRldGFpbCA9IHt9OwogICAgICAgIH0KCiAgICAgICAgcm93WydhbW91bnQnXSA9IGFtb3VudDsKICAgICAgICByb3dbJ2V4Y2hhbmdlQW1vdW50J10gPSB4QW1vdW50OwogICAgICAgIHJvd1sndGF4QW1vdW50J10gPSB0YXhBbW91bnQ7CiAgICAgICAgcm93WydleGNoYW5nZVRheEFtb3VudCddID0geFRheEFtb3VudDsKICAgICAgICByb3dbJ2Rpc2NvdW50J10gPSBkaXNjb3VudDsKICAgICAgICByb3dbJ2V4Y2hhbmdlRGlzY291bnQnXSA9IHhEaXNjb3VudDsKICAgICAgICByb3dbJ2N1cnJlbmN5J10gPSBfdGhpcy50cmFuc2FjdGlvbi5leGNoYW5nZVJhdGUgfHwge307CiAgICAgICAgcmVzdWx0LnB1c2gocm93KTsKICAgICAgICB0YXhEZXRhaWwgPSBbXTsKICAgICAgfSk7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24uc2FsZVRheERldGFpbCA9IHJlc3VsdDsKICAgIH0sCiAgICBsb2FkUGF5bWVudFRlcm1MaXN0OiBmdW5jdGlvbiBsb2FkUGF5bWVudFRlcm1MaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5zdXBwbGllcikgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9ICc/aWQ9JyArIF90aGlzMi5zdXBwbGllci5pZCArICcmdHJhbnNhY3Rpb25EYXRlPScgKyBfdGhpczIudHJhbnNhY3Rpb24udHJhbnNhY3Rpb25EYXRlICsgJyZ0eXBlPVZlbmRvcic7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudHJhbnNhY3Rpb24ucGF5bWVudFRlcm0gPSB7fTsKICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRUZXJtSGFuZGxlcl8uZ2V0KHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVybXMgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi50cmFuc2FjdGlvbi5wYXltZW50VGVybSA9IHRlcm1zLnRlcm07CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5vblBheW1lbnRUZXJtQ2hhbmdlZCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZENyZWRpdExpbWl0OiBmdW5jdGlvbiBsb2FkQ3JlZGl0TGltaXQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczMuc3VwcGxpZXIpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHJGaWx0ZXIgPSAnP2lkPScgKyBfdGhpczMuc3VwcGxpZXIuaWQgKyAnJnRyYW5zYWN0aW9uRGF0ZT0nICsgX3RoaXMzLnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uRGF0ZSArICcmdHlwZT1WZW5kb3InOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnRyYW5zYWN0aW9uLmNyZWRpdExpbWl0ID0gMDsKICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdExpbWl0SGFuZGxlci5nZXQoc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVkaXQgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy50cmFuc2FjdGlvbi5jcmVkaXRMaW1pdCA9IGtlbmRvLnBhcnNlRmxvYXQoY3JlZGl0LmFtb3VudCB8fCAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZEN1c3RvbWVyQmFsYW5jZTogZnVuY3Rpb24gbG9hZEN1c3RvbWVyQmFsYW5jZShpZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBzdHJGaWx0ZXIgPSBpZCArICI/dHlwZT1iYWwiOwogICAgICAgICAgICAgICAgICAgIF90aGlzNC50cmFuc2FjdGlvbi5jdXJyZW50QmFsYW5jZSA9IDA7CiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIuYmFsYW5jZShzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnRyYW5zYWN0aW9uLmN1cnJlbnRCYWxhbmNlID0gZGF0YVswXS5iYWxhbmNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvblByaWNlTGV2ZWxDaGFuZ2U6IGZ1bmN0aW9uIG9uUHJpY2VMZXZlbENoYW5nZSgpIHsKICAgICAgdGhpcy5pc1ByaWNlTGV2ZWxDaGFuZ2VkID0gdHJ1ZTsKICAgICAgdGhpcy5sb2FkVHJhbnNhY3Rpb25SYXRlKCk7CiAgICAgIHRoaXMuY2xlYXJVT01JdGVtKCk7CiAgICB9LAogICAgY2xlYXJVT01JdGVtOiBmdW5jdGlvbiBjbGVhclVPTUl0ZW0oKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkcyA9IF90aGlzNS4kcmVmcy5pdGVtTGluZVBPRFMua2VuZG9XaWRnZXQoKTsKICAgICAgICAgICAgICAgIGRzLmRhdGEoKS5tYXAoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgICAgICAgbi5zZXQoJ3VvbScsIHt9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX3RoaXM1LmlzUHJpY2VMZXZlbENoYW5nZWQgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbnVtYmVyRWRpdG9yOiBmdW5jdGlvbiBudW1iZXJFZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IGRhdGEtYmluZD0idmFsdWU6JyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb051bWVyaWNUZXh0Qm94KHsKICAgICAgICBkZWNpbWFsczogMzAsCiAgICAgICAgbWluOiAwLjAwMDAxLAogICAgICAgIGZvcm1hdDogIiIuY29uY2F0KHRoaXMucHVyY2hhc2VGb3JtQ29udGVudC5kZWNpbWFsKQogICAgICB9KTsKICAgIH0sCiAgICBIZWxwOiBmdW5jdGlvbiBIZWxwKGtleV9zZWFyY2gpIHsKICAgICAgU2hvd1Jlc291cmNlKGtleV9zZWFyY2gpOwogICAgfSwKICAgIGluaXRpYWxEYXRhOiBmdW5jdGlvbiBpbml0aWFsRGF0YSgpIHsKICAgICAgaWYgKHRoaXMuaWQpIHsKICAgICAgICAvLyBFZGl0IE1vZGUKICAgICAgICAvLyB0aGlzLnRyYW5zYWN0aW9uID0gdGhpcy5pbml0UHVyY2hhc2VPcmRlcjsKICAgICAgICB0aGlzLnNldERlZmF1bHREYXRhKCk7CiAgICAgICAgdGhpcy5sb2FkVmlld1B1cmNoYXNlT3JkZXIoKTsgLy8gdGhpcy5iaW5kRGF0YSgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIEJyYW5kIE5ldyBNb2RlCiAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLnNldERlZmF1bHREYXRhKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2V0RGVmYXVsdERhdGE6IGZ1bmN0aW9uIHNldERlZmF1bHREYXRhKCkgewogICAgICAvLyBCcmFuZCBOZXcgTW9kZQogICAgICB0aGlzLmlzRWRpdCA9IGZhbHNlOwogICAgICB2YXIgcGF5bWVudFRlcm0gPSB0aGlzLnRyYW5zYWN0aW9uLnBheW1lbnRUZXJtIHx8IHt9OwogICAgICB0aGlzLnRyYW5zYWN0aW9uID0gbmV3IFRyYW5zYWN0aW9uTW9kZWwoe30pOyAvL21vbnRoIG9mCgogICAgICB2YXIgbW9udGhPZiA9IGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKHRoaXMudHJhbnNhY3Rpb24udHJhbnNhY3Rpb25EYXRlKSwgInl5eXktTU0tZGQiKTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdtb250aE9mJywgbW9udGhPZik7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24ubW9udGhfb2YgPSBtb250aE9mOwogICAgICB0aGlzLnRyYW5zYWN0aW9uLmZvcm1UZW1wbGF0ZSA9IDE7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVQT0RTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIGRzLmRhdGEoW10pOyAvLyBBZGQgMiBkZWZhdWx0IGxpbmVzCgogICAgICB0aGlzLmFkZFJvdygpOwogICAgICB0aGlzLmxvYWRQcmVmaXgoKTsKICAgICAgdGhpcy5sb2FkUGF5bWVudFRlcm0oKTsKICAgICAgdGhpcy5sb2FkUHJpY2VMZXZlbCgpOwogICAgICB0aGlzLmxvYWRTZWdtZW50KCk7CiAgICAgIHRoaXMubG9hZExvY2F0aW9uKCk7CiAgICAgIHRoaXMubUVtcGxveWVlID0ge307CiAgICAgIHRoaXMudGF4TGlzdFRvdGFsID0ge307CiAgICAgIHRoaXMuaXNTYXZlTmV3ID0gZmFsc2U7CiAgICAgIHRoaXMuaXNTYXZlQ2xvc2UgPSBmYWxzZTsKICAgICAgdGhpcy5pc1NhdmVQcmludCA9IGZhbHNlOwogICAgICB0aGlzLmlzU2F2ZURyYWZ0ID0gZmFsc2U7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24ucGF5bWVudFRlcm0gPSBwYXltZW50VGVybTsKICAgIH0sCiAgICBiaW5kRGF0YTogZnVuY3Rpb24gYmluZERhdGEoKSB7CiAgICAgIC8vIEVkaXQgTW9kZQogICAgICB0aGlzLmlzRWRpdCA9IHRydWU7CiAgICAgIHRoaXMuc3VwcGxpZXIgPSB0aGlzLnRyYW5zYWN0aW9uLnN1cHBsaWVyOwogICAgICB0aGlzLnRheExpc3RUb3RhbCA9IHRoaXMudHJhbnNhY3Rpb24udGF4TGlzdFRvdGFsOwogICAgICB0aGlzLml0ZW1MaW5lcyA9IHRoaXMudHJhbnNhY3Rpb24uaXRlbUxpbmVzOyAvLyBpZiAodGhpcy5zdXBwbGllci5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkgewogICAgICAvLyAgIHRoaXMubG9hZFByb2plY3RCeVN1cHBsaWVyKCkKICAgICAgLy8gfQogICAgfSwKICAgIGFkZFJvdzogZnVuY3Rpb24gYWRkUm93KCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lUE9EUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgdG90YWwgPSBkcy50b3RhbCgpOwogICAgICB0aGlzLml0ZW1MaW5lLmlkID0gdHJhbnNhY3Rpb25QcmVmaXggKyB1dWlkLnYxKCk7CiAgICAgIGRzLmluc2VydCh0b3RhbCwgdGhpcy5pdGVtTGluZSk7CiAgICB9LAogICAgbG9hZFBheW1lbnRUZXJtOiBmdW5jdGlvbiBsb2FkUGF5bWVudFRlcm0oKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9ICI/dHlwZT1wbXQtc3VwcGxpZXIiOwogICAgICAgICAgICAgICAgICAgIF90aGlzNi5wYXltZW50VGVybXMgPSBbXTsKICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc0hhbmRsZXIuZ2V0UGF5bWVudFRlcm0oc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnBheW1lbnRUZXJtcyA9IHJlcy5kYXRhLmRhdGE7IC8vIGlmICh0aGlzLnBheW1lbnRUZXJtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT09IHVuZGVmaW5lZCB8fAogICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT09ICIiCiAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoaXMudHJhbnNhY3Rpb24ucGF5bWVudFRlcm0gPSB0aGlzLnBheW1lbnRUZXJtc1swXTsKICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUHJpY2VMZXZlbDogZnVuY3Rpb24gbG9hZFByaWNlTGV2ZWwoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9ICc/bmF0dXJlPScgKyBUWVBFOwogICAgICAgICAgICAgICAgICAgIHByaWNlTGV2ZWxIYW5kbGVyLmdldChzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnByaWNlTGV2ZWxzID0gcmVzOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczcucHJpY2VMZXZlbHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM3LiRyb3V0ZS5wYXJhbXMuaWQgIT09IHVuZGVmaW5lZCB8fCBfdGhpczcuJHJvdXRlLnBhcmFtcy5pZCAhPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcudHJhbnNhY3Rpb24ucHJpY2VMZXZlbCA9IF90aGlzNy5wcmljZUxldmVsc1swXTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmxvYWRUcmFuc2FjdGlvblJhdGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFNlZ21lbnQ6IGZ1bmN0aW9uIGxvYWRTZWdtZW50KCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciByb2xlVHlwZSwgcm9sZURhdGEsIHNlZ21lbnQsIHNlZ21lbnREZWZhdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczguc2VnbWVudHMgPSBbXTsKICAgICAgICAgICAgICAgIHJvbGVUeXBlID0gZGF0YVN0b3JlLnJvbGVUeXBlIHx8IDA7CgogICAgICAgICAgICAgICAgaWYgKHJvbGVUeXBlID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIGlmIChkYXRhU3RvcmUucm9sZURhdGEpIHsKICAgICAgICAgICAgICAgICAgICByb2xlRGF0YSA9IGRhdGFTdG9yZS5yb2xlRGF0YSB8fCBbXTsKICAgICAgICAgICAgICAgICAgICBzZWdtZW50ID0gcm9sZURhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdG0udHlwZSA9PT0gJ3NlZ21lbnQnOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHNlZ21lbnREZWZhdWx0ID0gc2VnbWVudC5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmlzRGVmYXVsdCA9PT0gMTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBfdGhpczguc2VnbWVudHMgPSBzZWdtZW50OwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM4LiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCB8fCBfdGhpczguJHJvdXRlLnBhcmFtcy5pZCA9PT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWdtZW50RGVmYXVsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC50cmFuc2FjdGlvbi5zZWdtZW50ID0gc2VnbWVudERlZmF1bHRbMF07CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJvbGVUeXBlID09PSAxKSB7CiAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LnNlZ21lbnRzID0gW107CiAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc0hhbmRsZXIuZ2V0U2VnKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczguc2VnbWVudHMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM4LnNlZ21lbnRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC50cmFuc2FjdGlvbi5zZWdtZW50ID0gX3RoaXM4LnNlZ21lbnRzWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZExvY2F0aW9uOiBmdW5jdGlvbiBsb2FkTG9jYXRpb24oKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgdmFyIHJvbGVUeXBlLCByb2xlRGF0YSwgbG9jYXRpb24sIGxvY2F0aW9uRGVmYXVsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM5LmxvY2F0aW9ucyA9IFtdOwogICAgICAgICAgICAgICAgcm9sZVR5cGUgPSBkYXRhU3RvcmUucm9sZVR5cGUgfHwgMDsKCiAgICAgICAgICAgICAgICBpZiAocm9sZVR5cGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgaWYgKGRhdGFTdG9yZS5yb2xlRGF0YSkgewogICAgICAgICAgICAgICAgICAgIHJvbGVEYXRhID0gZGF0YVN0b3JlLnJvbGVEYXRhIHx8IFtdOwogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gcm9sZURhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdG0udHlwZSA9PT0gJ2xvY2F0aW9uJzsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbkRlZmF1bHQgPSBsb2NhdGlvbi5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmlzRGVmYXVsdCA9PT0gMTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBfdGhpczkubG9jYXRpb25zID0gbG9jYXRpb247CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczkuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkIHx8IF90aGlzOS4kcm91dGUucGFyYW1zLmlkID09PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uRGVmYXVsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS50cmFuc2FjdGlvbi5sb2NhdGlvbiA9IGxvY2F0aW9uRGVmYXVsdFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sZVR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczkubG9jYXRpb25zID0gW107CiAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbkhhbmRsZXIubGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LmxvY2F0aW9ucyA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczkubG9jYXRpb25zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS50cmFuc2FjdGlvbi5sb2NhdGlvbiA9IF90aGlzOS5sb2NhdGlvbnNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLwogICAgaGlkZV9zbWFsbHNpdGViYXI6IGZ1bmN0aW9uIGhpZGVfc21hbGxzaXRlYmFyKCkgewogICAgICB0aGlzLmlzSGlkZUJhciA9ICF0aGlzLmlzSGlkZUJhcjsKICAgIH0sCiAgICAvLwogICAgb25QYXltZW50VGVybUNoYW5nZWQ6IGZ1bmN0aW9uIG9uUGF5bWVudFRlcm1DaGFuZ2VkKCkgewogICAgICAvLyB0aGlzLm9uRGF0ZUNoYW5nZWQoKTsKICAgICAgaWYgKHRoaXMuc3VwcGxpZXIpIHsKICAgICAgICB2YXIgcGF5bWVudFRlcm0gPSB0aGlzLnRyYW5zYWN0aW9uLnBheW1lbnRUZXJtIHx8IHt9OwogICAgICAgIHZhciBuZXREdWUgPSBwYXltZW50VGVybS5uZXREdWUgfHwgMDsKICAgICAgICB2YXIgc29tZURhdGUgPSBuZXcgRGF0ZSh0aGlzLnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgc29tZURhdGUuc2V0RGF0ZShzb21lRGF0ZS5nZXREYXRlKCkgKyBwYXJzZUludChuZXREdWUpKTsgLy9udW1iZXIgIG9mIGRheXMgdG8gYWRkLCBlLnguIDE1IGRheXMKCiAgICAgICAgdGhpcy50cmFuc2FjdGlvbi5leHNwZWN0ZWREYXRlID0gc29tZURhdGU7CiAgICAgIH0KICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgdmFyIHZhbHVlID0gZXZlbnQudmFsdWU7CgogICAgICBpZiAodmFsdWUgJiYgdmFsdWVbdGV4dEZpZWxkXSA9PT0gZW1wdHlJdGVtW3RleHRGaWVsZF0pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuc3VwcGxpZXIgPSB2YWx1ZTsKICAgICAgdGhpcy50cmFuc2FjdGlvbi5zdXBwbGllciA9IHZhbHVlOyAvLyB0aGlzLmludm9pY2UgPSB2YWx1ZQoKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJwcmljZWx2ZWwiLCB2YWx1ZSk7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24ucGF5bWVudFRlcm0gPSB2YWx1ZS5wYXltZW50VGVybSB8fCB7fTsKICAgICAgdGhpcy50cmFuc2FjdGlvbi5wcmljZUxldmVsID0gdmFsdWUucHJpY2VMZXZlbCB8fCB7fTsKICAgICAgdmFyIGJhc2VDdXJyZW5jeSA9IHZhbHVlLmJhc2VDdXJyZW5jeSB8fCB7fTsKCiAgICAgIGlmIChiYXNlQ3VycmVuY3kuaGFzT3duUHJvcGVydHkoImNvZGUiKSkgewogICAgICAgIHRoaXMuYmFzZUN1cnJlbmN5Q29kZSA9IGJhc2VDdXJyZW5jeS5jb2RlOwogICAgICB9IC8vIHRoaXMubG9hZFByb2plY3RCeVN1cHBsaWVyKCkKICAgICAgLy8gdGhpcy5sb2FkUHVyY2hhc2UoKTsKCgogICAgICB0aGlzLm9uRGF0ZUNoYW5nZWQoKTsKICAgIH0sCiAgICBvbkZpbHRlckNoYW5nZTogZnVuY3Rpb24gb25GaWx0ZXJDaGFuZ2UoZXZlbnQpIHsKICAgICAgdmFyIGZpbHRlciA9IGV2ZW50LmZpbHRlci52YWx1ZTsKICAgICAgdGhpcy5yZXF1ZXN0RGF0YSgwLCBmaWx0ZXIsIHRoaXMuc3VwQmFzZVVybCk7CiAgICAgIHRoaXMuZmlsdGVyID0gZmlsdGVyOwogICAgfSwKICAgIHJlcXVlc3REYXRhOiBmdW5jdGlvbiByZXF1ZXN0RGF0YShza2lwLCBmaWx0ZXIsIGJhc2VVcmwpIHsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKGJhc2VVcmwsICJyZXF1Iik7CiAgICAgIHZhciB1cmwgPSBiYXNlVXJsICsgIj9maWx0ZXI9Ii5jb25jYXQoZmlsdGVyKTsKICAgICAgdGhpcy5yZXF1ZXN0U3RhcnRlZCA9IHRydWU7CiAgICAgIGZldGNoKHVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICB9KS50aGVuKHRoaXMuYWZ0ZXJGZXRjaCk7CiAgICB9LAogICAgYWZ0ZXJGZXRjaDogZnVuY3Rpb24gYWZ0ZXJGZXRjaChqc29uKSB7CiAgICAgIHRoaXMuc3VwcGxpZXJMaXN0ID0ganNvbi5kYXRhOwogICAgfSwKICAgIGxvYWRUcmFuc2FjdGlvblJhdGU6IGZ1bmN0aW9uIGxvYWRUcmFuc2FjdGlvblJhdGUoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoX3RoaXMxMC50cmFuc2FjdGlvbi50cmFuc2FjdGlvbkRhdGUpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcHJpY2VMZXZlbCA9IF90aGlzMTAudHJhbnNhY3Rpb24ucHJpY2VMZXZlbDsKICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9ICIiOwoKICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2VMZXZlbC5oYXNPd25Qcm9wZXJ0eSgiY3VycmVuY3kiKSkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHByaWNlTGV2ZWwuY3VycmVuY3kuaGFzT3duUHJvcGVydHkoImNvZGUiKSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gcHJpY2VMZXZlbC5jdXJyZW5jeS5jb2RlOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgIT09IHVuZGVmaW5lZCB8fCBjb2RlICE9PSAiIikgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeUhhbmRsZXIuZ2V0TGFzdEV4Y2hhbmdlUmF0ZUJ5RGF0ZShkYXRlLCBjb2RlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLmV4Y2hhbmdlUmF0ZSA9IHJlcy5kYXRhLmRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5jdXJyZW5jeUNvZGUgPSBfdGhpczEwLmV4Y2hhbmdlUmF0ZS5jb2RlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAudHJhbnNhY3Rpb25SYXRlID0gX3RoaXMxMC5leGNoYW5nZVJhdGUucmF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLnRyYW5zYWN0aW9uLnR4blJhdGUgPSBfdGhpczEwLmV4Y2hhbmdlUmF0ZS5yYXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAudHJhbnNhY3Rpb24uZXhjaGFuZ2VSYXRlID0gX3RoaXMxMC5leGNoYW5nZVJhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbkRhdGVDaGFuZ2VkOiBmdW5jdGlvbiBvbkRhdGVDaGFuZ2VkKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTEuc3VwcGxpZXIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMS5sb2FkUGF5bWVudFRlcm1MaXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMS5sb2FkQ3JlZGl0TGltaXQoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczExLmxvYWRDdXN0b21lckJhbGFuY2UoX3RoaXMxMS5zdXBwbGllci5pZCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMS5vblByaWNlTGV2ZWxDaGFuZ2UoKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX3RoaXMxMS50cmFuc2FjdGlvbi5tb250aF9vZiA9IGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKF90aGlzMTEudHJhbnNhY3Rpb24udHJhbnNhY3Rpb25EYXRlKSwgJ3l5eXktTU0nKTsgLy8gY29uc3QgcGF5bWVudFRlcm0gPSB0aGlzLnRyYW5zYWN0aW9uLnBheW1lbnRUZXJtIHx8IHt9CiAgICAgICAgICAgICAgICAvLyBpZiAocGF5bWVudFRlcm0pIHsKICAgICAgICAgICAgICAgIC8vICAgICBjb25zdCBuZXREdWUgPSBwYXltZW50VGVybS5uZXREdWUgfHwgMDsKICAgICAgICAgICAgICAgIC8vICAgICBsZXQgc29tZURhdGUgPSBuZXcgRGF0ZSh0aGlzLnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgICAgICAgICAvLyAgICAgc29tZURhdGUuc2V0RGF0ZShzb21lRGF0ZS5nZXREYXRlKCkgKyBwYXJzZUludChuZXREdWUpKTsgLy9udW1iZXIgIG9mIGRheXMgdG8gYWRkLCBlLnguIDE1IGRheXMKICAgICAgICAgICAgICAgIC8vICAgICB3aW5kb3cuY29uc29sZS5sb2coJ3NvbWVEYXRlJywgc29tZURhdGUsIHBheW1lbnRUZXJtKQogICAgICAgICAgICAgICAgLy8gICAgIHRoaXMudHJhbnNhY3Rpb24uZXhzcGVjdGVkRGF0ZSA9IHNvbWVEYXRlCiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAvLyB0aGlzLm9uUGF5bWVudFRlcm1DaGFuZ2VkKCkKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczExLiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCAmJiBfdGhpczExLmlzRWRpdCA9PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICBfdGhpczExLmdlbmVyYXRlTnVtYmVyKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdlbmVyYXRlTnVtYmVyOiBmdW5jdGlvbiBnZW5lcmF0ZU51bWJlcigpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCdnZW5lcmF0ZU51bWJlcicpCiAgICAgIHZhciBkID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7CgogICAgICBpZiAodGhpcy50cmFuc2FjdGlvbi50cmFuc2FjdGlvbkRhdGUpIHsKICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2codGhpcy50cmFuc2FjdGlvbkRhdGUpCiAgICAgICAgZCA9IHRoaXMudHJhbnNhY3Rpb24udHJhbnNhY3Rpb25EYXRlOwogICAgICB9CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBhYmJyOiB0aGlzLnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uVHlwZS5hYmJyLAogICAgICAgIHN0cnVjdHVyZTogdGhpcy50cmFuc2FjdGlvbi50cmFuc2FjdGlvblR5cGUuc3RydWN0dXJlLAogICAgICAgIHNlcXVjZW5jaW5nOiB0aGlzLnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uVHlwZS5zZXF1Y2VuY2luZywKICAgICAgICBwcmVmaXhTZXBhcmF0b3I6IHRoaXMudHJhbnNhY3Rpb24udHJhbnNhY3Rpb25UeXBlLnByZWZpeFNlcGFyYXRvciB8fCAnJywKICAgICAgICBudW1iZXJTZXBhcmF0b3I6IHRoaXMudHJhbnNhY3Rpb24udHJhbnNhY3Rpb25UeXBlLm51bWJlclNlcGFyYXRvciB8fCAnJywKICAgICAgICBmb3JtYXQ6IHRoaXMudHJhbnNhY3Rpb24udHJhbnNhY3Rpb25UeXBlLmZvcm1hdCB8fCA1LAogICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogZCwKICAgICAgICB0eXBlOiAiUHVyY2hhc2UgT3JkZXIiCiAgICAgIH07CiAgICAgIGJpbGxpbmdIYW5kbGVyLmxhc3ROdW1iZXIoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgIHZhciByZXMgPSByZXNwb25zZS5kYXRhLmRhdGE7CgogICAgICAgICAgdmFyIGxhc3ROdW1iZXIgPSBfdGhpczEyLnplcm9QYWQocGFyc2VJbnQocmVzLmxhc3ROdW1iZXIpLCBfdGhpczEyLnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uVHlwZS5mb3JtYXQpOwoKICAgICAgICAgIHZhciBudW1iZXIgPSByZXMuc3VmZml4ICsgX3RoaXMxMi50cmFuc2FjdGlvbi50cmFuc2FjdGlvblR5cGUubnVtYmVyU2VwYXJhdG9yICsgbGFzdE51bWJlcjsKICAgICAgICAgIF90aGlzMTIudHJhbnNhY3Rpb24ubnVtYmVyID0gbnVtYmVyOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczEyLmVycm9ycy5wdXNoKGUpOwogICAgICB9KTsKICAgIH0sCiAgICB6ZXJvUGFkOiBmdW5jdGlvbiB6ZXJvUGFkKG51bSwgcGxhY2VzKSB7CiAgICAgIHJldHVybiBTdHJpbmcobnVtKS5wYWRTdGFydChwbGFjZXMsICIwIik7CiAgICB9LAogICAgbG9hZFByZWZpeDogZnVuY3Rpb24gbG9hZFByZWZpeCgpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBwcmVmaXhIYW5kbGVyLmdldCgicHVyY2hhc2Ugb3JkZXIiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLnRyYW5zYWN0aW9uVHlwZSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMy50cmFuc2FjdGlvblR5cGUubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMudHJhbnNhY3Rpb24udHJhbnNhY3Rpb25UeXBlID0gX3RoaXMxMy50cmFuc2FjdGlvblR5cGVbMF07CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMxMy5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5nZW5lcmF0ZU51bWJlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUHVyY2hhc2VGb3JtQ29udGVudDogZnVuY3Rpb24gbG9hZFB1cmNoYXNlRm9ybUNvbnRlbnQoKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgcHVyY2hhc2VGb3JtQ29udGVudEhhbmRsZXIubGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5wdXJjaGFzZUZvcm1Db250ZW50ID0gZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUHJvamVjdEJ5U3VwcGxpZXI6IGZ1bmN0aW9uIGxvYWRQcm9qZWN0QnlTdXBwbGllcigpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsgLy8gcHJvamVjdEhhbmRsZXIuZ2V0QnlTdXBwbGllcih0aGlzLnN1cHBsaWVyLmlkKS50aGVuKHJlcyA9PiB7CgogICAgICAgICAgICAgICAgICAgIHByb2plY3RIYW5kbGVyLmxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUuc2hvd0xvYWRpbmcgPSB0cnVlOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnByb2plY3RzID0gcmVzLmRhdGEuZGF0YTsgLy8gaWYgKHRoaXMucHJvamVjdHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKCF0aGlzLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy50cmFuc2FjdGlvbi5wcm9qZWN0ID0gdGhpcy5wcm9qZWN0c1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFRheDogZnVuY3Rpb24gbG9hZFRheCgpIHsKICAgICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBzZXR0aW5nSGFuZGxlci5nZXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYudGF4ID0gcmVzOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5vdGhlclRheCA9IF90aGlzMTYudGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS50YXhUeXBlLnR5cGVJZCA9PT0gNzsKICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyB2YWx1YWJsZSB0YXgKICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMud2l0aGhvbGRpbmdUYXggPSB0aGlzLnRheC5maWx0ZXIobSA9PiBtLnRheFR5cGUudHlwZUlkID09PSAyICYmIG0udHJhbnNhY3Rpb25UeXBlID09PSAnU2FsZScpIC8vIHZhbHVhYmxlIHRheAoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYudmF0VGF4ID0gX3RoaXMxNi50YXguZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLnRheFR5cGUudHlwZUlkID09PSAxIHx8IG0udGF4VHlwZS50eXBlSWQgPT09IDggfHwgbS50YXhUeXBlLnR5cGVJZCA9PT0gMjsKICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyB2YWx1YWJsZSB0YXgKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFNhbGVVbml0SXRlbXM6IGZ1bmN0aW9uIGxvYWRTYWxlVW5pdEl0ZW1zKCkgewogICAgICB2YXIgX3RoaXMxNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHNhbGVVbml0SXRlbUhhbmRsZXIubGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgX3RoaXMxNy5zYWxlVW5pdEl0ZW1MaXN0ID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy9pdGVtbGluZQogICAgcmVtb3ZlRHVwbGljYXRlOiBmdW5jdGlvbiByZW1vdmVEdXBsaWNhdGUoYXJyYXkpIHsKICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICB2YXIgbWFwID0gbmV3IE1hcCgpOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFycmF5KSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBpZiAoIW1hcC5oYXMoaXRlbS5pZCkpIHsKICAgICAgICAgICAgbWFwLnNldChpdGVtLmlkLCB0cnVlKTsgLy8gc2V0IGFueSB2YWx1ZSB0byBNYXAKCiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVEaXNjb3VudDogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZURpc2NvdW50KGRpc2NvdW50SXRlbSwgc3ViVG90YWwpIHsKICAgICAgaWYgKGRpc2NvdW50SXRlbSkgewogICAgICAgIHZhciBuYXR1cmUgPSBkaXNjb3VudEl0ZW0ubmF0dXJlIHx8ICcnOwogICAgICAgIHZhciBhbW91bnQgPSBkaXNjb3VudEl0ZW0uYW1vdW50IHx8IDA7CgogICAgICAgIGlmIChuYXR1cmUgPT09ICdBbW91bnQnKSB7CiAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChhbW91bnQpOwogICAgICAgIH0gZWxzZSBpZiAobmF0dXJlID09PSAnUGVyY2VudGFnZScpIHsKICAgICAgICAgIHJldHVybiBzdWJUb3RhbCAqIChwYXJzZUZsb2F0KGFtb3VudCkgLyAxMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlVGF4OiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlVGF4KHRheCwgYW1vdW50KSB7CiAgICAgIGlmICh0YXgpIHsKICAgICAgICB2YXIgZm9ybXVsYSA9IHRheC5mb3JtdWxhOwogICAgICAgIHZhciBpbkFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB2YXIgbkFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB2YXIgdGF4QmFzZSA9IGtlbmRvLnBhcnNlRmxvYXQodGF4LnRheEJhc2UpIC8gMTAwOwogICAgICAgIHZhciByYXRlID0ga2VuZG8ucGFyc2VGbG9hdCh0YXgucmF0ZSkgLyAxMDA7CiAgICAgICAgdmFyIHRvdGFsID0gZXZhbChmb3JtdWxhKTsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coaW5BbXQsIG5BbXQsIHRheEJhc2UsIHJhdGUsIGZvcm11bGEsIHRvdGFsKTsgLy8gd2luZG93LmNvbnNvbGUubG9nKHRheCwgInRheCIpOwogICAgICAgIC8vIGlmICh0YXguaGFzT3duUHJvcGVydHkoInRheFR5cGUiKSkgewogICAgICAgIC8vICAgICBpZiAodGF4LnRheFR5cGUubmF0dXJlID09ICJEZWR1Y3QiKSB7CiAgICAgICAgLy8gICAgICAgICB0b3RhbCA9IHRvdGFsICogLTE7CiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyB9CgogICAgICAgIHJldHVybiB0b3RhbDsKICAgICAgfSAvLyByZXR1cm4gMAoKICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlVGF4QnlUeXBlOiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlVGF4QnlUeXBlKHRheCkgewogICAgICAvLyByZXR1cm4gYnkgYSBrZXkKICAgICAgdmFyIGdyb3VwQWxsID0gZnVuY3Rpb24gZ3JvdXBBbGwobGlzdCkgewogICAgICAgIHJldHVybiBsaXN0LnJlZHVjZShmdW5jdGlvbiAodGF4LCBpdGVtKSB7CiAgICAgICAgICB2YXIgdGF4QW1vdW50ID0gdGF4W2l0ZW0ubmFtZV0gfHwgMDsKICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0YXgsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaXRlbS5uYW1lLCB0YXhBbW91bnQgKyBwYXJzZUZsb2F0KGl0ZW0uYW1vdW50KSkpOwogICAgICAgIH0sIHt9KTsKICAgICAgfTsKCiAgICAgIHRoaXMudGF4TGlzdFRvdGFsID0gZ3JvdXBBbGwodGF4KTsgLy8gd2luZG93LmNvbnNvbGUubG9nKCduaW1vbCcsIGdyb3VwQWxsKHRheCkpCiAgICAgIC8vIHRoaXMuCiAgICB9LAogICAgdGF4TWFwcGluZzogZnVuY3Rpb24gdGF4TWFwcGluZyhvYmpUYXgsIHRheCkgewogICAgICB2YXIgdGF4SWQgPSB0YXguaWQgfHwgJyc7CiAgICAgIHZhciB0YXhfID0gb2JqVGF4LmZpbHRlcihmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiB0LmlkID09PSB0YXhJZDsKICAgICAgfSlbMF07CiAgICAgIHJldHVybiB0YXhfIHx8IHsKICAgICAgICBpZDogJycsCiAgICAgICAgZGVmYXVsdFRheDogJycKICAgICAgfTsKICAgIH0sCiAgICBkYXRhU291cmNlQ2hhbmdlZDogZnVuY3Rpb24gZGF0YVNvdXJjZUNoYW5nZWQoZSkgewogICAgICBpZiAoZS5maWVsZCkgewogICAgICAgIHZhciBkYXRhUm93ID0gZS5pdGVtc1swXSwKICAgICAgICAgICAgYnVvbSA9IHt9LAogICAgICAgICAgICB2VGF4ID0ge30sCiAgICAgICAgICAgIGNvbnZlcnNpb25SYXRlID0gMSwKICAgICAgICAgICAgd2FjID0gMCwKICAgICAgICAgICAgcW9oID0gMCwKICAgICAgICAgICAgYW1vdW50ID0gMCwKICAgICAgICAgICAgeEFtb3VudCA9IDA7CgogICAgICAgIHN3aXRjaCAoZS5maWVsZCkgewogICAgICAgICAgY2FzZSAiaXRlbSI6CiAgICAgICAgICAgIC8vIHRoaXMuYXR0cmlidXRlXyA9IHRoaXMuYXR0cmlidXRlcy5maWx0ZXIobSA9PiBtLnR5cGUuaWQgPT09IGRhdGFSb3cudmFyaWFudC5pZCkKICAgICAgICAgICAgZGF0YVJvdy5zZXQoImRlc2NyaXB0aW9uIiwgZGF0YVJvdy5pdGVtLmRlc2NyaXB0aW9uKTsKICAgICAgICAgICAgYnVvbSA9IGRhdGFSb3cuaXRlbS51b20gfHwge307CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJidW9tIiwgYnVvbSk7IC8vIGRhdGFSb3cuc2V0KCd1b20nLCBidW9tKQogICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coZGF0YVJvdy5pdGVtLCdyb3cnKQogICAgICAgICAgICAvLyBhd2FpdCB0aGlzLmludmVudG9yeUJhbGFuY2UoZGF0YVJvdywgZGF0YVJvdy5pdGVtLmlkKQoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAiY29zdCI6CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgYW1vdW50ID0gcGFyc2VGbG9hdChkYXRhUm93LmNvc3QpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSk7CiAgICAgICAgICAgICAgeEFtb3VudCA9IGFtb3VudCAqIHBhcnNlRmxvYXQodGhpcy50cmFuc2FjdGlvbi50eG5SYXRlKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29zdCIsIHBhcnNlRmxvYXQoZGF0YVJvdy5jb3N0KSk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIGFtb3VudCk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlQW1vdW50IiwgeEFtb3VudCk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZygncHJpY2UnLGRhdGFSb3cucHJpY2UpCiAgICAgICAgICAgIH0gY2F0Y2ggKF91bnVzZWQpIHsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29zdCIsIDApOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCAwKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZXhjaGFuZ2VBbW91bnQiLCAwKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAidW9tIjoKICAgICAgICAgICAgaWYgKHRoaXMuaXNQcmljZUxldmVsQ2hhbmdlZCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgYnVvbSA9IGRhdGFSb3cudW9tLmJ1b20gfHwge307CiAgICAgICAgICAgICAgICBxb2ggPSBkYXRhUm93LnVvbS5xb2ggfHwgMDsKICAgICAgICAgICAgICAgIGNvbnZlcnNpb25SYXRlID0gZGF0YVJvdy51b20uY29udmVyc2lvblJhdGUgfHwgMTsKICAgICAgICAgICAgICAgIHdhYyA9IGRhdGFSb3cudW9tLndhYyB8fCAwOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImJ1b20iLCBidW9tKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJ3YWMiLCB3YWMpOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInFvaCIsIHFvaCk7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29udmVyc2lvblJhdGUiLCBwYXJzZUZsb2F0KGNvbnZlcnNpb25SYXRlKSk7CiAgICAgICAgICAgICAgICAvKiB0b2RvOiBtYXBwaW5nIHRheCBvYmplY3QgKi8KCiAgICAgICAgICAgICAgICB2VGF4ID0gdGhpcy50YXhNYXBwaW5nKHRoaXMudmF0VGF4LCBkYXRhUm93LnVvbS5wdXJjaGFzZVRheCB8fCB7fSk7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgidmF0VGF4IiwgdlRheCk7CgogICAgICAgICAgICAgICAgaWYgKGRhdGFSb3cudW9tKSB7CiAgICAgICAgICAgICAgICAgIGFtb3VudCA9IHBhcnNlRmxvYXQoZGF0YVJvdy51b20uY29zdCkgKiBwYXJzZUZsb2F0KGRhdGFSb3cucXR5KTsKICAgICAgICAgICAgICAgICAgeEFtb3VudCA9IGFtb3VudCAqIHBhcnNlRmxvYXQodGhpcy50cmFuc2FjdGlvbi50eG5SYXRlKTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvc3QiLCBwYXJzZUZsb2F0KGRhdGFSb3cudW9tLmNvc3QpKTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIGFtb3VudCk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIHhBbW91bnQpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgYW1vdW50ID0gcGFyc2VGbG9hdChkYXRhUm93LmNvc3QpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSk7CiAgICAgICAgICAgICAgICAgIHhBbW91bnQgPSBhbW91bnQgKiBwYXJzZUZsb2F0KHRoaXMudHJhbnNhY3Rpb24udHhuUmF0ZSk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjb3N0IiwgcGFyc2VGbG9hdChkYXRhUm93LmNvc3QpKTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIGFtb3VudCk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIHhBbW91bnQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJlcnJvciIsIGVycik7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYnVvbSIsIHt9KTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjb252ZXJzaW9uUmF0ZSIsIDEpOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvc3QiLCAwKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJxb2giLCAwKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJ3YWMiLCAwKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCAwKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIDApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAicXR5IjoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBhbW91bnQgPSBwYXJzZUZsb2F0KGRhdGFSb3cuY29zdCkgKiBwYXJzZUZsb2F0KGRhdGFSb3cucXR5KTsKICAgICAgICAgICAgICB4QW1vdW50ID0gYW1vdW50ICogcGFyc2VGbG9hdCh0aGlzLnRyYW5zYWN0aW9uLnR4blJhdGUpOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjb3N0IiwgcGFyc2VGbG9hdChkYXRhUm93LmNvc3QpKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgYW1vdW50KTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZXhjaGFuZ2VBbW91bnQiLCB4QW1vdW50KTsKICAgICAgICAgICAgfSBjYXRjaCAoX3VudXNlZDIpIHsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29zdCIsIDApOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCAwKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZXhjaGFuZ2VBbW91bnQiLCAwKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAib3RoZXJUYXgiOgogICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coIi0tIiwgZGF0YVJvdykKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBpZiAoZS5maWVsZCkgewogICAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXV0b0NhbGN1bGF0ZTogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZSgpIHsKICAgICAgdmFyIF90aGlzMTggPSB0aGlzOwoKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZVBPRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHN1YlRvdGFsID0gMCwKICAgICAgICAgIHRvdGFsVGF4ID0gMCwKICAgICAgICAgIGRpc2NvdW50VG90YWwgPSAwLAogICAgICAgICAgc3BUYXggPSAwLAogICAgICAgICAgcGx0YXggPSAwLAogICAgICAgICAgb3RoZXJUYXggPSAwLAogICAgICAgICAgdmF0VGF4ID0gMCwKICAgICAgICAgIGRpc2NvdW50SW52b2ljZSA9IDAsCiAgICAgICAgICB0YXhMaXN0ID0gW10sCiAgICAgICAgICBkaXNjb3VudEl0ZW0gPSBbXSwKICAgICAgICAgIHRheExpc3REZXRhaWwgPSBbXSwKICAgICAgICAgIHNhbGVVbml0ID0gW10sCiAgICAgICAgICBpbmNsdXNpdmVUYXggPSAwLAogICAgICAgICAgaXRlbVN1YnRvdGFsID0gMCwKICAgICAgICAgIHR4bkl0bVN1YnRvdGFsID0gMCwKICAgICAgICAgIHNlcnZpY2VTdWJ0b3RhbCA9IDAsCiAgICAgICAgICBpdGVtRGlzY291bnQgPSAwLAogICAgICAgICAgc2VydmljZURpc2NvdW50ID0gMCwKICAgICAgICAgIHdpdGhob2xkaW5nVGF4QW1vdW50ID0gMCwKICAgICAgICAgIHR4bkRpc2NvdW50ID0gMDsKICAgICAgZHMuZGF0YSgpLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdmFyIG1vZGlmaWVyUHJpY2UgPSAwLAogICAgICAgICAgICBpbmNUYXggPSAwLAogICAgICAgICAgICB0YXhUeXBlSWQgPSAwOwogICAgICAgIHZhciB2YXRTcFRheCA9IHt9LAogICAgICAgICAgICB2YXRQTFRheCA9IHt9LAogICAgICAgICAgICB2YXRPdGhlclRheCA9IHt9OwoKICAgICAgICBpZiAodmFsdWUubW9kaWZpZXIpIHsKICAgICAgICAgIG1vZGlmaWVyUHJpY2UgPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLm1vZGlmaWVyLnByaWNlIHx8IDApOwogICAgICAgIH0gLy8gc3ViVG90YWwgKz0gKGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSArIG1vZGlmaWVyUHJpY2UpCgoKICAgICAgICB2YXIgZGlzY291bnQgPSAwOwoKICAgICAgICBpZiAodmFsdWUuZGlzY291bnRJdGVtKSB7CiAgICAgICAgICB2YXIgc3ViVG8gPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmNvc3QpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdHkpOwogICAgICAgICAgZGlzY291bnQgPSBfdGhpczE4LmF1dG9DYWxjdWxhdGVEaXNjb3VudCh2YWx1ZS5kaXNjb3VudEl0ZW0sIHN1YlRvKTsKICAgICAgICAgIHZhbHVlWyJkaXNjb3VudEFtb3VudCJdID0gZGlzY291bnQ7CiAgICAgICAgICB2YWx1ZVsiZGlzY291bnRFeGNoYW5nZUFtb3VudCJdID0gZGlzY291bnQgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTgudHJhbnNhY3Rpb24udHhuUmF0ZSk7CgogICAgICAgICAgaWYgKHZhbHVlLmRpc2NvdW50SXRlbS5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICBkaXNjb3VudEl0ZW0ucHVzaCh2YWx1ZS5kaXNjb3VudEl0ZW0pOwogICAgICAgICAgfQoKICAgICAgICAgIGRpc2NvdW50VG90YWwgKz0gZGlzY291bnQ7CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUuc2FsZVVuaXQpIHsKICAgICAgICAgIGlmICh2YWx1ZS5zYWxlVW5pdC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICBzYWxlVW5pdC5wdXNoKHZhbHVlLnNhbGVVbml0KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh2YWx1ZS5zcGVjaWZpY1RheCkgewogICAgICAgICAgc3BUYXggPSBfdGhpczE4LmF1dG9DYWxjdWxhdGVUYXgodmFsdWUuc3BlY2lmaWNUYXgsIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSAtIGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnQpKTsgLy8gd2luZG93LmNvbnNvbGUubG9nKCdzcCAnLCBkaXNjb3VudCkKCiAgICAgICAgICBzcFRheCA9IGtlbmRvLnBhcnNlRmxvYXQoc3BUYXgpID8ga2VuZG8ucGFyc2VGbG9hdChzcFRheCkgOiAwOwogICAgICAgICAgdmFsdWVbInNwZWNpZmljVGF4QW1vdW50Il0gPSBzcFRheDsKICAgICAgICAgIHZhbHVlWyJzcGVjaWZpY1RheEV4Y2hhbmdlQW1vdW50Il0gPSBzcFRheCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxOC50cmFuc2FjdGlvbi50eG5SYXRlKTsKICAgICAgICAgIHZhciB0YXggPSB2YWx1ZS5zcGVjaWZpY1RheDsKICAgICAgICAgIHZhciBiYXNlQW1vdW50ID0gdGF4LmJhc2VBbW91bnQ7CgogICAgICAgICAgaWYgKGJhc2VBbW91bnQpIHsKICAgICAgICAgICAgaWYgKGJhc2VBbW91bnQudG9Mb3dlckNhc2UoKSA9PT0gImluY2x1c2l2ZSIpIHsKICAgICAgICAgICAgICBpbmNsdXNpdmVUYXggKz0gcGFyc2VGbG9hdChzcFRheCB8fCAwKTsKICAgICAgICAgICAgICBpbmNUYXggKz0gcGFyc2VGbG9hdChzcFRheCB8fCAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmICh2YWx1ZS5zcGVjaWZpY1RheC5oYXNPd25Qcm9wZXJ0eSgidGF4VHlwZSIpKSB7CiAgICAgICAgICAgIHRheExpc3QucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogdmFsdWUuc3BlY2lmaWNUYXgudGF4VHlwZS5uYW1lLAogICAgICAgICAgICAgIGFtb3VudDogc3BUYXgsCiAgICAgICAgICAgICAgaWQ6IHZhbHVlLnNwZWNpZmljVGF4LnRheFR5cGUuaWQKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBzcFRheF8gPSB2YWx1ZS5zcGVjaWZpY1RheCB8fCB7fTsKICAgICAgICAgICAgc3BUYXhfWyd0YXhBbW91bnRfJ10gPSBzcFRheDsgLy8gc3BUYXhfWyd0YXhBbW91bnQnXSA9IHNwVGF4CgogICAgICAgICAgICBzcFRheF9bJ2Ftb3VudCddID0gdmFsdWUuYW1vdW50IHx8IDA7CiAgICAgICAgICAgIHNwVGF4X1snZGlzY291bnQnXSA9IGRpc2NvdW50IHx8IDA7CiAgICAgICAgICAgIHNwVGF4X1sndHhuUmF0ZSddID0gX3RoaXMxOC50cmFuc2FjdGlvbi50eG5SYXRlIHx8IDE7CiAgICAgICAgICAgIHRheExpc3REZXRhaWwucHVzaChzcFRheF8pOwogICAgICAgICAgICB2YXRTcFRheCA9IHNwVGF4XzsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh2YWx1ZS5wdWJsaWNMaWdodGluZ1RheCkgewogICAgICAgICAgcGx0YXggPSBfdGhpczE4LmF1dG9DYWxjdWxhdGVUYXgodmFsdWUucHVibGljTGlnaHRpbmdUYXgsIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSAtIGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnQpKTsKICAgICAgICAgIHBsdGF4ID0ga2VuZG8ucGFyc2VGbG9hdChwbHRheCkgPyBrZW5kby5wYXJzZUZsb2F0KHBsdGF4KSA6IDA7CiAgICAgICAgICB2YWx1ZVsicHVibGljTGlnaHRpbmdUYXhBbW91bnQiXSA9IHBsdGF4OwogICAgICAgICAgdmFsdWVbInB1YmxpY0xpZ2h0aW5nVGF4RXhjaGFuZ2VBbW91bnQiXSA9IHBsdGF4ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczE4LnRyYW5zYWN0aW9uLnR4blJhdGUpOwogICAgICAgICAgdmFyIF90YXggPSB2YWx1ZS5wdWJsaWNMaWdodGluZ1RheDsKICAgICAgICAgIHZhciBfYmFzZUFtb3VudCA9IF90YXguYmFzZUFtb3VudDsKCiAgICAgICAgICBpZiAoX2Jhc2VBbW91bnQpIHsKICAgICAgICAgICAgaWYgKF9iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCkgPT09ICJpbmNsdXNpdmUiKSB7CiAgICAgICAgICAgICAgaW5jbHVzaXZlVGF4ICs9IHBhcnNlRmxvYXQocGx0YXggfHwgMCk7CiAgICAgICAgICAgICAgaW5jVGF4ICs9IHBhcnNlRmxvYXQocGx0YXggfHwgMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUucHVibGljTGlnaHRpbmdUYXguaGFzT3duUHJvcGVydHkoInRheFR5cGUiKSkgewogICAgICAgICAgICB0YXhMaXN0LnB1c2goewogICAgICAgICAgICAgIG5hbWU6IHZhbHVlLnB1YmxpY0xpZ2h0aW5nVGF4LnRheFR5cGUubmFtZSwKICAgICAgICAgICAgICBhbW91bnQ6IHBsdGF4LAogICAgICAgICAgICAgIGlkOiB2YWx1ZS5wdWJsaWNMaWdodGluZ1RheC50YXhUeXBlLmlkCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgcGxUYXhfID0gdmFsdWUucHVibGljTGlnaHRpbmdUYXggfHwge307IC8vIHRheF9bJ3RheEFtb3VudCddID0gcGx0YXgKCiAgICAgICAgICAgIHBsVGF4X1sndGF4QW1vdW50XyddID0gcGx0YXg7CiAgICAgICAgICAgIHBsVGF4X1snYW1vdW50J10gPSB2YWx1ZS5hbW91bnQgfHwgMDsKICAgICAgICAgICAgcGxUYXhfWydkaXNjb3VudCddID0gZGlzY291bnQgfHwgMDsKICAgICAgICAgICAgcGxUYXhfWyd0eG5SYXRlJ10gPSBfdGhpczE4LnRyYW5zYWN0aW9uLnR4blJhdGUgfHwgMTsKICAgICAgICAgICAgdGF4TGlzdERldGFpbC5wdXNoKHBsVGF4Xyk7CiAgICAgICAgICAgIHZhdFBMVGF4ID0gcGxUYXhfOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlLm90aGVyVGF4KSB7CiAgICAgICAgICBvdGhlclRheCA9IF90aGlzMTguYXV0b0NhbGN1bGF0ZVRheCh2YWx1ZS5vdGhlclRheCwga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQpIC0ga2VuZG8ucGFyc2VGbG9hdChkaXNjb3VudCkpOwogICAgICAgICAgb3RoZXJUYXggPSBrZW5kby5wYXJzZUZsb2F0KG90aGVyVGF4KSA/IGtlbmRvLnBhcnNlRmxvYXQob3RoZXJUYXgpIDogMDsKICAgICAgICAgIHZhbHVlWyJvdGhlclRheEFtb3VudCJdID0gb3RoZXJUYXg7CiAgICAgICAgICB2YWx1ZVsib3RoZXJUYXhFeGNoYW5nZUFtb3VudCJdID0gb3RoZXJUYXggKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTgudHJhbnNhY3Rpb24udHhuUmF0ZSk7CiAgICAgICAgICB2YXIgX3RheDIgPSB2YWx1ZS5vdGhlclRheDsKICAgICAgICAgIHZhciBfYmFzZUFtb3VudDIgPSBfdGF4Mi5iYXNlQW1vdW50OwoKICAgICAgICAgIGlmIChfYmFzZUFtb3VudDIpIHsKICAgICAgICAgICAgaWYgKF9iYXNlQW1vdW50Mi50b0xvd2VyQ2FzZSgpID09PSAiaW5jbHVzaXZlIikgewogICAgICAgICAgICAgIGluY2x1c2l2ZVRheCArPSBwYXJzZUZsb2F0KG90aGVyVGF4IHx8IDApOwogICAgICAgICAgICAgIGluY1RheCArPSBwYXJzZUZsb2F0KG90aGVyVGF4IHx8IDApOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHZhbHVlLm90aGVyVGF4Lmhhc093blByb3BlcnR5KCJ0YXhUeXBlIikpIHsKICAgICAgICAgICAgdGF4TGlzdC5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiB2YWx1ZS5vdGhlclRheC50YXhUeXBlLm5hbWUsCiAgICAgICAgICAgICAgYW1vdW50OiBvdGhlclRheCwKICAgICAgICAgICAgICBpZDogdmFsdWUub3RoZXJUYXgudGF4VHlwZS5pZAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdmFyIHRheF9fID0gdmFsdWUuc3BlY2lmaWNUYXggfHwge307IC8vIHRheF9fWyd0YXhBbW91bnQnXSA9IG90aGVyVGF4CgogICAgICAgICAgICB0YXhfX1sndGF4QW1vdW50XyddID0gb3RoZXJUYXg7CiAgICAgICAgICAgIHRheF9fWydhbW91bnQnXSA9IHZhbHVlLmFtb3VudCB8fCAwOwogICAgICAgICAgICB0YXhfX1snZGlzY291bnQnXSA9IGRpc2NvdW50IHx8IDA7CiAgICAgICAgICAgIHRheF9fWyd0eG5SYXRlJ10gPSBfdGhpczE4LnRyYW5zYWN0aW9uLnR4blJhdGUgfHwgMTsKICAgICAgICAgICAgdGF4TGlzdERldGFpbC5wdXNoKHRheF9fKTsKICAgICAgICAgICAgdmF0T3RoZXJUYXggPSB0YXhfXzsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh2YWx1ZS52YXRUYXgpIHsKICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygnVmF0IFRheCcsIHZhbHVlLnZhdFRheCkKICAgICAgICAgIHZhciBhbXQgPSBrZW5kby5wYXJzZUZsb2F0KHNwVGF4ID8gc3BUYXggOiAwKSArIGtlbmRvLnBhcnNlRmxvYXQocGx0YXggPyBwbHRheCA6IDApICsga2VuZG8ucGFyc2VGbG9hdChvdGhlclRheCA/IG90aGVyVGF4IDogMCkgKyAoa2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQgPyB2YWx1ZS5hbW91bnQgOiAwKSAtIChkaXNjb3VudCA/IGRpc2NvdW50IDogMCkpOwogICAgICAgICAgdmF0VGF4ID0gX3RoaXMxOC5hdXRvQ2FsY3VsYXRlVGF4KHZhbHVlLnZhdFRheCwgYW10KTsKICAgICAgICAgIHZhdFRheCA9IGtlbmRvLnBhcnNlRmxvYXQodmF0VGF4KSA/IGtlbmRvLnBhcnNlRmxvYXQodmF0VGF4KSA6IDA7CiAgICAgICAgICB2YWx1ZVsidmF0VGF4QW1vdW50Il0gPSB2YXRUYXg7CiAgICAgICAgICB2YWx1ZVsidmF0VGF4RXhjaGFuZ2VBbW91bnQiXSA9IHZhdFRheCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxOC50cmFuc2FjdGlvbi50eG5SYXRlKTsKICAgICAgICAgIHZhciBfdGF4MyA9IHZhbHVlLnZhdFRheDsKICAgICAgICAgIHZhciBfYmFzZUFtb3VudDMgPSBfdGF4My5iYXNlQW1vdW50OwoKICAgICAgICAgIGlmIChfYmFzZUFtb3VudDMpIHsKICAgICAgICAgICAgaWYgKF9iYXNlQW1vdW50My50b0xvd2VyQ2FzZSgpID09PSAiaW5jbHVzaXZlIikgewogICAgICAgICAgICAgIGluY2x1c2l2ZVRheCArPSB2YXRUYXg7CiAgICAgICAgICAgICAgaW5jVGF4ICs9IHZhdFRheDsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmICh2YWx1ZS52YXRUYXguaGFzT3duUHJvcGVydHkoInRheFR5cGUiKSkgewogICAgICAgICAgICB2YXIgdGF4VHlwZSA9IHZhbHVlLnZhdFRheC50YXhUeXBlIHx8IHt9OwogICAgICAgICAgICB0YXhUeXBlSWQgPSB0YXhUeXBlLnR5cGVJZCB8fCAwOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0YXhUeXBlSWQgPT09IDIpIHsKICAgICAgICAgICAgd2l0aGhvbGRpbmdUYXhBbW91bnQgKz0gdmF0VGF4OwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh2YWx1ZS52YXRUYXguaGFzT3duUHJvcGVydHkoInRheFR5cGUiKSkgewogICAgICAgICAgICB0YXhMaXN0LnB1c2goewogICAgICAgICAgICAgIG5hbWU6IHZhbHVlLnZhdFRheC50YXhUeXBlLm5hbWUsCiAgICAgICAgICAgICAgYW1vdW50OiB2YXRUYXgsCiAgICAgICAgICAgICAgaWQ6IHZhbHVlLnZhdFRheC50YXhUeXBlLmlkCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgdmF0VGF4XyA9IHZhbHVlLnZhdFRheCB8fCB7fTsgLy8gdmF0VGF4X1sndGF4QW1vdW50J10gPSB2YXRUYXgKCiAgICAgICAgICAgIHZhdFRheF9bJ3RheEFtb3VudF8nXSA9IHZhdFRheDsKICAgICAgICAgICAgdmF0VGF4X1snYW1vdW50J10gPSB2YWx1ZS5hbW91bnQgfHwgMDsKICAgICAgICAgICAgdmF0VGF4X1snZGlzY291bnQnXSA9IGRpc2NvdW50IHx8IDA7CiAgICAgICAgICAgIHZhdFRheF9bJ3R4blJhdGUnXSA9IF90aGlzMTgudHJhbnNhY3Rpb24udHhuUmF0ZSB8fCAxOwogICAgICAgICAgICB2YXRUYXhfWydpc1ZhdCddID0gMTsKICAgICAgICAgICAgdmF0VGF4Xy5kZXRhaWwgPSB7CiAgICAgICAgICAgICAgc3BlY2lmaWNUYXg6IHZhdFNwVGF4LAogICAgICAgICAgICAgIHB1YmxpY0xpZ2h0aW5nVGF4OiB2YXRQTFRheCwKICAgICAgICAgICAgICBvdGhlclRheDogdmF0T3RoZXJUYXgKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGF4TGlzdERldGFpbC5wdXNoKHZhdFRheF8pOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdG90YWxUYXggKz0ga2VuZG8ucGFyc2VGbG9hdChzcFRheCA/IHNwVGF4IDogMCkgKyBrZW5kby5wYXJzZUZsb2F0KHBsdGF4ID8gcGx0YXggOiAwKSArIGtlbmRvLnBhcnNlRmxvYXQob3RoZXJUYXggPyBvdGhlclRheCA6IDApICsga2VuZG8ucGFyc2VGbG9hdCh2YXRUYXggPyB2YXRUYXggOiAwKTsKICAgICAgICBzdWJUb3RhbCArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCkgKyBtb2RpZmllclByaWNlIC0gaW5jVGF4OwogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnc3ViVG90YWwgJywgc3ViVG90YWwsICcgdmFsdWUuYW1vdW50PScsIHZhbHVlLmFtb3VudCwgJyBtb2RpZmllclByaWNlPScsIG1vZGlmaWVyUHJpY2UpOwogICAgICAgIHZhciBpdGVtID0gdmFsdWUuaXRlbTsKICAgICAgICB2YXIgaXRtVHlwZSA9IGl0ZW0udHlwZSB8fCAiIjsKCiAgICAgICAgaWYgKGl0bVR5cGUgPT09ICJWYXJpYW50IikgewogICAgICAgICAgaXRlbVN1YnRvdGFsICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuY29zdCkgKiBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnF0eSk7CiAgICAgICAgICBpdGVtRGlzY291bnQgKz0ga2VuZG8ucGFyc2VGbG9hdChkaXNjb3VudCk7CiAgICAgICAgfSBlbHNlIGlmIChpdG1UeXBlID09PSAiU2VydmljZSIpIHsKICAgICAgICAgIHNlcnZpY2VTdWJ0b3RhbCArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmNvc3QpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdHkpOwogICAgICAgICAgaXRlbURpc2NvdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0eG5JdG1TdWJ0b3RhbCArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmNvc3QpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdHkpOwogICAgICAgICAgaXRlbURpc2NvdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnQpOwogICAgICAgIH0gLy9pbmNsdWRlIFRheCBBbW91bnQKCgogICAgICAgIHZhciBhbW91bnROb2Rpc2NvdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5jb3N0KSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucXR5KSAtIGRpc2NvdW50OwogICAgICAgIHZhciBpbmNsdWRlVGF4QW1vdW50ID0gYW1vdW50Tm9kaXNjb3VudCArIHZhdFRheCArIHBsdGF4ICsgc3BUYXggKyBvdGhlclRheDsKICAgICAgICB2YWx1ZVsiaW5jbHVkZVRheEFtb3VudCJdID0gaW5jbHVkZVRheEFtb3VudDsKICAgICAgICB2YWx1ZVsiaW5jbHVkZVRheEV4Y2hhbmdlQW1vdW50Il0gPSBpbmNsdWRlVGF4QW1vdW50ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczE4LnRyYW5zYWN0aW9uLnR4blJhdGUpOwogICAgICB9KTsKICAgICAgdGhpcy50cmFuc2FjdGlvbi5pdGVtU3VidG90YWwgPSBpdGVtU3VidG90YWw7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24uaW5jbHVzaXZlVGF4QW1vdW50ID0gaW5jbHVzaXZlVGF4OwogICAgICB0aGlzLnRyYW5zYWN0aW9uLmV4Y2hhbmdlSXRlbVN1YnRvdGFsID0gaXRlbVN1YnRvdGFsICoga2VuZG8ucGFyc2VGbG9hdCh0aGlzLnRyYW5zYWN0aW9uLnR4blJhdGUpOwogICAgICB0aGlzLnRyYW5zYWN0aW9uLnNlcnZpY2VTdWJ0b3RhbCA9IHNlcnZpY2VTdWJ0b3RhbDsKICAgICAgdGhpcy50cmFuc2FjdGlvbi5leGNoYW5nZVNlcnZpY2VTdWJ0b3RhbCA9IHNlcnZpY2VTdWJ0b3RhbCAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy50cmFuc2FjdGlvbi50eG5SYXRlKTsKICAgICAgdGhpcy50cmFuc2FjdGlvbi50eG5JdG1TdWJ0b3RhbCA9IHR4bkl0bVN1YnRvdGFsOwogICAgICB0aGlzLnRyYW5zYWN0aW9uLmV4Y2hhbmdlVHhuSXRtU3VidG90YWwgPSB0eG5JdG1TdWJ0b3RhbCAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy50cmFuc2FjdGlvbi50eG5SYXRlKTsKICAgICAgdGhpcy50cmFuc2FjdGlvbi5pdGVtRGlzY291bnQgPSBpdGVtRGlzY291bnQ7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24uZXhjaGFuZ2VJdGVtRGlzY291bnQgPSBpdGVtRGlzY291bnQgKiBrZW5kby5wYXJzZUZsb2F0KHRoaXMudHJhbnNhY3Rpb24udHhuUmF0ZSk7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24uc2VydmljZURpc2NvdW50ID0gc2VydmljZURpc2NvdW50OwogICAgICB0aGlzLnRyYW5zYWN0aW9uLmV4Y2hhbmdlU2VydmljZURpc2NvdW50ID0gc2VydmljZURpc2NvdW50ICoga2VuZG8ucGFyc2VGbG9hdCh0aGlzLnRyYW5zYWN0aW9uLnR4blJhdGUpOwogICAgICB0aGlzLnRyYW5zYWN0aW9uLnR4bkl0bURpc2NvdW50ID0gdHhuRGlzY291bnQ7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24uZXhjaGFuZ2VUeG5JdG1EaXNjb3VudCA9IHR4bkRpc2NvdW50ICoga2VuZG8ucGFyc2VGbG9hdCh0aGlzLnRyYW5zYWN0aW9uLnR4blJhdGUpOwogICAgICBkaXNjb3VudFRvdGFsID0gZGlzY291bnRUb3RhbCA/IGRpc2NvdW50VG90YWwgOiAwOyAvLyB3aW5kb3cuY29uc29sZS5sb2coc3BUYXgsIHBsdGF4LCBvdGhlclRheCwgdmF0VGF4KQoKICAgICAgdmFyIHRvdGFsID0ga2VuZG8ucGFyc2VGbG9hdChzdWJUb3RhbCkgLSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50VG90YWwpICsga2VuZG8ucGFyc2VGbG9hdCh0b3RhbFRheCk7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24uc3ViVG90YWwgPSBzdWJUb3RhbDsKICAgICAgJCgiI3N1YnRvdGFsIikudGV4dChrZW5kby5wYXJzZUZsb2F0KHN1YlRvdGFsKSk7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24ud2l0aGhvbGRpbmdUYXhBbW91bnQgPSB3aXRoaG9sZGluZ1RheEFtb3VudDsKICAgICAgdGhpcy50cmFuc2FjdGlvbi50b3RhbFRheEFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodG90YWxUYXgpOwogICAgICB0aGlzLnRyYW5zYWN0aW9uLmRpc2NvdW50VG90YWwgPSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50VG90YWwpOwoKICAgICAgaWYgKHRoaXMudHJhbnNhY3Rpb24uc3BlY2lmaWNEaXNjb3VudEl0ZW0pIHsKICAgICAgICBkaXNjb3VudEludm9pY2UgPSB0aGlzLmF1dG9DYWxjdWxhdGVEaXNjb3VudCh0aGlzLnRyYW5zYWN0aW9uLnNwZWNpZmljRGlzY291bnRJdGVtLCBrZW5kby5wYXJzZUZsb2F0KHN1YlRvdGFsKSk7CiAgICAgICAgZGlzY291bnRJbnZvaWNlID0gZGlzY291bnRJbnZvaWNlID8gZGlzY291bnRJbnZvaWNlIDogMDsKICAgICAgfSAvLyB0aGlzLm9uT3RoZXJDaGFyZ2VDaGFuZ2UoKQoKCiAgICAgIHRoaXMudHJhbnNhY3Rpb24udG90YWwgPSBrZW5kby5wYXJzZUZsb2F0KHRvdGFsKSAtIGRpc2NvdW50SW52b2ljZSAtIHBhcnNlRmxvYXQod2l0aGhvbGRpbmdUYXhBbW91bnQpOwogICAgICB0aGlzLnRyYW5zYWN0aW9uLmV4Y2hhbmdlQW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh0aGlzLnRyYW5zYWN0aW9uLnRvdGFsKSAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy50cmFuc2FjdGlvbi50eG5SYXRlKTsKICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlVGF4QnlUeXBlKHRheExpc3QpOwogICAgICB0aGlzLmRpc2NvdW50SXRlbSA9IHRoaXMucmVtb3ZlRHVwbGljYXRlKGRpc2NvdW50SXRlbSk7CiAgICAgIHRoaXMuc2FsZVVuaXQgPSB0aGlzLnJlbW92ZUR1cGxpY2F0ZShzYWxlVW5pdCk7CiAgICAgIHRoaXMudGF4TGlzdERldGFpbCA9IHRheExpc3REZXRhaWw7CiAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZVRheERldGFpbCgpOyAvLyB3aW5kb3cuY29uc29sZS5sb2coJ2Rpc2NvdW50ICcsIHRoaXMuY3VzdG9tZXJEaXNjb3VudEl0ZW0pCiAgICB9LAogICAgcm93TnVtYmVyVG1wbDogZnVuY3Rpb24gcm93TnVtYmVyVG1wbChkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lUE9EUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKICAgICAgcmV0dXJuIGluZGV4ICsgMTsKICAgIH0sCiAgICB2YXRUZW1wbGF0ZTogZnVuY3Rpb24gdmF0VGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIHZhdCA9IGRhdGFJdGVtLnZhdFRheDsKCiAgICAgIGlmICh2YXQpIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KHZhdC5kZWZhdWx0VGF4ID8gdmF0LmRlZmF1bHRUYXggOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBpdGVtVGVtcGxhdGU6IGZ1bmN0aW9uIGl0ZW1UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgaXRlbSA9IGRhdGFJdGVtLml0ZW07CgogICAgICBpZiAoaXRlbSkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQoaXRlbS5uYW1lID8gaXRlbS5uYW1lIDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgVU9NVGVtcGxhdGU6IGZ1bmN0aW9uIFVPTVRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHZhciB1b20gPSBkYXRhSXRlbS51b207CiAgICAgIHZhciBjb2RlID0gdW9tLmNvZGUgfHwgJyc7CgogICAgICBpZiAodW9tKSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdCh1b20udW9tID8gY29kZSA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIHNhbGVVbml0VGVtcGxhdGU6IGZ1bmN0aW9uIHNhbGVVbml0VGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIHNhbGVVbml0ID0gZGF0YUl0ZW0uc2FsZVVuaXQ7CgogICAgICBpZiAoc2FsZVVuaXQpIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KHNhbGVVbml0Lm5hbWUgPyBzYWxlVW5pdC5uYW1lIDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgZGlzY291bnRJdGVtVGVtcGxhdGU6IGZ1bmN0aW9uIGRpc2NvdW50SXRlbVRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHZhciBkaXNjb3VudEl0ZW0gPSBkYXRhSXRlbS5kaXNjb3VudEl0ZW07CgogICAgICBpZiAoZGlzY291bnRJdGVtKSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChkaXNjb3VudEl0ZW0uY29kZSA/IGRpc2NvdW50SXRlbS5jb2RlIDogIiIsICIgLSAiKS5jb25jYXQoZGlzY291bnRJdGVtLm5hbWUgPyBkaXNjb3VudEl0ZW0ubmFtZSA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIFNlcnZpY2VEYXRlRWRpdG9yOiBmdW5jdGlvbiBTZXJ2aWNlRGF0ZUVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgcmVxdWlyZWQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0RhdGVQaWNrZXIoKTsgLy8gbGV0IGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCkKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKGRzLmRhdGEoKSkKICAgICAgLy8gLy8gY29uc3QgZGF0ZVN0cmluZyA9IGtlbmRvLnRvU3RyaW5nKChuZXcgRGF0ZShvcHRpb25zLm1vZGVsLml0ZW1zLnNlcnZpY2VEYXRlKSksIHRoaXMuaXRlbUxpbmUuZGF0ZUZvcm1hdCkKICAgICAgLy8gLy8gY29uc3QgZGF0ZVN0cmluZyA9IGtlbmRvLnRvU3RyaW5nKG9wdGlvbnMubW9kZWwuaXRlbXMuc2VydmljZURhdGUpCiAgICAgIC8vIGNvbnN0ICRpbnB1dCA9ICQoIjxpbnB1dCB2YWx1ZT0iICsgb3B0aW9ucy5tb2RlbC5zZXJ2aWNlRGF0ZSArICIgLz4iKS5hcHBlbmRUbyhjb250YWluZXIpCiAgICAgIC8vICRpbnB1dC5rZW5kb0RhdGVQaWNrZXIoKQogICAgICAvLyAvLyAkaW5wdXQuYXBwZW5kVG8oY29udGFpbmVyKQogICAgICAvLyAvLyBvcHRpb25zLm1vZGVsLml0ZW1zLnNlcnZpY2VEYXRlID0gZGF0ZVN0cmluZwogICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coJGlucHV0KQogICAgfSwKICAgIFNlcnZpY2VEYXRlVG9FZGl0b3I6IGZ1bmN0aW9uIFNlcnZpY2VEYXRlVG9FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IHJlcXVpcmVkIG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9EYXRlUGlja2VyKCk7CiAgICB9LAogICAgSXRlbURyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBJdGVtRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IHJlcXVpcmVkIG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJjb250YWlucyIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGhlYWRlclRlbXBsYXRlOiAiIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bmFtZSM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIHNlcnZlckZpbHRlcmluZzogdHJ1ZSwKICAgICAgICAgIHRyYW5zcG9ydDogewogICAgICAgICAgICByZWFkOiB7CiAgICAgICAgICAgICAgdXJsOiBwcm9kdWN0VmFyaWFudEhhbmRsZXIuaXRlbVNlYXJjaFVSTCgpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbmFtZTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNrdTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgfSAvLyBkYXRhOiB0aGlzLnZhcmlhbnRzCgogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFVPTURyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBVT01Ecm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJjb2RlIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogInVvbUNvbnZlcnRJZCIsCiAgICAgICAgY2FzY2FkZUZyb206ICJpdGVtIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9Y29kZSB8fCBgTm8gUHJpY2UgTGV2ZWxgIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgc2VydmVyRmlsdGVyaW5nOiB0cnVlLAogICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICB1cmw6IHVvbVByaWNlSGFuZGxlci51b21QcmljZUJ5UHJpY2VMZXZlbFVSTCgiaWQ9IiArIG9wdGlvbnMubW9kZWwuaXRlbS5pZCArICImcGxJZD0iICsgdGhpcy50cmFuc2FjdGlvbi5wcmljZUxldmVsLmlkICsgIiZkYXRlPSIgKyB0aGlzLnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uRGF0ZSArICImbmF0dXJlPXB1cmNoYXNlIikKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIgogICAgICAgICAgfSwKICAgICAgICAgIHNjaGVtYTogewogICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgICAgIGZpZWxkczogewogICAgICAgICAgICAgICAgaWQ6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0gLy8gbmFtZToge3R5cGU6ICJzdHJpbmcifSwKICAgICAgICAgICAgICAgIC8vIHNrdToge3R5cGU6ICJzdHJpbmcifSwKCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIGRhdGE6IHRoaXMudmFyaWFudHMKCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgRGlzY291bnRJdGVtRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIERpc2NvdW50SXRlbURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGNhc2NhZGVGcm9tOiAiaXRlbSIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWNvZGUjIC0gIz1uYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgc2VydmVyRmlsdGVyaW5nOiB0cnVlLAogICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICB1cmw6IGRpc2NvdW50SXRlbUhhbmRsZXIuZ2V0VVJMKERJU0NPVU5UX1RZUEUpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9IC8vIG5hbWU6IHt0eXBlOiAic3RyaW5nIn0sCiAgICAgICAgICAgICAgICAvLyBza3U6IHt0eXBlOiAic3RyaW5nIn0sCgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFB1YmxpY0xpZ2h0aW5nVGF4RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIFB1YmxpY0xpZ2h0aW5nVGF4RHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAiZGVmYXVsdFRheCIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWRlZmF1bHRUYXgjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLnB1YmxpY0xpZ2h0aW5nVGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICBpZiAob3B0aW9ucy5tb2RlbC5oYXNPd25Qcm9wZXJ0eSgidmF0VGF4IikpIHsKICAgICAgICAgICAgICB2YXIgdmF0ID0gb3B0aW9ucy5tb2RlbC52YXRUYXg7CgogICAgICAgICAgICAgIGlmICh2YXQpIHsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gbnVsbCAmJiBvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gIm51bGwiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSBvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIE90aGVyVGF4RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIE90aGVyVGF4RHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAiZGVmYXVsdFRheCIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWRlZmF1bHRUYXgjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLm90aGVyVGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICBpZiAob3B0aW9ucy5tb2RlbC5oYXNPd25Qcm9wZXJ0eSgidmF0VGF4IikpIHsKICAgICAgICAgICAgICB2YXIgdmF0ID0gb3B0aW9ucy5tb2RlbC52YXRUYXg7CgogICAgICAgICAgICAgIGlmICh2YXQpIHsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gbnVsbCAmJiBvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gIm51bGwiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSBvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFZhdFRheERyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBWYXRUYXhEcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJkZWZhdWx0VGF4IiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9ZGVmYXVsdFRheCM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tU2VsZWN0LS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgZGF0YTogdGhpcy52YXRUYXgKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBTYWxlVW5pdERyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBTYWxlVW5pdERyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1jb2RlIyAtICM9bmFtZSM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIGRhdGE6IHRoaXMuc2FsZVVuaXRJdGVtTGlzdAogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIEVtcGxveWVlRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIEVtcGxveWVlRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IGRhdGEtYmluZD0idmFsdWU6JyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb011bHRpU2VsZWN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgc3VnZ2VzdDogdHJ1ZSwKICAgICAgICBmaWx0ZXI6ICJjb250YWlucyIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGhlYWRlclRlbXBsYXRlOiAnPGRpdiBjbGFzcz0iZHJvcGRvd24taGVhZGVyIGstd2lkZ2V0IGstaGVhZGVyIj4nICsgIjxzcGFuPkVtcGxveWVlIDwvc3Bhbj4iICsgIjxzcGFuPjwvc3Bhbj4iICsgIjwvZGl2PiIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogZW1wbG95ZWVIYW5kbGVyLnNlYXJjaFVSTCgpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbmFtZTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGxhc3ROYW1lOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgZW1wSW1wbDogZnVuY3Rpb24gZW1wSW1wbChkYXRhSXRlbSkgewogICAgICB2YXIgZW1wSWRzID0gW107CiAgICAgIGRhdGFJdGVtLmVtcGxveWVlLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICBlbXBJZHMucHVzaChtLmZpcnN0TmFtZSArICIgLSAiICsgbS5sYXN0TmFtZSk7CiAgICAgIH0pOyAvLyB3aW5kb3cuY29uc29sZS5sb2coZW1wSWRzLmpvaW4oJywgJykpCgogICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KGVtcElkcy5qb2luKCIsICIpLCAiPC9zcGFuPiIpOwogICAgfSwKICAgIHJlbW92ZVJvdzogZnVuY3Rpb24gcmVtb3ZlUm93KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRJdGVtTGluZSIpLmRhdGEoImtlbmRvR3JpZCIpLAogICAgICAgICAgZGF0YVNvdXJjZSA9IGdyaWQuZGF0YVNvdXJjZSwKICAgICAgICAgIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CgogICAgICBpZiAoZGF0YVNvdXJjZS50b3RhbCgpID4gMSkgewogICAgICAgIGRhdGFTb3VyY2UucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgfQogICAgfSwKICAgIGVycm9yTWVzc2FnZTogZnVuY3Rpb24gZXJyb3JNZXNzYWdlKCkge30sCiAgICAvL2NhdGFsb2cKICAgIGxvYWRJbWFnZTogZnVuY3Rpb24gbG9hZEltYWdlKGRhdGFJdGVtKSB7CiAgICAgIGlmIChkYXRhSXRlbS5oYXNPd25Qcm9wZXJ0eSgiaW1hZ2VzIikpIHsKICAgICAgICBpZiAoZGF0YUl0ZW0uaW1hZ2VzLmhhc093blByb3BlcnR5KCJkZWZhdWx0IikpIHsKICAgICAgICAgIHZhciB1cmwgPSB0aGlzLmltZ1VSTCArIGRhdGFJdGVtLmltYWdlcy5kZWZhdWx0LnRodW1iOwogICAgICAgICAgcmV0dXJuICI8aW1nIHdpZHRoPSc1MCcgaGVpZ2h0PSc1MCcgc3R5bGU9ICdtYXJnaW46IGF1dG87ZGlzcGxheTogYmxvY2s7JyBzcmM9JyIgKyB1cmwgKyAiJyAvPiI7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIGxvYWRDYXRhbG9nczogZnVuY3Rpb24gbG9hZENhdGFsb2dzKCkgewogICAgICB2YXIgX3RoaXMxOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTkuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGNhdGFsb2dIYW5kbGVyLmdldCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS5jYXRhbG9ncyA9IHJlczsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkQ2F0YWxvZzogZnVuY3Rpb24gYWRkQ2F0YWxvZyhlKSB7CiAgICAgIHZhciBfdGhpczIwID0gdGhpczsKCiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkQ2F0YWxvZyIpLmRhdGEoImtlbmRvR3JpZCIpOwogICAgICB2YXIgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKCQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsgLy8gd2luZG93LmNvbnNvbGUubG9nKGRhdGFJdGVtKQoKICAgICAgaWYgKGRhdGFJdGVtLnZhcmlhbnRzLmxlbmd0aCA+IDApIHsKICAgICAgICBkYXRhSXRlbS52YXJpYW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICBpZiAobS5oYXNPd25Qcm9wZXJ0eSgidmFyaWFudCIpKSB7CiAgICAgICAgICAgIGlmIChtLnZhcmlhbnQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICBfdGhpczIwLmxvYWRTaW5nbGVJdGVtKG0udmFyaWFudC5pZCwgImkiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMuZGlhbG9nQ2F0YWxvZyA9IGZhbHNlOwogICAgICB9CgogICAgICBpZiAoZGF0YUl0ZW0uc2VydmljZXMubGVuZ3RoID4gMCkgewogICAgICAgIGRhdGFJdGVtLnNlcnZpY2VzLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICAgIGlmIChtLmhhc093blByb3BlcnR5KCJzZXJ2aWNlIikpIHsKICAgICAgICAgICAgaWYgKG0uc2VydmljZS5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgIF90aGlzMjAubG9hZFNpbmdsZUl0ZW0obS5zZXJ2aWNlLmlkLCAicyIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5kaWFsb2dDYXRhbG9nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkU2luZ2xlSXRlbTogZnVuY3Rpb24gbG9hZFNpbmdsZUl0ZW0oaXRlbUlkLCB0eXBlKSB7CiAgICAgIHZhciBfdGhpczIxID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMjEuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHByb2R1Y3RIYW5kbGVyLmdldE9uZShpdGVtSWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXM7CgogICAgICAgICAgICAgICAgICAgICAgdmFyIGRzID0gX3RoaXMyMS4kcmVmcy5pdGVtTGluZVBPRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IGRzLnRvdGFsKCk7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMS5pdGVtTGluZS5pZCA9IHRyYW5zYWN0aW9uUHJlZml4ICsgdXVpZC52MSgpOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMS5pdGVtTGluZS5pdGVtID0gZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAiaSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMS5pdGVtTGluZS5kZXNjcmlwdGlvbiA9IGRhdGEudmFyaWFudC5zYWxlRGVzY3JpcHRpb247CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIxLml0ZW1MaW5lLmRlc2NyaXB0aW9uID0gZGF0YS5zYWxlRGVzY3JpcHRpb247CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgZHMuaW5zZXJ0KHRvdGFsLCBfdGhpczIxLml0ZW1MaW5lKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uRW1wbG95ZWVDaGFuZ2VkOiBmdW5jdGlvbiBvbkVtcGxveWVlQ2hhbmdlZChldmVudCkgewogICAgICB2YXIgdmFsdWUgPSBldmVudC52YWx1ZTsKCiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZVt0ZXh0RmllbGRdID09PSBlbXB0eUl0ZW1bdGV4dEZpZWxkXSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5tRW1wbG95ZWUgPSB2YWx1ZTsKICAgICAgdGhpcy50cmFuc2FjdGlvbi5lbXBsb3llZSA9IHZhbHVlOwogICAgfSwKICAgIGxvYWRFbXBsb3llZUNlbnRlcjogZnVuY3Rpb24gbG9hZEVtcGxveWVlQ2VudGVyKCkgewogICAgICB2YXIgX3RoaXMyMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTgoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOCQoX2NvbnRleHQxOCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMjIuZW1wbG95ZWVzID0gW107CiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVIYW5kbGVyLmNlbnRlcih1bmRlZmluZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMi5zaG93TG9hZGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIyLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIuZW1wbG95ZWVzID0gcmVzLmRhdGEuZGF0YTsgLy8gaWYgKHRoaXMuZW1wbG95ZWVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMudHJhbnNhY3Rpb24uZW1wbG95ZWUgPSB0aGlzLmVtcGxveWVlc1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMi5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25FbXBsb3llZUZpbHRlckNoYW5nZWQ6IGZ1bmN0aW9uIG9uRW1wbG95ZWVGaWx0ZXJDaGFuZ2VkKCkge30sCiAgICBudW1iZXJGb3JtYXQ6IGZ1bmN0aW9uIG51bWJlckZvcm1hdCh2YWx1ZSkgewogICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2codGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbCwnbmltb2wnKQogICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcodmFsdWUsICJuIi5jb25jYXQodGhpcy5wdXJjaGFzZUZvcm1Db250ZW50LmRlY2ltYWwpKTsgLy8gcmV0dXJuIHZhbHVlCiAgICB9LAogICAgbG9hZFR4bjogZnVuY3Rpb24gbG9hZFR4bigpIHsKICAgICAgdmFyIF90aGlzMjMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE5KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTkkKF9jb250ZXh0MTkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzMjMuc2FsZU9yZGVyLmN1c3RvbWVyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMjMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICBfdGhpczIzLnF1b3RlcyA9IFtdOwogICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJieV9jdXN0b21lciIsCiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyOiBfdGhpczIzLnRyYW5zYWN0aW9uLnN1cHBsaWVyLmlkLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiU2FsZSBPcmRlciIKICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhbmRsZXIuc2VhcmNoKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjMudHhuVG9iZUFkZCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlbW92ZUVtcHR5TGluZTogZnVuY3Rpb24gcmVtb3ZlRW1wdHlMaW5lKCkgewogICAgICB2YXIgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRJdGVtTGluZSIpLmRhdGEoImtlbmRvR3JpZCIpLAogICAgICAgICAgZGF0YVNvdXJjZSA9IGdyaWQuZGF0YVNvdXJjZTsKICAgICAgZGF0YVNvdXJjZS5kYXRhKCkuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgIGlmIChtLml0ZW0uaWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgZGF0YVNvdXJjZS5yZW1vdmUobSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL3NhdmUKICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHt9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKGRhdGEpIHsKICAgICAgLy8gaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIC8vICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgIC8vICAgICAgICAgbmFtZTogIlB1cmNoYXNlT3JkZXIiLAogICAgICAvLyAgICAgICAgIHBhcmFtczogewogICAgICAvLyAgICAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAvLyAgICAgICAgIH0KICAgICAgLy8gICAgIH0pCiAgICAgIC8vIH0gZWxzZSB7CiAgICAgIHdpbmRvdy5oaXN0b3J5LmdvKC0xKTsgLy8gfQoKICAgICAgd2luZG93LmNvbnNvbGUubG9nKGRhdGEsICJjbG9zZSIpOyAvLyBsb2NhbFN0b3JhZ2UuZGF0YS5pZCA9IEpTT04uc3RyaW5naWZ5KGRhdGEpCiAgICB9LAogICAgbG9hZFB1cmNoYXNlOiBmdW5jdGlvbiBsb2FkUHVyY2hhc2UoKSB7CiAgICAgIHZhciBfdGhpczI0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczI0LnRyYW5zYWN0aW9uLnN1cHBsaWVyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMjQuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJieV9zdXBwbGllciIsCiAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBsaWVyOiBfdGhpczI0LnRyYW5zYWN0aW9uLnN1cHBsaWVyLmlkLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiUHVyY2hhc2UgT3JkZXIiCiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYW5kbGVyLnNlYXJjaChkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzLCAic2VhcmNoIGJ5IHN1cHBsaWVyIik7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNhdmVDbG9zZTogZnVuY3Rpb24gc2F2ZUNsb3NlKCkgewogICAgICB2YXIgX3RoaXMyNSA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgaWQgPSAiIjsKCiAgICAgIGlmICh0aGlzLnN1cHBsaWVyLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgaWQgPSB0aGlzLnN1cHBsaWVyLmlkIHx8ICIiOwogICAgICB9CgogICAgICBpZiAoaWQgPT09ICIiKSB7CiAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcigic3VwcGxpZXIgaXMgcmVxdWlyZSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZVBPRFMua2VuZG9XaWRnZXQoKTsKICAgICAgdmFyIGQxID0gZHMuZGF0YSgpOwogICAgICB2YXIgZGF0YVZhbGlkYXRlID0gMDsKICAgICAgZDEuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgaWYgKHZhbHVlLml0ZW0uaWQgPT0gdW5kZWZpbmVkIHx8IHZhbHVlLnVvbS51b20uaWQgPT0gdW5kZWZpbmVkIHx8IHZhbHVlLml0ZW0uaWQgPT0gIiIgfHwgdmFsdWUudW9tLnVvbS5pZCA9PSAiIikgewogICAgICAgICAgX3RoaXMyNS4kc25vdGlmeS5lcnJvcigiUGxlYXNlIGNoZWNrIEl0ZW0gb3IgVW9tICBvbiByb3cgIiArIChpbmRleCArIDEpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZGF0YVZhbGlkYXRlICs9IDE7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmIChkMS5sZW5ndGggPT0gZGF0YVZhbGlkYXRlKSB7CiAgICAgICAgdGhpcy5pc1NhdmVDbG9zZSA9IHRydWU7CiAgICAgICAgdGhpcy5zYXZlT3B0aW9uID0gInNhdmVDbG9zZSI7CiAgICAgICAgdGhpcy5zYXZlKCk7CiAgICAgIH0KICAgIH0sCiAgICBzYXZlUHJpbnQ6IGZ1bmN0aW9uIHNhdmVQcmludCgpIHsKICAgICAgdmFyIF90aGlzMjYgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGlkID0gIiI7CgogICAgICBpZiAodGhpcy5zdXBwbGllci5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgIGlkID0gdGhpcy5zdXBwbGllci5pZCB8fCAiIjsKICAgICAgfQoKICAgICAgaWYgKGlkID09PSAiIikgewogICAgICAgIHRoaXMuJHNub3RpZnkuZXJyb3IoInN1cHBsaWVyIGlzIHJlcXVpcmUiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVQT0RTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIHZhciBkMSA9IGRzLmRhdGEoKTsKICAgICAgdmFyIGRhdGFWYWxpZGF0ZSA9IDA7CiAgICAgIGQxLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgewogICAgICAgIGlmICh2YWx1ZS5pdGVtLmlkID09IHVuZGVmaW5lZCB8fCB2YWx1ZS51b20uaWQgPT0gdW5kZWZpbmVkIHx8IHZhbHVlLml0ZW0uaWQgPT0gIiIgfHwgdmFsdWUudW9tLmlkID09ICIiKSB7CiAgICAgICAgICBfdGhpczI2LiRzbm90aWZ5LmVycm9yKCJQbGVhc2UgY2hlY2sgSXRlbSBvciBVb20gIG9uIHJvdyAiICsgKGluZGV4ICsgMSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkYXRhVmFsaWRhdGUgKz0gMTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgaWYgKGQxLmxlbmd0aCA9PSBkYXRhVmFsaWRhdGUpIHsKICAgICAgICB0aGlzLmlzU2F2ZVByaW50ID0gdHJ1ZTsKICAgICAgICB0aGlzLnNhdmVPcHRpb24gPSAic2F2ZVByaW50IjsKICAgICAgICB0aGlzLnNhdmUoKTsKICAgICAgfQogICAgfSwKICAgIHNhdmVOZXc6IGZ1bmN0aW9uIHNhdmVOZXcoKSB7CiAgICAgIHZhciBfdGhpczI3ID0gdGhpczsKCiAgICAgIGlmICghdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBpZCA9ICIiOwoKICAgICAgaWYgKHRoaXMuc3VwcGxpZXIuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICBpZCA9IHRoaXMuc3VwcGxpZXIuaWQgfHwgIiI7CiAgICAgIH0KCiAgICAgIGlmIChpZCA9PT0gIiIpIHsKICAgICAgICB0aGlzLiRzbm90aWZ5LmVycm9yKCJzdXBwbGllciBpcyByZXF1aXJlIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lUE9EUy5rZW5kb1dpZGdldCgpOwogICAgICB2YXIgZDEgPSBkcy5kYXRhKCk7CiAgICAgIHZhciBkYXRhVmFsaWRhdGUgPSAwOwogICAgICBkMS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsKICAgICAgICBpZiAodmFsdWUuaXRlbS5pZCA9PSB1bmRlZmluZWQgfHwgdmFsdWUuaXRlbS5pZCA9PSAiIiB8fCB2YWx1ZS51b20udW9tID09IHVuZGVmaW5lZCkgewogICAgICAgICAgX3RoaXMyNy4kc25vdGlmeS5lcnJvcigiUGxlYXNlIGNoZWNrIEl0ZW0gb3IgVW9tICBvbiByb3cgIiArIChpbmRleCArIDEpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZGF0YVZhbGlkYXRlICs9IDE7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmIChkMS5sZW5ndGggPT0gZGF0YVZhbGlkYXRlKSB7CiAgICAgICAgdGhpcy5zYXZlT3B0aW9uID0gInNhdmVOZXciOwogICAgICAgIHRoaXMuaXNTYXZlTmV3ID0gdHJ1ZTsKICAgICAgICB0aGlzLnNhdmUoKTsKICAgICAgfQogICAgfSwKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB2YXIgX3RoaXMyOCA9IHRoaXM7CgogICAgICB0aGlzLiRzd2FsKHsKICAgICAgICB0aXRsZTogaTE4bi50KCJtc2dfdGl0bGVfd2FybmluZyIpLAogICAgICAgIHRleHQ6IGkxOG4udCgibXNnX2Rpc2NhcmQiKSwKICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBpMThuLnQoImNhbmNlbCIpLAogICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiM0ZDQ4NDgiLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI0VEMUEzQSIsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IGkxOG4udCgiZGlzY2FyZCIpCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdENlbikgewogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXN1bHRDZW4pOwoKICAgICAgICBpZiAocmVzdWx0Q2VuLnZhbHVlKSB7CiAgICAgICAgICBfdGhpczI4LiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2F2ZURyYWZ0OiBmdW5jdGlvbiBzYXZlRHJhZnQoKSB7CiAgICAgIHZhciBfdGhpczI5ID0gdGhpczsKCiAgICAgIGlmICghdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBpZCA9ICIiOwoKICAgICAgaWYgKHRoaXMuc3VwcGxpZXIuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICBpZCA9IHRoaXMuc3VwcGxpZXIuaWQgfHwgIiI7CiAgICAgIH0KCiAgICAgIGlmIChpZCA9PT0gIiIpIHsKICAgICAgICB0aGlzLiRzbm90aWZ5LmVycm9yKCJzdXBwbGllciBpcyByZXF1aXJlIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lUE9EUy5rZW5kb1dpZGdldCgpOwogICAgICB2YXIgZDEgPSBkcy5kYXRhKCk7CiAgICAgIHZhciBkYXRhVmFsaWRhdGUgPSAwOwogICAgICBkMS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsKICAgICAgICBpZiAodmFsdWUuaXRlbS5pZCA9PSB1bmRlZmluZWQgfHwgdmFsdWUudW9tLmlkID09IHVuZGVmaW5lZCB8fCB2YWx1ZS5pdGVtLmlkID09ICIiIHx8IHZhbHVlLnVvbS5pZCA9PSAiIikgewogICAgICAgICAgX3RoaXMyOS4kc25vdGlmeS5lcnJvcigiUGxlYXNlIGNoZWNrIEl0ZW0gb3IgVW9tICBvbiByb3cgIiArIChpbmRleCArIDEpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZGF0YVZhbGlkYXRlICs9IDE7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmIChkMS5sZW5ndGggPT0gZGF0YVZhbGlkYXRlKSB7CiAgICAgICAgdGhpcy5zYXZlT3B0aW9uID0gInNhdmVEcmFmdCI7CiAgICAgICAgdGhpcy5pc1NhdmVEcmFmdCA9IHRydWU7CiAgICAgICAgdGhpcy5zYXZlKCk7CiAgICAgIH0KICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMzMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjEoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMSQoX2NvbnRleHQyMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIxLnByZXYgPSBfY29udGV4dDIxLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczMwLnJlbW92ZUVtcHR5TGluZSgpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUxpbmVEUyA9IF90aGlzMzAuJHJlZnMuaXRlbUxpbmVQT0RTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gaXRlbUxpbmVEUy50b3RhbCgpOwoKICAgICAgICAgICAgICAgICAgICBpZiAodG90YWwgPD0gMCkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzMC4kc25vdGlmeS5lcnJvcigiRmllbGQgUmVxdWlyZWQhIik7CgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFSb3cgPSBpdGVtTGluZURTLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvLmFtb3VudCA+IDA7CiAgICAgICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEl0ZW1MaW5lTW9kZWwobik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHR4bkxpc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgICB2YXIgbGVhZCA9IF90aGlzMzAudHJhbnNhY3Rpb24ubGVhZCB8fCB7fTsKICAgICAgICAgICAgICAgICAgICB2YXIgbGVhZElkID0gbGVhZC5pZCB8fCAnJzsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGxlYWRJZCkgewogICAgICAgICAgICAgICAgICAgICAgdHhuTGlzdC5wdXNoKGxlYWQpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICBpZDogX3RoaXMzMC50cmFuc2FjdGlvbi5pZCA/IF90aGlzMzAudHJhbnNhY3Rpb24uaWQgOiAiIiwKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJQdXJjaGFzZSBPcmRlciIsCiAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IF90aGlzMzAudHJhbnNhY3Rpb24ubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgYWJicjogX3RoaXMzMC50cmFuc2FjdGlvbi50cmFuc2FjdGlvblR5cGUuYWJiciwKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogX3RoaXMzMC50cmFuc2FjdGlvbi50cmFuc2FjdGlvbkRhdGUsCiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGVUWjogSGVscGVyLnRvSVNPRGF0ZShfdGhpczMwLnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uRGF0ZSksCiAgICAgICAgICAgICAgICAgICAgICB2YWxpZGl0eURhdGU6ICIiLAogICAgICAgICAgICAgICAgICAgICAgbW9udGhPZjogX3RoaXMzMC50cmFuc2FjdGlvbi5tb250aE9mLAogICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXI6IHt9LAogICAgICAgICAgICAgICAgICAgICAgcGF5bWVudFRlcm06IF90aGlzMzAudHJhbnNhY3Rpb24ucGF5bWVudFRlcm0sCiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvblR5cGU6IF90aGlzMzAudHJhbnNhY3Rpb24udHJhbnNhY3Rpb25UeXBlLAogICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRQcm9tb3Rpb246IHt9LAogICAgICAgICAgICAgICAgICAgICAgcHJpY2VMZXZlbDogX3RoaXMzMC50cmFuc2FjdGlvbi5wcmljZUxldmVsLAogICAgICAgICAgICAgICAgICAgICAgaXRlbUxpbmVzOiBkYXRhUm93LAogICAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogX3RoaXMzMC50cmFuc2FjdGlvbi5wcm9qZWN0IHx8IHt9LAogICAgICAgICAgICAgICAgICAgICAgc2VnbWVudDogX3RoaXMzMC50cmFuc2FjdGlvbi5zZWdtZW50ID8gX3RoaXMzMC50cmFuc2FjdGlvbi5zZWdtZW50IDoge30sCiAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogX3RoaXMzMC50cmFuc2FjdGlvbi5sb2NhdGlvbiA/IF90aGlzMzAudHJhbnNhY3Rpb24ubG9jYXRpb24gOiB7fSwKICAgICAgICAgICAgICAgICAgICAgIHNhbGVDaGFubmVsOiB7fSwKICAgICAgICAgICAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzOiB7fSwKICAgICAgICAgICAgICAgICAgICAgIGRlbGl2ZXJ5QWRkcmVzczoge30sCiAgICAgICAgICAgICAgICAgICAgICBkZWxpdmVyeURhdGVUaW1lOiAiIiwKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uTm90ZTogX3RoaXMzMC50cmFuc2FjdGlvbi50cmFuc2FjdGlvbk5vdGUsCiAgICAgICAgICAgICAgICAgICAgICBzdWJUb3RhbDogX3RoaXMzMC50cmFuc2FjdGlvbi5zdWJUb3RhbCwKICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiBfdGhpczMwLnRyYW5zYWN0aW9uLnRvdGFsID8gX3RoaXMzMC50cmFuc2FjdGlvbi50b3RhbCA6IDAsCiAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudFRvdGFsOiBfdGhpczMwLnRyYW5zYWN0aW9uLmRpc2NvdW50VG90YWwsCiAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogX3RoaXMzMC50cmFuc2FjdGlvbi5leGNoYW5nZUFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgIHNwZWNpZmljRGlzY291bnRUb3RhbDogX3RoaXMzMC50cmFuc2FjdGlvbi5zcGVjaWZpY0Rpc2NvdW50VG90YWwsCiAgICAgICAgICAgICAgICAgICAgICBkZWxpdmVyeUZlZTogX3RoaXMzMC50cmFuc2FjdGlvbi5kZWxpdmVyeUZlZSwKICAgICAgICAgICAgICAgICAgICAgIHRvdGFsVGF4QW1vdW50OiBfdGhpczMwLnRyYW5zYWN0aW9uLnRvdGFsVGF4QW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJhbGFuY2U6IF90aGlzMzAudHJhbnNhY3Rpb24uY3VycmVudEJhbGFuY2UsCiAgICAgICAgICAgICAgICAgICAgICBiYWxhbmNlOiAwLAogICAgICAgICAgICAgICAgICAgICAgY3JlZGl0TGltaXQ6IDAsCiAgICAgICAgICAgICAgICAgICAgICBzYXZlT3B0aW9uOiBfdGhpczMwLnNhdmVPcHRpb24sCiAgICAgICAgICAgICAgICAgICAgICB0eG5SYXRlOiBfdGhpczMwLnRyYW5zYWN0aW9uLnR4blJhdGUsCiAgICAgICAgICAgICAgICAgICAgICByYXRlOiBfdGhpczMwLnRyYW5zYWN0aW9uLnR4blJhdGUsCiAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDEsCiAgICAgICAgICAgICAgICAgICAgICAvLzEgb3BlbiwgMCB1c2VkLAogICAgICAgICAgICAgICAgICAgICAgYXBwcm92ZWRCeTogX3RoaXMzMC50cmFuc2FjdGlvbi5hcHByb3ZlZEJ5LAogICAgICAgICAgICAgICAgICAgICAgcmVqZWN0ZWRCeToge30sCiAgICAgICAgICAgICAgICAgICAgICBmb3JtVGVtcGxhdGU6ICIiLAogICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWNEaXNjb3VudEl0ZW06IF90aGlzMzAudHJhbnNhY3Rpb24uc3BlY2lmaWNEaXNjb3VudEl0ZW0sCiAgICAgICAgICAgICAgICAgICAgICBvdGhlckNoYXJnZTogW10sCiAgICAgICAgICAgICAgICAgICAgICBvdGhlckNoYXJnZUFtb3VudDogMCwKICAgICAgICAgICAgICAgICAgICAgIHRheExpc3RUb3RhbDogX3RoaXMzMC50YXhMaXN0VG90YWwsCiAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc2luZ1N0YXR1czogIiIsCiAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lclNhbGVVbml0OiBfdGhpczMwLmN1c3RvbWVyU2FsZVVuaXQsCiAgICAgICAgICAgICAgICAgICAgICBsb2dnZWRVc2VyOiBfdGhpczMwLmxvZ2dlZFVzZXIsCiAgICAgICAgICAgICAgICAgICAgICB0eG5MaXN0OiB0eG5MaXN0LAogICAgICAgICAgICAgICAgICAgICAgcHVibGljTGluazogIiIsCiAgICAgICAgICAgICAgICAgICAgICB1c2VkRGF0ZUF0OiAiIiwKICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZWRBdDogIiIsCiAgICAgICAgICAgICAgICAgICAgICBkZWxldGVkOiAwLAogICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwKICAgICAgICAgICAgICAgICAgICAgIHNhbGVPcmRlclR5cGU6IDAsCiAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZTogX3RoaXMzMC50cmFuc2FjdGlvbi5lbXBsb3llZSwKICAgICAgICAgICAgICAgICAgICAgIHN1cHBsaWVyOiBfdGhpczMwLnRyYW5zYWN0aW9uLnN1cHBsaWVyLAogICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VSYXRlOiBfdGhpczMwLnRyYW5zYWN0aW9uLmV4Y2hhbmdlUmF0ZSwKICAgICAgICAgICAgICAgICAgICAgIGZvcm06IDEsCiAgICAgICAgICAgICAgICAgICAgICBsZWFkOiB7fSwKICAgICAgICAgICAgICAgICAgICAgIHJlZkZyb206IF90aGlzMzAudHJhbnNhY3Rpb24ucmVmRnJvbSB8fCBbXSwKICAgICAgICAgICAgICAgICAgICAgIHJlZlRvOiBfdGhpczMwLnRyYW5zYWN0aW9uLnJlZlRvIHx8IFtdLAogICAgICAgICAgICAgICAgICAgICAgZXhzcGVjdGVkRGF0ZTogX3RoaXMzMC50cmFuc2FjdGlvbi5leHNwZWN0ZWREYXRlLAogICAgICAgICAgICAgICAgICAgICAgYW1vdW50RHVlOiBfdGhpczMwLnRyYW5zYWN0aW9uLmFtb3VudER1ZSwKICAgICAgICAgICAgICAgICAgICAgIHNhbGVUYXhEZXRhaWw6IF90aGlzMzAudHJhbnNhY3Rpb24uc2FsZVRheERldGFpbCB8fCBbXSwKICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZVRheEFtb3VudDogX3RoaXMzMC50cmFuc2FjdGlvbi5pbmNsdXNpdmVUYXhBbW91bnQgfHwgMCwKICAgICAgICAgICAgICAgICAgICAgIHJvdXRlVmlldzogInB1cmNoYXNlX29yZGVyX3ZpZXciCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ3RoaXMudHJhbnNhY3Rpb24uc3VwcGxpZXInLCBKU09OLnN0cmluZ2lmeShfdGhpczMwLnRyYW5zYWN0aW9uLnN1cHBsaWVyKSk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzMC5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYW5kbGVyLmNyZWF0ZShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzMC5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMzMC5pc1NhdmVOZXcgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzAuc2V0RGVmYXVsdERhdGEoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMwLmNsb3NlKHJlc3BvbnNlLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzAuJHJlZnMuZm9ybS5yZXNldCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzMC4kc25vdGlmeS5zdWNjZXNzKCJTdWNjZXNzZnVsbHkiKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKDIpOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzAuJHNub3RpZnkuZXJyb3IoIlNvbWV0aGluZyB3ZW50IHdyb25nIik7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzMC5lcnJvcnMucHVzaChlKTsKCiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRWaWV3UHVyY2hhc2VPcmRlcjogZnVuY3Rpb24gbG9hZFZpZXdQdXJjaGFzZU9yZGVyKCkgewogICAgICB2YXIgX3RoaXMzMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMyQoX2NvbnRleHQyMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIzLnByZXYgPSBfY29udGV4dDIzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMzEuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIF90aGlzMzEuaXNFZGl0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gX3RoaXMzMS4kcm91dGUucGFyYW1zLmlkOwogICAgICAgICAgICAgICAgICAgIHZhciBzdHJGaWx0ZXIgPSAnP3R5cGU9UHVyY2hhc2UgT3JkZXInOwogICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLnZpZXdQdXJjaGFzZShpZCwgc3RyRmlsdGVyKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMihyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIyJChfY29udGV4dDIyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMi5wcmV2ID0gX2NvbnRleHQyMi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMxLmlzRWRpdCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMxLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHJlcy5kYXRhLmRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMxLnRyYW5zYWN0aW9uID0gcmVzcG9uc2U7IC8vIGF3YWl0IHRoaXMub25EYXRlQ2hhbmdlZCgpCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzMS5zdXBwbGllciA9IF90aGlzMzEudHJhbnNhY3Rpb24uc3VwcGxpZXIgfHwge307CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMxLm1FbXBsb3llZSA9IF90aGlzMzEudHJhbnNhY3Rpb24uZW1wbG95ZWUgfHwge307CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMxLml0ZW1MaW5lcyA9IF90aGlzMzEudHJhbnNhY3Rpb24uaXRlbUxpbmVzIHx8IFtdOyAvLyB0aGlzLnRyYW5zYWN0aW9uLnBheW1lbnRUZXJtID0gcmVzcG9uc2UucGF5bWVudFRlcm0gfHwge30KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMxLnRyYW5zYWN0aW9uLm1vbnRoX29mID0ga2VuZG8udG9TdHJpbmcobmV3IERhdGUoX3RoaXMzMS50cmFuc2FjdGlvbi50cmFuc2FjdGlvbkRhdGUpLCAneXl5eS1NTScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCd0cmFuc2FjdGlvbi5wYXltZW50VGVybScsIHJlc3BvbnNlLnBheW1lbnRUZXJtKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzMS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzMS5pc0VkaXQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIyKTsKICAgICAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0oKSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICckcm91dGUnOiAnaW5pdGlhbERhdGEnIC8vIGluaXRQdXJjaGFzZU9yZGVyKCkgewogICAgLy8gICB0aGlzLmluaXRpYWxEYXRhKCk7CiAgICAvLyB9LAoKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWRUYXgoKTsKICAgIHRoaXMubG9hZFNhbGVVbml0SXRlbXMoKTsKICAgIHRoaXMubG9hZFNlZ21lbnQoKTsKICAgIHRoaXMubG9hZExvY2F0aW9uKCk7CiAgICB0aGlzLmxvYWRQcm9qZWN0QnlTdXBwbGllcigpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gKCkgewogICAgdmFyIF9tb3VudGVkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjQoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjQkKF9jb250ZXh0MjQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDI0LnByZXYgPSBfY29udGV4dDI0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZFB1cmNoYXNlRm9ybUNvbnRlbnQoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICB0aGlzLnJlcXVlc3REYXRhKDAsIHRoaXMuZmlsdGVyLCB0aGlzLnN1cEJhc2VVcmwpOwogICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZEVtcGxveWVlQ2VudGVyKCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkQ2F0YWxvZ3MoKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXRpYWxEYXRhKCk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTI0LCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICByZXR1cm4gX21vdW50ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gbW91bnRlZDsKICB9KCksCiAgY29tcHV0ZWQ6IHsKICAgIHZhbGlkMTogZnVuY3Rpb24gdmFsaWQxKCkgewogICAgICB2YXIgc3VwcGxpZXIgPSB0aGlzLnRyYW5zYWN0aW9uLnN1cHBsaWVyOwogICAgICB3aW5kb3cuY29uc29sZS5sb2coMSwgc3VwcGxpZXIuaWQpOwogICAgICByZXR1cm4gc3VwcGxpZXIuaWQgIT09IHVuZGVmaW5lZCAmJiBzdXBwbGllci5pZCAhPT0gbnVsbDsKICAgIH0sCiAgICB2YWxpZGF0aW9uTWVzc2FnZTogZnVuY3Rpb24gdmFsaWRhdGlvbk1lc3NhZ2UoKSB7CiAgICAgIHZhciBzdXBwbGllciA9IHRoaXMudHJhbnNhY3Rpb24uc3VwcGxpZXI7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygyLCBzdXBwbGllci5pZCk7CiAgICAgIHJldHVybiBzdXBwbGllci5pZCAhPT0gdW5kZWZpbmVkICYmIHN1cHBsaWVyLmlkID09PSBudWxsID8gIlBsZWFzZSBzZWxlY3QgYSBWZW5kb3IhIiA6ICJQbGVhc2Ugc2VsZWN0IGEgVmVuZG9yIjsKICAgIH0sCiAgICBoaWRkZW5CdXR0b246IGZ1bmN0aW9uIGhpZGRlbkJ1dHRvbigpIHsKICAgICAgcmV0dXJuICEhdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgfQogIH0KfTs="},{"version":3,"sources":["PurchaseOrder.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\">\n                        <v-row>\n                            <v-col\n                                class=\"bigSide pr-2 py-0\"\n                                sm=\"8\"\n                                cols=\"12\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_big_bar_class: isHideBar }\">\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">{{ purchaseFormContent.purchaseOrder }}</h2>\n                                        <v-icon\n                                            v-if=\"isHideBar\"\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; font-size: 40px;\"\n                                            color=\"grey\"\n                                            class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                        <span\n                                            style=\"transition: .3s ease-in; z-index:10;\"\n                                            :class=\"{\n                        iconArrow: !isHideBar,\n                        iconArrowHide: isHideBar,\n                      }\">\n                      <v-icon\n                          size=\"22\"\n                          class=\"arr_icon\"\n                          @click=\"hide_smallsitebar\"\n                          v-if=\"isHideBar\">\n                        mdi-chevron-left-circle\n                      </v-icon>\n                      <v-icon\n                          size=\"22\"\n                          class=\"arr_icon\"\n                          @click=\"hide_smallsitebar\"\n                          v-if=\"!isHideBar\">\n                        mdi-chevron-right-circle\n                      </v-icon></span\n                                        >\n                                    </v-card>\n\n                                    <!-- Body -->\n\n                                    <v-card\n                                        outlined\n                                        dense\n                                        class=\"px-3 rounded-4 no_border\"\n                                        color=\"grayBg\"\n                                        height=\"254px\"\n                                    >\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{ $t(\"supplier\") }}</label>\n                                                <div class=\"kendo_dropdown_custom pb-3 mt-1\">\n                                                    <dropdownlist\n                                                        class=\"v-input__slot\"\n                                                        :data-items=\"supplierList\"\n                                                        @change=\"onChange\"\n                                                        :value=\"transaction.supplier\"\n                                                        :data-item-key=\"dataItemKey\"\n                                                        :text-field=\"textField\"\n                                                        :default-item=\"defaultItem\"\n                                                        :filterable=\"true\"\n                                                        :required=\"true\"\n                                                        :valid=\"valid1\"\n                                                        @filterchange=\"onFilterChange\"\n                                                    >\n                                                    </dropdownlist>\n                                                </div>\n                                                <label class=\"label\">{{ $t(\"number\") }}</label>\n                                                <v-row class=\"mt-1 mr-0\">\n                                                    <v-col sm=\"3\" cols=\"3\" class=\"pt-0 pb-0 pr-0\">\n                                                        <div class=\"code_text text-bold\">\n                                                            {{ transaction.transactionType.abbr }}\n                                                        </div>\n                                                    </v-col>\n                                                    <v-col sm=\"7\" cols=\"7\" class=\"pt-0 pb-0 pl-0 pr-1\">\n                                                        <v-text-field\n                                                            class=\" custom-border \"\n                                                            v-model=\"transaction.number\"\n                                                            disabled\n                                                            outlined\n                                                            :rules=\"[(v) => !!v || 'Number is required']\"\n                                                            required\n                                                        />\n                                                    </v-col>\n                                                    <v-col sm=\"2\" cols=\"2\" class=\"pt-0 pb-0 px-0\">\n                                                        <v-icon\n                                                            color=\"black\"\n                                                            :disabled=\"hiddenButton\"\n                                                            size=\"30\"\n                                                            class=\"border_qrcode\"\n                                                            @click=\"generateNumber\"\n                                                        >mdi-qrcode\n                                                        </v-icon>\n                                                    </v-col>\n                                                </v-row>\n                                                <v-row class=\"mt-0\">\n                                                    <v-col sm=\"12\" cols=\"12\" class=\" pt-0\">\n                                                        <p class=\"mb-1 d-block\">\n                                                            {{ $t(\"credit_limit_allowed\") }}\n                                                        </p>\n                                                        <h3 class=\"primary--text mt-2 ml-1 float-left\">\n                                                            {{ numberFormat(transaction.creditLimit) }}\n                                                        </h3>\n                                                    </v-col>\n                                                </v-row>\n\n                                                <!-- <label class=\"label\">{{\n                                                  $t(\"purchase_order_type\")\n                                                }}</label>\n                                                <v-select\n                                                  class=\"mt-1\"\n                                                  v-model=\"purchaseOrderType\"\n                                                  :items=\"purchaseOrderTypes\"\n                                                  item-text=\"name\"\n                                                  item-value=\"id\"\n                                                  placeholder=\"Type\"\n                                                  outlined\n                                                /> -->\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\" style=\"\">{{ $t(\"date\") }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"transaction.transactionDate\"\n                                                    @onChanged=\"onDateChanged\"\n                                                    @emitDate=\"transaction.transactionDate = $event\"\n                                                />\n                                                <label class=\"label\" style=\"\">{{\n                                                        $t(\"due_date\")\n                                                    }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"transaction.exspectedDate\"\n                                                    @emitDate=\"transaction.exspectedDate = $event\"\n                                                />\n                                                <v-row>\n                                                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                        <p class=\"mb-1 d-block\">\n                                                            {{ $t(\"current_balance\") }}\n                                                        </p>\n                                                        <h3 class=\"primary--text mt-3 ml-1 float-left\">\n                                                            {{ numberFormat(transaction.currentBalance) }}\n                                                        </h3>\n                                                    </v-col>\n                                                </v-row>\n\n                                                <!-- <label class=\"label\" style=\"\">{{\n                                                  $t(\"expected_date\")\n                                                }}</label>\n                                                <app-datepicker\n                                                  :initialDate=\"transaction.exspectedDate\"\n                                                  @emitDate=\"transaction.exspectedDate = $event\"\n                                                /> -->\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0 pt-2\">\n                                                <!-- <p class=\"mb-2 ml-n3 color_grey\">{{ $t('additional_information') }}</p> -->\n\n                                                <v-row\n                                                    style=\"background-color: #fff; height: 92%;\"\n                                                    class=\"mr-0\"\n                                                >\n                                                    <v-col class=\"pb-0 pt-1\" sm=\"12\" cols=\"12\">\n                                                        <label class=\"label\">{{ $t(\"term\") }}</label>\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            v-model=\"transaction.paymentTerm\"\n                                                            :items=\"paymentTerms\"\n                                                            @change=\"onPaymentTermChanged\"\n                                                            placeholder=\"Term\"\n                                                            item-text=\"name\"\n                                                            item-value=\"id\"\n                                                            return-object\n                                                            outlined\n                                                        />\n\n                                                        <label class=\"label mb-0\">{{\n                                                                $t(\"price_level\")\n                                                            }}</label>\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            v-model=\"transaction.priceLevel\"\n                                                            :items=\"priceLevels\"\n                                                            @change=\"onPriceLevelChange\"\n                                                            item-value=\"id\"\n                                                            item-text=\"name\"\n                                                            return-object\n                                                            placeholder=\"Price Level\"\n                                                            outlined\n                                                        />\n                                                        <v-col\n                                                            sm=\"6\"\n                                                            col=\"6\"\n                                                            class=\" py-0 d-flex justify-space-between\"\n                                                        >\n                                                            <div>\n                                                                <p class=\"label mb-0\">{{ $t(\"currency\") }}</p>\n                                                                <p class=\"label mb-0 pt-4 pb-3\">\n                                                                    {{ currencyCode }}\n                                                                </p>\n                                                            </div>\n                                                            <div class=\"ml-6\">\n                                                                <p class=\"label mb-2\">{{ $t(\"rate\") }}</p>\n                                                                <p class=\"label  pt-2 pb-3\">\n                                                                    {{ transactionRate }}\n                                                                </p>\n                                                            </div>\n                                                        </v-col>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-row style=\"background-color: #fff;\">\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                            <kendo-datasource\n                                                ref=\"itemLinePODS\"\n                                                :data=\"itemLines\"\n                                                :change=\"dataSourceChanged\"\n                                            />\n                                            <kendo-grid\n                                                id=\"gridItemLine\"\n                                                class=\"grid-function\"\n                                                :data-source-ref=\"'itemLinePODS'\"\n                                                :sortable=\"false\"\n                                                :column-menu=\"true\"\n                                                :editable=\"true\"\n                                                :scrollable-virtual=\"true\"\n                                            >\n                                                <kendo-grid-column\n                                                    :command=\"{\n                            iconClass: 'k-icon k-i-trash',\n                            text: ' ',\n                            click: removeRow,\n                            class: 'btn-plus',\n                          }\"\n                                                    :title=\"' '\"\n                                                    :width=\"63\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :title=\"$t('no.')\"\n                                                    :width=\"53\"\n                                                    :column-menu=\"false\"\n                                                    :template=\"rowNumberTmpl\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5;',\n                            class: 'text-products',\n                          }\"\n                                                    :attributes=\"{\n                            style: 'text-align: products',\n                          }\"\n                                                />\n\n                                                <kendo-grid-column\n                                                    class=\"status\"\n                                                    :field=\"'item'\"\n                                                    :title=\"$t('item')\"\n                                                    :template=\"itemTemplate\"\n                                                    :editor=\"ItemDropDownEditor\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'description'\"\n                                                    :title=\"$t('description')\"\n                                                    :template=\"'<span>#=description#</span>'\"\n                                                    :width=\"160\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n\n                                                <kendo-grid-column\n                                                    :field=\"'uom'\"\n                                                    :title=\"$t('uom')\"\n                                                    :width=\"120\"\n                                                    :template=\"UOMTemplate\"\n                                                    :editor=\"UOMDropDownEditor\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{\n                            style: 'text-align: left',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'qty'\"\n                                                    :title=\"$t('qty')\"\n                                                    :format=\"'{0:n}'\"\n                                                    :template=\"'<span>#=qty#</span>'\"\n                                                    :width=\"80\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left; ' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'cost'\"\n                                                    :title=\"$t('cost')\"\n                                                    :width=\"200\"\n                                                    :template=\"\n                            '<span>#=kendo.toString(cost || 0, decimalFormat)#</span>'\n                          \"\n                                                    :editor=\"numberEditor\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'amount'\"\n                                                    :title=\"$t('amount')\"\n                                                    :width=\"200\"\n                                                    :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                                                    :template=\"\n                            '<span>#=kendo.toString(amount || 0, decimalFormat)#</span>'\n                          \"\n                                                    :editor=\"numberEditor\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'vatTax'\"\n                                                    :title=\"$t('tax')\"\n                                                    :width=\"200\"\n                                                    :template=\"vatTemplate\"\n                                                    :editor=\"VatTaxDropDownEditor\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'serviceDate'\"\n                                                    :title=\"$t('date_from')\"\n                                                    :width=\"160\"\n                                                    :hidden=\"!purchaseFormContent.serviceDate\"\n                                                    :template=\"\n                            '<span>#= kendo.toString(new Date(serviceDate), dateFormat)#</span>'\n                          \"\n                                                    :editor=\"ServiceDateEditor\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'serviceDateTo'\"\n                                                    :title=\"$t('date_to')\"\n                                                    :width=\"160\"\n                                                    :hidden=\"!purchaseFormContent.serviceDateTo\"\n                                                    :template=\"\n                            '<span>#= kendo.toString(new Date(serviceDateTo), dateFormat)#</span>'\n                          \"\n                                                    :editor=\"ServiceDateToEditor\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'discountItem'\"\n                                                    :title=\"$t('discount_item')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!purchaseFormContent.discountItem\"\n                                                    :template=\"discountItemTemplate\"\n                                                    :editor=\"DiscountItemDropDownEditor\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{\n                            style: 'text-align: left',\n                          }\"\n                                                />\n\n                                                <!--                                                <kendo-grid-column-->\n                                                <!--                                                    :field=\"'otherTax'\"-->\n                                                <!--                                                    :title=\"$t('otherTax')\"-->\n                                                <!--                                                    :width=\"200\"-->\n                                                <!--                                                    :hidden=\"!purchaseFormContent.otherTax\"-->\n                                                <!--                                                    :template=\"-->\n                                                <!--                            '<span>#=otherTax.defaultTax?otherTax.defaultTax:``#</span>'-->\n                                                <!--                          \"-->\n                                                <!--                                                    :editor=\"OtherTaxDropDownEditor\"-->\n                                                <!--                                                    :headerAttributes=\"{-->\n                                                <!--                            style:-->\n                                                <!--                              'text-align: left; background-color: #EDF1F5',-->\n                                                <!--                          }\"-->\n                                                <!--                                                    :attributes=\"{ style: 'text-align: left' }\"-->\n                                                <!--                                                />-->\n                                            </kendo-grid>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n\n                                            <v-btn\n                                                color=\"primary\"\n                                                class=\"float-left btn_plus mr-2\"\n                                                @click=\"addRow\"\n                                            >\n                                                <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                            </v-btn>\n\n                                        </v-col>\n                                    </v-row>\n\n                                    <v-row style=\"background-color: #fff;\">\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <v-row>\n                                                <v-col class=\"pt-0\" sm=\"6\" cols=\"6\">\n                                                    <v-card\n                                                        class=\"no-boxshadow px-3 pt-3\"\n                                                        color=\"grayBg\"\n                                                        height=\"230px\"\n                                                    >\n                                                        <label>{{ $t(\"msg_on_voucher\") }}</label>\n                                                        <v-textarea\n                                                            class=\"mt-1\"\n                                                            no-resize\n                                                            height=\"70px\"\n                                                            v-model=\"transaction.transactionNote\"\n                                                            outlined\n                                                            clearable\n                                                            rows=\"3\"\n                                                            placeholder=\"This will appear on the purchase order\"\n                                                        />\n                                                        <label>{{ $t(\"message_for_journal\") }}</label>\n                                                        <v-textarea\n                                                            class=\"mt-1\"\n                                                            no-resize\n                                                            height=\"70px\"\n                                                            v-model=\"transaction.journalNote\"\n                                                            outlined\n                                                            clearable\n                                                            rows=\"3\"\n                                                            placeholder=\"This will appear on the journal entry\"\n                                                        />\n                                                    </v-card>\n                                                </v-col>\n                                                <v-col class=\"pt-0\" sm=\"6\" cols=\"6\">\n                                                    <v-simple-table>\n                                                        <template v-slot:default>\n                                                            <tbody>\n                                                            <tr>\n                                                                <td class=\"text-left pr-0\">\n                                                                    {{ $t(\"subtotal\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    {{ numberFormat(transaction.subTotal) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left pr-0\">\n                                                                    {{ $t(\"general_discount\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    ({{\n                                                                        numberFormat(transaction.discountTotal)\n                                                                    }})\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left pr-0\">\n                                                                    {{ $t(\"total_tax\") }}\n                                                                    <v-btn\n                                                                        @click=\"dialogTax = true\"\n                                                                        color=\"primary\"\n                                                                        outlined\n                                                                        class=\"primary--white text-bold  float-right text-uppercase\"\n                                                                        style=\"height: 30px !important;\"\n                                                                    >\n                                                                        {{ $t(\"tax\") }}\n                                                                    </v-btn>\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    {{\n                                                                        numberFormat(transaction.totalTaxAmount)\n                                                                    }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td\n                                                                    class=\"text-left grayBg text-uppercase pr-0\"\n                                                                >\n                                                                    {{ $t(\"total\") }}\n                                                                </td>\n                                                                <td class=\"text-center grayBg\">:</td>\n                                                                <td\n                                                                    class=\"text-right grayBg text-bold\"\n                                                                    id=\"total\"\n                                                                >\n                                                                    {{ numberFormat(transaction.total) }}\n                                                                </td>\n                                                            </tr>\n                                                            </tbody>\n                                                        </template>\n                                                    </v-simple-table>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n\n                                    <v-divider/>\n                                    <v-card outlined dense class=\"no_border function_footer\">\n                                        <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                                            <span v-html=\"errorMessage\"/>\n                                        </v-alert>\n                                        <v-menu>\n                                            <template v-slot:activator=\"{ on }\">\n                                                <v-btn\n                                                    class=\"mr-2 text-capitalize  black--text float-left\"\n                                                    v-on=\"on\"\n                                                >\n                                                    {{ $t(\"select_template\") }}\n                                                    <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                                </v-btn>\n                                            </template>\n                                            <v-list>\n                                                <v-list-item\n                                                    v-for=\"(item, index) in templates\"\n                                                    :key=\"index\"\n                                                >\n                                                    <v-list-item-title>{{\n                                                            item.title\n                                                        }}\n                                                    </v-list-item-title>\n                                                </v-list-item>\n                                            </v-list>\n                                        </v-menu>\n                                        <v-btn\n                                            color=\"primary\"\n                                            outlined\n                                            class=\"text-capitalize  black--text float-left\"\n                                            @click=\"cancel\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <!--                    <v-menu>-->\n                                        <!--                      <template v-slot:activator=\"{ on }\">-->\n                                        <!--                        <v-btn-->\n                                        <!--                            color=\"primary\"-->\n                                        <!--                            class=\"ml-2 float-right text-capitalize  white&#45;&#45;text\"-->\n                                        <!--                            v-on=\"on\"-->\n                                        <!--                        >-->\n                                        <!--                          {{ $t(\"save_option\") }}-->\n                                        <!--                          <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>-->\n                                        <!--                        </v-btn>-->\n                                        <!--                      </template>-->\n                                        <!--                      <v-list rounded>-->\n                                        <!--                        <v-list-item-group>-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title-->\n                                        <!--                                  v-if=\"!isEdit\"-->\n                                        <!--                                  @click=\"saveClose\"-->\n                                        <!--                              >-->\n                                        <!--                                {{ $t(\"save_close\") }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title-->\n                                        <!--                                  v-if=\"!isEdit\"-->\n                                        <!--                                  @click=\"saveNew\"-->\n                                        <!--                              >-->\n                                        <!--                                {{ $t(\"save_new\") }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title @click=\"savePrint\"-->\n                                        <!--                              >{{ $t(\"save_print\") }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                        </v-list-item-group>-->\n                                        <!--                      </v-list>-->\n                                        <!--                    </v-menu>-->\n                                        <v-btn\n                                            @click=\"saveClose\"\n                                            color=\"primary\"\n                                            class=\"float-right white--text text-capitalize \">\n                                            {{ $t(\"save_close\") }}\n                                        </v-btn>\n                                        <v-btn color=\"secondary\"\n                                               style=\"margin-right: 10px !important\"\n                                               class=\"white--text float-right text-capitalize\"\n                                               @click=\"saveNew\" :hidden=\"hiddenButton\">{{ $t(\"save_new\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-form>\n                            </v-col>\n                            <v-col\n                                class=\"smallSide pl-2\"\n                                sm=\"4\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_small_bar_class: isHideBar }\"\n                            >\n                                <div class=\"d-flex justify-end\">\n                                    <h3\n                                        style=\"color: #b3b5bc; font-size:20px;\"\n                                        v-if=\"!isHideBar\"\n                                        class=\"text-uppercase float-right mt-n3\"\n                                    >\n                    <span class=\"pointer\" @click=\"Help('purchase order')\">\n                      {{ $t(\"help\") }}\n                    </span>\n                                        <v-icon\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"float-right mt-n1\"\n                                        >close\n                                        </v-icon>\n                                    </h3>\n                                </div>\n\n                                <div v-if=\"!isHideBar\" class=\"small_sidebar mt-2 grayBg\">\n                                    <v-card outlined dense class=\"pa-3 no_border my_card rounded-4 white--text\"\n                                            color=\"primary\" height=\"60px\">\n                                        <h3 class=\"text-left font_13 flex-1 text-uppercase\">{{\n                                                $t('amount_ordered')\n                                            }}</h3>\n                                        <h3 class=\"text-right flex-1 font_20 niradei_heavy\">\n                                            {{ numberFormat(transaction.total) }} </h3>\n                                    </v-card>\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0 pt-5\">\n                                            <!-- <h4 class=\"mb-3 text-uppercase\">{{ $t('analysis') }}</h4> -->\n                                            <label class=\"label mb-0\">{{ $t(\"segment\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"transaction.segment\"\n                                                :items=\"segments\"\n                                                item-value=\"id\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                return-object\n                                                tage=\"sub Of\"\n                                                placeholder=\"Sub Of\"\n                                                outlined=\"\"\n                                            />\n                                            <label class=\"label mb-0\">{{ $t(\"location\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"transaction.location\"\n                                                :items=\"locations\"\n                                                item-value=\"id\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                return-object\n                                                tage=\"Location\"\n                                                placeholder=\"bu/location\"\n                                                outlined=\"\"\n                                            />\n                                            <label class=\"label\">{{ $t(\"project\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"transaction.project\"\n                                                :items=\"projects\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                item-value=\"id\"\n                                                clearable\n                                                placeholder=\"project\"\n                                                outlined\n                                            />\n                                            <label class=\"label\">{{ $t(\"for_month_of\") }}</label>\n                                            <app-monthof-picker\n                                                :initMonthOf=\"transaction.month_of\"\n                                                @emitMonthOf=\"transaction.month_of = $event\"\n                                            />\n\n                                            <label class=\"label\">{{ $t(\"employee\") }}</label>\n                                            <v-col\n                                                sm=\"12\"\n                                                cols=\"12\"\n                                                class=\"kendo_dropdown_custom pl-0 pb-3 pt-0\"\n                                                style=\"padding: 0\"\n                                            >\n                                                <dropdownlist\n                                                    style=\"width: 100%\"\n                                                    class=\" mt-1\"\n                                                    :data-items=\"employees\"\n                                                    @change=\"onEmployeeChanged\"\n                                                    :value=\"mEmployee\"\n                                                    :data-item-key=\"'id'\"\n                                                    :text-field=\"'name'\"\n                                                    :default-item=\"defaultItem\"\n                                                    :filterable=\"true\"\n                                                    @filterchange=\"onEmployeeFilterChanged\"\n                                                >\n                                                </dropdownlist>\n                                            </v-col>\n                                        </v-col>\n                                    </v-row>\n                                    <v-divider class=\"\"/>\n                                    <!--                                    <v-row>-->\n                                    <!--                                        <v-col sm=\"12\" cols=\"12\">-->\n                                    <!--                                            <label class=\"label text-bold text-uppercase\">{{-->\n                                    <!--                                                    $t(\"tnc_to_be_added\")-->\n                                    <!--                                                }}</label>-->\n                                    <!--                                            <template v-slot:item=\"{ item }\">-->\n                                    <!--                                                <p class=\"d-block text-center\">-->\n                                    <!--                                                    {{ item.id }}. {{ item.name }}-->\n                                    <!--                                                </p>-->\n                                    <!--                                                <br/>-->\n                                    <!--                                                <div class=\"item_list d-flex\">-->\n                                    <!--                          <span>-->\n                                    <!--                            {{ item.no }}-->\n                                    <!--                          </span>-->\n                                    <!--                                                    <v-btn>{{ $t(\"add\") }}</v-btn>-->\n                                    <!--                                                </div>-->\n                                    <!--                                            </template>-->\n\n                                    <!--                                            <v-row>-->\n                                    <!--                                                <label class=\"text-bold ml-9\" style=\"font-size: 12px;\"-->\n                                    <!--                                                >1. {{ $t(\"sale_order\") }}</label-->\n                                    <!--                                                >-->\n                                    <!--                                                <v-row v-for=\"item in txnTobeAdd\" v-bind:key=\"item.id\">-->\n                                    <!--                                                    <v-col sm=\"9\" cols=\"9\" class=\"py-0 pr-0\">-->\n                                    <!--                                                        <v-card-->\n                                    <!--                                                            outlined-->\n                                    <!--                                                            class=\"px-3 py-1 text-white no-boxshadow no_border justify-left d-flex\"-->\n                                    <!--                                                            style=\"background-color: #92d050; height: 30px\"-->\n                                    <!--                                                        >-->\n                                    <!--                                                            <p class=\"mb-0\" style=\"width: 100%\">-->\n                                    <!--                                <span class=\"pl-3 float-left\">{{-->\n                                    <!--                                        item.number-->\n                                    <!--                                    }}</span>-->\n                                    <!--                                                                <span class=\"float-right\">{{-->\n                                    <!--                                                                        numberFormat(item.total)-->\n                                    <!--                                                                    }}</span>-->\n                                    <!--                                                            </p>-->\n                                    <!--                                                        </v-card>-->\n                                    <!--                                                    </v-col>-->\n                                    <!--                                                    <v-col sm=\"3\" cols=\"3\" class=\"py-0  pl-1\">-->\n                                    <!--                                                        <v-btn-->\n                                    <!--                                                            class=\"text-white text-bold rounded-0 float-right text-uppercase\"-->\n                                    <!--                                                            style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\"-->\n                                    <!--                                                            @click=\"addQuote(item)\"-->\n                                    <!--                                                        >-->\n                                    <!--                                                            {{ $t(\"add\") }}-->\n                                    <!--                                                        </v-btn>-->\n                                    <!--                                                    </v-col>-->\n                                    <!--                                                </v-row>-->\n                                    <!--                                            </v-row>-->\n                                    <!--                                        </v-col>-->\n                                    <!--                                    </v-row>-->\n\n                                    <p class=\"mb-0 detial_smallside_p pl-4\">\n                                        {{ $t(\"purchae_order_funct_detial\") }}\n                                    </p>\n                                </div>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"false\"\n                :myLoading=\"true\"/>\n            <v-dialog v-model=\"dialogTax\" max-width=\"450px\">\n                <v-card>\n                    <div class=\"modal_header\">\n                        <v-card-title>{{ $t(\"tax_list\") }}</v-card-title>\n                        <v-icon class=\"btn_close\" @click=\"dialogTax = false\">close</v-icon>\n                    </div>\n                    <v-card-text class=\"modal_text_content\">\n                        <v-row>\n                            <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                <v-simple-table>\n                                    <template v-slot:default>\n                                        <tbody>\n                                        <tr\n                                            v-for=\"(value, name) in taxListTotal\"\n                                            v-bind:key=\"name\"\n                                        >\n                                            <td class=\"text-left\" width=\"180px\">{{ name }}</td>\n                                            <td class=\"text-center\">:</td>\n                                            <td class=\"text-right\">\n                                                {{ numberFormat(value) }}\n                                            </td>\n                                        </tr>\n                                        <tr>\n                                            <td class=\"text-left\" width=\"180px\">\n                                                {{ $t(\"total\") }}\n                                            </td>\n                                            <td class=\"text-center\">:</td>\n                                            <td class=\"text-right\">\n                                                {{ numberFormat(transaction.totalTaxAmount) }}\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </template>\n                                </v-simple-table>\n                            </v-col>\n                        </v-row>\n                    </v-card-text>\n                    <v-divider/>\n                </v-card>\n            </v-dialog>\n            <v-dialog v-model=\"dialogCatalog\" max-width=\"850px\">\n                <v-card>\n                    <div class=\"modal_header\">\n                        <v-card-title>{{ $t(\"catalog\") }}</v-card-title>\n                        <v-icon @click=\"dialogCatalog = false\"\n                        >close\n                        </v-icon\n                        >\n                    </div>\n                    <v-card-text cl ass=\"modal_text_content\">\n                        <v-row>\n                            <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                <v-simple-table>\n                                    <kendo-datasource\n                                        ref=\"catalogDatasource\"\n                                        :data=\"catalogs\"\n                                        :schema=\"gridSchema\"\n                                    />\n                                    <kendo-grid\n                                        id=\"gridCatalog\"\n                                        class=\"grid-function\"\n                                        :data-source-ref=\"'catalogDatasource'\"\n                                        :style=\"{ width: '100%' }\"\n                                        :noRecords=\"true\"\n                                        :pageable-numeric=\"false\"\n                                        :pageable-previous-next=\"false\"\n                                        :pageable-messages-display=\"'Showing {2} data items'\"\n                                        :scrollable-virtual=\"true\"\n                                    >\n                                        <kendo-grid-column\n                                            :field=\"'images'\"\n                                            :title=\"$t('image')\"\n                                            :width=\"50\"\n                                            :template=\"loadImage\"\n                                            :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                                        />\n                                        <kendo-grid-column\n                                            :field=\"'number'\"\n                                            :title=\"$t('number')\"\n                                            :width=\"70\"\n                                            :template=\"'<span>#=number#</span>'\"\n                                            :groupHeaderColumnTemplate=\"'#=value#'\"\n                                            :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                                        />\n                                        <kendo-grid-column\n                                            :field=\"'name'\"\n                                            :title=\"$t('name')\"\n                                            :width=\"100\"\n                                            :template=\"'<span>#=name#</span>'\"\n                                            :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                                        />\n                                        <kendo-grid-column\n                                            :field=\"'description'\"\n                                            :title=\"$t('description')\"\n                                            :width=\"100\"\n                                            :template=\"'<span>#=description#</span>'\"\n                                            :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                                        />\n                                        <kendo-grid-column\n                                            :field=\"'noOfProduct'\"\n                                            :title=\"$t('products')\"\n                                            :template=\"'<span>#=noOfProduct#</span>'\"\n                                            :width=\"50\"\n                                            :headerAttributes=\"{\n                        style: 'text-align: left; background-color: #EDF1F5',\n                      }\"\n                                        />\n                                        <kendo-grid-column\n                                            :field=\"''\"\n                                            :title=\"$t('action')\"\n                                            :width=\"60\"\n                                            :command=\"[{ text: $t('add'), click: addCatalog }]\"\n                                            :headerAttributes=\"{\n                        style: 'text-align: left; background-color: #EDF1F5',\n                      }\"\n                                        />\n                                    </kendo-grid>\n                                </v-simple-table>\n                            </v-col>\n                        </v-row>\n                    </v-card-text>\n                    <v-divider/>\n                </v-card>\n            </v-dialog>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport {i18n} from \"@/i18n\";\nimport TransactionModel from \"@/scripts/model/Transaction\";\nimport {DropDownList} from \"@progress/kendo-vue-dropdowns\";\nimport kendo from \"@progress/kendo-ui\";\nimport {uuid} from \"vue-uuid\";\nimport PurchaseFormContentModel from \"@/scripts/model/PurchaseFormContent\";\nimport {dataStore, ShowResource} from \"@/observable/store\";\n\nimport ItemLineModel from \"@/scripts/invoice/model/ItemLine\";\nimport creditLimitHandler from \"@/scripts/creditLimit/handler/creditLimitHandler\";\nimport paymentTermHandler_ from \"@/scripts/paymentterm/handler/paymentTermHandler\";\nimport Helper from \"@/helper\";\n\nconst itemLineModel = new ItemLineModel({});\n\nconst transactionHandler = require(\"@/scripts/transactionHandler\");\nconst supplierHandler = require(\"@/scripts/supplierHandler\");\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\");\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\n// const paymentTermHandler = require(\"@/scripts/paymentTermHandler\");\nconst purchaseFormContentHandler = require(\"@/scripts/purchaseFormContentHandler\");\nconst settingHandler = require(\"@/scripts/settingHandler\");\nconst locationHandler = require(\"@/scripts/locationHandler\");\nconst projectHandler = require(\"@/scripts/projectHandler\");\nconst discountItemHandler = require(\"@/scripts/discountItemHandler\");\nconst uomPriceHandler = require(\"@/scripts/uomPriceHandler\");\nconst employeeHandler = require(\"@/scripts/employeeHandler\");\nconst priceLevelHandler = require(\"@/scripts/priceLevelHandler\");\nconst productVariantHandler = require(\"@/scripts/productVariantHandler\");\nconst prefixHandler = require(\"@/scripts/prefixHandler\");\nconst settingsHandler = require(\"@/scripts/settingsHandler\");\nconst saleUnitItemHandler = require(\"@/scripts/saleUnitItemHandler\");\nconst catalogHandler = require(\"@/scripts/catalogHandler\");\nconst productHandler = require(\"@/scripts/productHandler\");\n\nconst $ = kendo.jQuery\nconst textField = \"numberName\";\nconst keyField = \"id\";\nconst defaultItem = {[textField]: \"Select Supplier...\", [keyField]: null};\nconst emptyItem = {[textField]: \"loading ...\"};\nconst transactionPrefix = \"lin-\";\nconst purchaseFormContentModel = new PurchaseFormContentModel({});\nconst DISCOUNT_TYPE = \"?type=Purchase\";\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\n\nconst TYPE = 'purchase'\nexport default {\n    name: \"PurchaseOrder\",\n    props: {\n        id: {\n            type: String,\n        },\n        initPurchaseOrder: {\n            type: TransactionModel,\n        },\n    },\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n        \"app-datepicker\": () => import(`@/components/custom_templates/DatePickerComponent`),\n        dropdownlist: DropDownList,\n        \"app-monthof-picker\": () => import(\"@/components/kendo_templates/MonthOfPicker\"),\n    },\n    data: () => ({\n        success: false,\n        isEdit: false,\n        textField: \"numberName\",\n        dataItemKey: \"id\",\n        balance: 0,\n        // LoadingMe\n        showLoading: false,\n        alert: false,\n        files: [],\n        dialogCatalog: false,\n        gridSchema: {\n            model: {\n                id: \"id\",\n            },\n        },\n        // Form validation\n        valid: true,\n        templates: [\n            {title: \"Purchase Order\", value: \"Purchase Order\",},\n\n        ],\n        isHideBar: false,\n        transaction: new TransactionModel({}),\n        supplierList: [],\n        supplier: {},\n        catalogs: [],\n        dialogTax: false,\n        baseCurrencyCode: \"\",\n        supBaseUrl: supplierHandler.search(),\n        exchangeRate: {},\n        currencyCode: \"\",\n        transactionRate: 1,\n        paymentTerms: [],\n        employees: [],\n        mEmployee: {},\n        purchaseFormContent: purchaseFormContentModel,\n        segments: [],\n        locations: [],\n        taxListTotal: {},\n        itemLines: [],\n        itemLine: itemLineModel,\n        dateFormat: itemLineModel.dateFormat,\n        projects: [],\n        filter: \"\",\n        purchaseOrderType: 1,\n        purchaseOrderTypes: [\n            {name: \"Standard Order\", id: 1},\n            {name: \"Open Order\", id: 2},\n            {name: \"Contract\", id: 3},\n            {name: \"Consignment Order\", id: 4},\n            {name: \"Order required Purchase\", id: 5},\n        ],\n        discountItem: [],\n        saleUnit: [],\n        defaultItem: defaultItem,\n        txnLists: [],\n        saveOption: \"\",\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email,\n        },\n        saleUnitItemList: [],\n        tax: [],\n        otherTax: [],\n        vatTax: [],\n        txnTobeAdd: [],\n        // withholdingTax: [],\n        priceLevels: [],\n        errors: [],\n        isSaveNew: false,\n        isSaveClose: false,\n        isSavePrint: false,\n        isSaveDraft: false,\n        isPriceLevelChanged: false,\n        taxListDetail: []\n    }),\n    methods: {\n        autoCalculateTaxDetail() {\n            let ids = []\n            this.taxListDetail.forEach(n => {\n                ids.push(n.id || '')\n            })\n            const unique = [...new Set(ids)]\n            let result = []\n            unique.forEach(m => {\n                let amount = 0, row = {}, discount = 0, xDiscount = 0, xAmount = 0, taxAmount = 0, xTaxAmount = 0\n                let taxDetail = [], isVat = 0\n                const found = this.taxListDetail.filter(n => n.id === m)\n                // window.console.log('taxListDetailids', found)\n                found.forEach(k => {\n                    row = k\n                    if (k.isVat === 1) {\n                        isVat = 1\n                        const detail_ = k.detail || {}\n                        taxDetail.push(detail_)\n\n                    }\n                    taxAmount += k.taxAmount_ || 0\n                    xTaxAmount += (k.taxAmount_ || 0) * (k.txnRate || 1)\n                    amount += (k.amount || 0)\n                    xAmount += (k.amount || 0) * (k.txnRate || 1)\n                    discount += (k.discount || 0)\n                    xDiscount += (k.discount || 0) * (k.txnRate || 1)\n                })\n                let spTaxAmt = 0, spXTaxAmt = 0, plTaxAmt = 0, plXTaxAmt = 0, otTaxAmt = 0, otXTaxAmt = 0,\n                    spTaxName = '', plTaxName = '', otTaxName = '',\n                    spTaxNameLocale = '', plTaxNameLocale = '', otTaxNameLocale = '',\n                    spAccId = '', plAccId = '', otAccId = '',\n                    spRate = '', plRate = '', otRate = ''\n                taxDetail.forEach(n => {\n                    const spTax = n.specificTax || {}\n                    const plTax = n.publicLightingTax || {}\n                    const otherTax = n.otherTax || {}\n                    if (Object.keys(spTax).length > 0) {\n                        spTaxAmt += (spTax.taxAmount_ || 0)\n                        spXTaxAmt += ((spTax.taxAmount_ || 0) * (spTax.taxRate || 1))\n                        spTaxName = spTax.defaultTax || ''\n                        spTaxNameLocale = spTax.defaultTaxLocale || ''\n                        spAccId = spTax.account ? spTax.account.id : ''\n                        spRate = spTax.rate || 1\n                    }\n                    if (Object.keys(plTax).length > 0) {\n                        plTaxAmt += (plTax.taxAmount_ || 0)\n                        plXTaxAmt += ((plTax.taxAmount_ || 0) * (plTax.taxRate || 1))\n                        plTaxName = plTax.defaultTax || ''\n                        plTaxNameLocale = plTax.defaultTaxLocale || ''\n                        plAccId = plTax.account ? plTax.account.id : ''\n                        plRate = plTax.rate || 1\n                    }\n                    if (Object.keys(otherTax).length > 0) {\n                        otTaxAmt += (otherTax.taxAmount_ || 0)\n                        otXTaxAmt += ((otherTax.taxAmount_ || 0) * (plTax.taxRate || 1))\n                        otTaxName = otherTax.defaultTax || ''\n                        otTaxNameLocale = otherTax.defaultTaxLocale || ''\n                        otAccId = otherTax.account ? otherTax.account.id : ''\n                        otRate = otherTax.rate || 1\n                    }\n                })\n                if (isVat === 1) {\n                    row.detail = {\n                        specificTax: {\n                            name: spTaxName,\n                            nameLocale: spTaxNameLocale,\n                            amount: spTaxAmt,\n                            exchangeAmount: spXTaxAmt,\n                            accountId: spAccId,\n                            rate: spRate,\n                        },\n                        publicLightingTax: {\n                            name: plTaxName,\n                            nameLocale: plTaxNameLocale,\n                            amount: plTaxAmt,\n                            exchangeAmount: plXTaxAmt,\n                            accountId: plAccId,\n                            rate: plRate,\n                        },\n                        otherTax: {\n                            name: otTaxName,\n                            nameLocale: otTaxNameLocale,\n                            amount: otTaxAmt,\n                            exchangeAmount: otXTaxAmt,\n                            accountId: otAccId,\n                            rate: otRate,\n                        }\n                    }\n                } else {\n                    row.detail = {}\n                }\n\n                row['amount'] = amount\n                row['exchangeAmount'] = xAmount\n                row['taxAmount'] = taxAmount\n                row['exchangeTaxAmount'] = xTaxAmount\n                row['discount'] = discount\n                row['exchangeDiscount'] = xDiscount\n                row['currency'] = this.transaction.exchangeRate || {}\n                result.push(row)\n                taxDetail = []\n            })\n            this.transaction.saleTaxDetail = result\n        },\n        async loadPaymentTermList() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (this.supplier) {\n                        const strFilter = '?id=' + this.supplier.id + '&transactionDate=' + this.transaction.transactionDate + '&type=Vendor'\n                        this.transaction.paymentTerm = {}\n                        paymentTermHandler_.get(strFilter).then((res) => {\n                            if (res.data.statusCode === 200) {\n                                const terms = res.data.data\n                                this.transaction.paymentTerm = terms.term\n                                this.onPaymentTermChanged()\n                            }\n                        });\n                    }\n                }, 10);\n            });\n        },\n        async loadCreditLimit() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (this.supplier) {\n                        const strFilter = '?id=' + this.supplier.id + '&transactionDate=' + this.transaction.transactionDate + '&type=Vendor'\n                        this.transaction.creditLimit = 0\n                        creditLimitHandler.get(strFilter).then((res) => {\n                            if (res.data.statusCode === 200) {\n                                const credit = res.data.data\n                                this.transaction.creditLimit = kendo.parseFloat(credit.amount || 0);\n                            }\n                        });\n                    }\n                }, 10);\n            });\n        },\n        async loadCustomerBalance(id) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = id + \"?type=bal\";\n                    this.transaction.currentBalance = 0;\n                    billingHandler\n                        .balance(strFilter)\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                const data = res.data.data;\n                                if (data.length > 0) {\n                                    this.transaction.currentBalance = data[0].balance;\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        onPriceLevelChange() {\n            this.isPriceLevelChanged = true\n            this.loadTransactionRate()\n            this.clearUOMItem()\n        },\n        async clearUOMItem() {\n            let ds = this.$refs.itemLinePODS.kendoWidget()\n            ds.data().map(n => {\n                n.set('uom', {})\n            })\n            this.isPriceLevelChanged = false\n        },\n        numberEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    min: 0.00001,\n                    format: `${this.purchaseFormContent.decimal}`,\n                });\n        },\n        Help(key_search) {\n            ShowResource(key_search);\n        },\n        initialData() {\n            if (this.id) {\n                // Edit Mode\n                // this.transaction = this.initPurchaseOrder;\n                this.setDefaultData()\n                this.loadViewPurchaseOrder()\n                // this.bindData();\n            } else {\n                // Brand New Mode\n                if (this.$route.params.id === undefined) {\n                    this.setDefaultData();\n                }\n            }\n        },\n        setDefaultData() {\n            // Brand New Mode\n            this.isEdit = false;\n            const paymentTerm = this.transaction.paymentTerm || {}\n            this.transaction = new TransactionModel({});\n            //month of\n            let monthOf = kendo.toString(new Date(this.transaction.transactionDate), \"yyyy-MM-dd\");\n            window.console.log('monthOf', monthOf)\n            this.transaction.month_of = monthOf;\n            this.transaction.formTemplate = 1;\n            let ds = this.$refs.itemLinePODS.kendoWidget();\n            ds.data([]);\n            // Add 2 default lines\n            this.addRow();\n            this.loadPrefix();\n            this.loadPaymentTerm();\n            this.loadPriceLevel();\n            this.loadSegment();\n            this.loadLocation();\n            this.mEmployee = {};\n            this.taxListTotal = {};\n            this.isSaveNew = false;\n            this.isSaveClose = false;\n            this.isSavePrint = false;\n            this.isSaveDraft = false;\n            this.transaction.paymentTerm = paymentTerm\n        },\n        bindData() {\n            // Edit Mode\n            this.isEdit = true;\n            this.supplier = this.transaction.supplier;\n            this.taxListTotal = this.transaction.taxListTotal;\n            this.itemLines = this.transaction.itemLines;\n            // if (this.supplier.hasOwnProperty('id')) {\n            //   this.loadProjectBySupplier()\n            // }\n        },\n        addRow() {\n            let ds = this.$refs.itemLinePODS.kendoWidget(),\n                total = ds.total();\n            this.itemLine.id = transactionPrefix + uuid.v1();\n            ds.insert(total, this.itemLine);\n        },\n        async loadPaymentTerm() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = \"?type=pmt-supplier\";\n                    this.paymentTerms = []\n                    settingsHandler.getPaymentTerm(strFilter).then((res) => {\n                        this.showLoading = false;\n                        this.paymentTerms = res.data.data;\n                        // if (this.paymentTerms.length > 0) {\n                        //     if (\n                        //         this.$route.params.id !== undefined ||\n                        //         this.$route.params.id !== \"\"\n                        //     ) {\n                        //         this.transaction.paymentTerm = this.paymentTerms[0];\n                        //     }\n                        // }\n                    });\n                }, 10);\n            });\n        },\n        async loadPriceLevel() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = '?nature=' + TYPE\n                    priceLevelHandler.get(strFilter).then((res) => {\n                        this.priceLevels = res;\n                        if (this.priceLevels.length > 0) {\n                            if (\n                                this.$route.params.id !== undefined ||\n                                this.$route.params.id !== \"\"\n                            ) {\n                                this.transaction.priceLevel = this.priceLevels[0];\n                                this.loadTransactionRate();\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadSegment() {\n            this.segments = []\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const segment = roleData.filter(itm => itm.type === 'segment')\n                    const segmentDefault = segment.filter(m => m.isDefault === 1)\n                    this.segments = segment\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        if (segmentDefault.length > 0) {\n                            this.transaction.segment = segmentDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.segments = [];\n                        settingsHandler\n                            .getSeg()\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.segments = res.data.data;\n                                    if (this.segments.length > 0) {\n                                        this.transaction.segment = this.segments[0];\n                                    }\n                                }\n                            })\n                    }, 10);\n                });\n            }\n        },\n        async loadLocation() {\n            this.locations = []\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const location = roleData.filter(itm => itm.type === 'location')\n                    const locationDefault = location.filter(m => m.isDefault === 1)\n                    this.locations = location\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        if (locationDefault.length > 0) {\n                            this.transaction.location = locationDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.locations = [];\n                        locationHandler\n                            .list()\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.locations = res.data.data;\n                                    if (this.locations.length > 0) {\n                                        this.transaction.location = this.locations[0];\n                                    }\n                                }\n                            })\n                    }, 10);\n                });\n            }\n        },\n        //\n        hide_smallsitebar() {\n            this.isHideBar = !this.isHideBar;\n        },\n        //\n        onPaymentTermChanged() {\n            // this.onDateChanged();\n            if (this.supplier) {\n                const paymentTerm = this.transaction.paymentTerm || {}\n                const netDue = paymentTerm.netDue || 0;\n                const someDate = new Date(this.transaction.transactionDate);\n                someDate.setDate(someDate.getDate() + parseInt(netDue)); //number  of days to add, e.x. 15 days\n                this.transaction.exspectedDate = someDate\n            }\n        },\n        onChange(event) {\n            const value = event.value;\n            if (value && value[textField] === emptyItem[textField]) {\n                return;\n            }\n            this.supplier = value;\n            this.transaction.supplier = value;\n            // this.invoice = value\n            window.console.log(\"pricelvel\", value)\n            this.transaction.paymentTerm = value.paymentTerm || {};\n            this.transaction.priceLevel = value.priceLevel || {};\n            const baseCurrency = value.baseCurrency || {};\n            if (baseCurrency.hasOwnProperty(\"code\")) {\n                this.baseCurrencyCode = baseCurrency.code;\n            }\n            // this.loadProjectBySupplier()\n            // this.loadPurchase();\n            this.onDateChanged();\n        },\n        onFilterChange(event) {\n            const filter = event.filter.value;\n            this.requestData(0, filter, this.supBaseUrl);\n            this.filter = filter;\n        },\n        requestData(skip, filter, baseUrl) {\n            window.console.log(baseUrl, \"requ\");\n            const url = baseUrl + `?filter=${filter}`;\n            this.requestStarted = true;\n            fetch(url)\n                .then((response) => {\n                    return response.json();\n                })\n                .then(this.afterFetch);\n        },\n        afterFetch(json) {\n            this.supplierList = json.data;\n        },\n        async loadTransactionRate() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const date = new Date(this.transaction.transactionDate)\n                        .toISOString()\n                        .substr(0, 10);\n                    const priceLevel = this.transaction.priceLevel;\n                    let code = \"\";\n                    if (priceLevel.hasOwnProperty(\"currency\")) {\n                        if (priceLevel.currency.hasOwnProperty(\"code\")) {\n                            code = priceLevel.currency.code;\n                        }\n                    }\n                    if (code !== undefined || code !== \"\") {\n                        this.showLoading = true;\n                        currencyHandler\n                            .getLastExchangeRateByDate(date, code)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.exchangeRate = res.data.data[0];\n                                    this.currencyCode = this.exchangeRate.code;\n                                    this.transactionRate = this.exchangeRate.rate;\n                                    this.transaction.txnRate = this.exchangeRate.rate;\n                                    this.transaction.exchangeRate = this.exchangeRate;\n                                    this.showLoading = false;\n                                }\n                            });\n                    }\n                }, 10);\n            });\n        },\n        async onDateChanged() {\n            if (this.supplier) {\n                await this.loadPaymentTermList();\n                await this.loadCreditLimit();\n                await this.loadCustomerBalance(this.supplier.id);\n                await this.onPriceLevelChange();\n                this.transaction.month_of = kendo.toString(new Date(this.transaction.transactionDate), 'yyyy-MM')\n                // const paymentTerm = this.transaction.paymentTerm || {}\n                // if (paymentTerm) {\n                //     const netDue = paymentTerm.netDue || 0;\n                //     let someDate = new Date(this.transaction.transactionDate);\n                //     someDate.setDate(someDate.getDate() + parseInt(netDue)); //number  of days to add, e.x. 15 days\n                //     window.console.log('someDate', someDate, paymentTerm)\n                //     this.transaction.exspectedDate = someDate\n                // }\n                // this.onPaymentTermChanged()\n            }\n            if (this.$route.params.id === undefined && this.isEdit == false) {\n                this.generateNumber();\n            }\n        },\n        generateNumber() {\n            // window.console.log('generateNumber')\n            let d = new Date().toISOString().substr(0, 10);\n            if (this.transaction.transactionDate) {\n                // window.console.log(this.transactionDate)\n                d = this.transaction.transactionDate;\n            }\n            let data = {\n                abbr: this.transaction.transactionType.abbr,\n                structure: this.transaction.transactionType.structure,\n                sequcencing: this.transaction.transactionType.sequcencing,\n                prefixSeparator: this.transaction.transactionType.prefixSeparator || '',\n                numberSeparator: this.transaction.transactionType.numberSeparator || '',\n                format: this.transaction.transactionType.format || 5,\n                transactionDate: d,\n                type: \"Purchase Order\",\n            };\n            billingHandler\n                .lastNumber(data)\n                .then((response) => {\n                    if (response.data.statusCode === 200) {\n                        const res = response.data.data;\n                        const lastNumber = this.zeroPad(\n                            parseInt(res.lastNumber),\n                            this.transaction.transactionType.format\n                        );\n                        const number =\n                            res.suffix +\n                            this.transaction.transactionType.numberSeparator +\n                            lastNumber;\n                        this.transaction.number = number;\n                    }\n                })\n                .catch((e) => {\n                    this.errors.push(e);\n                });\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, \"0\");\n        },\n        async loadPrefix() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    prefixHandler.get(\"purchase order\").then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.transactionType = res.data.data;\n                            if (this.transactionType.length > 0) {\n                                this.transaction.transactionType = this.transactionType[0];\n                                if (!this.id) {\n                                    this.generateNumber();\n                                }\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadPurchaseFormContent() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    purchaseFormContentHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            const data = res.data.data;\n                            if (data.length > 0) {\n                                this.purchaseFormContent = data[0];\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadProjectBySupplier() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    // projectHandler.getBySupplier(this.supplier.id).then(res => {\n                    projectHandler\n                        .list()\n                        .then((res) => {\n                            this.showLoading = true;\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.projects = res.data.data;\n                                // if (this.projects.length > 0) {\n                                //     if (!this.id) {\n                                //         this.transaction.project = this.projects[0];\n                                //     }\n                                // }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadTax() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    settingHandler.get().then((res) => {\n                        this.tax = res;\n                        this.otherTax = this.tax.filter((m) => m.taxType.typeId === 7); // valuable tax\n                        // this.withholdingTax = this.tax.filter(m => m.taxType.typeId === 2 && m.transactionType === 'Sale') // valuable tax\n                        this.vatTax = this.tax.filter(\n                            (m) =>\n                                m.taxType.typeId === 1 ||\n                                m.taxType.typeId === 8 ||\n                                m.taxType.typeId === 2\n                        ); // valuable tax\n                    });\n                }, 10);\n            });\n        },\n        async loadSaleUnitItems() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    saleUnitItemHandler.list().then((res) => {\n                        if (res.data.statusCode === 200)\n                            this.saleUnitItemList = res.data.data;\n                    });\n                }, 10);\n            });\n        },\n        //itemline\n        removeDuplicate(array) {\n            const result = [];\n            const map = new Map();\n            for (const item of array) {\n                if (!map.has(item.id)) {\n                    map.set(item.id, true); // set any value to Map\n                    result.push(item);\n                }\n            }\n            return result;\n        },\n        autoCalculateDiscount(discountItem, subTotal) {\n            if (discountItem) {\n                const nature = discountItem.nature || ''\n                const amount = discountItem.amount || 0\n                if (nature === 'Amount') {\n                    return parseFloat(amount)\n                } else if (nature === 'Percentage') {\n                    return (subTotal * (parseFloat(amount) / 100))\n                } else {\n                    return 0\n                }\n            } else {\n                return 0\n            }\n        },\n        autoCalculateTax(tax, amount) {\n            if (tax) {\n                var formula = tax.formula;\n                var inAmt = kendo.parseFloat(amount);\n                var nAmt = kendo.parseFloat(amount);\n                var taxBase = kendo.parseFloat(tax.taxBase) / 100;\n                var rate = kendo.parseFloat(tax.rate) / 100;\n                var total = eval(formula);\n                window.console.log(inAmt, nAmt, taxBase, rate, formula, total);\n                // window.console.log(tax, \"tax\");\n                // if (tax.hasOwnProperty(\"taxType\")) {\n                //     if (tax.taxType.nature == \"Deduct\") {\n                //         total = total * -1;\n                //     }\n                // }\n                return total;\n            }\n            // return 0\n        },\n        autoCalculateTaxByType(tax) {\n            // return by a key\n            const groupAll = (list) =>\n                list.reduce((tax, item) => {\n                    const taxAmount = tax[item.name] || 0;\n                    return Object.assign({}, tax, {\n                        [item.name]: taxAmount + parseFloat(item.amount),\n                    });\n                }, {});\n            this.taxListTotal = groupAll(tax);\n            // window.console.log('nimol', groupAll(tax))\n            // this.\n        },\n        taxMapping(objTax, tax) {\n            const taxId = tax.id || ''\n            const tax_ = objTax.filter(t => t.id === taxId)[0]\n            return tax_ || {\n                id: '',\n                defaultTax: ''\n            }\n        },\n        dataSourceChanged(e) {\n            if (e.field) {\n                let dataRow = e.items[0],\n                    buom = {}, vTax = {},\n                    conversionRate = 1,\n                    wac = 0,\n                    qoh = 0,\n                    amount = 0,\n                    xAmount = 0;\n                switch (e.field) {\n                    case \"item\":\n                        // this.attribute_ = this.attributes.filter(m => m.type.id === dataRow.variant.id)\n                        dataRow.set(\"description\", dataRow.item.description);\n                        buom = dataRow.item.uom || {};\n                        dataRow.set(\"buom\", buom);\n                        // dataRow.set('uom', buom)\n                        // window.console.log(dataRow.item,'row')\n                        // await this.inventoryBalance(dataRow, dataRow.item.id)\n                        break;\n                    case \"cost\":\n                        try {\n                            amount = parseFloat(dataRow.cost) * parseFloat(dataRow.qty);\n                            xAmount = amount * parseFloat(this.transaction.txnRate);\n\n                            dataRow.set(\"cost\", parseFloat(dataRow.cost));\n                            dataRow.set(\"amount\", amount);\n                            dataRow.set(\"exchangeAmount\", xAmount);\n                            // window.console.log('price',dataRow.price)\n                        } catch {\n                            dataRow.set(\"cost\", 0);\n                            dataRow.set(\"amount\", 0);\n                            dataRow.set(\"exchangeAmount\", 0);\n                        }\n                        break;\n                    case \"uom\":\n                        if (this.isPriceLevelChanged === false) {\n                            try {\n                                buom = dataRow.uom.buom || {};\n                                qoh = dataRow.uom.qoh || 0;\n                                conversionRate = dataRow.uom.conversionRate || 1;\n                                wac = dataRow.uom.wac || 0;\n                                dataRow.set(\"buom\", buom);\n                                dataRow.set(\"wac\", wac);\n                                dataRow.set(\"qoh\", qoh);\n                                dataRow.set(\"conversionRate\", parseFloat(conversionRate));\n\n                                /* todo: mapping tax object */\n                                vTax = this.taxMapping(this.vatTax, dataRow.uom.purchaseTax || {})\n\n                                dataRow.set(\"vatTax\", vTax);\n\n                                if (dataRow.uom) {\n                                    amount = parseFloat(dataRow.uom.cost) * parseFloat(dataRow.qty);\n                                    xAmount = amount * parseFloat(this.transaction.txnRate);\n\n                                    dataRow.set(\"cost\", parseFloat(dataRow.uom.cost));\n                                    dataRow.set(\"amount\", amount);\n                                    dataRow.set(\"exchangeAmount\", xAmount);\n                                } else {\n                                    amount = parseFloat(dataRow.cost) * parseFloat(dataRow.qty);\n                                    xAmount = amount * parseFloat(this.transaction.txnRate);\n\n                                    dataRow.set(\"cost\", parseFloat(dataRow.cost));\n                                    dataRow.set(\"amount\", amount);\n                                    dataRow.set(\"exchangeAmount\", xAmount);\n                                }\n                            } catch (err) {\n                                window.console.log(\"error\", err);\n                                dataRow.set(\"buom\", {});\n                                dataRow.set(\"conversionRate\", 1);\n                                dataRow.set(\"cost\", 0);\n                                dataRow.set(\"qoh\", 0);\n                                dataRow.set(\"wac\", 0);\n                                dataRow.set(\"amount\", 0);\n                                dataRow.set(\"exchangeAmount\", 0);\n                            }\n                        }\n                        break;\n                    case \"qty\":\n                        try {\n                            amount = parseFloat(dataRow.cost) * parseFloat(dataRow.qty);\n                            xAmount = amount * parseFloat(this.transaction.txnRate);\n\n                            dataRow.set(\"cost\", parseFloat(dataRow.cost));\n                            dataRow.set(\"amount\", amount);\n                            dataRow.set(\"exchangeAmount\", xAmount);\n                        } catch {\n                            dataRow.set(\"cost\", 0);\n                            dataRow.set(\"amount\", 0);\n                            dataRow.set(\"exchangeAmount\", 0);\n                        }\n                        break;\n                    case \"otherTax\":\n                        // window.console.log(\"--\", dataRow)\n                        break;\n                    default:\n                        break;\n                }\n                if (e.field) {\n                    this.autoCalculate();\n                }\n            }\n        },\n        autoCalculate() {\n            let ds = this.$refs.itemLinePODS.kendoWidget(),\n                subTotal = 0,\n                totalTax = 0,\n                discountTotal = 0,\n                spTax = 0,\n                pltax = 0,\n                otherTax = 0,\n                vatTax = 0,\n                discountInvoice = 0,\n                taxList = [],\n                discountItem = [],\n                taxListDetail = [],\n                saleUnit = [],\n                inclusiveTax = 0,\n                itemSubtotal = 0,\n                txnItmSubtotal = 0,\n                serviceSubtotal = 0,\n                itemDiscount = 0,\n                serviceDiscount = 0,\n                withholdingTaxAmount = 0,\n                txnDiscount = 0;\n\n            ds.data().forEach((value) => {\n                let modifierPrice = 0, incTax = 0, taxTypeId = 0;\n                let vatSpTax = {}, vatPLTax = {}, vatOtherTax = {}\n                if (value.modifier) {\n                    modifierPrice = kendo.parseFloat(value.modifier.price || 0);\n                }\n\n                // subTotal += (kendo.parseFloat(value.amount) + modifierPrice)\n                let discount = 0;\n                if (value.discountItem) {\n                    let subTo =\n                        kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    discount = this.autoCalculateDiscount(value.discountItem, subTo);\n                    value[\"discountAmount\"] = discount;\n                    value[\"discountExchangeAmount\"] =\n                        discount * kendo.parseFloat(this.transaction.txnRate);\n                    if (value.discountItem.hasOwnProperty(\"id\")) {\n                        discountItem.push(value.discountItem);\n                    }\n                    discountTotal += discount;\n                }\n                if (value.saleUnit) {\n                    if (value.saleUnit.hasOwnProperty(\"id\")) {\n                        saleUnit.push(value.saleUnit);\n                    }\n                }\n                if (value.specificTax) {\n                    spTax = this.autoCalculateTax(\n                        value.specificTax,\n                        kendo.parseFloat(value.amount) - kendo.parseFloat(discount)\n                    );\n                    // window.console.log('sp ', discount)\n                    spTax = kendo.parseFloat(spTax) ? kendo.parseFloat(spTax) : 0;\n                    value[\"specificTaxAmount\"] = spTax;\n                    value[\"specificTaxExchangeAmount\"] =\n                        spTax * kendo.parseFloat(this.transaction.txnRate);\n                    const tax = value.specificTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += parseFloat(spTax || 0);\n                            incTax += parseFloat(spTax || 0)\n                        }\n                    }\n                    if (value.specificTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.specificTax.taxType.name,\n                            amount: spTax,\n                            id: value.specificTax.taxType.id,\n                        });\n                        const spTax_ = value.specificTax || {}\n                        spTax_['taxAmount_'] = spTax\n                        // spTax_['taxAmount'] = spTax\n                        spTax_['amount'] = value.amount || 0\n                        spTax_['discount'] = discount || 0\n                        spTax_['txnRate'] = this.transaction.txnRate || 1\n                        taxListDetail.push(spTax_);\n                        vatSpTax = spTax_\n                    }\n                }\n                if (value.publicLightingTax) {\n                    pltax = this.autoCalculateTax(\n                        value.publicLightingTax,\n                        kendo.parseFloat(value.amount) - kendo.parseFloat(discount)\n                    );\n                    pltax = kendo.parseFloat(pltax) ? kendo.parseFloat(pltax) : 0;\n                    value[\"publicLightingTaxAmount\"] = pltax;\n                    value[\"publicLightingTaxExchangeAmount\"] =\n                        pltax * kendo.parseFloat(this.transaction.txnRate);\n                    const tax = value.publicLightingTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += parseFloat(pltax || 0);\n                            incTax += parseFloat(pltax || 0)\n                        }\n                    }\n                    if (value.publicLightingTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.publicLightingTax.taxType.name,\n                            amount: pltax,\n                            id: value.publicLightingTax.taxType.id,\n                        });\n                        const plTax_ = value.publicLightingTax || {}\n                        // tax_['taxAmount'] = pltax\n                        plTax_['taxAmount_'] = pltax\n                        plTax_['amount'] = value.amount || 0\n                        plTax_['discount'] = discount || 0\n                        plTax_['txnRate'] = this.transaction.txnRate || 1\n                        taxListDetail.push(plTax_);\n                        vatPLTax = plTax_\n                    }\n                }\n                if (value.otherTax) {\n                    otherTax = this.autoCalculateTax(\n                        value.otherTax,\n                        kendo.parseFloat(value.amount) - kendo.parseFloat(discount)\n                    );\n                    otherTax = kendo.parseFloat(otherTax)\n                        ? kendo.parseFloat(otherTax)\n                        : 0;\n                    value[\"otherTaxAmount\"] = otherTax;\n                    value[\"otherTaxExchangeAmount\"] =\n                        otherTax * kendo.parseFloat(this.transaction.txnRate);\n                    const tax = value.otherTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += parseFloat(otherTax || 0);\n                            incTax += parseFloat(otherTax || 0)\n                        }\n                    }\n                    if (value.otherTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.otherTax.taxType.name,\n                            amount: otherTax,\n                            id: value.otherTax.taxType.id,\n                        });\n                        const tax__ = value.specificTax || {}\n                        // tax__['taxAmount'] = otherTax\n                        tax__['taxAmount_'] = otherTax\n                        tax__['amount'] = value.amount || 0\n                        tax__['discount'] = discount || 0\n                        tax__['txnRate'] = this.transaction.txnRate || 1\n                        taxListDetail.push(tax__);\n                        vatOtherTax = tax__\n                    }\n                }\n\n                if (value.vatTax) {\n                    // window.console.log('Vat Tax', value.vatTax)\n                    let amt =\n                        kendo.parseFloat(spTax ? spTax : 0) +\n                        kendo.parseFloat(pltax ? pltax : 0) +\n                        kendo.parseFloat(otherTax ? otherTax : 0) +\n                        (kendo.parseFloat(value.amount ? value.amount : 0) -\n                            (discount ? discount : 0));\n                    vatTax = this.autoCalculateTax(value.vatTax, amt);\n                    vatTax = kendo.parseFloat(vatTax) ? kendo.parseFloat(vatTax) : 0;\n                    value[\"vatTaxAmount\"] = vatTax;\n                    value[\"vatTaxExchangeAmount\"] =\n                        vatTax * kendo.parseFloat(this.transaction.txnRate);\n                    const tax = value.vatTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += vatTax;\n                            incTax += vatTax\n                        }\n                    }\n                    if (value.vatTax.hasOwnProperty(\"taxType\")) {\n                        const taxType = value.vatTax.taxType || {};\n                        taxTypeId = taxType.typeId || 0;\n                    }\n                    if (taxTypeId === 2) {\n                        withholdingTaxAmount += vatTax;\n                    }\n                    if (value.vatTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.vatTax.taxType.name,\n                            amount: vatTax,\n                            id: value.vatTax.taxType.id,\n                        });\n                        const vatTax_ = value.vatTax || {}\n                        // vatTax_['taxAmount'] = vatTax\n                        vatTax_['taxAmount_'] = vatTax\n                        vatTax_['amount'] = value.amount || 0\n                        vatTax_['discount'] = discount || 0\n                        vatTax_['txnRate'] = this.transaction.txnRate || 1\n                        vatTax_['isVat'] = 1\n                        vatTax_.detail = {\n                            specificTax: vatSpTax,\n                            publicLightingTax: vatPLTax,\n                            otherTax: vatOtherTax,\n                        }\n                        taxListDetail.push(vatTax_);\n                    }\n                }\n                totalTax +=\n                    kendo.parseFloat(spTax ? spTax : 0) +\n                    kendo.parseFloat(pltax ? pltax : 0) +\n                    kendo.parseFloat(otherTax ? otherTax : 0) +\n                    kendo.parseFloat(vatTax ? vatTax : 0);\n                subTotal +=\n                    kendo.parseFloat(value.amount) + modifierPrice - incTax;\n                window.console.log('subTotal ', subTotal, ' value.amount=', value.amount, ' modifierPrice=', modifierPrice)\n\n                const item = value.item;\n                const itmType = item.type || \"\";\n                if (itmType === \"Variant\") {\n                    itemSubtotal +=\n                        kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    itemDiscount += kendo.parseFloat(discount);\n                } else if (itmType === \"Service\") {\n                    serviceSubtotal +=\n                        kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    itemDiscount += kendo.parseFloat(discount);\n                } else {\n                    txnItmSubtotal +=\n                        kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    itemDiscount += kendo.parseFloat(discount);\n                }\n\n                //include Tax Amount\n                const amountNodiscount =\n                    kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty) -\n                    discount;\n                const includeTaxAmount =\n                    amountNodiscount + vatTax + pltax + spTax + otherTax;\n                value[\"includeTaxAmount\"] = includeTaxAmount;\n                value[\"includeTaxExchangeAmount\"] =\n                    includeTaxAmount * kendo.parseFloat(this.transaction.txnRate);\n            });\n            this.transaction.itemSubtotal = itemSubtotal;\n            this.transaction.inclusiveTaxAmount = inclusiveTax;\n            this.transaction.exchangeItemSubtotal =\n                itemSubtotal * kendo.parseFloat(this.transaction.txnRate);\n            this.transaction.serviceSubtotal = serviceSubtotal;\n            this.transaction.exchangeServiceSubtotal =\n                serviceSubtotal * kendo.parseFloat(this.transaction.txnRate);\n            this.transaction.txnItmSubtotal = txnItmSubtotal;\n            this.transaction.exchangeTxnItmSubtotal =\n                txnItmSubtotal * kendo.parseFloat(this.transaction.txnRate);\n            this.transaction.itemDiscount = itemDiscount;\n            this.transaction.exchangeItemDiscount =\n                itemDiscount * kendo.parseFloat(this.transaction.txnRate);\n            this.transaction.serviceDiscount = serviceDiscount;\n            this.transaction.exchangeServiceDiscount =\n                serviceDiscount * kendo.parseFloat(this.transaction.txnRate);\n            this.transaction.txnItmDiscount = txnDiscount;\n            this.transaction.exchangeTxnItmDiscount =\n                txnDiscount * kendo.parseFloat(this.transaction.txnRate);\n            discountTotal = discountTotal ? discountTotal : 0;\n\n            // window.console.log(spTax, pltax, otherTax, vatTax)\n            let total =\n                kendo.parseFloat(subTotal) -\n                kendo.parseFloat(discountTotal) +\n                kendo.parseFloat(totalTax);\n            this.transaction.subTotal = subTotal;\n            $(\"#subtotal\").text(kendo.parseFloat(subTotal));\n            this.transaction.withholdingTaxAmount = withholdingTaxAmount\n            this.transaction.totalTaxAmount = kendo.parseFloat(totalTax);\n            this.transaction.discountTotal = kendo.parseFloat(discountTotal);\n            if (this.transaction.specificDiscountItem) {\n                discountInvoice = this.autoCalculateDiscount(\n                    this.transaction.specificDiscountItem,\n                    kendo.parseFloat(subTotal)\n                );\n                discountInvoice = discountInvoice ? discountInvoice : 0;\n            }\n            // this.onOtherChargeChange()\n            this.transaction.total = kendo.parseFloat(total) - discountInvoice - parseFloat(withholdingTaxAmount);\n            this.transaction.exchangeAmount =\n                kendo.parseFloat(this.transaction.total) *\n                kendo.parseFloat(this.transaction.txnRate);\n            this.autoCalculateTaxByType(taxList);\n            this.discountItem = this.removeDuplicate(discountItem);\n            this.saleUnit = this.removeDuplicate(saleUnit);\n            this.taxListDetail = taxListDetail\n            this.autoCalculateTaxDetail();\n            // window.console.log('discount ', this.customerDiscountItem)\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.itemLinePODS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        vatTemplate(dataItem) {\n            const vat = dataItem.vatTax;\n            if (vat) {\n                return `<span>${vat.defaultTax ? vat.defaultTax : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        itemTemplate(dataItem) {\n            const item = dataItem.item;\n            if (item) {\n                return `<span>${item.name ? item.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        UOMTemplate(dataItem) {\n            const uom = dataItem.uom;\n            const code = uom.code || ''\n            if (uom) {\n                return `<span>${uom.uom ? code : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        saleUnitTemplate(dataItem) {\n            const saleUnit = dataItem.saleUnit;\n            if (saleUnit) {\n                return `<span>${saleUnit.name ? saleUnit.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        discountItemTemplate(dataItem) {\n            const discountItem = dataItem.discountItem;\n            if (discountItem) {\n                return `<span>${discountItem.code ? discountItem.code : ``} - ${\n                    discountItem.name ? discountItem.name : ``\n                }</span>`;\n            } else {\n                return ``;\n            }\n        },\n        ServiceDateEditor(container, options) {\n            kendo\n                .jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDatePicker();\n\n            // let ds = this.$refs.itemLineDS.kendoWidget()\n            // window.console.log(ds.data())\n            // // const dateString = kendo.toString((new Date(options.model.items.serviceDate)), this.itemLine.dateFormat)\n            // // const dateString = kendo.toString(options.model.items.serviceDate)\n            // const $input = $(\"<input value=\" + options.model.serviceDate + \" />\").appendTo(container)\n            // $input.kendoDatePicker()\n            // // $input.appendTo(container)\n            // // options.model.items.serviceDate = dateString\n            // window.console.log($input)\n        },\n        ServiceDateToEditor(container, options) {\n            kendo\n                .jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDatePicker();\n        },\n        ItemDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate: \"\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: productVariantHandler.itemSearchURL(),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                        // data: this.variants\n                    }),\n                });\n        },\n        UOMDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"code\",\n                    dataValueField: \"uomConvertId\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=code || `No Price Level`#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: uomPriceHandler.uomPriceByPriceLevelURL(\n                                    \"id=\" +\n                                    options.model.item.id +\n                                    \"&plId=\" +\n                                    this.transaction.priceLevel.id +\n                                    \"&date=\" +\n                                    this.transaction.transactionDate + \"&nature=purchase\"\n                                ),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    // name: {type: \"string\"},\n                                    // sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                        // data: this.variants\n                    }),\n                });\n        },\n        DiscountItemDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=code# - #=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: discountItemHandler.getURL(DISCOUNT_TYPE),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    // name: {type: \"string\"},\n                                    // sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                    }),\n                });\n        },\n        PublicLightingTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.publicLightingTax.filter((m) => {\n                            if (options.model.hasOwnProperty(\"vatTax\")) {\n                                const vat = options.model.vatTax;\n                                if (vat) {\n                                    if (\n                                        options.model.vatTax !== null &&\n                                        options.model.vatTax !== \"null\"\n                                    ) {\n                                        if (options.model.vatTax.baseAmount) {\n                                            return (\n                                                m.baseAmount.toLowerCase() ===\n                                                options.model.vatTax.baseAmount.toLowerCase()\n                                            );\n                                        } else {\n                                            return m;\n                                        }\n                                    }\n                                } else {\n                                    return m;\n                                }\n                            }\n                        }),\n                    }),\n                });\n        },\n        OtherTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.otherTax.filter((m) => {\n                            if (options.model.hasOwnProperty(\"vatTax\")) {\n                                const vat = options.model.vatTax;\n                                if (vat) {\n                                    if (\n                                        options.model.vatTax !== null &&\n                                        options.model.vatTax !== \"null\"\n                                    ) {\n                                        if (options.model.vatTax.baseAmount) {\n                                            return (\n                                                m.baseAmount.toLowerCase() ===\n                                                options.model.vatTax.baseAmount.toLowerCase()\n                                            );\n                                        } else {\n                                            return m;\n                                        }\n                                    }\n                                } else {\n                                    return m;\n                                }\n                            }\n                        }),\n                    }),\n                });\n        },\n        VatTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.vatTax,\n                    }),\n                });\n        },\n        SaleUnitDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=code# - #=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.saleUnitItemList,\n                    }),\n                });\n        },\n        EmployeeDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoMultiSelect({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    suggest: true,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate:\n                        '<div class=\"dropdown-header k-widget k-header\">' +\n                        \"<span>Employee </span>\" +\n                        \"<span></span>\" +\n                        \"</div>\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: employeeHandler.searchURL(),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    firstName: {type: \"string\"},\n                                    lastName: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                    }),\n                });\n        },\n        empImpl(dataItem) {\n            let empIds = [];\n            dataItem.employee.forEach((m) => {\n                empIds.push(m.firstName + \" - \" + m.lastName);\n            });\n            // window.console.log(empIds.join(', '))\n            return `<span>${empIds.join(\", \")}</span>`;\n        },\n        removeRow(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#gridItemLine\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n            }\n        },\n        errorMessage() {\n        },\n        //catalog\n        loadImage(dataItem) {\n            if (dataItem.hasOwnProperty(\"images\")) {\n                if (dataItem.images.hasOwnProperty(\"default\")) {\n                    const url = this.imgURL + dataItem.images.default.thumb;\n                    return (\n                        \"<img width='50' height='50' style= 'margin: auto;display: block;' src='\" +\n                        url +\n                        \"' />\"\n                    );\n                }\n            } else {\n                return \"\";\n            }\n        },\n        async loadCatalogs() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    catalogHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.catalogs = res;\n                    });\n                }, 10);\n            });\n        },\n        addCatalog(e) {\n            e.preventDefault();\n            let grid = kendo.jQuery(\"#gridCatalog\").data(\"kendoGrid\");\n            let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n            // window.console.log(dataItem)\n            if (dataItem.variants.length > 0) {\n                dataItem.variants.forEach((m) => {\n                    if (m.hasOwnProperty(\"variant\")) {\n                        if (m.variant.hasOwnProperty(\"id\")) {\n                            this.loadSingleItem(m.variant.id, \"i\");\n                        }\n                    }\n                });\n                this.dialogCatalog = false;\n            }\n            if (dataItem.services.length > 0) {\n                dataItem.services.forEach((m) => {\n                    if (m.hasOwnProperty(\"service\")) {\n                        if (m.service.hasOwnProperty(\"id\")) {\n                            this.loadSingleItem(m.service.id, \"s\");\n                        }\n                    }\n                });\n                this.dialogCatalog = false;\n            }\n        },\n        async loadSingleItem(itemId, type) {\n            new Promise((resolve) => {\n                resolve(\"resolved\");\n                setTimeout(() => {\n                    this.showLoading = true;\n                    productHandler.getOne(itemId).then((res) => {\n                        this.showLoading = false;\n                        let data = res;\n                        let ds = this.$refs.itemLinePODS.kendoWidget(),\n                            total = ds.total();\n                        this.itemLine.id = transactionPrefix + uuid.v1();\n                        this.itemLine.item = data;\n                        if (type == \"i\") {\n                            this.itemLine.description = data.variant.saleDescription;\n                        } else {\n                            this.itemLine.description = data.saleDescription;\n                        }\n                        ds.insert(total, this.itemLine);\n                    });\n                }, 500);\n            });\n        },\n        onEmployeeChanged(event) {\n            const value = event.value;\n            if (value && value[textField] === emptyItem[textField]) {\n                return;\n            }\n            this.mEmployee = value;\n            this.transaction.employee = value;\n        },\n        async loadEmployeeCenter() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.employees = [];\n                    employeeHandler\n                        .center(undefined)\n                        .then((res) => {\n                            this.showLoading = true;\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.employees = res.data.data;\n                                // if (this.employees.length > 0) {\n                                //     this.transaction.employee = this.employees[0];\n                                // }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        onEmployeeFilterChanged() {\n        },\n        numberFormat(value) {\n            // window.console.log(this.saleFormContent.decimal,'nimol')\n            return kendo.toString(value, `n${this.purchaseFormContent.decimal}`);\n            // return value\n        },\n        async loadTxn() {\n            if (this.saleOrder.customer) {\n                this.showLoading = true;\n                this.quotes = [];\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        let data = {\n                            method: \"by_customer\",\n                            customer: this.transaction.supplier.id,\n                            type: \"Sale Order\",\n                        };\n                        transactionHandler.search(data).then((res) => {\n                            this.showLoading = false;\n                            this.txnTobeAdd = res.data.data;\n                        });\n                    }, 10);\n                });\n            }\n        },\n        removeEmptyLine() {\n            const grid = kendo.jQuery(\"#gridItemLine\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource;\n            dataSource.data().forEach((m) => {\n                if (m.item.id === undefined) {\n                    dataSource.remove(m);\n                }\n            });\n        },\n        //save\n        clear() {\n\n        },\n        close(data) {\n            // if (this.$route.params.id === undefined) {\n            //     this.$router.push({\n            //         name: \"PurchaseOrder\",\n            //         params: {\n            //             data: data,\n            //         }\n            //     })\n            // } else {\n            window.history.go(-1);\n            // }\n            window.console.log(data, \"close\");\n            // localStorage.data.id = JSON.stringify(data)\n        },\n        async loadPurchase() {\n            if (this.transaction.supplier) {\n                this.showLoading = true;\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        let data = {\n                            method: \"by_supplier\",\n                            supplier: this.transaction.supplier.id,\n                            type: \"Purchase Order\",\n                        };\n                        transactionHandler.search(data).then((res) => {\n                            this.showLoading = false;\n                            window.console.log(res, \"search by supplier\");\n                        });\n                    }, 10);\n                });\n            }\n        },\n        saveClose() {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate();\n                return;\n            }\n            let id = \"\";\n            if (this.supplier.hasOwnProperty(\"id\")) {\n                id = this.supplier.id || \"\";\n            }\n            if (id === \"\") {\n                this.$snotify.error(\"supplier is require\");\n                return;\n            }\n            let ds = this.$refs.itemLinePODS.kendoWidget();\n            let d1 = ds.data();\n            let dataValidate = 0;\n            d1.forEach((value, index) => {\n                if (\n                    value.item.id == undefined ||\n                    value.uom.uom.id == undefined ||\n                    value.item.id == \"\" ||\n                    value.uom.uom.id == \"\"\n                ) {\n                    this.$snotify.error(\n                        \"Please check Item or Uom  on row \" + (index + 1)\n                    );\n                } else {\n                    dataValidate += 1;\n                }\n            });\n            if (d1.length == dataValidate) {\n                this.isSaveClose = true;\n                this.saveOption = \"saveClose\";\n                this.save();\n            }\n        },\n        savePrint() {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate();\n                return;\n            }\n            let id = \"\";\n            if (this.supplier.hasOwnProperty(\"id\")) {\n                id = this.supplier.id || \"\";\n            }\n            if (id === \"\") {\n                this.$snotify.error(\"supplier is require\");\n                return;\n            }\n            let ds = this.$refs.itemLinePODS.kendoWidget();\n            let d1 = ds.data();\n            let dataValidate = 0;\n            d1.forEach((value, index) => {\n                if (\n                    value.item.id == undefined ||\n                    value.uom.id == undefined ||\n                    value.item.id == \"\" ||\n                    value.uom.id == \"\"\n                ) {\n                    this.$snotify.error(\n                        \"Please check Item or Uom  on row \" + (index + 1)\n                    );\n                } else {\n                    dataValidate += 1;\n                }\n            });\n            if (d1.length == dataValidate) {\n                this.isSavePrint = true;\n                this.saveOption = \"savePrint\";\n                this.save();\n            }\n        },\n        saveNew() {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate();\n                return;\n            }\n            let id = \"\";\n            if (this.supplier.hasOwnProperty(\"id\")) {\n                id = this.supplier.id || \"\";\n            }\n            if (id === \"\") {\n                this.$snotify.error(\"supplier is require\");\n                return;\n            }\n            let ds = this.$refs.itemLinePODS.kendoWidget();\n            let d1 = ds.data();\n            let dataValidate = 0;\n            d1.forEach((value, index) => {\n                if (\n                    value.item.id == undefined ||\n                    value.item.id == \"\" ||\n                    value.uom.uom == undefined\n                ) {\n                    this.$snotify.error(\n                        \"Please check Item or Uom  on row \" + (index + 1)\n                    );\n                } else {\n                    dataValidate += 1;\n                }\n            });\n            if (d1.length == dataValidate) {\n                this.saveOption = \"saveNew\";\n                this.isSaveNew = true;\n                this.save();\n            }\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((resultCen) => {\n                window.console.log(resultCen);\n                if (resultCen.value) {\n                    this.$router.go(-1);\n                }\n            });\n        },\n        saveDraft() {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate();\n                return;\n            }\n            let id = \"\";\n            if (this.supplier.hasOwnProperty(\"id\")) {\n                id = this.supplier.id || \"\";\n            }\n            if (id === \"\") {\n                this.$snotify.error(\"supplier is require\");\n                return;\n            }\n            let ds = this.$refs.itemLinePODS.kendoWidget();\n            let d1 = ds.data();\n            let dataValidate = 0;\n            d1.forEach((value, index) => {\n                if (\n                    value.item.id == undefined ||\n                    value.uom.id == undefined ||\n                    value.item.id == \"\" ||\n                    value.uom.id == \"\"\n                ) {\n                    this.$snotify.error(\n                        \"Please check Item or Uom  on row \" + (index + 1)\n                    );\n                } else {\n                    dataValidate += 1;\n                }\n            });\n            if (d1.length == dataValidate) {\n                this.saveOption = \"saveDraft\";\n                this.isSaveDraft = true;\n                this.save();\n            }\n        },\n        async save() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.removeEmptyLine();\n                    let itemLineDS = this.$refs.itemLinePODS.kendoWidget(),\n                        total = itemLineDS.total();\n                    if (total <= 0) {\n                        this.$snotify.error(\"Field Required!\");\n                        return;\n                    }\n                    const dataRow = itemLineDS\n                        .data()\n                        .filter((o) => o.amount > 0)\n                        .map((n) => {\n                            return new ItemLineModel(n);\n                        });\n                    let txnList = [];\n                    const lead = this.transaction.lead || {}\n                    const leadId = lead.id || ''\n                    if (leadId) {\n                        txnList.push(lead);\n                    }\n                    let data = {\n                        id: this.transaction.id ? this.transaction.id : \"\",\n                        type: \"Purchase Order\",\n                        number: this.transaction.number,\n                        abbr: this.transaction.transactionType.abbr,\n                        transactionDate: this.transaction.transactionDate,\n                        transactionDateTZ: Helper.toISODate(this.transaction.transactionDate),\n                        validityDate: \"\",\n                        monthOf: this.transaction.monthOf,\n                        customer: {},\n                        paymentTerm: this.transaction.paymentTerm,\n                        transactionType: this.transaction.transactionType,\n                        discountPromotion: {},\n                        priceLevel: this.transaction.priceLevel,\n                        itemLines: dataRow,\n                        project: this.transaction.project || {},\n                        segment: this.transaction.segment ? this.transaction.segment : {},\n                        location: this.transaction.location ? this.transaction.location : {},\n                        saleChannel: {},\n                        billingAddress: {},\n                        deliveryAddress: {},\n                        deliveryDateTime: \"\",\n                        transactionNote: this.transaction.transactionNote,\n                        subTotal: this.transaction.subTotal,\n                        total: this.transaction.total ? this.transaction.total : 0,\n                        discountTotal: this.transaction.discountTotal,\n                        exchangeAmount: this.transaction.exchangeAmount,\n                        specificDiscountTotal: this.transaction.specificDiscountTotal,\n                        deliveryFee: this.transaction.deliveryFee,\n                        totalTaxAmount: this.transaction.totalTaxAmount,\n                        currentBalance: this.transaction.currentBalance,\n                        balance: 0,\n                        creditLimit: 0,\n                        saveOption: this.saveOption,\n                        txnRate: this.transaction.txnRate,\n                        rate: this.transaction.txnRate,\n                        status: 1, //1 open, 0 used,\n                        approvedBy: this.transaction.approvedBy,\n                        rejectedBy: {},\n                        formTemplate: \"\",\n                        specificDiscountItem: this.transaction.specificDiscountItem,\n                        otherCharge: [],\n                        otherChargeAmount: 0,\n                        taxListTotal: this.taxListTotal,\n                        progressingStatus: \"\",\n                        customerSaleUnit: this.customerSaleUnit,\n                        loggedUser: this.loggedUser,\n                        txnList: txnList,\n                        publicLink: \"\",\n                        usedDateAt: \"\",\n                        deletedAt: \"\",\n                        deleted: 0,\n                        createdAt: new Date().toISOString().substr(0, 10),\n                        saleOrderType: 0,\n                        employee: this.transaction.employee,\n                        supplier: this.transaction.supplier,\n                        exchangeRate: this.transaction.exchangeRate,\n                        form: 1,\n                        lead: {},\n                        refFrom: this.transaction.refFrom || [],\n                        refTo: this.transaction.refTo || [],\n                        exspectedDate: this.transaction.exspectedDate,\n                        amountDue: this.transaction.amountDue,\n                        saleTaxDetail: this.transaction.saleTaxDetail || [],\n                        inclusiveTaxAmount: this.transaction.inclusiveTaxAmount || 0,\n                        routeView: \"purchase_order_view\",\n                    };\n                    window.console.log('this.transaction.supplier', JSON.stringify(this.transaction.supplier))\n                    this.showLoading = true;\n                    transactionHandler\n                        .create(data)\n                        .then((response) => {\n                            this.showLoading = false;\n                            if (response.data.statusCode === 201) {\n                                if (this.isSaveNew == true) {\n                                    this.setDefaultData();\n                                } else {\n                                    this.close(response.data.data);\n                                }\n                                this.$refs.form.reset();\n                                this.$snotify.success(\"Successfully\");\n                            }\n                        })\n                        .catch((e) => {\n                            window.console.log(2);\n                            this.$snotify.error(\"Something went wrong\");\n                            this.errors.push(e);\n                            window.console.log(e);\n                        });\n                }, 10);\n            });\n        },\n        async loadViewPurchaseOrder() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.showLoading = true\n                    this.isEdit = false\n                    const id = this.$route.params.id\n                    const strFilter = '?type=Purchase Order'\n                    billingHandler.viewPurchase(id, strFilter).then(async (res) => {\n                        if (res.data.statusCode === 200) {\n                            this.isEdit = true\n                            this.showLoading = false\n                            const response = res.data.data[0]\n                            this.transaction = response\n                            // await this.onDateChanged()\n                            this.supplier = this.transaction.supplier || {}\n                            this.mEmployee = this.transaction.employee || {}\n                            this.itemLines = this.transaction.itemLines || []\n                            // this.transaction.paymentTerm = response.paymentTerm || {}\n                            this.transaction.month_of = kendo.toString(new Date(this.transaction.transactionDate), 'yyyy-MM')\n                            window.console.log('transaction.paymentTerm', response.paymentTerm)\n                        } else {\n                            this.showLoading = false\n                            this.isEdit = false\n                        }\n                    })\n                }, 10)\n            })\n        },\n    },\n    watch: {\n        '$route': 'initialData'\n        // initPurchaseOrder() {\n        //   this.initialData();\n        // },\n    },\n    created() {\n        this.loadTax();\n        this.loadSaleUnitItems();\n        this.loadSegment();\n        this.loadLocation();\n        this.loadProjectBySupplier();\n    },\n    mounted: async function () {\n        await this.loadPurchaseFormContent();\n        this.requestData(0, this.filter, this.supBaseUrl);\n        await this.loadEmployeeCenter();\n        await this.loadCatalogs();\n        await this.initialData();\n    },\n    computed: {\n        valid1: function () {\n            let supplier = this.transaction.supplier;\n            window.console.log(1, supplier.id);\n            return supplier.id !== undefined && supplier.id !== null;\n        },\n        validationMessage: function () {\n            let supplier = this.transaction.supplier;\n            window.console.log(2, supplier.id);\n            return supplier.id !== undefined && supplier.id === null\n                ? \"Please select a Vendor!\"\n                : \"Please select a Vendor\";\n        },\n        hiddenButton() {\n            return !!this.$route.params.id;\n        }\n    },\n};\n</script>\n\n<style scoped>\n.small_sidebar {\n    height: 97%;\n    position: relative;\n    padding: 12px;\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: 0.5s ease-in;\n    flex: 0 0 0;\n    padding: 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> tbody\n> tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 10px;\n}\n</style>\n"],"sourceRoot":"src/views/suppliers"}]}