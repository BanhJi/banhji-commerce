{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products/warehouses/operations/DeliveryOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products/warehouses/operations/DeliveryOrder.vue","mtime":1638760538984},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktY29tbWVyY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktY29tbWVyY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwudG8tanNvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5wYWQtc3RhcnQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLyBpbXBvcnQga2VuZG8gZnJvbSAnQHByb2dyZXNzL2tlbmRvLXVpJwppbXBvcnQgeyBpMThuIH0gZnJvbSAiQC9pMThuIjsKaW1wb3J0IExvYWRpbmdNZSBmcm9tICJAL2NvbXBvbmVudHMvTG9hZGluZyI7CmltcG9ydCBEYXRlUGlja2VyQ29tcG9uZW50IGZyb20gIkAvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL0RhdGVQaWNrZXJDb21wb25lbnQiOwppbXBvcnQgRGVsaXZlcnlPcmRlciBmcm9tICJAL3NjcmlwdHMvbW9kZWwvRGVsaXZlcnlPcmRlciI7CmltcG9ydCB7IERyb3BEb3duTGlzdCBhcyBEcm9wRG93bkxpc3QyIH0gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXZ1ZS1kcm9wZG93bnMiOyAvLyBpbXBvcnQgeyBEcm9wRG93bkxpc3QgYXMgRHJvcERvd25MaXN0MSB9IGZyb20gIkBwcm9ncmVzcy9rZW5kby1kcm9wZG93bnMtdnVlLXdyYXBwZXIiOwoKaW1wb3J0IHsgS2VuZG9EYXRhU291cmNlIH0gZnJvbSAiQHByb2dyZXNzL2tlbmRvLWRhdGFzb3VyY2UtdnVlLXdyYXBwZXIiOyAvLyBpbXBvcnQgTW9udGhPZlBpY2tlciBmcm9tICJAL2NvbXBvbmVudHMva2VuZG9fdGVtcGxhdGVzL01vbnRoT2ZQaWNrZXIiOwoKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CmltcG9ydCB7IFNob3dSZXNvdXJjZSB9IGZyb20gIkAvb2JzZXJ2YWJsZS9zdG9yZSI7CmltcG9ydCB7IHV1aWQgfSBmcm9tICJ2dWUtdXVpZCI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFJvdyBmcm9tICJAL3ZpZXdzL2N1c3RvbWVycy9zZXR0aW5ncy9DaGVja2JveFRlbXBsYXRlIjsKaW1wb3J0IEl0ZW1MaW5lTW9kZWwgZnJvbSAiQC9zY3JpcHRzL2ludm9pY2UvbW9kZWwvSXRlbUxpbmUiOwp2YXIgcm93VGVtcGxhdGUgPSBWdWUuY29tcG9uZW50KFJvdy5uYW1lLCBSb3cpOwoKdmFyICQgPSByZXF1aXJlKCJqcXVlcnkiKTsKCnZhciBkZWxpdmVyeU9yZGVySGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9kZWxpdmVyeU9yZGVySGFuZGxlciIpOwoKdmFyIGN1c3RvbWVySGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jdXN0b21lckhhbmRsZXIiKTsKCnZhciBwcm9kdWN0VmFyaWFudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJvZHVjdFZhcmlhbnRIYW5kbGVyIik7Cgp2YXIgcHJlZml4SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcmVmaXhIYW5kbGVyIik7Cgp2YXIgYmlsbGluZ0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaW52b2ljZS9oYW5kbGVyL2JpbGxpbmdIYW5kbGVyIik7Cgp2YXIgc2V0dGluZ3NIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NldHRpbmdzSGFuZGxlciIpOwoKdmFyIHNhbGVDaGFubmVsSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zYWxlQ2hhbm5lbEhhbmRsZXIiKTsKCnZhciBsb2NhdGlvbkhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvbG9jYXRpb25IYW5kbGVyIik7Cgp2YXIgcHJvamVjdEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJvamVjdEhhbmRsZXIiKTsKCnZhciB3YXJlaG91c2VIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3dhcmVob3VzZUhhbmRsZXIiKTsKCnZhciByZWNlaXB0T3JkZXJIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3JlY2VpcHRPcmRlckhhbmRsZXIiKTsKCnZhciB1b21QcmljZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvdW9tUHJpY2VIYW5kbGVyIik7Cgp2YXIgc2FsZU9yZGVySGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy90cmFuc2FjdGlvbkhhbmRsZXIiKTsKCnZhciBkZWxpdmVyeU9yZGVyID0gbmV3IERlbGl2ZXJ5T3JkZXIoe30pOwp2YXIga2V5RmllbGQgPSAiaWQiOwp2YXIgdGV4dEZpZWxkID0gIm5hbWUiOwoKdmFyIGVtcHR5SXRlbSA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgdGV4dEZpZWxkLCAibG9hZGluZyAuLi4iKTsKCnZhciBpdGVtTGluZVByZWZpeCA9ICJsaW4tIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDcmVkaXRQdXJjaGFzZSIsCiAgY29tcG9uZW50czogewogICAgTG9hZGluZ01lOiBMb2FkaW5nTWUsCiAgICAvLyAiay1kcm9wZG93biI6IERyb3BEb3duTGlzdDEsCiAgICAiYXBwLWRhdGVwaWNrZXIiOiBEYXRlUGlja2VyQ29tcG9uZW50LAogICAgImtlbmRvLWRhdGFzb3VyY2UiOiBLZW5kb0RhdGFTb3VyY2UsCiAgICBkcm9wZG93bmxpc3Q6IERyb3BEb3duTGlzdDIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX2RlZmF1bHRJdGVtOwoKICAgIHJldHVybiB7CiAgICAgIG1lbnUyOiBmYWxzZSwKICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgZGlhbG9nUzogZmFsc2UsCiAgICAgIHNob3dMb2FkaW5nQjogZmFsc2UsCiAgICAgIHNob3dMb2FkaW5nVHhuOiBmYWxzZSwKICAgICAgLy8gTG9hZGluZ01lCiAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgbG9hZGluZ0FsZXJ0OiBmYWxzZSwKICAgICAgbG9hZGluZ0NvbG9yQWxlcnQ6ICIiLAogICAgICBsb2FkaW5nVGV4dEFsZXJ0OiAiIiwKICAgICAgYWxlcnQ6IGZhbHNlLAogICAgICBmaWxlczogW10sCiAgICAgIC8vIEZvcm0gdmFsaWRhdGlvbgogICAgICB2YWxpZDogdHJ1ZSwKICAgICAgaXNDbG9zZTogdHJ1ZSwKICAgICAgdGVtcGxhdGVzOiBbewogICAgICAgIHRpdGxlOiAiRHJhZnQiCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIk9wZW4iCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIlBhcnRpYWxseSBDbG9zZWQiCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIkNsb3NlZCIKICAgICAgfV0sCiAgICAgIGlzSGlkZUJhcjogZmFsc2UsCiAgICAgIGJhdGNoczogW10sCiAgICAgIGl0ZW1CYXRjaDoge30sCiAgICAgIGFtdEJhdGNoOiAwLAogICAgICBxdHlSZWNlaXZlZDogMCwKICAgICAgdG90YWxCYXRjaDogMCwKICAgICAgcXR5RGVsaXZlcnk6IDAsCiAgICAgIHNlcmlhbHM6IFtdLAogICAgICBxdHlTZXJpYWw6IDAsCiAgICAgIHdhcmVob3VzZXM6IFtdLAogICAgICBzYWxlQ2hhbm5lbExpc3Q6IFtdLAogICAgICBwcm9qZWN0czogW10sCiAgICAgIGxvY2F0aW9uczogW10sCiAgICAgIHNlZ21lbnRzOiBbXSwKICAgICAgaXRlbUxpbmVzOiBbXSwKICAgICAgaXRlbUxpbmVzUzogW10sCiAgICAgIGl0ZW1MaW5lc0JhdGNoOiBbXSwKICAgICAgY3VzdG9tZXJMaXN0OiBbXSwKICAgICAgZGF0YUl0ZW1LZXk6ICJpZCIsCiAgICAgIHRleHRGaWVsZDogIm5hbWUiLAogICAgICBkZWZhdWx0SXRlbTogKF9kZWZhdWx0SXRlbSA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2RlZmF1bHRJdGVtLCB0ZXh0RmllbGQsICJTZWxlY3Qgc3VwcGxpZXIuLi4iKSwgX2RlZmluZVByb3BlcnR5KF9kZWZhdWx0SXRlbSwga2V5RmllbGQsIG51bGwpLCBfZGVmYXVsdEl0ZW0pLAogICAgICBjdXN0b21lckJhc2VVcmw6IGN1c3RvbWVySGFuZGxlci5zZWFyY2goKSwKICAgICAgZmlsdGVyOiAiIiwKICAgICAgaW52b2ljZXM6IFtdLAogICAgICBzYWxlT3JkZXJzOiBbXSwKICAgICAgc2FsZU9yZGVyOiB7fSwKICAgICAgc29JdGVtTGluZTogW10sCiAgICAgIGRlbGl2ZXJ5T3JkZXI6IGRlbGl2ZXJ5T3JkZXIsCiAgICAgIGRlbGl2ZXJ5QWdlbmNpZXM6IFtdLAogICAgICBiYWxhbmNlV2FyZWhvdXNlOiB7fSwKICAgICAgZGVsaXZlcnlBZGRyZXNzOiBbXQogICAgfTsKICB9LAogIGJlZm9yZVJvdXRlTGVhdmU6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlTGVhdmUodG8sIGZyb20sIG5leHQpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKHRoaXMuaXNDbG9zZSkgewogICAgICB0aGlzLiRzd2FsKHsKICAgICAgICB0aXRsZTogaTE4bi50KCJtc2dfdGl0bGVfd2FybmluZyIpLAogICAgICAgIHRleHQ6IGkxOG4udCgibXNnX2Rpc2NhcmQiKSwKICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBpMThuLnQoImNhbmNlbCIpLAogICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiM0ZDQ4NDgiLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI0VEMUEzQSIsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IGkxOG4udCgiZGlzY2FyZCIpCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdENlbikgewogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXN1bHRDZW4pOwoKICAgICAgICBpZiAocmVzdWx0Q2VuLnZhbHVlKSB7CiAgICAgICAgICBfdGhpcy5kZWxpdmVyeU9yZGVyID0gZGVsaXZlcnlPcmRlcjsKICAgICAgICAgIG5leHQoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZGF0YUJvdW5kUzogZnVuY3Rpb24gZGF0YUJvdW5kUyhlKSB7CiAgICAgIHZhciBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZFMiKS5kYXRhKCJrZW5kb0dyaWQiKTsKICAgICAgdmFyIGl0ZW1zID0gZS5zZW5kZXIuaXRlbXMoKTsKICAgICAgaXRlbXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSh0aGlzKTsKICAgICAgICBrZW5kby5qUXVlcnkoInRyW2RhdGEtdWlkPSciICsgZGF0YUl0ZW0udWlkICsgIiddIikuZmluZCgiLmlzU2VyaWFsTnVtYmVyMiIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKGRhdGFJdGVtLmJhdGNoT3JTZXJpYWwgIT09ICcnKSB7CiAgICAgICAgICAgIGtlbmRvLmpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygiay1zdGF0ZS1kaXNhYmxlZCIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAga2VuZG8ualF1ZXJ5KHRoaXMpLmFkZENsYXNzKCJrLXN0YXRlLWRpc2FibGVkIik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZFNlcmlhbDogZnVuY3Rpb24gYWRkU2VyaWFsKCkgewogICAgICB0aGlzLmdldERhdGFTb3VyY2VTKCk7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLml0ZW1MaW5lc1MsICdpdGVtbGluZSBzJyk7CiAgICB9LAogICAgZ2V0RGF0YVNvdXJjZVM6IGZ1bmN0aW9uIGdldERhdGFTb3VyY2VTKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRzLCBkYXRhUm93LCBzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRzID0gX3RoaXMyLiRyZWZzLmRhdGFTb3VyY2UxLmtlbmRvV2lkZ2V0KCk7CiAgICAgICAgICAgICAgICBkYXRhUm93ID0gZHMuZGF0YSgpOwogICAgICAgICAgICAgICAgcyA9IGRhdGFSb3cuZmlsdGVyKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpLnRpY2sgPT0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmICghKHMubGVuZ3RoICE9PSBfdGhpczIucXR5U2VyaWFsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyLiRzbm90aWZ5LmVycm9yKCdQbGVhc2UgY2hlY2sgeW91ciBxdHkgb2Ygc2VyaWFsIG51bWJlcicpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBkYXRhUm93LmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgaWYgKGkuc2VyaWFsTnVtYmVyMSAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuaXRlbUxpbmVzUy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIGlkOiBpLmlkLAogICAgICAgICAgICAgICAgICAgICAgaXRlbTogaS5pdGVtLAogICAgICAgICAgICAgICAgICAgICAgdW9tOiBpLnVvbSwKICAgICAgICAgICAgICAgICAgICAgIHNlcmlhbE51bWJlcjE6IGkuc2VyaWFsTnVtYmVyMSwKICAgICAgICAgICAgICAgICAgICAgIHNlcmlhbE51bWJlcjI6IGkuc2VyaWFsTnVtYmVyMiwKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZXJpYWwnLAogICAgICAgICAgICAgICAgICAgICAgd2hJZDogaS53aElkLAogICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBpLmNyZWF0ZWRBdCwKICAgICAgICAgICAgICAgICAgICAgIHBrOiBpLnBrLAogICAgICAgICAgICAgICAgICAgICAgdGljazogaS50aWNrLAogICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBpLnRpY2sgPT09IHRydWUgPyAyIDogMQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczIub25DbG9zZVMoKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZVNlbGVjdGlvbjogZnVuY3Rpb24gdXBkYXRlU2VsZWN0aW9uKGl0ZW0sIHZhbHVlKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuZGF0YVNvdXJjZTEua2VuZG9XaWRnZXQoKTsKICAgICAgdmFyIHJvd3MgPSBkcy5kYXRhKCk7CiAgICAgIHJvd3MubWFwKGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICBpZiAocm93LmlkID09PSBpdGVtLmlkKSB7CiAgICAgICAgICAvLyByb3cuc2V0KCd0aWNrJywgdmFsdWUpCiAgICAgICAgICByb3dbJ3RpY2snXSA9IHZhbHVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0Um93VGVtcGxhdGU6IGZ1bmN0aW9uIGdldFJvd1RlbXBsYXRlKGUpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB0ZW1wbGF0ZTogcm93VGVtcGxhdGUsCiAgICAgICAgdGVtcGxhdGVBcmdzOiBPYmplY3QuYXNzaWduKHRoaXMudGVtcGxhdGVEYXRhKGUpKQogICAgICB9OwogICAgfSwKICAgIHRlbXBsYXRlRGF0YTogZnVuY3Rpb24gdGVtcGxhdGVEYXRhKGl0ZW0pIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBkYXRhSXRlbTogaXRlbSwKICAgICAgICBwYXJlbnRDb21wb25lbnQ6IHRoaXMKICAgICAgfTsKICAgIH0sCiAgICBvbkNoYW5nZVNPOiBmdW5jdGlvbiBvbkNoYW5nZVNPKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB3aW5kb3cuY29uc29sZS5sb2coaXRlbSwgJ29uY2hhbmdlUE8nKTsKICAgICAgdGhpcy5kZWxpdmVyeU9yZGVyLml0ZW1MaW5lcyA9IFtdOwogICAgICB0aGlzLnNhbGVPcmRlci5pdGVtTGluZXMuZm9yRWFjaChmdW5jdGlvbiAocCkgewogICAgICAgIF90aGlzMy5kZWxpdmVyeU9yZGVyLml0ZW1MaW5lcy5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcCksIHt9LCB7CiAgICAgICAgICBxdHlSZWNlaXZlZDogcC5xdHkgLSBwLnRvdGFsUmVjZWl2ZWQsCiAgICAgICAgICBzb3VyY2U6ICdzYWxlIG9yZGVyJwogICAgICAgIH0pKTsKICAgICAgfSk7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnJlY2VpcHRPcmRlci5pdGVtTGluZXMsICdpdGVtbGluZScpOwogICAgfSwKICAgIGxvYWRTYWxlT3JkZXJzOiBmdW5jdGlvbiBsb2FkU2FsZU9yZGVycygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3VwcGxpZXJJZCA9ICIiLAogICAgICAgICAgICAgICAgICAgICAgICB3aElkID0gIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIHR4bkRhdGUgPSAiIjsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNC5kZWxpdmVyeU9yZGVyLmN1c3RvbWVyKSB7CiAgICAgICAgICAgICAgICAgICAgICBzdXBwbGllcklkID0gX3RoaXM0LmRlbGl2ZXJ5T3JkZXIuY3VzdG9tZXIuaWQ7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LmRlbGl2ZXJ5T3JkZXIud2FyZWhvdXNlKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aElkID0gX3RoaXM0LmRlbGl2ZXJ5T3JkZXIud2FyZWhvdXNlLmlkOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNC5kZWxpdmVyeU9yZGVyLmRhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgIHR4bkRhdGUgPSBfdGhpczQuZGVsaXZlcnlPcmRlci5kYXRlOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9ICIiOwoKICAgICAgICAgICAgICAgICAgICBpZiAoc3VwcGxpZXJJZCAhPT0gIiIgJiYgdHhuRGF0ZSAhPT0gIiIgJiYgd2hJZCAhPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgIHN0ckZpbHRlciA9ICI/aWQ9IiArIHN1cHBsaWVySWQgKyAiJndoSWQ9IiArIHdoSWQgKyAnJndUeXBlPVJPJnR5cGU9U2FsZSBPcmRlcic7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoc3RyRmlsdGVyICE9PSAiIikgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNob3dMb2FkaW5nVHhuID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIHNhbGVPcmRlckhhbmRsZXIudHJhbnNhY3Rpb25GaWx0ZXIoc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5zaG93TG9hZGluZ1R4biA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5zYWxlT3JkZXJzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2hvd0xvYWRpbmdUeG4gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25DbG9zZVM6IGZ1bmN0aW9uIG9uQ2xvc2VTKCkgewogICAgICB0aGlzLmRpYWxvZ1MgPSBmYWxzZTsKICAgICAgdGhpcy5zZXJpYWxzID0gW107CiAgICB9LAogICAgcm93TnVtYmVyUzogZnVuY3Rpb24gcm93TnVtYmVyUyhkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmRhdGFTb3VyY2UxLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIGRhdGFTb3VyY2VDaGFuZ2VkUzogZnVuY3Rpb24gZGF0YVNvdXJjZUNoYW5nZWRTKGUpIHsKICAgICAgaWYgKGUuZmllbGQpIHsKICAgICAgICB2YXIgZGF0YVJvdyA9IGUuaXRlbXNbMF07CiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGUsICJkYXRhIHNvdXJjZSBjaGFuZ2UiKTsKCiAgICAgICAgc3dpdGNoIChlLmZpZWxkKSB7CiAgICAgICAgICBjYXNlICJzZXJpYWxOdW1iZXIxIjoKICAgICAgICAgICAga2VuZG8ualF1ZXJ5KCJ0cltkYXRhLXVpZD0nIiArIGRhdGFSb3cudWlkICsgIiddIikuZmluZCgiLmlzU2VyaWFsTnVtYmVyMiIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGlmIChkYXRhUm93Lml0ZW0uYmF0Y2hPclNlcmlhbCAhPT0gJycpIHsKICAgICAgICAgICAgICAgIGtlbmRvLmpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygiay1zdGF0ZS1kaXNhYmxlZCIpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBrZW5kby5qUXVlcnkodGhpcykuYWRkQ2xhc3MoImstc3RhdGUtZGlzYWJsZWQiKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICByZWNvcmRTZXJpYWw6IGZ1bmN0aW9uIHJlY29yZFNlcmlhbChlKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWQiKS5kYXRhKCJrZW5kb0dyaWQiKTsKICAgICAgdmFyIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CgogICAgICBpZiAoZGF0YUl0ZW0uaXRlbS5iYXRjaE9yU2VyaWFsID09PSAyICYmIGRhdGFJdGVtLnF0eVJlY2VpdmVkID4gMCkgewogICAgICAgIGlmICh0aGlzLml0ZW1MaW5lc1MubGVuZ3RoID4gMCkgewogICAgICAgICAgdGhpcy5zZXJpYWxzID0gdGhpcy5pdGVtTGluZXNTLmZpbHRlcihmdW5jdGlvbiAocCkgewogICAgICAgICAgICByZXR1cm4gcC5pdGVtLmlkID09PSBkYXRhSXRlbS5pdGVtLmlkOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBpbnN0aXR1dGVJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmluc3RpdHV0ZS5pbnN0aXR1dGUuaWQ7CiAgICAgICAgICByZWNlaXB0T3JkZXJIYW5kbGVyLmdldEJhdGNoKGRhdGFJdGVtLml0ZW0uaWQsIHRoaXMuZGVsaXZlcnlPcmRlci53YXJlaG91c2UuaWQsIGluc3RpdHV0ZUlkLCAnc2VyaWFsJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMsICdzZXJpYWwnKTsKCiAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIF90aGlzNS5xdHlTZXJpYWwgPSBkYXRhSXRlbS5xdHlSZWNlaXZlZDsKICAgICAgICAgICAgICByZXMuZm9yRWFjaChmdW5jdGlvbiAobykgewogICAgICAgICAgICAgICAgX3RoaXM1LnNlcmlhbHMucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBvLmxpbklkLAogICAgICAgICAgICAgICAgICBpdGVtOiBvLml0ZW0sCiAgICAgICAgICAgICAgICAgIHVvbTogby51b20sCiAgICAgICAgICAgICAgICAgIHdoSWQ6IG8ud2hJZCwKICAgICAgICAgICAgICAgICAgc2VyaWFsTnVtYmVyMTogby5zZXJpYWxOdW1iZXIxLAogICAgICAgICAgICAgICAgICBzZXJpYWxOdW1iZXIyOiBvLnNlcmlhbE51bWJlcjIsCiAgICAgICAgICAgICAgICAgIHN0YXR1czogby5zdGF0dXMsCiAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogby5jcmVhdGVkQXQsCiAgICAgICAgICAgICAgICAgIHBrOiBvLmlkCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczUuJHNub3RpZnkuZXJyb3IoJ1RoaXMgaXRlbSAnICsgZGF0YUl0ZW0uaXRlbS5uYW1lICsgJyBubyBzZXJpYWwnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmRpYWxvZ1MgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgZGF0YUJvdW5kQjogZnVuY3Rpb24gZGF0YUJvdW5kQihlKSB7CiAgICAgIHZhciBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZEJhdGNoIikuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgIHZhciBpdGVtcyA9IGUuc2VuZGVyLml0ZW1zKCk7CiAgICAgIGl0ZW1zLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0odGhpcyk7CiAgICAgICAga2VuZG8ualF1ZXJ5KCJ0cltkYXRhLXVpZD0nIiArIGRhdGFJdGVtLnVpZCArICInXSIpLmZpbmQoIi5leHBpcmF0aW9uRGF0ZSIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKGRhdGFJdGVtLm51bWJlciAhPT0gJycpIHsKICAgICAgICAgICAga2VuZG8ualF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKCJrLXN0YXRlLWRpc2FibGVkIik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uU2F2ZUJhdGNoOiBmdW5jdGlvbiBvblNhdmVCYXRjaCgpIHsKICAgICAgaWYgKHRoaXMucXR5UmVjZWl2ZWQgLSB0aGlzLnF0eURlbGl2ZXJ5ID4gMCB8fCB0aGlzLnF0eURlbGl2ZXJ5ID4gdGhpcy5xdHlSZWNlaXZlZCkgewogICAgICAgIHRoaXMuJHNub3RpZnkuZXJyb3IoJ1BsZWFzZSBjaGVjayB5b3VyIFF0eScpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5nZXREYXRhU291cmNlQigpOwogICAgICB3aW5kb3cuY29uc29sZS5sb2codGhpcy5pdGVtTGluZXNCYXRjaCwgJ2l0ZW1saW5lIGInKTsKICAgIH0sCiAgICBvbkNsb3NlQmF0Y2g6IGZ1bmN0aW9uIG9uQ2xvc2VCYXRjaCgpIHsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5iYXRjaHMgPSBbXTsKICAgIH0sCiAgICBnZXREYXRhU291cmNlQjogZnVuY3Rpb24gZ2V0RGF0YVNvdXJjZUIoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGRzLCBkYXRhUm93OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkcyA9IF90aGlzNi4kcmVmcy5kYXRhU291cmNlMi5rZW5kb1dpZGdldCgpOwogICAgICAgICAgICAgICAgZGF0YVJvdyA9IGRzLmRhdGEoKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICBpZiAoaS5xdHkgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM2Lml0ZW1MaW5lc0JhdGNoLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgaWQ6IGkuaWQsCiAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBpLml0ZW0sCiAgICAgICAgICAgICAgICAgICAgICB1b206IGkudW9tLAogICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgIHdoSWQ6IGkud2hJZCwKICAgICAgICAgICAgICAgICAgICAgIGV4cGlyYXRpb25EYXRlOiBpLmV4cGlyYXRpb25EYXRlLAogICAgICAgICAgICAgICAgICAgICAgcXR5OiBpLnF0eSwKICAgICAgICAgICAgICAgICAgICAgIERRdHk6IGkuRFF0eSwKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdiYXRjaCcsCiAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGkuc3RhdHVzLAogICAgICAgICAgICAgICAgICAgICAgcGs6IGkucGssCiAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGkuY3JlYXRlZEF0CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF90aGlzNi5vbkNsb3NlQmF0Y2goKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVtb3ZlUm93QjogZnVuY3Rpb24gcmVtb3ZlUm93QihlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkQmF0Y2giKS5kYXRhKCJrZW5kb0dyaWQiKSwKICAgICAgICAgIGRhdGFTb3VyY2UgPSBncmlkLmRhdGFTb3VyY2UsCiAgICAgICAgICBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oa2VuZG8ualF1ZXJ5KGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CgogICAgICBpZiAoZGF0YVNvdXJjZS50b3RhbCgpID4gMSkgewogICAgICAgIGRhdGFTb3VyY2UucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgICB0aGlzLmNhbGN1YXRlQmF0Y2goKTsKICAgICAgfQogICAgfSwKICAgIHJvd051bWJlckI6IGZ1bmN0aW9uIHJvd051bWJlckIoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5kYXRhU291cmNlMi5rZW5kb1dpZGdldCgpLAogICAgICAgICAgaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKICAgICAgcmV0dXJuIGluZGV4ICsgMTsKICAgIH0sCiAgICBjYWxjdWF0ZUJhdGNoOiBmdW5jdGlvbiBjYWxjdWF0ZUJhdGNoKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBkcywgZGF0YVJvdywgYW1vdW50OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkcyA9IF90aGlzNy4kcmVmcy5kYXRhU291cmNlMi5rZW5kb1dpZGdldCgpOwogICAgICAgICAgICAgICAgZGF0YVJvdyA9IGRzLmRhdGEoKTsKICAgICAgICAgICAgICAgIGFtb3VudCA9IDA7CiAgICAgICAgICAgICAgICBkYXRhUm93LmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgYW1vdW50ICs9IGkuRFF0eTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX3RoaXM3LnF0eURlbGl2ZXJ5ID0gYW1vdW50OwogICAgICAgICAgICAgICAgX3RoaXM3LnRvdGFsQmF0Y2ggPSBfdGhpczcucXR5UmVjZWl2ZWQgLSBhbW91bnQ7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG51bWJlckVkaXRvckI6IGZ1bmN0aW9uIG51bWJlckVkaXRvckIoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IGRhdGEtYmluZD0idmFsdWU6JyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb051bWVyaWNUZXh0Qm94KHsKICAgICAgICBkZWNpbWFsczogMzAsCiAgICAgICAgbWluOiAwLAogICAgICAgIG1heDogb3B0aW9ucy5tb2RlbC5xdHkKICAgICAgfSk7CiAgICB9LAogICAgZGF0YVNvdXJjZUNoYW5nZWRCOiBmdW5jdGlvbiBkYXRhU291cmNlQ2hhbmdlZEIoZSkgewogICAgICBpZiAoZS5maWVsZCkgewogICAgICAgIHZhciBkYXRhUm93ID0gZS5pdGVtc1swXTsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coZSwgImRhdGEgc291cmNlIGNoYW5nZSIpOwoKICAgICAgICBzd2l0Y2ggKGUuZmllbGQpIHsKICAgICAgICAgIGNhc2UgIm51bWJlciI6CiAgICAgICAgICAgIGtlbmRvLmpRdWVyeSgidHJbZGF0YS11aWQ9JyIgKyBkYXRhUm93LnVpZCArICInXSIpLmZpbmQoIi5leHBpcmF0aW9uRGF0ZSIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGlmIChkYXRhUm93Lm51bWJlciAhPT0gJycpIHsKICAgICAgICAgICAgICAgIGtlbmRvLmpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygiay1zdGF0ZS1kaXNhYmxlZCIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAoZGF0YVJvdy5EUXR5ID4gMCkgewogICAgICAgICAgICAgIHRoaXMuY2FsY3VhdGVCYXRjaCgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJleHBpcmF0aW9uRGF0ZSI6CiAgICAgICAgICAgIGlmIChkYXRhUm93LkRRdHkgPiAwKSB7CiAgICAgICAgICAgICAgdGhpcy5jYWxjdWF0ZUJhdGNoKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGtlbmRvLmpRdWVyeSgidHJbZGF0YS11aWQ9JyIgKyBkYXRhUm93LnVpZCArICInXSIpLmZpbmQoIi5leHBpcmF0aW9uRGF0ZSIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGlmIChkYXRhUm93Lm51bWJlciAhPT0gJycpIHsKICAgICAgICAgICAgICAgIGtlbmRvLmpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygiay1zdGF0ZS1kaXNhYmxlZCIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgIkRRdHkiOgogICAgICAgICAgICB0aGlzLmNhbGN1YXRlQmF0Y2goKTsKICAgICAgICAgICAga2VuZG8ualF1ZXJ5KCJ0cltkYXRhLXVpZD0nIiArIGRhdGFSb3cudWlkICsgIiddIikuZmluZCgiLmV4cGlyYXRpb25EYXRlIikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgaWYgKGRhdGFSb3cubnVtYmVyICE9PSAnJykgewogICAgICAgICAgICAgICAga2VuZG8ualF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKCJrLXN0YXRlLWRpc2FibGVkIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYWRkUm93QjogZnVuY3Rpb24gYWRkUm93QigpIHsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgaWQ6IGl0ZW1MaW5lUHJlZml4ICsgdXVpZC52MSgpLAogICAgICAgIGl0ZW06IHRoaXMuaXRlbUJhdGNoLAogICAgICAgIG51bWJlcjogJycsCiAgICAgICAgZXhwaXJhdGlvbkRhdGU6ICcnLAogICAgICAgIHdoSWQ6IHRoaXMuZGVsaXZlcnlPcmRlci53YXJlaG91c2UuaWQsCiAgICAgICAgcXR5OiAwLAogICAgICAgIHN0YXR1czogMQogICAgICB9OwogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmRhdGFTb3VyY2UyLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICB0b3RhbCA9IGRzLnRvdGFsKCk7CiAgICAgIGRzLmluc2VydCh0b3RhbCwgZGF0YSk7CiAgICB9LAogICAgcmVjb3JkQmF0Y2g6IGZ1bmN0aW9uIHJlY29yZEJhdGNoKGUpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB0aGlzLnNob3dMb2FkaW5nQiA9IHRydWU7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkIikuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgIHZhciBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwogICAgICB0aGlzLml0ZW1CYXRjaCA9IGRhdGFJdGVtLml0ZW07CgogICAgICBpZiAoZGF0YUl0ZW0uaXRlbS5iYXRjaE9yU2VyaWFsID09PSAxICYmIGRhdGFJdGVtLnF0eVJlY2VpdmVkID4gMCkgewogICAgICAgIHZhciBpbnN0aXR1dGVJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmluc3RpdHV0ZS5pbnN0aXR1dGUuaWQ7CiAgICAgICAgcmVjZWlwdE9yZGVySGFuZGxlci5nZXRCYXRjaChkYXRhSXRlbS5pdGVtLmlkLCB0aGlzLmRlbGl2ZXJ5T3JkZXIud2FyZWhvdXNlLmlkLCBpbnN0aXR1dGVJZCwgJ2JhdGNoJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzLCAnYmF0Y2gnKTsKCiAgICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdmFyIGFtb3VudCA9IDA7CiAgICAgICAgICAgIHJlcy5mb3JFYWNoKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgX3RoaXM4LmJhdGNocy5wdXNoKHsKICAgICAgICAgICAgICAgIGlkOiBvLmxpbklkLAogICAgICAgICAgICAgICAgaXRlbTogby5pdGVtLAogICAgICAgICAgICAgICAgdW9tOiBvLnVvbSwKICAgICAgICAgICAgICAgIG51bWJlcjogby5udW1iZXIsCiAgICAgICAgICAgICAgICBleHBpcmF0aW9uRGF0ZTogby5leHBpcmF0aW9uRGF0ZSwKICAgICAgICAgICAgICAgIHF0eTogby5xdHksCiAgICAgICAgICAgICAgICB3aElkOiBvLndoSWQsCiAgICAgICAgICAgICAgICBEUXR5OiBvLkRRdHkgfHwgMCwKICAgICAgICAgICAgICAgIHN0YXR1czogby5xdHksCiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG8uY3JlYXRlZEF0LAogICAgICAgICAgICAgICAgcGs6IG8uaWQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgYW1vdW50ICs9IG8ucXR5OwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgX3RoaXM4LmFtdEJhdGNoID0gYW1vdW50OwogICAgICAgICAgICBfdGhpczgucXR5UmVjZWl2ZWQgPSBkYXRhSXRlbS5xdHlSZWNlaXZlZDsKICAgICAgICAgICAgX3RoaXM4LnRvdGFsQmF0Y2ggPSBkYXRhSXRlbS5xdHlSZWNlaXZlZDsKICAgICAgICAgICAgX3RoaXM4LmRpYWxvZyA9IHRydWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczguJHNub3RpZnkuZXJyb3IoJ1RoaXMgaXRlbSAnICsgZGF0YUl0ZW0uaXRlbS5uYW1lICsgJyBubyBzdG9jayBpbiB3YXJlaG91c2UnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5zaG93TG9hZGluZ0IgPSBmYWxzZTsKICAgIH0sCiAgICBFeHBpcmF0aW9uRGF0ZVRvRWRpdG9yOiBmdW5jdGlvbiBFeHBpcmF0aW9uRGF0ZVRvRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCByZXF1aXJlZCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRGF0ZVBpY2tlcigpOwogICAgfSwKICAgIEV4cGlyYXRpb25EYXRlVG9UZW1wbGF0ZTogZnVuY3Rpb24gRXhwaXJhdGlvbkRhdGVUb1RlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHZhciBleHBpcmF0aW9uRGF0ZSA9IGRhdGFJdGVtLmV4cGlyYXRpb25EYXRlOwoKICAgICAgaWYgKGV4cGlyYXRpb25EYXRlKSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChleHBpcmF0aW9uRGF0ZSA/IGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKGV4cGlyYXRpb25EYXRlKSwgImRkLU1NLXl5eXkiKSA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIEhlbHA6IGZ1bmN0aW9uIEhlbHAoa2V5KSB7CiAgICAgIFNob3dSZXNvdXJjZShrZXkpOwogICAgfSwKICAgIG51bWJlckVkaXRvcjogZnVuY3Rpb24gbnVtYmVyRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBkYXRhLWJpbmQ9InZhbHVlOicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9OdW1lcmljVGV4dEJveCh7CiAgICAgICAgZGVjaW1hbHM6IDMwLAogICAgICAgIG1pbjogMCwKICAgICAgICBtYXg6IHRoaXMuYmFsYW5jZVdhcmVob3VzZS5iUXR5CiAgICAgIH0pOwogICAgfSwKICAgIG9ubG9hZERlbGl2ZXJ5QWdlbmN5OiBmdW5jdGlvbiBvbmxvYWREZWxpdmVyeUFnZW5jeSgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGRlbGl2ZXJ5T3JkZXJIYW5kbGVyLmdldEFsbEFnZW5jeSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczkuZGVsaXZlcnlBZ2VuY2llcyA9IHJlczsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGRJdGVtTGluZTogZnVuY3Rpb24gYWRkSXRlbUxpbmUoZGF0YSkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgX2l0ZXJhdG9yLCBfc3RlcCwgaSwgYmFsYW5jZSwgcXR5OwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGRhdGEsICJkYXRhMjM0Iik7CiAgICAgICAgICAgICAgICBfdGhpczEwLmRlbGl2ZXJ5T3JkZXIuaXRlbUxpbmVzID0gW107CiAgICAgICAgICAgICAgICBkYXRhLmlzQWRkID0gMTsKICAgICAgICAgICAgICAgIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGRhdGEuaXRlbUxpbmVzKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gNDsKCiAgICAgICAgICAgICAgICBfaXRlcmF0b3IucygpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBpZiAoKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coaS5pdGVtLCAiaXRlbWxpbmVzIik7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTAuZ2V0QmFsYW5jZVdhcmVob3VzZShpLml0ZW0uaWQpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgYmFsYW5jZSA9IDAsIHF0eSA9IDA7CgogICAgICAgICAgICAgICAgaWYgKCEoT2JqZWN0LmtleXMoX3RoaXMxMC5iYWxhbmNlV2FyZWhvdXNlKS5sZW5ndGggIT09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTAuYmFsYW5jZVdhcmVob3VzZS5iUXR5ID4gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYmFsYW5jZSA9IF90aGlzMTAuYmFsYW5jZVdhcmVob3VzZS5iUXR5OwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczEwLmJhbGFuY2VXYXJlaG91c2UuYlF0eSA8IGkucXR5KSB7CiAgICAgICAgICAgICAgICAgIHF0eSA9IF90aGlzMTAuYmFsYW5jZVdhcmVob3VzZS5iUXR5OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF90aGlzMTAuJHNub3RpZnkud2FybmluZygiUGxlYXNlIGNoZWNrIHN0b2NrIG9mIHRoaXMgaXRlbSA6ICIgKyBpLml0ZW0ubmFtZSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoImNvbnRpbnVlIiwgMjUpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX3RoaXMxMC4kc25vdGlmeS53YXJuaW5nKCJQbGVhc2UgY2hlY2sgc3RvY2sgb2YgdGhpcyBpdGVtIDogIiArIGkuaXRlbS5uYW1lKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgiY29udGludWUiLCAyNSk7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgICBfdGhpczEwLmRlbGl2ZXJ5T3JkZXIuaXRlbUxpbmVzLnB1c2goewogICAgICAgICAgICAgICAgICBpZDogaS5pZCwKICAgICAgICAgICAgICAgICAgaXRlbTogaS5pdGVtLAogICAgICAgICAgICAgICAgICBiYWxhbmNlOiBiYWxhbmNlLAogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogaS5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgb3JkZXJRdHk6IGkucXR5LAogICAgICAgICAgICAgICAgICBxdHk6IHF0eSwKICAgICAgICAgICAgICAgICAgdW9tOiBpLnVvbSwKICAgICAgICAgICAgICAgICAgaW52b2ljZUlkOiBkYXRhLmlkLAogICAgICAgICAgICAgICAgICB0eXBlOiBkYXRhLnR5cGUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDMyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjk6CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDI5OwogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQwID0gX2NvbnRleHQ2WyJjYXRjaCJdKDQpOwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5lKF9jb250ZXh0Ni50MCk7CgogICAgICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDMyOwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5maW5pc2goMzIpOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2LCBudWxsLCBbWzQsIDI5LCAzMiwgMzVdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldEJhbGFuY2VXYXJlaG91c2U6IGZ1bmN0aW9uIGdldEJhbGFuY2VXYXJlaG91c2UoaWQpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhfdGhpczExLmRlbGl2ZXJ5T3JkZXIuZGF0ZSwgX3RoaXMxMS5kZWxpdmVyeU9yZGVyLndhcmVob3VzZS5pZCwgImJhbGFuY2Ugd2FyZWhvdXNlIik7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICBpdG1JZDogaWQsCiAgICAgICAgICAgICAgICAgIGRhdGU6IF90aGlzMTEuZGVsaXZlcnlPcmRlci5kYXRlID8gX3RoaXMxMS5kZWxpdmVyeU9yZGVyLmRhdGUgOiBuZXcgRGF0ZSgpLAogICAgICAgICAgICAgICAgICB3aElkOiBfdGhpczExLmRlbGl2ZXJ5T3JkZXIud2FyZWhvdXNlID8gX3RoaXMxMS5kZWxpdmVyeU9yZGVyLndhcmVob3VzZS5pZCA6ICIiCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHdhcmVob3VzZUhhbmRsZXIuZ2V0QmFsYW5jZShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5iYWxhbmNlV2FyZWhvdXNlID0gcmVzWzBdOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTEuYmFsYW5jZVdhcmVob3VzZSA9IHsKICAgICAgICAgICAgICAgICAgICAgIGJRdHk6IDAKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coX3RoaXMxMS5iYWxhbmNlV2FyZWhvdXNlLCAiYmFsYW5jZSB3YXJlaG91c2UiKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkYXRhQm91bmQ6IGZ1bmN0aW9uIGRhdGFCb3VuZChlKSB7CiAgICAgIHZhciBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZCIpLmRhdGEoImtlbmRvR3JpZCIpOwogICAgICB2YXIgaXRlbXMgPSBlLnNlbmRlci5pdGVtcygpOwogICAgICBpdGVtcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKHRoaXMpOwogICAgICAgIGtlbmRvLmpRdWVyeSgidHJbZGF0YS11aWQ9JyIgKyBkYXRhSXRlbS51aWQgKyAiJ10iKS5maW5kKCIuaXNTZXJpYWxOdW1iZXIiKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChkYXRhSXRlbS5pdGVtLmJhdGNoT3JTZXJpYWwgPT0gMikgewogICAgICAgICAgICBrZW5kby5qUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoImstc3RhdGUtZGlzYWJsZWQiKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBrZW5kby5qUXVlcnkoInRyW2RhdGEtdWlkPSciICsgZGF0YUl0ZW0udWlkICsgIiddIikuZmluZCgiLmlzQmF0Y2giKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChkYXRhSXRlbS5pdGVtLmJhdGNoT3JTZXJpYWwgPT0gMSkgewogICAgICAgICAgICBrZW5kby5qUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoImstc3RhdGUtZGlzYWJsZWQiKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZGF0YVNvdXJjZUNoYW5nZTogZnVuY3Rpb24gZGF0YVNvdXJjZUNoYW5nZShlKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgdmFyIGRhdGFSb3cgPSBlLml0ZW1zWzBdOwoKICAgICAgICBzd2l0Y2ggKGUuZmllbGQpIHsKICAgICAgICAgIGNhc2UgIml0ZW0iOgogICAgICAgICAgICB0aGlzLmdldEJhbGFuY2VXYXJlaG91c2UoZGF0YVJvdy5pdGVtLmlkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgicW9oIiwgX3RoaXMxMi5iYWxhbmNlV2FyZWhvdXNlID8gX3RoaXMxMi5iYWxhbmNlV2FyZWhvdXNlLmJRdHkgOiAwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGtlbmRvLmpRdWVyeSgidHJbZGF0YS11aWQ9JyIgKyBkYXRhUm93LnVpZCArICInXSIpLmZpbmQoIi5pc1NlcmlhbE51bWJlciIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGlmIChkYXRhUm93Lml0ZW0uYmF0Y2hPclNlcmlhbCA9PSAyKSB7CiAgICAgICAgICAgICAgICBrZW5kby5qUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoImstc3RhdGUtZGlzYWJsZWQiKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBrZW5kby5qUXVlcnkoInRyW2RhdGEtdWlkPSciICsgZGF0YVJvdy51aWQgKyAiJ10iKS5maW5kKCIuaXNCYXRjaCIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGlmIChkYXRhUm93Lml0ZW0uYmF0Y2hPclNlcmlhbCA9PT0gMSkgewogICAgICAgICAgICAgICAga2VuZG8ualF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKCJrLXN0YXRlLWRpc2FibGVkIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYWRkUm93OiBmdW5jdGlvbiBhZGRSb3coKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGlkOiBpdGVtTGluZVByZWZpeCArIHV1aWQudjEoKSwKICAgICAgICBpdGVtOiB7CiAgICAgICAgICBuYW1lOiAiIgogICAgICAgIH0sCiAgICAgICAgcXR5OiAwLAogICAgICAgIHRvdGFsUmVjZWl2ZWQ6IDAsCiAgICAgICAgcW9oOiAwLAogICAgICAgIGRlc2NyaXB0aW9uOiAiIiwKICAgICAgICB1b206IHt9LAogICAgICAgIHF0eVJlY2VpdmVkOiAwLAogICAgICAgIHNvdXJjZTogJycKICAgICAgfTsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5kYXRhU291cmNlLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICB0b3RhbCA9IGRzLnRvdGFsKCk7CiAgICAgIGRzLmluc2VydCh0b3RhbCwgZGF0YSk7CiAgICB9LAogICAgSXRlbURyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBJdGVtRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJjb250YWlucyIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGhlYWRlclRlbXBsYXRlOiAnPGRpdiBjbGFzcz0iZHJvcGRvd24taGVhZGVyIGstd2lkZ2V0IGstaGVhZGVyIj4nICsgIjxzcGFuPkl0ZW1zIDwvc3Bhbj4iICsgIjxzcGFuPjwvc3Bhbj4iICsgIjwvZGl2PiIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogcHJvZHVjdFZhcmlhbnRIYW5kbGVyLml0ZW1TZWFyY2hVUkwoKQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhVHlwZTogImpzb24iCiAgICAgICAgICB9LAogICAgICAgICAgc2NoZW1hOiB7CiAgICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgICAgaWQ6ICJpZCIsCiAgICAgICAgICAgICAgZmllbGRzOiB7CiAgICAgICAgICAgICAgICBpZDogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBza3U6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHApIHsKICAgICAgICAgICAgICAgIHJldHVybiBwLnR5cGUgPT09ICdWYXJpYW50JzsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG90YWw6IGZ1bmN0aW9uIHRvdGFsKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcC50eXBlID09PSAnVmFyaWFudCc7CiAgICAgICAgICAgICAgfSkubGVuZ3RoOwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIGRhdGE6IHRoaXMudmFyaWFudHMKCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgVU9NRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIFVPTURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogInVvbS5uYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogInVvbS5pZCIsCiAgICAgICAgY2FzY2FkZUZyb206ICJpdGVtIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9dW9tLm5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogdW9tUHJpY2VIYW5kbGVyLnVvbVByaWNlQnlQcmljZUxldmVsVVJMKCJpZD0iICsgb3B0aW9ucy5tb2RlbC5pdGVtLmlkICsgIiZwbElkPSIgKyB0aGlzLmRlbGl2ZXJ5T3JkZXIucHJpY2VMZXZlbC5pZCArICImZGF0ZT0iICsgdGhpcy5kZWxpdmVyeU9yZGVyLmRhdGUpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9IC8vIG5hbWU6IHt0eXBlOiAic3RyaW5nIn0sCiAgICAgICAgICAgICAgICAvLyBza3U6IHt0eXBlOiAic3RyaW5nIn0sCgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgfSAvLyBkYXRhOiB0aGlzLnZhcmlhbnRzCgogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFVPTVRlbXBsYXRlOiBmdW5jdGlvbiBVT01UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgdW9tID0gZGF0YUl0ZW0udW9tOwoKICAgICAgaWYgKHVvbSkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQodW9tLnVvbSA/IHVvbS51b20ubmFtZSA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZVJvdzogZnVuY3Rpb24gcmVtb3ZlUm93KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWQiKS5kYXRhKCJrZW5kb0dyaWQiKSwKICAgICAgICAgIGRhdGFTb3VyY2UgPSBncmlkLmRhdGFTb3VyY2UsCiAgICAgICAgICBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwoKICAgICAgaWYgKGRhdGFTb3VyY2UudG90YWwoKSA+IDEpIHsKICAgICAgICBkYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7CiAgICAgIH0KICAgIH0sCiAgICByb3dOdW1iZXI6IGZ1bmN0aW9uIHJvd051bWJlcihkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmRhdGFTb3VyY2Uua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgbG9hZFNlZ21lbnQ6IGZ1bmN0aW9uIGxvYWRTZWdtZW50KCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczEzLnNlZ21lbnRzID0gW107CiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NIYW5kbGVyLmdldFNlZygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLnNlZ21lbnRzID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczEzLnNlZ21lbnRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLmRlbGl2ZXJ5T3JkZXIuc2VnbWVudCA9IF90aGlzMTMuc2VnbWVudHNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gLy8gdGhpcy5zZWdtZW50TGlzdCA9IHJlcy5kYXRhLmRhdGEKCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRMb2NhdGlvbjogZnVuY3Rpb24gbG9hZExvY2F0aW9uKCkgewogICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczE0LmxvY2F0aW9ucyA9IFtdOwogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uSGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQubG9jYXRpb25zID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE0LmxvY2F0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5kZWxpdmVyeU9yZGVyLmxvY2F0aW9uID0gX3RoaXMxNC5sb2NhdGlvbnNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFNhbGVDaGFubmVsOiBmdW5jdGlvbiBsb2FkU2FsZUNoYW5uZWwoKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgc2FsZUNoYW5uZWxIYW5kbGVyLmdldCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnNhbGVDaGFubmVsTGlzdCA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNS5zYWxlQ2hhbm5lbExpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUuZGVsaXZlcnlPcmRlci5zYWxlQ2hhbm5lbCA9IF90aGlzMTUuc2FsZUNoYW5uZWxMaXN0WzBdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUHJvamVjdHM6IGZ1bmN0aW9uIGxvYWRQcm9qZWN0cygpIHsKICAgICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBwcm9qZWN0SGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTYucHJvamVjdHMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTYucHJvamVjdHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTYuZGVsaXZlcnlPcmRlci5wcm9qZWN0ID0gX3RoaXMxNi5wcm9qZWN0c1swXTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25sb2FkV2FyZWhvdXNlOiBmdW5jdGlvbiBvbmxvYWRXYXJlaG91c2UoKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHdhcmVob3VzZUhhbmRsZXIuZ2V0V2FyZWhvdXNlU2V0dGluZ0FsbCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczE3LndhcmVob3VzZXMgPSByZXM7CgogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNy53YXJlaG91c2VzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczE3LmRlbGl2ZXJ5T3JkZXIud2FyZWhvdXNlID0gX3RoaXMxNy53YXJlaG91c2VzWzBdOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzMTggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgICAgIHZhciB2YWx1ZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHZhbHVlID0gZXZlbnQudmFsdWU7CgogICAgICAgICAgICAgICAgaWYgKCEodmFsdWUgJiYgdmFsdWVbdGV4dEZpZWxkXSA9PT0gZW1wdHlJdGVtW3RleHRGaWVsZF0pKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzMTguc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHZhbHVlKTsKICAgICAgICAgICAgICAgIF90aGlzMTguZGVsaXZlcnlPcmRlci5jdXN0b21lciA9IHZhbHVlOwogICAgICAgICAgICAgICAgX3RoaXMxOC5kZWxpdmVyeU9yZGVyLnByaWNlTGV2ZWwgPSB2YWx1ZS5wcmljZUxldmVsOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE4LmxvYWRTYWxlT3JkZXJzKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF90aGlzMTguc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gYXdhaXQgdGhpcy5vbmxvYWRQdXJjaGFzZSgpCgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uQ2hhbmdlSW52b2ljZTogZnVuY3Rpb24gb25DaGFuZ2VJbnZvaWNlKGUpIHsKICAgICAgdmFyIHNlbGVjdGVkSW5kZXggPSBlLnNlbmRlci5zZWxlY3QoKTsKICAgICAgdmFyIHNlbGVjdGVkSXRlbSA9IGUuc2VuZGVyLmRhdGFJdGVtKHNlbGVjdGVkSW5kZXgpLnRvSlNPTigpOwogICAgICB0aGlzLmFkZEl0ZW1MaW5lKHNlbGVjdGVkSXRlbSk7CgogICAgICBpZiAoT2JqZWN0LmtleXMoc2VsZWN0ZWRJdGVtLmRlbGl2ZXJ5QWRkcmVzcykubGVuZ3RoICE9PSAwICYmIHNlbGVjdGVkSXRlbS5kZWxpdmVyeUFkZHJlc3MgPT09IE9iamVjdCkgewogICAgICAgIHRoaXMuZGVsaXZlcnlBZGRyZXNzID0gW3NlbGVjdGVkSXRlbS5kZWxpdmVyeUFkZHJlc3NdOwogICAgICAgIHRoaXMuZGVsaXZlcnlPcmRlci5hZGRyZXNzID0gdGhpcy5kZWxpdmVyeUFkZHJlc3NbMF07CiAgICAgIH0KCiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhzZWxlY3RlZEl0ZW0sICJpbnZvaWNlIGNoYW5nZSIpOwogICAgfSwKICAgIG9uRmlsdGVyQ2hhbmdlOiBmdW5jdGlvbiBvbkZpbHRlckNoYW5nZShldmVudCkgewogICAgICB2YXIgZmlsdGVyID0gZXZlbnQuZmlsdGVyLnZhbHVlOwogICAgICB0aGlzLnJlcXVlc3REYXRhKDAsIGZpbHRlciwgdGhpcy5jdXN0b21lckJhc2VVcmwpOwogICAgICB0aGlzLmZpbHRlciA9IGZpbHRlcjsKICAgIH0sCiAgICByZXF1ZXN0RGF0YTogZnVuY3Rpb24gcmVxdWVzdERhdGEoc2tpcCwgZmlsdGVyLCBiYXNlVXJsKSB7CiAgICAgIHZhciB1cmwgPSBiYXNlVXJsICsgIj9maWx0ZXI9Ii5jb25jYXQoZmlsdGVyKTsKICAgICAgdGhpcy5yZXF1ZXN0U3RhcnRlZCA9IHRydWU7CiAgICAgIGZldGNoKHVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2cocmVzcG9uc2UuanNvbigpKQogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgIH0pLnRoZW4odGhpcy5hZnRlckZldGNoKTsKICAgIH0sCiAgICBhZnRlckZldGNoOiBmdW5jdGlvbiBhZnRlckZldGNoKGpzb24pIHsKICAgICAgdGhpcy5jdXN0b21lckxpc3QgPSBqc29uLmRhdGE7CiAgICB9LAogICAgbG9hZFByZWZpeDogZnVuY3Rpb24gbG9hZFByZWZpeCgpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMxOS5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHByZWZpeEhhbmRsZXIuZ2V0KCJkZWxpdmVyeSBvcmRlciIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS50cmFuc2FjdGlvblR5cGVzID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE5LnRyYW5zYWN0aW9uVHlwZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTkuZGVsaXZlcnlPcmRlci50cmFuc2FjdGlvblR5cGUgPSBfdGhpczE5LnRyYW5zYWN0aW9uVHlwZXNbMF07CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE5LiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS5nZW5lcmF0ZU51bWJlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTkub25sb2FkV2FyZWhvdXNlKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxOS5vbmxvYWREZWxpdmVyeUFnZW5jeSgpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfdGhpczE5LnNob3dMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2VuZXJhdGVOdW1iZXI6IGZ1bmN0aW9uIGdlbmVyYXRlTnVtYmVyKCkgewogICAgICB2YXIgX3RoaXMyMCA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBhYmJyOiB0aGlzLmRlbGl2ZXJ5T3JkZXIudHJhbnNhY3Rpb25UeXBlLmFiYnIsCiAgICAgICAgc3RydWN0dXJlOiB0aGlzLmRlbGl2ZXJ5T3JkZXIudHJhbnNhY3Rpb25UeXBlLnN0cnVjdHVyZSwKICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IHRoaXMuZGVsaXZlcnlPcmRlci5kYXRlLAogICAgICAgIHNlcXVjZW5jaW5nOiB0aGlzLmRlbGl2ZXJ5T3JkZXIudHJhbnNhY3Rpb25UeXBlLnNlcXVjZW5jaW5nLAogICAgICAgIHR5cGU6ICJEZWxpdmVyeSBPcmRlciIsCiAgICAgICAgZW50aXR5OiAzCiAgICAgIH07CiAgICAgIHRoaXMuZGVsaXZlcnlPcmRlci5hYmJyID0gZGF0YS5hYmJyOwogICAgICB0aGlzLmRlbGl2ZXJ5T3JkZXIuc3RydWN0dXJlID0gZGF0YS5zdHJ1Y3R1cmU7CiAgICAgIHRoaXMuZGVsaXZlcnlPcmRlci5zZXF1Y2VuY2luZyA9IGRhdGEuc2VxdWNlbmNpbmc7CiAgICAgIHRoaXMuZGVsaXZlcnlPcmRlci50eXBlID0gZGF0YS50eXBlOwogICAgICB0aGlzLmRlbGl2ZXJ5T3JkZXIudHJhbnNhY3Rpb25EYXRlID0gZGF0YS50cmFuc2FjdGlvbkRhdGU7CiAgICAgIGJpbGxpbmdIYW5kbGVyLmxhc3ROdW1iZXIoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgIHZhciByZXMgPSByZXNwb25zZS5kYXRhLmRhdGE7CgogICAgICAgICAgdmFyIGxhc3ROdW1iZXIgPSBfdGhpczIwLnplcm9QYWQocGFyc2VJbnQocmVzLmxhc3ROdW1iZXIpLCBfdGhpczIwLmRlbGl2ZXJ5T3JkZXIudHJhbnNhY3Rpb25UeXBlLmZvcm1hdCk7CgogICAgICAgICAgX3RoaXMyMC5kZWxpdmVyeU9yZGVyLm51bWJlciA9IHJlcy5zdWZmaXggKyBfdGhpczIwLmRlbGl2ZXJ5T3JkZXIudHJhbnNhY3Rpb25UeXBlLm51bWJlclNlcGFyYXRvciArIGxhc3ROdW1iZXI7CiAgICAgICAgICBfdGhpczIwLmRlbGl2ZXJ5T3JkZXIubGFzdE51bWJlciA9IHJlcy5zdWZmaXggKyBsYXN0TnVtYmVyOwogICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKF90aGlzMjAuZGVsaXZlcnlPcmRlci5udW1iZXIsICJib20iKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMyMC5lcnJvcnMucHVzaChlKTsKICAgICAgfSk7CiAgICB9LAogICAgemVyb1BhZDogZnVuY3Rpb24gemVyb1BhZChudW0sIHBsYWNlcykgewogICAgICByZXR1cm4gU3RyaW5nKG51bSkucGFkU3RhcnQocGxhY2VzLCAiMCIpOwogICAgfSwKICAgIHN1ZmZpeDogZnVuY3Rpb24gc3VmZml4KHRyYW5zYWN0aW9uRGF0ZSkgewogICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcobmV3IERhdGUodHJhbnNhY3Rpb25EYXRlKSwgInl5bW0iKTsKICAgIH0sCiAgICBzYXZlUHJpbnQ6IGZ1bmN0aW9uIHNhdmVQcmludCgpIHt9LAogICAgZ2V0RGF0YVNvdXJjZTogZnVuY3Rpb24gZ2V0RGF0YVNvdXJjZSgpIHsKICAgICAgdmFyIF90aGlzMjEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICAgIHZhciBkcywgZGF0YVJvdzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRzID0gX3RoaXMyMS4kcmVmcy5kYXRhU291cmNlLmtlbmRvV2lkZ2V0KCk7CiAgICAgICAgICAgICAgICBkYXRhUm93ID0gZHMuZGF0YSgpOwogICAgICAgICAgICAgICAgX3RoaXMyMS5pdGVtTGluZXMgPSBbXTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICBpZiAoaS5xdHlSZWNlaXZlZCA+IDAgJiYgaS5zb3VyY2UgPT09ICdzYWxlIG9yZGVyJykgewogICAgICAgICAgICAgICAgICAgIHZhciBsaW5lID0gaTsKICAgICAgICAgICAgICAgICAgICBsaW5lLnRvdGFsUmVjZWl2ZWQgPSBpLnF0eVJlY2VpdmVkOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczIxLnBvSXRlbUxpbmUucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBpLml0ZW0sCiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvblR5cGU6IF90aGlzMjEuc2FsZU9yZGVyLnRyYW5zYWN0aW9uVHlwZSwKICAgICAgICAgICAgICAgICAgICAgIHVvbTogaS51b20sCiAgICAgICAgICAgICAgICAgICAgICBpZDogaS5pZCwKICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogX3RoaXMyMS5zYWxlT3JkZXIubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgZGF0YTogaS5pdGVtLmlkLAogICAgICAgICAgICAgICAgICAgICAgcXR5OiBpLnF0eSwKICAgICAgICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKGxpbmUpLAogICAgICAgICAgICAgICAgICAgICAgZGVsZXRlZDogMCwKICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiAwLAogICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1NhbGUgT3JkZXInLAogICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXI6IHt9LAogICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBpLnN0YXR1cywKICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogaS5jcmVhdGVkQXQKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMyMS5pdGVtTGluZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGkuaWQsCiAgICAgICAgICAgICAgICAgICAgaXRlbTogaS5pdGVtLAogICAgICAgICAgICAgICAgICAgIHF0eTogaS5xdHksCiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGkuZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgICAgdW9tOiBpLnVvbSwKICAgICAgICAgICAgICAgICAgICB0b3RhbFJlY2VpdmVkOiBpLnRvdGFsUmVjZWl2ZWQsCiAgICAgICAgICAgICAgICAgICAgcXR5UmVjZWl2ZWQ6IGkucXR5UmVjZWl2ZWQKICAgICAgICAgICAgICAgICAgfSk7IC8vIGlmIChpLmludm9pY2VJZCA9PT0gdW5kZWZpbmVkICYmIGkudHlwZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgIC8vICAgICBpLmludm9pY2VJZCA9ICIiOwogICAgICAgICAgICAgICAgICAvLyAgICAgaS50eXBlID0gIiI7CiAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgLy8gdGhpcy5pdGVtTGluZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgIC8vICAgICBpZDogaS5pZCwKICAgICAgICAgICAgICAgICAgLy8gICAgIGl0ZW06IGkuaXRlbSwKICAgICAgICAgICAgICAgICAgLy8gICAgIHF0eTogaS5xdHksCiAgICAgICAgICAgICAgICAgIC8vICAgICB1b206IGkudW9tLAogICAgICAgICAgICAgICAgICAvLyAgICAgZGVzY3JpcHRpb246IGkuZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgIC8vICAgICBpbnZvaWNlSWQ6IGkuaW52b2ljZUlkLAogICAgICAgICAgICAgICAgICAvLyAgICAgdHlwZTogaS50eXBlLAogICAgICAgICAgICAgICAgICAvLyB9KTsKCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhfdGhpczIxLml0ZW1MaW5lcyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2F2ZU5ldzogZnVuY3Rpb24gc2F2ZU5ldygpIHsKICAgICAgdmFyIF90aGlzMjIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyMi5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjIuZ2V0RGF0YVNvdXJjZSgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczIyLnNvSXRlbUxpbmUubGVuZ3RoID4gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiB3YXJlaG91c2VIYW5kbGVyLmFkZEl0ZW1MaW5lKF90aGlzMjIuc2FsZU9yZGVyLmlkLCBfdGhpczIyLnNvSXRlbUxpbmUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSAhPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyMi4kc25vdGlmeS5lcnJvcignRXJyb3IgVXBkYXRlIEl0ZW1MaW5lISEhJyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfdGhpczIyLmRlbGl2ZXJ5T3JkZXIuc2FsZU9yZGVySWQgPSBfdGhpczIyLnNhbGVPcmRlciA/IF90aGlzMjIuc2FsZU9yZGVyLmlkIDogJyc7CiAgICAgICAgICAgICAgICBfdGhpczIyLmRlbGl2ZXJ5T3JkZXIuc2FsZU9yZGVyUmVmID0gX3RoaXMyMi5zYWxlT3JkZXIgPyBfdGhpczIyLnNhbGVPcmRlci5yZWZlcmVuY2VObyA6ICcnOwogICAgICAgICAgICAgICAgX3RoaXMyMi5kZWxpdmVyeU9yZGVyLml0ZW1MaW5lcyA9IF90aGlzMjIuaXRlbUxpbmVzOwogICAgICAgICAgICAgICAgX3RoaXMyMi5kZWxpdmVyeU9yZGVyLml0ZW1MaW5lc1NlcmlhbCA9IF90aGlzMjIuaXRlbUxpbmVzUzsKICAgICAgICAgICAgICAgIF90aGlzMjIuZGVsaXZlcnlPcmRlci5pdGVtTGluZXNCYXRjaCA9IF90aGlzMjIuaXRlbUxpbmVzQmF0Y2g7CiAgICAgICAgICAgICAgICBkZWxpdmVyeU9yZGVySGFuZGxlci5zYXZlKF90aGlzMjIuZGVsaXZlcnlPcmRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgICBfdGhpczIyLmlzQ2xvc2UgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMjIuY2FuY2VsKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczIyLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2F2ZUNsb3NlOiBmdW5jdGlvbiBzYXZlQ2xvc2UoKSB7fSwKICAgIGVycm9yTWVzc2FnZTogZnVuY3Rpb24gZXJyb3JNZXNzYWdlKCkge30sCiAgICBhY2NvdW50RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIGFjY291bnREcm9wRG93bkVkaXRvcigpIHt9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMuaXRlbUxpbmVzID0gW107CiAgICAgIHRoaXMuaXRlbUxpbmVzUyA9IFtdOwogICAgICB0aGlzLml0ZW1MaW5lc0JhdGNoID0gW107CiAgICAgIHRoaXMuYmF0Y2hzID0gW107CiAgICAgIHRoaXMuc2VyaWFscyA9IFtdOwogICAgICB0aGlzLnNhbGVPcmRlcnMgPSBbXTsKICAgICAgdGhpcy5zYWxlT3JkZXIgPSB7fTsKICAgICAgdGhpcy5pdGVtQmF0Y2ggPSB7fTsKICAgICAgdGhpcy5hbXRCYXRjaCA9IDA7CiAgICAgIHRoaXMucXR5UmVjZWl2ZWQgPSAwOwogICAgICB0aGlzLnRvdGFsQmF0Y2ggPSAwOwogICAgICB0aGlzLnF0eURlbGl2ZXJ5ID0gMDsKICAgICAgdGhpcy5xdHlTZXJpYWwgPSAwOwogICAgICB0aGlzLmRlbGl2ZXJ5T3JkZXIgPSBkZWxpdmVyeU9yZGVyOwogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfSwKICAgIGhpZGVfc21hbGxzaXRlYmFyOiBmdW5jdGlvbiBoaWRlX3NtYWxsc2l0ZWJhcigpIHsKICAgICAgaWYgKCF0aGlzLmlzSGlkZUJhcikgewogICAgICAgIC8vIHRoaXMuY29sX2V4cGFuZCA9IDEyCiAgICAgICAgLy8gdGhpcy5jb2xfaGlkZSA9IDAKICAgICAgICB0aGlzLmlzSGlkZUJhciA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gdGhpcy5jb2xfZXhwYW5kID0gOQogICAgICAgIC8vIHRoaXMuY29sX2hpZGUgPSAzCiAgICAgICAgdGhpcy5pc0hpZGVCYXIgPSBmYWxzZTsKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsvLyBjYWxsIGFnYWluIHRoZSBtZXRob2QgaWYgdGhlIHJvdXRlIGNoYW5nZXMKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7Ly8gZmV0Y2ggdGhlIGRhdGEgd2hlbiB0aGUgdmlldyBpcyBjcmVhdGVkIGFuZCB0aGUgZGF0YSBpcwogICAgLy8gYWxyZWFkeSBiZWluZyBvYnNlcnZlZAogICAgLy8gdGhpcy5sb2FkT2JqKCkKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyMyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpczIzLmFkZFJvdygpOwoKICAgICAgICAgICAgICBfdGhpczIzLnJlcXVlc3REYXRhKDAsICIiLCBjdXN0b21lckhhbmRsZXIuc2VhcmNoKCkpOwoKICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIzLmxvYWRQcmVmaXgoKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTcpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["DeliveryOrder.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\"\n                    >\n                        <v-row>\n                            <v-col\n                                class=\"bigSide py-0\"\n                                sm=\"12\"\n                                cols=\"12\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_big_bar_class: isHideBar }\"\n                            >\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">{{ $t(\"delivery_order\") }}</h2>\n                                        <v-icon\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer;  font-size: 40px;\"\n                                            color=\"grey\"\n                                            class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                    </v-card>\n\n                                    <v-card\n                                        outlined\n                                        dense\n                                        class=\"px-3 no_border mb-3\"\n                                        color=\"grayBg\"\n                                        height=\"170px\"\n                                    >\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{ $t(\"customer\") }}</label>\n                                                <v-col\n                                                    sm=\"12\"\n                                                    cols=\"12\"\n                                                    class=\"kendo_dropdown_custom px-0 pb-4 pt-0\"\n                                                >\n                                                    <dropdownlist\n                                                        :data-items=\"customerList\"\n                                                        @change=\"onChange\"\n                                                        :value=\"deliveryOrder.customer\"\n                                                        :data-item-key=\"dataItemKey\"\n                                                        :text-field=\"textField\"\n                                                        :default-item=\"defaultItem\"\n                                                        :filterable=\"true\"\n                                                        @filterchange=\"onFilterChange\"\n                                                    >\n                                                    </dropdownlist>\n                                                </v-col>\n                                                <label class=\"label\">{{\n                                                        $t(\"delivery_address\")\n                                                    }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :items=\"deliveryAddress\"\n                                                    item-text=\"name\"\n                                                    item-value=\"id\"\n                                                    v-model=\"deliveryOrder.address\"\n                                                    tage=\"Delivery Address\"\n                                                    outlined\n                                                />\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{ $t(\"date\") }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"deliveryOrder.date\"\n                                                    @emitDate=\"deliveryOrder.date = $event\"\n                                                />\n                                                <label class=\"label\">{{ $t(\"warehouse\") }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :items=\"warehouses\"\n                                                    item-value=\"id\"\n                                                    item-text=\"name\"\n                                                    v-model=\"deliveryOrder.warehouse\"\n                                                    tage=\"Warehouse\"\n                                                    :rules=\"[(v) => !!v || 'Warehouse is required']\"\n                                                    return-object\n                                                    outlined\n                                                />\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{ $t(\"number\") }}</label>\n                                                <div class=\"mt-1 d-flex mr-0\">\n                                                    <div class=\"code_text flex-1 text-bold\">\n                                                        {{ deliveryOrder.abbr }}\n                                                    </div>\n                                                    <v-text-field\n                                                        class=\"flex-2 custom-border \"\n                                                        v-model=\"deliveryOrder.number\"\n                                                        outlined\n                                                        disabled\n                                                        :rules=\"[(v) => !!v || 'Number is required']\"\n                                                        required\n                                                    />\n                                                    <v-icon\n                                                        color=\"black\"\n                                                        size=\"30\"\n                                                        style=\"height: 40px\"\n                                                        class=\"border_qrcode ml-2\"\n                                                        @click=\"generateNumber\"\n                                                    >mdi-qrcode\n                                                    </v-icon>\n                                                </div>\n                                                <label class=\"label\">{{ $t(\"sale_order\") }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :items=\"saleOrders\"\n                                                    item-text=\"referenceNo\"\n                                                    item-value=\"id\" @change=\"onChangeSO\"\n                                                    :loading=\"saleOrders.length <= 0 && showLoadingTxn\"\n                                                    v-model=\"saleOrder\"\n                                                    tage=\"Sale Order\"\n                                                    outlined return-object\n                                                />\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-row color=\"white\">\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                            <kendo-datasource\n                                                ref=\"dataSource\"\n                                                :change=\"dataSourceChange\"\n                                                :data=\"deliveryOrder.itemLines\"\n                                            />\n                                            <kendo-grid\n                                                id=\"grid\"\n                                                class=\"grid-function\"\n                                                :data-source-ref=\"'dataSource'\"\n                                                :sortable=\"false\"\n                                                :filterable=\"false\"\n                                                :column-menu=\"true\"\n                                                v-on:databound=\"dataBound\"\n                                                :editable=\"true\"\n                                                :scrollable-virtual=\"true\"\n                                            >\n                                                <kendo-grid-column\n                                                    :command=\"{\n                                                        iconClass: 'k-icon k-i-trash',\n                                                        text: ' ',\n                                                        name: 'remove',\n                                                        click: removeRow,\n                                                        class: 'btn-plus',\n                                                      }\"\n                                                    :title=\"'&nbsp;'\"\n                                                    :width=\"60\"\n                                                    :headerAttributes=\"{style:\n                                                          'text-align: right; background-color: #EDF1F5',\n                                                      }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :template=\"rowNumber\"\n                                                    :title=\"$t('no.')\"\n                                                    :width=\"55\"\n                                                    :column-menu=\"false\"\n                                                    :headerAttributes=\"{\n                                                        style: 'background-color: #EDF1F5;',\n                                                        class: 'text-variants',\n                                                      }\"\n                                                    :attributes=\"{ style: 'text-align: variants',}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'item'\"\n                                                    :title=\"$t('items')\"\n                                                    :width=\"200\"\n                                                    :template=\"'<span>#=item.name#</span>'\"\n                                                    :editor=\"ItemDropDownEditor\"\n                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5', }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'uom'\"\n                                                    :template=\"UOMTemplate\"\n                                                    :editor=\"UOMDropDownEditor\"\n                                                    :title=\"$t('uom')\"\n                                                    :width=\"130\"\n                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5',}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'qty'\"\n                                                    :editor=\"numberEditor\"\n                                                    :title=\"$t('ordered')\"\n                                                    :format=\"'{0:n}'\"\n                                                    :editable=\"function() {return false}\"\n                                                    :width=\"120\"\n                                                    :attributes=\"{style: 'text-align: right'}\"\n                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5', }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'totalReceived'\"\n                                                    :title=\"$t('total_received')\"\n                                                    :width=\"180\"\n                                                    :format=\"'{0:n}'\"\n                                                    :editable=\"function() {return false}\"\n                                                    :headerAttributes=\"{style:'text-align: right; background-color: #EDF1F5', }\"\n                                                    :attributes=\"{style: 'text-align: right'}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'qoh'\"\n                                                    :title=\"$t('on_hand')\"\n                                                    :width=\"180\"\n                                                    :format=\"'{0:n}'\"\n                                                    :editable=\"function() {return false}\"\n                                                    :headerAttributes=\"{style:'background-color: #EDF1F5', }\"\n                                                    :attributes=\"{style: 'text-align: right'}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'qtyReceived'\"\n                                                    :editor=\"numberEditor\"\n                                                    :title=\"$t('qty_received')\"\n                                                    :format=\"'{0:n}'\"\n                                                    :width=\"160\"\n                                                    :attributes=\"{style: 'text-align: right'}\"\n                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5', }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :command=\"[{\n                                                        iconClass: 'k-icon k-i-plus',\n                                                     text: $t('serial'),\n                                                     click: recordSerial,\n                                                     className: 'k-state-disabled isSerialNumber btn-plus',\n                                                     },{\n                                                    iconClass: 'k-icon k-i-plus',\n                                                     text: $t('batch'),\n                                                     click: recordBatch,\n                                                     className: 'k-state-disabled isBatch btn-plus'\n                                                     }]\"\n                                                    :width=\"190\"\n                                                    :hidden=\"false\"\n                                                    :headerAttributes=\"{style:'text-align: right; background-color: #EDF1F5',}\"\n                                                />\n                                            </kendo-grid>\n                                        </v-col>\n                                        <v-col cols=\"12\">\n                                            <v-btn\n                                                color=\"primary\"\n                                                class=\"float-left btn_plus rounded-4 white--text mr-2\"\n                                                @click=\"addRow\"\n                                            >\n                                                <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                            </v-btn>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                            <v-row>\n                                                <v-col sm=\"5\" cols=\"12\" class=\"py-0\">\n                                                    <template>\n                                                        <v-file-input\n                                                            class=\"mt-0 pt-0 \"\n                                                            sm=\"3\"\n                                                            cols=\"6\"\n                                                            v-model=\"files\"\n                                                            :placeholder=\"$t('attachment')\"\n                                                            multiple\n                                                            prepend-icon=\"mdi-paperclip\"\n                                                        >\n                                                            <template v-slot:selection=\"{ text }\">\n                                                                <v-chip small label color=\"primary\">\n                                                                    {{ text }}\n                                                                </v-chip>\n                                                            </template>\n                                                        </v-file-input>\n                                                    </template>\n                                                </v-col>\n                                                <v-col sm=\"7\" cols=\"12\" class=\"py-0\">\n                                                    <v-row>\n                                                        <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                                                            <label class=\"label  mb-0\">{{\n                                                                    $t(\"delivered_by\")\n                                                                }}</label>\n                                                            <v-select\n                                                                class=\"mt-1\"\n                                                                :items=\"deliveryAgencies\"\n                                                                :item-text=\"\n                                                                  (item) =>\n                                                                    item.cusSup\n                                                                      ? `${\n                                                                          item.aType === 1\n                                                                            ? 'Internal'\n                                                                            : 'External'\n                                                                        } - ${item.cusSup.name}`\n                                                                      : ''\n                                                                \"\n                                                                item-value=\"id\"\n                                                                :rules=\"[ (v) => !!v || 'Delivered by is required' ]\"\n                                                                v-model=\"deliveryOrder.deliveredBy\"\n                                                                tage=\"Delivered by\"\n                                                                outlined\n                                                            />\n                                                            <label class=\"label  mb-0\">{{\n                                                                    $t(\"vehicle_number\")\n                                                                }}</label>\n                                                            <v-text-field\n                                                                class=\"mt-1\"\n                                                                v-model=\"deliveryOrder.vehicleNumber\"\n                                                                outlined\n                                                                tage=\"Vehicle Number\"\n                                                                required\n                                                            />\n                                                        </v-col>\n                                                        <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                                                            <label class=\"label mb-0\">{{ $t(\"time\") }}</label>\n                                                            <v-menu\n                                                                v-model=\"menu2\"\n                                                                :close-on-content-click=\"false\"\n                                                                :nudge-right=\"40\"\n                                                                ref=\"menu\"\n                                                                transition=\"scale-transition\"\n                                                                :return-value.sync=\"deliveryOrder.timeOfDischarged\"\n                                                                max-width=\"340\"\n                                                            >\n                                                                <template v-slot:activator=\"{ on, attrs }\">\n                                                                    <v-text-field\n                                                                        class=\"mt-1\"\n                                                                        v-model=\"deliveryOrder.timeOfDischarged\"\n                                                                        readonly\n                                                                        outlined\n                                                                        append-icon=\"mdi-clock-time-four-outline\"\n                                                                        v-on=\"on\"\n                                                                        v-bind=\"attrs\"\n                                                                        @click:clear=\"deliveryOrder.timeOfDischarged = null \"\n                                                                        @click:append=\"menu2 = true\"\n                                                                        required\n                                                                    />\n                                                                </template>\n                                                                <v-time-picker\n                                                                    v-if=\"menu2\"\n                                                                    v-model=\"deliveryOrder.timeOfDischarged\"\n                                                                    full-width\n                                                                    no-title\n                                                                    @click:minute=\"$refs.menu.save(deliveryOrder.timeOfDischarged)\"\n                                                                ></v-time-picker>\n                                                            </v-menu>\n                                                            <label class=\"label  mb-0\">{{\n                                                                    $t(\"references\")\n                                                                }}</label>\n                                                            <v-text-field\n                                                                class=\"mt-1\"\n                                                                tage=\"Driver References\"\n                                                                v-model=\"deliveryOrder.driverReferences\"\n                                                                return-object\n                                                                outlined\n                                                            />\n                                                        </v-col>\n                                                    </v-row>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n                                    <v-divider/>\n                                    <v-card outlined dense class=\"no_border function_footer\">\n                                        <v-menu>\n                                            <template v-slot:activator=\"{ on }\">\n                                                <v-btn\n                                                    class=\"mr-2 text-capitalize  black--text float-left\"\n                                                    v-on=\"on\"\n                                                >\n                                                    {{ $t(\"select_template\") }}\n                                                    <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                                </v-btn>\n                                            </template>\n                                            <v-list>\n                                                <v-list-item\n                                                    v-for=\"(item, index) in templates\"\n                                                    :key=\"index\"\n                                                >\n                                                    <v-list-item-title>{{\n                                                            item.title\n                                                        }}\n                                                    </v-list-item-title>\n                                                </v-list-item>\n                                            </v-list>\n                                        </v-menu>\n                                        <v-btn\n                                            @click=\"cancel\"\n                                            color=\"primary\"\n                                            outlined\n                                            class=\"text-capitalize  black--text float-left\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <!-- <v-menu>\n                                          <template v-slot:activator=\"{ on }\">\n                                            <v-btn\n                                              color=\"primary\"\n                                              class=\"ml-2 float-right text-capitalize  white--text\"\n                                              v-on=\"on\"\n                                            >\n                                              {{ $t(\"save_option\") }}\n                                              <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                            </v-btn>\n                                          </template>\n                                          <v-list rounded>\n                                            <v-list-item-group>\n                                              <v-list-item>\n                                                <v-list-item-content>\n                                                  <v-list-item-title>\n                                                    {{ $t(\"save_new\") }}\n                                                  </v-list-item-title>\n                                                </v-list-item-content>\n                                              </v-list-item>\n                                              <v-list-item>\n                                                <v-list-item-content>\n                                                  <v-list-item-title\n                                                    >{{ $t(\"save_print\") }}\n                                                  </v-list-item-title>\n                                                </v-list-item-content>\n                                              </v-list-item>\n                                            </v-list-item-group>\n                                          </v-list>\n                                        </v-menu> -->\n                                        <v-btn\n                                            @click=\"saveNew\"\n                                            color=\"primary\"\n                                            class=\"float-right white--text text-capitalize \"\n                                        >\n                                            {{ $t(\"save_new\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-form>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                    <v-dialog v-model=\"dialogS\" max-width=\"700px\" eager persistent>\n                        <v-card>\n                            <div class=\"modal_header\">\n                                <v-card-title>{{ $t(\"serial\") }}</v-card-title>\n                                <v-icon @click=\"onCloseS\">close</v-icon>\n                            </div>\n                            <v-card-text class=\"modal_text_content pa-4\">\n                                <v-row>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                        <kendo-datasource\n                                            ref=\"dataSource1\"\n                                            @change=\"dataSourceChangedS\"\n                                            :data=\"serials\"\n                                        />\n                                        <kendo-grid\n                                            id=\"gridS\"\n                                            class=\"grid-function\"\n                                            :data-source-ref=\"'dataSource1'\"\n                                            :sortable=\"false\"\n                                            :filterable=\"false\"\n                                            :column-menu=\"true\"\n                                            :editable=\"true\"\n                                            v-on:databound=\"dataBoundS\"\n                                            :scrollable-virtual=\"true\"\n                                        >\n                                            <kendo-grid-column\n                                                :title=\"$t('no.')\"\n                                                :width=\"55\"\n                                                :template=\"rowNumberS\"\n                                                :column-menu=\"false\"\n                                                :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5;',\n                                                    class: 'text-variants',\n                                                  }\"\n                                                :attributes=\"{ style: 'text-align: variants' }\"\n                                            />\n                                            <kendo-grid-column\n                                                :field=\"'serialNumber1'\"\n                                                :title=\"$t('serial_number_1')\"\n                                                :width=\"150\"\n                                                :editable=\"function() {return false}\"\n                                                :attribute=\"{class: 'k-state-disabled'}\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5', }\"\n                                            />\n                                            <kendo-grid-column\n                                                :field=\"'serialNumber2'\"\n                                                :title=\"$t('serial_number_2')\"\n                                                :width=\"150\"\n                                                :editable=\"function() {return false}\"\n                                                :attributes=\"{ class: 'k-state-disabled isSerialNumber2'}\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                            />\n                                            <kendo-grid-column\n                                                :field=\"'tick'\"\n                                                :title=\"' '\"\n                                                :editable=\"function(){ return false; }\"\n                                                :template=\"getRowTemplate\"\n                                                :width=\"70\"\n                                                :attributes=\"{ class: ''}\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                            />\n                                        </kendo-grid>\n                                    </v-col>\n                                </v-row>\n                            </v-card-text>\n                            <v-card-actions class=\"modal_footer\">\n                                <v-row>\n                                    <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-left\">\n                                        <v-btn\n                                            color=\"black\"\n                                            outlined\n                                            class=\" text-capitalize  black--text float-left\"\n                                            @click=\"onCloseS\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                    </v-col>\n                                    <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-right\">\n                                        <v-btn\n                                            @click=\"addSerial\"\n                                            color=\"primary\"\n                                            class=\"px-3  white--text text-capitalize\"\n                                        >{{ $t(\"add\") }}\n                                        </v-btn>\n                                    </v-col>\n                                </v-row>\n                            </v-card-actions>\n                        </v-card>\n                    </v-dialog>\n                    <v-dialog v-model=\"dialog\" max-width=\"700px\" eager persistent>\n                        <v-card>\n                            <LoadingMe\n                                :isLoading=\"showLoadingB\"\n                                :fullPage=\"false\"\n                                :type=\"'loading'\"\n                                :myLoading=\"true\"\n                            />\n                            <div class=\"modal_header\">\n                                <v-card-title>{{ $t(\"batch\") }}</v-card-title>\n                                <v-icon @click=\"onCloseBatch\">close</v-icon>\n                            </div>\n                            <v-card-text class=\"modal_text_content pa-4\">\n                                <v-row>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                        <v-row>\n                                            <v-col sm=\"3\" cols=\"3\" class=\"py-1\">\n                                                <label class=\"label\">{{ $t(\"on_hand\") }}</label>\n                                                <h3 class=\"text-bold d-block py-1\">{{ amtBatch }}</h3>\n                                            </v-col>\n                                            <v-col sm=\"3\" cols=\"3\" class=\"py-1\">\n                                                <label class=\"label\">{{ $t(\"qty_received\") }}</label>\n                                                <h3 class=\"text-bold d-block py-1\">{{ qtyReceived }}</h3>\n                                            </v-col>\n                                            <v-col sm=\"3\" cols=\"3\" class=\"py-1\">\n                                                <label class=\"label\">{{ $t(\"qty_delivery\") }}</label>\n                                                <h3 :class=\"qtyDelivery > qtyReceived ? 'text-bold d-block py-1 red--text' : 'text-bold d-block py-1'\">{{ qtyDelivery }}</h3>\n                                            </v-col>\n                                            <v-col sm=\"3\" cols=\"3\" class=\"py-1\">\n                                                <label class=\"label\">{{ $t(\"total\") }}</label>\n                                                <h3 class=\"text-bold d-block py-1\">{{ amtBatch - qtyDelivery }}</h3>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                        <kendo-datasource\n                                            ref=\"dataSource2\"\n                                            @change=\"dataSourceChangedB\"\n                                            :data=\"batchs\"\n                                        />\n                                        <kendo-grid\n                                            id=\"gridBatch\"\n                                            class=\"grid-function\"\n                                            :data-source-ref=\"'dataSource2'\"\n                                            :sortable=\"false\"\n                                            :filterable=\"false\"\n                                            :column-menu=\"true\"\n                                            :editable=\"true\"\n                                            v-on:databound=\"dataBoundB\"\n                                            :scrollable-virtual=\"true\"\n                                        >\n                                            <kendo-grid-column\n                                                :title=\"$t('no.')\"\n                                                :width=\"55\"\n                                                :template=\"rowNumberB\"\n                                                :column-menu=\"false\"\n                                                :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5;',\n                                                    class: 'text-variants',\n                                                  }\"\n                                                :attributes=\"{ style: 'text-align: variants' }\"\n                                            />\n                                            <kendo-grid-column\n                                                :field=\"'number'\"\n                                                :title=\"$t('number')\"\n                                                :editable=\"function() {return false}\"\n                                                :width=\"150\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5', }\"\n                                            />\n                                            <kendo-grid-column\n                                                :field=\"'expirationDate'\"\n                                                :title=\"$t('expiration_date')\"\n                                                :width=\"150\"\n                                                :editable=\"function() {return false}\"\n                                                :template=\"ExpirationDateToTemplate\"\n                                                :editor=\"ExpirationDateToEditor\"\n                                                :attributes=\"{ class: 'k-state-disabled expirationDate'}\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                            />\n                                            <kendo-grid-column\n                                                :field=\"'qty'\"\n                                                :title=\"$t('qty')\"\n                                                :editable=\"function() {return false}\"\n                                                :width=\"100\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5', }\"\n                                            />\n                                            <kendo-grid-column\n                                                :field=\"'DQty'\"\n                                                :title=\"$t('delivery_qty')\"\n                                                :editor=\"numberEditorB\"\n                                                :width=\"140\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5', }\"\n                                            />\n                                        </kendo-grid>\n                                    </v-col>\n                                </v-row>\n                            </v-card-text>\n                            <v-card-actions class=\"modal_footer\">\n                                <v-row>\n                                    <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-left\">\n                                        <v-btn\n                                            color=\"black\"\n                                            outlined\n                                            class=\" text-capitalize  black--text float-left\"\n                                            @click=\"onCloseBatch\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                    </v-col>\n                                    <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-right\">\n                                        <v-btn\n                                            color=\"primary\"\n                                            @click=\"onSaveBatch\"\n                                            class=\"px-3  white--text text-capitalize\"\n                                        >{{ $t(\"save\") }}\n                                        </v-btn>\n                                    </v-col>\n                                </v-row>\n                            </v-card-actions>\n                        </v-card>\n                    </v-dialog>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"true\"\n                :myLoading=\"true\"\n                :alertMessage=\"loadingAlert\"\n                :color=\"loadingColorAlert\"\n                :alertText=\"loadingTextAlert\"\n            />\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n// import kendo from '@progress/kendo-ui'\nimport {i18n} from \"@/i18n\";\nimport LoadingMe from \"@/components/Loading\";\nimport DatePickerComponent from \"@/components/custom_templates/DatePickerComponent\";\nimport DeliveryOrder from \"@/scripts/model/DeliveryOrder\";\nimport {DropDownList as DropDownList2} from \"@progress/kendo-vue-dropdowns\";\n// import { DropDownList as DropDownList1 } from \"@progress/kendo-dropdowns-vue-wrapper\";\nimport {KendoDataSource} from \"@progress/kendo-datasource-vue-wrapper\";\n// import MonthOfPicker from \"@/components/kendo_templates/MonthOfPicker\";\nimport kendo from \"@progress/kendo-ui\";\nimport {ShowResource} from \"@/observable/store\";\nimport {uuid} from \"vue-uuid\";\nimport Vue from \"vue\";\nimport Row from \"@/views/customers/settings/CheckboxTemplate\";\nimport ItemLineModel from \"@/scripts/invoice/model/ItemLine\";\n\nconst rowTemplate = Vue.component(Row.name, Row);\nconst $ = require(\"jquery\");\nconst deliveryOrderHandler = require(\"@/scripts/deliveryOrderHandler\");\nconst customerHandler = require(\"@/scripts/customerHandler\");\nconst productVariantHandler = require(\"@/scripts/productVariantHandler\");\nconst prefixHandler = require(\"@/scripts/prefixHandler\");\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\nconst settingsHandler = require(\"@/scripts/settingsHandler\");\nconst saleChannelHandler = require(\"@/scripts/saleChannelHandler\");\nconst locationHandler = require(\"@/scripts/locationHandler\");\nconst projectHandler = require(\"@/scripts/projectHandler\");\nconst warehouseHandler = require(\"@/scripts/warehouseHandler\");\nconst receiptOrderHandler = require(\"@/scripts/receiptOrderHandler\");\nconst uomPriceHandler = require(\"@/scripts/uomPriceHandler\");\nconst saleOrderHandler = require(\"@/scripts/transactionHandler\");\nconst deliveryOrder = new DeliveryOrder({});\nconst keyField = \"id\";\nconst textField = \"name\";\nconst emptyItem = {[textField]: \"loading ...\"};\nconst itemLinePrefix = \"lin-\";\nexport default {\n    name: \"CreditPurchase\",\n    components: {\n        LoadingMe: LoadingMe,\n        // \"k-dropdown\": DropDownList1,\n        \"app-datepicker\": DatePickerComponent,\n        \"kendo-datasource\": KendoDataSource,\n        dropdownlist: DropDownList2,\n    },\n    data: () => ({\n        menu2: false,\n        isEdit: false,\n        dialog: false,\n        dialogS: false,\n        showLoadingB: false,\n        showLoadingTxn: false,\n        // LoadingMe\n        showLoading: false,\n        loadingAlert: false,\n        loadingColorAlert: \"\",\n        loadingTextAlert: \"\",\n        alert: false,\n        files: [],\n        // Form validation\n        valid: true,\n        isClose: true,\n\n        templates: [\n            {title: \"Draft\"},\n            {title: \"Open\"},\n            {title: \"Partially Closed\"},\n            {title: \"Closed\"},\n        ],\n        isHideBar: false,\n\n        batchs: [],\n        itemBatch: {},\n        amtBatch: 0,\n        qtyReceived: 0,\n        totalBatch: 0,\n        qtyDelivery: 0,\n        serials: [],\n        qtySerial: 0,\n        warehouses: [],\n        saleChannelList: [],\n        projects: [],\n        locations: [],\n        segments: [],\n        itemLines: [],\n        itemLinesS: [],\n        itemLinesBatch: [],\n        customerList: [],\n        dataItemKey: \"id\",\n        textField: \"name\",\n        defaultItem: {[textField]: \"Select supplier...\", [keyField]: null},\n        customerBaseUrl: customerHandler.search(),\n        filter: \"\",\n        invoices: [],\n        saleOrders: [],\n        saleOrder: {},\n        soItemLine: [],\n        deliveryOrder: deliveryOrder,\n        deliveryAgencies: [],\n        balanceWarehouse: {},\n        deliveryAddress: [],\n    }),\n    beforeRouteLeave(to, from, next) {\n        if (this.isClose) {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((resultCen) => {\n                window.console.log(resultCen);\n                if (resultCen.value) {\n                    this.deliveryOrder = deliveryOrder;\n                    next()\n                }\n            });\n        } else {\n            next()\n        }\n    },\n    methods: {\n        dataBoundS: function (e) {\n            const grid = kendo.jQuery(\"#gridS\").data(\"kendoGrid\")\n            const items = e.sender.items();\n            items.each(function () {\n                let dataItem = grid.dataItem(this);\n                kendo\n                    .jQuery(\"tr[data-uid='\" + dataItem.uid + \"']\")\n                    .find(\".isSerialNumber2\")\n                    .each(function () {\n                        if (dataItem.batchOrSerial !== '') {\n                            kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                        } else {\n                            kendo.jQuery(this).addClass(\"k-state-disabled\");\n                        }\n                    });\n            });\n\n        },\n        addSerial() {\n            this.getDataSourceS()\n            window.console.log(this.itemLinesS, 'itemline s')\n        },\n        async getDataSourceS() {\n            let ds = this.$refs.dataSource1.kendoWidget();\n            let dataRow = ds.data();\n            const s = dataRow.filter(i => i.tick == true)\n            if (s.length !== this.qtySerial) {\n                this.$snotify.error('Please check your qty of serial number')\n                return\n            }\n            dataRow.forEach((i) => {\n                if (i.serialNumber1 !== '') {\n                    this.itemLinesS.push({\n                        id: i.id,\n                        item: i.item,\n                        uom: i.uom,\n                        serialNumber1: i.serialNumber1,\n                        serialNumber2: i.serialNumber2,\n                        type: 'serial',\n                        whId: i.whId,\n                        createdAt: i.createdAt,\n                        pk: i.pk,\n                        tick: i.tick,\n                        status: i.tick === true ? 2 : 1\n                    });\n                }\n            });\n            this.onCloseS()\n        },\n        updateSelection(item, value) {\n            const ds = this.$refs.dataSource1.kendoWidget()\n            const rows = ds.data()\n            rows.map(row => {\n                if (row.id === item.id) {\n                    // row.set('tick', value)\n                    row['tick'] = value\n                }\n            })\n        },\n        getRowTemplate(e) {\n            return {\n                template: rowTemplate,\n                templateArgs: Object.assign(this.templateData(e))\n            };\n        },\n        templateData(item) {\n            return {\n                dataItem: item,\n                parentComponent: this\n            };\n        },\n        onChangeSO(item) {\n            window.console.log(item, 'onchangePO')\n            this.deliveryOrder.itemLines = []\n            this.saleOrder.itemLines.forEach(p => {\n                this.deliveryOrder.itemLines.push({\n                    ...p,\n                    qtyReceived: p.qty - p.totalReceived,\n                    source: 'sale order'\n                })\n            })\n            window.console.log(this.receiptOrder.itemLines, 'itemline')\n        },\n        async loadSaleOrders() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    let supplierId = \"\",\n                        whId = \"\",\n                        txnDate = \"\"\n                    if (this.deliveryOrder.customer) {\n                        supplierId = this.deliveryOrder.customer.id;\n                    }\n                    if (this.deliveryOrder.warehouse) {\n                        whId = this.deliveryOrder.warehouse.id\n                    }\n                    if (this.deliveryOrder.date) {\n                        txnDate = this.deliveryOrder.date;\n                    }\n                    let strFilter = \"\";\n                    if (supplierId !== \"\" && txnDate !== \"\" && whId !== \"\") {\n                        strFilter = \"?id=\" + supplierId + \"&whId=\" + whId + '&wType=RO&type=Sale Order'\n                    }\n                    if (strFilter !== \"\") {\n                        this.showLoadingTxn = true\n                        saleOrderHandler\n                            .transactionFilter(strFilter)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoadingTxn = false\n                                    this.showLoading = false;\n                                    this.saleOrders = res.data.data;\n                                } else {\n                                    this.showLoadingTxn = false\n                                }\n                            })\n                    }\n                }, 10);\n            });\n        },\n        onCloseS() {\n            this.dialogS = false\n            this.serials = []\n        },\n        rowNumberS(dataItem) {\n            let ds = this.$refs.dataSource1.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        dataSourceChangedS(e) {\n            if (e.field) {\n                let dataRow = e.items[0];\n                window.console.log(e, \"data source change\");\n                switch (e.field) {\n                    case \"serialNumber1\":\n                        kendo\n                            .jQuery(\"tr[data-uid='\" + dataRow.uid + \"']\")\n                            .find(\".isSerialNumber2\")\n                            .each(function () {\n                                if (dataRow.item.batchOrSerial !== '') {\n                                    kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                                } else {\n                                    kendo.jQuery(this).addClass(\"k-state-disabled\");\n                                }\n                            });\n                        break;\n                }\n            }\n        },\n        recordSerial(e) {\n            e.preventDefault();\n            let grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\")\n            let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"))\n            if (dataItem.item.batchOrSerial === 2 && dataItem.qtyReceived > 0) {\n                if (this.itemLinesS.length > 0) {\n                    this.serials = this.itemLinesS.filter(p => p.item.id === dataItem.item.id)\n                } else {\n                    const instituteId = this.$store.state.institute.institute.id\n                    receiptOrderHandler.getBatch(dataItem.item.id, this.deliveryOrder.warehouse.id, instituteId, 'serial').then(res => {\n                        window.console.log(res, 'serial')\n                        if (res.length > 0) {\n                            this.qtySerial = dataItem.qtyReceived;\n                            res.forEach(o => {\n                                this.serials.push({\n                                    id: o.linId,\n                                    item: o.item,\n                                    uom: o.uom,\n                                    whId: o.whId,\n                                    serialNumber1: o.serialNumber1,\n                                    serialNumber2: o.serialNumber2,\n                                    status: o.status,\n                                    createdAt: o.createdAt,\n                                    pk: o.id\n                                })\n                            })\n                        } else {\n                            this.$snotify.error('This item ' + dataItem.item.name + ' no serial')\n                        }\n                    })\n                }\n                this.dialogS = true\n            }\n        },\n        dataBoundB: function (e) {\n            const grid = kendo.jQuery(\"#gridBatch\").data(\"kendoGrid\")\n            const items = e.sender.items();\n            items.each(function () {\n                let dataItem = grid.dataItem(this);\n                kendo\n                    .jQuery(\"tr[data-uid='\" + dataItem.uid + \"']\")\n                    .find(\".expirationDate\")\n                    .each(function () {\n                        if (dataItem.number !== '') {\n                            kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                        }\n                    });\n            });\n        },\n        onSaveBatch() {\n            if ((this.qtyReceived - this.qtyDelivery) > 0 || (this.qtyDelivery > this.qtyReceived)) {\n                this.$snotify.error('Please check your Qty')\n                return\n            }\n            this.getDataSourceB()\n            window.console.log(this.itemLinesBatch, 'itemline b')\n        },\n        onCloseBatch() {\n            this.dialog = false\n            this.batchs = []\n        },\n        async getDataSourceB() {\n            let ds = this.$refs.dataSource2.kendoWidget();\n            let dataRow = ds.data();\n            dataRow.forEach((i) => {\n                if (i.qty > 0) {\n                    this.itemLinesBatch.push({\n                        id: i.id,\n                        item: i.item,\n                        uom: i.uom,\n                        number: i.number,\n                        whId: i.whId,\n                        expirationDate: i.expirationDate,\n                        qty: i.qty,\n                        DQty: i.DQty,\n                        type: 'batch',\n                        status: i.status,\n                        pk: i.pk,\n                        createdAt: i.createdAt\n                    });\n                }\n            });\n            this.onCloseBatch()\n        },\n        removeRowB(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#gridBatch\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n                this.calcuateBatch()\n            }\n        },\n        rowNumberB(dataItem) {\n            let ds = this.$refs.dataSource2.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        async calcuateBatch() {\n            let ds = this.$refs.dataSource2.kendoWidget();\n            let dataRow = ds.data();\n            let amount = 0\n            dataRow.forEach((i) => {\n                amount += i.DQty\n            });\n            this.qtyDelivery = amount\n            this.totalBatch = this.qtyReceived - amount\n        },\n        numberEditorB(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    min: 0,\n                    max: options.model.qty\n                });\n        },\n        dataSourceChangedB(e) {\n            if (e.field) {\n                let dataRow = e.items[0];\n                window.console.log(e, \"data source change\");\n                switch (e.field) {\n                    case \"number\":\n                        kendo\n                            .jQuery(\"tr[data-uid='\" + dataRow.uid + \"']\")\n                            .find(\".expirationDate\")\n                            .each(function () {\n                                if (dataRow.number !== '') {\n                                    kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                                }\n                            });\n                        if (dataRow.DQty > 0) {\n                            this.calcuateBatch()\n                        }\n                        break;\n                    case \"expirationDate\":\n                        if (dataRow.DQty > 0) {\n                            this.calcuateBatch()\n                        }\n                        kendo\n                            .jQuery(\"tr[data-uid='\" + dataRow.uid + \"']\")\n                            .find(\".expirationDate\")\n                            .each(function () {\n                                if (dataRow.number !== '') {\n                                    kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                                }\n                            });\n                        break;\n                    case \"DQty\":\n                        this.calcuateBatch()\n                        kendo\n                            .jQuery(\"tr[data-uid='\" + dataRow.uid + \"']\")\n                            .find(\".expirationDate\")\n                            .each(function () {\n                                if (dataRow.number !== '') {\n                                    kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                                }\n                            });\n                        break;\n\n                }\n            }\n        },\n        addRowB() {\n            let data = {\n                id: itemLinePrefix + uuid.v1(),\n                item: this.itemBatch,\n                number: '',\n                expirationDate: '',\n                whId: this.deliveryOrder.warehouse.id,\n                qty: 0,\n                status: 1\n            };\n            let ds = this.$refs.dataSource2.kendoWidget(),\n                total = ds.total();\n            ds.insert(total, data);\n        },\n        recordBatch(e) {\n            this.showLoadingB = true\n            e.preventDefault();\n            let grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\")\n            let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"))\n            this.itemBatch = dataItem.item\n            if (dataItem.item.batchOrSerial === 1 && dataItem.qtyReceived > 0) {\n                const instituteId = this.$store.state.institute.institute.id\n                receiptOrderHandler.getBatch(dataItem.item.id, this.deliveryOrder.warehouse.id, instituteId, 'batch').then(res => {\n                    window.console.log(res, 'batch')\n                    if (res.length > 0) {\n                        let amount = 0\n                        res.forEach(o => {\n                            this.batchs.push({\n                                id: o.linId,\n                                item: o.item,\n                                uom: o.uom,\n                                number: o.number,\n                                expirationDate: o.expirationDate,\n                                qty: o.qty,\n                                whId: o.whId,\n                                DQty: o.DQty || 0,\n                                status: o.qty,\n                                createdAt: o.createdAt,\n                                pk: o.id\n                            })\n                            amount += o.qty\n                        })\n                        this.amtBatch = amount\n                        this.qtyReceived = dataItem.qtyReceived\n                        this.totalBatch = dataItem.qtyReceived\n                        this.dialog = true\n                    } else {\n                        this.$snotify.error('This item ' + dataItem.item.name + ' no stock in warehouse')\n                    }\n                })\n            }\n            this.showLoadingB = false\n        },\n\n        ExpirationDateToEditor(container, options) {\n            kendo\n                .jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDatePicker();\n        },\n        ExpirationDateToTemplate(dataItem) {\n            const expirationDate = dataItem.expirationDate;\n            if (expirationDate) {\n                return `<span>${\n                    expirationDate\n                        ? kendo.toString(new Date(expirationDate), `dd-MM-yyyy`)\n                        : ``\n                }</span>`;\n            } else {\n                return ``;\n            }\n        },\n        Help(key) {\n            ShowResource(key);\n        },\n        numberEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    min: 0,\n                    max: this.balanceWarehouse.bQty,\n                });\n        },\n        async onloadDeliveryAgency() {\n            await deliveryOrderHandler.getAllAgency().then((res) => {\n                this.deliveryAgencies = res;\n            });\n        },\n        async addItemLine(data) {\n            window.console.log(data, \"data234\");\n            this.deliveryOrder.itemLines = [];\n            data.isAdd = 1;\n            for (const i of data.itemLines) {\n                window.console.log(i.item, \"itemlines\");\n                await this.getBalanceWarehouse(i.item.id);\n                let balance = 0,\n                    qty = 0;\n                if (Object.keys(this.balanceWarehouse).length !== 0) {\n                    if (this.balanceWarehouse.bQty > 0) {\n                        balance = this.balanceWarehouse.bQty;\n                        if (this.balanceWarehouse.bQty < i.qty) {\n                            qty = this.balanceWarehouse.bQty;\n                        }\n                    } else {\n                        this.$snotify.warning(\n                            \"Please check stock of this item : \" + i.item.name\n                        );\n                        continue;\n                    }\n                } else {\n                    this.$snotify.warning(\n                        \"Please check stock of this item : \" + i.item.name\n                    );\n                    continue;\n                }\n                this.deliveryOrder.itemLines.push({\n                    id: i.id,\n                    item: i.item,\n                    balance: balance,\n                    description: i.description,\n                    orderQty: i.qty,\n                    qty: qty,\n                    uom: i.uom,\n                    invoiceId: data.id,\n                    type: data.type,\n                });\n            }\n        },\n        async getBalanceWarehouse(id) {\n            window.console.log(\n                this.deliveryOrder.date,\n                this.deliveryOrder.warehouse.id,\n                \"balance warehouse\"\n            );\n            const data = {\n                itmId: id,\n                date: this.deliveryOrder.date ? this.deliveryOrder.date : new Date(),\n                whId: this.deliveryOrder.warehouse\n                    ? this.deliveryOrder.warehouse.id\n                    : \"\",\n            };\n            await warehouseHandler.getBalance(data).then((res) => {\n                if (res.length > 0) {\n                    this.balanceWarehouse = res[0];\n                } else {\n                    this.balanceWarehouse = {\n                        bQty: 0\n                    }\n                }\n                window.console.log(this.balanceWarehouse, \"balance warehouse\");\n            });\n        },\n        dataBound: function (e) {\n            const grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\")\n            const items = e.sender.items();\n            items.each(function () {\n                let dataItem = grid.dataItem(this);\n                kendo\n                    .jQuery(\"tr[data-uid='\" + dataItem.uid + \"']\")\n                    .find(\".isSerialNumber\")\n                    .each(function () {\n                        if (dataItem.item.batchOrSerial == 2) {\n                            kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                        }\n                    });\n                kendo\n                    .jQuery(\"tr[data-uid='\" + dataItem.uid + \"']\")\n                    .find(\".isBatch\")\n                    .each(function () {\n                        if (dataItem.item.batchOrSerial == 1) {\n                            kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                        }\n                    });\n            });\n        },\n        dataSourceChange(e) {\n            if (e.field) {\n                let dataRow = e.items[0];\n                switch (e.field) {\n                    case \"item\":\n                        this.getBalanceWarehouse(dataRow.item.id).then(() => {\n                            dataRow.set(\n                                \"qoh\",\n                                this.balanceWarehouse ? this.balanceWarehouse.bQty : 0\n                            );\n                        });\n                        kendo\n                            .jQuery(\"tr[data-uid='\" + dataRow.uid + \"']\")\n                            .find(\".isSerialNumber\")\n                            .each(function () {\n                                if (dataRow.item.batchOrSerial == 2) {\n                                    kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                                }\n                            });\n                        kendo\n                            .jQuery(\"tr[data-uid='\" + dataRow.uid + \"']\")\n                            .find(\".isBatch\")\n                            .each(function () {\n                                if (dataRow.item.batchOrSerial === 1) {\n                                    kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                                }\n                            });\n                        break;\n                    default:\n                        break;\n                }\n            }\n        },\n        addRow() {\n            let data = {\n                id: itemLinePrefix + uuid.v1(),\n                item: {name: \"\"},\n                qty: 0,\n                totalReceived: 0,\n                qoh: 0,\n                description: \"\",\n                uom: {},\n                qtyReceived: 0,\n                source: ''\n            };\n            let ds = this.$refs.dataSource.kendoWidget(),\n                total = ds.total();\n            ds.insert(total, data);\n        },\n        ItemDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate:\n                        '<div class=\"dropdown-header k-widget k-header\">' +\n                        \"<span>Items </span>\" +\n                        \"<span></span>\" +\n                        \"</div>\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: productVariantHandler.itemSearchURL(),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data.filter(p => p.type === 'Variant')\n                            },\n                            total: function (response) {\n                                return response.data.filter(p => p.type === 'Variant').length;\n                            },\n                        },\n                        // data: this.variants\n                    }),\n                });\n        },\n        UOMDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"uom.name\",\n                    dataValueField: \"uom.id\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=uom.name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: uomPriceHandler.uomPriceByPriceLevelURL(\n                                    \"id=\" +\n                                    options.model.item.id +\n                                    \"&plId=\" +\n                                    this.deliveryOrder.priceLevel.id +\n                                    \"&date=\" +\n                                    this.deliveryOrder.date\n                                ),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    // name: {type: \"string\"},\n                                    // sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                        // data: this.variants\n                    }),\n                });\n        },\n        UOMTemplate(dataItem) {\n            const uom = dataItem.uom;\n            if (uom) {\n                return `<span>${uom.uom ? uom.uom.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        removeRow(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n            }\n        },\n        rowNumber(dataItem) {\n            let ds = this.$refs.dataSource.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        async loadSegment() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.segments = [];\n                    settingsHandler\n                        .getSeg()\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.segments = res.data.data;\n                                if (this.segments.length > 0) {\n                                    this.deliveryOrder.segment = this.segments[0];\n                                }\n                                // this.segmentList = res.data.data\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 300);\n            });\n        },\n        async loadLocation() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.locations = [];\n                    locationHandler\n                        .list()\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.locations = res.data.data;\n                                if (this.locations.length > 0) {\n                                    this.deliveryOrder.location = this.locations[0];\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 300);\n            });\n        },\n        async loadSaleChannel() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    saleChannelHandler.get().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.saleChannelList = res.data.data;\n                            if (this.saleChannelList.length > 0) {\n                                this.deliveryOrder.saleChannel = this.saleChannelList[0];\n                            }\n                        } else {\n                            this.showLoading = false;\n                        }\n                    });\n                }, 300);\n            });\n        },\n        async loadProjects() {\n            await projectHandler.list().then((res) => {\n                this.projects = res.data.data;\n                if (this.projects.length > 0) {\n                    this.deliveryOrder.project = this.projects[0];\n                }\n            });\n        },\n        async onloadWarehouse() {\n            warehouseHandler.getWarehouseSettingAll().then((res) => {\n                this.warehouses = res;\n                if (this.warehouses.length > 0) {\n                    this.deliveryOrder.warehouse = this.warehouses[0];\n                }\n            });\n        },\n        async onChange(event) {\n            const value = event.value;\n            if (value && value[textField] === emptyItem[textField]) {\n                return;\n            }\n            this.showLoading = true;\n            window.console.log(value);\n            this.deliveryOrder.customer = value;\n            this.deliveryOrder.priceLevel = value.priceLevel;\n            await this.loadSaleOrders()\n            this.showLoading = false;\n            // await this.onloadPurchase()\n        },\n        onChangeInvoice(e) {\n            let selectedIndex = e.sender.select();\n            let selectedItem = e.sender.dataItem(selectedIndex).toJSON();\n            this.addItemLine(selectedItem);\n            if (\n                Object.keys(selectedItem.deliveryAddress).length !== 0 &&\n                selectedItem.deliveryAddress === Object\n            ) {\n                this.deliveryAddress = [selectedItem.deliveryAddress];\n                this.deliveryOrder.address = this.deliveryAddress[0];\n            }\n            window.console.log(selectedItem, \"invoice change\");\n        },\n        onFilterChange(event) {\n            const filter = event.filter.value;\n            this.requestData(0, filter, this.customerBaseUrl);\n            this.filter = filter;\n        },\n        requestData(skip, filter, baseUrl) {\n            const url = baseUrl + `?filter=${filter}`;\n            this.requestStarted = true;\n            fetch(url)\n                .then((response) => {\n                    // window.console.log(response.json())\n                    return response.json();\n                })\n                .then(this.afterFetch);\n        },\n        afterFetch(json) {\n            this.customerList = json.data;\n        },\n        async loadPrefix() {\n            this.showLoading = true;\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    prefixHandler.get(\"delivery order\").then((res) => {\n                        if (res.data.statusCode === 200) {\n                            // this.showLoading = false\n                            this.transactionTypes = res.data.data;\n                            if (this.transactionTypes.length > 0) {\n                                this.deliveryOrder.transactionType = this.transactionTypes[0];\n                                if (this.$route.params.id === undefined) {\n                                    this.generateNumber();\n                                }\n                            }\n                        }\n                    });\n                }, 300);\n            });\n            await this.onloadWarehouse();\n            // await this.loadSaleChannel();\n            // await this.loadLocation()\n            // await this.loadProjects()\n            // await this.loadSegment()\n            await this.onloadDeliveryAgency();\n            this.showLoading = false;\n        },\n        generateNumber() {\n            let data = {\n                abbr: this.deliveryOrder.transactionType.abbr,\n                structure: this.deliveryOrder.transactionType.structure,\n                transactionDate: this.deliveryOrder.date,\n                sequcencing: this.deliveryOrder.transactionType.sequcencing,\n                type: \"Delivery Order\",\n                entity: 3,\n            };\n            this.deliveryOrder.abbr = data.abbr;\n            this.deliveryOrder.structure = data.structure;\n            this.deliveryOrder.sequcencing = data.sequcencing;\n            this.deliveryOrder.type = data.type;\n            this.deliveryOrder.transactionDate = data.transactionDate;\n            billingHandler\n                .lastNumber(data)\n                .then((response) => {\n                    if (response.data.statusCode === 200) {\n                        const res = response.data.data;\n                        const lastNumber = this.zeroPad(\n                            parseInt(res.lastNumber),\n                            this.deliveryOrder.transactionType.format\n                        );\n                        this.deliveryOrder.number =\n                            res.suffix +\n                            this.deliveryOrder.transactionType.numberSeparator +\n                            lastNumber;\n                        this.deliveryOrder.lastNumber = res.suffix + lastNumber;\n                        window.console.log(this.deliveryOrder.number, \"bom\");\n                    }\n                })\n                .catch((e) => {\n                    this.errors.push(e);\n                });\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, \"0\");\n        },\n        suffix(transactionDate) {\n            return kendo.toString(new Date(transactionDate), `yymm`);\n        },\n        savePrint() {\n        },\n        async getDataSource() {\n            let ds = this.$refs.dataSource.kendoWidget();\n            let dataRow = ds.data();\n            this.itemLines = [];\n            dataRow.forEach((i) => {\n                if (i.qtyReceived > 0 && i.source === 'sale order') {\n                    const line = i\n                    line.totalReceived = i.qtyReceived\n                    this.poItemLine.push({\n                        item: i.item,\n                        transactionType: this.saleOrder.transactionType,\n                        uom: i.uom,\n                        id: i.id,\n                        number: this.saleOrder.number,\n                        data: i.item.id,\n                        qty: i.qty,\n                        line: new ItemLineModel(line),\n                        deleted: 0,\n                        price: 0,\n                        type: 'Sale Order',\n                        customer: {},\n                        status: i.status,\n                        createdAt: i.createdAt\n                    })\n                }\n                this.itemLines.push({\n                    id: i.id,\n                    item: i.item,\n                    qty: i.qty,\n                    description: i.description,\n                    uom: i.uom,\n                    totalReceived: i.totalReceived,\n                    qtyReceived: i.qtyReceived,\n                });\n                // if (i.invoiceId === undefined && i.type === undefined) {\n                //     i.invoiceId = \"\";\n                //     i.type = \"\";\n                // }\n                // this.itemLines.push({\n                //     id: i.id,\n                //     item: i.item,\n                //     qty: i.qty,\n                //     uom: i.uom,\n                //     description: i.description,\n                //     invoiceId: i.invoiceId,\n                //     type: i.type,\n                // });\n            });\n            window.console.log(this.itemLines);\n        },\n        async saveNew() {\n            this.showLoading = true;\n            await this.getDataSource();\n            if (this.soItemLine.length > 0) {\n                await warehouseHandler.addItemLine(this.saleOrder.id, this.soItemLine).then(res => {\n                    if (res.data.statusCode !== 200) {\n                        this.$snotify.error('Error Update ItemLine!!!')\n                    }\n                })\n            }\n            this.deliveryOrder.saleOrderId = this.saleOrder ? this.saleOrder.id : ''\n            this.deliveryOrder.saleOrderRef = this.saleOrder ? this.saleOrder.referenceNo : ''\n            this.deliveryOrder.itemLines = this.itemLines;\n            this.deliveryOrder.itemLinesSerial = this.itemLinesS\n            this.deliveryOrder.itemLinesBatch = this.itemLinesBatch\n            deliveryOrderHandler.save(this.deliveryOrder).then((res) => {\n                window.console.log(res);\n                this.isClose = false\n                this.cancel();\n                this.showLoading = false;\n            });\n        },\n        saveClose() {\n        },\n        errorMessage() {\n        },\n        accountDropDownEditor() {\n        },\n        cancel() {\n            this.itemLines = []\n            this.itemLinesS = []\n            this.itemLinesBatch = []\n            this.batchs = []\n            this.serials = []\n            this.saleOrders = []\n            this.saleOrder = {}\n            this.itemBatch = {}\n            this.amtBatch = 0\n            this.qtyReceived = 0\n            this.totalBatch = 0\n            this.qtyDelivery = 0\n            this.qtySerial = 0\n            this.deliveryOrder = deliveryOrder\n            this.$router.go(-1);\n        },\n        hide_smallsitebar() {\n            if (!this.isHideBar) {\n                // this.col_expand = 12\n                // this.col_hide = 0\n                this.isHideBar = true;\n            } else {\n                // this.col_expand = 9\n                // this.col_hide = 3\n                this.isHideBar = false;\n            }\n        },\n    },\n    watch: {\n        // call again the method if the route changes\n    },\n    created() {\n        // fetch the data when the view is created and the data is\n        // already being observed\n        // this.loadObj()\n    },\n    async mounted() {\n        this.addRow();\n        this.requestData(0, \"\", customerHandler.search());\n        await this.loadPrefix();\n        // await customerHandler.center().then(res => {\n        //     window.console.log(res, 'customer center')\n        // })\n    },\n};\n</script>\n\n<style scoped>\n.k-dropdown {\n    width: 100%;\n    margin-top: 3px;\n}\n\n.function_wrapper {\n    box-shadow: none !important;\n}\n\n.v-application--is-ltr .v-text-field .v-input__append-inner {\n    margin-top: 0 !important;\n}\n\n.v-input__slot {\n    background-color: #fff !important;\n}\n\n.function_content .label {\n    margin-bottom: 10px;\n    display: inline-block;\n}\n\n.border_radius10 {\n    border-radius: 10px !important;\n    background-color: #f2f2f2;\n}\n\n.pa-3.v-card h4 {\n    font-size: 18px;\n    color: #333;\n}\n\n.pa-3.v-card p {\n    font-size: 12px;\n    color: #b5b5b5;\n}\n\n.custom_grid table th:last-child {\n    text-align: right !important;\n}\n\n.color_green {\n    color: #03b154;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        max-width: 1080px !important;\n    }\n}\n\n@media (max-width: 576px) {\n    .pt-6.col-sm-5.col-12 {\n        padding-top: 0 !important;\n    }\n\n    .code_text {\n        width: 100%;\n    }\n\n    .phone_no_pt {\n        padding-top: 0 !important;\n    }\n\n    .select_template,\n    .save_option {\n        margin-bottom: 10px;\n    }\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: 0.5s ease-in;\n    flex: 0 0 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n.info_add {\n    background-color: #ffffff;\n}\n\n.small_sidebar {\n    height: 96%;\n    position: relative;\n    padding: 12px 12px 0 12px;\n    background-color: #edf1f5;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.color_grey {\n    color: #808080;\n}\n\n.card_green {\n    min-height: 70px;\n    background-color: #00b050 !important;\n    color: #ffffff;\n}\n\n.lb_bold {\n    font-size: 12px;\n}\n\n.card_background {\n    background-color: #edf1f5;\n    min-height: 120px;\n}\n\n.deposite_input {\n    width: 100px;\n}\n\n.btn_save_draft {\n    color: #ffffff;\n    background-color: #00b0f0 !important;\n    text-transform: capitalize;\n}\n\n.save_option {\n    background-color: #203864 !important;\n}\n\n.btn_add_small {\n    height: 27px !important;\n    min-width: 25px !important;\n    font-size: 10px;\n    padding: 0 22px !important;\n    background-color: #00b050 !important;\n    color: #ffffff;\n    border-radius: 0 !important;\n}\n\n.list_site_inv {\n    background-color: #92d050;\n    color: #ffffff;\n    font-size: 12px;\n}\n\n.list_site_exp {\n    background-color: #c5e0b4;\n    color: #000000;\n    font-size: 12px;\n    line-height: 16px;\n    min-height: 40px;\n}\n\n.checkbox_inv {\n    padding: 2px;\n    margin-top: 3px;\n    margin-right: 2px;\n}\n\n.exp_select {\n    font-size: 12px !important;\n}\n\n.v-data-table__wrapper td {\n    border-bottom: 1px solid #808080;\n    border-top: 1px solid #808080;\n}\n</style>\n"],"sourceRoot":"src/views/products/warehouses/operations"}]}