{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/eslint-loader/index.js??ref--14-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/compliance/monthly_tax/new_tax_return/review_return/purchase_vat/_purchase_vat.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/compliance/monthly_tax/new_tax_return/review_return/purchase_vat/_purchase_vat.js","mtime":1638499443172},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/babel.config.js","mtime":1638499442885},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CgovKgogKiBMYXN0IG1vZGlmaWVkIDogMy8yNS8yMSwgMTE6MzggQU0gaW4gUHJvamVjdCBiYW5oamktYWNjb3VudGluZy13ZWItbW9kdWxlCiAqIENvcHlyaWdodCAoYykgMjAyMS4gQ2hhbmRhcml0aCBDaGVhIHVuZGVyIENvbXBhbnkgQmFuaEppIEZpbnRlY2ggQ28uLCBMdGQKICogRmFjZWJvb2sgUHJvZmlsZSA6IGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9wcm9maWxlLnBocD9pZD0xMDAwMTExOTQ4MDY5NDcKICogR2l0aHViIFByb2ZpbGUgOiBodHRwczovL2dpdGh1Yi5jb20vRGFyaXRoLU1va3Bvc3QKICogSW5zdGFncmFtIFByb2ZpbGUgOiBodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL2NoYW5kYXJpdGhfY2hlYQogKi8KdmFyIHB1cmNoYXNlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jb21wbGlhbmNlL2hhbmRsZXIvcHVyY2hhc2VIYW5kbGVyIik7IC8vIEB2dWUvY29tcG9uZW50CgoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQdXJjaGFzZV92YXQnLAogIGNvbXBvbmVudHM6IHt9LAogIG1peGluczogW10sCiAgcHJvcHM6IFsnbW9udGhseVJldHVybiddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb250aGx5UHVyY2hhc2VzOiBbewogICAgICAgIGRlc2NyaXB0aW9uOiAnTG9jYWwgcHVyY2hhc2UgaW5jbHVkZSBWQVQgMTAlJywKICAgICAgICB0eXBlOiAnVGF4YWJsZSBwZXJzb24nLAogICAgICAgIGFtb3VudE5ldDogMCwKICAgICAgICBhbW91bnRWQVQ6IDAKICAgICAgfSwgewogICAgICAgIGRlc2NyaXB0aW9uOiAnSW1wb3J0IDEwJScsCiAgICAgICAgdHlwZTogJ092ZXJzZWUgc3VwcGxpZXJzJywKICAgICAgICBhbW91bnROZXQ6IDAsCiAgICAgICAgYW1vdW50VkFUOiAwCiAgICAgIH0sIHsKICAgICAgICBkZXNjcmlwdGlvbjogJ1B1cmNoYXNlIEV4Y2x1c2l2ZSBvZiBWQVQnLAogICAgICAgIHR5cGU6ICdUYXhhYmxlIHBlcnNvbicsCiAgICAgICAgYW1vdW50TmV0OiAwCiAgICAgIH0sIHsKICAgICAgICBkZXNjcmlwdGlvbjogJ1B1cmNoYXNlIEV4Y2x1c2l2ZSBvZiBWQVQnLAogICAgICAgIHR5cGU6ICdOb24tdGF4YWJsZSBwZXJzb24nLAogICAgICAgIGFtb3VudE5ldDogMAogICAgICB9LCB7CiAgICAgICAgZGVzY3JpcHRpb246ICdOb24gY3JlZGl0YWJsZSBwdXJjaGFzZScsCiAgICAgICAgYW1vdW50TmV0OiAwCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnVG90YWwgYW1vdW50IG9mIGlucHV0IHRheGVzJywKICAgICAgICBhbW91bnRWQVQ6IDAKICAgICAgfV0sCiAgICAgIHB1cmNoYXNlczogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbW9udGhseVJldHVybnM6IGZ1bmN0aW9uIG1vbnRobHlSZXR1cm5zKCkgewogICAgICBpZiAodGhpcy5tb250aGx5UmV0dXJuLmlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5tb250aGx5UmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIHB1cmNoYXNlSWQ6IGZ1bmN0aW9uIHB1cmNoYXNlSWQoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoJ3B1cmNoYXNlJykpIHsKICAgICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLnB1cmNoYXNlLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXJhbXMucHVyY2hhc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJ3B1cmNoYXNlSWQnOiAnaW5pdERhdGEnCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5pbml0RGF0YSgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdERhdGE6IGZ1bmN0aW9uIGluaXREYXRhKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczIuJHJvdXRlLnBhcmFtcy5wdXJjaGFzZSAhPT0gdW5kZWZpbmVkKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi5wdXJjaGFzZXMgPSBfdGhpczIuJHJvdXRlLnBhcmFtcy5wdXJjaGFzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uTG9hZE9uZVB1cmNoYXNlKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25DYWxjdWxhdGVQdXJjaGFzZVRheCgpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbkxvYWRPbmVQdXJjaGFzZTogZnVuY3Rpb24gb25Mb2FkT25lUHVyY2hhc2UoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHB1cmNoYXNlSGFuZGxlci5nZXRCeU1ySWQoX3RoaXMzLm1vbnRobHlSZXR1cm5zLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLnB1cmNoYXNlcyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25DYWxjdWxhdGVQdXJjaGFzZVRheDogZnVuY3Rpb24gb25DYWxjdWxhdGVQdXJjaGFzZVRheCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWxBbW91bnRWQVQgPSAwOwogICAgICAgICAgICAgICAgICAgIHZhciBhbW91bnRJbmNsdXNpdmUxID0gMCwKICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50SW5jbHVzaXZlMiA9IDA7CiAgICAgICAgICAgICAgICAgICAgdmFyIGFtb3VudE5ldDEgPSAwLAogICAgICAgICAgICAgICAgICAgICAgICBhbW91bnRWQVQxID0gMCwKICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50TmV0MiA9IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudFZBVDIgPSAwLAogICAgICAgICAgICAgICAgICAgICAgICBhbW91bnROZXQzID0gMDsKCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczQucHVyY2hhc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LnB1cmNoYXNlc1tpXS5zdXBwbGllci5uYXR1cmUudG9Mb3dlckNhc2UoKSA9PT0gImluZGl2aWR1YWwiIHx8IF90aGlzNC5wdXJjaGFzZVtpXS5zdXBwbGllci5uYXR1cmUudG9Mb3dlckNhc2UoKSA9PT0gJ3RheGFibGUgZW50aXR5JykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LnB1cmNoYXNlc1tpXS50b3RhbEFtb3VudEluY2x1c2l2ZSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnRJbmNsdXNpdmUxICs9IF90aGlzNC5wdXJjaGFzZXNbaV0udG90YWxBbW91bnRJbmNsdXNpdmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50VkFUMSArPSBfdGhpczQucHVyY2hhc2VzW2ldLnRvdGFsVkFUOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzNC5wdXJjaGFzZXNbaV0udG90YWxBbW91bnROZXRWYXQgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNC5wdXJjaGFzZXNbaV0udHlwZVByb2R1Y3QuY29kZSA9PT0gNCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50TmV0MSArPSBfdGhpczQucHVyY2hhc2VzW2ldLnRvdGFsQW1vdW50TmV0VmF0OwogICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnROZXQyICs9IF90aGlzNC5wdXJjaGFzZXNbaV0udG90YWxBbW91bnROZXRWYXQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzNC5wdXJjaGFzZXNbaV0uc3VwcGxpZXIubmF0dXJlLnRvTG93ZXJDYXNlKCkgPT09ICdub24tdGF4YWJsZSBlbnRpdHknKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudE5ldDMgKz0gX3RoaXM0LnB1cmNoYXNlc1tpXS50b3RhbEFtb3VudE5ldFZhdDsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXM0LnB1cmNoYXNlc1tpXS5zdXBwbGllci5uYXR1cmUudG9Mb3dlckNhc2UoKSA9PT0gJ2ZvcmVpZ24gZW50aXR5JykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LnB1cmNoYXNlc1tpXS50b3RhbEFtb3VudEluY2x1c2l2ZSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnRJbmNsdXNpdmUyICs9IF90aGlzNC5wdXJjaGFzZXNbaV0udG90YWxBbW91bnRJbmNsdXNpdmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50VkFUMiArPSBfdGhpczQucHVyY2hhc2VzW2ldLnRvdGFsVkFUOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB0b3RhbEFtb3VudFZBVCA9IGFtb3VudFZBVDEgKyBhbW91bnRWQVQyOwogICAgICAgICAgICAgICAgICAgIF90aGlzNC5tb250aGx5UHVyY2hhc2VzWzBdLmFtb3VudE5ldCA9IGFtb3VudEluY2x1c2l2ZTEudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczQubW9udGhseVB1cmNoYXNlc1swXS5hbW91bnRWQVQgPSBhbW91bnRWQVQxLnRvTG9jYWxlU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM0Lm1vbnRobHlQdXJjaGFzZXNbMV0uYW1vdW50TmV0ID0gYW1vdW50SW5jbHVzaXZlMi50b0xvY2FsZVN0cmluZygpOwogICAgICAgICAgICAgICAgICAgIF90aGlzNC5tb250aGx5UHVyY2hhc2VzWzFdLmFtb3VudFZBVCA9IGFtb3VudFZBVDIudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczQubW9udGhseVB1cmNoYXNlc1syXS5hbW91bnROZXQgPSBhbW91bnROZXQyLnRvTG9jYWxlU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM0Lm1vbnRobHlQdXJjaGFzZXNbM10uYW1vdW50TmV0ID0gYW1vdW50TmV0My50b0xvY2FsZVN0cmluZygpOwogICAgICAgICAgICAgICAgICAgIF90aGlzNC5tb250aGx5UHVyY2hhc2VzWzRdLmFtb3VudE5ldCA9IGFtb3VudE5ldDEudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczQubW9udGhseVB1cmNoYXNlc1s1XS5hbW91bnRWQVQgPSB0b3RhbEFtb3VudFZBVC50b0xvY2FsZVN0cmluZygpOwogICAgICAgICAgICAgICAgICB9LCAyMDApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHZpZXdQdXJjaGFzZVJlY29yZDogZnVuY3Rpb24gdmlld1B1cmNoYXNlUmVjb3JkKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJ3B1cmNoYXNlX3JlY29yZCcsCiAgICAgICAgbmFtZTogJ1B1cmNoYXNlIFJlY29yZCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHR5cGU6IHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGUKICAgICAgICB9LAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IHRoaXMubW9udGhseVJldHVybnMuaWQsCiAgICAgICAgICBtb250aGx5UmV0dXJuOiB0aGlzLm1vbnRobHlSZXR1cm5zCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/compliance/monthly_tax/new_tax_return/review_return/purchase_vat/_purchase_vat.js"],"names":["purchaseHandler","require","name","components","mixins","props","data","monthlyPurchases","description","type","amountNet","amountVAT","purchases","computed","monthlyReturns","monthlyReturn","id","undefined","purchaseId","$route","params","hasOwnProperty","purchase","length","watch","created","mounted","initData","methods","onLoadOnePurchase","onCalculatePurchaseTax","getByMrId","then","res","Promise","resolve","setTimeout","totalAmountVAT","amountInclusive1","amountInclusive2","amountNet1","amountVAT1","amountNet2","amountVAT2","amountNet3","i","supplier","nature","toLowerCase","totalAmountInclusive","totalVAT","totalAmountNetVat","typeProduct","code","toLocaleString","viewPurchaseRecord","$router","push","path","query"],"mappings":"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","sourcesContent":["/*\n * Last modified : 3/25/21, 11:38 AM in Project banhji-accounting-web-module\n * Copyright (c) 2021. Chandarith Chea under Company BanhJi Fintech Co., Ltd\n * Facebook Profile : https://www.facebook.com/profile.php?id=100011194806947\n * Github Profile : https://github.com/Darith-Mokpost\n * Instagram Profile : https://www.instagram.com/chandarith_chea\n */\nconst purchaseHandler = require(\"@/scripts/compliance/handler/purchaseHandler\")\n// @vue/component\nexport default {\n    name: 'Purchase_vat',\n\n    components: {},\n\n    mixins: [],\n\n    props: ['monthlyReturn'],\n\n    data () {\n        return {\n            monthlyPurchases: [\n                {description: 'Local purchase include VAT 10%', type: 'Taxable person', amountNet: 0, amountVAT: 0},\n                {description: 'Import 10%', type: 'Oversee suppliers', amountNet: 0, amountVAT: 0},\n                {description: 'Purchase Exclusive of VAT', type: 'Taxable person', amountNet: 0},\n                {description: 'Purchase Exclusive of VAT', type: 'Non-taxable person', amountNet: 0},\n                {description: 'Non creditable purchase', amountNet: 0},\n                {type: 'Total amount of input taxes', amountVAT: 0}\n            ],\n            purchases: [],\n        }\n    },\n\n    computed: {\n        monthlyReturns() {\n            if (this.monthlyReturn.id !== undefined) {\n                return this.monthlyReturn\n            }else {\n                return {}\n            }\n        },\n        purchaseId() {\n            if (this.$route.params.hasOwnProperty('purchase')) {\n                if (this.$route.params.purchase.length > 0) {\n                    return this.$route.params.purchase\n                }else {\n                    return []\n                }\n            }else {\n                return []\n            }\n        }\n    },\n\n    watch: {\n        'purchaseId': 'initData'\n    },\n\n    created () {},\n\n    async mounted() {\n        await this.initData()\n    },\n\n    methods: {\n        async initData() {\n            if (this.$route.params.purchase !== undefined) {\n                this.purchases = this.$route.params.purchase\n            } else {\n                await this.onLoadOnePurchase()\n                await this.onCalculatePurchaseTax()\n            }\n        },\n        async onLoadOnePurchase() {\n            purchaseHandler.getByMrId(this.monthlyReturns.id).then(res => {\n                this.purchases = res.data.data\n            })\n\n        },\n        async onCalculatePurchaseTax() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    let totalAmountVAT = 0\n                    let amountInclusive1 = 0, amountInclusive2 = 0\n                    let amountNet1 = 0, amountVAT1 = 0, amountNet2 = 0, amountVAT2 = 0, amountNet3 = 0\n                    for (let i = 0; i < this.purchases.length; i++) {\n                        if (this.purchases[i].supplier.nature.toLowerCase() === \"individual\" || this.purchase[i].supplier.nature.toLowerCase() === 'taxable entity') {\n                            if (this.purchases[i].totalAmountInclusive > 0) {\n                                amountInclusive1 += this.purchases[i].totalAmountInclusive\n                                amountVAT1 += this.purchases[i].totalVAT\n                            } else if (this.purchases[i].totalAmountNetVat > 0) {\n                                if (this.purchases[i].typeProduct.code === 4) {\n                                    amountNet1 += this.purchases[i].totalAmountNetVat\n                                } else {\n                                    amountNet2 += this.purchases[i].totalAmountNetVat\n                                }\n                            }\n                        } else if (this.purchases[i].supplier.nature.toLowerCase() === 'non-taxable entity') {\n                            amountNet3 += this.purchases[i].totalAmountNetVat\n                        } else if (this.purchases[i].supplier.nature.toLowerCase() === 'foreign entity') {\n                            if (this.purchases[i].totalAmountInclusive > 0) {\n                                amountInclusive2 += this.purchases[i].totalAmountInclusive\n                                amountVAT2 += this.purchases[i].totalVAT\n                            }\n                        }\n                    }\n                    totalAmountVAT = amountVAT1 + amountVAT2\n                    this.monthlyPurchases[0].amountNet = amountInclusive1.toLocaleString()\n                    this.monthlyPurchases[0].amountVAT = amountVAT1.toLocaleString()\n                    this.monthlyPurchases[1].amountNet = amountInclusive2.toLocaleString()\n                    this.monthlyPurchases[1].amountVAT = amountVAT2.toLocaleString()\n                    this.monthlyPurchases[2].amountNet = amountNet2.toLocaleString()\n                    this.monthlyPurchases[3].amountNet = amountNet3.toLocaleString()\n                    this.monthlyPurchases[4].amountNet = amountNet1.toLocaleString()\n                    this.monthlyPurchases[5].amountVAT = totalAmountVAT.toLocaleString()\n                }, 200)\n            })\n        },\n        viewPurchaseRecord() {\n            this.$router.push({\n                path: 'purchase_record',\n                name: 'Purchase Record',\n                query: {type: this.$route.query.type},\n                params: {id: this.monthlyReturns.id, monthlyReturn: this.monthlyReturns}\n            })\n        }\n    }\n}\n"]}]}