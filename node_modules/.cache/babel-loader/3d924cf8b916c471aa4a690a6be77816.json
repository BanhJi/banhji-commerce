{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/suppliers/PurchaseDeposits.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/suppliers/PurchaseDeposits.vue","mtime":1642155812729},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1jb21tZXJjZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKdmFyIF9kZWZhdWx0SXRlbTsKCmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnBhZC1zdGFydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgaTE4biB9IGZyb20gIkAvaTE4biI7CmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwppbXBvcnQgUHVyY2hhc2VEZXBvc2l0TW9kZWwgZnJvbSAiQC9zY3JpcHRzL3B1cmNoYXNlX2RlcG9zaXQvbW9kZWwvUHVyY2hhc2VEZXBvc2l0IjsKaW1wb3J0IHsgRHJvcERvd25MaXN0IH0gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXZ1ZS1kcm9wZG93bnMiOwppbXBvcnQgeyB1dWlkIH0gZnJvbSAidnVlLXV1aWQiOwppbXBvcnQgSXRlbUxpbmVNb2RlbCBmcm9tICJAL3NjcmlwdHMvcHVyY2hhc2VfZGVwb3NpdC9tb2RlbC9JdGVtTGluZSI7CmltcG9ydCB7IGRhdGFTdG9yZSwgU2hvd1Jlc291cmNlIH0gZnJvbSAiQC9vYnNlcnZhYmxlL3N0b3JlIjsKaW1wb3J0IFBheW1lbnRPcHRpb25FZGl0b3IgZnJvbSAiQC9zY3JpcHRzL2tlbmRvX2VkaXRvci9QYXltZW50T3B0aW9uRWRpdG9yIjsKaW1wb3J0IEhlbHBlciBmcm9tICJAL2hlbHBlciI7Cgp2YXIgc2FsZU9yZGVySGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy90cmFuc2FjdGlvbkhhbmRsZXIiKTsKCnZhciBzdXBwbGllckhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc3VwcGxpZXJIYW5kbGVyIik7Cgp2YXIgbG9jYXRpb25IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2xvY2F0aW9uSGFuZGxlciIpOwoKdmFyIHNldHRpbmdzSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zZXR0aW5nc0hhbmRsZXIiKTsKCnZhciBwdXJjaGFzZURlcG9zaXRNb2RlbCA9IG5ldyBQdXJjaGFzZURlcG9zaXRNb2RlbCh7fSk7Cgp2YXIgcHJlZml4SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcmVmaXhIYW5kbGVyIik7Cgp2YXIgYmlsbGluZ0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaW52b2ljZS9oYW5kbGVyL2JpbGxpbmdIYW5kbGVyIik7Cgp2YXIgYWNjb3VudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaGFuZGxlci9hY2NvdW50aW5nL2FjY291bnQiKTsKCnZhciBpdGVtTGluZU1vZGVsID0gbmV3IEl0ZW1MaW5lTW9kZWwoe30pOwp2YXIgJCA9IGtlbmRvLmpRdWVyeTsKCnZhciBwYXltZW50T3B0aW9uSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wYXltZW50T3B0aW9uSGFuZGxlciIpOwoKdmFyIGN1cnJlbmN5SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jdXJyZW5jeS9oYW5kbGVyL2N1cnJlbmN5SGFuZGxlciIpOwoKdmFyIGRlZmF1bHRJdGVtID0gKF9kZWZhdWx0SXRlbSA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2RlZmF1bHRJdGVtLCAibnVtYmVyTmFtZSIsICJTZWxlY3QgdmVuZG9yLi4uIiksIF9kZWZpbmVQcm9wZXJ0eShfZGVmYXVsdEl0ZW0sICJpZCIsIG51bGwpLCBfZGVmYXVsdEl0ZW0pOwoKdmFyIGVtcHR5SXRlbSA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgIm51bWJlck5hbWUiLCAibG9hZGluZyAuLi4iKTsKCnZhciBpdGVtTGluZVByZWZpeCA9ICJsaW4tIjsKdmFyIE9QVElPTl9UWVBFID0gIlN1cHBsaWVyIjsKdmFyIHN0ckZpbHRlciA9ICI/b3B0aW9uVHlwZT0iICsgT1BUSU9OX1RZUEU7Cgp2YXIgY29va2llSlMgPSByZXF1aXJlKCJAL2Nvb2tpZS5qcyIpOwoKdmFyIGNvb2tpZSA9IGNvb2tpZUpTLmdldENvb2tpZSgpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlB1cmNoYXNlRGVwb3NpdCIsCiAgcHJvcHM6IFsiaWQiXSwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nTWU6IGZ1bmN0aW9uIExvYWRpbmdNZSgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL0xvYWRpbmciKTsKICAgIH0sCiAgICAiYXBwLWRhdGVwaWNrZXIiOiBmdW5jdGlvbiBhcHBEYXRlcGlja2VyKCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9EYXRlUGlja2VyQ29tcG9uZW50Iik7CiAgICB9LAogICAgZHJvcGRvd25saXN0OiBEcm9wRG93bkxpc3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0VkaXQ6IGZhbHNlLAogICAgICBzaG93TG9hZGluZzogZmFsc2UsCiAgICAgIGFsZXJ0OiBmYWxzZSwKICAgICAgZmlsZXM6IFtdLAogICAgICBzZWdtZW50czogW10sCiAgICAgIGxvY2F0aW9uczogW10sCiAgICAgIHB1cmNoYXNlRGVwb3NpdDogcHVyY2hhc2VEZXBvc2l0TW9kZWwsCiAgICAgIGl0ZW1MaW5lOiBpdGVtTGluZU1vZGVsLAogICAgICBzdXBwbGllckxpc3Q6IFtdLAogICAgICBzdXBwbGllcjoge30sCiAgICAgIHRleHRGaWVsZDogIm51bWJlck5hbWUiLAogICAgICBkZWZhdWx0SXRlbTogZGVmYXVsdEl0ZW0sCiAgICAgIGRhdGFJdGVtS2V5OiAiaWQiLAogICAgICBmaWx0ZXI6ICIiLAogICAgICBjdXNCYXNlVXJsOiBzdXBwbGllckhhbmRsZXIuc2VhcmNoKCksCiAgICAgIHRyYW5zYWN0aW9uVHlwZXM6IFtdLAogICAgICBhY2NTdXBwbGllckRlcG9zaXQ6IFtdLAogICAgICBwYXltZW50TWV0aG9kOiBbXSwKICAgICAgcHVyY2hhc2VPcmRlcnM6IFtdLAogICAgICBzYWxlT3JkZXJBbW91bnQ6IDAsCiAgICAgIHNhbGVPcmRlckN1cnJlbmN5OiAiIiwKICAgICAgY3VycmVuY3lDb2RlOiAiIiwKICAgICAgYWNjQ2FzaDogW10sCiAgICAgIGRlcG9zaXRMaW5lOiBbXSwKICAgICAgY3VycmVuY3lMaXN0OiBbXSwKICAgICAgZGVjaW1hbEZvcm1hdDogIm4yIiwKICAgICAgZGVwb3NpdEJhbGFuY2U6IDAsCiAgICAgIHZhbGlkOiB0cnVlLAogICAgICBsb2dnZWRVc2VyOiB7CiAgICAgICAgaWQ6IGNvb2tpZS5jcmVhdG9yLAogICAgICAgIG5hbWU6IGNvb2tpZS5lbWFpbAogICAgICB9LAogICAgICB0cmFuc2FjdGlvbkRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgICB0ZW1wbGF0ZXM6IFt7CiAgICAgICAgdGl0bGU6ICJQdXJjaGFzZSBEZXBvc2l0IiwKICAgICAgICB2YWx1ZTogIlB1cmNoYXNlIERlcG9zaXQiCiAgICAgIH1dLAogICAgICBpc0hpZGVCYXI6IGZhbHNlLAogICAgICBQYXltZW50T3B0aW9uRWRpdG9yOiBQYXltZW50T3B0aW9uRWRpdG9yLAogICAgICByZWZGcm9tOiBbXSwKICAgICAgcmVmVG86IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25QT0NoYW5nZWQ6IGZ1bmN0aW9uIG9uUE9DaGFuZ2VkKCkgewogICAgICBpZiAodGhpcy5wdXJjaGFzZURlcG9zaXQpIHsKICAgICAgICBpZiAodGhpcy5wdXJjaGFzZURlcG9zaXQucHVyY2hhc2VPcmRlcikgewogICAgICAgICAgdmFyIHNhbGVPcmRlciA9IHRoaXMucHVyY2hhc2VEZXBvc2l0LnB1cmNoYXNlT3JkZXIgfHwge307CiAgICAgICAgICB2YXIgc2VnbWVudCA9IHNhbGVPcmRlci5zZWdtZW50IHx8IHt9OwogICAgICAgICAgdmFyIGxvY2F0aW9uID0gc2FsZU9yZGVyLmxvY2F0aW9uIHx8IHt9OwogICAgICAgICAgdGhpcy5wdXJjaGFzZURlcG9zaXQuc2VnbWVudCA9IHNlZ21lbnQ7CiAgICAgICAgICB0aGlzLnB1cmNoYXNlRGVwb3NpdC5sb2NhdGlvbiA9IGxvY2F0aW9uOwogICAgICAgICAgdGhpcy5yZWZGcm9tLnB1c2goewogICAgICAgICAgICBpZDogc2FsZU9yZGVyLmlkIHx8ICcnLAogICAgICAgICAgICByZWZlcmVuY2U6IHNhbGVPcmRlci5udW1iZXIgfHwgJycKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5wdXJjaGFzZURlcG9zaXQucmVmRnJvbSA9IHRoaXMucmVmRnJvbTsKICAgICAgfQogICAgfSwKICAgIEhlbHA6IGZ1bmN0aW9uIEhlbHAoa2V5X3NlYXJjaCkgewogICAgICBTaG93UmVzb3VyY2Uoa2V5X3NlYXJjaCk7CiAgICB9LAogICAgc2F2ZU5ldzogZnVuY3Rpb24gc2F2ZU5ldygpIHt9LAogICAgcmVtb3ZlUm93OiBmdW5jdGlvbiByZW1vdmVSb3coZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZFB1cmNoYXNlRGVwb3NpdCIpLmRhdGEoImtlbmRvR3JpZCIpLAogICAgICAgICAgZGF0YVNvdXJjZSA9IGdyaWQuZGF0YVNvdXJjZSwKICAgICAgICAgIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CgogICAgICBpZiAoZGF0YVNvdXJjZS50b3RhbCgpID4gMSkgewogICAgICAgIGRhdGFTb3VyY2UucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgfQogICAgfSwKICAgIG51bWJlckZvcm1hdDogZnVuY3Rpb24gbnVtYmVyRm9ybWF0KG9iaiwgdHlwZSkgewogICAgICBpZiAob2JqKSB7CiAgICAgICAgLy8gdGhpcy5wdXJjaGFzZURlcG9zaXQubG9jYXRpb24gPSBvYmouaGFzT3duUHJvcGVydHkoJ2xvY2F0aW9uJykgPyBvYmoubG9jYXRpb24gOiB7fQogICAgICAgIC8vIHRoaXMucHVyY2hhc2VEZXBvc2l0LnNlZ21lbnQgPSBvYmouaGFzT3duUHJvcGVydHkoJ3NlZ21lbnQnKSA/IG9iai5zZWdtZW50IDoge30KICAgICAgICBpZiAodHlwZSA9PT0gImFtb3VudCIpIHsKICAgICAgICAgIHZhciB2YWx1ZSA9IG9iai5oYXNPd25Qcm9wZXJ0eSgiYW1vdW50IikgPyBvYmouYW1vdW50IDogMDsKICAgICAgICAgIHZhciBkZWNpbWFsRm9ybWF0ID0gb2JqLmhhc093blByb3BlcnR5KCJkZWNpbWFsRm9ybWF0IikgPyBvYmouZGVjaW1hbEZvcm1hdCA6ICJuMiI7CiAgICAgICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcocGFyc2VGbG9hdCh2YWx1ZSksIGRlY2ltYWxGb3JtYXQpOwogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gImN1cnJlbmN5IikgewogICAgICAgICAgdmFyIGN1cnJlbmN5ID0gb2JqLmhhc093blByb3BlcnR5KCJjdXJyZW5jeSIpID8gb2JqLmN1cnJlbmN5IDogIiI7CiAgICAgICAgICByZXR1cm4gY3VycmVuY3kuY29kZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiAiLSI7CiAgICB9LAogICAgYW1vdW50Rm9ybWF0OiBmdW5jdGlvbiBhbW91bnRGb3JtYXQodmFsdWUpIHsKICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKHBhcnNlRmxvYXQodmFsdWUpLCAiIi5jb25jYXQodGhpcy5kZWNpbWFsRm9ybWF0KSk7CiAgICB9LAogICAgZ2VuZXJhdGVOdW1iZXI6IGZ1bmN0aW9uIGdlbmVyYXRlTnVtYmVyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgIHZhciB0cmFuRGF0ZSA9IG5ldyBEYXRlKHRoaXMudHJhbnNhY3Rpb25EYXRlKTsKICAgICAgICB2YXIgdHJhbkRhdGVJbnZvaWNlID0gbmV3IERhdGUodGhpcy5wdXJjaGFzZURlcG9zaXQudHJhbnNhY3Rpb25EYXRlKTsKICAgICAgICB2YXIgdHJhbkRhdGVNID0gdHJhbkRhdGUuZ2V0RnVsbFllYXIoKSArIHRyYW5EYXRlLmdldE1vbnRoKCk7CiAgICAgICAgdmFyIHRyYW5EYXRlSW52b2ljZU0gPSB0cmFuRGF0ZUludm9pY2UuZ2V0RnVsbFllYXIoKSArIHRyYW5EYXRlSW52b2ljZS5nZXRNb250aCgpOwoKICAgICAgICBpZiAodHJhbkRhdGVNID09PSB0cmFuRGF0ZUludm9pY2VNKSB7CiAgICAgICAgICB0aGlzLnB1cmNoYXNlRGVwb3NpdC5yZWZlcmVuY2VObyA9IHRoaXMucmVmZXJlbmNlTm87CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy50cmFuc2FjdGlvbkRhdGUgIT09ICIiICYmIHRoaXMudHJhbnNhY3Rpb25UeXBlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICBhYmJyOiB0aGlzLnB1cmNoYXNlRGVwb3NpdC50cmFuc2FjdGlvblR5cGUuYWJiciwKICAgICAgICAgIHN0cnVjdHVyZTogdGhpcy5wdXJjaGFzZURlcG9zaXQudHJhbnNhY3Rpb25UeXBlLnN0cnVjdHVyZSwKICAgICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogdGhpcy50cmFuc2FjdGlvbkRhdGUsCiAgICAgICAgICBzZXF1Y2VuY2luZzogdGhpcy5wdXJjaGFzZURlcG9zaXQudHJhbnNhY3Rpb25UeXBlLnNlcXVjZW5jaW5nLAogICAgICAgICAgcHJlZml4U2VwYXJhdG9yOiB0aGlzLnB1cmNoYXNlRGVwb3NpdC50cmFuc2FjdGlvblR5cGUucHJlZml4U2VwYXJhdG9yIHx8ICcnLAogICAgICAgICAgbnVtYmVyU2VwYXJhdG9yOiB0aGlzLnB1cmNoYXNlRGVwb3NpdC50cmFuc2FjdGlvblR5cGUubnVtYmVyU2VwYXJhdG9yIHx8ICcnLAogICAgICAgICAgZm9ybWF0OiB0aGlzLnB1cmNoYXNlRGVwb3NpdC50cmFuc2FjdGlvblR5cGUuZm9ybWF0IHx8IDUsCiAgICAgICAgICB0eXBlOiAiUHVyY2hhc2UgRGVwb3NpdCIsCiAgICAgICAgICBlbnRpdHk6IDEKICAgICAgICB9OwogICAgICAgIGJpbGxpbmdIYW5kbGVyLmxhc3ROdW1iZXIoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKICAgICAgICAgICAgdmFyIGxhc3ROdW1iZXIgPSBfdGhpcy56ZXJvUGFkKHBhcnNlSW50KHJlcy5sYXN0TnVtYmVyKSwgX3RoaXMucHVyY2hhc2VEZXBvc2l0LnRyYW5zYWN0aW9uVHlwZS5mb3JtYXQpOwoKICAgICAgICAgICAgX3RoaXMucHVyY2hhc2VEZXBvc2l0Lm51bWJlciA9IHJlcy5zdWZmaXggKyBfdGhpcy5wdXJjaGFzZURlcG9zaXQudHJhbnNhY3Rpb25UeXBlLm51bWJlclNlcGFyYXRvciArIGxhc3ROdW1iZXI7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKGUpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgemVyb1BhZDogZnVuY3Rpb24gemVyb1BhZChudW0sIHBsYWNlcykgewogICAgICByZXR1cm4gU3RyaW5nKG51bSkucGFkU3RhcnQocGxhY2VzLCAiMCIpOwogICAgfSwKICAgIHN1ZmZpeDogZnVuY3Rpb24gc3VmZml4KHRyYW5zYWN0aW9uRGF0ZSkgewogICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcobmV3IERhdGUodHJhbnNhY3Rpb25EYXRlKSwgInl5bW0iKTsKICAgIH0sCiAgICBlcnJvck1lc3NhZ2U6IGZ1bmN0aW9uIGVycm9yTWVzc2FnZSgpIHt9LAogICAgYWNjb3VudERyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBhY2NvdW50RHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW51bWJlciMgLSAjPSBuYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS1TZWxlY3QtLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLmFjY0Nhc2gKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBtZXRob2REcm9wRG93bkVkaXRvcjogZnVuY3Rpb24gbWV0aG9kRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWNvZGUjIC0gIz0gbmFtZSM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tU2VsZWN0LS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgZGF0YTogdGhpcy5wYXltZW50TWV0aG9kCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgYWNjb3VudFRlbXBsYXRlOiBmdW5jdGlvbiBhY2NvdW50VGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGFjYyA9IGRhdGFJdGVtLmFjY291bnQ7CgogICAgICBpZiAoYWNjKSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChhY2MubmFtZSA/IGFjYy5uYW1lIDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgbWV0aG9kVGVtcGxhdGU6IGZ1bmN0aW9uIG1ldGhvZFRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHZhciBtZXRob2QgPSBkYXRhSXRlbS5wYXltZW50T3B0aW9uIHx8ICcnOwoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQobWV0aG9kLmJhbmtBY2NvdW50TmFtZSB8fCAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBhbW91bnRUZW1wbGF0ZTogZnVuY3Rpb24gYW1vdW50VGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGFtdCA9IGRhdGFJdGVtLmFtb3VudDsKCiAgICAgIGlmIChhbXQpIHsKICAgICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcocGFyc2VGbG9hdChhbXQpLCAiIi5jb25jYXQodGhpcy5kZWNpbWFsRm9ybWF0KSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgIH0sCiAgICBhbW91bnRFZGl0b3I6IGZ1bmN0aW9uIGFtb3VudEVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgZGF0YS1iaW5kPSJ2YWx1ZTonICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvTnVtZXJpY1RleHRCb3goewogICAgICAgIGRlY2ltYWxzOiAzMCwKICAgICAgICBmb3JtYXQ6ICIiLmNvbmNhdCh0aGlzLmRlY2ltYWxGb3JtYXQpCiAgICAgIH0pOwogICAgfSwKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHN3YWwoewogICAgICAgIHRpdGxlOiBpMThuLnQoIm1zZ190aXRsZV93YXJuaW5nIiksCiAgICAgICAgdGV4dDogaTE4bi50KCJtc2dfZGlzY2FyZCIpLAogICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IGkxOG4udCgiY2FuY2VsIiksCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjRUQxQTNBIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogaTE4bi50KCJkaXNjYXJkIikKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgX3RoaXMyLmNsZWFyKCk7CgogICAgICAgICAgX3RoaXMyLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgIHRoaXMuc3VwcGxpZXIgPSB7fTsKICAgICAgdGhpcy5wdXJjaGFzZU9yZGVycyA9IFtdOwogICAgICB2YXIgc2VnbWVudCA9IHRoaXMucHVyY2hhc2VEZXBvc2l0LnNlZ21lbnQgfHwge307CiAgICAgIHZhciBsb2NhdGlvbiA9IHRoaXMucHVyY2hhc2VEZXBvc2l0LmxvY2F0aW9uIHx8IHt9OwogICAgICB0aGlzLmdlbmVyYXRlTnVtYmVyKCk7CiAgICAgIHZhciB0eG5UeXBlID0gdGhpcy5wdXJjaGFzZURlcG9zaXQudHJhbnNhY3Rpb25UeXBlOwogICAgICB0aGlzLnB1cmNoYXNlRGVwb3NpdCA9IG5ldyBQdXJjaGFzZURlcG9zaXRNb2RlbCh7fSk7CiAgICAgIHRoaXMucHVyY2hhc2VEZXBvc2l0LnRyYW5zYWN0aW9uVHlwZSA9IHR4blR5cGU7CiAgICAgIHRoaXMucHVyY2hhc2VEZXBvc2l0LnNlZ21lbnQgPSBzZWdtZW50OwogICAgICB0aGlzLnB1cmNoYXNlRGVwb3NpdC5sb2NhdGlvbiA9IGxvY2F0aW9uOyAvLyB0aGlzLmRlcG9zaXRMaW5lID0gW107CgogICAgICB2YXIgbGluZXMgPSB0aGlzLiRyZWZzLnB1cmNoYXNlRGVwb3NpdERTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIGxpbmVzLmRhdGEoW10pOwogICAgICB0aGlzLmFkZFJvdygpOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgd2luZG93Lmhpc3RvcnkuZ28oLTEpOwogICAgfSwKICAgIGhpZGVTbWFsbFNpdGVCYXI6IGZ1bmN0aW9uIGhpZGVTbWFsbFNpdGVCYXIoKSB7CiAgICAgIHRoaXMuaXNIaWRlQmFyID0gIXRoaXMuaXNIaWRlQmFyOwogICAgfSwKICAgIG9uRmlsdGVyQ2hhbmdlOiBmdW5jdGlvbiBvbkZpbHRlckNoYW5nZShldmVudCkgewogICAgICB2YXIgZmlsdGVyID0gZXZlbnQuZmlsdGVyLnZhbHVlOwogICAgICB0aGlzLnJlcXVlc3REYXRhKDAsIGZpbHRlciwgdGhpcy5jdXNCYXNlVXJsKTsKICAgICAgdGhpcy5maWx0ZXIgPSBmaWx0ZXI7CiAgICB9LAogICAgcmVxdWVzdERhdGE6IGZ1bmN0aW9uIHJlcXVlc3REYXRhKHNraXAsIGZpbHRlciwgYmFzZVVybCkgewogICAgICB2YXIgdXJsID0gYmFzZVVybCArICI/ZmlsdGVyPSIuY29uY2F0KGZpbHRlcik7CiAgICAgIGZldGNoKHVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICB9KS50aGVuKHRoaXMuYWZ0ZXJGZXRjaCk7CiAgICB9LAogICAgYWZ0ZXJGZXRjaDogZnVuY3Rpb24gYWZ0ZXJGZXRjaChqc29uKSB7CiAgICAgIHRoaXMuc3VwcGxpZXJMaXN0ID0ganNvbi5kYXRhOwogICAgfSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkgewogICAgICB2YXIgdmFsdWUgPSBldmVudC52YWx1ZTsKCiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZVsibnVtYmVyTmFtZSJdID09PSBlbXB0eUl0ZW1bIm51bWJlck5hbWUiXSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5zdXBwbGllciA9IHZhbHVlOwoKICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgaWYgKHZhbHVlLmlkICE9PSBudWxsKSB7CiAgICAgICAgICB0aGlzLmRlY2ltYWxGb3JtYXQgPSB0aGlzLnN1cHBsaWVyLmRlY2ltYWxGb3JtYXQ7CgogICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KCJiYXNlQ3VycmVuY3kiKSkgewogICAgICAgICAgICBpZiAodmFsdWUuYmFzZUN1cnJlbmN5Lmhhc093blByb3BlcnR5KCJjb2RlIikpIHsKICAgICAgICAgICAgICB0aGlzLmN1cnJlbmN5Q29kZSA9ICIgIiArIHZhbHVlLmJhc2VDdXJyZW5jeS5jb2RlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5wdXJjaGFzZURlcG9zaXQucHVyY2hhc2VEZXBvc2l0QWNjID0gdmFsdWUuaGFzT3duUHJvcGVydHkoInB1cmNoYXNlRGVwb3NpdEFjYyIpID8gdmFsdWUucHVyY2hhc2VEZXBvc2l0QWNjIDoge307CiAgICAgICAgICB0aGlzLmxvYWRQdXJjaGFzZU9yZGVycygpOwogICAgICAgICAgdGhpcy5sb2FkQ3VzdG9tZXJCYWxhbmNlKHZhbHVlLmlkKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBsb2FkTG9jYXRpb246IGZ1bmN0aW9uIGxvYWRMb2NhdGlvbigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByb2xlVHlwZSwgcm9sZURhdGEsIGxvY2F0aW9uLCBsb2NhdGlvbkRlZmF1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMzLmxvY2F0aW9ucyA9IFtdOwogICAgICAgICAgICAgICAgcm9sZVR5cGUgPSBkYXRhU3RvcmUucm9sZVR5cGUgfHwgMDsKCiAgICAgICAgICAgICAgICBpZiAocm9sZVR5cGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgaWYgKGRhdGFTdG9yZS5yb2xlRGF0YSkgewogICAgICAgICAgICAgICAgICAgIHJvbGVEYXRhID0gZGF0YVN0b3JlLnJvbGVEYXRhIHx8IFtdOwogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gcm9sZURhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdG0udHlwZSA9PT0gJ2xvY2F0aW9uJzsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbkRlZmF1bHQgPSBsb2NhdGlvbi5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmlzRGVmYXVsdCA9PT0gMTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBfdGhpczMubG9jYXRpb25zID0gbG9jYXRpb247CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczMuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkIHx8IF90aGlzMy4kcm91dGUucGFyYW1zLmlkID09PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uRGVmYXVsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5wdXJjaGFzZURlcG9zaXQubG9jYXRpb24gPSBsb2NhdGlvbkRlZmF1bHRbMF07CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJvbGVUeXBlID09PSAxKSB7CiAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmxvY2F0aW9ucyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25IYW5kbGVyLmxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMubG9jYXRpb25zID0gcmVzLmRhdGEuZGF0YTsgLy8gaWYgKHRoaXMubG9jYXRpb25zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5wdXJjaGFzZURlcG9zaXQubG9jYXRpb24gPSB0aGlzLmxvY2F0aW9uc1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkU2VnbWVudDogZnVuY3Rpb24gbG9hZFNlZ21lbnQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJvbGVUeXBlLCByb2xlRGF0YSwgc2VnbWVudCwgc2VnbWVudERlZmF1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNC5zZWdtZW50cyA9IFtdOwogICAgICAgICAgICAgICAgcm9sZVR5cGUgPSBkYXRhU3RvcmUucm9sZVR5cGUgfHwgMDsKCiAgICAgICAgICAgICAgICBpZiAocm9sZVR5cGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgaWYgKGRhdGFTdG9yZS5yb2xlRGF0YSkgewogICAgICAgICAgICAgICAgICAgIHJvbGVEYXRhID0gZGF0YVN0b3JlLnJvbGVEYXRhIHx8IFtdOwogICAgICAgICAgICAgICAgICAgIHNlZ21lbnQgPSByb2xlRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0bSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0bS50eXBlID09PSAnc2VnbWVudCc7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgc2VnbWVudERlZmF1bHQgPSBzZWdtZW50LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uaXNEZWZhdWx0ID09PSAxOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZWdtZW50cyA9IHNlZ21lbnQ7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczQuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkIHx8IF90aGlzNC4kcm91dGUucGFyYW1zLmlkID09PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZ21lbnREZWZhdWx0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnB1cmNoYXNlRGVwb3NpdC5zZWdtZW50ID0gc2VnbWVudERlZmF1bHRbMF07CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJvbGVUeXBlID09PSAxKSB7CiAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNlZ21lbnRzID0gW107CiAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc0hhbmRsZXIuZ2V0U2VnKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5zaG93TG9hZGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNlZ21lbnRzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFByZWZpeDogZnVuY3Rpb24gbG9hZFByZWZpeCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBwcmVmaXhIYW5kbGVyLmdldCgicHVyY2hhc2UgZGVwb3NpdCIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnRyYW5zYWN0aW9uVHlwZXMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNS50cmFuc2FjdGlvblR5cGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUucHVyY2hhc2VEZXBvc2l0LnRyYW5zYWN0aW9uVHlwZSA9IF90aGlzNS50cmFuc2FjdGlvblR5cGVzWzBdOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmdlbmVyYXRlTnVtYmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQWNjb3VudDogZnVuY3Rpb24gbG9hZEFjY291bnQoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgYWNjb3VudEhhbmRsZXIuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5hY2NTdXBwbGllckRlcG9zaXQgPSByZXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYWNjb3VudF90eXBlLm51bWJlciA9PT0gOTsKICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbF9uYW1lOiBpdGVtLmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpdGVtLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICBpc190YXhhYmxlOiBpdGVtLmlzX3RheGFibGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuaGppQWNjQ29kZTogaXRlbS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX2NvZGU6IGl0ZW0uZ3JvdXBfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfYWNjb3VudDogaXRlbS5wYXJlbnRfYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2NvZGU6IGl0ZW0udHlwZV9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRfdHlwZTogaXRlbS5hY2NvdW50X3R5cGUKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmFjY0Nhc2ggPSByZXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYWNjb3VudF90eXBlLm51bWJlciA8PSA1OwogICAgICAgICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6IGl0ZW0ubG9jYWxfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGl0ZW0ubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0ZW0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5oamlBY2NDb2RlOiBpdGVtLmJhbmhqaUFjY0NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfY29kZTogaXRlbS5ncm91cF9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdGVtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfY29kZTogaXRlbS50eXBlX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudF90eXBlOiBpdGVtLmFjY291bnRfdHlwZQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNi5hY2NTdXBwbGllckRlcG9zaXQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2VEZXBvc2l0LmFjY1JlY2VpdmFibGUgPSBfdGhpczYuYWNjU3VwcGxpZXJEZXBvc2l0WzBdOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFB1cmNoYXNlT3JkZXJzOiBmdW5jdGlvbiBsb2FkUHVyY2hhc2VPcmRlcnMoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczcuc3VwcGxpZXIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgX3RoaXM3LnB1cmNoYXNlT3JkZXJzID0gW107CiAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogImJ5X3N1cHBsaWVyIiwKICAgICAgICAgICAgICAgICAgICAgICAgc3VwcGxpZXI6IF90aGlzNy5zdXBwbGllci5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIlB1cmNoYXNlIE9yZGVyIgogICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIHNhbGVPcmRlckhhbmRsZXIuc2VhcmNoKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb0RhdGEgPSBtLnR4bkRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5wdXJjaGFzZU9yZGVycy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBtLnRvdGFsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBtLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBwb0RhdGEuY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNpbWFsRm9ybWF0OiBtLmRlY2ltYWxGb3JtYXQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogcG9EYXRhLmxvY2F0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudDogcG9EYXRhLnNlZ21lbnQKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnB1cmNoYXNlT3JkZXJzLCdwdXJjaGFzZScpCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByb3dOdW1iZXJUbXBsOiBmdW5jdGlvbiByb3dOdW1iZXJUbXBsKGRhdGFJdGVtKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMucHVyY2hhc2VEZXBvc2l0RFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgYWRkUm93OiBmdW5jdGlvbiBhZGRSb3coKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMucHVyY2hhc2VEZXBvc2l0RFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHRvdGFsID0gZHMudG90YWwoKTsKICAgICAgdGhpcy5pdGVtTGluZS5pZCA9IGl0ZW1MaW5lUHJlZml4ICsgdXVpZC52MSgpOwogICAgICB0aGlzLml0ZW1MaW5lLmRlY2ltYWxGb3JtYXQgPSB0aGlzLmRlY2ltYWxGb3JtYXQ7CiAgICAgIHRoaXMuaXRlbUxpbmUub3B0aW9uVHlwZSA9IE9QVElPTl9UWVBFOwogICAgICBkcy5pbnNlcnQodG90YWwsIHRoaXMuaXRlbUxpbmUpOyAvLyB0aGlzLml0ZW1MaW5lcy5wdXNoKHRoaXMuaXRlbUxpbmUpCiAgICAgIC8vIHRoaXMuaXRlbUxpbmVzLnB1c2godGhpcy5pdGVtTGluZSlhCiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygnaXRlbSBMaW5lJywgdGhpcy5pdGVtTGluZSkKICAgIH0sCiAgICBsb2FkUGF5bWVudE9wdGlvbjogZnVuY3Rpb24gbG9hZFBheW1lbnRPcHRpb24oKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM4LnBheW1lbnRNZXRob2QgPSBbXTsKICAgICAgICAgICAgICAgICAgICBwYXltZW50T3B0aW9uSGFuZGxlci5saXN0KHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczgucGF5bWVudE1ldGhvZCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczguc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQ3VycmVuY3lEYXRhOiBmdW5jdGlvbiBsb2FkQ3VycmVuY3lEYXRhKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5SGFuZGxlci5saXN0KCJmdW4tYyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LmN1cnJlbmN5TGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gby51c2VkID09PSAxOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRUcmFuc2FjdGlvblJhdGU6IGZ1bmN0aW9uIGxvYWRUcmFuc2FjdGlvblJhdGUoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoX3RoaXMxMC50cmFuc2FjdGlvbkRhdGUpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTsKICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVuY3kgPSBfdGhpczEwLnB1cmNoYXNlRGVwb3NpdC5jdXJyZW5jeTsKICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9ICIiOwoKICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVuY3kuaGFzT3duUHJvcGVydHkoImNvZGUiKSkgewogICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGN1cnJlbmN5LmNvZGU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPT0gdW5kZWZpbmVkIHx8IGNvZGUgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5SGFuZGxlci5nZXRMYXN0RXhjaGFuZ2VSYXRlQnlEYXRlKGRhdGUsIGNvZGUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IHJlcy5kYXRhLmRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5wdXJjaGFzZURlcG9zaXQuZXhjaGFuZ2VSYXRlID0gcmVzcG9uc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5wdXJjaGFzZURlcG9zaXQudHhuUmF0ZSA9IHJlc3BvbnNlLnJhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlOiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLnB1cmNoYXNlRGVwb3NpdERTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBjb252ZXJ0ZWRBbW91bnQgPSAwLAogICAgICAgICAgYW1vdW50ID0gMDsKICAgICAgZHMuZGF0YSgpLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgaWYgKHZhbHVlLmFtb3VudCkgewogICAgICAgICAgYW1vdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KTsKICAgICAgICAgIGNvbnZlcnRlZEFtb3VudCArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCkgKiBfdGhpczExLnB1cmNoYXNlRGVwb3NpdC50eG5SYXRlOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhhbW91bnQsICJhbW91bnQiKTsKICAgICAgdGhpcy5wdXJjaGFzZURlcG9zaXQuZXhjaGFuZ2VBbW91bnQgPSBjb252ZXJ0ZWRBbW91bnQ7CiAgICAgIHRoaXMucHVyY2hhc2VEZXBvc2l0LmFtb3VudCA9IGFtb3VudDsKICAgIH0sCiAgICBkYXRhU291cmNlQ2hhbmdlZDogZnVuY3Rpb24gZGF0YVNvdXJjZUNoYW5nZWQoZSkgewogICAgICBpZiAoZS5maWVsZCkgewogICAgICAgIHZhciBkYXRhUm93ID0gZS5pdGVtc1swXSwKICAgICAgICAgICAgcE9wdGlvbiA9IHt9OwoKICAgICAgICBzd2l0Y2ggKGUuZmllbGQpIHsKICAgICAgICAgIGNhc2UgInBheW1lbnRPcHRpb24iOgogICAgICAgICAgICBwT3B0aW9uID0gZGF0YVJvdy5wYXltZW50T3B0aW9uIHx8IHt9OwogICAgICAgICAgICBkYXRhUm93LnNldCgiYWNjb3VudCIsIHBPcHRpb24uYWNjb3VudCB8fCB7fSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgaWYgKGUuZmllbGQpIHsKICAgICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG9uU2F2ZUNsb3NlOiBmdW5jdGlvbiBvblNhdmVDbG9zZShmbGFnKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHZhciBpZCwgZHMsIGQxLCBkYXRhVmFsaWRhdGU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczEyLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMTIuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWQgPSAiIjsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMi5zdXBwbGllci5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICBpZCA9IF90aGlzMTIuc3VwcGxpZXIuaWQgfHwgIiI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEoaWQgPT09ICIiKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMTIuJHNub3RpZnkuZXJyb3IoInN1cHBsaWVyIGlzIHJlcXVpcmUiKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGRzID0gX3RoaXMxMi4kcmVmcy5wdXJjaGFzZURlcG9zaXREUy5rZW5kb1dpZGdldCgpOwogICAgICAgICAgICAgICAgZDEgPSBkcy5kYXRhKCk7CiAgICAgICAgICAgICAgICBkYXRhVmFsaWRhdGUgPSAwOwogICAgICAgICAgICAgICAgZDEuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygxLCB2YWx1ZSk7CgogICAgICAgICAgICAgICAgICBpZiAodmFsdWUuYWNjb3VudCA9PSB1bmRlZmluZWQgfHwgdmFsdWUuYWNjb3VudC5pZCA9PSB1bmRlZmluZWQgfHwgdmFsdWUuYWNjb3VudC5pZCA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi4kc25vdGlmeS5lcnJvcigiUGxlYXNlIGNoZWNrIEFjY291bnQgIG9uIHJvdyAiICsgKGluZGV4ICsgMSkpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGRhdGFWYWxpZGF0ZSArPSAxOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAoZDEubGVuZ3RoID09IGRhdGFWYWxpZGF0ZSkgewogICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKCiAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUxpbmVEUyA9IF90aGlzMTIuJHJlZnMucHVyY2hhc2VEZXBvc2l0RFMua2VuZG9XaWRnZXQoKTsKCiAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YVJvdyA9IGl0ZW1MaW5lRFMuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi5hbW91bnQgPiAwOwogICAgICAgICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSXRlbUxpbmVNb2RlbChtKTsKICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyB3aW5kb3cuY29uc29sZS5sb2coMSwgZGF0YVJvdyk7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFSb3cubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNBdXRvR2VuZXJhdGUgPSAxOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTIuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuRGF0ZSA9IG5ldyBEYXRlKF90aGlzMTIudHJhbnNhY3Rpb25EYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbkRhdGVSZWNlaXB0ID0gbmV3IERhdGUoX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQudHJhbnNhY3Rpb25EYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbkRhdGVNID0gdHJhbkRhdGUuZ2V0RnVsbFllYXIoKSArIHRyYW5EYXRlLmdldE1vbnRoKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5EYXRlUmVjZWlwdE0gPSB0cmFuRGF0ZVJlY2VpcHQuZ2V0RnVsbFllYXIoKSArIHRyYW5EYXRlUmVjZWlwdC5nZXRNb250aCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhbkRhdGVNID09PSB0cmFuRGF0ZVJlY2VpcHRNKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F1dG9HZW5lcmF0ZSA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQuaWQgPyBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5pZCA6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJQdXJjaGFzZSBEZXBvc2l0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC51dWlkID8gX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQudXVpZCA6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIGpvdXJuYWxfdXVpZDogX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQuam91cm5hbF91dWlkID8gX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQuam91cm5hbF91dWlkIDogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWJicjogX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQudHJhbnNhY3Rpb25UeXBlLmFiYnIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25EYXRlOiBfdGhpczEyLnRyYW5zYWN0aW9uRGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGVUWjogSGVscGVyLnRvSVNPRGF0ZShfdGhpczEyLnRyYW5zYWN0aW9uRGF0ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwcGxpZXI6IF90aGlzMTIuc3VwcGxpZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25UeXBlOiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC50cmFuc2FjdGlvblR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUxpbmU6IGRhdGFSb3csCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25Ob3RlOiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC50cmFuc2FjdGlvbk5vdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgam91cm5hbE5vdGU6IF90aGlzMTIucHVyY2hhc2VEZXBvc2l0LmpvdXJuYWxOb3RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZU5vOiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5yZWZlcmVuY2VObywKICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IF90aGlzMTIucHVyY2hhc2VEZXBvc2l0LmFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQuY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IF90aGlzMTIucHVyY2hhc2VEZXBvc2l0LmV4Y2hhbmdlQW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFtb3VudCB0byBiYXNlIGN1cnJlbmN5CiAgICAgICAgICAgICAgICAgICAgICAgICAgdHhuUmF0ZTogX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQudHhuUmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBwdXJjaGFzZURlcG9zaXRBY2M6IF90aGlzMTIucHVyY2hhc2VEZXBvc2l0LnB1cmNoYXNlRGVwb3NpdEFjYywKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVJhdGU6IF90aGlzMTIucHVyY2hhc2VEZXBvc2l0LmV4Y2hhbmdlUmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50OiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5zZWdtZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5sb2NhdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgICBwdXJjaGFzZU9yZGVyOiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5wdXJjaGFzZU9yZGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhcHByb3ZlZEJ5OiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5hcHByb3ZlZEJ5LAogICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdGVkQnk6IF90aGlzMTIucHVyY2hhc2VEZXBvc2l0LnJlamVjdGVkQnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybVRlbXBsYXRlOiB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IF90aGlzMTIucHVyY2hhc2VEZXBvc2l0LmNyZWF0ZWRBdCwKICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZWRVc2VyOiBfdGhpczEyLmxvZ2dlZFVzZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmRnJvbTogX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQucmVmRnJvbSB8fCBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICByZWZUbzogX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQucmVmVG8gfHwgW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBdXRvR2VuZXJhdGU6IGlzQXV0b0dlbmVyYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvblR5cGU6IF90aGlzMTIuJHJvdXRlLnBhcmFtcy5pZCA/IF90aGlzMTIuJHJvdXRlLnF1ZXJ5LnR5cGUgOiAibmV3IgogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy8gd2luZG93LmNvbnNvbGUubG9nKCdkYXRhJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpCgogICAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5jcmVhdGVQdXJjaGFzZURlcG9zaXQoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLiRzbm90aWZ5LnN1Y2Nlc3MoIlN1Y2Nlc3NmdWxseSIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmbGFnID09PSAiY2xvc2UiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuY2xlYXIoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmxhZyA9PT0gIm5ldyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5jbGVhcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLnNob3dMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuJHNub3RpZnkuZXJyb3IoIlNvbWV0aGluZyB3ZW50IHdyb25nIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuZXJyb3JzLnB1c2goZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQ3VzdG9tZXJCYWxhbmNlOiBmdW5jdGlvbiBsb2FkQ3VzdG9tZXJCYWxhbmNlKGlkKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9IGlkICsgIj90eXBlPWRlcCI7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5kZXBvc2l0QmFsYW5jZSA9IDA7IC8vIHRoaXMuY3VycmVuY3lDb2RlID0gJycKCiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIuYmFsYW5jZShzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5kZXBvc2l0QmFsYW5jZSA9IGRhdGFbMF0uYmFsYW5jZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLmN1cnJlbmN5Q29kZSA9ICIgIiArIGRhdGFbMF0uY3VycmVuY3k7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRWaWV3RGVwb3NpdDogZnVuY3Rpb24gbG9hZFZpZXdEZXBvc2l0KCkgewogICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNC4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICB2YXIgX3N0ckZpbHRlciA9ICI/aWQ9IiArIF90aGlzMTQuJHJvdXRlLnBhcmFtcy5pZDsKCiAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5wdXJjaGFzZURlcG9zaXRMaXN0KF9zdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQucHVyY2hhc2VEZXBvc2l0ID0gcmVzLmRhdGEuZGF0YVswXTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5sb2FkUHVyY2hhc2VPcmRlcnMoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5kZWNpbWFsRm9ybWF0ID0gX3RoaXMxNC5wdXJjaGFzZURlcG9zaXQuZGVjaW1hbEZvcm1hdDsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LmRlcG9zaXRMaW5lID0gX3RoaXMxNC5wdXJjaGFzZURlcG9zaXQuaXRlbUxpbmVzOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc3VwcGxpZXIgPSBfdGhpczE0LnB1cmNoYXNlRGVwb3NpdC5zdXBwbGllcjsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5sb2FkQ3VzdG9tZXJCYWxhbmNlKF90aGlzMTQuc3VwcGxpZXIuaWQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnRyYW5zYWN0aW9uRGF0ZSA9IF90aGlzMTQucHVyY2hhc2VEZXBvc2l0LnRyYW5zYWN0aW9uRGF0ZTsgLy8gdGhpcy5vbkNoYW5nZSh0aGlzKQogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubnVtYmVyRm9ybWF0KHRoaXMuc2FsZURlcG9zaXQucHVyY2hhc2VPcmRlciwgJ2Ftb3VudCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5udW1iZXJGb3JtYXQodGhpcy5zYWxlRGVwb3NpdC5wdXJjaGFzZU9yZGVyLCAnY3VycmVuY3knKQogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMucHVyY2hhc2VPcmRlcnMgPSB0aGlzLnNhbGVEZXBvc2l0LnB1cmNoYXNlT3JkZXIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaW5pdERhdGE6IGZ1bmN0aW9uIGluaXREYXRhKCkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczE1LiRyb3V0ZS5wYXJhbXMuaWQgIT09IHVuZGVmaW5lZCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE1LmxvYWRWaWV3RGVwb3NpdCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF90aGlzMTUuYWRkUm93KCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVsb2FkOiBmdW5jdGlvbiByZWxvYWQoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMubG9hZFZpZXdEZXBvc2l0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jbGVhcigpOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkQWNjb3VudCgpOwogICAgdGhpcy5sb2FkQ3VycmVuY3lEYXRhKCk7CiAgfSwKICB3YXRjaDogewogICAgLy8gaWQoKSB7CiAgICAvLyAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCkgewogICAgLy8gICAgIHRoaXMuY2xlYXIoKTsKICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgIC8vICAgICB0aGlzLmxvYWRWaWV3RGVwb3NpdCgpOwogICAgLy8gICB9CiAgICAvLyB9LAogICAgJyRyb3V0ZSc6ICdyZWxvYWQnCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX21vdW50ZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkUHJlZml4KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkTG9jYXRpb24oKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRTZWdtZW50KCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkUGF5bWVudE9wdGlvbigpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIHRoaXMucmVxdWVzdERhdGEoMCwgdGhpcy5maWx0ZXIsIHRoaXMuY3VzQmFzZVVybCk7CiAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdERhdGEoKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTEzLCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICByZXR1cm4gX21vdW50ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gbW91bnRlZDsKICB9KCksCiAgY29tcHV0ZWQ6IHsKICAgIGRpc2FibGVNZTogZnVuY3Rpb24gZGlzYWJsZU1lKCkgewogICAgICByZXR1cm4gISF0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICB9LAogICAgYW1vdW50TGluZUhlYWRlclRlbXBsYXRlOiBmdW5jdGlvbiBhbW91bnRMaW5lSGVhZGVyVGVtcGxhdGUoKSB7CiAgICAgIGlmICh0aGlzLnB1cmNoYXNlRGVwb3NpdCkgewogICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnB1cmNoYXNlRGVwb3NpdC5jdXJyZW5jeSkKICAgICAgICBpZiAodGhpcy5wdXJjaGFzZURlcG9zaXQuaGFzT3duUHJvcGVydHkoImN1cnJlbmN5IikpIHsKICAgICAgICAgIHZhciBjdXJyZW5jeSA9IHRoaXMucHVyY2hhc2VEZXBvc2l0LmN1cnJlbmN5Lmhhc093blByb3BlcnR5KCJjb2RlIikgPyB0aGlzLnB1cmNoYXNlRGVwb3NpdC5jdXJyZW5jeS5jb2RlIDogIiI7CgogICAgICAgICAgaWYgKGN1cnJlbmN5KSB7CiAgICAgICAgICAgIHJldHVybiAiQW1vdW50ICgiICsgY3VycmVuY3kgKyAiKSI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gIkFtb3VudCI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gIkFtb3VudCI7CiAgICB9LAogICAgLy8gc2VnbWVudCgpIHsKICAgIC8vICAgaWYgKHRoaXMucHVyY2hhc2VEZXBvc2l0KSB7CiAgICAvLyAgICAgaWYgKHRoaXMucHVyY2hhc2VEZXBvc2l0LnB1cmNoYXNlT3JkZXIpIHsKICAgIC8vICAgICAgIGlmICh0aGlzLnB1cmNoYXNlRGVwb3NpdC5wdXJjaGFzZU9yZGVyLmhhc093blByb3BlcnR5KCdzZWdtZW50JykpIHsKICAgIC8vICAgICAgICAgaWYgKHRoaXMucHVyY2hhc2VEZXBvc2l0LnB1cmNoYXNlT3JkZXIuaGFzT3duUHJvcGVydHkoJ2lkJykpIHsKICAgIC8vICAgICAgICAgICByZXR1cm4gdGhpcy5wdXJjaGFzZURlcG9zaXQucHVyY2hhc2VPcmRlci5zZWdtZW50Lm5hbWUKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfQogICAgLy8gICAgIH0KICAgIC8vICAgfQogICAgLy8gICByZXR1cm4gJycKICAgIC8vIH0sCiAgICAvLyBsb2NhdGlvbigpIHsKICAgIC8vICAgaWYgKHRoaXMucHVyY2hhc2VEZXBvc2l0KSB7CiAgICAvLyAgICAgaWYgKHRoaXMucHVyY2hhc2VEZXBvc2l0LnB1cmNoYXNlT3JkZXIpIHsKICAgIC8vICAgICAgIGlmICh0aGlzLnB1cmNoYXNlRGVwb3NpdC5wdXJjaGFzZU9yZGVyLmhhc093blByb3BlcnR5KCdsb2NhdGlvbicpKSB7CiAgICAvLyAgICAgICAgIGlmICh0aGlzLnB1cmNoYXNlRGVwb3NpdC5wdXJjaGFzZU9yZGVyLmxvY2F0aW9uLmhhc093blByb3BlcnR5KCdpZCcpKSB7CiAgICAvLyAgICAgICAgICAgcmV0dXJuIHRoaXMucHVyY2hhc2VEZXBvc2l0LnB1cmNoYXNlT3JkZXIubG9jYXRpb24ubmFtZQogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfQogICAgLy8gICB9CiAgICAvLyAgIHJldHVybiAnJwogICAgLy8gfSwKICAgIHZhbGlkU3VwcGxpZXI6IGZ1bmN0aW9uIHZhbGlkU3VwcGxpZXIoKSB7CiAgICAgIHZhciBzdXBwbGllciA9IHRoaXMuc3VwcGxpZXI7CiAgICAgIHJldHVybiBzdXBwbGllci5pZCAhPT0gdW5kZWZpbmVkICYmIHN1cHBsaWVyLmlkICE9PSBudWxsOwogICAgfSwKICAgIGhpZGRlbkJ1dHRvbjogZnVuY3Rpb24gaGlkZGVuQnV0dG9uKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["PurchaseDeposits.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\"\n                    >\n                        <v-row>\n                            <v-col\n                                class=\"bigSide pr-2 py-0\"\n                                sm=\"8\"\n                                cols=\"12\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_big_bar_class: isHideBar }\"\n                            >\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">{{ $t(\"purchase_deposit\") }}</h2>\n                                        <v-icon\n                                            v-if=\"isHideBar\"\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                        <span\n                                            style=\"transition: .3s ease-in; z-index:10;\"\n                                            :class=\"{\n                        iconArrow: !isHideBar,\n                        iconArrowHide: isHideBar,\n                      }\"\n                                        >\n                      <v-icon\n                          size=\"22\"\n                          class=\"arr_icon\"\n                          @click=\"hideSmallSiteBar\"\n                          v-if=\"isHideBar\"\n                      >\n                        mdi-chevron-left-circle\n                      </v-icon>\n                      <v-icon\n                          size=\"22\"\n                          class=\"arr_icon\"\n                          @click=\"hideSmallSiteBar\"\n                          v-if=\"!isHideBar\"\n                      >\n                        mdi-chevron-right-circle\n                      </v-icon>\n                    </span>\n                                    </v-card>\n                                    <v-card\n                                        outlined\n                                        dense\n                                        class=\"px-3 rounded-4 no_border mb-3\"\n                                        color=\"grayBg\"\n                                    >\n                                        <v-row>\n                                            <v-col sm=\"5\" cols=\"12\" class=\"pb-0 px-4 pt-4\">\n                                                <label class=\"label  mb-0\">{{ $t(\"supplier\") }}</label>\n                                                <div class=\"kendo_dropdown_custom mt-1 pb-3\">\n                                                    <dropdownlist\n                                                        :data-items=\"supplierList\"\n                                                        @change=\"onChange\"\n                                                        :value=\"supplier\"\n                                                        :data-item-key=\"dataItemKey\"\n                                                        :text-field=\"textField\"\n                                                        :default-item=\"defaultItem\"\n                                                        :filterable=\"true\"\n                                                        :disabled=\"disableMe\"\n                                                        @filterchange=\"onFilterChange\"\n                                                        :required=\"true\"\n                                                        :valid=\"validSupplier\">\n                                                    </dropdownlist>\n                                                </div>\n                                                <label class=\"label  mb-0\">{{ $t(\"date\") }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"transactionDate\"\n                                                    :disabled=\"disableMe\"\n                                                    @emitDate=\"transactionDate = $event\"\n                                                />\n                                                <label class=\"label mb-0\">{{ $t(\"number\") }}</label>\n                                                <v-row class=\"mt-1 mr-0\">\n                                                    <v-col sm=\"3\" cols=\"3\" class=\"py-0 pr-0\">\n                                                        <div class=\"code_text text-bold\">\n                                                            {{ purchaseDeposit.transactionType.abbr }}\n                                                        </div>\n                                                    </v-col>\n                                                    <v-col sm=\"7\" cols=\"7\" class=\"py-0 pl-0\">\n                                                        <v-text-field\n                                                            class=\" custom-border \"\n                                                            v-model=\"purchaseDeposit.number\"\n                                                            outlined\n                                                            readonly\n                                                            tage=\"Number\"\n                                                            :rules=\"[(v) => !!v || 'Number is required']\"\n                                                            required\n                                                        />\n                                                    </v-col>\n                                                    <v-col sm=\"2\" cols=\"2\" class=\"py-0 px-0\">\n                                                        <v-icon\n                                                            color=\"black\"\n                                                            size=\"30\"\n                                                            class=\"border_qrcode\"\n                                                            @click=\"generateNumber\"\n                                                            :disabled=\"disableMe\"\n                                                        >mdi-qrcode\n                                                        </v-icon>\n                                                    </v-col>\n                                                </v-row>\n                                                <label class=\"label mb-0\">{{\n                                                        $t(\"transaction_currency\")\n                                                    }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    v-model=\"purchaseDeposit.currency\"\n                                                    :items=\"currencyList\"\n                                                    @change=\"loadTransactionRate\"\n                                                    item-value=\"id\"\n                                                    :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                    return-object\n                                                    :rules=\"[(v) => !!v['id'] || 'is required']\"\n                                                    tage=\"Transaction Currency\"\n                                                    placeholder=\"Currency\"\n                                                    outlined\n                                                />\n                                            </v-col>\n                                            <v-col sm=\"7\" cosl=\"12\" class=\"px-4 pt-4\">\n                                                <v-row>\n                                                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                        <v-row>\n                                                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                                <p class=\"mb-1 pt-0 d-block\">\n                                                                    {{ $t(\"current_deposit_balance\") }}\n                                                                </p>\n                                                                <h3 class=\"color_green float-right\">\n                                                                    {{ amountFormat(depositBalance) }}\n                                                                    {{ currencyCode }}\n                                                                </h3>\n                                                            </v-col>\n                                                        </v-row>\n                                                    </v-col>\n                                                    <v-col sm=\"12\" cols=\"12\" class=\"py-1 pl-0 \">\n                                                        <v-card\n                                                            outlined\n                                                            dense\n                                                            class=\"no_border px-3 mt-3\"\n                                                            color=\"white\"\n                                                        >\n                                                            <v-row>\n                                                                <v-col sm=\"12\" cols=\"12\" class=\"py-0 pt-4\">\n                                                                    <label class=\"label mb-0\">{{\n                                                                            $t(\"deposit_to_account\")\n                                                                        }}</label>\n                                                                    <v-select\n                                                                        class=\"mt-1\"\n                                                                        v-model=\"purchaseDeposit.purchaseDepositAcc\"\n                                                                        :items=\"accSupplierDeposit\"\n                                                                        :disabled=\"true\"\n                                                                        :rules=\"[(v) => !!v || 'Term  is required']\"\n                                                                        item-value=\"id\"\n                                                                        :item-text=\"\n                                      (item) => `${item.number} - ${item.name}`\n                                    \"\n                                                                        return-object\n                                                                        placeholder=\"Account Deposit\"\n                                                                        tage=\"Account Deposit\"\n                                                                        outlined\n                                                                    />\n                                                                    <label class=\"label mb-0\">{{\n                                                                            $t(\"purchase_order\")\n                                                                        }}</label>\n                                                                    <v-select\n                                                                        class=\"mt-1\"\n                                                                        v-model=\"purchaseDeposit.purchaseOrder\"\n                                                                        :items=\"purchaseOrders\"\n                                                                        @change=\"onPOChanged\"\n                                                                        item-value=\"id\"\n                                                                        item-text=\"number\"\n                                                                        return-object\n                                                                        clearable\n                                                                        tage=\"Purchase Order\"\n                                                                        placeholder=\"Purchase Order\"\n                                                                        outlined\n                                                                    />\n                                                                </v-col>\n                                                                <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                                    <v-row>\n                                                                        <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                                            <label class=\"label mb-0\">{{\n                                                                                    $t(\"amount\")\n                                                                                }}</label>\n                                                                            <p class=\"mt-3\">\n                                                                                {{\n                                                                                    numberFormat(\n                                                                                        purchaseDeposit.purchaseOrder,\n                                                                                        \"amount\"\n                                                                                    )\n                                                                                }}\n                                                                            </p>\n                                                                        </v-col>\n                                                                        <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                                            <label class=\"label mb-0\">{{\n                                                                                    $t(\"currency\")\n                                                                                }}</label>\n                                                                            <p class=\"mt-3\">\n                                                                                {{\n                                                                                    numberFormat(\n                                                                                        purchaseDeposit.purchaseOrder,\n                                                                                        \"currency\"\n                                                                                    )\n                                                                                }}\n                                                                            </p>\n                                                                        </v-col>\n                                                                    </v-row>\n                                                                </v-col>\n                                                            </v-row>\n                                                        </v-card>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-card outlined dense class=\"no_border\" color=\"white\">\n                                        <v-row>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                <kendo-datasource\n                                                    ref=\"purchaseDepositDS\"\n                                                    :change=\"dataSourceChanged\"\n                                                    :data=\"depositLine\"\n                                                />\n                                                <kendo-grid\n                                                    id=\"gridPurchaseDeposit\"\n                                                    class=\"grid-function\"\n                                                    :data-source-ref=\"'purchaseDepositDS'\"\n                                                    :sortable=\"false\"\n                                                    :filterable=\"false\"\n                                                    :column-menu=\"true\"\n                                                    :editable=\"true\"\n                                                    :scrollable-virtual=\"true\">\n                                                    <kendo-grid-column\n                                                        :command=\"{\n                              iconClass: 'k-icon k-i-trash',\n                              text: ' ',\n                              click: removeRow,\n                              class: 'btn-plus',}\"\n                                                        :title=\"''\"\n                                                        :width=\"63\"\n                                                        :headerAttributes=\"{ style: 'text-align: right; background-color: #EDF1F5',}\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :title=\"$t('no.')\"\n                                                        :width=\"53\"\n                                                        :template=\"rowNumberTmpl\"\n                                                        :column-menu=\"false\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5;',\n                              class: 'text-products',}\"\n                                                        :attributes=\"{ style: 'text-align: products' }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'paymentOption'\"\n                                                        :title=\"$t('payment_option')\"\n                                                        :width=\"250\"\n                                                        :template=\"methodTemplate\"\n                                                        :editor=\"PaymentOptionEditor\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'account'\"\n                                                        :title=\"$t('account')\"\n                                                        :width=\"200\"\n                                                        :template=\"accountTemplate\"\n                                                        :editor=\"accountDropDownEditor\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'description'\"\n                                                        :title=\"$t('description')\"\n                                                        :width=\"200\"\n                                                        :template=\"'<span>#=description#</span>'\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n\n                                                    <kendo-grid-column\n                                                        :field=\"'amount'\"\n                                                        :title=\"$t('amount')\"\n                                                        :format=\"'{0:n}'\"\n                                                        :width=\"200\"\n                                                        :template=\"amountTemplate\"\n                                                        :headerTemplate=\"amountLineHeaderTemplate\"\n                                                        :editor=\"amountEditor\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: right' }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'refNo'\"\n                                                        :title=\"$t('payment_ref')\"\n                                                        :format=\"'{0:n}'\"\n                                                        :width=\"200\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: right' }\"\n                                                    />\n                                                </kendo-grid>\n                                            </v-col>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n                                                <v-btn\n                                                    class=\"float-left btn_plus white--text mr-2\"\n                                                    color=\"primary\"\n                                                    @click=\"addRow\"\n                                                >\n                                                    <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                                </v-btn>\n                                            </v-col>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                <v-row>\n                                                    <v-col class=\"pt-0\" sm=\"7\" cols=\"12\">\n                                                        <v-card\n                                                            class=\"no-boxshadow rounded-4 pa-3\"\n                                                            color=\"grayBg\"\n                                                            height=\"138px\"\n                                                        >\n                                                            <v-row>\n                                                                <v-col class=\"py-0\" sm=\"6\" cols=\"12\">\n                                                                    <label>{{ $t(\"message_on_deposit\") }}</label>\n                                                                    <v-textarea\n                                                                        class=\"mt-1\"\n                                                                        no-resize\n                                                                        height=\"90px\"\n                                                                        v-model=\"purchaseDeposit.transactionNote\"\n                                                                        outlined\n                                                                        clearable\n                                                                        rows=\"3\"\n                                                                        placeholder=\"This will appear on the deposit\"\n                                                                    />\n                                                                </v-col>\n                                                                <v-col class=\"py-0\" sm=\"6\" cols=\"12\">\n                                                                    <label>{{ $t(\"message_for_journal\") }}</label>\n                                                                    <v-textarea\n                                                                        class=\"mt-1\"\n                                                                        no-resize\n                                                                        height=\"90px\"\n                                                                        outlined\n                                                                        v-model=\"purchaseDeposit.journalNote\"\n                                                                        clearable\n                                                                        rows=\"3\"\n                                                                        placeholder=\"This will appear on the journal\"\n                                                                    />\n                                                                </v-col>\n                                                            </v-row>\n                                                        </v-card>\n                                                    </v-col>\n                                                    <v-col sm=\"5\" cols=\"12\" class=\"pt-1 pb-0\">\n                                                        <v-simple-table>\n                                                            <template v-slot:default>\n                                                                <tbody>\n                                                                <tr>\n                                                                    <td class=\"text-left text-uppercase\">\n                                                                        {{ $t(\"total\") }}\n                                                                    </td>\n                                                                    <td class=\"text-center\">:</td>\n                                                                    <td class=\"text-left color_green text-bold\">\n                                                                        {{\n                                                                            amountFormat(\n                                                                                purchaseDeposit.exchangeAmount\n                                                                            )\n                                                                        }}\n                                                                    </td>\n                                                                </tr>\n                                                                </tbody>\n                                                            </template>\n                                                        </v-simple-table>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-divider/>\n                                    <v-card outlined dense class=\"no_border function_footer\">\n                                        <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                                            <span v-html=\"errorMessage\"/>\n                                        </v-alert>\n                                        <v-menu>\n                                            <template v-slot:activator=\"{ on }\">\n                                                <v-btn\n                                                    class=\"text-capitalize  black--text float-left mr-2\"\n                                                    v-on=\"on\"\n                                                >\n                                                    {{ $t(\"select_template\") }}\n                                                    <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                                </v-btn>\n                                            </template>\n                                            <v-list>\n                                                <v-list-item\n                                                    v-for=\"(item, index) in templates\"\n                                                    :key=\"index\"\n                                                >\n                                                    <v-list-item-title>{{\n                                                            item.title\n                                                        }}\n                                                    </v-list-item-title>\n                                                </v-list-item>\n                                            </v-list>\n                                        </v-menu>\n                                        <v-btn\n                                            color=\"primary\"\n                                            outlined\n                                            class=\" text-capitalize  black--text float-left mr-2\"\n                                            @click=\"cancel\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <!--                    <v-menu>-->\n                                        <!--                      <template v-slot:activator=\"{ on }\">-->\n                                        <!--                        <v-btn color=\"primary\"-->\n                                        <!--                               class=\"ml-2 float-right  text-capitalize white&#45;&#45;text\" v-on=\"on\">-->\n                                        <!--                          {{ $t('save_option') }}-->\n                                        <!--                          <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>-->\n                                        <!--                        </v-btn>-->\n                                        <!--                      </template>-->\n                                        <!--                      <v-list rounded>-->\n                                        <!--                        <v-list-item-group>-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title @click=\"onSaveClose('new')\">-->\n                                        <!--                                {{ $t('save_new') }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                          &lt;!&ndash;                                                    <v-list-item>&ndash;&gt;-->\n                                        <!--                          &lt;!&ndash;                                                        <v-list-item-content>&ndash;&gt;-->\n                                        <!--                          &lt;!&ndash;                                                            <v-list-item-title @click=\"savePrint\">{{ $t('save_print') }}&ndash;&gt;-->\n                                        <!--                          &lt;!&ndash;                                                            </v-list-item-title>&ndash;&gt;-->\n                                        <!--                          &lt;!&ndash;                                                        </v-list-item-content>&ndash;&gt;-->\n                                        <!--                          &lt;!&ndash;                                                    </v-list-item>&ndash;&gt;-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title>{{-->\n                                        <!--                                  $t('save_draft')-->\n                                        <!--                                }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                        </v-list-item-group>-->\n                                        <!--                      </v-list>-->\n                                        <!--                    </v-menu>-->\n                                        <v-btn\n                                            color=\"primary\"\n                                            @click=\"onSaveClose('close')\"\n                                            class=\"float-right white--text text-capitalize \"\n                                        >\n                                            {{ $t(\"save_close\") }}\n                                        </v-btn>\n                                        <v-btn color=\"secondary\"\n                                               style=\"margin-right: 10px !important\"\n                                               class=\"white--text float-right text-capitalize\"\n                                               @click=\"onSaveClose('new')\" :hidden=\"hiddenButton\">{{ $t(\"save_new\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-form>\n                            </v-col>\n                            <v-col\n                                class=\"smallSide pl-2 pt-0\"\n                                sm=\"4\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_small_bar_class: isHideBar }\"\n                            >\n                                <div class=\"d-flex justify-end\">\n                                    <h3\n                                        style=\"color: #b3b5bc; font-size:20px;\"\n                                        v-if=\"!isHideBar\"\n                                        class=\"text-uppercase\"\n                                    >\n                    <span class=\"pointer\" @click=\"Help('purchase deposit')\">\n                      {{ $t(\"help\") }}\n                    </span>\n                                        <v-icon\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"float-right mt-n1\"\n                                        >close\n                                        </v-icon>\n                                    </h3>\n                                </div>\n\n                                <div v-if=\"!isHideBar\" class=\"small_sidebar mt-2 px-4 grayBg\">\n                                    <v-card outlined dense class=\"pa-3 no_border my_card rounded-4 white--text\"\n                                            color=\"primary\" height=\"60px\">\n                                        <h3 class=\"text-left font_13 flex-1 text-uppercase\">{{\n                                                $t('amount_deposit')\n                                            }}</h3>\n                                        <h3 class=\"text-right flex-1 font_20 niradei_heavy\">\n                                            {{ amountFormat(purchaseDeposit.exchangeAmount) }} </h3>\n                                    </v-card>\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\">\n                                            <v-row>\n                                                <v-col sm=\"12\" cols=\"12\" class=\"pt-2\">\n                                                    <v-row>\n                                                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0 pt-0\">\n                                                            <label class=\"label\">{{ $t(\"segment\") }}</label>\n                                                            <!--                              <h4 class=\"text-bold py-1\">{{ segment }}</h4>-->\n                                                            <v-select\n                                                                class=\"mt-1\"\n                                                                v-model=\"purchaseDeposit.segment\"\n                                                                :items=\"segments\"\n                                                                item-value=\"id\"\n                                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                                return-object\n                                                                :rules=\"[(v) => !!v['id']|| 'Segment is required']\"\n                                                                outlined=\"\"\n                                                            />\n                                                        </v-col>\n                                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                            <label class=\"label\">{{ $t(\"location\") }}</label>\n                                                            <!--                              <h4 class=\"text-bold py-1\">{{ location }}</h4>-->\n                                                            <v-select\n                                                                class=\"mt-1\"\n                                                                v-model=\"purchaseDeposit.location\"\n                                                                :items=\"locations\"\n                                                                item-value=\"id\"\n                                                                :rules=\"[(v) => !!v['id']|| 'Location is required']\"\n                                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                                return-object\n                                                                outlined=\"\"\n                                                            />\n                                                        </v-col>\n                                                    </v-row>\n\n                                                    <!--                                                    <label class=\"label font_14\">{{ $t('project') }}</label>-->\n                                                    <!--                                                    <label-->\n                                                    <!--                                                        class=\"label text-bold text-uppercase font_14\">{{-->\n                                                    <!--                                                            $t('tnc_to_be_added')-->\n                                                    <!--                                                        }}</label>-->\n                                                    <!--                                                    <v-select class=\" mt-1\"-->\n                                                    <!--                                                              :items=\"transaction\"-->\n                                                    <!--                                                              tage=\"Transactions to be added\"-->\n                                                    <!--                                                              :rules=\"[v => !!v || 'Payble Account is required']\"-->\n                                                    <!--                                                              return-object-->\n                                                    <!--                                                              outlined-->\n                                                    <!--                                                    >-->\n                                                    <!--                                                        <template v-slot:item=\"{ item }\">-->\n                                                    <!--                                                            <p class=\"d-block text-center\">{{ item.id }}.-->\n                                                    <!--                                                                {{ item.name }}</p>-->\n                                                    <!--                                                            <br>-->\n                                                    <!--                                                            <div class=\"item_list d-flex\">-->\n                                                    <!--                                                                <span>-->\n                                                    <!--                                                                    {{ item.no }}-->\n                                                    <!--                                                                </span>-->\n                                                    <!--                                                                <v-btn>{{ $t('add') }}</v-btn>-->\n                                                    <!--                                                            </div>-->\n                                                    <!--                                                        </template>-->\n                                                    <!--                                                    </v-select>-->\n\n                                                    <!--                                                    <v-row>-->\n                                                    <!--                                                        <label class=\"text-bold ml-9 mt-2\" style=\"font-size: 12px;\">1.-->\n                                                    <!--                                                            {{ $t('sale_quote') }}</label>-->\n                                                    <!--                                                        <v-col sm=\"9\" cols=\"9\" class=\"py-0 pr-0\">-->\n                                                    <!--                                                            <v-card outlined-->\n                                                    <!--                                                                    class=\"px-3 py-1 text-white no-boxshadow no_border justify-left d-flex\"-->\n                                                    <!--                                                                    style=\"background-color: #92d050; height: 30px\">-->\n                                                    <!--                                                                <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>-->\n                                                    <!--                                                                <p class=\"mb-0\" style=\"width: 100%\">-->\n                                                    <!--                                                                    <span class=\"pl-3 float-left\">No. 00224</span>-->\n                                                    <!--                                                                    <span class=\"float-right\">2,500.00</span>-->\n                                                    <!--                                                                </p>-->\n                                                    <!--                                                            </v-card>-->\n                                                    <!--                                                        </v-col>-->\n                                                    <!--                                                        <v-col sm=\"3\" cols=\"3\" class=\"py-0  pl-1\">-->\n                                                    <!--                                                            <v-btn-->\n                                                    <!--                                                                class=\"text-white text-bold rounded-0 float-right text-uppercase\"-->\n                                                    <!--                                                                style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\">-->\n                                                    <!--                                                                {{ $t('add') }}-->\n                                                    <!--                                                            </v-btn>-->\n                                                    <!--                                                        </v-col>-->\n                                                    <!--                                                    </v-row>-->\n                                                    <!--                                                    <v-row>-->\n                                                    <!--                                                        <label class=\"text-bold ml-9\" style=\"font-size: 12px;\">2.-->\n                                                    <!--                                                            {{ $t('sale_quote') }}</label>-->\n                                                    <!--                                                        <v-col sm=\"9\" cols=\"9\" class=\"py-0 pr-0\">-->\n                                                    <!--                                                            <v-card outlined-->\n                                                    <!--                                                                    class=\"px-3 py-1 text-white no-boxshadow no_border justify-left d-flex\"-->\n                                                    <!--                                                                    style=\"background-color: #92d050; height: 30px\">-->\n                                                    <!--                                                                <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>-->\n                                                    <!--                                                                <p class=\"mb-0\" style=\"width: 100%\">-->\n                                                    <!--                                                                    <span class=\"pl-3 float-left\">No. 00224</span>-->\n                                                    <!--                                                                    <span class=\"float-right\">2,500.00</span>-->\n                                                    <!--                                                                </p>-->\n                                                    <!--                                                            </v-card>-->\n                                                    <!--                                                        </v-col>-->\n                                                    <!--                                                        <v-col sm=\"3\" cols=\"3\" class=\"py-0  pl-1\">-->\n                                                    <!--                                                            <v-btn-->\n                                                    <!--                                                                class=\"text-white text-bold rounded-0 float-right text-uppercase\"-->\n                                                    <!--                                                                style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\">-->\n                                                    <!--                                                                {{ $t('add') }}-->\n                                                    <!--                                                            </v-btn>-->\n                                                    <!--                                                        </v-col>-->\n                                                    <!--                                                    </v-row>-->\n                                                    <!--                                                    <v-row>-->\n                                                    <!--                                                        <label class=\"text-bold ml-9 mt-2\" style=\"font-size: 12px;\">4.-->\n                                                    <!--                                                            {{ $t('sale_quote') }}</label>-->\n                                                    <!--                                                        <v-col sm=\"9\" cols=\"9\" class=\"py-0 pr-0\">-->\n                                                    <!--                                                            <v-card outlined-->\n                                                    <!--                                                                    class=\"px-3 py-1 text-white no-boxshadow no_border justify-left d-flex\"-->\n                                                    <!--                                                                    style=\"background-color: #92d050; height: 30px\">-->\n                                                    <!--                                                                <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>-->\n                                                    <!--                                                                <p class=\"mb-0\" style=\"width: 100%\">-->\n                                                    <!--                                                                    <span class=\"pl-3 float-left\">No. 00224</span>-->\n                                                    <!--                                                                    <span class=\"float-right\">2,500.00</span>-->\n                                                    <!--                                                                </p>-->\n                                                    <!--                                                            </v-card>-->\n                                                    <!--                                                        </v-col>-->\n                                                    <!--                                                        <v-col sm=\"3\" cols=\"3\" class=\"py-0  pl-1\">-->\n                                                    <!--                                                            <v-btn-->\n                                                    <!--                                                                class=\"text-white text-bold rounded-0 float-right text-uppercase\"-->\n                                                    <!--                                                                style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\">-->\n                                                    <!--                                                                {{ $t('add') }}-->\n                                                    <!--                                                            </v-btn>-->\n                                                    <!--                                                        </v-col>-->\n                                                    <!--                                                    </v-row>-->\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n\n                                    <p class=\"mb-0 detial_smallside_p pr-4 font_14\">\n                                        {{ $t(\"purchase_deposit_desc\") }}\n                                    </p>\n                                </div>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe :isLoading=\"showLoading\" :fullPage=\"false\" :myLoading=\"true\"/>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport {i18n} from \"@/i18n\";\nimport kendo from \"@progress/kendo-ui\";\nimport PurchaseDepositModel from \"@/scripts/purchase_deposit/model/PurchaseDeposit\";\nimport {DropDownList} from \"@progress/kendo-vue-dropdowns\";\nimport {uuid} from \"vue-uuid\";\nimport ItemLineModel from \"@/scripts/purchase_deposit/model/ItemLine\";\nimport {dataStore, ShowResource} from \"@/observable/store\";\nimport PaymentOptionEditor from \"@/scripts/kendo_editor/PaymentOptionEditor\";\nimport Helper from \"@/helper\";\n\nconst saleOrderHandler = require(\"@/scripts/transactionHandler\");\nconst supplierHandler = require(\"@/scripts/supplierHandler\");\n\nconst locationHandler = require(\"@/scripts/locationHandler\");\nconst settingsHandler = require(\"@/scripts/settingsHandler\");\nconst purchaseDepositModel = new PurchaseDepositModel({});\nconst prefixHandler = require(\"@/scripts/prefixHandler\");\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\nconst accountHandler = require(\"@/scripts/handler/accounting/account\");\nconst itemLineModel = new ItemLineModel({});\nconst $ = kendo.jQuery\nconst paymentOptionHandler = require(\"@/scripts/paymentOptionHandler\");\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\");\n\nconst defaultItem = {[\"numberName\"]: \"Select vendor...\", [\"id\"]: null};\nconst emptyItem = {[\"numberName\"]: \"loading ...\"};\nconst itemLinePrefix = \"lin-\";\nconst OPTION_TYPE = \"Supplier\";\nconst strFilter = \"?optionType=\" + OPTION_TYPE;\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\nexport default {\n    name: \"PurchaseDeposit\",\n    props: [\"id\"],\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n        \"app-datepicker\": () => import(`@/components/custom_templates/DatePickerComponent`),\n        dropdownlist: DropDownList,\n    },\n    data: () => ({\n        isEdit: false,\n        showLoading: false,\n        alert: false,\n        files: [],\n        segments: [],\n        locations: [],\n        purchaseDeposit: purchaseDepositModel,\n        itemLine: itemLineModel,\n        supplierList: [],\n        supplier: {},\n        textField: \"numberName\",\n        defaultItem: defaultItem,\n        dataItemKey: \"id\",\n        filter: \"\",\n        cusBaseUrl: supplierHandler.search(),\n        transactionTypes: [],\n        accSupplierDeposit: [],\n        paymentMethod: [],\n        purchaseOrders: [],\n        saleOrderAmount: 0,\n        saleOrderCurrency: \"\",\n        currencyCode: \"\",\n        accCash: [],\n        depositLine: [],\n        currencyList: [],\n        decimalFormat: \"n2\",\n        depositBalance: 0,\n        valid: true,\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email,\n        },\n        transactionDate: new Date().toISOString().substr(0, 10),\n        templates: [\n            {title: \"Purchase Deposit\", value: \"Purchase Deposit\"},\n        ],\n        isHideBar: false,\n        PaymentOptionEditor: PaymentOptionEditor,\n        refFrom: [],\n        refTo: [],\n    }),\n    methods: {\n        onPOChanged() {\n            if (this.purchaseDeposit) {\n                if (this.purchaseDeposit.purchaseOrder) {\n                    const saleOrder = this.purchaseDeposit.purchaseOrder || {};\n                    const segment = saleOrder.segment || {};\n                    const location = saleOrder.location || {};\n                    this.purchaseDeposit.segment = segment;\n                    this.purchaseDeposit.location = location;\n                    this.refFrom.push({\n                        id: saleOrder.id || '',\n                        reference: saleOrder.number || ''\n                    })\n                }\n                this.purchaseDeposit.refFrom = this.refFrom\n            }\n        },\n        Help(key_search) {\n            ShowResource(key_search);\n        },\n        saveNew() {\n        },\n        removeRow(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#gridPurchaseDeposit\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n            }\n        },\n        numberFormat(obj, type) {\n            if (obj) {\n                // this.purchaseDeposit.location = obj.hasOwnProperty('location') ? obj.location : {}\n                // this.purchaseDeposit.segment = obj.hasOwnProperty('segment') ? obj.segment : {}\n                if (type === \"amount\") {\n                    const value = obj.hasOwnProperty(\"amount\") ? obj.amount : 0;\n                    const decimalFormat = obj.hasOwnProperty(\"decimalFormat\")\n                        ? obj.decimalFormat\n                        : `n2`;\n                    return kendo.toString(parseFloat(value), decimalFormat);\n                } else if (type === \"currency\") {\n                    const currency = obj.hasOwnProperty(\"currency\") ? obj.currency : \"\";\n                    return currency.code;\n                }\n            }\n            return \"-\";\n        },\n        amountFormat(value) {\n            return kendo.toString(parseFloat(value), `${this.decimalFormat}`);\n        },\n        generateNumber() {\n            if (this.$route.params.id) {\n                const tranDate = new Date(this.transactionDate);\n                const tranDateInvoice = new Date(this.purchaseDeposit.transactionDate);\n                const tranDateM = tranDate.getFullYear() + tranDate.getMonth();\n                const tranDateInvoiceM =\n                    tranDateInvoice.getFullYear() + tranDateInvoice.getMonth();\n                if (tranDateM === tranDateInvoiceM) {\n                    this.purchaseDeposit.referenceNo = this.referenceNo;\n                    return;\n                }\n            }\n\n            if (this.transactionDate !== \"\" && this.transactionTypes.length > 0) {\n                let data = {\n                    abbr: this.purchaseDeposit.transactionType.abbr,\n                    structure: this.purchaseDeposit.transactionType.structure,\n                    transactionDate: this.transactionDate,\n                    sequcencing: this.purchaseDeposit.transactionType.sequcencing,\n                    prefixSeparator: this.purchaseDeposit.transactionType.prefixSeparator || '',\n                    numberSeparator: this.purchaseDeposit.transactionType.numberSeparator || '',\n                    format: this.purchaseDeposit.transactionType.format || 5,\n                    type: \"Purchase Deposit\",\n                    entity: 1,\n                };\n                billingHandler\n                    .lastNumber(data)\n                    .then((response) => {\n                        if (response.data.statusCode === 200) {\n                            const res = response.data.data;\n                            const lastNumber = this.zeroPad(\n                                parseInt(res.lastNumber),\n                                this.purchaseDeposit.transactionType.format\n                            );\n                            this.purchaseDeposit.number =\n                                res.suffix +\n                                this.purchaseDeposit.transactionType.numberSeparator +\n                                lastNumber;\n                        }\n                    })\n                    .catch((e) => {\n                        this.errors.push(e);\n                    });\n            }\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, \"0\");\n        },\n        suffix(transactionDate) {\n            return kendo.toString(new Date(transactionDate), `yymm`);\n        },\n        errorMessage() {\n        },\n        accountDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=number# - #= name#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.accCash,\n                    }),\n                });\n        },\n        methodDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=code# - #= name#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.paymentMethod,\n                    }),\n                });\n        },\n        accountTemplate(dataItem) {\n            const acc = dataItem.account;\n            if (acc) {\n                return `<span>${acc.name ? acc.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        methodTemplate(dataItem) {\n            const method = dataItem.paymentOption || ''\n            if (method) {\n                return `<span>${method.bankAccountName || ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        amountTemplate(dataItem) {\n            const amt = dataItem.amount;\n            if (amt) {\n                return kendo.toString(parseFloat(amt), `${this.decimalFormat}`);\n            } else {\n                return 0;\n            }\n        },\n        amountEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    format: `${this.decimalFormat}`,\n                });\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((result) => {\n                if (result.value) {\n                    this.clear();\n                    this.$router.go(-1);\n                }\n            });\n        },\n        clear() {\n            this.showLoading = false;\n            this.supplier = {}\n            this.purchaseOrders = []\n            const segment = this.purchaseDeposit.segment || {}\n            const location = this.purchaseDeposit.location || {}\n            this.generateNumber()\n            const txnType = this.purchaseDeposit.transactionType;\n            this.purchaseDeposit = new PurchaseDepositModel({});\n            this.purchaseDeposit.transactionType = txnType;\n            this.purchaseDeposit.segment = segment\n            this.purchaseDeposit.location = location\n            // this.depositLine = [];\n            let lines = this.$refs.purchaseDepositDS.kendoWidget();\n            lines.data([]);\n            this.addRow();\n        },\n        close() {\n            window.history.go(-1);\n        },\n        hideSmallSiteBar() {\n            this.isHideBar = !this.isHideBar;\n        },\n        onFilterChange(event) {\n            const filter = event.filter.value;\n            this.requestData(0, filter, this.cusBaseUrl);\n            this.filter = filter;\n        },\n        requestData(skip, filter, baseUrl) {\n            const url = baseUrl + `?filter=${filter}`;\n            fetch(url)\n                .then((response) => {\n                    return response.json();\n                })\n                .then(this.afterFetch);\n        },\n        afterFetch(json) {\n            this.supplierList = json.data;\n        },\n        onChange(event) {\n            const value = event.value;\n            if (value && value[\"numberName\"] === emptyItem[\"numberName\"]) {\n                return;\n            }\n            this.supplier = value;\n            if (value.hasOwnProperty(\"id\")) {\n                if (value.id !== null) {\n                    this.decimalFormat = this.supplier.decimalFormat;\n                    if (value.hasOwnProperty(\"baseCurrency\")) {\n                        if (value.baseCurrency.hasOwnProperty(\"code\")) {\n                            this.currencyCode = \" \" + value.baseCurrency.code;\n                        }\n                    }\n                    this.purchaseDeposit.purchaseDepositAcc = value.hasOwnProperty(\n                        \"purchaseDepositAcc\"\n                    )\n                        ? value.purchaseDepositAcc\n                        : {};\n                    this.loadPurchaseOrders();\n                    this.loadCustomerBalance(value.id);\n                }\n            }\n        },\n        async loadLocation() {\n            this.locations = []\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const location = roleData.filter(itm => itm.type === 'location')\n                    const locationDefault = location.filter(m => m.isDefault === 1)\n                    this.locations = location\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        if (locationDefault.length > 0) {\n                            this.purchaseDeposit.location = locationDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.locations = [];\n                        locationHandler\n                            .list()\n                            .then((res) => {\n                                this.showLoading = true;\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.locations = res.data.data;\n                                    // if (this.locations.length > 0) {\n                                    //     this.purchaseDeposit.location = this.locations[0];\n                                    // }\n                                } else {\n                                    this.showLoading = false;\n                                }\n                            })\n                    }, 10);\n                });\n            }\n        },\n        async loadSegment() {\n            this.segments = []\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const segment = roleData.filter(itm => itm.type === 'segment')\n                    const segmentDefault = segment.filter(m => m.isDefault === 1)\n                    this.segments = segment\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        if (segmentDefault.length > 0) {\n                            this.purchaseDeposit.segment = segmentDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.segments = [];\n                        settingsHandler\n                            .getSeg()\n                            .then((res) => {\n                                this.showLoading = true;\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.segments = res.data.data;\n                                } else {\n                                    this.showLoading = false;\n                                }\n                            })\n                    }, 10);\n                });\n            }\n        },\n        async loadPrefix() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    prefixHandler.get(\"purchase deposit\").then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.transactionTypes = res.data.data;\n                            if (this.transactionTypes.length > 0) {\n                                this.purchaseDeposit.transactionType = this.transactionTypes[0];\n                                if (this.$route.params.id === undefined) {\n                                    this.generateNumber();\n                                }\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadAccount() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    accountHandler.getAll().then((res) => {\n                        this.showLoading = false;\n                        this.accSupplierDeposit = res.data\n                            .filter((m) => m.account_type.number === 9)\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type,\n                                };\n                            });\n                        this.accCash = res.data\n                            .filter((m) => m.account_type.number <= 5)\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type,\n                                };\n                            });\n                        if (this.accSupplierDeposit.length > 0) {\n                            this.purchaseDeposit.accReceivable = this.accSupplierDeposit[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadPurchaseOrders() {\n            if (this.supplier) {\n                this.showLoading = true;\n                this.purchaseOrders = [];\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        let data = {\n                            method: \"by_supplier\",\n                            supplier: this.supplier.id,\n                            type: \"Purchase Order\",\n                        };\n                        saleOrderHandler.search(data).then((res) => {\n                            this.showLoading = false;\n                            const response = res.data.data;\n                            response.forEach((m) => {\n                                const poData = m.txnData;\n                                this.purchaseOrders.push({\n                                    id: m.id,\n                                    amount: m.total,\n                                    number: m.number,\n                                    currency: poData.currency,\n                                    decimalFormat: m.decimalFormat,\n                                    location: poData.location,\n                                    segment: poData.segment,\n                                });\n                            });\n                            // window.console.log(this.purchaseOrders,'purchase')\n                        });\n                    }, 10);\n                });\n            }\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.purchaseDepositDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        addRow() {\n            let ds = this.$refs.purchaseDepositDS.kendoWidget(),\n                total = ds.total();\n            this.itemLine.id = itemLinePrefix + uuid.v1();\n            this.itemLine.decimalFormat = this.decimalFormat;\n            this.itemLine.optionType = OPTION_TYPE;\n            ds.insert(total, this.itemLine);\n            // this.itemLines.push(this.itemLine)\n            // this.itemLines.push(this.itemLine)a\n            // window.console.log('item Line', this.itemLine)\n        },\n        async loadPaymentOption() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.paymentMethod = [];\n                    paymentOptionHandler\n                        .list(strFilter)\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.paymentMethod = res.data.data;\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadCurrencyData() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    currencyHandler\n                        .list(\"fun-c\")\n                        .then((response) => {\n                            if (response.data.statusCode === 200) {\n                                this.currencyList = response.data.data.filter(\n                                    (o) => o.used === 1\n                                );\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadTransactionRate() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const date = new Date(this.transactionDate)\n                        .toISOString()\n                        .substr(0, 10);\n                    const currency = this.purchaseDeposit.currency;\n                    let code = \"\";\n                    if (currency.hasOwnProperty(\"code\")) {\n                        code = currency.code;\n                    }\n\n                    if (code !== undefined || code !== \"\") {\n                        this.showLoading = true;\n                        currencyHandler\n                            .getLastExchangeRateByDate(date, code)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    const response = res.data.data[0];\n                                    this.purchaseDeposit.exchangeRate = response;\n                                    this.purchaseDeposit.txnRate = response.rate;\n                                    this.showLoading = false;\n                                }\n                            });\n                    }\n                }, 10);\n            });\n        },\n        autoCalculate() {\n            let ds = this.$refs.purchaseDepositDS.kendoWidget(),\n                convertedAmount = 0,\n                amount = 0;\n            ds.data().forEach((value) => {\n                if (value.amount) {\n                    amount += kendo.parseFloat(value.amount);\n                    convertedAmount +=\n                        kendo.parseFloat(value.amount) * this.purchaseDeposit.txnRate;\n                }\n            });\n            window.console.log(amount, \"amount\");\n            this.purchaseDeposit.exchangeAmount = convertedAmount;\n            this.purchaseDeposit.amount = amount;\n        },\n        dataSourceChanged(e) {\n            if (e.field) {\n                let dataRow = e.items[0], pOption = {}\n                switch (e.field) {\n                    case \"paymentOption\":\n                        pOption = dataRow.paymentOption || {}\n                        dataRow.set(\"account\", pOption.account || {});\n                        break;\n                    default:\n                        break;\n                }\n                if (e.field) {\n                    this.autoCalculate();\n                }\n            }\n        },\n        async onSaveClose(flag) {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate();\n                return;\n            }\n            let id = \"\";\n            if (this.supplier.hasOwnProperty(\"id\")) {\n                id = this.supplier.id || \"\";\n            }\n            if (id === \"\") {\n                this.$snotify.error(\"supplier is require\");\n                return;\n            }\n            let ds = this.$refs.purchaseDepositDS.kendoWidget();\n            let d1 = ds.data();\n            let dataValidate = 0;\n            d1.forEach((value, index) => {\n                window.console.log(1, value);\n                if (\n                    value.account == undefined ||\n                    value.account.id == undefined ||\n                    value.account.id == null\n                ) {\n                    this.$snotify.error(\"Please check Account  on row \" + (index + 1));\n                } else {\n                    dataValidate += 1;\n                }\n            });\n            if (d1.length == dataValidate) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        let itemLineDS = this.$refs.purchaseDepositDS.kendoWidget();\n                        const dataRow = itemLineDS.data().filter((n) => n.amount > 0).map(m => {\n                            return new ItemLineModel(m)\n                        });\n                        // window.console.log(1, dataRow);\n                        if (dataRow.length > 0) {\n                            let isAutoGenerate = 1;\n                            if (this.$route.params.id) {\n                                const tranDate = new Date(this.transactionDate);\n                                const tranDateReceipt = new Date(\n                                    this.purchaseDeposit.transactionDate\n                                );\n                                const tranDateM = tranDate.getFullYear() + tranDate.getMonth();\n                                const tranDateReceiptM =\n                                    tranDateReceipt.getFullYear() + tranDateReceipt.getMonth();\n                                if (tranDateM === tranDateReceiptM) {\n                                    isAutoGenerate = 0;\n                                }\n                            }\n                            let data = {\n                                id: this.purchaseDeposit.id ? this.purchaseDeposit.id : \"\",\n                                type: \"Purchase Deposit\",\n                                uuid: this.purchaseDeposit.uuid\n                                    ? this.purchaseDeposit.uuid\n                                    : \"\",\n                                journal_uuid: this.purchaseDeposit.journal_uuid\n                                    ? this.purchaseDeposit.journal_uuid\n                                    : \"\",\n                                number: this.purchaseDeposit.number,\n                                abbr: this.purchaseDeposit.transactionType.abbr,\n                                transactionDate: this.transactionDate,\n                                transactionDateTZ: Helper.toISODate(this.transactionDate),\n                                supplier: this.supplier,\n                                transactionType: this.purchaseDeposit.transactionType,\n                                itemLine: dataRow,\n                                transactionNote: this.purchaseDeposit.transactionNote,\n                                journalNote: this.purchaseDeposit.journalNote,\n                                referenceNo: this.purchaseDeposit.referenceNo,\n                                amount: this.purchaseDeposit.amount,\n                                currency: this.purchaseDeposit.currency,\n                                exchangeAmount: this.purchaseDeposit.exchangeAmount, // amount to base currency\n                                txnRate: this.purchaseDeposit.txnRate,\n                                purchaseDepositAcc: this.purchaseDeposit.purchaseDepositAcc,\n                                exchangeRate: this.purchaseDeposit.exchangeRate,\n                                segment: this.purchaseDeposit.segment,\n                                location: this.purchaseDeposit.location,\n                                purchaseOrder: this.purchaseDeposit.purchaseOrder,\n                                status: 1,\n                                approvedBy: this.purchaseDeposit.approvedBy,\n                                rejectedBy: this.purchaseDeposit.rejectedBy,\n                                formTemplate: {},\n                                createdAt: this.purchaseDeposit.createdAt,\n                                loggedUser: this.loggedUser,\n                                refFrom: this.purchaseDeposit.refFrom || [],\n                                refTo: this.purchaseDeposit.refTo || [],\n                                isAutoGenerate: isAutoGenerate,\n                                actionType: this.$route.params.id\n                                    ? this.$route.query.type\n                                    : \"new\",\n                            };\n                            this.showLoading = true;\n                            // window.console.log('data', JSON.stringify(data))\n                            billingHandler.createPurchaseDeposit(data).then((response) => {\n                                if (response.data.statusCode === 201) {\n                                    this.showLoading = false;\n                                    this.$snotify.success(\"Successfully\");\n                                    if (flag === \"close\") {\n                                        this.clear();\n                                        this.close();\n                                    } else if (flag === \"new\") {\n                                        this.clear();\n                                    }\n                                }\n                            }).catch((e) => {\n                                this.showLoading = false;\n                                this.$snotify.error(\"Something went wrong\");\n                                this.errors.push(e);\n                            });\n                        }\n                    }, 10);\n                });\n            }\n        },\n        async loadCustomerBalance(id) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = id + \"?type=dep\";\n                    this.depositBalance = 0;\n                    // this.currencyCode = ''\n                    billingHandler\n                        .balance(strFilter)\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                const data = res.data.data;\n                                if (data.length > 0) {\n                                    this.depositBalance = data[0].balance;\n                                    this.currencyCode = \" \" + data[0].currency;\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadViewDeposit() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (this.$route.params.id) {\n                        this.showLoading = true;\n                        const strFilter = \"?id=\" + this.$route.params.id;\n                        billingHandler\n                            .purchaseDepositList(strFilter)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n\n                                    this.purchaseDeposit = res.data.data[0];\n                                    this.loadPurchaseOrders();\n\n                                    this.decimalFormat = this.purchaseDeposit.decimalFormat;\n                                    this.depositLine = this.purchaseDeposit.itemLines;\n                                    this.supplier = this.purchaseDeposit.supplier;\n                                    this.loadCustomerBalance(this.supplier.id);\n                                    this.transactionDate = this.purchaseDeposit.transactionDate;\n\n                                    // this.onChange(this)\n                                    // this.numberFormat(this.saleDeposit.purchaseOrder, 'amount')\n                                    // this.numberFormat(this.saleDeposit.purchaseOrder, 'currency')\n                                    // this.purchaseOrders = this.saleDeposit.purchaseOrder\n                                }\n                            })\n                            .catch();\n                        {\n                            this.showLoading = false;\n                        }\n                    }\n                }, 10);\n            });\n        },\n        async initData() {\n            if (this.$route.params.id !== undefined) {\n                await this.loadViewDeposit();\n            } else {\n                this.addRow();\n            }\n        },\n        reload() {\n            if (this.$route.params.id !== undefined) {\n                this.loadViewDeposit()\n            } else {\n                this.clear()\n            }\n        }\n    },\n    created() {\n        this.loadAccount();\n        this.loadCurrencyData();\n    },\n    watch: {\n        // id() {\n        //   if (this.$route.params.id === undefined) {\n        //     this.clear();\n        //   } else {\n        //     this.showLoading = true;\n        //     this.loadViewDeposit();\n        //   }\n        // },\n        '$route': 'reload'\n    },\n    mounted: async function () {\n        await this.loadPrefix();\n        await this.loadLocation();\n        await this.loadSegment();\n        await this.loadPaymentOption();\n        this.requestData(0, this.filter, this.cusBaseUrl);\n        await this.initData();\n    },\n    computed: {\n        disableMe() {\n            return !!this.$route.params.id;\n        },\n        amountLineHeaderTemplate() {\n            if (this.purchaseDeposit) {\n                // window.console.log(this.purchaseDeposit.currency)\n                if (this.purchaseDeposit.hasOwnProperty(\"currency\")) {\n                    const currency = this.purchaseDeposit.currency.hasOwnProperty(\"code\")\n                        ? this.purchaseDeposit.currency.code\n                        : \"\";\n                    if (currency) {\n                        return \"Amount (\" + currency + \")\";\n                    } else {\n                        return \"Amount\";\n                    }\n                }\n            }\n            return \"Amount\";\n        },\n        // segment() {\n        //   if (this.purchaseDeposit) {\n        //     if (this.purchaseDeposit.purchaseOrder) {\n        //       if (this.purchaseDeposit.purchaseOrder.hasOwnProperty('segment')) {\n        //         if (this.purchaseDeposit.purchaseOrder.hasOwnProperty('id')) {\n        //           return this.purchaseDeposit.purchaseOrder.segment.name\n        //         }\n        //       }\n        //     }\n        //   }\n        //   return ''\n        // },\n        // location() {\n        //   if (this.purchaseDeposit) {\n        //     if (this.purchaseDeposit.purchaseOrder) {\n        //       if (this.purchaseDeposit.purchaseOrder.hasOwnProperty('location')) {\n        //         if (this.purchaseDeposit.purchaseOrder.location.hasOwnProperty('id')) {\n        //           return this.purchaseDeposit.purchaseOrder.location.name\n        //         }\n        //       }\n        //     }\n        //   }\n        //   return ''\n        // },\n        validSupplier() {\n            let supplier = this.supplier;\n            return supplier.id !== undefined && supplier.id !== null;\n        },\n        hiddenButton() {\n            if (this.$route.params.id) {\n                return true\n            } else {\n                return false\n            }\n        }\n    },\n};\n</script>\n\n<style scoped>\n.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> tbody\n> tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: 0.5s ease-in;\n    flex: 0 0 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n.small_sidebar {\n    height: 96%;\n    position: relative;\n    padding: 12px;\n    background-color: #edf1f5;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 12px;\n}\n\n.v-data-table__wrapper td {\n    border-bottom: 1px solid #808080;\n    border-top: 1px solid #808080;\n}\n\nelement.style {\n}\n\n.v-list-item .v-list-item__title,\n.v-list-item .v-list-item__subtitle {\n    line-height: 1.2;\n}\n</style>\n"],"sourceRoot":"src/views/suppliers"}]}