{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/suppliers/ExpenseVerify.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/suppliers/ExpenseVerify.vue","mtime":1638499443340},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktY29tbWVyY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1jb21tZXJjZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGkxOG4gfSBmcm9tICJAL2kxOG4iOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKaW1wb3J0IEhlbHBlciBmcm9tICJAL2hlbHBlci5qcyI7CmltcG9ydCB7IEV4cGVuc2VNb2RlbCwgRXhwZW5zZUVudHJ5TW9kZWwsIEFjY291bnRNb2RlbCwgQ3VycmVuY3lNb2RlbCwgRW1wbG95ZWVNb2RlbCwgQ29udGFjdE1vZGVsLCBKb3VybmFsTW9kZWwsIEpvdXJuYWxFbnRyeU1vZGVsLCBDbGFzc01vZGVsLCBVb21Nb2RlbCwgTG9jYXRpb25Nb2RlbCwgU2VnbWVudE1vZGVsLCBQcm9qZWN0TW9kZWwsIERpc2NvdW50SXRlbU1vZGVsLCBUYXhNb2RlbCwgRXhwZW5zZXMsIFBheW1lbnRUZXJtTW9kZWwgfSBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQXBwTW9kZWxzIjsKaW1wb3J0IEV4cGVuc2VTdW1tYXJ5TW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL0V4cGVuc2VTdW1tYXJ5IjsgLy8gaW1wb3J0IEV4cGVuc2VTdW1tYXJ5RGV0YWlsTW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL0V4cGVuc2VTdW1tYXJ5RGV0YWlsIjsKCmltcG9ydCBFeHBlbnNlU3VtbWFyeURldGFpbEV4dGVuZGVkTW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL0V4cGVuc2VTdW1tYXJ5RGV0YWlsRXh0ZW5kZWQiOwppbXBvcnQgeyBTaG93UmVzb3VyY2UgfSBmcm9tICJAL29ic2VydmFibGUvc3RvcmUiOwovKiBFZGl0b3JzICovCgppbXBvcnQgQWNjb3VudEVkaXRvciBmcm9tICJAL3NjcmlwdHMva2VuZG9fZWRpdG9yL0FjY291bnQiOwppbXBvcnQgQ2xhc3NFZGl0b3IgZnJvbSAiQC9zY3JpcHRzL2tlbmRvX2VkaXRvci9DbGF6eiI7CmltcG9ydCBVb21FZGl0b3IgZnJvbSAiQC9zY3JpcHRzL2tlbmRvX2VkaXRvci9Vb20iOwppbXBvcnQgUHVyY2hhc2VEaXNjb3VudEl0ZW1FZGl0b3IgZnJvbSAiQC9zY3JpcHRzL2tlbmRvX2VkaXRvci9QdXJjaGFzZURpc2NvdW50SXRlbSI7CmltcG9ydCBQdXJjaGFzZVRheEVkaXRvciBmcm9tICJAL3NjcmlwdHMva2VuZG9fZWRpdG9yL1B1cmNoYXNlVGF4IjsKaW1wb3J0IE51bWJlckVkaXRvciBmcm9tICJAL3NjcmlwdHMva2VuZG9fZWRpdG9yL051bWJlcklucHV0Qm94IjsKaW1wb3J0IFN1cHBsaWVyRWRpdG9yIGZyb20gIkAvc2NyaXB0cy9rZW5kb19lZGl0b3IvU3VwcGxpZXIiOwppbXBvcnQgQWNjb3VudE1hcHBpbmdNb2RlbCBmcm9tICJAL3NjcmlwdHMvYWNjb3VudC1tYXAvQWNjb3VudCI7CmltcG9ydCBiaWxsaW5nSGFuZGxlciBmcm9tICJAL3NjcmlwdHMvaW52b2ljZS9oYW5kbGVyL2JpbGxpbmdIYW5kbGVyIjsKaW1wb3J0IHsgdXVpZCB9IGZyb20gInZ1ZS11dWlkIjsKLyogU3RvcmUgKi8KLy8gaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOwovLyBjb25zdCBpbnN0aXR1dGUgPSBzdG9yZS5zdGF0ZS5pbnN0aXR1dGUuaW5zdGl0dXRlOwoKLyogSGFuZGxlcnMgKi8KCnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoIkAvc2NyaXB0cy9BcHBIYW5kbGVycyIpLAogICAgY2FzaEFkdmFuY2VIYW5kbGVyID0gX3JlcXVpcmUuY2FzaEFkdmFuY2VIYW5kbGVyOwoKdmFyIGV4cGVuc2VIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2V4cGVuc2VIYW5kbGVyIik7Cgp2YXIgZXhwZW5zZVN1bW1hcnlIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2V4cGVuc2VTdW1tYXJ5SGFuZGxlciIpOwoKdmFyIF9yZXF1aXJlMiA9IHJlcXVpcmUoIkAvc2NyaXB0cy9kZWZhdWx0X3NldHVwL0NvbGxlY3Rpb25zIiksCiAgICBFbnRpdHlUeXBlID0gX3JlcXVpcmUyLkVudGl0eVR5cGUsCiAgICBTYXZlT3B0aW9uID0gX3JlcXVpcmUyLlNhdmVPcHRpb24sCiAgICBBY2NvdW50VHlwZUNvZGUgPSBfcmVxdWlyZTIuQWNjb3VudFR5cGVDb2RlLAogICAgVGF4VHlwZSA9IF9yZXF1aXJlMi5UYXhUeXBlLAogICAgU2V0dGluZyA9IF9yZXF1aXJlMi5TZXR0aW5nOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJFeHBlbnNlU3VtbWFyeVZlcmlmeSIsCiAgY29tcG9uZW50czogewogICAgTG9hZGluZ01lOiBmdW5jdGlvbiBMb2FkaW5nTWUoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9Mb2FkaW5nIik7CiAgICB9LAogICAgImFwcC1kYXRlcGlja2VyIjogZnVuY3Rpb24gYXBwRGF0ZXBpY2tlcigpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvRGF0ZVBpY2tlckNvbXBvbmVudCIpOwogICAgfSwKICAgICJhcHAtbW9udGhvZi1waWNrZXIiOiBmdW5jdGlvbiBhcHBNb250aG9mUGlja2VyKCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMva2VuZG9fdGVtcGxhdGVzL01vbnRoT2ZQaWNrZXIiKTsKICAgIH0sCiAgICAiYXBwLWxvY2F0aW9uLWRyb3Bkb3dubGlzdCI6IGZ1bmN0aW9uIGFwcExvY2F0aW9uRHJvcGRvd25saXN0KCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L0xvY2F0aW9uIik7CiAgICB9LAogICAgImFwcC1wcm9qZWN0LWRyb3Bkb3dubGlzdCI6IGZ1bmN0aW9uIGFwcFByb2plY3REcm9wZG93bmxpc3QoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvUHJvamVjdCIpOwogICAgfSwKICAgICJhcHAtc2VnbWVudC1kcm9wZG93bmxpc3QiOiBmdW5jdGlvbiBhcHBTZWdtZW50RHJvcGRvd25saXN0KCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L1NlZ21lbnQiKTsKICAgIH0KICB9LAogIHByb3BzOiB7CiAgICBpbml0RXhwZW5zZVN1bW1hcnk6IHsKICAgICAgdHlwZTogRXhwZW5zZVN1bW1hcnlNb2RlbAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIE9iagogICAgICBudW1iZXJzOiBudWxsLAogICAgICB2ZXJpZmllZEV4cGVuc2VzOiBbXSwKICAgICAgZXhwZW5zZVN1bW1hcnk6IG5ldyBFeHBlbnNlU3VtbWFyeU1vZGVsKCksCiAgICAgIGVtcGxveWVlOiBuZXcgRW1wbG95ZWVNb2RlbCgpLAogICAgICB0cmFuc2FjdGlvbkFjY291bnQ6IG5ldyBBY2NvdW50TW9kZWwoKSwKICAgICAgYWR2YW5jZVNldHRsZW1lbnRDbGVhcmluZ0FjY291bnQ6IG5ldyBBY2NvdW50TW9kZWwoKSwKICAgICAgbG9jYXRpb246IG5ldyBMb2NhdGlvbk1vZGVsKCksCiAgICAgIHNlZ21lbnQ6IG5ldyBTZWdtZW50TW9kZWwoKSwKICAgICAgcHJvamVjdDogbmV3IFByb2plY3RNb2RlbCgpLAogICAgICAvLyBMaXN0CiAgICAgIHNlbGVjdGVkRXhwZW5zZUlkczogW10sCiAgICAgIGNhc2hBZHZhbmNlczogW10sCiAgICAgIGFjY291bnRzOiBbXSwKICAgICAgdHJhbnNhY3Rpb25BY2NvdW50czogW10sCiAgICAgIGV4cGVuc2VFbnRyaWVzOiBbXSwKICAgICAgLy8gT3RoZXIKICAgICAgc3ViVG90YWw6IDAsCiAgICAgIGRpc2NvdW50QW1vdW50OiAwLAogICAgICBwdXJjaGFzZVRheDogMCwKICAgICAgd2hkVGF4OiAwLAogICAgICB0b3RhbEFtb3VudDogMCwKICAgICAgYW1vdW50RHVlOiAwLAogICAgICBmaWxlczogW10sCiAgICAgIHVzZXI6IEhlbHBlci5nZXRVc2VyKCksCiAgICAgIHRlbXBsYXRlczogW10sCiAgICAgIG1heERlY2ltYWw6IFNldHRpbmcuTUFYX0RJQ0VNQUwsCiAgICAgIGRpc2FibGVQcm9qZWN0OiBmYWxzZSwKICAgICAgLy8gRm9ybSB2YWxpZGF0aW9uCiAgICAgIHZhbGlkOiB0cnVlLAogICAgICBpc0VkaXQ6IGZhbHNlLAogICAgICBhbGVydDogZmFsc2UsCiAgICAgIGVycm9yTWVzc2FnZTogIiIsCiAgICAgIHNhdmVNb2RlOiAiIiwKICAgICAgU2F2ZU9wdGlvbjogU2F2ZU9wdGlvbiwKICAgICAgLy8gRWRpdG9ycwogICAgICBBY2NvdW50RWRpdG9yOiBBY2NvdW50RWRpdG9yLAogICAgICBOdW1iZXJFZGl0b3I6IE51bWJlckVkaXRvciwKICAgICAgQ2xhc3NFZGl0b3I6IENsYXNzRWRpdG9yLAogICAgICBVb21FZGl0b3I6IFVvbUVkaXRvciwKICAgICAgUHVyY2hhc2VEaXNjb3VudEl0ZW1FZGl0b3I6IFB1cmNoYXNlRGlzY291bnRJdGVtRWRpdG9yLAogICAgICBQdXJjaGFzZVRheEVkaXRvcjogUHVyY2hhc2VUYXhFZGl0b3IsCiAgICAgIFN1cHBsaWVyRWRpdG9yOiBTdXBwbGllckVkaXRvciwKICAgICAgLy8gU2lkZWJhcgogICAgICBpc0hpZGVCYXI6IGZhbHNlLAogICAgICAvLyBMb2FkaW5nTWUKICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgICBzaG93Q2FzaEFkdmFuY2VMb2FkaW5nOiBmYWxzZSwKICAgICAgLy8gS2VuZG8gZGF0YVNvdXJjZQogICAgICBzY2hlbWFEZWZpbml0aW9uOiB7CiAgICAgICAgbW9kZWw6IHsKICAgICAgICAgIGlkOiAidXVpZCIKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHR4bkV4cGVuc2U6IG5ldyBFeHBlbnNlcygpLAogICAgICB0eG5FeHBlbnNlTGlzdDogW10sCiAgICAgIHBheW1lbnRUZXJtOiBuZXcgUGF5bWVudFRlcm1Nb2RlbCgpCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgSGVscDogZnVuY3Rpb24gSGVscChrZXlfc2VhcmNoKSB7CiAgICAgIFNob3dSZXNvdXJjZShrZXlfc2VhcmNoKTsKICAgIH0sCiAgICAvLyBJbml0aWFsIERhdGEKICAgIGluaXRpYWxEYXRhOiBmdW5jdGlvbiBpbml0aWFsRGF0YSgpIHsKICAgICAgaWYgKHRoaXMuaW5pdEV4cGVuc2VTdW1tYXJ5KSB7CiAgICAgICAgdGhpcy5leHBlbnNlU3VtbWFyeSA9IHRoaXMuaW5pdEV4cGVuc2VTdW1tYXJ5OwogICAgICAgIHRoaXMuYmluZERhdGEoKTsKICAgICAgfQogICAgfSwKICAgIC8vIFNldCBkZWZhdWx0IGRhdGEKICAgIHNldERlZmF1bHREYXRhOiBmdW5jdGlvbiBzZXREZWZhdWx0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuZXhwZW5zZVN1bW1hcnkgPSBuZXcgRXhwZW5zZVN1bW1hcnlNb2RlbCgpOwoKICAgICAgICAgICAgICAgIF90aGlzLmdlbmVyYXRlTnVtYmVyKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCgogICAgLyogTG9hZCBEYXRhICovCiAgICBsb2FkRGF0YTogZnVuY3Rpb24gbG9hZERhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGFkdlNldENsckFjYzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goImFjY291bnRpbmcvZ2V0QWNjb3VudHMiKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXMyLmFjY291bnRzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICAvLyBBZHZhbmNlIFNldHRsZW1lbnQgQ2xlYXJpbmcgQWNjb3VudCBieSBiYW5oamlfYWNjb3VudF9udW1iZXIKICAgICAgICAgICAgICAgIGFkdlNldENsckFjYyA9IF90aGlzMi5hY2NvdW50cy5maW5kKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubnVtYmVyID09PSBBY2NvdW50VHlwZUNvZGUuQURWQU5DRV9TRVRUTEVNRU5UX0NMRUFSSU5HX0NPREU7CiAgICAgICAgICAgICAgICB9KTsgLy8gV2lsbCBjaGFuZ2UgbGF0ZXIKCiAgICAgICAgICAgICAgICBfdGhpczIuYWR2YW5jZVNldHRsZW1lbnRDbGVhcmluZ0FjY291bnQgPSBuZXcgQWNjb3VudE1vZGVsKGFkdlNldENsckFjYyk7IC8vIEZpbHRlciBUcmFuc2FjdGlvbiBBY2NvdW50cwoKICAgICAgICAgICAgICAgIF90aGlzMi5maWx0ZXJUcmFuc2FjdGlvbkFjY291bnQoKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8gQmluZCBkYXRhIGZyb20gcHJvcCBmb3IgZWRpdCBtb2RlCiAgICBiaW5kRGF0YTogZnVuY3Rpb24gYmluZERhdGEoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGxvY2F0aW9ucywgc2VnbWVudHMsIHByb2plY3RzLCBjYXNoQWR2YW5jZXMsIGVudHJpZXMsIHN1YlRvdGFsLCBkaXNjb3VudEFtb3VudCwgcHVyY2hhc2VUYXhBbW91bnQsIHdoZFRheEFtb3VudCwgZGlzY291bnRJdGVtcywgdGF4SXRlbXMsIHVvbXMsIGNsYXp6OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMuc2hvd0xvYWRpbmcgPSB0cnVlOwoKICAgICAgICAgICAgICAgIF90aGlzMy5nZW5lcmF0ZU51bWJlcigpOwogICAgICAgICAgICAgICAgLyogRGF0ZSAqLwoKCiAgICAgICAgICAgICAgICBfdGhpczMuZXhwZW5zZVN1bW1hcnkuZGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOyAvLyBDb250YWN0cwoKICAgICAgICAgICAgICAgIF90aGlzMy5lbXBsb3llZSA9IG5ldyBFbXBsb3llZU1vZGVsKF90aGlzMy5leHBlbnNlU3VtbWFyeS5lbXBsb3llZSk7IC8vIFNpZGViYXIKCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRzdG9yZS5kaXNwYXRjaCgibG9jYXRpb25zL2dldExpc3QiKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgbG9jYXRpb25zID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczMubG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlbChsb2NhdGlvbnMuZmluZChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gX3RoaXMzLmV4cGVuc2VTdW1tYXJ5LmxvY2F0aW9uX3V1aWQ7CiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kc3RvcmUuZGlzcGF0Y2goInNlZ21lbnRzL2dldExpc3QiKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHNlZ21lbnRzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczMuc2VnbWVudCA9IG5ldyBTZWdtZW50TW9kZWwoc2VnbWVudHMuZmluZChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gX3RoaXMzLmV4cGVuc2VTdW1tYXJ5LnNlZ21lbnRfdXVpZDsKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRzdG9yZS5kaXNwYXRjaCgicHJvamVjdHMvZ2V0TGlzdCIpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgcHJvamVjdHMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMy5wcm9qZWN0ID0gbmV3IFByb2plY3RNb2RlbChwcm9qZWN0cy5maW5kKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpLmlkID09PSBfdGhpczMuZXhwZW5zZVN1bW1hcnkucHJvamVjdF91dWlkOwogICAgICAgICAgICAgICAgfSkpOyAvLyBDYXNoIEFkdmFuY2UKCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczMuZW1wbG95ZWUuaWQgIT09ICIiICYmIF90aGlzMy5zZWdtZW50LmlkICE9PSAiIiAmJiBfdGhpczMuZXhwZW5zZVN1bW1hcnkudXNlX2Zvcl9vcHRpb24gPT09IDIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICByZXR1cm4gY2FzaEFkdmFuY2VIYW5kbGVyLmdldEJ5RW1wbG95ZWVJZChfdGhpczMuZW1wbG95ZWUuaWQpOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgY2FzaEFkdmFuY2VzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczMuY2FzaEFkdmFuY2VzID0gY2FzaEFkdmFuY2VzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpLnNlZ21lbnRfdXVpZCA9PT0gX3RoaXMzLnNlZ21lbnQuaWQ7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIGVudHJpZXMgPSBbXTsKICAgICAgICAgICAgICAgIHN1YlRvdGFsID0gMDsKICAgICAgICAgICAgICAgIGRpc2NvdW50QW1vdW50ID0gMDsKICAgICAgICAgICAgICAgIHB1cmNoYXNlVGF4QW1vdW50ID0gMDsKICAgICAgICAgICAgICAgIHdoZFRheEFtb3VudCA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kc3RvcmUuZGlzcGF0Y2goImRpc2NvdW50SXRlbXMvZ2V0TGlzdCIpOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgICAgZGlzY291bnRJdGVtcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzMTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLmRpc3BhdGNoKCJ0YXhlcy9nZXRMaXN0Iik7CgogICAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgICAgICB0YXhJdGVtcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLmRpc3BhdGNoKCJ1bml0T2ZNZWFzdXJlbWVudHMvZ2V0TGlzdCIpOwoKICAgICAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICAgICAgdW9tcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLmRpc3BhdGNoKCJjbGFzc2VzL2dldExpc3QiKTsKCiAgICAgICAgICAgICAgY2FzZSAzNzoKICAgICAgICAgICAgICAgIGNsYXp6ID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgX3RoaXMzLmV4cGVuc2VTdW1tYXJ5LnN1bW1hcnlfZGV0YWlscy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICAvLyBQdXJjaGFzZSBUYXgKICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmFjY291bnQuYWNjb3VudF90eXBlLm51bWJlciA9PT0gQWNjb3VudFR5cGVDb2RlLlBVUkNIQVNFX1RBWCkgewogICAgICAgICAgICAgICAgICAgIHB1cmNoYXNlVGF4QW1vdW50ICs9IHZhbHVlLmFtb3VudDsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuYW1vdW50ID4gMCAmJiB2YWx1ZS5hY2NvdW50Lm51bWJlciAhPT0gQWNjb3VudFR5cGVDb2RlLlRBWF9SRUxBVEVEX0VYUEVOU0VfQ09ERSkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gbmV3IEV4cGVuc2VTdW1tYXJ5RGV0YWlsRXh0ZW5kZWRNb2RlbCh2YWx1ZSk7IC8vIERhdGUKCiAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5iaWxsX2RhdGUgPSBuZXcgRGF0ZSh2YWx1ZS5iaWxsX2RhdGUpOyAvLyBTdWJ0b3RhbAoKICAgICAgICAgICAgICAgICAgICAgIHN1YlRvdGFsICs9IHZhbHVlLmFtb3VudDsgLy8gVU9NCgogICAgICAgICAgICAgICAgICAgICAgZW50cnkudW9tID0gbmV3IFVvbU1vZGVsKHVvbXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gdmFsdWUudW9tX3V1aWQ7CiAgICAgICAgICAgICAgICAgICAgICB9KSk7IC8vIERpc2NvdW50CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KCdkaXNjb3VudCcpKSBpZiAodmFsdWUuZGlzY291bnQuaGFzT3duUHJvcGVydHkoJ3V1aWQnKSkgZW50cnkuZGlzY291bnQgPSBuZXcgRGlzY291bnRJdGVtTW9kZWwoZGlzY291bnRJdGVtcy5maW5kKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmlkID09PSB2YWx1ZS5kaXNjb3VudC51dWlkOwogICAgICAgICAgICAgICAgICAgICAgfSkpOyAvLyBUYXgKCiAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoJ3RheF9pdGVtJykpIGlmICh2YWx1ZS50YXhfaXRlbS5oYXNPd25Qcm9wZXJ0eSgndXVpZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LnRheF9pdGVtID0gdGF4SXRlbXMuZmluZChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmlkID09PSB2YWx1ZS50YXhfaXRlbS51dWlkOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgLyogQXBwbHkgSW5jbHVzaXZlIFRheCB0byBhbW91bnQgKi8KCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS50YXhfaXRlbS5oYXNPd25Qcm9wZXJ0eSgndGF4VHlwZScpKSBpZiAoZW50cnkudGF4X2l0ZW0udGF4VHlwZS5oYXNPd25Qcm9wZXJ0eSgndHlwZUlkJykpIGlmIChlbnRyeS50YXhfaXRlbS50YXhUeXBlLnR5cGVJZCA9PT0gMSAmJiBlbnRyeS50YXhfaXRlbS5iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCkgPT09IFRheFR5cGUuSU5DTFVTSVZFKSBzdWJUb3RhbCArPSBlbnRyeS50YXhfYW1vdW50OwogICAgICAgICAgICAgICAgICAgICAgfSAvLyBDbGFzc2VzCgogICAgICAgICAgICAgICAgICAgICAgZW50cnkuY2xhc3MxID0gbmV3IENsYXNzTW9kZWwoY2xhenouZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gdmFsdWUuY2xhc3NfMV91dWlkOwogICAgICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgICAgICAgZW50cnkuY2xhc3MyID0gbmV3IENsYXNzTW9kZWwoY2xhenouZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gdmFsdWUuY2xhc3NfMl91dWlkOwogICAgICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgICAgICAgZW50cnkuY2xhc3MzID0gbmV3IENsYXNzTW9kZWwoY2xhenouZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gdmFsdWUuY2xhc3NfM191dWlkOwogICAgICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgICAgICAgZW50cnkuY2xhc3M0ID0gbmV3IENsYXNzTW9kZWwoY2xhenouZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gdmFsdWUuY2xhc3NfNF91dWlkOwogICAgICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgICAgICAgZW50cnkuY2xhc3M1ID0gbmV3IENsYXNzTW9kZWwoY2xhenouZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gdmFsdWUuY2xhc3NfNV91dWlkOwogICAgICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgLy8gRGlzY291bnQKICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5hY2NvdW50LmFjY291bnRfdHlwZS5udW1iZXIgPT09IEFjY291bnRUeXBlQ29kZS5ESVNDT1VOVCkgewogICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEFtb3VudCArPSB2YWx1ZS5hbW91bnQgKiAtMTsKICAgICAgICAgICAgICAgICAgICAgIH0gLy8gV0hEIFRheAoKCiAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuYWNjb3VudC5hY2NvdW50X3R5cGUubnVtYmVyID09PSBBY2NvdW50VHlwZUNvZGUuV0hEX1RBWCkgewogICAgICAgICAgICAgICAgICAgICAgICB3aGRUYXhBbW91bnQgKz0gdmFsdWUuYW1vdW50ICogLTE7CiAgICAgICAgICAgICAgICAgICAgICB9IC8vIFRyYW5zYWN0aW9uIEFjY291bnQgKFBheWFibGUgQWNjb3VudCAvIENsZWFyaW5nIEFjY291bnQpCgoKICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5hY2NvdW50LnV1aWQgPT09IF90aGlzMy5leHBlbnNlLnRyYW5zYWN0aW9uX2FjY291bnQudXVpZCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuYW1vdW50RHVlID0gdmFsdWUuYW1vdW50ICogLTE7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsgLy8gQmluZCBFeHBlbnNlIEVudHJpZXMKCgogICAgICAgICAgICAgICAgX3RoaXMzLmV4cGVuc2VFbnRyaWVzID0gZW50cmllczsgLy8gQ2FsY3VsYXRpb24KCiAgICAgICAgICAgICAgICBfdGhpczMuc3ViVG90YWwgPSBzdWJUb3RhbDsKICAgICAgICAgICAgICAgIF90aGlzMy5kaXNjb3VudEFtb3VudCA9IGRpc2NvdW50QW1vdW50OwogICAgICAgICAgICAgICAgX3RoaXMzLnB1cmNoYXNlVGF4ID0gcHVyY2hhc2VUYXhBbW91bnQ7CiAgICAgICAgICAgICAgICBfdGhpczMud2hkVGF4ID0gd2hkVGF4QW1vdW50OwogICAgICAgICAgICAgICAgX3RoaXMzLnRvdGFsQW1vdW50ID0gc3ViVG90YWwgLSBfdGhpczMuZGlzY291bnRBbW91bnQ7CiAgICAgICAgICAgICAgICBfdGhpczMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSA0NjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIE51bWJlcgogICAgZ2VuZXJhdGVOdW1iZXI6IGZ1bmN0aW9uIGdlbmVyYXRlTnVtYmVyKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gSGVscGVyLmdlbmVyYXRlQWNjb3VudGluZ051bWJlcihFbnRpdHlUeXBlLkVYUEVOU0VTLCBfdGhpczQuZXhwZW5zZVN1bW1hcnkuZGF0ZSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzNC5udW1iZXJzID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFwcGx5UHJlZml4TnVtYmVyOiBmdW5jdGlvbiBhcHBseVByZWZpeE51bWJlcihsYXN0TnVtYmVyKSB7CiAgICAgIC8qIFByZWZpeCAqLwogICAgICB2YXIgcGYgPSB0aGlzLm51bWJlcnMucHJlZml4OyAvLyBTdHJ1Y3R1cmUKCiAgICAgIHZhciBzdHJ1Y3R1cmUgPSAnJywKICAgICAgICAgIHR4bkRhdGUgPSBuZXcgRGF0ZSh0aGlzLmV4cGVuc2VTdW1tYXJ5LmRhdGUpOwoKICAgICAgc3dpdGNoIChwZi5zdHJ1Y3R1cmUudG9Mb3dlckNhc2UoKSkgewogICAgICAgIGNhc2UgJ3l5eXknOgogICAgICAgICAgc3RydWN0dXJlID0gdHhuRGF0ZS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAneXknOgogICAgICAgICAgc3RydWN0dXJlID0gdHhuRGF0ZS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCkuc3Vic3RyKDIpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ3l5eXltbSc6CiAgICAgICAgICBzdHJ1Y3R1cmUgPSB0eG5EYXRlLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSArICh0eG5EYXRlLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAneXltbSc6CiAgICAgICAgICBzdHJ1Y3R1cmUgPSB0eG5EYXRlLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKS5zdWJzdHIoMikgKyAodHhuRGF0ZS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAvLyBOb25lIHN0cnVjdHVyZQogICAgICAgICAgYnJlYWs7CiAgICAgIH0gLy8gU3RhcnRpbmcgTnVtYmVyCgoKICAgICAgaWYgKGxhc3ROdW1iZXIgPT09IDApIHsKICAgICAgICBsYXN0TnVtYmVyID0gcGYubnVtYmVyOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIFNlcXVlbmNpbmcgTnVtYmVyIChSZXNldCBOdW1iZXIpCiAgICAgICAgcGYuc2VxdWNlbmNpbmcgPSAncHJlZml4JzsgLy8gd2lsbCBjaGFuZ2UgbGF0ZXIKCiAgICAgICAgc3dpdGNoIChwZi5zZXF1Y2VuY2luZy50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgICBjYXNlICdtb250aCc6CiAgICAgICAgICAgIC8vIE1vbnRoCiAgICAgICAgICAgIGxhc3ROdW1iZXIgPSAxOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICd5ZWFyJzoKICAgICAgICAgICAgLy8gWWVhcgogICAgICAgICAgICBsYXN0TnVtYmVyID0gMTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgLy8gUHJlZml4CiAgICAgICAgICAgIGxhc3ROdW1iZXIrKzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgbnVtYmVyID0gcGYuYWJiciArIHBmLnByZWZpeFNlcGFyYXRvciArIHN0cnVjdHVyZSArIHBmLm51bWJlclNlcGFyYXRvciArIGxhc3ROdW1iZXIudG9TdHJpbmcoKS5wYWRTdGFydChwZi5mb3JtYXQsICcwJyk7CiAgICAgIHJldHVybiBudW1iZXI7CiAgICB9LAogICAgLy8gTG9hZCBDYXNoIEFkdmFuY2UKICAgIGxvYWRDYXNoQWR2YW5jZTogZnVuY3Rpb24gbG9hZENhc2hBZHZhbmNlKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIC8qIENsZWFyICovCiAgICAgIHRoaXMuY2FzaEFkdmFuY2VzID0gW107CiAgICAgIHRoaXMuZXhwZW5zZVN1bW1hcnkudXNlX2Zvcl90cmFuc2FjdGlvbl91dWlkID0gIiI7CgogICAgICBpZiAodGhpcy5lbXBsb3llZS5pZCAhPT0gIiIgJiYgdGhpcy5zZWdtZW50LmlkICE9PSAiIiAmJiB0aGlzLmV4cGVuc2VTdW1tYXJ5LnVzZV9mb3Jfb3B0aW9uID09PSAyKSB7CiAgICAgICAgdGhpcy5zaG93Q2FzaEFkdmFuY2VMb2FkaW5nID0gdHJ1ZTsKICAgICAgICBjYXNoQWR2YW5jZUhhbmRsZXIuZ2V0QnlFbXBsb3llZUlkKHRoaXMuZW1wbG95ZWUuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgICAgIC8qIEZpbHRlciBieSBzZWdtZW50ICovCiAgICAgICAgICAgIF90aGlzNS5jYXNoQWR2YW5jZXMgPSByZXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICByZXR1cm4gaXRlbS5zZWdtZW50X3V1aWQgPT09IF90aGlzNS5zZWdtZW50LmlkOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNS5zaG93Q2FzaEFkdmFuY2VMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCgogICAgLyogT24gQ2FzaCBBZHZhbmNlIENoYW5nZXMgKi8KICAgIG9uQ2FzaEFkdmFuY2VDaGFuZ2VzOiBmdW5jdGlvbiBvbkNhc2hBZHZhbmNlQ2hhbmdlcygpIHsKICAgICAgdGhpcy5zZXRDYXNoQWR2YW5jZVByb2plY3QoKTsKICAgICAgdGhpcy5kaXNhYmxlUHJvamVjdCA9IGZhbHNlOwogICAgfSwKCiAgICAvKiBPbiBEYXRlIENoYW5lcyAqLwogICAgb25EYXRlQ2hhbmdlczogZnVuY3Rpb24gb25EYXRlQ2hhbmdlcygpIHsKICAgICAgdGhpcy5leHBlbnNlU3VtbWFyeS5tb250aF9vZiA9IG5ldyBEYXRlKHRoaXMuZXhwZW5zZVN1bW1hcnkuZGF0ZSkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgNyk7CiAgICAgIHRoaXMuZ2VuZXJhdGVOdW1iZXIoKTsKICAgIH0sCgogICAgLyogQmluZCBwcm9qZWN0IGZyb20gY2FzaCBhZHZhbmNlICovCiAgICBzZXRDYXNoQWR2YW5jZVByb2plY3Q6IGZ1bmN0aW9uIHNldENhc2hBZHZhbmNlUHJvamVjdCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgY2FzaEFkdmFuY2UsIHByb2plY3RzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczYuZXhwZW5zZVN1bW1hcnkudXNlX2Zvcl90cmFuc2FjdGlvbl91dWlkICE9PSAiIikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY2FzaEFkdmFuY2UgPSBfdGhpczYuY2FzaEFkdmFuY2VzLmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGkudXVpZCA9PT0gX3RoaXM2LmV4cGVuc2VTdW1tYXJ5LnVzZV9mb3JfdHJhbnNhY3Rpb25fdXVpZDsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmICghKGNhc2hBZHZhbmNlLnByb2plY3RfdXVpZCAhPT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuJHN0b3JlLmRpc3BhdGNoKCJwcm9qZWN0cy9nZXRMaXN0Iik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHByb2plY3RzID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczYucHJvamVjdCA9IHByb2plY3RzLmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuaWQgPT09IGNhc2hBZHZhbmNlLnByb2plY3RfdXVpZDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX3RoaXM2LmRpc2FibGVQcm9qZWN0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF90aGlzNi5kaXNhYmxlUHJvamVjdCA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8gT24gRW1wbG95ZWUgUmFkaW8gQ2hhbmdlcwogICAgb25Vc2VGb3JPcHRpb25DaGFuZ2VzOiBmdW5jdGlvbiBvblVzZUZvck9wdGlvbkNoYW5nZXMoKSB7CiAgICAgIC8vIENsZWFyIFNlbGVjdGVkIENhc2ggQWR2YW5jZQogICAgICB0aGlzLmV4cGVuc2VTdW1tYXJ5LnVzZV9mb3JfdHJhbnNhY3Rpb25fdXVpZCA9ICIiOwogICAgICB0aGlzLnRyYW5zYWN0aW9uQWNjb3VudCA9IG5ldyBBY2NvdW50TW9kZWwoKTsKICAgICAgLyogTG9hZCBDYXNoIEFkdmFuY2UgKi8KCiAgICAgIGlmICh0aGlzLmV4cGVuc2VTdW1tYXJ5LnVzZV9mb3Jfb3B0aW9uID09PSAyKSB7CiAgICAgICAgdGhpcy5sb2FkQ2FzaEFkdmFuY2UoKTsKICAgICAgfQoKICAgICAgdGhpcy5maWx0ZXJUcmFuc2FjdGlvbkFjY291bnQoKTsKICAgIH0sCiAgICAvLyBGaWx0ZXIgVHJhbnNhdGlvbiBBY2NvdW50CiAgICBmaWx0ZXJUcmFuc2FjdGlvbkFjY291bnQ6IGZ1bmN0aW9uIGZpbHRlclRyYW5zYWN0aW9uQWNjb3VudCgpIHsKICAgICAgaWYgKHRoaXMuZXhwZW5zZVN1bW1hcnkudXNlX2Zvcl9vcHRpb24gPT09IDApIHsKICAgICAgICAvLyBDcmVkaXQgKFBheWFibGUgQWNjb3VudCkKICAgICAgICB0aGlzLnRyYW5zYWN0aW9uQWNjb3VudHMgPSB0aGlzLmFjY291bnRzLmZpbHRlcihmdW5jdGlvbiAoaSkgewogICAgICAgICAgcmV0dXJuIH5BY2NvdW50VHlwZUNvZGUuUEFZQUJMRV9BQ0NPVU5UUy5pbmRleE9mKGkuYWNjb3VudF90eXBlLm51bWJlcik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5leHBlbnNlLnVzZV9mb3Jfb3B0aW9uID09PSAzKSB7CiAgICAgICAgLy8gQ2FzaCBBY2NvdW50CiAgICAgICAgdGhpcy50cmFuc2FjdGlvbkFjY291bnRzID0gdGhpcy5hY2NvdW50cy5maWx0ZXIoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgIHJldHVybiB+QWNjb3VudFR5cGVDb2RlLkNBU0hfQUNDT1VOVFMuaW5kZXhPZihpLmFjY291bnRfdHlwZS5udW1iZXIpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIFJlaW1idXJzZW1lbnQgLyBDYXNoIEFkdmFuY2UKICAgICAgICB0aGlzLnRyYW5zYWN0aW9uQWNjb3VudCA9IHRoaXMuYWR2YW5jZVNldHRsZW1lbnRDbGVhcmluZ0FjY291bnQ7CiAgICAgICAgdGhpcy50cmFuc2FjdGlvbkFjY291bnRzID0gW3RoaXMuYWR2YW5jZVNldHRsZW1lbnRDbGVhcmluZ0FjY291bnRdOwogICAgICB9CiAgICB9LAoKICAgIC8qIEtlbmRvICovCiAgICAvLyBEYXRhU291cmNlIENoYW5nZXMKICAgIG9uRXhwZW5zZUFjY291bnREU0NoYW5nZXM6IGZ1bmN0aW9uIG9uRXhwZW5zZUFjY291bnREU0NoYW5nZXMoZSkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciBkYXRhUm93LCB4cmF0ZSwgYW10OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIWUuZmllbGQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGF0YVJvdyA9IGUuaXRlbXNbMF07CgogICAgICAgICAgICAgICAgaWYgKCEoZS5maWVsZCA9PT0gInN1cHBsaWVyIikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYWNjb3VudCIsIG5ldyBBY2NvdW50TW9kZWwoZGF0YVJvdy5zdXBwbGllci5hY2NvdW50VGF4LmV4cGVuc2VBY2MpKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWYgKCEoZS5maWVsZCA9PT0gImFjY291bnQiKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczcuYWRkRXh0cmFSb3coZGF0YVJvdy51aWQpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIGlmICghKGUuZmllbGQgPT09ICJiaWxsX2RhdGUiIHx8IGUuZmllbGQgPT09ICJiaWxsX2N1cnJlbmN5IikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcuZ2V0RXhjaGFuZ2VSYXRlKGRhdGFSb3cuYmlsbF9kYXRlLCBkYXRhUm93LmJpbGxfY3VycmVuY3kuY29kZSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICB4cmF0ZSA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlX3JhdGVfdXVpZCIsIHhyYXRlLmlkKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZV9yYXRlIiwgeHJhdGUucmF0ZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBpZiAoZS5maWVsZCA9PT0gInF1YW50aXR5IiB8fCBlLmZpZWxkID09PSAicHJpY2UiKSB7CiAgICAgICAgICAgICAgICAgIGFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoZGF0YVJvdy5xdWFudGl0eSkgKiBrZW5kby5wYXJzZUZsb2F0KGRhdGFSb3cucHJpY2UpOwogICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgYW10KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5maWVsZCA9PT0gInVvbSIpIHsKICAgICAgICAgICAgICAgICAgaWYgKGRhdGFSb3cudW9tKSB7CiAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInVvbV91dWlkIiwgZGF0YVJvdy51b20uaWQpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUuZmllbGQgPT09ICJjbGFzczEiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChkYXRhUm93LmNsYXNzMSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzc18xX3V1aWQiLCBkYXRhUm93LmNsYXNzMS5pZCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGRlZmF1bHQgd2hlbiBkZXNlbGVjdAogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzc18xX3V1aWQiLCAiIik7CiAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNsYXNzMSIsIG5ldyBDbGFzc01vZGVsKCkpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUuZmllbGQgPT09ICJjbGFzczIiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChkYXRhUm93LmNsYXNzMiAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzc18yX3V1aWQiLCBkYXRhUm93LmNsYXNzMi5pZCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGRlZmF1bHQgd2hlbiBkZXNlbGVjdAogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzc18yX3V1aWQiLCAiIik7CiAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNsYXNzMiIsIG5ldyBDbGFzc01vZGVsKCkpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUuZmllbGQgPT09ICJjbGFzczMiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChkYXRhUm93LmNsYXNzMyAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzc18zX3V1aWQiLCBkYXRhUm93LmNsYXNzMy5pZCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGRlZmF1bHQgd2hlbiBkZXNlbGVjdAogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzc18zX3V1aWQiLCAiIik7CiAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNsYXNzMyIsIG5ldyBDbGFzc01vZGVsKCkpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUuZmllbGQgPT09ICJjbGFzczQiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChkYXRhUm93LmNsYXNzNCAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzc180X3V1aWQiLCBkYXRhUm93LmNsYXNzNC5pZCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGRlZmF1bHQgd2hlbiBkZXNlbGVjdAogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzc180X3V1aWQiLCAiIik7CiAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNsYXNzNCIsIG5ldyBDbGFzc01vZGVsKCkpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUuZmllbGQgPT09ICJjbGFzczUiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChkYXRhUm93LmNsYXNzNSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzc181X3V1aWQiLCBkYXRhUm93LmNsYXNzNS5pZCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGRlZmF1bHQgd2hlbiBkZXNlbGVjdAogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzc181X3V1aWQiLCAiIik7CiAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNsYXNzNSIsIG5ldyBDbGFzc01vZGVsKCkpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBfdGhpczcuYXV0b0NhbGN1bGF0ZSgpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2FsY3VsYXRlRGlzY291bnQ6IGZ1bmN0aW9uIGNhbGN1bGF0ZURpc2NvdW50KGRpc2NvdW50SXRlbSwgc3ViVG90YWwpIHsKICAgICAgaWYgKGRpc2NvdW50SXRlbSkgewogICAgICAgIHZhciBuYXR1cmUgPSBkaXNjb3VudEl0ZW0ubmF0dXJlOwogICAgICAgIHZhciBhbW91bnQgPSBkaXNjb3VudEl0ZW0uYW1vdW50OwoKICAgICAgICBpZiAobmF0dXJlID09PSAiQW1vdW50IikgewogICAgICAgICAgcmV0dXJuIGtlbmRvLnBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB9IGVsc2UgaWYgKG5hdHVyZSA9PT0gIlBlcmNlbnRhZ2UiKSB7CiAgICAgICAgICByZXR1cm4gc3ViVG90YWwgKiAoa2VuZG8ucGFyc2VGbG9hdChhbW91bnQpIC8gMTAwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlVGF4OiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlVGF4KHRheCwgYW1vdW50KSB7CiAgICAgIGlmICh0YXgpIHsKICAgICAgICB2YXIgZm9ybXVsYSA9IHRheC5mb3JtdWxhOwogICAgICAgIHZhciBpbkFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB2YXIgbkFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB2YXIgdGF4QmFzZSA9IGtlbmRvLnBhcnNlRmxvYXQodGF4LnRheEJhc2UpIC8gMTAwOwogICAgICAgIHZhciByYXRlID0ga2VuZG8ucGFyc2VGbG9hdCh0YXgucmF0ZSkgLyAxMDA7CiAgICAgICAgdmFyIHRvdGFsID0gZXZhbChmb3JtdWxhKTsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coaW5BbXQsIG5BbXQsIHRheEJhc2UsIHJhdGUsIGZvcm11bGEsIHRvdGFsKTsKICAgICAgICByZXR1cm4gdG90YWw7CiAgICAgIH0gLy8gcmV0dXJuIDAKCiAgICB9LAogICAgLy8gQXV0byBDYWxjdWxhdGUgSW4gRGF0YVNvdXJjZQogICAgYXV0b0NhbGN1bGF0ZTogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZSgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB2YXIgZXhwRFMgPSB0aGlzLiRyZWZzLmV4cGVuc2VBY2NvdW50RFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHN1YlRvdGFsID0gMCwKICAgICAgICAgIGRpc2NvdW50ID0gMCwKICAgICAgICAgIHB1cmNoYXNlVGF4ID0gMCwKICAgICAgICAgIHdoZFRheCA9IDAsCiAgICAgICAgICBpbmNsdXNpdmVUYXggPSAwLAogICAgICAgICAgZGlzY291bnRJdGVtID0gW107IC8vIEV4cGVuc2UKCiAgICAgIGV4cERTLmRhdGEoKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIGlmICh+X3RoaXM4LnNlbGVjdGVkRXhwZW5zZUlkcy5pbmRleE9mKHZhbHVlLnV1aWQpKSB7CiAgICAgICAgICB2YXIgYW10ID0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5wcmljZSkgKiBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnF1YW50aXR5KTsKICAgICAgICAgIC8qIEV4Y2hhbmdlZCBBbW91bnQgKi8KCiAgICAgICAgICB2YWx1ZS5leGNoYW5nZWRfYW1vdW50ID0gYW10ICogdmFsdWUuZXhjaGFuZ2VfcmF0ZTsKICAgICAgICAgIC8qIFN1YnRvdGFsICovCgogICAgICAgICAgc3ViVG90YWwgKz0gYW10OyAvLyBEaXNjb3VudAoKICAgICAgICAgIHZhciBkaXNjb3VudEFtb3VudCA9IDA7CiAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoJ2Rpc2NvdW50JykpIGlmICh2YWx1ZS5kaXNjb3VudC5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkgaWYgKHZhbHVlLmRpc2NvdW50LmlkICE9PSAiIikgewogICAgICAgICAgICBkaXNjb3VudEFtb3VudCA9IF90aGlzOC5jYWxjdWxhdGVEaXNjb3VudCh2YWx1ZS5kaXNjb3VudCwgYW10KTsKICAgICAgICAgICAgZGlzY291bnQgKz0gZGlzY291bnRBbW91bnQ7CiAgICAgICAgICAgIGRpc2NvdW50SXRlbS5wdXNoKHZhbHVlLmRpc2NvdW50KTsKICAgICAgICAgIH0gLy8gVGF4CgogICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KCd0YXhfaXRlbScpKSBpZiAodmFsdWUudGF4X2l0ZW0uaGFzT3duUHJvcGVydHkoJ2lkJykpIGlmICh2YWx1ZS50YXhfaXRlbS5pZCAhPT0gIiIpIHsKICAgICAgICAgICAgdmFyIGFtdEFmdGVyRGlzY291bnQgPSBhbXQgLSBkaXNjb3VudEFtb3VudDsKCiAgICAgICAgICAgIHZhciB0YXhBbW91bnQgPSBfdGhpczguYXV0b0NhbGN1bGF0ZVRheCh2YWx1ZS50YXhfaXRlbSwgYW10QWZ0ZXJEaXNjb3VudCk7CgogICAgICAgICAgICBpZiAodmFsdWUudGF4X2l0ZW0uYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSBUYXhUeXBlLklOQ0xVU0lWRSkgewogICAgICAgICAgICAgIGluY2x1c2l2ZVRheCArPSB0YXhBbW91bnQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh2YWx1ZS50YXhfaXRlbS5oYXNPd25Qcm9wZXJ0eSgndGF4VHlwZScpKSBpZiAodmFsdWUudGF4X2l0ZW0udGF4VHlwZS5oYXNPd25Qcm9wZXJ0eSgndHlwZUlkJykpIGlmICh2YWx1ZS50YXhfaXRlbS50YXhUeXBlLnR5cGVJZCA9PT0gMikgewogICAgICAgICAgICAgIC8qIFdIRCBUYXggKi8KICAgICAgICAgICAgICB3aGRUYXggKz0gdGF4QW1vdW50OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8qIFB1cmNoYXNlIFRheCAqLwogICAgICAgICAgICAgIHB1cmNoYXNlVGF4ICs9IHRheEFtb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAvKiBTZXQgVGF4IEFtb3VudCAqLwoKICAgICAgICAgICAgaWYgKHZhbHVlLnRheF9pdGVtLnRheFR5cGUudHlwZUlkID09PSAxICYmIHZhbHVlLnRheF9pdGVtLmJhc2VBbW91bnQudG9Mb3dlckNhc2UoKSA9PT0gVGF4VHlwZS5JTkNMVVNJVkUpIHsKICAgICAgICAgICAgICAvKiBJbmNsdXNpdmUgVGF4ICovCiAgICAgICAgICAgICAgdmFsdWUuc2V0KCJ0YXhfYW1vdW50IiwgdGF4QW1vdW50ICogLTEpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZhbHVlLnNldCgidGF4X2Ftb3VudCIsIHRheEFtb3VudCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICAvKiBBcHBseSBJbmNsdXNpdmUgVGF4ICovCgogICAgICBzdWJUb3RhbCAtPSBpbmNsdXNpdmVUYXg7CiAgICAgIHRoaXMuc3ViVG90YWwgPSBzdWJUb3RhbDsKICAgICAgdGhpcy5kaXNjb3VudEFtb3VudCA9IGRpc2NvdW50OwogICAgICB0aGlzLnB1cmNoYXNlVGF4ID0gcHVyY2hhc2VUYXg7CiAgICAgIHRoaXMud2hkVGF4ID0gd2hkVGF4OwogICAgICB2YXIgdG90YWxBbW91bnQgPSB0aGlzLnN1YlRvdGFsIC0gZGlzY291bnQgKyB3aGRUYXggKyBwdXJjaGFzZVRheDsKICAgICAgdGhpcy50b3RhbEFtb3VudCA9IHRvdGFsQW1vdW50OwogICAgICB2YXIgYW1vdW50RHVlID0gdGhpcy50b3RhbEFtb3VudCAtIHdoZFRheDsKICAgICAgdGhpcy5hbW91bnREdWUgPSBhbW91bnREdWU7CiAgICB9LAogICAgLy8gUm93IE51bWJlciBUZW1wbGF0ZQogICAgcm93TnVtYmVyVG1wbDogZnVuY3Rpb24gcm93TnVtYmVyVG1wbChkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmV4cGVuc2VBY2NvdW50RFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgLy8gT24gRXhwZW5zZSBHcmlkIENoYW5nZXMKICAgIG9uRXhwZW5zZUdyaWRDaGFuZ2VzOiBmdW5jdGlvbiBvbkV4cGVuc2VHcmlkQ2hhbmdlcygpIHsKICAgICAgdmFyIGdyaWQgPSB0aGlzLiRyZWZzLmV4cGVuc2VTdW1tYXJ5R3JpZC5rZW5kb1dpZGdldCgpOyAvLyBsZXQgaWRzID0gW10KICAgICAgLy8gZm9yIChsZXQgaWQgaW4gZ3JpZC5fc2VsZWN0ZWRJZHMpCiAgICAgIC8vIGlkcy5wdXNoKGlkKQoKICAgICAgdGhpcy5zZWxlY3RlZEV4cGVuc2VJZHMgPSBncmlkLnNlbGVjdGVkS2V5TmFtZXMoKTsKICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICB9LAogICAgLy8gU2hyaW5rIERhdGEKICAgIHNocmlua0RhdGE6IGZ1bmN0aW9uIHNocmlua0RhdGEoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdmFyIGV4cGVuc2VMaXN0ID0gW10sCiAgICAgICAgICBleHBEUyA9IHRoaXMuJHJlZnMuZXhwZW5zZUFjY291bnREUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgbGFzdE51bWJlciA9IHRoaXMubnVtYmVycy5sYXN0X251bWJlciwKICAgICAgICAgIGNvdW50ZXIgPSAxOwogICAgICAvKiBVcGRhdGUgRXhwZW5zZSBTdW1tYXJ5IFN0YXR1cyAqLwoKICAgICAgdGhpcy5leHBlbnNlU3VtbWFyeS5pc19jbGVhcmVkID0gMTsgLy8gRXhwZW5zZSBFbnRyaWVzIG9uIERyCgogICAgICBleHBEUy5kYXRhKCkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAvLyBGaWx0ZXIgc2VsZWN0ZWQgZXhwZW5zZXMKICAgICAgICBpZiAofl90aGlzOS5zZWxlY3RlZEV4cGVuc2VJZHMuaW5kZXhPZih2YWx1ZS51dWlkKSkgewogICAgICAgICAgdmFyIGVudHJpZXMgPSBbXTsKICAgICAgICAgIC8qIFVwZGF0ZSBFeHBlbnNlIFN1bW1hcnkgRGV0YWlsIFN0YXR1cyBBcHByb3ZlZCAqLwoKICAgICAgICAgIHZhbHVlLnNldCgic3RhdHVzIiwgMSk7CiAgICAgICAgICAvKiBTdGF0dXMgKi8KCiAgICAgICAgICBpZiAoX3RoaXM5LmV4cGVuc2VTdW1tYXJ5LnVzZV9mb3Jfb3B0aW9uID09PSAzKSB7CiAgICAgICAgICAgIC8qIENhc2ggKi8KICAgICAgICAgICAgdmFsdWUuc2V0KCJpc19jbGVhcmVkIiwgMSk7CiAgICAgICAgICAgIC8qIFBhaWQgKi8KICAgICAgICAgIH0KICAgICAgICAgIC8qIEVYUEVOU0UgKi8KCgogICAgICAgICAgdmFyIGV4cGVuc2UgPSBuZXcgRXhwZW5zZU1vZGVsKHZhbHVlKTsKICAgICAgICAgIC8qIHV1aWQgKi8KCiAgICAgICAgICBleHBlbnNlLnV1aWQgPSAiIjsgLy8gTmV3CgogICAgICAgICAgLyogTnVtYmVyICovCgogICAgICAgICAgaWYgKGNvdW50ZXIgPT09IDEpIHsKICAgICAgICAgICAgZXhwZW5zZS5udW1iZXIgPSBfdGhpczkubnVtYmVycy5udW1iZXI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBleHBlbnNlLm51bWJlciA9IF90aGlzOS5hcHBseVByZWZpeE51bWJlcihsYXN0TnVtYmVyKTsKICAgICAgICAgICAgbGFzdE51bWJlcisrOwogICAgICAgICAgfQoKICAgICAgICAgIGNvdW50ZXIrKzsKICAgICAgICAgIGV4cGVuc2UucHJlZml4X2Zvcm1hdCA9IF90aGlzOS5udW1iZXJzLnByZWZpeF9mb3JtYXQ7IC8vIERhdGUKCiAgICAgICAgICBleHBlbnNlLmV4cGVuc2VfZGF0ZSA9IEhlbHBlci50b0lTT0RhdGUoX3RoaXM5LmV4cGVuc2VTdW1tYXJ5LmRhdGUpOwogICAgICAgICAgZXhwZW5zZS5iaWxsX2RhdGUgPSBIZWxwZXIudG9JU09EYXRlKHZhbHVlLmJpbGxfZGF0ZSk7IC8vIFN1cHBsaWVyCgogICAgICAgICAgZXhwZW5zZS5zdXBwbGllciA9IG5ldyBDb250YWN0TW9kZWwodmFsdWUuc3VwcGxpZXIpOyAvLyBFbXBsb3llZQoKICAgICAgICAgIGV4cGVuc2UuZW1wbG95ZWUgPSBuZXcgQ29udGFjdE1vZGVsKF90aGlzOS5lbXBsb3llZSk7IC8vIFNpZGViYXIKCiAgICAgICAgICBleHBlbnNlLmxvY2F0aW9uX3V1aWQgPSBfdGhpczkubG9jYXRpb24uaWQ7CiAgICAgICAgICBleHBlbnNlLnNlZ21lbnRfdXVpZCA9IF90aGlzOS5zZWdtZW50LmlkOwogICAgICAgICAgZXhwZW5zZS5wcm9qZWN0X3V1aWQgPSBfdGhpczkucHJvamVjdC5pZDsgLy8gVXNlcgoKICAgICAgICAgIGV4cGVuc2UuY3JlYXRlZF9ieSA9IF90aGlzOS51c2VyOwogICAgICAgICAgLyogRU5UUklFUyAqLwoKICAgICAgICAgIHZhciBlbnRyeSA9IG5ldyBFeHBlbnNlRW50cnlNb2RlbCh2YWx1ZSk7IC8vIEFjY291bnQKCiAgICAgICAgICBlbnRyeS5hY2NvdW50ID0gbmV3IEFjY291bnRNb2RlbCh2YWx1ZS5hY2NvdW50KTsKICAgICAgICAgIGVudHJ5LmFjY291bnRfdXVpZCA9IHZhbHVlLmFjY291bnQudXVpZDsgLy8gQ29udGFjdAoKICAgICAgICAgIGVudHJ5LnByaW1hcnlfY29udGFjdCA9IG5ldyBDb250YWN0TW9kZWwodmFsdWUuc3VwcGxpZXIpOwogICAgICAgICAgZW50cnkuc2Vjb25kYXJ5X2NvbnRhY3RzID0gW25ldyBDb250YWN0TW9kZWwoX3RoaXM5LmVtcGxveWVlKV07IC8vIEN1cnJlbmN5CgogICAgICAgICAgZW50cnkuY3VycmVuY3kgPSBuZXcgQ3VycmVuY3lNb2RlbCh2YWx1ZS5iaWxsX2N1cnJlbmN5KTsKICAgICAgICAgIGVudHJ5LmV4Y2hhbmdlX3JhdGVfdXVpZCA9IHZhbHVlLmV4Y2hhbmdlX3JhdGVfdXVpZDsKICAgICAgICAgIGVudHJ5LmV4Y2hhbmdlX3JhdGUgPSB2YWx1ZS5leGNoYW5nZV9yYXRlOwogICAgICAgICAgZW50cnkuZXhjaGFuZ2VkX2Ftb3VudCA9IHZhbHVlLmV4Y2hhbmdlZF9hbW91bnQ7IC8vIERpc2NvdW50CgogICAgICAgICAgZW50cnkuZGlzY291bnQgPSBuZXcgRGlzY291bnRJdGVtTW9kZWwodmFsdWUuZGlzY291bnQpOyAvLyBUYXgKCiAgICAgICAgICBlbnRyeS50YXhfaXRlbSA9IG5ldyBUYXhNb2RlbCh2YWx1ZS50YXhfaXRlbSk7CiAgICAgICAgICAvKiBFeHBlbnNlIEFjY291bnQgb24gRHIgKi8KCiAgICAgICAgICBlbnRyaWVzLnB1c2gobmV3IEV4cGVuc2VFbnRyeU1vZGVsKGVudHJ5KSk7IC8vIERpc2NvdW50IG9uIENyCgogICAgICAgICAgdmFyIGRpc2NvdW50QW1vdW50ID0gMDsKICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnZGlzY291bnQnKSkgaWYgKHZhbHVlLmRpc2NvdW50Lmhhc093blByb3BlcnR5KCdpZCcpKSBpZiAodmFsdWUuZGlzY291bnQuaWQgIT09ICIiKSB7CiAgICAgICAgICAgIHZhciBzdWJUbyA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucHJpY2UpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdWFudGl0eSk7CiAgICAgICAgICAgIGRpc2NvdW50QW1vdW50ID0gX3RoaXM5LmNhbGN1bGF0ZURpc2NvdW50KHZhbHVlLmRpc2NvdW50LCBzdWJUbyk7CiAgICAgICAgICAgIC8qIERpc2NvdW50IEVudHJ5ICovCgogICAgICAgICAgICB2YXIgZGlzY291bnRFbnRyeSA9IG5ldyBFeHBlbnNlRW50cnlNb2RlbChlbnRyeSk7CiAgICAgICAgICAgIGRpc2NvdW50RW50cnkuYWNjb3VudCA9IG5ldyBBY2NvdW50TW9kZWwodmFsdWUuZGlzY291bnQuYWNjb3VudCk7CiAgICAgICAgICAgIGRpc2NvdW50RW50cnkuYWNjb3VudF91dWlkID0gdmFsdWUuZGlzY291bnQuYWNjb3VudC51dWlkOwogICAgICAgICAgICBkaXNjb3VudEVudHJ5LmFtb3VudCA9IGRpc2NvdW50QW1vdW50ICogLTE7IC8vIENyIHNpZGUgaXMgbmVnYXRpdmUKCiAgICAgICAgICAgIGRpc2NvdW50RW50cnkuZXhjaGFuZ2VkX2Ftb3VudCA9IGRpc2NvdW50QW1vdW50ICogdmFsdWUuZXhjaGFuZ2VfcmF0ZTsKICAgICAgICAgICAgZGlzY291bnRFbnRyeS50YXhfYW1vdW50ID0gMDsKICAgICAgICAgICAgZGlzY291bnRFbnRyeS5leGNoYW5nZWRfdGF4X2Ftb3VudCA9IDA7CiAgICAgICAgICAgIC8qIFB1c2ggRGlzY291bnQgRW50cnkgKi8KCiAgICAgICAgICAgIGVudHJpZXMucHVzaChkaXNjb3VudEVudHJ5KTsKICAgICAgICAgIH0gLy8gVGF4ZXMgb24gRHIKCiAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoJ3RheF9pdGVtJykpIGlmICh2YWx1ZS50YXhfaXRlbS5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkgaWYgKHZhbHVlLnRheF9pdGVtLmlkICE9PSAiIikgewogICAgICAgICAgICB2YXIgYW10QWZ0ZXJEaXNjb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSAtIGRpc2NvdW50QW1vdW50OwoKICAgICAgICAgICAgdmFyIHRheEFtb3VudCA9IF90aGlzOS5hdXRvQ2FsY3VsYXRlVGF4KHZhbHVlLnRheF9pdGVtLCBhbXRBZnRlckRpc2NvdW50KTsKCiAgICAgICAgICAgIGlmICh2YWx1ZS50YXhfaXRlbS5oYXNPd25Qcm9wZXJ0eSgndGF4VHlwZScpKSBpZiAodmFsdWUudGF4X2l0ZW0udGF4VHlwZS5oYXNPd25Qcm9wZXJ0eSgndHlwZUlkJykpIGlmICh2YWx1ZS50YXhfaXRlbS50YXhUeXBlLnR5cGVJZCA9PT0gMikgewogICAgICAgICAgICAgIC8qIFdIRCBUYXggb24gQ3Igc2lkZSAqLwogICAgICAgICAgICAgIGlmICh2YWx1ZS50YXhfaXRlbS5iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCkgPT09ICJuZXQiKSB7CiAgICAgICAgICAgICAgICAvKiBXSEQgVGF4IE5ldCBvbiBEciBzaWRlICovCiAgICAgICAgICAgICAgICAvLyBBZGQgQW5vdGhlciBUYXggUmVsYXRlZCBFeHBlbnNlIEFjY291bnQKICAgICAgICAgICAgICAgIHZhciB0YXhSZWxhdGVkRXhwZW5zZUFjY291bnQgPSBuZXcgQWNjb3VudE1vZGVsKF90aGlzOS5hY2NvdW50cy5maW5kKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpLmJhbmhqaUFjY0NvZGUgPT09IEFjY291bnRUeXBlQ29kZS5UQVhfUkVMQVRFRF9FWFBFTlNFX0NPREU7CiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAvKiBUYXggUmVsYXRlZCBFeHBlbnNlIEVudHJ5IG9uIERyICovCgogICAgICAgICAgICAgICAgdmFyIHRheFJlbGF0ZWRFeHBlbnNlRW50cnkgPSBuZXcgRXhwZW5zZUVudHJ5TW9kZWwoZW50cnkpOwogICAgICAgICAgICAgICAgdGF4UmVsYXRlZEV4cGVuc2VFbnRyeS5hY2NvdW50ID0gdGF4UmVsYXRlZEV4cGVuc2VBY2NvdW50OwogICAgICAgICAgICAgICAgdGF4UmVsYXRlZEV4cGVuc2VFbnRyeS5hY2NvdW50X3V1aWQgPSB0YXhSZWxhdGVkRXhwZW5zZUFjY291bnQudXVpZDsKICAgICAgICAgICAgICAgIHRheFJlbGF0ZWRFeHBlbnNlRW50cnkuZGVzY3JpcHRpb24gPSBpMThuLnQoIndpdGhvbGRpbmdfdGF4X2V4cGVuc2UiKTsKICAgICAgICAgICAgICAgIHRheFJlbGF0ZWRFeHBlbnNlRW50cnkuYW1vdW50ID0gdGF4QW1vdW50OwogICAgICAgICAgICAgICAgdGF4UmVsYXRlZEV4cGVuc2VFbnRyeS5leGNoYW5nZWRfYW1vdW50ID0gdGF4QW1vdW50ICogdmFsdWUuZXhjaGFuZ2VfcmF0ZTsKICAgICAgICAgICAgICAgIHRheFJlbGF0ZWRFeHBlbnNlRW50cnkudGF4X2Ftb3VudCA9IDA7CiAgICAgICAgICAgICAgICB0YXhSZWxhdGVkRXhwZW5zZUVudHJ5LmV4Y2hhbmdlZF90YXhfYW1vdW50ID0gMDsKICAgICAgICAgICAgICAgIC8qIFB1c2ggVGF4IFJlbGF0ZWQgRXhwZW5zZSBFbnRyeSAqLwoKICAgICAgICAgICAgICAgIGVudHJpZXMucHVzaCh0YXhSZWxhdGVkRXhwZW5zZUVudHJ5KTsKICAgICAgICAgICAgICB9IC8vIFdIRCBUYXgKCgogICAgICAgICAgICAgIHRheEFtb3VudCAqPSAtMTsgLy8gQ3Igc2lkZQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8qIFRheCBFbnRyeSAqLwoKICAgICAgICAgICAgdmFyIHRheEVudHJ5ID0gbmV3IEV4cGVuc2VFbnRyeU1vZGVsKGVudHJ5KTsKICAgICAgICAgICAgdGF4RW50cnkuYWNjb3VudCA9IG5ldyBBY2NvdW50TW9kZWwodmFsdWUudGF4X2l0ZW0uYWNjb3VudCk7CiAgICAgICAgICAgIHRheEVudHJ5LmFjY291bnRfdXVpZCA9IHZhbHVlLnRheF9pdGVtLmFjY291bnQudXVpZDsKICAgICAgICAgICAgdGF4RW50cnkuYW1vdW50ID0gdGF4QW1vdW50OwogICAgICAgICAgICB0YXhFbnRyeS5leGNoYW5nZWRfYW1vdW50ID0gdGF4QW1vdW50ICogdmFsdWUuZXhjaGFuZ2VfcmF0ZTsKICAgICAgICAgICAgdGF4RW50cnkudGF4X2Ftb3VudCA9IDA7CiAgICAgICAgICAgIHRheEVudHJ5LmV4Y2hhbmdlZF90YXhfYW1vdW50ID0gMDsKICAgICAgICAgICAgLyogUHVzaCBUYXggRW50cnkgKi8KCiAgICAgICAgICAgIGVudHJpZXMucHVzaCh0YXhFbnRyeSk7CiAgICAgICAgICB9IC8vIFRyYW5zYWN0aW9uIEVudHJpZXMgb24gQ3IKCiAgICAgICAgICBlbnRyaWVzLnB1c2gobmV3IEV4cGVuc2VFbnRyeU1vZGVsKHsKICAgICAgICAgICAgYWNjb3VudDogbmV3IEFjY291bnRNb2RlbChfdGhpczkudHJhbnNhY3Rpb25BY2NvdW50KSwKICAgICAgICAgICAgYWNjb3VudF91dWlkOiBfdGhpczkudHJhbnNhY3Rpb25BY2NvdW50LnV1aWQsCiAgICAgICAgICAgIHByaW1hcnlfY29udGFjdDogbmV3IENvbnRhY3RNb2RlbCh2YWx1ZS5zdXBwbGllciksCiAgICAgICAgICAgIHNlY29uZGFyeV9jb250YWN0czogW25ldyBDb250YWN0TW9kZWwoX3RoaXM5LmVtcGxveWVlKV0sCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBfdGhpczkuZXhwZW5zZVN1bW1hcnkuZGVzY3JpcHRpb24sCiAgICAgICAgICAgIGN1cnJlbmN5OiB2YWx1ZS5iaWxsX2N1cnJlbmN5LAogICAgICAgICAgICBhbW91bnQ6IHZhbHVlLmFtb3VudCAqIC0xLAogICAgICAgICAgICAvLyBDciBzaWRlIGlzIG5lZ2F0aXZlCiAgICAgICAgICAgIGV4Y2hhbmdlX3JhdGVfdXVpZDogdmFsdWUuZXhjaGFuZ2VfcmF0ZV91dWlkLAogICAgICAgICAgICBleGNoYW5nZV9yYXRlOiB2YWx1ZS5leGNoYW5nZV9yYXRlLAogICAgICAgICAgICBleGNoYW5nZWRfYW1vdW50OiB2YWx1ZS5hbW91bnQgKiAtMSAqIHZhbHVlLmV4Y2hhbmdlX3JhdGUKICAgICAgICAgIH0pKTsKICAgICAgICAgIC8qIEFkZCBFbnRyaWVzICovCgogICAgICAgICAgZXhwZW5zZS5leHBlbnNlX2VudHJpZXMgPSBlbnRyaWVzOyAvLyBtYXBwaW5nIHRvIER5bmFtb2RiICggZXhwZW5zZSByZWNvcmQgKQoKICAgICAgICAgIF90aGlzOS5tYXBwaW5nRXhwZW5zZShleHBlbnNlLCBlbnRyeSk7CiAgICAgICAgICAvKiBKT1VSTkFMICovCgoKICAgICAgICAgIHZhciBqb3VybmFsID0gbmV3IEpvdXJuYWxNb2RlbCgpOwogICAgICAgICAgam91cm5hbC5udW1iZXIgPSBleHBlbnNlLm51bWJlcjsKICAgICAgICAgIGpvdXJuYWwuZGVzY3JpcHRpb24gPSBleHBlbnNlLmpvdXJuYWxfbm90ZTsKICAgICAgICAgIGpvdXJuYWwuam91cm5hbF9kYXRlID0gSGVscGVyLnRvSVNPRGF0ZShfdGhpczkuZXhwZW5zZVN1bW1hcnkuZGF0ZSk7CiAgICAgICAgICBqb3VybmFsLmpvdXJuYWxfdHlwZSA9IEVudGl0eVR5cGUuQVVUT19KT1VSTkFMOwogICAgICAgICAgam91cm5hbC50cmFuc2FjdGlvbl90eXBlID0gRW50aXR5VHlwZS5FWFBFTlNFUzsKICAgICAgICAgIGpvdXJuYWwucmVsYXRlZF90cmFuc2FjdGlvbl91dWlkID0gX3RoaXM5LmV4cGVuc2VTdW1tYXJ5LnVzZV9mb3JfdHJhbnNhY3Rpb25fdXVpZDsKICAgICAgICAgIGpvdXJuYWwubW9udGhfb2YgPSBfdGhpczkuZXhwZW5zZVN1bW1hcnkubW9udGhfb2Y7CiAgICAgICAgICBqb3VybmFsLmxvY2F0aW9uX3V1aWQgPSBleHBlbnNlLmxvY2F0aW9uX3V1aWQ7CiAgICAgICAgICBqb3VybmFsLnByb2plY3RfdXVpZCA9IGV4cGVuc2UucHJvamVjdF91dWlkOwogICAgICAgICAgam91cm5hbC5zZWdtZW50X3V1aWQgPSBleHBlbnNlLnNlZ21lbnRfdXVpZDsKICAgICAgICAgIGpvdXJuYWwucHJlZml4X2Zvcm1hdCA9IF90aGlzOS5udW1iZXJzLnByZWZpeF9mb3JtYXQ7CiAgICAgICAgICBqb3VybmFsLmlzX2RyYWZ0ID0gZXhwZW5zZS5pc19kcmFmdDsKICAgICAgICAgIGpvdXJuYWwuY3JlYXRlZF9kYXRlID0gZXhwZW5zZS5jcmVhdGVkX2RhdGU7CiAgICAgICAgICBqb3VybmFsLmNyZWF0ZWRfYnkgPSBleHBlbnNlLmNyZWF0ZWRfYnk7CiAgICAgICAgICBqb3VybmFsLm1vZGlmaWVkX2J5ID0gZXhwZW5zZS5tb2RpZmllZF9ieTsKICAgICAgICAgIHZhciBqb3VybmFsRW50cmllcyA9IFtdOwogICAgICAgICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICB2YXIgZW50cnkgPSBuZXcgSm91cm5hbEVudHJ5TW9kZWwodmFsdWUpOwogICAgICAgICAgICAvKiBBcHBseSBJbmNsdXNpdmUgVGF4IHRvIGFtb3VudCAqLwoKICAgICAgICAgICAgaWYgKHZhbHVlLnRheF9hbW91bnQgIT09IDApIHsKICAgICAgICAgICAgICBpZiAodmFsdWUudGF4X2l0ZW0uaGFzT3duUHJvcGVydHkoInRheFR5cGUiKSkgewogICAgICAgICAgICAgICAgaWYgKHZhbHVlLnRheF9pdGVtLnRheFR5cGUuaGFzT3duUHJvcGVydHkoInR5cGVJZCIpKSB7CiAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS50YXhfaXRlbS50YXhUeXBlLnR5cGVJZCA9PT0gMSAmJiB2YWx1ZS50YXhfaXRlbS5iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCkgPT09IFRheFR5cGUuSU5DTFVTSVZFKSB7CiAgICAgICAgICAgICAgICAgICAgZW50cnkuYW1vdW50ID0gdmFsdWUuYW1vdW50ICsgdmFsdWUudGF4X2Ftb3VudDsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZW50cnkuZXhjaGFuZ2VkX2Ftb3VudCA9IGVudHJ5LmFtb3VudCAqIHZhbHVlLmV4Y2hhbmdlX3JhdGU7IC8vIEFkZCBFbnRyeQoKICAgICAgICAgICAgam91cm5hbEVudHJpZXMucHVzaChlbnRyeSk7CiAgICAgICAgICB9KTsgLy8gQWRkIEVudHJ5CgogICAgICAgICAgZXhwZW5zZUxpc3QucHVzaCh7CiAgICAgICAgICAgIGV4cGVuc2U6IGV4cGVuc2UsCiAgICAgICAgICAgIGpvdXJuYWw6IGpvdXJuYWwsCiAgICAgICAgICAgIGpvdXJuYWxfZW50cmllczogam91cm5hbEVudHJpZXMKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvKiBVcGRhdGUgRXhwZW5zZSBTdW1tYXJ5IERldGFpbCBTdGF0dXMgUmVqZWN0ICovCiAgICAgICAgICB2YWx1ZS5zZXQoInN0YXR1cyIsIDIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIC8qIEFkZCBWZXJpZmllZCAqLwoKICAgICAgdGhpcy52ZXJpZmllZEV4cGVuc2VzID0gZXhwZW5zZUxpc3Q7CiAgICB9LAogICAgLy8gVmFsaWRhdGluZwogICAgdmFsaWRhdGVGb3JtOiBmdW5jdGlvbiB2YWxpZGF0ZUZvcm0oKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHZhciByZXN1bHQgPSB0cnVlLAogICAgICAgICAgZXhwRFMgPSB0aGlzLiRyZWZzLmV4cGVuc2VBY2NvdW50RFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIG1zZyA9ICIiOyAvLyBFeHBlbnNlCgogICAgICBleHBEUy5kYXRhKCkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgaWYgKH5fdGhpczEwLnNlbGVjdGVkRXhwZW5zZUlkcy5pbmRleE9mKHZhbHVlLnV1aWQpKSB7CiAgICAgICAgICBpZiAodmFsdWUuc3VwcGxpZXIubmFtZSAhPT0gIiIgJiYgdmFsdWUuYW1vdW50ID4gMCkgewogICAgICAgICAgICAvLyBObyBkYXRlCiAgICAgICAgICAgIGlmICh2YWx1ZS5iaWxsX2RhdGUgPT09ICIiKSB7CiAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgICAgICAgICAgbXNnICs9ICI8cD4iLmNvbmNhdChpMThuLnQoInBsZWFzZV9zZWxlY3RfZGF0ZV9hdF9yb3dfbnVtYmVyIiksICIgIikuY29uY2F0KGluZGV4ICsgMSwgIjwvcD4iKTsKICAgICAgICAgICAgfSAvLyBObyBudW1iZXIKCgogICAgICAgICAgICBpZiAodmFsdWUuYmlsbF9udW1iZXIgPT09ICIiKSB7CiAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgICAgICAgICAgbXNnICs9ICI8cD4iLmNvbmNhdChpMThuLnQoInBsZWFzZV9pbnB1dF9iaWxsX251bWJlcl9hdF9yb3dfbnVtYmVyIiksICIgIikuY29uY2F0KGluZGV4ICsgMSwgIjwvcD4iKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSAvLyBObyBzdXBwbGllcgoKCiAgICAgICAgICBpZiAodmFsdWUuc3VwcGxpZXIubmFtZSA9PT0gIiIgJiYgdmFsdWUuYW1vdW50ID4gMCkgewogICAgICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgICAgICAgbXNnICs9ICI8cD4iLmNvbmNhdChpMThuLnQoInBsZWFzZV9zZWxlY3Rfc3VwcGxpZXJfYXRfcm93X251bWJlciIpLCAiICIpLmNvbmNhdChpbmRleCArIDEsICI8L3A+Iik7CiAgICAgICAgICB9IC8vIE5vIGFtb3VudAoKCiAgICAgICAgICBpZiAodmFsdWUuc3VwcGxpZXIubmFtZSAhPT0gIiIgJiYgdmFsdWUuYW1vdW50ID09PSAwKSB7CiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICAgICAgICBtc2cgKz0gIjxwPiIuY29uY2F0KHZhbHVlLnN1cHBsaWVyLm5hbWUsICIgIikuY29uY2F0KGkxOG4udCgiaGFzX25vX2Ftb3VudCIpLCAiPC9wPiIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7IC8vIE5vbiBzZWxlY3RlZCBleHBlbnNlCgogICAgICBpZiAodGhpcy5zZWxlY3RlZEV4cGVuc2VJZHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgbXNnICs9ICI8cD4iLmNvbmNhdChpMThuLnQoInBsZWFzZV9zZWxlY3RfYXRfbGVhc3Rfb25lX3JvdyIpLCAiPC9wPiIpOwogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICB9IC8vIFVzZSBmb3IgQ2FzaCBBZHZhbmNlCgoKICAgICAgaWYgKHRoaXMuZXhwZW5zZVN1bW1hcnkudXNlX2Zvcl9vcHRpb24gPT09IDIgJiYgdGhpcy5leHBlbnNlU3VtbWFyeS51c2VfZm9yX3RyYW5zYWN0aW9uX3V1aWQgPT09ICIiKSB7CiAgICAgICAgbXNnICs9ICI8cD4iLmNvbmNhdChpMThuLnQoInBsZWFzZV9zZWxlY3RfcmVsYXRlZF9jYXNoX2FkdmFuY2UiKSwgIjwvcD4iKTsKICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgfQogICAgICAvKiBUcmFuc2FjaXRvbiBBY2NvdW50ICovCgoKICAgICAgaWYgKHRoaXMudHJhbnNhY3Rpb25BY2NvdW50LnV1aWQgPT09ICIiKSB7CiAgICAgICAgbXNnICs9ICI8cD4iLmNvbmNhdChpMThuLnQoInRyYW5zYWN0aW9uX2FjY291bnRfaXNfcmVxdWlyZWQiKSwgIjwvcD4iKTsKICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgfQogICAgICAvKiBMb2NhdGlvbiAqLwoKCiAgICAgIGlmICh0aGlzLmxvY2F0aW9uLmlkID09PSAiIikgewogICAgICAgIG1zZyArPSAiPHA+Ii5jb25jYXQoaTE4bi50KCJsb2NhdGlvbl9pc19yZXF1aXJlZCIpLCAiPC9wPiIpOwogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICB9CiAgICAgIC8qIFNlZ21lbnQgKi8KCgogICAgICBpZiAodGhpcy5zZWdtZW50LmlkID09PSAiIikgewogICAgICAgIG1zZyArPSAiPHA+Ii5jb25jYXQoaTE4bi50KCJzZWdtZW50X2lzX3JlcXVpcmVkIiksICI8L3A+Iik7CiAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgIH0gLy8gU2hvdyBBbGVydAoKCiAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gbXNnOwogICAgICB0aGlzLmFsZXJ0ID0gcmVzdWx0ID09PSBmYWxzZTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICAvLyBBbGwgU2F2ZXMKICAgIG9uU2F2ZU9wdGlvbkNsaWNrOiBmdW5jdGlvbiBvblNhdmVPcHRpb25DbGljayhtb2RlKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciBpc1ZhbGlkQ2xvc2luZ0RhdGU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTEuJHJlZnMuZm9ybS52YWxpZGF0ZSgpICYmIF90aGlzMTEudmFsaWRhdGVGb3JtKCkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIEhlbHBlci52YWxpZGF0ZUNsb3NpbmdEYXRlKF90aGlzMTEuZXhwZW5zZVN1bW1hcnkuZGF0ZSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGlzVmFsaWRDbG9zaW5nRGF0ZSA9IF9jb250ZXh0Ny5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkQ2xvc2luZ0RhdGUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMS5zYXZlTW9kZSA9IG1vZGU7CgogICAgICAgICAgICAgICAgICBfdGhpczExLnNhdmUoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHRoaXMuJHN3YWwoewogICAgICAgIHRpdGxlOiBpMThuLnQoIm1zZ190aXRsZV93YXJuaW5nIiksCiAgICAgICAgdGV4dDogaTE4bi50KCJtc2dfZGlzY2FyZCIpLAogICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IGkxOG4udCgiY2FuY2VsIiksCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjRUQxQTNBIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogaTE4bi50KCJkaXNjYXJkIikKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgX3RoaXMxMi5jbGVhcigpOwoKICAgICAgICAgIF90aGlzMTIuc2V0RGVmYXVsdERhdGEoKTsKCiAgICAgICAgICBfdGhpczEyLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICAvLyBSZXNldCBGb3JtCiAgICAgIHRoaXMuaXNFZGl0ID0gZmFsc2U7CiAgICAgIHRoaXMuc2F2ZU1vZGUgPSAiIjsKICAgICAgdGhpcy5zdWJUb3RhbCA9IDA7CiAgICAgIHRoaXMuZGlzY291bnRBbW91bnQgPSAwOwogICAgICB0aGlzLnB1cmNoYXNlVGF4ID0gMDsKICAgICAgdGhpcy53aGRUYXggPSAwOwogICAgICB0aGlzLnRvdGFsQW1vdW50ID0gMDsKICAgICAgdGhpcy5hbW91bnREdWUgPSAwOwogICAgICB0aGlzLmRpc2FibGVQcm9qZWN0ID0gZmFsc2U7CiAgICAgIHRoaXMubnVtYmVycyA9IG51bGw7CiAgICAgIHRoaXMuc2VsZWN0ZWRFeHBlbnNlSWRzID0gW107CiAgICAgIHRoaXMudmVyaWZpZWRFeHBlbnNlcyA9IFtdOwogICAgICB0aGlzLmV4cGVuc2VTdW1tYXJ5ID0gbmV3IEV4cGVuc2VTdW1tYXJ5TW9kZWwoKTsKICAgICAgdGhpcy5leHBlbnNlRW50cmllcyA9IFtdOwogICAgICB0aGlzLmVtcGxveWVlID0gbmV3IEVtcGxveWVlTW9kZWwoKTsKICAgICAgdGhpcy5sb2NhdGlvbiA9IG5ldyBMb2NhdGlvbk1vZGVsKCk7CiAgICAgIHRoaXMuc2VnbWVudCA9IG5ldyBTZWdtZW50TW9kZWwoKTsKICAgICAgdGhpcy5wcm9qZWN0ID0gbmV3IFByb2plY3RNb2RlbCgpOwogICAgICB2YXIgZXhwRFMgPSB0aGlzLiRyZWZzLmV4cGVuc2VBY2NvdW50RFMua2VuZG9XaWRnZXQoKTsKICAgICAgZXhwRFMuZGF0YShbXSk7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOyAvLyBTaHJpbmsgRGF0YQoKICAgICAgdGhpcy5zaHJpbmtEYXRhKCk7IC8vIFN5bmMgRGF0YQoKICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgIGV4cGVuc2VIYW5kbGVyLnNhdmVCYXRjaCh0aGlzLnZlcmlmaWVkRXhwZW5zZXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlKSB7CiAgICAgICAgICBzZWxmLnVwZGF0ZUV4cGVuc2VTdW1tYXJ5KCk7CiAgICAgICAgICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YSB8fCBbXTsKICAgICAgICAgIHNlbGYuc2F2ZVR4bkV4cGVuc2UocmVzKTsKICAgICAgICAgIHNlbGYucmVzcG9uc2VTdGF0dXMocmVzcG9uc2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBIZWxwZXIuYWxlcnRFcnJvck1zZyhpMThuLnQoImVycm9yX3NvbWV0aGluZ193cm9uZyIpKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHNlbGYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICBIZWxwZXIuYWxlcnRFcnJvck1zZyhlcnJvcik7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qIFVwZGF0ZSBFeHBlbnNlIFN1bW1hcnkgKi8KICAgIHVwZGF0ZUV4cGVuc2VTdW1tYXJ5OiBmdW5jdGlvbiB1cGRhdGVFeHBlbnNlU3VtbWFyeSgpIHsKICAgICAgLy8gbGV0IGV4cCA9IHRoaXMuZ2V0RXhwKCk7CiAgICAgIC8vIGxldCBleHBTdW0gPSB7CiAgICAgIC8vIAl1dWlkICAgICAgICAgICAgICAgICAgICAgICA6IGV4cC51dWlkLAogICAgICAvLyAJbnVtYmVyICAgICAgICAgICAgICAgICAgICAgOiBleHAubnVtYmVyLAogICAgICAvLyAJZGF0ZSAgICAgICAgICAgICAgICAgICAgICAgOiBleHAuZGF0ZSwKICAgICAgLy8gCWVtcGxveWVlICAgICAgICAgICAgICAgICAgIDogZXhwLmVtcGxveWVlLAogICAgICAvLyAJc2VnbWVudF91dWlkICAgICAgICAgICAgICAgOiBleHAuc2VnbWVudF91dWlkLAogICAgICAvLyAJbG9jYXRpb25fdXVpZCAgICAgICAgICAgICAgOiBleHAubG9jYXRpb25fdXVpZCwKICAgICAgLy8gCXByb2plY3RfdXVpZCAgICAgICAgICAgICAgIDogZXhwLnByb2plY3RfdXVpZCwKICAgICAgLy8gCW1vbnRoX29mICAgICAgICAgICAgICAgICAgIDogZXhwLm1vbnRoX29mLAogICAgICAvLyAJdXNlX2Zvcl9vcHRpb24gICAgICAgICAgICAgOiBleHAudXNlX2Zvcl9vcHRpb24sCiAgICAgIC8vIAl1c2VfZm9yX3RyYW5zYWN0aW9uX3V1aWQgICA6IGV4cC51c2VfZm9yX3RyYW5zYWN0aW9uX3V1aWQsCiAgICAgIC8vIAlkZXNjcmlwdGlvbiAgICAgICAgICAgICAgICA6IGV4cC5kZXNjcmlwdGlvbiwKICAgICAgLy8gCXN1bW1hcnlfZGV0YWlscyAgICAgICAgICAgIDogZXhwLnN1bW1hcnlfZGV0YWlscywKICAgICAgLy8gCWlzX2RyYWZ0ICAgICAgICAgICAgICAgICAgIDogZXhwLmlzX2RyYWZ0LAogICAgICAvLyAJaXNfY2xlYXJlZCAgICAgICAgICAgICAgICAgOiBleHAuaXNfY2xlYXJlZCwKICAgICAgLy8gCWNyZWF0ZWRfYnkgICAgICAgICAgICAgICAgIDogZXhwLmNyZWF0ZWRfYnksCiAgICAgIC8vIAltb2RpZmllZF9ieSAgICAgICAgICAgICAgICA6IGV4cC5tb2RpZmllZF9ieSwKICAgICAgLy8gCWNyZWF0ZWRfZGF0ZSAgICAgICAgICAgICAgIDogZXhwLmNyZWF0ZWRfZGF0ZSwKICAgICAgLy8gCW1vZGlmaWVkX2RhdGUgICAgICAgICAgICAgIDogZXhwLm1vZGlmaWVkX2RhdGUsCiAgICAgIC8vIH07CiAgICAgIGV4cGVuc2VTdW1tYXJ5SGFuZGxlci5zYXZlKHRoaXMuZXhwZW5zZVN1bW1hcnkpOwogICAgfSwKICAgIC8vIFJlc3BvbnNlIFN0YXR1cwogICAgcmVzcG9uc2VTdGF0dXM6IGZ1bmN0aW9uIHJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlKSB7CiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgIGlmICh0aGlzLnNhdmVNb2RlID09PSBTYXZlT3B0aW9uLlNBVkVDTE9TRSB8fCB0aGlzLnNhdmVNb2RlID09PSBTYXZlT3B0aW9uLkRFTEVURSkgewogICAgICAgICAgdGhpcy5jbGVhcigpOwogICAgICAgICAgdGhpcy5zZXREZWZhdWx0RGF0YSgpOwogICAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLyogU2F2ZSBOZXcgKi8KICAgICAgICAgIHRoaXMuY2xlYXIoKTsKICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdERhdGEoKTsKICAgICAgICB9CiAgICAgICAgLyogQWxlcnQgU3VjY2VzcyAqLwoKCiAgICAgICAgdGhpcy4kc25vdGlmeS5zdWNjZXNzKGkxOG4udCgic3VjY2Vzc2Z1bCIpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvKiBBbGVydCBFcnJvciAqLwogICAgICAgIHRoaXMuJHNub3RpZnkuZXJyb3IoaTE4bi50KCJlcnJvcl9zb21ldGhpbmdfd3JvbmciKSk7CiAgICAgIH0KICAgIH0sCiAgICBIaWRlU21hbGxTaWRlQmFyOiBmdW5jdGlvbiBIaWRlU21hbGxTaWRlQmFyKCkgewogICAgICB0aGlzLmlzSGlkZUJhciA9ICF0aGlzLmlzSGlkZUJhcjsKICAgIH0sCiAgICBtYXBwaW5nRXhwZW5zZTogZnVuY3Rpb24gbWFwcGluZ0V4cGVuc2UoZXhwZW5zZSwgZW50cnkpIHsKICAgICAgaWYgKHRoaXMuZXhwZW5zZVN1bW1hcnkudXNlX2Zvcl9vcHRpb24gPT09IDApIHsKICAgICAgICB0aGlzLnR4bkV4cGVuc2UgPSBuZXcgRXhwZW5zZXMoKTsKICAgICAgICBlbnRyeVsnaWQnXSA9ICdsaW4tJyArIHV1aWQudjEoKTsKICAgICAgICB2YXIgc3ViVG90YWwgPSBlbnRyeS5hbW91bnQgfHwgMDsKICAgICAgICB2YXIgZGlzY291bnQgPSB0aGlzLmNhbGN1bGF0ZURpc2NvdW50KGVudHJ5LmRpc2NvdW50LCBzdWJUb3RhbCk7CiAgICAgICAgdmFyIGFtb3VudCA9IGVudHJ5LmFtb3VudCB8fCAwOwogICAgICAgIHZhciBhbW91bnRBZnRlckRpc2NvdW50ID0gYW1vdW50IC0gKGRpc2NvdW50IHx8IDApOwogICAgICAgIHZhciB0YXhJdGVtID0gZW50cnkudGF4X2l0ZW0gfHwge307CiAgICAgICAgdmFyIHRheEFjY291bnQgPSB0YXhJdGVtLmFjY291bnQgfHwge307CiAgICAgICAgdmFyIHRheEFjY291bnRUeXBlID0gdGF4QWNjb3VudC5hY2NvdW50X3R5cGUgfHwge307CiAgICAgICAgdmFyIHRheEFtb3VudCA9IHRoaXMuYXV0b0NhbGN1bGF0ZVRheChlbnRyeS50YXhfaXRlbSwgYW1vdW50QWZ0ZXJEaXNjb3VudCk7CiAgICAgICAgdmFyIHB1cmNoYXNlVGF4QW1vdW50ID0gMDsKICAgICAgICB2YXIgd2hkVGF4QW1vdW50ID0gMDsgLy8gUHVyY2hhc2UgVGF4CgogICAgICAgIGlmICh0YXhBY2NvdW50VHlwZS5udW1iZXIgPT09IEFjY291bnRUeXBlQ29kZS5QVVJDSEFTRV9UQVgpIHsKICAgICAgICAgIHB1cmNoYXNlVGF4QW1vdW50ID0gdGF4QW1vdW50IHx8IDA7CiAgICAgICAgfSBlbHNlIGlmICh0YXhBY2NvdW50VHlwZS5udW1iZXIgPT09IEFjY291bnRUeXBlQ29kZS5XSERfVEFYKSB7CiAgICAgICAgICB3aGRUYXhBbW91bnQgPSB0YXhBbW91bnQgfHwgMDsKICAgICAgICB9CgogICAgICAgIHZhciB0b3RhbCA9IHN1YlRvdGFsIC0gKGRpc2NvdW50IHx8IDApICsgcHVyY2hhc2VUYXhBbW91bnQgLSB3aGRUYXhBbW91bnQ7CiAgICAgICAgdGhpcy50eG5FeHBlbnNlLmlkID0gJyc7CiAgICAgICAgdGhpcy50eG5FeHBlbnNlLmpvdXJuYWxfdXVpZCA9ICcnOwogICAgICAgIHRoaXMudHhuRXhwZW5zZS50eXBlID0gIkV4cGVuc2UiOwogICAgICAgIHRoaXMudHhuRXhwZW5zZS5hYmJyID0gJyc7CiAgICAgICAgdGhpcy50eG5FeHBlbnNlLnRyYW5zYWN0aW9uVHlwZSA9IHt9OwogICAgICAgIHRoaXMudHhuRXhwZW5zZS5yZWZlcmVuY2VObyA9IGV4cGVuc2UubnVtYmVyOwogICAgICAgIHRoaXMudHhuRXhwZW5zZS50cmFuc2FjdGlvbkRhdGUgPSBleHBlbnNlLmV4cGVuc2VfZGF0ZTsKICAgICAgICB0aGlzLnR4bkV4cGVuc2UuZHVlRGF0ZSA9IGV4cGVuc2UuZXhwZW5zZV9kYXRlOwogICAgICAgIHRoaXMudHhuRXhwZW5zZS5iaWxsRGF0ZSA9IGV4cGVuc2UuYmlsbF9kYXRlOwogICAgICAgIHRoaXMudHhuRXhwZW5zZS5iaWxsTnVtYmVyID0gZXhwZW5zZS5iaWxsX251bWJlcjsKICAgICAgICB0aGlzLnR4bkV4cGVuc2UuY3VycmVuY3kgPSB0aGlzLnJlbW92ZUVtcHR5VmFsdWVzKGVudHJ5LmN1cnJlbmN5KTsKICAgICAgICB0aGlzLnR4bkV4cGVuc2Uuc3VwcGxpZXIgPSB0aGlzLnN1cHBsaWVyTWFwKGV4cGVuc2Uuc3VwcGxpZXIpOwogICAgICAgIHRoaXMudHhuRXhwZW5zZS5lbXBsb3llZSA9IHRoaXMucmVtb3ZlRW1wdHlWYWx1ZXMoZXhwZW5zZS5lbXBsb3llZSk7CiAgICAgICAgdGhpcy50eG5FeHBlbnNlLnBheW1lbnRUZXJtID0gdGhpcy5wYXltZW50VGVybTsKICAgICAgICB0aGlzLnR4bkV4cGVuc2Uuc2VnbWVudCA9IHRoaXMucmVtb3ZlRW1wdHlWYWx1ZXModGhpcy5zZWdtZW50KTsKICAgICAgICB0aGlzLnR4bkV4cGVuc2UubG9jYXRpb24gPSB0aGlzLnJlbW92ZUVtcHR5VmFsdWVzKHRoaXMubG9jYXRpb24pOwogICAgICAgIHRoaXMudHhuRXhwZW5zZS5wcm9qZWN0ID0gdGhpcy5yZW1vdmVFbXB0eVZhbHVlcyh0aGlzLnByb2plY3QpOwogICAgICAgIHRoaXMudHhuRXhwZW5zZS5tb250aE9mID0gdGhpcy5leHBlbnNlU3VtbWFyeS5tb250aF9vZjsKICAgICAgICB0aGlzLnR4bkV4cGVuc2UuYWRkaXRpb25hbENvc3RTdXBwbGllciA9IHRoaXMucmVtb3ZlRW1wdHlWYWx1ZXMoZXhwZW5zZS5hZGRpdGlvbmFsX2Nvc3Rfc3VwcGxpZXIpOwogICAgICAgIHRoaXMudHhuRXhwZW5zZS51c2VfZm9yX3RyYW5zYWN0aW9uX3V1aWQgPSB0aGlzLmV4cGVuc2VTdW1tYXJ5LnVzZV9mb3JfdHJhbnNhY3Rpb25fdXVpZDsKICAgICAgICB0aGlzLnR4bkV4cGVuc2UudXNlRm9yT3B0aW9uID0gdGhpcy5leHBlbnNlU3VtbWFyeS51c2VfZm9yX29wdGlvbjsKICAgICAgICB0aGlzLnR4bkV4cGVuc2UudHJhbnNhY3Rpb25Ob3RlID0gZW50cnkuZGVzY3JpcHRpb24gfHwgJyc7CiAgICAgICAgdGhpcy50eG5FeHBlbnNlLmpvdXJuYWxOb3RlID0gdGhpcy5leHBlbnNlU3VtbWFyeS5kZXNjcmlwdGlvbiB8fCAnJzsKICAgICAgICB0aGlzLnR4bkV4cGVuc2UuaXRlbUxpbmVzID0gW2VudHJ5XTsKICAgICAgICB0aGlzLnR4bkV4cGVuc2UuYWNjb3VudCA9IG5ldyBBY2NvdW50TWFwcGluZ01vZGVsKHRoaXMudHJhbnNhY3Rpb25BY2NvdW50KTsKICAgICAgICB0aGlzLnR4bkV4cGVuc2Uuc2F2ZU9wdGlvbiA9IGV4cGVuc2UuaXNfZHJhZnQ7CiAgICAgICAgdGhpcy50eG5FeHBlbnNlLnN0YXR1cyA9IDE7CiAgICAgICAgdGhpcy50eG5FeHBlbnNlLmNyZWF0ZWRBdCA9IGV4cGVuc2UuY3JlYXRlZF9kYXRlOwogICAgICAgIHRoaXMudHhuRXhwZW5zZS50b3RhbCA9IHBhcnNlRmxvYXQodG90YWwpOwogICAgICAgIHRoaXMudHhuRXhwZW5zZS5leGNoYW5nZVRvdGFsID0gcGFyc2VGbG9hdCh0b3RhbCkgKiAoZW50cnkuZXhjaGFuZ2VfcmF0ZSB8fCAxKTsKICAgICAgICB0aGlzLnR4bkV4cGVuc2UuYW1vdW50RHVlID0gdG90YWw7CiAgICAgICAgdGhpcy50eG5FeHBlbnNlLnJlbWFpbmluZ0Ftb3VudCA9IHRvdGFsOwogICAgICAgIHRoaXMudHhuRXhwZW5zZS5zdWJUb3RhbCA9IHN1YlRvdGFsOwogICAgICAgIHRoaXMudHhuRXhwZW5zZS5wdXJjaGFzZVRheCA9IHB1cmNoYXNlVGF4QW1vdW50OwogICAgICAgIHRoaXMudHhuRXhwZW5zZS53aGRUYXggPSB3aGRUYXhBbW91bnQ7CiAgICAgICAgdGhpcy50eG5FeHBlbnNlLnN1cHBsaWVyRGlzY291bnRJdGVtID0gdGhpcy5yZW1vdmVEdXBsaWNhdGUoW2VudHJ5LmRpc2NvdW50XSB8fCBbXSk7CiAgICAgICAgdGhpcy50eG5FeHBlbnNlLmxvZ2dlZFVzZXIgPSB0aGlzLmxvZ2dlZFVzZXIoZXhwZW5zZS5jcmVhdGVkX2J5KTsKICAgICAgICB0aGlzLnR4bkV4cGVuc2UudHhuUmF0ZSA9IGVudHJ5LmV4Y2hhbmdlX3JhdGU7CiAgICAgICAgdGhpcy50eG5FeHBlbnNlLmRpc2NvdW50VG90YWwgPSBwYXJzZUZsb2F0KGRpc2NvdW50IHx8IDApOwogICAgICAgIHRoaXMudHhuRXhwZW5zZS5kZXBvc2l0QW1vdW50ID0gMDsKICAgICAgICB0aGlzLnR4bkV4cGVuc2UuZGVwb3NpdERlZHVjdGlvbiA9IDA7CiAgICAgICAgdGhpcy50eG5FeHBlbnNlLmV4Y2hhbmdlRGVwb3NpdERlZHVjdGlvbiA9IDA7CiAgICAgICAgdGhpcy50eG5FeHBlbnNlLmV4Y2hhbmdlQW1vdW50ID0gdG90YWwgKiAoZW50cnkuZXhjaGFuZ2VfcmF0ZSB8fCAxKTsKICAgICAgICB0aGlzLnR4bkV4cGVuc2VMaXN0LnB1c2godGhpcy50eG5FeHBlbnNlKTsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coIkV4cGVuc2UiLCB0aGlzLnR4bkV4cGVuc2VMaXN0KTsKICAgICAgfQogICAgfSwKICAgIGxvZ2dlZFVzZXI6IGZ1bmN0aW9uIGxvZ2dlZFVzZXIodXNlcikgewogICAgICBpZiAodXNlcikgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZDogdXNlci5pZCwKICAgICAgICAgIG5hbWU6IHVzZXIudXNlcl9uYW1lLAogICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwKICAgICAgICB9OwogICAgICB9CgogICAgICByZXR1cm4ge307CiAgICB9LAogICAgc3VwcGxpZXJNYXA6IGZ1bmN0aW9uIHN1cHBsaWVyTWFwKHN1cHBsaWVyKSB7CiAgICAgIGlmIChzdXBwbGllcikgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZDogc3VwcGxpZXIudXVpZCwKICAgICAgICAgIG5hbWU6IHN1cHBsaWVyLm5hbWUsCiAgICAgICAgICBlbWFpbDogc3VwcGxpZXIuZW1haWwsCiAgICAgICAgICBwaG9uZTogc3VwcGxpZXIucGhvbmUsCiAgICAgICAgICBhZGRyZXNzOiBzdXBwbGllci5hZGRyZXNzCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIHt9OwogICAgfSwKICAgIHJlbW92ZUVtcHR5VmFsdWVzOiBmdW5jdGlvbiByZW1vdmVFbXB0eVZhbHVlcyhvYmopIHsKICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gb2JqKSB7CiAgICAgICAgaWYgKCFvYmpbcHJvcE5hbWVdIHx8IG9ialtwcm9wTmFtZV0ubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICBkZWxldGUgb2JqW3Byb3BOYW1lXTsKICAgICAgICB9IGVsc2UgaWYgKF90eXBlb2Yob2JqW3Byb3BOYW1lXSkgPT09ICJvYmplY3QiKSB7CiAgICAgICAgICB0aGlzLnJlbW92ZUVtcHR5VmFsdWVzKG9ialtwcm9wTmFtZV0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIG9iajsKICAgIH0sCiAgICByZW1vdmVEdXBsaWNhdGU6IGZ1bmN0aW9uIHJlbW92ZUR1cGxpY2F0ZShhcnJheSkgewogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgIHZhciBtYXAgPSBuZXcgTWFwKCk7CgogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYXJyYXkpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgIGlmICghbWFwLmhhcyhpdGVtLmlkKSkgewogICAgICAgICAgICBtYXAuc2V0KGl0ZW0uaWQsIHRydWUpOyAvLyBzZXQgYW55IHZhbHVlIHRvIE1hcAoKICAgICAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgc2F2ZVR4bkV4cGVuc2U6IGZ1bmN0aW9uIHNhdmVUeG5FeHBlbnNlKHJlc3BvbnNlKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHRoaXMudHhuRXhwZW5zZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgIHZhciBmb3VuZCA9IHJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgcmV0dXJuIG4ubnVtYmVyID09PSBtLnJlZmVyZW5jZU5vOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoZm91bmQubGVuZ3RoID4gMCkgewogICAgICAgICAgdmFyIF9kYXRhID0gZm91bmRbMF0gfHwge307CgogICAgICAgICAgbVsndXVpZCddID0gX2RhdGEudXVpZCB8fCAnJzsKICAgICAgICAgIG1bJ2lkJ10gPSAnJzsKICAgICAgICAgIG1bJ2pvdXJuYWxfdXVpZCddID0gX2RhdGEuam91cm5hbF91dWlkIHx8ICcnOwogICAgICAgICAgbVsnYWN0aW9uVHlwZSddID0gJ25ldyc7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmFyIGRhdGEgPSB0aGlzLnR4bkV4cGVuc2VMaXN0OwogICAgICBiaWxsaW5nSGFuZGxlci5jcmVhdGVFeHBlbnNlQmF0Y2goZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDEpIHsKICAgICAgICAgIF90aGlzMTMuJHNub3RpZnkuc3VjY2VzcygiU3VjY2Vzc2Z1bGx5Iik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMTMuJHNub3RpZnkuZXJyb3IoIlNvbWV0aGluZyB3ZW50IHdyb25nIik7CgogICAgICAgIF90aGlzMTMuZXJyb3JzLnB1c2goZSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGluaXRFeHBlbnNlU3VtbWFyeTogZnVuY3Rpb24gaW5pdEV4cGVuc2VTdW1tYXJ5KCkgewogICAgICB0aGlzLmluaXRpYWxEYXRhKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkRGF0YSgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8vIEluaXRpYWwgRGF0YQogICAgdGhpcy5pbml0aWFsRGF0YSgpOwogIH0KfTs="},{"version":3,"sources":["ExpenseVerify.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\"\n                    >\n                        <v-row>\n                            <v-col\n                                class=\"bigSide py-0\"\n                                sm=\"8\"\n                                cols=\"12\"\n                                style=\"transition: 0.3s ease-in\"\n                                :class=\"{ hide_big_bar_class: isHideBar }\"\n                            >\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">\n                                            {{ $t(\"expense_summary_verify\") }}\n                                        </h2>\n\n                                        <v-icon\n                                            v-if=\"isHideBar\"\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                        <span\n                                            style=\"transition: 0.3s ease-in; z-index: 10;\"\n                                            :class=\"{\n\t\t\t\t\t\t\t\t\t\t\t\ticonArrow: !isHideBar,\n\t\t\t\t\t\t\t\t\t\t\t\ticonArrowHide: isHideBar,\n\t\t\t\t\t\t\t\t\t\t\t}\"\n                                        >\n\t\t\t\t\t\t\t\t\t\t\t<v-icon\n                                                size=\"22\"\n                                                class=\"arr_icon\"\n                                                @click=\"HideSmallSideBar\"\n                                                v-if=\"isHideBar\"\n                                            >mdi-chevron-left-circle\n\t\t\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t\t\t\t<v-icon\n                                                size=\"22\"\n                                                class=\"arr_icon\"\n                                                @click=\"HideSmallSideBar\"\n                                                v-if=\"!isHideBar\"\n                                            >mdi-chevron-right-circle\n\t\t\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t\t\t</span>\n                                    </v-card>\n                                    <v-card outlined dense class=\"px-3 no_border\" color=\"grayBg\">\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{ $t(\"employee\") }}</label>\n                                                {{ expenseSummary.employee.name }}\n                                                <br>\n                                                <label class=\"label\">{{ $t(\"number\") }}</label>\n                                                {{ expenseSummary.number }}\n                                            </v-col>\n\n                                            <v-col sm=\"4\" cols=\"12\">\n                                                <label class=\"label\" style=\"\">{{ $t(\"date\") }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"expenseSummary.date\"\n                                                    @emitDate=\"expenseSummary.date = $event\"\n                                                    @onChanged=\"onDateChanges\"\n                                                />\n\n                                                <label class=\"label\" style=\"\">{{ $t(\"transaction_account\") }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :items=\"transactionAccounts\"\n                                                    item-value=\"uuid\"\n                                                    :item-text=\"(item) => `${item.number} - ${item.name}`\"\n                                                    v-model=\"transactionAccount\"\n                                                    no-data-text=\"No data found.\"\n                                                    :rules=\"[(v) => !!v || 'Transaction Account is required']\"\n                                                    placeholder=\"Transaction Account\"\n                                                    return-object\n                                                    outlined\n                                                ></v-select>\n                                            </v-col>\n\n                                            <v-col sm=\"4\" cols=\"12\">\n                                                <label class=\"label\" style=\"\">{{\n                                                        $t(\"description\")\n                                                    }}</label>\n                                                <v-textarea\n                                                    class=\"mt-1\"\n                                                    v-model=\"expenseSummary.description\"\n                                                    no-resize\n                                                    height=\"126\"\n                                                    outlined\n                                                    rows=\"5\"\n                                                >\n                                                </v-textarea>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-row style=\"background-color: #fff\">\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <kendo-datasource\n                                                ref=\"expenseAccountDS\"\n                                                :data=\"expenseEntries\"\n                                                :change=\"onExpenseAccountDSChanges\"\n                                                :schema=\"schemaDefinition\"\n                                            />\n\n                                            <kendo-grid\n                                                id=\"expenseSummaryGrid\"\n                                                ref=\"expenseSummaryGrid\"\n                                                class=\"grid-function\"\n                                                :data-source-ref=\"'expenseAccountDS'\"\n                                                :persistSelection=\"true\"\n                                                :column-menu=\"true\"\n                                                :editable=\"true\"\n                                                :scrollable-virtual=\"true\"\n                                                :change=\"onExpenseGridChanges\"\n                                            >\n                                                <kendo-grid-column :selectable=\"true\" :width=\"40\"/>\n                                                <kendo-grid-column\n                                                    :title=\"$t('no.')\"\n                                                    :template=\"rowNumberTmpl\"\n                                                    :width=\"55\"\n                                                    :column-menu=\"false\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5;',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: 'text-center',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                    :attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: center',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'bill_date'\"\n                                                    :title=\"$t('bill_date')\"\n                                                    :format=\"'{0:dd-MM-yyyy}'\"\n                                                    :editable=\"()=>{return false}\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'bill_number'\"\n                                                    :title=\"$t('bill_number')\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'supplier'\"\n                                                    :title=\"$t('vendor')\"\n                                                    :template=\"'<span>#=supplier.name||``#</span>'\"\n                                                    :editor=\"SupplierEditor\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'account'\"\n                                                    :title=\"$t('account')\"\n                                                    :width=\"200\"\n                                                    :template=\"'<span>#=account.name||``#</span>'\"\n                                                    :editor=\"AccountEditor\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'description'\"\n                                                    :title=\"$t('description')\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                    :attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right;',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'quantity'\"\n                                                    :title=\"$t('qty')\"\n                                                    :width=\"150\"\n                                                    :editor=\"NumberEditor\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                    :attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'uom'\"\n                                                    :title=\"$t('uom')\"\n                                                    :editor=\"UomEditor\"\n                                                    :template=\"'<span>#=uom.name||``#</span>'\"\n                                                    :width=\"150\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                    :attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right;',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'price'\"\n                                                    :title=\"$t('price')\"\n                                                    :format=\"'{0:n}'\"\n                                                    :editor=\"NumberEditor\"\n                                                    :width=\"150\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                    :attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'amount'\"\n                                                    :title=\"$t('amount')\"\n                                                    :format=\"'{0:n}'\"\n                                                    :width=\"150\"\n                                                    :editable=\"() => {return false;}\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                    :attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'bill_currency'\"\n                                                    :title=\"$t('currency')\"\n                                                    :template=\"'<span>#=bill_currency.code||``#</span>'\"\n                                                    :editable=\"()=>{return false}\"\n                                                    :width=\"150\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                    :attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'discount'\"\n                                                    :title=\"$t('discount')\"\n                                                    :template=\"'<span>#=discount.name||``#</span>'\"\n                                                    :editor=\"PurchaseDiscountItemEditor\"\n                                                    :width=\"150\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                    :attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'tax_item'\"\n                                                    :title=\"$t('tax')\"\n                                                    :template=\"'<span>#=tax_item.defaultTax||``#</span>'\"\n                                                    :editor=\"PurchaseTaxEditor\"\n                                                    :width=\"150\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                    :attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'class1'\"\n                                                    :title=\"$t('class_1')\"\n                                                    :template=\"'<span>#=class1.name||``#</span>'\"\n                                                    :width=\"200\"\n                                                    :editor=\"ClassEditor.class1\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'class2'\"\n                                                    :title=\"$t('class_2')\"\n                                                    :template=\"'<span>#=class2.name||``#</span>'\"\n                                                    :width=\"200\"\n                                                    :editor=\"ClassEditor.class2\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'class3'\"\n                                                    :title=\"$t('class_3')\"\n                                                    :template=\"'<span>#=class3.name||``#</span>'\"\n                                                    :width=\"200\"\n                                                    :editor=\"ClassEditor.class3\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'class4'\"\n                                                    :title=\"$t('class_4')\"\n                                                    :template=\"'<span>#=class4.name||``#</span>'\"\n                                                    :width=\"200\"\n                                                    :editor=\"ClassEditor.class4\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'class5'\"\n                                                    :title=\"$t('class_5')\"\n                                                    :template=\"'<span>#=class5.name||``#</span>'\"\n                                                    :width=\"200\"\n                                                    :editor=\"ClassEditor.class5\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                            </kendo-grid>\n                                        </v-col>\n\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <v-row>\n                                                <v-col sm=\"5\" cols=\"12\" class=\"\">\n\n                                                </v-col>\n                                                <v-col sm=\"7\" cols=\"6\">\n                                                    <v-simple-table>\n                                                        <template v-slot:default>\n                                                            <tbody>\n                                                            <tr>\n                                                                <td class=\"text-left\">\n                                                                    {{ $t(\"subtotal\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">\n                                                                    :\n                                                                </td>\n                                                                <td class=\"text-right\">\n                                                                    {{ subTotal }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left\">\n                                                                    {{ $t(\"discount\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">\n                                                                    :\n                                                                </td>\n                                                                <td class=\"text-right\">\n                                                                    ({{ Number(discountAmount).toLocaleString() }})\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left\">\n                                                                    {{ $t(\"purchase_tax\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">\n                                                                    :\n                                                                </td>\n                                                                <td class=\"text-right\">\n                                                                    {{ Number(purchaseTax).toLocaleString() }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left\">\n                                                                    {{ $t(\"withholding_tax\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">\n                                                                    :\n                                                                </td>\n                                                                <td class=\"text-right\">\n                                                                    {{ Number(whdTax).toLocaleString() }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left text-uppercase\">\n                                                                    {{ $t(\"total\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">\n                                                                    :\n                                                                </td>\n                                                                <td\n                                                                    class=\"text-right primary--text text-bold\"\n                                                                >\n                                                                    {{ totalAmount }}\n                                                                </td>\n                                                            </tr>\n                                                            </tbody>\n                                                        </template>\n                                                    </v-simple-table>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n\n                                    <v-divider/>\n\n                                    <v-card outlined dense class=\"no_border function_footer\">\n                                        <!-- Warning Message -->\n                                        <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                                            <span v-html=\"errorMessage\"/>\n                                        </v-alert>\n\n                                        <v-menu>\n                                            <template v-slot:activator=\"{ on }\">\n                                                <v-btn\n                                                    color=\"black\"\n                                                    outlined\n                                                    class=\"mr-2 text-capitalize  black--text float-left\"\n                                                    v-on=\"on\"\n                                                >\n                                                    {{ $t(\"select_template\") }}\n                                                    <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                                </v-btn>\n                                            </template>\n                                            <v-list>\n                                                <v-list-item\n                                                    v-for=\"(item, index) in templates\"\n                                                    :key=\"index\"\n                                                >\n                                                    <v-list-item-title>\n                                                        {{ item.title }}\n                                                    </v-list-item-title>\n                                                </v-list-item>\n                                            </v-list>\n                                        </v-menu>\n                                        <v-btn\n                                            color=\"black\"\n                                            class=\"text-capitalize  white--text float-left\"\n                                            @click=\"cancel\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <v-btn\n                                            color=\"primary\"\n                                            class=\"float-right white--text text-capitalize \"\n                                            @click=\"onSaveOptionClick(SaveOption.SAVECLOSE)\"\n                                        >\n                                            {{ $t(\"save_close\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-form>\n                            </v-col>\n                            <v-col\n                                class=\"smallSide\"\n                                sm=\"4\"\n                                style=\"transition: 0.3s ease-in\"\n                                :class=\"{ hide_small_bar_class: isHideBar }\"\n                            >\n                                <h3\n                                    style=\"color: #b3b5bc; font-size: 20px\"\n                                    v-if=\"!isHideBar\"\n                                    class=\"text-uppercase float-right mt-n3\"\n                                >\n\t\t\t\t\t\t\t\t\t<span class=\"pointer\" @click=\"Help('expenses')\">\n\t\t\t\t\t\t\t\t\t\t{{ $t(\"help\") }}\n\t\t\t\t\t\t\t\t\t</span>\n                                    <v-icon\n                                        @click=\"cancel()\"\n                                        style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                        class=\"float-right mt-n1\"\n                                    >close\n                                    </v-icon>\n                                </h3>\n\n                                <div v-if=\"!isHideBar\" class=\"small_sidebar mt-8 px-4 grayBg\">\n                                    <v-card\n                                        class=\"pa-3 no-boxshadow d-flex flex-column\"\n                                        color=\"primary\"\n                                        style=\"min-height: 70px;\"\n                                    >\n                                        <h3\n                                            style=\"font-size: 18px\"\n                                            class=\"text-white text-uppercase mb-2 justify-start\"\n                                        >\n                                            {{ $t(\"amount\") }}\n                                        </h3>\n                                        <h3\n                                            class=\"text-bold text-white justify-end\"\n                                            style=\"font-size: 22px\"\n                                        >\n                                            {{ Number(amountDue).toLocaleString() }}\n                                        </h3>\n                                    </v-card>\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0 pt-4\">\n                                            <label class=\"label\">{{ $t(\"segment\") }}</label>\n                                            <app-segment-dropdownlist\n                                                :initSegment=\"segment\"\n                                                @emitSegment=\"segment = $event\"\n                                                @onChanged=\"loadCashAdvance\"\n                                            />\n\n                                            <label class=\"label\">{{ $t(\"location\") }}</label>\n                                            <app-location-dropdownlist\n                                                :initLocation=\"location\"\n                                                @emitLocation=\"location = $event\"\n                                            />\n\n                                            <label class=\"label\">{{ $t(\"project\") }}</label>\n                                            <app-project-dropdownlist\n                                                :initProject=\"project\"\n                                                @emitProject=\"project = $event\"\n                                                :initDisabled=\"disableProject\"\n                                            />\n\n                                            <label class=\"label\">{{ $t(\"for_the_month_of\") }}</label>\n                                            <app-monthof-picker\n                                                :initMonthOf=\"expenseSummary.month_of\"\n                                                @emitMonthOf=\"expenseSummary.month_of = $event\"\n                                            />\n                                        </v-col>\n                                    </v-row>\n\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <v-radio-group\n                                                class=\"mt-0 custom-radio\"\n                                                @change=\"onUseForOptionChanges\"\n                                                v-model=\"expenseSummary.use_for_option\"\n                                                column\n                                            >\n                                                <v-radio :label=\"$t('credit')\" :value=\"0\"/>\n                                                <v-radio :label=\"$t('cash')\" :value=\"3\"/>\n                                                <v-radio\n                                                    :disabled=\"employee.id === ''\"\n                                                    :label=\"$t('for_reimbursement')\"\n                                                    :value=\"1\"\n                                                />\n                                                <v-radio\n                                                    :disabled=\"employee.id === ''\"\n                                                    :label=\"$t('related_to_cash_advance')\"\n                                                    :value=\"2\"\n                                                />\n                                            </v-radio-group>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <v-select\n                                                @change=\"onCashAdvanceChanges\"\n                                                :loading=\"showCashAdvanceLoading\"\n                                                :disabled=\"expenseSummary.use_for_option !== 2\"\n                                                v-model=\"expenseSummary.use_for_transaction_uuid\"\n                                                :items=\"cashAdvances\"\n                                                item-value=\"uuid\"\n                                                item-text=\"number\"\n                                                outlined\n                                            />\n                                        </v-col>\n                                    </v-row>\n                                </div>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                type=\"loading\"\n                :isLoading=\"showLoading\"\n                :fullPage=\"true\"\n                :myLoading=\"true\"\n            />\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport {i18n} from \"@/i18n\";\nimport kendo from \"@progress/kendo-ui\";\nimport Helper from \"@/helper.js\";\n\nimport {\n    ExpenseModel,\n    ExpenseEntryModel,\n    AccountModel,\n    CurrencyModel,\n    EmployeeModel,\n    ContactModel,\n    JournalModel,\n    JournalEntryModel,\n    ClassModel,\n    UomModel,\n    LocationModel,\n    SegmentModel,\n    ProjectModel,\n    DiscountItemModel,\n    TaxModel, Expenses, PaymentTermModel,\n} from \"@/scripts/model/AppModels\";\nimport ExpenseSummaryModel from \"@/scripts/model/ExpenseSummary\";\n// import ExpenseSummaryDetailModel from \"@/scripts/model/ExpenseSummaryDetail\";\nimport ExpenseSummaryDetailExtendedModel from \"@/scripts/model/ExpenseSummaryDetailExtended\";\nimport {ShowResource} from \"@/observable/store\";\n\n/* Editors */\nimport AccountEditor from \"@/scripts/kendo_editor/Account\";\nimport ClassEditor from \"@/scripts/kendo_editor/Clazz\";\nimport UomEditor from \"@/scripts/kendo_editor/Uom\";\nimport PurchaseDiscountItemEditor from \"@/scripts/kendo_editor/PurchaseDiscountItem\";\nimport PurchaseTaxEditor from \"@/scripts/kendo_editor/PurchaseTax\";\nimport NumberEditor from \"@/scripts/kendo_editor/NumberInputBox\";\nimport SupplierEditor from \"@/scripts/kendo_editor/Supplier\";\nimport AccountMappingModel from \"@/scripts/account-map/Account\";\nimport billingHandler from \"@/scripts/invoice/handler/billingHandler\";\nimport {uuid} from \"vue-uuid\";\n\n/* Store */\n// import store from \"@/store\";\n// const institute = store.state.institute.institute;\n\n/* Handlers */\nconst {\n    cashAdvanceHandler,\n} = require(\"@/scripts/AppHandlers\");\n\nconst expenseHandler = require(\"@/scripts/expenseHandler\");\nconst expenseSummaryHandler = require(\"@/scripts/expenseSummaryHandler\");\n\nconst {\n    EntityType,\n    SaveOption,\n    AccountTypeCode,\n    TaxType,\n    Setting,\n} = require(\"@/scripts/default_setup/Collections\");\n\nexport default {\n    name: \"ExpenseSummaryVerify\",\n    components: {\n        LoadingMe: () => import(\"@/components/Loading\"),\n        \"app-datepicker\": () => import(\"@/components/custom_templates/DatePickerComponent\"),\n        \"app-monthof-picker\": () =>\n            import(\"@/components/kendo_templates/MonthOfPicker\"),\n        \"app-location-dropdownlist\": () =>\n            import(\"@/components/dropdownlist/Location\"),\n        \"app-project-dropdownlist\": () =>\n            import(\"@/components/dropdownlist/Project\"),\n        \"app-segment-dropdownlist\": () =>\n            import(\"@/components/dropdownlist/Segment\"),\n    },\n    props: {\n        initExpenseSummary: {\n            type: ExpenseSummaryModel,\n        },\n    },\n    data: () => ({\n        // Obj\n        numbers: null,\n        verifiedExpenses: [],\n        expenseSummary: new ExpenseSummaryModel(),\n        employee: new EmployeeModel(),\n        transactionAccount: new AccountModel(),\n        advanceSettlementClearingAccount: new AccountModel(),\n        location: new LocationModel(),\n        segment: new SegmentModel(),\n        project: new ProjectModel(),\n        // List\n        selectedExpenseIds: [],\n        cashAdvances: [],\n        accounts: [],\n        transactionAccounts: [],\n        expenseEntries: [],\n        // Other\n        subTotal: 0,\n        discountAmount: 0,\n        purchaseTax: 0,\n        whdTax: 0,\n        totalAmount: 0,\n        amountDue: 0,\n        files: [],\n        user: Helper.getUser(),\n        templates: [],\n        maxDecimal: Setting.MAX_DICEMAL,\n        disableProject: false,\n        // Form validation\n        valid: true,\n        isEdit: false,\n        alert: false,\n        errorMessage: \"\",\n        saveMode: \"\",\n        SaveOption: SaveOption,\n        // Editors\n        AccountEditor: AccountEditor,\n        NumberEditor: NumberEditor,\n        ClassEditor: ClassEditor,\n        UomEditor: UomEditor,\n        PurchaseDiscountItemEditor: PurchaseDiscountItemEditor,\n        PurchaseTaxEditor: PurchaseTaxEditor,\n        SupplierEditor: SupplierEditor,\n        // Sidebar\n        isHideBar: false,\n        // LoadingMe\n        showLoading: false,\n        showCashAdvanceLoading: false,\n        // Kendo dataSource\n        schemaDefinition: {\n            model: {id: \"uuid\"},\n        },\n        txnExpense: new Expenses(),\n        txnExpenseList: [],\n        paymentTerm: new PaymentTermModel(),\n    }),\n    methods: {\n        Help(key_search) {\n            ShowResource(key_search);\n        },\n        // Initial Data\n        initialData() {\n            if (this.initExpenseSummary) {\n                this.expenseSummary = this.initExpenseSummary;\n                this.bindData();\n            }\n        },\n        // Set default data\n        async setDefaultData() {\n            this.expenseSummary = new ExpenseSummaryModel();\n            this.generateNumber();\n        },\n        /* Load Data */\n        async loadData() {\n            // Call Account List\n            this.accounts = await this.$store.dispatch(\"accounting/getAccounts\");\n\n            // Advance Settlement Clearing Account by banhji_account_number\n            let advSetClrAcc = this.accounts.find((value) => value.number === AccountTypeCode.ADVANCE_SETTLEMENT_CLEARING_CODE); // Will change later\n            this.advanceSettlementClearingAccount = new AccountModel(advSetClrAcc);\n\n            // Filter Transaction Accounts\n            this.filterTransactionAccount();\n        },\n        // Bind data from prop for edit mode\n        async bindData() {\n            this.showLoading = true;\n\n            this.generateNumber();\n\n            /* Date */\n            this.expenseSummary.date = new Date().toISOString().substr(0, 10);\n\n            // Contacts\n            this.employee = new EmployeeModel(this.expenseSummary.employee);\n\n            // Sidebar\n            let locations = await this.$store.dispatch(\"locations/getList\");\n            this.location = new LocationModel(\n                locations.find((i) => i.id === this.expenseSummary.location_uuid)\n            );\n\n            let segments = await this.$store.dispatch(\"segments/getList\");\n            this.segment = new SegmentModel(\n                segments.find((i) => i.id === this.expenseSummary.segment_uuid)\n            );\n\n            let projects = await this.$store.dispatch(\"projects/getList\");\n            this.project = new ProjectModel(\n                projects.find((i) => i.id === this.expenseSummary.project_uuid)\n            );\n\n            // Cash Advance\n            if (\n                this.employee.id !== \"\" &&\n                this.segment.id !== \"\" &&\n                this.expenseSummary.use_for_option === 2\n            ) {\n                let cashAdvances = await cashAdvanceHandler.getByEmployeeId(\n                    this.employee.id\n                );\n                this.cashAdvances = cashAdvances.data.filter(\n                    (i) => i.segment_uuid === this.segment.id\n                );\n            }\n\n            // Entries\n            let entries = [],\n\t\t\t\tsubTotal = 0,\n\t\t\t\tdiscountAmount = 0,\n\t\t\t\tpurchaseTaxAmount = 0,\n\t\t\t\twhdTaxAmount = 0,\n\t\t\t\tdiscountItems = await this.$store.dispatch(\"discountItems/getList\"),\n\t\t\t\ttaxItems = await this.$store.dispatch(\"taxes/getList\"),\n\t\t\t\tuoms = await this.$store.dispatch(\"unitOfMeasurements/getList\"),\n\t\t\t\tclazz = await this.$store.dispatch(\"classes/getList\");\n\n            this.expenseSummary.summary_details.forEach((value) => {\n                // Purchase Tax\n                if (value.account.account_type.number === AccountTypeCode.PURCHASE_TAX) {\n                    purchaseTaxAmount += value.amount;\n                } else {\n                    if (value.amount > 0 && value.account.number !== AccountTypeCode.TAX_RELATED_EXPENSE_CODE) {\n                        let entry = new ExpenseSummaryDetailExtendedModel(value);\n\n\t\t\t\t\t\t// Date\n\t\t\t\t\t\tentry.bill_date = new Date(value.bill_date);\n\n                        // Subtotal\n                        subTotal += value.amount;\n\n                        // UOM\n                        entry.uom = new UomModel(\n                            uoms.find((item) => item.id === value.uom_uuid)\n                        );\n\n                        // Discount\n                        if (value.hasOwnProperty('discount'))\n                            if (value.discount.hasOwnProperty('uuid'))\n                                entry.discount = new DiscountItemModel(discountItems.find((i) => i.id === value.discount.uuid));\n\n                        // Tax\n                        if (value.hasOwnProperty('tax_item'))\n                            if (value.tax_item.hasOwnProperty('uuid')) {\n                                entry.tax_item = taxItems.find((i) => i.id === value.tax_item.uuid);\n\n                                /* Apply Inclusive Tax to amount */\n                                if (entry.tax_item.hasOwnProperty('taxType'))\n                                    if (entry.tax_item.taxType.hasOwnProperty('typeId'))\n                                        if (entry.tax_item.taxType.typeId === 1 && entry.tax_item.baseAmount.toLowerCase() === TaxType.INCLUSIVE)\n                                            subTotal += entry.tax_amount;\n                            }\n\n                        // Classes\n                        entry.class1 = new ClassModel(\n                            clazz.find((item) => item.id === value.class_1_uuid)\n                        );\n                        entry.class2 = new ClassModel(\n                            clazz.find((item) => item.id === value.class_2_uuid)\n                        );\n                        entry.class3 = new ClassModel(\n                            clazz.find((item) => item.id === value.class_3_uuid)\n                        );\n                        entry.class4 = new ClassModel(\n                            clazz.find((item) => item.id === value.class_4_uuid)\n                        );\n                        entry.class5 = new ClassModel(\n                            clazz.find((item) => item.id === value.class_5_uuid)\n                        );\n\t\t\t\t\t\t\n                        entries.push(entry);\n                    } else {\n                        // Discount\n                        if (value.account.account_type.number === AccountTypeCode.DISCOUNT) {\n                            discountAmount += value.amount * -1;\n                        }\n\n                        // WHD Tax\n                        if (value.account.account_type.number === AccountTypeCode.WHD_TAX) {\n                            whdTaxAmount += value.amount * -1;\n                        }\n\n                        // Transaction Account (Payable Account / Clearing Account)\n                        if (value.account.uuid === this.expense.transaction_account.uuid) {\n                            this.amountDue = value.amount * -1;\n                        }\n                    }\n                }\n            });\n\n            // Bind Expense Entries\n            this.expenseEntries = entries;\n\n            // Calculation\n            this.subTotal = subTotal;\n            this.discountAmount = discountAmount;\n            this.purchaseTax = purchaseTaxAmount;\n            this.whdTax = whdTaxAmount;\n            this.totalAmount = subTotal - this.discountAmount;\n\n            this.showLoading = false;\n        },\n        // Number\n        async generateNumber() {\n            this.numbers = await Helper.generateAccountingNumber(\n                EntityType.EXPENSES,\n                this.expenseSummary.date\n            );\n        },\n        applyPrefixNumber(lastNumber) {\n            /* Prefix */\n            let pf = this.numbers.prefix;\n\n            // Structure\n            let structure = '', txnDate = new Date(this.expenseSummary.date);\n            switch (pf.structure.toLowerCase()) {\n                case 'yyyy':\n                    structure = txnDate.getFullYear().toString();\n                    break;\n                case 'yy':\n                    structure = txnDate.getFullYear().toString().substr(2);\n                    break;\n                case 'yyyymm':\n                    structure = txnDate.getFullYear().toString() + (txnDate.getMonth() + 1).toString().padStart(2, '0');\n                    break;\n                case 'yymm':\n                    structure = txnDate.getFullYear().toString().substr(2) + (txnDate.getMonth() + 1).toString().padStart(2, '0');\n                    break;\n\n                default:// None structure\n                    break;\n            }\n\n            // Starting Number\n            if (lastNumber === 0) {\n                lastNumber = pf.number;\n            } else {\n                // Sequencing Number (Reset Number)\n                pf.sequcencing = 'prefix';// will change later\n                switch (pf.sequcencing.toLowerCase()) {\n                    case 'month':// Month\n                        lastNumber = 1;\n                        break;\n                    case 'year':// Year\n                        lastNumber = 1;\n                        break;\n                    default:// Prefix\n                        lastNumber++;\n                        break;\n                }\n            }\n\n            let number = pf.abbr + pf.prefixSeparator + structure + pf.numberSeparator + lastNumber.toString().padStart(pf.format, '0');\n\n            return number;\n        },\n        // Load Cash Advance\n        loadCashAdvance() {\n            /* Clear */\n            this.cashAdvances = [];\n            this.expenseSummary.use_for_transaction_uuid = \"\";\n\n            if (\n                this.employee.id !== \"\" &&\n                this.segment.id !== \"\" &&\n                this.expenseSummary.use_for_option === 2\n            ) {\n                this.showCashAdvanceLoading = true;\n\n                cashAdvanceHandler\n                    .getByEmployeeId(this.employee.id)\n                    .then((res) => {\n                        if (res.data) {\n                            /* Filter by segment */\n                            this.cashAdvances = res.data.filter(\n                                (item) => item.segment_uuid === this.segment.id\n                            );\n                        }\n                    })\n                    .finally(() => {\n                        this.showCashAdvanceLoading = false;\n                    });\n            }\n        },\n        /* On Cash Advance Changes */\n        onCashAdvanceChanges() {\n            this.setCashAdvanceProject();\n            this.disableProject = false;\n        },\n        /* On Date Chanes */\n\t\tonDateChanges () {\n\t\t\tthis.expenseSummary.month_of = new Date(this.expenseSummary.date).toISOString().substr(0, 7);\n\t\t\tthis.generateNumber();\n\t\t},\n        /* Bind project from cash advance */\n        async setCashAdvanceProject() {\n            if (this.expenseSummary.use_for_transaction_uuid !== \"\") {\n                let cashAdvance = this.cashAdvances.find(\n                    (i) => i.uuid === this.expenseSummary.use_for_transaction_uuid\n                );\n\n                if (cashAdvance.project_uuid !== \"\") {\n                    let projects = await this.$store.dispatch(\"projects/getList\");\n                    this.project = projects.find(\n                        (i) => i.id === cashAdvance.project_uuid\n                    );\n\n                    this.disableProject = true;\n                } else {\n                    this.disableProject = false;\n                }\n            }\n        },\n        // On Employee Radio Changes\n        onUseForOptionChanges() {\n            // Clear Selected Cash Advance\n            this.expenseSummary.use_for_transaction_uuid = \"\";\n            this.transactionAccount = new AccountModel();\n\n            /* Load Cash Advance */\n            if (this.expenseSummary.use_for_option === 2) {\n                this.loadCashAdvance();\n            }\n\n            this.filterTransactionAccount();\n        },\n        // Filter Transation Account\n        filterTransactionAccount() {\n            if (this.expenseSummary.use_for_option === 0) {\n                // Credit (Payable Account)\n                this.transactionAccounts = this.accounts.filter((i) => ~AccountTypeCode.PAYABLE_ACCOUNTS.indexOf(i.account_type.number));\n            } else if (this.expense.use_for_option === 3) {\n                // Cash Account\n                this.transactionAccounts = this.accounts.filter((i) => ~AccountTypeCode.CASH_ACCOUNTS.indexOf(i.account_type.number));\n            } else {\n                // Reimbursement / Cash Advance\n                this.transactionAccount = this.advanceSettlementClearingAccount;\n                this.transactionAccounts = [this.advanceSettlementClearingAccount];\n            }\n        },\n        /* Kendo */\n        // DataSource Changes\n        async onExpenseAccountDSChanges(e) {\n            if (e.field) {\n                let dataRow = e.items[0];\n\n                if (e.field === \"supplier\") {\n\t\t\t\t\tdataRow.set(\"account\", new AccountModel(dataRow.supplier.accountTax.expenseAcc));\n\t\t\t\t} else if (e.field === \"account\") {\n                    this.addExtraRow(dataRow.uid);\n                } else if (e.field === \"bill_date\" || e.field === \"bill_currency\") {\n\t\t\t\t\tlet xrate = await this.getExchangeRate(dataRow.bill_date, dataRow.bill_currency.code);\n\n\t\t\t\t\tdataRow.set(\"exchange_rate_uuid\", xrate.id);\n\t\t\t\t\tdataRow.set(\"exchange_rate\", xrate.rate);\n                } else if (e.field === \"quantity\" || e.field === \"price\") {\n                    let amt =\n                        kendo.parseFloat(dataRow.quantity) *\n                        kendo.parseFloat(dataRow.price);\n                    dataRow.set(\"amount\", amt);\n                } else if (e.field === \"uom\") {\n                    if (dataRow.uom) {\n                        dataRow.set(\"uom_uuid\", dataRow.uom.id);\n                    }\n                } else if (e.field === \"class1\") {\n                    if (dataRow.class1 !== null) {\n                        dataRow.set(\"class_1_uuid\", dataRow.class1.id);\n                    } else {\n                        // Set default when deselect\n                        dataRow.set(\"class_1_uuid\", \"\");\n                        dataRow.set(\"class1\", new ClassModel());\n                    }\n                } else if (e.field === \"class2\") {\n                    if (dataRow.class2 !== null) {\n                        dataRow.set(\"class_2_uuid\", dataRow.class2.id);\n                    } else {\n                        // Set default when deselect\n                        dataRow.set(\"class_2_uuid\", \"\");\n                        dataRow.set(\"class2\", new ClassModel());\n                    }\n                } else if (e.field === \"class3\") {\n                    if (dataRow.class3 !== null) {\n                        dataRow.set(\"class_3_uuid\", dataRow.class3.id);\n                    } else {\n                        // Set default when deselect\n                        dataRow.set(\"class_3_uuid\", \"\");\n                        dataRow.set(\"class3\", new ClassModel());\n                    }\n                } else if (e.field === \"class4\") {\n                    if (dataRow.class4 !== null) {\n                        dataRow.set(\"class_4_uuid\", dataRow.class4.id);\n                    } else {\n                        // Set default when deselect\n                        dataRow.set(\"class_4_uuid\", \"\");\n                        dataRow.set(\"class4\", new ClassModel());\n                    }\n                } else if (e.field === \"class5\") {\n                    if (dataRow.class5 !== null) {\n                        dataRow.set(\"class_5_uuid\", dataRow.class5.id);\n                    } else {\n                        // Set default when deselect\n                        dataRow.set(\"class_5_uuid\", \"\");\n                        dataRow.set(\"class5\", new ClassModel());\n                    }\n                }\n\n                this.autoCalculate();\n            }\n        },\n        calculateDiscount(discountItem, subTotal) {\n            if (discountItem) {\n                const nature = discountItem.nature;\n                const amount = discountItem.amount;\n                if (nature === \"Amount\") {\n                    return kendo.parseFloat(amount);\n                } else if (nature === \"Percentage\") {\n                    return subTotal * (kendo.parseFloat(amount) / 100);\n                }\n            }\n        },\n        autoCalculateTax(tax, amount) {\n            if (tax) {\n                var formula = tax.formula;\n                var inAmt = kendo.parseFloat(amount);\n                var nAmt = kendo.parseFloat(amount);\n                var taxBase = kendo.parseFloat(tax.taxBase) / 100;\n                var rate = kendo.parseFloat(tax.rate) / 100;\n                var total = eval(formula);\n                window.console.log(inAmt, nAmt, taxBase, rate, formula, total);\n                return total;\n            }\n            // return 0\n        },\n        // Auto Calculate In DataSource\n        autoCalculate() {\n            let expDS = this.$refs.expenseAccountDS.kendoWidget(),\n                subTotal = 0,\n                discount = 0,\n                purchaseTax = 0,\n                whdTax = 0,\n                inclusiveTax = 0,\n                discountItem = [];\n\n            // Expense\n            expDS.data().forEach((value) => {\n                if (~this.selectedExpenseIds.indexOf(value.uuid)) {\n                    let amt = kendo.parseFloat(value.price) * kendo.parseFloat(value.quantity);\n\n                    /* Exchanged Amount */\n                    value.exchanged_amount = amt * value.exchange_rate;\n                    \n                    /* Subtotal */\n                    subTotal += amt;\n\n                    // Discount\n                    let discountAmount = 0;\n                    if (value.hasOwnProperty('discount'))\n                        if (value.discount.hasOwnProperty('id'))\n                            if (value.discount.id !== \"\") {\n                                discountAmount = this.calculateDiscount(value.discount, amt);\n                                discount += discountAmount;\n                                discountItem.push(value.discount);\n                            }\n\n                    // Tax\n                    if (value.hasOwnProperty('tax_item'))\n                        if (value.tax_item.hasOwnProperty('id'))\n                            if (value.tax_item.id !== \"\") {\n                                let amtAfterDiscount = amt - discountAmount;\n                                const taxAmount = this.autoCalculateTax(value.tax_item, amtAfterDiscount);\n                                if (value.tax_item.baseAmount.toLowerCase() === TaxType.INCLUSIVE) {\n                                    inclusiveTax += taxAmount;\n                                }\n\n                                if (value.tax_item.hasOwnProperty('taxType'))\n                                    if (value.tax_item.taxType.hasOwnProperty('typeId'))\n                                        if (value.tax_item.taxType.typeId === 2) {/* WHD Tax */\n                                            whdTax += taxAmount;\n                                        } else {/* Purchase Tax */\n                                            purchaseTax += taxAmount;\n                                        }\n\n                                /* Set Tax Amount */\n                                if (value.tax_item.taxType.typeId === 1 && value.tax_item.baseAmount.toLowerCase() === TaxType.INCLUSIVE) {/* Inclusive Tax */\n                                    value.set(\"tax_amount\", taxAmount * -1);\n                                } else {\n                                    value.set(\"tax_amount\", taxAmount);\n                                }\n                            }\n                }\n            });\n\n            /* Apply Inclusive Tax */\n            subTotal -= inclusiveTax;\n\n\t\t\tthis.subTotal = subTotal;\n            this.discountAmount = discount;\n            this.purchaseTax = purchaseTax;\n            this.whdTax = whdTax;\n\n            let totalAmount = (this.subTotal - discount) + whdTax + purchaseTax;\n            this.totalAmount = totalAmount;\n\n            let amountDue = this.totalAmount - whdTax;\n            this.amountDue = amountDue;\n        },\n        // Row Number Template\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.expenseAccountDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n\n            return index + 1;\n        },\n        // On Expense Grid Changes\n        onExpenseGridChanges() {\n            let grid = this.$refs.expenseSummaryGrid.kendoWidget();\n\n            // let ids = []\n            // for (let id in grid._selectedIds)\n            // ids.push(id)\n\n            this.selectedExpenseIds = grid.selectedKeyNames();\n            this.autoCalculate();\n        },\n        // Shrink Data\n        shrinkData() {\n            let expenseList = [],\n                expDS = this.$refs.expenseAccountDS.kendoWidget(),\n                lastNumber = this.numbers.last_number,\n                counter = 1;\n\n            /* Update Expense Summary Status */\n            this.expenseSummary.is_cleared = 1;\n\n            // Expense Entries on Dr\n            expDS.data().forEach((value) => {\n                // Filter selected expenses\n                if (~this.selectedExpenseIds.indexOf(value.uuid)) {\n                    let entries = [];\n\n                    /* Update Expense Summary Detail Status Approved */\n                    value.set(\"status\", 1);\n                    \n                    /* Status */\n                    if (this.expenseSummary.use_for_option === 3) {/* Cash */\n                        value.set(\"is_cleared\", 1); /* Paid */\n                    }\n\n                    /* EXPENSE */\n                    let expense = new ExpenseModel(value);\n\n                    /* uuid */\n                    expense.uuid = \"\"; // New\n\n                    /* Number */\n                    if (counter === 1) {\n                        expense.number = this.numbers.number;\n                    } else {\n                        expense.number = this.applyPrefixNumber(lastNumber);\n                        lastNumber++;\n                    }\n                    counter++;\n                    expense.prefix_format = this.numbers.prefix_format;\n\n                    // Date\n                    expense.expense_date = Helper.toISODate(this.expenseSummary.date);\n                    expense.bill_date = Helper.toISODate(value.bill_date);\n\n                    // Supplier\n                    expense.supplier = new ContactModel(value.supplier);\n\n                    // Employee\n                    expense.employee = new ContactModel(this.employee);\n\n                    // Sidebar\n                    expense.location_uuid = this.location.id;\n                    expense.segment_uuid = this.segment.id;\n                    expense.project_uuid = this.project.id;\n\n                    // User\n                    expense.created_by = this.user;\n\n                    /* ENTRIES */\n                    let entry = new ExpenseEntryModel(value);\n\n                    // Account\n                    entry.account = new AccountModel(value.account);\n                    entry.account_uuid = value.account.uuid;\n\n                    // Contact\n                    entry.primary_contact = new ContactModel(value.supplier);\n                    entry.secondary_contacts = [new ContactModel(this.employee)];\n\n                    // Currency\n                    entry.currency = new CurrencyModel(value.bill_currency);\n                    entry.exchange_rate_uuid = value.exchange_rate_uuid;\n                    entry.exchange_rate = value.exchange_rate;\n                    entry.exchanged_amount = value.exchanged_amount;\n\n                    // Discount\n                    entry.discount = new DiscountItemModel(value.discount);\n\n                    // Tax\n                    entry.tax_item = new TaxModel(value.tax_item);\n\n                    /* Expense Account on Dr */\n                    entries.push(new ExpenseEntryModel(entry));\n\n                    // Discount on Cr\n                    let discountAmount = 0;\n                    if (value.hasOwnProperty('discount'))\n                        if (value.discount.hasOwnProperty('id'))\n                            if (value.discount.id !== \"\") {\n                                let subTo = kendo.parseFloat(value.price) * kendo.parseFloat(value.quantity);\n                                discountAmount = this.calculateDiscount(value.discount, subTo);\n                                \n                                /* Discount Entry */\n                                let discountEntry = new ExpenseEntryModel(entry);\n                                discountEntry.account = new AccountModel(value.discount.account);\n                                discountEntry.account_uuid = value.discount.account.uuid;\n                                discountEntry.amount = discountAmount * -1; // Cr side is negative\n                                discountEntry.exchanged_amount = discountAmount * value.exchange_rate;\n                                discountEntry.tax_amount = 0;\n                                discountEntry.exchanged_tax_amount = 0;\n\n                                /* Push Discount Entry */\n                                entries.push(discountEntry);\n                            }\n\n                    // Taxes on Dr\n                    if (value.hasOwnProperty('tax_item'))\n                        if (value.tax_item.hasOwnProperty('id'))\n                            if (value.tax_item.id !== \"\") {\n                                let amtAfterDiscount = kendo.parseFloat(value.amount) - discountAmount;\n                                let taxAmount = this.autoCalculateTax(value.tax_item, amtAfterDiscount);\n\n                                if (value.tax_item.hasOwnProperty('taxType'))\n                                    if (value.tax_item.taxType.hasOwnProperty('typeId'))\n                                        if (value.tax_item.taxType.typeId === 2) {/* WHD Tax on Cr side */\n                                            if (value.tax_item.baseAmount.toLowerCase() === \"net\") {/* WHD Tax Net on Dr side */\n                                                // Add Another Tax Related Expense Account\n                                                let taxRelatedExpenseAccount = new AccountModel(this.accounts.find(i => i.banhjiAccCode === AccountTypeCode.TAX_RELATED_EXPENSE_CODE));\n\n                                                /* Tax Related Expense Entry on Dr */\n                                                let taxRelatedExpenseEntry = new ExpenseEntryModel(entry);\n                                                taxRelatedExpenseEntry.account = taxRelatedExpenseAccount;\n                                                taxRelatedExpenseEntry.account_uuid = taxRelatedExpenseAccount.uuid;\n                                                taxRelatedExpenseEntry.description = i18n.t(\"witholding_tax_expense\");\n                                                taxRelatedExpenseEntry.amount = taxAmount;\n                                                taxRelatedExpenseEntry.exchanged_amount = taxAmount * value.exchange_rate;\n                                                taxRelatedExpenseEntry.tax_amount = 0;\n                                                taxRelatedExpenseEntry.exchanged_tax_amount = 0;\n\n                                                /* Push Tax Related Expense Entry */\n                                                entries.push(taxRelatedExpenseEntry);\n                                            }\n\n                                            // WHD Tax\n                                            taxAmount *= -1; // Cr side\n                                        }\n\n                                /* Tax Entry */\n                                let taxEntry = new ExpenseEntryModel(entry);\n                                taxEntry.account = new AccountModel(value.tax_item.account);\n                                taxEntry.account_uuid = value.tax_item.account.uuid;\n                                taxEntry.amount = taxAmount;\n                                taxEntry.exchanged_amount = taxAmount * value.exchange_rate;\n                                taxEntry.tax_amount = 0;\n                                taxEntry.exchanged_tax_amount = 0;\n\n                                /* Push Tax Entry */\n                                entries.push(taxEntry);\n                            }\n\n                    // Transaction Entries on Cr\n                    entries.push(\n                        new ExpenseEntryModel({\n                            account: new AccountModel(this.transactionAccount),\n                            account_uuid: this.transactionAccount.uuid,\n                            primary_contact: new ContactModel(value.supplier),\n                            secondary_contacts: [new ContactModel(this.employee)],\n                            description: this.expenseSummary.description,\n                            currency: value.bill_currency,\n                            amount: value.amount * -1, // Cr side is negative\n                            exchange_rate_uuid: value.exchange_rate_uuid,\n                            exchange_rate: value.exchange_rate,\n                            exchanged_amount: value.amount * -1 * value.exchange_rate,\n                        })\n                    );\n\n                    /* Add Entries */\n                    expense.expense_entries = entries;\n                    // mapping to Dynamodb ( expense record )\n                    this.mappingExpense(expense, entry);\n\n                    /* JOURNAL */\n                    let journal = new JournalModel();\n                    journal.number = expense.number;\n                    journal.description = expense.journal_note;\n                    journal.journal_date = Helper.toISODate(this.expenseSummary.date);\n                    journal.journal_type = EntityType.AUTO_JOURNAL;\n                    journal.transaction_type = EntityType.EXPENSES;\n                    journal.related_transaction_uuid = this.expenseSummary.use_for_transaction_uuid;\n                    journal.month_of = this.expenseSummary.month_of;\n                    journal.location_uuid = expense.location_uuid;\n                    journal.project_uuid = expense.project_uuid;\n                    journal.segment_uuid = expense.segment_uuid;\n                    journal.prefix_format = this.numbers.prefix_format;\n                    journal.is_draft = expense.is_draft;\n                    journal.created_date = expense.created_date;\n                    journal.created_by = expense.created_by;\n                    journal.modified_by = expense.modified_by;\n\n                    let journalEntries = [];\n                    entries.forEach((value) => {\n                        let entry = new JournalEntryModel(value);\n\n                        /* Apply Inclusive Tax to amount */\n                        if (value.tax_amount !== 0) {\n                            if (value.tax_item.hasOwnProperty(\"taxType\")) {\n                                if (value.tax_item.taxType.hasOwnProperty(\"typeId\")) {\n                                    if (value.tax_item.taxType.typeId === 1 && value.tax_item.baseAmount.toLowerCase() === TaxType.INCLUSIVE) {\n                                        entry.amount = value.amount + value.tax_amount;\n                                    }\n                                }\n                            }\n                        }\n                        entry.exchanged_amount = entry.amount * value.exchange_rate;\n\n                        // Add Entry\n                        journalEntries.push(entry);\n                    });\n\n                    // Add Entry\n                    expenseList.push({\n                        expense: expense,\n                        journal: journal,\n                        journal_entries: journalEntries,\n                    });\n                } else {\n                    /* Update Expense Summary Detail Status Reject */\n                    value.set(\"status\", 2);\n                }\n            });\n\n            /* Add Verified */\n            this.verifiedExpenses = expenseList;\n        },\n        // Validating\n        validateForm() {\n            let result = true,\n                expDS = this.$refs.expenseAccountDS.kendoWidget(),\n                msg = \"\";\n\n            // Expense\n            expDS.data().forEach((value, index) => {\n                if (~this.selectedExpenseIds.indexOf(value.uuid)) {\n                    if (value.supplier.name !== \"\" && value.amount > 0) {\n                        // No date\n                        if (value.bill_date === \"\") {\n                            result = false;\n                            msg += `<p>${i18n.t(\"please_select_date_at_row_number\")} ${index + 1}</p>`;\n                        }\n\n                        // No number\n                        if (value.bill_number === \"\") {\n                            result = false;\n                            msg += `<p>${i18n.t(\"please_input_bill_number_at_row_number\")} ${index + 1}</p>`;\n                        }\n                    }\n\n                    // No supplier\n                    if (value.supplier.name === \"\" && value.amount > 0) {\n                        result = false;\n                        msg += `<p>${i18n.t(\n                            \"please_select_supplier_at_row_number\"\n                        )} ${index + 1}</p>`;\n                    }\n\n                    // No amount\n                    if (value.supplier.name !== \"\" && value.amount === 0) {\n                        result = false;\n                        msg += `<p>${value.supplier.name} ${i18n.t(\"has_no_amount\")}</p>`;\n                    }\n                }\n            });\n\n            // Non selected expense\n            if (this.selectedExpenseIds.length === 0) {\n                msg += `<p>${i18n.t(\"please_select_at_least_one_row\")}</p>`;\n                result = false;\n            }\n\n            // Use for Cash Advance\n            if (\n                this.expenseSummary.use_for_option === 2 &&\n                this.expenseSummary.use_for_transaction_uuid === \"\"\n            ) {\n                msg += `<p>${i18n.t(\"please_select_related_cash_advance\")}</p>`;\n                result = false;\n            }\n\n            /* Transaciton Account */\n            if (this.transactionAccount.uuid === \"\") {\n                msg += `<p>${i18n.t(\"transaction_account_is_required\")}</p>`;\n                result = false;\n            }\n\n            /* Location */\n            if (this.location.id === \"\") {\n                msg += `<p>${i18n.t(\"location_is_required\")}</p>`;\n                result = false;\n            }\n\n            /* Segment */\n            if (this.segment.id === \"\") {\n                msg += `<p>${i18n.t(\"segment_is_required\")}</p>`;\n                result = false;\n            }\n\n            // Show Alert\n            this.errorMessage = msg;\n\n            this.alert = result === false;\n\n            return result;\n        },\n        // All Saves\n        async onSaveOptionClick(mode) {\n            if (this.$refs.form.validate() && this.validateForm()) {\n                let isValidClosingDate = await Helper.validateClosingDate(\n                    this.expenseSummary.date\n                );\n                if (isValidClosingDate) {\n                    this.saveMode = mode;\n                    this.save();\n                }\n            }\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((result) => {\n                if (result.value) {\n                    this.clear();\n                    this.setDefaultData();\n                    this.$router.go(-1);\n                }\n            });\n        },\n        clear() {\n            // Reset Form\n            this.isEdit = false;\n            this.saveMode = \"\";\n\n            this.subTotal = 0;\n            this.discountAmount = 0;\n            this.purchaseTax = 0;\n            this.whdTax = 0;\n            this.totalAmount = 0;\n            this.amountDue = 0;\n            this.disableProject = false;\n\n            this.numbers = null;\n            this.selectedExpenseIds = [];\n            this.verifiedExpenses = [];\n            this.expenseSummary = new ExpenseSummaryModel();\n            this.expenseEntries = [];\n            this.employee = new EmployeeModel();\n            this.location = new LocationModel();\n            this.segment = new SegmentModel();\n            this.project = new ProjectModel();\n\n            let expDS = this.$refs.expenseAccountDS.kendoWidget();\n            expDS.data([]);\n        },\n        save() {\n            let self = this;\n\n            // Shrink Data\n            this.shrinkData();\n\n            // Sync Data\n            this.showLoading = true;\n            expenseHandler\n                .saveBatch(this.verifiedExpenses)\n                .then((response) => {\n                    if(response){\n                        self.updateExpenseSummary();\n                        const res = response.data || []\n                        self.saveTxnExpense(res);\n                        self.responseStatus(response);\n                    }else{\n                        Helper.alertErrorMsg(i18n.t(\"error_something_wrong\"));\n                    }\n                })\n                .catch((error) => {\n                    self.showLoading = false;\n                    Helper.alertErrorMsg(error);\n                })\n                .finally(() => {\n                    self.showLoading = false;\n                });\n        },\n        /* Update Expense Summary */\n        updateExpenseSummary() {\n            // let exp = this.getExp();\n            // let expSum = {\n            // \tuuid                       : exp.uuid,\n            // \tnumber                     : exp.number,\n            // \tdate                       : exp.date,\n            // \temployee                   : exp.employee,\n            // \tsegment_uuid               : exp.segment_uuid,\n            // \tlocation_uuid              : exp.location_uuid,\n            // \tproject_uuid               : exp.project_uuid,\n            // \tmonth_of                   : exp.month_of,\n            // \tuse_for_option             : exp.use_for_option,\n            // \tuse_for_transaction_uuid   : exp.use_for_transaction_uuid,\n            // \tdescription                : exp.description,\n            // \tsummary_details            : exp.summary_details,\n            // \tis_draft                   : exp.is_draft,\n            // \tis_cleared                 : exp.is_cleared,\n\n            // \tcreated_by                 : exp.created_by,\n            // \tmodified_by                : exp.modified_by,\n            // \tcreated_date               : exp.created_date,\n            // \tmodified_date              : exp.modified_date,\n            // };\n            expenseSummaryHandler.save(this.expenseSummary);\n        },\n        // Response Status\n        responseStatus(response) {\n            if (response.status === 200) {\n                if (this.saveMode === SaveOption.SAVECLOSE || this.saveMode === SaveOption.DELETE) {\n                    this.clear();\n                    this.setDefaultData();\n\n                    this.$router.go(-1);\n                } else {\n                    /* Save New */\n                    this.clear();\n                    this.setDefaultData();\n                }\n\n                /* Alert Success */\n                this.$snotify.success(i18n.t(\"successful\"));\n            } else {\n                /* Alert Error */\n                this.$snotify.error(i18n.t(\"error_something_wrong\"));\n            }\n        },\n        HideSmallSideBar() {\n            this.isHideBar = !this.isHideBar;\n        },\n        mappingExpense(expense, entry) {\n            if (this.expenseSummary.use_for_option === 0) {\n                this.txnExpense = new Expenses()\n                entry['id'] = 'lin-' + uuid.v1();\n                const subTotal = entry.amount || 0\n                const discount = this.calculateDiscount(entry.discount, subTotal)\n                const amount = entry.amount || 0\n                const amountAfterDiscount = amount - (discount || 0)\n                const taxItem = entry.tax_item || {}\n                const taxAccount = taxItem.account || {}\n                const taxAccountType = taxAccount.account_type || {}\n                const taxAmount = this.autoCalculateTax(entry.tax_item, amountAfterDiscount)\n                let purchaseTaxAmount = 0\n                let whdTaxAmount = 0\n                // Purchase Tax\n                if (taxAccountType.number === AccountTypeCode.PURCHASE_TAX) {\n                    purchaseTaxAmount = taxAmount || 0\n                } else if (taxAccountType.number === AccountTypeCode.WHD_TAX) {\n                    whdTaxAmount = taxAmount || 0\n                }\n                const total = subTotal - (discount || 0) + purchaseTaxAmount - whdTaxAmount;\n                this.txnExpense.id = '';\n                this.txnExpense.journal_uuid = '';\n                this.txnExpense.type = \"Expense\";\n                this.txnExpense.abbr = '';\n                this.txnExpense.transactionType = {};\n                this.txnExpense.referenceNo = expense.number\n                this.txnExpense.transactionDate = expense.expense_date;\n                this.txnExpense.dueDate = expense.expense_date;\n                this.txnExpense.billDate = expense.bill_date;\n                this.txnExpense.billNumber = expense.bill_number;\n                this.txnExpense.currency = this.removeEmptyValues(entry.currency);\n                this.txnExpense.supplier = this.supplierMap(expense.supplier);\n                this.txnExpense.employee = this.removeEmptyValues(expense.employee);\n                this.txnExpense.paymentTerm = this.paymentTerm;\n                this.txnExpense.segment = this.removeEmptyValues(this.segment);\n                this.txnExpense.location = this.removeEmptyValues(this.location);\n                this.txnExpense.project = this.removeEmptyValues(this.project);\n                this.txnExpense.monthOf = this.expenseSummary.month_of;\n\n                this.txnExpense.additionalCostSupplier = this.removeEmptyValues(expense.additional_cost_supplier);\n                this.txnExpense.use_for_transaction_uuid = this.expenseSummary.use_for_transaction_uuid;\n                this.txnExpense.useForOption = this.expenseSummary.use_for_option;\n                this.txnExpense.transactionNote = entry.description || '';\n                this.txnExpense.journalNote = this.expenseSummary.description || ''\n                this.txnExpense.itemLines = [entry];\n                this.txnExpense.account = new AccountMappingModel(this.transactionAccount);\n                this.txnExpense.saveOption = expense.is_draft;\n                this.txnExpense.status = 1;\n                this.txnExpense.createdAt = expense.created_date;\n\n                this.txnExpense.total = parseFloat(total);\n                this.txnExpense.exchangeTotal = parseFloat(total) * (entry.exchange_rate || 1);\n                this.txnExpense.amountDue = total\n                this.txnExpense.remainingAmount = total\n                this.txnExpense.subTotal = subTotal\n                this.txnExpense.purchaseTax = purchaseTaxAmount;\n                this.txnExpense.whdTax = whdTaxAmount;\n                this.txnExpense.supplierDiscountItem = this.removeDuplicate([entry.discount] || []);\n                this.txnExpense.loggedUser = this.loggedUser(expense.created_by);\n\n                this.txnExpense.txnRate = entry.exchange_rate;\n                this.txnExpense.discountTotal = parseFloat((discount || 0));\n                this.txnExpense.depositAmount = 0\n                this.txnExpense.depositDeduction = 0\n                this.txnExpense.exchangeDepositDeduction = 0\n                this.txnExpense.exchangeAmount = total * (entry.exchange_rate || 1);\n                this.txnExpenseList.push(this.txnExpense)\n                window.console.log(\"Expense\", this.txnExpenseList);\n            }\n        },\n        loggedUser(user) {\n            if (user) {\n                return {\n                    id: user.id,\n                    name: user.user_name,\n                    email: user.email,\n                };\n            }\n            return {};\n        },\n        supplierMap(supplier) {\n            if (supplier) {\n                return {\n                    id: supplier.uuid,\n                    name: supplier.name,\n                    email: supplier.email,\n                    phone: supplier.phone,\n                    address: supplier.address,\n                };\n            }\n            return {};\n        },\n        removeEmptyValues(obj) {\n            for (let propName in obj) {\n                if (!obj[propName] || obj[propName].length === 0) {\n                    delete obj[propName];\n                } else if (typeof obj[propName] === \"object\") {\n                    this.removeEmptyValues(obj[propName]);\n                }\n            }\n            return obj;\n        },\n        removeDuplicate(array) {\n            const result = [];\n            const map = new Map();\n            for (const item of array) {\n                if (!map.has(item.id)) {\n                    map.set(item.id, true); // set any value to Map\n                    result.push(item);\n                }\n            }\n            return result;\n        },\n        saveTxnExpense(response) {\n            this.txnExpenseList.forEach(m => {\n                const found = response.filter(n => n.number === m.referenceNo)\n                if (found.length > 0) {\n                    const data = found[0] || {}\n                    m['uuid'] = data.uuid || ''\n                    m['id'] = ''\n                    m['journal_uuid'] = data.journal_uuid || ''\n                    m['actionType'] = 'new'\n                }\n            })\n            let data = this.txnExpenseList;\n            billingHandler\n                .createExpenseBatch(data)\n                .then((response) => {\n                    if (response.data.statusCode === 201) {\n                        this.$snotify.success(\"Successfully\");\n                    }\n                })\n                .catch((e) => {\n                    this.$snotify.error(\"Something went wrong\");\n                    this.errors.push(e);\n                });\n        },\n    },\n    watch: {\n        initExpenseSummary() {\n            this.initialData();\n        },\n    },\n    created() {\n        this.loadData();\n    },\n    mounted() {\n        // Initial Data\n        this.initialData();\n    },\n};\n</script>\n\n<style scoped>\n.v-input.custom-radio\n.v-input--selection-controls__input\n.v-input--selection-controls__ripple {\n    display: none !important;\n}\n\n.function_wrapper {\n    box-shadow: none !important;\n}\n\n.v-application--is-ltr .v-text-field .v-input__append-inner {\n    margin-top: 0 !important;\n}\n\n.v-input__slot {\n    background-color: #fff !important;\n}\n\n.function_content .label {\n    margin-bottom: 10px;\n    display: inline-block;\n}\n\n.border_radius10 {\n    border-radius: 10px !important;\n    background-color: #f2f2f2;\n}\n\n.pa-3.v-card h4 {\n    font-size: 18px;\n    color: #333;\n}\n\n.pa-3.v-card p {\n    font-size: 12px;\n    color: #b5b5b5;\n}\n\n.attachment_file {\n    background-color: #efeded;\n    border-radius: 0 !important;\n}\n\n.attachment_table.v-data-table table {\n    border: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.attachment_table table tr th {\n    border-left: thin solid rgba(0, 0, 0, 0.12);\n    height: 35px;\n    border-right: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.block_debit,\n.block_credit {\n    border-bottom: 1px solid #fff;\n}\n\n.block_debit p.number,\n.block_credit p.number {\n    font-size: 25px;\n    color: #7f7f7f;\n}\n\n.block_debit h5,\n.block_credit h5,\n.block_difference h5 {\n    text-transform: uppercase;\n    color: #7f7f7f;\n    font-size: 15px;\n    font-weight: normal;\n}\n\n.block_difference h5 {\n    font-size: 18px;\n}\n\n.block_difference h5 span {\n    font-size: 15px;\n}\n\n.custom_grid table th:last-child {\n    text-align: right !important;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        max-width: 1250px;\n    }\n}\n\n@media (max-width: 576px) {\n    .pt-6.col-sm-5.col-12 {\n        padding-top: 0 !important;\n    }\n\n    .code_text {\n        width: 100%;\n    }\n\n    .phone_no_pt {\n        padding-top: 0 !important;\n    }\n\n    .select_template,\n    .save_option {\n        margin-bottom: 10px;\n    }\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: 0.5s ease-in;\n    flex: 0 0 0;\n    padding: 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n.info_add {\n    background-color: #ffffff;\n}\n\n.small_sidebar {\n    height: 98%;\n    position: relative;\n    padding: 12px;\n    background-color: #edf1f5;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.color_grey {\n    color: #808080;\n}\n\n.card_green {\n    min-height: 70px;\n    background-color: #00b050 !important;\n    color: #ffffff;\n}\n\n.lb_bold {\n    font-size: 12px;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 10px;\n}\n\n.card_background {\n    background-color: #edf1f5;\n    min-height: 120px;\n}\n\n.deposite_input {\n    width: 100px;\n}\n\n.btn_save_draft {\n    color: #ffffff;\n    background-color: #00b0f0 !important;\n    text-transform: capitalize;\n}\n\n.save_option {\n    background-color: #203864 !important;\n}\n\n.btn_add_small {\n    height: 27px !important;\n    min-width: 25px !important;\n    font-size: 10px;\n    padding: 0 22px !important;\n    background-color: #00b050 !important;\n    color: #ffffff;\n    border-radius: 0 !important;\n}\n\n.list_site_inv {\n    background-color: #92d050;\n    color: #ffffff;\n    font-size: 12px;\n}\n\n.list_site_exp {\n    background-color: #c5e0b4;\n    color: #000000;\n    font-size: 12px;\n    line-height: 16px;\n    min-height: 40px;\n}\n\n.checkbox_inv {\n    padding: 2px;\n    margin-top: 3px;\n    margin-right: 2px;\n}\n\n.exp_select {\n    font-size: 12px !important;\n}\n\n.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> tbody\n> tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n</style>\n"],"sourceRoot":"src/views/suppliers"}]}