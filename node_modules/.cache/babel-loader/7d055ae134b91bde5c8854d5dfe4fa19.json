{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/production/bill_of_material/BillOfMaterial.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/production/bill_of_material/BillOfMaterial.vue","mtime":1638760538981},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/babel.config.js","mtime":1638499442885},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnBhZC1zdGFydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgaTE4biB9IGZyb20gIkAvaTE4biI7CmltcG9ydCBCb21Nb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQm9tIjsKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CmltcG9ydCBTYWxlRm9ybUNvbnRlbnRNb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvU2FsZUZvcm1Db250ZW50IjsKaW1wb3J0IEZpbmlzaFByb2R1Y3RNb2RlbCBmcm9tICJAL3NjcmlwdHMvYm9tL0ZpbmlzaFByb2R1Y3QiOwppbXBvcnQgT3RoZXJGaW5pc2hQcm9kdWN0TW9kZWwgZnJvbSAiQC9zY3JpcHRzL2JvbS9PdGhlckZpbmlzaFByb2R1Y3QiOwppbXBvcnQgQ29tcG9uZW50TW9kZWwgZnJvbSAiQC9zY3JpcHRzL2JvbS9Db21wb25lbnRVc2VkIjsKaW1wb3J0IHsgdXVpZCB9IGZyb20gInZ1ZS11dWlkIjsKCnZhciBwcm9kdWN0VmFyaWFudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJvZHVjdFZhcmlhbnRIYW5kbGVyIik7Cgp2YXIgdW9tUHJpY2VIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3VvbVByaWNlSGFuZGxlciIpOwoKdmFyIHdhcmVob3VzZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvd2FyZWhvdXNlSGFuZGxlciIpOwoKdmFyIGJvbUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvYm9tSGFuZGxlciIpOwoKdmFyIHByZWZpeEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJlZml4SGFuZGxlciIpOwoKdmFyIGJpbGxpbmdIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2ludm9pY2UvaGFuZGxlci9iaWxsaW5nSGFuZGxlciIpOwoKdmFyIHNhbGVGb3JtQ29udGVudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2FsZUZvcm1Db250ZW50SGFuZGxlciIpOwoKdmFyIHNhbGVGb3JtQ29udGVudE1vZGVsID0gbmV3IFNhbGVGb3JtQ29udGVudE1vZGVsKHt9KTsKCnZhciBjdXJyZW5jeUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY3VycmVuY3kvaGFuZGxlci9jdXJyZW5jeUhhbmRsZXIiKTsKCnZhciBib21Nb2RlbCA9IG5ldyBCb21Nb2RlbCh7fSk7Cgp2YXIgJCA9IHJlcXVpcmUoImpxdWVyeSIpOwoKdmFyIGl0ZW1MaW5lUHJlZml4ID0gImxpbi0iOwoKdmFyIGNvb2tpZUpTID0gcmVxdWlyZSgiQC9jb29raWUuanMiKTsKCnZhciBjb29raWUgPSBjb29raWVKUy5nZXRDb29raWUoKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJCaWxsT2ZNYXRlcmlhbCIsCiAgcHJvcHM6IFsiaWQiXSwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nTWU6IGZ1bmN0aW9uIExvYWRpbmdNZSgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL0xvYWRpbmciKTsKICAgIH0gLy8gJ2FwcC1kYXRlcGlja2VyJyA6IERhdGVQaWNrZXJDb21wb25lbnQsCgogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRpc2FibGVkTWU6IGZ1bmN0aW9uIGRpc2FibGVkTWUoKSB7CiAgICAgIHJldHVybiAhIXRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgIH0gLy8gdG90YWxDb3N0KCkgewogICAgLy8gICBpZiAodGhpcy5jb3N0RlAgIT09IDAgfHwgdGhpcy5jb3N0T0ZQICE9PSAwKSB7CiAgICAvLyAgICAgcmV0dXJuIHRoaXMuY29zdE9GUCArIHRoaXMuY29zdEZQCiAgICAvLyAgIH0gZWxzZSB7CiAgICAvLyAgICAgcmV0dXJuIDAKICAgIC8vICAgfQogICAgLy8gfSwKICAgIC8vIHZhcmlhbmNlQW1vdW50KCkgewogICAgLy8gICBpZiAodGhpcy5jb3N0RlAgIT09IDAgfHwgdGhpcy5jb3N0T0ZQICE9PSAwIHx8IHRoaXMuY29zdENVICE9PSAwIHx8IHRoaXMuY29zdE9DICE9PSAwKSB7CiAgICAvLyAgICAgcmV0dXJuICh0aGlzLmNvc3RGUCArIHRoaXMuY29zdE9GUCkgLSAodGhpcy5jb3N0Q1UgKyB0aGlzLmNvc3RPQykKICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICByZXR1cm4gMAogICAgLy8gICB9CiAgICAvLyB9CgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzRWRpdDogZmFsc2UsCiAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgYWxlcnQ6IGZhbHNlLAogICAgICAvLyBGb3JtIHZhbGlkYXRpb24KICAgICAgdmFsaWQ6IHRydWUsCiAgICAgIGlzSGlkZUJhcjogZmFsc2UsCiAgICAgIHdhcmVob3VzZXM6IFtdLAogICAgICBib206IGJvbU1vZGVsLAogICAgICBib21ObzogIiIsCiAgICAgIGJvbVR5cGVzOiBbewogICAgICAgIGlkOiAxLAogICAgICAgIG5hbWU6ICJPbmUgVGltZSBVc2UiCiAgICAgIH0sIHsKICAgICAgICBpZDogMiwKICAgICAgICBuYW1lOiAiTXVsdGlwbGUgVXNlIgogICAgICB9XSwKICAgICAgaXRlbUxpbmVzRlA6IG5ldyBGaW5pc2hQcm9kdWN0TW9kZWwoe30pLAogICAgICBpdGVtTGluZXNPUDogbmV3IE90aGVyRmluaXNoUHJvZHVjdE1vZGVsKHt9KSwKICAgICAgaXRlbUxpbmVzQ1U6IG5ldyBDb21wb25lbnRNb2RlbCh7fSksCiAgICAgIGl0ZW1MaW5lc09DOiBib21Nb2RlbC5vdGhlckNvc3QsCiAgICAgIGZpbmlzaFByb2R1Y3RJdGVtczogW10sCiAgICAgIG90aGVyRmluaXNoUHJvZHVjdEl0ZW1zOiBbXSwKICAgICAgY29tcG9uZW50VXNlZEl0ZW1zOiBbXSwKICAgICAgb3RoZXJDb3N0czogW10sCiAgICAgIHRheDogW10sCiAgICAgIHZhdFRheDogW10sCiAgICAgIGFjY291bnRzOiBbXSwKICAgICAgY29zdEZQOiAwLAogICAgICBjb3N0T0ZQOiAwLAogICAgICBjb3N0Q1U6IDAsCiAgICAgIGNvc3RPQzogMCwKICAgICAgaXRlbUxpbmVPUDogW10sCiAgICAgIGl0ZW1MaW5lQ1U6IFtdLAogICAgICBpdGVtTGluZUZQOiBbXSwKICAgICAgaXRlbUxpbmVPQzogW10sCiAgICAgIHNhbGVGb3JtQ29udGVudDogc2FsZUZvcm1Db250ZW50TW9kZWwsCiAgICAgIGJhc2VDdXJyZW5jeToge30sCiAgICAgIGV4Y2hhbmdlUmF0ZToge30sCiAgICAgIGxvZ2dlZFVzZXI6IHsKICAgICAgICBpZDogY29va2llLmNyZWF0b3IsCiAgICAgICAgbmFtZTogY29va2llLmVtYWlsCiAgICAgIH0sCiAgICAgIHRlbXBsYXRlczogW3sKICAgICAgICB0aXRsZTogIkRyYWZ0IgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICJPcGVuIgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICJQYXJ0aWFsbHkgQ2xvc2VkIgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICJDbG9zZWQiCiAgICAgIH1dCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZFZpZXdCT006IGZ1bmN0aW9uIGxvYWRWaWV3Qk9NKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgYm9tSGFuZGxlci5nZXRBbGwoIj9pZD0iICsgX3RoaXMuJHJvdXRlLnBhcmFtcy5pZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmJvbSA9IHJlc1swXTsgLy8gdGhpcy5hdXRvQ2FsY3VsYXRlR3JpZDEoKQogICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmF1dG9DYWxjdWxhdGVHcmlkMigpCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuYXV0b0NhbGN1bGF0ZUdyaWQzKCkKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmJvbS5maW5pc2hQcm9kdWN0ID0gW10KICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuYm9tLm90aGVyRmluaXNoUHJvZHVjdCA9IFtdCiAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmJvbS5jb21wb25lbnRVc2VkID0gW10KICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZFJvd0ZpbmlzaFByb2R1Y3QoKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGRSb3dPdGhlclByb2R1Y3QoKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGRSb3dDb21wb25lbnRVc2UoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbnVtYmVyRm9ybWF0OiBmdW5jdGlvbiBudW1iZXJGb3JtYXQodmFsdWUpIHsKICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKHZhbHVlLCAibiIuY29uY2F0KHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwpKTsKICAgIH0sCiAgICBudW1iZXJFZGl0b3I6IGZ1bmN0aW9uIG51bWJlckVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgZGF0YS1iaW5kPSJ2YWx1ZTonICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvTnVtZXJpY1RleHRCb3goewogICAgICAgIGRlY2ltYWxzOiAzMCwKICAgICAgICBtaW46IDAsCiAgICAgICAgZm9ybWF0OiAiIi5jb25jYXQodGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbCkKICAgICAgfSk7CiAgICB9LAogICAgbG9hZFNhbGVGb3JtQ29udGVudDogZnVuY3Rpb24gbG9hZFNhbGVGb3JtQ29udGVudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBzYWxlRm9ybUNvbnRlbnRIYW5kbGVyLmxpc3QoKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShkYXRhLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zYWxlRm9ybUNvbnRlbnQgPSBkYXRhWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5iYXNlQ3VycmVuY3kgPSBkYXRhWzBdLmJhc2VDdXJyZW5jeTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuYm9tLmN1cnJlbmN5ID0gX3RoaXMyLmJhc2VDdXJyZW5jeTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5sb2FkVHJhbnNhY3Rpb25SYXRlKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB9KCkpOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFRyYW5zYWN0aW9uUmF0ZTogZnVuY3Rpb24gbG9hZFRyYW5zYWN0aW9uUmF0ZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOwogICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW5jeSA9IF90aGlzMy5iYXNlQ3VycmVuY3k7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSAiIjsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbmN5Lmhhc093blByb3BlcnR5KCJjb2RlIikpIHsKICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjdXJyZW5jeS5jb2RlOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgIT09IHVuZGVmaW5lZCB8fCBjb2RlICE9PSAiIikgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5SGFuZGxlci5nZXRMYXN0RXhjaGFuZ2VSYXRlQnlEYXRlKGRhdGUsIGNvZGUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmV4Y2hhbmdlUmF0ZSA9IHJlcy5kYXRhLmRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmJvbS50eG5SYXRlID0gX3RoaXMzLmV4Y2hhbmdlUmF0ZS5yYXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5ib20uZXhjaGFuZ2VSYXRlID0gX3RoaXMzLmV4Y2hhbmdlUmF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFByZWZpeDogZnVuY3Rpb24gbG9hZFByZWZpeCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBwcmVmaXhIYW5kbGVyLmdldCgiYmlsbCBvZiBtYXRlcmlhbCIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnRyYW5zYWN0aW9uVHlwZXMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNC50cmFuc2FjdGlvblR5cGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuYm9tLnRyYW5zYWN0aW9uVHlwZSA9IF90aGlzNC50cmFuc2FjdGlvblR5cGVzWzBdOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LmdlbmVyYXRlTnVtYmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZW5lcmF0ZU51bWJlcjogZnVuY3Rpb24gZ2VuZXJhdGVOdW1iZXIoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgYWJicjogdGhpcy5ib20udHJhbnNhY3Rpb25UeXBlLmFiYnIsCiAgICAgICAgc3RydWN0dXJlOiB0aGlzLmJvbS50cmFuc2FjdGlvblR5cGUuc3RydWN0dXJlLAogICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICAgICAgc2VxdWNlbmNpbmc6IHRoaXMuYm9tLnRyYW5zYWN0aW9uVHlwZS5zZXF1Y2VuY2luZywKICAgICAgICB0eXBlOiAiQmlsbCBPZiBNYXRlcmlhbCIsCiAgICAgICAgZW50aXR5OiAyCiAgICAgIH07CiAgICAgIHRoaXMuYm9tLmFiYnIgPSBkYXRhLmFiYnI7CiAgICAgIHRoaXMuYm9tLnN0cnVjdHVyZSA9IGRhdGEuc3RydWN0dXJlOwogICAgICB0aGlzLmJvbS5zZXF1Y2VuY2luZyA9IGRhdGEuc2VxdWNlbmNpbmc7CiAgICAgIHRoaXMuYm9tLnR5cGUgPSBkYXRhLnR5cGU7CiAgICAgIHRoaXMuYm9tLnRyYW5zYWN0aW9uRGF0ZSA9IGRhdGEudHJhbnNhY3Rpb25EYXRlOwogICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgYmlsbGluZ0hhbmRsZXIubGFzdE51bWJlcihkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgX3RoaXM1LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKICAgICAgICAgIHZhciBsYXN0TnVtYmVyID0gX3RoaXM1Lnplcm9QYWQocGFyc2VJbnQocmVzLmxhc3ROdW1iZXIpLCBfdGhpczUuYm9tLnRyYW5zYWN0aW9uVHlwZS5mb3JtYXQpOwoKICAgICAgICAgIF90aGlzNS5ib20ubnVtYmVyID0gcmVzLnN1ZmZpeCArIF90aGlzNS5ib20udHJhbnNhY3Rpb25UeXBlLm51bWJlclNlcGFyYXRvciArIGxhc3ROdW1iZXI7CiAgICAgICAgICBfdGhpczUuYm9tLmxhc3ROdW1iZXIgPSByZXMuc3VmZml4ICsgbGFzdE51bWJlcjsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXM1LnNob3dMb2FkaW5nID0gZmFsc2U7CgogICAgICAgIF90aGlzNS5lcnJvcnMucHVzaChlKTsKICAgICAgfSk7CiAgICB9LAogICAgemVyb1BhZDogZnVuY3Rpb24gemVyb1BhZChudW0sIHBsYWNlcykgewogICAgICByZXR1cm4gU3RyaW5nKG51bSkucGFkU3RhcnQocGxhY2VzLCAiMCIpOwogICAgfSwKICAgIHN1ZmZpeDogZnVuY3Rpb24gc3VmZml4KHRyYW5zYWN0aW9uRGF0ZSkgewogICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcobmV3IERhdGUodHJhbnNhY3Rpb25EYXRlKSwgInl5bW0iKTsKICAgIH0sCiAgICBsb2FkV2FyZWhvdXNlczogZnVuY3Rpb24gbG9hZFdhcmVob3VzZXMoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHdhcmVob3VzZUhhbmRsZXIuZ2V0V2FyZWhvdXNlU2V0dGluZ0FsbCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczYud2FyZWhvdXNlcyA9IHJlczsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXREYXRhU291cmNlOiBmdW5jdGlvbiBnZXREYXRhU291cmNlKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciBkc0ZQLCBkYXRhUm93RlAsIGRzT1AsIGRhdGFSb3dPUCwgZHNDVSwgZGF0YVJvd0NVOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkc0ZQID0gX3RoaXM3LiRyZWZzLmZpbmlzaFByb2R1Y3REUy5rZW5kb1dpZGdldCgpOwogICAgICAgICAgICAgICAgZGF0YVJvd0ZQID0gZHNGUC5kYXRhKCk7CiAgICAgICAgICAgICAgICBfdGhpczcuaXRlbUxpbmVGUCA9IFtdOwogICAgICAgICAgICAgICAgZGF0YVJvd0ZQLmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3Lml0ZW1MaW5lRlAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGkuaWQsCiAgICAgICAgICAgICAgICAgICAgaXRlbTogaS5pdGVtLAogICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBpLmRlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgICAgIGJ1b206IGkuYnVvbSwKICAgICAgICAgICAgICAgICAgICB1b206IGkudW9tLAogICAgICAgICAgICAgICAgICAgIHlpZWxkUXR5OiBpLnlpZWxkUXR5LAogICAgICAgICAgICAgICAgICAgIGNvc3Q6IGkuY29zdCwKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGkuYW1vdW50LAogICAgICAgICAgICAgICAgICAgIHNrdTogaS5za3UsCiAgICAgICAgICAgICAgICAgICAgZGVjaW1hbEZvcm1hdDogaS5kZWNpbWFsRm9ybWF0IHx8ICJuMiIsCiAgICAgICAgICAgICAgICAgICAgaW52ZW50b3J5QWNjb3VudDogaS5pbnZlbnRvcnlBY2NvdW50CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBkc09QID0gX3RoaXM3LiRyZWZzLm90aGVyUHJvZHVjdERTLmtlbmRvV2lkZ2V0KCksIGRhdGFSb3dPUCA9IGRzT1AuZGF0YSgpOwogICAgICAgICAgICAgICAgX3RoaXM3Lml0ZW1MaW5lT1AgPSBbXTsKICAgICAgICAgICAgICAgIGRhdGFSb3dPUC5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5pdGVtTGluZU9QLnB1c2goewogICAgICAgICAgICAgICAgICAgIGlkOiBpLmlkLAogICAgICAgICAgICAgICAgICAgIGl0ZW06IGkuaXRlbSwKICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogaS5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICBidW9tOiBpLmJ1b20sCiAgICAgICAgICAgICAgICAgICAgdW9tOiBpLnVvbSwKICAgICAgICAgICAgICAgICAgICB5aWVsZFF0eTogaS55aWVsZFF0eSwKICAgICAgICAgICAgICAgICAgICBjb3N0OiBpLmNvc3QsCiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBpLmFtb3VudCwKICAgICAgICAgICAgICAgICAgICBza3U6IGkuc2t1LAogICAgICAgICAgICAgICAgICAgIGRlY2ltYWxGb3JtYXQ6IGkuZGVjaW1hbEZvcm1hdCB8fCAibjIiLAogICAgICAgICAgICAgICAgICAgIGludmVudG9yeUFjY291bnQ6IGkuaW52ZW50b3J5QWNjb3VudAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgZHNDVSA9IF90aGlzNy4kcmVmcy5jb21wb25lbnRVc2VEUy5rZW5kb1dpZGdldCgpLCBkYXRhUm93Q1UgPSBkc0NVLmRhdGEoKTsKICAgICAgICAgICAgICAgIF90aGlzNy5pdGVtTGluZUNVID0gW107CiAgICAgICAgICAgICAgICBkYXRhUm93Q1UuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICBfdGhpczcuaXRlbUxpbmVDVS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBpZDogaS5pZCwKICAgICAgICAgICAgICAgICAgICBpdGVtOiBpLml0ZW0sCiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGkuZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgICAgYnVvbTogaS5idW9tLAogICAgICAgICAgICAgICAgICAgIHVvbTogaS51b20sCiAgICAgICAgICAgICAgICAgICAgcXR5OiBpLnF0eSwKICAgICAgICAgICAgICAgICAgICBjb3N0OiBpLmNvc3QsCiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBpLmFtb3VudCwKICAgICAgICAgICAgICAgICAgICBza3U6IGkuc2t1LAogICAgICAgICAgICAgICAgICAgIGRlY2ltYWxGb3JtYXQ6IGkuZGVjaW1hbEZvcm1hdCB8fCAibjIiLAogICAgICAgICAgICAgICAgICAgIGludmVudG9yeUFjY291bnQ6IGkuaW52ZW50b3J5QWNjb3VudAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOyAvLyBsZXQgZHNPQyA9IHRoaXMuJHJlZnMub3RoZXJDb3N0RFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgICAgICAgIC8vICAgICBkYXRhUm93T0MgPSBkc09DLmRhdGEoKQoKICAgICAgICAgICAgICAgIF90aGlzNy5pdGVtTGluZU9DID0gW107IC8vIGRhdGFSb3dPQy5mb3JFYWNoKGkgPT4gewogICAgICAgICAgICAgICAgLy8gICB0aGlzLml0ZW1MaW5lT0MucHVzaCh7CiAgICAgICAgICAgICAgICAvLyAgICAgaWQ6IGkuaWQsCiAgICAgICAgICAgICAgICAvLyAgICAgYWNjb3VudDogaS5hY2NvdW50LAogICAgICAgICAgICAgICAgLy8gICAgIGRlc2NyaXB0aW9uOiBpLmRlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgLy8gICAgIGFtb3VudDogaS5hbW91bnQsCiAgICAgICAgICAgICAgICAvLyAgICAgdGF4OiBpLnRheCwKICAgICAgICAgICAgICAgIC8vICAgfSkKICAgICAgICAgICAgICAgIC8vIH0pCgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzYXZlUHJpbnQ6IGZ1bmN0aW9uIHNhdmVQcmludCgpIHt9LAogICAgc2F2ZU5ldzogZnVuY3Rpb24gc2F2ZU5ldygpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNhdmVDbG9zZTogZnVuY3Rpb24gc2F2ZUNsb3NlKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczguYm9tLnZhcmlhbmNlICE9PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzOC4kc25vdGlmeS5lcnJvcigiUGxlYXNlIGNoZWNrIHlvdXIgdmFyaWFuY2UgYW1vdW50Iik7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LmdldERhdGFTb3VyY2UoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX3RoaXM4LmJvbS5maW5pc2hQcm9kdWN0ID0gX3RoaXM4Lml0ZW1MaW5lRlA7CiAgICAgICAgICAgICAgICBfdGhpczguYm9tLml0ZW1JZCA9IF90aGlzOC5pdGVtTGluZUZQWzBdLml0ZW0gPyBfdGhpczguaXRlbUxpbmVGUFswXS5pdGVtLmlkIDogIiI7CiAgICAgICAgICAgICAgICBfdGhpczguYm9tLm90aGVyRmluaXNoUHJvZHVjdCA9IF90aGlzOC5pdGVtTGluZU9QOwogICAgICAgICAgICAgICAgX3RoaXM4LmJvbS5jb21wb25lbnRVc2VkID0gX3RoaXM4Lml0ZW1MaW5lQ1U7IC8vIHRoaXMuYm9tLm90aGVyQ29zdCA9IHRoaXMuaXRlbUxpbmVPQwogICAgICAgICAgICAgICAgLy8gdGhpcy5ib20uYW1vdW50ID0gdGhpcy50b3RhbENvc3QKICAgICAgICAgICAgICAgIC8vIHRoaXMuYm9tLmV4Y2hhbmdlQW1vdW50ID0gdGhpcy50b3RhbENvc3QKICAgICAgICAgICAgICAgIC8vIHRoaXMuYm9tLnZhcmlhbmNlID0gdGhpcy52YXJpYW5jZUFtb3VudAoKICAgICAgICAgICAgICAgIF90aGlzOC5ib20uc3RhdHVzID0gMTsKICAgICAgICAgICAgICAgIF90aGlzOC5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGJvbUhhbmRsZXIuc2F2ZShfdGhpczguYm9tKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM4LnNob3dMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICBfdGhpczguJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiUHJvZHVjdHMiLAogICAgICAgICAgICAgICAgICAgIHBhdGg6ICJwcm9kdWN0IiwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICAgIGRhdGFCb206IHJlcwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlbW92ZVJvdzogZnVuY3Rpb24gcmVtb3ZlUm93KCkge30sCiAgICBlcnJvck1lc3NhZ2U6IGZ1bmN0aW9uIGVycm9yTWVzc2FnZSgpIHt9LAogICAgZGF0YVNvdXJjZUNoYW5nZWQ6IGZ1bmN0aW9uIGRhdGFTb3VyY2VDaGFuZ2VkKGUpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgdmFyIGRhdGFSb3csIGJ1b207CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIWUuZmllbGQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGFSb3cgPSBlLml0ZW1zWzBdLCBidW9tID0ge307CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnQwID0gZS5maWVsZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IF9jb250ZXh0MTAudDAgPT09ICJpdGVtIiA/IDUgOiBfY29udGV4dDEwLnQwID09PSAiY29zdCIgPyAxMiA6IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIC8vIHRoaXMuYXR0cmlidXRlXyA9IHRoaXMuYXR0cmlidXRlcy5maWx0ZXIobSA9PiBtLnR5cGUuaWQgPT09IGRhdGFSb3cudmFyaWFudC5pZCkKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJkZXNjcmlwdGlvbiIsIGRhdGFSb3cuaXRlbS5kZXNjcmlwdGlvbik7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgieWllbGRRdHkiLCAxKTsKICAgICAgICAgICAgICAgIGJ1b20gPSBkYXRhUm93Lml0ZW0udW9tOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImJ1b20iLCBidW9tKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOS5pbnZlbnRvcnlCYWxhbmNlQnlJdGVtKGRhdGFSb3csIGRhdGFSb3cuaXRlbS5pZCwgMSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoImJyZWFrIiwgMTYpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIHBhcnNlRmxvYXQoZGF0YVJvdy5jb3N0KSAqIHBhcnNlRmxvYXQoZGF0YVJvdy55aWVsZFF0eSkpOwogICAgICAgICAgICAgICAgX3RoaXM5LmNvc3RGUCA9IGRhdGFSb3cuYW1vdW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuYWJydXB0KCJicmVhayIsIDE2KTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdCgiYnJlYWsiLCAxNik7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBpZiAoZS5maWVsZCkgewogICAgICAgICAgICAgICAgICBfdGhpczkuYXV0b0NhbGN1bGF0ZUdyaWQxKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczkuYXV0b0NhbGN1bGF0ZUdyaWQyKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczkuYXV0b0NhbGN1bGF0ZUdyaWQzKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRhdGFTb3VyY2VDaGFuZ2VkT1A6IGZ1bmN0aW9uIGRhdGFTb3VyY2VDaGFuZ2VkT1AoZSkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7CiAgICAgICAgdmFyIGRhdGFSb3csIGJ1b207CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIWUuZmllbGQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGFSb3cgPSBlLml0ZW1zWzBdLCBidW9tID0ge307CiAgICAgICAgICAgICAgICBfY29udGV4dDExLnQwID0gZS5maWVsZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IF9jb250ZXh0MTEudDAgPT09ICJpdGVtIiA/IDUgOiBfY29udGV4dDExLnQwID09PSAieWllbGRRdHkiID8gMTIgOiBfY29udGV4dDExLnQwID09PSAiY29zdCIgPyAxNCA6IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJkZXNjcmlwdGlvbiIsIGRhdGFSb3cuaXRlbS5kZXNjcmlwdGlvbik7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgieWllbGRRdHkiLCAxKTsKICAgICAgICAgICAgICAgIGJ1b20gPSBkYXRhUm93Lml0ZW0udW9tOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImJ1b20iLCBidW9tKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTAuaW52ZW50b3J5QmFsYW5jZUJ5SXRlbShkYXRhUm93LCBkYXRhUm93Lml0ZW0uaWQsIDEpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuYWJydXB0KCJicmVhayIsIDE4KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBwYXJzZUZsb2F0KGRhdGFSb3cuY29zdCkgKiBwYXJzZUZsb2F0KGRhdGFSb3cueWllbGRRdHkpKTsgLy8gdGhpcy5jb3N0T0ZQID0gZGF0YVJvdy5hbW91bnQKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoImJyZWFrIiwgMTgpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIHBhcnNlRmxvYXQoZGF0YVJvdy5jb3N0KSAqIHBhcnNlRmxvYXQoZGF0YVJvdy55aWVsZFF0eSkpOyAvLyB0aGlzLmNvc3RPRlAgPSBkYXRhUm93LmFtb3VudAoKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhkYXRhUm93LmNvc3QpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuYWJydXB0KCJicmVhayIsIDE4KTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLmFicnVwdCgiYnJlYWsiLCAxOCk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBpZiAoZS5maWVsZCkgewogICAgICAgICAgICAgICAgICBfdGhpczEwLmF1dG9DYWxjdWxhdGVHcmlkMSgpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxMC5hdXRvQ2FsY3VsYXRlR3JpZDIoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTAuYXV0b0NhbGN1bGF0ZUdyaWQzKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVHcmlkMTogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZUdyaWQxKCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmZpbmlzaFByb2R1Y3REUy5rZW5kb1dpZGdldCgpOwogICAgICB2YXIgcm93ID0gZHMuZGF0YSgpOwogICAgICB2YXIgYW1vdW50ID0gMDsKICAgICAgcm93LmZvckVhY2goZnVuY3Rpb24gKG4pIHsKICAgICAgICBhbW91bnQgKz0gbi5hbW91bnQgfHwgMDsKICAgICAgfSk7CiAgICAgIHRoaXMuY29zdEZQID0gYW1vdW50OwogICAgICB0aGlzLmJvbS5hbW91bnQgPSB0aGlzLmNvc3RPRlAgKyB0aGlzLmNvc3RGUDsKICAgICAgdGhpcy5ib20uZXhjaGFuZ2VBbW91bnQgPSB0aGlzLmNvc3RPRlAgKyB0aGlzLmNvc3RGUDsKICAgICAgdGhpcy5ib20udmFyaWFuY2UgPSB0aGlzLmNvc3RGUCArIHRoaXMuY29zdE9GUCAtICh0aGlzLmNvc3RDVSArIHRoaXMuY29zdE9DKTsKICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlR3JpZDI6IGZ1bmN0aW9uIGF1dG9DYWxjdWxhdGVHcmlkMigpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5vdGhlclByb2R1Y3REUy5rZW5kb1dpZGdldCgpOwogICAgICB2YXIgcm93ID0gZHMuZGF0YSgpOwogICAgICB2YXIgYW1vdW50ID0gMDsKICAgICAgcm93LmZvckVhY2goZnVuY3Rpb24gKG4pIHsKICAgICAgICBhbW91bnQgKz0gbi5hbW91bnQgfHwgMDsKICAgICAgfSk7CiAgICAgIHRoaXMuY29zdE9GUCA9IGFtb3VudDsKICAgICAgdGhpcy5ib20uYW1vdW50ID0gdGhpcy5jb3N0T0ZQICsgdGhpcy5jb3N0RlA7CiAgICAgIHRoaXMuYm9tLmV4Y2hhbmdlQW1vdW50ID0gdGhpcy5jb3N0T0ZQICsgdGhpcy5jb3N0RlA7CiAgICAgIHRoaXMuYm9tLnZhcmlhbmNlID0gdGhpcy5jb3N0RlAgKyB0aGlzLmNvc3RPRlAgLSAodGhpcy5jb3N0Q1UgKyB0aGlzLmNvc3RPQyk7CiAgICB9LAogICAgYXV0b0NhbGN1bGF0ZUdyaWQzOiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlR3JpZDMoKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuY29tcG9uZW50VXNlRFMua2VuZG9XaWRnZXQoKTsKICAgICAgdmFyIHJvdyA9IGRzLmRhdGEoKTsKICAgICAgdmFyIGFtb3VudCA9IDA7CiAgICAgIHJvdy5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgYW1vdW50ICs9IG4uYW1vdW50IHx8IDA7CiAgICAgIH0pOwogICAgICB0aGlzLmNvc3RDVSA9IGFtb3VudDsKICAgICAgdGhpcy5ib20uYW1vdW50ID0gdGhpcy5jb3N0T0ZQICsgdGhpcy5jb3N0RlA7CiAgICAgIHRoaXMuYm9tLmV4Y2hhbmdlQW1vdW50ID0gdGhpcy5jb3N0T0ZQICsgdGhpcy5jb3N0RlA7CiAgICAgIHRoaXMuYm9tLnZhcmlhbmNlID0gdGhpcy5jb3N0RlAgKyB0aGlzLmNvc3RPRlAgLSAodGhpcy5jb3N0Q1UgKyB0aGlzLmNvc3RPQyk7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygidGhpcy5ib20uZXhjaGFuZ2VBbW91bnQiLCB0aGlzLmJvbS5leGNoYW5nZUFtb3VudCwgInZhcmlhbmNlIiwgdGhpcy5ib20udmFyaWFuY2UpOwogICAgfSwKICAgIGRhdGFTb3VyY2VDaGFuZ2VkT0M6IGZ1bmN0aW9uIGRhdGFTb3VyY2VDaGFuZ2VkT0MoZSkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgdmFyIGRhdGFSb3c7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIWUuZmllbGQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGFSb3cgPSBlLml0ZW1zWzBdOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi50MCA9IGUuZmllbGQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSBfY29udGV4dDEyLnQwID09PSAiYWNjb3VudCIgPyA1IDogX2NvbnRleHQxMi50MCA9PT0gInRheCIgPyA3IDogX2NvbnRleHQxMi50MCA9PT0gImFtb3VudCIgPyA4IDogMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGRhdGFSb3cuYWNjb3VudCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoImJyZWFrIiwgMTEpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoImJyZWFrIiwgMTEpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfdGhpczExLmNvc3RPQyA9IGRhdGFSb3cuYW1vdW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuYWJydXB0KCJicmVhayIsIDExKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLmFicnVwdCgiYnJlYWsiLCAxMSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRhdGFTb3VyY2VDaGFuZ2VkQ1U6IGZ1bmN0aW9uIGRhdGFTb3VyY2VDaGFuZ2VkQ1UoZSkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgdmFyIGRhdGFSb3csIGJ1b207CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIWUuZmllbGQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGFSb3cgPSBlLml0ZW1zWzBdLCBidW9tID0ge307CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnQwID0gZS5maWVsZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IF9jb250ZXh0MTMudDAgPT09ICJpdGVtIiA/IDUgOiBfY29udGV4dDEzLnQwID09PSAicXR5IiA/IDEyIDogX2NvbnRleHQxMy50MCA9PT0gImNvc3QiID8gMTQgOiAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZGVzY3JpcHRpb24iLCBkYXRhUm93Lml0ZW0uZGVzY3JpcHRpb24pOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInF0eSIsIDEpOwogICAgICAgICAgICAgICAgYnVvbSA9IGRhdGFSb3cuaXRlbS51b207CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYnVvbSIsIGJ1b20pOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMi5pbnZlbnRvcnlCYWxhbmNlQnlJdGVtKGRhdGFSb3csIGRhdGFSb3cuaXRlbS5pZCwgMik7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoImJyZWFrIiwgMTcpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgLy8gZGF0YVJvdy5zZXQoJ3ByaWNlJywgcGFyc2VGbG9hdChkYXRhUm93LnVvbS5wcmljZSkpCiAgICAgICAgICAgICAgICAvLyBkYXRhUm93LnNldCgnY29zdCcsIHBhcnNlRmxvYXQoZGF0YVJvdy51b20ucHJpY2UpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSkpCiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgcGFyc2VGbG9hdChkYXRhUm93LmNvc3QpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSkpOyAvLyB0aGlzLmNvc3RDVSA9IGRhdGFSb3cuYW1vdW50CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KCJicmVhayIsIDE3KTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBwYXJzZUZsb2F0KGRhdGFSb3cuY29zdCkgKiBwYXJzZUZsb2F0KGRhdGFSb3cucXR5KSk7IC8vIHRoaXMuY29zdENVID0gZGF0YVJvdy5hbW91bnQKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoImJyZWFrIiwgMTcpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KCJicmVhayIsIDE3KTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTIuYXV0b0NhbGN1bGF0ZUdyaWQxKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczEyLmF1dG9DYWxjdWxhdGVHcmlkMigpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxMi5hdXRvQ2FsY3VsYXRlR3JpZDMoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcm93TnVtYmVyRlA6IGZ1bmN0aW9uIHJvd051bWJlckZQKGRhdGFJdGVtKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuZmluaXNoUHJvZHVjdERTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIFVPTURyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBVT01Ecm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJ1b20udG9VT00ubmFtZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJ1b20udG9VT00uaWQiLAogICAgICAgIGNhc2NhZGVGcm9tOiAiaXRlbSIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPXVvbS50b1VPTS5uYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgc2VydmVyRmlsdGVyaW5nOiB0cnVlLAogICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICB1cmw6IHVvbVByaWNlSGFuZGxlci5nZXRVcmwob3B0aW9ucy5tb2RlbC5pdGVtLmlkKQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhVHlwZTogImpzb24iCiAgICAgICAgICB9LAogICAgICAgICAgc2NoZW1hOiB7CiAgICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgICAgaWQ6ICJpZCIsCiAgICAgICAgICAgICAgZmllbGRzOiB7CiAgICAgICAgICAgICAgICBpZDogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSAvLyBuYW1lOiB7dHlwZTogInN0cmluZyJ9LAogICAgICAgICAgICAgICAgLy8gc2t1OiB7dHlwZTogInN0cmluZyJ9LAoKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG90YWw6IGZ1bmN0aW9uIHRvdGFsKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy8gZGF0YTogdGhpcy52YXJpYW50cwoKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBVT01UZW1wbGF0ZTogZnVuY3Rpb24gVU9NVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIHVvbSA9IGRhdGFJdGVtLmJ1b207CgogICAgICBpZiAodW9tKSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdCh1b20ubmFtZSA/IHVvbS5uYW1lIDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgSXRlbURyb3BEb3duRWRpdG9yRlA6IGZ1bmN0aW9uIEl0ZW1Ecm9wRG93bkVkaXRvckZQKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAiY29udGFpbnMiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICBoZWFkZXJUZW1wbGF0ZTogJzxkaXYgY2xhc3M9ImRyb3Bkb3duLWhlYWRlciBrLXdpZGdldCBrLWhlYWRlciI+JyArICI8c3Bhbj5JdGVtcyA8L3NwYW4+IiArICI8c3Bhbj48L3NwYW4+IiArICI8L2Rpdj4iLAogICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1uYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgc2VydmVyRmlsdGVyaW5nOiB0cnVlLAogICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICB1cmw6IHByb2R1Y3RWYXJpYW50SGFuZGxlci5pdGVtVmFyaWFudFNlYXJjaFVSTCgpIC8vIHZhcmlhbnQgb25seQoKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIgogICAgICAgICAgfSwKICAgICAgICAgIHNjaGVtYTogewogICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgICAgIGZpZWxkczogewogICAgICAgICAgICAgICAgaWQ6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBuYW1lOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc2t1OiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIGRhdGE6IHRoaXMudmFyaWFudHMKCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgSXRlbURyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBJdGVtRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJjb250YWlucyIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGhlYWRlclRlbXBsYXRlOiAnPGRpdiBjbGFzcz0iZHJvcGRvd24taGVhZGVyIGstd2lkZ2V0IGstaGVhZGVyIj4nICsgIjxzcGFuPkl0ZW1zIDwvc3Bhbj4iICsgIjxzcGFuPjwvc3Bhbj4iICsgIjwvZGl2PiIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogcHJvZHVjdFZhcmlhbnRIYW5kbGVyLml0ZW1TZWFyY2hVUkwoKQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhVHlwZTogImpzb24iCiAgICAgICAgICB9LAogICAgICAgICAgc2NoZW1hOiB7CiAgICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgICAgaWQ6ICJpZCIsCiAgICAgICAgICAgICAgZmllbGRzOiB7CiAgICAgICAgICAgICAgICBpZDogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBza3U6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG90YWw6IGZ1bmN0aW9uIHRvdGFsKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy8gZGF0YTogdGhpcy52YXJpYW50cwoKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBpdGVtVGVtcGxhdGU6IGZ1bmN0aW9uIGl0ZW1UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgaXRlbSA9IGRhdGFJdGVtLml0ZW07CgogICAgICBpZiAoaXRlbSkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQoaXRlbS5uYW1lID8gaXRlbS5uYW1lIDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgaW52ZW50b3J5QmFsYW5jZUJ5SXRlbTogZnVuY3Rpb24gaW52ZW50b3J5QmFsYW5jZUJ5SXRlbShkYXRhUm93LCBpdGVtSWQpIHsKICAgICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHMsCiAgICAgICAgICBfdGhpczEzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgICB2YXIgZmxhZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGZsYWcgPSBfYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgX2FyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50c1syXSA6IDE7CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHZhciBzdGFydERhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3RyRmlsdGVyID0gIj9hc09mPSIgKyBzdGFydERhdGUgKyAiJmlkPSIgKyBpdGVtSWQ7CiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIuaW52ZW50b3J5QmFsYW5jZShzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmFsYW5jZSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFsYW5jZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvc3QiLCBiYWxhbmNlWzBdLndhYyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInFvaCIsIGJhbGFuY2VbMF0ucW9oKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZsYWcgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBwYXJzZUZsb2F0KGJhbGFuY2VbMF0ud2FjKSAqIHBhcnNlRmxvYXQoZGF0YVJvdy55aWVsZFF0eSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgcGFyc2VGbG9hdChiYWxhbmNlWzBdLndhYykgKiBwYXJzZUZsb2F0KGRhdGFSb3cucXR5KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjb3N0IiwgMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZFJvd0ZpbmlzaFByb2R1Y3Q6IGZ1bmN0aW9uIGFkZFJvd0ZpbmlzaFByb2R1Y3QoKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHsKICAgICAgICB2YXIgZHMsIHRvdGFsOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZHMgPSBfdGhpczE0LiRyZWZzLmZpbmlzaFByb2R1Y3REUy5rZW5kb1dpZGdldCgpLCB0b3RhbCA9IGRzLnRvdGFsKCk7CiAgICAgICAgICAgICAgICBfdGhpczE0Lml0ZW1MaW5lc0ZQLmlkID0gaXRlbUxpbmVQcmVmaXggKyB1dWlkLnYxKCk7CiAgICAgICAgICAgICAgICBfdGhpczE0Lml0ZW1MaW5lc0ZQLmRlY2ltYWxGb3JtYXQgPSAibiIgKyBfdGhpczE0LnNhbGVGb3JtQ29udGVudC5kZWNpbWFsOwoKICAgICAgICAgICAgICAgIGlmICh0b3RhbCA9PT0gMCkgewogICAgICAgICAgICAgICAgICBkcy5pbnNlcnQodG90YWwsIF90aGlzMTQuaXRlbUxpbmVzRlApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFVPTURyb3BEb3duRWRpdG9yT1A6IGZ1bmN0aW9uIFVPTURyb3BEb3duRWRpdG9yT1AoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAidW9tLnRvVU9NLm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAidW9tLnRvVU9NLmlkIiwKICAgICAgICBjYXNjYWRlRnJvbTogIml0ZW0iLAogICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz11b20udG9VT00ubmFtZSM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIHNlcnZlckZpbHRlcmluZzogdHJ1ZSwKICAgICAgICAgIHRyYW5zcG9ydDogewogICAgICAgICAgICByZWFkOiB7CiAgICAgICAgICAgICAgdXJsOiB1b21QcmljZUhhbmRsZXIuZ2V0VXJsKG9wdGlvbnMubW9kZWwuaXRlbS5pZCkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIgogICAgICAgICAgfSwKICAgICAgICAgIHNjaGVtYTogewogICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgICAgIGZpZWxkczogewogICAgICAgICAgICAgICAgaWQ6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0gLy8gbmFtZToge3R5cGU6ICJzdHJpbmcifSwKICAgICAgICAgICAgICAgIC8vIHNrdToge3R5cGU6ICJzdHJpbmcifSwKCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIGRhdGE6IHRoaXMudmFyaWFudHMKCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgVU9NVGVtcGxhdGVPUDogZnVuY3Rpb24gVU9NVGVtcGxhdGVPUChkYXRhSXRlbSkgewogICAgICB2YXIgdW9tID0gZGF0YUl0ZW0udW9tOwoKICAgICAgaWYgKHVvbSkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQodW9tLnVvbSA/IHVvbS51b20udG9VT00ubmFtZSA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIHJvd051bWJlck9QOiBmdW5jdGlvbiByb3dOdW1iZXJPUChkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLm90aGVyUHJvZHVjdERTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIGFkZFJvd090aGVyUHJvZHVjdDogZnVuY3Rpb24gYWRkUm93T3RoZXJQcm9kdWN0KCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLm90aGVyUHJvZHVjdERTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICB0b3RhbCA9IGRzLnRvdGFsKCk7CiAgICAgIHRoaXMuaXRlbUxpbmVzT1AuaWQgPSBpdGVtTGluZVByZWZpeCArIHV1aWQudjEoKTsKICAgICAgdGhpcy5pdGVtTGluZXNPUC5kZWNpbWFsRm9ybWF0ID0gIm4iICsgdGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbDsKICAgICAgZHMuaW5zZXJ0KHRvdGFsLCB0aGlzLml0ZW1MaW5lc09QKTsKICAgIH0sCiAgICByZW1vdmVSb3dPUDogZnVuY3Rpb24gcmVtb3ZlUm93T1AoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZE90aGVyUHJvZHVjdCIpLmRhdGEoImtlbmRvR3JpZCIpLAogICAgICAgICAgZGF0YVNvdXJjZSA9IGdyaWQuZGF0YVNvdXJjZSwKICAgICAgICAgIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CgogICAgICBpZiAoZGF0YVNvdXJjZS50b3RhbCgpID49IDEpIHsKICAgICAgICBkYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmVSb3dDVTogZnVuY3Rpb24gcmVtb3ZlUm93Q1UoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZENvbXBvbmVudFVzZSIpLmRhdGEoImtlbmRvR3JpZCIpLAogICAgICAgICAgZGF0YVNvdXJjZSA9IGdyaWQuZGF0YVNvdXJjZSwKICAgICAgICAgIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CgogICAgICBpZiAoZGF0YVNvdXJjZS50b3RhbCgpID4gMSkgewogICAgICAgIGRhdGFTb3VyY2UucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgfQogICAgfSwKICAgIFVPTVRlbXBsYXRlQ1U6IGZ1bmN0aW9uIFVPTVRlbXBsYXRlQ1UoZGF0YUl0ZW0pIHsKICAgICAgdmFyIHVvbSA9IGRhdGFJdGVtLnVvbTsKCiAgICAgIGlmICh1b20pIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KHVvbS51b20gPyB1b20udW9tLnRvVU9NLm5hbWUgOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICByb3dOdW1iZXJDVTogZnVuY3Rpb24gcm93TnVtYmVyQ1UoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5jb21wb25lbnRVc2VEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKICAgICAgcmV0dXJuIGluZGV4ICsgMTsKICAgIH0sCiAgICBhZGRSb3dDb21wb25lbnRVc2U6IGZ1bmN0aW9uIGFkZFJvd0NvbXBvbmVudFVzZSgpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5jb21wb25lbnRVc2VEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgdG90YWwgPSBkcy50b3RhbCgpOwogICAgICB0aGlzLml0ZW1MaW5lc0NVLmlkID0gaXRlbUxpbmVQcmVmaXggKyB1dWlkLnYxKCk7CiAgICAgIHRoaXMuaXRlbUxpbmVzQ1UuZGVjaW1hbEZvcm1hdCA9ICJuIiArIHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWw7CiAgICAgIGRzLmluc2VydCh0b3RhbCwgdGhpcy5pdGVtTGluZXNDVSk7CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHRoaXMuJHN3YWwoewogICAgICAgIHRpdGxlOiBpMThuLnQoIm1zZ190aXRsZV93YXJuaW5nIiksCiAgICAgICAgdGV4dDogaTE4bi50KCJtc2dfZGlzY2FyZCIpLAogICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IGkxOG4udCgiY2FuY2VsIiksCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjRUQxQTNBIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogaTE4bi50KCJkaXNjYXJkIikKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0Q2VuKSB7CiAgICAgICAgaWYgKHJlc3VsdENlbi52YWx1ZSkgewogICAgICAgICAgX3RoaXMxNS4kcm91dGVyLmdvKC0xKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTYubG9hZFNhbGVGb3JtQ29udGVudCgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTYubG9hZFByZWZpeCgpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTYubG9hZFdhcmVob3VzZXMoKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczE2LmxvYWRWaWV3Qk9NKCk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTE2KTsKICAgIH0pKSgpOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsvLyBhd2FpdCB0aGlzLmxvYWRUYXgoKQogICAgLy8gYXdhaXQgdGhpcy5sb2FkQWNjb3VudCgpCgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTcpOwogICAgfSkpKCk7CiAgfSwKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHsKICAgIHRoaXMuYm9tLmZpbmlzaFByb2R1Y3QgPSBbXTsKICAgIHRoaXMuYm9tLm90aGVyRmluaXNoUHJvZHVjdCA9IFtdOwogICAgdGhpcy5ib20uY29tcG9uZW50VXNlZCA9IFtdOwogICAgdGhpcy5sb2FkVmlld0JPTSgpOwogIH0sCiAgZGVhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGRlYWN0aXZhdGVkKCkgewogICAgdGhpcy5ib20uZmluaXNoUHJvZHVjdCA9IFtdOwogICAgdGhpcy5ib20ub3RoZXJGaW5pc2hQcm9kdWN0ID0gW107CiAgICB0aGlzLmJvbS5jb21wb25lbnRVc2VkID0gW107IC8vIHRoaXMuYWRkUm93RmluaXNoUHJvZHVjdCgpCiAgICAvLyB0aGlzLmFkZFJvd090aGVyUHJvZHVjdCgpCiAgICAvLyB0aGlzLmFkZFJvd0NvbXBvbmVudFVzZSgpCiAgfSwKICB3YXRjaDogey8vICckcm91dGVyJzogJ2xvYWRWaWV3Qk9NJwogIH0KfTs="},{"version":3,"sources":["BillOfMaterial.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <v-row>\n        <v-col cols=\"12\" sm=\"12\">\n          <v-card\n            outlined\n            dense\n            class=\"pa-4 no_border rounded-sm\"\n            color=\"white\"\n          >\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n              <v-card outlined dense class=\"no_border\">\n                <h2 class=\"mb-0\">{{ $t(\"bill_of_material\") }}</h2>\n                <v-icon\n                  @click=\"cancel()\"\n                  style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                  class=\"float-right\"\n                  >close\n                </v-icon>\n              </v-card>\n\n              <v-card outlined dense class=\"px-3 no_border\" color=\"grayBg\">\n                <v-row>\n                  <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                    <label class=\"label  mb-0\">{{ $t(\"bom_no\") }}</label>\n                    <v-row class=\"mt-1 mr-0\">\n                      <v-col sm=\"3\" cols=\"3\" class=\"pt-0 pr-0\">\n                        <div class=\"code_text\">{{ bom.abbr }}</div>\n                      </v-col>\n                      <v-col sm=\"7\" cols=\"7\" class=\"pt-0 pl-0 pr-1\">\n                        <v-text-field\n                          class=\" custom-border \"\n                          v-model=\"bom.number\"\n                          disabled\n                          outlined\n                          tage=\"Bom No.\"\n                          :rules=\"[(v) => !!v || 'Number is required']\"\n                          required\n                        />\n                      </v-col>\n                      <v-col sm=\"2\" cols=\"2\" class=\"pt-0 px-0\">\n                        <v-icon\n                          color=\"black\"\n                          size=\"30\"\n                          class=\"border_qrcode\"\n                          :disabled=\"disabledMe\"\n                          @click=\"generateNumber\"\n                          >mdi-qrcode\n                        </v-icon>\n                      </v-col>\n                    </v-row>\n                  </v-col>\n                  <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                    <label class=\"label  mb-0 mt-1\" style=\"\">{{\n                      $t(\"bom_type\")\n                    }}</label>\n                    <v-select\n                      class=\"mt-1\"\n                      :items=\"bomTypes\"\n                      v-model=\"bom.typeBom\"\n                      item-text=\"name\"\n                      item-value=\"id\"\n                      return-object\n                      :placeholder=\"$t('type')\"\n                      tage=\"Bom Type\"\n                      outlined\n                    />\n                  </v-col>\n                  <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                    <label class=\"label  mb-0 mt-1\" style=\"\">{{\n                      $t(\"warehouse\")\n                    }}</label>\n                    <v-select\n                      class=\"mt-1\"\n                      :items=\"warehouses\"\n                      v-model=\"bom.warehouse\"\n                      return-object\n                      item-value=\"id\"\n                      item-text=\"name\"\n                      :placeholder=\"$t('warehouse')\"\n                      tage=\"Warehouse\"\n                      outlined\n                    />\n                  </v-col>\n                  <!--                                    <v-col sm=\"3\" cols=\"12\" class=\"my_radio\">-->\n                  <!--                                        <input v-model=\"bom.materialType\" id=\"radio1\" :selected-value=\"{id: 1, name: 'Build Assembly'}\" name=\"radio\" type=\"radio\">-->\n                  <!--                                        <label for=\"radio1\">{{ $t('build_assembly') }}</label>-->\n                  <!--                                        <input v-model=\"bom.materialType\" :selected-value=\"{id: 2, name: 'Production'}\" id=\"radio2\" name=\"radio\" type=\"radio\">-->\n                  <!--                                        <label for=\"radio2\">{{ $t('production') }}</label>-->\n                  <!--                                    </v-col>-->\n                </v-row>\n              </v-card>\n              <v-row>\n                <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                  <!-- Grid One -->\n                  <v-row style=\"background-color: #fff;\">\n                    <v-col cols=\"12\" class=\"py-1 pb-0\">\n                      <h2 class=\"primary--text mb-0 font_18 text-uppercase\">\n                        {{ $t(\"finished_product\") }}\n                      </h2>\n                    </v-col>\n                    <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n                      <kendo-datasource\n                        ref=\"finishProductDS\"\n                        :change=\"dataSourceChanged\"\n                        :data=\"bom.finishProduct\"\n                      />\n                      <kendo-grid\n                        id=\"gridFinishProduct\"\n                        class=\"grid-function\"\n                        :data-source-ref=\"'finishProductDS'\"\n                        :sortable=\"false\"\n                        :filterable=\"false\"\n                        :column-menu=\"true\"\n                        :editable=\"true\"\n                        :scrollable-virtual=\"true\"\n                      >\n                        <kendo-grid-column\n                          :template=\"rowNumberFP\"\n                          :title=\"$t('no.')\"\n                          :width=\"55\"\n                          :column-menu=\"false\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5;',\n                            class: 'text-variants',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: variants',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'item'\"\n                          :title=\"$t('items')\"\n                          :width=\"200\"\n                          :editable=\"\n                            () => {\n                              return true;\n                            }\n                          \"\n                          :template=\"itemTemplate\"\n                          :editor=\"ItemDropDownEditorFP\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'buom'\"\n                          :title=\"$t('base_uom')\"\n                          :width=\"150\"\n                          :template=\"UOMTemplate\"\n                          :editor=\"UOMDropDownEditor\"\n                          :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{ style: 'text-align: right; ' }\"\n                        />\n                        <!-- <kendo-grid-column\n                          :field=\"'description'\"\n                          :title=\"$t('description')\"\n                          :width=\"200\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        /> -->\n\n                        <kendo-grid-column\n                          :field=\"'yieldQty'\"\n                          :title=\"$t('yield_qty')\"\n                          :attributes=\"{\n                            class: 'k-state-disabled',\n                            style: 'text-align: right',\n                          }\"\n                          :width=\"150\"\n                          :template=\"\n                            '<span>#=kendo.toString(yieldQty || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'cost'\"\n                          :title=\"$t('cost')\"\n                          :width=\"150\"\n                          :editor=\"numberEditor\"\n                          :template=\"\n                            '<span>#=kendo.toString(cost || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'amount'\"\n                          :title=\"$t('amount')\"\n                          :width=\"150\"\n                          :template=\"\n                            '<span>#=kendo.toString(amount || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                        />\n                      </kendo-grid>\n                    </v-col>\n                  </v-row>\n                  <!-- Grid Two -->\n                  <v-row style=\"background-color: #fff;\">\n                    <v-col cols=\"12\" class=\"pt-0 pb-0\">\n                      <h2 class=\"primary--text mb-0 font_18 text-uppercase\">\n                        {{ $t(\"by_product\") }}\n                      </h2>\n                    </v-col>\n                    <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n                      <kendo-datasource\n                        ref=\"otherProductDS\"\n                        :change=\"dataSourceChangedOP\"\n                        :data=\"bom.otherFinishProduct\"\n                      />\n                      <kendo-grid\n                        id=\"gridOtherProduct\"\n                        class=\"grid-function\"\n                        :data-source-ref=\"'otherProductDS'\"\n                        :sortable=\"false\"\n                        :filterable=\"false\"\n                        :column-menu=\"true\"\n                        :editable=\"true\"\n                        :scrollable-virtual=\"true\"\n                      >\n                        <kendo-grid-column\n                          :template=\"rowNumberOP\"\n                          :title=\"$t('no.')\"\n                          :width=\"55\"\n                          :column-menu=\"false\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5;',\n                            class: 'text-variants',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: variants',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'item'\"\n                          :title=\"$t('item')\"\n                          :width=\"200\"\n                          :template=\"itemTemplate\"\n                          :editor=\"ItemDropDownEditorFP\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        />\n                        <!-- <kendo-grid-column\n                          :field=\"'description'\"\n                          :title=\"$t('description')\"\n                          :width=\"200\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        /> -->\n                        <kendo-grid-column\n                          :field=\"'buom'\"\n                          :title=\"$t('base_uom')\"\n                          :width=\"150\"\n                          :template=\"UOMTemplate\"\n                          :editor=\"UOMDropDownEditorOP\"\n                          :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{ style: 'text-align: right; ' }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'yieldQty'\"\n                          :title=\"$t('yield_qty')\"\n                          :width=\"150\"\n                          :template=\"\n                            '<span>#=kendo.toString(yieldQty || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'cost'\"\n                          :title=\"$t('cost')\"\n                          :width=\"150\"\n                          :template=\"\n                            '<span>#=kendo.toString(cost || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'amount'\"\n                          :title=\"$t('amount')\"\n                          :width=\"150\"\n                          :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                          :template=\"\n                            '<span>#=kendo.toString(amount || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :command=\"{\n                            iconClass: 'k-icon k-i-trash',\n                            text: 'Delete',\n                            click: removeRowOP,\n                            class: 'btn-plus',\n                          }\"\n                          :title=\"'&nbsp;'\"\n                          :width=\"100\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                        />\n                      </kendo-grid>\n                    </v-col>\n                    <v-col cols=\"12\" class=\"pt-0\">\n                      <v-btn\n                        color=\"primary\"\n                        class=\"float-left btn_plus rounded-4 white--text mr-2\"\n                        @click=\"addRowOtherProduct\"\n                      >\n                        <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                      </v-btn>\n                    </v-col>\n                  </v-row>\n                  <!-- Grid Three -->\n                  <v-row style=\"background-color: #fff;\">\n                    <v-col cols=\"12\" class=\"pt-0 pb-0\">\n                      <h2 class=\"primary--text mb-0 font_18 text-uppercase\">\n                        {{ $t(\"components_used\") }}\n                      </h2>\n                    </v-col>\n                    <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n                      <kendo-datasource\n                        ref=\"componentUseDS\"\n                        :change=\"dataSourceChangedCU\"\n                        :data=\"bom.componentUsed\"\n                      />\n                      <kendo-grid\n                        id=\"gridComponentUse\"\n                        class=\"grid-function\"\n                        :data-source-ref=\"'componentUseDS'\"\n                        :sortable=\"false\"\n                        :filterable=\"false\"\n                        :column-menu=\"true\"\n                        :editable=\"true\"\n                        :scrollable-virtual=\"true\"\n                      >\n                        <kendo-grid-column\n                          :template=\"rowNumberCU\"\n                          :title=\"$t('no.')\"\n                          :width=\"55\"\n                          :column-menu=\"false\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5;',\n                            class: 'text-variants',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: variants',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'item'\"\n                          :title=\"$t('item')\"\n                          :width=\"200\"\n                          :template=\"itemTemplate\"\n                          :editor=\"ItemDropDownEditor\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        />\n                        <!-- <kendo-grid-column\n                          :field=\"'description'\"\n                          :title=\"$t('description')\"\n                          :width=\"200\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        /> -->\n                        <kendo-grid-column\n                          :template=\"UOMTemplate\"\n                          :editor=\"UOMDropDownEditorOP\"\n                          :field=\"'buom'\"\n                          :title=\"$t('base_uom')\"\n                          :width=\"160\"\n                          :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'qty'\"\n                          :title=\"$t('qty')\"\n                          :width=\"150\"\n                          :editor=\"numberEditor\"\n                          :template=\"\n                            '<span>#=kendo.toString(qty || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'cost'\"\n                          :title=\"$t('cost')\"\n                          :width=\"150\"\n                          :editor=\"numberEditor\"\n                          :template=\"\n                            '<span>#=kendo.toString(cost || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'amount'\"\n                          :title=\"$t('amount')\"\n                          :width=\"150\"\n                          :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                          :template=\"\n                            '<span>#=kendo.toString(amount || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :command=\"{\n                            iconClass: 'k-icon k-i-trash',\n                            text: 'Delete',\n                            click: removeRowCU,\n                            class: 'btn-plus',\n                          }\"\n                          :title=\"'&nbsp;'\"\n                          :width=\"100\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                        />\n                      </kendo-grid>\n                    </v-col>\n                    <v-col cols=\"12\" class=\"pt-0\">\n                      <v-btn\n                        color=\"primary\"\n                        class=\"float-left btn_plus rounded-4 white--text mr-2\"\n                        @click=\"addRowComponentUse\"\n                      >\n                        <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                      </v-btn>\n                    </v-col>\n                  </v-row>\n                  <v-row style=\"background-color: #fff;\">\n                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                      <v-row>\n                        <v-col sm=\"6\" cols=\"6\" class=\"py-0\">\n                          <v-textarea\n                            class=\"mt-1\"\n                            outlined\n                            clearable\n                            rows=\"3\"\n                            no-resize\n                            v-model=\"bom.transactionNote\"\n                            height=\"90px\"\n                            tag=\"Memo\"\n                            placeholder=\"Memo\"\n                          />\n                        </v-col>\n                        <v-col sm=\"6\" cols=\"6\" class=\"py-0\">\n                          <v-simple-table>\n                            <template v-slot:default>\n                              <tbody>\n                                <tr>\n                                  <td class=\"text-left text-uppercase\">\n                                    {{ $t(\"total_cost\") }}\n                                  </td>\n                                  <td class=\"text-center\">:</td>\n                                  <td class=\"text-bold text-right\">\n                                    {{ numberFormat(bom.exchangeAmount) }}\n                                  </td>\n                                </tr>\n                                <tr>\n                                  <td class=\"text-left text-uppercase\">\n                                    {{ $t(\"variance\") }}\n                                  </td>\n                                  <td class=\"text-center\">:</td>\n                                  <td\n                                    v-bind:class=\"[\n                                      bom.variance >= 0 ? '' : 'redText',\n                                    ]\"\n                                    class=\"text-right text-bold\"\n                                  >\n                                    {{ numberFormat(bom.variance) }}\n                                  </td>\n                                </tr>\n                              </tbody>\n                            </template>\n                          </v-simple-table>\n                        </v-col>\n                      </v-row>\n                    </v-col>\n                  </v-row>\n                </v-col>\n              </v-row>\n              <v-divider />\n              <v-card outlined dense class=\"no_border function_footer\">\n                <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                  <span v-html=\"errorMessage\" />\n                </v-alert>\n                <v-menu>\n                  <v-list>\n                    <v-list-item\n                      v-for=\"(item, index) in templates\"\n                      :key=\"index\"\n                    >\n                      <v-list-item-title>{{ item.title }}</v-list-item-title>\n                    </v-list-item>\n                  </v-list>\n                </v-menu>\n                <v-btn\n                  color=\"black\"\n                  class=\"text-capitalize rounded-pill white--text float-left\"\n                  @click=\"cancel\"\n                >\n                  {{ $t(\"cancel\") }}\n                </v-btn>\n                <v-btn\n                  color=\"primary\"\n                  @click=\"saveClose()\"\n                  class=\"mr-2 float-right white--text text-capitalize rounded-pill\"\n                >\n                  {{ $t(\"save_close\") }}\n                </v-btn>\n              </v-card>\n            </v-form>\n          </v-card>\n        </v-col>\n      </v-row>\n      <LoadingMe\n        :isLoading=\"showLoading\"\n        :fullPage=\"false\"\n        type=\"loading\"\n        :myLoading=\"true\"\n      />\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport { i18n } from \"@/i18n\";\nimport BomModel from \"@/scripts/model/Bom\";\nimport kendo from \"@progress/kendo-ui\";\nimport SaleFormContentModel from \"@/scripts/model/SaleFormContent\";\nimport FinishProductModel from \"@/scripts/bom/FinishProduct\";\nimport OtherFinishProductModel from \"@/scripts/bom/OtherFinishProduct\";\nimport ComponentModel from \"@/scripts/bom/ComponentUsed\";\nimport { uuid } from \"vue-uuid\";\n\nconst productVariantHandler = require(\"@/scripts/productVariantHandler\");\nconst uomPriceHandler = require(\"@/scripts/uomPriceHandler\");\nconst warehouseHandler = require(\"@/scripts/warehouseHandler\");\nconst bomHandler = require(\"@/scripts/bomHandler\");\nconst prefixHandler = require(\"@/scripts/prefixHandler\");\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\nconst saleFormContentHandler = require(\"@/scripts/saleFormContentHandler\");\nconst saleFormContentModel = new SaleFormContentModel({});\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\");\n\nconst bomModel = new BomModel({});\nconst $ = require(\"jquery\");\nconst itemLinePrefix = \"lin-\";\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\n\nexport default {\n  name: \"BillOfMaterial\",\n  props: [\"id\"],\n  components: {\n    LoadingMe: () => import(`@/components/Loading`),\n    // 'app-datepicker' : DatePickerComponent,\n  },\n  computed: {\n    disabledMe() {\n      return !!this.$route.params.id;\n    },\n    // totalCost() {\n    //   if (this.costFP !== 0 || this.costOFP !== 0) {\n    //     return this.costOFP + this.costFP\n    //   } else {\n    //     return 0\n    //   }\n    // },\n    // varianceAmount() {\n    //   if (this.costFP !== 0 || this.costOFP !== 0 || this.costCU !== 0 || this.costOC !== 0) {\n    //     return (this.costFP + this.costOFP) - (this.costCU + this.costOC)\n    //   } else {\n    //     return 0\n    //   }\n    // }\n  },\n  data: () => ({\n    isEdit: false,\n    showLoading: false,\n    alert: false,\n    // Form validation\n    valid: true,\n    isHideBar: false,\n    warehouses: [],\n    bom: bomModel,\n    bomNo: \"\",\n    bomTypes: [\n      { id: 1, name: \"One Time Use\" },\n      { id: 2, name: \"Multiple Use\" },\n    ],\n    itemLinesFP: new FinishProductModel({}),\n    itemLinesOP: new OtherFinishProductModel({}),\n    itemLinesCU: new ComponentModel({}),\n    itemLinesOC: bomModel.otherCost,\n    finishProductItems: [],\n    otherFinishProductItems: [],\n    componentUsedItems: [],\n    otherCosts: [],\n    tax: [],\n    vatTax: [],\n    accounts: [],\n    costFP: 0,\n    costOFP: 0,\n    costCU: 0,\n    costOC: 0,\n    itemLineOP: [],\n    itemLineCU: [],\n    itemLineFP: [],\n    itemLineOC: [],\n    saleFormContent: saleFormContentModel,\n    baseCurrency: {},\n    exchangeRate: {},\n    loggedUser: {\n      id: cookie.creator,\n      name: cookie.email,\n    },\n    templates: [\n      { title: \"Draft\" },\n      { title: \"Open\" },\n      { title: \"Partially Closed\" },\n      { title: \"Closed\" },\n    ],\n  }),\n  methods: {\n    async loadViewBOM() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          if (this.$route.params.id) {\n            this.showLoading = true;\n            bomHandler.getAll(\"?id=\" + this.$route.params.id).then((res) => {\n              this.showLoading = false;\n              this.bom = res[0];\n              // this.autoCalculateGrid1()\n              // this.autoCalculateGrid2()\n              // this.autoCalculateGrid3()\n            });\n          } else {\n            // this.bom.finishProduct = []\n            // this.bom.otherFinishProduct = []\n            // this.bom.componentUsed = []\n            this.addRowFinishProduct();\n            this.addRowOtherProduct();\n            this.addRowComponentUse();\n          }\n        }, 10);\n      });\n    },\n    numberFormat(value) {\n      return kendo.toString(value, `n${this.saleFormContent.decimal}`);\n    },\n    numberEditor(container, options) {\n      kendo\n        .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoNumericTextBox({\n          decimals: 30,\n          min: 0,\n          format: `${this.saleFormContent.decimal}`,\n        });\n    },\n    async loadSaleFormContent() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          saleFormContentHandler.list().then(async (res) => {\n            if (res.data.statusCode === 200) {\n              const data = res.data.data;\n              if (data.length > 0) {\n                this.saleFormContent = data[0];\n                this.baseCurrency = data[0].baseCurrency;\n                this.bom.currency = this.baseCurrency;\n                await this.loadTransactionRate();\n              }\n            }\n          });\n        }, 10);\n      });\n    },\n    async loadTransactionRate() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          const date = new Date().toISOString().substr(0, 10);\n          const currency = this.baseCurrency;\n          let code = \"\";\n          if (currency.hasOwnProperty(\"code\")) {\n            code = currency.code;\n          }\n          if (code !== undefined || code !== \"\") {\n            this.showLoading = true;\n            currencyHandler\n              .getLastExchangeRateByDate(date, code)\n              .then((res) => {\n                if (res.data.statusCode === 200) {\n                  this.showLoading = false;\n                  this.exchangeRate = res.data.data[0];\n                  this.bom.txnRate = this.exchangeRate.rate;\n                  this.bom.exchangeRate = this.exchangeRate;\n                  this.showLoading = false;\n                }\n              });\n          }\n        }, 10);\n      });\n    },\n    async loadPrefix() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          prefixHandler.get(\"bill of material\").then((res) => {\n            if (res.data.statusCode === 200) {\n              this.showLoading = false;\n              this.transactionTypes = res.data.data;\n              if (this.transactionTypes.length > 0) {\n                this.bom.transactionType = this.transactionTypes[0];\n                if (this.$route.params.id === undefined) {\n                  this.generateNumber();\n                }\n              }\n            }\n          });\n        }, 10);\n      });\n    },\n    generateNumber() {\n      let data = {\n        abbr: this.bom.transactionType.abbr,\n        structure: this.bom.transactionType.structure,\n        transactionDate: new Date().toISOString().substr(0, 10),\n        sequcencing: this.bom.transactionType.sequcencing,\n        type: \"Bill Of Material\",\n        entity: 2,\n      };\n      this.bom.abbr = data.abbr;\n      this.bom.structure = data.structure;\n      this.bom.sequcencing = data.sequcencing;\n      this.bom.type = data.type;\n      this.bom.transactionDate = data.transactionDate;\n      this.showLoading = true;\n      billingHandler\n        .lastNumber(data)\n        .then((response) => {\n          if (response.data.statusCode === 200) {\n            this.showLoading = false;\n            const res = response.data.data;\n            const lastNumber = this.zeroPad(\n              parseInt(res.lastNumber),\n              this.bom.transactionType.format\n            );\n            this.bom.number =\n              res.suffix +\n              this.bom.transactionType.numberSeparator +\n              lastNumber;\n            this.bom.lastNumber = res.suffix + lastNumber;\n          }\n        })\n        .catch((e) => {\n          this.showLoading = false;\n          this.errors.push(e);\n        });\n    },\n    zeroPad(num, places) {\n      return String(num).padStart(places, \"0\");\n    },\n    suffix(transactionDate) {\n      return kendo.toString(new Date(transactionDate), `yymm`);\n    },\n    async loadWarehouses() {\n      warehouseHandler.getWarehouseSettingAll().then((res) => {\n        this.warehouses = res;\n      });\n    },\n    async getDataSource() {\n      let dsFP = this.$refs.finishProductDS.kendoWidget();\n      let dataRowFP = dsFP.data();\n      this.itemLineFP = [];\n      dataRowFP.forEach((i) => {\n        this.itemLineFP.push({\n          id: i.id,\n          item: i.item,\n          description: i.description,\n          buom: i.buom,\n          uom: i.uom,\n          yieldQty: i.yieldQty,\n          cost: i.cost,\n          amount: i.amount,\n          sku: i.sku,\n          decimalFormat: i.decimalFormat || \"n2\",\n          inventoryAccount: i.inventoryAccount,\n        });\n      });\n      let dsOP = this.$refs.otherProductDS.kendoWidget(),\n        dataRowOP = dsOP.data();\n      this.itemLineOP = [];\n      dataRowOP.forEach((i) => {\n        this.itemLineOP.push({\n          id: i.id,\n          item: i.item,\n          description: i.description,\n          buom: i.buom,\n          uom: i.uom,\n          yieldQty: i.yieldQty,\n          cost: i.cost,\n          amount: i.amount,\n          sku: i.sku,\n          decimalFormat: i.decimalFormat || \"n2\",\n          inventoryAccount: i.inventoryAccount,\n        });\n      });\n      let dsCU = this.$refs.componentUseDS.kendoWidget(),\n        dataRowCU = dsCU.data();\n      this.itemLineCU = [];\n      dataRowCU.forEach((i) => {\n        this.itemLineCU.push({\n          id: i.id,\n          item: i.item,\n          description: i.description,\n          buom: i.buom,\n          uom: i.uom,\n          qty: i.qty,\n          cost: i.cost,\n          amount: i.amount,\n          sku: i.sku,\n          decimalFormat: i.decimalFormat || \"n2\",\n          inventoryAccount: i.inventoryAccount,\n        });\n      });\n      // let dsOC = this.$refs.otherCostDS.kendoWidget(),\n      //     dataRowOC = dsOC.data()\n      this.itemLineOC = [];\n      // dataRowOC.forEach(i => {\n      //   this.itemLineOC.push({\n      //     id: i.id,\n      //     account: i.account,\n      //     description: i.description,\n      //     amount: i.amount,\n      //     tax: i.tax,\n      //   })\n      // })\n    },\n    savePrint() {},\n    async saveNew() {},\n    async saveClose() {\n      if (this.bom.variance !== 0) {\n        this.$snotify.error(\"Please check your variance amount\");\n        return;\n      }\n      await this.getDataSource();\n      this.bom.finishProduct = this.itemLineFP;\n      this.bom.itemId = this.itemLineFP[0].item\n        ? this.itemLineFP[0].item.id\n        : \"\";\n      this.bom.otherFinishProduct = this.itemLineOP\n      this.bom.componentUsed = this.itemLineCU\n      // this.bom.otherCost = this.itemLineOC\n      // this.bom.amount = this.totalCost\n      // this.bom.exchangeAmount = this.totalCost\n      // this.bom.variance = this.varianceAmount\n      this.bom.status = 1;\n      this.showLoading = true;\n      await bomHandler.save(this.bom).then((res) => {\n        this.showLoading = false;\n        this.$router.push({\n          name: \"Products\",\n          path: \"product\",\n          params: { dataBom: res },\n        });\n      });\n    },\n    removeRow() {},\n    errorMessage() {},\n    async dataSourceChanged(e) {\n      if (e.field) {\n        let dataRow = e.items[0],\n          buom = {};\n        switch (e.field) {\n          case \"item\":\n            // this.attribute_ = this.attributes.filter(m => m.type.id === dataRow.variant.id)\n            dataRow.set(\"description\", dataRow.item.description);\n            dataRow.set(\"yieldQty\", 1);\n            buom = dataRow.item.uom;\n            dataRow.set(\"buom\", buom);\n            await this.inventoryBalanceByItem(dataRow, dataRow.item.id, 1);\n            break;\n          // case \"uom\":\n          //   // window.console.log(dataRow.uom,'row-uom')\n          //   dataRow.set('cost', parseFloat(dataRow.uom.price))\n          //   window.console.log(dataRow.yieldQty)\n          //   if (dataRow.yieldQty !== undefined) {\n          //     dataRow.set('cost', parseFloat(dataRow.uom.price) * parseFloat(dataRow.yieldQty))\n          //     this.costFP = dataRow.cost\n          //   }\n          //   break\n          case \"cost\":\n            dataRow.set(\n              \"amount\",\n              parseFloat(dataRow.cost) * parseFloat(dataRow.yieldQty)\n            );\n            this.costFP = dataRow.amount;\n            break;\n          default:\n            break;\n        }\n        if (e.field) {\n          this.autoCalculateGrid1();\n          this.autoCalculateGrid2();\n          this.autoCalculateGrid3();\n        }\n      }\n    },\n    async dataSourceChangedOP(e) {\n      if (e.field) {\n        let dataRow = e.items[0],\n          buom = {};\n        switch (e.field) {\n          case \"item\":\n            dataRow.set(\"description\", dataRow.item.description);\n            dataRow.set(\"yieldQty\", 1);\n            buom = dataRow.item.uom;\n            dataRow.set(\"buom\", buom);\n            await this.inventoryBalanceByItem(dataRow, dataRow.item.id, 1);\n            break;\n          case \"yieldQty\":\n            dataRow.set(\n              \"amount\",\n              parseFloat(dataRow.cost) * parseFloat(dataRow.yieldQty)\n            );\n            // this.costOFP = dataRow.amount\n            break;\n          case \"cost\":\n            dataRow.set(\n              \"amount\",\n              parseFloat(dataRow.cost) * parseFloat(dataRow.yieldQty)\n            );\n            // this.costOFP = dataRow.amount\n            window.console.log(dataRow.cost);\n            break;\n          default:\n            break;\n        }\n        if (e.field) {\n          this.autoCalculateGrid1();\n          this.autoCalculateGrid2();\n          this.autoCalculateGrid3();\n        }\n      }\n    },\n    autoCalculateGrid1() {\n      let ds = this.$refs.finishProductDS.kendoWidget();\n      const row = ds.data();\n      let amount = 0;\n      row.forEach((n) => {\n        amount += n.amount || 0;\n      });\n      this.costFP = amount;\n      this.bom.amount = this.costOFP + this.costFP;\n      this.bom.exchangeAmount = this.costOFP + this.costFP;\n      this.bom.variance =\n        this.costFP + this.costOFP - (this.costCU + this.costOC);\n    },\n    autoCalculateGrid2() {\n      let ds = this.$refs.otherProductDS.kendoWidget();\n      const row = ds.data();\n      let amount = 0;\n      row.forEach((n) => {\n        amount += n.amount || 0;\n      });\n      this.costOFP = amount;\n      this.bom.amount = this.costOFP + this.costFP;\n      this.bom.exchangeAmount = this.costOFP + this.costFP;\n      this.bom.variance =\n        this.costFP + this.costOFP - (this.costCU + this.costOC);\n    },\n    autoCalculateGrid3() {\n      let ds = this.$refs.componentUseDS.kendoWidget();\n      const row = ds.data();\n      let amount = 0;\n      row.forEach((n) => {\n        amount += n.amount || 0;\n      });\n      this.costCU = amount;\n      this.bom.amount = this.costOFP + this.costFP;\n      this.bom.exchangeAmount = this.costOFP + this.costFP;\n      this.bom.variance =\n        this.costFP + this.costOFP - (this.costCU + this.costOC);\n      window.console.log(\n        \"this.bom.exchangeAmount\",\n        this.bom.exchangeAmount,\n        \"variance\",\n        this.bom.variance\n      );\n    },\n    async dataSourceChangedOC(e) {\n      if (e.field) {\n        let dataRow = e.items[0];\n        switch (e.field) {\n          case \"account\":\n            window.console.log(dataRow.account);\n            break;\n          case \"tax\":\n            break;\n          case \"amount\":\n            this.costOC = dataRow.amount;\n            break;\n          default:\n            break;\n        }\n      }\n    },\n    async dataSourceChangedCU(e) {\n      if (e.field) {\n        let dataRow = e.items[0],\n          buom = {};\n        switch (e.field) {\n          case \"item\":\n            dataRow.set(\"description\", dataRow.item.description);\n            dataRow.set(\"qty\", 1);\n            buom = dataRow.item.uom;\n            dataRow.set(\"buom\", buom);\n            await this.inventoryBalanceByItem(dataRow, dataRow.item.id, 2);\n            break;\n          // case \"uom\":\n          //   // window.console.log(dataRow.uom,'row-uom')\n          //   dataRow.set('cost', parseFloat(dataRow.uom.price))\n          //   window.console.log(dataRow.qty)\n          //   if (dataRow.qty !== undefined) {\n          //     dataRow.set('cost', parseFloat(dataRow.uom.price) * parseFloat(dataRow.qty))\n          //     this.costCU = dataRow.cost\n          //   }\n          //   break\n          case \"qty\":\n            // dataRow.set('price', parseFloat(dataRow.uom.price))\n            // dataRow.set('cost', parseFloat(dataRow.uom.price) * parseFloat(dataRow.qty))\n            dataRow.set(\n              \"amount\",\n              parseFloat(dataRow.cost) * parseFloat(dataRow.qty)\n            );\n            // this.costCU = dataRow.amount\n            break;\n          case \"cost\":\n            dataRow.set(\n              \"amount\",\n              parseFloat(dataRow.cost) * parseFloat(dataRow.qty)\n            );\n            // this.costCU = dataRow.amount\n            break;\n          default:\n            break;\n        }\n        if (e.field) {\n          this.autoCalculateGrid1();\n          this.autoCalculateGrid2();\n          this.autoCalculateGrid3();\n        }\n      }\n    },\n    rowNumberFP(dataItem) {\n      let ds = this.$refs.finishProductDS.kendoWidget(),\n        index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    UOMDropDownEditor(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: true,\n          autoWidth: true,\n          height: 400,\n          filter: \"startswith\",\n          dataTextField: \"uom.toUOM.name\",\n          dataValueField: \"uom.toUOM.id\",\n          cascadeFrom: \"item\",\n          template: \"<span>#=uom.toUOM.name#</span>\",\n          optionLabel: \"--- Select ---\",\n          dataSource: new kendo.data.DataSource({\n            serverFiltering: true,\n            transport: {\n              read: {\n                url: uomPriceHandler.getUrl(options.model.item.id),\n              },\n              dataType: \"json\",\n            },\n            schema: {\n              model: {\n                id: \"id\",\n                fields: {\n                  id: { type: \"string\" },\n                  // name: {type: \"string\"},\n                  // sku: {type: \"string\"},\n                },\n              },\n              data: function(response) {\n                return response.data;\n              },\n              total: function(response) {\n                return response.data.count;\n              },\n            },\n            // data: this.variants\n          }),\n        });\n    },\n    UOMTemplate(dataItem) {\n      const uom = dataItem.buom;\n      if (uom) {\n        return `<span>${uom.name ? uom.name : ``}</span>`;\n      } else {\n        return ``;\n      }\n    },\n    ItemDropDownEditorFP(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: true,\n          autoWidth: true,\n          height: 400,\n          filter: \"contains\",\n          dataTextField: \"name\",\n          dataValueField: \"id\",\n          headerTemplate:\n            '<div class=\"dropdown-header k-widget k-header\">' +\n            \"<span>Items </span>\" +\n            \"<span></span>\" +\n            \"</div>\",\n          template: \"<span>#=name#</span>\",\n          optionLabel: \"--- Select ---\",\n          dataSource: new kendo.data.DataSource({\n            serverFiltering: true,\n            transport: {\n              read: {\n                url: productVariantHandler.itemVariantSearchURL(), // variant only\n              },\n              dataType: \"json\",\n            },\n            schema: {\n              model: {\n                id: \"id\",\n                fields: {\n                  id: { type: \"string\" },\n                  name: { type: \"string\" },\n                  sku: { type: \"string\" },\n                },\n              },\n              data: function(response) {\n                return response.data;\n              },\n              total: function(response) {\n                return response.data.count;\n              },\n            },\n            // data: this.variants\n          }),\n        });\n    },\n    ItemDropDownEditor(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: true,\n          autoWidth: true,\n          height: 400,\n          filter: \"contains\",\n          dataTextField: \"name\",\n          dataValueField: \"id\",\n          headerTemplate:\n            '<div class=\"dropdown-header k-widget k-header\">' +\n            \"<span>Items </span>\" +\n            \"<span></span>\" +\n            \"</div>\",\n          template: \"<span>#=name#</span>\",\n          optionLabel: \"--- Select ---\",\n          dataSource: new kendo.data.DataSource({\n            serverFiltering: true,\n            transport: {\n              read: {\n                url: productVariantHandler.itemSearchURL(),\n              },\n              dataType: \"json\",\n            },\n            schema: {\n              model: {\n                id: \"id\",\n                fields: {\n                  id: { type: \"string\" },\n                  name: { type: \"string\" },\n                  sku: { type: \"string\" },\n                },\n              },\n              data: function(response) {\n                return response.data;\n              },\n              total: function(response) {\n                return response.data.count;\n              },\n            },\n            // data: this.variants\n          }),\n        });\n    },\n    itemTemplate(dataItem) {\n      const item = dataItem.item;\n      if (item) {\n        return `<span>${item.name ? item.name : ``}</span>`;\n      } else {\n        return ``;\n      }\n    },\n    async inventoryBalanceByItem(dataRow, itemId, flag = 1) {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          this.showLoading = true;\n          const startDate = new Date().toISOString().substr(0, 10);\n          let strFilter = \"?asOf=\" + startDate + \"&id=\" + itemId;\n          billingHandler.inventoryBalance(strFilter).then((res) => {\n            if (res.data.statusCode === 200) {\n              const balance = res.data.data;\n              if (balance.length > 0) {\n                dataRow.set(\"cost\", balance[0].wac);\n                dataRow.set(\"qoh\", balance[0].qoh);\n                if (flag === 1) {\n                  dataRow.set(\n                    \"amount\",\n                    parseFloat(balance[0].wac) * parseFloat(dataRow.yieldQty)\n                  );\n                } else {\n                  dataRow.set(\n                    \"amount\",\n                    parseFloat(balance[0].wac) * parseFloat(dataRow.qty)\n                  );\n                }\n              } else {\n                dataRow.set(\"cost\", 0);\n              }\n            }\n            this.showLoading = false;\n          });\n        }, 10);\n      });\n    },\n    async addRowFinishProduct() {\n      let ds = this.$refs.finishProductDS.kendoWidget(),\n        total = ds.total();\n      this.itemLinesFP.id = itemLinePrefix + uuid.v1();\n      this.itemLinesFP.decimalFormat = \"n\" + this.saleFormContent.decimal;\n      if (total === 0) {\n        ds.insert(total, this.itemLinesFP);\n      }\n    },\n\n    UOMDropDownEditorOP(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: true,\n          autoWidth: true,\n          height: 400,\n          filter: \"startswith\",\n          dataTextField: \"uom.toUOM.name\",\n          dataValueField: \"uom.toUOM.id\",\n          cascadeFrom: \"item\",\n          template: \"<span>#=uom.toUOM.name#</span>\",\n          optionLabel: \"--- Select ---\",\n          dataSource: new kendo.data.DataSource({\n            serverFiltering: true,\n            transport: {\n              read: {\n                url: uomPriceHandler.getUrl(options.model.item.id),\n              },\n              dataType: \"json\",\n            },\n            schema: {\n              model: {\n                id: \"id\",\n                fields: {\n                  id: { type: \"string\" },\n                  // name: {type: \"string\"},\n                  // sku: {type: \"string\"},\n                },\n              },\n              data: function(response) {\n                return response.data;\n              },\n              total: function(response) {\n                return response.data.count;\n              },\n            },\n            // data: this.variants\n          }),\n        });\n    },\n    UOMTemplateOP(dataItem) {\n      const uom = dataItem.uom;\n      if (uom) {\n        return `<span>${uom.uom ? uom.uom.toUOM.name : ``}</span>`;\n      } else {\n        return ``;\n      }\n    },\n    rowNumberOP(dataItem) {\n      let ds = this.$refs.otherProductDS.kendoWidget(),\n        index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    addRowOtherProduct() {\n      let ds = this.$refs.otherProductDS.kendoWidget(),\n        total = ds.total();\n      this.itemLinesOP.id = itemLinePrefix + uuid.v1();\n      this.itemLinesOP.decimalFormat = \"n\" + this.saleFormContent.decimal;\n      ds.insert(total, this.itemLinesOP);\n    },\n    removeRowOP(e) {\n      e.preventDefault();\n      const grid = kendo.jQuery(\"#gridOtherProduct\").data(\"kendoGrid\"),\n        dataSource = grid.dataSource,\n        dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n      if (dataSource.total() >= 1) {\n        dataSource.remove(dataItem);\n      }\n    },\n    removeRowCU(e) {\n      e.preventDefault();\n      const grid = kendo.jQuery(\"#gridComponentUse\").data(\"kendoGrid\"),\n        dataSource = grid.dataSource,\n        dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n      if (dataSource.total() > 1) {\n        dataSource.remove(dataItem);\n      }\n    },\n    UOMTemplateCU(dataItem) {\n      const uom = dataItem.uom;\n      if (uom) {\n        return `<span>${uom.uom ? uom.uom.toUOM.name : ``}</span>`;\n      } else {\n        return ``;\n      }\n    },\n\n    rowNumberCU(dataItem) {\n      let ds = this.$refs.componentUseDS.kendoWidget(),\n        index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    addRowComponentUse() {\n      let ds = this.$refs.componentUseDS.kendoWidget(),\n        total = ds.total();\n      this.itemLinesCU.id = itemLinePrefix + uuid.v1();\n      this.itemLinesCU.decimalFormat = \"n\" + this.saleFormContent.decimal;\n      ds.insert(total, this.itemLinesCU);\n    },\n    cancel() {\n      this.$swal({\n        title: i18n.t(\"msg_title_warning\"),\n        text: i18n.t(\"msg_discard\"),\n        icon: \"warning\",\n        showCancelButton: true,\n        cancelButtonText: i18n.t(\"cancel\"),\n        confirmButtonColor: \"#4d4848\",\n        cancelButtonColor: \"#ED1A3A\",\n        confirmButtonText: i18n.t(\"discard\"),\n      }).then((resultCen) => {\n        if (resultCen.value) {\n          this.$router.go(-1);\n        }\n      });\n    },\n  },\n  async mounted() {\n    await this.loadSaleFormContent();\n    await this.loadPrefix();\n    await this.loadWarehouses();\n    await this.loadViewBOM();\n  },\n  async created() {\n    // await this.loadTax()\n    // await this.loadAccount()\n  },\n  activated() {\n    this.bom.finishProduct = [];\n    this.bom.otherFinishProduct = [];\n    this.bom.componentUsed = [];\n    this.loadViewBOM();\n  },\n  deactivated() {\n    this.bom.finishProduct = [];\n    this.bom.otherFinishProduct = [];\n    this.bom.componentUsed = [];\n    // this.addRowFinishProduct()\n    // this.addRowOtherProduct()\n    // this.addRowComponentUse()\n  },\n  watch: {\n    // '$router': 'loadViewBOM'\n  },\n};\n</script>\n<style scoped>\n.redText {\n  color: red !important;\n}\n\n.small_sidebar {\n  height: 97%;\n  position: relative;\n  padding: 12px;\n}\n\n.hide_small_bar_class {\n  max-width: 0;\n  transition: 0.5s ease-in;\n  flex: 0 0 0;\n  padding: 0;\n}\n\n.hide_big_bar_class {\n  max-width: 100%;\n  transition: 0.5s ease-in;\n  flex: 0 0 100%;\n}\n\n.iconArrow {\n  right: -35px;\n  position: absolute;\n  bottom: -10px;\n}\n\n.iconArrowHide {\n  position: absolute;\n  right: -7px;\n  bottom: -10px;\n}\n\n.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > tbody\n  > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n  background-color: transparent !important;\n}\n\n.detial_smallside_p {\n  position: absolute;\n  bottom: 10px;\n}\n\n@media (min-width: 1264px) {\n  .container {\n    /* max-width: 1185px; */\n    max-width: 1080px !important;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/products/production/bill_of_material"}]}