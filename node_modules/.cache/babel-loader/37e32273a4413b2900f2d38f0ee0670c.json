{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/suppliers/CreditPurchases.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/suppliers/CreditPurchases.vue","mtime":1642155812723},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1jb21tZXJjZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktY29tbWVyY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktY29tbWVyY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1jb21tZXJjZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktY29tbWVyY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCnZhciBfZGVmYXVsdEl0ZW07CgppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5wYWQtc3RhcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSIKaW1wb3J0IHsgaTE4biB9IGZyb20gIkAvaTE4biI7CmltcG9ydCBQdXJjaGFzZU1vZGVsIGZyb20gIkAvc2NyaXB0cy9wdXJjaGFzZS9tb2RlbC9QdXJjaGFzZSI7CmltcG9ydCBJdGVtTGluZU1vZGVsIGZyb20gIkAvc2NyaXB0cy9wdXJjaGFzZS9tb2RlbC9JdGVtTGluZSI7CmltcG9ydCB7IHV1aWQgfSBmcm9tICJ2dWUtdXVpZCI7CmltcG9ydCB7IERyb3BEb3duTGlzdCB9IGZyb20gIkBwcm9ncmVzcy9rZW5kby12dWUtZHJvcGRvd25zIjsKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CmltcG9ydCBQdXJjaGFzZUZvcm1Db250ZW50TW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL1B1cmNoYXNlRm9ybUNvbnRlbnQiOwppbXBvcnQgeyBkYXRhU3RvcmUsIFNob3dSZXNvdXJjZSB9IGZyb20gIkAvb2JzZXJ2YWJsZS9zdG9yZSI7CmltcG9ydCBwYXltZW50VGVybUhhbmRsZXJfIGZyb20gIkAvc2NyaXB0cy9wYXltZW50dGVybS9oYW5kbGVyL3BheW1lbnRUZXJtSGFuZGxlciI7CmltcG9ydCBjcmVkaXRMaW1pdEhhbmRsZXIgZnJvbSAiQC9zY3JpcHRzL2NyZWRpdExpbWl0L2hhbmRsZXIvY3JlZGl0TGltaXRIYW5kbGVyIjsKaW1wb3J0IHNhbGVPcmRlckhhbmRsZXIgZnJvbSAiQC9zY3JpcHRzL3RyYW5zYWN0aW9uSGFuZGxlciI7CmltcG9ydCBIZWxwZXIgZnJvbSAiQC9oZWxwZXIiOwppbXBvcnQgc2V0dGluZ3NIYW5kbGVyIGZyb20gIkAvc2NyaXB0cy9zZXR0aW5nc0hhbmRsZXIiOwoKdmFyIHN1cHBsaWVySGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zdXBwbGllckhhbmRsZXIiKTsgLy8gaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CgoKdmFyIHByb2plY3RIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3Byb2plY3RIYW5kbGVyIik7Cgp2YXIgcHJpY2VMZXZlbEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJpY2VMZXZlbEhhbmRsZXIiKTsKCnZhciBjdXJyZW5jeUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY3VycmVuY3kvaGFuZGxlci9jdXJyZW5jeUhhbmRsZXIiKTsgLy8gY29uc3Qgc2V0dGluZ3NIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NldHRpbmdzSGFuZGxlciIpOwoKCnZhciBlbXBsb3llZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvZW1wbG95ZWVIYW5kbGVyIik7Cgp2YXIgbG9jYXRpb25IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2xvY2F0aW9uSGFuZGxlciIpOyAvLyBjb25zdCBwYXltZW50VGVybUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcGF5bWVudFRlcm1IYW5kbGVyIik7CgoKdmFyIGFjY291bnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2hhbmRsZXIvYWNjb3VudGluZy9hY2NvdW50Iik7Cgp2YXIgcHJvZHVjdFZhcmlhbnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3Byb2R1Y3RWYXJpYW50SGFuZGxlciIpOwoKdmFyIHVvbVByaWNlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy91b21QcmljZUhhbmRsZXIiKTsKCnZhciBkaXNjb3VudEl0ZW1IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2Rpc2NvdW50SXRlbUhhbmRsZXIiKTsKCnZhciBzZXR0aW5nSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zZXR0aW5nSGFuZGxlciIpOwoKdmFyIG90aGVyQ2hhcmdlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9vdGhlckNoYXJnZUhhbmRsZXIiKTsKCnZhciBwdXJjaGFzZUZvcm1Db250ZW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wdXJjaGFzZUZvcm1Db250ZW50SGFuZGxlciIpOwoKdmFyIHByZWZpeEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJlZml4SGFuZGxlciIpOwoKdmFyIGJpbGxpbmdIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2ludm9pY2UvaGFuZGxlci9iaWxsaW5nSGFuZGxlciIpOwoKdmFyIHB1cmNoYXNlTW9kZWwgPSBuZXcgUHVyY2hhc2VNb2RlbCh7fSk7CnZhciBpdGVtTGluZU1vZGVsID0gbmV3IEl0ZW1MaW5lTW9kZWwoe30pOwp2YXIgcHVyY2hhc2VGb3JtQ29udGVudE1vZGVsID0gbmV3IFB1cmNoYXNlRm9ybUNvbnRlbnRNb2RlbCh7fSk7CnZhciAkID0ga2VuZG8ualF1ZXJ5Owp2YXIgdGV4dEZpZWxkID0gIm51bWJlck5hbWUiOwp2YXIga2V5RmllbGQgPSAiaWQiOwp2YXIgZGVmYXVsdEl0ZW0gPSAoX2RlZmF1bHRJdGVtID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfZGVmYXVsdEl0ZW0sIHRleHRGaWVsZCwgIlNlbGVjdCB2ZW5kb3IuLi4iKSwgX2RlZmluZVByb3BlcnR5KF9kZWZhdWx0SXRlbSwga2V5RmllbGQsIG51bGwpLCBfZGVmYXVsdEl0ZW0pOwoKdmFyIGVtcHR5SXRlbSA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgdGV4dEZpZWxkLCAibG9hZGluZyAuLi4iKTsKCnZhciBwYWdlU2l6ZSA9IDEwOwp2YXIgaXRlbUxpbmVQcmVmaXggPSAibGluLSI7CnZhciBsb2FkaW5nRGF0YSA9IFtdOwoKd2hpbGUgKGxvYWRpbmdEYXRhLmxlbmd0aCA8IHBhZ2VTaXplKSB7CiAgbG9hZGluZ0RhdGEucHVzaChfb2JqZWN0U3ByZWFkKHt9LCBlbXB0eUl0ZW0pKTsKfQoKdmFyIF9yZXF1aXJlID0gcmVxdWlyZSgiQC9zY3JpcHRzL2tlbmRvX2VkaXRvci9Db2xsZWN0aW9ucyIpLAogICAgQ2xhc3NFZGl0b3IgPSBfcmVxdWlyZS5DbGFzc0VkaXRvcjsKCnZhciBESVNDT1VOVF9UWVBFID0gIj90eXBlPVB1cmNoYXNlIjsKdmFyIFRSQU5TQUNUSU9OX1RZUEUgPSAiUHVyY2hhc2UiOwoKdmFyIGNvb2tpZUpTID0gcmVxdWlyZSgiQC9jb29raWUuanMiKTsKCnZhciBjb29raWUgPSBjb29raWVKUy5nZXRDb29raWUoKTsKdmFyIE5BVFVSRSA9ICdwdXJjaGFzZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ3JlZGl0UHVyY2hhc2UiLAogIHByb3BzOiBbImlkIiwgInRyYW5zYWN0aW9uRGF0ZSJdLAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmdNZTogZnVuY3Rpb24gTG9hZGluZ01lKCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvTG9hZGluZyIpOwogICAgfSwKICAgICJhcHAtZGF0ZXBpY2tlciI6IGZ1bmN0aW9uIGFwcERhdGVwaWNrZXIoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL0RhdGVQaWNrZXJDb21wb25lbnQiKTsKICAgIH0sCiAgICAibW9udGgtcGlja2VyIjogZnVuY3Rpb24gbW9udGhQaWNrZXIoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL01vbnRoUGlja2VyIik7CiAgICB9LAogICAgZHJvcGRvd25saXN0OiBEcm9wRG93bkxpc3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0VkaXQ6IGZhbHNlLAogICAgICBzaG93TG9hZGluZ1R4bjogZmFsc2UsCiAgICAgIHNob3dMb2FkaW5nVHhuQWRkaXRpb25hbENvc3Q6IGZhbHNlLAogICAgICBtT3RoZXJDaGFyZ2U6IFtdLAogICAgICBtT3RoZXJDaGFyZ2VBbW91bnQ6IFtdLAogICAgICBwdXJjaGFzZU9yZGVyczogW10sCiAgICAgIG51bVNlbGVjdDogWzFdLAogICAgICBkaWFsb2dUYXg6IGZhbHNlLAogICAgICB2ZW5kb3JMaXN0OiBbXSwKICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgICBiaWxsX2RhdGU6ICIiLAogICAgICBhbGVydDogZmFsc2UsCiAgICAgIGZpbGVzOiBbXSwKICAgICAgLy8gRm9ybSB2YWxpZGF0aW9uCiAgICAgIHZhbGlkOiB0cnVlLAogICAgICBpdGVtTGluZXM6IFtdLAogICAgICB0eG5EYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwKICAgICAgYmlsbERhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgICBpbnZvaWNlRGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICAgIG1vbnRoT2Y6ICIiLAogICAgICB0ZW1wbGF0ZXM6IFt7CiAgICAgICAgdGl0bGU6ICJQdXJjaGFzZSIsCiAgICAgICAgdmFsdWU6ICJQdXJjaGFzZSIKICAgICAgfV0sCiAgICAgIGlzSGlkZUJhcjogZmFsc2UsCiAgICAgIHZlbmRvcjoge30sCiAgICAgIGRlZmF1bHRJdGVtOiBkZWZhdWx0SXRlbSwKICAgICAgcHVyY2hhc2U6IHB1cmNoYXNlTW9kZWwsCiAgICAgIHRyYW5zYWN0aW9uVHlwZTogWyJJbnZvaWNlIiwgIkNvbW1lcmNpYWwgSW52b2ljZSIsICJUYXggSW52b2ljZSJdLAogICAgICBjdXNCYXNlVXJsOiBzdXBwbGllckhhbmRsZXIuc2VhcmNoKCksCiAgICAgIGVtcEJhc2VVcmw6IGVtcGxveWVlSGFuZGxlci5zZWFyY2goKSwKICAgICAgaW5pdDogewogICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgYWNjZXB0OiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgaGVhZGVyczogW10KICAgICAgfSwKICAgICAgcGVuZGluZ1JlcXVlc3Q6IHVuZGVmaW5lZCwKICAgICAgcmVxdWVzdFN0YXJ0ZWQ6IGZhbHNlLAogICAgICBza2lwOiAwLAogICAgICB0ZW1wU2tpcDogbnVsbCwKICAgICAgdG90YWw6IDAsCiAgICAgIGZpbHRlcjogIiIsCiAgICAgIHJlZmVyZW5jZU5vOiAiIiwKICAgICAgZmlsdGVyXzogIiIsCiAgICAgIHRleHRGaWVsZDogIm51bWJlck5hbWUiLAogICAgICBkYXRhSXRlbUtleTogImlkIiwKICAgICAgc2VnbWVudHM6IFtdLAogICAgICBlbXBsb3llZXM6IFtdLAogICAgICBtZXRob2RzOiBbJ1F0eSBCYXNlZCcsICdBbW91bnQgQmFzZWQnXSwKICAgICAgbUVtcGxveWVlOiB7fSwKICAgICAgY3VzdG9tZXJQcm9qZWN0czogW10sCiAgICAgIGJpbGxpbmdBZGRyZXNzOiBbXSwKICAgICAgZGVsaXZlcnlBZGRyZXNzOiBbXSwKICAgICAgZGVsaXZlcnlEYXRlVGltZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICAgIHByaWNlTGV2ZWw6IFtdLAogICAgICBsb2NhdGlvbnM6IFtdLAogICAgICBwYXltZW50VGVybXM6IFtdLAogICAgICBhY2NQYXlhYmxlOiBbXSwKICAgICAgY3VycmVuY2llczogW10sCiAgICAgIGl0ZW1MaW5lOiBpdGVtTGluZU1vZGVsLAogICAgICB1b21zOiBbXSwKICAgICAgdGF4OiBbXSwKICAgICAgc3BlY2lmaWNEaXNjb3VudEl0ZW06IFtdLAogICAgICBvdGhlckNoYXJnZUxpc3Q6IFtdLAogICAgICBkZXBvc2l0QmFsYW5jZTogMCwKICAgICAgc2NoZW1hRGVmaW5pdGlvbjogewogICAgICAgIG1vZGVsOiB7CiAgICAgICAgICBpZDogImlkIgogICAgICAgIH0KICAgICAgfSwKICAgICAgcHVyY2hhc2VGb3JtQ29udGVudDogcHVyY2hhc2VGb3JtQ29udGVudE1vZGVsLAogICAgICBDbGFzc0VkaXRvcjogQ2xhc3NFZGl0b3IsCiAgICAgIHRheExpc3RUb3RhbDoge30sCiAgICAgIHB1cmNoYXNlVHlwZXM6IFtdLAogICAgICB0YXhMaXN0RGV0YWlsOiBbXSwKICAgICAgc3VwcGxpZXJEaXNjb3VudEl0ZW06IFtdLAogICAgICBsYXRlRmVlTGlzdDogW10sCiAgICAgIGxvZ2dlZFVzZXI6IHsKICAgICAgICBpZDogY29va2llLmNyZWF0b3IsCiAgICAgICAgbmFtZTogY29va2llLmVtYWlsCiAgICAgIH0sCiAgICAgIGV4Y2hhbmdlUmF0ZToge30sCiAgICAgIGJhc2VDdXJyZW5jeUNvZGU6ICIiLAogICAgICBjdXJyZW5jeUNvZGU6ICIiLAogICAgICB0cmFuc2FjdGlvblJhdGU6IDEsCiAgICAgIGpSYXc6IFtdLAogICAgICByZWZGcm9tOiBbXSwKICAgICAgaXNQcmljZUxldmVsQ2hhbmdlZDogZmFsc2UsCiAgICAgIGV4cGVuc2VzOiBbXSwKICAgICAgYWRkaXRpb25hbENvc3RUb3RhbDogMCwKICAgICAgY2hrQ2hlY2tlZDogW10sCiAgICAgIGFjY1dpdGhob2xkaW5nRXhwZW5zZTogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBkYXRhQm91bmQ6IGZ1bmN0aW9uIGRhdGFCb3VuZChlKSB7CiAgICAgIHZhciBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZEl0ZW1MaW5lIikuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgIHZhciBpdGVtcyA9IGUuc2VuZGVyLml0ZW1zKCk7CgogICAgICBpZiAoZ3JpZCkgewogICAgICAgIGl0ZW1zLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSh0aGlzKTsKICAgICAgICAgICQoInRyW2RhdGEtdWlkPSciICsgZGF0YUl0ZW0udWlkICsgIiddIikuZmluZCgnLmlzRWRpdGFibGUnKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKGRhdGFJdGVtLmlzRWRpdGFibGUgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygiay1zdGF0ZS1kaXNhYmxlZCIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9uTWV0aG9kQ2hhbmdlZDogZnVuY3Rpb24gb25NZXRob2RDaGFuZ2VkKCkgewogICAgICBpZiAodGhpcy5pc0l0ZW0oKSkgewogICAgICAgIHRoaXMuY2FsY3VsYXRlQWRkaXRpb25hbENvc3QoKTsKICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGUoKTsKICAgICAgfQogICAgfSwKICAgIG9uQ2hlY2tDaGFuZ2VkOiBmdW5jdGlvbiBvbkNoZWNrQ2hhbmdlZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmlzSXRlbSgpKSB7CiAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ29zdFRvdGFsID0gMDsKICAgICAgICB0aGlzLmpSYXcgPSBbXTsKCiAgICAgICAgaWYgKHRoaXMuY2hrQ2hlY2tlZCkgewogICAgICAgICAgdGhpcy5jaGtDaGVja2VkLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgaWYgKG0pIHsKICAgICAgICAgICAgICB2YXIgeEFtb3VudCA9IG0uZXhjaGFuZ2VBbW91bnQgfHwgMDsKICAgICAgICAgICAgICBfdGhpcy5hZGRpdGlvbmFsQ29zdFRvdGFsICs9IHBhcnNlRmxvYXQoeEFtb3VudCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5wdXJjaGFzZS5hZGRpdGlvbmFsQ29zdCA9IHRoaXMuY2hrQ2hlY2tlZDsKICAgICAgICAgIHRoaXMucHVyY2hhc2UuYWRkaXRpb25hbENvc3RUb3RhbCA9IHRoaXMuYWRkaXRpb25hbENvc3RUb3RhbDsgLy8gaWYgKHRoaXMucHVyY2hhc2UuYWRkaXRpb25hbENvc3RNZXRob2QgPT09ICdRdHkgQmFzZWQnKSB7CiAgICAgICAgICAvLyAgICAgdGhpcy5wZXJjZW50YWdlQXBwbGllZCgpCiAgICAgICAgICAvLyB9IGVsc2UgewogICAgICAgICAgLy8gICAgIHRoaXMuYW1vdW50QXBwbGllZCgpCiAgICAgICAgICAvLyB9CgogICAgICAgICAgdGhpcy5jYWxjdWxhdGVBZGRpdGlvbmFsQ29zdCgpOwogICAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgb25QcmljZUxldmVsQ2hhbmdlOiBmdW5jdGlvbiBvblByaWNlTGV2ZWxDaGFuZ2UoKSB7CiAgICAgIHRoaXMuaXNQcmljZUxldmVsQ2hhbmdlZCA9IHRydWU7CiAgICAgIHRoaXMubG9hZFRyYW5zYWN0aW9uUmF0ZSgpOwogICAgICB0aGlzLmNsZWFyVU9NSXRlbSgpOwogICAgfSwKICAgIGNsZWFyVU9NSXRlbTogZnVuY3Rpb24gY2xlYXJVT01JdGVtKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRzID0gX3RoaXMyLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgICAgICAgICAgIGRzLmRhdGEoKS5tYXAoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgICAgICAgbi5zZXQoJ3VvbScsIHt9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX3RoaXMyLmlzUHJpY2VMZXZlbENoYW5nZWQgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQYXltZW50VGVybUxpc3Q6IGZ1bmN0aW9uIGxvYWRQYXltZW50VGVybUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczMudmVuZG9yKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RyRmlsdGVyID0gJz9pZD0nICsgX3RoaXMzLnZlbmRvci5pZCArICcmdHJhbnNhY3Rpb25EYXRlPScgKyBfdGhpczMucHVyY2hhc2UudHJhbnNhY3Rpb25EYXRlICsgJyZ0eXBlPVZlbmRvcic7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMucHVyY2hhc2UucGF5bWVudFRlcm0gPSB7fTsKICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRUZXJtSGFuZGxlcl8uZ2V0KHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVybXMgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5wdXJjaGFzZS5wYXltZW50VGVybSA9IHRlcm1zLnRlcm07CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5vblBheW1lbnRUZXJtQ2hhbmdlZCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQ3JlZGl0TGltaXQ6IGZ1bmN0aW9uIGxvYWRDcmVkaXRMaW1pdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNC52ZW5kb3IpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHJGaWx0ZXIgPSAnP2lkPScgKyBfdGhpczQudmVuZG9yLmlkICsgJyZ0cmFuc2FjdGlvbkRhdGU9JyArIF90aGlzNC5wdXJjaGFzZS50cmFuc2FjdGlvbkRhdGUgKyAnJnR5cGU9VmVuZG9yJzsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5wdXJjaGFzZS5jcmVkaXRMaW1pdCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICBjcmVkaXRMaW1pdEhhbmRsZXIuZ2V0KHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlZGl0ID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQucHVyY2hhc2UuY3JlZGl0TGltaXQgPSBrZW5kby5wYXJzZUZsb2F0KGNyZWRpdC5hbW91bnQgfHwgMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9ic2VydmVyQ2xlYW46IGZ1bmN0aW9uIG9ic2VydmVyQ2xlYW4ob2JqKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoZnVuY3Rpb24gKHJlcywgZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihyZXMsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgZSwgb2JqW2VdKSk7CiAgICAgICAgICAgICAgICB9LCB7fSkpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBIZWxwOiBmdW5jdGlvbiBIZWxwKGtleV9zZWFyY2gpIHsKICAgICAgU2hvd1Jlc291cmNlKGtleV9zZWFyY2gpOwogICAgfSwKICAgIEFtb3VudEVkaXRvcjogZnVuY3Rpb24gQW1vdW50RWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBkYXRhLWJpbmQ9InZhbHVlOicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9OdW1lcmljVGV4dEJveCh7CiAgICAgICAgZGVjaW1hbHM6IDMwLAogICAgICAgIGZvcm1hdDogIiIuY29uY2F0KHRoaXMucHVyY2hhc2VGb3JtQ29udGVudC5kZWNpbWFsKQogICAgICB9KTsKICAgIH0sCiAgICB2YXRUZW1wbGF0ZTogZnVuY3Rpb24gdmF0VGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIHZhdCA9IGRhdGFJdGVtLnZhdFRheCB8fCB7fTsKCiAgICAgIGlmICh2YXQpIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KHZhdC5kZWZhdWx0VGF4ID8gdmF0LmRlZmF1bHRUYXggOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBpdGVtVGVtcGxhdGU6IGZ1bmN0aW9uIGl0ZW1UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgaXRlbSA9IGRhdGFJdGVtLml0ZW07CgogICAgICBpZiAoaXRlbSkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQoaXRlbS5uYW1lID8gaXRlbS5uYW1lIDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgVU9NVGVtcGxhdGU6IGZ1bmN0aW9uIFVPTVRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHZhciB1b20gPSBkYXRhSXRlbS51b20gfHwge307CiAgICAgIHZhciBjb2RlID0gdW9tLmNvZGUgfHwgJyc7CgogICAgICBpZiAodW9tKSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdCh1b20udW9tID8gY29kZSA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIGRpc2NvdW50SXRlbVRlbXBsYXRlOiBmdW5jdGlvbiBkaXNjb3VudEl0ZW1UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgZGlzY291bnRJdGVtID0gZGF0YUl0ZW0uZGlzY291bnRJdGVtOwoKICAgICAgaWYgKGRpc2NvdW50SXRlbSkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQoZGlzY291bnRJdGVtLmNvZGUgPyBkaXNjb3VudEl0ZW0uY29kZSA6ICIiLCAiIC0gIikuY29uY2F0KGRpc2NvdW50SXRlbS5uYW1lID8gZGlzY291bnRJdGVtLm5hbWUgOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBhZGRTZWxlY3Q6IGZ1bmN0aW9uIGFkZFNlbGVjdCgpIHsKICAgICAgdmFyIGFtb3VudF9udW0gPSB0aGlzLm51bVNlbGVjdC5sZW5ndGg7CiAgICAgIHZhciBudW0gPSB0aGlzLm51bVNlbGVjdFthbW91bnRfbnVtIC0gMV07CiAgICAgIHZhciBuZXdfbnVtID0gbnVtICsgMTsKICAgICAgdmFyIGxlbmdodEl0ZW0gPSB0aGlzLnNwZWNpZmljRGlzY291bnRJdGVtLmxlbmd0aDsKCiAgICAgIGlmIChuZXdfbnVtIDw9IGxlbmdodEl0ZW0pIHsKICAgICAgICB0aGlzLm51bVNlbGVjdC5wdXNoKG5ld19udW0pOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlU2VsZWN0OiBmdW5jdGlvbiByZW1vdmVTZWxlY3QoaW5kZXgpIHsKICAgICAgdGhpcy5udW1TZWxlY3Quc3BsaWNlKGluZGV4LCAxKTsgLy8gd2luZG93LmNvbnNvbGUubG9nKGluZGV4LCB0aGlzLm51bVNlbGVjdCkKICAgICAgLy8gdGhpcy5zZWxlY3REaXNjb3VudC5zcGxpY2UoaW5kZXgsMSkKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCJyZW1vdmUiLHRoaXMuc2VsZWN0RGlzY291bnQpCiAgICAgIC8vIHRoaXMuc2VsZWN0RGlzY291bnQgPSB0aGlzLnNlbGVjdERpc2NvdW50LmZpbHRlcihpdGVtID0+ICBpdGVtLmlkICE9IHZhbC5pZCk7CiAgICB9LAogICAgb25PdGhlckNoYXJnZUNoYW5nZTogZnVuY3Rpb24gb25PdGhlckNoYXJnZUNoYW5nZSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgb3RoZXJDaGFyZ2UgPSAwOwogICAgICB0aGlzLm1PdGhlckNoYXJnZS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgb3RoZXJDaGFyZ2UgKz0gX3RoaXM1LmF1dG9DYWxjdWxhdGVEaXNjb3VudChtLCBfdGhpczUucHVyY2hhc2Uuc3ViVG90YWwpOwogICAgICB9KTsKICAgICAgdGhpcy5wdXJjaGFzZS5vdGhlckNoYXJnZUFtb3VudCA9IG90aGVyQ2hhcmdlOwogICAgICB0aGlzLmF1dG9DYWxjdWxhdGUoKTsKICAgIH0sCiAgICBvbk90aGVyQW1vdW50OiBmdW5jdGlvbiBvbk90aGVyQW1vdW50KHZhbHVlKSB7CiAgICAgIHJldHVybiB0aGlzLmF1dG9DYWxjdWxhdGVEaXNjb3VudCh2YWx1ZSwgdGhpcy5wdXJjaGFzZS5zdWJUb3RhbCk7CiAgICB9LAogICAgb25TcGVjaWZpY0Rpc2NvdW50Q2hhbmdlZDogZnVuY3Rpb24gb25TcGVjaWZpY0Rpc2NvdW50Q2hhbmdlZCgpIHsKICAgICAgdGhpcy5wdXJjaGFzZS5zcGVjaWZpY0Rpc2NvdW50VG90YWwgPSAwOwoKICAgICAgaWYgKHRoaXMucHVyY2hhc2Uuc3BlY2lmaWNEaXNjb3VudEl0ZW0pIHsKICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coJy1jaGFuZ2VkJywgdGhpcy5wdXJjaGFzZS5zcGVjaWZpY0Rpc2NvdW50SXRlbSkKICAgICAgICB0aGlzLnB1cmNoYXNlLnNwZWNpZmljRGlzY291bnRUb3RhbCA9IHRoaXMuYXV0b0NhbGN1bGF0ZURpc2NvdW50KHRoaXMucHVyY2hhc2Uuc3BlY2lmaWNEaXNjb3VudEl0ZW0sIHRoaXMucHVyY2hhc2Uuc3ViVG90YWwpIHx8IDA7CiAgICAgICAgdGhpcy5wdXJjaGFzZS50b3RhbCA9IGtlbmRvLnBhcnNlRmxvYXQodGhpcy5wdXJjaGFzZS5zdWJUb3RhbCkgLSAoa2VuZG8ucGFyc2VGbG9hdCh0aGlzLnB1cmNoYXNlLmRpc2NvdW50VG90YWwpICsga2VuZG8ucGFyc2VGbG9hdCh0aGlzLnB1cmNoYXNlLnRvdGFsVGF4QW1vdW50KSkgLSB0aGlzLmF1dG9DYWxjdWxhdGVEaXNjb3VudCh0aGlzLnB1cmNoYXNlLnNwZWNpZmljRGlzY291bnRJdGVtLCB0aGlzLnB1cmNoYXNlLnN1YlRvdGFsKTsKICAgICAgfQoKICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICB9LAogICAgZW1wSW1wbDogZnVuY3Rpb24gZW1wSW1wbChkYXRhSXRlbSkgewogICAgICB2YXIgZW1wSWRzID0gW107CiAgICAgIGRhdGFJdGVtLmVtcGxveWVlLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICBlbXBJZHMucHVzaChtLmZpcnN0TmFtZSArICIgLSAiICsgbS5sYXN0TmFtZSk7CiAgICAgIH0pOyAvLyB3aW5kb3cuY29uc29sZS5sb2coZW1wSWRzLmpvaW4oJywgJykpCgogICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KGVtcElkcy5qb2luKCIsICIpLCAiPC9zcGFuPiIpOwogICAgfSwKICAgIHVvbVRtcDogZnVuY3Rpb24gdW9tVG1wKGRhdGFJdGVtKSB7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhkYXRhSXRlbSk7CiAgICAgIHJldHVybiBkYXRhSXRlbTsKICAgIH0sCiAgICBvbkludm9pY2VUeXBlQ2hhbmdlZDogZnVuY3Rpb24gb25JbnZvaWNlVHlwZUNoYW5nZWQoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT09IG51bGwgfHwgdGhpcy4kcm91dGUucGFyYW1zLmlkID09PSAiIikgewogICAgICAgIHRoaXMuZ2VuZXJhdGVOdW1iZXIoKTsKICAgICAgfQogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVUYXhCeVR5cGU6IGZ1bmN0aW9uIGF1dG9DYWxjdWxhdGVUYXhCeVR5cGUodGF4KSB7CiAgICAgIC8vIHJldHVybiBieSBhIGtleQogICAgICB2YXIgZ3JvdXBBbGwgPSBmdW5jdGlvbiBncm91cEFsbChsaXN0KSB7CiAgICAgICAgcmV0dXJuIGxpc3QucmVkdWNlKGZ1bmN0aW9uICh0YXgsIGl0ZW0pIHsKICAgICAgICAgIHZhciB0YXhBbW91bnQgPSB0YXhbaXRlbS5uYW1lXSB8fCAwOwogICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRheCwgX2RlZmluZVByb3BlcnR5KHt9LCBpdGVtLm5hbWUsIHRheEFtb3VudCArIHBhcnNlRmxvYXQoaXRlbS5hbW91bnQpKSk7CiAgICAgICAgfSwge30pOwogICAgICB9OwoKICAgICAgdGhpcy50YXhMaXN0VG90YWwgPSBncm91cEFsbCh0YXgpOwogICAgICB3aW5kb3cuY29uc29sZS5sb2coIm5pbW9sIiwgZ3JvdXBBbGwodGF4KSk7CiAgICB9LAogICAgb25EZXBvc2l0RGVkdWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiBvbkRlcG9zaXREZWR1Y3Rpb25DaGFuZ2UoKSB7CiAgICAgIHZhciBkZWR1Y3QgPSBwYXJzZUZsb2F0KHRoaXMucHVyY2hhc2UuZGVwb3NpdERlZHVjdGlvbiB8fCAwKTsKCiAgICAgIGlmIChkZWR1Y3QgPCAwKSB7CiAgICAgICAgdGhpcy5wdXJjaGFzZS5kZXBvc2l0RGVkdWN0aW9uID0gMDsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucHVyY2hhc2UuZGVwb3NpdERlZHVjdGlvbiA9PT0gIiIgfHwgdGhpcy5wdXJjaGFzZS5kZXBvc2l0RGVkdWN0aW9uID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLnB1cmNoYXNlLmRlcG9zaXREZWR1Y3Rpb24gPSAwOwogICAgICB9CgogICAgICB2YXIgZGVkdWN0aW9uID0gcGFyc2VGbG9hdCh0aGlzLnB1cmNoYXNlLmRlcG9zaXREZWR1Y3Rpb24pIHx8IDA7CgogICAgICBpZiAoZGVkdWN0aW9uID4gdGhpcy5wdXJjaGFzZS5kZXBvc2l0QW1vdW50KSB7CiAgICAgICAgdGhpcy5wdXJjaGFzZS5kZXBvc2l0RGVkdWN0aW9uID0gdGhpcy5wdXJjaGFzZS5kZXBvc2l0QW1vdW50OwogICAgICB9CgogICAgICB0aGlzLmF1dG9DYWxjdWxhdGUoKTsKICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlOiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBkcywgc3ViVG90YWwsIHRvdGFsVGF4LCBkaXNjb3VudFRvdGFsLCBzcFRheCwgcGx0YXgsIG90aGVyVGF4LCB2YXRUYXgsIGRpc2NvdW50SW52b2ljZSwgdGF4TGlzdCwgdGF4TGlzdERldGFpbCwgZGlzY291bnRJdGVtLCBkaXNjb3VudExpbmUsIGluY2x1c2l2ZVRheCwgdGF4VHlwZUlkLCB3aXRoaG9sZGluZ1RheEFtb3VudCwgd2hUYXhBbW91bnQsIGl0ZW1TdWJ0b3RhbCwgdHhuSXRtU3VidG90YWwsIHNlcnZpY2VTdWJ0b3RhbCwgaXRlbURpc2NvdW50LCBzZXJ2aWNlRGlzY291bnQsIHR4bkRpc2NvdW50LCBuYXR1cmUsIHJvd3MsIHRvdGFsLCBzcGVjaWZpY0Rpc2NvdW50LCB1bmlxdWVEaXNjb3VudEl0ZW0sIGFwQWNjLCBzcGVjaWZpY0Rpc2MsIHB1cmNoYXNlRGVwb3NpdEFjYywgb3RoZXJDaGFyZ2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRzID0gX3RoaXM2LiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKSwgc3ViVG90YWwgPSAwLCB0b3RhbFRheCA9IDAsIGRpc2NvdW50VG90YWwgPSAwLCBzcFRheCA9IDAsIHBsdGF4ID0gMCwgb3RoZXJUYXggPSAwLCB2YXRUYXggPSAwLCBkaXNjb3VudEludm9pY2UgPSAwLCB0YXhMaXN0ID0gW10sIHRheExpc3REZXRhaWwgPSBbXSwgZGlzY291bnRJdGVtID0gW10sIGRpc2NvdW50TGluZSA9IFtdLCBpbmNsdXNpdmVUYXggPSAwLCB0YXhUeXBlSWQgPSAwLCB3aXRoaG9sZGluZ1RheEFtb3VudCA9IDAsIHdoVGF4QW1vdW50ID0gMCwgaXRlbVN1YnRvdGFsID0gMCwgdHhuSXRtU3VidG90YWwgPSAwLCBzZXJ2aWNlU3VidG90YWwgPSAwLCBpdGVtRGlzY291bnQgPSAwLCBzZXJ2aWNlRGlzY291bnQgPSAwLCB0eG5EaXNjb3VudCA9IDA7CiAgICAgICAgICAgICAgICBuYXR1cmUgPSAiIjsKICAgICAgICAgICAgICAgIF90aGlzNi5qUmF3ID0gW107CiAgICAgICAgICAgICAgICByb3dzID0gZHMuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChtLmFtb3VudCkgPiAwOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByb3dzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIHZhciBtb2RpZmllclByaWNlID0gMCwKICAgICAgICAgICAgICAgICAgICAgIGluY1RheCA9IDA7CgogICAgICAgICAgICAgICAgICBpZiAodmFsdWUubW9kaWZpZXIpIHsKICAgICAgICAgICAgICAgICAgICBtb2RpZmllclByaWNlID0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5tb2RpZmllci5wcmljZSk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHZhciBkaXNjb3VudCA9IDA7CgogICAgICAgICAgICAgICAgICBpZiAodmFsdWUuZGlzY291bnRJdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc0l0ZW1GaWVsZCA9IHZhbHVlLmRpc2NvdW50SXRlbTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3ViVG8gPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmNvc3QpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdHkpOwogICAgICAgICAgICAgICAgICAgIGRpc2NvdW50ID0gX3RoaXM2LmF1dG9DYWxjdWxhdGVEaXNjb3VudCh2YWx1ZS5kaXNjb3VudEl0ZW0sIHN1YlRvKTsKICAgICAgICAgICAgICAgICAgICB2YWx1ZVsiZGlzY291bnRBbW91bnQiXSA9IGRpc2NvdW50OwogICAgICAgICAgICAgICAgICAgIHZhbHVlWyJkaXNjb3VudEV4Y2hhbmdlQW1vdW50Il0gPSBkaXNjb3VudCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM2LnB1cmNoYXNlLnR4blJhdGUpOwoKICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuZGlzY291bnRJdGVtLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEl0ZW0ucHVzaCh2YWx1ZS5kaXNjb3VudEl0ZW0pOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgZGlzY291bnRUb3RhbCArPSBkaXNjb3VudCA/IGRpc2NvdW50IDogMDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc2NvdW50ICogLTEgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc0l0ZW1GaWVsZC5hY2NvdW50KSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzSXRlbUZpZWxkLmFjY291bnQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGRpc0l0ZW1GaWVsZC5hY2NvdW50LmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIlB1cmNoYXNlIERpc2NvdW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiBkaXNJdGVtRmllbGQuYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGRpc0l0ZW1GaWVsZC5hY2NvdW50LmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogZGlzY291bnQgKiAtMSwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogZGlzY291bnQgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzNi5wdXJjaGFzZS50eG5SYXRlKSAqIC0xLAogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlQXM6ICJkaXNjb3VudCIKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAodmFsdWUudmF0VGF4KSB7CiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCdWYXQgVGF4JywgdmFsdWUudGF4KQogICAgICAgICAgICAgICAgICAgIHZhciBfYW10ID0ga2VuZG8ucGFyc2VGbG9hdChzcFRheCA/IHNwVGF4IDogMCkgKyBrZW5kby5wYXJzZUZsb2F0KHBsdGF4ID8gcGx0YXggOiAwKSArIGtlbmRvLnBhcnNlRmxvYXQob3RoZXJUYXggPyBvdGhlclRheCA6IDApICsgKGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50ID8gdmFsdWUuYW1vdW50IDogMCkgLSAoZGlzY291bnQgPyBkaXNjb3VudCA6IDApKTsKCiAgICAgICAgICAgICAgICAgICAgdmF0VGF4ID0gX3RoaXM2LmF1dG9DYWxjdWxhdGVUYXgodmFsdWUudmF0VGF4LCBfYW10KTsKICAgICAgICAgICAgICAgICAgICB2YXRUYXggPSBrZW5kby5wYXJzZUZsb2F0KHZhdFRheCkgPyBrZW5kby5wYXJzZUZsb2F0KHZhdFRheCkgOiAwOwogICAgICAgICAgICAgICAgICAgIHZhbHVlWyJ2YXRUYXhBbW91bnQiXSA9IHZhdFRheDsKICAgICAgICAgICAgICAgICAgICB2YWx1ZVsidmF0VGF4RXhjaGFuZ2VBbW91bnQiXSA9IHZhdFRheCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM2LnB1cmNoYXNlLnR4blJhdGUpOwogICAgICAgICAgICAgICAgICAgIHZhciB0YXggPSB2YWx1ZS52YXRUYXggfHwge307CiAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2VBbW91bnQgPSB0YXguYmFzZUFtb3VudCB8fCAnJzsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2codGF4LCAiaW0gdGF4Iik7CgogICAgICAgICAgICAgICAgICAgIGlmIChiYXNlQW1vdW50KSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSAiaW5jbHVzaXZlIikgewogICAgICAgICAgICAgICAgICAgICAgICBpbmNUYXggPSB2YXRUYXg7CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmVUYXggKz0gdmF0VGF4OwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLnZhdFRheC5oYXNPd25Qcm9wZXJ0eSgidGF4VHlwZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICB0YXhMaXN0LnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB2YWx1ZS52YXRUYXgudGF4VHlwZS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IHZhdFRheCwKICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHZhbHVlLnZhdFRheC50YXhUeXBlLmlkCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIHZhciB2YXRUYXhfID0gdmFsdWUudmF0VGF4IHx8IHt9OwogICAgICAgICAgICAgICAgICAgICAgdmF0VGF4X1sndGF4QW1vdW50XyddID0gdmF0VGF4OwogICAgICAgICAgICAgICAgICAgICAgdmF0VGF4X1snYW1vdW50J10gPSB2YWx1ZS5hbW91bnQgfHwgMDsKICAgICAgICAgICAgICAgICAgICAgIHZhdFRheF9bJ2Rpc2NvdW50J10gPSBkaXNjb3VudCB8fCAwOwogICAgICAgICAgICAgICAgICAgICAgdmF0VGF4X1sndHhuUmF0ZSddID0gX3RoaXM2LnB1cmNoYXNlLnR4blJhdGUgfHwgMTsKICAgICAgICAgICAgICAgICAgICAgIHZhdFRheF9bJ2lzVmF0J10gPSAxOwogICAgICAgICAgICAgICAgICAgICAgdmF0VGF4Xy5kZXRhaWwgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpZmljVGF4OiB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgcHVibGljTGlnaHRpbmdUYXg6IHt9LAogICAgICAgICAgICAgICAgICAgICAgICBvdGhlclRheDoge30KICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICB0YXhMaXN0RGV0YWlsLnB1c2godmF0VGF4Xyk7CiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ3ZhdF8nLCB2YXRUYXhfKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS52YXRUYXguaGFzT3duUHJvcGVydHkoInRheFR5cGUiKSkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHRheFR5cGUgPSB2YWx1ZS52YXRUYXgudGF4VHlwZSB8fCB7fTsKICAgICAgICAgICAgICAgICAgICAgIHRheFR5cGVJZCA9IHRheFR5cGUudHlwZUlkIHx8IDA7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB2YXIgdGF4QW1vdW50ID0gdmF0VGF4OwogICAgICAgICAgICAgICAgICAgIHZhciB0YXhEZXNjcmlwdGlvbiA9ICIiOwoKICAgICAgICAgICAgICAgICAgICBpZiAodGF4VHlwZUlkID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgICAgICAgICAgICAgdGF4QW1vdW50ID0gdmF0VGF4OwogICAgICAgICAgICAgICAgICAgICAgdGF4RGVzY3JpcHRpb24gPSAiUHVyY2hhc2UgVGF4IjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRheFR5cGVJZCA9PT0gMikgewogICAgICAgICAgICAgICAgICAgICAgd2l0aGhvbGRpbmdUYXhBbW91bnQgKz0gdmF0VGF4OwoKICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXhUeXBlSWQgPT09IDIgJiYgYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSAnbmV0JykgewogICAgICAgICAgICAgICAgICAgICAgICB3aFRheEFtb3VudCArPSB2YXRUYXg7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgICAgICAgICAgICAgIHRheEFtb3VudCA9IHZhdFRheCAqIC0xOwogICAgICAgICAgICAgICAgICAgICAgdGF4RGVzY3JpcHRpb24gPSAiV2l0aGhvbGRpbmcgVGF4IjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRheFR5cGVJZCA9PT0gMTApIHsKICAgICAgICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgICAgICAgICAgICAgICAgICB0YXhBbW91bnQgPSAwOwogICAgICAgICAgICAgICAgICAgICAgdGF4RGVzY3JpcHRpb24gPSAiTm8gVGF4IjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmICh0YXhBbW91bnQgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdmFyIHZhdFRheEZpZWxkID0gdmFsdWUudmF0VGF4IHx8IHt9OwoKICAgICAgICAgICAgICAgICAgICBpZiAodGF4QW1vdW50ICE9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAodmF0VGF4RmllbGQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhdFRheEZpZWxkLmFjY291bnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmF0VGF4RmllbGQuYWNjb3VudC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB2YXRUYXhGaWVsZC5hY2NvdW50LmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0YXhEZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogdmF0VGF4RmllbGQuYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiB2YXRUYXhGaWVsZC5hY2NvdW50LmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IHRheEFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IHRheEFtb3VudCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM2LnB1cmNoYXNlLnR4blJhdGUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVBczogInRheCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgdG90YWxUYXggKz0ga2VuZG8ucGFyc2VGbG9hdChzcFRheCA/IHNwVGF4IDogMCkgKyBrZW5kby5wYXJzZUZsb2F0KHBsdGF4ID8gcGx0YXggOiAwKSArIGtlbmRvLnBhcnNlRmxvYXQob3RoZXJUYXggPyBvdGhlclRheCA6IDApICsga2VuZG8ucGFyc2VGbG9hdCh2YXRUYXggPyB2YXRUYXggOiAwKTsKICAgICAgICAgICAgICAgICAgc3ViVG90YWwgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQpICsgbW9kaWZpZXJQcmljZSAtIGluY1RheDsKICAgICAgICAgICAgICAgICAgdmFyIGFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSArIG1vZGlmaWVyUHJpY2U7CgogICAgICAgICAgICAgICAgICB2YXIgYW10ID0gX3RoaXM2LmV4Y2x1ZGVWQVRUYXhJbmNsdXNpdmUodmFsdWUudmF0VGF4LCBhbW91bnQsIGluY1RheCk7IC8vIGNvbnN0IHhBbW91bnQgPSAoa2VuZG8ucGFyc2VGbG9hdChhbXQpICoga2VuZG8ucGFyc2VGbG9hdCh0aGlzLnB1cmNoYXNlLnR4blJhdGUpKQoKCiAgICAgICAgICAgICAgICAgIHZhciBhZGRpdGMgPSB2YWx1ZS5hZGRpdGlvbmFsQ29zdCB8fCAwOwogICAgICAgICAgICAgICAgICB2YXIgaXRlbUFtb3VudCA9IGFtdDsKICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1YQW1vdW50ID0gaXRlbUFtb3VudCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM2LnB1cmNoYXNlLnR4blJhdGUpOwogICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHZhbHVlLml0ZW07CiAgICAgICAgICAgICAgICAgIHZhciBpdG1UeXBlID0gaXRlbS50eXBlIHx8ICIiOwoKICAgICAgICAgICAgICAgICAgaWYgKGl0bVR5cGUgPT09ICJWYXJpYW50IikgewogICAgICAgICAgICAgICAgICAgIGl0ZW1TdWJ0b3RhbCArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmNvc3QpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdHkpOwogICAgICAgICAgICAgICAgICAgIGl0ZW1EaXNjb3VudCArPSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50KTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdG1UeXBlID09PSAiU2VydmljZSIpIHsKICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlU3VidG90YWwgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5jb3N0KSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucXR5KTsKICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlRGlzY291bnQgKz0ga2VuZG8ucGFyc2VGbG9hdChkaXNjb3VudCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdHhuSXRtU3VidG90YWwgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5jb3N0KSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucXR5KTsKICAgICAgICAgICAgICAgICAgICB0eG5EaXNjb3VudCArPSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50KTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKGFtdCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gIlNlcnZpY2UiKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgcGxhbiA9IGl0ZW0uaXNQYW4gfHwgZmFsc2U7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHBsYW4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoImRlZmVycmVkSW5jb21lQWNjIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5kZWZlcnJlZEluY29tZUFjYy5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmVycmVkSW5BY2MgPSBpdGVtLmRlZmVycmVkSW5jb21lQWNjOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZGVmZXJyZWRJbkFjYy5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwodmFsdWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogX3RoaXM2LnB1cmNoYXNlLmpvdXJuYWxOb3RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiBkZWZlcnJlZEluQWNjLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGRlZmVycmVkSW5BY2MuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogaXRlbUFtb3VudCAqIC0xLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBxdHkqYXZnX2Nvc3QgLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogaXRlbVhBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVBczogIml0ZW0iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCJjb3N0T2ZHb29kc1NvbGRBY2MiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmNvc3RPZkdvb2RzU29sZEFjYy5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvc3RPZkdvb2RzU29sZEFjYyA9IGl0ZW0uY29zdE9mR29vZHNTb2xkQWNjOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY29zdE9mR29vZHNTb2xkQWNjLmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBfdGhpczYucHVyY2hhc2Uuam91cm5hbE5vdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGl0ZW0uY29zdE9mR29vZHNTb2xkQWNjLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGl0ZW0uY29zdE9mR29vZHNTb2xkQWNjLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGl0ZW1BbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHF0eSphdmdfY29zdCAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBpdGVtWEFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy94QW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVBczogIml0ZW0iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gIlZhcmlhbnQiKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgYW1vdW50V2l0aEFkZGljdCA9IGl0ZW1BbW91bnQgKyAodmFsdWUuYW1vdW50QXBwbGllZCB8fCAwKTsKICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnYWRkaXRjJywgYWRkaXRjLCAnLScsIGl0ZW1BbW91bnQpOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCJpbnZlbnRvcnlBY2MiKSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5pbnZlbnRvcnlBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW52ZW50b3J5QWNjID0gaXRlbS5pbnZlbnRvcnlBY2M7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGludmVudG9yeUFjYy5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBfdGhpczYucHVyY2hhc2Uuam91cm5hbE5vdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiBpdGVtLmludmVudG9yeUFjYywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogaXRlbS5pbnZlbnRvcnlBY2MuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudFdpdGhBZGRpY3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBxdHkqYXZnX2Nvc3QgLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGFtb3VudFdpdGhBZGRpY3QgKiAoX3RoaXM2LnB1cmNoYXNlLnR4blJhdGUgfHwgMSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3hBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlQXM6ICJpdGVtIgogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICJGaXhlZCBBc3NldCIpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCJhc3NldEFjYyIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmFzc2V0QWNjLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFzc2V0QWNjID0gaXRlbS5hc3NldEFjYzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogYXNzZXRBY2MuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogX3RoaXM2LnB1cmNoYXNlLmpvdXJuYWxOb3RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogaXRlbS5hc3NldEFjYywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogaXRlbS5hc3NldEFjYy5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogaXRlbUFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHF0eSphdmdfY29zdCAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogaXRlbVhBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3hBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlQXM6ICJpdGVtIgogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICJUcmFuc2FjdGlvbiBJdGVtIikgewogICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoImFjY291bnQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5hY2NvdW50Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5hY2NvdW50LmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwodmFsdWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzNi5wdXJjaGFzZS5qb3VybmFsTm90ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGl0ZW0uYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogaXRlbS5hY2NvdW50LmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBpdGVtQW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcXR5KmF2Z19jb3N0ICwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBpdGVtWEFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8veEFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVBczogIml0ZW0iCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gLy9pbmNsdWRlIFRheCBBbW91bnQKCgogICAgICAgICAgICAgICAgICB2YXIgYW1vdW50Tm9kaXNjb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuY29zdCkgKiBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnF0eSkgLSBkaXNjb3VudDsKICAgICAgICAgICAgICAgICAgdmFyIGluY2x1ZGVUYXhBbW91bnQgPSBhbW91bnROb2Rpc2NvdW50ICsgdmF0VGF4ICsgcGx0YXggKyBzcFRheCArIG90aGVyVGF4OwogICAgICAgICAgICAgICAgICB2YWx1ZVsiaW5jbHVkZVRheEFtb3VudCJdID0gaW5jbHVkZVRheEFtb3VudDsKICAgICAgICAgICAgICAgICAgdmFsdWVbImluY2x1ZGVUYXhFeGNoYW5nZUFtb3VudCJdID0gaW5jbHVkZVRheEFtb3VudCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM2LnB1cmNoYXNlLnR4blJhdGUpOwogICAgICAgICAgICAgICAgfSk7IC8vdG9kbzogV2l0aGhvbGRpbmdUYXggZXhwZW5zZQoKICAgICAgICAgICAgICAgIF90aGlzNi53aXRoaG9sZGluZ0V4cGVuc2Uod2hUYXhBbW91bnQsIF90aGlzNi5wdXJjaGFzZS50eG5SYXRlIHx8IDEpOwoKICAgICAgICAgICAgICAgIF90aGlzNi5wdXJjaGFzZS5pdGVtU3VidG90YWwgPSBpdGVtU3VidG90YWw7CiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2UuaW5jbHVzaXZlVGF4QW1vdW50ID0gaW5jbHVzaXZlVGF4OwogICAgICAgICAgICAgICAgX3RoaXM2LnB1cmNoYXNlLmV4Y2hhbmdlSXRlbVN1YnRvdGFsID0gaXRlbVN1YnRvdGFsICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczYucHVyY2hhc2UudHhuUmF0ZSk7CiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2Uuc2VydmljZVN1YnRvdGFsID0gc2VydmljZVN1YnRvdGFsOwogICAgICAgICAgICAgICAgX3RoaXM2LnB1cmNoYXNlLmV4Y2hhbmdlU2VydmljZVN1YnRvdGFsID0gc2VydmljZVN1YnRvdGFsICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczYucHVyY2hhc2UudHhuUmF0ZSk7CiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2UudHhuSXRtU3VidG90YWwgPSB0eG5JdG1TdWJ0b3RhbDsKICAgICAgICAgICAgICAgIF90aGlzNi5wdXJjaGFzZS5leGNoYW5nZVR4bkl0bVN1YnRvdGFsID0gdHhuSXRtU3VidG90YWwgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzNi5wdXJjaGFzZS50eG5SYXRlKTsKICAgICAgICAgICAgICAgIF90aGlzNi5wdXJjaGFzZS5pdGVtRGlzY291bnQgPSBpdGVtRGlzY291bnQ7CiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2UuZXhjaGFuZ2VJdGVtRGlzY291bnQgPSBpdGVtRGlzY291bnQgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzNi5wdXJjaGFzZS50eG5SYXRlKTsKICAgICAgICAgICAgICAgIF90aGlzNi5wdXJjaGFzZS5zZXJ2aWNlRGlzY291bnQgPSBzZXJ2aWNlRGlzY291bnQ7CiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2UuZXhjaGFuZ2VTZXJ2aWNlRGlzY291bnQgPSBzZXJ2aWNlRGlzY291bnQgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzNi5wdXJjaGFzZS50eG5SYXRlKTsKICAgICAgICAgICAgICAgIF90aGlzNi5wdXJjaGFzZS50eG5JdG1EaXNjb3VudCA9IHR4bkRpc2NvdW50OwogICAgICAgICAgICAgICAgX3RoaXM2LnB1cmNoYXNlLmV4Y2hhbmdlVHhuSXRtRGlzY291bnQgPSB0eG5EaXNjb3VudCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM2LnB1cmNoYXNlLnR4blJhdGUpOwogICAgICAgICAgICAgICAgdG90YWwgPSBrZW5kby5wYXJzZUZsb2F0KHN1YlRvdGFsKSAtIGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnRUb3RhbCkgKyBrZW5kby5wYXJzZUZsb2F0KHRvdGFsVGF4KTsKICAgICAgICAgICAgICAgIF90aGlzNi5wdXJjaGFzZS5zdWJUb3RhbCA9IHN1YlRvdGFsOwogICAgICAgICAgICAgICAgX3RoaXM2LnB1cmNoYXNlLnRvdGFsVGF4QW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh0b3RhbFRheCk7CiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2UuZGlzY291bnRUb3RhbCA9IGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnRUb3RhbCk7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5wdXJjaGFzZS5zcGVjaWZpY0Rpc2NvdW50SXRlbSkgewogICAgICAgICAgICAgICAgICBkaXNjb3VudEludm9pY2UgPSBfdGhpczYuYXV0b0NhbGN1bGF0ZURpc2NvdW50KF90aGlzNi5wdXJjaGFzZS5zcGVjaWZpY0Rpc2NvdW50SXRlbSwga2VuZG8ucGFyc2VGbG9hdChzdWJUb3RhbCkpOwogICAgICAgICAgICAgICAgICBkaXNjb3VudEludm9pY2UgPSBkaXNjb3VudEludm9pY2UgPyBkaXNjb3VudEludm9pY2UgOiAwOwogICAgICAgICAgICAgICAgfSAvLyB0aGlzLm9uT3RoZXJDaGFyZ2VDaGFuZ2UoKQoKCiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2UudG90YWwgPSBrZW5kby5wYXJzZUZsb2F0KHRvdGFsKSAtIGRpc2NvdW50SW52b2ljZSArIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM2LnB1cmNoYXNlLm90aGVyQ2hhcmdlQW1vdW50KTsgLy8tIHBhcnNlRmxvYXQod2l0aGhvbGRpbmdUYXhBbW91bnQpOwoKICAgICAgICAgICAgICAgIF90aGlzNi5wdXJjaGFzZS53aXRoaG9sZGluZ1RheEFtb3VudCA9IHdpdGhob2xkaW5nVGF4QW1vdW50OyAvLyB0aGlzLnB1cmNoYXNlLnRvdGFsQWZ0ZXJXaXRoaG9sZGluZ1RheCA9IGtlbmRvLnBhcnNlRmxvYXQodGhpcy5wdXJjaGFzZS50b3RhbCkgLSBwYXJzZUZsb2F0KHdpdGhob2xkaW5nVGF4QW1vdW50KTsKCiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2UucmVtYWluaW5nQW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdChfdGhpczYucHVyY2hhc2UudG90YWwpIC0ga2VuZG8ucGFyc2VGbG9hdChfdGhpczYucHVyY2hhc2UuZGVwb3NpdERlZHVjdGlvbikgLSBwYXJzZUZsb2F0KHdpdGhob2xkaW5nVGF4QW1vdW50KTsKICAgICAgICAgICAgICAgIF90aGlzNi5wdXJjaGFzZS5hbW91bnREdWUgPSBrZW5kby5wYXJzZUZsb2F0KF90aGlzNi5wdXJjaGFzZS50b3RhbCkgLSBrZW5kby5wYXJzZUZsb2F0KF90aGlzNi5wdXJjaGFzZS5kZXBvc2l0RGVkdWN0aW9uKSAtIHBhcnNlRmxvYXQod2l0aGhvbGRpbmdUYXhBbW91bnQpOwogICAgICAgICAgICAgICAgX3RoaXM2LnB1cmNoYXNlLmV4Y2hhbmdlQW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdChfdGhpczYucHVyY2hhc2UuYW1vdW50RHVlKSAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM2LnB1cmNoYXNlLnR4blJhdGUpOyAvLyB3aW5kb3cuY29uc29sZS5sb2coJ0V4Y2hhbmdlIEFtb3VudCcsIHRoaXMucHVyY2hhc2UuZXhjaGFuZ2VBbW91bnQsIHRoaXMucHVyY2hhc2UuYW1vdW50RHVlKQoKICAgICAgICAgICAgICAgIF90aGlzNi5hdXRvQ2FsY3VsYXRlVGF4QnlUeXBlKHRheExpc3QpOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczYucHVyY2hhc2Uuc3BlY2lmaWNEaXNjb3VudEl0ZW0pIHsKICAgICAgICAgICAgICAgICAgc3BlY2lmaWNEaXNjb3VudCA9IF90aGlzNi5wdXJjaGFzZS5zcGVjaWZpY0Rpc2NvdW50SXRlbSB8fCB7fTsKCiAgICAgICAgICAgICAgICAgIGlmIChzcGVjaWZpY0Rpc2NvdW50LmlkKSB7CiAgICAgICAgICAgICAgICAgICAgZGlzY291bnRJdGVtLnB1c2goc3BlY2lmaWNEaXNjb3VudCk7CiAgICAgICAgICAgICAgICAgICAgZGlzY291bnRMaW5lLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgaWQ6IHNwZWNpZmljRGlzY291bnQuaWQsCiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzcGVjaWZpY0Rpc2NvdW50Lm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IF90aGlzNi5wdXJjaGFzZS5zcGVjaWZpY0Rpc2NvdW50VG90YWwsCiAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogX3RoaXM2LnB1cmNoYXNlLnNwZWNpZmljRGlzY291bnRUb3RhbCAqIF90aGlzNi5wdXJjaGFzZS50eG5SYXRlCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB1bmlxdWVEaXNjb3VudEl0ZW0gPSBfdGhpczYucmVtb3ZlRHVwbGljYXRlKGRpc2NvdW50SXRlbSk7CgogICAgICAgICAgICAgICAgX3RoaXM2LnNocmlua0Rpc2NvdW50SXRlbSh1bmlxdWVEaXNjb3VudEl0ZW0sIGRpc2NvdW50TGluZSk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZygnZGlzY291bnQgJywgdGhpcy5jdXN0b21lckRpc2NvdW50SXRlbSkKICAgICAgICAgICAgICAgIC8vIHRvZG86IHJhdyBKb3VybmFsCgoKICAgICAgICAgICAgICAgIGFwQWNjID0gX3RoaXM2LnB1cmNoYXNlLmFwQWNjIHx8IHt9OwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczYucHVyY2hhc2UuYW1vdW50RHVlICogLTEgPiAwKSB7CiAgICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChhcEFjYykgewogICAgICAgICAgICAgICAgICBpZiAoYXBBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczYualJhdy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIGlkOiBhcEFjYy5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHt9KSwKICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBfdGhpczYucHVyY2hhc2Uuam91cm5hbE5vdGUsCiAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiBhcEFjYywKICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogYXBBY2MuaWQsCiAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogX3RoaXM2LnB1cmNoYXNlLmV4Y2hhbmdlQW1vdW50ICogLTEsCiAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IF90aGlzNi5wdXJjaGFzZS5hbW91bnREdWUgKiAtMSwKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgIHR5cGVBczogImFwIgogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3BlY2lmaWNEaXNjID0gX3RoaXM2LnB1cmNoYXNlLnNwZWNpZmljRGlzY291bnRJdGVtOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczYucHVyY2hhc2Uuc3BlY2lmaWNEaXNjb3VudFRvdGFsICogLTEgPiAwKSB7CiAgICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgICAgICAgfSAvLyB3aW5kb3cuY29uc29sZS5sb2coc3BlY2lmaWNEaXNjLCAnc3BlY2lmaWNEaXNjJywgdGhpcy5wdXJjaGFzZS5zcGVjaWZpY0Rpc2NvdW50VG90YWwpCgoKICAgICAgICAgICAgICAgIGlmIChzcGVjaWZpY0Rpc2MpIHsKICAgICAgICAgICAgICAgICAgaWYgKHNwZWNpZmljRGlzYy5oYXNPd25Qcm9wZXJ0eSgiYWNjb3VudCIpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWNpZmljRGlzYy5hY2NvdW50KSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BlY2lmaWNEaXNjLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBzcGVjaWZpY0Rpc2MuYWNjb3VudC5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh7fSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICJQdXJjaGFzZSBEaXNjb3VudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogc3BlY2lmaWNEaXNjLmFjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBzcGVjaWZpY0Rpc2MuYWNjb3VudC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDoga2VuZG8ucGFyc2VGbG9hdChfdGhpczYucHVyY2hhc2Uuc3BlY2lmaWNEaXNjb3VudFRvdGFsKSAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM2LnB1cmNoYXNlLnR4blJhdGUpICogLTEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBfdGhpczYucHVyY2hhc2Uuc3BlY2lmaWNEaXNjb3VudFRvdGFsICogLTEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVBczogImRpc2NvdW50IgogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LnB1cmNoYXNlLmRlcG9zaXREZWR1Y3Rpb24gKiAtMSA+IDApIHsKICAgICAgICAgICAgICAgICAgbmF0dXJlID0gImRyIjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5wdXJjaGFzZS5kZXBvc2l0RGVkdWN0aW9uKSB7CiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczYucHVyY2hhc2UuZGVwb3NpdERlZHVjdGlvbiA+IDApIHsKICAgICAgICAgICAgICAgICAgICBwdXJjaGFzZURlcG9zaXRBY2MgPSBfdGhpczYudmVuZG9yLnB1cmNoYXNlRGVwb3NpdEFjYyB8fCB7fTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHB1cmNoYXNlRGVwb3NpdEFjYykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHB1cmNoYXNlRGVwb3NpdEFjYy5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYualJhdy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcHVyY2hhc2VEZXBvc2l0QWNjLmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAiUHVyY2hhc2UgRGVwb3NpdCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwoe30pLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IHB1cmNoYXNlRGVwb3NpdEFjYywKICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IHB1cmNoYXNlRGVwb3NpdEFjYy5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogX3RoaXM2LnB1cmNoYXNlLmV4Y2hhbmdlRGVwb3NpdERlZHVjdGlvbiAqIC0xLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogX3RoaXM2LnB1cmNoYXNlLmRlcG9zaXREZWR1Y3Rpb24gKiAtMSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUFzOiAiZGVwb3NpdCIKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5tT3RoZXJDaGFyZ2UubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICBvdGhlckNoYXJnZSA9IDA7CgogICAgICAgICAgICAgICAgICBfdGhpczYubU90aGVyQ2hhcmdlLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICBvdGhlckNoYXJnZSA9IF90aGlzNi5hdXRvQ2FsY3VsYXRlRGlzY291bnQobSwgX3RoaXM2LnB1cmNoYXNlLnN1YlRvdGFsKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKG90aGVyQ2hhcmdlID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgbmF0dXJlID0gImRyIjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAobS5oYXNPd25Qcm9wZXJ0eSgiYWNjb3VudCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtLmFjY291bnQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWNjb3VudCA9IG0uYWNjb3VudDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjY291bnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY2NvdW50Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBhY2NvdW50LmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHt9KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIk90aGVyIENoYXJnZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGFjY291bnQuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IG90aGVyQ2hhcmdlICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczYucHVyY2hhc2UudHhuUmF0ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBvdGhlckNoYXJnZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUFzOiAib3RoZXJDaGFyZ2UiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7IC8vIHRoaXMucHVyY2hhc2Uub3RoZXJDaGFyZ2VBbW91bnQgPSBvdGhlckNoYXJnZQoKCiAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhfdGhpczYubU90aGVyQ2hhcmdlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczYudGF4TGlzdERldGFpbCA9IHRheExpc3REZXRhaWw7CgogICAgICAgICAgICAgICAgX3RoaXM2LmF1dG9DYWxjdWxhdGVUYXhEZXRhaWwoKTsgLy8gdG9kbzogZW5kIHJhdyBKb3VybmFsCiAgICAgICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkodGhpcy5wdXJjaGFzZSksICdwdXJjaGFzZScpCgoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmNhbGN1bGF0ZUFkZGl0aW9uYWxDb3N0KCk7CgogICAgICAgICAgICAgIGNhc2UgNDY6CiAgICAgICAgICAgICAgICAvLyB0b2RvOiBjb29rIGpvdXJuYWwKICAgICAgICAgICAgICAgIF90aGlzNi5zaHJpbmtEYXRhKF90aGlzNi5qUmF3KTsgLy8gY29uc3QgdW5pcXVlID0gdGhpcy5yZW1vdmVEdXBsaWNhdGUodGhpcy5hY2NvdW50cykKICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyh1bmlxdWUsICd1bmlxdWUnKQoKCiAgICAgICAgICAgICAgY2FzZSA0NzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHdpdGhob2xkaW5nRXhwZW5zZTogZnVuY3Rpb24gd2l0aGhvbGRpbmdFeHBlbnNlKGFtb3VudCwgdHhuUmF0ZSkgewogICAgICAvLyBpZiAodGhpcy5pc0l0ZW0oKSkgewogICAgICBpZiAoYW1vdW50ID4gMCkgewogICAgICAgIHZhciBuYXR1cmUgPSAnZHInOwogICAgICAgIHZhciBhY2NvdW50ID0gdGhpcy5hY2NXaXRoaG9sZGluZ0V4cGVuc2UgfHwgW107CgogICAgICAgIGlmIChhY2NvdW50Lmxlbmd0aCA+IDApIHsKICAgICAgICAgIHZhciBpYWNjID0gYWNjb3VudFswXTsKICAgICAgICAgIHRoaXMualJhdy5wdXNoKHsKICAgICAgICAgICAgaWQ6IGlhY2MuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHt9KSwKICAgICAgICAgICAgZGVzY3JpcHRpb246ICJXaXRoaG9sZGluZyBUYXggRXhwZW5zZSIsCiAgICAgICAgICAgIGFjY291bnQ6IGlhY2MsCiAgICAgICAgICAgIGFjY291bnRJZDogaWFjYy5pZCwKICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGFtb3VudCAqIHR4blJhdGUsCiAgICAgICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgIHR5cGVBczogIldpdGhob2xkaW5nIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IC8vIH0KCiAgICB9LAogICAgc2hyaW5rRGF0YTogZnVuY3Rpb24gc2hyaW5rRGF0YShvYmopIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB2YXIgdW5pcXVlcyA9IHRoaXMucmVtb3ZlRHVwbGljYXRlKG9iaik7CiAgICAgIC8qWy4uLm5ldyBTZXQoYWNjb3VudElkLm1hcChpID0+IHsKICAgICAgIHJldHVybiB7CiAgICAgICAgICAgaWRfOiBpLmlkXywKICAgICAgICAgICBpZDogaS5pZCwKICAgICAgICAgICB0eXBlOiBpLnR5cGUKICAgICAgfSkpXSovCgogICAgICB1bmlxdWVzLmZvckVhY2goZnVuY3Rpb24gKG4pIHsKICAgICAgICB2YXIgZm91bmQgPSBvYmouZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICByZXR1cm4gbS5pZCA9PT0gbi5pZDsKICAgICAgICB9KTsKICAgICAgICB2YXIgYW1vdW50ID0gMDsKICAgICAgICBmb3VuZC5mb3JFYWNoKGZ1bmN0aW9uICh6KSB7CiAgICAgICAgICBhbW91bnQgKz0gcGFyc2VGbG9hdCh6LmFtb3VudCB8fCAwKTsKICAgICAgICB9KTsKICAgICAgICBuLmFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50KTsgLy90aGlzLm51bWJlckZvcm1hdChhbW91bnQpCgogICAgICAgIG4uZXhjaGFuZ2VBbW91bnQgPSBwYXJzZUZsb2F0KHBhcnNlRmxvYXQoYW1vdW50ICogcGFyc2VGbG9hdChfdGhpczcucHVyY2hhc2UudHhuUmF0ZSkpKTsgLy90aGlzLm51bWJlckZvcm1hdChhbW91bnQgKiBwYXJzZUZsb2F0KHRoaXMucHVyY2hhc2UudHhuUmF0ZSkpIC8vLnRvRml4ZWQodGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbCkKICAgICAgfSk7CiAgICAgIHRoaXMualJhdyA9IHVuaXF1ZXM7CiAgICAgIHZhciBkciA9IDAsCiAgICAgICAgICBjciA9IDA7CiAgICAgIHRoaXMualJhdy5mb3JFYWNoKGZ1bmN0aW9uIChqKSB7CiAgICAgICAgc3dpdGNoIChqLnR5cGUpIHsKICAgICAgICAgIGNhc2UgImNyIjoKICAgICAgICAgICAgY3IgKz0gcGFyc2VGbG9hdChqLmV4Y2hhbmdlQW1vdW50KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAiZHIiOgogICAgICAgICAgICBkciArPSBwYXJzZUZsb2F0KGouZXhjaGFuZ2VBbW91bnQpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnB1cmNoYXNlLmRyID0gZHI7CiAgICAgIHRoaXMucHVyY2hhc2UuY3IgPSBjcjsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJkcj0iLCBkciwgImNyPSIsIGNyLCAiZHIrY3IgPSAiLCBkciArIGNyKTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHVuaXF1ZXMpLCAndW5pcXVlcycpOwogICAgfSwKICAgIHNocmlua0Rpc2NvdW50SXRlbTogZnVuY3Rpb24gc2hyaW5rRGlzY291bnRJdGVtKGRpc2NvdW50SXRlbSwgZGlzY291bnRMaW5lKSB7CiAgICAgIHZhciB1bmlxdWVEaXNjb3VudEl0ZW1zID0gW107CiAgICAgIHZhciB1bmlxdWUgPSB0aGlzLnJlbW92ZUR1cGxpY2F0ZShkaXNjb3VudEl0ZW0pOwogICAgICB1bmlxdWUuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgIHZhciBmb3VuZCA9IGRpc2NvdW50TGluZS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgIHJldHVybiBuLmlkID09PSBtLmlkOwogICAgICAgIH0pOwogICAgICAgIHZhciBhbW91bnQgPSAwLAogICAgICAgICAgICBleGNoYW5nZUFtb3VudCA9IDA7CiAgICAgICAgZm91bmQubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICBhbW91bnQgKz0gby5hbW91bnQ7CiAgICAgICAgfSk7CiAgICAgICAgZm91bmQubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICBleGNoYW5nZUFtb3VudCArPSBvLmV4Y2hhbmdlQW1vdW50OwogICAgICAgIH0pOwogICAgICAgIHVuaXF1ZURpc2NvdW50SXRlbXMucHVzaCh7CiAgICAgICAgICBpZDogbS5pZCwKICAgICAgICAgIG5hbWU6IG0ubmFtZSwKICAgICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGV4Y2hhbmdlQW1vdW50CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLnN1cHBsaWVyRGlzY291bnRJdGVtID0gdW5pcXVlRGlzY291bnRJdGVtczsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKHVuaXF1ZURpc2NvdW50SXRlbXMsICJ1bmlxdWVEaXNjb3VudEl0ZW1zIik7CiAgICB9LAogICAgcmVtb3ZlRHVwbGljYXRlOiBmdW5jdGlvbiByZW1vdmVEdXBsaWNhdGUoYXJyYXkpIHsKICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICB2YXIgbWFwID0gbmV3IE1hcCgpOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFycmF5KSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBpZiAoIW1hcC5oYXMoaXRlbS5pZCkpIHsKICAgICAgICAgICAgbWFwLnNldChpdGVtLmlkLCB0cnVlKTsgLy8gc2V0IGFueSB2YWx1ZSB0byBNYXAKCiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIG51bWJlckZvcm1hdDogZnVuY3Rpb24gbnVtYmVyRm9ybWF0KHZhbHVlKSB7CiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnNhbGVGb3JtQ29udGVudC5kZWNpbWFsLCduaW1vbCcpCiAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyh2YWx1ZSwgIm4iLmNvbmNhdCh0aGlzLnB1cmNoYXNlRm9ybUNvbnRlbnQuZGVjaW1hbCkpOwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVEaXNjb3VudDogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZURpc2NvdW50KGRpc2NvdW50SXRlbSwgc3ViVG90YWwpIHsKICAgICAgaWYgKGRpc2NvdW50SXRlbSkgewogICAgICAgIHZhciBuYXR1cmUgPSBkaXNjb3VudEl0ZW0ubmF0dXJlIHx8ICcnOwogICAgICAgIHZhciBhbW91bnQgPSBkaXNjb3VudEl0ZW0uYW1vdW50IHx8IDA7CgogICAgICAgIGlmIChuYXR1cmUgPT09ICdBbW91bnQnKSB7CiAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChhbW91bnQpOwogICAgICAgIH0gZWxzZSBpZiAobmF0dXJlID09PSAnUGVyY2VudGFnZScpIHsKICAgICAgICAgIHJldHVybiBzdWJUb3RhbCAqIChwYXJzZUZsb2F0KGFtb3VudCkgLyAxMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlVGF4OiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlVGF4KHRheCwgYW1vdW50KSB7CiAgICAgIGlmICh0YXgpIHsKICAgICAgICB2YXIgZm9ybXVsYSA9IHRheC5mb3JtdWxhOwogICAgICAgIHZhciBpbkFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB2YXIgbkFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB2YXIgdGF4QmFzZSA9IGtlbmRvLnBhcnNlRmxvYXQodGF4LnRheEJhc2UpIC8gMTAwOwogICAgICAgIHZhciByYXRlID0ga2VuZG8ucGFyc2VGbG9hdCh0YXgucmF0ZSkgLyAxMDA7CiAgICAgICAgdmFyIHRvdGFsID0gZXZhbChmb3JtdWxhKTsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coaW5BbXQsIG5BbXQsIHRheEJhc2UsIHJhdGUsIGZvcm11bGEsIHRvdGFsKTsKICAgICAgICByZXR1cm4gdG90YWw7CiAgICAgIH0gLy8gcmV0dXJuIDAKCiAgICB9LAogICAgdGF4TWFwcGluZzogZnVuY3Rpb24gdGF4TWFwcGluZyhvYmpUYXgsIHRheCkgewogICAgICB2YXIgdGF4SWQgPSB0YXguaWQgfHwgJyc7CiAgICAgIHZhciB0YXhfID0gb2JqVGF4LmZpbHRlcihmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiB0LmlkID09PSB0YXhJZDsKICAgICAgfSlbMF07CiAgICAgIHJldHVybiB0YXhfIHx8IHsKICAgICAgICBpZDogJycsCiAgICAgICAgZGVmYXVsdFRheDogJycKICAgICAgfTsKICAgIH0sCiAgICBkYXRhU291cmNlQ2hhbmdlZDogZnVuY3Rpb24gZGF0YVNvdXJjZUNoYW5nZWQoZSkgewogICAgICBpZiAoZS5maWVsZCkgewogICAgICAgIHZhciBkYXRhUm93ID0gZS5pdGVtc1swXSwKICAgICAgICAgICAgYnVvbSA9IHt9LAogICAgICAgICAgICB2VGF4ID0ge30sCiAgICAgICAgICAgIGNvbnZlcnNpb25SYXRlID0gMSwKICAgICAgICAgICAgd2FjID0gMCwKICAgICAgICAgICAgcW9oID0gMCwKICAgICAgICAgICAgYW1vdW50ID0gMCwKICAgICAgICAgICAgeEFtb3VudCA9IDA7CgogICAgICAgIHN3aXRjaCAoZS5maWVsZCkgewogICAgICAgICAgY2FzZSAiaXRlbSI6CiAgICAgICAgICAgIC8vIHRoaXMuYXR0cmlidXRlXyA9IHRoaXMuYXR0cmlidXRlcy5maWx0ZXIobSA9PiBtLnR5cGUuaWQgPT09IGRhdGFSb3cudmFyaWFudC5pZCkKICAgICAgICAgICAgZGF0YVJvdy5zZXQoImRlc2NyaXB0aW9uIiwgZGF0YVJvdy5pdGVtLmRlc2NyaXB0aW9uKTsKICAgICAgICAgICAgYnVvbSA9IGRhdGFSb3cuaXRlbS51b20gfHwge307CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJidW9tIiwgYnVvbSk7IC8vIGRhdGFSb3cuc2V0KCd1b20nLCBidW9tKQogICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coZGF0YVJvdy5pdGVtLCdyb3cnKQogICAgICAgICAgICAvLyBhd2FpdCB0aGlzLmludmVudG9yeUJhbGFuY2UoZGF0YVJvdywgZGF0YVJvdy5pdGVtLmlkKQoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAiY29zdCI6CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgYW1vdW50ID0gcGFyc2VGbG9hdChkYXRhUm93LmNvc3QpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSk7CiAgICAgICAgICAgICAgeEFtb3VudCA9IGFtb3VudCAqIHBhcnNlRmxvYXQodGhpcy5wdXJjaGFzZS50eG5SYXRlKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29zdCIsIHBhcnNlRmxvYXQoZGF0YVJvdy5jb3N0KSk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIGFtb3VudCk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlQW1vdW50IiwgeEFtb3VudCk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZygncHJpY2UnLGRhdGFSb3cucHJpY2UpCiAgICAgICAgICAgIH0gY2F0Y2ggKF91bnVzZWQpIHsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29zdCIsIDApOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCAwKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZXhjaGFuZ2VBbW91bnQiLCAwKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAidW9tIjoKICAgICAgICAgICAgaWYgKHRoaXMuaXNQcmljZUxldmVsQ2hhbmdlZCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKGRhdGFSb3cudW9tKSB7CiAgICAgICAgICAgICAgICAgIGJ1b20gPSBkYXRhUm93LnVvbS5idW9tIHx8IHt9OwogICAgICAgICAgICAgICAgICBxb2ggPSBkYXRhUm93LnVvbS5xb2ggfHwgMDsKICAgICAgICAgICAgICAgICAgY29udmVyc2lvblJhdGUgPSBkYXRhUm93LnVvbS5jb252ZXJzaW9uUmF0ZSB8fCAxOwogICAgICAgICAgICAgICAgICB3YWMgPSBkYXRhUm93LnVvbS53YWMgfHwgMDsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImJ1b20iLCBidW9tKTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoIndhYyIsIHdhYyk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJxb2giLCBxb2gpOwogICAgICAgICAgICAgICAgICAvKiB0b2RvOiBtYXBwaW5nIHRheCBvYmplY3QgKi8KCiAgICAgICAgICAgICAgICAgIHZUYXggPSB0aGlzLnRheE1hcHBpbmcodGhpcy50YXgsIGRhdGFSb3cudW9tLnB1cmNoYXNlVGF4IHx8IHt9KTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInZhdFRheCIsIHZUYXgpOwogICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29udmVyc2lvblJhdGUiLCBwYXJzZUZsb2F0KGNvbnZlcnNpb25SYXRlKSk7CgogICAgICAgICAgICAgICAgICBpZiAoZGF0YVJvdy51b20pIHsKICAgICAgICAgICAgICAgICAgICBhbW91bnQgPSBwYXJzZUZsb2F0KGRhdGFSb3cudW9tLmNvc3QpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSk7CiAgICAgICAgICAgICAgICAgICAgeEFtb3VudCA9IGFtb3VudCAqIHBhcnNlRmxvYXQodGhpcy5wdXJjaGFzZS50eG5SYXRlKTsKICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29zdCIsIHBhcnNlRmxvYXQoZGF0YVJvdy51b20uY29zdCkpOwogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBhbW91bnQpOwogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIHhBbW91bnQpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGFtb3VudCA9IHBhcnNlRmxvYXQoZGF0YVJvdy5jb3N0KSAqIHBhcnNlRmxvYXQoZGF0YVJvdy5xdHkpOwogICAgICAgICAgICAgICAgICAgIHhBbW91bnQgPSBhbW91bnQgKiBwYXJzZUZsb2F0KHRoaXMucHVyY2hhc2UudHhuUmF0ZSk7CiAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvc3QiLCBwYXJzZUZsb2F0KGRhdGFSb3cuY29zdCkpOwogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBhbW91bnQpOwogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIHhBbW91bnQpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coImVycm9yIiwgZXJyKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJidW9tIiwge30pOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvbnZlcnNpb25SYXRlIiwgMSk7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29zdCIsIDApOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInFvaCIsIDApOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoIndhYyIsIDApOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIDApOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlQW1vdW50IiwgMCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJxdHkiOgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGFtb3VudCA9IHBhcnNlRmxvYXQoZGF0YVJvdy5jb3N0KSAqIHBhcnNlRmxvYXQoZGF0YVJvdy5xdHkpOwogICAgICAgICAgICAgIHhBbW91bnQgPSBhbW91bnQgKiBwYXJzZUZsb2F0KHRoaXMucHVyY2hhc2UudHhuUmF0ZSk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvc3QiLCBwYXJzZUZsb2F0KGRhdGFSb3cuY29zdCkpOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBhbW91bnQpOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIHhBbW91bnQpOwogICAgICAgICAgICB9IGNhdGNoIChfdW51c2VkMikgewogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjb3N0IiwgMCk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIDApOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIDApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJvdGhlclRheCI6CiAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygiLS0iLCBkYXRhUm93KQogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGUoKTsKICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnZGF0YVJvdycsIGRhdGFSb3cpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIFNlcnZpY2VEYXRlRWRpdG9yOiBmdW5jdGlvbiBTZXJ2aWNlRGF0ZUVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgcmVxdWlyZWQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0RhdGVQaWNrZXIoKTsgLy8gbGV0IGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCkKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKGRzLmRhdGEoKSkKICAgICAgLy8gLy8gY29uc3QgZGF0ZVN0cmluZyA9IGtlbmRvLnRvU3RyaW5nKChuZXcgRGF0ZShvcHRpb25zLm1vZGVsLml0ZW1zLnNlcnZpY2VEYXRlKSksIHRoaXMuaXRlbUxpbmUuZGF0ZUZvcm1hdCkKICAgICAgLy8gLy8gY29uc3QgZGF0ZVN0cmluZyA9IGtlbmRvLnRvU3RyaW5nKG9wdGlvbnMubW9kZWwuaXRlbXMuc2VydmljZURhdGUpCiAgICAgIC8vIGNvbnN0ICRpbnB1dCA9ICQoIjxpbnB1dCB2YWx1ZT0iICsgb3B0aW9ucy5tb2RlbC5zZXJ2aWNlRGF0ZSArICIgLz4iKS5hcHBlbmRUbyhjb250YWluZXIpCiAgICAgIC8vICRpbnB1dC5rZW5kb0RhdGVQaWNrZXIoKQogICAgICAvLyAvLyAkaW5wdXQuYXBwZW5kVG8oY29udGFpbmVyKQogICAgICAvLyAvLyBvcHRpb25zLm1vZGVsLml0ZW1zLnNlcnZpY2VEYXRlID0gZGF0ZVN0cmluZwogICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coJGlucHV0KQogICAgfSwKICAgIFNlcnZpY2VEYXRlVG9FZGl0b3I6IGZ1bmN0aW9uIFNlcnZpY2VEYXRlVG9FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IHJlcXVpcmVkIG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9EYXRlUGlja2VyKCk7CiAgICB9LAogICAgSXRlbURyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBJdGVtRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJjb250YWlucyIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGhlYWRlclRlbXBsYXRlOiAnPGRpdiBjbGFzcz0iZHJvcGRvd24taGVhZGVyIGstd2lkZ2V0IGstaGVhZGVyIj4nICsgIjxzcGFuPkl0ZW1zIDwvc3Bhbj4iICsgIjxzcGFuPjwvc3Bhbj4iICsgIjwvZGl2PiIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogcHJvZHVjdFZhcmlhbnRIYW5kbGVyLml0ZW1TZWFyY2hVUkwoJz9yZVVzZWQ9MicpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbmFtZTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNrdTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgfSAvLyBkYXRhOiB0aGlzLnZhcmlhbnRzCgogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFVPTURyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBVT01Ecm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJjb2RlIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogInVvbUNvbnZlcnRJZCIsCiAgICAgICAgY2FzY2FkZUZyb206ICJpdGVtIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9Y29kZSB8fCBgYCM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIHNlcnZlckZpbHRlcmluZzogdHJ1ZSwKICAgICAgICAgIHRyYW5zcG9ydDogewogICAgICAgICAgICByZWFkOiB7CiAgICAgICAgICAgICAgdXJsOiB1b21QcmljZUhhbmRsZXIudW9tUHJpY2VCeVByaWNlTGV2ZWxVUkwoImlkPSIgKyBvcHRpb25zLm1vZGVsLml0ZW0uaWQgKyAiJnBsSWQ9IiArIHRoaXMucHVyY2hhc2UucHJpY2VMZXZlbC5pZCArICImZGF0ZT0iICsgdGhpcy50eG5EYXRlICsgIiZuYXR1cmU9cHVyY2hhc2UiKQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhVHlwZTogImpzb24iCiAgICAgICAgICB9LAogICAgICAgICAgc2NoZW1hOiB7CiAgICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgICAgaWQ6ICJpZCIsCiAgICAgICAgICAgICAgZmllbGRzOiB7CiAgICAgICAgICAgICAgICBpZDogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSAvLyBuYW1lOiB7dHlwZTogInN0cmluZyJ9LAogICAgICAgICAgICAgICAgLy8gc2t1OiB7dHlwZTogInN0cmluZyJ9LAoKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG90YWw6IGZ1bmN0aW9uIHRvdGFsKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy8gZGF0YTogdGhpcy52YXJpYW50cwoKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBEaXNjb3VudEl0ZW1Ecm9wRG93bkVkaXRvcjogZnVuY3Rpb24gRGlzY291bnRJdGVtRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgY2FzY2FkZUZyb206ICJpdGVtIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9Y29kZSMgLSAjPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogZGlzY291bnRJdGVtSGFuZGxlci5nZXRVUkwoRElTQ09VTlRfVFlQRSkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIgogICAgICAgICAgfSwKICAgICAgICAgIHNjaGVtYTogewogICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgICAgIGZpZWxkczogewogICAgICAgICAgICAgICAgaWQ6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0gLy8gbmFtZToge3R5cGU6ICJzdHJpbmcifSwKICAgICAgICAgICAgICAgIC8vIHNrdToge3R5cGU6ICJzdHJpbmcifSwKCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgVmF0VGF4RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIFZhdFRheERyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogImRlZmF1bHRUYXgiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1kZWZhdWx0VGF4Izwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS1TZWxlY3QtLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLnRheAogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIEVtcGxveWVlRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIEVtcGxveWVlRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IGRhdGEtYmluZD0idmFsdWU6JyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb011bHRpU2VsZWN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgc3VnZ2VzdDogdHJ1ZSwKICAgICAgICBmaWx0ZXI6ICJjb250YWlucyIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGhlYWRlclRlbXBsYXRlOiAnPGRpdiBjbGFzcz0iZHJvcGRvd24taGVhZGVyIGstd2lkZ2V0IGstaGVhZGVyIj4nICsgIjxzcGFuPkVtcGxveWVlIDwvc3Bhbj4iICsgIjxzcGFuPjwvc3Bhbj4iICsgIjwvZGl2PiIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogZW1wbG95ZWVIYW5kbGVyLnNlYXJjaFVSTCgpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbmFtZTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGxhc3ROYW1lOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgcm93TnVtYmVyVG1wbDogZnVuY3Rpb24gcm93TnVtYmVyVG1wbChkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgYWRkUm93OiBmdW5jdGlvbiBhZGRSb3coKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgdG90YWwgPSBkcy50b3RhbCgpOwogICAgICB0aGlzLml0ZW1MaW5lLmlkID0gaXRlbUxpbmVQcmVmaXggKyB1dWlkLnYxKCk7CiAgICAgIHRoaXMuaXRlbUxpbmUuZGVjaW1hbEZvcm1hdCA9ICJuIiArIHRoaXMucHVyY2hhc2VGb3JtQ29udGVudC5kZWNpbWFsOwogICAgICB0aGlzLml0ZW1MaW5lLmlzRWRpdGFibGUgPSB0cnVlOwogICAgICBkcy5pbnNlcnQodG90YWwsIHRoaXMuaXRlbUxpbmUpOyAvLyBrZW5kby5qUXVlcnkoKS5hZGRDbGFzcygnZWRpdCcpCiAgICAgIC8vIHRoaXMuaXRlbUxpbmVzLnB1c2godGhpcy5pdGVtTGluZSkKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCdpdGVtIExpbmUnLCB0aGlzLml0ZW1MaW5lKQogICAgfSwKICAgIG9uUGF5bWVudFRlcm1DaGFuZ2VkOiBmdW5jdGlvbiBvblBheW1lbnRUZXJtQ2hhbmdlZCgpIHsKICAgICAgLy8gdGhpcy5vbkludm9pY2VEYXRlQ2hhbmdlZCgpOwogICAgICBpZiAodGhpcy52ZW5kb3IpIHsKICAgICAgICB2YXIgcGF5bWVudFRlcm0gPSB0aGlzLnB1cmNoYXNlLnBheW1lbnRUZXJtIHx8IHt9OwogICAgICAgIHZhciBuZXREdWUgPSBwYXltZW50VGVybS5uZXREdWUgfHwgMDsKICAgICAgICB2YXIgc29tZURhdGUgPSBuZXcgRGF0ZSh0aGlzLnB1cmNoYXNlLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgc29tZURhdGUuc2V0RGF0ZShzb21lRGF0ZS5nZXREYXRlKCkgKyBwYXJzZUludChuZXREdWUpKTsgLy9udW1iZXIgIG9mIGRheXMgdG8gYWRkLCBlLnguIDE1IGRheXMKCiAgICAgICAgdGhpcy5wdXJjaGFzZS5kdWVEYXRlID0gc29tZURhdGU7IC8vIHdpbmRvdy5jb25zb2xlLmxvZygiaW0iLCBzb21lRGF0ZSwgbmV0RHVlKTsKICAgICAgfQogICAgfSwKICAgIG9uSW52b2ljZURhdGVDaGFuZ2VkOiBmdW5jdGlvbiBvbkludm9pY2VEYXRlQ2hhbmdlZCgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5sb2FkUGF5bWVudFRlcm1MaXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczgubG9hZENyZWRpdExpbWl0KCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczgubG9hZEN1c3RvbWVyQmFsYW5jZShfdGhpczgudmVuZG9yLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5vblByaWNlTGV2ZWxDaGFuZ2UoKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX3RoaXM4Lm1vbnRoT2YgPSBrZW5kby50b1N0cmluZyhuZXcgRGF0ZShfdGhpczgudHhuRGF0ZSksICd5eXl5LU1NJyk7IC8vIGlmICh0aGlzLnZlbmRvcikgewogICAgICAgICAgICAgICAgLy8gICAgIGlmICh0aGlzLnB1cmNoYXNlLmhhc093blByb3BlcnR5KCJwYXltZW50VGVybSIpKSB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmICh0aGlzLnB1cmNoYXNlLnBheW1lbnRUZXJtLmhhc093blByb3BlcnR5KCJuZXREdWUiKSkgewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgY29uc3QgbmV0RHVlID0gdGhpcy5wdXJjaGFzZS5wYXltZW50VGVybS5uZXREdWU7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBjb25zdCBzb21lRGF0ZSA9IG5ldyBEYXRlKHRoaXMudHhuRGF0ZSk7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBzb21lRGF0ZS5zZXREYXRlKHNvbWVEYXRlLmdldERhdGUoKSArIHBhcnNlSW50KG5ldER1ZSkpOyAvL251bWJlciAgb2YgZGF5cyB0byBhZGQsIGUueC4gMTUgZGF5cwogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5wdXJjaGFzZS5kdWVEYXRlID0gc29tZURhdGUudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOwogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCdpbScsIHNvbWVEYXRlLCBuZXREdWUpCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzOC4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM4LmdlbmVyYXRlTnVtYmVyKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM4LmxvYWRUcmFuc2FjdGlvblJhdGUoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQcmVmaXg6IGZ1bmN0aW9uIGxvYWRQcmVmaXgoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgcHJlZml4SGFuZGxlci5nZXQoInB1cmNoYXNlIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkucHVyY2hhc2VUeXBlcyA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM5LnB1cmNoYXNlVHlwZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5wdXJjaGFzZS50cmFuc2FjdGlvblR5cGUgPSBfdGhpczkucHVyY2hhc2VUeXBlc1swXTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzOS4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5nZW5lcmF0ZU51bWJlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFByaWNlTGV2ZWw6IGZ1bmN0aW9uIGxvYWRQcmljZUxldmVsKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3RyRmlsdGVyID0gJz8mbmF0dXJlPScgKyBOQVRVUkU7CiAgICAgICAgICAgICAgICAgICAgcHJpY2VMZXZlbEhhbmRsZXIuZ2V0KHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLnByaWNlTGV2ZWwgPSByZXM7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTAucHJpY2VMZXZlbC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAucHVyY2hhc2UucHJpY2VMZXZlbCA9IF90aGlzMTAucHJpY2VMZXZlbFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWREaXNjb3VudEl0ZW06IGZ1bmN0aW9uIGxvYWREaXNjb3VudEl0ZW0oKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIGRpc2NvdW50SXRlbUhhbmRsZXIubGlzdChESVNDT1VOVF9UWVBFKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5zcGVjaWZpY0Rpc2NvdW50SXRlbSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkT3RoZXJDaGFyZ2U6IGZ1bmN0aW9uIGxvYWRPdGhlckNoYXJnZSgpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBvdGhlckNoYXJnZUhhbmRsZXIubGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLm90aGVyQ2hhcmdlTGlzdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRBY2NvdW50OiBmdW5jdGlvbiBsb2FkQWNjb3VudCgpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBhY2NvdW50SGFuZGxlci5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy9SZWNlaXZhYmxlIEFjY291bnQKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLmFjY1BheWFibGUgPSByZXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYWNjb3VudF90eXBlLm51bWJlciA9PT0gMTg7CiAgICAgICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0bSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdG0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBpdG0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdG0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbF9uYW1lOiBpdG0ubG9jYWxfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGl0bS5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfdGF4YWJsZTogaXRtLmlzX3RheGFibGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuaGppQWNjQ29kZTogaXRtLmJhbmhqaUFjY0NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfY29kZTogaXRtLmdyb3VwX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50X2FjY291bnQ6IGl0bS5wYXJlbnRfYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2NvZGU6IGl0bS50eXBlX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudF90eXBlOiBpdG0uYWNjb3VudF90eXBlCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMy5hY2NQYXlhYmxlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5wdXJjaGFzZS5hcEFjYyA9IF90aGlzMTMuYWNjUGF5YWJsZVswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLmFjY1dpdGhob2xkaW5nRXhwZW5zZSA9IHJlcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQobS5iYW5oamlBY2NDb2RlKSA9PT0gODQzMDAwOwogICAgICAgICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogaXRtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRtLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxfbmFtZTogaXRtLmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpdG0ubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0bS5pc190YXhhYmxlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmhqaUFjY0NvZGU6IGl0bS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX2NvZGU6IGl0bS5ncm91cF9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdG0ucGFyZW50X2FjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9jb2RlOiBpdG0udHlwZV9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRfdHlwZTogaXRtLmFjY291bnRfdHlwZQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQYXltZW50VGVybTogZnVuY3Rpb24gbG9hZFBheW1lbnRUZXJtKCkgewogICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBzdHJGaWx0ZXIgPSAiP3R5cGU9cG10LXN1cHBsaWVyIjsKICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnBheW1lbnRUZXJtcyA9IFtdOwogICAgICAgICAgICAgICAgICAgIHNldHRpbmdzSGFuZGxlci5nZXRQYXltZW50VGVybShzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5wYXltZW50VGVybXMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE0LnBheW1lbnRUZXJtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQucHVyY2hhc2UucGF5bWVudFRlcm0gPSBfdGhpczE0LnBheW1lbnRUZXJtc1swXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZExvY2F0aW9uOiBmdW5jdGlvbiBsb2FkTG9jYXRpb24oKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICB2YXIgcm9sZVR5cGUsIHJvbGVEYXRhLCBsb2NhdGlvbiwgbG9jYXRpb25EZWZhdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMxNS5sb2NhdGlvbnMgPSBbXTsKICAgICAgICAgICAgICAgIHJvbGVUeXBlID0gZGF0YVN0b3JlLnJvbGVUeXBlIHx8IDA7CiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJyBjb25zdCByb2xlVHlwZSA9IGRhdGFTdG9yZS5yb2xlVHlwZSB8fCAwJywgZGF0YVN0b3JlKTsKCiAgICAgICAgICAgICAgICBpZiAocm9sZVR5cGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgaWYgKGRhdGFTdG9yZS5yb2xlRGF0YSkgewogICAgICAgICAgICAgICAgICAgIHJvbGVEYXRhID0gZGF0YVN0b3JlLnJvbGVEYXRhIHx8IFtdOwogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gcm9sZURhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdG0udHlwZSA9PT0gJ2xvY2F0aW9uJzsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbkRlZmF1bHQgPSBsb2NhdGlvbi5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmlzRGVmYXVsdCA9PT0gMTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBfdGhpczE1LmxvY2F0aW9ucyA9IGxvY2F0aW9uOwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNS4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQgfHwgX3RoaXMxNS4kcm91dGUucGFyYW1zLmlkID09PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uRGVmYXVsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUucHVyY2hhc2UubG9jYXRpb24gPSBsb2NhdGlvbkRlZmF1bHRbMF07CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJvbGVUeXBlID09PSAxKSB7CiAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5sb2NhdGlvbnMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uSGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LmxvY2F0aW9ucyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQcm9qZWN0QnlDdXN0b21lcjogZnVuY3Rpb24gbG9hZFByb2plY3RCeUN1c3RvbWVyKCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7CiAgICAgICAgdmFyIHJvbGVUeXBlLCByb2xlRGF0YSwgcHJvamVjdCwgcHJvamVjdERlZmF1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczE2LmN1c3RvbWVyUHJvamVjdHMgPSBbXTsKICAgICAgICAgICAgICAgIHJvbGVUeXBlID0gZGF0YVN0b3JlLnJvbGVUeXBlIHx8IDA7CgogICAgICAgICAgICAgICAgaWYgKHJvbGVUeXBlID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIGlmIChkYXRhU3RvcmUucm9sZURhdGEpIHsKICAgICAgICAgICAgICAgICAgICByb2xlRGF0YSA9IGRhdGFTdG9yZS5yb2xlRGF0YSB8fCBbXTsKICAgICAgICAgICAgICAgICAgICBwcm9qZWN0ID0gcm9sZURhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdG0udHlwZSA9PT0gJ3Byb2plY3QnOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTYuY3VzdG9tZXJQcm9qZWN0cyA9IHByb2plY3Q7IC8vIHByb2plY3QuZm9yRWFjaChrID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29uc3QgY3VzdG9tZXJzID0gay5jdXN0b21lcnMgfHwgW10KICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29uc3QgcHJvQ3VzdG9tZXIgPSBjdXN0b21lcnMuZmlsdGVyKG4gPT4gbi5jdXN0b21lci5pZCA9PT0gdGhpcy5jdXN0b21lci5pZCkKICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKHByb0N1c3RvbWVyLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoaXMuY3VzdG9tZXJQcm9qZWN0cy5wdXNoKGspCiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgICAgICAgICAvLyB9KQoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNi4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQgfHwgX3RoaXMxNi4kcm91dGUucGFyYW1zLmlkID09PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgcHJvamVjdERlZmF1bHQgPSBfdGhpczE2LmN1c3RvbWVyUHJvamVjdHMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmlzRGVmYXVsdCA9PT0gMTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9qZWN0RGVmYXVsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYucHVyY2hhc2UucHJvamVjdCA9IHByb2plY3REZWZhdWx0WzBdOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyb2xlVHlwZSA9PT0gMSkgewogICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNi52ZW5kb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvamVjdEhhbmRsZXIuZ2V0QnlTdXBwbGllcih0aGlzLnZlbmRvci5pZCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5jdXN0b21lclByb2plY3RzID0gcmVzLmRhdGEuZGF0YTsgLy8gaWYgKHRoaXMuY3VzdG9tZXJQcm9qZWN0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5wdXJjaGFzZS5wcm9qZWN0ID0gdGhpcy5jdXN0b21lclByb2plY3RzWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRDdXN0b21lckJhbGFuY2U6IGZ1bmN0aW9uIGxvYWRDdXN0b21lckJhbGFuY2UoaWQpIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3RyRmlsdGVyID0gaWQgKyAiP3R5cGU9YmFsIjsKICAgICAgICAgICAgICAgICAgICBfdGhpczE3LnB1cmNoYXNlLmN1cnJlbnRCYWxhbmNlID0gMDsKICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5iYWxhbmNlKHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE3LnB1cmNoYXNlLmN1cnJlbnRCYWxhbmNlID0gZGF0YVswXS5iYWxhbmNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE3LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQ3VzdG9tZXJEZXBvc2l0QmFsYW5jZTogZnVuY3Rpb24gbG9hZEN1c3RvbWVyRGVwb3NpdEJhbGFuY2UoaWQpIHsKICAgICAgdmFyIF90aGlzMTggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3RyRmlsdGVyID0gaWQgKyAiP3R5cGU9ZGVwIjsKICAgICAgICAgICAgICAgICAgICBfdGhpczE4LnB1cmNoYXNlLmRlcG9zaXRBbW91bnQgPSAwOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTgucHVyY2hhc2UuZGVwb3NpdERlZHVjdGlvbiA9IDA7CiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIuYmFsYW5jZShzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFtb3VudERlcG9zaXQgPSBkYXRhWzBdLmJhbGFuY2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGFtb3VudERlcG9zaXQsICJiYWxhIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOC5wdXJjaGFzZS5kZXBvc2l0QW1vdW50ID0gYW1vdW50RGVwb3NpdCAvIF90aGlzMTgucHVyY2hhc2UudHhuUmF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY3JlZGl0TGltaXRVc2FnZTogZnVuY3Rpb24gY3JlZGl0TGltaXRVc2FnZShiYWxhbmNlLCBjcmVkaXRMaW1pdCkgewogICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcoYmFsYW5jZSAvIGNyZWRpdExpbWl0ICogMTAwLCAibiIuY29uY2F0KHRoaXMucHVyY2hhc2VGb3JtQ29udGVudC5kZWNpbWFsKSkgKyAiICUiOwogICAgfSwKICAgIGxvYWRFbXBsb3llZUNlbnRlcjogZnVuY3Rpb24gbG9hZEVtcGxveWVlQ2VudGVyKCkgewogICAgICB2YXIgX3RoaXMxOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTcoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTkuZW1wbG95ZWVzID0gW107CiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVIYW5kbGVyLmNlbnRlcih1bmRlZmluZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS5zaG93TG9hZGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE5LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTkuZW1wbG95ZWVzID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE5LmVtcGxveWVlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS5wdXJjaGFzZS5lbXBsb3llZSA9IF90aGlzMTkuZW1wbG95ZWVzWzBdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE5LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkU2VnbWVudDogZnVuY3Rpb24gbG9hZFNlZ21lbnQoKSB7CiAgICAgIHZhciBfdGhpczIwID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOCgpIHsKICAgICAgICB2YXIgcm9sZVR5cGUsIHJvbGVEYXRhLCBzZWdtZW50LCBzZWdtZW50RGVmYXVsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE4JChfY29udGV4dDE4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTgucHJldiA9IF9jb250ZXh0MTgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMjAuc2VnbWVudHMgPSBbXTsKICAgICAgICAgICAgICAgIHJvbGVUeXBlID0gZGF0YVN0b3JlLnJvbGVUeXBlIHx8IDA7CgogICAgICAgICAgICAgICAgaWYgKHJvbGVUeXBlID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIGlmIChkYXRhU3RvcmUucm9sZURhdGEpIHsKICAgICAgICAgICAgICAgICAgICByb2xlRGF0YSA9IGRhdGFTdG9yZS5yb2xlRGF0YSB8fCBbXTsKICAgICAgICAgICAgICAgICAgICBzZWdtZW50ID0gcm9sZURhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdG0udHlwZSA9PT0gJ3NlZ21lbnQnOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHNlZ21lbnREZWZhdWx0ID0gc2VnbWVudC5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmlzRGVmYXVsdCA9PT0gMTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBfdGhpczIwLnNlZ21lbnRzID0gc2VnbWVudDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjAuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkIHx8IF90aGlzMjAuJHJvdXRlLnBhcmFtcy5pZCA9PT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWdtZW50RGVmYXVsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjAucHVyY2hhc2Uuc2VnbWVudCA9IHNlZ21lbnREZWZhdWx0WzBdOwogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ2RhdGFTdG9yZS0tc2VnbWVudERlZmF1bHQnLCBzZWdtZW50RGVmYXVsdCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJvbGVUeXBlID09PSAxKSB7CiAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMC5zZWdtZW50cyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NIYW5kbGVyLmdldFNlZygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMC5zZWdtZW50cyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFRheDogZnVuY3Rpb24gbG9hZFRheCgpIHsKICAgICAgdmFyIF90aGlzMjEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE5KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTkkKF9jb250ZXh0MTkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBzZXR0aW5nSGFuZGxlci5nZXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXhlcyA9IHJlczsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjEudGF4ID0gdGF4ZXMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAobS50YXhUeXBlLnR5cGVJZCA9PT0gMSB8fCBtLnRheFR5cGUudHlwZUlkID09PSAxMCB8fCBtLnRheFR5cGUudHlwZUlkID09PSAyKSAmJiBtLnRyYW5zYWN0aW9uVHlwZSA9PT0gIlB1cmNoYXNlIjsKICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyB2YWx1YWJsZSB0YXgKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25TYXZlQ2xvc2U6IGZ1bmN0aW9uIG9uU2F2ZUNsb3NlKHNhdmVTZW5kKSB7CiAgICAgIHZhciBfdGhpczIyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMCgpIHsKICAgICAgICB2YXIgaWQsIGRzLCBkMSwgZGF0YVZhbGlkYXRlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjAkKF9jb250ZXh0MjApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMC5wcmV2ID0gX2NvbnRleHQyMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzMjIuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMjIuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMjIudHJhbnNhY3Rpb25SYXRlID09PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIyLiRzbm90aWZ5LmVycm9yKGkxOG4udCgic2V0X2V4Y2hhbmdlX3JhdGUiKSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWQgPSAiIjsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyMi52ZW5kb3IuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgaWQgPSBfdGhpczIyLnZlbmRvci5pZCB8fCAiIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShpZCA9PT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIyLiRzbm90aWZ5LmVycm9yKCJ2ZW5kb3IgaXMgcmVxdWlyZWQiKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyMi5wdXJjaGFzZS5iaWxsTm8gPT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIyLiRzbm90aWZ5LmVycm9yKCJWZW5kb3IgSW52b2ljZSBObyBpcyByZXF1aXJlZCIpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyMi4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMjIuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBkcyA9IF90aGlzMjIuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwogICAgICAgICAgICAgICAgZDEgPSBkcy5kYXRhKCk7CiAgICAgICAgICAgICAgICBkYXRhVmFsaWRhdGUgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMi5hdXRvQ2FsY3VsYXRlKCk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBkMS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLml0ZW0gPT0gdW5kZWZpbmVkIHx8IHZhbHVlLml0ZW0uaWQgPT0gdW5kZWZpbmVkIHx8IHZhbHVlLml0ZW0uaWQgPT0gbnVsbCB8fCB2YWx1ZS51b20gPT0gdW5kZWZpbmVkIHx8IHZhbHVlLnVvbS51b20uaWQgPT0gdW5kZWZpbmVkIHx8IHZhbHVlLnVvbS51b20uaWQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMjIuJHNub3RpZnkuZXJyb3IoIlBsZWFzZSBjaGVjayBJdGVtIG9yIFVPTSAgb24gcm93ICIgKyAoaW5kZXggKyAxKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZGF0YVZhbGlkYXRlICs9IDE7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChkMS5sZW5ndGggPT0gZGF0YVZhbGlkYXRlKSB7CiAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgICAgdmFyIGlzQXV0b0dlbmVyYXRlID0gMTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyMi4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuRGF0ZSA9IG5ldyBEYXRlKF90aGlzMjIudHhuRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuRGF0ZUludm9pY2UgPSBuZXcgRGF0ZShfdGhpczIyLnB1cmNoYXNlLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuRGF0ZU0gPSB0cmFuRGF0ZS5nZXRGdWxsWWVhcigpICsgdHJhbkRhdGUuZ2V0TW9udGgoKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5EYXRlSW52b2ljZU0gPSB0cmFuRGF0ZUludm9pY2UuZ2V0RnVsbFllYXIoKSArIHRyYW5EYXRlSW52b2ljZS5nZXRNb250aCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5EYXRlTSA9PT0gdHJhbkRhdGVJbnZvaWNlTSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXV0b0dlbmVyYXRlID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtTGluZURTID0gX3RoaXMyMi4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCk7CgogICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFSb3cgPSBpdGVtTGluZURTLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8uYW1vdW50ID4gMDsKICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEl0ZW1MaW5lTW9kZWwobik7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVJvdy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBfdGhpczIyLnB1cmNoYXNlLmlkID8gX3RoaXMyMi5wdXJjaGFzZS5pZCA6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IF90aGlzMjIucHVyY2hhc2UudXVpZCA/IF90aGlzMjIucHVyY2hhc2UudXVpZCA6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIGpvdXJuYWxfdXVpZDogX3RoaXMyMi5wdXJjaGFzZS5qb3VybmFsX3V1aWQgPyBfdGhpczIyLnB1cmNoYXNlLmpvdXJuYWxfdXVpZCA6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIGpSYXc6IF90aGlzMjIualJhdywKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBUUkFOU0FDVElPTl9UWVBFLAogICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogX3RoaXMyMi5wdXJjaGFzZS5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWJicjogX3RoaXMyMi5wdXJjaGFzZS50cmFuc2FjdGlvblR5cGUuYWJiciwKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IF90aGlzMjIudHhuRGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGVUWjogSGVscGVyLnRvSVNPRGF0ZShfdGhpczIyLnR4bkRhdGUpLAogICAgICAgICAgICAgICAgICAgICAgICAgIGR1ZURhdGU6IF90aGlzMjIucHVyY2hhc2UuZHVlRGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aE9mOiBfdGhpczIyLm1vbnRoT2YsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudENvZGU6IF90aGlzMjIucHVyY2hhc2UucGF5bWVudENvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYmlsbE5vOiBfdGhpczIyLnB1cmNoYXNlLmJpbGxObywKICAgICAgICAgICAgICAgICAgICAgICAgICBiaWxsRGF0ZTogX3RoaXMyMi5iaWxsRGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwbGllcjogX3RoaXMyMi5wdXJjaGFzZS5zdXBwbGllciwKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvblR5cGU6IF90aGlzMjIucHVyY2hhc2UudHJhbnNhY3Rpb25UeXBlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRUZXJtOiBfdGhpczIyLnB1cmNoYXNlLnBheW1lbnRUZXJtLAogICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50UHJvbW90aW9uOiB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhcEFjYzogX3RoaXMyMi5wdXJjaGFzZS5hcEFjYywKICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogX3RoaXMyMi5wdXJjaGFzZS5jdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eG5SYXRlOiBfdGhpczIyLnB1cmNoYXNlLnR4blJhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0ZTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVJhdGU6IF90aGlzMjIucHVyY2hhc2UuZXhjaGFuZ2VSYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBfdGhpczIyLnB1cmNoYXNlLmV4Y2hhbmdlQW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlTGV2ZWw6IF90aGlzMjIucHVyY2hhc2UucHJpY2VMZXZlbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtTGluZXM6IGRhdGFSb3csCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudDogX3RoaXMyMi5wdXJjaGFzZS5zZWdtZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBfdGhpczIyLnB1cmNoYXNlLmxvY2F0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Q6IF90aGlzMjIucHVyY2hhc2UucHJvamVjdCwKICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZTogX3RoaXMyMi5wdXJjaGFzZS5lbXBsb3llZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzczogX3RoaXMyMi5wdXJjaGFzZS5iaWxsaW5nQWRkcmVzcywKICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxpdmVyeUFkZHJlc3M6IF90aGlzMjIucHVyY2hhc2UuZGVsaXZlcnlBZGRyZXNzLAogICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGl2ZXJ5RGF0ZVRpbWU6IF90aGlzMjIucHVyY2hhc2UuZGVsaXZlcnlEYXRlVGltZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbk5vdGU6IF90aGlzMjIucHVyY2hhc2UudHJhbnNhY3Rpb25Ob3RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGpvdXJuYWxOb3RlOiBfdGhpczIyLnB1cmNoYXNlLmpvdXJuYWxOb3RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRvdGFsOiBfdGhpczIyLnB1cmNoYXNlLnN1YlRvdGFsLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiBfdGhpczIyLnB1cmNoYXNlLnRvdGFsLAogICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50VG90YWw6IF90aGlzMjIucHVyY2hhc2UuZGlzY291bnRUb3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZURpc2NvdW50VG90YWw6IF90aGlzMjIucHVyY2hhc2UuZGlzY291bnRUb3RhbCAqIChfdGhpczIyLnB1cmNoYXNlLnR4blJhdGUgfHwgMSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWNEaXNjb3VudFRvdGFsOiBfdGhpczIyLnB1cmNoYXNlLnNwZWNpZmljRGlzY291bnRUb3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxpdmVyeUZlZTogX3RoaXMyMi5wdXJjaGFzZS5kZWxpdmVyeUZlZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFRheEFtb3VudDogX3RoaXMyMi5wdXJjaGFzZS50b3RhbFRheEFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBvc2l0QW1vdW50OiBfdGhpczIyLnB1cmNoYXNlLmRlcG9zaXRBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwb3NpdERlZHVjdGlvbjogX3RoaXMyMi5wdXJjaGFzZS5kZXBvc2l0RGVkdWN0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmluZ0Ftb3VudDogX3RoaXMyMi5wdXJjaGFzZS5yZW1haW5pbmdBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50RHVlOiBfdGhpczIyLnB1cmNoYXNlLmFtb3VudER1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QmFsYW5jZTogX3RoaXMyMi5wdXJjaGFzZS5jdXJyZW50QmFsYW5jZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBiYWxhbmNlOiBfdGhpczIyLnB1cmNoYXNlLmJhbGFuY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGl0TGltaXQ6IF90aGlzMjIucHVyY2hhc2UuY3JlZGl0TGltaXQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZU9wdGlvbjogX3RoaXMyMi5wdXJjaGFzZS5zYXZlT3B0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhcHByb3ZlZEJ5OiBfdGhpczIyLnB1cmNoYXNlLmFwcHJvdmVkQnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybVRlbXBsYXRlOiB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpY0Rpc2NvdW50SXRlbTogX3RoaXMyMi5wdXJjaGFzZS5zcGVjaWZpY0Rpc2NvdW50SXRlbSwKICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlckNoYXJnZTogX3RoaXMyMi5tT3RoZXJDaGFyZ2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJDaGFyZ2VBbW91bnQ6IF90aGlzMjIucHVyY2hhc2Uub3RoZXJDaGFyZ2VBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGF4TGlzdFRvdGFsOiBfdGhpczIyLnRheExpc3RUb3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwbGllckRpc2NvdW50SXRlbTogX3RoaXMyMi5zdXBwbGllckRpc2NvdW50SXRlbSwKICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IF90aGlzMjIucHVyY2hhc2UuY3JlYXRlZEF0LAogICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1TdWJ0b3RhbDogX3RoaXMyMi5wdXJjaGFzZS5pdGVtU3VidG90YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VJdGVtU3VidG90YWw6IF90aGlzMjIucHVyY2hhc2UuZXhjaGFuZ2VJdGVtU3VidG90YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZVN1YnRvdGFsOiBfdGhpczIyLnB1cmNoYXNlLnNlcnZpY2VTdWJ0b3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVNlcnZpY2VTdWJ0b3RhbDogX3RoaXMyMi5wdXJjaGFzZS5leGNoYW5nZVNlcnZpY2VTdWJ0b3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eG5JdG1TdWJ0b3RhbDogX3RoaXMyMi5wdXJjaGFzZS50eG5JdG1TdWJ0b3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVR4bkl0bVN1YnRvdGFsOiBfdGhpczIyLnB1cmNoYXNlLmV4Y2hhbmdlVHhuSXRtU3VidG90YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbURpc2NvdW50OiBfdGhpczIyLnB1cmNoYXNlLml0ZW1EaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUl0ZW1EaXNjb3VudDogX3RoaXMyMi5wdXJjaGFzZS5leGNoYW5nZUl0ZW1EaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlRGlzY291bnQ6IF90aGlzMjIucHVyY2hhc2Uuc2VydmljZURpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlU2VydmljZURpc2NvdW50OiBfdGhpczIyLnB1cmNoYXNlLmV4Y2hhbmdlU2VydmljZURpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHR4bkl0bURpc2NvdW50OiBfdGhpczIyLnB1cmNoYXNlLnR4bkl0bURpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlVHhuSXRtRGlzY291bnQ6IF90aGlzMjIucHVyY2hhc2UuZXhjaGFuZ2VUeG5JdG1EaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoaG9sZGluZ1RheEFtb3VudDogX3RoaXMyMi5wdXJjaGFzZS53aXRoaG9sZGluZ1RheEFtb3VudCB8fCAwLAogICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZVRheEFtb3VudDogX3RoaXMyMi5wdXJjaGFzZS5pbmNsdXNpdmVUYXhBbW91bnQgfHwgMCwKICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZWRVc2VyOiBfdGhpczIyLmxvZ2dlZFVzZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZVNlbmQ6IHNhdmVTZW5kLAogICAgICAgICAgICAgICAgICAgICAgICAgIHJlZkZyb206IF90aGlzMjIucHVyY2hhc2UucmVmRnJvbSB8fCBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICByZWZUbzogX3RoaXMyMi5wdXJjaGFzZS5yZWZUbyB8fCBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxlVGF4RGV0YWlsOiBfdGhpczIyLnB1cmNoYXNlLnNhbGVUYXhEZXRhaWwgfHwgW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQWRkaXRpb25hbENvc3Q6IF90aGlzMjIucHVyY2hhc2UuYWRkaXRpb25hbENvc3QubGVuZ3RoID4gMCwKICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsQ29zdDogX3RoaXMyMi5wdXJjaGFzZS5hZGRpdGlvbmFsQ29zdCB8fCBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsQ29zdE1ldGhvZDogX3RoaXMyMi5wdXJjaGFzZS5hZGRpdGlvbmFsQ29zdE1ldGhvZCB8fCAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsQ29zdFRvdGFsOiBfdGhpczIyLmFkZGl0aW9uYWxDb3N0VG90YWwgfHwgMCwKICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F1dG9HZW5lcmF0ZTogaXNBdXRvR2VuZXJhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uVHlwZTogX3RoaXMyMi4kcm91dGUucGFyYW1zLmlkID8gX3RoaXMyMi4kcm91dGUucXVlcnkudHlwZSA6ICJuZXciCiAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyMi4kcm91dGUucXVlcnkudHlwZSA9PT0gInJlY3VycmluZyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmlkID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5jcmVhdGVQdXJjaGFzZShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5jbG9zZShyZXNwb25zZS5kYXRhLmRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMi5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIuJHNub3RpZnkuc3VjY2VzcygiU3VjY2Vzc2Z1bGx5Iik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNhdmVTZW5kID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIuY2xlYXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIuY2xvc2UocmVzcG9uc2UuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMi5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIyLiRzbm90aWZ5LmVycm9yKCJTb21ldGhpbmcgd2VudCB3cm9uZyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIyLmVycm9ycy5wdXNoKGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUHVyY2hhc2VGb3JtQ29udGVudDogZnVuY3Rpb24gbG9hZFB1cmNoYXNlRm9ybUNvbnRlbnQoKSB7CiAgICAgIHZhciBfdGhpczIzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIxJChfY29udGV4dDIxKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjEucHJldiA9IF9jb250ZXh0MjEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgcHVyY2hhc2VGb3JtQ29udGVudEhhbmRsZXIubGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5wdXJjaGFzZUZvcm1Db250ZW50ID0gZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIzLmRlY2ltYWxGb3JtYXQgPSAibiIgKyBfdGhpczIzLnB1cmNoYXNlRm9ybUNvbnRlbnQuZGVjaW1hbDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5pbml0RGF0YSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDUwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZShkYXRhKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJWZW5kb3JzIiwKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2luZG93Lmhpc3RvcnkuZ28oLTEpOyAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgLy8gICAgIHBhdGg6ICJpbnZvaWNlX3ZpZXciLAogICAgICAgIC8vICAgICBuYW1lOiAiSW52b2ljZSBWaWV3IiwKICAgICAgICAvLyAgICAgcGFyYW1zOiB7CiAgICAgICAgLy8gICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gfSkKICAgICAgfSAvLyB3aW5kb3cuY29uc29sZS5sb2coZGF0YSwgJ2RhdGEnKQoKICAgIH0sCiAgICBzYXZlTmV3OiBmdW5jdGlvbiBzYXZlTmV3KCkge30sCiAgICByZW1vdmVSb3c6IGZ1bmN0aW9uIHJlbW92ZVJvdyhlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkSXRlbUxpbmUiKS5kYXRhKCJrZW5kb0dyaWQiKSwKICAgICAgICAgIGRhdGFTb3VyY2UgPSBncmlkLmRhdGFTb3VyY2UsCiAgICAgICAgICBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwoKICAgICAgaWYgKGRhdGFTb3VyY2UudG90YWwoKSA+IDEpIHsKICAgICAgICBkYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7CiAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICAgIH0KICAgIH0sCiAgICBnZW5lcmF0ZU51bWJlcjogZnVuY3Rpb24gZ2VuZXJhdGVOdW1iZXIoKSB7CiAgICAgIHZhciBfdGhpczI0ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICB2YXIgdHJhbkRhdGUgPSBuZXcgRGF0ZSh0aGlzLnR4bkRhdGUpOwogICAgICAgIHZhciB0cmFuRGF0ZUludm9pY2UgPSBuZXcgRGF0ZSh0aGlzLnB1cmNoYXNlLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgdmFyIHRyYW5EYXRlTSA9IHRyYW5EYXRlLmdldEZ1bGxZZWFyKCkgKyB0cmFuRGF0ZS5nZXRNb250aCgpOwogICAgICAgIHZhciB0cmFuRGF0ZUludm9pY2VNID0gdHJhbkRhdGVJbnZvaWNlLmdldEZ1bGxZZWFyKCkgKyB0cmFuRGF0ZUludm9pY2UuZ2V0TW9udGgoKTsKCiAgICAgICAgaWYgKHRyYW5EYXRlTSA9PT0gdHJhbkRhdGVJbnZvaWNlTSkgewogICAgICAgICAgdGhpcy5wdXJjaGFzZS5yZWZlcmVuY2VObyA9IHRoaXMucmVmZXJlbmNlTm87CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy50eG5EYXRlICE9PSAiIiAmJiB0aGlzLnB1cmNoYXNlVHlwZXMubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgYWJicjogdGhpcy5wdXJjaGFzZS50cmFuc2FjdGlvblR5cGUuYWJiciwKICAgICAgICAgIHN0cnVjdHVyZTogdGhpcy5wdXJjaGFzZS50cmFuc2FjdGlvblR5cGUuc3RydWN0dXJlLAogICAgICAgICAgdHJhbnNhY3Rpb25EYXRlOiB0aGlzLnR4bkRhdGUsCiAgICAgICAgICBzZXF1Y2VuY2luZzogdGhpcy5wdXJjaGFzZS50cmFuc2FjdGlvblR5cGUuc2VxdWNlbmNpbmcsCiAgICAgICAgICBwcmVmaXhTZXBhcmF0b3I6IHRoaXMucHVyY2hhc2UudHJhbnNhY3Rpb25UeXBlLnByZWZpeFNlcGFyYXRvciB8fCAnJywKICAgICAgICAgIG51bWJlclNlcGFyYXRvcjogdGhpcy5wdXJjaGFzZS50cmFuc2FjdGlvblR5cGUubnVtYmVyU2VwYXJhdG9yIHx8ICcnLAogICAgICAgICAgZm9ybWF0OiB0aGlzLnB1cmNoYXNlLnRyYW5zYWN0aW9uVHlwZS5mb3JtYXQgfHwgNSwKICAgICAgICAgIHR5cGU6ICJQdXJjaGFzZSIsCiAgICAgICAgICBlbnRpdHk6IDEKICAgICAgICB9OwogICAgICAgIGJpbGxpbmdIYW5kbGVyLmxhc3ROdW1iZXIoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKICAgICAgICAgICAgdmFyIGxhc3ROdW1iZXIgPSBfdGhpczI0Lnplcm9QYWQocGFyc2VJbnQocmVzLmxhc3ROdW1iZXIpLCBfdGhpczI0LnB1cmNoYXNlLnRyYW5zYWN0aW9uVHlwZS5mb3JtYXQpOwoKICAgICAgICAgICAgdmFyIG51bWJlciA9IHJlcy5zdWZmaXggKyBfdGhpczI0LnB1cmNoYXNlLnRyYW5zYWN0aW9uVHlwZS5udW1iZXJTZXBhcmF0b3IgKyBsYXN0TnVtYmVyOwogICAgICAgICAgICBfdGhpczI0LnB1cmNoYXNlLm51bWJlciA9IG51bWJlcjsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgX3RoaXMyNC5lcnJvcnMucHVzaChlKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHplcm9QYWQ6IGZ1bmN0aW9uIHplcm9QYWQobnVtLCBwbGFjZXMpIHsKICAgICAgcmV0dXJuIFN0cmluZyhudW0pLnBhZFN0YXJ0KHBsYWNlcywgIjAiKTsKICAgIH0sCiAgICBzdWZmaXg6IGZ1bmN0aW9uIHN1ZmZpeCh0cmFuc2FjdGlvbkRhdGUpIHsKICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKHRyYW5zYWN0aW9uRGF0ZSksICJ5eW1tIik7CiAgICB9LAogICAgZXJyb3JNZXNzYWdlOiBmdW5jdGlvbiBlcnJvck1lc3NhZ2UoKSB7fSwKICAgIGFjY291bnREcm9wRG93bkVkaXRvcjogZnVuY3Rpb24gYWNjb3VudERyb3BEb3duRWRpdG9yKCkge30sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdmFyIF90aGlzMjUgPSB0aGlzOwoKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgdGl0bGU6IGkxOG4udCgibXNnX3RpdGxlX3dhcm5pbmciKSwKICAgICAgICB0ZXh0OiBpMThuLnQoIm1zZ19kaXNjYXJkIiksCiAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCJjYW5jZWwiKSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoImRpc2NhcmQiKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHRDZW4pIHsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzdWx0Q2VuKTsKCiAgICAgICAgaWYgKHJlc3VsdENlbi52YWx1ZSkgewogICAgICAgICAgX3RoaXMyNS4kZGVzdHJveSgpOwoKICAgICAgICAgIF90aGlzMjUuJHJvdXRlci5nbygtMSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoaWRlU21hbGxTaWRlYmFyOiBmdW5jdGlvbiBoaWRlU21hbGxTaWRlYmFyKCkgewogICAgICB0aGlzLmlzSGlkZUJhciA9ICF0aGlzLmlzSGlkZUJhcjsKICAgIH0sCiAgICByZXF1ZXN0RGF0YTogZnVuY3Rpb24gcmVxdWVzdERhdGEoc2tpcCwgZmlsdGVyLCBiYXNlVXJsKSB7CiAgICAgIHZhciB1cmwgPSBiYXNlVXJsICsgIj9maWx0ZXI9Ii5jb25jYXQoZmlsdGVyKTsKICAgICAgdGhpcy5yZXF1ZXN0U3RhcnRlZCA9IHRydWU7CiAgICAgIGZldGNoKHVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICB9KS50aGVuKHRoaXMuYWZ0ZXJGZXRjaCk7CiAgICB9LAogICAgcmVxdWVzdERhdGFfOiBmdW5jdGlvbiByZXF1ZXN0RGF0YV8oc2tpcCwgZmlsdGVyLCBiYXNlVXJsKSB7CiAgICAgIHZhciB1cmwgPSBiYXNlVXJsICsgIi8iLmNvbmNhdChmaWx0ZXIpOwogICAgICB0aGlzLnJlcXVlc3RTdGFydGVkID0gdHJ1ZTsKICAgICAgZmV0Y2godXJsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgIH0pLnRoZW4odGhpcy5hZnRlckZldGNoXyk7CiAgICB9LAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgIHZhciB2YWx1ZSA9IGV2ZW50LnZhbHVlOwoKICAgICAgaWYgKHZhbHVlICYmIHZhbHVlW3RleHRGaWVsZF0gPT09IGVtcHR5SXRlbVt0ZXh0RmllbGRdKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLnZlbmRvciA9IHZhbHVlOwogICAgICB0aGlzLnB1cmNoYXNlLnN1cHBsaWVyID0gdmFsdWU7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnB1cmNoYXNlLmN1c3RvbWVyLCAnQ2hhbmdlZCcpCiAgICAgIC8vIHRoaXMuaW52b2ljZSA9IHZhbHVlCgogICAgICB0aGlzLnB1cmNoYXNlLmFwQWNjID0gdmFsdWUuaGFzT3duUHJvcGVydHkoImFwQWNjIikgPyB2YWx1ZS5hcEFjYyA6IHt9OwogICAgICB0aGlzLnB1cmNoYXNlLnBheW1lbnRUZXJtID0gdmFsdWUucGF5bWVudFRlcm0gfHwge307CiAgICAgIHRoaXMucHVyY2hhc2UucHJpY2VMZXZlbCA9IHZhbHVlLnByaWNlTGV2ZWwgfHwge307CiAgICAgIHZhciBiYXNlQ3VycmVuY3kgPSB2YWx1ZS5iYXNlQ3VycmVuY3kgfHwge307CgogICAgICBpZiAoYmFzZUN1cnJlbmN5Lmhhc093blByb3BlcnR5KCJjb2RlIikpIHsKICAgICAgICB0aGlzLmJhc2VDdXJyZW5jeUNvZGUgPSAiICIgKyBiYXNlQ3VycmVuY3kuY29kZTsKICAgICAgfSAvLyB0aGlzLmxvYWRUcmFuc2FjdGlvblJhdGUoKTsKCgogICAgICB0aGlzLmJpbGxpbmdBZGRyZXNzID0gdmFsdWUuaGFzT3duUHJvcGVydHkoImJpbGxpbmdBZGRyZXNzIikgPyB2YWx1ZS5iaWxsaW5nQWRkcmVzcyA6IFtdOwogICAgICB0aGlzLmRlbGl2ZXJ5QWRkcmVzcyA9IHZhbHVlLmhhc093blByb3BlcnR5KCJkZWxpdmVyeUFkZHJlc3MiKSA/IHZhbHVlLmRlbGl2ZXJ5QWRkcmVzcyA6IFtdOwoKICAgICAgaWYgKHRoaXMuYmlsbGluZ0FkZHJlc3MubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMucHVyY2hhc2UuYmlsbGluZ0FkZHJlc3MgPSB0aGlzLmJpbGxpbmdBZGRyZXNzWzBdOwogICAgICB9CgogICAgICBpZiAodGhpcy5kZWxpdmVyeUFkZHJlc3MubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMucHVyY2hhc2UuZGVsaXZlcnlBZGRyZXNzID0gdGhpcy5kZWxpdmVyeUFkZHJlc3NbMF07CiAgICAgIH0KCiAgICAgIHRoaXMuZXhwZW5zZXMgPSBbXTsKICAgICAgdGhpcy5vbkludm9pY2VEYXRlQ2hhbmdlZCgpOwogICAgICB0aGlzLmxvYWRQcm9qZWN0QnlDdXN0b21lcigpOyAvLyB0aGlzLmxvYWRDdXN0b21lckJhbGFuY2UodGhpcy52ZW5kb3IuaWQpOwogICAgICAvLyBjb25zdCBjcmVkaXRMaW1pdCA9IHZhbHVlLmhhc093blByb3BlcnR5KCJjcmVkaXRMaW1pdCIpCiAgICAgIC8vICAgICA/IHZhbHVlLmNyZWRpdExpbWl0CiAgICAgIC8vICAgICA6IDA7CiAgICAgIC8vIHRoaXMucHVyY2hhc2UuY3JlZGl0TGltaXQgPSBrZW5kby5wYXJzZUZsb2F0KGNyZWRpdExpbWl0KTsKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKHZhbHVlLCAndmFsdWUnKQogICAgfSwKICAgIG9uRW1wbG95ZWVDaGFuZ2VkOiBmdW5jdGlvbiBvbkVtcGxveWVlQ2hhbmdlZChldmVudCkgewogICAgICB2YXIgdmFsdWUgPSBldmVudC52YWx1ZTsKCiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZVt0ZXh0RmllbGRdID09PSBlbXB0eUl0ZW1bdGV4dEZpZWxkXSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5tRW1wbG95ZWUgPSB2YWx1ZTsKICAgICAgdGhpcy5wdXJjaGFzZS5lbXBsb3llZSA9IHZhbHVlOwogICAgfSwKICAgIGFmdGVyRmV0Y2g6IGZ1bmN0aW9uIGFmdGVyRmV0Y2goanNvbikgewogICAgICB0aGlzLnZlbmRvckxpc3QgPSBqc29uLmRhdGE7CiAgICB9LAogICAgYWZ0ZXJGZXRjaF86IGZ1bmN0aW9uIGFmdGVyRmV0Y2hfKGpzb24pIHsKICAgICAgdGhpcy5lbXBsb3llZXMgPSBqc29uLmRhdGE7CiAgICB9LAogICAgb25GaWx0ZXJDaGFuZ2U6IGZ1bmN0aW9uIG9uRmlsdGVyQ2hhbmdlKGV2ZW50KSB7CiAgICAgIHZhciBmaWx0ZXIgPSBldmVudC5maWx0ZXIudmFsdWU7CiAgICAgIHRoaXMucmVxdWVzdERhdGEoMCwgZmlsdGVyLCB0aGlzLmN1c0Jhc2VVcmwpOwogICAgICB0aGlzLmZpbHRlciA9IGZpbHRlcjsKICAgIH0sCiAgICBvbkVtcGxveWVlRmlsdGVyQ2hhbmdlZDogZnVuY3Rpb24gb25FbXBsb3llZUZpbHRlckNoYW5nZWQoZXZlbnQpIHsKICAgICAgdmFyIGZpbHRlciA9IGV2ZW50LmZpbHRlci52YWx1ZTsKICAgICAgdGhpcy5yZXF1ZXN0RGF0YV8oMCwgZmlsdGVyLCB0aGlzLmVtcEJhc2VVcmwpOwogICAgICB0aGlzLmZpbHRlcl8gPSBmaWx0ZXI7CiAgICB9LAogICAgaW5pdERhdGE6IGZ1bmN0aW9uIGluaXREYXRhKCkgewogICAgICB2YXIgX3RoaXMyNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMiQoX2NvbnRleHQyMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIyLnByZXYgPSBfY29udGV4dDIyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczI2LiRyb3V0ZS5wYXJhbXMuaWQgIT09IHVuZGVmaW5lZCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczI2LmxvYWRWaWV3Q3JlZGl0UHVyY2hhc2UoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpczI2LmNsZWFyKCk7IC8vIHRoaXMuYWRkUm93KCk7CgoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRWaWV3Q3JlZGl0UHVyY2hhc2U6IGZ1bmN0aW9uIGxvYWRWaWV3Q3JlZGl0UHVyY2hhc2UoKSB7CiAgICAgIHZhciBfdGhpczI3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIzJChfY29udGV4dDIzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjMucHJldiA9IF9jb250ZXh0MjMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5zaG93TG9hZGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI3LiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLnZpZXdQdXJjaGFzZShfdGhpczI3LiRyb3V0ZS5wYXJhbXMuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcucHVyY2hhc2UgPSByZXMuZGF0YS5kYXRhWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcucmVmZXJlbmNlTm8gPSBfdGhpczI3LnB1cmNoYXNlLnJlZmVyZW5jZU5vOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcudHhuRGF0ZSA9IG5ldyBEYXRlKF90aGlzMjcucHVyY2hhc2UudHJhbnNhY3Rpb25EYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3LnZlbmRvciA9IF90aGlzMjcucHVyY2hhc2Uuc3VwcGxpZXI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5tRW1wbG95ZWUgPSBfdGhpczI3LnB1cmNoYXNlLmVtcGxveWVlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcudGF4TGlzdFRvdGFsID0gX3RoaXMyNy5wdXJjaGFzZS50YXhMaXN0VG90YWw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5pdGVtTGluZXMgPSBfdGhpczI3LnB1cmNoYXNlLml0ZW1MaW5lczsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3Lm1PdGhlckNoYXJnZSA9IF90aGlzMjcucHVyY2hhc2Uub3RoZXJDaGFyZ2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5zdXBwbGllckRpc2NvdW50SXRlbSA9IF90aGlzMjcucHVyY2hhc2Uuc3VwcGxpZXJEaXNjb3VudEl0ZW0gfHwgW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5qUmF3ID0gX3RoaXMyNy5wdXJjaGFzZS5qUmF3IHx8IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcuZXhwZW5zZXMgPSBfdGhpczI3LnB1cmNoYXNlLmFkZGl0aW9uYWxDb3N0IHx8IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcuYWRkaXRpb25hbENvc3RUb3RhbCA9IF90aGlzMjcucHVyY2hhc2UuYWRkaXRpb25hbENvc3RUb3RhbCB8fCAwOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcucHVyY2hhc2VPcmRlcnMgPSBfdGhpczI3LnB1cmNoYXNlLnJlZkZyb20gfHwgW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5tb250aE9mID0ga2VuZG8udG9TdHJpbmcobmV3IERhdGUoX3RoaXMyNy5wdXJjaGFzZS5tb250aE9mKSwgInl5eXktTU0iKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczI3Lm1PdGhlckNoYXJnZS5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcuYWRkU2VsZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJpY2VMZXZlbCA9IF90aGlzMjcucHVyY2hhc2UucHJpY2VMZXZlbCB8fCB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVuY3kgPSBwcmljZUxldmVsLmN1cnJlbmN5IHx8IHt9OwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJDb2RlID0gY3VycmVuY3kuY29kZSB8fCAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3LmN1cnJlbmN5Q29kZSA9IGN1ckNvZGU7IC8vIHRoaXMubG9hZFByb2plY3RCeUN1c3RvbWVyKCkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjcudmVuZG9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyNy52ZW5kb3IuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5sb2FkQ3VzdG9tZXJCYWxhbmNlKF90aGlzMjcudmVuZG9yLmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI3LiRyb3V0ZS5xdWVyeS50eXBlID09PSAicmVjdXJyaW5nIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjcuJHJvdXRlLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgidHJhbnNhY3Rpb25EYXRlIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJ0eXBlIiwgX3RoaXMyNy4kcm91dGUucGFyYW1zKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5wdXJjaGFzZS50cmFuc2FjdGlvbkRhdGUgPSBuZXcgRGF0ZShfdGhpczI3LiRyb3V0ZS5wYXJhbXMudHJhbnNhY3Rpb25EYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy50eG5EYXRlID0gbmV3IERhdGUoX3RoaXMyNy4kcm91dGUucGFyYW1zLnRyYW5zYWN0aW9uRGF0ZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3Lm9uSW52b2ljZURhdGVDaGFuZ2VkKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3LmdlbmVyYXRlTnVtYmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7CiAgICAgIC8vIHRoaXMubG9hZEFjY291bnQoKQogICAgICB0aGlzLmxvYWRQcmljZUxldmVsKCk7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwogICAgICBkcy5kYXRhKFtdKTsKICAgICAgdGhpcy5pZCA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy52ZW5kb3IgPSB7fTsKICAgICAgdGhpcy5tRW1wbG95ZWUgPSB7fTsKICAgICAgdGhpcy5tT3RoZXJDaGFyZ2UgPSB7fTsKICAgICAgdGhpcy5wdXJjaGFzZU9yZGVycyA9IFtdOwogICAgICB0aGlzLnB1cmNoYXNlID0gbmV3IFB1cmNoYXNlTW9kZWwoe30pOwogICAgICB0aGlzLnB1cmNoYXNlLnRyYW5zYWN0aW9uVHlwZSA9IHRoaXMucHVyY2hhc2VUeXBlc1swXTsKICAgICAgdGhpcy5tb250aE9mID0ga2VuZG8udG9TdHJpbmcobmV3IERhdGUodGhpcy5wdXJjaGFzZS50cmFuc2FjdGlvbkRhdGUpLCAneXl5eS1NTScpOwogICAgICB0aGlzLmFkZFJvdygpOwogICAgICB0aGlzLmdlbmVyYXRlTnVtYmVyKCk7CiAgICAgIHRoaXMubG9hZFNlZ21lbnQoKTsKICAgICAgdGhpcy5sb2FkTG9jYXRpb24oKTsKICAgIH0sCiAgICBsb2FkVHJhbnNhY3Rpb25SYXRlOiBmdW5jdGlvbiBsb2FkVHJhbnNhY3Rpb25SYXRlKCkgewogICAgICB2YXIgX3RoaXMyOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNCQoX2NvbnRleHQyNCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI0LnByZXYgPSBfY29udGV4dDI0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoX3RoaXMyOC50eG5EYXRlKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHByaWNlTGV2ZWwgPSBfdGhpczI4LnB1cmNoYXNlLnByaWNlTGV2ZWw7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSAiIjsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHByaWNlTGV2ZWwuaGFzT3duUHJvcGVydHkoImN1cnJlbmN5IikpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmljZUxldmVsLmN1cnJlbmN5Lmhhc093blByb3BlcnR5KCJjb2RlIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IHByaWNlTGV2ZWwuY3VycmVuY3kuY29kZTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChjb2RlICE9PSB1bmRlZmluZWQgfHwgY29kZSAhPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjguc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lIYW5kbGVyLmdldExhc3RFeGNoYW5nZVJhdGVCeURhdGUoZGF0ZSwgY29kZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI4LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOC5leGNoYW5nZVJhdGUgPSByZXMuZGF0YS5kYXRhWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjguY3VycmVuY3lDb2RlID0gX3RoaXMyOC5leGNoYW5nZVJhdGUuY29kZSB8fCAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI4LnRyYW5zYWN0aW9uUmF0ZSA9IF90aGlzMjguZXhjaGFuZ2VSYXRlLnJhdGUgfHwgMDsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI4LnB1cmNoYXNlLnR4blJhdGUgPSBfdGhpczI4LmV4Y2hhbmdlUmF0ZS5yYXRlIHx8IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOC5wdXJjaGFzZS5leGNoYW5nZVJhdGUgPSBfdGhpczI4LmV4Y2hhbmdlUmF0ZSB8fCB7fTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjgudHJhbnNhY3Rpb25SYXRlID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI4LiRzbm90aWZ5LmVycm9yKGkxOG4udCgic2V0X2V4Y2hhbmdlX3JhdGUiKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOC5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI4LmxvYWRDdXN0b21lckRlcG9zaXRCYWxhbmNlKF90aGlzMjgudmVuZG9yLmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBfdGhpczI4LmxvYWRQdXJjaGFzZU9yZGVyKCk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlbG9hZDogZnVuY3Rpb24gcmVsb2FkKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmxvYWRWaWV3Q3JlZGl0UHVyY2hhc2UoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNsZWFyKCk7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkUHVyY2hhc2VPcmRlcjogZnVuY3Rpb24gbG9hZFB1cmNoYXNlT3JkZXIoKSB7CiAgICAgIHZhciBfdGhpczI5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI1JChfY29udGV4dDI1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjUucHJldiA9IF9jb250ZXh0MjUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHNlZ21lbnRJZCA9ICIiLAogICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbklkID0gJycsCiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlTGV2ZWxJZCA9ICIiLAogICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcklkID0gIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIHR4bkRhdGUgPSAiIjsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjkucHVyY2hhc2Uuc2VnbWVudCkgewogICAgICAgICAgICAgICAgICAgICAgc2VnbWVudElkID0gX3RoaXMyOS5wdXJjaGFzZS5zZWdtZW50LmlkOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjkucHVyY2hhc2UubG9jYXRpb24pIHsKICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uSWQgPSBfdGhpczI5LnB1cmNoYXNlLmxvY2F0aW9uLmlkOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjkucHVyY2hhc2Uuc3VwcGxpZXIpIHsKICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVySWQgPSBfdGhpczI5LnB1cmNoYXNlLnN1cHBsaWVyLmlkOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjkucHVyY2hhc2UucHJpY2VMZXZlbCkgewogICAgICAgICAgICAgICAgICAgICAgcHJpY2VMZXZlbElkID0gX3RoaXMyOS5wdXJjaGFzZS5wcmljZUxldmVsLmlkOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjkucHVyY2hhc2UudHJhbnNhY3Rpb25EYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICB0eG5EYXRlID0gX3RoaXMyOS5wdXJjaGFzZS50cmFuc2FjdGlvbkRhdGU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB2YXIgc3RyRmlsdGVyID0gIiI7CgogICAgICAgICAgICAgICAgICAgIGlmIChzZWdtZW50SWQgIT09ICIiICYmIGN1c3RvbWVySWQgIT09ICIiICYmIGxvY2F0aW9uSWQgIT09ICIiICYmIHByaWNlTGV2ZWxJZCAhPT0gIiIgJiYgdHhuRGF0ZSAhPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgIHN0ckZpbHRlciA9ICI/aWQ9IiArIGN1c3RvbWVySWQgKyAiJnNlZ0lkPSIgKyBzZWdtZW50SWQgKyAiJmxvY0lkPSIgKyBsb2NhdGlvbklkICsgIiZwbElkPSIgKyBwcmljZUxldmVsSWQgKyAiJmRhdGU9IiArIHR4bkRhdGUgKyAnJnR5cGU9UHVyY2hhc2UgT3JkZXInOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKHN0ckZpbHRlciAhPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjkucHVyY2hhc2UucmVmRnJvbSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOS5zaG93TG9hZGluZ1R4biA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICBzYWxlT3JkZXJIYW5kbGVyLnRyYW5zYWN0aW9uRmlsdGVyKHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI5LnNob3dMb2FkaW5nVHhuID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOS5wdXJjaGFzZU9yZGVycyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOS5zaG93TG9hZGluZ1R4biA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczI5LmdldEV4cGVuc2VCeVN1cHBsaWVyKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkUHVyY2hhc2VPcmRlcjogZnVuY3Rpb24gYWRkUHVyY2hhc2VPcmRlcihpdGVtKSB7CiAgICAgIHZhciBfdGhpczMwID0gdGhpczsKCiAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgdmFyIGl0ZW1MaW5lID0gaXRlbS5pdGVtTGluZXMgfHwgW107CiAgICAgICAgdGhpcy5yZWZGcm9tLnB1c2goewogICAgICAgICAgaWQ6IGl0ZW0uaWQgfHwgJycsCiAgICAgICAgICByZWZlcmVuY2U6IGl0ZW0ucmVmZXJlbmNlTm8gfHwgJycKICAgICAgICB9KTsKICAgICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgICAgdG90YWwgPSBkcy50b3RhbCgpOwogICAgICAgIGl0ZW1MaW5lLmZvckVhY2goZnVuY3Rpb24gKG8pIHsKICAgICAgICAgIF90aGlzMzAuaXRlbUxpbmUgPSBuZXcgSXRlbUxpbmVNb2RlbChvKTsKICAgICAgICAgIF90aGlzMzAuaXRlbUxpbmUuaWQgPSBpdGVtTGluZVByZWZpeCArIHV1aWQudjEoKTsKICAgICAgICAgIF90aGlzMzAuaXRlbUxpbmUuZGVjaW1hbEZvcm1hdCA9ICJuIiArIF90aGlzMzAucHVyY2hhc2VGb3JtQ29udGVudC5kZWNpbWFsOwogICAgICAgICAgX3RoaXMzMC5pdGVtTGluZS5zb3VyY2VUcmFuc2FjdGlvbiA9IHsKICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICAgIHJlZmVyZW5jZU5vOiBpdGVtLnJlZmVyZW5jZU5vCiAgICAgICAgICB9OwogICAgICAgICAgX3RoaXMzMC5pdGVtTGluZS5zb3VyY2VUcmFuc2FjdGlvblJlZiA9IGl0ZW0ucmVmZXJlbmNlTm87CiAgICAgICAgICBkcy5pbnNlcnQodG90YWwsIF90aGlzMzAuaXRlbUxpbmUpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuaXRlbUxpbmUgPSBuZXcgSXRlbUxpbmVNb2RlbCh7fSk7CiAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5wdXJjaGFzZU9yZGVycy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0bSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IGl0bS5pZDsKICAgICAgICB9KTsKICAgICAgICB0aGlzLnB1cmNoYXNlT3JkZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgdGhpcy5wdXJjaGFzZS5yZWZGcm9tID0gdGhpcy5yZW1vdmVEdXBsaWNhdGUodGhpcy5yZWZGcm9tKTsKICAgICAgfQogICAgfSwKICAgIHRvdGFsUXR5OiBmdW5jdGlvbiB0b3RhbFF0eSgpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIHZhciBxdHkgPSAwOwogICAgICBkcy5kYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgcmV0dXJuIG4uYW1vdW50ID4gMDsKICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgIHZhciBpdG0gPSBtLml0ZW0gfHwge307CiAgICAgICAgdmFyIHVvbSA9IG0udW9tIHx8IHt9OwoKICAgICAgICBpZiAoaXRtLmlkICYmIHVvbS51b20gJiYgaXRtLnR5cGUgPT09ICdWYXJpYW50JykgewogICAgICAgICAgcXR5ICs9IChtLnF0eSB8fCAwKSAqIChtLmNvbnZlcnNpb25SYXRlIHx8IDEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygncXR5JywgcXR5KTsKICAgICAgcmV0dXJuIHF0eTsKICAgIH0sCiAgICBleGNsdWRlVkFUVGF4SW5jbHVzaXZlOiBmdW5jdGlvbiBleGNsdWRlVkFUVGF4SW5jbHVzaXZlKHRheCwgYW1vdW50LCBpbmNUYXgpIHsKICAgICAgaWYgKHRheCkgewogICAgICAgIHZhciBiYXNlQW1vdW50ID0gdGF4LmJhc2VBbW91bnQgfHwgJyc7CiAgICAgICAgdmFyIHRheFR5cGUgPSB0YXgudGF4VHlwZSB8fCB7fTsKICAgICAgICB2YXIgdGF4VHlwZUlkID0gdGF4VHlwZS50eXBlSWQgfHwgMDsKCiAgICAgICAgaWYgKGJhc2VBbW91bnQpIHsKICAgICAgICAgIGlmIChiYXNlQW1vdW50LnRvTG93ZXJDYXNlKCkgPT09ICJpbmNsdXNpdmUiICYmIHRheFR5cGVJZCA9PT0gMSkgewogICAgICAgICAgICByZXR1cm4gYW1vdW50IC0gaW5jVGF4OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGFtb3VudDsKICAgIH0sCiAgICB0b3RhbEFtb3VudDogZnVuY3Rpb24gdG90YWxBbW91bnQoKSB7CiAgICAgIHZhciBfdGhpczMxID0gdGhpczsKCiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwogICAgICB2YXIgYW1vdW50ID0gMDsKICAgICAgZHMuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgIHJldHVybiBuLmFtb3VudCA+IDA7CiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICB2YXIgaXRtID0gbS5pdGVtIHx8IHt9OwogICAgICAgIHZhciB1b20gPSBtLnVvbSB8fCB7fTsKICAgICAgICB2YXIgaW5jbHVUYXggPSAwOwoKICAgICAgICBpZiAoaXRtLmlkICYmIHVvbS51b20gJiYgaXRtLnR5cGUgPT09ICdWYXJpYW50JykgewogICAgICAgICAgdmFyIHRheCA9IG0udmF0VGF4IHx8IHt9OwogICAgICAgICAgdmFyIGFtb3VudF8gPSBtLmFtb3VudCB8fCAwOwogICAgICAgICAgdmFyIGJhc2VBbW91bnQgPSB0YXguYmFzZUFtb3VudCB8fCAnJzsKCiAgICAgICAgICBpZiAoYmFzZUFtb3VudCkgewogICAgICAgICAgICBpZiAoYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSAiaW5jbHVzaXZlIikgewogICAgICAgICAgICAgIGluY2x1VGF4ID0gX3RoaXMzMS5hdXRvQ2FsY3VsYXRlVGF4KHRheCwgYW1vdW50Xyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBhbW91bnQgKz0gYW1vdW50XyAtIChpbmNsdVRheCB8fCAwKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB3aW5kb3cuY29uc29sZS5sb2coJ2Ftb3VudCB4LScsIGFtb3VudCk7CiAgICAgIHJldHVybiBhbW91bnQ7CiAgICB9LAogICAgcGVyY2VudGFnZUFwcGxpZWQ6IGZ1bmN0aW9uIHBlcmNlbnRhZ2VBcHBsaWVkKCkgewogICAgICB2YXIgX3RoaXMzMiA9IHRoaXM7CgogICAgICB0cnkgewogICAgICAgIHZhciB0QW1vdW50ID0gdGhpcy50b3RhbEFtb3VudCgpOwogICAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwogICAgICAgIGRzLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgIHJldHVybiBuLmFtb3VudCA+IDA7CiAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgICAgdmFyIGl0bSA9IG0uaXRlbSB8fCB7fTsKICAgICAgICAgIHZhciB1b20gPSBtLnVvbSB8fCB7fTsKICAgICAgICAgIHZhciBpbmNsdVRheCA9IDA7CgogICAgICAgICAgaWYgKGl0bS5pZCAmJiB1b20udW9tICYmIGl0bS50eXBlID09PSAnVmFyaWFudCcpIHsKICAgICAgICAgICAgdmFyIHRheCA9IG0udmF0VGF4IHx8IHt9OwogICAgICAgICAgICB2YXIgYW1vdW50ID0gbS5hbW91bnQgfHwgMDsKICAgICAgICAgICAgdmFyIGJhc2VBbW91bnQgPSB0YXguYmFzZUFtb3VudCB8fCAnJzsKCiAgICAgICAgICAgIGlmIChiYXNlQW1vdW50KSB7CiAgICAgICAgICAgICAgaWYgKGJhc2VBbW91bnQudG9Mb3dlckNhc2UoKSA9PT0gImluY2x1c2l2ZSIpIHsKICAgICAgICAgICAgICAgIGluY2x1VGF4ID0gX3RoaXMzMi5hdXRvQ2FsY3VsYXRlVGF4KHRheCwgYW1vdW50KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBhbW91bnRBZnRlclRheCA9IGFtb3VudCAtIChpbmNsdVRheCB8fCAwKTsKICAgICAgICAgICAgdmFyIHBBbW91bnQgPSBhbW91bnRBZnRlclRheCAvIHRBbW91bnQ7CiAgICAgICAgICAgIG1bJ3BlcmNlbnRhZ2VBcHBsaWVkJ10gPSBwQW1vdW50OwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnUXR5IEJhc2VkLS0nLCBkcy5kYXRhKCkpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdlcnJvcicsIGUpOwogICAgICB9CiAgICB9LAogICAgYW1vdW50QXBwbGllZDogZnVuY3Rpb24gYW1vdW50QXBwbGllZCgpIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgICB2YXIgYWRjID0gdGhpcy5hZGRpdGlvbmFsQ29zdFRvdGFsIHx8IDA7CiAgICAgICAgZHMuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgcmV0dXJuIG4uYW1vdW50ID4gMDsKICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICB2YXIgaXRtID0gbS5pdGVtIHx8IHt9OwogICAgICAgICAgdmFyIHVvbSA9IG0udW9tIHx8IHt9OwogICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdhbW91bnRBcHBsaWVkPT0nLCB1b20udW9tLCAnLS0tJywgaXRtLnR5cGUpOwoKICAgICAgICAgIGlmIChpdG0uaWQgJiYgdW9tLnVvbSAmJiBpdG0udHlwZSA9PT0gJ1ZhcmlhbnQnKSB7CiAgICAgICAgICAgIHZhciBwZXJjZW50YWdlQXBwbGllZCA9IG0ucGVyY2VudGFnZUFwcGxpZWQgfHwgMDsKICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdwZXJjZW50YWdlQXBwbGllZC0tJywgYWRjLCAnLS0tJywgcGVyY2VudGFnZUFwcGxpZWQgKiBhZGMpOwogICAgICAgICAgICBtWydhbW91bnRBcHBsaWVkJ10gPSBwZXJjZW50YWdlQXBwbGllZCAqIGFkYzsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ0FNb3VudCBCYXNlZC0tJywgZHMuZGF0YSgpKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnZXJyb3InLCBlKTsKICAgICAgfQogICAgfSwKICAgIGFtb3VudEFwcGxpZWRRdHlCYXNlZDogZnVuY3Rpb24gYW1vdW50QXBwbGllZFF0eUJhc2VkKCkgewogICAgICB0cnkgewogICAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwogICAgICAgIGRzLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgIHJldHVybiBuLmFtb3VudCA+IDA7CiAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgICAgdmFyIGl0bSA9IG0uaXRlbSB8fCB7fTsKICAgICAgICAgIHZhciB1b20gPSBtLnVvbSB8fCB7fTsKCiAgICAgICAgICBpZiAoaXRtLmlkICYmIHVvbS51b20gJiYgaXRtLnR5cGUgPT09ICdWYXJpYW50JykgewogICAgICAgICAgICB2YXIgYWRkYyA9IG0uYWRkaXRpb25hbENvc3QgfHwgMDsKICAgICAgICAgICAgdmFyIHF0eSA9IChtLnF0eSB8fCAxKSAqIChtLmNvbnZlcnNpb25SYXRlIHx8IDEpOwogICAgICAgICAgICBtWydhbW91bnRBcHBsaWVkJ10gPSBhZGRjICogcXR5OwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnYW1vdW50QXBwbGllZFF0eUJhc2VkIEJhc2VkLS0nLCBkcy5kYXRhKCkpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdlcnJvcicsIGUpOwogICAgICB9CiAgICB9LAogICAgY2FsY3VsYXRlQWRkaXRpb25hbENvc3Q6IGZ1bmN0aW9uIGNhbGN1bGF0ZUFkZGl0aW9uYWxDb3N0KCkgewogICAgICB2YXIgX3RoaXMzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjYoKSB7CiAgICAgICAgdmFyIHRRdHksIGFkZGMsIGRzLCBfZHM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjYkKF9jb250ZXh0MjYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNi5wcmV2ID0gX2NvbnRleHQyNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyNi5wcmV2ID0gMDsKCiAgICAgICAgICAgICAgICAvLyB0b2RvOiBhZGRpdGlvbmFsIENvc3QKICAgICAgICAgICAgICAgIGlmIChfdGhpczMzLnB1cmNoYXNlLmFkZGl0aW9uYWxDb3N0TWV0aG9kID09PSAnUXR5IEJhc2VkJykgewogICAgICAgICAgICAgICAgICBfdGhpczMzLnBlcmNlbnRhZ2VBcHBsaWVkKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczMzLnBlcmNlbnRhZ2VBcHBsaWVkKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczMzLmFtb3VudEFwcGxpZWQoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzMy5wdXJjaGFzZS5hZGRpdGlvbmFsQ29zdE1ldGhvZCA9PT0gJ1F0eSBCYXNlZCcpIHsKICAgICAgICAgICAgICAgICAgdFF0eSA9IF90aGlzMzMudG90YWxRdHkoKTsKICAgICAgICAgICAgICAgICAgYWRkYyA9IF90aGlzMzMuYWRkaXRpb25hbENvc3RUb3RhbCB8fCAwOwogICAgICAgICAgICAgICAgICBkcyA9IF90aGlzMzMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwogICAgICAgICAgICAgICAgICBkcy5kYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4uYW1vdW50ID4gMDsKICAgICAgICAgICAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgIHZhciBpdG0gPSBtLml0ZW0gfHwge307CiAgICAgICAgICAgICAgICAgICAgdmFyIHVvbSA9IG0udW9tIHx8IHt9OwoKICAgICAgICAgICAgICAgICAgICBpZiAoaXRtLmlkICYmIHVvbS51b20gJiYgaXRtLnR5cGUgPT09ICdWYXJpYW50JykgewogICAgICAgICAgICAgICAgICAgICAgbVsnYWRkaXRpb25hbENvc3QnXSA9IGFkZGMgLyB0UXR5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygncXR5IGJhc2VkJywgZHMuZGF0YSgpKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF9kcyA9IF90aGlzMzMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwoKICAgICAgICAgICAgICAgICAgX2RzLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi5hbW91bnQgPiAwOwogICAgICAgICAgICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGl0bSA9IG0uaXRlbSB8fCB7fTsKICAgICAgICAgICAgICAgICAgICB2YXIgdW9tID0gbS51b20gfHwge307CgogICAgICAgICAgICAgICAgICAgIGlmIChpdG0uaWQgJiYgdW9tLnVvbSAmJiBpdG0udHlwZSA9PT0gJ1ZhcmlhbnQnKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgYW1vdW50QXBwbGllZCA9IG0uYW1vdW50QXBwbGllZCB8fCAwOwogICAgICAgICAgICAgICAgICAgICAgdmFyIHF0eSA9IChtLnF0eSB8fCAwKSAqIChtLmNvbnZlcnNpb25SYXRlIHx8IDEpOwogICAgICAgICAgICAgICAgICAgICAgbVsnYWRkaXRpb25hbENvc3QnXSA9IGFtb3VudEFwcGxpZWQgLyBxdHk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzMy5wdXJjaGFzZS5hZGRpdGlvbmFsQ29zdE1ldGhvZCA9PT0gJ1F0eSBCYXNlZCcpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzMy5hbW91bnRBcHBsaWVkUXR5QmFzZWQoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDI2Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMzMuY2xlYXJpbmdBY2NvdW50KCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dDI2LnQwID0gX2NvbnRleHQyNlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnZXJyb3InLCBfY29udGV4dDI2LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI2LCBudWxsLCBbWzAsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVUYXhEZXRhaWw6IGZ1bmN0aW9uIGF1dG9DYWxjdWxhdGVUYXhEZXRhaWwoKSB7CiAgICAgIHZhciBfdGhpczM0ID0gdGhpczsKCiAgICAgIHZhciBpZHMgPSBbXTsKICAgICAgdGhpcy50YXhMaXN0RGV0YWlsLmZvckVhY2goZnVuY3Rpb24gKG4pIHsKICAgICAgICBpZHMucHVzaChuLmlkIHx8ICcnKTsKICAgICAgfSk7CgogICAgICB2YXIgdW5pcXVlID0gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQoaWRzKSk7CgogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgIHVuaXF1ZS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgdmFyIGFtb3VudCA9IDAsCiAgICAgICAgICAgIHJvdyA9IHt9LAogICAgICAgICAgICBkaXNjb3VudCA9IDAsCiAgICAgICAgICAgIHhEaXNjb3VudCA9IDAsCiAgICAgICAgICAgIHhBbW91bnQgPSAwLAogICAgICAgICAgICB0YXhBbW91bnQgPSAwLAogICAgICAgICAgICB4VGF4QW1vdW50ID0gMDsKICAgICAgICB2YXIgdGF4RGV0YWlsID0gW10sCiAgICAgICAgICAgIGlzVmF0ID0gMDsKCiAgICAgICAgdmFyIGZvdW5kID0gX3RoaXMzNC50YXhMaXN0RGV0YWlsLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgcmV0dXJuIG4uaWQgPT09IG07CiAgICAgICAgfSk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZygndGF4TGlzdERldGFpbGlkcycsIGZvdW5kKQoKCiAgICAgICAgZm91bmQuZm9yRWFjaChmdW5jdGlvbiAoaykgewogICAgICAgICAgcm93ID0gazsKCiAgICAgICAgICBpZiAoay5pc1ZhdCA9PT0gMSkgewogICAgICAgICAgICBpc1ZhdCA9IDE7CiAgICAgICAgICAgIHZhciBkZXRhaWxfID0gay5kZXRhaWwgfHwge307CiAgICAgICAgICAgIHRheERldGFpbC5wdXNoKGRldGFpbF8pOwogICAgICAgICAgfQoKICAgICAgICAgIHRheEFtb3VudCArPSBrLnRheEFtb3VudF8gfHwgMDsKICAgICAgICAgIHhUYXhBbW91bnQgKz0gKGsudGF4QW1vdW50XyB8fCAwKSAqIChrLnR4blJhdGUgfHwgMSk7CiAgICAgICAgICBhbW91bnQgKz0gay5hbW91bnQgfHwgMDsKICAgICAgICAgIHhBbW91bnQgKz0gKGsuYW1vdW50IHx8IDApICogKGsudHhuUmF0ZSB8fCAxKTsKICAgICAgICAgIGRpc2NvdW50ICs9IGsuZGlzY291bnQgfHwgMDsKICAgICAgICAgIHhEaXNjb3VudCArPSAoay5kaXNjb3VudCB8fCAwKSAqIChrLnR4blJhdGUgfHwgMSk7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHNwVGF4QW10ID0gMCwKICAgICAgICAgICAgc3BYVGF4QW10ID0gMCwKICAgICAgICAgICAgcGxUYXhBbXQgPSAwLAogICAgICAgICAgICBwbFhUYXhBbXQgPSAwLAogICAgICAgICAgICBvdFRheEFtdCA9IDAsCiAgICAgICAgICAgIG90WFRheEFtdCA9IDAsCiAgICAgICAgICAgIHNwVGF4TmFtZSA9ICcnLAogICAgICAgICAgICBwbFRheE5hbWUgPSAnJywKICAgICAgICAgICAgb3RUYXhOYW1lID0gJycsCiAgICAgICAgICAgIHNwVGF4TmFtZUxvY2FsZSA9ICcnLAogICAgICAgICAgICBwbFRheE5hbWVMb2NhbGUgPSAnJywKICAgICAgICAgICAgb3RUYXhOYW1lTG9jYWxlID0gJycsCiAgICAgICAgICAgIHNwQWNjSWQgPSAnJywKICAgICAgICAgICAgcGxBY2NJZCA9ICcnLAogICAgICAgICAgICBvdEFjY0lkID0gJycsCiAgICAgICAgICAgIHNwUmF0ZSA9ICcnLAogICAgICAgICAgICBwbFJhdGUgPSAnJywKICAgICAgICAgICAgb3RSYXRlID0gJyc7CiAgICAgICAgdGF4RGV0YWlsLmZvckVhY2goZnVuY3Rpb24gKG4pIHsKICAgICAgICAgIHZhciBzcFRheCA9IG4uc3BlY2lmaWNUYXggfHwge307CiAgICAgICAgICB2YXIgcGxUYXggPSBuLnB1YmxpY0xpZ2h0aW5nVGF4IHx8IHt9OwogICAgICAgICAgdmFyIG90aGVyVGF4ID0gbi5vdGhlclRheCB8fCB7fTsKCiAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoc3BUYXgpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgc3BUYXhBbXQgKz0gc3BUYXgudGF4QW1vdW50XyB8fCAwOwogICAgICAgICAgICBzcFhUYXhBbXQgKz0gKHNwVGF4LnRheEFtb3VudF8gfHwgMCkgKiAoc3BUYXgudGF4UmF0ZSB8fCAxKTsKICAgICAgICAgICAgc3BUYXhOYW1lID0gc3BUYXguZGVmYXVsdFRheCB8fCAnJzsKICAgICAgICAgICAgc3BUYXhOYW1lTG9jYWxlID0gc3BUYXguZGVmYXVsdFRheExvY2FsZSB8fCAnJzsKICAgICAgICAgICAgc3BBY2NJZCA9IHNwVGF4LmFjY291bnQgPyBzcFRheC5hY2NvdW50LmlkIDogJyc7CiAgICAgICAgICAgIHNwUmF0ZSA9IHNwVGF4LnJhdGUgfHwgMTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoT2JqZWN0LmtleXMocGxUYXgpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgcGxUYXhBbXQgKz0gcGxUYXgudGF4QW1vdW50XyB8fCAwOwogICAgICAgICAgICBwbFhUYXhBbXQgKz0gKHBsVGF4LnRheEFtb3VudF8gfHwgMCkgKiAocGxUYXgudGF4UmF0ZSB8fCAxKTsKICAgICAgICAgICAgcGxUYXhOYW1lID0gcGxUYXguZGVmYXVsdFRheCB8fCAnJzsKICAgICAgICAgICAgcGxUYXhOYW1lTG9jYWxlID0gcGxUYXguZGVmYXVsdFRheExvY2FsZSB8fCAnJzsKICAgICAgICAgICAgcGxBY2NJZCA9IHBsVGF4LmFjY291bnQgPyBwbFRheC5hY2NvdW50LmlkIDogJyc7CiAgICAgICAgICAgIHBsUmF0ZSA9IHBsVGF4LnJhdGUgfHwgMTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoT2JqZWN0LmtleXMob3RoZXJUYXgpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgb3RUYXhBbXQgKz0gb3RoZXJUYXgudGF4QW1vdW50XyB8fCAwOwogICAgICAgICAgICBvdFhUYXhBbXQgKz0gKG90aGVyVGF4LnRheEFtb3VudF8gfHwgMCkgKiAocGxUYXgudGF4UmF0ZSB8fCAxKTsKICAgICAgICAgICAgb3RUYXhOYW1lID0gb3RoZXJUYXguZGVmYXVsdFRheCB8fCAnJzsKICAgICAgICAgICAgb3RUYXhOYW1lTG9jYWxlID0gb3RoZXJUYXguZGVmYXVsdFRheExvY2FsZSB8fCAnJzsKICAgICAgICAgICAgb3RBY2NJZCA9IG90aGVyVGF4LmFjY291bnQgPyBvdGhlclRheC5hY2NvdW50LmlkIDogJyc7CiAgICAgICAgICAgIG90UmF0ZSA9IG90aGVyVGF4LnJhdGUgfHwgMTsKICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgaWYgKGlzVmF0ID09PSAxKSB7CiAgICAgICAgICByb3cuZGV0YWlsID0gewogICAgICAgICAgICBzcGVjaWZpY1RheDogewogICAgICAgICAgICAgIG5hbWU6IHNwVGF4TmFtZSwKICAgICAgICAgICAgICBuYW1lTG9jYWxlOiBzcFRheE5hbWVMb2NhbGUsCiAgICAgICAgICAgICAgYW1vdW50OiBzcFRheEFtdCwKICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogc3BYVGF4QW10LAogICAgICAgICAgICAgIGFjY291bnRJZDogc3BBY2NJZCwKICAgICAgICAgICAgICByYXRlOiBzcFJhdGUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHVibGljTGlnaHRpbmdUYXg6IHsKICAgICAgICAgICAgICBuYW1lOiBwbFRheE5hbWUsCiAgICAgICAgICAgICAgbmFtZUxvY2FsZTogcGxUYXhOYW1lTG9jYWxlLAogICAgICAgICAgICAgIGFtb3VudDogcGxUYXhBbXQsCiAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IHBsWFRheEFtdCwKICAgICAgICAgICAgICBhY2NvdW50SWQ6IHBsQWNjSWQsCiAgICAgICAgICAgICAgcmF0ZTogcGxSYXRlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG90aGVyVGF4OiB7CiAgICAgICAgICAgICAgbmFtZTogb3RUYXhOYW1lLAogICAgICAgICAgICAgIG5hbWVMb2NhbGU6IG90VGF4TmFtZUxvY2FsZSwKICAgICAgICAgICAgICBhbW91bnQ6IG90VGF4QW10LAogICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBvdFhUYXhBbXQsCiAgICAgICAgICAgICAgYWNjb3VudElkOiBvdEFjY0lkLAogICAgICAgICAgICAgIHJhdGU6IG90UmF0ZQogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByb3cuZGV0YWlsID0ge307CiAgICAgICAgfQoKICAgICAgICByb3dbJ2Ftb3VudCddID0gYW1vdW50OwogICAgICAgIHJvd1snZXhjaGFuZ2VBbW91bnQnXSA9IHhBbW91bnQ7CiAgICAgICAgcm93Wyd0YXhBbW91bnQnXSA9IHRheEFtb3VudDsKICAgICAgICByb3dbJ2V4Y2hhbmdlVGF4QW1vdW50J10gPSB4VGF4QW1vdW50OwogICAgICAgIHJvd1snZGlzY291bnQnXSA9IGRpc2NvdW50OwogICAgICAgIHJvd1snZXhjaGFuZ2VEaXNjb3VudCddID0geERpc2NvdW50OwogICAgICAgIHJvd1snY3VycmVuY3knXSA9IF90aGlzMzQucHVyY2hhc2UuZXhjaGFuZ2VSYXRlIHx8IHt9OwogICAgICAgIHJlc3VsdC5wdXNoKHJvdyk7CiAgICAgICAgdGF4RGV0YWlsID0gW107CiAgICAgIH0pOwogICAgICB0aGlzLnB1cmNoYXNlLnNhbGVUYXhEZXRhaWwgPSByZXN1bHQ7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnc2FsZVRheERldGFpbCcsIHJlc3VsdCk7CiAgICB9LAogICAgZ2V0RXhwZW5zZUJ5U3VwcGxpZXI6IGZ1bmN0aW9uIGdldEV4cGVuc2VCeVN1cHBsaWVyKCkgewogICAgICB2YXIgX3RoaXMzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjcoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNyQoX2NvbnRleHQyNykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI3LnByZXYgPSBfY29udGV4dDI3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBzZWdtZW50ID0gX3RoaXMzNS5wdXJjaGFzZS5zZWdtZW50IHx8IHt9OwogICAgICAgICAgICAgICAgICAgIHZhciBzZWdtZW50SWQgPSBzZWdtZW50LmlkIHx8ICcnOwogICAgICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IF90aGlzMzUucHVyY2hhc2UubG9jYXRpb24gfHwge307CiAgICAgICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uSWQgPSBsb2NhdGlvbi5pZCB8fCAnJzsKICAgICAgICAgICAgICAgICAgICB2YXIgc3VwcGxpZXIgPSBfdGhpczM1LnB1cmNoYXNlLnN1cHBsaWVyIHx8IHt9OwogICAgICAgICAgICAgICAgICAgIHZhciBzdXBwbGllcklkID0gc3VwcGxpZXIuaWQgfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9ICc/aWQ9JyArIHN1cHBsaWVySWQgKyAnJnNlZ0lkPScgKyBzZWdtZW50SWQgKyAnJmxvY0lkPScgKyBsb2NhdGlvbklkOwogICAgICAgICAgICAgICAgICAgIF90aGlzMzUuZXhwZW5zZXMgPSBbXTsKICAgICAgICAgICAgICAgICAgICBfdGhpczM1LnB1cmNoYXNlLmFkZGl0aW9uYWxDb3N0VG90YWwgPSAwOwogICAgICAgICAgICAgICAgICAgIF90aGlzMzUuc2hvd0xvYWRpbmdUeG5BZGRpdGlvbmFsQ29zdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIF90aGlzMzUucHVyY2hhc2UuYWRkaXRpb25hbENvc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5saXN0UHVyY2hhc2Uoc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNS5zaG93TG9hZGluZ1R4bkFkZGl0aW9uYWxDb3N0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNS5zaG93TG9hZGluZ1R4bkFkZGl0aW9uYWxDb3N0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzUuZXhwZW5zZXMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNS5vbk1ldGhvZENoYW5nZWQoKTsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzUuc2hvd0xvYWRpbmdUeG5BZGRpdGlvbmFsQ29zdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjbGVhcmluZ0FjY291bnQ6IGZ1bmN0aW9uIGNsZWFyaW5nQWNjb3VudCgpIHsKICAgICAgdmFyIF90aGlzMzYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI4KCkgewogICAgICAgIHZhciBhbW91bnQsIHhBbW91bnQsIGFkZGljdCwgYWNjb3VudCwgbmF0dXJlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjgkKF9jb250ZXh0MjgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyOC5wcmV2ID0gX2NvbnRleHQyOC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMzYuaXNJdGVtKCkpIHsKICAgICAgICAgICAgICAgICAgICAvKiB0b2RvOiBjbGVhcmluZyBhY2NvdW50IGZvciBhZGRpdGlvbmFsIGNvc3QgKi8KICAgICAgICAgICAgICAgICAgICBhbW91bnQgPSAoX3RoaXMzNi5wdXJjaGFzZS5hZGRpdGlvbmFsQ29zdFRvdGFsIHx8IDApICogLTE7CiAgICAgICAgICAgICAgICAgICAgeEFtb3VudCA9IGFtb3VudCAqIF90aGlzMzYucHVyY2hhc2UudHhuUmF0ZSB8fCAxOwogICAgICAgICAgICAgICAgICAgIGFkZGljdCA9IF90aGlzMzYucHVyY2hhc2UuYWRkaXRpb25hbENvc3QgfHwgW107CgogICAgICAgICAgICAgICAgICAgIGlmIChhZGRpY3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKGFkZGljdFswXSkgewogICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50ID0gYWRkaWN0WzBdLmFjY291bnQgfHwge307CiAgICAgICAgICAgICAgICAgICAgICAgIG5hdHVyZSA9ICdjcic7CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM2LmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGFjY291bnQuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIkFkZGl0aW9uYWwgQ29zdCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGFjY291bnQuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IHhBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVBczogImNsZWFyaW5nIgogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdlcnJvcicsIGUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGlzSXRlbTogZnVuY3Rpb24gaXNJdGVtKCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgdmFyIHJvdyA9IGRzLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICByZXR1cm4gbi5hbW91bnQgPiAwOwogICAgICB9KTsKICAgICAgdmFyIGZvdW5kID0gcm93LmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgIHJldHVybiBuLml0ZW0udHlwZSA9PT0gJ1ZhcmlhbnQnOwogICAgICB9KTsKCiAgICAgIGlmIChmb3VuZCkgewogICAgICAgIHJldHVybiBmb3VuZC5sZW5ndGggPiAwOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgYWJicjogZnVuY3Rpb24gYWJicigpIHsKICAgICAgaWYgKHRoaXMucHVyY2hhc2UpIHsKICAgICAgICB2YXIgdHhuVHlwZSA9IHRoaXMucHVyY2hhc2UudHJhbnNhY3Rpb25UeXBlIHx8IHt9OwogICAgICAgIHZhciBhYmJyID0gdHhuVHlwZS5hYmJyIHx8ICcnOwogICAgICAgIHJldHVybiBhYmJyOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSwKICAgIHZhbGlkVmVuZG9yOiBmdW5jdGlvbiB2YWxpZFZlbmRvcigpIHsKICAgICAgdmFyIHZlbmRvciA9IHRoaXMudmVuZG9yOwogICAgICByZXR1cm4gdmVuZG9yLmlkICE9PSB1bmRlZmluZWQgJiYgdmVuZG9yLmlkICE9PSBudWxsOwogICAgfSwKICAgIGRpc2FibGVNZTogZnVuY3Rpb24gZGlzYWJsZU1lKCkgewogICAgICByZXR1cm4gISF0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICB9LAogICAgaGlkZGVuQnV0dG9uOiBmdW5jdGlvbiBoaWRkZW5CdXR0b24oKSB7CiAgICAgIHJldHVybiAhIXRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgIH0sCiAgICBkaXNhYmxlZFNMUDogZnVuY3Rpb24gZGlzYWJsZWRTTFAoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICB2YXIgcmVmRiA9IHRoaXMucHVyY2hhc2UucmVmRnJvbSB8fCBbXTsKCiAgICAgICAgaWYgKHJlZkYubGVuZ3RoID4gMCkgewogICAgICAgICAgcmV0dXJuICEhcmVmRi5sZW5ndGggPiAwOwogICAgICAgIH0KCiAgICAgICAgdmFyIGFkYyA9IHRoaXMucHVyY2hhc2UuYWRkaXRpb25hbENvc3QgfHwgW107CgogICAgICAgIGlmIChhZGMubGVuZ3RoID4gMCkgewogICAgICAgICAgcmV0dXJuICEhYWRjLmxlbmd0aCA+IDA7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLy8gaWQoKSB7CiAgICAvLyAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCkgewogICAgLy8gICAgIHRoaXMuY2xlYXIoKTsKICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgIC8vICAgICB0aGlzLmxvYWRWaWV3Q3JlZGl0UHVyY2hhc2UoKTsKICAgIC8vICAgfQogICAgLy8gfSwKICAgICckcm91dGUnOiAncmVsb2FkJwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZFRheCgpOwogICAgdGhpcy5sb2FkUHJlZml4KCk7CiAgICB0aGlzLmxvYWRQcm9qZWN0QnlDdXN0b21lcigpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gKCkgewogICAgdmFyIF9tb3VudGVkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjkoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjkkKF9jb250ZXh0MjkpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDI5LnByZXYgPSBfY29udGV4dDI5Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHRoaXMucmVxdWVzdERhdGEoMCwgdGhpcy5maWx0ZXIsIHRoaXMuY3VzQmFzZVVybCk7CiAgICAgICAgICAgICAgX2NvbnRleHQyOS5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkU2VnbWVudCgpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZExvY2F0aW9uKCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX2NvbnRleHQyOS5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkRGlzY291bnRJdGVtKCk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgX2NvbnRleHQyOS5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkRW1wbG95ZWVDZW50ZXIoKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSAxMTsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkUGF5bWVudFRlcm0oKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgX2NvbnRleHQyOS5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZEFjY291bnQoKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgX2NvbnRleHQyOS5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZFByaWNlTGV2ZWwoKTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgX2NvbnRleHQyOS5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZE90aGVyQ2hhcmdlKCk7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDE5OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRQdXJjaGFzZUZvcm1Db250ZW50KCk7CgogICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDIxOwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXREYXRhKCk7CgogICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI5LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyOSwgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgcmV0dXJuIF9tb3VudGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIG1vdW50ZWQ7CiAgfSgpCn07"},{"version":3,"sources":["CreditPurchases.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAukCA;AACA,SAAA,IAAA,QAAA,QAAA;AACA,OAAA,aAAA,MAAA,mCAAA;AACA,OAAA,aAAA,MAA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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\"\n                    >\n                        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                            <v-row>\n                                <v-col\n                                    class=\"bigSide pr-2 py-0\"\n                                    sm=\"8\"\n                                    cols=\"12\"\n                                    style=\"transition: .3s ease-in;\"\n                                    :class=\"{ hide_big_bar_class: isHideBar }\"\n                                >\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">{{ $t(\"purchase\") }}</h2>\n                                        <v-icon\n                                            v-if=\"isHideBar\"\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer;  font-size: 40px;\"\n                                            color=\"grey\"\n                                            class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                        <span\n                                            style=\"transition: .3s ease-in; z-index:10;\"\n                                            :class=\"{\n                        iconArrow: !isHideBar,\n                        iconArrowHide: isHideBar,\n                      }\"\n                                        >\n                      <v-icon\n                          size=\"22\"\n                          class=\"arr_icon\"\n                          @click=\"hideSmallSidebar\"\n                          v-if=\"isHideBar\"\n                      >\n                        mdi-chevron-left-circle\n                      </v-icon>\n                      <v-icon\n                          size=\"22\"\n                          class=\"arr_icon\"\n                          @click=\"hideSmallSidebar\"\n                          v-if=\"!isHideBar\"\n                      >\n                        mdi-chevron-right-circle\n                      </v-icon>\n                    </span>\n                                    </v-card>\n                                    <v-card outlined dense class=\"px-4 rounded-4 no_border\" color=\"grayBg\">\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0 pt-4\">\n                                                <label class=\"label  mb-0\">{{ $t(\"supplier\") }}</label>\n                                                <v-col\n                                                    sm=\"12\"\n                                                    cols=\"12\"\n                                                    class=\"kendo_dropdown_custom px-0 pb-3 pt-0\"\n                                                >\n                                                    <dropdownlist\n                                                        :data-items=\"vendorList\"\n                                                        @change=\"onChange\"\n                                                        :value=\"vendor\"\n                                                        :data-item-key=\"dataItemKey\"\n                                                        :text-field=\"textField\"\n                                                        :default-item=\"defaultItem\"\n                                                        :filterable=\"true\"\n                                                        :required=\"true\"\n                                                        :disabled=\"disableMe\"\n                                                        :valid=\"validVendor\"\n                                                        @filterchange=\"onFilterChange\"\n                                                    >\n                                                    </dropdownlist>\n                                                </v-col>\n                                                <div hidden>\n                                                    <label class=\"label mb-0\">{{\n                                                            $t(\"purchase_type\")\n                                                        }}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        :items=\"purchaseTypes\"\n                                                        item-value=\"id\"\n                                                        item-text=\"name\"\n                                                        v-model=\"purchase.transactionType\"\n                                                        @change=\"onInvoiceTypeChanged\"\n                                                        :rules=\"[\n                              (v) => !!v || 'Transaction Currency is required',\n                            ]\"\n                                                        return-object\n                                                        outlined\n                                                    />\n                                                </div>\n\n                                                <label class=\"label  mb-0\">{{\n                                                        $t(\"transaction_date\")\n                                                    }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"purchase.transactionDate\"\n                                                    :disabled=\"disableMe\"\n                                                    @onChanged=\"onInvoiceDateChanged\"\n                                                    @emitDate=\"txnDate = $event\"\n                                                />\n                                                <label class=\"label mb-0\">{{\n                                                        $t(\"transaction_number\")\n                                                    }}</label>\n                                                <v-row class=\"mt-1 mr-0\">\n                                                    <v-col sm=\"3\" cols=\"3\" class=\"pt-0 pr-0 pb-0\">\n                                                        <div class=\"code_text text-bold\">\n                                                            {{ abbr }}\n                                                        </div>\n                                                    </v-col>\n                                                    <v-col sm=\"7\" cols=\"7\" class=\"pt-0 pl-0 pr-1 pb-0\">\n                                                        <v-text-field\n                                                            class=\" custom-border \"\n                                                            v-model=\"purchase.number\"\n                                                            outlined\n                                                            readonly\n                                                            :rules=\"[(v) => !!v || 'Number is required']\"\n                                                            required\n                                                        />\n                                                    </v-col>\n                                                    <v-col sm=\"2\" cols=\"2\" class=\"pt-0 px-0 pb-0\">\n                                                        <v-icon\n                                                            color=\"black\"\n                                                            size=\"30\"\n                                                            class=\"border_qrcode\"\n                                                            :disabled=\"disableMe\"\n                                                            @click=\"generateNumber\"\n                                                        >mdi-qrcode\n                                                        </v-icon>\n                                                    </v-col>\n                                                </v-row>\n                                                <label class=\"label mb-0\">{{\n                                                        $t(\"suppliers_invoice_no\")\n                                                    }}</label>\n                                                <v-text-field\n                                                    class=\"mt-1 mr-0\"\n                                                    outlined\n                                                    v-model=\"purchase.billNo\"\n                                                    tage=\"Vendor Invoice Number.\"\n                                                    :rules=\"[(v) => !!v || 'required']\"\n                                                    required\n                                                />\n                                            </v-col>\n                                            <v-col sm=\"8\" cols=\"12\" class=\"pt-4\">\n                                                <v-row>\n                                                    <v-col sm=\"6\" cols=\"12\" class=\" pt-0\">\n                                                        <p class=\"mb-1 d-block\">\n                                                            {{ $t(\"current_balance\") }}\n                                                        </p>\n                                                        <h3 class=\"primary--text float-right\">\n                                                            {{ numberFormat(purchase.currentBalance) }}\n                                                            {{ baseCurrencyCode }}\n                                                        </h3>\n                                                    </v-col>\n                                                    <v-col sm=\"6\" cols=\"12\" class=\"pl-0 pt-0\">\n                                                        <p class=\"mb-1 d-block\">\n                                                            {{ $t(\"credit_limit_allowed\") }}\n                                                        </p>\n                                                        <h3 class=\"primary--text float-left\">\n                                                            {{\n                                                                creditLimitUsage(\n                                                                    purchase.currentBalance,\n                                                                    purchase.creditLimit\n                                                                )\n                                                            }}\n                                                        </h3>\n                                                        <h3 class=\"primary--text float-right\">\n                                                            {{ numberFormat(purchase.creditLimit) }}\n                                                            {{ baseCurrencyCode }}\n                                                        </h3>\n                                                    </v-col>\n                                                </v-row>\n                                                <v-row\n                                                    style=\"background-color: #fff;\"\n                                                    class=\"mr-0 mt-2\"\n                                                >\n                                                    <v-col class=\"pb-0 pt-3\" sm=\"6\" cols=\"12\">\n                                                        <label class=\"label mb-0\">{{ $t(\"term\") }}</label>\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            v-model=\"purchase.paymentTerm\"\n                                                            :items=\"paymentTerms\"\n                                                            :rules=\"[(v) => !!v['id'] || 'required']\"\n                                                            @change=\"onPaymentTermChanged\"\n                                                            placeholder=\"Term\"\n                                                            item-text=\"name\"\n                                                            item-value=\"id\"\n                                                            return-object\n                                                            outlined\n                                                        />\n\n                                                        <label class=\"label mb-0\">{{\n                                                                $t(\"account_payable\")\n                                                            }}</label>\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            v-model=\"purchase.apAcc\"\n                                                            :items=\"accPayable\"\n                                                            item-value=\"id\"\n                                                            :rules=\"[(v) => !!v['id'] || 'required']\"\n                                                            :item-text=\"(item) => `${item.number} - ${item.name}` \"\n                                                            return-object\n                                                            placeholder=\"Account Payable\"\n                                                            tage=\"Account Payable\"\n                                                            outlined\n                                                        />\n                                                        <label class=\"label mb-0\">{{\n                                                                $t(\"vendor_invoice_date\")\n                                                            }}</label>\n                                                        <app-datepicker\n                                                            :initialDate=\"purchase.billDate\"\n                                                            @emitDate=\"billDate = $event\"\n                                                        />\n                                                    </v-col>\n                                                    <v-col class=\"pb-0 pt-3\" sm=\"6\" cols=\"12\">\n                                                        <label class=\"label  mb-0\">{{\n                                                                $t(\"due_date\")\n                                                            }}</label>\n                                                        <app-datepicker\n                                                            :initialDate=\"purchase.dueDate\"\n                                                            @emitDate=\"dueDate = $event\"\n                                                        />\n                                                        <label class=\"label mb-0\">{{\n                                                                $t(\"price_level\")\n                                                            }}</label>\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            v-model=\"purchase.priceLevel\"\n                                                            :items=\"priceLevel\"\n                                                            item-value=\"id\"\n                                                            @change=\"onPriceLevelChange\"\n                                                            :disabled=\"disabledSLP\"\n                                                            :rules=\"[(v) => !!v['id'] || 'required']\"\n                                                            item-text=\"name\"\n                                                            return-object\n                                                            placeholder=\"Price Level\"\n                                                            tage=\"Default Price Level\"\n                                                            outlined\n                                                        />\n                                                        <v-col\n                                                            sm=\"12\"\n                                                            col=\"12\"\n                                                            class=\"d-flex justify-space-between pt-0\"\n                                                        >\n                                                            <div>\n                                                                <p class=\"label mb-0\">{{ $t(\"currency\") }}</p>\n                                                                <p class=\"label mb-0 mt-4\">\n                                                                    {{ currencyCode }}\n                                                                </p>\n                                                            </div>\n                                                            <div>\n                                                                <p class=\"label mb-0\">{{ $t(\"rate\") }}</p>\n                                                                <p class=\"label mb-0 mt-4\">\n                                                                    {{ transactionRate }}\n                                                                </p>\n                                                            </div>\n                                                        </v-col>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n                                    <v-row style=\"background-color: #fff;\">\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0 px-4\">\n                                            <kendo-datasource\n                                                ref=\"itemLineDS\"\n                                                :data=\"itemLines\"\n                                                :change=\"dataSourceChanged\"\n                                            />\n                                            <kendo-grid\n                                                id=\"gridItemLine\"\n                                                class=\"grid-function\"\n                                                :data-source-ref=\"'itemLineDS'\"\n                                                :sortable=\"false\"\n                                                :column-menu=\"true\"\n                                                :editable=\"true\"\n                                                v-on:databound=\"dataBound\"\n                                                :scrollable-virtual=\"true\">\n                                                <kendo-grid-column\n                                                    :command=\"{ iconClass: 'k-icon k-i-trash', text: ' ',  click: removeRow, className: 'isEditable', }\"\n                                                    :title=\"' '\"\n                                                    :width=\"70\"\n                                                    :headerAttributes=\"{ style:'text-align: left; background-color: #EDF1F5', }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :title=\"$t('no.')\"\n                                                    :width=\"55\"\n                                                    :column-menu=\"false\"\n                                                    :template=\"rowNumberTmpl\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5;',\n                            class: 'text-products',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: products' }\"\n                                                />\n\n                                                <kendo-grid-column\n                                                    :field=\"'item'\"\n                                                    :title=\"$t('item')\"\n                                                    :template=\"itemTemplate\"\n                                                    :editor=\"ItemDropDownEditor\"\n                                                    :attributes=\"{ class: 'isEditable'}\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5',}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'description'\"\n                                                    :title=\"$t('description')\"\n                                                    :template=\"'<span>#=description#</span>'\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'qty'\"\n                                                    :title=\"$t('qty')\"\n                                                    :format=\"'{0:n}'\"\n                                                    :template=\"'<span>#=qty#</span>'\"\n                                                    :width=\"80\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'uom'\"\n                                                    :title=\"$t('uom')\"\n                                                    :width=\"120\"\n                                                    :template=\"UOMTemplate\"\n                                                    :editor=\"UOMDropDownEditor\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'cost'\"\n                                                    :title=\"$t('cost')\"\n                                                    :width=\"200\"\n                                                    :template=\"\n                            '<span>#=kendo.toString(cost || 0, decimalFormat)#</span>'\n                          \"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: right' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'amount'\"\n                                                    :title=\"$t('amount')\"\n                                                    :width=\"200\"\n                                                    :editable=\" () => { return false; }\"\n                                                    :template=\"'<span>#=kendo.toString(amount || 0, decimalFormat)#</span>'\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: right' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'vatTax'\"\n                                                    :title=\"$t('tax')\"\n                                                    :width=\"200\"\n                                                    :template=\"vatTemplate\"\n                                                    :editor=\"VatTaxDropDownEditor\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'serviceDate'\"\n                                                    :title=\"$t('date_from')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!purchaseFormContent.serviceDate\"\n                                                    :template=\"\n                            '<span>#= kendo.toString(new Date(serviceDate), dateFormat)#</span>'\n                          \"\n                                                    :editor=\"ServiceDateEditor\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'serviceDateTo'\"\n                                                    :title=\"$t('date_to')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!purchaseFormContent.serviceDateTo\"\n                                                    :template=\"\n                            '<span>#= kendo.toString(new Date(serviceDateTo), dateFormat)#</span>'\n                          \"\n                                                    :editor=\"ServiceDateToEditor\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'discountItem'\"\n                                                    :title=\"$t('discount_item')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!purchaseFormContent.discountItem\"\n                                                    :template=\"discountItemTemplate\"\n                                                    :editor=\"DiscountItemDropDownEditor\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n\n                                                <kendo-grid-column\n                                                    :field=\"'class1'\"\n                                                    :title=\"$t('class_1')\"\n                                                    :hidden=\"!purchaseFormContent.class1\"\n                                                    :template=\"'<span>#=class1.name || ``#</span>'\"\n                                                    :width=\"200\"\n                                                    :editor=\"ClassEditor.class1\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'class2'\"\n                                                    :title=\"$t('class_2')\"\n                                                    :hidden=\"!purchaseFormContent.class2\"\n                                                    :template=\"'<span>#=class2.name || ``#</span>'\"\n                                                    :width=\"200\"\n                                                    :editor=\"ClassEditor.class2\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'class3'\"\n                                                    :title=\"$t('class_3')\"\n                                                    :hidden=\"!purchaseFormContent.class3\"\n                                                    :template=\"'<span>#=class3.name || ``#</span>'\"\n                                                    :width=\"200\"\n                                                    :editor=\"ClassEditor.class3\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'class4'\"\n                                                    :title=\"$t('class_4')\"\n                                                    :hidden=\"!purchaseFormContent.class4\"\n                                                    :template=\"'<span>#=class4.name || ``#</span>'\"\n                                                    :width=\"200\"\n                                                    :editor=\"ClassEditor.class4\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'class5'\"\n                                                    :title=\"$t('class_5')\"\n                                                    :hidden=\"!purchaseFormContent.class5\"\n                                                    :template=\"'<span>#=class5.name || ``#</span>'\"\n                                                    :width=\"200\"\n                                                    :editor=\"ClassEditor.class5\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                            </kendo-grid>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n                                            <v-btn\n                                                class=\"float-left btn_plus mr-2\"\n                                                @click=\"addRow\"\n                                            >\n                                                <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                            </v-btn>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <v-row>\n                                                <v-col class=\"pt-0\" sm=\"5\" cols=\"6\">\n                                                    <v-card class=\"no-boxshadow pa-3 rounded-4\" color=\"grayBg\">\n                                                        <v-row>\n                                                            <v-col class=\"py-0 pa-4\" sm=\"12\" cols=\"12\">\n                                                                <label class=\"label mb-0\">{{\n                                                                        $t(\"billing_address\")\n                                                                    }}</label>\n                                                                <v-select\n                                                                    class=\"mt-1\"\n                                                                    v-model=\"purchase.billingAddress\"\n                                                                    :items=\"billingAddress\"\n                                                                    item-value=\"id\"\n                                                                    item-text=\"name\"\n                                                                    tage=\"Billing Address\"\n                                                                    placeholder=\"Address\"\n                                                                    outlined\n                                                                />\n                                                                <label class=\"label mb-0\">{{\n                                                                        $t(\"pickup_delivery_address\")\n                                                                    }}</label>\n                                                                <v-select\n                                                                    class=\"mt-1\"\n                                                                    v-model=\"purchase.deliveryAddress\"\n                                                                    :items=\"deliveryAddress\"\n                                                                    item-value=\"id\"\n                                                                    item-text=\"name\"\n                                                                    tage=\"Pickup/ Delivery Address\"\n                                                                    placeholder=\"Address\"\n                                                                    outlined\n                                                                />\n                                                                <label class=\"label  mb-0\">{{\n                                                                        $t(\"pickup_delivery_date_time\")\n                                                                    }}</label>\n                                                                <app-datepicker\n                                                                    :initialDate=\"purchase.deliveryDateTime\"\n                                                                    @emitDate=\"deliveryDateTime = $event\"\n                                                                />\n\n                                                                <label>{{ $t(\"message_on_invoice\") }}</label>\n                                                                <v-textarea\n                                                                    class=\"mt-1\"\n                                                                    v-model=\"purchase.transactionNote\"\n                                                                    outlined\n                                                                    no-resize\n                                                                    height=\"70px\"\n                                                                    tage=\"Message on Purchase\"\n                                                                    placeholder=\"This will appear on the Purchase\"\n                                                                />\n                                                                <label>{{ $t(\"message_on_journal\") }}</label>\n                                                                <v-textarea\n                                                                    class=\"mt-1\"\n                                                                    v-model=\"purchase.journalNote\"\n                                                                    outlined\n                                                                    no-resize\n                                                                    height=\"70px\"\n                                                                    tage=\"Message on Order\"\n                                                                    placeholder=\"This will appear on the journal\"\n                                                                />\n                                                            </v-col>\n                                                        </v-row>\n                                                    </v-card>\n                                                </v-col>\n                                                <v-col class=\"pt-0\" sm=\"7\" cols=\"6\">\n                                                    <v-simple-table>\n                                                        <template v-slot:default>\n                                                            <tbody>\n                                                            <tr>\n                                                                <td class=\"text-left pr-0\">\n                                                                    {{ $t(\"subtotal\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    {{ numberFormat(purchase.subTotal) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left pr-0\">\n                                                                    {{ $t(\"general_discount\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    ({{ numberFormat(purchase.discountTotal) }})\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left pr-0\">\n                                                                    {{ $t(\"total_tax\") }}\n                                                                    <v-btn\n                                                                        @click=\"dialogTax = true\"\n                                                                        color=\"primary\"\n                                                                        outlined\n                                                                        class=\"text-white text-bold  float-right text-uppercase\"\n                                                                        style=\"height: 30px !important;\"\n                                                                    >\n                                                                        {{ $t(\"tax\") }}\n                                                                    </v-btn>\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    {{ numberFormat(purchase.totalTaxAmount) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left pr-0\" width=\"240px\">\n                                                                    <v-select\n                                                                        class=\"mt-3\"\n                                                                        v-model=\"purchase.specificDiscountItem\"\n                                                                        :items=\"specificDiscountItem\"\n                                                                        item-text=\"name\"\n                                                                        @change=\"onSpecificDiscountChanged\"\n                                                                        item-value=\"id\"\n                                                                        return-object\n                                                                        clearable\n                                                                        outlined\n                                                                    />\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    ({{\n                                                                        numberFormat(\n                                                                            purchase.specificDiscountTotal\n                                                                                ? purchase.specificDiscountTotal\n                                                                                : 0\n                                                                        )\n                                                                    }})\n                                                                </td>\n                                                            </tr>\n                                                            <!--                                                            <tr>-->\n                                                            <!--                                                                <td class=\"text-left\">{{ $t('delivery') }}</td>-->\n                                                            <!--                                                                <td class=\"text-center\">:</td>-->\n                                                            <!--                                                                <td class=\"text-right\">{{ invoice.deliveryFee }}</td>-->\n                                                            <!--                                                            </tr>-->\n\n                                                            <tr\n                                                                v-for=\"(num, index) in numSelect\"\n                                                                :key=\"index\"\n                                                                class=\"hide_form_alert\"\n                                                            >\n                                                                <td class=\"text-left text-uppercase pr-0\">\n                                                                    <v-btn\n                                                                        v-if=\"num == 1\"\n                                                                        @click=\"addSelect\"\n                                                                        class=\"float-left mt-2 mr-1 pa-1\"\n                                                                        small\n                                                                    >\n                                                                        <v-icon\n                                                                            color=\"primary\"\n                                                                            size=\"16\"\n                                                                            class=\"ma-1\"\n                                                                        >\n                                                                            mdi-plus\n                                                                        </v-icon>\n                                                                    </v-btn>\n                                                                    <v-btn\n                                                                        v-if=\"num > 1\"\n                                                                        @click=\"removeSelect(index)\"\n                                                                        class=\"float-left mt-2 mr-1 pa-1\"\n                                                                        small\n                                                                    >\n                                                                        <v-icon\n                                                                            color=\"primary\"\n                                                                            size=\"16\"\n                                                                            class=\"ma-1\"\n                                                                        >\n                                                                            fa-trash\n                                                                        </v-icon>\n                                                                    </v-btn>\n                                                                    <v-select\n                                                                        class=\"my-2 capitalize\"\n                                                                        v-model=\"mOtherCharge[index]\"\n                                                                        :items=\"otherChargeList\"\n                                                                        item-text=\"name\"\n                                                                        @change=\"onOtherChargeChange\"\n                                                                        item-value=\"id\"\n                                                                        return-object\n                                                                        clearable\n                                                                        outlined\n                                                                    />\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td\n                                                                    class=\"text-right primary--text text-bold\"\n                                                                >\n                                                                    {{\n                                                                        numberFormat(\n                                                                            onOtherAmount(mOtherCharge[index])\n                                                                        )\n                                                                    }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left text-uppercase pr-0\">\n                                                                    {{ $t(\"total\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td\n                                                                    class=\"text-right primary--text text-bold\"\n                                                                    id=\"total\"\n                                                                >\n                                                                    {{ numberFormat(purchase.total) }}\n                                                                </td>\n                                                            </tr>\n                                                            <!--                                                            <tr>-->\n                                                            <!--                                                                <td class=\"text-left text-uppercase pr-0\">-->\n                                                            <!--                                                                    {{ $t(\"total_after_withholding\") }}-->\n                                                            <!--                                                                </td>-->\n                                                            <!--                                                                <td class=\"text-center\">:</td>-->\n                                                            <!--                                                                <td-->\n                                                            <!--                                                                    class=\"text-right primary&#45;&#45;text text-bold\"-->\n                                                            <!--                                                                    id=\"total_\"-->\n                                                            <!--                                                                >-->\n                                                            <!--                                                                    {{-->\n                                                            <!--                                                                        numberFormat(purchase.totalAfterWithholdingTax)-->\n                                                            <!--                                                                    }}-->\n                                                            <!--                                                                </td>-->\n                                                            <!--                                                            </tr>-->\n                                                            <tr>\n                                                                <td class=\"text-left pr-0\">\n                                                                    {{ $t(\"deposit\") }}\n                                                                    <span class=\"float-right primary--text\">{{\n                                                                            numberFormat(purchase.depositAmount)\n                                                                        }}</span>\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right hide_form_alert\">\n                                                                    <v-text-field\n                                                                        class=\" text-right float-right deposite_input\"\n                                                                        v-model=\"purchase.depositDeduction\"\n                                                                        @change=\"onDepositDeductionChange\"\n                                                                        min=0\n                                                                        type=\"number\"\n                                                                        tage=\"Deposit\"\n                                                                        width=\"80\"\n                                                                        outlined\n                                                                    />\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left\">\n                                                                    {{ $t(\"amount_due\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td\n                                                                    class=\"text-right primary--text text-bold\"\n                                                                >\n                                                                    {{ numberFormat(purchase.remainingAmount) }}\n                                                                </td>\n                                                            </tr>\n<!--                                                            <tr>-->\n<!--                                                                <td class=\"text-left\">{{ $t(\"dr\") }}</td>-->\n<!--                                                                <td class=\"text-center\">:</td>-->\n<!--                                                                <td-->\n<!--                                                                    class=\"text-right primary&#45;&#45;text text-bold\"-->\n<!--                                                                >-->\n<!--                                                                    {{ (purchase.dr) }}-->\n<!--                                                                </td>-->\n<!--                                                            </tr>-->\n<!--                                                            <tr>-->\n<!--                                                                <td class=\"text-left\">{{ $t(\"cr\") }}</td>-->\n<!--                                                                <td class=\"text-center\">:</td>-->\n<!--                                                                <td-->\n<!--                                                                    class=\"text-right primary&#45;&#45;text text-bold\"-->\n<!--                                                                >-->\n<!--                                                                    {{ (purchase.cr) }}-->\n<!--                                                                </td>-->\n<!--                                                            </tr>-->\n                                                            </tbody>\n                                                        </template>\n                                                    </v-simple-table>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n                                    <v-divider/>\n                                    <v-card outlined dense class=\"no_border function_footer\">\n                                        <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                                            <span v-html=\"errorMessage\"/>\n                                        </v-alert>\n                                        <v-menu>\n                                            <template v-slot:activator=\"{ on }\">\n                                                <v-btn\n                                                    class=\"mr-2 float-left select_template\"\n                                                    v-on=\"on\"\n                                                >\n                                                    {{ $t(\"select_template\") }}\n                                                    <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                                </v-btn>\n                                            </template>\n                                            <v-list>\n                                                <v-list-item\n                                                    v-for=\"(item, index) in templates\"\n                                                    :key=\"index\"\n                                                >\n                                                    <v-list-item-title>{{\n                                                            item.title\n                                                        }}\n                                                    </v-list-item-title>\n                                                </v-list-item>\n                                            </v-list>\n                                        </v-menu>\n                                        <v-btn\n                                            outlined\n                                            class=\"text-capitalize  black--text float-left\"\n                                            color=\"primary\"\n                                            @click=\"cancel\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <v-btn\n                                            class=\"float-right text-capitalize  white--text\"\n                                            @click=\"onSaveClose(false)\"\n                                            color=\"primary\">\n                                            {{ $t(\"save_close\") }}\n                                        </v-btn>\n                                        <v-btn color=\"secondary\"\n                                               style=\"margin-right: 10px !important\"\n                                               class=\"white--text float-right text-capitalize\"\n                                               @click=\"onSaveClose(true)\" :hidden=\"hiddenButton\">{{ $t(\"save_new\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-col>\n                                <v-col\n                                    class=\"smallSide pl-2 pt-0\"\n                                    sm=\"4\"\n                                    style=\"transition: .3s ease-in;\"\n                                    :class=\"{ hide_small_bar_class: isHideBar }\"\n                                >\n                                    <div class=\"d-flex justify-end\">\n                                        <h3\n                                            style=\"color: #b3b5bc; font-size:20px;\"\n                                            v-if=\"!isHideBar\"\n                                            class=\"text-uppercase\"\n                                        >\n                      <span class=\"pointer\" @click=\"Help('purchase')\">\n                        {{ $t(\"help\") }}\n                      </span>\n                                            <v-icon\n                                                @click=\"cancel()\"\n                                                style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                                class=\"float-right mt-n1\"\n                                            >close\n                                            </v-icon>\n                                        </h3>\n                                    </div>\n                                    <div\n                                        v-if=\"!isHideBar\"\n                                        class=\"small_sidebar rounded-4 mt-2 px-4 pt-4 grayBg\"\n                                    >\n                                        <v-card outlined dense class=\"pa-3 no_border my_card rounded-4 white--text\"\n                                                color=\"primary\" height=\"60px\">\n                                            <h3 class=\"text-left font_13 flex-1 text-uppercase\">{{\n                                                    $t('amount_due')\n                                                }}</h3>\n                                            <h3 class=\"text-right flex-1 font_20 niradei_heavy\">\n                                                {{ numberFormat(purchase.amountDue) }} </h3>\n                                        </v-card>\n                                        <v-row>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"pt-4\">\n                                                <label class=\"label mb-0\">{{ $t(\"segment\") }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    v-model=\"purchase.segment\"\n                                                    :items=\"segments\"\n                                                    item-value=\"id\"\n                                                    :rules=\"[(v) => !!v['id'] || 'required']\"\n                                                    @change=\"loadPurchaseOrder\"\n                                                    :disabled=\"disabledSLP\"\n                                                    :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                    return-object\n                                                    tage=\"Segment\"\n                                                    placeholder=\"Segment\"\n                                                    outlined=\"\"\n                                                />\n                                                <label class=\"label mb-0\">{{ $t(\"location\") }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    v-model=\"purchase.location\"\n                                                    :items=\"locations\"\n                                                    :disabled=\"disabledSLP\"\n                                                    @change=\"loadPurchaseOrder\"\n                                                    item-value=\"id\"\n                                                    :rules=\"[(v) => !!v['id'] || 'required']\"\n                                                    :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                    return-object\n                                                    tage=\"Location\"\n                                                    placeholder=\"bu/location\"\n                                                    outlined=\"\"\n                                                />\n                                                <label class=\"label font_14\">{{ $t(\"project\") }}</label>\n                                                <v-select\n                                                    class=\" mt-1\"\n                                                    v-model=\"purchase.project\"\n                                                    :items=\"customerProjects\"\n                                                    :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                    item-value=\"id\"\n                                                    clearable\n                                                    tage=\"Customer Project\"\n                                                    placeholder=\"project\"\n                                                    outlined\n                                                />\n                                                <label class=\"label font_14\">{{\n                                                        $t(\"employee\")\n                                                    }}</label>\n                                                <v-col\n                                                    sm=\"12\"\n                                                    cols=\"12\"\n                                                    class=\"kendo_dropdown_custom pl-0 pr-0 pb-3 pt-0\"\n                                                >\n                                                    <dropdownlist\n                                                        :data-items=\"employees\"\n                                                        @change=\"onEmployeeChanged\"\n                                                        :value=\"mEmployee\"\n                                                        :data-item-key=\"'id'\"\n                                                        :text-field=\"'name'\"\n                                                        :default-item=\"defaultItem\"\n                                                        :filterable=\"true\"\n                                                        @filterchange=\"onEmployeeFilterChanged\"\n                                                    >\n                                                    </dropdownlist>\n                                                </v-col>\n                                                <label class=\"label\">{{ $t(\"for_month_of\") }}</label>\n                                                <month-picker\n                                                    :initialMonth=\"monthOf\"\n                                                    @emitMonth=\"monthOf = $event\"\n                                                />\n                                            </v-col>\n                                        </v-row>\n                                        <v-divider/>\n                                        <v-row>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n                                                <v-row>\n                                                    <v-col sm=\"12\" cols=\"12\">\n                                                        <label\n                                                            class=\"label text-bold text-uppercase\">{{\n                                                                $t('tnc_to_be_added')\n                                                            }}</label>\n                                                        <LoadingMe :isLoading=\"showLoadingTxn\" :fullPage=\"false\"\n                                                                   :myLoading=\"true\"\n                                                                   type=\"loading\"/>\n                                                        <v-row v-for=\"item in purchaseOrders\" v-bind:key=\"item.id\">\n                                                            <v-col sm=\"10\" cols=\"10\" class=\"py-0 pr-0\">\n                                                                <v-card\n                                                                    outlined\n                                                                    color=\"third\"\n                                                                    class=\"px-3 py-1 white--text no-boxshadow no_border justify-left d-flex\"\n                                                                    style=\" height: 38px\">\n                                                                    <p class=\"mb-0\" style=\"width: 100%\">\n                                                            <span\n                                                                class=\"pl-3 py-1 float-left\">{{\n                                                                    item.referenceNo\n                                                                }}</span>\n                                                                    </p>\n                                                                </v-card>\n                                                            </v-col>\n                                                            <v-col sm=\"2\" cols=\"2\" class=\"py-0  pl-1\">\n                                                                <v-btn\n                                                                    class=\"text-white text-bold float-right text-uppercase\"\n                                                                    outlined\n                                                                    icon\n                                                                    color=\"primary\"\n                                                                    style=\"height: 30px\"\n                                                                    @click=\"addPurchaseOrder(item)\">\n                                                                    <v-icon>mdi-plus</v-icon>\n                                                                </v-btn>\n                                                            </v-col>\n                                                        </v-row>\n                                                    </v-col>\n                                                </v-row>\n\n                                                <v-divider/>\n                                                <v-row v-if=\"expenses.length >0\">\n                                                    <v-col sm=\"12\" cols=\"12\">\n                                                        <div class=\"justify-space-between\">\n                                                            <label\n                                                                class=\"label lb_bold text-bold text-uppercase\">{{\n                                                                    $t('additional_cost')\n                                                                }}</label>\n                                                            <p class=\"mb-2\">{{ $t('total') }}:\n                                                                {{ numberFormat(additionalCostTotal) }}</p>\n                                                        </div>\n                                                        <label class=\"label mb-0\">{{ $t(\"method\") }}</label>\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            :items=\"methods\"\n                                                            @change=\"onMethodChanged\"\n                                                            v-model=\"purchase.additionalCostMethod\"\n                                                            placeholder=\"Method\"\n                                                            return-object\n                                                            outlined\n                                                        />\n                                                        <LoadingMe :isLoading=\"showLoadingTxnAdditionalCost\"\n                                                                   :fullPage=\"false\"\n                                                                   :myLoading=\"true\"\n                                                                   type=\"loading\"/>\n                                                        <v-row v-for=\"(item,i) in expenses\" v-bind:key=\"item.id\">\n                                                            <v-col sm=\"10\" cols=\"10\" class=\"py-0 pr-0\">\n                                                                <v-card\n                                                                    outlined\n                                                                    color=\"third\"\n                                                                    class=\"px-2 py-2 white--text no-boxshadow d-flex justify-space-between no_border\"\n                                                                    style=\" height: 38px\">\n                                                                    <p class=\"ma-0 font_14\">\n                                                                        {{ item.referenceNo || '' }}</p>\n                                                                    <p class=\"ma-0 font_14\">\n                                                                        {{ numberFormat(item.exchangeAmount) || 0 }}</p>\n\n                                                                </v-card>\n                                                            </v-col>\n                                                            <v-col sm=\"2\" cols=\"1\" class=\"py-0  pl-1\">\n                                                                <v-checkbox class=\"ma-0\" v-model=\"chkChecked[i]\"\n                                                                            :value=\"item\"\n                                                                            :disabled=\"disableMe\"\n                                                                            @change=\"onCheckChanged(item)\"/>\n                                                            </v-col>\n                                                        </v-row>\n\n                                                        <!--                                                        <v-row>-->\n                                                        <!--                                                            <v-col sm=\"12\" cols=\"12\" class=\"py-0\">-->\n                                                        <!--                                                                <label class=\"text-bold ml-9\" style=\"font-size: 12px;\">1.-->\n                                                        <!--                                                                    {{ $t('expenses') }}</label>-->\n                                                        <!--                                                            </v-col>-->\n                                                        <!--                                                            <v-col sm=\"8\" cols=\"8\" class=\"py-0 pr-0\">-->\n                                                        <!--                                                                <v-card outlined-->\n                                                        <!--                                                                        color=\"third\"-->\n                                                        <!--                                                                        class=\"px-3  white&#45;&#45;text py-1  no-boxshadow no_border justify-left d-flex\"-->\n                                                        <!--                                                                        style=\" height: 40px\">-->\n                                                        <!--                                                                    <input type=\"checkbox\"-->\n                                                        <!--                                                                           class=\"checkbox_inv float-left mt-2\"/>-->\n                                                        <!--                                                                </v-card>-->\n                                                        <!--                                                            </v-col>-->\n                                                        <!--                                                            <v-col sm=\"4\" cols=\"4\" class=\"py-0  pl-1\">-->\n                                                        <!--                                                                <v-select class=\" pl-3 exp_select\"-->\n                                                        <!--                                                                          :items=\"expense\"-->\n                                                        <!--                                                                          label=\"Equal\"-->\n                                                        <!--                                                                          outlined-->\n                                                        <!--                                                                />-->\n                                                        <!--                                                            </v-col>-->\n                                                        <!--                                                        </v-row>-->\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </div>\n                                    <p class=\"pa-3 mb-0 mt-20 detial_smallside_p font_14\">\n                                        {{ $t(\"credit_purchase_desc\") }}\n                                    </p>\n                                </v-col>\n                            </v-row>\n                        </v-form>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe :isLoading=\"showLoading\" :fullPage=\"false\" :myLoading=\"true\"/>\n            <v-dialog v-model=\"dialogTax\" max-width=\"450px\">\n                <v-card>\n                    <div class=\"modal_header\">\n                        <v-card-title>{{ $t(\"tax_list\") }}</v-card-title>\n                        <v-icon @click=\"dialogTax = false\">close</v-icon>\n                    </div>\n                    <v-card-text class=\"modal_text_content\">\n                        <v-row>\n                            <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                <v-simple-table>\n                                    <template v-slot:default>\n                                        <tbody>\n                                        <tr\n                                            v-for=\"(value, name) in taxListTotal\"\n                                            v-bind:key=\"name\"\n                                        >\n                                            <td class=\"text-left\" width=\"180px\">{{ name }}</td>\n                                            <td class=\"text-center\">:</td>\n                                            <td class=\"text-right\">\n                                                {{ numberFormat(value) }}\n                                            </td>\n                                        </tr>\n                                        <tr>\n                                            <td class=\"text-left\" width=\"180px\">\n                                                {{ $t(\"total\") }}\n                                            </td>\n                                            <td class=\"text-center\">:</td>\n                                            <td class=\"text-right\">\n                                                {{ numberFormat(purchase.totalTaxAmount) }}\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </template>\n                                </v-simple-table>\n                            </v-col>\n                        </v-row>\n                    </v-card-text>\n                    <v-divider/>\n                </v-card>\n            </v-dialog>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n// import kendo from \"@progress/kendo-ui\"\nimport {i18n} from \"@/i18n\";\nimport PurchaseModel from \"@/scripts/purchase/model/Purchase\";\nimport ItemLineModel from \"@/scripts/purchase/model/ItemLine\";\nimport {uuid} from \"vue-uuid\";\nimport {DropDownList} from \"@progress/kendo-vue-dropdowns\";\nimport kendo from \"@progress/kendo-ui\";\nimport PurchaseFormContentModel from \"@/scripts/model/PurchaseFormContent\";\nimport {dataStore, ShowResource} from \"@/observable/store\";\nimport paymentTermHandler_ from \"@/scripts/paymentterm/handler/paymentTermHandler\";\nimport creditLimitHandler from \"@/scripts/creditLimit/handler/creditLimitHandler\";\nimport saleOrderHandler from \"@/scripts/transactionHandler\";\nimport Helper from \"@/helper\";\nimport settingsHandler from \"@/scripts/settingsHandler\";\n\nconst supplierHandler = require(\"@/scripts/supplierHandler\");\n// import kendo from \"@progress/kendo-ui\";\n\nconst projectHandler = require(\"@/scripts/projectHandler\");\nconst priceLevelHandler = require(\"@/scripts/priceLevelHandler\");\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\");\n\n// const settingsHandler = require(\"@/scripts/settingsHandler\");\nconst employeeHandler = require(\"@/scripts/employeeHandler\");\nconst locationHandler = require(\"@/scripts/locationHandler\");\n// const paymentTermHandler = require(\"@/scripts/paymentTermHandler\");\nconst accountHandler = require(\"@/scripts/handler/accounting/account\");\nconst productVariantHandler = require(\"@/scripts/productVariantHandler\");\nconst uomPriceHandler = require(\"@/scripts/uomPriceHandler\");\nconst discountItemHandler = require(\"@/scripts/discountItemHandler\");\nconst settingHandler = require(\"@/scripts/settingHandler\");\nconst otherChargeHandler = require(\"@/scripts/otherChargeHandler\");\nconst purchaseFormContentHandler = require(\"@/scripts/purchaseFormContentHandler\");\nconst prefixHandler = require(\"@/scripts/prefixHandler\");\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\n\nconst purchaseModel = new PurchaseModel({});\nconst itemLineModel = new ItemLineModel({});\nconst purchaseFormContentModel = new PurchaseFormContentModel({});\nconst $ = kendo.jQuery\n\nconst textField = \"numberName\";\nconst keyField = \"id\";\nconst defaultItem = {[textField]: \"Select vendor...\", [keyField]: null};\nconst emptyItem = {[textField]: \"loading ...\"};\nconst pageSize = 10;\nconst itemLinePrefix = \"lin-\";\nconst loadingData = [];\nwhile (loadingData.length < pageSize) {\n    loadingData.push({...emptyItem});\n}\nconst {ClassEditor} = require(\"@/scripts/kendo_editor/Collections\");\nconst DISCOUNT_TYPE = \"?type=Purchase\";\nconst TRANSACTION_TYPE = \"Purchase\";\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\nconst NATURE = 'purchase'\nexport default {\n    name: \"CreditPurchase\",\n    props: [\"id\", \"transactionDate\"],\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n        \"app-datepicker\": () => import(\"@/components/custom_templates/DatePickerComponent\"),\n        \"month-picker\": () => import(\"@/components/custom_templates/MonthPicker\"),\n        dropdownlist: DropDownList,\n    },\n    data: () => ({\n        isEdit: false,\n        showLoadingTxn: false,\n        showLoadingTxnAdditionalCost: false,\n        mOtherCharge: [],\n        mOtherChargeAmount: [],\n        purchaseOrders: [],\n        numSelect: [1],\n        dialogTax: false,\n        vendorList: [],\n        showLoading: false,\n        bill_date: \"\",\n        alert: false,\n        files: [],\n        // Form validation\n        valid: true,\n        itemLines: [],\n        txnDate: new Date().toISOString().substr(0, 10),\n        billDate: new Date().toISOString().substr(0, 10),\n        invoiceDate: new Date().toISOString().substr(0, 10),\n        monthOf: \"\",\n        templates: [\n            {title: \"Purchase\", value: \"Purchase\"},\n\n        ],\n        isHideBar: false,\n        vendor: {},\n        defaultItem: defaultItem,\n        purchase: purchaseModel,\n        transactionType: [\"Invoice\", \"Commercial Invoice\", \"Tax Invoice\"],\n        cusBaseUrl: supplierHandler.search(),\n        empBaseUrl: employeeHandler.search(),\n        init: {method: \"GET\", accept: \"application/json\", headers: []},\n        pendingRequest: undefined,\n        requestStarted: false,\n        skip: 0,\n        tempSkip: null,\n        total: 0,\n        filter: \"\",\n        referenceNo: \"\",\n        filter_: \"\",\n        textField: \"numberName\",\n        dataItemKey: \"id\",\n        segments: [],\n        employees: [],\n        methods: ['Qty Based', 'Amount Based'],\n        mEmployee: {},\n        customerProjects: [],\n        billingAddress: [],\n        deliveryAddress: [],\n        deliveryDateTime: new Date().toISOString().substr(0, 10),\n        priceLevel: [],\n        locations: [],\n        paymentTerms: [],\n        accPayable: [],\n        currencies: [],\n        itemLine: itemLineModel,\n        uoms: [],\n        tax: [],\n        specificDiscountItem: [],\n        otherChargeList: [],\n        depositBalance: 0,\n        schemaDefinition: {\n            model: {\n                id: \"id\",\n            },\n        },\n        purchaseFormContent: purchaseFormContentModel,\n        ClassEditor: ClassEditor,\n        taxListTotal: {},\n        purchaseTypes: [],\n        taxListDetail: [],\n        supplierDiscountItem: [],\n        lateFeeList: [],\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email,\n        },\n        exchangeRate: {},\n        baseCurrencyCode: \"\",\n        currencyCode: \"\",\n        transactionRate: 1,\n        jRaw: [],\n        refFrom: [],\n        isPriceLevelChanged: false,\n        expenses: [],\n        additionalCostTotal: 0,\n        chkChecked: [],\n        accWithholdingExpense: []\n    }),\n    methods: {\n        dataBound: function (e) {\n            const grid = kendo.jQuery(\"#gridItemLine\").data(\"kendoGrid\");\n            const items = e.sender.items();\n            if (grid) {\n                items.each(function () {\n                    let dataItem = grid.dataItem(this);\n                    $(\"tr[data-uid='\" + dataItem.uid + \"']\").find('.isEditable')\n                        .each(function () {\n                            if (dataItem.isEditable === false) {\n                                $(this).addClass(\"k-state-disabled\");\n                            }\n                        });\n                });\n            }\n        },\n        onMethodChanged() {\n            if (this.isItem()) {\n                this.calculateAdditionalCost()\n                this.autoCalculate()\n            }\n        },\n        onCheckChanged() {\n            if (this.isItem()) {\n                this.additionalCostTotal = 0\n                this.jRaw = []\n                if (this.chkChecked) {\n                    this.chkChecked.forEach(m => {\n                        if (m) {\n                            const xAmount = m.exchangeAmount || 0\n                            this.additionalCostTotal += parseFloat(xAmount)\n                        }\n                    })\n                    this.purchase.additionalCost = this.chkChecked\n                    this.purchase.additionalCostTotal = this.additionalCostTotal\n                    // if (this.purchase.additionalCostMethod === 'Qty Based') {\n                    //     this.percentageApplied()\n                    // } else {\n                    //     this.amountApplied()\n                    // }\n                    this.calculateAdditionalCost()\n                    this.autoCalculate()\n                }\n            }\n        },\n        onPriceLevelChange() {\n            this.isPriceLevelChanged = true\n            this.loadTransactionRate()\n            this.clearUOMItem()\n        },\n        async clearUOMItem() {\n            let ds = this.$refs.itemLineDS.kendoWidget()\n            ds.data().map(n => {\n                n.set('uom', {})\n            })\n            this.isPriceLevelChanged = false\n        },\n        async loadPaymentTermList() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (this.vendor) {\n                        const strFilter = '?id=' + this.vendor.id + '&transactionDate=' + this.purchase.transactionDate + '&type=Vendor'\n                        this.purchase.paymentTerm = {}\n                        paymentTermHandler_.get(strFilter).then((res) => {\n                            if (res.data.statusCode === 200) {\n                                const terms = res.data.data\n                                this.purchase.paymentTerm = terms.term\n                                this.onPaymentTermChanged()\n                            }\n                        });\n                    }\n                }, 10);\n            });\n        },\n        async loadCreditLimit() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (this.vendor) {\n                        const strFilter = '?id=' + this.vendor.id + '&transactionDate=' + this.purchase.transactionDate + '&type=Vendor'\n                        this.purchase.creditLimit = 0\n                        creditLimitHandler.get(strFilter).then((res) => {\n                            if (res.data.statusCode === 200) {\n                                const credit = res.data.data\n                                this.purchase.creditLimit = kendo.parseFloat(credit.amount || 0);\n                            }\n                        });\n                    }\n                }, 10);\n            });\n        },\n        async observerClean(obj) {\n            return Object.keys(obj).reduce(\n                (res, e) => Object.assign(res, {[e]: obj[e]}),\n                {}\n            );\n        },\n        Help(key_search) {\n            ShowResource(key_search);\n        },\n        AmountEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    format: `${this.purchaseFormContent.decimal}`,\n                });\n        },\n        vatTemplate(dataItem) {\n            const vat = dataItem.vatTax || {};\n            if (vat) {\n                return `<span>${vat.defaultTax ? vat.defaultTax : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        itemTemplate(dataItem) {\n            const item = dataItem.item;\n            if (item) {\n                return `<span>${item.name ? item.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        UOMTemplate(dataItem) {\n            const uom = dataItem.uom || {};\n            const code = uom.code || ''\n            if (uom) {\n                return `<span>${uom.uom ? code : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        discountItemTemplate(dataItem) {\n            const discountItem = dataItem.discountItem;\n            if (discountItem) {\n                return `<span>${discountItem.code ? discountItem.code : ``} - ${\n                    discountItem.name ? discountItem.name : ``\n                }</span>`;\n            } else {\n                return ``;\n            }\n        },\n        addSelect() {\n            let amount_num = this.numSelect.length;\n            let num = this.numSelect[amount_num - 1];\n            let new_num = num + 1;\n            let lenghtItem = this.specificDiscountItem.length;\n            if (new_num <= lenghtItem) {\n                this.numSelect.push(new_num);\n            }\n        },\n        removeSelect(index) {\n            this.numSelect.splice(index, 1);\n            // window.console.log(index, this.numSelect)\n            // this.selectDiscount.splice(index,1)\n            // window.console.log(\"remove\",this.selectDiscount)\n            // this.selectDiscount = this.selectDiscount.filter(item =>  item.id != val.id);\n        },\n        onOtherChargeChange() {\n            let otherCharge = 0;\n            this.mOtherCharge.forEach((m) => {\n                otherCharge += this.autoCalculateDiscount(m, this.purchase.subTotal);\n            });\n            this.purchase.otherChargeAmount = otherCharge;\n            this.autoCalculate();\n        },\n        onOtherAmount(value) {\n            return this.autoCalculateDiscount(value, this.purchase.subTotal);\n        },\n        onSpecificDiscountChanged() {\n            this.purchase.specificDiscountTotal = 0;\n            if (this.purchase.specificDiscountItem) {\n                // window.console.log('-changed', this.purchase.specificDiscountItem)\n                this.purchase.specificDiscountTotal =\n                    this.autoCalculateDiscount(\n                        this.purchase.specificDiscountItem,\n                        this.purchase.subTotal\n                    ) || 0;\n                this.purchase.total =\n                    kendo.parseFloat(this.purchase.subTotal) -\n                    (kendo.parseFloat(this.purchase.discountTotal) +\n                        kendo.parseFloat(this.purchase.totalTaxAmount)) -\n                    this.autoCalculateDiscount(\n                        this.purchase.specificDiscountItem,\n                        this.purchase.subTotal\n                    );\n            }\n            this.autoCalculate();\n        },\n        empImpl(dataItem) {\n            let empIds = [];\n            dataItem.employee.forEach((m) => {\n                empIds.push(m.firstName + \" - \" + m.lastName);\n            });\n            // window.console.log(empIds.join(', '))\n            return `<span>${empIds.join(\", \")}</span>`;\n        },\n        uomTmp(dataItem) {\n            window.console.log(dataItem);\n            return dataItem;\n        },\n        onInvoiceTypeChanged() {\n            if (this.$route.params.id === null || this.$route.params.id === \"\") {\n                this.generateNumber();\n            }\n        },\n        autoCalculateTaxByType(tax) {\n            // return by a key\n            const groupAll = (list) =>\n                list.reduce((tax, item) => {\n                    const taxAmount = tax[item.name] || 0;\n                    return Object.assign({}, tax, {\n                        [item.name]: taxAmount + parseFloat(item.amount),\n                    });\n                }, {});\n            this.taxListTotal = groupAll(tax);\n            window.console.log(\"nimol\", groupAll(tax));\n        },\n        onDepositDeductionChange() {\n            const deduct = parseFloat(this.purchase.depositDeduction || 0)\n            if (deduct < 0) {\n                this.purchase.depositDeduction = 0\n            }\n            if (this.purchase.depositDeduction === \"\" || this.purchase.depositDeduction === undefined) {\n                this.purchase.depositDeduction = 0;\n            }\n            const deduction = parseFloat(this.purchase.depositDeduction) || 0;\n            if (deduction > this.purchase.depositAmount) {\n                this.purchase.depositDeduction = this.purchase.depositAmount;\n            }\n\n            this.autoCalculate();\n        },\n        async autoCalculate() {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                subTotal = 0,\n                totalTax = 0,\n                discountTotal = 0,\n                spTax = 0,\n                pltax = 0,\n                otherTax = 0,\n                vatTax = 0,\n                discountInvoice = 0,\n                taxList = [],\n                taxListDetail = [],\n                discountItem = [],\n                discountLine = [],\n                inclusiveTax = 0,\n                taxTypeId = 0,\n                withholdingTaxAmount = 0,\n                whTaxAmount = 0,\n                itemSubtotal = 0,\n                txnItmSubtotal = 0,\n                serviceSubtotal = 0,\n                itemDiscount = 0,\n                serviceDiscount = 0,\n                txnDiscount = 0;\n            let nature = \"\";\n            this.jRaw = [];\n            const rows = ds.data().filter((m) => parseFloat(m.amount) > 0);\n            rows.forEach((value) => {\n                let modifierPrice = 0, incTax = 0;\n                if (value.modifier) {\n                    modifierPrice = kendo.parseFloat(value.modifier.price);\n                }\n\n                let discount = 0;\n                if (value.discountItem) {\n                    const disItemField = value.discountItem;\n                    let subTo =\n                        kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    discount = this.autoCalculateDiscount(value.discountItem, subTo);\n                    value[\"discountAmount\"] = discount;\n                    value[\"discountExchangeAmount\"] =\n                        discount * kendo.parseFloat(this.purchase.txnRate);\n                    if (value.discountItem.hasOwnProperty(\"id\")) {\n                        discountItem.push(value.discountItem);\n                    }\n                    discountTotal += discount ? discount : 0;\n                    if (discount * -1 > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    if (disItemField.account) {\n                        if (disItemField.account.hasOwnProperty(\"id\")) {\n                            this.jRaw.push({\n                                id: disItemField.account.id + \"-\" + nature,\n                                line: new ItemLineModel(value),\n                                description: \"Purchase Discount\",\n                                account: disItemField.account,\n                                accountId: disItemField.account.id,\n                                amount: discount * -1,\n                                exchangeAmount:\n                                    discount * kendo.parseFloat(this.purchase.txnRate) * -1,\n                                type: nature,\n                                typeAs: \"discount\",\n                            });\n                        }\n                    }\n                }\n                if (value.vatTax) {\n                    // window.console.log('Vat Tax', value.tax)\n                    let amt =\n                        kendo.parseFloat(spTax ? spTax : 0) +\n                        kendo.parseFloat(pltax ? pltax : 0) +\n                        kendo.parseFloat(otherTax ? otherTax : 0) +\n                        (kendo.parseFloat(value.amount ? value.amount : 0) -\n                            (discount ? discount : 0));\n                    vatTax = this.autoCalculateTax(value.vatTax, amt);\n                    vatTax = kendo.parseFloat(vatTax) ? kendo.parseFloat(vatTax) : 0;\n                    value[\"vatTaxAmount\"] = vatTax;\n                    value[\"vatTaxExchangeAmount\"] =\n                        vatTax * kendo.parseFloat(this.purchase.txnRate);\n                    const tax = value.vatTax || {};\n                    const baseAmount = tax.baseAmount || '';\n                    window.console.log(tax, \"im tax\");\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            incTax = vatTax\n                        } else {\n                            inclusiveTax += vatTax;\n                        }\n                    }\n                    if (value.vatTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.vatTax.taxType.name,\n                            amount: vatTax,\n                            id: value.vatTax.taxType.id,\n                        });\n                        const vatTax_ = value.vatTax || {}\n                        vatTax_['taxAmount_'] = vatTax\n                        vatTax_['amount'] = value.amount || 0\n                        vatTax_['discount'] = discount || 0\n                        vatTax_['txnRate'] = this.purchase.txnRate || 1\n                        vatTax_['isVat'] = 1\n                        vatTax_.detail = {\n                            specificTax: {},\n                            publicLightingTax: {},\n                            otherTax: {},\n                        }\n                        taxListDetail.push(vatTax_);\n                        window.console.log('vat_', vatTax_)\n                    }\n                    if (value.vatTax.hasOwnProperty(\"taxType\")) {\n                        const taxType = value.vatTax.taxType || {};\n                        taxTypeId = taxType.typeId || 0;\n                    }\n                    let taxAmount = vatTax;\n                    let taxDescription = \"\";\n                    if (taxTypeId === 1) {\n                        nature = \"dr\";\n                        taxAmount = vatTax;\n                        taxDescription = \"Purchase Tax\";\n                    } else if (taxTypeId === 2) {\n                        withholdingTaxAmount += vatTax;\n                        if (taxTypeId === 2 && baseAmount.toLowerCase() === 'net') {\n                            whTaxAmount += vatTax;\n                        }\n                        nature = \"cr\";\n                        taxAmount = vatTax * -1;\n                        taxDescription = \"Withholding Tax\";\n                    } else if (taxTypeId === 10) {\n                        nature = \"cr\";\n                        taxAmount = 0;\n                        taxDescription = \"No Tax\";\n                    }\n                    if (taxAmount > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    const vatTaxField = value.vatTax || {};\n                    if (taxAmount !== 0) {\n                        if (vatTaxField) {\n                            if (vatTaxField.account) {\n                                if (vatTaxField.account.hasOwnProperty(\"id\")) {\n                                    this.jRaw.push({\n                                        id: vatTaxField.account.id + \"-\" + nature,\n                                        line: new ItemLineModel(value),\n                                        description: taxDescription,\n                                        account: vatTaxField.account,\n                                        accountId: vatTaxField.account.id,\n                                        amount: taxAmount,\n                                        exchangeAmount:\n                                            taxAmount * kendo.parseFloat(this.purchase.txnRate),\n                                        type: nature,\n                                        typeAs: \"tax\",\n                                    });\n                                }\n                            }\n                        }\n                    }\n                }\n                totalTax += kendo.parseFloat(spTax ? spTax : 0) + kendo.parseFloat(pltax ? pltax : 0) +\n                    kendo.parseFloat(otherTax ? otherTax : 0) +\n                    kendo.parseFloat(vatTax ? vatTax : 0);\n                subTotal += kendo.parseFloat(value.amount) + modifierPrice - incTax;\n                const amount = kendo.parseFloat(value.amount) + modifierPrice;\n                const amt = this.excludeVATTaxInclusive(value.vatTax, amount, incTax)\n                // const xAmount = (kendo.parseFloat(amt) * kendo.parseFloat(this.purchase.txnRate))\n                const additc = value.additionalCost || 0\n                const itemAmount = amt\n                const itemXAmount = itemAmount * kendo.parseFloat(this.purchase.txnRate);\n\n                const item = value.item;\n                const itmType = item.type || \"\";\n                if (itmType === \"Variant\") {\n                    itemSubtotal +=\n                        kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    itemDiscount += kendo.parseFloat(discount);\n                } else if (itmType === \"Service\") {\n                    serviceSubtotal +=\n                        kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    serviceDiscount += kendo.parseFloat(discount);\n                } else {\n                    txnItmSubtotal +=\n                        kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    txnDiscount += kendo.parseFloat(discount);\n                }\n                if (amt > 0) {\n                    nature = \"dr\";\n                } else {\n                    nature = \"cr\";\n                }\n                if (item) {\n                    if (item.type === \"Service\") {\n                        const plan = item.isPan || false;\n                        if (plan) {\n                            if (item.hasOwnProperty(\"deferredIncomeAcc\")) {\n                                if (item.deferredIncomeAcc.hasOwnProperty(\"id\")) {\n                                    let deferredInAcc = item.deferredIncomeAcc;\n                                    this.jRaw.push({\n                                        id: deferredInAcc.id + \"-\" + nature,\n                                        line: new ItemLineModel(value),\n                                        description: this.purchase.journalNote,\n                                        account: deferredInAcc,\n                                        accountId: deferredInAcc.id,\n                                        amount: itemAmount * -1, // qty*avg_cost ,\n                                        exchangeAmount: itemXAmount, //,\n                                        type: nature,\n                                        typeAs: \"item\",\n                                    });\n                                }\n                            }\n                        } else {\n                            if (item.hasOwnProperty(\"costOfGoodsSoldAcc\")) {\n                                if (item.costOfGoodsSoldAcc.hasOwnProperty(\"id\")) {\n                                    let costOfGoodsSoldAcc = item.costOfGoodsSoldAcc;\n                                    this.jRaw.push({\n                                        id: costOfGoodsSoldAcc.id + \"-\" + nature,\n                                        line: new ItemLineModel(value),\n                                        description: this.purchase.journalNote,\n                                        account: item.costOfGoodsSoldAcc,\n                                        accountId: item.costOfGoodsSoldAcc.id,\n                                        amount: itemAmount, // qty*avg_cost ,\n                                        exchangeAmount: itemXAmount, //xAmount,\n                                        type: nature,\n                                        typeAs: \"item\",\n                                    });\n                                }\n                            }\n                        }\n                    } else if (item.type === \"Variant\") {\n                        const amountWithAddict = (itemAmount + (value.amountApplied || 0))\n                        window.console.log('additc', additc, '-', itemAmount)\n                        if (item.hasOwnProperty(\"inventoryAcc\")) {\n                            if (item.inventoryAcc.hasOwnProperty(\"id\")) {\n                                let inventoryAcc = item.inventoryAcc;\n                                this.jRaw.push({\n                                    id: inventoryAcc.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    description: this.purchase.journalNote,\n                                    account: item.inventoryAcc,\n                                    accountId: item.inventoryAcc.id,\n                                    amount: amountWithAddict, // qty*avg_cost ,\n                                    exchangeAmount: amountWithAddict * (this.purchase.txnRate || 1), //xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                    } else if (item.type === \"Fixed Asset\") {\n                        if (item.hasOwnProperty(\"assetAcc\")) {\n                            if (item.assetAcc.hasOwnProperty(\"id\")) {\n                                let assetAcc = item.assetAcc;\n                                this.jRaw.push({\n                                    id: assetAcc.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    description: this.purchase.journalNote,\n                                    account: item.assetAcc,\n                                    accountId: item.assetAcc.id,\n                                    amount: itemAmount, // qty*avg_cost ,\n                                    exchangeAmount: itemXAmount, //xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                    } else if (item.type === \"Transaction Item\") {\n                        if (item.hasOwnProperty(\"account\")) {\n                            if (item.account.hasOwnProperty(\"id\")) {\n                                this.jRaw.push({\n                                    id: item.account.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    description: this.purchase.journalNote,\n                                    account: item.account,\n                                    accountId: item.account.id,\n                                    amount: itemAmount, // qty*avg_cost ,\n                                    exchangeAmount: itemXAmount, //xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                    }\n                }\n                //include Tax Amount\n                const amountNodiscount = kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty) - discount;\n                const includeTaxAmount = amountNodiscount + vatTax + pltax + spTax + otherTax;\n                value[\"includeTaxAmount\"] = includeTaxAmount;\n                value[\"includeTaxExchangeAmount\"] = includeTaxAmount * kendo.parseFloat(this.purchase.txnRate);\n            });\n            //todo: WithholdingTax expense\n            this.withholdingExpense(whTaxAmount, this.purchase.txnRate || 1)\n\n            this.purchase.itemSubtotal = itemSubtotal;\n            this.purchase.inclusiveTaxAmount = inclusiveTax;\n            this.purchase.exchangeItemSubtotal = itemSubtotal * kendo.parseFloat(this.purchase.txnRate);\n\n            this.purchase.serviceSubtotal = serviceSubtotal;\n            this.purchase.exchangeServiceSubtotal =\n                serviceSubtotal * kendo.parseFloat(this.purchase.txnRate);\n            this.purchase.txnItmSubtotal = txnItmSubtotal;\n            this.purchase.exchangeTxnItmSubtotal =\n                txnItmSubtotal * kendo.parseFloat(this.purchase.txnRate);\n\n            this.purchase.itemDiscount = itemDiscount;\n            this.purchase.exchangeItemDiscount =\n                itemDiscount * kendo.parseFloat(this.purchase.txnRate);\n            this.purchase.serviceDiscount = serviceDiscount;\n            this.purchase.exchangeServiceDiscount =\n                serviceDiscount * kendo.parseFloat(this.purchase.txnRate);\n            this.purchase.txnItmDiscount = txnDiscount;\n            this.purchase.exchangeTxnItmDiscount =\n                txnDiscount * kendo.parseFloat(this.purchase.txnRate);\n\n            let total =\n                kendo.parseFloat(subTotal) -\n                kendo.parseFloat(discountTotal) +\n                kendo.parseFloat(totalTax);\n            this.purchase.subTotal = subTotal;\n            this.purchase.totalTaxAmount = kendo.parseFloat(totalTax);\n            this.purchase.discountTotal = kendo.parseFloat(discountTotal);\n            if (this.purchase.specificDiscountItem) {\n                discountInvoice = this.autoCalculateDiscount(\n                    this.purchase.specificDiscountItem,\n                    kendo.parseFloat(subTotal)\n                );\n                discountInvoice = discountInvoice ? discountInvoice : 0;\n            }\n            // this.onOtherChargeChange()\n            this.purchase.total = kendo.parseFloat(total) - discountInvoice + kendo.parseFloat(this.purchase.otherChargeAmount) //- parseFloat(withholdingTaxAmount);\n            this.purchase.withholdingTaxAmount = withholdingTaxAmount\n            // this.purchase.totalAfterWithholdingTax = kendo.parseFloat(this.purchase.total) - parseFloat(withholdingTaxAmount);\n            this.purchase.remainingAmount = kendo.parseFloat(this.purchase.total) - kendo.parseFloat(this.purchase.depositDeduction) - parseFloat(withholdingTaxAmount);\n            this.purchase.amountDue = kendo.parseFloat(this.purchase.total) - kendo.parseFloat(this.purchase.depositDeduction) - parseFloat(withholdingTaxAmount);\n            this.purchase.exchangeAmount =\n                kendo.parseFloat(this.purchase.amountDue) *\n                kendo.parseFloat(this.purchase.txnRate);\n            // window.console.log('Exchange Amount', this.purchase.exchangeAmount, this.purchase.amountDue)\n            this.autoCalculateTaxByType(taxList);\n            if (this.purchase.specificDiscountItem) {\n                const specificDiscount = this.purchase.specificDiscountItem || {};\n                if (specificDiscount.id) {\n                    discountItem.push(specificDiscount);\n                    discountLine.push({\n                        id: specificDiscount.id,\n                        name: specificDiscount.name,\n                        amount: this.purchase.specificDiscountTotal,\n                        exchangeAmount:\n                            this.purchase.specificDiscountTotal * this.purchase.txnRate,\n                    });\n                }\n            }\n            const uniqueDiscountItem = this.removeDuplicate(discountItem);\n            this.shrinkDiscountItem(uniqueDiscountItem, discountLine);\n            // window.console.log('discount ', this.customerDiscountItem)\n            // todo: raw Journal\n            const apAcc = this.purchase.apAcc || {};\n            if (this.purchase.amountDue * -1 > 0) {\n                nature = \"dr\";\n            } else {\n                nature = \"cr\";\n            }\n            if (apAcc) {\n                if (apAcc.hasOwnProperty(\"id\")) {\n                    this.jRaw.push({\n                        id: apAcc.id + \"-\" + nature,\n                        line: new ItemLineModel({}),\n                        description: this.purchase.journalNote,\n                        account: apAcc,\n                        accountId: apAcc.id,\n                        exchangeAmount: this.purchase.exchangeAmount * -1,\n                        amount: this.purchase.amountDue * -1,\n                        type: nature,\n                        typeAs: \"ap\",\n                    });\n                }\n            }\n            const specificDisc = this.purchase.specificDiscountItem;\n            if (this.purchase.specificDiscountTotal * -1 > 0) {\n                nature = \"dr\";\n            } else {\n                nature = \"cr\";\n            }\n            // window.console.log(specificDisc, 'specificDisc', this.purchase.specificDiscountTotal)\n            if (specificDisc) {\n                if (specificDisc.hasOwnProperty(\"account\")) {\n                    if (specificDisc.account) {\n                        if (specificDisc.hasOwnProperty(\"id\")) {\n                            this.jRaw.push({\n                                id: specificDisc.account.id + \"-\" + nature,\n                                line: new ItemLineModel({}),\n                                description: \"Purchase Discount\",\n                                account: specificDisc.account,\n                                accountId: specificDisc.account.id,\n                                exchangeAmount:\n                                    kendo.parseFloat(this.purchase.specificDiscountTotal) *\n                                    kendo.parseFloat(this.purchase.txnRate) *\n                                    -1,\n                                amount: this.purchase.specificDiscountTotal * -1,\n                                type: nature,\n                                typeAs: \"discount\",\n                            });\n                        }\n                    }\n                }\n            }\n\n            if (this.purchase.depositDeduction * -1 > 0) {\n                nature = \"dr\";\n            } else {\n                nature = \"cr\";\n            }\n            if (this.purchase.depositDeduction) {\n                if (this.purchase.depositDeduction > 0) {\n                    const purchaseDepositAcc = this.vendor.purchaseDepositAcc || {};\n                    if (purchaseDepositAcc) {\n                        if (purchaseDepositAcc.hasOwnProperty(\"id\")) {\n                            this.jRaw.push({\n                                id: purchaseDepositAcc.id + \"-\" + nature,\n                                description: \"Purchase Deposit\",\n                                line: new ItemLineModel({}),\n                                account: purchaseDepositAcc,\n                                accountId: purchaseDepositAcc.id,\n                                exchangeAmount: this.purchase.exchangeDepositDeduction * -1,\n                                amount: this.purchase.depositDeduction * -1,\n                                type: nature,\n                                typeAs: \"deposit\",\n                            });\n                        }\n                    }\n                }\n            }\n            if (this.mOtherCharge.length > 0) {\n                let otherCharge = 0;\n                this.mOtherCharge.forEach((m) => {\n                    otherCharge = this.autoCalculateDiscount(m, this.purchase.subTotal);\n                    if (otherCharge > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    if (m) {\n                        if (m.hasOwnProperty(\"account\")) {\n                            if (m.account.hasOwnProperty(\"id\")) {\n                                const account = m.account;\n                                if (account) {\n                                    if (account.hasOwnProperty(\"id\")) {\n                                        this.jRaw.push({\n                                            id: account.id + \"-\" + nature,\n                                            line: new ItemLineModel({}),\n                                            description: \"Other Charge\",\n                                            account: account,\n                                            accountId: account.id,\n                                            exchangeAmount:\n                                                otherCharge * kendo.parseFloat(this.purchase.txnRate),\n                                            amount: otherCharge,\n                                            type: nature,\n                                            typeAs: \"otherCharge\",\n                                        });\n                                    }\n                                }\n                            }\n                        }\n                    }\n                });\n                // this.purchase.otherChargeAmount = otherCharge\n                window.console.log(this.mOtherCharge);\n            }\n            this.taxListDetail = taxListDetail\n            this.autoCalculateTaxDetail()\n            // todo: end raw Journal\n            // window.console.log(JSON.stringify(this.purchase), 'purchase')\n\n            await this.calculateAdditionalCost()\n            // todo: cook journal\n            this.shrinkData(this.jRaw);\n            // const unique = this.removeDuplicate(this.accounts)\n            // window.console.log(unique, 'unique')\n        },\n        withholdingExpense(amount, txnRate) {\n            // if (this.isItem()) {\n            if (amount > 0) {\n                const nature = 'dr'\n                const account = this.accWithholdingExpense || []\n                if (account.length > 0) {\n                    const iacc = account[0]\n                    this.jRaw.push({\n                        id: iacc.id + \"-\" + nature,\n                        line: new ItemLineModel({}),\n                        description: \"Withholding Tax Expense\",\n                        account: iacc,\n                        accountId: iacc.id,\n                        exchangeAmount: amount * txnRate,\n                        amount: amount,\n                        type: nature,\n                        typeAs: \"Withholding\",\n                    });\n                }\n            }\n            // }\n        },\n        shrinkData(obj) {\n            const uniques = this.removeDuplicate(\n                obj\n            ); /*[...new Set(accountId.map(i => {\n                return {\n                    id_: i.id_,\n                    id: i.id,\n                    type: i.type\n            }))]*/\n            uniques.forEach((n) => {\n                const found = obj.filter((m) => m.id === n.id);\n                let amount = 0;\n                found.forEach((z) => {\n                    amount += parseFloat(z.amount || 0);\n                });\n                n.amount = parseFloat(amount); //this.numberFormat(amount)\n                n.exchangeAmount = parseFloat(\n                    parseFloat(amount * parseFloat(this.purchase.txnRate))\n                ); //this.numberFormat(amount * parseFloat(this.purchase.txnRate)) //.toFixed(this.saleFormContent.decimal)\n            });\n            this.jRaw = uniques;\n            let dr = 0,\n                cr = 0;\n            this.jRaw.forEach((j) => {\n                switch (j.type) {\n                    case \"cr\":\n                        cr += parseFloat(j.exchangeAmount);\n                        break;\n                    case \"dr\":\n                        dr += parseFloat(j.exchangeAmount);\n                        break;\n                    default:\n                        break;\n                }\n            });\n            this.purchase.dr = dr;\n            this.purchase.cr = cr;\n            window.console.log(\"dr=\", dr, \"cr=\", cr, \"dr+cr = \", dr + cr);\n            window.console.log(JSON.stringify(uniques), 'uniques')\n        },\n        shrinkDiscountItem(discountItem, discountLine) {\n            let uniqueDiscountItems = [];\n            const unique = this.removeDuplicate(discountItem);\n            unique.forEach((m) => {\n                const found = discountLine.filter((n) => n.id === m.id);\n                let amount = 0,\n                    exchangeAmount = 0;\n                found.map((o) => {\n                    amount += o.amount;\n                });\n                found.map((o) => {\n                    exchangeAmount += o.exchangeAmount;\n                });\n                uniqueDiscountItems.push({\n                    id: m.id,\n                    name: m.name,\n                    amount: amount,\n                    exchangeAmount: exchangeAmount,\n                });\n            });\n            this.supplierDiscountItem = uniqueDiscountItems;\n            window.console.log(uniqueDiscountItems, \"uniqueDiscountItems\");\n        },\n        removeDuplicate(array) {\n            const result = [];\n            const map = new Map();\n            for (const item of array) {\n                if (!map.has(item.id)) {\n                    map.set(item.id, true); // set any value to Map\n                    result.push(item);\n                }\n            }\n            return result;\n        },\n        numberFormat(value) {\n            // window.console.log(this.saleFormContent.decimal,'nimol')\n            return kendo.toString(value, `n${this.purchaseFormContent.decimal}`);\n        },\n        autoCalculateDiscount(discountItem, subTotal) {\n            if (discountItem) {\n                const nature = discountItem.nature || ''\n                const amount = discountItem.amount || 0\n                if (nature === 'Amount') {\n                    return parseFloat(amount)\n                } else if (nature === 'Percentage') {\n                    return (subTotal * (parseFloat(amount) / 100))\n                } else {\n                    return 0\n                }\n            } else {\n                return 0\n            }\n        },\n        autoCalculateTax(tax, amount) {\n            if (tax) {\n                var formula = tax.formula;\n                var inAmt = kendo.parseFloat(amount);\n                var nAmt = kendo.parseFloat(amount);\n                var taxBase = kendo.parseFloat(tax.taxBase) / 100;\n                var rate = kendo.parseFloat(tax.rate) / 100;\n                var total = eval(formula);\n                window.console.log(inAmt, nAmt, taxBase, rate, formula, total);\n                return total;\n            }\n            // return 0\n        },\n        taxMapping(objTax, tax) {\n            const taxId = tax.id || ''\n            const tax_ = objTax.filter(t => t.id === taxId)[0]\n            return tax_ || {\n                id: '',\n                defaultTax: ''\n            }\n        },\n        dataSourceChanged(e) {\n            if (e.field) {\n                let dataRow = e.items[0],\n                    buom = {}, vTax = {},\n                    conversionRate = 1,\n                    wac = 0,\n                    qoh = 0,\n                    amount = 0,\n                    xAmount = 0;\n                switch (e.field) {\n                    case \"item\":\n                        // this.attribute_ = this.attributes.filter(m => m.type.id === dataRow.variant.id)\n                        dataRow.set(\"description\", dataRow.item.description);\n                        buom = dataRow.item.uom || {};\n                        dataRow.set(\"buom\", buom);\n                        // dataRow.set('uom', buom)\n                        // window.console.log(dataRow.item,'row')\n                        // await this.inventoryBalance(dataRow, dataRow.item.id)\n                        break;\n                    case \"cost\":\n                        try {\n                            amount = parseFloat(dataRow.cost) * parseFloat(dataRow.qty);\n                            xAmount = amount * parseFloat(this.purchase.txnRate);\n\n                            dataRow.set(\"cost\", parseFloat(dataRow.cost));\n                            dataRow.set(\"amount\", amount);\n                            dataRow.set(\"exchangeAmount\", xAmount);\n                            // window.console.log('price',dataRow.price)\n                        } catch {\n                            dataRow.set(\"cost\", 0);\n                            dataRow.set(\"amount\", 0);\n                            dataRow.set(\"exchangeAmount\", 0);\n                        }\n                        break;\n                    case \"uom\":\n                        if (this.isPriceLevelChanged === false) {\n                            try {\n                                if (dataRow.uom) {\n                                    buom = dataRow.uom.buom || {};\n                                    qoh = dataRow.uom.qoh || 0;\n                                    conversionRate = dataRow.uom.conversionRate || 1;\n                                    wac = dataRow.uom.wac || 0;\n                                    dataRow.set(\"buom\", buom);\n                                    dataRow.set(\"wac\", wac);\n                                    dataRow.set(\"qoh\", qoh);\n                                    /* todo: mapping tax object */\n                                    vTax = this.taxMapping(this.tax, dataRow.uom.purchaseTax || {})\n\n                                    dataRow.set(\"vatTax\", vTax);\n                                    dataRow.set(\"conversionRate\", parseFloat(conversionRate));\n                                    if (dataRow.uom) {\n                                        amount =\n                                            parseFloat(dataRow.uom.cost) * parseFloat(dataRow.qty);\n                                        xAmount = amount * parseFloat(this.purchase.txnRate);\n\n                                        dataRow.set(\"cost\", parseFloat(dataRow.uom.cost));\n                                        dataRow.set(\"amount\", amount);\n                                        dataRow.set(\"exchangeAmount\", xAmount);\n                                    } else {\n                                        amount = parseFloat(dataRow.cost) * parseFloat(dataRow.qty);\n                                        xAmount = amount * parseFloat(this.purchase.txnRate);\n\n                                        dataRow.set(\"cost\", parseFloat(dataRow.cost));\n                                        dataRow.set(\"amount\", amount);\n                                        dataRow.set(\"exchangeAmount\", xAmount);\n                                    }\n                                }\n                            } catch (err) {\n                                window.console.log(\"error\", err);\n                                dataRow.set(\"buom\", {});\n                                dataRow.set(\"conversionRate\", 1);\n                                dataRow.set(\"cost\", 0);\n                                dataRow.set(\"qoh\", 0);\n                                dataRow.set(\"wac\", 0);\n                                dataRow.set(\"amount\", 0);\n                                dataRow.set(\"exchangeAmount\", 0);\n                            }\n                        }\n                        break;\n                    case \"qty\":\n                        try {\n                            amount = parseFloat(dataRow.cost) * parseFloat(dataRow.qty);\n                            xAmount = amount * parseFloat(this.purchase.txnRate);\n\n                            dataRow.set(\"cost\", parseFloat(dataRow.cost));\n                            dataRow.set(\"amount\", amount);\n                            dataRow.set(\"exchangeAmount\", xAmount);\n                        } catch {\n                            dataRow.set(\"cost\", 0);\n                            dataRow.set(\"amount\", 0);\n                            dataRow.set(\"exchangeAmount\", 0);\n                        }\n                        break;\n                    case \"otherTax\":\n                        // window.console.log(\"--\", dataRow)\n                        break;\n                    default:\n                        break;\n                }\n                if (e.field) {\n                    this.autoCalculate();\n                    window.console.log('dataRow', dataRow)\n                }\n            }\n        },\n        ServiceDateEditor(container, options) {\n            kendo\n                .jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDatePicker();\n\n            // let ds = this.$refs.itemLineDS.kendoWidget()\n            // window.console.log(ds.data())\n            // // const dateString = kendo.toString((new Date(options.model.items.serviceDate)), this.itemLine.dateFormat)\n            // // const dateString = kendo.toString(options.model.items.serviceDate)\n            // const $input = $(\"<input value=\" + options.model.serviceDate + \" />\").appendTo(container)\n            // $input.kendoDatePicker()\n            // // $input.appendTo(container)\n            // // options.model.items.serviceDate = dateString\n            // window.console.log($input)\n        },\n        ServiceDateToEditor(container, options) {\n            kendo\n                .jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDatePicker();\n        },\n        ItemDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate:\n                        '<div class=\"dropdown-header k-widget k-header\">' +\n                        \"<span>Items </span>\" +\n                        \"<span></span>\" +\n                        \"</div>\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: productVariantHandler.itemSearchURL('?reUsed=2'),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                        // data: this.variants\n                    }),\n                });\n        },\n        UOMDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"code\",\n                    dataValueField: \"uomConvertId\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=code || ``#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: uomPriceHandler.uomPriceByPriceLevelURL(\n                                    \"id=\" +\n                                    options.model.item.id +\n                                    \"&plId=\" +\n                                    this.purchase.priceLevel.id +\n                                    \"&date=\" +\n                                    this.txnDate + \"&nature=purchase\"\n                                ),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    // name: {type: \"string\"},\n                                    // sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                        // data: this.variants\n                    }),\n                });\n        },\n        DiscountItemDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=code# - #=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: discountItemHandler.getURL(DISCOUNT_TYPE),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    // name: {type: \"string\"},\n                                    // sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                    }),\n                });\n        },\n        VatTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.tax,\n                    }),\n                });\n        },\n        EmployeeDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoMultiSelect({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    suggest: true,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate:\n                        '<div class=\"dropdown-header k-widget k-header\">' +\n                        \"<span>Employee </span>\" +\n                        \"<span></span>\" +\n                        \"</div>\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: employeeHandler.searchURL(),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    firstName: {type: \"string\"},\n                                    lastName: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                    }),\n                });\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        addRow() {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                total = ds.total();\n            this.itemLine.id = itemLinePrefix + uuid.v1();\n            this.itemLine.decimalFormat = \"n\" + this.purchaseFormContent.decimal;\n            this.itemLine.isEditable = true;\n            ds.insert(total, this.itemLine);\n\n            // kendo.jQuery().addClass('edit')\n            // this.itemLines.push(this.itemLine)\n            // window.console.log('item Line', this.itemLine)\n        },\n        onPaymentTermChanged() {\n            // this.onInvoiceDateChanged();\n            if (this.vendor) {\n                const paymentTerm = this.purchase.paymentTerm || {}\n                const netDue = paymentTerm.netDue || 0;\n                const someDate = new Date(this.purchase.transactionDate);\n                someDate.setDate(someDate.getDate() + parseInt(netDue)); //number  of days to add, e.x. 15 days\n                this.purchase.dueDate = someDate;\n                // window.console.log(\"im\", someDate, netDue);\n            }\n        },\n        async onInvoiceDateChanged() {\n            await this.loadPaymentTermList();\n            await this.loadCreditLimit();\n            await this.loadCustomerBalance(this.vendor.id);\n            await this.onPriceLevelChange();\n\n            this.monthOf = kendo.toString(new Date(this.txnDate), 'yyyy-MM')\n            // if (this.vendor) {\n            //     if (this.purchase.hasOwnProperty(\"paymentTerm\")) {\n            //         if (this.purchase.paymentTerm.hasOwnProperty(\"netDue\")) {\n            //             const netDue = this.purchase.paymentTerm.netDue;\n            //             const someDate = new Date(this.txnDate);\n            //             someDate.setDate(someDate.getDate() + parseInt(netDue)); //number  of days to add, e.x. 15 days\n            //             this.purchase.dueDate = someDate.toISOString().substr(0, 10);\n            //             // window.console.log('im', someDate, netDue)\n            //         }\n            //     }\n            // }\n            if (this.$route.params.id === undefined) {\n                this.generateNumber();\n            }\n            this.loadTransactionRate();\n        },\n        async loadPrefix() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    prefixHandler.get(\"purchase\").then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.purchaseTypes = res.data.data;\n                            if (this.purchaseTypes.length > 0) {\n                                this.purchase.transactionType = this.purchaseTypes[0];\n                                if (this.$route.params.id === undefined) {\n                                    this.generateNumber();\n                                }\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadPriceLevel() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = '?&nature=' + NATURE\n                    priceLevelHandler.get(strFilter).then((res) => {\n                        this.priceLevel = res;\n                        if (this.priceLevel.length > 0) {\n                            this.purchase.priceLevel = this.priceLevel[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadDiscountItem() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    discountItemHandler.list(DISCOUNT_TYPE).then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.specificDiscountItem = res.data.data;\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadOtherCharge() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    otherChargeHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.otherChargeList = res.data.data;\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadAccount() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    accountHandler.getAll().then((res) => {\n                        this.showLoading = false;\n                        //Receivable Account\n                        this.accPayable = res.data\n                            .filter((m) => m.account_type.number === 18)\n                            .map((itm) => {\n                                return {\n                                    id: itm.uuid,\n                                    uuid: itm.uuid,\n                                    name: itm.name,\n                                    local_name: itm.local_name,\n                                    number: itm.number,\n                                    is_taxable: itm.is_taxable,\n                                    banhjiAccCode: itm.banhjiAccCode,\n                                    group_code: itm.group_code,\n                                    parent_account: itm.parent_account,\n                                    type_code: itm.type_code,\n                                    account_type: itm.account_type,\n                                };\n                            });\n                        if (this.accPayable.length > 0) {\n                            this.purchase.apAcc = this.accPayable[0];\n                        }\n                        this.accWithholdingExpense = res.data\n                            .filter((m) => parseInt(m.banhjiAccCode) === 843000)\n                            .map((itm) => {\n                                return {\n                                    id: itm.uuid,\n                                    uuid: itm.uuid,\n                                    name: itm.name,\n                                    local_name: itm.local_name,\n                                    number: itm.number,\n                                    is_taxable: itm.is_taxable,\n                                    banhjiAccCode: itm.banhjiAccCode,\n                                    group_code: itm.group_code,\n                                    parent_account: itm.parent_account,\n                                    type_code: itm.type_code,\n                                    account_type: itm.account_type,\n                                };\n                            });\n                    });\n                }, 10);\n            });\n        },\n        async loadPaymentTerm() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = \"?type=pmt-supplier\";\n                    this.paymentTerms = []\n                    settingsHandler.getPaymentTerm(strFilter).then((res) => {\n                        this.showLoading = false;\n                        this.paymentTerms = res.data.data;\n                        if (this.paymentTerms.length > 0) {\n                            this.purchase.paymentTerm = this.paymentTerms[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadLocation() {\n            this.locations = []\n            const roleType = dataStore.roleType || 0\n            window.console.log(' const roleType = dataStore.roleType || 0', dataStore)\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const location = roleData.filter(itm => itm.type === 'location')\n                    const locationDefault = location.filter(m => m.isDefault === 1)\n                    this.locations = location\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        if (locationDefault.length > 0) {\n                            this.purchase.location = locationDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.locations = [];\n                        locationHandler\n                            .list()\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.locations = res.data.data;\n                                } else {\n                                    this.showLoading = false;\n                                }\n                            })\n                    }, 10);\n                });\n            }\n\n        },\n        async loadProjectByCustomer() {\n            this.customerProjects = []\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const project = roleData.filter(itm => itm.type === 'project')\n                    this.customerProjects = project\n                    // project.forEach(k => {\n                    //     const customers = k.customers || []\n                    //     const proCustomer = customers.filter(n => n.customer.id === this.customer.id)\n                    //     if (proCustomer.length > 0) {\n                    //         this.customerProjects.push(k)\n                    //     }\n                    // })\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        const projectDefault = this.customerProjects.filter(m => m.isDefault === 1)\n                        if (projectDefault.length > 0) {\n                            this.purchase.project = projectDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        if (this.vendor) {\n                            // projectHandler.getBySupplier(this.vendor.id).then(res => {\n                            projectHandler\n                                .list()\n                                .then((res) => {\n                                    if (res.data.statusCode === 200) {\n                                        this.showLoading = false;\n                                        this.customerProjects = res.data.data;\n                                        // if (this.customerProjects.length > 0) {\n                                        //     this.purchase.project = this.customerProjects[0];\n                                        // }\n                                    } else {\n                                        this.showLoading = false;\n                                    }\n                                })\n                        }\n                    }, 10);\n                });\n            }\n        },\n        async loadCustomerBalance(id) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = id + \"?type=bal\";\n                    this.purchase.currentBalance = 0;\n                    billingHandler\n                        .balance(strFilter)\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                const data = res.data.data;\n                                if (data.length > 0) {\n                                    this.purchase.currentBalance = data[0].balance;\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadCustomerDepositBalance(id) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = id + \"?type=dep\";\n                    this.purchase.depositAmount = 0;\n                    this.purchase.depositDeduction = 0;\n                    billingHandler\n                        .balance(strFilter)\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                const data = res.data.data;\n                                if (data.length > 0) {\n                                    const amountDeposit = data[0].balance;\n                                    window.console.log(amountDeposit, \"bala\");\n                                    this.purchase.depositAmount =\n                                        amountDeposit / this.purchase.txnRate;\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        creditLimitUsage(balance, creditLimit) {\n            return (\n                kendo.toString(\n                    (balance / creditLimit) * 100,\n                    `n${this.purchaseFormContent.decimal}`\n                ) + \" %\"\n            );\n        },\n        async loadEmployeeCenter() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.employees = [];\n                    employeeHandler\n                        .center(undefined)\n                        .then((res) => {\n                            this.showLoading = true;\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.employees = res.data.data;\n                                if (this.employees.length > 0) {\n                                    this.purchase.employee = this.employees[0];\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadSegment() {\n            this.segments = []\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const segment = roleData.filter(itm => itm.type === 'segment')\n                    const segmentDefault = segment.filter(m => m.isDefault === 1)\n                    this.segments = segment\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        if (segmentDefault.length > 0) {\n                            this.purchase.segment = segmentDefault[0];\n                            window.console.log('dataStore--segmentDefault', segmentDefault)\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.segments = [];\n                        settingsHandler\n                            .getSeg()\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.segments = res.data.data;\n                                }\n                            })\n                    }, 10);\n                });\n            }\n        },\n        async loadTax() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    settingHandler.get().then((res) => {\n                        const taxes = res;\n                        this.tax = taxes.filter(\n                            (m) =>\n                                (m.taxType.typeId === 1 ||\n                                    m.taxType.typeId === 10 ||\n                                    m.taxType.typeId === 2) &&\n                                m.transactionType === \"Purchase\"\n                        ); // valuable tax\n                    });\n                }, 10);\n            });\n        },\n        async onSaveClose(saveSend) {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate();\n                return;\n            }\n            if (this.transactionRate === 0) {\n                this.$snotify.error(i18n.t(\"set_exchange_rate\"));\n                return;\n            }\n\n            let id = \"\";\n            if (this.vendor.hasOwnProperty(\"id\")) {\n                id = this.vendor.id || \"\";\n            }\n            if (id === \"\") {\n                this.$snotify.error(\"vendor is required\");\n                return;\n            }\n            if (this.purchase.billNo == \"\") {\n                this.$snotify.error(\"Vendor Invoice No is required\");\n                return;\n            }\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate();\n                return;\n            }\n            let ds = this.$refs.itemLineDS.kendoWidget();\n            let d1 = ds.data();\n            let dataValidate = 0;\n            await this.autoCalculate();\n            d1.forEach((value, index) => {\n                if (\n                    value.item == undefined ||\n                    value.item.id == undefined ||\n                    value.item.id == null ||\n                    value.uom == undefined ||\n                    value.uom.uom.id == undefined ||\n                    value.uom.uom.id == null\n                ) {\n                    this.$snotify.error(\n                        \"Please check Item or UOM  on row \" + (index + 1)\n                    );\n                } else {\n                    dataValidate += 1;\n                }\n            });\n            if (d1.length == dataValidate) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        let isAutoGenerate = 1;\n                        if (this.$route.params.id) {\n                            const tranDate = new Date(this.txnDate);\n                            const tranDateInvoice = new Date(this.purchase.transactionDate);\n                            const tranDateM = tranDate.getFullYear() + tranDate.getMonth();\n                            const tranDateInvoiceM =\n                                tranDateInvoice.getFullYear() + tranDateInvoice.getMonth();\n                            if (tranDateM === tranDateInvoiceM) {\n                                isAutoGenerate = 0;\n                            }\n                        }\n\n                        let itemLineDS = this.$refs.itemLineDS.kendoWidget();\n                        const dataRow = itemLineDS\n                            .data()\n                            .filter((o) => o.amount > 0)\n                            .map((n) => {\n                                return new ItemLineModel(n);\n                            });\n                        if (dataRow.length > 0) {\n                            let data = {\n                                id: this.purchase.id ? this.purchase.id : \"\",\n                                uuid: this.purchase.uuid ? this.purchase.uuid : \"\",\n                                journal_uuid: this.purchase.journal_uuid\n                                    ? this.purchase.journal_uuid\n                                    : \"\",\n                                jRaw: this.jRaw,\n                                type: TRANSACTION_TYPE,\n                                number: this.purchase.number,\n                                abbr: this.purchase.transactionType.abbr,\n                                transactionDate: this.txnDate,\n                                transactionDateTZ: Helper.toISODate(this.txnDate),\n                                dueDate: this.purchase.dueDate,\n                                monthOf: this.monthOf,\n                                paymentCode: this.purchase.paymentCode,\n                                billNo: this.purchase.billNo,\n                                billDate: this.billDate,\n                                supplier: this.purchase.supplier,\n                                transactionType: this.purchase.transactionType,\n                                paymentTerm: this.purchase.paymentTerm,\n                                discountPromotion: {},\n                                apAcc: this.purchase.apAcc,\n                                currency: this.purchase.currency,\n                                txnRate: this.purchase.txnRate,\n                                rate: 1,\n                                exchangeRate: this.purchase.exchangeRate,\n                                exchangeAmount: this.purchase.exchangeAmount,\n                                priceLevel: this.purchase.priceLevel,\n                                itemLines: dataRow,\n                                segment: this.purchase.segment,\n                                location: this.purchase.location,\n                                project: this.purchase.project,\n                                employee: this.purchase.employee,\n                                billingAddress: this.purchase.billingAddress,\n                                deliveryAddress: this.purchase.deliveryAddress,\n                                deliveryDateTime: this.purchase.deliveryDateTime,\n                                transactionNote: this.purchase.transactionNote,\n                                journalNote: this.purchase.journalNote,\n                                subTotal: this.purchase.subTotal,\n                                total: this.purchase.total,\n                                discountTotal: this.purchase.discountTotal,\n                                exchangeDiscountTotal: (this.purchase.discountTotal) * (this.purchase.txnRate || 1),\n                                specificDiscountTotal: this.purchase.specificDiscountTotal,\n                                deliveryFee: this.purchase.deliveryFee,\n                                totalTaxAmount: this.purchase.totalTaxAmount,\n                                depositAmount: this.purchase.depositAmount,\n                                depositDeduction: this.purchase.depositDeduction,\n                                remainingAmount: this.purchase.remainingAmount,\n                                amountDue: this.purchase.amountDue,\n                                currentBalance: this.purchase.currentBalance,\n                                balance: this.purchase.balance,\n                                creditLimit: this.purchase.creditLimit,\n                                saveOption: this.purchase.saveOption,\n                                status: 1,\n                                approvedBy: this.purchase.approvedBy,\n                                formTemplate: {},\n                                specificDiscountItem: this.purchase.specificDiscountItem,\n                                otherCharge: this.mOtherCharge,\n                                otherChargeAmount: this.purchase.otherChargeAmount,\n                                taxListTotal: this.taxListTotal,\n                                supplierDiscountItem: this.supplierDiscountItem,\n                                createdAt: this.purchase.createdAt,\n                                itemSubtotal: this.purchase.itemSubtotal,\n                                exchangeItemSubtotal: this.purchase.exchangeItemSubtotal,\n                                serviceSubtotal: this.purchase.serviceSubtotal,\n                                exchangeServiceSubtotal: this.purchase.exchangeServiceSubtotal,\n                                txnItmSubtotal: this.purchase.txnItmSubtotal,\n                                exchangeTxnItmSubtotal: this.purchase.exchangeTxnItmSubtotal,\n                                itemDiscount: this.purchase.itemDiscount,\n                                exchangeItemDiscount: this.purchase.exchangeItemDiscount,\n                                serviceDiscount: this.purchase.serviceDiscount,\n                                exchangeServiceDiscount: this.purchase.exchangeServiceDiscount,\n                                txnItmDiscount: this.purchase.txnItmDiscount,\n                                exchangeTxnItmDiscount: this.purchase.exchangeTxnItmDiscount,\n                                withholdingTaxAmount: this.purchase.withholdingTaxAmount || 0,\n                                inclusiveTaxAmount: this.purchase.inclusiveTaxAmount || 0,\n                                loggedUser: this.loggedUser,\n                                saveSend: saveSend,\n                                refFrom: this.purchase.refFrom || [],\n                                refTo: this.purchase.refTo || [],\n                                saleTaxDetail: this.purchase.saleTaxDetail || [],\n                                hasAdditionalCost: this.purchase.additionalCost.length > 0,\n                                additionalCost: this.purchase.additionalCost || [],\n                                additionalCostMethod: this.purchase.additionalCostMethod || '',\n                                additionalCostTotal: this.additionalCostTotal || 0,\n                                isAutoGenerate: isAutoGenerate,\n                                actionType: this.$route.params.id\n                                    ? this.$route.query.type\n                                    : \"new\",\n                            };\n                            if (this.$route.query.type === \"recurring\") {\n                                data.id = \"\";\n                            }\n                            this.showLoading = true;\n                            billingHandler.createPurchase(data).then((response) => {\n                                if (response.data.statusCode === 201) {\n                                    // this.close(response.data.data)\n                                    // this.$refs.form.reset()\n                                    this.showLoading = false;\n                                    this.$snotify.success(\"Successfully\");\n                                    if (saveSend === true) {\n                                        this.clear()\n                                    } else {\n                                        this.close(response.data.data);\n                                    }\n                                }\n                            }).catch((e) => {\n                                this.showLoading = false;\n                                this.$snotify.error(\"Something went wrong\");\n                                this.errors.push(e);\n                            });\n                        }\n                    }, 50);\n                });\n            }\n        },\n        async loadPurchaseFormContent() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    purchaseFormContentHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            const data = res.data.data;\n                            if (data.length > 0) {\n                                this.purchaseFormContent = data[0];\n                                this.decimalFormat = \"n\" + this.purchaseFormContent.decimal;\n                                this.initData();\n                            }\n                        }\n                    });\n                }, 50);\n            });\n        },\n        close(data) {\n            if (this.$route.params.id === undefined) {\n                this.$router.push({\n                    name: \"Vendors\",\n                    params: {\n                        data: data,\n                    },\n                });\n            } else {\n                window.history.go(-1);\n                // this.$router.push({\n                //     path: \"invoice_view\",\n                //     name: \"Invoice View\",\n                //     params: {\n                //         data: data,\n                //     }\n                // })\n            }\n            // window.console.log(data, 'data')\n        },\n        saveNew() {\n        },\n        removeRow(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#gridItemLine\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n                this.autoCalculate();\n            }\n        },\n        generateNumber() {\n            if (this.$route.params.id) {\n                const tranDate = new Date(this.txnDate);\n                const tranDateInvoice = new Date(this.purchase.transactionDate);\n                const tranDateM = tranDate.getFullYear() + tranDate.getMonth();\n                const tranDateInvoiceM =\n                    tranDateInvoice.getFullYear() + tranDateInvoice.getMonth();\n                if (tranDateM === tranDateInvoiceM) {\n                    this.purchase.referenceNo = this.referenceNo;\n                    return;\n                }\n            }\n\n            if (this.txnDate !== \"\" && this.purchaseTypes.length > 0) {\n                let data = {\n                    abbr: this.purchase.transactionType.abbr,\n                    structure: this.purchase.transactionType.structure,\n                    transactionDate: this.txnDate,\n                    sequcencing: this.purchase.transactionType.sequcencing,\n                    prefixSeparator: this.purchase.transactionType.prefixSeparator || '',\n                    numberSeparator: this.purchase.transactionType.numberSeparator || '',\n                    format: this.purchase.transactionType.format || 5,\n                    type: \"Purchase\",\n                    entity: 1,\n                };\n                billingHandler\n                    .lastNumber(data)\n                    .then((response) => {\n                        if (response.data.statusCode === 200) {\n                            const res = response.data.data;\n                            const lastNumber = this.zeroPad(\n                                parseInt(res.lastNumber),\n                                this.purchase.transactionType.format\n                            );\n                            const number =\n                                res.suffix +\n                                this.purchase.transactionType.numberSeparator +\n                                lastNumber;\n                            this.purchase.number = number;\n                        }\n                    })\n                    .catch((e) => {\n                        this.errors.push(e);\n                    });\n            }\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, \"0\");\n        },\n        suffix(transactionDate) {\n            return kendo.toString(new Date(transactionDate), `yymm`);\n        },\n        errorMessage() {\n        },\n        accountDropDownEditor() {\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((resultCen) => {\n                window.console.log(resultCen);\n                if (resultCen.value) {\n                    this.$destroy()\n                    this.$router.go(-1);\n                }\n            });\n        },\n        hideSmallSidebar() {\n            this.isHideBar = !this.isHideBar;\n        },\n        requestData(skip, filter, baseUrl) {\n            const url = baseUrl + `?filter=${filter}`;\n            this.requestStarted = true;\n            fetch(url)\n                .then((response) => {\n                    return response.json();\n                })\n                .then(this.afterFetch);\n        },\n        requestData_(skip, filter, baseUrl) {\n            const url = baseUrl + `/${filter}`;\n            this.requestStarted = true;\n            fetch(url)\n                .then((response) => {\n                    return response.json();\n                })\n                .then(this.afterFetch_);\n        },\n        onChange(event) {\n            const value = event.value;\n            if (value && value[textField] === emptyItem[textField]) {\n                return;\n            }\n            this.vendor = value;\n            this.purchase.supplier = value;\n            // window.console.log(this.purchase.customer, 'Changed')\n            // this.invoice = value\n            this.purchase.apAcc = value.hasOwnProperty(\"apAcc\") ? value.apAcc : {};\n            this.purchase.paymentTerm = value.paymentTerm || {};\n            this.purchase.priceLevel = value.priceLevel || {};\n            const baseCurrency = value.baseCurrency || {};\n            if (baseCurrency.hasOwnProperty(\"code\")) {\n                this.baseCurrencyCode = \" \" + baseCurrency.code;\n            }\n            // this.loadTransactionRate();\n            this.billingAddress = value.hasOwnProperty(\"billingAddress\")\n                ? value.billingAddress\n                : [];\n            this.deliveryAddress = value.hasOwnProperty(\"deliveryAddress\")\n                ? value.deliveryAddress\n                : [];\n            if (this.billingAddress.length > 0) {\n                this.purchase.billingAddress = this.billingAddress[0];\n            }\n            if (this.deliveryAddress.length > 0) {\n                this.purchase.deliveryAddress = this.deliveryAddress[0];\n            }\n            this.expenses = []\n            this.onInvoiceDateChanged();\n            this.loadProjectByCustomer()\n            // this.loadCustomerBalance(this.vendor.id);\n            // const creditLimit = value.hasOwnProperty(\"creditLimit\")\n            //     ? value.creditLimit\n            //     : 0;\n            // this.purchase.creditLimit = kendo.parseFloat(creditLimit);\n            // window.console.log(value, 'value')\n        },\n        onEmployeeChanged(event) {\n            const value = event.value;\n            if (value && value[textField] === emptyItem[textField]) {\n                return;\n            }\n            this.mEmployee = value;\n            this.purchase.employee = value;\n        },\n        afterFetch(json) {\n            this.vendorList = json.data;\n        },\n        afterFetch_(json) {\n            this.employees = json.data;\n        },\n        onFilterChange(event) {\n            const filter = event.filter.value;\n            this.requestData(0, filter, this.cusBaseUrl);\n            this.filter = filter;\n        },\n        onEmployeeFilterChanged(event) {\n            const filter = event.filter.value;\n            this.requestData_(0, filter, this.empBaseUrl);\n            this.filter_ = filter;\n        },\n        async initData() {\n            if (this.$route.params.id !== undefined) {\n                await this.loadViewCreditPurchase();\n            } else {\n                this.clear()\n                // this.addRow();\n            }\n        },\n        async loadViewCreditPurchase() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    if (this.$route.params.id) {\n                        billingHandler\n                            .viewPurchase(this.$route.params.id)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.purchase = res.data.data[0];\n                                    this.referenceNo = this.purchase.referenceNo;\n                                    this.txnDate = new Date(this.purchase.transactionDate);\n                                    this.vendor = this.purchase.supplier;\n                                    this.mEmployee = this.purchase.employee;\n                                    this.taxListTotal = this.purchase.taxListTotal;\n                                    this.itemLines = this.purchase.itemLines;\n                                    this.mOtherCharge = this.purchase.otherCharge;\n                                    this.supplierDiscountItem = this.purchase.supplierDiscountItem || []\n                                    this.jRaw = this.purchase.jRaw || [];\n                                    this.expenses = this.purchase.additionalCost || [];\n                                    this.additionalCostTotal = this.purchase.additionalCostTotal || 0;\n                                    this.purchaseOrders = this.purchase.refFrom || [];\n                                    this.monthOf = kendo.toString(\n                                        new Date(this.purchase.monthOf),\n                                        \"yyyy-MM\"\n                                    );\n                                    for (let i = 0; i < this.mOtherCharge.length - 1; i++) {\n                                        this.addSelect();\n                                    }\n                                    const priceLevel = this.purchase.priceLevel || {}\n                                    const currency = priceLevel.currency || {}\n                                    const curCode = currency.code || ''\n                                    this.currencyCode = curCode;\n                                    // this.loadProjectByCustomer()\n                                    if (this.vendor) {\n                                        if (this.vendor.hasOwnProperty(\"id\")) {\n                                            this.loadCustomerBalance(this.vendor.id);\n                                        }\n                                    }\n                                    if (this.$route.query.type === \"recurring\") {\n                                        if (this.$route.params.hasOwnProperty(\"transactionDate\")) {\n                                            window.console.log(\"type\", this.$route.params);\n                                            this.purchase.transactionDate = new Date(\n                                                this.$route.params.transactionDate\n                                            );\n                                            this.txnDate = new Date(\n                                                this.$route.params.transactionDate\n                                            );\n                                            this.onInvoiceDateChanged();\n                                            this.generateNumber();\n                                        }\n                                    }\n                                }\n                            })\n                            .catch();\n                        {\n                            this.showLoading = false;\n                        }\n                    }\n                }, 10);\n            });\n        },\n        clear() {\n            // this.loadAccount()\n            this.loadPriceLevel()\n            let ds = this.$refs.itemLineDS.kendoWidget();\n            ds.data([]);\n            this.id = undefined;\n            this.vendor = {}\n            this.mEmployee = {}\n            this.mOtherCharge = {}\n            this.purchaseOrders = []\n            this.purchase = new PurchaseModel({});\n            this.purchase.transactionType = this.purchaseTypes[0];\n            this.monthOf = kendo.toString(new Date(this.purchase.transactionDate), 'yyyy-MM')\n            this.addRow();\n            this.generateNumber();\n            this.loadSegment();\n            this.loadLocation();\n        },\n        async loadTransactionRate() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const date = new Date(this.txnDate).toISOString().substr(0, 10);\n                    const priceLevel = this.purchase.priceLevel;\n                    let code = \"\";\n                    if (priceLevel.hasOwnProperty(\"currency\")) {\n                        if (priceLevel.currency.hasOwnProperty(\"code\")) {\n                            code = priceLevel.currency.code;\n                        }\n                    }\n                    if (code !== undefined || code !== \"\") {\n                        this.showLoading = true;\n                        currencyHandler\n                            .getLastExchangeRateByDate(date, code)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.exchangeRate = res.data.data[0];\n                                    this.currencyCode = this.exchangeRate.code || \"\";\n                                    this.transactionRate = this.exchangeRate.rate || 0;\n                                    this.purchase.txnRate = this.exchangeRate.rate || 0;\n                                    this.purchase.exchangeRate = this.exchangeRate || {};\n                                    if (this.transactionRate === 0) {\n                                        this.$snotify.error(i18n.t(\"set_exchange_rate\"));\n                                        return;\n                                    }\n                                    this.showLoading = false;\n                                    this.loadCustomerDepositBalance(this.vendor.id);\n                                }\n                            });\n                    }\n                    this.loadPurchaseOrder();\n                }, 10);\n            });\n        },\n        reload() {\n            if (this.$route.params.id !== undefined) {\n                this.loadViewCreditPurchase()\n            } else {\n                this.clear()\n            }\n        },\n        async loadPurchaseOrder() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    let segmentId = \"\",\n                        locationId = '',\n                        priceLevelId = \"\",\n                        customerId = \"\",\n                        txnDate = \"\";\n                    if (this.purchase.segment) {\n                        segmentId = this.purchase.segment.id;\n                    }\n                    if (this.purchase.location) {\n                        locationId = this.purchase.location.id;\n                    }\n                    if (this.purchase.supplier) {\n                        customerId = this.purchase.supplier.id;\n                    }\n                    if (this.purchase.priceLevel) {\n                        priceLevelId = this.purchase.priceLevel.id;\n                    }\n                    if (this.purchase.transactionDate) {\n                        txnDate = this.purchase.transactionDate;\n                    }\n                    let strFilter = \"\";\n                    if (\n                        segmentId !== \"\" &&\n                        customerId !== \"\" &&\n                        locationId !== \"\" &&\n                        priceLevelId !== \"\" &&\n                        txnDate !== \"\"\n                    ) {\n                        strFilter =\n                            \"?id=\" +\n                            customerId +\n                            \"&segId=\" +\n                            segmentId +\n                            \"&locId=\" +\n                            locationId +\n                            \"&plId=\" +\n                            priceLevelId +\n                            \"&date=\" +\n                            txnDate + '&type=Purchase Order'\n                    }\n                    if (strFilter !== \"\") {\n                        this.purchase.refFrom = []\n                        this.showLoadingTxn = true\n                        saleOrderHandler\n                            .transactionFilter(strFilter)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoadingTxn = false\n                                    this.purchaseOrders = res.data.data;\n                                } else {\n                                    this.showLoadingTxn = false\n                                }\n                            })\n                    }\n                }, 10);\n            });\n            await this.getExpenseBySupplier()\n        },\n        addPurchaseOrder(item) {\n            if (item) {\n                const itemLine = item.itemLines || [];\n                this.refFrom.push({\n                    id: item.id || '',\n                    reference: item.referenceNo || ''\n                })\n                let ds = this.$refs.itemLineDS.kendoWidget(),\n                    total = ds.total();\n                itemLine.forEach((o) => {\n                    this.itemLine = new ItemLineModel(o);\n                    this.itemLine.id = itemLinePrefix + uuid.v1();\n                    this.itemLine.decimalFormat = \"n\" + this.purchaseFormContent.decimal;\n                    this.itemLine.sourceTransaction = {\n                        id: item.id,\n                        referenceNo: item.referenceNo,\n                    };\n                    this.itemLine.sourceTransactionRef = item.referenceNo;\n                    ds.insert(total, this.itemLine);\n                });\n                this.itemLine = new ItemLineModel({});\n                this.autoCalculate();\n                const index = this.purchaseOrders.findIndex((itm) => {\n                    return item.id === itm.id;\n                });\n                this.purchaseOrders.splice(index, 1);\n                this.purchase.refFrom = this.removeDuplicate(this.refFrom)\n            }\n        },\n        totalQty() {\n            let ds = this.$refs.itemLineDS.kendoWidget()\n            let qty = 0\n            ds.data().filter(n => n.amount > 0).forEach(m => {\n                const itm = m.item || {}\n                const uom = m.uom || {}\n                if (itm.id && uom.uom && itm.type === 'Variant') {\n                    qty += (m.qty || 0) * (m.conversionRate || 1)\n                }\n            })\n            window.console.log('qty', qty)\n            return qty\n        },\n        excludeVATTaxInclusive(tax, amount, incTax) {\n            if (tax) {\n                const baseAmount = tax.baseAmount || '';\n                const taxType = tax.taxType || {}\n                const taxTypeId = taxType.typeId || 0\n                if (baseAmount) {\n                    if (baseAmount.toLowerCase() === \"inclusive\" && taxTypeId === 1) {\n                        return amount - incTax\n                    }\n                }\n            }\n            return amount\n        },\n        totalAmount() {\n            let ds = this.$refs.itemLineDS.kendoWidget()\n            let amount = 0\n            ds.data().filter(n => n.amount > 0).forEach(m => {\n                const itm = m.item || {}\n                const uom = m.uom || {}\n                let incluTax = 0\n                if (itm.id && uom.uom && itm.type === 'Variant') {\n                    const tax = m.vatTax || {}\n                    const amount_ = m.amount || 0\n                    const baseAmount = tax.baseAmount || '';\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            incluTax = this.autoCalculateTax(tax, amount_);\n                        }\n                    }\n                    amount += (amount_ - (incluTax || 0))\n                }\n            })\n            window.console.log('amount x-', amount)\n            return amount\n        },\n        percentageApplied() {\n            try {\n                const tAmount = this.totalAmount()\n                let ds = this.$refs.itemLineDS.kendoWidget()\n                ds.data().filter(n => n.amount > 0).forEach(m => {\n                    const itm = m.item || {}\n                    const uom = m.uom || {}\n                    let incluTax = 0\n                    if (itm.id && uom.uom && itm.type === 'Variant') {\n                        const tax = m.vatTax || {}\n                        const amount = m.amount || 0\n                        const baseAmount = tax.baseAmount || '';\n                        if (baseAmount) {\n                            if (baseAmount.toLowerCase() === \"inclusive\") {\n                                incluTax = this.autoCalculateTax(tax, amount);\n                            }\n                        }\n                        const amountAfterTax = amount - (incluTax || 0)\n                        const pAmount = amountAfterTax / tAmount\n                        m['percentageApplied'] = pAmount\n                    }\n                })\n                window.console.log('Qty Based--', ds.data())\n            } catch (e) {\n                window.console.log('error', e)\n            }\n        },\n        amountApplied() {\n            try {\n                let ds = this.$refs.itemLineDS.kendoWidget()\n                const adc = this.additionalCostTotal || 0\n                ds.data().filter(n => n.amount > 0).forEach(m => {\n                    const itm = m.item || {}\n                    const uom = m.uom || {}\n                    window.console.log('amountApplied==', uom.uom, '---', itm.type)\n                    if (itm.id && uom.uom && itm.type === 'Variant') {\n                        const percentageApplied = m.percentageApplied || 0\n                        window.console.log('percentageApplied--', adc, '---', (percentageApplied * adc))\n                        m['amountApplied'] = percentageApplied * adc\n                    }\n\n                })\n                window.console.log('AMount Based--', ds.data())\n            } catch (e) {\n                window.console.log('error', e)\n            }\n        },\n        amountAppliedQtyBased() {\n            try {\n                let ds = this.$refs.itemLineDS.kendoWidget()\n                ds.data().filter(n => n.amount > 0).forEach(m => {\n                    const itm = m.item || {}\n                    const uom = m.uom || {}\n                    if (itm.id && uom.uom && itm.type === 'Variant') {\n                        const addc = m.additionalCost || 0\n                        const qty = (m.qty || 1) * (m.conversionRate || 1)\n                        m['amountApplied'] = addc * qty\n                    }\n                })\n                window.console.log('amountAppliedQtyBased Based--', ds.data())\n            } catch (e) {\n                window.console.log('error', e)\n            }\n        },\n        async calculateAdditionalCost() {\n            try {\n                // todo: additional Cost\n                if (this.purchase.additionalCostMethod === 'Qty Based') {\n                    this.percentageApplied()\n                } else {\n                    this.percentageApplied()\n                    this.amountApplied()\n                }\n                if (this.purchase.additionalCostMethod === 'Qty Based') {\n                    const tQty = this.totalQty()\n                    const addc = this.additionalCostTotal || 0\n                    let ds = this.$refs.itemLineDS.kendoWidget()\n                    ds.data().filter(n => n.amount > 0).forEach(m => {\n                        const itm = m.item || {}\n                        const uom = m.uom || {}\n                        if (itm.id && uom.uom && itm.type === 'Variant') {\n                            m['additionalCost'] = addc / tQty\n                        }\n                    })\n                    window.console.log('qty based', ds.data())\n                } else {\n                    let ds = this.$refs.itemLineDS.kendoWidget()\n                    ds.data().filter(n => n.amount > 0).forEach(m => {\n                        const itm = m.item || {}\n                        const uom = m.uom || {}\n                        if (itm.id && uom.uom && itm.type === 'Variant') {\n                            const amountApplied = m.amountApplied || 0\n                            const qty = (m.qty || 0) * (m.conversionRate || 1)\n                            m['additionalCost'] = amountApplied / qty\n                        }\n                    })\n                }\n                if (this.purchase.additionalCostMethod === 'Qty Based') {\n                    this.amountAppliedQtyBased()\n                }\n                await this.clearingAccount()\n            } catch (e) {\n                window.console.log('error', e)\n            }\n        },\n        autoCalculateTaxDetail() {\n            let ids = []\n            this.taxListDetail.forEach(n => {\n                ids.push(n.id || '')\n            })\n            const unique = [...new Set(ids)]\n            let result = []\n            unique.forEach(m => {\n                let amount = 0, row = {}, discount = 0, xDiscount = 0, xAmount = 0, taxAmount = 0, xTaxAmount = 0\n                let taxDetail = [], isVat = 0\n                const found = this.taxListDetail.filter(n => n.id === m)\n                // window.console.log('taxListDetailids', found)\n                found.forEach(k => {\n                    row = k\n                    if (k.isVat === 1) {\n                        isVat = 1\n                        const detail_ = k.detail || {}\n                        taxDetail.push(detail_)\n\n                    }\n                    taxAmount += k.taxAmount_ || 0\n                    xTaxAmount += (k.taxAmount_ || 0) * (k.txnRate || 1)\n                    amount += (k.amount || 0)\n                    xAmount += (k.amount || 0) * (k.txnRate || 1)\n                    discount += (k.discount || 0)\n                    xDiscount += (k.discount || 0) * (k.txnRate || 1)\n                })\n                let spTaxAmt = 0, spXTaxAmt = 0, plTaxAmt = 0, plXTaxAmt = 0, otTaxAmt = 0, otXTaxAmt = 0,\n                    spTaxName = '', plTaxName = '', otTaxName = '',\n                    spTaxNameLocale = '', plTaxNameLocale = '', otTaxNameLocale = '',\n                    spAccId = '', plAccId = '', otAccId = '',\n                    spRate = '', plRate = '', otRate = ''\n                taxDetail.forEach(n => {\n                    const spTax = n.specificTax || {}\n                    const plTax = n.publicLightingTax || {}\n                    const otherTax = n.otherTax || {}\n                    if (Object.keys(spTax).length > 0) {\n                        spTaxAmt += (spTax.taxAmount_ || 0)\n                        spXTaxAmt += ((spTax.taxAmount_ || 0) * (spTax.taxRate || 1))\n                        spTaxName = spTax.defaultTax || ''\n                        spTaxNameLocale = spTax.defaultTaxLocale || ''\n                        spAccId = spTax.account ? spTax.account.id : ''\n                        spRate = spTax.rate || 1\n                    }\n                    if (Object.keys(plTax).length > 0) {\n                        plTaxAmt += (plTax.taxAmount_ || 0)\n                        plXTaxAmt += ((plTax.taxAmount_ || 0) * (plTax.taxRate || 1))\n                        plTaxName = plTax.defaultTax || ''\n                        plTaxNameLocale = plTax.defaultTaxLocale || ''\n                        plAccId = plTax.account ? plTax.account.id : ''\n                        plRate = plTax.rate || 1\n                    }\n                    if (Object.keys(otherTax).length > 0) {\n                        otTaxAmt += (otherTax.taxAmount_ || 0)\n                        otXTaxAmt += ((otherTax.taxAmount_ || 0) * (plTax.taxRate || 1))\n                        otTaxName = otherTax.defaultTax || ''\n                        otTaxNameLocale = otherTax.defaultTaxLocale || ''\n                        otAccId = otherTax.account ? otherTax.account.id : ''\n                        otRate = otherTax.rate || 1\n                    }\n                })\n                if (isVat === 1) {\n                    row.detail = {\n                        specificTax: {\n                            name: spTaxName,\n                            nameLocale: spTaxNameLocale,\n                            amount: spTaxAmt,\n                            exchangeAmount: spXTaxAmt,\n                            accountId: spAccId,\n                            rate: spRate,\n                        },\n                        publicLightingTax: {\n                            name: plTaxName,\n                            nameLocale: plTaxNameLocale,\n                            amount: plTaxAmt,\n                            exchangeAmount: plXTaxAmt,\n                            accountId: plAccId,\n                            rate: plRate,\n                        },\n                        otherTax: {\n                            name: otTaxName,\n                            nameLocale: otTaxNameLocale,\n                            amount: otTaxAmt,\n                            exchangeAmount: otXTaxAmt,\n                            accountId: otAccId,\n                            rate: otRate,\n                        }\n                    }\n                } else {\n                    row.detail = {}\n                }\n\n                row['amount'] = amount\n                row['exchangeAmount'] = xAmount\n                row['taxAmount'] = taxAmount\n                row['exchangeTaxAmount'] = xTaxAmount\n                row['discount'] = discount\n                row['exchangeDiscount'] = xDiscount\n                row['currency'] = this.purchase.exchangeRate || {}\n                result.push(row)\n                taxDetail = []\n            })\n            this.purchase.saleTaxDetail = result\n            window.console.log('saleTaxDetail', result)\n        },\n        async getExpenseBySupplier() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const segment = this.purchase.segment || {}\n                    const segmentId = segment.id || ''\n                    const location = this.purchase.location || {}\n                    const locationId = location.id || ''\n                    const supplier = this.purchase.supplier || {}\n                    const supplierId = supplier.id || ''\n                    const strFilter = '?id=' + supplierId + '&segId=' + segmentId + '&locId=' + locationId;\n                    this.expenses = []\n                    this.purchase.additionalCostTotal = 0\n                    this.showLoadingTxnAdditionalCost = false\n                    this.purchase.additionalCost = []\n                    billingHandler.listPurchase(strFilter).then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoadingTxnAdditionalCost = true\n                            this.showLoadingTxnAdditionalCost = false;\n                            this.expenses = res.data.data;\n                            this.onMethodChanged()\n                        } else {\n                            this.showLoadingTxnAdditionalCost = false;\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async clearingAccount() {\n            try {\n                if (this.isItem()) {\n                    /* todo: clearing account for additional cost */\n                    const amount = (this.purchase.additionalCostTotal || 0) * -1\n                    const xAmount = amount * this.purchase.txnRate || 1\n                    const addict = this.purchase.additionalCost || []\n\n                    if (addict.length > 0) {\n                        if (addict[0]) {\n                            const account = addict[0].account || {}\n                            const nature = 'cr'\n                            this.jRaw.push({\n                                id: account.id + \"-\" + nature,\n                                line: new ItemLineModel(),\n                                description: \"Additional Cost\",\n                                account: account,\n                                accountId: account.id,\n                                amount: amount,\n                                exchangeAmount: xAmount,\n                                type: nature,\n                                typeAs: \"clearing\",\n                            });\n                        }\n                    }\n                }\n            } catch (e) {\n                window.console.log('error', e)\n            }\n        },\n        isItem() {\n            const ds = this.$refs.itemLineDS.kendoWidget()\n            const row = ds.data().filter(n => n.amount > 0)\n            const found = row.filter(n => n.item.type === 'Variant')\n            if (found) {\n                return found.length > 0;\n            }\n            return false\n        }\n    },\n    computed: {\n        abbr() {\n            if (this.purchase) {\n                const txnType = this.purchase.transactionType || {}\n                const abbr = txnType.abbr || ''\n                return abbr\n            } else {\n                return ''\n            }\n        },\n        validVendor() {\n            let vendor = this.vendor;\n            return vendor.id !== undefined && vendor.id !== null;\n        },\n        disableMe() {\n            return !!this.$route.params.id;\n        },\n        hiddenButton() {\n            return !!this.$route.params.id;\n        },\n        disabledSLP() {\n            if (this.$route.params.id) {\n                const refF = this.purchase.refFrom || []\n                if (refF.length > 0) {\n                    return !!refF.length > 0\n                }\n                const adc = this.purchase.additionalCost || []\n                if (adc.length > 0) {\n                    return !!adc.length > 0\n                }\n            }\n            return false\n        },\n    },\n    watch: {\n        // id() {\n        //   if (this.$route.params.id === undefined) {\n        //     this.clear();\n        //   } else {\n        //     this.showLoading = true;\n        //     this.loadViewCreditPurchase();\n        //   }\n        // },\n        '$route': 'reload'\n    },\n    created() {\n        this.loadTax();\n        this.loadPrefix();\n        this.loadProjectByCustomer();\n    },\n    mounted: async function () {\n        this.requestData(0, this.filter, this.cusBaseUrl);\n        await this.loadSegment();\n        await this.loadLocation();\n        await this.loadDiscountItem();\n        await this.loadEmployeeCenter();\n        await this.loadPaymentTerm();\n        await this.loadAccount();\n        await this.loadPriceLevel();\n        await this.loadOtherCharge();\n        await this.loadPurchaseFormContent();\n        await this.initData()\n    },\n};\n</script>\n\n<style scoped>\n.k-dropdown {\n    width: 100%;\n    margin-top: 3px;\n}\n\n.function_wrapper {\n    box-shadow: none !important;\n}\n\n.v-application--is-ltr .v-text-field .v-input__append-inner {\n    margin-top: 0 !important;\n}\n\n.v-input__slot {\n    background-color: #fff !important;\n}\n\n.function_content .label {\n    margin-bottom: 10px;\n    display: inline-block;\n}\n\n.border_radius10 {\n    border-radius: 10px !important;\n    background-color: #f2f2f2;\n}\n\n.pa-3.v-card h4 {\n    font-size: 18px;\n    color: #333;\n}\n\n.pa-3.v-card p {\n    font-size: 12px;\n    color: #b5b5b5;\n}\n\n.attachment_file {\n    background-color: #efeded;\n    border-radius: 0 !important;\n}\n\n.attachment_table.v-data-table table {\n    border: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.attachment_table table tr th {\n    border-left: thin solid rgba(0, 0, 0, 0.12);\n    height: 35px;\n    border-right: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.block_debit,\n.block_credit {\n    border-bottom: 1px solid #fff;\n}\n\n.block_debit p.number,\n.block_credit p.number {\n    font-size: 25px;\n    color: #7f7f7f;\n}\n\n.block_debit h5,\n.block_credit h5,\n.block_difference h5 {\n    text-transform: uppercase;\n    color: #7f7f7f;\n    font-size: 15px;\n    font-weight: normal;\n}\n\n.block_difference h5 {\n    font-size: 18px;\n}\n\n.block_difference h5 span {\n    font-size: 15px;\n}\n\n.custom_grid table th:last-child {\n    text-align: right !important;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        max-width: 1250px;\n    }\n}\n\n@media (max-width: 576px) {\n    .pt-6.col-sm-5.col-12 {\n        padding-top: 0 !important;\n    }\n\n    .code_text {\n        width: 100%;\n    }\n\n    .phone_no_pt {\n        padding-top: 0 !important;\n    }\n\n    .select_template,\n    .save_option {\n        margin-bottom: 10px;\n    }\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: 0.5s ease-in;\n    flex: 0 0 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n.info_add {\n    background-color: #ffffff;\n}\n\n.small_sidebar {\n    height: 98%;\n    position: relative;\n    padding: 12px;\n    background-color: #edf1f5;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.color_grey {\n    color: #808080;\n}\n\n.card_green {\n    min-height: 70px;\n    background-color: #00b050 !important;\n    color: #ffffff;\n}\n\n.lb_bold {\n    font-size: 12px;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 10px;\n}\n\n.card_background {\n    background-color: #edf1f5;\n    min-height: 120px;\n}\n\n.deposite_input {\n    width: 100px;\n}\n\n.btn_save_draft {\n    color: #ffffff;\n    background-color: #00b0f0 !important;\n    text-transform: capitalize;\n}\n\n.save_option {\n    background-color: #203864 !important;\n}\n\n.btn_add_small {\n    height: 27px !important;\n    min-width: 25px !important;\n    font-size: 10px;\n    padding: 0 22px !important;\n    background-color: #00b050 !important;\n    color: #ffffff;\n    border-radius: 0 !important;\n}\n\n.list_site_inv {\n    background-color: #92d050;\n    color: #ffffff;\n    font-size: 12px;\n}\n\n.list_site_exp {\n    background-color: #c5e0b4;\n    color: #000000;\n    font-size: 12px;\n    line-height: 16px;\n    min-height: 40px;\n}\n\n.checkbox_inv {\n    padding: 2px;\n    margin-top: 3px;\n    margin-right: 2px;\n}\n\n.exp_select {\n    font-size: 12px !important;\n}\n\n.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> tbody\n> tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n</style>\n"],"sourceRoot":"src/views/suppliers"}]}