{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/micro_edition/purchases/CreditPurchase.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/micro_edition/purchases/CreditPurchase.vue","mtime":1640595536818},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/babel.config.js","mtime":1638499442885},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1hY2NvdW50aW5nLXdlYi1tb2R1bGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1hY2NvdW50aW5nLXdlYi1tb2R1bGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1hY2NvdW50aW5nLXdlYi1tb2R1bGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwoKdmFyIF9kZWZhdWx0SXRlbTsKCmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIGltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiCmltcG9ydCB7IGkxOG4gfSBmcm9tICJAL2kxOG4iOwppbXBvcnQgUHVyY2hhc2VNb2RlbCBmcm9tICJAL3NjcmlwdHMvcHVyY2hhc2UvbW9kZWwvUHVyY2hhc2UiOwppbXBvcnQgSXRlbUxpbmVNb2RlbCBmcm9tICJAL3NjcmlwdHMvcHVyY2hhc2UvbW9kZWwvSXRlbUxpbmUiOwppbXBvcnQgeyB1dWlkIH0gZnJvbSAidnVlLXV1aWQiOwppbXBvcnQgeyBEcm9wRG93bkxpc3QgfSBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdnVlLWRyb3Bkb3ducyI7CmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwppbXBvcnQgUHVyY2hhc2VGb3JtQ29udGVudE1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9QdXJjaGFzZUZvcm1Db250ZW50IjsKaW1wb3J0IHsgZGF0YVN0b3JlLCBTaG93UmVzb3VyY2UgfSBmcm9tICJAL29ic2VydmFibGUvc3RvcmUiOwppbXBvcnQgcGF5bWVudFRlcm1IYW5kbGVyXyBmcm9tICJAL3NjcmlwdHMvcGF5bWVudHRlcm0vaGFuZGxlci9wYXltZW50VGVybUhhbmRsZXIiOwppbXBvcnQgY3JlZGl0TGltaXRIYW5kbGVyIGZyb20gIkAvc2NyaXB0cy9jcmVkaXRMaW1pdC9oYW5kbGVyL2NyZWRpdExpbWl0SGFuZGxlciI7CmltcG9ydCBzYWxlT3JkZXJIYW5kbGVyIGZyb20gIkAvc2NyaXB0cy90cmFuc2FjdGlvbkhhbmRsZXIiOwppbXBvcnQgSGVscGVyIGZyb20gIkAvaGVscGVyIjsKaW1wb3J0IHNldHRpbmdzSGFuZGxlciBmcm9tICJAL3NjcmlwdHMvc2V0dGluZ3NIYW5kbGVyIjsKCnZhciBzdXBwbGllckhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc3VwcGxpZXJIYW5kbGVyIik7IC8vIGltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwoKCnZhciBwcm9qZWN0SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcm9qZWN0SGFuZGxlciIpOwoKdmFyIHByaWNlTGV2ZWxIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3ByaWNlTGV2ZWxIYW5kbGVyIik7Cgp2YXIgY3VycmVuY3lIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2N1cnJlbmN5L2hhbmRsZXIvY3VycmVuY3lIYW5kbGVyIik7IC8vIGNvbnN0IHNldHRpbmdzSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zZXR0aW5nc0hhbmRsZXIiKTsKCgp2YXIgZW1wbG95ZWVIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2VtcGxveWVlSGFuZGxlciIpOwoKdmFyIGxvY2F0aW9uSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9sb2NhdGlvbkhhbmRsZXIiKTsgLy8gY29uc3QgcGF5bWVudFRlcm1IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3BheW1lbnRUZXJtSGFuZGxlciIpOwoKCnZhciBhY2NvdW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9oYW5kbGVyL2FjY291bnRpbmcvYWNjb3VudCIpOwoKdmFyIHByb2R1Y3RWYXJpYW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcm9kdWN0VmFyaWFudEhhbmRsZXIiKTsKCnZhciB1b21QcmljZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvdW9tUHJpY2VIYW5kbGVyIik7Cgp2YXIgZGlzY291bnRJdGVtSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9kaXNjb3VudEl0ZW1IYW5kbGVyIik7Cgp2YXIgc2V0dGluZ0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2V0dGluZ0hhbmRsZXIiKTsKCnZhciBvdGhlckNoYXJnZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvb3RoZXJDaGFyZ2VIYW5kbGVyIik7Cgp2YXIgcHVyY2hhc2VGb3JtQ29udGVudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHVyY2hhc2VGb3JtQ29udGVudEhhbmRsZXIiKTsKCnZhciBwcmVmaXhIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3ByZWZpeEhhbmRsZXIiKTsKCnZhciBiaWxsaW5nSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9pbnZvaWNlL2hhbmRsZXIvYmlsbGluZ0hhbmRsZXIiKTsKCnZhciBwdXJjaGFzZU1vZGVsID0gbmV3IFB1cmNoYXNlTW9kZWwoe30pOwp2YXIgaXRlbUxpbmVNb2RlbCA9IG5ldyBJdGVtTGluZU1vZGVsKHt9KTsKdmFyIHB1cmNoYXNlRm9ybUNvbnRlbnRNb2RlbCA9IG5ldyBQdXJjaGFzZUZvcm1Db250ZW50TW9kZWwoe30pOwp2YXIgJCA9IGtlbmRvLmpRdWVyeTsKdmFyIHRleHRGaWVsZCA9ICJudW1iZXJOYW1lIjsKdmFyIGtleUZpZWxkID0gImlkIjsKdmFyIGRlZmF1bHRJdGVtID0gKF9kZWZhdWx0SXRlbSA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2RlZmF1bHRJdGVtLCB0ZXh0RmllbGQsICJTZWxlY3QgdmVuZG9yLi4uIiksIF9kZWZpbmVQcm9wZXJ0eShfZGVmYXVsdEl0ZW0sIGtleUZpZWxkLCBudWxsKSwgX2RlZmF1bHRJdGVtKTsKCnZhciBlbXB0eUl0ZW0gPSBfZGVmaW5lUHJvcGVydHkoe30sIHRleHRGaWVsZCwgImxvYWRpbmcgLi4uIik7Cgp2YXIgcGFnZVNpemUgPSAxMDsKdmFyIGl0ZW1MaW5lUHJlZml4ID0gImxpbi0iOwp2YXIgbG9hZGluZ0RhdGEgPSBbXTsKCndoaWxlIChsb2FkaW5nRGF0YS5sZW5ndGggPCBwYWdlU2l6ZSkgewogIGxvYWRpbmdEYXRhLnB1c2goX29iamVjdFNwcmVhZCh7fSwgZW1wdHlJdGVtKSk7Cn0KCnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoIkAvc2NyaXB0cy9rZW5kb19lZGl0b3IvQ29sbGVjdGlvbnMiKSwKICAgIENsYXNzRWRpdG9yID0gX3JlcXVpcmUuQ2xhc3NFZGl0b3I7Cgp2YXIgRElTQ09VTlRfVFlQRSA9ICI/dHlwZT1QdXJjaGFzZSI7CnZhciBUUkFOU0FDVElPTl9UWVBFID0gIlB1cmNoYXNlIjsKCnZhciBjb29raWVKUyA9IHJlcXVpcmUoIkAvY29va2llLmpzIik7Cgp2YXIgY29va2llID0gY29va2llSlMuZ2V0Q29va2llKCk7CnZhciBOQVRVUkUgPSAicHVyY2hhc2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNyZWRpdFB1cmNoYXNlIiwKICBwcm9wczogWyJpZCIsICJ0cmFuc2FjdGlvbkRhdGUiXSwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nTWU6IGZ1bmN0aW9uIExvYWRpbmdNZSgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL0xvYWRpbmciKTsKICAgIH0sCiAgICAiYXBwLWRhdGVwaWNrZXIiOiBmdW5jdGlvbiBhcHBEYXRlcGlja2VyKCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9EYXRlUGlja2VyQ29tcG9uZW50Iik7CiAgICB9LAogICAgLy8gIm1vbnRoLXBpY2tlciI6ICgpID0+IGltcG9ydCgiQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvTW9udGhQaWNrZXIiKSwKICAgIGRyb3Bkb3dubGlzdDogRHJvcERvd25MaXN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgc2hvd0xvYWRpbmdUeG46IGZhbHNlLAogICAgICBzaG93TG9hZGluZ1R4bkFkZGl0aW9uYWxDb3N0OiBmYWxzZSwKICAgICAgbU90aGVyQ2hhcmdlOiBbXSwKICAgICAgbU90aGVyQ2hhcmdlQW1vdW50OiBbXSwKICAgICAgcHVyY2hhc2VPcmRlcnM6IFtdLAogICAgICBudW1TZWxlY3Q6IFsxXSwKICAgICAgZGlhbG9nVGF4OiBmYWxzZSwKICAgICAgdmVuZG9yTGlzdDogW10sCiAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgYmlsbF9kYXRlOiAiIiwKICAgICAgYWxlcnQ6IGZhbHNlLAogICAgICBmaWxlczogW10sCiAgICAgIC8vIEZvcm0gdmFsaWRhdGlvbgogICAgICB2YWxpZDogdHJ1ZSwKICAgICAgaXRlbUxpbmVzOiBbXSwKICAgICAgdHhuRGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICAgIGJpbGxEYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwKICAgICAgaW52b2ljZURhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgICBtb250aE9mOiAiIiwKICAgICAgdGVtcGxhdGVzOiBbewogICAgICAgIHRpdGxlOiAiUHVyY2hhc2UiLAogICAgICAgIHZhbHVlOiAiUHVyY2hhc2UiCiAgICAgIH1dLAogICAgICBpc0hpZGVCYXI6IGZhbHNlLAogICAgICB2ZW5kb3I6IHt9LAogICAgICBkZWZhdWx0SXRlbTogZGVmYXVsdEl0ZW0sCiAgICAgIHB1cmNoYXNlOiBwdXJjaGFzZU1vZGVsLAogICAgICB0cmFuc2FjdGlvblR5cGU6IFsiSW52b2ljZSIsICJDb21tZXJjaWFsIEludm9pY2UiLCAiVGF4IEludm9pY2UiXSwKICAgICAgY3VzQmFzZVVybDogc3VwcGxpZXJIYW5kbGVyLnNlYXJjaCgpLAogICAgICBlbXBCYXNlVXJsOiBlbXBsb3llZUhhbmRsZXIuc2VhcmNoKCksCiAgICAgIGluaXQ6IHsKICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgIGFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgIGhlYWRlcnM6IFtdCiAgICAgIH0sCiAgICAgIHBlbmRpbmdSZXF1ZXN0OiB1bmRlZmluZWQsCiAgICAgIHJlcXVlc3RTdGFydGVkOiBmYWxzZSwKICAgICAgc2tpcDogMCwKICAgICAgdGVtcFNraXA6IG51bGwsCiAgICAgIHRvdGFsOiAwLAogICAgICBmaWx0ZXI6ICIiLAogICAgICByZWZlcmVuY2VObzogIiIsCiAgICAgIGZpbHRlcl86ICIiLAogICAgICB0ZXh0RmllbGQ6ICJudW1iZXJOYW1lIiwKICAgICAgZGF0YUl0ZW1LZXk6ICJpZCIsCiAgICAgIHNlZ21lbnRzOiBbXSwKICAgICAgZW1wbG95ZWVzOiBbXSwKICAgICAgbWV0aG9kczogWyJRdHkgQmFzZWQiLCAiQW1vdW50IEJhc2VkIl0sCiAgICAgIG1FbXBsb3llZToge30sCiAgICAgIGN1c3RvbWVyUHJvamVjdHM6IFtdLAogICAgICBiaWxsaW5nQWRkcmVzczogW10sCiAgICAgIGRlbGl2ZXJ5QWRkcmVzczogW10sCiAgICAgIGRlbGl2ZXJ5RGF0ZVRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgICBwcmljZUxldmVsOiBbXSwKICAgICAgbG9jYXRpb25zOiBbXSwKICAgICAgcGF5bWVudFRlcm1zOiBbXSwKICAgICAgYWNjUGF5YWJsZTogW10sCiAgICAgIGN1cnJlbmNpZXM6IFtdLAogICAgICBpdGVtTGluZTogaXRlbUxpbmVNb2RlbCwKICAgICAgdW9tczogW10sCiAgICAgIHRheDogW10sCiAgICAgIHNwZWNpZmljRGlzY291bnRJdGVtOiBbXSwKICAgICAgb3RoZXJDaGFyZ2VMaXN0OiBbXSwKICAgICAgZGVwb3NpdEJhbGFuY2U6IDAsCiAgICAgIHNjaGVtYURlZmluaXRpb246IHsKICAgICAgICBtb2RlbDogewogICAgICAgICAgaWQ6ICJpZCIKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHB1cmNoYXNlRm9ybUNvbnRlbnQ6IHB1cmNoYXNlRm9ybUNvbnRlbnRNb2RlbCwKICAgICAgQ2xhc3NFZGl0b3I6IENsYXNzRWRpdG9yLAogICAgICB0YXhMaXN0VG90YWw6IHt9LAogICAgICBwdXJjaGFzZVR5cGVzOiBbXSwKICAgICAgdGF4TGlzdERldGFpbDogW10sCiAgICAgIHN1cHBsaWVyRGlzY291bnRJdGVtOiBbXSwKICAgICAgbGF0ZUZlZUxpc3Q6IFtdLAogICAgICBsb2dnZWRVc2VyOiB7CiAgICAgICAgaWQ6IGNvb2tpZS5jcmVhdG9yLAogICAgICAgIG5hbWU6IGNvb2tpZS5lbWFpbAogICAgICB9LAogICAgICBleGNoYW5nZVJhdGU6IHt9LAogICAgICBiYXNlQ3VycmVuY3lDb2RlOiAiIiwKICAgICAgY3VycmVuY3lDb2RlOiAiIiwKICAgICAgdHJhbnNhY3Rpb25SYXRlOiAxLAogICAgICBqUmF3OiBbXSwKICAgICAgcmVmRnJvbTogW10sCiAgICAgIGlzUHJpY2VMZXZlbENoYW5nZWQ6IGZhbHNlLAogICAgICBleHBlbnNlczogW10sCiAgICAgIGFkZGl0aW9uYWxDb3N0VG90YWw6IDAsCiAgICAgIGNoa0NoZWNrZWQ6IFtdLAogICAgICBhY2NXaXRoaG9sZGluZ0V4cGVuc2U6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZGF0YUJvdW5kOiBmdW5jdGlvbiBkYXRhQm91bmQoZSkgewogICAgICB2YXIgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRJdGVtTGluZSIpLmRhdGEoImtlbmRvR3JpZCIpOwogICAgICB2YXIgaXRlbXMgPSBlLnNlbmRlci5pdGVtcygpOwoKICAgICAgaWYgKGdyaWQpIHsKICAgICAgICBpdGVtcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0odGhpcyk7CiAgICAgICAgICAkKCJ0cltkYXRhLXVpZD0nIiArIGRhdGFJdGVtLnVpZCArICInXSIpLmZpbmQoIi5pc0VkaXRhYmxlIikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChkYXRhSXRlbS5pc0VkaXRhYmxlID09PSBmYWxzZSkgewogICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoImstc3RhdGUtZGlzYWJsZWQiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvbk1ldGhvZENoYW5nZWQ6IGZ1bmN0aW9uIG9uTWV0aG9kQ2hhbmdlZCgpIHsKICAgICAgaWYgKHRoaXMuaXNJdGVtKCkpIHsKICAgICAgICB0aGlzLmNhbGN1bGF0ZUFkZGl0aW9uYWxDb3N0KCk7CiAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICAgIH0KICAgIH0sCiAgICBvbkNoZWNrQ2hhbmdlZDogZnVuY3Rpb24gb25DaGVja0NoYW5nZWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5pc0l0ZW0oKSkgewogICAgICAgIHRoaXMuYWRkaXRpb25hbENvc3RUb3RhbCA9IDA7CiAgICAgICAgdGhpcy5qUmF3ID0gW107CgogICAgICAgIGlmICh0aGlzLmNoa0NoZWNrZWQpIHsKICAgICAgICAgIHRoaXMuY2hrQ2hlY2tlZC5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgIGlmIChtKSB7CiAgICAgICAgICAgICAgdmFyIHhBbW91bnQgPSBtLmV4Y2hhbmdlQW1vdW50IHx8IDA7CiAgICAgICAgICAgICAgX3RoaXMuYWRkaXRpb25hbENvc3RUb3RhbCArPSBwYXJzZUZsb2F0KHhBbW91bnQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMucHVyY2hhc2UuYWRkaXRpb25hbENvc3QgPSB0aGlzLmNoa0NoZWNrZWQ7CiAgICAgICAgICB0aGlzLnB1cmNoYXNlLmFkZGl0aW9uYWxDb3N0VG90YWwgPSB0aGlzLmFkZGl0aW9uYWxDb3N0VG90YWw7IC8vIGlmICh0aGlzLnB1cmNoYXNlLmFkZGl0aW9uYWxDb3N0TWV0aG9kID09PSAnUXR5IEJhc2VkJykgewogICAgICAgICAgLy8gICAgIHRoaXMucGVyY2VudGFnZUFwcGxpZWQoKQogICAgICAgICAgLy8gfSBlbHNlIHsKICAgICAgICAgIC8vICAgICB0aGlzLmFtb3VudEFwcGxpZWQoKQogICAgICAgICAgLy8gfQoKICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQWRkaXRpb25hbENvc3QoKTsKICAgICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG9uUHJpY2VMZXZlbENoYW5nZTogZnVuY3Rpb24gb25QcmljZUxldmVsQ2hhbmdlKCkgewogICAgICB0aGlzLmlzUHJpY2VMZXZlbENoYW5nZWQgPSB0cnVlOwogICAgICB0aGlzLmxvYWRUcmFuc2FjdGlvblJhdGUoKTsKICAgICAgdGhpcy5jbGVhclVPTUl0ZW0oKTsKICAgIH0sCiAgICBjbGVhclVPTUl0ZW06IGZ1bmN0aW9uIGNsZWFyVU9NSXRlbSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkcyA9IF90aGlzMi4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCk7CiAgICAgICAgICAgICAgICBkcy5kYXRhKCkubWFwKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICAgIG4uc2V0KCJ1b20iLCB7fSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzMi5pc1ByaWNlTGV2ZWxDaGFuZ2VkID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUGF5bWVudFRlcm1MaXN0OiBmdW5jdGlvbiBsb2FkUGF5bWVudFRlcm1MaXN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLnZlbmRvcikgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9ICI/aWQ9IiArIF90aGlzMy52ZW5kb3IuaWQgKyAiJnRyYW5zYWN0aW9uRGF0ZT0iICsgX3RoaXMzLnB1cmNoYXNlLnRyYW5zYWN0aW9uRGF0ZSArICImdHlwZT1WZW5kb3IiOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnB1cmNoYXNlLnBheW1lbnRUZXJtID0ge307CiAgICAgICAgICAgICAgICAgICAgICBwYXltZW50VGVybUhhbmRsZXJfLmdldChzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm1zID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMucHVyY2hhc2UucGF5bWVudFRlcm0gPSB0ZXJtcy50ZXJtOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMub25QYXltZW50VGVybUNoYW5nZWQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZENyZWRpdExpbWl0OiBmdW5jdGlvbiBsb2FkQ3JlZGl0TGltaXQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczQudmVuZG9yKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RyRmlsdGVyID0gIj9pZD0iICsgX3RoaXM0LnZlbmRvci5pZCArICImdHJhbnNhY3Rpb25EYXRlPSIgKyBfdGhpczQucHVyY2hhc2UudHJhbnNhY3Rpb25EYXRlICsgIiZ0eXBlPVZlbmRvciI7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczQucHVyY2hhc2UuY3JlZGl0TGltaXQgPSAwOwogICAgICAgICAgICAgICAgICAgICAgY3JlZGl0TGltaXRIYW5kbGVyLmdldChzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWRpdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnB1cmNoYXNlLmNyZWRpdExpbWl0ID0ga2VuZG8ucGFyc2VGbG9hdChjcmVkaXQuYW1vdW50IHx8IDApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvYnNlcnZlckNsZWFuOiBmdW5jdGlvbiBvYnNlcnZlckNsZWFuKG9iaikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKGZ1bmN0aW9uIChyZXMsIGUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocmVzLCBfZGVmaW5lUHJvcGVydHkoe30sIGUsIG9ialtlXSkpOwogICAgICAgICAgICAgICAgfSwge30pKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgSGVscDogZnVuY3Rpb24gSGVscChrZXlfc2VhcmNoKSB7CiAgICAgIFNob3dSZXNvdXJjZShrZXlfc2VhcmNoKTsKICAgIH0sCiAgICBBbW91bnRFZGl0b3I6IGZ1bmN0aW9uIEFtb3VudEVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgZGF0YS1iaW5kPSJ2YWx1ZTonICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvTnVtZXJpY1RleHRCb3goewogICAgICAgIGRlY2ltYWxzOiAzMCwKICAgICAgICBmb3JtYXQ6ICIiLmNvbmNhdCh0aGlzLnB1cmNoYXNlRm9ybUNvbnRlbnQuZGVjaW1hbCkKICAgICAgfSk7CiAgICB9LAogICAgdmF0VGVtcGxhdGU6IGZ1bmN0aW9uIHZhdFRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHZhciB2YXQgPSBkYXRhSXRlbS52YXRUYXggfHwge307CgogICAgICBpZiAodmF0KSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdCh2YXQuZGVmYXVsdFRheCA/IHZhdC5kZWZhdWx0VGF4IDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgaXRlbVRlbXBsYXRlOiBmdW5jdGlvbiBpdGVtVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGl0ZW0gPSBkYXRhSXRlbS5pdGVtOwoKICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KGl0ZW0ubmFtZSA/IGl0ZW0ubmFtZSA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIFVPTVRlbXBsYXRlOiBmdW5jdGlvbiBVT01UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgdW9tID0gZGF0YUl0ZW0udW9tIHx8IHt9OwogICAgICB2YXIgY29kZSA9IHVvbS5jb2RlIHx8ICIiOwoKICAgICAgaWYgKHVvbSkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQodW9tLnVvbSA/IGNvZGUgOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBkaXNjb3VudEl0ZW1UZW1wbGF0ZTogZnVuY3Rpb24gZGlzY291bnRJdGVtVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGRpc2NvdW50SXRlbSA9IGRhdGFJdGVtLmRpc2NvdW50SXRlbTsKCiAgICAgIGlmIChkaXNjb3VudEl0ZW0pIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KGRpc2NvdW50SXRlbS5jb2RlID8gZGlzY291bnRJdGVtLmNvZGUgOiAiIiwgIiAtICIpLmNvbmNhdChkaXNjb3VudEl0ZW0ubmFtZSA/IGRpc2NvdW50SXRlbS5uYW1lIDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgYWRkU2VsZWN0OiBmdW5jdGlvbiBhZGRTZWxlY3QoKSB7CiAgICAgIHZhciBhbW91bnRfbnVtID0gdGhpcy5udW1TZWxlY3QubGVuZ3RoOwogICAgICB2YXIgbnVtID0gdGhpcy5udW1TZWxlY3RbYW1vdW50X251bSAtIDFdOwogICAgICB2YXIgbmV3X251bSA9IG51bSArIDE7CiAgICAgIHZhciBsZW5naHRJdGVtID0gdGhpcy5zcGVjaWZpY0Rpc2NvdW50SXRlbS5sZW5ndGg7CgogICAgICBpZiAobmV3X251bSA8PSBsZW5naHRJdGVtKSB7CiAgICAgICAgdGhpcy5udW1TZWxlY3QucHVzaChuZXdfbnVtKTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZVNlbGVjdDogZnVuY3Rpb24gcmVtb3ZlU2VsZWN0KGluZGV4KSB7CiAgICAgIHRoaXMubnVtU2VsZWN0LnNwbGljZShpbmRleCwgMSk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyhpbmRleCwgdGhpcy5udW1TZWxlY3QpCiAgICAgIC8vIHRoaXMuc2VsZWN0RGlzY291bnQuc3BsaWNlKGluZGV4LDEpCiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygicmVtb3ZlIix0aGlzLnNlbGVjdERpc2NvdW50KQogICAgICAvLyB0aGlzLnNlbGVjdERpc2NvdW50ID0gdGhpcy5zZWxlY3REaXNjb3VudC5maWx0ZXIoaXRlbSA9PiAgaXRlbS5pZCAhPSB2YWwuaWQpOwogICAgfSwKICAgIG9uT3RoZXJDaGFyZ2VDaGFuZ2U6IGZ1bmN0aW9uIG9uT3RoZXJDaGFyZ2VDaGFuZ2UoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIG90aGVyQ2hhcmdlID0gMDsKICAgICAgdGhpcy5tT3RoZXJDaGFyZ2UuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgIG90aGVyQ2hhcmdlICs9IF90aGlzNS5hdXRvQ2FsY3VsYXRlRGlzY291bnQobSwgX3RoaXM1LnB1cmNoYXNlLnN1YlRvdGFsKTsKICAgICAgfSk7CiAgICAgIHRoaXMucHVyY2hhc2Uub3RoZXJDaGFyZ2VBbW91bnQgPSBvdGhlckNoYXJnZTsKICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICB9LAogICAgb25PdGhlckFtb3VudDogZnVuY3Rpb24gb25PdGhlckFtb3VudCh2YWx1ZSkgewogICAgICByZXR1cm4gdGhpcy5hdXRvQ2FsY3VsYXRlRGlzY291bnQodmFsdWUsIHRoaXMucHVyY2hhc2Uuc3ViVG90YWwpOwogICAgfSwKICAgIG9uU3BlY2lmaWNEaXNjb3VudENoYW5nZWQ6IGZ1bmN0aW9uIG9uU3BlY2lmaWNEaXNjb3VudENoYW5nZWQoKSB7CiAgICAgIHRoaXMucHVyY2hhc2Uuc3BlY2lmaWNEaXNjb3VudFRvdGFsID0gMDsKCiAgICAgIGlmICh0aGlzLnB1cmNoYXNlLnNwZWNpZmljRGlzY291bnRJdGVtKSB7CiAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCctY2hhbmdlZCcsIHRoaXMucHVyY2hhc2Uuc3BlY2lmaWNEaXNjb3VudEl0ZW0pCiAgICAgICAgdGhpcy5wdXJjaGFzZS5zcGVjaWZpY0Rpc2NvdW50VG90YWwgPSB0aGlzLmF1dG9DYWxjdWxhdGVEaXNjb3VudCh0aGlzLnB1cmNoYXNlLnNwZWNpZmljRGlzY291bnRJdGVtLCB0aGlzLnB1cmNoYXNlLnN1YlRvdGFsKSB8fCAwOwogICAgICAgIHRoaXMucHVyY2hhc2UudG90YWwgPSBrZW5kby5wYXJzZUZsb2F0KHRoaXMucHVyY2hhc2Uuc3ViVG90YWwpIC0gKGtlbmRvLnBhcnNlRmxvYXQodGhpcy5wdXJjaGFzZS5kaXNjb3VudFRvdGFsKSArIGtlbmRvLnBhcnNlRmxvYXQodGhpcy5wdXJjaGFzZS50b3RhbFRheEFtb3VudCkpIC0gdGhpcy5hdXRvQ2FsY3VsYXRlRGlzY291bnQodGhpcy5wdXJjaGFzZS5zcGVjaWZpY0Rpc2NvdW50SXRlbSwgdGhpcy5wdXJjaGFzZS5zdWJUb3RhbCk7CiAgICAgIH0KCiAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgfSwKICAgIGVtcEltcGw6IGZ1bmN0aW9uIGVtcEltcGwoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGVtcElkcyA9IFtdOwogICAgICBkYXRhSXRlbS5lbXBsb3llZS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgZW1wSWRzLnB1c2gobS5maXJzdE5hbWUgKyAiIC0gIiArIG0ubGFzdE5hbWUpOwogICAgICB9KTsgLy8gd2luZG93LmNvbnNvbGUubG9nKGVtcElkcy5qb2luKCcsICcpKQoKICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChlbXBJZHMuam9pbigiLCAiKSwgIjwvc3Bhbj4iKTsKICAgIH0sCiAgICB1b21UbXA6IGZ1bmN0aW9uIHVvbVRtcChkYXRhSXRlbSkgewogICAgICB3aW5kb3cuY29uc29sZS5sb2coZGF0YUl0ZW0pOwogICAgICByZXR1cm4gZGF0YUl0ZW07CiAgICB9LAogICAgb25JbnZvaWNlVHlwZUNoYW5nZWQ6IGZ1bmN0aW9uIG9uSW52b2ljZVR5cGVDaGFuZ2VkKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkID09PSBudWxsIHx8IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA9PT0gIiIpIHsKICAgICAgICB0aGlzLmdlbmVyYXRlTnVtYmVyKCk7CiAgICAgIH0KICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlVGF4QnlUeXBlOiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlVGF4QnlUeXBlKHRheCkgewogICAgICAvLyByZXR1cm4gYnkgYSBrZXkKICAgICAgdmFyIGdyb3VwQWxsID0gZnVuY3Rpb24gZ3JvdXBBbGwobGlzdCkgewogICAgICAgIHJldHVybiBsaXN0LnJlZHVjZShmdW5jdGlvbiAodGF4LCBpdGVtKSB7CiAgICAgICAgICB2YXIgdGF4QW1vdW50ID0gdGF4W2l0ZW0ubmFtZV0gfHwgMDsKICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0YXgsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaXRlbS5uYW1lLCB0YXhBbW91bnQgKyBwYXJzZUZsb2F0KGl0ZW0uYW1vdW50KSkpOwogICAgICAgIH0sIHt9KTsKICAgICAgfTsKCiAgICAgIHRoaXMudGF4TGlzdFRvdGFsID0gZ3JvdXBBbGwodGF4KTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJuaW1vbCIsIGdyb3VwQWxsKHRheCkpOwogICAgfSwKICAgIG9uRGVwb3NpdERlZHVjdGlvbkNoYW5nZTogZnVuY3Rpb24gb25EZXBvc2l0RGVkdWN0aW9uQ2hhbmdlKCkgewogICAgICB2YXIgZGVkdWN0ID0gcGFyc2VGbG9hdCh0aGlzLnB1cmNoYXNlLmRlcG9zaXREZWR1Y3Rpb24gfHwgMCk7CgogICAgICBpZiAoZGVkdWN0IDwgMCkgewogICAgICAgIHRoaXMucHVyY2hhc2UuZGVwb3NpdERlZHVjdGlvbiA9IDA7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnB1cmNoYXNlLmRlcG9zaXREZWR1Y3Rpb24gPT09ICIiIHx8IHRoaXMucHVyY2hhc2UuZGVwb3NpdERlZHVjdGlvbiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5wdXJjaGFzZS5kZXBvc2l0RGVkdWN0aW9uID0gMDsKICAgICAgfQoKICAgICAgdmFyIGRlZHVjdGlvbiA9IHBhcnNlRmxvYXQodGhpcy5wdXJjaGFzZS5kZXBvc2l0RGVkdWN0aW9uKSB8fCAwOwoKICAgICAgaWYgKGRlZHVjdGlvbiA+IHRoaXMucHVyY2hhc2UuZGVwb3NpdEFtb3VudCkgewogICAgICAgIHRoaXMucHVyY2hhc2UuZGVwb3NpdERlZHVjdGlvbiA9IHRoaXMucHVyY2hhc2UuZGVwb3NpdEFtb3VudDsKICAgICAgfQoKICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICB9LAogICAgYXV0b0NhbGN1bGF0ZTogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZSgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgZHMsIHN1YlRvdGFsLCB0b3RhbFRheCwgZGlzY291bnRUb3RhbCwgc3BUYXgsIHBsdGF4LCBvdGhlclRheCwgdmF0VGF4LCBkaXNjb3VudEludm9pY2UsIHRheExpc3QsIHRheExpc3REZXRhaWwsIGRpc2NvdW50SXRlbSwgZGlzY291bnRMaW5lLCBpbmNsdXNpdmVUYXgsIHRheFR5cGVJZCwgd2l0aGhvbGRpbmdUYXhBbW91bnQsIHdoVGF4QW1vdW50LCBpdGVtU3VidG90YWwsIHR4bkl0bVN1YnRvdGFsLCBzZXJ2aWNlU3VidG90YWwsIGl0ZW1EaXNjb3VudCwgc2VydmljZURpc2NvdW50LCB0eG5EaXNjb3VudCwgbmF0dXJlLCByb3dzLCB0b3RhbCwgc3BlY2lmaWNEaXNjb3VudCwgdW5pcXVlRGlzY291bnRJdGVtLCBhcEFjYywgc3BlY2lmaWNEaXNjLCBwdXJjaGFzZURlcG9zaXRBY2MsIG90aGVyQ2hhcmdlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkcyA9IF90aGlzNi4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCksIHN1YlRvdGFsID0gMCwgdG90YWxUYXggPSAwLCBkaXNjb3VudFRvdGFsID0gMCwgc3BUYXggPSAwLCBwbHRheCA9IDAsIG90aGVyVGF4ID0gMCwgdmF0VGF4ID0gMCwgZGlzY291bnRJbnZvaWNlID0gMCwgdGF4TGlzdCA9IFtdLCB0YXhMaXN0RGV0YWlsID0gW10sIGRpc2NvdW50SXRlbSA9IFtdLCBkaXNjb3VudExpbmUgPSBbXSwgaW5jbHVzaXZlVGF4ID0gMCwgdGF4VHlwZUlkID0gMCwgd2l0aGhvbGRpbmdUYXhBbW91bnQgPSAwLCB3aFRheEFtb3VudCA9IDAsIGl0ZW1TdWJ0b3RhbCA9IDAsIHR4bkl0bVN1YnRvdGFsID0gMCwgc2VydmljZVN1YnRvdGFsID0gMCwgaXRlbURpc2NvdW50ID0gMCwgc2VydmljZURpc2NvdW50ID0gMCwgdHhuRGlzY291bnQgPSAwOwogICAgICAgICAgICAgICAgbmF0dXJlID0gIiI7CiAgICAgICAgICAgICAgICBfdGhpczYualJhdyA9IFtdOwogICAgICAgICAgICAgICAgcm93cyA9IGRzLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQobS5hbW91bnQpID4gMDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICB2YXIgbW9kaWZpZXJQcmljZSA9IDAsCiAgICAgICAgICAgICAgICAgICAgICBpbmNUYXggPSAwOwoKICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLm1vZGlmaWVyKSB7CiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJQcmljZSA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUubW9kaWZpZXIucHJpY2UpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICB2YXIgZGlzY291bnQgPSAwOwoKICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmRpc2NvdW50SXRlbSkgewogICAgICAgICAgICAgICAgICAgIHZhciBkaXNJdGVtRmllbGQgPSB2YWx1ZS5kaXNjb3VudEl0ZW07CiAgICAgICAgICAgICAgICAgICAgdmFyIHN1YlRvID0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5jb3N0KSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucXR5KTsKICAgICAgICAgICAgICAgICAgICBkaXNjb3VudCA9IF90aGlzNi5hdXRvQ2FsY3VsYXRlRGlzY291bnQodmFsdWUuZGlzY291bnRJdGVtLCBzdWJUbyk7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVbImRpc2NvdW50QW1vdW50Il0gPSBkaXNjb3VudDsKICAgICAgICAgICAgICAgICAgICB2YWx1ZVsiZGlzY291bnRFeGNoYW5nZUFtb3VudCJdID0gZGlzY291bnQgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzNi5wdXJjaGFzZS50eG5SYXRlKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmRpc2NvdW50SXRlbS5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRJdGVtLnB1c2godmFsdWUuZGlzY291bnRJdGVtKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGRpc2NvdW50VG90YWwgKz0gZGlzY291bnQgPyBkaXNjb3VudCA6IDA7CgogICAgICAgICAgICAgICAgICAgIGlmIChkaXNjb3VudCAqIC0xID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgbmF0dXJlID0gImRyIjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChkaXNJdGVtRmllbGQuYWNjb3VudCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc0l0ZW1GaWVsZC5hY2NvdW50Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkaXNJdGVtRmllbGQuYWNjb3VudC5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICJQdXJjaGFzZSBEaXNjb3VudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogZGlzSXRlbUZpZWxkLmFjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBkaXNJdGVtRmllbGQuYWNjb3VudC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGRpc2NvdW50ICogLTEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGRpc2NvdW50ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczYucHVyY2hhc2UudHhuUmF0ZSkgKiAtMSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUFzOiAiZGlzY291bnQiCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLnZhdFRheCkgewogICAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygnVmF0IFRheCcsIHZhbHVlLnRheCkKICAgICAgICAgICAgICAgICAgICB2YXIgX2FtdCA9IGtlbmRvLnBhcnNlRmxvYXQoc3BUYXggPyBzcFRheCA6IDApICsga2VuZG8ucGFyc2VGbG9hdChwbHRheCA/IHBsdGF4IDogMCkgKyBrZW5kby5wYXJzZUZsb2F0KG90aGVyVGF4ID8gb3RoZXJUYXggOiAwKSArIChrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCA/IHZhbHVlLmFtb3VudCA6IDApIC0gKGRpc2NvdW50ID8gZGlzY291bnQgOiAwKSk7CgogICAgICAgICAgICAgICAgICAgIHZhdFRheCA9IF90aGlzNi5hdXRvQ2FsY3VsYXRlVGF4KHZhbHVlLnZhdFRheCwgX2FtdCk7CiAgICAgICAgICAgICAgICAgICAgdmF0VGF4ID0ga2VuZG8ucGFyc2VGbG9hdCh2YXRUYXgpID8ga2VuZG8ucGFyc2VGbG9hdCh2YXRUYXgpIDogMDsKICAgICAgICAgICAgICAgICAgICB2YWx1ZVsidmF0VGF4QW1vdW50Il0gPSB2YXRUYXg7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVbInZhdFRheEV4Y2hhbmdlQW1vdW50Il0gPSB2YXRUYXggKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzNi5wdXJjaGFzZS50eG5SYXRlKTsKICAgICAgICAgICAgICAgICAgICB2YXIgdGF4ID0gdmFsdWUudmF0VGF4IHx8IHt9OwogICAgICAgICAgICAgICAgICAgIHZhciBiYXNlQW1vdW50ID0gdGF4LmJhc2VBbW91bnQgfHwgIiI7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRheCwgImltIHRheCIpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZUFtb3VudCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKGJhc2VBbW91bnQudG9Mb3dlckNhc2UoKSA9PT0gImluY2x1c2l2ZSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW5jVGF4ID0gdmF0VGF4OwogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlVGF4ICs9IHZhdFRheDsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS52YXRUYXguaGFzT3duUHJvcGVydHkoInRheFR5cGUiKSkgewogICAgICAgICAgICAgICAgICAgICAgdGF4TGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdmFsdWUudmF0VGF4LnRheFR5cGUubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiB2YXRUYXgsCiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB2YWx1ZS52YXRUYXgudGF4VHlwZS5pZAogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgdmF0VGF4XyA9IHZhbHVlLnZhdFRheCB8fCB7fTsKICAgICAgICAgICAgICAgICAgICAgIHZhdFRheF9bInRheEFtb3VudF8iXSA9IHZhdFRheDsKICAgICAgICAgICAgICAgICAgICAgIHZhdFRheF9bImFtb3VudCJdID0gdmFsdWUuYW1vdW50IHx8IDA7CiAgICAgICAgICAgICAgICAgICAgICB2YXRUYXhfWyJkaXNjb3VudCJdID0gZGlzY291bnQgfHwgMDsKICAgICAgICAgICAgICAgICAgICAgIHZhdFRheF9bInR4blJhdGUiXSA9IF90aGlzNi5wdXJjaGFzZS50eG5SYXRlIHx8IDE7CiAgICAgICAgICAgICAgICAgICAgICB2YXRUYXhfWyJpc1ZhdCJdID0gMTsKICAgICAgICAgICAgICAgICAgICAgIHZhdFRheF8uZGV0YWlsID0gewogICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpY1RheDoge30sCiAgICAgICAgICAgICAgICAgICAgICAgIHB1YmxpY0xpZ2h0aW5nVGF4OiB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJUYXg6IHt9CiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgdGF4TGlzdERldGFpbC5wdXNoKHZhdFRheF8pOwogICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJ2YXRfIiwgdmF0VGF4Xyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUudmF0VGF4Lmhhc093blByb3BlcnR5KCJ0YXhUeXBlIikpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXhUeXBlID0gdmFsdWUudmF0VGF4LnRheFR5cGUgfHwge307CiAgICAgICAgICAgICAgICAgICAgICB0YXhUeXBlSWQgPSB0YXhUeXBlLnR5cGVJZCB8fCAwOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdmFyIHRheEFtb3VudCA9IHZhdFRheDsKICAgICAgICAgICAgICAgICAgICB2YXIgdGF4RGVzY3JpcHRpb24gPSAiIjsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHRheFR5cGVJZCA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgbmF0dXJlID0gImRyIjsKICAgICAgICAgICAgICAgICAgICAgIHRheEFtb3VudCA9IHZhdFRheDsKICAgICAgICAgICAgICAgICAgICAgIHRheERlc2NyaXB0aW9uID0gIlB1cmNoYXNlIFRheCI7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXhUeXBlSWQgPT09IDIpIHsKICAgICAgICAgICAgICAgICAgICAgIHdpdGhob2xkaW5nVGF4QW1vdW50ICs9IHZhdFRheDsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAodGF4VHlwZUlkID09PSAyICYmIGJhc2VBbW91bnQudG9Mb3dlckNhc2UoKSA9PT0gIm5ldCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hUYXhBbW91bnQgKz0gdmF0VGF4OwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgICAgICAgICAgICAgICAgICB0YXhBbW91bnQgPSB2YXRUYXggKiAtMTsKICAgICAgICAgICAgICAgICAgICAgIHRheERlc2NyaXB0aW9uID0gIldpdGhob2xkaW5nIFRheCI7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXhUeXBlSWQgPT09IDEwKSB7CiAgICAgICAgICAgICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgICAgICAgICAgICAgdGF4QW1vdW50ID0gMDsKICAgICAgICAgICAgICAgICAgICAgIHRheERlc2NyaXB0aW9uID0gIk5vIFRheCI7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAodGF4QW1vdW50ID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgbmF0dXJlID0gImRyIjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHZhciB2YXRUYXhGaWVsZCA9IHZhbHVlLnZhdFRheCB8fCB7fTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHRheEFtb3VudCAhPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHZhdFRheEZpZWxkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXRUYXhGaWVsZC5hY2NvdW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhdFRheEZpZWxkLmFjY291bnQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdmF0VGF4RmllbGQuYWNjb3VudC5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwodmFsdWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGF4RGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IHZhdFRheEZpZWxkLmFjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogdmF0VGF4RmllbGQuYWNjb3VudC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiB0YXhBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiB0YXhBbW91bnQgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzNi5wdXJjaGFzZS50eG5SYXRlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlQXM6ICJ0YXgiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHRvdGFsVGF4ICs9IGtlbmRvLnBhcnNlRmxvYXQoc3BUYXggPyBzcFRheCA6IDApICsga2VuZG8ucGFyc2VGbG9hdChwbHRheCA/IHBsdGF4IDogMCkgKyBrZW5kby5wYXJzZUZsb2F0KG90aGVyVGF4ID8gb3RoZXJUYXggOiAwKSArIGtlbmRvLnBhcnNlRmxvYXQodmF0VGF4ID8gdmF0VGF4IDogMCk7CiAgICAgICAgICAgICAgICAgIHN1YlRvdGFsICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSArIG1vZGlmaWVyUHJpY2UgLSBpbmNUYXg7CiAgICAgICAgICAgICAgICAgIHZhciBhbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCkgKyBtb2RpZmllclByaWNlOwoKICAgICAgICAgICAgICAgICAgdmFyIGFtdCA9IF90aGlzNi5leGNsdWRlVkFUVGF4SW5jbHVzaXZlKHZhbHVlLnZhdFRheCwgYW1vdW50LCBpbmNUYXgpOyAvLyBjb25zdCB4QW1vdW50ID0gKGtlbmRvLnBhcnNlRmxvYXQoYW10KSAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy5wdXJjaGFzZS50eG5SYXRlKSkKCgogICAgICAgICAgICAgICAgICB2YXIgYWRkaXRjID0gdmFsdWUuYWRkaXRpb25hbENvc3QgfHwgMDsKICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1BbW91bnQgPSBhbXQ7CiAgICAgICAgICAgICAgICAgIHZhciBpdGVtWEFtb3VudCA9IGl0ZW1BbW91bnQgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzNi5wdXJjaGFzZS50eG5SYXRlKTsKICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB2YWx1ZS5pdGVtOwogICAgICAgICAgICAgICAgICB2YXIgaXRtVHlwZSA9IGl0ZW0udHlwZSB8fCAiIjsKCiAgICAgICAgICAgICAgICAgIGlmIChpdG1UeXBlID09PSAiVmFyaWFudCIpIHsKICAgICAgICAgICAgICAgICAgICBpdGVtU3VidG90YWwgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5jb3N0KSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucXR5KTsKICAgICAgICAgICAgICAgICAgICBpdGVtRGlzY291bnQgKz0ga2VuZG8ucGFyc2VGbG9hdChkaXNjb3VudCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRtVHlwZSA9PT0gIlNlcnZpY2UiKSB7CiAgICAgICAgICAgICAgICAgICAgc2VydmljZVN1YnRvdGFsICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuY29zdCkgKiBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnF0eSk7CiAgICAgICAgICAgICAgICAgICAgc2VydmljZURpc2NvdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnQpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHR4bkl0bVN1YnRvdGFsICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuY29zdCkgKiBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnF0eSk7CiAgICAgICAgICAgICAgICAgICAgdHhuRGlzY291bnQgKz0ga2VuZG8ucGFyc2VGbG9hdChkaXNjb3VudCk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChhbXQgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgbmF0dXJlID0gImRyIjsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICJTZXJ2aWNlIikgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHBsYW4gPSBpdGVtLmlzUGFuIHx8IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChwbGFuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCJkZWZlcnJlZEluY29tZUFjYyIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZGVmZXJyZWRJbmNvbWVBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWZlcnJlZEluQWNjID0gaXRlbS5kZWZlcnJlZEluY29tZUFjYzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYualJhdy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGRlZmVycmVkSW5BY2MuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzNi5wdXJjaGFzZS5qb3VybmFsTm90ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogZGVmZXJyZWRJbkFjYywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBkZWZlcnJlZEluQWNjLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGl0ZW1BbW91bnQgKiAtMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcXR5KmF2Z19jb3N0ICwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGl0ZW1YQW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlQXM6ICJpdGVtIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgiY29zdE9mR29vZHNTb2xkQWNjIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5jb3N0T2ZHb29kc1NvbGRBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3N0T2ZHb29kc1NvbGRBY2MgPSBpdGVtLmNvc3RPZkdvb2RzU29sZEFjYzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYualJhdy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNvc3RPZkdvb2RzU29sZEFjYy5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwodmFsdWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogX3RoaXM2LnB1cmNoYXNlLmpvdXJuYWxOb3RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiBpdGVtLmNvc3RPZkdvb2RzU29sZEFjYywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBpdGVtLmNvc3RPZkdvb2RzU29sZEFjYy5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBpdGVtQW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBxdHkqYXZnX2Nvc3QgLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogaXRlbVhBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8veEFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlQXM6ICJpdGVtIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICJWYXJpYW50IikgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGFtb3VudFdpdGhBZGRpY3QgPSBpdGVtQW1vdW50ICsgKHZhbHVlLmFtb3VudEFwcGxpZWQgfHwgMCk7CiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coImFkZGl0YyIsIGFkZGl0YywgIi0iLCBpdGVtQW1vdW50KTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgiaW52ZW50b3J5QWNjIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uaW52ZW50b3J5QWNjLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGludmVudG9yeUFjYyA9IGl0ZW0uaW52ZW50b3J5QWNjOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYualJhdy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbnZlbnRvcnlBY2MuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogX3RoaXM2LnB1cmNoYXNlLmpvdXJuYWxOb3RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogaXRlbS5pbnZlbnRvcnlBY2MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGl0ZW0uaW52ZW50b3J5QWNjLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnRXaXRoQWRkaWN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcXR5KmF2Z19jb3N0ICwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBhbW91bnRXaXRoQWRkaWN0ICogKF90aGlzNi5wdXJjaGFzZS50eG5SYXRlIHx8IDEpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy94QW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUFzOiAiaXRlbSIKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAiRml4ZWQgQXNzZXQiKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgiYXNzZXRBY2MiKSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5hc3NldEFjYy5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhc3NldEFjYyA9IGl0ZW0uYXNzZXRBY2M7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGFzc2V0QWNjLmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwodmFsdWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzNi5wdXJjaGFzZS5qb3VybmFsTm90ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGl0ZW0uYXNzZXRBY2MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGl0ZW0uYXNzZXRBY2MuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGl0ZW1BbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBxdHkqYXZnX2Nvc3QgLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGl0ZW1YQW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy94QW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUFzOiAiaXRlbSIKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAiVHJhbnNhY3Rpb24gSXRlbSIpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCJhY2NvdW50IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uYWNjb3VudC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uYWNjb3VudC5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBfdGhpczYucHVyY2hhc2Uuam91cm5hbE5vdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiBpdGVtLmFjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGl0ZW0uYWNjb3VudC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogaXRlbUFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHF0eSphdmdfY29zdCAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogaXRlbVhBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3hBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlQXM6ICJpdGVtIgogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IC8vaW5jbHVkZSBUYXggQW1vdW50CgoKICAgICAgICAgICAgICAgICAgdmFyIGFtb3VudE5vZGlzY291bnQgPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmNvc3QpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdHkpIC0gZGlzY291bnQ7CiAgICAgICAgICAgICAgICAgIHZhciBpbmNsdWRlVGF4QW1vdW50ID0gYW1vdW50Tm9kaXNjb3VudCArIHZhdFRheCArIHBsdGF4ICsgc3BUYXggKyBvdGhlclRheDsKICAgICAgICAgICAgICAgICAgdmFsdWVbImluY2x1ZGVUYXhBbW91bnQiXSA9IGluY2x1ZGVUYXhBbW91bnQ7CiAgICAgICAgICAgICAgICAgIHZhbHVlWyJpbmNsdWRlVGF4RXhjaGFuZ2VBbW91bnQiXSA9IGluY2x1ZGVUYXhBbW91bnQgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzNi5wdXJjaGFzZS50eG5SYXRlKTsKICAgICAgICAgICAgICAgIH0pOyAvL3RvZG86IFdpdGhob2xkaW5nVGF4IGV4cGVuc2UKCiAgICAgICAgICAgICAgICBfdGhpczYud2l0aGhvbGRpbmdFeHBlbnNlKHdoVGF4QW1vdW50LCBfdGhpczYucHVyY2hhc2UudHhuUmF0ZSB8fCAxKTsKCiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2UuaXRlbVN1YnRvdGFsID0gaXRlbVN1YnRvdGFsOwogICAgICAgICAgICAgICAgX3RoaXM2LnB1cmNoYXNlLmluY2x1c2l2ZVRheEFtb3VudCA9IGluY2x1c2l2ZVRheDsKICAgICAgICAgICAgICAgIF90aGlzNi5wdXJjaGFzZS5leGNoYW5nZUl0ZW1TdWJ0b3RhbCA9IGl0ZW1TdWJ0b3RhbCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM2LnB1cmNoYXNlLnR4blJhdGUpOwogICAgICAgICAgICAgICAgX3RoaXM2LnB1cmNoYXNlLnNlcnZpY2VTdWJ0b3RhbCA9IHNlcnZpY2VTdWJ0b3RhbDsKICAgICAgICAgICAgICAgIF90aGlzNi5wdXJjaGFzZS5leGNoYW5nZVNlcnZpY2VTdWJ0b3RhbCA9IHNlcnZpY2VTdWJ0b3RhbCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM2LnB1cmNoYXNlLnR4blJhdGUpOwogICAgICAgICAgICAgICAgX3RoaXM2LnB1cmNoYXNlLnR4bkl0bVN1YnRvdGFsID0gdHhuSXRtU3VidG90YWw7CiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2UuZXhjaGFuZ2VUeG5JdG1TdWJ0b3RhbCA9IHR4bkl0bVN1YnRvdGFsICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczYucHVyY2hhc2UudHhuUmF0ZSk7CiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2UuaXRlbURpc2NvdW50ID0gaXRlbURpc2NvdW50OwogICAgICAgICAgICAgICAgX3RoaXM2LnB1cmNoYXNlLmV4Y2hhbmdlSXRlbURpc2NvdW50ID0gaXRlbURpc2NvdW50ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczYucHVyY2hhc2UudHhuUmF0ZSk7CiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2Uuc2VydmljZURpc2NvdW50ID0gc2VydmljZURpc2NvdW50OwogICAgICAgICAgICAgICAgX3RoaXM2LnB1cmNoYXNlLmV4Y2hhbmdlU2VydmljZURpc2NvdW50ID0gc2VydmljZURpc2NvdW50ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczYucHVyY2hhc2UudHhuUmF0ZSk7CiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2UudHhuSXRtRGlzY291bnQgPSB0eG5EaXNjb3VudDsKICAgICAgICAgICAgICAgIF90aGlzNi5wdXJjaGFzZS5leGNoYW5nZVR4bkl0bURpc2NvdW50ID0gdHhuRGlzY291bnQgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzNi5wdXJjaGFzZS50eG5SYXRlKTsKICAgICAgICAgICAgICAgIHRvdGFsID0ga2VuZG8ucGFyc2VGbG9hdChzdWJUb3RhbCkgLSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50VG90YWwpICsga2VuZG8ucGFyc2VGbG9hdCh0b3RhbFRheCk7CiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2Uuc3ViVG90YWwgPSBzdWJUb3RhbDsKICAgICAgICAgICAgICAgIF90aGlzNi5wdXJjaGFzZS50b3RhbFRheEFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodG90YWxUYXgpOwogICAgICAgICAgICAgICAgX3RoaXM2LnB1cmNoYXNlLmRpc2NvdW50VG90YWwgPSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50VG90YWwpOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczYucHVyY2hhc2Uuc3BlY2lmaWNEaXNjb3VudEl0ZW0pIHsKICAgICAgICAgICAgICAgICAgZGlzY291bnRJbnZvaWNlID0gX3RoaXM2LmF1dG9DYWxjdWxhdGVEaXNjb3VudChfdGhpczYucHVyY2hhc2Uuc3BlY2lmaWNEaXNjb3VudEl0ZW0sIGtlbmRvLnBhcnNlRmxvYXQoc3ViVG90YWwpKTsKICAgICAgICAgICAgICAgICAgZGlzY291bnRJbnZvaWNlID0gZGlzY291bnRJbnZvaWNlID8gZGlzY291bnRJbnZvaWNlIDogMDsKICAgICAgICAgICAgICAgIH0gLy8gdGhpcy5vbk90aGVyQ2hhcmdlQ2hhbmdlKCkKCgogICAgICAgICAgICAgICAgX3RoaXM2LnB1cmNoYXNlLnRvdGFsID0ga2VuZG8ucGFyc2VGbG9hdCh0b3RhbCkgLSBkaXNjb3VudEludm9pY2UgKyBrZW5kby5wYXJzZUZsb2F0KF90aGlzNi5wdXJjaGFzZS5vdGhlckNoYXJnZUFtb3VudCk7IC8vLSBwYXJzZUZsb2F0KHdpdGhob2xkaW5nVGF4QW1vdW50KTsKCiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2Uud2l0aGhvbGRpbmdUYXhBbW91bnQgPSB3aXRoaG9sZGluZ1RheEFtb3VudDsgLy8gdGhpcy5wdXJjaGFzZS50b3RhbEFmdGVyV2l0aGhvbGRpbmdUYXggPSBrZW5kby5wYXJzZUZsb2F0KHRoaXMucHVyY2hhc2UudG90YWwpIC0gcGFyc2VGbG9hdCh3aXRoaG9sZGluZ1RheEFtb3VudCk7CgogICAgICAgICAgICAgICAgX3RoaXM2LnB1cmNoYXNlLnJlbWFpbmluZ0Ftb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM2LnB1cmNoYXNlLnRvdGFsKSAtIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM2LnB1cmNoYXNlLmRlcG9zaXREZWR1Y3Rpb24pIC0gcGFyc2VGbG9hdCh3aXRoaG9sZGluZ1RheEFtb3VudCk7CiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2UuYW1vdW50RHVlID0ga2VuZG8ucGFyc2VGbG9hdChfdGhpczYucHVyY2hhc2UudG90YWwpIC0ga2VuZG8ucGFyc2VGbG9hdChfdGhpczYucHVyY2hhc2UuZGVwb3NpdERlZHVjdGlvbikgLSBwYXJzZUZsb2F0KHdpdGhob2xkaW5nVGF4QW1vdW50KTsKICAgICAgICAgICAgICAgIF90aGlzNi5wdXJjaGFzZS5leGNoYW5nZUFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM2LnB1cmNoYXNlLmFtb3VudER1ZSkgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzNi5wdXJjaGFzZS50eG5SYXRlKTsgLy8gd2luZG93LmNvbnNvbGUubG9nKCdFeGNoYW5nZSBBbW91bnQnLCB0aGlzLnB1cmNoYXNlLmV4Y2hhbmdlQW1vdW50LCB0aGlzLnB1cmNoYXNlLmFtb3VudER1ZSkKCiAgICAgICAgICAgICAgICBfdGhpczYuYXV0b0NhbGN1bGF0ZVRheEJ5VHlwZSh0YXhMaXN0KTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LnB1cmNoYXNlLnNwZWNpZmljRGlzY291bnRJdGVtKSB7CiAgICAgICAgICAgICAgICAgIHNwZWNpZmljRGlzY291bnQgPSBfdGhpczYucHVyY2hhc2Uuc3BlY2lmaWNEaXNjb3VudEl0ZW0gfHwge307CgogICAgICAgICAgICAgICAgICBpZiAoc3BlY2lmaWNEaXNjb3VudC5pZCkgewogICAgICAgICAgICAgICAgICAgIGRpc2NvdW50SXRlbS5wdXNoKHNwZWNpZmljRGlzY291bnQpOwogICAgICAgICAgICAgICAgICAgIGRpc2NvdW50TGluZS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIGlkOiBzcGVjaWZpY0Rpc2NvdW50LmlkLAogICAgICAgICAgICAgICAgICAgICAgbmFtZTogc3BlY2lmaWNEaXNjb3VudC5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBfdGhpczYucHVyY2hhc2Uuc3BlY2lmaWNEaXNjb3VudFRvdGFsLAogICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IF90aGlzNi5wdXJjaGFzZS5zcGVjaWZpY0Rpc2NvdW50VG90YWwgKiBfdGhpczYucHVyY2hhc2UudHhuUmF0ZQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdW5pcXVlRGlzY291bnRJdGVtID0gX3RoaXM2LnJlbW92ZUR1cGxpY2F0ZShkaXNjb3VudEl0ZW0pOwoKICAgICAgICAgICAgICAgIF90aGlzNi5zaHJpbmtEaXNjb3VudEl0ZW0odW5pcXVlRGlzY291bnRJdGVtLCBkaXNjb3VudExpbmUpOyAvLyB3aW5kb3cuY29uc29sZS5sb2coJ2Rpc2NvdW50ICcsIHRoaXMuY3VzdG9tZXJEaXNjb3VudEl0ZW0pCiAgICAgICAgICAgICAgICAvLyB0b2RvOiByYXcgSm91cm5hbAoKCiAgICAgICAgICAgICAgICBhcEFjYyA9IF90aGlzNi5wdXJjaGFzZS5hcEFjYyB8fCB7fTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LnB1cmNoYXNlLmFtb3VudER1ZSAqIC0xID4gMCkgewogICAgICAgICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoYXBBY2MpIHsKICAgICAgICAgICAgICAgICAgaWYgKGFwQWNjLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICBpZDogYXBBY2MuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh7fSksCiAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogX3RoaXM2LnB1cmNoYXNlLmpvdXJuYWxOb3RlLAogICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogYXBBY2MsCiAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGFwQWNjLmlkLAogICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IF90aGlzNi5wdXJjaGFzZS5leGNoYW5nZUFtb3VudCAqIC0xLAogICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBfdGhpczYucHVyY2hhc2UuYW1vdW50RHVlICogLTEsCiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICB0eXBlQXM6ICJhcCIKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHNwZWNpZmljRGlzYyA9IF90aGlzNi5wdXJjaGFzZS5zcGVjaWZpY0Rpc2NvdW50SXRlbTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LnB1cmNoYXNlLnNwZWNpZmljRGlzY291bnRUb3RhbCAqIC0xID4gMCkgewogICAgICAgICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgICAgICAgIH0gLy8gd2luZG93LmNvbnNvbGUubG9nKHNwZWNpZmljRGlzYywgJ3NwZWNpZmljRGlzYycsIHRoaXMucHVyY2hhc2Uuc3BlY2lmaWNEaXNjb3VudFRvdGFsKQoKCiAgICAgICAgICAgICAgICBpZiAoc3BlY2lmaWNEaXNjKSB7CiAgICAgICAgICAgICAgICAgIGlmIChzcGVjaWZpY0Rpc2MuaGFzT3duUHJvcGVydHkoImFjY291bnQiKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChzcGVjaWZpY0Rpc2MuYWNjb3VudCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWNpZmljRGlzYy5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYualJhdy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogc3BlY2lmaWNEaXNjLmFjY291bnQuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwoe30pLAogICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAiUHVyY2hhc2UgRGlzY291bnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IHNwZWNpZmljRGlzYy5hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogc3BlY2lmaWNEaXNjLmFjY291bnQuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM2LnB1cmNoYXNlLnNwZWNpZmljRGlzY291bnRUb3RhbCkgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzNi5wdXJjaGFzZS50eG5SYXRlKSAqIC0xLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogX3RoaXM2LnB1cmNoYXNlLnNwZWNpZmljRGlzY291bnRUb3RhbCAqIC0xLAogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlQXM6ICJkaXNjb3VudCIKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5wdXJjaGFzZS5kZXBvc2l0RGVkdWN0aW9uICogLTEgPiAwKSB7CiAgICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczYucHVyY2hhc2UuZGVwb3NpdERlZHVjdGlvbikgewogICAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LnB1cmNoYXNlLmRlcG9zaXREZWR1Y3Rpb24gPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgcHVyY2hhc2VEZXBvc2l0QWNjID0gX3RoaXM2LnZlbmRvci5wdXJjaGFzZURlcG9zaXRBY2MgfHwge307CgogICAgICAgICAgICAgICAgICAgIGlmIChwdXJjaGFzZURlcG9zaXRBY2MpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChwdXJjaGFzZURlcG9zaXRBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHB1cmNoYXNlRGVwb3NpdEFjYy5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIlB1cmNoYXNlIERlcG9zaXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHt9KSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiBwdXJjaGFzZURlcG9zaXRBY2MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBwdXJjaGFzZURlcG9zaXRBY2MuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IF90aGlzNi5wdXJjaGFzZS5leGNoYW5nZURlcG9zaXREZWR1Y3Rpb24gKiAtMSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IF90aGlzNi5wdXJjaGFzZS5kZXBvc2l0RGVkdWN0aW9uICogLTEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVBczogImRlcG9zaXQiCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczYubU90aGVyQ2hhcmdlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgb3RoZXJDaGFyZ2UgPSAwOwoKICAgICAgICAgICAgICAgICAgX3RoaXM2Lm1PdGhlckNoYXJnZS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgb3RoZXJDaGFyZ2UgPSBfdGhpczYuYXV0b0NhbGN1bGF0ZURpc2NvdW50KG0sIF90aGlzNi5wdXJjaGFzZS5zdWJUb3RhbCk7CgogICAgICAgICAgICAgICAgICAgIGlmIChvdGhlckNoYXJnZSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAobSkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKG0uaGFzT3duUHJvcGVydHkoImFjY291bnQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAobS5hY2NvdW50Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjY291bnQgPSBtLmFjY291bnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY2NvdW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWNjb3VudC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYualJhdy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogYWNjb3VudC5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh7fSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICJPdGhlciBDaGFyZ2UiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBhY2NvdW50LmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBvdGhlckNoYXJnZSAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXM2LnB1cmNoYXNlLnR4blJhdGUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogb3RoZXJDaGFyZ2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVBczogIm90aGVyQ2hhcmdlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOyAvLyB0aGlzLnB1cmNoYXNlLm90aGVyQ2hhcmdlQW1vdW50ID0gb3RoZXJDaGFyZ2UKCgogICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coX3RoaXM2Lm1PdGhlckNoYXJnZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM2LnRheExpc3REZXRhaWwgPSB0YXhMaXN0RGV0YWlsOwoKICAgICAgICAgICAgICAgIF90aGlzNi5hdXRvQ2FsY3VsYXRlVGF4RGV0YWlsKCk7IC8vIHRvZG86IGVuZCByYXcgSm91cm5hbAogICAgICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHRoaXMucHVyY2hhc2UpLCAncHVyY2hhc2UnKQoKCiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5jYWxjdWxhdGVBZGRpdGlvbmFsQ29zdCgpOwoKICAgICAgICAgICAgICBjYXNlIDQ2OgogICAgICAgICAgICAgICAgLy8gdG9kbzogY29vayBqb3VybmFsCiAgICAgICAgICAgICAgICBfdGhpczYuc2hyaW5rRGF0YShfdGhpczYualJhdyk7IC8vIGNvbnN0IHVuaXF1ZSA9IHRoaXMucmVtb3ZlRHVwbGljYXRlKHRoaXMuYWNjb3VudHMpCiAgICAgICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2codW5pcXVlLCAndW5pcXVlJykKCgogICAgICAgICAgICAgIGNhc2UgNDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB3aXRoaG9sZGluZ0V4cGVuc2U6IGZ1bmN0aW9uIHdpdGhob2xkaW5nRXhwZW5zZShhbW91bnQsIHR4blJhdGUpIHsKICAgICAgLy8gaWYgKHRoaXMuaXNJdGVtKCkpIHsKICAgICAgaWYgKGFtb3VudCA+IDApIHsKICAgICAgICB2YXIgbmF0dXJlID0gImRyIjsKICAgICAgICB2YXIgYWNjb3VudCA9IHRoaXMuYWNjV2l0aGhvbGRpbmdFeHBlbnNlIHx8IFtdOwoKICAgICAgICBpZiAoYWNjb3VudC5sZW5ndGggPiAwKSB7CiAgICAgICAgICB2YXIgaWFjYyA9IGFjY291bnRbMF07CiAgICAgICAgICB0aGlzLmpSYXcucHVzaCh7CiAgICAgICAgICAgIGlkOiBpYWNjLmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh7fSksCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAiV2l0aGhvbGRpbmcgVGF4IEV4cGVuc2UiLAogICAgICAgICAgICBhY2NvdW50OiBpYWNjLAogICAgICAgICAgICBhY2NvdW50SWQ6IGlhY2MuaWQsCiAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBhbW91bnQgKiB0eG5SYXRlLAogICAgICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICB0eXBlQXM6ICJXaXRoaG9sZGluZyIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSAvLyB9CgogICAgfSwKICAgIHNocmlua0RhdGE6IGZ1bmN0aW9uIHNocmlua0RhdGEob2JqKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdmFyIHVuaXF1ZXMgPSB0aGlzLnJlbW92ZUR1cGxpY2F0ZShvYmopOwogICAgICAvKlsuLi5uZXcgU2V0KGFjY291bnRJZC5tYXAoaSA9PiB7CiAgICAgIHJldHVybiB7CiAgICAgIGlkXzogaS5pZF8sCiAgICAgIGlkOiBpLmlkLAogICAgICB0eXBlOiBpLnR5cGUKICAgICAgfSkpXSovCgogICAgICB1bmlxdWVzLmZvckVhY2goZnVuY3Rpb24gKG4pIHsKICAgICAgICB2YXIgZm91bmQgPSBvYmouZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICByZXR1cm4gbS5pZCA9PT0gbi5pZDsKICAgICAgICB9KTsKICAgICAgICB2YXIgYW1vdW50ID0gMDsKICAgICAgICBmb3VuZC5mb3JFYWNoKGZ1bmN0aW9uICh6KSB7CiAgICAgICAgICBhbW91bnQgKz0gcGFyc2VGbG9hdCh6LmFtb3VudCB8fCAwKTsKICAgICAgICB9KTsKICAgICAgICBuLmFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50KTsgLy90aGlzLm51bWJlckZvcm1hdChhbW91bnQpCgogICAgICAgIG4uZXhjaGFuZ2VBbW91bnQgPSBwYXJzZUZsb2F0KHBhcnNlRmxvYXQoYW1vdW50ICogcGFyc2VGbG9hdChfdGhpczcucHVyY2hhc2UudHhuUmF0ZSkpKTsgLy90aGlzLm51bWJlckZvcm1hdChhbW91bnQgKiBwYXJzZUZsb2F0KHRoaXMucHVyY2hhc2UudHhuUmF0ZSkpIC8vLnRvRml4ZWQodGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbCkKICAgICAgfSk7CiAgICAgIHRoaXMualJhdyA9IHVuaXF1ZXM7CiAgICAgIHZhciBkciA9IDAsCiAgICAgICAgICBjciA9IDA7CiAgICAgIHRoaXMualJhdy5mb3JFYWNoKGZ1bmN0aW9uIChqKSB7CiAgICAgICAgc3dpdGNoIChqLnR5cGUpIHsKICAgICAgICAgIGNhc2UgImNyIjoKICAgICAgICAgICAgY3IgKz0gcGFyc2VGbG9hdChqLmV4Y2hhbmdlQW1vdW50KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAiZHIiOgogICAgICAgICAgICBkciArPSBwYXJzZUZsb2F0KGouZXhjaGFuZ2VBbW91bnQpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnB1cmNoYXNlLmRyID0gZHI7CiAgICAgIHRoaXMucHVyY2hhc2UuY3IgPSBjcjsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJkcj0iLCBkciwgImNyPSIsIGNyLCAiZHIrY3IgPSAiLCBkciArIGNyKTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHVuaXF1ZXMpLCAidW5pcXVlcyIpOwogICAgfSwKICAgIHNocmlua0Rpc2NvdW50SXRlbTogZnVuY3Rpb24gc2hyaW5rRGlzY291bnRJdGVtKGRpc2NvdW50SXRlbSwgZGlzY291bnRMaW5lKSB7CiAgICAgIHZhciB1bmlxdWVEaXNjb3VudEl0ZW1zID0gW107CiAgICAgIHZhciB1bmlxdWUgPSB0aGlzLnJlbW92ZUR1cGxpY2F0ZShkaXNjb3VudEl0ZW0pOwogICAgICB1bmlxdWUuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgIHZhciBmb3VuZCA9IGRpc2NvdW50TGluZS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgIHJldHVybiBuLmlkID09PSBtLmlkOwogICAgICAgIH0pOwogICAgICAgIHZhciBhbW91bnQgPSAwLAogICAgICAgICAgICBleGNoYW5nZUFtb3VudCA9IDA7CiAgICAgICAgZm91bmQubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICBhbW91bnQgKz0gby5hbW91bnQ7CiAgICAgICAgfSk7CiAgICAgICAgZm91bmQubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICBleGNoYW5nZUFtb3VudCArPSBvLmV4Y2hhbmdlQW1vdW50OwogICAgICAgIH0pOwogICAgICAgIHVuaXF1ZURpc2NvdW50SXRlbXMucHVzaCh7CiAgICAgICAgICBpZDogbS5pZCwKICAgICAgICAgIG5hbWU6IG0ubmFtZSwKICAgICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGV4Y2hhbmdlQW1vdW50CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLnN1cHBsaWVyRGlzY291bnRJdGVtID0gdW5pcXVlRGlzY291bnRJdGVtczsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKHVuaXF1ZURpc2NvdW50SXRlbXMsICJ1bmlxdWVEaXNjb3VudEl0ZW1zIik7CiAgICB9LAogICAgcmVtb3ZlRHVwbGljYXRlOiBmdW5jdGlvbiByZW1vdmVEdXBsaWNhdGUoYXJyYXkpIHsKICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICB2YXIgbWFwID0gbmV3IE1hcCgpOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFycmF5KSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBpZiAoIW1hcC5oYXMoaXRlbS5pZCkpIHsKICAgICAgICAgICAgbWFwLnNldChpdGVtLmlkLCB0cnVlKTsgLy8gc2V0IGFueSB2YWx1ZSB0byBNYXAKCiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIG51bWJlckZvcm1hdDogZnVuY3Rpb24gbnVtYmVyRm9ybWF0KHZhbHVlKSB7CiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnNhbGVGb3JtQ29udGVudC5kZWNpbWFsLCduaW1vbCcpCiAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyh2YWx1ZSwgIm4iLmNvbmNhdCh0aGlzLnB1cmNoYXNlRm9ybUNvbnRlbnQuZGVjaW1hbCkpOwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVEaXNjb3VudDogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZURpc2NvdW50KGRpc2NvdW50SXRlbSwgc3ViVG90YWwpIHsKICAgICAgaWYgKGRpc2NvdW50SXRlbSkgewogICAgICAgIHZhciBuYXR1cmUgPSBkaXNjb3VudEl0ZW0ubmF0dXJlIHx8ICIiOwogICAgICAgIHZhciBhbW91bnQgPSBkaXNjb3VudEl0ZW0uYW1vdW50IHx8IDA7CgogICAgICAgIGlmIChuYXR1cmUgPT09ICJBbW91bnQiKSB7CiAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChhbW91bnQpOwogICAgICAgIH0gZWxzZSBpZiAobmF0dXJlID09PSAiUGVyY2VudGFnZSIpIHsKICAgICAgICAgIHJldHVybiBzdWJUb3RhbCAqIChwYXJzZUZsb2F0KGFtb3VudCkgLyAxMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlVGF4OiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlVGF4KHRheCwgYW1vdW50KSB7CiAgICAgIGlmICh0YXgpIHsKICAgICAgICB2YXIgZm9ybXVsYSA9IHRheC5mb3JtdWxhOwogICAgICAgIHZhciBpbkFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB2YXIgbkFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB2YXIgdGF4QmFzZSA9IGtlbmRvLnBhcnNlRmxvYXQodGF4LnRheEJhc2UpIC8gMTAwOwogICAgICAgIHZhciByYXRlID0ga2VuZG8ucGFyc2VGbG9hdCh0YXgucmF0ZSkgLyAxMDA7CiAgICAgICAgdmFyIHRvdGFsID0gZXZhbChmb3JtdWxhKTsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coaW5BbXQsIG5BbXQsIHRheEJhc2UsIHJhdGUsIGZvcm11bGEsIHRvdGFsKTsKICAgICAgICByZXR1cm4gdG90YWw7CiAgICAgIH0gLy8gcmV0dXJuIDAKCiAgICB9LAogICAgdGF4TWFwcGluZzogZnVuY3Rpb24gdGF4TWFwcGluZyhvYmpUYXgsIHRheCkgewogICAgICB2YXIgdGF4SWQgPSB0YXguaWQgfHwgIiI7CiAgICAgIHZhciB0YXhfID0gb2JqVGF4LmZpbHRlcihmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiB0LmlkID09PSB0YXhJZDsKICAgICAgfSlbMF07CiAgICAgIHJldHVybiB0YXhfIHx8IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgZGVmYXVsdFRheDogIiIKICAgICAgfTsKICAgIH0sCiAgICBkYXRhU291cmNlQ2hhbmdlZDogZnVuY3Rpb24gZGF0YVNvdXJjZUNoYW5nZWQoZSkgewogICAgICBpZiAoZS5maWVsZCkgewogICAgICAgIHZhciBkYXRhUm93ID0gZS5pdGVtc1swXSwKICAgICAgICAgICAgYnVvbSA9IHt9LAogICAgICAgICAgICB2VGF4ID0ge30sCiAgICAgICAgICAgIGNvbnZlcnNpb25SYXRlID0gMSwKICAgICAgICAgICAgd2FjID0gMCwKICAgICAgICAgICAgcW9oID0gMCwKICAgICAgICAgICAgYW1vdW50ID0gMCwKICAgICAgICAgICAgeEFtb3VudCA9IDA7CgogICAgICAgIHN3aXRjaCAoZS5maWVsZCkgewogICAgICAgICAgY2FzZSAiaXRlbSI6CiAgICAgICAgICAgIC8vIHRoaXMuYXR0cmlidXRlXyA9IHRoaXMuYXR0cmlidXRlcy5maWx0ZXIobSA9PiBtLnR5cGUuaWQgPT09IGRhdGFSb3cudmFyaWFudC5pZCkKICAgICAgICAgICAgZGF0YVJvdy5zZXQoImRlc2NyaXB0aW9uIiwgZGF0YVJvdy5pdGVtLmRlc2NyaXB0aW9uKTsKICAgICAgICAgICAgYnVvbSA9IGRhdGFSb3cuaXRlbS51b20gfHwge307CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJidW9tIiwgYnVvbSk7IC8vIGRhdGFSb3cuc2V0KCd1b20nLCBidW9tKQogICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coZGF0YVJvdy5pdGVtLCdyb3cnKQogICAgICAgICAgICAvLyBhd2FpdCB0aGlzLmludmVudG9yeUJhbGFuY2UoZGF0YVJvdywgZGF0YVJvdy5pdGVtLmlkKQoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAiY29zdCI6CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgYW1vdW50ID0gcGFyc2VGbG9hdChkYXRhUm93LmNvc3QpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSk7CiAgICAgICAgICAgICAgeEFtb3VudCA9IGFtb3VudCAqIHBhcnNlRmxvYXQodGhpcy5wdXJjaGFzZS50eG5SYXRlKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29zdCIsIHBhcnNlRmxvYXQoZGF0YVJvdy5jb3N0KSk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIGFtb3VudCk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlQW1vdW50IiwgeEFtb3VudCk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZygncHJpY2UnLGRhdGFSb3cucHJpY2UpCiAgICAgICAgICAgIH0gY2F0Y2ggKF91bnVzZWQpIHsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29zdCIsIDApOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCAwKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZXhjaGFuZ2VBbW91bnQiLCAwKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAidW9tIjoKICAgICAgICAgICAgaWYgKHRoaXMuaXNQcmljZUxldmVsQ2hhbmdlZCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKGRhdGFSb3cudW9tKSB7CiAgICAgICAgICAgICAgICAgIGJ1b20gPSBkYXRhUm93LnVvbS5idW9tIHx8IHt9OwogICAgICAgICAgICAgICAgICBxb2ggPSBkYXRhUm93LnVvbS5xb2ggfHwgMDsKICAgICAgICAgICAgICAgICAgY29udmVyc2lvblJhdGUgPSBkYXRhUm93LnVvbS5jb252ZXJzaW9uUmF0ZSB8fCAxOwogICAgICAgICAgICAgICAgICB3YWMgPSBkYXRhUm93LnVvbS53YWMgfHwgMDsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImJ1b20iLCBidW9tKTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoIndhYyIsIHdhYyk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJxb2giLCBxb2gpOwogICAgICAgICAgICAgICAgICAvKiB0b2RvOiBtYXBwaW5nIHRheCBvYmplY3QgKi8KCiAgICAgICAgICAgICAgICAgIHZUYXggPSB0aGlzLnRheE1hcHBpbmcodGhpcy50YXgsIGRhdGFSb3cudW9tLnB1cmNoYXNlVGF4IHx8IHt9KTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInZhdFRheCIsIHZUYXgpOwogICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29udmVyc2lvblJhdGUiLCBwYXJzZUZsb2F0KGNvbnZlcnNpb25SYXRlKSk7CgogICAgICAgICAgICAgICAgICBpZiAoZGF0YVJvdy51b20pIHsKICAgICAgICAgICAgICAgICAgICBhbW91bnQgPSBwYXJzZUZsb2F0KGRhdGFSb3cudW9tLmNvc3QpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSk7CiAgICAgICAgICAgICAgICAgICAgeEFtb3VudCA9IGFtb3VudCAqIHBhcnNlRmxvYXQodGhpcy5wdXJjaGFzZS50eG5SYXRlKTsKICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29zdCIsIHBhcnNlRmxvYXQoZGF0YVJvdy51b20uY29zdCkpOwogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBhbW91bnQpOwogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIHhBbW91bnQpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGFtb3VudCA9IHBhcnNlRmxvYXQoZGF0YVJvdy5jb3N0KSAqIHBhcnNlRmxvYXQoZGF0YVJvdy5xdHkpOwogICAgICAgICAgICAgICAgICAgIHhBbW91bnQgPSBhbW91bnQgKiBwYXJzZUZsb2F0KHRoaXMucHVyY2hhc2UudHhuUmF0ZSk7CiAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvc3QiLCBwYXJzZUZsb2F0KGRhdGFSb3cuY29zdCkpOwogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBhbW91bnQpOwogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIHhBbW91bnQpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coImVycm9yIiwgZXJyKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJidW9tIiwge30pOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvbnZlcnNpb25SYXRlIiwgMSk7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29zdCIsIDApOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInFvaCIsIDApOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoIndhYyIsIDApOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIDApOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlQW1vdW50IiwgMCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJxdHkiOgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGFtb3VudCA9IHBhcnNlRmxvYXQoZGF0YVJvdy5jb3N0KSAqIHBhcnNlRmxvYXQoZGF0YVJvdy5xdHkpOwogICAgICAgICAgICAgIHhBbW91bnQgPSBhbW91bnQgKiBwYXJzZUZsb2F0KHRoaXMucHVyY2hhc2UudHhuUmF0ZSk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvc3QiLCBwYXJzZUZsb2F0KGRhdGFSb3cuY29zdCkpOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBhbW91bnQpOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIHhBbW91bnQpOwogICAgICAgICAgICB9IGNhdGNoIChfdW51c2VkMikgewogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjb3N0IiwgMCk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIDApOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIDApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJvdGhlclRheCI6CiAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygiLS0iLCBkYXRhUm93KQogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGUoKTsKICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygiZGF0YVJvdyIsIGRhdGFSb3cpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIFNlcnZpY2VEYXRlRWRpdG9yOiBmdW5jdGlvbiBTZXJ2aWNlRGF0ZUVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgcmVxdWlyZWQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0RhdGVQaWNrZXIoKTsgLy8gbGV0IGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCkKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKGRzLmRhdGEoKSkKICAgICAgLy8gLy8gY29uc3QgZGF0ZVN0cmluZyA9IGtlbmRvLnRvU3RyaW5nKChuZXcgRGF0ZShvcHRpb25zLm1vZGVsLml0ZW1zLnNlcnZpY2VEYXRlKSksIHRoaXMuaXRlbUxpbmUuZGF0ZUZvcm1hdCkKICAgICAgLy8gLy8gY29uc3QgZGF0ZVN0cmluZyA9IGtlbmRvLnRvU3RyaW5nKG9wdGlvbnMubW9kZWwuaXRlbXMuc2VydmljZURhdGUpCiAgICAgIC8vIGNvbnN0ICRpbnB1dCA9ICQoIjxpbnB1dCB2YWx1ZT0iICsgb3B0aW9ucy5tb2RlbC5zZXJ2aWNlRGF0ZSArICIgLz4iKS5hcHBlbmRUbyhjb250YWluZXIpCiAgICAgIC8vICRpbnB1dC5rZW5kb0RhdGVQaWNrZXIoKQogICAgICAvLyAvLyAkaW5wdXQuYXBwZW5kVG8oY29udGFpbmVyKQogICAgICAvLyAvLyBvcHRpb25zLm1vZGVsLml0ZW1zLnNlcnZpY2VEYXRlID0gZGF0ZVN0cmluZwogICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coJGlucHV0KQogICAgfSwKICAgIFNlcnZpY2VEYXRlVG9FZGl0b3I6IGZ1bmN0aW9uIFNlcnZpY2VEYXRlVG9FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IHJlcXVpcmVkIG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9EYXRlUGlja2VyKCk7CiAgICB9LAogICAgSXRlbURyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBJdGVtRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJjb250YWlucyIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGhlYWRlclRlbXBsYXRlOiAnPGRpdiBjbGFzcz0iZHJvcGRvd24taGVhZGVyIGstd2lkZ2V0IGstaGVhZGVyIj4nICsgIjxzcGFuPkl0ZW1zIDwvc3Bhbj4iICsgIjxzcGFuPjwvc3Bhbj4iICsgIjwvZGl2PiIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogcHJvZHVjdFZhcmlhbnRIYW5kbGVyLml0ZW1TZWFyY2hVUkwoKQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhVHlwZTogImpzb24iCiAgICAgICAgICB9LAogICAgICAgICAgc2NoZW1hOiB7CiAgICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgICAgaWQ6ICJpZCIsCiAgICAgICAgICAgICAgZmllbGRzOiB7CiAgICAgICAgICAgICAgICBpZDogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBza3U6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG90YWw6IGZ1bmN0aW9uIHRvdGFsKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy8gZGF0YTogdGhpcy52YXJpYW50cwoKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBVT01Ecm9wRG93bkVkaXRvcjogZnVuY3Rpb24gVU9NRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAiY29kZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJ1b21Db252ZXJ0SWQiLAogICAgICAgIGNhc2NhZGVGcm9tOiAiaXRlbSIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWNvZGUgfHwgYGAjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogdW9tUHJpY2VIYW5kbGVyLnVvbVByaWNlQnlQcmljZUxldmVsVVJMKCJpZD0iICsgb3B0aW9ucy5tb2RlbC5pdGVtLmlkICsgIiZwbElkPSIgKyB0aGlzLnB1cmNoYXNlLnByaWNlTGV2ZWwuaWQgKyAiJmRhdGU9IiArIHRoaXMudHhuRGF0ZSArICImbmF0dXJlPXB1cmNoYXNlIikKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIgogICAgICAgICAgfSwKICAgICAgICAgIHNjaGVtYTogewogICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgICAgIGZpZWxkczogewogICAgICAgICAgICAgICAgaWQ6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0gLy8gbmFtZToge3R5cGU6ICJzdHJpbmcifSwKICAgICAgICAgICAgICAgIC8vIHNrdToge3R5cGU6ICJzdHJpbmcifSwKCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIGRhdGE6IHRoaXMudmFyaWFudHMKCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgRGlzY291bnRJdGVtRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIERpc2NvdW50SXRlbURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGNhc2NhZGVGcm9tOiAiaXRlbSIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWNvZGUjIC0gIz1uYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgc2VydmVyRmlsdGVyaW5nOiB0cnVlLAogICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICB1cmw6IGRpc2NvdW50SXRlbUhhbmRsZXIuZ2V0VVJMKERJU0NPVU5UX1RZUEUpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9IC8vIG5hbWU6IHt0eXBlOiAic3RyaW5nIn0sCiAgICAgICAgICAgICAgICAvLyBza3U6IHt0eXBlOiAic3RyaW5nIn0sCgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFZhdFRheERyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBWYXRUYXhEcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJkZWZhdWx0VGF4IiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9ZGVmYXVsdFRheCM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tU2VsZWN0LS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgZGF0YTogdGhpcy50YXgKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBFbXBsb3llZURyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBFbXBsb3llZURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBkYXRhLWJpbmQ9InZhbHVlOicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9NdWx0aVNlbGVjdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIHN1Z2dlc3Q6IHRydWUsCiAgICAgICAgZmlsdGVyOiAiY29udGFpbnMiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICBoZWFkZXJUZW1wbGF0ZTogJzxkaXYgY2xhc3M9ImRyb3Bkb3duLWhlYWRlciBrLXdpZGdldCBrLWhlYWRlciI+JyArICI8c3Bhbj5FbXBsb3llZSA8L3NwYW4+IiArICI8c3Bhbj48L3NwYW4+IiArICI8L2Rpdj4iLAogICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1uYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgc2VydmVyRmlsdGVyaW5nOiB0cnVlLAogICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICB1cmw6IGVtcGxveWVlSGFuZGxlci5zZWFyY2hVUkwoKQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhVHlwZTogImpzb24iCiAgICAgICAgICB9LAogICAgICAgICAgc2NoZW1hOiB7CiAgICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgICAgaWQ6ICJpZCIsCiAgICAgICAgICAgICAgZmllbGRzOiB7CiAgICAgICAgICAgICAgICBpZDogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBsYXN0TmFtZTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIHJvd051bWJlclRtcGw6IGZ1bmN0aW9uIHJvd051bWJlclRtcGwoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIGFkZFJvdzogZnVuY3Rpb24gYWRkUm93KCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHRvdGFsID0gZHMudG90YWwoKTsKICAgICAgdGhpcy5pdGVtTGluZS5pZCA9IGl0ZW1MaW5lUHJlZml4ICsgdXVpZC52MSgpOwogICAgICB0aGlzLml0ZW1MaW5lLmRlY2ltYWxGb3JtYXQgPSAibiIgKyB0aGlzLnB1cmNoYXNlRm9ybUNvbnRlbnQuZGVjaW1hbDsKICAgICAgdGhpcy5pdGVtTGluZS5pc0VkaXRhYmxlID0gdHJ1ZTsKICAgICAgZHMuaW5zZXJ0KHRvdGFsLCB0aGlzLml0ZW1MaW5lKTsgLy8ga2VuZG8ualF1ZXJ5KCkuYWRkQ2xhc3MoJ2VkaXQnKQogICAgICAvLyB0aGlzLml0ZW1MaW5lcy5wdXNoKHRoaXMuaXRlbUxpbmUpCiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygnaXRlbSBMaW5lJywgdGhpcy5pdGVtTGluZSkKICAgIH0sCiAgICBvblBheW1lbnRUZXJtQ2hhbmdlZDogZnVuY3Rpb24gb25QYXltZW50VGVybUNoYW5nZWQoKSB7CiAgICAgIC8vIHRoaXMub25JbnZvaWNlRGF0ZUNoYW5nZWQoKTsKICAgICAgaWYgKHRoaXMudmVuZG9yKSB7CiAgICAgICAgdmFyIHBheW1lbnRUZXJtID0gdGhpcy5wdXJjaGFzZS5wYXltZW50VGVybSB8fCB7fTsKICAgICAgICB2YXIgbmV0RHVlID0gcGF5bWVudFRlcm0ubmV0RHVlIHx8IDA7CiAgICAgICAgdmFyIHNvbWVEYXRlID0gbmV3IERhdGUodGhpcy5wdXJjaGFzZS50cmFuc2FjdGlvbkRhdGUpOwogICAgICAgIHNvbWVEYXRlLnNldERhdGUoc29tZURhdGUuZ2V0RGF0ZSgpICsgcGFyc2VJbnQobmV0RHVlKSk7IC8vbnVtYmVyICBvZiBkYXlzIHRvIGFkZCwgZS54LiAxNSBkYXlzCgogICAgICAgIHRoaXMucHVyY2hhc2UuZHVlRGF0ZSA9IHNvbWVEYXRlOyAvLyB3aW5kb3cuY29uc29sZS5sb2coImltIiwgc29tZURhdGUsIG5ldER1ZSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkludm9pY2VEYXRlQ2hhbmdlZDogZnVuY3Rpb24gb25JbnZvaWNlRGF0ZUNoYW5nZWQoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczgubG9hZFBheW1lbnRUZXJtTGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LmxvYWRDcmVkaXRMaW1pdCgpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LmxvYWRDdXN0b21lckJhbGFuY2UoX3RoaXM4LnZlbmRvci5pZCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczgub25QcmljZUxldmVsQ2hhbmdlKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF90aGlzOC5tb250aE9mID0ga2VuZG8udG9TdHJpbmcobmV3IERhdGUoX3RoaXM4LnR4bkRhdGUpLCAieXl5eS1NTSIpOyAvLyBpZiAodGhpcy52ZW5kb3IpIHsKICAgICAgICAgICAgICAgIC8vICAgICBpZiAodGhpcy5wdXJjaGFzZS5oYXNPd25Qcm9wZXJ0eSgicGF5bWVudFRlcm0iKSkgewogICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAodGhpcy5wdXJjaGFzZS5wYXltZW50VGVybS5oYXNPd25Qcm9wZXJ0eSgibmV0RHVlIikpIHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGNvbnN0IG5ldER1ZSA9IHRoaXMucHVyY2hhc2UucGF5bWVudFRlcm0ubmV0RHVlOwogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgY29uc3Qgc29tZURhdGUgPSBuZXcgRGF0ZSh0aGlzLnR4bkRhdGUpOwogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgc29tZURhdGUuc2V0RGF0ZShzb21lRGF0ZS5nZXREYXRlKCkgKyBwYXJzZUludChuZXREdWUpKTsgLy9udW1iZXIgIG9mIGRheXMgdG8gYWRkLCBlLnguIDE1IGRheXMKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRoaXMucHVyY2hhc2UuZHVlRGF0ZSA9IHNvbWVEYXRlLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygnaW0nLCBzb21lRGF0ZSwgbmV0RHVlKQogICAgICAgICAgICAgICAgLy8gICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczguJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOC5nZW5lcmF0ZU51bWJlcigpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzOC5sb2FkVHJhbnNhY3Rpb25SYXRlKCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUHJlZml4OiBmdW5jdGlvbiBsb2FkUHJlZml4KCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHByZWZpeEhhbmRsZXIuZ2V0KCJwdXJjaGFzZSIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LnB1cmNoYXNlVHlwZXMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzOS5wdXJjaGFzZVR5cGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkucHVyY2hhc2UudHJhbnNhY3Rpb25UeXBlID0gX3RoaXM5LnB1cmNoYXNlVHlwZXNbMF07CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczkuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuZ2VuZXJhdGVOdW1iZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQcmljZUxldmVsOiBmdW5jdGlvbiBsb2FkUHJpY2VMZXZlbCgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9ICI/Jm5hdHVyZT0iICsgTkFUVVJFOwogICAgICAgICAgICAgICAgICAgIHByaWNlTGV2ZWxIYW5kbGVyLmdldChzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5wcmljZUxldmVsID0gcmVzOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczEwLnByaWNlTGV2ZWwubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLnB1cmNoYXNlLnByaWNlTGV2ZWwgPSBfdGhpczEwLnByaWNlTGV2ZWxbMF07CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkRGlzY291bnRJdGVtOiBmdW5jdGlvbiBsb2FkRGlzY291bnRJdGVtKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEl0ZW1IYW5kbGVyLmxpc3QoRElTQ09VTlRfVFlQRSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEuc3BlY2lmaWNEaXNjb3VudEl0ZW0gPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZE90aGVyQ2hhcmdlOiBmdW5jdGlvbiBsb2FkT3RoZXJDaGFyZ2UoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgb3RoZXJDaGFyZ2VIYW5kbGVyLmxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5vdGhlckNoYXJnZUxpc3QgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQWNjb3VudDogZnVuY3Rpb24gbG9hZEFjY291bnQoKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgYWNjb3VudEhhbmRsZXIuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vUmVjZWl2YWJsZSBBY2NvdW50CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5hY2NQYXlhYmxlID0gcmVzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmFjY291bnRfdHlwZS5udW1iZXIgPT09IDE4OwogICAgICAgICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogaXRtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRtLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxfbmFtZTogaXRtLmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpdG0ubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0bS5pc190YXhhYmxlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmhqaUFjY0NvZGU6IGl0bS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX2NvZGU6IGl0bS5ncm91cF9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdG0ucGFyZW50X2FjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9jb2RlOiBpdG0udHlwZV9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRfdHlwZTogaXRtLmFjY291bnRfdHlwZQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTMuYWNjUGF5YWJsZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMucHVyY2hhc2UuYXBBY2MgPSBfdGhpczEzLmFjY1BheWFibGVbMF07CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5hY2NXaXRoaG9sZGluZ0V4cGVuc2UgPSByZXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG0uYmFuaGppQWNjQ29kZSkgPT09IDg0MzAwMDsKICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoaXRtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0bS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGl0bS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0bS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6IGl0bS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaXRtLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICBpc190YXhhYmxlOiBpdG0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5oamlBY2NDb2RlOiBpdG0uYmFuaGppQWNjQ29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9jb2RlOiBpdG0uZ3JvdXBfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfYWNjb3VudDogaXRtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfY29kZTogaXRtLnR5cGVfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IGl0bS5hY2NvdW50X3R5cGUKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUGF5bWVudFRlcm06IGZ1bmN0aW9uIGxvYWRQYXltZW50VGVybSgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3RyRmlsdGVyID0gIj90eXBlPXBtdC1zdXBwbGllciI7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5wYXltZW50VGVybXMgPSBbXTsKICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc0hhbmRsZXIuZ2V0UGF5bWVudFRlcm0oc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQucGF5bWVudFRlcm1zID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNC5wYXltZW50VGVybXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnB1cmNoYXNlLnBheW1lbnRUZXJtID0gX3RoaXMxNC5wYXltZW50VGVybXNbMF07CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRMb2NhdGlvbjogZnVuY3Rpb24gbG9hZExvY2F0aW9uKCkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgdmFyIHJvbGVUeXBlLCByb2xlRGF0YSwgbG9jYXRpb24sIGxvY2F0aW9uRGVmYXVsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMTUubG9jYXRpb25zID0gW107CiAgICAgICAgICAgICAgICByb2xlVHlwZSA9IGRhdGFTdG9yZS5yb2xlVHlwZSB8fCAwOwogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCIgY29uc3Qgcm9sZVR5cGUgPSBkYXRhU3RvcmUucm9sZVR5cGUgfHwgMCIsIGRhdGFTdG9yZSk7CgogICAgICAgICAgICAgICAgaWYgKHJvbGVUeXBlID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIGlmIChkYXRhU3RvcmUucm9sZURhdGEpIHsKICAgICAgICAgICAgICAgICAgICByb2xlRGF0YSA9IGRhdGFTdG9yZS5yb2xlRGF0YSB8fCBbXTsKICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IHJvbGVEYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRtKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRtLnR5cGUgPT09ICJsb2NhdGlvbiI7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25EZWZhdWx0ID0gbG9jYXRpb24uZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5pc0RlZmF1bHQgPT09IDE7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5sb2NhdGlvbnMgPSBsb2NhdGlvbjsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTUuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkIHx8IF90aGlzMTUuJHJvdXRlLnBhcmFtcy5pZCA9PT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbkRlZmF1bHQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnB1cmNoYXNlLmxvY2F0aW9uID0gbG9jYXRpb25EZWZhdWx0WzBdOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyb2xlVHlwZSA9PT0gMSkgewogICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUubG9jYXRpb25zID0gW107CiAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbkhhbmRsZXIubGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5sb2NhdGlvbnMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNS5sb2NhdGlvbnMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5wdXJjaGFzZS5sb2NhdGlvbiA9IF90aGlzMTUubG9jYXRpb25zWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFByb2plY3RCeUN1c3RvbWVyOiBmdW5jdGlvbiBsb2FkUHJvamVjdEJ5Q3VzdG9tZXIoKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgICB2YXIgcm9sZVR5cGUsIHJvbGVEYXRhLCBwcm9qZWN0LCBwcm9qZWN0RGVmYXVsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMTYuY3VzdG9tZXJQcm9qZWN0cyA9IFtdOwogICAgICAgICAgICAgICAgcm9sZVR5cGUgPSBkYXRhU3RvcmUucm9sZVR5cGUgfHwgMDsKCiAgICAgICAgICAgICAgICBpZiAocm9sZVR5cGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgaWYgKGRhdGFTdG9yZS5yb2xlRGF0YSkgewogICAgICAgICAgICAgICAgICAgIHJvbGVEYXRhID0gZGF0YVN0b3JlLnJvbGVEYXRhIHx8IFtdOwogICAgICAgICAgICAgICAgICAgIHByb2plY3QgPSByb2xlRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0bSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0bS50eXBlID09PSAicHJvamVjdCI7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5jdXN0b21lclByb2plY3RzID0gcHJvamVjdDsgLy8gcHJvamVjdC5mb3JFYWNoKGsgPT4gewogICAgICAgICAgICAgICAgICAgIC8vICAgICBjb25zdCBjdXN0b21lcnMgPSBrLmN1c3RvbWVycyB8fCBbXQogICAgICAgICAgICAgICAgICAgIC8vICAgICBjb25zdCBwcm9DdXN0b21lciA9IGN1c3RvbWVycy5maWx0ZXIobiA9PiBuLmN1c3RvbWVyLmlkID09PSB0aGlzLmN1c3RvbWVyLmlkKQogICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAocHJvQ3VzdG9tZXIubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5jdXN0b21lclByb2plY3RzLnB1c2goaykKICAgICAgICAgICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vIH0pCgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE2LiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCB8fCBfdGhpczE2LiRyb3V0ZS5wYXJhbXMuaWQgPT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0RGVmYXVsdCA9IF90aGlzMTYuY3VzdG9tZXJQcm9qZWN0cy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uaXNEZWZhdWx0ID09PSAxOwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2plY3REZWZhdWx0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5wdXJjaGFzZS5wcm9qZWN0ID0gcHJvamVjdERlZmF1bHRbMF07CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJvbGVUeXBlID09PSAxKSB7CiAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE2LnZlbmRvcikgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9qZWN0SGFuZGxlci5nZXRCeVN1cHBsaWVyKHRoaXMudmVuZG9yLmlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RIYW5kbGVyLmxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LmN1c3RvbWVyUHJvamVjdHMgPSByZXMuZGF0YS5kYXRhOyAvLyBpZiAodGhpcy5jdXN0b21lclByb2plY3RzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLnB1cmNoYXNlLnByb2plY3QgPSB0aGlzLmN1c3RvbWVyUHJvamVjdHNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZEN1c3RvbWVyQmFsYW5jZTogZnVuY3Rpb24gbG9hZEN1c3RvbWVyQmFsYW5jZShpZCkgewogICAgICB2YXIgX3RoaXMxNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBzdHJGaWx0ZXIgPSBpZCArICI/dHlwZT1iYWwiOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTcucHVyY2hhc2UuY3VycmVudEJhbGFuY2UgPSAwOwogICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLmJhbGFuY2Uoc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTcucHVyY2hhc2UuY3VycmVudEJhbGFuY2UgPSBkYXRhWzBdLmJhbGFuY2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTcuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRDdXN0b21lckRlcG9zaXRCYWxhbmNlOiBmdW5jdGlvbiBsb2FkQ3VzdG9tZXJEZXBvc2l0QmFsYW5jZShpZCkgewogICAgICB2YXIgX3RoaXMxOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBzdHJGaWx0ZXIgPSBpZCArICI/dHlwZT1kZXAiOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTgucHVyY2hhc2UuZGVwb3NpdEFtb3VudCA9IDA7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxOC5wdXJjaGFzZS5kZXBvc2l0RGVkdWN0aW9uID0gMDsKICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5iYWxhbmNlKHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYW1vdW50RGVwb3NpdCA9IGRhdGFbMF0uYmFsYW5jZTsKICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coYW1vdW50RGVwb3NpdCwgImJhbGEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE4LnB1cmNoYXNlLmRlcG9zaXRBbW91bnQgPSBhbW91bnREZXBvc2l0IC8gX3RoaXMxOC5wdXJjaGFzZS50eG5SYXRlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE4LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjcmVkaXRMaW1pdFVzYWdlOiBmdW5jdGlvbiBjcmVkaXRMaW1pdFVzYWdlKGJhbGFuY2UsIGNyZWRpdExpbWl0KSB7CiAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhiYWxhbmNlIC8gY3JlZGl0TGltaXQgKiAxMDAsICJuIi5jb25jYXQodGhpcy5wdXJjaGFzZUZvcm1Db250ZW50LmRlY2ltYWwpKSArICIgJSI7CiAgICB9LAogICAgbG9hZEVtcGxveWVlQ2VudGVyOiBmdW5jdGlvbiBsb2FkRW1wbG95ZWVDZW50ZXIoKSB7CiAgICAgIHZhciBfdGhpczE5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS5lbXBsb3llZXMgPSBbXTsKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUhhbmRsZXIuY2VudGVyKHVuZGVmaW5lZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE5LnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTkuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS5lbXBsb3llZXMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTkuZW1wbG95ZWVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE5LnB1cmNoYXNlLmVtcGxveWVlID0gX3RoaXMxOS5lbXBsb3llZXNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTkuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRTZWdtZW50OiBmdW5jdGlvbiBsb2FkU2VnbWVudCgpIHsKICAgICAgdmFyIF90aGlzMjAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkgewogICAgICAgIHZhciByb2xlVHlwZSwgcm9sZURhdGEsIHNlZ21lbnQsIHNlZ21lbnREZWZhdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyMC5zZWdtZW50cyA9IFtdOwogICAgICAgICAgICAgICAgcm9sZVR5cGUgPSBkYXRhU3RvcmUucm9sZVR5cGUgfHwgMDsKCiAgICAgICAgICAgICAgICBpZiAocm9sZVR5cGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgaWYgKGRhdGFTdG9yZS5yb2xlRGF0YSkgewogICAgICAgICAgICAgICAgICAgIHJvbGVEYXRhID0gZGF0YVN0b3JlLnJvbGVEYXRhIHx8IFtdOwogICAgICAgICAgICAgICAgICAgIHNlZ21lbnQgPSByb2xlRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0bSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0bS50eXBlID09PSAic2VnbWVudCI7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgc2VnbWVudERlZmF1bHQgPSBzZWdtZW50LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uaXNEZWZhdWx0ID09PSAxOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIF90aGlzMjAuc2VnbWVudHMgPSBzZWdtZW50OwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyMC4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQgfHwgX3RoaXMyMC4kcm91dGUucGFyYW1zLmlkID09PSAiIikgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZ21lbnREZWZhdWx0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMC5wdXJjaGFzZS5zZWdtZW50ID0gc2VnbWVudERlZmF1bHRbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygiZGF0YVN0b3JlLS1zZWdtZW50RGVmYXVsdCIsIHNlZ21lbnREZWZhdWx0KTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sZVR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIwLnNlZ21lbnRzID0gW107CiAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc0hhbmRsZXIuZ2V0U2VnKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIwLnNlZ21lbnRzID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjAuc2VnbWVudHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMC5wdXJjaGFzZS5zZWdtZW50ID0gX3RoaXMyMC5zZWdtZW50c1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFRheDogZnVuY3Rpb24gbG9hZFRheCgpIHsKICAgICAgdmFyIF90aGlzMjEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE5KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTkkKF9jb250ZXh0MTkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBzZXR0aW5nSGFuZGxlci5nZXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXhlcyA9IHJlczsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjEudGF4ID0gdGF4ZXMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAobS50YXhUeXBlLnR5cGVJZCA9PT0gMSB8fCBtLnRheFR5cGUudHlwZUlkID09PSAxMCB8fCBtLnRheFR5cGUudHlwZUlkID09PSAyKSAmJiBtLnRyYW5zYWN0aW9uVHlwZSA9PT0gIlB1cmNoYXNlIjsKICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyB2YWx1YWJsZSB0YXgKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25TYXZlQ2xvc2U6IGZ1bmN0aW9uIG9uU2F2ZUNsb3NlKHNhdmVTZW5kKSB7CiAgICAgIHZhciBfdGhpczIyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMCgpIHsKICAgICAgICB2YXIgaWQsIGRzLCBkMSwgZGF0YVZhbGlkYXRlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjAkKF9jb250ZXh0MjApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMC5wcmV2ID0gX2NvbnRleHQyMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzMjIuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMjIuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMjIudHJhbnNhY3Rpb25SYXRlID09PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIyLiRzbm90aWZ5LmVycm9yKGkxOG4udCgic2V0X2V4Y2hhbmdlX3JhdGUiKSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWQgPSAiIjsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyMi52ZW5kb3IuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgaWQgPSBfdGhpczIyLnZlbmRvci5pZCB8fCAiIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShpZCA9PT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIyLiRzbm90aWZ5LmVycm9yKCJ2ZW5kb3IgaXMgcmVxdWlyZWQiKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyMi5wdXJjaGFzZS5iaWxsTm8gPT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIyLiRzbm90aWZ5LmVycm9yKCJWZW5kb3IgSW52b2ljZSBObyBpcyByZXF1aXJlZCIpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyMi4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMjIuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBkcyA9IF90aGlzMjIuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwogICAgICAgICAgICAgICAgZDEgPSBkcy5kYXRhKCk7CiAgICAgICAgICAgICAgICBkYXRhVmFsaWRhdGUgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMi5hdXRvQ2FsY3VsYXRlKCk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBkMS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLml0ZW0gPT0gdW5kZWZpbmVkIHx8IHZhbHVlLml0ZW0uaWQgPT0gdW5kZWZpbmVkIHx8IHZhbHVlLml0ZW0uaWQgPT0gbnVsbCB8fCB2YWx1ZS51b20gPT0gdW5kZWZpbmVkIHx8IHZhbHVlLnVvbS51b20uaWQgPT0gdW5kZWZpbmVkIHx8IHZhbHVlLnVvbS51b20uaWQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMjIuJHNub3RpZnkuZXJyb3IoIlBsZWFzZSBjaGVjayBJdGVtIG9yIFVPTSAgb24gcm93ICIgKyAoaW5kZXggKyAxKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZGF0YVZhbGlkYXRlICs9IDE7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChkMS5sZW5ndGggPT0gZGF0YVZhbGlkYXRlKSB7CiAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgICAgdmFyIGlzQXV0b0dlbmVyYXRlID0gMTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyMi4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuRGF0ZSA9IG5ldyBEYXRlKF90aGlzMjIudHhuRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuRGF0ZUludm9pY2UgPSBuZXcgRGF0ZShfdGhpczIyLnB1cmNoYXNlLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuRGF0ZU0gPSB0cmFuRGF0ZS5nZXRGdWxsWWVhcigpICsgdHJhbkRhdGUuZ2V0TW9udGgoKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5EYXRlSW52b2ljZU0gPSB0cmFuRGF0ZUludm9pY2UuZ2V0RnVsbFllYXIoKSArIHRyYW5EYXRlSW52b2ljZS5nZXRNb250aCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5EYXRlTSA9PT0gdHJhbkRhdGVJbnZvaWNlTSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXV0b0dlbmVyYXRlID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtTGluZURTID0gX3RoaXMyMi4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCk7CgogICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFSb3cgPSBpdGVtTGluZURTLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8uYW1vdW50ID4gMDsKICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEl0ZW1MaW5lTW9kZWwobik7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVJvdy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBfdGhpczIyLnB1cmNoYXNlLmlkID8gX3RoaXMyMi5wdXJjaGFzZS5pZCA6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IF90aGlzMjIucHVyY2hhc2UudXVpZCA/IF90aGlzMjIucHVyY2hhc2UudXVpZCA6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIGpvdXJuYWxfdXVpZDogX3RoaXMyMi5wdXJjaGFzZS5qb3VybmFsX3V1aWQgPyBfdGhpczIyLnB1cmNoYXNlLmpvdXJuYWxfdXVpZCA6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIGpSYXc6IF90aGlzMjIualJhdywKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBUUkFOU0FDVElPTl9UWVBFLAogICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogX3RoaXMyMi5wdXJjaGFzZS5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWJicjogX3RoaXMyMi5wdXJjaGFzZS50cmFuc2FjdGlvblR5cGUuYWJiciwKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IF90aGlzMjIudHhuRGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGVUWjogSGVscGVyLnRvSVNPRGF0ZShfdGhpczIyLnR4bkRhdGUpLAogICAgICAgICAgICAgICAgICAgICAgICAgIGR1ZURhdGU6IF90aGlzMjIucHVyY2hhc2UuZHVlRGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aE9mOiBfdGhpczIyLm1vbnRoT2YsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudENvZGU6IF90aGlzMjIucHVyY2hhc2UucGF5bWVudENvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYmlsbE5vOiBfdGhpczIyLnB1cmNoYXNlLmJpbGxObywKICAgICAgICAgICAgICAgICAgICAgICAgICBiaWxsRGF0ZTogX3RoaXMyMi5iaWxsRGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwbGllcjogX3RoaXMyMi5wdXJjaGFzZS5zdXBwbGllciwKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvblR5cGU6IF90aGlzMjIucHVyY2hhc2UudHJhbnNhY3Rpb25UeXBlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRUZXJtOiBfdGhpczIyLnB1cmNoYXNlLnBheW1lbnRUZXJtLAogICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50UHJvbW90aW9uOiB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhcEFjYzogX3RoaXMyMi5wdXJjaGFzZS5hcEFjYywKICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogX3RoaXMyMi5wdXJjaGFzZS5jdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eG5SYXRlOiBfdGhpczIyLnB1cmNoYXNlLnR4blJhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0ZTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVJhdGU6IF90aGlzMjIucHVyY2hhc2UuZXhjaGFuZ2VSYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBfdGhpczIyLnB1cmNoYXNlLmV4Y2hhbmdlQW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlTGV2ZWw6IF90aGlzMjIucHVyY2hhc2UucHJpY2VMZXZlbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtTGluZXM6IGRhdGFSb3csCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudDogX3RoaXMyMi5wdXJjaGFzZS5zZWdtZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBfdGhpczIyLnB1cmNoYXNlLmxvY2F0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Q6IF90aGlzMjIucHVyY2hhc2UucHJvamVjdCwKICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZTogX3RoaXMyMi5wdXJjaGFzZS5lbXBsb3llZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzczogX3RoaXMyMi5wdXJjaGFzZS5iaWxsaW5nQWRkcmVzcywKICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxpdmVyeUFkZHJlc3M6IF90aGlzMjIucHVyY2hhc2UuZGVsaXZlcnlBZGRyZXNzLAogICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGl2ZXJ5RGF0ZVRpbWU6IF90aGlzMjIucHVyY2hhc2UuZGVsaXZlcnlEYXRlVGltZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbk5vdGU6IF90aGlzMjIucHVyY2hhc2UudHJhbnNhY3Rpb25Ob3RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGpvdXJuYWxOb3RlOiBfdGhpczIyLnB1cmNoYXNlLmpvdXJuYWxOb3RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRvdGFsOiBfdGhpczIyLnB1cmNoYXNlLnN1YlRvdGFsLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiBfdGhpczIyLnB1cmNoYXNlLnRvdGFsLAogICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50VG90YWw6IF90aGlzMjIucHVyY2hhc2UuZGlzY291bnRUb3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZURpc2NvdW50VG90YWw6IF90aGlzMjIucHVyY2hhc2UuZGlzY291bnRUb3RhbCAqIChfdGhpczIyLnB1cmNoYXNlLnR4blJhdGUgfHwgMSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWNEaXNjb3VudFRvdGFsOiBfdGhpczIyLnB1cmNoYXNlLnNwZWNpZmljRGlzY291bnRUb3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxpdmVyeUZlZTogX3RoaXMyMi5wdXJjaGFzZS5kZWxpdmVyeUZlZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFRheEFtb3VudDogX3RoaXMyMi5wdXJjaGFzZS50b3RhbFRheEFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBvc2l0QW1vdW50OiBfdGhpczIyLnB1cmNoYXNlLmRlcG9zaXRBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwb3NpdERlZHVjdGlvbjogX3RoaXMyMi5wdXJjaGFzZS5kZXBvc2l0RGVkdWN0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmluZ0Ftb3VudDogX3RoaXMyMi5wdXJjaGFzZS5yZW1haW5pbmdBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50RHVlOiBfdGhpczIyLnB1cmNoYXNlLmFtb3VudER1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QmFsYW5jZTogX3RoaXMyMi5wdXJjaGFzZS5jdXJyZW50QmFsYW5jZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBiYWxhbmNlOiBfdGhpczIyLnB1cmNoYXNlLmJhbGFuY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGl0TGltaXQ6IF90aGlzMjIucHVyY2hhc2UuY3JlZGl0TGltaXQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZU9wdGlvbjogX3RoaXMyMi5wdXJjaGFzZS5zYXZlT3B0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhcHByb3ZlZEJ5OiBfdGhpczIyLnB1cmNoYXNlLmFwcHJvdmVkQnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybVRlbXBsYXRlOiB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpY0Rpc2NvdW50SXRlbTogX3RoaXMyMi5wdXJjaGFzZS5zcGVjaWZpY0Rpc2NvdW50SXRlbSwKICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlckNoYXJnZTogX3RoaXMyMi5tT3RoZXJDaGFyZ2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJDaGFyZ2VBbW91bnQ6IF90aGlzMjIucHVyY2hhc2Uub3RoZXJDaGFyZ2VBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGF4TGlzdFRvdGFsOiBfdGhpczIyLnRheExpc3RUb3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwbGllckRpc2NvdW50SXRlbTogX3RoaXMyMi5zdXBwbGllckRpc2NvdW50SXRlbSwKICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IF90aGlzMjIucHVyY2hhc2UuY3JlYXRlZEF0LAogICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1TdWJ0b3RhbDogX3RoaXMyMi5wdXJjaGFzZS5pdGVtU3VidG90YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VJdGVtU3VidG90YWw6IF90aGlzMjIucHVyY2hhc2UuZXhjaGFuZ2VJdGVtU3VidG90YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZVN1YnRvdGFsOiBfdGhpczIyLnB1cmNoYXNlLnNlcnZpY2VTdWJ0b3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVNlcnZpY2VTdWJ0b3RhbDogX3RoaXMyMi5wdXJjaGFzZS5leGNoYW5nZVNlcnZpY2VTdWJ0b3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eG5JdG1TdWJ0b3RhbDogX3RoaXMyMi5wdXJjaGFzZS50eG5JdG1TdWJ0b3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVR4bkl0bVN1YnRvdGFsOiBfdGhpczIyLnB1cmNoYXNlLmV4Y2hhbmdlVHhuSXRtU3VidG90YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbURpc2NvdW50OiBfdGhpczIyLnB1cmNoYXNlLml0ZW1EaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUl0ZW1EaXNjb3VudDogX3RoaXMyMi5wdXJjaGFzZS5leGNoYW5nZUl0ZW1EaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlRGlzY291bnQ6IF90aGlzMjIucHVyY2hhc2Uuc2VydmljZURpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlU2VydmljZURpc2NvdW50OiBfdGhpczIyLnB1cmNoYXNlLmV4Y2hhbmdlU2VydmljZURpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHR4bkl0bURpc2NvdW50OiBfdGhpczIyLnB1cmNoYXNlLnR4bkl0bURpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlVHhuSXRtRGlzY291bnQ6IF90aGlzMjIucHVyY2hhc2UuZXhjaGFuZ2VUeG5JdG1EaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoaG9sZGluZ1RheEFtb3VudDogX3RoaXMyMi5wdXJjaGFzZS53aXRoaG9sZGluZ1RheEFtb3VudCB8fCAwLAogICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZVRheEFtb3VudDogX3RoaXMyMi5wdXJjaGFzZS5pbmNsdXNpdmVUYXhBbW91bnQgfHwgMCwKICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZWRVc2VyOiBfdGhpczIyLmxvZ2dlZFVzZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZVNlbmQ6IHNhdmVTZW5kLAogICAgICAgICAgICAgICAgICAgICAgICAgIHJlZkZyb206IF90aGlzMjIucHVyY2hhc2UucmVmRnJvbSB8fCBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICByZWZUbzogX3RoaXMyMi5wdXJjaGFzZS5yZWZUbyB8fCBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxlVGF4RGV0YWlsOiBfdGhpczIyLnB1cmNoYXNlLnNhbGVUYXhEZXRhaWwgfHwgW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQWRkaXRpb25hbENvc3Q6IF90aGlzMjIucHVyY2hhc2UuYWRkaXRpb25hbENvc3QubGVuZ3RoID4gMCwKICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsQ29zdDogX3RoaXMyMi5wdXJjaGFzZS5hZGRpdGlvbmFsQ29zdCB8fCBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsQ29zdE1ldGhvZDogX3RoaXMyMi5wdXJjaGFzZS5hZGRpdGlvbmFsQ29zdE1ldGhvZCB8fCAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsQ29zdFRvdGFsOiBfdGhpczIyLmFkZGl0aW9uYWxDb3N0VG90YWwgfHwgMCwKICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F1dG9HZW5lcmF0ZTogaXNBdXRvR2VuZXJhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uVHlwZTogX3RoaXMyMi4kcm91dGUucGFyYW1zLmlkID8gX3RoaXMyMi4kcm91dGUucXVlcnkudHlwZSA6ICJuZXciCiAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyMi4kcm91dGUucXVlcnkudHlwZSA9PT0gInJlY3VycmluZyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmlkID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5jcmVhdGVQdXJjaGFzZShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5jbG9zZShyZXNwb25zZS5kYXRhLmRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMi5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIuJHNub3RpZnkuc3VjY2VzcygiU3VjY2Vzc2Z1bGx5Iik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNhdmVTZW5kID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIuY2xlYXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIuY2xvc2UocmVzcG9uc2UuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMi5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIyLiRzbm90aWZ5LmVycm9yKCJTb21ldGhpbmcgd2VudCB3cm9uZyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIyLmVycm9ycy5wdXNoKGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUHVyY2hhc2VGb3JtQ29udGVudDogZnVuY3Rpb24gbG9hZFB1cmNoYXNlRm9ybUNvbnRlbnQoKSB7CiAgICAgIHZhciBfdGhpczIzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIxJChfY29udGV4dDIxKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjEucHJldiA9IF9jb250ZXh0MjEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgcHVyY2hhc2VGb3JtQ29udGVudEhhbmRsZXIubGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5wdXJjaGFzZUZvcm1Db250ZW50ID0gZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIzLmRlY2ltYWxGb3JtYXQgPSAibiIgKyBfdGhpczIzLnB1cmNoYXNlRm9ybUNvbnRlbnQuZGVjaW1hbDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5pbml0RGF0YSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDUwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZShkYXRhKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJWZW5kb3JzIiwKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2luZG93Lmhpc3RvcnkuZ28oLTEpOyAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgLy8gICAgIHBhdGg6ICJpbnZvaWNlX3ZpZXciLAogICAgICAgIC8vICAgICBuYW1lOiAiSW52b2ljZSBWaWV3IiwKICAgICAgICAvLyAgICAgcGFyYW1zOiB7CiAgICAgICAgLy8gICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gfSkKICAgICAgfSAvLyB3aW5kb3cuY29uc29sZS5sb2coZGF0YSwgJ2RhdGEnKQoKICAgIH0sCiAgICBzYXZlTmV3OiBmdW5jdGlvbiBzYXZlTmV3KCkge30sCiAgICByZW1vdmVSb3c6IGZ1bmN0aW9uIHJlbW92ZVJvdyhlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkSXRlbUxpbmUiKS5kYXRhKCJrZW5kb0dyaWQiKSwKICAgICAgICAgIGRhdGFTb3VyY2UgPSBncmlkLmRhdGFTb3VyY2UsCiAgICAgICAgICBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwoKICAgICAgaWYgKGRhdGFTb3VyY2UudG90YWwoKSA+IDEpIHsKICAgICAgICBkYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7CiAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICAgIH0KICAgIH0sCiAgICBnZW5lcmF0ZU51bWJlcjogZnVuY3Rpb24gZ2VuZXJhdGVOdW1iZXIoKSB7CiAgICAgIHZhciBfdGhpczI0ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICB2YXIgdHJhbkRhdGUgPSBuZXcgRGF0ZSh0aGlzLnR4bkRhdGUpOwogICAgICAgIHZhciB0cmFuRGF0ZUludm9pY2UgPSBuZXcgRGF0ZSh0aGlzLnB1cmNoYXNlLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgdmFyIHRyYW5EYXRlTSA9IHRyYW5EYXRlLmdldEZ1bGxZZWFyKCkgKyB0cmFuRGF0ZS5nZXRNb250aCgpOwogICAgICAgIHZhciB0cmFuRGF0ZUludm9pY2VNID0gdHJhbkRhdGVJbnZvaWNlLmdldEZ1bGxZZWFyKCkgKyB0cmFuRGF0ZUludm9pY2UuZ2V0TW9udGgoKTsKCiAgICAgICAgaWYgKHRyYW5EYXRlTSA9PT0gdHJhbkRhdGVJbnZvaWNlTSkgewogICAgICAgICAgdGhpcy5wdXJjaGFzZS5yZWZlcmVuY2VObyA9IHRoaXMucmVmZXJlbmNlTm87CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy50eG5EYXRlICE9PSAiIiAmJiB0aGlzLnB1cmNoYXNlVHlwZXMubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgYWJicjogdGhpcy5wdXJjaGFzZS50cmFuc2FjdGlvblR5cGUuYWJiciwKICAgICAgICAgIHN0cnVjdHVyZTogdGhpcy5wdXJjaGFzZS50cmFuc2FjdGlvblR5cGUuc3RydWN0dXJlLAogICAgICAgICAgdHJhbnNhY3Rpb25EYXRlOiB0aGlzLnR4bkRhdGUsCiAgICAgICAgICBzZXF1Y2VuY2luZzogdGhpcy5wdXJjaGFzZS50cmFuc2FjdGlvblR5cGUuc2VxdWNlbmNpbmcsCiAgICAgICAgICB0eXBlOiAiUHVyY2hhc2UiLAogICAgICAgICAgZW50aXR5OiAxCiAgICAgICAgfTsKICAgICAgICBiaWxsaW5nSGFuZGxlci5sYXN0TnVtYmVyKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKCiAgICAgICAgICAgIHZhciBsYXN0TnVtYmVyID0gX3RoaXMyNC56ZXJvUGFkKHBhcnNlSW50KHJlcy5sYXN0TnVtYmVyKSwgX3RoaXMyNC5wdXJjaGFzZS50cmFuc2FjdGlvblR5cGUuZm9ybWF0KTsKCiAgICAgICAgICAgIHZhciBudW1iZXIgPSByZXMuc3VmZml4ICsgX3RoaXMyNC5wdXJjaGFzZS50cmFuc2FjdGlvblR5cGUubnVtYmVyU2VwYXJhdG9yICsgbGFzdE51bWJlcjsKICAgICAgICAgICAgX3RoaXMyNC5wdXJjaGFzZS5udW1iZXIgPSBudW1iZXI7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIF90aGlzMjQuZXJyb3JzLnB1c2goZSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB6ZXJvUGFkOiBmdW5jdGlvbiB6ZXJvUGFkKG51bSwgcGxhY2VzKSB7CiAgICAgIHJldHVybiBTdHJpbmcobnVtKS5wYWRTdGFydChwbGFjZXMsICIwIik7CiAgICB9LAogICAgc3VmZml4OiBmdW5jdGlvbiBzdWZmaXgodHJhbnNhY3Rpb25EYXRlKSB7CiAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh0cmFuc2FjdGlvbkRhdGUpLCAieXltbSIpOwogICAgfSwKICAgIGVycm9yTWVzc2FnZTogZnVuY3Rpb24gZXJyb3JNZXNzYWdlKCkge30sCiAgICBhY2NvdW50RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIGFjY291bnREcm9wRG93bkVkaXRvcigpIHt9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHZhciBfdGhpczI1ID0gdGhpczsKCiAgICAgIHRoaXMuJHN3YWwoewogICAgICAgIHRpdGxlOiBpMThuLnQoIm1zZ190aXRsZV93YXJuaW5nIiksCiAgICAgICAgdGV4dDogaTE4bi50KCJtc2dfZGlzY2FyZCIpLAogICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IGkxOG4udCgiY2FuY2VsIiksCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjRUQxQTNBIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogaTE4bi50KCJkaXNjYXJkIikKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0Q2VuKSB7CiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlc3VsdENlbik7CgogICAgICAgIGlmIChyZXN1bHRDZW4udmFsdWUpIHsKICAgICAgICAgIF90aGlzMjUuJGRlc3Ryb3koKTsKCiAgICAgICAgICBfdGhpczI1LiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGlkZVNtYWxsU2lkZWJhcjogZnVuY3Rpb24gaGlkZVNtYWxsU2lkZWJhcigpIHsKICAgICAgdGhpcy5pc0hpZGVCYXIgPSAhdGhpcy5pc0hpZGVCYXI7CiAgICB9LAogICAgcmVxdWVzdERhdGE6IGZ1bmN0aW9uIHJlcXVlc3REYXRhKHNraXAsIGZpbHRlciwgYmFzZVVybCkgewogICAgICB2YXIgdXJsID0gYmFzZVVybCArICI/ZmlsdGVyPSIuY29uY2F0KGZpbHRlcik7CiAgICAgIHRoaXMucmVxdWVzdFN0YXJ0ZWQgPSB0cnVlOwogICAgICBmZXRjaCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgfSkudGhlbih0aGlzLmFmdGVyRmV0Y2gpOwogICAgfSwKICAgIHJlcXVlc3REYXRhXzogZnVuY3Rpb24gcmVxdWVzdERhdGFfKHNraXAsIGZpbHRlciwgYmFzZVVybCkgewogICAgICB2YXIgdXJsID0gYmFzZVVybCArICIvIi5jb25jYXQoZmlsdGVyKTsKICAgICAgdGhpcy5yZXF1ZXN0U3RhcnRlZCA9IHRydWU7CiAgICAgIGZldGNoKHVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICB9KS50aGVuKHRoaXMuYWZ0ZXJGZXRjaF8pOwogICAgfSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkgewogICAgICB2YXIgdmFsdWUgPSBldmVudC52YWx1ZTsKCiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZVt0ZXh0RmllbGRdID09PSBlbXB0eUl0ZW1bdGV4dEZpZWxkXSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy52ZW5kb3IgPSB2YWx1ZTsKICAgICAgdGhpcy5wdXJjaGFzZS5zdXBwbGllciA9IHZhbHVlOyAvLyB3aW5kb3cuY29uc29sZS5sb2codGhpcy5wdXJjaGFzZS5jdXN0b21lciwgJ0NoYW5nZWQnKQogICAgICAvLyB0aGlzLmludm9pY2UgPSB2YWx1ZQoKICAgICAgdGhpcy5wdXJjaGFzZS5hcEFjYyA9IHZhbHVlLmhhc093blByb3BlcnR5KCJhcEFjYyIpID8gdmFsdWUuYXBBY2MgOiB7fTsKICAgICAgdGhpcy5wdXJjaGFzZS5wYXltZW50VGVybSA9IHZhbHVlLnBheW1lbnRUZXJtIHx8IHt9OwogICAgICB0aGlzLnB1cmNoYXNlLnByaWNlTGV2ZWwgPSB2YWx1ZS5wcmljZUxldmVsIHx8IHt9OwogICAgICB2YXIgYmFzZUN1cnJlbmN5ID0gdmFsdWUuYmFzZUN1cnJlbmN5IHx8IHt9OwoKICAgICAgaWYgKGJhc2VDdXJyZW5jeS5oYXNPd25Qcm9wZXJ0eSgiY29kZSIpKSB7CiAgICAgICAgdGhpcy5iYXNlQ3VycmVuY3lDb2RlID0gIiAiICsgYmFzZUN1cnJlbmN5LmNvZGU7CiAgICAgIH0gLy8gdGhpcy5sb2FkVHJhbnNhY3Rpb25SYXRlKCk7CgoKICAgICAgdGhpcy5iaWxsaW5nQWRkcmVzcyA9IHZhbHVlLmhhc093blByb3BlcnR5KCJiaWxsaW5nQWRkcmVzcyIpID8gdmFsdWUuYmlsbGluZ0FkZHJlc3MgOiBbXTsKICAgICAgdGhpcy5kZWxpdmVyeUFkZHJlc3MgPSB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgiZGVsaXZlcnlBZGRyZXNzIikgPyB2YWx1ZS5kZWxpdmVyeUFkZHJlc3MgOiBbXTsKCiAgICAgIGlmICh0aGlzLmJpbGxpbmdBZGRyZXNzLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLnB1cmNoYXNlLmJpbGxpbmdBZGRyZXNzID0gdGhpcy5iaWxsaW5nQWRkcmVzc1swXTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZGVsaXZlcnlBZGRyZXNzLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLnB1cmNoYXNlLmRlbGl2ZXJ5QWRkcmVzcyA9IHRoaXMuZGVsaXZlcnlBZGRyZXNzWzBdOwogICAgICB9CgogICAgICB0aGlzLmV4cGVuc2VzID0gW107CiAgICAgIHRoaXMub25JbnZvaWNlRGF0ZUNoYW5nZWQoKTsKICAgICAgdGhpcy5sb2FkUHJvamVjdEJ5Q3VzdG9tZXIoKTsgLy8gdGhpcy5sb2FkQ3VzdG9tZXJCYWxhbmNlKHRoaXMudmVuZG9yLmlkKTsKICAgICAgLy8gY29uc3QgY3JlZGl0TGltaXQgPSB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgiY3JlZGl0TGltaXQiKQogICAgICAvLyAgICAgPyB2YWx1ZS5jcmVkaXRMaW1pdAogICAgICAvLyAgICAgOiAwOwogICAgICAvLyB0aGlzLnB1cmNoYXNlLmNyZWRpdExpbWl0ID0ga2VuZG8ucGFyc2VGbG9hdChjcmVkaXRMaW1pdCk7CiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyh2YWx1ZSwgJ3ZhbHVlJykKICAgIH0sCiAgICBvbkVtcGxveWVlQ2hhbmdlZDogZnVuY3Rpb24gb25FbXBsb3llZUNoYW5nZWQoZXZlbnQpIHsKICAgICAgdmFyIHZhbHVlID0gZXZlbnQudmFsdWU7CgogICAgICBpZiAodmFsdWUgJiYgdmFsdWVbdGV4dEZpZWxkXSA9PT0gZW1wdHlJdGVtW3RleHRGaWVsZF0pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMubUVtcGxveWVlID0gdmFsdWU7CiAgICAgIHRoaXMucHVyY2hhc2UuZW1wbG95ZWUgPSB2YWx1ZTsKICAgIH0sCiAgICBhZnRlckZldGNoOiBmdW5jdGlvbiBhZnRlckZldGNoKGpzb24pIHsKICAgICAgdGhpcy52ZW5kb3JMaXN0ID0ganNvbi5kYXRhOwogICAgfSwKICAgIGFmdGVyRmV0Y2hfOiBmdW5jdGlvbiBhZnRlckZldGNoXyhqc29uKSB7CiAgICAgIHRoaXMuZW1wbG95ZWVzID0ganNvbi5kYXRhOwogICAgfSwKICAgIG9uRmlsdGVyQ2hhbmdlOiBmdW5jdGlvbiBvbkZpbHRlckNoYW5nZShldmVudCkgewogICAgICB2YXIgZmlsdGVyID0gZXZlbnQuZmlsdGVyLnZhbHVlOwogICAgICB0aGlzLnJlcXVlc3REYXRhKDAsIGZpbHRlciwgdGhpcy5jdXNCYXNlVXJsKTsKICAgICAgdGhpcy5maWx0ZXIgPSBmaWx0ZXI7CiAgICB9LAogICAgb25FbXBsb3llZUZpbHRlckNoYW5nZWQ6IGZ1bmN0aW9uIG9uRW1wbG95ZWVGaWx0ZXJDaGFuZ2VkKGV2ZW50KSB7CiAgICAgIHZhciBmaWx0ZXIgPSBldmVudC5maWx0ZXIudmFsdWU7CiAgICAgIHRoaXMucmVxdWVzdERhdGFfKDAsIGZpbHRlciwgdGhpcy5lbXBCYXNlVXJsKTsKICAgICAgdGhpcy5maWx0ZXJfID0gZmlsdGVyOwogICAgfSwKICAgIGluaXREYXRhOiBmdW5jdGlvbiBpbml0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzMjYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjIkKF9jb250ZXh0MjIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMi5wcmV2ID0gX2NvbnRleHQyMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyNi4kcm91dGUucGFyYW1zLmlkICE9PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyNi5sb2FkVmlld0NyZWRpdFB1cmNoYXNlKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX3RoaXMyNi5jbGVhcigpOyAvLyB0aGlzLmFkZFJvdygpOwoKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkVmlld0NyZWRpdFB1cmNoYXNlOiBmdW5jdGlvbiBsb2FkVmlld0NyZWRpdFB1cmNoYXNlKCkgewogICAgICB2YXIgX3RoaXMyNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMyQoX2NvbnRleHQyMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIzLnByZXYgPSBfY29udGV4dDIzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMjcuc2hvd0xvYWRpbmcgPSB0cnVlOwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyNy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci52aWV3UHVyY2hhc2UoX3RoaXMyNy4kcm91dGUucGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3LnB1cmNoYXNlID0gcmVzLmRhdGEuZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3LnJlZmVyZW5jZU5vID0gX3RoaXMyNy5wdXJjaGFzZS5yZWZlcmVuY2VObzsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3LnR4bkRhdGUgPSBuZXcgRGF0ZShfdGhpczI3LnB1cmNoYXNlLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy52ZW5kb3IgPSBfdGhpczI3LnB1cmNoYXNlLnN1cHBsaWVyOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcubUVtcGxveWVlID0gX3RoaXMyNy5wdXJjaGFzZS5lbXBsb3llZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3LnRheExpc3RUb3RhbCA9IF90aGlzMjcucHVyY2hhc2UudGF4TGlzdFRvdGFsOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcuaXRlbUxpbmVzID0gX3RoaXMyNy5wdXJjaGFzZS5pdGVtTGluZXM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5tT3RoZXJDaGFyZ2UgPSBfdGhpczI3LnB1cmNoYXNlLm90aGVyQ2hhcmdlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcuc3VwcGxpZXJEaXNjb3VudEl0ZW0gPSBfdGhpczI3LnB1cmNoYXNlLnN1cHBsaWVyRGlzY291bnRJdGVtIHx8IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcualJhdyA9IF90aGlzMjcucHVyY2hhc2UualJhdyB8fCBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3LmV4cGVuc2VzID0gX3RoaXMyNy5wdXJjaGFzZS5hZGRpdGlvbmFsQ29zdCB8fCBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3LmFkZGl0aW9uYWxDb3N0VG90YWwgPSBfdGhpczI3LnB1cmNoYXNlLmFkZGl0aW9uYWxDb3N0VG90YWwgfHwgMDsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3LnB1cmNoYXNlT3JkZXJzID0gX3RoaXMyNy5wdXJjaGFzZS5yZWZGcm9tIHx8IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcubW9udGhPZiA9IGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKF90aGlzMjcucHVyY2hhc2UubW9udGhPZiksICJ5eXl5LU1NIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMyNy5tT3RoZXJDaGFyZ2UubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3LmFkZFNlbGVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByaWNlTGV2ZWwgPSBfdGhpczI3LnB1cmNoYXNlLnByaWNlTGV2ZWwgfHwge307CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbmN5ID0gcHJpY2VMZXZlbC5jdXJyZW5jeSB8fCB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyQ29kZSA9IGN1cnJlbmN5LmNvZGUgfHwgIiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5jdXJyZW5jeUNvZGUgPSBjdXJDb2RlOyAvLyB0aGlzLmxvYWRQcm9qZWN0QnlDdXN0b21lcigpCgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI3LnZlbmRvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjcudmVuZG9yLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcubG9hZEN1c3RvbWVyQmFsYW5jZShfdGhpczI3LnZlbmRvci5pZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyNy4kcm91dGUucXVlcnkudHlwZSA9PT0gInJlY3VycmluZyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI3LiRyb3V0ZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoInRyYW5zYWN0aW9uRGF0ZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygidHlwZSIsIF90aGlzMjcuJHJvdXRlLnBhcmFtcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcucHVyY2hhc2UudHJhbnNhY3Rpb25EYXRlID0gbmV3IERhdGUoX3RoaXMyNy4kcm91dGUucGFyYW1zLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcudHhuRGF0ZSA9IG5ldyBEYXRlKF90aGlzMjcuJHJvdXRlLnBhcmFtcy50cmFuc2FjdGlvbkRhdGUpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5vbkludm9pY2VEYXRlQ2hhbmdlZCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5nZW5lcmF0ZU51bWJlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICAvLyB0aGlzLmxvYWRBY2NvdW50KCkKICAgICAgdGhpcy5sb2FkUHJpY2VMZXZlbCgpOwogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgZHMuZGF0YShbXSk7CiAgICAgIHRoaXMuaWQgPSB1bmRlZmluZWQ7CiAgICAgIHRoaXMudmVuZG9yID0ge307CiAgICAgIHRoaXMubUVtcGxveWVlID0ge307CiAgICAgIHRoaXMubU90aGVyQ2hhcmdlID0ge307CiAgICAgIHRoaXMucHVyY2hhc2VPcmRlcnMgPSBbXTsKICAgICAgdGhpcy5wdXJjaGFzZSA9IG5ldyBQdXJjaGFzZU1vZGVsKHt9KTsKICAgICAgdGhpcy5wdXJjaGFzZS50cmFuc2FjdGlvblR5cGUgPSB0aGlzLnB1cmNoYXNlVHlwZXNbMF07CiAgICAgIHRoaXMubW9udGhPZiA9IGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKHRoaXMucHVyY2hhc2UudHJhbnNhY3Rpb25EYXRlKSwgInl5eXktTU0iKTsKICAgICAgdGhpcy5hZGRSb3coKTsKICAgICAgdGhpcy5nZW5lcmF0ZU51bWJlcigpOwogICAgICB0aGlzLmxvYWRTZWdtZW50KCk7CiAgICAgIHRoaXMubG9hZExvY2F0aW9uKCk7CiAgICB9LAogICAgbG9hZFRyYW5zYWN0aW9uUmF0ZTogZnVuY3Rpb24gbG9hZFRyYW5zYWN0aW9uUmF0ZSgpIHsKICAgICAgdmFyIF90aGlzMjggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjQkKF9jb250ZXh0MjQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNC5wcmV2ID0gX2NvbnRleHQyNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKF90aGlzMjgudHhuRGF0ZSkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOwogICAgICAgICAgICAgICAgICAgIHZhciBwcmljZUxldmVsID0gX3RoaXMyOC5wdXJjaGFzZS5wcmljZUxldmVsOwogICAgICAgICAgICAgICAgICAgIHZhciBjb2RlID0gIiI7CgogICAgICAgICAgICAgICAgICAgIGlmIChwcmljZUxldmVsLmhhc093blByb3BlcnR5KCJjdXJyZW5jeSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2VMZXZlbC5jdXJyZW5jeS5oYXNPd25Qcm9wZXJ0eSgiY29kZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBwcmljZUxldmVsLmN1cnJlbmN5LmNvZGU7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPT0gdW5kZWZpbmVkIHx8IGNvZGUgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczI4LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5SGFuZGxlci5nZXRMYXN0RXhjaGFuZ2VSYXRlQnlEYXRlKGRhdGUsIGNvZGUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjguZXhjaGFuZ2VSYXRlID0gcmVzLmRhdGEuZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI4LmN1cnJlbmN5Q29kZSA9IF90aGlzMjguZXhjaGFuZ2VSYXRlLmNvZGUgfHwgIiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOC50cmFuc2FjdGlvblJhdGUgPSBfdGhpczI4LmV4Y2hhbmdlUmF0ZS5yYXRlIHx8IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOC5wdXJjaGFzZS50eG5SYXRlID0gX3RoaXMyOC5leGNoYW5nZVJhdGUucmF0ZSB8fCAwOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjgucHVyY2hhc2UuZXhjaGFuZ2VSYXRlID0gX3RoaXMyOC5leGNoYW5nZVJhdGUgfHwge307CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI4LnRyYW5zYWN0aW9uUmF0ZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOC4kc25vdGlmeS5lcnJvcihpMThuLnQoInNldF9leGNoYW5nZV9yYXRlIikpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjguc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOC5sb2FkQ3VzdG9tZXJEZXBvc2l0QmFsYW5jZShfdGhpczI4LnZlbmRvci5pZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyOC5sb2FkUHVyY2hhc2VPcmRlcigpOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZWxvYWQ6IGZ1bmN0aW9uIHJlbG9hZCgpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5sb2FkVmlld0NyZWRpdFB1cmNoYXNlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jbGVhcigpOwogICAgICB9CiAgICB9LAogICAgbG9hZFB1cmNoYXNlT3JkZXI6IGZ1bmN0aW9uIGxvYWRQdXJjaGFzZU9yZGVyKCkgewogICAgICB2YXIgX3RoaXMyOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNSQoX2NvbnRleHQyNSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI1LnByZXYgPSBfY29udGV4dDI1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBzZWdtZW50SWQgPSAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25JZCA9ICIiLAogICAgICAgICAgICAgICAgICAgICAgICBwcmljZUxldmVsSWQgPSAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJJZCA9ICIiLAogICAgICAgICAgICAgICAgICAgICAgICB0eG5EYXRlID0gIiI7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI5LnB1cmNoYXNlLnNlZ21lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRJZCA9IF90aGlzMjkucHVyY2hhc2Uuc2VnbWVudC5pZDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI5LnB1cmNoYXNlLmxvY2F0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbklkID0gX3RoaXMyOS5wdXJjaGFzZS5sb2NhdGlvbi5pZDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI5LnB1cmNoYXNlLnN1cHBsaWVyKSB7CiAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcklkID0gX3RoaXMyOS5wdXJjaGFzZS5zdXBwbGllci5pZDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI5LnB1cmNoYXNlLnByaWNlTGV2ZWwpIHsKICAgICAgICAgICAgICAgICAgICAgIHByaWNlTGV2ZWxJZCA9IF90aGlzMjkucHVyY2hhc2UucHJpY2VMZXZlbC5pZDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI5LnB1cmNoYXNlLnRyYW5zYWN0aW9uRGF0ZSkgewogICAgICAgICAgICAgICAgICAgICAgdHhuRGF0ZSA9IF90aGlzMjkucHVyY2hhc2UudHJhbnNhY3Rpb25EYXRlOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9ICIiOwoKICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudElkICE9PSAiIiAmJiBjdXN0b21lcklkICE9PSAiIiAmJiBsb2NhdGlvbklkICE9PSAiIiAmJiBwcmljZUxldmVsSWQgIT09ICIiICYmIHR4bkRhdGUgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICBzdHJGaWx0ZXIgPSAiP2lkPSIgKyBjdXN0b21lcklkICsgIiZzZWdJZD0iICsgc2VnbWVudElkICsgIiZsb2NJZD0iICsgbG9jYXRpb25JZCArICImcGxJZD0iICsgcHJpY2VMZXZlbElkICsgIiZkYXRlPSIgKyB0eG5EYXRlICsgIiZ0eXBlPVB1cmNoYXNlIE9yZGVyIjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChzdHJGaWx0ZXIgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczI5LnB1cmNoYXNlLnJlZkZyb20gPSBbXTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjkuc2hvd0xvYWRpbmdUeG4gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgc2FsZU9yZGVySGFuZGxlci50cmFuc2FjdGlvbkZpbHRlcihzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOS5zaG93TG9hZGluZ1R4biA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjkucHVyY2hhc2VPcmRlcnMgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjkuc2hvd0xvYWRpbmdUeG4gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyOS5nZXRFeHBlbnNlQnlTdXBwbGllcigpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZFB1cmNoYXNlT3JkZXI6IGZ1bmN0aW9uIGFkZFB1cmNoYXNlT3JkZXIoaXRlbSkgewogICAgICB2YXIgX3RoaXMzMCA9IHRoaXM7CgogICAgICBpZiAoaXRlbSkgewogICAgICAgIHZhciBpdGVtTGluZSA9IGl0ZW0uaXRlbUxpbmVzIHx8IFtdOwogICAgICAgIHRoaXMucmVmRnJvbS5wdXNoKHsKICAgICAgICAgIGlkOiBpdGVtLmlkIHx8ICIiLAogICAgICAgICAgcmVmZXJlbmNlOiBpdGVtLnJlZmVyZW5jZU5vIHx8ICIiCiAgICAgICAgfSk7CiAgICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICAgIHRvdGFsID0gZHMudG90YWwoKTsKICAgICAgICBpdGVtTGluZS5mb3JFYWNoKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICBfdGhpczMwLml0ZW1MaW5lID0gbmV3IEl0ZW1MaW5lTW9kZWwobyk7CiAgICAgICAgICBfdGhpczMwLml0ZW1MaW5lLmlkID0gaXRlbUxpbmVQcmVmaXggKyB1dWlkLnYxKCk7CiAgICAgICAgICBfdGhpczMwLml0ZW1MaW5lLmRlY2ltYWxGb3JtYXQgPSAibiIgKyBfdGhpczMwLnB1cmNoYXNlRm9ybUNvbnRlbnQuZGVjaW1hbDsKICAgICAgICAgIF90aGlzMzAuaXRlbUxpbmUuc291cmNlVHJhbnNhY3Rpb24gPSB7CiAgICAgICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgICAgICByZWZlcmVuY2VObzogaXRlbS5yZWZlcmVuY2VObwogICAgICAgICAgfTsKICAgICAgICAgIF90aGlzMzAuaXRlbUxpbmUuc291cmNlVHJhbnNhY3Rpb25SZWYgPSBpdGVtLnJlZmVyZW5jZU5vOwogICAgICAgICAgZHMuaW5zZXJ0KHRvdGFsLCBfdGhpczMwLml0ZW1MaW5lKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLml0ZW1MaW5lID0gbmV3IEl0ZW1MaW5lTW9kZWwoe30pOwogICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgICAgIHZhciBpbmRleCA9IHRoaXMucHVyY2hhc2VPcmRlcnMuZmluZEluZGV4KGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmlkID09PSBpdG0uaWQ7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5wdXJjaGFzZU9yZGVycy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIHRoaXMucHVyY2hhc2UucmVmRnJvbSA9IHRoaXMucmVtb3ZlRHVwbGljYXRlKHRoaXMucmVmRnJvbSk7CiAgICAgIH0KICAgIH0sCiAgICB0b3RhbFF0eTogZnVuY3Rpb24gdG90YWxRdHkoKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwogICAgICB2YXIgcXR5ID0gMDsKICAgICAgZHMuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgIHJldHVybiBuLmFtb3VudCA+IDA7CiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICB2YXIgaXRtID0gbS5pdGVtIHx8IHt9OwogICAgICAgIHZhciB1b20gPSBtLnVvbSB8fCB7fTsKCiAgICAgICAgaWYgKGl0bS5pZCAmJiB1b20udW9tICYmIGl0bS50eXBlID09PSAiVmFyaWFudCIpIHsKICAgICAgICAgIHF0eSArPSAobS5xdHkgfHwgMCkgKiAobS5jb252ZXJzaW9uUmF0ZSB8fCAxKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB3aW5kb3cuY29uc29sZS5sb2coInF0eSIsIHF0eSk7CiAgICAgIHJldHVybiBxdHk7CiAgICB9LAogICAgZXhjbHVkZVZBVFRheEluY2x1c2l2ZTogZnVuY3Rpb24gZXhjbHVkZVZBVFRheEluY2x1c2l2ZSh0YXgsIGFtb3VudCwgaW5jVGF4KSB7CiAgICAgIGlmICh0YXgpIHsKICAgICAgICB2YXIgYmFzZUFtb3VudCA9IHRheC5iYXNlQW1vdW50IHx8ICIiOwogICAgICAgIHZhciB0YXhUeXBlID0gdGF4LnRheFR5cGUgfHwge307CiAgICAgICAgdmFyIHRheFR5cGVJZCA9IHRheFR5cGUudHlwZUlkIHx8IDA7CgogICAgICAgIGlmIChiYXNlQW1vdW50KSB7CiAgICAgICAgICBpZiAoYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSAiaW5jbHVzaXZlIiAmJiB0YXhUeXBlSWQgPT09IDEpIHsKICAgICAgICAgICAgcmV0dXJuIGFtb3VudCAtIGluY1RheDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBhbW91bnQ7CiAgICB9LAogICAgdG90YWxBbW91bnQ6IGZ1bmN0aW9uIHRvdGFsQW1vdW50KCkgewogICAgICB2YXIgX3RoaXMzMSA9IHRoaXM7CgogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgdmFyIGFtb3VudCA9IDA7CiAgICAgIGRzLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICByZXR1cm4gbi5hbW91bnQgPiAwOwogICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgdmFyIGl0bSA9IG0uaXRlbSB8fCB7fTsKICAgICAgICB2YXIgdW9tID0gbS51b20gfHwge307CiAgICAgICAgdmFyIGluY2x1VGF4ID0gMDsKCiAgICAgICAgaWYgKGl0bS5pZCAmJiB1b20udW9tICYmIGl0bS50eXBlID09PSAiVmFyaWFudCIpIHsKICAgICAgICAgIHZhciB0YXggPSBtLnZhdFRheCB8fCB7fTsKICAgICAgICAgIHZhciBhbW91bnRfID0gbS5hbW91bnQgfHwgMDsKICAgICAgICAgIHZhciBiYXNlQW1vdW50ID0gdGF4LmJhc2VBbW91bnQgfHwgIiI7CgogICAgICAgICAgaWYgKGJhc2VBbW91bnQpIHsKICAgICAgICAgICAgaWYgKGJhc2VBbW91bnQudG9Mb3dlckNhc2UoKSA9PT0gImluY2x1c2l2ZSIpIHsKICAgICAgICAgICAgICBpbmNsdVRheCA9IF90aGlzMzEuYXV0b0NhbGN1bGF0ZVRheCh0YXgsIGFtb3VudF8pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgYW1vdW50ICs9IGFtb3VudF8gLSAoaW5jbHVUYXggfHwgMCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJhbW91bnQgeC0iLCBhbW91bnQpOwogICAgICByZXR1cm4gYW1vdW50OwogICAgfSwKICAgIHBlcmNlbnRhZ2VBcHBsaWVkOiBmdW5jdGlvbiBwZXJjZW50YWdlQXBwbGllZCgpIHsKICAgICAgdmFyIF90aGlzMzIgPSB0aGlzOwoKICAgICAgdHJ5IHsKICAgICAgICB2YXIgdEFtb3VudCA9IHRoaXMudG90YWxBbW91bnQoKTsKICAgICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgICBkcy5kYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICByZXR1cm4gbi5hbW91bnQgPiAwOwogICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICAgIHZhciBpdG0gPSBtLml0ZW0gfHwge307CiAgICAgICAgICB2YXIgdW9tID0gbS51b20gfHwge307CiAgICAgICAgICB2YXIgaW5jbHVUYXggPSAwOwoKICAgICAgICAgIGlmIChpdG0uaWQgJiYgdW9tLnVvbSAmJiBpdG0udHlwZSA9PT0gIlZhcmlhbnQiKSB7CiAgICAgICAgICAgIHZhciB0YXggPSBtLnZhdFRheCB8fCB7fTsKICAgICAgICAgICAgdmFyIGFtb3VudCA9IG0uYW1vdW50IHx8IDA7CiAgICAgICAgICAgIHZhciBiYXNlQW1vdW50ID0gdGF4LmJhc2VBbW91bnQgfHwgIiI7CgogICAgICAgICAgICBpZiAoYmFzZUFtb3VudCkgewogICAgICAgICAgICAgIGlmIChiYXNlQW1vdW50LnRvTG93ZXJDYXNlKCkgPT09ICJpbmNsdXNpdmUiKSB7CiAgICAgICAgICAgICAgICBpbmNsdVRheCA9IF90aGlzMzIuYXV0b0NhbGN1bGF0ZVRheCh0YXgsIGFtb3VudCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgYW1vdW50QWZ0ZXJUYXggPSBhbW91bnQgLSAoaW5jbHVUYXggfHwgMCk7CiAgICAgICAgICAgIHZhciBwQW1vdW50ID0gYW1vdW50QWZ0ZXJUYXggLyB0QW1vdW50OwogICAgICAgICAgICBtWyJwZXJjZW50YWdlQXBwbGllZCJdID0gcEFtb3VudDsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coIlF0eSBCYXNlZC0tIiwgZHMuZGF0YSgpKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygiZXJyb3IiLCBlKTsKICAgICAgfQogICAgfSwKICAgIGFtb3VudEFwcGxpZWQ6IGZ1bmN0aW9uIGFtb3VudEFwcGxpZWQoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCk7CiAgICAgICAgdmFyIGFkYyA9IHRoaXMuYWRkaXRpb25hbENvc3RUb3RhbCB8fCAwOwogICAgICAgIGRzLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgIHJldHVybiBuLmFtb3VudCA+IDA7CiAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgICAgdmFyIGl0bSA9IG0uaXRlbSB8fCB7fTsKICAgICAgICAgIHZhciB1b20gPSBtLnVvbSB8fCB7fTsKICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygiYW1vdW50QXBwbGllZD09IiwgdW9tLnVvbSwgIi0tLSIsIGl0bS50eXBlKTsKCiAgICAgICAgICBpZiAoaXRtLmlkICYmIHVvbS51b20gJiYgaXRtLnR5cGUgPT09ICJWYXJpYW50IikgewogICAgICAgICAgICB2YXIgcGVyY2VudGFnZUFwcGxpZWQgPSBtLnBlcmNlbnRhZ2VBcHBsaWVkIHx8IDA7CiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygicGVyY2VudGFnZUFwcGxpZWQtLSIsIGFkYywgIi0tLSIsIHBlcmNlbnRhZ2VBcHBsaWVkICogYWRjKTsKICAgICAgICAgICAgbVsiYW1vdW50QXBwbGllZCJdID0gcGVyY2VudGFnZUFwcGxpZWQgKiBhZGM7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJBTW91bnQgQmFzZWQtLSIsIGRzLmRhdGEoKSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coImVycm9yIiwgZSk7CiAgICAgIH0KICAgIH0sCiAgICBhbW91bnRBcHBsaWVkUXR5QmFzZWQ6IGZ1bmN0aW9uIGFtb3VudEFwcGxpZWRRdHlCYXNlZCgpIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgICBkcy5kYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICByZXR1cm4gbi5hbW91bnQgPiAwOwogICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICAgIHZhciBpdG0gPSBtLml0ZW0gfHwge307CiAgICAgICAgICB2YXIgdW9tID0gbS51b20gfHwge307CgogICAgICAgICAgaWYgKGl0bS5pZCAmJiB1b20udW9tICYmIGl0bS50eXBlID09PSAiVmFyaWFudCIpIHsKICAgICAgICAgICAgdmFyIGFkZGMgPSBtLmFkZGl0aW9uYWxDb3N0IHx8IDA7CiAgICAgICAgICAgIHZhciBxdHkgPSAobS5xdHkgfHwgMSkgKiAobS5jb252ZXJzaW9uUmF0ZSB8fCAxKTsKICAgICAgICAgICAgbVsiYW1vdW50QXBwbGllZCJdID0gYWRkYyAqIHF0eTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coImFtb3VudEFwcGxpZWRRdHlCYXNlZCBCYXNlZC0tIiwgZHMuZGF0YSgpKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygiZXJyb3IiLCBlKTsKICAgICAgfQogICAgfSwKICAgIGNhbGN1bGF0ZUFkZGl0aW9uYWxDb3N0OiBmdW5jdGlvbiBjYWxjdWxhdGVBZGRpdGlvbmFsQ29zdCgpIHsKICAgICAgdmFyIF90aGlzMzMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI2KCkgewogICAgICAgIHZhciB0UXR5LCBhZGRjLCBkcywgX2RzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI2JChfY29udGV4dDI2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjYucHJldiA9IF9jb250ZXh0MjYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYucHJldiA9IDA7CgogICAgICAgICAgICAgICAgLy8gdG9kbzogYWRkaXRpb25hbCBDb3N0CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzMy5wdXJjaGFzZS5hZGRpdGlvbmFsQ29zdE1ldGhvZCA9PT0gIlF0eSBCYXNlZCIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzMy5wZXJjZW50YWdlQXBwbGllZCgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzMy5wZXJjZW50YWdlQXBwbGllZCgpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzMy5hbW91bnRBcHBsaWVkKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMzMucHVyY2hhc2UuYWRkaXRpb25hbENvc3RNZXRob2QgPT09ICJRdHkgQmFzZWQiKSB7CiAgICAgICAgICAgICAgICAgIHRRdHkgPSBfdGhpczMzLnRvdGFsUXR5KCk7CiAgICAgICAgICAgICAgICAgIGFkZGMgPSBfdGhpczMzLmFkZGl0aW9uYWxDb3N0VG90YWwgfHwgMDsKICAgICAgICAgICAgICAgICAgZHMgPSBfdGhpczMzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgICAgICAgICAgICAgZHMuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBuLmFtb3VudCA+IDA7CiAgICAgICAgICAgICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaXRtID0gbS5pdGVtIHx8IHt9OwogICAgICAgICAgICAgICAgICAgIHZhciB1b20gPSBtLnVvbSB8fCB7fTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGl0bS5pZCAmJiB1b20udW9tICYmIGl0bS50eXBlID09PSAiVmFyaWFudCIpIHsKICAgICAgICAgICAgICAgICAgICAgIG1bImFkZGl0aW9uYWxDb3N0Il0gPSBhZGRjIC8gdFF0eTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coInF0eSBiYXNlZCIsIGRzLmRhdGEoKSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfZHMgPSBfdGhpczMzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKCiAgICAgICAgICAgICAgICAgIF9kcy5kYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4uYW1vdW50ID4gMDsKICAgICAgICAgICAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgIHZhciBpdG0gPSBtLml0ZW0gfHwge307CiAgICAgICAgICAgICAgICAgICAgdmFyIHVvbSA9IG0udW9tIHx8IHt9OwoKICAgICAgICAgICAgICAgICAgICBpZiAoaXRtLmlkICYmIHVvbS51b20gJiYgaXRtLnR5cGUgPT09ICJWYXJpYW50IikgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGFtb3VudEFwcGxpZWQgPSBtLmFtb3VudEFwcGxpZWQgfHwgMDsKICAgICAgICAgICAgICAgICAgICAgIHZhciBxdHkgPSAobS5xdHkgfHwgMCkgKiAobS5jb252ZXJzaW9uUmF0ZSB8fCAxKTsKICAgICAgICAgICAgICAgICAgICAgIG1bImFkZGl0aW9uYWxDb3N0Il0gPSBhbW91bnRBcHBsaWVkIC8gcXR5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMzMucHVyY2hhc2UuYWRkaXRpb25hbENvc3RNZXRob2QgPT09ICJRdHkgQmFzZWQiKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMzMuYW1vdW50QXBwbGllZFF0eUJhc2VkKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMzLmNsZWFyaW5nQWNjb3VudCgpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDI2Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDI2LnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQyNi50MCA9IF9jb250ZXh0MjZbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coImVycm9yIiwgX2NvbnRleHQyNi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNiwgbnVsbCwgW1swLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlVGF4RGV0YWlsOiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlVGF4RGV0YWlsKCkgewogICAgICB2YXIgX3RoaXMzNCA9IHRoaXM7CgogICAgICB2YXIgaWRzID0gW107CiAgICAgIHRoaXMudGF4TGlzdERldGFpbC5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgaWRzLnB1c2gobi5pZCB8fCAiIik7CiAgICAgIH0pOwoKICAgICAgdmFyIHVuaXF1ZSA9IF90b0NvbnN1bWFibGVBcnJheShuZXcgU2V0KGlkcykpOwoKICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICB1bmlxdWUuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgIHZhciBhbW91bnQgPSAwLAogICAgICAgICAgICByb3cgPSB7fSwKICAgICAgICAgICAgZGlzY291bnQgPSAwLAogICAgICAgICAgICB4RGlzY291bnQgPSAwLAogICAgICAgICAgICB4QW1vdW50ID0gMCwKICAgICAgICAgICAgdGF4QW1vdW50ID0gMCwKICAgICAgICAgICAgeFRheEFtb3VudCA9IDA7CiAgICAgICAgdmFyIHRheERldGFpbCA9IFtdLAogICAgICAgICAgICBpc1ZhdCA9IDA7CgogICAgICAgIHZhciBmb3VuZCA9IF90aGlzMzQudGF4TGlzdERldGFpbC5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgIHJldHVybiBuLmlkID09PSBtOwogICAgICAgIH0pOyAvLyB3aW5kb3cuY29uc29sZS5sb2coJ3RheExpc3REZXRhaWxpZHMnLCBmb3VuZCkKCgogICAgICAgIGZvdW5kLmZvckVhY2goZnVuY3Rpb24gKGspIHsKICAgICAgICAgIHJvdyA9IGs7CgogICAgICAgICAgaWYgKGsuaXNWYXQgPT09IDEpIHsKICAgICAgICAgICAgaXNWYXQgPSAxOwogICAgICAgICAgICB2YXIgZGV0YWlsXyA9IGsuZGV0YWlsIHx8IHt9OwogICAgICAgICAgICB0YXhEZXRhaWwucHVzaChkZXRhaWxfKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0YXhBbW91bnQgKz0gay50YXhBbW91bnRfIHx8IDA7CiAgICAgICAgICB4VGF4QW1vdW50ICs9IChrLnRheEFtb3VudF8gfHwgMCkgKiAoay50eG5SYXRlIHx8IDEpOwogICAgICAgICAgYW1vdW50ICs9IGsuYW1vdW50IHx8IDA7CiAgICAgICAgICB4QW1vdW50ICs9IChrLmFtb3VudCB8fCAwKSAqIChrLnR4blJhdGUgfHwgMSk7CiAgICAgICAgICBkaXNjb3VudCArPSBrLmRpc2NvdW50IHx8IDA7CiAgICAgICAgICB4RGlzY291bnQgKz0gKGsuZGlzY291bnQgfHwgMCkgKiAoay50eG5SYXRlIHx8IDEpOwogICAgICAgIH0pOwogICAgICAgIHZhciBzcFRheEFtdCA9IDAsCiAgICAgICAgICAgIHNwWFRheEFtdCA9IDAsCiAgICAgICAgICAgIHBsVGF4QW10ID0gMCwKICAgICAgICAgICAgcGxYVGF4QW10ID0gMCwKICAgICAgICAgICAgb3RUYXhBbXQgPSAwLAogICAgICAgICAgICBvdFhUYXhBbXQgPSAwLAogICAgICAgICAgICBzcFRheE5hbWUgPSAiIiwKICAgICAgICAgICAgcGxUYXhOYW1lID0gIiIsCiAgICAgICAgICAgIG90VGF4TmFtZSA9ICIiLAogICAgICAgICAgICBzcFRheE5hbWVMb2NhbGUgPSAiIiwKICAgICAgICAgICAgcGxUYXhOYW1lTG9jYWxlID0gIiIsCiAgICAgICAgICAgIG90VGF4TmFtZUxvY2FsZSA9ICIiLAogICAgICAgICAgICBzcEFjY0lkID0gIiIsCiAgICAgICAgICAgIHBsQWNjSWQgPSAiIiwKICAgICAgICAgICAgb3RBY2NJZCA9ICIiLAogICAgICAgICAgICBzcFJhdGUgPSAiIiwKICAgICAgICAgICAgcGxSYXRlID0gIiIsCiAgICAgICAgICAgIG90UmF0ZSA9ICIiOwogICAgICAgIHRheERldGFpbC5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICB2YXIgc3BUYXggPSBuLnNwZWNpZmljVGF4IHx8IHt9OwogICAgICAgICAgdmFyIHBsVGF4ID0gbi5wdWJsaWNMaWdodGluZ1RheCB8fCB7fTsKICAgICAgICAgIHZhciBvdGhlclRheCA9IG4ub3RoZXJUYXggfHwge307CgogICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHNwVGF4KS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHNwVGF4QW10ICs9IHNwVGF4LnRheEFtb3VudF8gfHwgMDsKICAgICAgICAgICAgc3BYVGF4QW10ICs9IChzcFRheC50YXhBbW91bnRfIHx8IDApICogKHNwVGF4LnRheFJhdGUgfHwgMSk7CiAgICAgICAgICAgIHNwVGF4TmFtZSA9IHNwVGF4LmRlZmF1bHRUYXggfHwgIiI7CiAgICAgICAgICAgIHNwVGF4TmFtZUxvY2FsZSA9IHNwVGF4LmRlZmF1bHRUYXhMb2NhbGUgfHwgIiI7CiAgICAgICAgICAgIHNwQWNjSWQgPSBzcFRheC5hY2NvdW50ID8gc3BUYXguYWNjb3VudC5pZCA6ICIiOwogICAgICAgICAgICBzcFJhdGUgPSBzcFRheC5yYXRlIHx8IDE7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHBsVGF4KS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHBsVGF4QW10ICs9IHBsVGF4LnRheEFtb3VudF8gfHwgMDsKICAgICAgICAgICAgcGxYVGF4QW10ICs9IChwbFRheC50YXhBbW91bnRfIHx8IDApICogKHBsVGF4LnRheFJhdGUgfHwgMSk7CiAgICAgICAgICAgIHBsVGF4TmFtZSA9IHBsVGF4LmRlZmF1bHRUYXggfHwgIiI7CiAgICAgICAgICAgIHBsVGF4TmFtZUxvY2FsZSA9IHBsVGF4LmRlZmF1bHRUYXhMb2NhbGUgfHwgIiI7CiAgICAgICAgICAgIHBsQWNjSWQgPSBwbFRheC5hY2NvdW50ID8gcGxUYXguYWNjb3VudC5pZCA6ICIiOwogICAgICAgICAgICBwbFJhdGUgPSBwbFRheC5yYXRlIHx8IDE7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG90aGVyVGF4KS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIG90VGF4QW10ICs9IG90aGVyVGF4LnRheEFtb3VudF8gfHwgMDsKICAgICAgICAgICAgb3RYVGF4QW10ICs9IChvdGhlclRheC50YXhBbW91bnRfIHx8IDApICogKHBsVGF4LnRheFJhdGUgfHwgMSk7CiAgICAgICAgICAgIG90VGF4TmFtZSA9IG90aGVyVGF4LmRlZmF1bHRUYXggfHwgIiI7CiAgICAgICAgICAgIG90VGF4TmFtZUxvY2FsZSA9IG90aGVyVGF4LmRlZmF1bHRUYXhMb2NhbGUgfHwgIiI7CiAgICAgICAgICAgIG90QWNjSWQgPSBvdGhlclRheC5hY2NvdW50ID8gb3RoZXJUYXguYWNjb3VudC5pZCA6ICIiOwogICAgICAgICAgICBvdFJhdGUgPSBvdGhlclRheC5yYXRlIHx8IDE7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGlmIChpc1ZhdCA9PT0gMSkgewogICAgICAgICAgcm93LmRldGFpbCA9IHsKICAgICAgICAgICAgc3BlY2lmaWNUYXg6IHsKICAgICAgICAgICAgICBuYW1lOiBzcFRheE5hbWUsCiAgICAgICAgICAgICAgbmFtZUxvY2FsZTogc3BUYXhOYW1lTG9jYWxlLAogICAgICAgICAgICAgIGFtb3VudDogc3BUYXhBbXQsCiAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IHNwWFRheEFtdCwKICAgICAgICAgICAgICBhY2NvdW50SWQ6IHNwQWNjSWQsCiAgICAgICAgICAgICAgcmF0ZTogc3BSYXRlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHB1YmxpY0xpZ2h0aW5nVGF4OiB7CiAgICAgICAgICAgICAgbmFtZTogcGxUYXhOYW1lLAogICAgICAgICAgICAgIG5hbWVMb2NhbGU6IHBsVGF4TmFtZUxvY2FsZSwKICAgICAgICAgICAgICBhbW91bnQ6IHBsVGF4QW10LAogICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBwbFhUYXhBbXQsCiAgICAgICAgICAgICAgYWNjb3VudElkOiBwbEFjY0lkLAogICAgICAgICAgICAgIHJhdGU6IHBsUmF0ZQogICAgICAgICAgICB9LAogICAgICAgICAgICBvdGhlclRheDogewogICAgICAgICAgICAgIG5hbWU6IG90VGF4TmFtZSwKICAgICAgICAgICAgICBuYW1lTG9jYWxlOiBvdFRheE5hbWVMb2NhbGUsCiAgICAgICAgICAgICAgYW1vdW50OiBvdFRheEFtdCwKICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogb3RYVGF4QW10LAogICAgICAgICAgICAgIGFjY291bnRJZDogb3RBY2NJZCwKICAgICAgICAgICAgICByYXRlOiBvdFJhdGUKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcm93LmRldGFpbCA9IHt9OwogICAgICAgIH0KCiAgICAgICAgcm93WyJhbW91bnQiXSA9IGFtb3VudDsKICAgICAgICByb3dbImV4Y2hhbmdlQW1vdW50Il0gPSB4QW1vdW50OwogICAgICAgIHJvd1sidGF4QW1vdW50Il0gPSB0YXhBbW91bnQ7CiAgICAgICAgcm93WyJleGNoYW5nZVRheEFtb3VudCJdID0geFRheEFtb3VudDsKICAgICAgICByb3dbImRpc2NvdW50Il0gPSBkaXNjb3VudDsKICAgICAgICByb3dbImV4Y2hhbmdlRGlzY291bnQiXSA9IHhEaXNjb3VudDsKICAgICAgICByb3dbImN1cnJlbmN5Il0gPSBfdGhpczM0LnB1cmNoYXNlLmV4Y2hhbmdlUmF0ZSB8fCB7fTsKICAgICAgICByZXN1bHQucHVzaChyb3cpOwogICAgICAgIHRheERldGFpbCA9IFtdOwogICAgICB9KTsKICAgICAgdGhpcy5wdXJjaGFzZS5zYWxlVGF4RGV0YWlsID0gcmVzdWx0OwogICAgICB3aW5kb3cuY29uc29sZS5sb2coInNhbGVUYXhEZXRhaWwiLCByZXN1bHQpOwogICAgfSwKICAgIGdldEV4cGVuc2VCeVN1cHBsaWVyOiBmdW5jdGlvbiBnZXRFeHBlbnNlQnlTdXBwbGllcigpIHsKICAgICAgdmFyIF90aGlzMzUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI3KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjckKF9jb250ZXh0MjcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNy5wcmV2ID0gX2NvbnRleHQyNy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc2VnbWVudCA9IF90aGlzMzUucHVyY2hhc2Uuc2VnbWVudCB8fCB7fTsKICAgICAgICAgICAgICAgICAgICB2YXIgc2VnbWVudElkID0gc2VnbWVudC5pZCB8fCAiIjsKICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBfdGhpczM1LnB1cmNoYXNlLmxvY2F0aW9uIHx8IHt9OwogICAgICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbklkID0gbG9jYXRpb24uaWQgfHwgIiI7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN1cHBsaWVyID0gX3RoaXMzNS5wdXJjaGFzZS5zdXBwbGllciB8fCB7fTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3VwcGxpZXJJZCA9IHN1cHBsaWVyLmlkIHx8ICIiOwogICAgICAgICAgICAgICAgICAgIHZhciBzdHJGaWx0ZXIgPSAiP2lkPSIgKyBzdXBwbGllcklkICsgIiZzZWdJZD0iICsgc2VnbWVudElkICsgIiZsb2NJZD0iICsgbG9jYXRpb25JZDsKICAgICAgICAgICAgICAgICAgICBfdGhpczM1LmV4cGVuc2VzID0gW107CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzNS5wdXJjaGFzZS5hZGRpdGlvbmFsQ29zdFRvdGFsID0gMDsKICAgICAgICAgICAgICAgICAgICBfdGhpczM1LnNob3dMb2FkaW5nVHhuQWRkaXRpb25hbENvc3QgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBfdGhpczM1LnB1cmNoYXNlLmFkZGl0aW9uYWxDb3N0ID0gW107CiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIubGlzdFB1cmNoYXNlKHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzUuc2hvd0xvYWRpbmdUeG5BZGRpdGlvbmFsQ29zdCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzUuc2hvd0xvYWRpbmdUeG5BZGRpdGlvbmFsQ29zdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM1LmV4cGVuc2VzID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzUub25NZXRob2RDaGFuZ2VkKCk7CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM1LnNob3dMb2FkaW5nVHhuQWRkaXRpb25hbENvc3QgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2xlYXJpbmdBY2NvdW50OiBmdW5jdGlvbiBjbGVhcmluZ0FjY291bnQoKSB7CiAgICAgIHZhciBfdGhpczM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyOCgpIHsKICAgICAgICB2YXIgYW1vdW50LCB4QW1vdW50LCBhZGRpY3QsIGFjY291bnQsIG5hdHVyZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI4JChfY29udGV4dDI4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjgucHJldiA9IF9jb250ZXh0MjgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczM2LmlzSXRlbSgpKSB7CiAgICAgICAgICAgICAgICAgICAgLyogdG9kbzogY2xlYXJpbmcgYWNjb3VudCBmb3IgYWRkaXRpb25hbCBjb3N0ICovCiAgICAgICAgICAgICAgICAgICAgYW1vdW50ID0gKF90aGlzMzYucHVyY2hhc2UuYWRkaXRpb25hbENvc3RUb3RhbCB8fCAwKSAqIC0xOwogICAgICAgICAgICAgICAgICAgIHhBbW91bnQgPSBhbW91bnQgKiBfdGhpczM2LnB1cmNoYXNlLnR4blJhdGUgfHwgMTsKICAgICAgICAgICAgICAgICAgICBhZGRpY3QgPSBfdGhpczM2LnB1cmNoYXNlLmFkZGl0aW9uYWxDb3N0IHx8IFtdOwoKICAgICAgICAgICAgICAgICAgICBpZiAoYWRkaWN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChhZGRpY3RbMF0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudCA9IGFkZGljdFswXS5hY2NvdW50IHx8IHt9OwogICAgICAgICAgICAgICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNi5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBhY2NvdW50LmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICJBZGRpdGlvbmFsIENvc3QiLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBhY2NvdW50LmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiB4QW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlQXM6ICJjbGVhcmluZyIKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygiZXJyb3IiLCBlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBpc0l0ZW06IGZ1bmN0aW9uIGlzSXRlbSgpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIHZhciByb3cgPSBkcy5kYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgcmV0dXJuIG4uYW1vdW50ID4gMDsKICAgICAgfSk7CiAgICAgIHZhciBmb3VuZCA9IHJvdy5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICByZXR1cm4gbi5pdGVtLnR5cGUgPT09ICJWYXJpYW50IjsKICAgICAgfSk7CgogICAgICBpZiAoZm91bmQpIHsKICAgICAgICByZXR1cm4gZm91bmQubGVuZ3RoID4gMDsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGFiYnI6IGZ1bmN0aW9uIGFiYnIoKSB7CiAgICAgIGlmICh0aGlzLnB1cmNoYXNlKSB7CiAgICAgICAgdmFyIHR4blR5cGUgPSB0aGlzLnB1cmNoYXNlLnRyYW5zYWN0aW9uVHlwZSB8fCB7fTsKICAgICAgICB2YXIgYWJiciA9IHR4blR5cGUuYWJiciB8fCAiIjsKICAgICAgICByZXR1cm4gYWJicjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZFZlbmRvcjogZnVuY3Rpb24gdmFsaWRWZW5kb3IoKSB7CiAgICAgIHZhciB2ZW5kb3IgPSB0aGlzLnZlbmRvcjsKICAgICAgcmV0dXJuIHZlbmRvci5pZCAhPT0gdW5kZWZpbmVkICYmIHZlbmRvci5pZCAhPT0gbnVsbDsKICAgIH0sCiAgICBkaXNhYmxlTWU6IGZ1bmN0aW9uIGRpc2FibGVNZSgpIHsKICAgICAgcmV0dXJuICEhdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgfSwKICAgIGhpZGRlbkJ1dHRvbjogZnVuY3Rpb24gaGlkZGVuQnV0dG9uKCkgewogICAgICByZXR1cm4gISF0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICB9LAogICAgZGlzYWJsZWRTTFA6IGZ1bmN0aW9uIGRpc2FibGVkU0xQKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgdmFyIHJlZkYgPSB0aGlzLnB1cmNoYXNlLnJlZkZyb20gfHwgW107CgogICAgICAgIGlmIChyZWZGLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHJldHVybiAhIXJlZkYubGVuZ3RoID4gMDsKICAgICAgICB9CgogICAgICAgIHZhciBhZGMgPSB0aGlzLnB1cmNoYXNlLmFkZGl0aW9uYWxDb3N0IHx8IFtdOwoKICAgICAgICBpZiAoYWRjLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHJldHVybiAhIWFkYy5sZW5ndGggPiAwOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIGlkKCkgewogICAgLy8gICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQpIHsKICAgIC8vICAgICB0aGlzLmNsZWFyKCk7CiAgICAvLyAgIH0gZWxzZSB7CiAgICAvLyAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAvLyAgICAgdGhpcy5sb2FkVmlld0NyZWRpdFB1cmNoYXNlKCk7CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICAkcm91dGU6ICJyZWxvYWQiCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkVGF4KCk7CiAgICB0aGlzLmxvYWRQcmVmaXgoKTsKICAgIHRoaXMubG9hZFByb2plY3RCeUN1c3RvbWVyKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX21vdW50ZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyOSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyOSQoX2NvbnRleHQyOSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjkucHJldiA9IF9jb250ZXh0MjkubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RGF0YSgwLCB0aGlzLmZpbHRlciwgdGhpcy5jdXNCYXNlVXJsKTsKICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRTZWdtZW50KCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX2NvbnRleHQyOS5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkTG9jYXRpb24oKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWREaXNjb3VudEl0ZW0oKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRFbXBsb3llZUNlbnRlcigpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDExOwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRQYXltZW50VGVybSgpOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSAxMzsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkQWNjb3VudCgpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSAxNTsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkUHJpY2VMZXZlbCgpOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSAxNzsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkT3RoZXJDaGFyZ2UoKTsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgX2NvbnRleHQyOS5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZFB1cmNoYXNlRm9ybUNvbnRlbnQoKTsKCiAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgX2NvbnRleHQyOS5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdERhdGEoKTsKCiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjkuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTI5LCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICByZXR1cm4gX21vdW50ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gbW91bnRlZDsKICB9KCkKfTs="},{"version":3,"sources":["CreditPurchase.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <v-row>\n        <v-col sm=\"12\" cols=\"12\">\n          <v-card\n            outlined\n            dense\n            class=\"pa-4 no_border rounded-sm\"\n            color=\"white\"\n          >\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n              <v-row>\n                <v-col\n                  class=\"bigSide pr-2 py-0\"\n                  sm=\"12\"\n                  cols=\"12\"\n                  style=\"transition: 0.3s ease-in\"\n                  :class=\"{ hide_big_bar_class: isHideBar }\"\n                >\n                  <v-card outlined dense class=\"no_border\">\n                    <h2 class=\"mb-0\">{{ $t(\"purchase\") }}</h2>\n\n                    <v-icon\n                      @click=\"cancel()\"\n                      style=\"cursor: pointer; font-size: 40px\"\n                      color=\"grey\"\n                      class=\"float-right\"\n                      >close\n                    </v-icon>\n                    <span\n                      class=\"pointer float-right help\"\n                      @click=\"Help('purchase')\"\n                    >\n                      {{ $t(\"help\") }}\n                    </span>\n                  </v-card>\n                  <v-card\n                    outlined\n                    dense\n                    class=\"px-4 rounded-4 no_border\"\n                    color=\"grayBg\"\n                  >\n                    <v-row>\n                      <v-col class=\"pb-0 pt-3\" sm=\"4\" cols=\"12\">\n                        <label class=\"label mb-0\">{{ $t(\"supplier\") }}</label>\n                        <v-col\n                          sm=\"12\"\n                          cols=\"12\"\n                          class=\"kendo_dropdown_custom px-0 pb-4 pt-0\"\n                        >\n                          <dropdownlist\n                            :data-items=\"vendorList\"\n                            @change=\"onChange\"\n                            :value=\"vendor\"\n                            :data-item-key=\"dataItemKey\"\n                            :text-field=\"textField\"\n                            :default-item=\"defaultItem\"\n                            :filterable=\"true\"\n                            :required=\"true\"\n                            :disabled=\"disableMe\"\n                            :valid=\"validVendor\"\n                            @filterchange=\"onFilterChange\"\n                          >\n                          </dropdownlist>\n                        </v-col>\n                        <div hidden>\n                          <label class=\"label mb-0\">{{\n                            $t(\"purchase_type\")\n                          }}</label>\n                          <v-select\n                            class=\"mt-1\"\n                            :items=\"purchaseTypes\"\n                            item-value=\"id\"\n                            item-text=\"name\"\n                            v-model=\"purchase.transactionType\"\n                            @change=\"onInvoiceTypeChanged\"\n                            :rules=\"[\n                              (v) => !!v || 'Transaction Currency is required',\n                            ]\"\n                            return-object\n                            outlined\n                          />\n                        </div>\n\n                        <label class=\"label mb-0\">{{\n                          $t(\"transaction_date\")\n                        }}</label>\n                        <app-datepicker\n                          :initialDate=\"purchase.transactionDate\"\n                          :disabled=\"disableMe\"\n                          @onChanged=\"onInvoiceDateChanged\"\n                          @emitDate=\"txnDate = $event\"\n                        />\n                        <label class=\"label mb-0\">{{\n                          $t(\"transaction_number\")\n                        }}</label>\n                        <v-row class=\"mt-1 mr-0\">\n                          <v-col sm=\"3\" cols=\"3\" class=\"pt-0 pr-0 pb-0\">\n                            <div class=\"code_text text-bold\">\n                              {{ abbr }}\n                            </div>\n                          </v-col>\n                          <v-col sm=\"7\" cols=\"7\" class=\"pt-0 pl-0 pr-1 pb-0\">\n                            <v-text-field\n                              class=\"custom-border\"\n                              v-model=\"purchase.number\"\n                              outlined\n                              readonly\n                              :rules=\"[(v) => !!v || 'Number is required']\"\n                              required\n                            />\n                          </v-col>\n                          <v-col sm=\"2\" cols=\"2\" class=\"pt-0 px-0 pb-0\">\n                            <v-icon\n                              color=\"black\"\n                              size=\"30\"\n                              class=\"border_qrcode\"\n                              :disabled=\"disableMe\"\n                              @click=\"generateNumber\"\n                              >mdi-qrcode\n                            </v-icon>\n                          </v-col>\n                        </v-row>\n                      </v-col>\n                      <v-col class=\"pb-0 pt-3\" sm=\"4\" cols=\"12\">\n                        <label class=\"label mb-0\">{{\n                          $t(\"suppliers_invoice_no\")\n                        }}</label>\n                        <v-text-field\n                          class=\"mt-1 mr-0\"\n                          outlined\n                          v-model=\"purchase.billNo\"\n                          tage=\"Vendor Invoice Number.\"\n                          :rules=\"[(v) => !!v || 'required']\"\n                          required\n                        />\n                        <label class=\"label mb-0\">{{ $t(\"term\") }}</label>\n                        <v-select\n                          class=\"mt-1\"\n                          v-model=\"purchase.paymentTerm\"\n                          :items=\"paymentTerms\"\n                          :rules=\"[(v) => !!v['id'] || 'required']\"\n                          @change=\"onPaymentTermChanged\"\n                          placeholder=\"Term\"\n                          item-text=\"name\"\n                          item-value=\"id\"\n                          return-object\n                          outlined\n                        />\n                      </v-col>\n                      <v-col class=\"pb-0 pt-3\" sm=\"4\" cols=\"12\">\n                        <label class=\"label mb-0\">{{ $t(\"due_date\") }}</label>\n                        <app-datepicker\n                          :initialDate=\"purchase.dueDate\"\n                          @emitDate=\"dueDate = $event\"\n                        />\n                        <label class=\"label mb-0\">{{\n                          $t(\"vendor_invoice_date\")\n                        }}</label>\n                        <app-datepicker\n                          :initialDate=\"purchase.billDate\"\n                          @emitDate=\"billDate = $event\"\n                        />\n                        <!-- <label class=\"label mb-0\">{{\n                                                        $t(\"price_level\")\n                                                    }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    v-model=\"purchase.priceLevel\"\n                                                    :items=\"priceLevel\"\n                                                    item-value=\"id\"\n                                                    @change=\"onPriceLevelChange\"\n                                                    :disabled=\"disabledSLP\"\n                                                    :rules=\"[(v) => !!v['id'] || 'required']\"\n                                                    item-text=\"name\"\n                                                    return-object\n                                                    placeholder=\"Price Level\"\n                                                    tage=\"Default Price Level\"\n                                                    outlined\n                                                /> -->\n\n                        <!-- <v-col\n                                                    sm=\"12\"\n                                                    col=\"12\"\n                                                    class=\"d-flex justify-space-between pt-0\"\n                                                >\n                                                    <div>\n                                                        <p class=\"label mb-0\">{{ $t(\"currency\") }}</p>\n                                                        <p class=\"label mb-0 mt-4\">\n                                                            {{ currencyCode }}\n                                                        </p>\n                                                    </div>\n                                                    <div>\n                                                        <p class=\"label mb-0\">{{ $t(\"rate\") }}</p>\n                                                        <p class=\"label mb-0 mt-4\">\n                                                            {{ transactionRate }}\n                                                        </p>\n                                                    </div>\n                                                </v-col> -->\n                      </v-col>\n                    </v-row>\n                  </v-card>\n                  <v-row style=\"background-color: #fff\">\n                    <v-col sm=\"12\" cols=\"12\" class=\"pb-0 px-4\">\n                      <kendo-datasource\n                        ref=\"itemLineDS\"\n                        :data=\"itemLines\"\n                        :change=\"dataSourceChanged\"\n                      />\n                      <kendo-grid\n                        id=\"gridItemLine\"\n                        class=\"grid-function\"\n                        :data-source-ref=\"'itemLineDS'\"\n                        :sortable=\"false\"\n                        :column-menu=\"true\"\n                        :editable=\"true\"\n                        v-on:databound=\"dataBound\"\n                        :scrollable-virtual=\"true\"\n                      >\n                        <kendo-grid-column\n                          :command=\"{\n                            iconClass: 'k-icon k-i-trash',\n                            text: ' ',\n                            click: removeRow,\n                            className: 'isEditable',\n                          }\"\n                          :title=\"' '\"\n                          :width=\"70\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :title=\"$t('no.')\"\n                          :width=\"55\"\n                          :column-menu=\"false\"\n                          :template=\"rowNumberTmpl\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5;',\n                            class: 'text-products',\n                          }\"\n                          :attributes=\"{ style: 'text-align: products' }\"\n                        />\n\n                        <kendo-grid-column\n                          :field=\"'item'\"\n                          :title=\"$t('item')\"\n                          :template=\"itemTemplate\"\n                          :editor=\"ItemDropDownEditor\"\n                          :attributes=\"{ class: 'isEditable' }\"\n                          :width=\"200\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'description'\"\n                          :title=\"$t('description')\"\n                          :template=\"'<span>#=description#</span>'\"\n                          :width=\"200\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'qty'\"\n                          :title=\"$t('qty')\"\n                          :format=\"'{0:n}'\"\n                          :template=\"'<span>#=qty#</span>'\"\n                          :width=\"80\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{ style: 'text-align: right; ' }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'uom'\"\n                          :title=\"$t('uom')\"\n                          :width=\"100\"\n                          :template=\"UOMTemplate\"\n                          :editor=\"UOMDropDownEditor\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{ style: 'text-align: left' }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'cost'\"\n                          :title=\"$t('cost')\"\n                          :width=\"200\"\n                          :template=\"'<span>#=kendo.toString(cost || 0, decimalFormat)#</span>'\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{ style: 'text-align: right' }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'amount'\"\n                          :title=\"$t('amount')\"\n                          :width=\"200\"\n                          :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                          :template=\"'<span>#=kendo.toString(amount || 0, decimalFormat)#</span>'\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{ style: 'text-align: right' }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'vatTax'\"\n                          :title=\"$t('tax')\"\n                          :width=\"200\"\n                          :hidden=\"true\"\n                          :template=\"vatTemplate\"\n                          :editor=\"VatTaxDropDownEditor\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{ style: 'text-align: left' }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'serviceDate'\"\n                          :title=\"$t('date_from')\"\n                          :width=\"200\"\n                          :hidden=\"!purchaseFormContent.serviceDate\"\n                          :template=\"'<span>#= kendo.toString(new Date(serviceDate), dateFormat)#</span>'\"\n                          :editor=\"ServiceDateEditor\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'serviceDateTo'\"\n                          :title=\"$t('date_to')\"\n                          :width=\"200\"\n                          :hidden=\"!purchaseFormContent.serviceDateTo\"\n                          :template=\"'<span>#= kendo.toString(new Date(serviceDateTo), dateFormat)#</span>'\"\n                          :editor=\"ServiceDateToEditor\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'discountItem'\"\n                          :title=\"$t('discount_item')\"\n                          :width=\"200\"\n                          :hidden=\"!purchaseFormContent.discountItem\"\n                          :template=\"discountItemTemplate\"\n                          :editor=\"DiscountItemDropDownEditor\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{ style: 'text-align: left' }\"\n                        />\n\n                        <kendo-grid-column\n                          :field=\"'class1'\"\n                          :title=\"$t('class_1')\"\n                          :hidden=\"!purchaseFormContent.class1\"\n                          :template=\"'<span>#=class1.name || ``#</span>'\"\n                          :width=\"200\"\n                          :editor=\"ClassEditor.class1\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{ style: 'text-align: left' }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'class2'\"\n                          :title=\"$t('class_2')\"\n                          :hidden=\"!purchaseFormContent.class2\"\n                          :template=\"'<span>#=class2.name || ``#</span>'\"\n                          :width=\"200\"\n                          :editor=\"ClassEditor.class2\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{ style: 'text-align: left' }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'class3'\"\n                          :title=\"$t('class_3')\"\n                          :hidden=\"!purchaseFormContent.class3\"\n                          :template=\"'<span>#=class3.name || ``#</span>'\"\n                          :width=\"200\"\n                          :editor=\"ClassEditor.class3\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{ style: 'text-align: left' }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'class4'\"\n                          :title=\"$t('class_4')\"\n                          :hidden=\"!purchaseFormContent.class4\"\n                          :template=\"'<span>#=class4.name || ``#</span>'\"\n                          :width=\"200\"\n                          :editor=\"ClassEditor.class4\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{ style: 'text-align: left' }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'class5'\"\n                          :title=\"$t('class_5')\"\n                          :hidden=\"!purchaseFormContent.class5\"\n                          :template=\"'<span>#=class5.name || ``#</span>'\"\n                          :width=\"200\"\n                          :editor=\"ClassEditor.class5\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{ style: 'text-align: left' }\"\n                        />\n                      </kendo-grid>\n                    </v-col>\n                    <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n                      <v-btn class=\"float-left btn_plus mr-2\" @click=\"addRow\">\n                        <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                      </v-btn>\n                    </v-col>\n                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                      <v-row>\n                        <v-col class=\"pt-0\" sm=\"5\" cols=\"6\">\n                          <v-card\n                            class=\"no-boxshadow pa-3 rounded-4\"\n                            color=\"grayBg\"\n                          >\n                            <v-row>\n                              <v-col class=\"py-0 pa-4\" sm=\"12\" cols=\"12\">\n                                <label class=\"label mb-0\">{{\n                                  $t(\"billing_address\")\n                                }}</label>\n                                <v-select\n                                  class=\"mt-1\"\n                                  v-model=\"purchase.billingAddress\"\n                                  :items=\"billingAddress\"\n                                  item-value=\"id\"\n                                  item-text=\"name\"\n                                  tage=\"Billing Address\"\n                                  placeholder=\"Address\"\n                                  outlined\n                                />\n                                <label class=\"label mb-0\">{{\n                                  $t(\"pickup_delivery_address\")\n                                }}</label>\n                                <v-select\n                                  class=\"mt-1\"\n                                  v-model=\"purchase.deliveryAddress\"\n                                  :items=\"deliveryAddress\"\n                                  item-value=\"id\"\n                                  item-text=\"name\"\n                                  tage=\"Pickup/ Delivery Address\"\n                                  placeholder=\"Address\"\n                                  outlined\n                                />\n                                <label class=\"label mb-0\">{{\n                                  $t(\"pickup_delivery_date_time\")\n                                }}</label>\n                                <app-datepicker\n                                  :initialDate=\"purchase.deliveryDateTime\"\n                                  @emitDate=\"deliveryDateTime = $event\"\n                                />\n                                <!-- \n                                                                <label>{{ $t(\"message_on_invoice\") }}</label>\n                                                                <v-textarea\n                                                                    class=\"mt-1\"\n                                                                    v-model=\"purchase.transactionNote\"\n                                                                    outlined\n                                                                    no-resize\n                                                                    height=\"70px\"\n                                                                    tage=\"Message on Purchase\"\n                                                                    placeholder=\"This will appear on the Purchase\"\n                                                                />\n                                                                <label>{{ $t(\"message_on_journal\") }}</label>\n                                                                <v-textarea\n                                                                    class=\"mt-1\"\n                                                                    v-model=\"purchase.journalNote\"\n                                                                    outlined\n                                                                    no-resize\n                                                                    height=\"70px\"\n                                                                    tage=\"Message on Order\"\n                                                                    placeholder=\"This will appear on the journal\"\n                                                                /> -->\n                              </v-col>\n                            </v-row>\n                          </v-card>\n                        </v-col>\n                        <v-col class=\"pt-0\" sm=\"7\" cols=\"6\">\n                          <v-simple-table>\n                            <template v-slot:default>\n                              <tbody>\n                                <tr>\n                                  <td class=\"text-left pr-0\">\n                                    {{ $t(\"subtotal\") }}\n                                  </td>\n                                  <td class=\"text-center\">:</td>\n                                  <td class=\"text-right\">\n                                    {{ numberFormat(purchase.subTotal) }}\n                                  </td>\n                                </tr>\n                                <tr>\n                                  <td class=\"text-left pr-0\">\n                                    {{ $t(\"general_discount\") }}\n                                  </td>\n                                  <td class=\"text-center\">:</td>\n                                  <td class=\"text-right\">\n                                    ({{ numberFormat(purchase.discountTotal) }})\n                                  </td>\n                                </tr>\n                                <tr>\n                                  <td class=\"text-left text-uppercase pr-0\">\n                                    {{ $t(\"total\") }}\n                                  </td>\n                                  <td class=\"text-center\">:</td>\n                                  <td\n                                    class=\"text-right primary--text text-bold\"\n                                    id=\"total\"\n                                  >\n                                    {{ numberFormat(purchase.total) }}\n                                  </td>\n                                </tr>\n                                <tr>\n                                  <td class=\"text-left pr-0\">\n                                    {{ $t(\"deposit\") }}\n                                    <span class=\"float-right primary--text\">{{\n                                      numberFormat(purchase.depositAmount)\n                                    }}</span>\n                                  </td>\n                                  <td class=\"text-center\">:</td>\n                                  <td class=\"text-right hide_form_alert\">\n                                    <v-text-field\n                                      class=\"\n                                        text-right\n                                        float-right\n                                        deposite_input\n                                      \"\n                                      v-model=\"purchase.depositDeduction\"\n                                      @change=\"onDepositDeductionChange\"\n                                      min=\"0\"\n                                      type=\"number\"\n                                      tage=\"Deposit\"\n                                      width=\"80\"\n                                      outlined\n                                    />\n                                  </td>\n                                </tr>\n                                <tr>\n                                  <td class=\"text-left\">\n                                    {{ $t(\"amount_due\") }}\n                                  </td>\n                                  <td class=\"text-center\">:</td>\n                                  <td\n                                    class=\"text-right primary--text text-bold\"\n                                  >\n                                    {{ numberFormat(purchase.remainingAmount) }}\n                                  </td>\n                                </tr>\n                              </tbody>\n                            </template>\n                          </v-simple-table>\n                        </v-col>\n                      </v-row>\n                    </v-col>\n                  </v-row>\n                  <v-divider />\n                  <v-card outlined dense class=\"no_border function_footer\">\n                    <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                      <span v-html=\"errorMessage\" />\n                    </v-alert>\n                    <v-menu>\n                      <template v-slot:activator=\"{ on }\">\n                        <v-btn\n                          class=\"mr-2 float-left select_template\"\n                          v-on=\"on\"\n                        >\n                          {{ $t(\"select_template\") }}\n                          <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                        </v-btn>\n                      </template>\n                      <v-list>\n                        <v-list-item\n                          v-for=\"(item, index) in templates\"\n                          :key=\"index\"\n                        >\n                          <v-list-item-title\n                            >{{ item.title }}\n                          </v-list-item-title>\n                        </v-list-item>\n                      </v-list>\n                    </v-menu>\n                    <v-btn\n                      outlined\n                      class=\"text-capitalize black--text float-left\"\n                      color=\"primary\"\n                      @click=\"cancel\"\n                      >{{ $t(\"cancel\") }}\n                    </v-btn>\n                    <v-btn\n                      class=\"float-right text-capitalize white--text\"\n                      @click=\"onSaveClose(false)\"\n                      color=\"primary\"\n                    >\n                      {{ $t(\"save_close\") }}\n                    </v-btn>\n                    <v-btn\n                      color=\"secondary\"\n                      style=\"margin-right: 10px !important\"\n                      class=\"white--text float-right text-capitalize\"\n                      @click=\"onSaveClose(true)\"\n                      :hidden=\"hiddenButton\"\n                      >{{ $t(\"save_new\") }}\n                    </v-btn>\n                  </v-card>\n                </v-col>\n              </v-row>\n            </v-form>\n          </v-card>\n        </v-col>\n      </v-row>\n      <LoadingMe :isLoading=\"showLoading\" :fullPage=\"false\" :myLoading=\"true\" />\n      <v-dialog v-model=\"dialogTax\" max-width=\"450px\">\n        <v-card>\n          <div class=\"modal_header\">\n            <v-card-title>{{ $t(\"tax_list\") }}</v-card-title>\n            <v-icon @click=\"dialogTax = false\">close</v-icon>\n          </div>\n          <v-card-text class=\"modal_text_content\">\n            <v-row>\n              <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                <v-simple-table>\n                  <template v-slot:default>\n                    <tbody>\n                      <tr\n                        v-for=\"(value, name) in taxListTotal\"\n                        v-bind:key=\"name\"\n                      >\n                        <td class=\"text-left\" width=\"180px\">{{ name }}</td>\n                        <td class=\"text-center\">:</td>\n                        <td class=\"text-right\">\n                          {{ numberFormat(value) }}\n                        </td>\n                      </tr>\n                      <tr>\n                        <td class=\"text-left\" width=\"180px\">\n                          {{ $t(\"total\") }}\n                        </td>\n                        <td class=\"text-center\">:</td>\n                        <td class=\"text-right\">\n                          {{ numberFormat(purchase.totalTaxAmount) }}\n                        </td>\n                      </tr>\n                    </tbody>\n                  </template>\n                </v-simple-table>\n              </v-col>\n            </v-row>\n          </v-card-text>\n          <v-divider />\n        </v-card>\n      </v-dialog>\n    </v-container>\n  </v-app>\n</template>\n<script>\n// import kendo from \"@progress/kendo-ui\"\nimport { i18n } from \"@/i18n\";\nimport PurchaseModel from \"@/scripts/purchase/model/Purchase\";\nimport ItemLineModel from \"@/scripts/purchase/model/ItemLine\";\nimport { uuid } from \"vue-uuid\";\nimport { DropDownList } from \"@progress/kendo-vue-dropdowns\";\nimport kendo from \"@progress/kendo-ui\";\nimport PurchaseFormContentModel from \"@/scripts/model/PurchaseFormContent\";\nimport { dataStore, ShowResource } from \"@/observable/store\";\nimport paymentTermHandler_ from \"@/scripts/paymentterm/handler/paymentTermHandler\";\nimport creditLimitHandler from \"@/scripts/creditLimit/handler/creditLimitHandler\";\nimport saleOrderHandler from \"@/scripts/transactionHandler\";\nimport Helper from \"@/helper\";\nimport settingsHandler from \"@/scripts/settingsHandler\";\n\nconst supplierHandler = require(\"@/scripts/supplierHandler\");\n// import kendo from \"@progress/kendo-ui\";\n\nconst projectHandler = require(\"@/scripts/projectHandler\");\nconst priceLevelHandler = require(\"@/scripts/priceLevelHandler\");\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\");\n\n// const settingsHandler = require(\"@/scripts/settingsHandler\");\nconst employeeHandler = require(\"@/scripts/employeeHandler\");\nconst locationHandler = require(\"@/scripts/locationHandler\");\n// const paymentTermHandler = require(\"@/scripts/paymentTermHandler\");\nconst accountHandler = require(\"@/scripts/handler/accounting/account\");\nconst productVariantHandler = require(\"@/scripts/productVariantHandler\");\nconst uomPriceHandler = require(\"@/scripts/uomPriceHandler\");\nconst discountItemHandler = require(\"@/scripts/discountItemHandler\");\nconst settingHandler = require(\"@/scripts/settingHandler\");\nconst otherChargeHandler = require(\"@/scripts/otherChargeHandler\");\nconst purchaseFormContentHandler = require(\"@/scripts/purchaseFormContentHandler\");\nconst prefixHandler = require(\"@/scripts/prefixHandler\");\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\n\nconst purchaseModel = new PurchaseModel({});\nconst itemLineModel = new ItemLineModel({});\nconst purchaseFormContentModel = new PurchaseFormContentModel({});\nconst $ = kendo.jQuery;\n\nconst textField = \"numberName\";\nconst keyField = \"id\";\nconst defaultItem = { [textField]: \"Select vendor...\", [keyField]: null };\nconst emptyItem = { [textField]: \"loading ...\" };\nconst pageSize = 10;\nconst itemLinePrefix = \"lin-\";\nconst loadingData = [];\nwhile (loadingData.length < pageSize) {\n  loadingData.push({ ...emptyItem });\n}\nconst { ClassEditor } = require(\"@/scripts/kendo_editor/Collections\");\nconst DISCOUNT_TYPE = \"?type=Purchase\";\nconst TRANSACTION_TYPE = \"Purchase\";\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\nconst NATURE = \"purchase\";\nexport default {\n  name: \"CreditPurchase\",\n  props: [\"id\", \"transactionDate\"],\n  components: {\n    LoadingMe: () => import(`@/components/Loading`),\n    \"app-datepicker\": () =>\n      import(\"@/components/custom_templates/DatePickerComponent\"),\n    // \"month-picker\": () => import(\"@/components/custom_templates/MonthPicker\"),\n    dropdownlist: DropDownList,\n  },\n  data: () => ({\n    isEdit: false,\n    showLoadingTxn: false,\n    showLoadingTxnAdditionalCost: false,\n    mOtherCharge: [],\n    mOtherChargeAmount: [],\n    purchaseOrders: [],\n    numSelect: [1],\n    dialogTax: false,\n    vendorList: [],\n    showLoading: false,\n    bill_date: \"\",\n    alert: false,\n    files: [],\n    // Form validation\n    valid: true,\n    itemLines: [],\n    txnDate: new Date().toISOString().substr(0, 10),\n    billDate: new Date().toISOString().substr(0, 10),\n    invoiceDate: new Date().toISOString().substr(0, 10),\n    monthOf: \"\",\n    templates: [{ title: \"Purchase\", value: \"Purchase\" }],\n    isHideBar: false,\n    vendor: {},\n    defaultItem: defaultItem,\n    purchase: purchaseModel,\n    transactionType: [\"Invoice\", \"Commercial Invoice\", \"Tax Invoice\"],\n    cusBaseUrl: supplierHandler.search(),\n    empBaseUrl: employeeHandler.search(),\n    init: { method: \"GET\", accept: \"application/json\", headers: [] },\n    pendingRequest: undefined,\n    requestStarted: false,\n    skip: 0,\n    tempSkip: null,\n    total: 0,\n    filter: \"\",\n    referenceNo: \"\",\n    filter_: \"\",\n    textField: \"numberName\",\n    dataItemKey: \"id\",\n    segments: [],\n    employees: [],\n    methods: [\"Qty Based\", \"Amount Based\"],\n    mEmployee: {},\n    customerProjects: [],\n    billingAddress: [],\n    deliveryAddress: [],\n    deliveryDateTime: new Date().toISOString().substr(0, 10),\n    priceLevel: [],\n    locations: [],\n    paymentTerms: [],\n    accPayable: [],\n    currencies: [],\n    itemLine: itemLineModel,\n    uoms: [],\n    tax: [],\n    specificDiscountItem: [],\n    otherChargeList: [],\n    depositBalance: 0,\n    schemaDefinition: {\n      model: {\n        id: \"id\",\n      },\n    },\n    purchaseFormContent: purchaseFormContentModel,\n    ClassEditor: ClassEditor,\n    taxListTotal: {},\n    purchaseTypes: [],\n    taxListDetail: [],\n    supplierDiscountItem: [],\n    lateFeeList: [],\n    loggedUser: {\n      id: cookie.creator,\n      name: cookie.email,\n    },\n    exchangeRate: {},\n    baseCurrencyCode: \"\",\n    currencyCode: \"\",\n    transactionRate: 1,\n    jRaw: [],\n    refFrom: [],\n    isPriceLevelChanged: false,\n    expenses: [],\n    additionalCostTotal: 0,\n    chkChecked: [],\n    accWithholdingExpense: [],\n  }),\n  methods: {\n    dataBound: function (e) {\n      const grid = kendo.jQuery(\"#gridItemLine\").data(\"kendoGrid\");\n      const items = e.sender.items();\n      if (grid) {\n        items.each(function () {\n          let dataItem = grid.dataItem(this);\n          $(\"tr[data-uid='\" + dataItem.uid + \"']\")\n            .find(\".isEditable\")\n            .each(function () {\n              if (dataItem.isEditable === false) {\n                $(this).addClass(\"k-state-disabled\");\n              }\n            });\n        });\n      }\n    },\n    onMethodChanged() {\n      if (this.isItem()) {\n        this.calculateAdditionalCost();\n        this.autoCalculate();\n      }\n    },\n    onCheckChanged() {\n      if (this.isItem()) {\n        this.additionalCostTotal = 0;\n        this.jRaw = [];\n        if (this.chkChecked) {\n          this.chkChecked.forEach((m) => {\n            if (m) {\n              const xAmount = m.exchangeAmount || 0;\n              this.additionalCostTotal += parseFloat(xAmount);\n            }\n          });\n          this.purchase.additionalCost = this.chkChecked;\n          this.purchase.additionalCostTotal = this.additionalCostTotal;\n          // if (this.purchase.additionalCostMethod === 'Qty Based') {\n          //     this.percentageApplied()\n          // } else {\n          //     this.amountApplied()\n          // }\n          this.calculateAdditionalCost();\n          this.autoCalculate();\n        }\n      }\n    },\n    onPriceLevelChange() {\n      this.isPriceLevelChanged = true;\n      this.loadTransactionRate();\n      this.clearUOMItem();\n    },\n    async clearUOMItem() {\n      let ds = this.$refs.itemLineDS.kendoWidget();\n      ds.data().map((n) => {\n        n.set(\"uom\", {});\n      });\n      this.isPriceLevelChanged = false;\n    },\n    async loadPaymentTermList() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          if (this.vendor) {\n            const strFilter =\n              \"?id=\" +\n              this.vendor.id +\n              \"&transactionDate=\" +\n              this.purchase.transactionDate +\n              \"&type=Vendor\";\n            this.purchase.paymentTerm = {};\n            paymentTermHandler_.get(strFilter).then((res) => {\n              if (res.data.statusCode === 200) {\n                const terms = res.data.data;\n                this.purchase.paymentTerm = terms.term;\n                this.onPaymentTermChanged();\n              }\n            });\n          }\n        }, 10);\n      });\n    },\n    async loadCreditLimit() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          if (this.vendor) {\n            const strFilter =\n              \"?id=\" +\n              this.vendor.id +\n              \"&transactionDate=\" +\n              this.purchase.transactionDate +\n              \"&type=Vendor\";\n            this.purchase.creditLimit = 0;\n            creditLimitHandler.get(strFilter).then((res) => {\n              if (res.data.statusCode === 200) {\n                const credit = res.data.data;\n                this.purchase.creditLimit = kendo.parseFloat(\n                  credit.amount || 0\n                );\n              }\n            });\n          }\n        }, 10);\n      });\n    },\n    async observerClean(obj) {\n      return Object.keys(obj).reduce(\n        (res, e) => Object.assign(res, { [e]: obj[e] }),\n        {}\n      );\n    },\n    Help(key_search) {\n      ShowResource(key_search);\n    },\n    AmountEditor(container, options) {\n      kendo\n        .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoNumericTextBox({\n          decimals: 30,\n          format: `${this.purchaseFormContent.decimal}`,\n        });\n    },\n    vatTemplate(dataItem) {\n      const vat = dataItem.vatTax || {};\n      if (vat) {\n        return `<span>${vat.defaultTax ? vat.defaultTax : ``}</span>`;\n      } else {\n        return ``;\n      }\n    },\n    itemTemplate(dataItem) {\n      const item = dataItem.item;\n      if (item) {\n        return `<span>${item.name ? item.name : ``}</span>`;\n      } else {\n        return ``;\n      }\n    },\n    UOMTemplate(dataItem) {\n      const uom = dataItem.uom || {};\n      const code = uom.code || \"\";\n      if (uom) {\n        return `<span>${uom.uom ? code : ``}</span>`;\n      } else {\n        return ``;\n      }\n    },\n    discountItemTemplate(dataItem) {\n      const discountItem = dataItem.discountItem;\n      if (discountItem) {\n        return `<span>${discountItem.code ? discountItem.code : ``} - ${\n          discountItem.name ? discountItem.name : ``\n        }</span>`;\n      } else {\n        return ``;\n      }\n    },\n    addSelect() {\n      let amount_num = this.numSelect.length;\n      let num = this.numSelect[amount_num - 1];\n      let new_num = num + 1;\n      let lenghtItem = this.specificDiscountItem.length;\n      if (new_num <= lenghtItem) {\n        this.numSelect.push(new_num);\n      }\n    },\n    removeSelect(index) {\n      this.numSelect.splice(index, 1);\n      // window.console.log(index, this.numSelect)\n      // this.selectDiscount.splice(index,1)\n      // window.console.log(\"remove\",this.selectDiscount)\n      // this.selectDiscount = this.selectDiscount.filter(item =>  item.id != val.id);\n    },\n    onOtherChargeChange() {\n      let otherCharge = 0;\n      this.mOtherCharge.forEach((m) => {\n        otherCharge += this.autoCalculateDiscount(m, this.purchase.subTotal);\n      });\n      this.purchase.otherChargeAmount = otherCharge;\n      this.autoCalculate();\n    },\n    onOtherAmount(value) {\n      return this.autoCalculateDiscount(value, this.purchase.subTotal);\n    },\n    onSpecificDiscountChanged() {\n      this.purchase.specificDiscountTotal = 0;\n      if (this.purchase.specificDiscountItem) {\n        // window.console.log('-changed', this.purchase.specificDiscountItem)\n        this.purchase.specificDiscountTotal =\n          this.autoCalculateDiscount(\n            this.purchase.specificDiscountItem,\n            this.purchase.subTotal\n          ) || 0;\n        this.purchase.total =\n          kendo.parseFloat(this.purchase.subTotal) -\n          (kendo.parseFloat(this.purchase.discountTotal) +\n            kendo.parseFloat(this.purchase.totalTaxAmount)) -\n          this.autoCalculateDiscount(\n            this.purchase.specificDiscountItem,\n            this.purchase.subTotal\n          );\n      }\n      this.autoCalculate();\n    },\n    empImpl(dataItem) {\n      let empIds = [];\n      dataItem.employee.forEach((m) => {\n        empIds.push(m.firstName + \" - \" + m.lastName);\n      });\n      // window.console.log(empIds.join(', '))\n      return `<span>${empIds.join(\", \")}</span>`;\n    },\n    uomTmp(dataItem) {\n      window.console.log(dataItem);\n      return dataItem;\n    },\n    onInvoiceTypeChanged() {\n      if (this.$route.params.id === null || this.$route.params.id === \"\") {\n        this.generateNumber();\n      }\n    },\n    autoCalculateTaxByType(tax) {\n      // return by a key\n      const groupAll = (list) =>\n        list.reduce((tax, item) => {\n          const taxAmount = tax[item.name] || 0;\n          return Object.assign({}, tax, {\n            [item.name]: taxAmount + parseFloat(item.amount),\n          });\n        }, {});\n      this.taxListTotal = groupAll(tax);\n      window.console.log(\"nimol\", groupAll(tax));\n    },\n    onDepositDeductionChange() {\n      const deduct = parseFloat(this.purchase.depositDeduction || 0);\n      if (deduct < 0) {\n        this.purchase.depositDeduction = 0;\n      }\n      if (\n        this.purchase.depositDeduction === \"\" ||\n        this.purchase.depositDeduction === undefined\n      ) {\n        this.purchase.depositDeduction = 0;\n      }\n      const deduction = parseFloat(this.purchase.depositDeduction) || 0;\n      if (deduction > this.purchase.depositAmount) {\n        this.purchase.depositDeduction = this.purchase.depositAmount;\n      }\n\n      this.autoCalculate();\n    },\n    async autoCalculate() {\n      let ds = this.$refs.itemLineDS.kendoWidget(),\n        subTotal = 0,\n        totalTax = 0,\n        discountTotal = 0,\n        spTax = 0,\n        pltax = 0,\n        otherTax = 0,\n        vatTax = 0,\n        discountInvoice = 0,\n        taxList = [],\n        taxListDetail = [],\n        discountItem = [],\n        discountLine = [],\n        inclusiveTax = 0,\n        taxTypeId = 0,\n        withholdingTaxAmount = 0,\n        whTaxAmount = 0,\n        itemSubtotal = 0,\n        txnItmSubtotal = 0,\n        serviceSubtotal = 0,\n        itemDiscount = 0,\n        serviceDiscount = 0,\n        txnDiscount = 0;\n      let nature = \"\";\n      this.jRaw = [];\n      const rows = ds.data().filter((m) => parseFloat(m.amount) > 0);\n      rows.forEach((value) => {\n        let modifierPrice = 0,\n          incTax = 0;\n        if (value.modifier) {\n          modifierPrice = kendo.parseFloat(value.modifier.price);\n        }\n\n        let discount = 0;\n        if (value.discountItem) {\n          const disItemField = value.discountItem;\n          let subTo =\n            kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n          discount = this.autoCalculateDiscount(value.discountItem, subTo);\n          value[\"discountAmount\"] = discount;\n          value[\"discountExchangeAmount\"] =\n            discount * kendo.parseFloat(this.purchase.txnRate);\n          if (value.discountItem.hasOwnProperty(\"id\")) {\n            discountItem.push(value.discountItem);\n          }\n          discountTotal += discount ? discount : 0;\n          if (discount * -1 > 0) {\n            nature = \"dr\";\n          } else {\n            nature = \"cr\";\n          }\n          if (disItemField.account) {\n            if (disItemField.account.hasOwnProperty(\"id\")) {\n              this.jRaw.push({\n                id: disItemField.account.id + \"-\" + nature,\n                line: new ItemLineModel(value),\n                description: \"Purchase Discount\",\n                account: disItemField.account,\n                accountId: disItemField.account.id,\n                amount: discount * -1,\n                exchangeAmount:\n                  discount * kendo.parseFloat(this.purchase.txnRate) * -1,\n                type: nature,\n                typeAs: \"discount\",\n              });\n            }\n          }\n        }\n        if (value.vatTax) {\n          // window.console.log('Vat Tax', value.tax)\n          let amt =\n            kendo.parseFloat(spTax ? spTax : 0) +\n            kendo.parseFloat(pltax ? pltax : 0) +\n            kendo.parseFloat(otherTax ? otherTax : 0) +\n            (kendo.parseFloat(value.amount ? value.amount : 0) -\n              (discount ? discount : 0));\n          vatTax = this.autoCalculateTax(value.vatTax, amt);\n          vatTax = kendo.parseFloat(vatTax) ? kendo.parseFloat(vatTax) : 0;\n          value[\"vatTaxAmount\"] = vatTax;\n          value[\"vatTaxExchangeAmount\"] =\n            vatTax * kendo.parseFloat(this.purchase.txnRate);\n          const tax = value.vatTax || {};\n          const baseAmount = tax.baseAmount || \"\";\n          window.console.log(tax, \"im tax\");\n          if (baseAmount) {\n            if (baseAmount.toLowerCase() === \"inclusive\") {\n              incTax = vatTax;\n            } else {\n              inclusiveTax += vatTax;\n            }\n          }\n          if (value.vatTax.hasOwnProperty(\"taxType\")) {\n            taxList.push({\n              name: value.vatTax.taxType.name,\n              amount: vatTax,\n              id: value.vatTax.taxType.id,\n            });\n            const vatTax_ = value.vatTax || {};\n            vatTax_[\"taxAmount_\"] = vatTax;\n            vatTax_[\"amount\"] = value.amount || 0;\n            vatTax_[\"discount\"] = discount || 0;\n            vatTax_[\"txnRate\"] = this.purchase.txnRate || 1;\n            vatTax_[\"isVat\"] = 1;\n            vatTax_.detail = {\n              specificTax: {},\n              publicLightingTax: {},\n              otherTax: {},\n            };\n            taxListDetail.push(vatTax_);\n            window.console.log(\"vat_\", vatTax_);\n          }\n          if (value.vatTax.hasOwnProperty(\"taxType\")) {\n            const taxType = value.vatTax.taxType || {};\n            taxTypeId = taxType.typeId || 0;\n          }\n          let taxAmount = vatTax;\n          let taxDescription = \"\";\n          if (taxTypeId === 1) {\n            nature = \"dr\";\n            taxAmount = vatTax;\n            taxDescription = \"Purchase Tax\";\n          } else if (taxTypeId === 2) {\n            withholdingTaxAmount += vatTax;\n            if (taxTypeId === 2 && baseAmount.toLowerCase() === \"net\") {\n              whTaxAmount += vatTax;\n            }\n            nature = \"cr\";\n            taxAmount = vatTax * -1;\n            taxDescription = \"Withholding Tax\";\n          } else if (taxTypeId === 10) {\n            nature = \"cr\";\n            taxAmount = 0;\n            taxDescription = \"No Tax\";\n          }\n          if (taxAmount > 0) {\n            nature = \"dr\";\n          } else {\n            nature = \"cr\";\n          }\n          const vatTaxField = value.vatTax || {};\n          if (taxAmount !== 0) {\n            if (vatTaxField) {\n              if (vatTaxField.account) {\n                if (vatTaxField.account.hasOwnProperty(\"id\")) {\n                  this.jRaw.push({\n                    id: vatTaxField.account.id + \"-\" + nature,\n                    line: new ItemLineModel(value),\n                    description: taxDescription,\n                    account: vatTaxField.account,\n                    accountId: vatTaxField.account.id,\n                    amount: taxAmount,\n                    exchangeAmount:\n                      taxAmount * kendo.parseFloat(this.purchase.txnRate),\n                    type: nature,\n                    typeAs: \"tax\",\n                  });\n                }\n              }\n            }\n          }\n        }\n        totalTax +=\n          kendo.parseFloat(spTax ? spTax : 0) +\n          kendo.parseFloat(pltax ? pltax : 0) +\n          kendo.parseFloat(otherTax ? otherTax : 0) +\n          kendo.parseFloat(vatTax ? vatTax : 0);\n        subTotal += kendo.parseFloat(value.amount) + modifierPrice - incTax;\n        const amount = kendo.parseFloat(value.amount) + modifierPrice;\n        const amt = this.excludeVATTaxInclusive(value.vatTax, amount, incTax);\n        // const xAmount = (kendo.parseFloat(amt) * kendo.parseFloat(this.purchase.txnRate))\n        const additc = value.additionalCost || 0;\n        const itemAmount = amt;\n        const itemXAmount =\n          itemAmount * kendo.parseFloat(this.purchase.txnRate);\n\n        const item = value.item;\n        const itmType = item.type || \"\";\n        if (itmType === \"Variant\") {\n          itemSubtotal +=\n            kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n          itemDiscount += kendo.parseFloat(discount);\n        } else if (itmType === \"Service\") {\n          serviceSubtotal +=\n            kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n          serviceDiscount += kendo.parseFloat(discount);\n        } else {\n          txnItmSubtotal +=\n            kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n          txnDiscount += kendo.parseFloat(discount);\n        }\n        if (amt > 0) {\n          nature = \"dr\";\n        } else {\n          nature = \"cr\";\n        }\n        if (item) {\n          if (item.type === \"Service\") {\n            const plan = item.isPan || false;\n            if (plan) {\n              if (item.hasOwnProperty(\"deferredIncomeAcc\")) {\n                if (item.deferredIncomeAcc.hasOwnProperty(\"id\")) {\n                  let deferredInAcc = item.deferredIncomeAcc;\n                  this.jRaw.push({\n                    id: deferredInAcc.id + \"-\" + nature,\n                    line: new ItemLineModel(value),\n                    description: this.purchase.journalNote,\n                    account: deferredInAcc,\n                    accountId: deferredInAcc.id,\n                    amount: itemAmount * -1, // qty*avg_cost ,\n                    exchangeAmount: itemXAmount, //,\n                    type: nature,\n                    typeAs: \"item\",\n                  });\n                }\n              }\n            } else {\n              if (item.hasOwnProperty(\"costOfGoodsSoldAcc\")) {\n                if (item.costOfGoodsSoldAcc.hasOwnProperty(\"id\")) {\n                  let costOfGoodsSoldAcc = item.costOfGoodsSoldAcc;\n                  this.jRaw.push({\n                    id: costOfGoodsSoldAcc.id + \"-\" + nature,\n                    line: new ItemLineModel(value),\n                    description: this.purchase.journalNote,\n                    account: item.costOfGoodsSoldAcc,\n                    accountId: item.costOfGoodsSoldAcc.id,\n                    amount: itemAmount, // qty*avg_cost ,\n                    exchangeAmount: itemXAmount, //xAmount,\n                    type: nature,\n                    typeAs: \"item\",\n                  });\n                }\n              }\n            }\n          } else if (item.type === \"Variant\") {\n            const amountWithAddict = itemAmount + (value.amountApplied || 0);\n            window.console.log(\"additc\", additc, \"-\", itemAmount);\n            if (item.hasOwnProperty(\"inventoryAcc\")) {\n              if (item.inventoryAcc.hasOwnProperty(\"id\")) {\n                let inventoryAcc = item.inventoryAcc;\n                this.jRaw.push({\n                  id: inventoryAcc.id + \"-\" + nature,\n                  line: new ItemLineModel(value),\n                  description: this.purchase.journalNote,\n                  account: item.inventoryAcc,\n                  accountId: item.inventoryAcc.id,\n                  amount: amountWithAddict, // qty*avg_cost ,\n                  exchangeAmount:\n                    amountWithAddict * (this.purchase.txnRate || 1), //xAmount,\n                  type: nature,\n                  typeAs: \"item\",\n                });\n              }\n            }\n          } else if (item.type === \"Fixed Asset\") {\n            if (item.hasOwnProperty(\"assetAcc\")) {\n              if (item.assetAcc.hasOwnProperty(\"id\")) {\n                let assetAcc = item.assetAcc;\n                this.jRaw.push({\n                  id: assetAcc.id + \"-\" + nature,\n                  line: new ItemLineModel(value),\n                  description: this.purchase.journalNote,\n                  account: item.assetAcc,\n                  accountId: item.assetAcc.id,\n                  amount: itemAmount, // qty*avg_cost ,\n                  exchangeAmount: itemXAmount, //xAmount,\n                  type: nature,\n                  typeAs: \"item\",\n                });\n              }\n            }\n          } else if (item.type === \"Transaction Item\") {\n            if (item.hasOwnProperty(\"account\")) {\n              if (item.account.hasOwnProperty(\"id\")) {\n                this.jRaw.push({\n                  id: item.account.id + \"-\" + nature,\n                  line: new ItemLineModel(value),\n                  description: this.purchase.journalNote,\n                  account: item.account,\n                  accountId: item.account.id,\n                  amount: itemAmount, // qty*avg_cost ,\n                  exchangeAmount: itemXAmount, //xAmount,\n                  type: nature,\n                  typeAs: \"item\",\n                });\n              }\n            }\n          }\n        }\n        //include Tax Amount\n        const amountNodiscount =\n          kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty) - discount;\n        const includeTaxAmount =\n          amountNodiscount + vatTax + pltax + spTax + otherTax;\n        value[\"includeTaxAmount\"] = includeTaxAmount;\n        value[\"includeTaxExchangeAmount\"] =\n          includeTaxAmount * kendo.parseFloat(this.purchase.txnRate);\n      });\n      //todo: WithholdingTax expense\n      this.withholdingExpense(whTaxAmount, this.purchase.txnRate || 1);\n\n      this.purchase.itemSubtotal = itemSubtotal;\n      this.purchase.inclusiveTaxAmount = inclusiveTax;\n      this.purchase.exchangeItemSubtotal =\n        itemSubtotal * kendo.parseFloat(this.purchase.txnRate);\n\n      this.purchase.serviceSubtotal = serviceSubtotal;\n      this.purchase.exchangeServiceSubtotal =\n        serviceSubtotal * kendo.parseFloat(this.purchase.txnRate);\n      this.purchase.txnItmSubtotal = txnItmSubtotal;\n      this.purchase.exchangeTxnItmSubtotal =\n        txnItmSubtotal * kendo.parseFloat(this.purchase.txnRate);\n\n      this.purchase.itemDiscount = itemDiscount;\n      this.purchase.exchangeItemDiscount =\n        itemDiscount * kendo.parseFloat(this.purchase.txnRate);\n      this.purchase.serviceDiscount = serviceDiscount;\n      this.purchase.exchangeServiceDiscount =\n        serviceDiscount * kendo.parseFloat(this.purchase.txnRate);\n      this.purchase.txnItmDiscount = txnDiscount;\n      this.purchase.exchangeTxnItmDiscount =\n        txnDiscount * kendo.parseFloat(this.purchase.txnRate);\n\n      let total =\n        kendo.parseFloat(subTotal) -\n        kendo.parseFloat(discountTotal) +\n        kendo.parseFloat(totalTax);\n      this.purchase.subTotal = subTotal;\n      this.purchase.totalTaxAmount = kendo.parseFloat(totalTax);\n      this.purchase.discountTotal = kendo.parseFloat(discountTotal);\n      if (this.purchase.specificDiscountItem) {\n        discountInvoice = this.autoCalculateDiscount(\n          this.purchase.specificDiscountItem,\n          kendo.parseFloat(subTotal)\n        );\n        discountInvoice = discountInvoice ? discountInvoice : 0;\n      }\n      // this.onOtherChargeChange()\n      this.purchase.total =\n        kendo.parseFloat(total) -\n        discountInvoice +\n        kendo.parseFloat(this.purchase.otherChargeAmount); //- parseFloat(withholdingTaxAmount);\n      this.purchase.withholdingTaxAmount = withholdingTaxAmount;\n      // this.purchase.totalAfterWithholdingTax = kendo.parseFloat(this.purchase.total) - parseFloat(withholdingTaxAmount);\n      this.purchase.remainingAmount =\n        kendo.parseFloat(this.purchase.total) -\n        kendo.parseFloat(this.purchase.depositDeduction) -\n        parseFloat(withholdingTaxAmount);\n      this.purchase.amountDue =\n        kendo.parseFloat(this.purchase.total) -\n        kendo.parseFloat(this.purchase.depositDeduction) -\n        parseFloat(withholdingTaxAmount);\n      this.purchase.exchangeAmount =\n        kendo.parseFloat(this.purchase.amountDue) *\n        kendo.parseFloat(this.purchase.txnRate);\n      // window.console.log('Exchange Amount', this.purchase.exchangeAmount, this.purchase.amountDue)\n      this.autoCalculateTaxByType(taxList);\n      if (this.purchase.specificDiscountItem) {\n        const specificDiscount = this.purchase.specificDiscountItem || {};\n        if (specificDiscount.id) {\n          discountItem.push(specificDiscount);\n          discountLine.push({\n            id: specificDiscount.id,\n            name: specificDiscount.name,\n            amount: this.purchase.specificDiscountTotal,\n            exchangeAmount:\n              this.purchase.specificDiscountTotal * this.purchase.txnRate,\n          });\n        }\n      }\n      const uniqueDiscountItem = this.removeDuplicate(discountItem);\n      this.shrinkDiscountItem(uniqueDiscountItem, discountLine);\n      // window.console.log('discount ', this.customerDiscountItem)\n      // todo: raw Journal\n      const apAcc = this.purchase.apAcc || {};\n      if (this.purchase.amountDue * -1 > 0) {\n        nature = \"dr\";\n      } else {\n        nature = \"cr\";\n      }\n      if (apAcc) {\n        if (apAcc.hasOwnProperty(\"id\")) {\n          this.jRaw.push({\n            id: apAcc.id + \"-\" + nature,\n            line: new ItemLineModel({}),\n            description: this.purchase.journalNote,\n            account: apAcc,\n            accountId: apAcc.id,\n            exchangeAmount: this.purchase.exchangeAmount * -1,\n            amount: this.purchase.amountDue * -1,\n            type: nature,\n            typeAs: \"ap\",\n          });\n        }\n      }\n      const specificDisc = this.purchase.specificDiscountItem;\n      if (this.purchase.specificDiscountTotal * -1 > 0) {\n        nature = \"dr\";\n      } else {\n        nature = \"cr\";\n      }\n      // window.console.log(specificDisc, 'specificDisc', this.purchase.specificDiscountTotal)\n      if (specificDisc) {\n        if (specificDisc.hasOwnProperty(\"account\")) {\n          if (specificDisc.account) {\n            if (specificDisc.hasOwnProperty(\"id\")) {\n              this.jRaw.push({\n                id: specificDisc.account.id + \"-\" + nature,\n                line: new ItemLineModel({}),\n                description: \"Purchase Discount\",\n                account: specificDisc.account,\n                accountId: specificDisc.account.id,\n                exchangeAmount:\n                  kendo.parseFloat(this.purchase.specificDiscountTotal) *\n                  kendo.parseFloat(this.purchase.txnRate) *\n                  -1,\n                amount: this.purchase.specificDiscountTotal * -1,\n                type: nature,\n                typeAs: \"discount\",\n              });\n            }\n          }\n        }\n      }\n\n      if (this.purchase.depositDeduction * -1 > 0) {\n        nature = \"dr\";\n      } else {\n        nature = \"cr\";\n      }\n      if (this.purchase.depositDeduction) {\n        if (this.purchase.depositDeduction > 0) {\n          const purchaseDepositAcc = this.vendor.purchaseDepositAcc || {};\n          if (purchaseDepositAcc) {\n            if (purchaseDepositAcc.hasOwnProperty(\"id\")) {\n              this.jRaw.push({\n                id: purchaseDepositAcc.id + \"-\" + nature,\n                description: \"Purchase Deposit\",\n                line: new ItemLineModel({}),\n                account: purchaseDepositAcc,\n                accountId: purchaseDepositAcc.id,\n                exchangeAmount: this.purchase.exchangeDepositDeduction * -1,\n                amount: this.purchase.depositDeduction * -1,\n                type: nature,\n                typeAs: \"deposit\",\n              });\n            }\n          }\n        }\n      }\n      if (this.mOtherCharge.length > 0) {\n        let otherCharge = 0;\n        this.mOtherCharge.forEach((m) => {\n          otherCharge = this.autoCalculateDiscount(m, this.purchase.subTotal);\n          if (otherCharge > 0) {\n            nature = \"dr\";\n          } else {\n            nature = \"cr\";\n          }\n          if (m) {\n            if (m.hasOwnProperty(\"account\")) {\n              if (m.account.hasOwnProperty(\"id\")) {\n                const account = m.account;\n                if (account) {\n                  if (account.hasOwnProperty(\"id\")) {\n                    this.jRaw.push({\n                      id: account.id + \"-\" + nature,\n                      line: new ItemLineModel({}),\n                      description: \"Other Charge\",\n                      account: account,\n                      accountId: account.id,\n                      exchangeAmount:\n                        otherCharge * kendo.parseFloat(this.purchase.txnRate),\n                      amount: otherCharge,\n                      type: nature,\n                      typeAs: \"otherCharge\",\n                    });\n                  }\n                }\n              }\n            }\n          }\n        });\n        // this.purchase.otherChargeAmount = otherCharge\n        window.console.log(this.mOtherCharge);\n      }\n      this.taxListDetail = taxListDetail;\n      this.autoCalculateTaxDetail();\n      // todo: end raw Journal\n      // window.console.log(JSON.stringify(this.purchase), 'purchase')\n\n      await this.calculateAdditionalCost();\n      // todo: cook journal\n      this.shrinkData(this.jRaw);\n      // const unique = this.removeDuplicate(this.accounts)\n      // window.console.log(unique, 'unique')\n    },\n    withholdingExpense(amount, txnRate) {\n      // if (this.isItem()) {\n      if (amount > 0) {\n        const nature = \"dr\";\n        const account = this.accWithholdingExpense || [];\n        if (account.length > 0) {\n          const iacc = account[0];\n          this.jRaw.push({\n            id: iacc.id + \"-\" + nature,\n            line: new ItemLineModel({}),\n            description: \"Withholding Tax Expense\",\n            account: iacc,\n            accountId: iacc.id,\n            exchangeAmount: amount * txnRate,\n            amount: amount,\n            type: nature,\n            typeAs: \"Withholding\",\n          });\n        }\n      }\n      // }\n    },\n    shrinkData(obj) {\n      const uniques =\n        this.removeDuplicate(obj); /*[...new Set(accountId.map(i => {\n                return {\n                    id_: i.id_,\n                    id: i.id,\n                    type: i.type\n            }))]*/\n      uniques.forEach((n) => {\n        const found = obj.filter((m) => m.id === n.id);\n        let amount = 0;\n        found.forEach((z) => {\n          amount += parseFloat(z.amount || 0);\n        });\n        n.amount = parseFloat(amount); //this.numberFormat(amount)\n        n.exchangeAmount = parseFloat(\n          parseFloat(amount * parseFloat(this.purchase.txnRate))\n        ); //this.numberFormat(amount * parseFloat(this.purchase.txnRate)) //.toFixed(this.saleFormContent.decimal)\n      });\n      this.jRaw = uniques;\n      let dr = 0,\n        cr = 0;\n      this.jRaw.forEach((j) => {\n        switch (j.type) {\n          case \"cr\":\n            cr += parseFloat(j.exchangeAmount);\n            break;\n          case \"dr\":\n            dr += parseFloat(j.exchangeAmount);\n            break;\n          default:\n            break;\n        }\n      });\n      this.purchase.dr = dr;\n      this.purchase.cr = cr;\n      window.console.log(\"dr=\", dr, \"cr=\", cr, \"dr+cr = \", dr + cr);\n      window.console.log(JSON.stringify(uniques), \"uniques\");\n    },\n    shrinkDiscountItem(discountItem, discountLine) {\n      let uniqueDiscountItems = [];\n      const unique = this.removeDuplicate(discountItem);\n      unique.forEach((m) => {\n        const found = discountLine.filter((n) => n.id === m.id);\n        let amount = 0,\n          exchangeAmount = 0;\n        found.map((o) => {\n          amount += o.amount;\n        });\n        found.map((o) => {\n          exchangeAmount += o.exchangeAmount;\n        });\n        uniqueDiscountItems.push({\n          id: m.id,\n          name: m.name,\n          amount: amount,\n          exchangeAmount: exchangeAmount,\n        });\n      });\n      this.supplierDiscountItem = uniqueDiscountItems;\n      window.console.log(uniqueDiscountItems, \"uniqueDiscountItems\");\n    },\n    removeDuplicate(array) {\n      const result = [];\n      const map = new Map();\n      for (const item of array) {\n        if (!map.has(item.id)) {\n          map.set(item.id, true); // set any value to Map\n          result.push(item);\n        }\n      }\n      return result;\n    },\n    numberFormat(value) {\n      // window.console.log(this.saleFormContent.decimal,'nimol')\n      return kendo.toString(value, `n${this.purchaseFormContent.decimal}`);\n    },\n    autoCalculateDiscount(discountItem, subTotal) {\n      if (discountItem) {\n        const nature = discountItem.nature || \"\";\n        const amount = discountItem.amount || 0;\n        if (nature === \"Amount\") {\n          return parseFloat(amount);\n        } else if (nature === \"Percentage\") {\n          return subTotal * (parseFloat(amount) / 100);\n        } else {\n          return 0;\n        }\n      } else {\n        return 0;\n      }\n    },\n    autoCalculateTax(tax, amount) {\n      if (tax) {\n        var formula = tax.formula;\n        var inAmt = kendo.parseFloat(amount);\n        var nAmt = kendo.parseFloat(amount);\n        var taxBase = kendo.parseFloat(tax.taxBase) / 100;\n        var rate = kendo.parseFloat(tax.rate) / 100;\n        var total = eval(formula);\n        window.console.log(inAmt, nAmt, taxBase, rate, formula, total);\n        return total;\n      }\n      // return 0\n    },\n    taxMapping(objTax, tax) {\n      const taxId = tax.id || \"\";\n      const tax_ = objTax.filter((t) => t.id === taxId)[0];\n      return (\n        tax_ || {\n          id: \"\",\n          defaultTax: \"\",\n        }\n      );\n    },\n    dataSourceChanged(e) {\n      if (e.field) {\n        let dataRow = e.items[0],\n          buom = {},\n          vTax = {},\n          conversionRate = 1,\n          wac = 0,\n          qoh = 0,\n          amount = 0,\n          xAmount = 0;\n        switch (e.field) {\n          case \"item\":\n            // this.attribute_ = this.attributes.filter(m => m.type.id === dataRow.variant.id)\n            dataRow.set(\"description\", dataRow.item.description);\n            buom = dataRow.item.uom || {};\n            dataRow.set(\"buom\", buom);\n            // dataRow.set('uom', buom)\n            // window.console.log(dataRow.item,'row')\n            // await this.inventoryBalance(dataRow, dataRow.item.id)\n            break;\n          case \"cost\":\n            try {\n              amount = parseFloat(dataRow.cost) * parseFloat(dataRow.qty);\n              xAmount = amount * parseFloat(this.purchase.txnRate);\n\n              dataRow.set(\"cost\", parseFloat(dataRow.cost));\n              dataRow.set(\"amount\", amount);\n              dataRow.set(\"exchangeAmount\", xAmount);\n              // window.console.log('price',dataRow.price)\n            } catch {\n              dataRow.set(\"cost\", 0);\n              dataRow.set(\"amount\", 0);\n              dataRow.set(\"exchangeAmount\", 0);\n            }\n            break;\n          case \"uom\":\n            if (this.isPriceLevelChanged === false) {\n              try {\n                if (dataRow.uom) {\n                  buom = dataRow.uom.buom || {};\n                  qoh = dataRow.uom.qoh || 0;\n                  conversionRate = dataRow.uom.conversionRate || 1;\n                  wac = dataRow.uom.wac || 0;\n                  dataRow.set(\"buom\", buom);\n                  dataRow.set(\"wac\", wac);\n                  dataRow.set(\"qoh\", qoh);\n                  /* todo: mapping tax object */\n                  vTax = this.taxMapping(\n                    this.tax,\n                    dataRow.uom.purchaseTax || {}\n                  );\n\n                  dataRow.set(\"vatTax\", vTax);\n                  dataRow.set(\"conversionRate\", parseFloat(conversionRate));\n                  if (dataRow.uom) {\n                    amount =\n                      parseFloat(dataRow.uom.cost) * parseFloat(dataRow.qty);\n                    xAmount = amount * parseFloat(this.purchase.txnRate);\n\n                    dataRow.set(\"cost\", parseFloat(dataRow.uom.cost));\n                    dataRow.set(\"amount\", amount);\n                    dataRow.set(\"exchangeAmount\", xAmount);\n                  } else {\n                    amount = parseFloat(dataRow.cost) * parseFloat(dataRow.qty);\n                    xAmount = amount * parseFloat(this.purchase.txnRate);\n\n                    dataRow.set(\"cost\", parseFloat(dataRow.cost));\n                    dataRow.set(\"amount\", amount);\n                    dataRow.set(\"exchangeAmount\", xAmount);\n                  }\n                }\n              } catch (err) {\n                window.console.log(\"error\", err);\n                dataRow.set(\"buom\", {});\n                dataRow.set(\"conversionRate\", 1);\n                dataRow.set(\"cost\", 0);\n                dataRow.set(\"qoh\", 0);\n                dataRow.set(\"wac\", 0);\n                dataRow.set(\"amount\", 0);\n                dataRow.set(\"exchangeAmount\", 0);\n              }\n            }\n            break;\n          case \"qty\":\n            try {\n              amount = parseFloat(dataRow.cost) * parseFloat(dataRow.qty);\n              xAmount = amount * parseFloat(this.purchase.txnRate);\n\n              dataRow.set(\"cost\", parseFloat(dataRow.cost));\n              dataRow.set(\"amount\", amount);\n              dataRow.set(\"exchangeAmount\", xAmount);\n            } catch {\n              dataRow.set(\"cost\", 0);\n              dataRow.set(\"amount\", 0);\n              dataRow.set(\"exchangeAmount\", 0);\n            }\n            break;\n          case \"otherTax\":\n            // window.console.log(\"--\", dataRow)\n            break;\n          default:\n            break;\n        }\n        if (e.field) {\n          this.autoCalculate();\n          window.console.log(\"dataRow\", dataRow);\n        }\n      }\n    },\n    ServiceDateEditor(container, options) {\n      kendo\n        .jQuery('<input required name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDatePicker();\n\n      // let ds = this.$refs.itemLineDS.kendoWidget()\n      // window.console.log(ds.data())\n      // // const dateString = kendo.toString((new Date(options.model.items.serviceDate)), this.itemLine.dateFormat)\n      // // const dateString = kendo.toString(options.model.items.serviceDate)\n      // const $input = $(\"<input value=\" + options.model.serviceDate + \" />\").appendTo(container)\n      // $input.kendoDatePicker()\n      // // $input.appendTo(container)\n      // // options.model.items.serviceDate = dateString\n      // window.console.log($input)\n    },\n    ServiceDateToEditor(container, options) {\n      kendo\n        .jQuery('<input required name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDatePicker();\n    },\n    ItemDropDownEditor(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: true,\n          autoWidth: true,\n          height: 400,\n          filter: \"contains\",\n          dataTextField: \"name\",\n          dataValueField: \"id\",\n          headerTemplate:\n            '<div class=\"dropdown-header k-widget k-header\">' +\n            \"<span>Items </span>\" +\n            \"<span></span>\" +\n            \"</div>\",\n          template: \"<span>#=name#</span>\",\n          optionLabel: \"--- Select ---\",\n          dataSource: new kendo.data.DataSource({\n            serverFiltering: true,\n            transport: {\n              read: {\n                url: productVariantHandler.itemSearchURL(),\n              },\n              dataType: \"json\",\n            },\n            schema: {\n              model: {\n                id: \"id\",\n                fields: {\n                  id: { type: \"string\" },\n                  name: { type: \"string\" },\n                  sku: { type: \"string\" },\n                },\n              },\n              data: function (response) {\n                return response.data;\n              },\n              total: function (response) {\n                return response.data.count;\n              },\n            },\n            // data: this.variants\n          }),\n        });\n    },\n    UOMDropDownEditor(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: true,\n          autoWidth: true,\n          height: 400,\n          filter: \"startswith\",\n          dataTextField: \"code\",\n          dataValueField: \"uomConvertId\",\n          cascadeFrom: \"item\",\n          template: \"<span>#=code || ``#</span>\",\n          optionLabel: \"--- Select ---\",\n          dataSource: new kendo.data.DataSource({\n            serverFiltering: true,\n            transport: {\n              read: {\n                url: uomPriceHandler.uomPriceByPriceLevelURL(\n                  \"id=\" +\n                    options.model.item.id +\n                    \"&plId=\" +\n                    this.purchase.priceLevel.id +\n                    \"&date=\" +\n                    this.txnDate +\n                    \"&nature=purchase\"\n                ),\n              },\n              dataType: \"json\",\n            },\n            schema: {\n              model: {\n                id: \"id\",\n                fields: {\n                  id: { type: \"string\" },\n                  // name: {type: \"string\"},\n                  // sku: {type: \"string\"},\n                },\n              },\n              data: function (response) {\n                return response.data;\n              },\n              total: function (response) {\n                return response.data.count;\n              },\n            },\n            // data: this.variants\n          }),\n        });\n    },\n    DiscountItemDropDownEditor(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: true,\n          autoWidth: true,\n          height: 400,\n          filter: \"startswith\",\n          dataTextField: \"name\",\n          dataValueField: \"id\",\n          cascadeFrom: \"item\",\n          template: \"<span>#=code# - #=name#</span>\",\n          optionLabel: \"--- Select ---\",\n          dataSource: new kendo.data.DataSource({\n            serverFiltering: true,\n            transport: {\n              read: {\n                url: discountItemHandler.getURL(DISCOUNT_TYPE),\n              },\n              dataType: \"json\",\n            },\n            schema: {\n              model: {\n                id: \"id\",\n                fields: {\n                  id: { type: \"string\" },\n                  // name: {type: \"string\"},\n                  // sku: {type: \"string\"},\n                },\n              },\n              data: function (response) {\n                return response.data;\n              },\n              total: function (response) {\n                return response.data.count;\n              },\n            },\n          }),\n        });\n    },\n    VatTaxDropDownEditor(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: true,\n          autoWidth: true,\n          height: 400,\n          filter: \"startswith\",\n          dataTextField: \"defaultTax\",\n          dataValueField: \"id\",\n          template: \"<span>#=defaultTax#</span>\",\n          optionLabel: \"--Select--\",\n          dataSource: new kendo.data.DataSource({\n            data: this.tax,\n          }),\n        });\n    },\n    EmployeeDropDownEditor(container, options) {\n      kendo\n        .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoMultiSelect({\n          autoBind: true,\n          autoWidth: true,\n          height: 400,\n          suggest: true,\n          filter: \"contains\",\n          dataTextField: \"name\",\n          dataValueField: \"id\",\n          headerTemplate:\n            '<div class=\"dropdown-header k-widget k-header\">' +\n            \"<span>Employee </span>\" +\n            \"<span></span>\" +\n            \"</div>\",\n          template: \"<span>#=name#</span>\",\n          optionLabel: \"--- Select ---\",\n          dataSource: new kendo.data.DataSource({\n            serverFiltering: true,\n            transport: {\n              read: {\n                url: employeeHandler.searchURL(),\n              },\n              dataType: \"json\",\n            },\n            schema: {\n              model: {\n                id: \"id\",\n                fields: {\n                  id: { type: \"string\" },\n                  name: { type: \"string\" },\n                  firstName: { type: \"string\" },\n                  lastName: { type: \"string\" },\n                },\n              },\n              data: function (response) {\n                return response.data;\n              },\n              total: function (response) {\n                return response.data.count;\n              },\n            },\n          }),\n        });\n    },\n    rowNumberTmpl(dataItem) {\n      let ds = this.$refs.itemLineDS.kendoWidget(),\n        index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    addRow() {\n      let ds = this.$refs.itemLineDS.kendoWidget(),\n        total = ds.total();\n      this.itemLine.id = itemLinePrefix + uuid.v1();\n      this.itemLine.decimalFormat = \"n\" + this.purchaseFormContent.decimal;\n      this.itemLine.isEditable = true;\n      ds.insert(total, this.itemLine);\n\n      // kendo.jQuery().addClass('edit')\n      // this.itemLines.push(this.itemLine)\n      // window.console.log('item Line', this.itemLine)\n    },\n    onPaymentTermChanged() {\n      // this.onInvoiceDateChanged();\n      if (this.vendor) {\n        const paymentTerm = this.purchase.paymentTerm || {};\n        const netDue = paymentTerm.netDue || 0;\n        const someDate = new Date(this.purchase.transactionDate);\n        someDate.setDate(someDate.getDate() + parseInt(netDue)); //number  of days to add, e.x. 15 days\n        this.purchase.dueDate = someDate;\n        // window.console.log(\"im\", someDate, netDue);\n      }\n    },\n    async onInvoiceDateChanged() {\n      await this.loadPaymentTermList();\n      await this.loadCreditLimit();\n      await this.loadCustomerBalance(this.vendor.id);\n      await this.onPriceLevelChange();\n\n      this.monthOf = kendo.toString(new Date(this.txnDate), \"yyyy-MM\");\n      // if (this.vendor) {\n      //     if (this.purchase.hasOwnProperty(\"paymentTerm\")) {\n      //         if (this.purchase.paymentTerm.hasOwnProperty(\"netDue\")) {\n      //             const netDue = this.purchase.paymentTerm.netDue;\n      //             const someDate = new Date(this.txnDate);\n      //             someDate.setDate(someDate.getDate() + parseInt(netDue)); //number  of days to add, e.x. 15 days\n      //             this.purchase.dueDate = someDate.toISOString().substr(0, 10);\n      //             // window.console.log('im', someDate, netDue)\n      //         }\n      //     }\n      // }\n      if (this.$route.params.id === undefined) {\n        this.generateNumber();\n      }\n      this.loadTransactionRate();\n    },\n    async loadPrefix() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          prefixHandler.get(\"purchase\").then((res) => {\n            if (res.data.statusCode === 200) {\n              this.showLoading = false;\n              this.purchaseTypes = res.data.data;\n              if (this.purchaseTypes.length > 0) {\n                this.purchase.transactionType = this.purchaseTypes[0];\n                if (this.$route.params.id === undefined) {\n                  this.generateNumber();\n                }\n              }\n            }\n          });\n        }, 10);\n      });\n    },\n    async loadPriceLevel() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          const strFilter = \"?&nature=\" + NATURE;\n          priceLevelHandler.get(strFilter).then((res) => {\n            this.priceLevel = res;\n            if (this.priceLevel.length > 0) {\n              this.purchase.priceLevel = this.priceLevel[0];\n            }\n          });\n        }, 10);\n      });\n    },\n    async loadDiscountItem() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          discountItemHandler.list(DISCOUNT_TYPE).then((res) => {\n            if (res.data.statusCode === 200) {\n              this.specificDiscountItem = res.data.data;\n            }\n          });\n        }, 10);\n      });\n    },\n    async loadOtherCharge() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          otherChargeHandler.list().then((res) => {\n            if (res.data.statusCode === 200) {\n              this.otherChargeList = res.data.data;\n            }\n          });\n        }, 10);\n      });\n    },\n    async loadAccount() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          accountHandler.getAll().then((res) => {\n            this.showLoading = false;\n            //Receivable Account\n            this.accPayable = res.data\n              .filter((m) => m.account_type.number === 18)\n              .map((itm) => {\n                return {\n                  id: itm.uuid,\n                  uuid: itm.uuid,\n                  name: itm.name,\n                  local_name: itm.local_name,\n                  number: itm.number,\n                  is_taxable: itm.is_taxable,\n                  banhjiAccCode: itm.banhjiAccCode,\n                  group_code: itm.group_code,\n                  parent_account: itm.parent_account,\n                  type_code: itm.type_code,\n                  account_type: itm.account_type,\n                };\n              });\n            if (this.accPayable.length > 0) {\n              this.purchase.apAcc = this.accPayable[0];\n            }\n            this.accWithholdingExpense = res.data\n              .filter((m) => parseInt(m.banhjiAccCode) === 843000)\n              .map((itm) => {\n                return {\n                  id: itm.uuid,\n                  uuid: itm.uuid,\n                  name: itm.name,\n                  local_name: itm.local_name,\n                  number: itm.number,\n                  is_taxable: itm.is_taxable,\n                  banhjiAccCode: itm.banhjiAccCode,\n                  group_code: itm.group_code,\n                  parent_account: itm.parent_account,\n                  type_code: itm.type_code,\n                  account_type: itm.account_type,\n                };\n              });\n          });\n        }, 10);\n      });\n    },\n    async loadPaymentTerm() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          const strFilter = \"?type=pmt-supplier\";\n          this.paymentTerms = [];\n          settingsHandler.getPaymentTerm(strFilter).then((res) => {\n            this.showLoading = false;\n            this.paymentTerms = res.data.data;\n            if (this.paymentTerms.length > 0) {\n              this.purchase.paymentTerm = this.paymentTerms[0];\n            }\n          });\n        }, 10);\n      });\n    },\n    async loadLocation() {\n      this.locations = [];\n      const roleType = dataStore.roleType || 0;\n      window.console.log(\n        \" const roleType = dataStore.roleType || 0\",\n        dataStore\n      );\n      if (roleType === 0) {\n        if (dataStore.roleData) {\n          const roleData = dataStore.roleData || [];\n          const location = roleData.filter((itm) => itm.type === \"location\");\n          const locationDefault = location.filter((m) => m.isDefault === 1);\n          this.locations = location;\n          if (\n            this.$route.params.id === undefined ||\n            this.$route.params.id === \"\"\n          ) {\n            if (locationDefault.length > 0) {\n              this.purchase.location = locationDefault[0];\n            }\n          }\n        }\n      } else if (roleType === 1) {\n        new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(\"resolved\");\n            this.locations = [];\n            locationHandler.list().then((res) => {\n              if (res.data.statusCode === 200) {\n                this.locations = res.data.data;\n                if (this.locations.length > 0) {\n                  this.purchase.location = this.locations[0];\n                }\n              } else {\n                this.showLoading = false;\n              }\n            });\n          }, 10);\n        });\n      }\n    },\n    async loadProjectByCustomer() {\n      this.customerProjects = [];\n      const roleType = dataStore.roleType || 0;\n      if (roleType === 0) {\n        if (dataStore.roleData) {\n          const roleData = dataStore.roleData || [];\n          const project = roleData.filter((itm) => itm.type === \"project\");\n          this.customerProjects = project;\n          // project.forEach(k => {\n          //     const customers = k.customers || []\n          //     const proCustomer = customers.filter(n => n.customer.id === this.customer.id)\n          //     if (proCustomer.length > 0) {\n          //         this.customerProjects.push(k)\n          //     }\n          // })\n          if (\n            this.$route.params.id === undefined ||\n            this.$route.params.id === \"\"\n          ) {\n            const projectDefault = this.customerProjects.filter(\n              (m) => m.isDefault === 1\n            );\n            if (projectDefault.length > 0) {\n              this.purchase.project = projectDefault[0];\n            }\n          }\n        }\n      } else if (roleType === 1) {\n        new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(\"resolved\");\n            if (this.vendor) {\n              // projectHandler.getBySupplier(this.vendor.id).then(res => {\n              projectHandler.list().then((res) => {\n                if (res.data.statusCode === 200) {\n                  this.showLoading = false;\n                  this.customerProjects = res.data.data;\n                  // if (this.customerProjects.length > 0) {\n                  //     this.purchase.project = this.customerProjects[0];\n                  // }\n                } else {\n                  this.showLoading = false;\n                }\n              });\n            }\n          }, 10);\n        });\n      }\n    },\n    async loadCustomerBalance(id) {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          const strFilter = id + \"?type=bal\";\n          this.purchase.currentBalance = 0;\n          billingHandler\n            .balance(strFilter)\n            .then((res) => {\n              if (res.data.statusCode === 200) {\n                const data = res.data.data;\n                if (data.length > 0) {\n                  this.purchase.currentBalance = data[0].balance;\n                }\n              }\n            })\n            .catch();\n          {\n            this.showLoading = false;\n          }\n        }, 10);\n      });\n    },\n    async loadCustomerDepositBalance(id) {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          const strFilter = id + \"?type=dep\";\n          this.purchase.depositAmount = 0;\n          this.purchase.depositDeduction = 0;\n          billingHandler\n            .balance(strFilter)\n            .then((res) => {\n              if (res.data.statusCode === 200) {\n                const data = res.data.data;\n                if (data.length > 0) {\n                  const amountDeposit = data[0].balance;\n                  window.console.log(amountDeposit, \"bala\");\n                  this.purchase.depositAmount =\n                    amountDeposit / this.purchase.txnRate;\n                }\n              }\n            })\n            .catch();\n          {\n            this.showLoading = false;\n          }\n        }, 10);\n      });\n    },\n    creditLimitUsage(balance, creditLimit) {\n      return (\n        kendo.toString(\n          (balance / creditLimit) * 100,\n          `n${this.purchaseFormContent.decimal}`\n        ) + \" %\"\n      );\n    },\n    async loadEmployeeCenter() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          this.employees = [];\n          employeeHandler\n            .center(undefined)\n            .then((res) => {\n              this.showLoading = true;\n              if (res.data.statusCode === 200) {\n                this.showLoading = false;\n                this.employees = res.data.data;\n                if (this.employees.length > 0) {\n                  this.purchase.employee = this.employees[0];\n                }\n              }\n            })\n            .catch();\n          {\n            this.showLoading = false;\n          }\n        }, 10);\n      });\n    },\n    async loadSegment() {\n      this.segments = [];\n      const roleType = dataStore.roleType || 0;\n      if (roleType === 0) {\n        if (dataStore.roleData) {\n          const roleData = dataStore.roleData || [];\n          const segment = roleData.filter((itm) => itm.type === \"segment\");\n          const segmentDefault = segment.filter((m) => m.isDefault === 1);\n          this.segments = segment;\n          if (\n            this.$route.params.id === undefined ||\n            this.$route.params.id === \"\"\n          ) {\n            if (segmentDefault.length > 0) {\n              this.purchase.segment = segmentDefault[0];\n              window.console.log(\"dataStore--segmentDefault\", segmentDefault);\n            }\n          }\n        }\n      } else if (roleType === 1) {\n        new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(\"resolved\");\n            this.segments = [];\n            settingsHandler.getSeg().then((res) => {\n              if (res.data.statusCode === 200) {\n                this.segments = res.data.data;\n                if (this.segments.length > 0) {\n                  this.purchase.segment = this.segments[0];\n                }\n              }\n            });\n          }, 10);\n        });\n      }\n    },\n    async loadTax() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          settingHandler.get().then((res) => {\n            const taxes = res;\n            this.tax = taxes.filter(\n              (m) =>\n                (m.taxType.typeId === 1 ||\n                  m.taxType.typeId === 10 ||\n                  m.taxType.typeId === 2) &&\n                m.transactionType === \"Purchase\"\n            ); // valuable tax\n          });\n        }, 10);\n      });\n    },\n    async onSaveClose(saveSend) {\n      if (!this.$refs.form.validate()) {\n        this.$refs.form.validate();\n        return;\n      }\n      if (this.transactionRate === 0) {\n        this.$snotify.error(i18n.t(\"set_exchange_rate\"));\n        return;\n      }\n\n      let id = \"\";\n      if (this.vendor.hasOwnProperty(\"id\")) {\n        id = this.vendor.id || \"\";\n      }\n      if (id === \"\") {\n        this.$snotify.error(\"vendor is required\");\n        return;\n      }\n      if (this.purchase.billNo == \"\") {\n        this.$snotify.error(\"Vendor Invoice No is required\");\n        return;\n      }\n      if (!this.$refs.form.validate()) {\n        this.$refs.form.validate();\n        return;\n      }\n      let ds = this.$refs.itemLineDS.kendoWidget();\n      let d1 = ds.data();\n      let dataValidate = 0;\n      await this.autoCalculate();\n      d1.forEach((value, index) => {\n        if (\n          value.item == undefined ||\n          value.item.id == undefined ||\n          value.item.id == null ||\n          value.uom == undefined ||\n          value.uom.uom.id == undefined ||\n          value.uom.uom.id == null\n        ) {\n          this.$snotify.error(\n            \"Please check Item or UOM  on row \" + (index + 1)\n          );\n        } else {\n          dataValidate += 1;\n        }\n      });\n      if (d1.length == dataValidate) {\n        new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(\"resolved\");\n            let isAutoGenerate = 1;\n            if (this.$route.params.id) {\n              const tranDate = new Date(this.txnDate);\n              const tranDateInvoice = new Date(this.purchase.transactionDate);\n              const tranDateM = tranDate.getFullYear() + tranDate.getMonth();\n              const tranDateInvoiceM =\n                tranDateInvoice.getFullYear() + tranDateInvoice.getMonth();\n              if (tranDateM === tranDateInvoiceM) {\n                isAutoGenerate = 0;\n              }\n            }\n\n            let itemLineDS = this.$refs.itemLineDS.kendoWidget();\n            const dataRow = itemLineDS\n              .data()\n              .filter((o) => o.amount > 0)\n              .map((n) => {\n                return new ItemLineModel(n);\n              });\n            if (dataRow.length > 0) {\n              let data = {\n                id: this.purchase.id ? this.purchase.id : \"\",\n                uuid: this.purchase.uuid ? this.purchase.uuid : \"\",\n                journal_uuid: this.purchase.journal_uuid\n                  ? this.purchase.journal_uuid\n                  : \"\",\n                jRaw: this.jRaw,\n                type: TRANSACTION_TYPE,\n                number: this.purchase.number,\n                abbr: this.purchase.transactionType.abbr,\n                transactionDate: this.txnDate,\n                transactionDateTZ: Helper.toISODate(this.txnDate),\n                dueDate: this.purchase.dueDate,\n                monthOf: this.monthOf,\n                paymentCode: this.purchase.paymentCode,\n                billNo: this.purchase.billNo,\n                billDate: this.billDate,\n                supplier: this.purchase.supplier,\n                transactionType: this.purchase.transactionType,\n                paymentTerm: this.purchase.paymentTerm,\n                discountPromotion: {},\n                apAcc: this.purchase.apAcc,\n                currency: this.purchase.currency,\n                txnRate: this.purchase.txnRate,\n                rate: 1,\n                exchangeRate: this.purchase.exchangeRate,\n                exchangeAmount: this.purchase.exchangeAmount,\n                priceLevel: this.purchase.priceLevel,\n                itemLines: dataRow,\n                segment: this.purchase.segment,\n                location: this.purchase.location,\n                project: this.purchase.project,\n                employee: this.purchase.employee,\n                billingAddress: this.purchase.billingAddress,\n                deliveryAddress: this.purchase.deliveryAddress,\n                deliveryDateTime: this.purchase.deliveryDateTime,\n                transactionNote: this.purchase.transactionNote,\n                journalNote: this.purchase.journalNote,\n                subTotal: this.purchase.subTotal,\n                total: this.purchase.total,\n                discountTotal: this.purchase.discountTotal,\n                exchangeDiscountTotal:\n                  this.purchase.discountTotal * (this.purchase.txnRate || 1),\n                specificDiscountTotal: this.purchase.specificDiscountTotal,\n                deliveryFee: this.purchase.deliveryFee,\n                totalTaxAmount: this.purchase.totalTaxAmount,\n                depositAmount: this.purchase.depositAmount,\n                depositDeduction: this.purchase.depositDeduction,\n                remainingAmount: this.purchase.remainingAmount,\n                amountDue: this.purchase.amountDue,\n                currentBalance: this.purchase.currentBalance,\n                balance: this.purchase.balance,\n                creditLimit: this.purchase.creditLimit,\n                saveOption: this.purchase.saveOption,\n                status: 1,\n                approvedBy: this.purchase.approvedBy,\n                formTemplate: {},\n                specificDiscountItem: this.purchase.specificDiscountItem,\n                otherCharge: this.mOtherCharge,\n                otherChargeAmount: this.purchase.otherChargeAmount,\n                taxListTotal: this.taxListTotal,\n                supplierDiscountItem: this.supplierDiscountItem,\n                createdAt: this.purchase.createdAt,\n                itemSubtotal: this.purchase.itemSubtotal,\n                exchangeItemSubtotal: this.purchase.exchangeItemSubtotal,\n                serviceSubtotal: this.purchase.serviceSubtotal,\n                exchangeServiceSubtotal: this.purchase.exchangeServiceSubtotal,\n                txnItmSubtotal: this.purchase.txnItmSubtotal,\n                exchangeTxnItmSubtotal: this.purchase.exchangeTxnItmSubtotal,\n                itemDiscount: this.purchase.itemDiscount,\n                exchangeItemDiscount: this.purchase.exchangeItemDiscount,\n                serviceDiscount: this.purchase.serviceDiscount,\n                exchangeServiceDiscount: this.purchase.exchangeServiceDiscount,\n                txnItmDiscount: this.purchase.txnItmDiscount,\n                exchangeTxnItmDiscount: this.purchase.exchangeTxnItmDiscount,\n                withholdingTaxAmount: this.purchase.withholdingTaxAmount || 0,\n                inclusiveTaxAmount: this.purchase.inclusiveTaxAmount || 0,\n                loggedUser: this.loggedUser,\n                saveSend: saveSend,\n                refFrom: this.purchase.refFrom || [],\n                refTo: this.purchase.refTo || [],\n                saleTaxDetail: this.purchase.saleTaxDetail || [],\n                hasAdditionalCost: this.purchase.additionalCost.length > 0,\n                additionalCost: this.purchase.additionalCost || [],\n                additionalCostMethod: this.purchase.additionalCostMethod || \"\",\n                additionalCostTotal: this.additionalCostTotal || 0,\n                isAutoGenerate: isAutoGenerate,\n                actionType: this.$route.params.id\n                  ? this.$route.query.type\n                  : \"new\",\n              };\n              if (this.$route.query.type === \"recurring\") {\n                data.id = \"\";\n              }\n              this.showLoading = true;\n              billingHandler\n                .createPurchase(data)\n                .then((response) => {\n                  if (response.data.statusCode === 201) {\n                    // this.close(response.data.data)\n                    // this.$refs.form.reset()\n                    this.showLoading = false;\n                    this.$snotify.success(\"Successfully\");\n                    if (saveSend === true) {\n                      this.clear();\n                    } else {\n                      this.close(response.data.data);\n                    }\n                  }\n                })\n                .catch((e) => {\n                  this.showLoading = false;\n                  this.$snotify.error(\"Something went wrong\");\n                  this.errors.push(e);\n                });\n            }\n          }, 50);\n        });\n      }\n    },\n    async loadPurchaseFormContent() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          purchaseFormContentHandler.list().then((res) => {\n            if (res.data.statusCode === 200) {\n              const data = res.data.data;\n              if (data.length > 0) {\n                this.purchaseFormContent = data[0];\n                this.decimalFormat = \"n\" + this.purchaseFormContent.decimal;\n                this.initData();\n              }\n            }\n          });\n        }, 50);\n      });\n    },\n    close(data) {\n      if (this.$route.params.id === undefined) {\n        this.$router.push({\n          name: \"Vendors\",\n          params: {\n            data: data,\n          },\n        });\n      } else {\n        window.history.go(-1);\n        // this.$router.push({\n        //     path: \"invoice_view\",\n        //     name: \"Invoice View\",\n        //     params: {\n        //         data: data,\n        //     }\n        // })\n      }\n      // window.console.log(data, 'data')\n    },\n    saveNew() {},\n    removeRow(e) {\n      e.preventDefault();\n      const grid = kendo.jQuery(\"#gridItemLine\").data(\"kendoGrid\"),\n        dataSource = grid.dataSource,\n        dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n      if (dataSource.total() > 1) {\n        dataSource.remove(dataItem);\n        this.autoCalculate();\n      }\n    },\n    generateNumber() {\n      if (this.$route.params.id) {\n        const tranDate = new Date(this.txnDate);\n        const tranDateInvoice = new Date(this.purchase.transactionDate);\n        const tranDateM = tranDate.getFullYear() + tranDate.getMonth();\n        const tranDateInvoiceM =\n          tranDateInvoice.getFullYear() + tranDateInvoice.getMonth();\n        if (tranDateM === tranDateInvoiceM) {\n          this.purchase.referenceNo = this.referenceNo;\n          return;\n        }\n      }\n\n      if (this.txnDate !== \"\" && this.purchaseTypes.length > 0) {\n        let data = {\n          abbr: this.purchase.transactionType.abbr,\n          structure: this.purchase.transactionType.structure,\n          transactionDate: this.txnDate,\n          sequcencing: this.purchase.transactionType.sequcencing,\n          type: \"Purchase\",\n          entity: 1,\n        };\n        billingHandler\n          .lastNumber(data)\n          .then((response) => {\n            if (response.data.statusCode === 200) {\n              const res = response.data.data;\n              const lastNumber = this.zeroPad(\n                parseInt(res.lastNumber),\n                this.purchase.transactionType.format\n              );\n              const number =\n                res.suffix +\n                this.purchase.transactionType.numberSeparator +\n                lastNumber;\n              this.purchase.number = number;\n            }\n          })\n          .catch((e) => {\n            this.errors.push(e);\n          });\n      }\n    },\n    zeroPad(num, places) {\n      return String(num).padStart(places, \"0\");\n    },\n    suffix(transactionDate) {\n      return kendo.toString(new Date(transactionDate), `yymm`);\n    },\n    errorMessage() {},\n    accountDropDownEditor() {},\n    cancel() {\n      this.$swal({\n        title: i18n.t(\"msg_title_warning\"),\n        text: i18n.t(\"msg_discard\"),\n        icon: \"warning\",\n        showCancelButton: true,\n        cancelButtonText: i18n.t(\"cancel\"),\n        confirmButtonColor: \"#4d4848\",\n        cancelButtonColor: \"#ED1A3A\",\n        confirmButtonText: i18n.t(\"discard\"),\n      }).then((resultCen) => {\n        window.console.log(resultCen);\n        if (resultCen.value) {\n          this.$destroy();\n          this.$router.go(-1);\n        }\n      });\n    },\n    hideSmallSidebar() {\n      this.isHideBar = !this.isHideBar;\n    },\n    requestData(skip, filter, baseUrl) {\n      const url = baseUrl + `?filter=${filter}`;\n      this.requestStarted = true;\n      fetch(url)\n        .then((response) => {\n          return response.json();\n        })\n        .then(this.afterFetch);\n    },\n    requestData_(skip, filter, baseUrl) {\n      const url = baseUrl + `/${filter}`;\n      this.requestStarted = true;\n      fetch(url)\n        .then((response) => {\n          return response.json();\n        })\n        .then(this.afterFetch_);\n    },\n    onChange(event) {\n      const value = event.value;\n      if (value && value[textField] === emptyItem[textField]) {\n        return;\n      }\n      this.vendor = value;\n      this.purchase.supplier = value;\n      // window.console.log(this.purchase.customer, 'Changed')\n      // this.invoice = value\n      this.purchase.apAcc = value.hasOwnProperty(\"apAcc\") ? value.apAcc : {};\n      this.purchase.paymentTerm = value.paymentTerm || {};\n      this.purchase.priceLevel = value.priceLevel || {};\n      const baseCurrency = value.baseCurrency || {};\n      if (baseCurrency.hasOwnProperty(\"code\")) {\n        this.baseCurrencyCode = \" \" + baseCurrency.code;\n      }\n      // this.loadTransactionRate();\n      this.billingAddress = value.hasOwnProperty(\"billingAddress\")\n        ? value.billingAddress\n        : [];\n      this.deliveryAddress = value.hasOwnProperty(\"deliveryAddress\")\n        ? value.deliveryAddress\n        : [];\n      if (this.billingAddress.length > 0) {\n        this.purchase.billingAddress = this.billingAddress[0];\n      }\n      if (this.deliveryAddress.length > 0) {\n        this.purchase.deliveryAddress = this.deliveryAddress[0];\n      }\n      this.expenses = [];\n      this.onInvoiceDateChanged();\n      this.loadProjectByCustomer();\n      // this.loadCustomerBalance(this.vendor.id);\n      // const creditLimit = value.hasOwnProperty(\"creditLimit\")\n      //     ? value.creditLimit\n      //     : 0;\n      // this.purchase.creditLimit = kendo.parseFloat(creditLimit);\n      // window.console.log(value, 'value')\n    },\n    onEmployeeChanged(event) {\n      const value = event.value;\n      if (value && value[textField] === emptyItem[textField]) {\n        return;\n      }\n      this.mEmployee = value;\n      this.purchase.employee = value;\n    },\n    afterFetch(json) {\n      this.vendorList = json.data;\n    },\n    afterFetch_(json) {\n      this.employees = json.data;\n    },\n    onFilterChange(event) {\n      const filter = event.filter.value;\n      this.requestData(0, filter, this.cusBaseUrl);\n      this.filter = filter;\n    },\n    onEmployeeFilterChanged(event) {\n      const filter = event.filter.value;\n      this.requestData_(0, filter, this.empBaseUrl);\n      this.filter_ = filter;\n    },\n    async initData() {\n      if (this.$route.params.id !== undefined) {\n        await this.loadViewCreditPurchase();\n      } else {\n        this.clear();\n        // this.addRow();\n      }\n    },\n    async loadViewCreditPurchase() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          this.showLoading = true;\n          if (this.$route.params.id) {\n            billingHandler\n              .viewPurchase(this.$route.params.id)\n              .then((res) => {\n                if (res.data.statusCode === 200) {\n                  this.showLoading = false;\n                  this.purchase = res.data.data[0];\n                  this.referenceNo = this.purchase.referenceNo;\n                  this.txnDate = new Date(this.purchase.transactionDate);\n                  this.vendor = this.purchase.supplier;\n                  this.mEmployee = this.purchase.employee;\n                  this.taxListTotal = this.purchase.taxListTotal;\n                  this.itemLines = this.purchase.itemLines;\n                  this.mOtherCharge = this.purchase.otherCharge;\n                  this.supplierDiscountItem =\n                    this.purchase.supplierDiscountItem || [];\n                  this.jRaw = this.purchase.jRaw || [];\n                  this.expenses = this.purchase.additionalCost || [];\n                  this.additionalCostTotal =\n                    this.purchase.additionalCostTotal || 0;\n                  this.purchaseOrders = this.purchase.refFrom || [];\n                  this.monthOf = kendo.toString(\n                    new Date(this.purchase.monthOf),\n                    \"yyyy-MM\"\n                  );\n                  for (let i = 0; i < this.mOtherCharge.length - 1; i++) {\n                    this.addSelect();\n                  }\n                  const priceLevel = this.purchase.priceLevel || {};\n                  const currency = priceLevel.currency || {};\n                  const curCode = currency.code || \"\";\n                  this.currencyCode = curCode;\n                  // this.loadProjectByCustomer()\n                  if (this.vendor) {\n                    if (this.vendor.hasOwnProperty(\"id\")) {\n                      this.loadCustomerBalance(this.vendor.id);\n                    }\n                  }\n                  if (this.$route.query.type === \"recurring\") {\n                    if (this.$route.params.hasOwnProperty(\"transactionDate\")) {\n                      window.console.log(\"type\", this.$route.params);\n                      this.purchase.transactionDate = new Date(\n                        this.$route.params.transactionDate\n                      );\n                      this.txnDate = new Date(\n                        this.$route.params.transactionDate\n                      );\n                      this.onInvoiceDateChanged();\n                      this.generateNumber();\n                    }\n                  }\n                }\n              })\n              .catch();\n            {\n              this.showLoading = false;\n            }\n          }\n        }, 10);\n      });\n    },\n    clear() {\n      // this.loadAccount()\n      this.loadPriceLevel();\n      let ds = this.$refs.itemLineDS.kendoWidget();\n      ds.data([]);\n      this.id = undefined;\n      this.vendor = {};\n      this.mEmployee = {};\n      this.mOtherCharge = {};\n      this.purchaseOrders = [];\n      this.purchase = new PurchaseModel({});\n      this.purchase.transactionType = this.purchaseTypes[0];\n      this.monthOf = kendo.toString(\n        new Date(this.purchase.transactionDate),\n        \"yyyy-MM\"\n      );\n      this.addRow();\n      this.generateNumber();\n      this.loadSegment();\n      this.loadLocation();\n    },\n    async loadTransactionRate() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          const date = new Date(this.txnDate).toISOString().substr(0, 10);\n          const priceLevel = this.purchase.priceLevel;\n          let code = \"\";\n          if (priceLevel.hasOwnProperty(\"currency\")) {\n            if (priceLevel.currency.hasOwnProperty(\"code\")) {\n              code = priceLevel.currency.code;\n            }\n          }\n          if (code !== undefined || code !== \"\") {\n            this.showLoading = true;\n            currencyHandler\n              .getLastExchangeRateByDate(date, code)\n              .then((res) => {\n                if (res.data.statusCode === 200) {\n                  this.showLoading = false;\n                  this.exchangeRate = res.data.data[0];\n                  this.currencyCode = this.exchangeRate.code || \"\";\n                  this.transactionRate = this.exchangeRate.rate || 0;\n                  this.purchase.txnRate = this.exchangeRate.rate || 0;\n                  this.purchase.exchangeRate = this.exchangeRate || {};\n                  if (this.transactionRate === 0) {\n                    this.$snotify.error(i18n.t(\"set_exchange_rate\"));\n                    return;\n                  }\n                  this.showLoading = false;\n                  this.loadCustomerDepositBalance(this.vendor.id);\n                }\n              });\n          }\n          this.loadPurchaseOrder();\n        }, 10);\n      });\n    },\n    reload() {\n      if (this.$route.params.id !== undefined) {\n        this.loadViewCreditPurchase();\n      } else {\n        this.clear();\n      }\n    },\n    async loadPurchaseOrder() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          let segmentId = \"\",\n            locationId = \"\",\n            priceLevelId = \"\",\n            customerId = \"\",\n            txnDate = \"\";\n          if (this.purchase.segment) {\n            segmentId = this.purchase.segment.id;\n          }\n          if (this.purchase.location) {\n            locationId = this.purchase.location.id;\n          }\n          if (this.purchase.supplier) {\n            customerId = this.purchase.supplier.id;\n          }\n          if (this.purchase.priceLevel) {\n            priceLevelId = this.purchase.priceLevel.id;\n          }\n          if (this.purchase.transactionDate) {\n            txnDate = this.purchase.transactionDate;\n          }\n          let strFilter = \"\";\n          if (\n            segmentId !== \"\" &&\n            customerId !== \"\" &&\n            locationId !== \"\" &&\n            priceLevelId !== \"\" &&\n            txnDate !== \"\"\n          ) {\n            strFilter =\n              \"?id=\" +\n              customerId +\n              \"&segId=\" +\n              segmentId +\n              \"&locId=\" +\n              locationId +\n              \"&plId=\" +\n              priceLevelId +\n              \"&date=\" +\n              txnDate +\n              \"&type=Purchase Order\";\n          }\n          if (strFilter !== \"\") {\n            this.purchase.refFrom = [];\n            this.showLoadingTxn = true;\n            saleOrderHandler.transactionFilter(strFilter).then((res) => {\n              if (res.data.statusCode === 200) {\n                this.showLoadingTxn = false;\n                this.purchaseOrders = res.data.data;\n              } else {\n                this.showLoadingTxn = false;\n              }\n            });\n          }\n        }, 10);\n      });\n      await this.getExpenseBySupplier();\n    },\n    addPurchaseOrder(item) {\n      if (item) {\n        const itemLine = item.itemLines || [];\n        this.refFrom.push({\n          id: item.id || \"\",\n          reference: item.referenceNo || \"\",\n        });\n        let ds = this.$refs.itemLineDS.kendoWidget(),\n          total = ds.total();\n        itemLine.forEach((o) => {\n          this.itemLine = new ItemLineModel(o);\n          this.itemLine.id = itemLinePrefix + uuid.v1();\n          this.itemLine.decimalFormat = \"n\" + this.purchaseFormContent.decimal;\n          this.itemLine.sourceTransaction = {\n            id: item.id,\n            referenceNo: item.referenceNo,\n          };\n          this.itemLine.sourceTransactionRef = item.referenceNo;\n          ds.insert(total, this.itemLine);\n        });\n        this.itemLine = new ItemLineModel({});\n        this.autoCalculate();\n        const index = this.purchaseOrders.findIndex((itm) => {\n          return item.id === itm.id;\n        });\n        this.purchaseOrders.splice(index, 1);\n        this.purchase.refFrom = this.removeDuplicate(this.refFrom);\n      }\n    },\n    totalQty() {\n      let ds = this.$refs.itemLineDS.kendoWidget();\n      let qty = 0;\n      ds.data()\n        .filter((n) => n.amount > 0)\n        .forEach((m) => {\n          const itm = m.item || {};\n          const uom = m.uom || {};\n          if (itm.id && uom.uom && itm.type === \"Variant\") {\n            qty += (m.qty || 0) * (m.conversionRate || 1);\n          }\n        });\n      window.console.log(\"qty\", qty);\n      return qty;\n    },\n    excludeVATTaxInclusive(tax, amount, incTax) {\n      if (tax) {\n        const baseAmount = tax.baseAmount || \"\";\n        const taxType = tax.taxType || {};\n        const taxTypeId = taxType.typeId || 0;\n        if (baseAmount) {\n          if (baseAmount.toLowerCase() === \"inclusive\" && taxTypeId === 1) {\n            return amount - incTax;\n          }\n        }\n      }\n      return amount;\n    },\n    totalAmount() {\n      let ds = this.$refs.itemLineDS.kendoWidget();\n      let amount = 0;\n      ds.data()\n        .filter((n) => n.amount > 0)\n        .forEach((m) => {\n          const itm = m.item || {};\n          const uom = m.uom || {};\n          let incluTax = 0;\n          if (itm.id && uom.uom && itm.type === \"Variant\") {\n            const tax = m.vatTax || {};\n            const amount_ = m.amount || 0;\n            const baseAmount = tax.baseAmount || \"\";\n            if (baseAmount) {\n              if (baseAmount.toLowerCase() === \"inclusive\") {\n                incluTax = this.autoCalculateTax(tax, amount_);\n              }\n            }\n            amount += amount_ - (incluTax || 0);\n          }\n        });\n      window.console.log(\"amount x-\", amount);\n      return amount;\n    },\n    percentageApplied() {\n      try {\n        const tAmount = this.totalAmount();\n        let ds = this.$refs.itemLineDS.kendoWidget();\n        ds.data()\n          .filter((n) => n.amount > 0)\n          .forEach((m) => {\n            const itm = m.item || {};\n            const uom = m.uom || {};\n            let incluTax = 0;\n            if (itm.id && uom.uom && itm.type === \"Variant\") {\n              const tax = m.vatTax || {};\n              const amount = m.amount || 0;\n              const baseAmount = tax.baseAmount || \"\";\n              if (baseAmount) {\n                if (baseAmount.toLowerCase() === \"inclusive\") {\n                  incluTax = this.autoCalculateTax(tax, amount);\n                }\n              }\n              const amountAfterTax = amount - (incluTax || 0);\n              const pAmount = amountAfterTax / tAmount;\n              m[\"percentageApplied\"] = pAmount;\n            }\n          });\n        window.console.log(\"Qty Based--\", ds.data());\n      } catch (e) {\n        window.console.log(\"error\", e);\n      }\n    },\n    amountApplied() {\n      try {\n        let ds = this.$refs.itemLineDS.kendoWidget();\n        const adc = this.additionalCostTotal || 0;\n        ds.data()\n          .filter((n) => n.amount > 0)\n          .forEach((m) => {\n            const itm = m.item || {};\n            const uom = m.uom || {};\n            window.console.log(\"amountApplied==\", uom.uom, \"---\", itm.type);\n            if (itm.id && uom.uom && itm.type === \"Variant\") {\n              const percentageApplied = m.percentageApplied || 0;\n              window.console.log(\n                \"percentageApplied--\",\n                adc,\n                \"---\",\n                percentageApplied * adc\n              );\n              m[\"amountApplied\"] = percentageApplied * adc;\n            }\n          });\n        window.console.log(\"AMount Based--\", ds.data());\n      } catch (e) {\n        window.console.log(\"error\", e);\n      }\n    },\n    amountAppliedQtyBased() {\n      try {\n        let ds = this.$refs.itemLineDS.kendoWidget();\n        ds.data()\n          .filter((n) => n.amount > 0)\n          .forEach((m) => {\n            const itm = m.item || {};\n            const uom = m.uom || {};\n            if (itm.id && uom.uom && itm.type === \"Variant\") {\n              const addc = m.additionalCost || 0;\n              const qty = (m.qty || 1) * (m.conversionRate || 1);\n              m[\"amountApplied\"] = addc * qty;\n            }\n          });\n        window.console.log(\"amountAppliedQtyBased Based--\", ds.data());\n      } catch (e) {\n        window.console.log(\"error\", e);\n      }\n    },\n    async calculateAdditionalCost() {\n      try {\n        // todo: additional Cost\n        if (this.purchase.additionalCostMethod === \"Qty Based\") {\n          this.percentageApplied();\n        } else {\n          this.percentageApplied();\n          this.amountApplied();\n        }\n        if (this.purchase.additionalCostMethod === \"Qty Based\") {\n          const tQty = this.totalQty();\n          const addc = this.additionalCostTotal || 0;\n          let ds = this.$refs.itemLineDS.kendoWidget();\n          ds.data()\n            .filter((n) => n.amount > 0)\n            .forEach((m) => {\n              const itm = m.item || {};\n              const uom = m.uom || {};\n              if (itm.id && uom.uom && itm.type === \"Variant\") {\n                m[\"additionalCost\"] = addc / tQty;\n              }\n            });\n          window.console.log(\"qty based\", ds.data());\n        } else {\n          let ds = this.$refs.itemLineDS.kendoWidget();\n          ds.data()\n            .filter((n) => n.amount > 0)\n            .forEach((m) => {\n              const itm = m.item || {};\n              const uom = m.uom || {};\n              if (itm.id && uom.uom && itm.type === \"Variant\") {\n                const amountApplied = m.amountApplied || 0;\n                const qty = (m.qty || 0) * (m.conversionRate || 1);\n                m[\"additionalCost\"] = amountApplied / qty;\n              }\n            });\n        }\n        if (this.purchase.additionalCostMethod === \"Qty Based\") {\n          this.amountAppliedQtyBased();\n        }\n        await this.clearingAccount();\n      } catch (e) {\n        window.console.log(\"error\", e);\n      }\n    },\n    autoCalculateTaxDetail() {\n      let ids = [];\n      this.taxListDetail.forEach((n) => {\n        ids.push(n.id || \"\");\n      });\n      const unique = [...new Set(ids)];\n      let result = [];\n      unique.forEach((m) => {\n        let amount = 0,\n          row = {},\n          discount = 0,\n          xDiscount = 0,\n          xAmount = 0,\n          taxAmount = 0,\n          xTaxAmount = 0;\n        let taxDetail = [],\n          isVat = 0;\n        const found = this.taxListDetail.filter((n) => n.id === m);\n        // window.console.log('taxListDetailids', found)\n        found.forEach((k) => {\n          row = k;\n          if (k.isVat === 1) {\n            isVat = 1;\n            const detail_ = k.detail || {};\n            taxDetail.push(detail_);\n          }\n          taxAmount += k.taxAmount_ || 0;\n          xTaxAmount += (k.taxAmount_ || 0) * (k.txnRate || 1);\n          amount += k.amount || 0;\n          xAmount += (k.amount || 0) * (k.txnRate || 1);\n          discount += k.discount || 0;\n          xDiscount += (k.discount || 0) * (k.txnRate || 1);\n        });\n        let spTaxAmt = 0,\n          spXTaxAmt = 0,\n          plTaxAmt = 0,\n          plXTaxAmt = 0,\n          otTaxAmt = 0,\n          otXTaxAmt = 0,\n          spTaxName = \"\",\n          plTaxName = \"\",\n          otTaxName = \"\",\n          spTaxNameLocale = \"\",\n          plTaxNameLocale = \"\",\n          otTaxNameLocale = \"\",\n          spAccId = \"\",\n          plAccId = \"\",\n          otAccId = \"\",\n          spRate = \"\",\n          plRate = \"\",\n          otRate = \"\";\n        taxDetail.forEach((n) => {\n          const spTax = n.specificTax || {};\n          const plTax = n.publicLightingTax || {};\n          const otherTax = n.otherTax || {};\n          if (Object.keys(spTax).length > 0) {\n            spTaxAmt += spTax.taxAmount_ || 0;\n            spXTaxAmt += (spTax.taxAmount_ || 0) * (spTax.taxRate || 1);\n            spTaxName = spTax.defaultTax || \"\";\n            spTaxNameLocale = spTax.defaultTaxLocale || \"\";\n            spAccId = spTax.account ? spTax.account.id : \"\";\n            spRate = spTax.rate || 1;\n          }\n          if (Object.keys(plTax).length > 0) {\n            plTaxAmt += plTax.taxAmount_ || 0;\n            plXTaxAmt += (plTax.taxAmount_ || 0) * (plTax.taxRate || 1);\n            plTaxName = plTax.defaultTax || \"\";\n            plTaxNameLocale = plTax.defaultTaxLocale || \"\";\n            plAccId = plTax.account ? plTax.account.id : \"\";\n            plRate = plTax.rate || 1;\n          }\n          if (Object.keys(otherTax).length > 0) {\n            otTaxAmt += otherTax.taxAmount_ || 0;\n            otXTaxAmt += (otherTax.taxAmount_ || 0) * (plTax.taxRate || 1);\n            otTaxName = otherTax.defaultTax || \"\";\n            otTaxNameLocale = otherTax.defaultTaxLocale || \"\";\n            otAccId = otherTax.account ? otherTax.account.id : \"\";\n            otRate = otherTax.rate || 1;\n          }\n        });\n        if (isVat === 1) {\n          row.detail = {\n            specificTax: {\n              name: spTaxName,\n              nameLocale: spTaxNameLocale,\n              amount: spTaxAmt,\n              exchangeAmount: spXTaxAmt,\n              accountId: spAccId,\n              rate: spRate,\n            },\n            publicLightingTax: {\n              name: plTaxName,\n              nameLocale: plTaxNameLocale,\n              amount: plTaxAmt,\n              exchangeAmount: plXTaxAmt,\n              accountId: plAccId,\n              rate: plRate,\n            },\n            otherTax: {\n              name: otTaxName,\n              nameLocale: otTaxNameLocale,\n              amount: otTaxAmt,\n              exchangeAmount: otXTaxAmt,\n              accountId: otAccId,\n              rate: otRate,\n            },\n          };\n        } else {\n          row.detail = {};\n        }\n\n        row[\"amount\"] = amount;\n        row[\"exchangeAmount\"] = xAmount;\n        row[\"taxAmount\"] = taxAmount;\n        row[\"exchangeTaxAmount\"] = xTaxAmount;\n        row[\"discount\"] = discount;\n        row[\"exchangeDiscount\"] = xDiscount;\n        row[\"currency\"] = this.purchase.exchangeRate || {};\n        result.push(row);\n        taxDetail = [];\n      });\n      this.purchase.saleTaxDetail = result;\n      window.console.log(\"saleTaxDetail\", result);\n    },\n    async getExpenseBySupplier() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          const segment = this.purchase.segment || {};\n          const segmentId = segment.id || \"\";\n          const location = this.purchase.location || {};\n          const locationId = location.id || \"\";\n          const supplier = this.purchase.supplier || {};\n          const supplierId = supplier.id || \"\";\n          const strFilter =\n            \"?id=\" +\n            supplierId +\n            \"&segId=\" +\n            segmentId +\n            \"&locId=\" +\n            locationId;\n          this.expenses = [];\n          this.purchase.additionalCostTotal = 0;\n          this.showLoadingTxnAdditionalCost = false;\n          this.purchase.additionalCost = [];\n          billingHandler.listPurchase(strFilter).then((res) => {\n            if (res.data.statusCode === 200) {\n              this.showLoadingTxnAdditionalCost = true;\n              this.showLoadingTxnAdditionalCost = false;\n              this.expenses = res.data.data;\n              this.onMethodChanged();\n            } else {\n              this.showLoadingTxnAdditionalCost = false;\n            }\n          });\n        }, 10);\n      });\n    },\n    async clearingAccount() {\n      try {\n        if (this.isItem()) {\n          /* todo: clearing account for additional cost */\n          const amount = (this.purchase.additionalCostTotal || 0) * -1;\n          const xAmount = amount * this.purchase.txnRate || 1;\n          const addict = this.purchase.additionalCost || [];\n\n          if (addict.length > 0) {\n            if (addict[0]) {\n              const account = addict[0].account || {};\n              const nature = \"cr\";\n              this.jRaw.push({\n                id: account.id + \"-\" + nature,\n                line: new ItemLineModel(),\n                description: \"Additional Cost\",\n                account: account,\n                accountId: account.id,\n                amount: amount,\n                exchangeAmount: xAmount,\n                type: nature,\n                typeAs: \"clearing\",\n              });\n            }\n          }\n        }\n      } catch (e) {\n        window.console.log(\"error\", e);\n      }\n    },\n    isItem() {\n      const ds = this.$refs.itemLineDS.kendoWidget();\n      const row = ds.data().filter((n) => n.amount > 0);\n      const found = row.filter((n) => n.item.type === \"Variant\");\n      if (found) {\n        return found.length > 0;\n      }\n      return false;\n    },\n  },\n  computed: {\n    abbr() {\n      if (this.purchase) {\n        const txnType = this.purchase.transactionType || {};\n        const abbr = txnType.abbr || \"\";\n        return abbr;\n      } else {\n        return \"\";\n      }\n    },\n    validVendor() {\n      let vendor = this.vendor;\n      return vendor.id !== undefined && vendor.id !== null;\n    },\n    disableMe() {\n      return !!this.$route.params.id;\n    },\n    hiddenButton() {\n      return !!this.$route.params.id;\n    },\n    disabledSLP() {\n      if (this.$route.params.id) {\n        const refF = this.purchase.refFrom || [];\n        if (refF.length > 0) {\n          return !!refF.length > 0;\n        }\n        const adc = this.purchase.additionalCost || [];\n        if (adc.length > 0) {\n          return !!adc.length > 0;\n        }\n      }\n      return false;\n    },\n  },\n  watch: {\n    // id() {\n    //   if (this.$route.params.id === undefined) {\n    //     this.clear();\n    //   } else {\n    //     this.showLoading = true;\n    //     this.loadViewCreditPurchase();\n    //   }\n    // },\n    $route: \"reload\",\n  },\n  created() {\n    this.loadTax();\n    this.loadPrefix();\n    this.loadProjectByCustomer();\n  },\n  mounted: async function () {\n    this.requestData(0, this.filter, this.cusBaseUrl);\n    await this.loadSegment();\n    await this.loadLocation();\n    await this.loadDiscountItem();\n    await this.loadEmployeeCenter();\n    await this.loadPaymentTerm();\n    await this.loadAccount();\n    await this.loadPriceLevel();\n    await this.loadOtherCharge();\n    await this.loadPurchaseFormContent();\n    await this.initData();\n  },\n};\n</script>\n\n<style scoped>\n.k-dropdown {\n  width: 100%;\n  margin-top: 3px;\n}\n\n.function_wrapper {\n  box-shadow: none !important;\n}\n\n.v-application--is-ltr .v-text-field .v-input__append-inner {\n  margin-top: 0 !important;\n}\n\n.v-input__slot {\n  background-color: #fff !important;\n}\n\n.function_content .label {\n  margin-bottom: 10px;\n  display: inline-block;\n}\n\n.border_radius10 {\n  border-radius: 10px !important;\n  background-color: #f2f2f2;\n}\n\n.pa-3.v-card h4 {\n  font-size: 18px;\n  color: #333;\n}\n\n.pa-3.v-card p {\n  font-size: 12px;\n  color: #b5b5b5;\n}\n\n.attachment_file {\n  background-color: #efeded;\n  border-radius: 0 !important;\n}\n\n.attachment_table.v-data-table table {\n  border: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.attachment_table table tr th {\n  border-left: thin solid rgba(0, 0, 0, 0.12);\n  height: 35px;\n  border-right: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.block_debit,\n.block_credit {\n  border-bottom: 1px solid #fff;\n}\n\n.block_debit p.number,\n.block_credit p.number {\n  font-size: 25px;\n  color: #7f7f7f;\n}\n\n.block_debit h5,\n.block_credit h5,\n.block_difference h5 {\n  text-transform: uppercase;\n  color: #7f7f7f;\n  font-size: 15px;\n  font-weight: normal;\n}\n\n.block_difference h5 {\n  font-size: 18px;\n}\n\n.block_difference h5 span {\n  font-size: 15px;\n}\n\n.custom_grid table th:last-child {\n  text-align: right !important;\n}\n\n@media (min-width: 1264px) {\n  .container {\n    max-width: 1250px;\n  }\n}\n\n@media (max-width: 576px) {\n  .pt-6.col-sm-5.col-12 {\n    padding-top: 0 !important;\n  }\n\n  .code_text {\n    width: 100%;\n  }\n\n  .phone_no_pt {\n    padding-top: 0 !important;\n  }\n\n  .select_template,\n  .save_option {\n    margin-bottom: 10px;\n  }\n}\n\n.hide_small_bar_class {\n  max-width: 0;\n  transition: 0.5s ease-in;\n  flex: 0 0 0;\n}\n\n.hide_big_bar_class {\n  max-width: 100%;\n  transition: 0.5s ease-in;\n  flex: 0 0 100%;\n}\n\n.info_add {\n  background-color: #ffffff;\n}\n\n.small_sidebar {\n  height: 98%;\n  position: relative;\n  padding: 12px;\n  background-color: #edf1f5;\n}\n\n.iconArrow {\n  right: -35px;\n  position: absolute;\n  bottom: -10px;\n}\n\n.iconArrowHide {\n  position: absolute;\n  right: -7px;\n  bottom: -10px;\n}\n\n.color_grey {\n  color: #808080;\n}\n\n.card_green {\n  min-height: 70px;\n  background-color: #00b050 !important;\n  color: #ffffff;\n}\n\n.lb_bold {\n  font-size: 12px;\n}\n\n.detial_smallside_p {\n  position: absolute;\n  bottom: 10px;\n}\n\n.card_background {\n  background-color: #edf1f5;\n  min-height: 120px;\n}\n\n.deposite_input {\n  width: 100px;\n}\n\n.btn_save_draft {\n  color: #ffffff;\n  background-color: #00b0f0 !important;\n  text-transform: capitalize;\n}\n\n.save_option {\n  background-color: #203864 !important;\n}\n\n.btn_add_small {\n  height: 27px !important;\n  min-width: 25px !important;\n  font-size: 10px;\n  padding: 0 22px !important;\n  background-color: #00b050 !important;\n  color: #ffffff;\n  border-radius: 0 !important;\n}\n\n.list_site_inv {\n  background-color: #92d050;\n  color: #ffffff;\n  font-size: 12px;\n}\n\n.list_site_exp {\n  background-color: #c5e0b4;\n  color: #000000;\n  font-size: 12px;\n  line-height: 16px;\n  min-height: 40px;\n}\n\n.checkbox_inv {\n  padding: 2px;\n  margin-top: 3px;\n  margin-right: 2px;\n}\n\n.exp_select {\n  font-size: 12px !important;\n}\n\n.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > tbody\n  > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n  background-color: transparent !important;\n}\n</style>\n"],"sourceRoot":"src/views/micro_edition/purchases"}]}