{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/compliance/monthly_tax/new_tax_return/newTaxReturn.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/compliance/monthly_tax/new_tax_return/newTaxReturn.vue","mtime":1640595536796},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC50by1qc29uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBMb2FkaW5nTWUgZnJvbSAnQC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgTW9udGhseVJldHVybiBmcm9tICJAL3NjcmlwdHMvY29tcGxpYW5jZS9tb2RlbC9Nb250aGx5UmV0dXJuIjsKaW1wb3J0IHsgaTE4biB9IGZyb20gIkAvaTE4biI7CmltcG9ydCBrZW5kbyBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tdWknOwppbXBvcnQgeyB1dWlkIH0gZnJvbSAndnVlLXV1aWQnOwppbXBvcnQgdGF4U2V0dGluZ0hhbmRsZXIgZnJvbSAiQC9zY3JpcHRzL3RheFNldHRpbmdIYW5kbGVyIjsKCnZhciBtb250aGx5UmV0dXJuSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jb21wbGlhbmNlL2hhbmRsZXIvbW9udGhseVJldHVybkhhbmRsZXIiKTsKCnZhciBzYWxlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jb21wbGlhbmNlL2hhbmRsZXIvc2FsZUhhbmRsZXIiKTsKCnZhciBwdXJjaGFzZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY29tcGxpYW5jZS9oYW5kbGVyL3B1cmNoYXNlSGFuZGxlciIpOwoKdmFyIHNhbGFyeUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY29tcGxpYW5jZS9oYW5kbGVyL3NhbGFyeUhhbmRsZXIiKTsKCnZhciB3aXRoaG9sZGluZ0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY29tcGxpYW5jZS9oYW5kbGVyL3dpdGhob2xkaW5nVGF4SGFuZGxlciIpOwoKdmFyIG1vbnRobHlSZXR1cm4gPSBuZXcgTW9udGhseVJldHVybih7fSk7Cgp2YXIgcHJlZml4SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jb21wbGlhbmNlL2hhbmRsZXIvcHJlZml4SGFuZGxlciIpOwoKdmFyIHN1bW1hcnlIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2NvbXBsaWFuY2UvaGFuZGxlci9zdW1tYXJ5SGFuZGxlciIpOwoKdmFyIGN1cnJlbmN5SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jdXJyZW5jeS9oYW5kbGVyL2N1cnJlbmN5SGFuZGxlciIpOwoKdmFyIGFwaVVybCA9IHJlcXVpcmUoJ0AvYXBpVXJsJyk7IC8vIGNvbnN0IHRheFNldHRpbmcgPSByZXF1aXJlKCdAL3N0b3JlL3RheFNldHRpbmcnKTsKCgp2YXIgY3VycmVuY3lUeXBlID0gewogIFRBWF9FWENIQU5HRV9DVVJSRU5DWTogJ3RheC1jJwp9OyAvLyBjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJykKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVGF4UmV0dXJuIiwKICBjb21wb25lbnRzOiB7CiAgICAnTG9hZGluZ01lJzogTG9hZGluZ01lLAogICAgLy8gJ21vbnRoLXBpY2tlcic6ICgpID0+IGltcG9ydCgnQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvTW9udGhQaWNrZXInKSwKICAgIElucHV0VGFiOiBmdW5jdGlvbiBJbnB1dFRhYigpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi9pbnB1dC9JbnB1dFRhYicpOwogICAgfSwKICAgIFJldmlld1RhYjogZnVuY3Rpb24gUmV2aWV3VGFiKCkgewogICAgICByZXR1cm4gaW1wb3J0KCcuL3Jldmlldy9SZXZpZXdUYWInKTsKICAgIH0sCiAgICBDb25maXJtOiBmdW5jdGlvbiBDb25maXJtKCkgewogICAgICByZXR1cm4gaW1wb3J0KCcuL2NvbmZpcm0vQ29uZmlybVRhYicpOwogICAgfSwKICAgIEZpbmFsaXplOiBmdW5jdGlvbiBGaW5hbGl6ZSgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi9maW5hbGl6ZS9GaW5hbGl6ZScpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lbnU6IGZhbHNlLAogICAgICB0ZW1wbGF0ZXM6IFtdLAogICAgICBtb250aDogJycsCiAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgdmFsaWQ6ICcnLAogICAgICBiaWxsX2RhdGU6ICIiLAogICAgICBqb3VybmFsX2RhdGU6ICcnLAogICAgICBzdGVwczogMSwKICAgICAgcmVhY2hUb3BTdGVwOiAwLAogICAgICBjaGVjazogZmFsc2UsCiAgICAgIHNhdmVfbmV4dDogJ3NhdmVfbmV4dCcsCiAgICAgIGFjdGl2ZUNvbG9yMTogInByaW1hcnkiLAogICAgICBhY3RpdmVDb2xvcjI6ICJ0aGlyZCIsCiAgICAgIGFjdGl2ZUNvbG9yMzogInRoaXJkIiwKICAgICAgYWN0aXZlQ29sb3I0OiAidGhpcmQiLAogICAgICBpc0ZpbmFsOiBmYWxzZSwKICAgICAgLy8gdGhpcmQKICAgICAgY2hlY2sxOiBmYWxzZSwKICAgICAgY2hlY2syOiBmYWxzZSwKICAgICAgY2hlY2szOiBmYWxzZSwKICAgICAgcGF5cm9sbF9pZDogJycsCiAgICAgIGxvYWRQYXlyb2xsczogW10sCiAgICAgIC8vIHN0YXJ0X3JldHVybjogZmFsc2UsCiAgICAgIGlzQ3JlYXRlOiBmYWxzZSwKICAgICAgdHJhbnNhY3Rpb25UeXBlczogW10sCiAgICAgIG1vbnRobHlSZXR1cm46IG1vbnRobHlSZXR1cm4sCiAgICAgIC8vIGlzR2V0QW1vdW50OiBmYWxzZSwKICAgICAgQWxlcnRWYWxpZGF0ZTI6IGZhbHNlLAogICAgICBjdXJyZW5jeToge30sCiAgICAgIHNhbGVzOiBbXSwKICAgICAgcHVyY2hhc2VzOiBbXSwKICAgICAgc2FsYXJpZXM6IFtdLAogICAgICB3aXRoaG9sZGluZ3M6IFtdLAogICAgICBhbW91bnRTYWxlOiAwLAogICAgICBhbW91bnRTYWxlRXhjdWw6IDAsCiAgICAgIGFtb3VudFRvdGFsUHVyY2hhc2U6IDAsCiAgICAgIGFtb3VudFB1cmNoYXNlRXhjdWw6IDAsCiAgICAgIGFtb3VudFdodDogMCwKICAgICAgYW1vdW50U2FsYXJ5OiAwLAogICAgICBhbW91bnRCZW5lZml0OiAwLAogICAgICBvdGhlckFtb3VudDogMCwKICAgICAgdG90YWxBbW91bnRQYWlkOiAwLAogICAgICBzdW1tYXJ5OiB7fSwKICAgICAgaXNSb3V0ZTogZmFsc2UsCiAgICAgIGJhbGFuY2VWYXQ6IHt9LAogICAgICBiYWxhbmNlUHBpOiB7fSwKICAgICAgZGF0ZVNhbGU6ICcnLAogICAgICBkYXRlUHVyY2hhc2U6ICcnLAogICAgICBkYXRlV2h0OiAnJywKICAgICAgZGF0ZVNhbGFyeTogJycsCiAgICAgIHN0YXR1c01yOiBmYWxzZSwKICAgICAgam91cm5hbFN1bW1hcnk6IFtdLAogICAgICBsaXN0VGF4czogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgc3RhcnRfcmV0dXJuOiBmdW5jdGlvbiBzdGFydF9yZXR1cm4oKSB7CiAgICAgIHJldHVybiB0aGlzLm1vbnRobHlSZXR1cm4ubnVtYmVyICE9PSAnJyAmJiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT09ICcnOwogICAgfSwKICAgIGlkOiBmdW5jdGlvbiBpZCgpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CiAgICB9LAogICAgRGF0ZVN0YXRlOiBmdW5jdGlvbiBEYXRlU3RhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT09IHVuZGVmaW5lZCB8fCB0aGlzLiRyb3V0ZS5xdWVyeS50eXBlID09PSAnZWRpdCcgfHwgdGhpcy4kcm91dGUucXVlcnkudHlwZSA9PT0gJ3ZpZXcnOwogICAgfSAvLyBsaXN0VGF4czogewogICAgLy8gICAgIHNldChsaXN0VGF4KSB7CiAgICAvLyAgICAgICAgIHRheFNldHRpbmcuZGVmYXVsdC5jb21taXQoInNldExpc3RUYXgiLCBsaXN0VGF4KQogICAgLy8gICAgIH0sCiAgICAvLyAgICAgZ2V0KCkgewogICAgLy8gICAgICAgICByZXR1cm4gdGF4U2V0dGluZy5kZWZhdWx0LnN0YXRlLmxpc3RUYXgKICAgIC8vICAgICB9CiAgICAvLyB9LAoKICB9LAogIHdhdGNoOiB7CiAgICAnaWQnOiAnaW5pdERhdGEnCiAgfSwKICBiZWZvcmVSb3V0ZUxlYXZlOiBmdW5jdGlvbiBiZWZvcmVSb3V0ZUxlYXZlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGlmICh0by5uYW1lID09PSAnQWRkIFB1cmNoYXNlJyB8fCB0by5uYW1lID09PSAnQWRkIFNhbGUnIHx8IHRvLm5hbWUgPT09ICdBZGQgV2l0aGhvbGRpbmcgVGF4JykgewogICAgICBuZXh0KCk7CiAgICB9IGVsc2UgewogICAgICB2YXIgc2FsZXMgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jb21wbGlhbmNlLnNhbGU7CgogICAgICBpZiAoc2FsZXMubGVuZ3RoID4gMCAmJiBzYWxlcy5maWx0ZXIoZnVuY3Rpb24gKHApIHsKICAgICAgICByZXR1cm4gcC5pc1NhdmUgPT09IGZhbHNlOwogICAgICB9KSkgewogICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgdGl0bGU6IGkxOG4udCgnbXNnX3RpdGxlX3dhcm5pbmcnKSwKICAgICAgICAgIHRleHQ6IGkxOG4udCgnbXNnX2xlYXZlJyksCiAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBpMThuLnQoJ2ZvcmNlX2xlYXZlJyksCiAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI0VEMUEzQSIsCiAgICAgICAgICBzaG93RGVueUJ1dHRvbjogdHJ1ZSwKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoJ2xlYXZlJyksCiAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLmlzQ29uZmlybWVkIHx8IHJlcy5pc0Rpc21pc3NlZCAmJiByZXMuZGlzbWlzcyA9PT0gJ2NhbmNlbCcpIHsKICAgICAgICAgICAgbmV4dCgpOwoKICAgICAgICAgICAgX3RoaXMuY2xlYXIoKTsKCiAgICAgICAgICAgIF90aGlzLmFtb3VudFNhbGUgPSAwOwogICAgICAgICAgICBfdGhpcy5hbW91bnRTYWxlRXhjdWwgPSAwOwogICAgICAgICAgICBfdGhpcy5hbW91bnRQdXJjaGFzZSA9IDA7CiAgICAgICAgICAgIF90aGlzLmFtb3VudFdodCA9IDA7CiAgICAgICAgICAgIF90aGlzLm90aGVyQW1vdW50ID0gMDsKICAgICAgICAgICAgX3RoaXMudG90YWxBbW91bnRQYWlkID0gMDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5leHQoZmFsc2UpOwogICAgICAgICAgfQoKICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMsICdkaXNjYXJkJyk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMubW9udGhseVJldHVybi5wcm9ncmVzcyA9PT0gJycgJiYgdGhpcy5pc1JvdXRlKSB7CiAgICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgICAgdGl0bGU6IGkxOG4udCgnbXNnX3RpdGxlX3dhcm5pbmcnKSwKICAgICAgICAgICAgdGV4dDogaTE4bi50KCdtc2dfZGlzY2FyZCcpLAogICAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IGkxOG4udCgnY2FuY2VsJyksCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiM0ZDQ4NDgiLAogICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogaTE4bi50KCdkaXNjYXJkJykKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAocmVzLmlzQ29uZmlybWVkKSB7CiAgICAgICAgICAgICAgbmV4dCgpOwoKICAgICAgICAgICAgICBfdGhpcy5jbGVhcigpOwoKICAgICAgICAgICAgICBfdGhpcy5hbW91bnRTYWxlID0gMDsKICAgICAgICAgICAgICBfdGhpcy5hbW91bnRTYWxlRXhjdWwgPSAwOwogICAgICAgICAgICAgIF90aGlzLmFtb3VudFB1cmNoYXNlID0gMDsKICAgICAgICAgICAgICBfdGhpcy5hbW91bnRXaHQgPSAwOwogICAgICAgICAgICAgIF90aGlzLm90aGVyQW1vdW50ID0gMDsKICAgICAgICAgICAgICBfdGhpcy50b3RhbEFtb3VudFBhaWQgPSAwOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG5leHQoZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmV4dCgpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2hlY2tNb250aGx5UmV0dXJuOiBmdW5jdGlvbiBjaGVja01vbnRobHlSZXR1cm4oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBtb250aGx5UmV0dXJuSGFuZGxlci5nZXRCeU1vbnRoKF90aGlzMi5tb250aGx5UmV0dXJuLm1vbnRoT2YpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzLCAnZ2V0IG1vbnRoMTIzJyk7CgogICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuZGF0YSA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGF0dXNNciA9IHRydWU7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0RmluYWxQdXJjaGFzZTogZnVuY3Rpb24gZ2V0RmluYWxQdXJjaGFzZShwdXJjaGFzZSkgewogICAgICBpZiAodGhpcy5wdXJjaGFzZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy5wdXJjaGFzZXMgPSBwdXJjaGFzZTsKICAgICAgfQogICAgfSwKICAgIGdldEJhbGFuY2VWYXQ6IGZ1bmN0aW9uIGdldEJhbGFuY2VWYXQoYmFsYW5jZSkgewogICAgICB0aGlzLmJhbGFuY2VWYXQgPSBiYWxhbmNlOwogICAgICB3aW5kb3cuY29uc29sZS5sb2codGhpcy5iYWxhbmNlVmF0LmNyZWRpdCwgdGhpcy5iYWxhbmNlVmF0LnBheW1lbnQsICdiYWxhbmNlVmF0Jyk7CiAgICB9LAogICAgZ2V0QmFsYW5jZVBwaTogZnVuY3Rpb24gZ2V0QmFsYW5jZVBwaShiYWxhbmNlKSB7CiAgICAgIHRoaXMuYmFsYW5jZVBwaSA9IGJhbGFuY2U7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLmJhbGFuY2VQcGksICdiYWxhbmNlUHBpJyk7CiAgICB9LAogICAgZ2V0U3VtbWFyeTogZnVuY3Rpb24gZ2V0U3VtbWFyeShzdW1tYXJ5KSB7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnbmV3IHRheCB0YWIgc3VtbWFyeScsIHN1bW1hcnkpOwogICAgICB0aGlzLnN1bW1hcnkgPSBzdW1tYXJ5OwogICAgfSwKICAgIGdldERhdGVXaHQ6IGZ1bmN0aW9uIGdldERhdGVXaHQoZGF0ZSkgewogICAgICB0aGlzLmRhdGVXaHQgPSBkYXRlOwogICAgfSwKICAgIGdldFNhbGFyeTogZnVuY3Rpb24gZ2V0U2FsYXJ5KHNhbGFyeSkgewogICAgICB0aGlzLnNhbGFyaWVzID0gc2FsYXJ5OwogICAgfSwKICAgIGdldERhdGVQdXJjaGFzZTogZnVuY3Rpb24gZ2V0RGF0ZVB1cmNoYXNlKGRhdGUpIHsKICAgICAgdGhpcy5kYXRlUHVyY2hhc2UgPSBkYXRlOwogICAgfSwKICAgIGdldERhdGVTYWxlOiBmdW5jdGlvbiBnZXREYXRlU2FsZShkYXRlKSB7CiAgICAgIHRoaXMuZGF0ZVNhbGUgPSBkYXRlOwogICAgfSwKICAgIGdldFRvdGFsQW1vdW50UGFpZDogZnVuY3Rpb24gZ2V0VG90YWxBbW91bnRQYWlkKGFtb3VudCkgewogICAgICB0aGlzLnRvdGFsQW1vdW50UGFpZCA9IGFtb3VudDsKICAgIH0sCiAgICBnZXRPdGhlckFtb3VudDogZnVuY3Rpb24gZ2V0T3RoZXJBbW91bnQoYW1vdW50KSB7CiAgICAgIHRoaXMub3RoZXJBbW91bnQgPSBhbW91bnQ7CiAgICB9LAogICAgZ2V0QW1vdW50U2FsZUV4Y3VsOiBmdW5jdGlvbiBnZXRBbW91bnRTYWxlRXhjdWwoc2FsZUV4Y3VsKSB7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnbmV3IHRheCB0YWIgc2FsZSBleGN1bCcsIHNhbGVFeGN1bCk7CiAgICAgIHRoaXMuYW1vdW50U2FsZUV4Y3VsID0gc2FsZUV4Y3VsOwogICAgfSwKICAgIGdldFdpdGhob2xkaW5nOiBmdW5jdGlvbiBnZXRXaXRoaG9sZGluZyh3aXRoaG9sZGluZykgewogICAgICB3aW5kb3cuY29uc29sZS5sb2coJ25ldyB0YXggdGFiIHdpdGhob2xkaW5nJywgd2l0aGhvbGRpbmcpOwogICAgICB0aGlzLndpdGhob2xkaW5ncyA9IHdpdGhob2xkaW5nOwogICAgfSwKICAgIGdldEFtb3VudFNhbGFyeTogZnVuY3Rpb24gZ2V0QW1vdW50U2FsYXJ5KGFtb3VudCkgewogICAgICB3aW5kb3cuY29uc29sZS5sb2coJ25ldyB0YXggdGFiIHNhbGFyeScsIGFtb3VudCk7CiAgICAgIHRoaXMuYW1vdW50U2FsYXJ5ID0gYW1vdW50OwogICAgfSwKICAgIGdldEFtb3VudFRheDogZnVuY3Rpb24gZ2V0QW1vdW50VGF4KGFtb3VudCkgewogICAgICB3aW5kb3cuY29uc29sZS5sb2coJ25ldyB0YXggdGFiIGJlbmVmaXQnLCBhbW91bnQpOwogICAgICB0aGlzLmFtb3VudEJlbmVmaXQgPSBhbW91bnQ7CiAgICB9LAogICAgZ2V0SW5wdXRQdXJjaGFzZTogZnVuY3Rpb24gZ2V0SW5wdXRQdXJjaGFzZShwdXJjaGFzZSkgewogICAgICB3aW5kb3cuY29uc29sZS5sb2coJ25ldyB0YXggdGFiIHB1cmNoYXNlJywgcHVyY2hhc2UpOwogICAgICB0aGlzLnB1cmNoYXNlcyA9IHB1cmNoYXNlOwogICAgfSwKICAgIGdldElucHV0U2FsZTogZnVuY3Rpb24gZ2V0SW5wdXRTYWxlKHNhbGUpIHsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCduZXcgdGF4IHRhYiBzYWxlJywgc2FsZSk7CiAgICAgIHRoaXMuc2FsZXMgPSBzYWxlOwogICAgfSwKICAgIGdldEFtb3VudFdodDogZnVuY3Rpb24gZ2V0QW1vdW50V2h0KGFtb3VudCkgewogICAgICB3aW5kb3cuY29uc29sZS5sb2coJ25ldyB0YXggdGFiIHdodCcsIGFtb3VudCk7CiAgICAgIHRoaXMuYW1vdW50V2h0ID0gYW1vdW50OwogICAgfSwKICAgIGdldFN0ZXA6IGZ1bmN0aW9uIGdldFN0ZXAoc3RlcCkgewogICAgICB0aGlzLnN0ZXBzID0gc3RlcDsKCiAgICAgIGlmICh0aGlzLnJlYWNoVG9wU3RlcCA8PSB0aGlzLnN0ZXBzKSB7CiAgICAgICAgdGhpcy5yZWFjaFRvcFN0ZXAgPSB0aGlzLnN0ZXBzOwogICAgICB9CgogICAgICB0aGlzLnN0ZXBzQ29uZGl0aW9uKHRoaXMuc3RlcHMpOwogICAgfSwKICAgIGdldFRvdGFsQW1vdW50UHVyY2hhc2U6IGZ1bmN0aW9uIGdldFRvdGFsQW1vdW50UHVyY2hhc2UoYW1vdW50KSB7CiAgICAgIHRoaXMuYW1vdW50VG90YWxQdXJjaGFzZSA9IGFtb3VudDsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMuYW1vdW50VG90YWxQdXJjaGFzZSwgJ05ldyBUYXggVGFiIFB1cmNoYXNlJyk7CiAgICB9LAogICAgZ2V0QW1vdW50UHVyY2hhc2VFeGN1bDogZnVuY3Rpb24gZ2V0QW1vdW50UHVyY2hhc2VFeGN1bChhbW91bnQpIHsKICAgICAgdGhpcy5hbW91bnRQdXJjaGFzZUV4Y3VsID0gYW1vdW50OwogICAgfSwKICAgIGdldEFtb3VudFNhbGU6IGZ1bmN0aW9uIGdldEFtb3VudFNhbGUoYW1vdW50KSB7CiAgICAgIHRoaXMuYW1vdW50U2FsZSA9IGFtb3VudDsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMuYW1vdW50U2FsZSwgJ05ldyBUYXggVGFiIFNhbGUnKTsKICAgIH0sCiAgICBpbml0RGF0YTogZnVuY3Rpb24gaW5pdERhdGEoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHN0ZXAsIHN0ZXBzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMuc2hvd0xvYWRpbmcgPSB0cnVlOwoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMy4kcm91dGUucGFyYW1zLmlkICE9PSB1bmRlZmluZWQgJiYgX3RoaXMzLiRyb3V0ZS5wYXJhbXMubW9udGhseVJldHVybiA9PT0gdW5kZWZpbmVkKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMub25Mb2FkT25lUmV0dXJuKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhfdGhpczMuc3RlcHMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGlmIChfdGhpczMuJHJvdXRlLnBhcmFtcy5tb250aGx5UmV0dXJuICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLm1vbnRobHlSZXR1cm4gPSBfdGhpczMuJHJvdXRlLnBhcmFtcy5tb250aGx5UmV0dXJuOwoKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMy5tb250aGx5UmV0dXJuLnN0YXR1cy5pZCA9PT0gMikgewogICAgICAgICAgICAgICAgICAgIF90aGlzMy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1ZpZXcgVGF4IFJldHVybicsCiAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAndmlld19tb250aGx5X3JldHVybi8nICsgX3RoaXMzLm1vbnRobHlSZXR1cm4uaWQsCiAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzMy5tb250aGx5UmV0dXJuLmlkLAogICAgICAgICAgICAgICAgICAgICAgICBtb250aGx5UmV0dXJuOiBfdGhpczMubW9udGhseVJldHVybgogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd2aWV3JwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coX3RoaXMzLm1vbnRobHlSZXR1cm4sICdkYWZhc2RmMzQnKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy5pbml0TG9jYWxTdG9yYWdlKF90aGlzMy5tb250aGx5UmV0dXJuLmFiYnIsIF90aGlzMy5tb250aGx5UmV0dXJuLm51bWJlcik7CgogICAgICAgICAgICAgICAgICBzdGVwID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShfdGhpczMubW9udGhseVJldHVybi5hYmJyICsgX3RoaXMzLm1vbnRobHlSZXR1cm4ubnVtYmVyICsgJyZTdGVwJykpOwogICAgICAgICAgICAgICAgICBzdGVwcyA9IDE7CgogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLm1vbnRobHlSZXR1cm4uc3RlcCAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICBzdGVwcyA9IF90aGlzMy5tb250aGx5UmV0dXJuLnN0ZXA7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChzdGVwID4gMCkgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnc3RlcDEyJywgc3RlcCk7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczMubW9udGhseVJldHVybi5zdGVwID4gc3RlcCkgewogICAgICAgICAgICAgICAgICAgICAgc3RlcHMgPSBfdGhpczMubW9udGhseVJldHVybi5zdGVwOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBzdGVwcyA9IHN0ZXA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczMuc3RlcHMgPSBzdGVwczsKCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczMucmVhY2hUb3BTdGVwIDw9IF90aGlzMy5zdGVwcykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMy5yZWFjaFRvcFN0ZXAgPSBfdGhpczMuc3RlcHM7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzMy5zdGVwc0NvbmRpdGlvbihfdGhpczMuc3RlcHMpOyAvLyB0aGlzLnN0YXJ0X3JldHVybiA9IHRydWUKCgogICAgICAgICAgICAgICAgICBfdGhpczMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKF90aGlzMy5zdGVwcyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczMuY2xlYXIoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICB0aGlzLm1vbnRobHlSZXR1cm4gPSBuZXcgTW9udGhseVJldHVybih7fSk7CiAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBpbml0TG9jYWxTdG9yYWdlOiBmdW5jdGlvbiBpbml0TG9jYWxTdG9yYWdlKGFiYnIsIG51bWJlcikgewogICAgICB2YXIgc2FsZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oYWJiciArIG51bWJlciArICcmU2FsZScpKTsKICAgICAgdmFyIHB1cmNoYXNlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShhYmJyICsgbnVtYmVyICsgJyZQdXJjaGFzZScpKTsKICAgICAgdmFyIHdpdGhob2xkaW5nID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShhYmJyICsgbnVtYmVyICsgJyZXaXRoaG9sZGluZycpKTsKICAgICAgdmFyIHNhbGFyeSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oYWJiciArIG51bWJlciArICcmU2FsYXJ5JykpOwogICAgICB2YXIgc3RlcCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oYWJiciArIG51bWJlciArICcmU3RlcCcpKTsKCiAgICAgIGlmIChzYWxlID09PSBudWxsKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYWJiciArIG51bWJlciArICcmU2FsZScsIEpTT04uc3RyaW5naWZ5KFtdKSk7CiAgICAgIH0KCiAgICAgIGlmIChwdXJjaGFzZSA9PT0gbnVsbCkgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGFiYnIgKyBudW1iZXIgKyAnJlB1cmNoYXNlJywgSlNPTi5zdHJpbmdpZnkoW10pKTsKICAgICAgfQoKICAgICAgaWYgKHdpdGhob2xkaW5nID09PSBudWxsKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYWJiciArIG51bWJlciArICcmV2l0aGhvbGRpbmcnLCBKU09OLnN0cmluZ2lmeShbXSkpOwogICAgICB9CgogICAgICBpZiAoc2FsYXJ5ID09PSBudWxsKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYWJiciArIG51bWJlciArICcmU2FsYXJ5JywgSlNPTi5zdHJpbmdpZnkoW10pKTsKICAgICAgfQoKICAgICAgaWYgKHN0ZXAgPT09IG51bGwpIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShhYmJyICsgbnVtYmVyICsgJyZTdGVwJywgSlNPTi5zdHJpbmdpZnkoMSkpOwogICAgICB9CiAgICB9LAogICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgc2FsZXMgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jb21wbGlhbmNlLnNhbGU7CiAgICAgIHZhciBwdXJjaGFzZXMgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jb21wbGlhbmNlLnB1cmNoYXNlOwogICAgICB2YXIgd2l0aGhvbGRpbmcgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jb21wbGlhbmNlLndpdGhob2xkaW5nOwoKICAgICAgaWYgKHNhbGVzLmxlbmd0aCA+IDAgJiYgc2FsZXMuZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHAuaXNTYXZlID09PSBmYWxzZTsKICAgICAgfSkgfHwgcHVyY2hhc2VzLmxlbmd0aCA+IDAgJiYgcHVyY2hhc2VzLmZpbHRlcihmdW5jdGlvbiAocCkgewogICAgICAgIHJldHVybiBwLmlzU2F2ZSA9PT0gZmFsc2U7CiAgICAgIH0pIHx8IHdpdGhob2xkaW5nLmxlbmd0aCA+IDAgJiYgd2l0aGhvbGRpbmcuZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHAuaXNTYXZlID09PSBmYWxzZTsKICAgICAgfSkpIHsKICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgIHRpdGxlOiBpMThuLnQoJ21zZ190aXRsZV93YXJuaW5nJyksCiAgICAgICAgICB0ZXh0OiBpMThuLnQoJ21zZ19sZWF2ZScpLAogICAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCdmb3JjZV9sZWF2ZScpLAogICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCiAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgICAgc2hvd0RlbnlCdXR0b246IHRydWUsCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogaTE4bi50KCdsZWF2ZScpLAogICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5pc0NvbmZpcm1lZCB8fCByZXMuaXNEaXNtaXNzZWQgJiYgcmVzLmRpc21pc3MgPT09ICdjYW5jZWwnKSB7CiAgICAgICAgICAgIF90aGlzNC5jbGVhbigpOwogICAgICAgICAgfQoKICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMsICdkaXNjYXJkJyk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMubW9udGhseVJldHVybi5wcm9ncmVzcyA9PT0gJycgJiYgdGhpcy5pc1JvdXRlKSB7CiAgICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgICAgdGl0bGU6IGkxOG4udCgnbXNnX3RpdGxlX3dhcm5pbmcnKSwKICAgICAgICAgICAgdGV4dDogaTE4bi50KCdtc2dfZGlzY2FyZCcpLAogICAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IGkxOG4udCgnY2FuY2VsJyksCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiM0ZDQ4NDgiLAogICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogaTE4bi50KCdkaXNjYXJkJykKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAocmVzLmlzQ29uZmlybWVkKSB7CiAgICAgICAgICAgICAgX3RoaXM0LmNsZWFuKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSAvLyBjb25zdCBzYWxlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLm1vbnRobHlSZXR1cm4uYWJiciArIHRoaXMubW9udGhseVJldHVybi5udW1iZXIgKyAnJlNhbGUnKSkKICAgICAgLy8gY29uc3QgcHVyY2hhc2UgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMubW9udGhseVJldHVybi5hYmJyICsgdGhpcy5tb250aGx5UmV0dXJuLm51bWJlciArICcmUHVyY2hhc2UnKSkKICAgICAgLy8gY29uc3Qgd2l0aGhvbGRpbmcgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMubW9udGhseVJldHVybi5hYmJyICsgdGhpcy5tb250aGx5UmV0dXJuLm51bWJlciArICcmV2l0aGhvbGRpbmcnKSkKICAgICAgLy8gY29uc3Qgc2FsYXJ5ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLm1vbnRobHlSZXR1cm4uYWJiciArIHRoaXMubW9udGhseVJldHVybi5udW1iZXIgKyAnJlNhbGFyeScpKQogICAgICAvLyBjb25zdCBzdGVwID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLm1vbnRobHlSZXR1cm4uYWJiciArIHRoaXMubW9udGhseVJldHVybi5udW1iZXIgKyAnJlN0ZXAnKSkKICAgICAgLy8gaWYgKHNhbGUgPT09IG51bGwpIHsKICAgICAgLy8gICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMubW9udGhseVJldHVybi5hYmJyICsgdGhpcy5tb250aGx5UmV0dXJuLm51bWJlciArICcmU2FsZScsIEpTT04uc3RyaW5naWZ5KFtdKSkKICAgICAgLy8gfQogICAgICAvLyBpZiAocHVyY2hhc2UgPT09IG51bGwpIHsKICAgICAgLy8gICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMubW9udGhseVJldHVybi5hYmJyICsgdGhpcy5tb250aGx5UmV0dXJuLm51bWJlciArICcmUHVyY2hhc2UnLCBKU09OLnN0cmluZ2lmeShbXSkpCiAgICAgIC8vIH0KICAgICAgLy8gaWYgKHdpdGhob2xkaW5nID09PSBudWxsKSB7CiAgICAgIC8vICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLm1vbnRobHlSZXR1cm4uYWJiciArIHRoaXMubW9udGhseVJldHVybi5udW1iZXIgKyAnJldpdGhob2xkaW5nJywgSlNPTi5zdHJpbmdpZnkoW10pKQogICAgICAvLyB9CiAgICAgIC8vIGlmIChzYWxhcnkgPT09IG51bGwpIHsKICAgICAgLy8gICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMubW9udGhseVJldHVybi5hYmJyICsgdGhpcy5tb250aGx5UmV0dXJuLm51bWJlciArICcmU2FsYXJ5JywgSlNPTi5zdHJpbmdpZnkoW10pKQogICAgICAvLyB9CiAgICAgIC8vIGlmIChzdGVwID09PSBudWxsKSB7CiAgICAgIC8vICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLm1vbnRobHlSZXR1cm4uYWJiciArIHRoaXMubW9udGhseVJldHVybi5udW1iZXIgKyAnJlN0ZXAnLCBKU09OLnN0cmluZ2lmeSgxKSkKICAgICAgLy8gfQogICAgICAvLyBpZiAoc2FsZSAhPT0gbnVsbCB8fCBwdXJjaGFzZSAhPT0gbnVsbCB8fCB3aXRoaG9sZGluZyAhPT0gbnVsbCB8fCBzYWxhcnkgIT09IG51bGwpIHsKICAgICAgLy8gICAgIGlmIChzYWxlLmxlbmd0aCA+IDAgfHwgcHVyY2hhc2UubGVuZ3RoID4gMCB8fCB3aXRoaG9sZGluZy5sZW5ndGggPiAwIHx8IHNhbGFyeS5sZW5ndGggPiAwKSB7CiAgICAgIC8vICAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgIC8vICAgICAgICAgICAgIHRpdGxlOiBpMThuLnQoJ21zZ190aXRsZV93YXJuaW5nJyksCiAgICAgIC8vICAgICAgICAgICAgIHRleHQ6IGkxOG4udCgnbXNnX2xlYXZlJyksCiAgICAgIC8vICAgICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgLy8gICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCdmb3JjZV9sZWF2ZScpLAogICAgICAvLyAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKICAgICAgLy8gICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjRUQxQTNBIiwKICAgICAgLy8gICAgICAgICAgICAgc2hvd0RlbnlCdXR0b246IHRydWUsCiAgICAgIC8vICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoJ2xlYXZlJyksCiAgICAgIC8vICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgIC8vICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZSwKICAgICAgLy8gICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgIC8vICAgICAgICAgICAgIGlmIChyZXMuaXNDb25maXJtZWQpIHsKICAgICAgLy8gICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMubW9udGhseVJldHVybi5hYmJyICsgdGhpcy5tb250aGx5UmV0dXJuLm51bWJlciArICcmU3RlcCcsIHRoaXMuc3RlcHMpCiAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLmNsZWFuKCkKICAgICAgLy8gICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMuaXNEaXNtaXNzZWQgJiYgcmVzLmRpc21pc3MgPT09ICdjYW5jZWwnKSB7CiAgICAgIC8vICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLm1vbnRobHlSZXR1cm4uYWJiciArIHRoaXMubW9udGhseVJldHVybi5udW1iZXIgKyAnJlNhbGUnKQogICAgICAvLyAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5tb250aGx5UmV0dXJuLmFiYnIgKyB0aGlzLm1vbnRobHlSZXR1cm4ubnVtYmVyICsgJyZQdXJjaGFzZScpCiAgICAgIC8vICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLm1vbnRobHlSZXR1cm4uYWJiciArIHRoaXMubW9udGhseVJldHVybi5udW1iZXIgKyAnJlNhbGFyeScpCiAgICAgIC8vICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLm1vbnRobHlSZXR1cm4uYWJiciArIHRoaXMubW9udGhseVJldHVybi5udW1iZXIgKyAnJldpdGhob2xkaW5nJykKICAgICAgLy8gICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMubW9udGhseVJldHVybi5hYmJyICsgdGhpcy5tb250aGx5UmV0dXJuLm51bWJlciArICcmU3RlcCcpCiAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLmNsZWFuKCkKICAgICAgLy8gICAgICAgICAgICAgfQogICAgICAvLyAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzLCAnZGlzY2FyZCcpCiAgICAgIC8vICAgICAgICAgfSkKICAgICAgLy8gICAgIH0gZWxzZSB7CiAgICAgIC8vICAgICAgICAgaWYgKHRoaXMubW9udGhseVJldHVybi5wcm9ncmVzcyA9PT0gJycgJiYgdGhpcy5pc1JvdXRlKSB7CiAgICAgIC8vICAgICAgICAgICAgIHRoaXMuJHN3YWwoewogICAgICAvLyAgICAgICAgICAgICAgICAgdGl0bGU6IGkxOG4udCgnbXNnX3RpdGxlX3dhcm5pbmcnKSwKICAgICAgLy8gICAgICAgICAgICAgICAgIHRleHQ6IGkxOG4udCgnbXNnX2Rpc2NhcmQnKSwKICAgICAgLy8gICAgICAgICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgLy8gICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgIC8vICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBpMThuLnQoJ2NhbmNlbCcpLAogICAgICAvLyAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCiAgICAgIC8vICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAvLyAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IGkxOG4udCgnZGlzY2FyZCcpLAogICAgICAvLyAgICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgIC8vICAgICAgICAgICAgICAgICBpZiAocmVzLmlzQ29uZmlybWVkKSB7CiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5tb250aGx5UmV0dXJuLmFiYnIgKyB0aGlzLm1vbnRobHlSZXR1cm4ubnVtYmVyICsgJyZTYWxlJykKICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLm1vbnRobHlSZXR1cm4uYWJiciArIHRoaXMubW9udGhseVJldHVybi5udW1iZXIgKyAnJlB1cmNoYXNlJykKICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLm1vbnRobHlSZXR1cm4uYWJiciArIHRoaXMubW9udGhseVJldHVybi5udW1iZXIgKyAnJlNhbGFyeScpCiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5tb250aGx5UmV0dXJuLmFiYnIgKyB0aGlzLm1vbnRobHlSZXR1cm4ubnVtYmVyICsgJyZXaXRoaG9sZGluZycpCiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5tb250aGx5UmV0dXJuLmFiYnIgKyB0aGlzLm1vbnRobHlSZXR1cm4ubnVtYmVyICsgJyZTdGVwJykKICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFuKCkKICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgLy8gICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMsICdkaXNjYXJkJykKICAgICAgLy8gICAgICAgICAgICAgfSkKICAgICAgLy8gICAgICAgICB9IGVsc2UgewogICAgICAvLyAgICAgICAgICAgICB0aGlzLmNsZWFuKCkKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICB9CiAgICAgIC8vIH0KCiAgICB9LAogICAgY2xlYW46IGZ1bmN0aW9uIGNsZWFuKCkgewogICAgICB0aGlzLmNsZWFyKCk7CiAgICAgIHRoaXMuYW1vdW50U2FsZSA9IDA7CiAgICAgIHRoaXMuYW1vdW50U2FsZUV4Y3VsID0gMDsKICAgICAgdGhpcy5hbW91bnRQdXJjaGFzZSA9IDA7CiAgICAgIHRoaXMuYW1vdW50V2h0ID0gMDsKICAgICAgdGhpcy5vdGhlckFtb3VudCA9IDA7CiAgICAgIHRoaXMudG90YWxBbW91bnRQYWlkID0gMDsgLy8gdGhpcy5zdGFydF9yZXR1cm4gPSBmYWxzZQoKICAgICAgaWYgKCF0aGlzLmlzUm91dGUpIHsKICAgICAgICB0aGlzLmlzUm91dGUgPSBmYWxzZTsKICAgICAgICB3aW5kb3cuaGlzdG9yeS5nbygtMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc1JvdXRlID0gZmFsc2U7CiAgICAgICAgd2luZG93Lmhpc3RvcnkuZ28oLTEpOwogICAgICAgIHdpbmRvdy5oaXN0b3J5LmdvKC0xKTsKICAgICAgfQogICAgfSwKICAgIGxvYWRDdXJyZW5jeURhdGE6IGZ1bmN0aW9uIGxvYWRDdXJyZW5jeURhdGEodHlwZSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIF90aGlzNS5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lIYW5kbGVyLmxpc3QodHlwZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ3Jlc3BvbnNlJywgJycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IGN1cnJlbmN5VHlwZS5UQVhfRVhDSEFOR0VfQ1VSUkVOQ1kpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuY3VycmVuY3kgPSByZXNwb25zZS5kYXRhLmRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbmxvYWRDdXJyZW5jeTogZnVuY3Rpb24gb25sb2FkQ3VycmVuY3koKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGRhdGUsIGNvZGU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRhdGUgPSBfdGhpczYubW9udGhseVJldHVybi5tb250aE9mICsgJy0nICsgJzMwJzsKICAgICAgICAgICAgICAgIGNvZGUgPSAnS0hSJzsKICAgICAgICAgICAgICAgIGN1cnJlbmN5SGFuZGxlci5nZXRMYXN0RXhjaGFuZ2VSYXRlVGF4QnlEYXRlKGRhdGUsIGNvZGUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczYuY3VycmVuY3kgPSByZXMuZGF0YS5kYXRhWzBdOwogICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzLCAnY3VycmVuY3knKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbkxvYWRPbmVSZXR1cm46IGZ1bmN0aW9uIG9uTG9hZE9uZVJldHVybigpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBfdGhpczcuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgICAgICAgICAgICAgICBtb250aGx5UmV0dXJuSGFuZGxlci5nZXRPbmUoaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlcywgJ2RhdGEgbG9hZCBtb250aGx5IHJldHVybicpOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXM3Lm1vbnRobHlSZXR1cm4gPSByZXMuZGF0YS5kYXRhWzBdOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczcubW9udGhseVJldHVybi5zdGF0dXMuaWQgPT09IDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1ZpZXcgVGF4IFJldHVybicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJ3ZpZXdfbW9udGhseV9yZXR1cm4vJyArIF90aGlzNy5tb250aGx5UmV0dXJuLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzNy5tb250aGx5UmV0dXJuLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhseVJldHVybjogX3RoaXM3Lm1vbnRobHlSZXR1cm4KICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndmlldycKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhfdGhpczcubW9udGhseVJldHVybik7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmluaXRMb2NhbFN0b3JhZ2UoX3RoaXM3Lm1vbnRobHlSZXR1cm4ubnVtYmVyKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuc3RlcHMgPSBfdGhpczcubW9udGhseVJldHVybi5zdGVwOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczcucmVhY2hUb3BTdGVwIDw9IF90aGlzNy5zdGVwcykgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcucmVhY2hUb3BTdGVwID0gX3RoaXM3LnN0ZXBzOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5zdGVwc0NvbmRpdGlvbihfdGhpczcuc3RlcHMpOyAvLyB0aGlzLnN0YXJ0X3JldHVybiA9IHRydWUKCgogICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHN0YXJ0UmV0dXJuOiBmdW5jdGlvbiBzdGFydFJldHVybigpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM4LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczguY2hlY2tNb250aGx5UmV0dXJuKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGlmICghX3RoaXM4LnN0YXR1c01yKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM4LiRzbm90aWZ5LmVycm9yKCdUaGlzIG1vbnRoIG9mIGlzIGV4aXN0Jyk7CgogICAgICAgICAgICAgICAgX3RoaXM4LnN0YXR1c01yID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpczguc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczguZ2VuZXJhdGVOdW1iZXIoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQcmVmaXg6IGZ1bmN0aW9uIGxvYWRQcmVmaXgoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHByZWZpeEhhbmRsZXIuZ2V0KCdtb250aGx5IHJldHVybicpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM5LnRyYW5zYWN0aW9uVHlwZXMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM5LnRyYW5zYWN0aW9uVHlwZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM5Lm1vbnRobHlSZXR1cm4udHJhbnNhY3Rpb25UeXBlID0gX3RoaXM5LnRyYW5zYWN0aW9uVHlwZXNbMF07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2VuZXJhdGVOdW1iZXI6IGZ1bmN0aW9uIGdlbmVyYXRlTnVtYmVyKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMC5tb250aGx5UmV0dXJuLnRyYW5zYWN0aW9uVHlwZS5hYmJyID09PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTAubG9hZFByZWZpeCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgYWJicjogX3RoaXMxMC5tb250aGx5UmV0dXJuLnRyYW5zYWN0aW9uVHlwZS5hYmJyLAogICAgICAgICAgICAgICAgICAgICAgc3RydWN0dXJlOiBfdGhpczEwLm1vbnRobHlSZXR1cm4udHJhbnNhY3Rpb25UeXBlLnN0cnVjdHVyZSwKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogX3RoaXMxMC5tb250aGx5UmV0dXJuLm1vbnRoT2YsCiAgICAgICAgICAgICAgICAgICAgICBzZXF1Y2VuY2luZzogX3RoaXMxMC5tb250aGx5UmV0dXJuLnRyYW5zYWN0aW9uVHlwZS5zZXF1Y2VuY2luZywKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdNb250aGx5IFJldHVybicKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIF90aGlzMTAubW9udGhseVJldHVybi5hYmJyID0gZGF0YS5hYmJyOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTAubW9udGhseVJldHVybi5zdHJ1Y3R1cmUgPSBkYXRhLnN0cnVjdHVyZTsKICAgICAgICAgICAgICAgICAgICBfdGhpczEwLm1vbnRobHlSZXR1cm4uc2VxdWNlbmNpbmcgPSBkYXRhLnNlcXVjZW5jaW5nOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTAubW9udGhseVJldHVybi50eXBlID0gZGF0YS50eXBlOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTAubW9udGhseVJldHVybi50cmFuc2FjdGlvbkRhdGUgPSBkYXRhLnRyYW5zYWN0aW9uRGF0ZTsKICAgICAgICAgICAgICAgICAgICBwcmVmaXhIYW5kbGVyLmxhc3ROdW1iZXIoZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzLCBsYXN0TnVtYmVyOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE51bWJlciA9IF90aGlzMTAuemVyb1BhZChwYXJzZUludChyZXMubGFzdE51bWJlciksIF90aGlzMTAubW9udGhseVJldHVybi50cmFuc2FjdGlvblR5cGUuZm9ybWF0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAubW9udGhseVJldHVybi5udW1iZXIgPSByZXMuc3VmZml4ICsgX3RoaXMxMC5tb250aGx5UmV0dXJuLnRyYW5zYWN0aW9uVHlwZS5udW1iZXJTZXBhcmF0b3IgKyBsYXN0TnVtYmVyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5tb250aGx5UmV0dXJuLmxhc3ROdW1iZXIgPSByZXMuc3VmZml4ICsgbGFzdE51bWJlcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhfdGhpczEwLm1vbnRobHlSZXR1cm4ubnVtYmVyLCAnbW9udGhseSByZXR1cm4nKTsgLy8gYXdhaXQgdGhpcy5zYXZlUmV0dXJuKCkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLm1vbnRobHlSZXR1cm4uaWQgPSAibXItIi5jb25jYXQodXVpZC52MSgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAubW9udGhseVJldHVybi5zdGF0dXMgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnRHJhZnRlZCcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLm1vbnRobHlSZXR1cm4uZWRpdERhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAubW9udGhseVJldHVybi5hbW91bnRQYWlkID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAubW9udGhseVJldHVybi5leENoYW5nZVJhdGUgPSA0MDAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5tb250aGx5UmV0dXJuLnN0ZXAgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdtb250aGx5IHJldHVybicsIF90aGlzMTAubW9udGhseVJldHVybik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAnbmV3X3RheF9yZXR1cm4nICsgIi8iLmNvbmNhdChfdGhpczEwLm1vbnRobHlSZXR1cm4uaWQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTmV3IFRheCBSZXR1cm4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogX3RoaXMxMC5tb250aGx5UmV0dXJuLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRobHlSZXR1cm46IF90aGlzMTAubW9udGhseVJldHVybgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlZGl0JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLmlzUm91dGUgPSB0cnVlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczEwLm1vbnRobHlSZXR1cm4ucHJvZ3Jlc3MgPT09ICcnICYmIF90aGlzMTAuaXNSb3V0ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSAnUGxlYXNlIG1ha2Ugc3VyZSB5b3UgYWxyZWFkeSBzYXZlIGRyYWZ0JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUuZXJyb3IoZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5tZW51ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgemVyb1BhZDogZnVuY3Rpb24gemVyb1BhZChudW0sIHBsYWNlcykgewogICAgICByZXR1cm4gU3RyaW5nKG51bSkucGFkU3RhcnQocGxhY2VzLCAnMCcpOwogICAgfSwKICAgIGxvYWRMaXN0VGF4OiBmdW5jdGlvbiBsb2FkTGlzdFRheCgpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0YXhTZXR0aW5nSGFuZGxlci5nZXQoYXBpVXJsLnRheF9zZXR0aW5nLnRheF9saXN0X2dldCwgImxpc3RUYXgiLCAic2V0TGlzdFRheCIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNhdmVSZXR1cm46IGZ1bmN0aW9uIHNhdmVSZXR1cm4oKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG1vbnRobHlSZXR1cm5IYW5kbGVyLmNyZWF0ZShfdGhpczExLm1vbnRobHlSZXR1cm4pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgICAgX3RoaXMxMS5tb250aGx5UmV0dXJuID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTEuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBwYXRoOiAnbmV3X3RheF9yZXR1cm4nICsgIi8iLmNvbmNhdChfdGhpczExLm1vbnRobHlSZXR1cm4uaWQpLAogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdOZXcgVGF4IFJldHVybicsCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgICBpZDogX3RoaXMxMS5tb250aGx5UmV0dXJuLmlkCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2VkaXQnCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTEuaXNDcmVhdGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICBfdGhpczExLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5lcnJvcihlLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2F2ZURyYWZ0OiBmdW5jdGlvbiBzYXZlRHJhZnQoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICB2YXIgcHJvZ3Jlc3NOYW1lLCBkYXRhLCBfZGF0YSwgYW10U2FsZSwgYWNjU2FsZSwgYW10UHVyY2hhc2UsIGFjY1B1cmNoYXNlLCBhbXRXaHQsIGFjY1dodCwgYW10UFBpLCBhY2NQUGksIGFtdE90aGVyLCBhY2NPdGhlciwgYW10U2FsYXJ5LCBhY2NTYWxhcnksIGFtdEZCVCwgYWNjRkJULCBfZGF0YTIsIF9kYXRhMzsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczEyLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzMTIubW9udGhseVJldHVybi5zdGVwID0gX3RoaXMxMi5zdGVwczsKICAgICAgICAgICAgICAgIHByb2dyZXNzTmFtZSA9ICcnOwoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTIuc3RlcHMgPT09IDEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHByb2dyZXNzTmFtZSA9ICdJbnB1dCc7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA3NTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczEyLnN0ZXBzID09PSAyKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcHJvZ3Jlc3NOYW1lID0gJ1Jldmlldyc7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA3NTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMi5zdGVwcyA9PT0gMykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHByb2dyZXNzTmFtZSA9ICdDb25maXJtJzsKICAgICAgICAgICAgICAgIF90aGlzMTIubW9udGhseVJldHVybi5hbW91bnRQYWlkID0gX3RoaXMxMi50b3RhbEFtb3VudFBhaWQuYW1vdW50OwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczEyLnRvdGFsQW1vdW50UGFpZC5zdW1tYXJ5ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMi50b3RhbEFtb3VudFBhaWQuc3VtbWFyeS5tb250aE9mID0gX3RoaXMxMi5tb250aGx5UmV0dXJuLm1vbnRoT2Y7CiAgICAgICAgICAgICAgICAgIHN1bW1hcnlIYW5kbGVyLmNyZWF0ZShfdGhpczEyLnRvdGFsQW1vdW50UGFpZC5zdW1tYXJ5KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzLCAnc3VtbWFyeSBjcmVhdGUnKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMi5iYWxhbmNlVmF0LmNyZWRpdCAmJiBfdGhpczEyLmJhbGFuY2VWYXQuY3JlZGl0ID4gMCB8fCBfdGhpczEyLmJhbGFuY2VWYXQucGF5bWVudCAmJiBfdGhpczEyLmJhbGFuY2VWYXQucGF5bWVudCA+IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICBjcmVkaXQ6IF90aGlzMTIuYmFsYW5jZVZhdC5jcmVkaXQsCiAgICAgICAgICAgICAgICAgIHBheW1lbnQ6IF90aGlzMTIuYmFsYW5jZVZhdC5wYXltZW50LAogICAgICAgICAgICAgICAgICBtb250aE9mOiBfdGhpczEyLm1vbnRobHlSZXR1cm4ubW9udGhPZiwKICAgICAgICAgICAgICAgICAgdHlwZTogJ3ZhdCBtb250aGx5JywKICAgICAgICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoKS50b0pTT04oKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgcmV0dXJuIG1vbnRobHlSZXR1cm5IYW5kbGVyLmFkZFR4blZBVChkYXRhLCBfdGhpczEyLm1vbnRobHlSZXR1cm4ubW9udGhPZiwgJ21vbnRobHknKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTIuYmFsYW5jZVBwaS5iYWxhbmNlICYmIF90aGlzMTIuYmFsYW5jZVBwaS5iYWxhbmNlID4gMCB8fCBfdGhpczEyLmJhbGFuY2VQcGkuY3JlZGl0ICYmIF90aGlzMTIuYmFsYW5jZVBwaS5jcmVkaXQgPiAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAyMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2RhdGEgPSB7CiAgICAgICAgICAgICAgICAgIGFtb3VudDogX3RoaXMxMi5iYWxhbmNlUHBpLmJhbGFuY2UsCiAgICAgICAgICAgICAgICAgIG1vbnRoT2Y6IF90aGlzMTIubW9udGhseVJldHVybi5tb250aE9mLAogICAgICAgICAgICAgICAgICB0eXBlOiAncHBpIG1vbnRobHknLAogICAgICAgICAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvSlNPTigpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICByZXR1cm4gbW9udGhseVJldHVybkhhbmRsZXIuYWRkVHhuUFBJKF9kYXRhLCBfdGhpczEyLm1vbnRobHlSZXR1cm4ubW9udGhPZiwgJ21vbnRobHknKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDc1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczEyLnN0ZXBzID09PSA0KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA3NTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMi5sb2FkTGlzdFRheCgpOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKF90aGlzMTIuc2FsZXMsICdzYWxlcycpOwogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKF90aGlzMTIucHVyY2hhc2VzLCAncHVyY2hhc2VzJyk7CiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coX3RoaXMxMi53aXRoaG9sZGluZ3MsICd3aXRoaG9sZGluZ3MnKTsKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhfdGhpczEyLnNhbGFyaWVzLCAnc2FsYXJpZXMnKTsKICAgICAgICAgICAgICAgIGFtdFNhbGUgPSAwLCBhY2NTYWxlID0ge30sIGFtdFB1cmNoYXNlID0gMCwgYWNjUHVyY2hhc2UgPSB7fSwgYW10V2h0ID0gMCwgYWNjV2h0ID0ge30sIGFtdFBQaSA9IDAsIGFjY1BQaSA9IHt9LCBhbXRPdGhlciA9IDAsIGFjY090aGVyID0ge30sIGFtdFNhbGFyeSA9IDAsIGFjY1NhbGFyeSA9IHt9LCBhbXRGQlQgPSAwLCBhY2NGQlQgPSB7fTsKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhfdGhpczEyLmxpc3RUYXhzLCBwcm9ncmVzc05hbWUsICdsaXN0VGF4Jyk7CiAgICAgICAgICAgICAgICBhY2NTYWxlID0gX3RoaXMxMi5saXN0VGF4cy5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG8udGF4VHlwZS50eXBlSWQgPT09IDEgJiYgby50cmFuc2FjdGlvblR5cGUgPT09ICdTYWxlJzsKICAgICAgICAgICAgICAgIH0pWzBdLmFjY291bnQ7CiAgICAgICAgICAgICAgICBhY2NQdXJjaGFzZSA9IF90aGlzMTIubGlzdFRheHMuZmlsdGVyKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBvLnRheFR5cGUudHlwZUlkID09PSAxICYmIG8udHJhbnNhY3Rpb25UeXBlID09PSAnUHVyY2hhc2UnOwogICAgICAgICAgICAgICAgfSlbMF0uYWNjb3VudDsKICAgICAgICAgICAgICAgIGFjY1dodCA9IF90aGlzMTIubGlzdFRheHMuZmlsdGVyKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBvLnRheFR5cGUudHlwZUlkID09PSAyICYmIG8udHJhbnNhY3Rpb25UeXBlID09PSAnUHVyY2hhc2UnOwogICAgICAgICAgICAgICAgfSlbMF0uYWNjb3VudDsKICAgICAgICAgICAgICAgIGFjY1BQaSA9IF90aGlzMTIubGlzdFRheHMuZmlsdGVyKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBvLnRheFR5cGUudHlwZUlkID09PSA2OwogICAgICAgICAgICAgICAgfSlbMF0uYWNjb3VudDsKICAgICAgICAgICAgICAgIGFjY090aGVyID0gX3RoaXMxMi5saXN0VGF4cy5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG8udGF4VHlwZS50eXBlSWQgPT09IDc7CiAgICAgICAgICAgICAgICB9KVswXS5hY2NvdW50OwogICAgICAgICAgICAgICAgYWNjU2FsYXJ5ID0gX3RoaXMxMi5saXN0VGF4cy5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG8udGF4VHlwZS50eXBlSWQgPT09IDM7CiAgICAgICAgICAgICAgICB9KVswXS5hY2NvdW50OwogICAgICAgICAgICAgICAgYWNjRkJUID0gX3RoaXMxMi5saXN0VGF4cy5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG8udGF4VHlwZS50eXBlSWQgPT09IDQ7CiAgICAgICAgICAgICAgICB9KVswXS5hY2NvdW50OwoKICAgICAgICAgICAgICAgIF90aGlzMTIuc2FsZXMuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICBpZiAoaS5pdGVtTGluZVswXS50YXhOYW1lLmFjY291bnRJZCA9PT0gYWNjU2FsZS5pZCkgewogICAgICAgICAgICAgICAgICAgIGFtdFNhbGUgKz0gaS50b3RhbFZBVDsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKGkuaXRlbUxpbmVbMF0uc3BlY2lmaWNUYXguYWNjb3VudElkID09PSBhY2NPdGhlci5pZCkgewogICAgICAgICAgICAgICAgICAgIGFtdE90aGVyICs9IGkudG90YWxTcGVjaWZpY1RheDsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKGkuaXRlbUxpbmVbMF0ucHViVGF4LmFjY291bnRJZCA9PT0gYWNjT3RoZXIuaWQpIHsKICAgICAgICAgICAgICAgICAgICBhbXRPdGhlciArPSBpLnRvdGFsUHViVGF4OwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAoaS5pdGVtTGluZVswXS5hY2NvbVRheC5hY2NvdW50SWQgPT09IGFjY090aGVyLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgYW10T3RoZXIgKz0gaS50b3RhbEFjY29tVGF4OwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczEyLnB1cmNoYXNlcy5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgIGlmIChpLml0ZW1MaW5lWzBdLnRheE5hbWUuYWNjb3VudElkID09PSBhY2NQdXJjaGFzZS5pZCkgewogICAgICAgICAgICAgICAgICAgIGFtdFB1cmNoYXNlICs9IGkudG90YWxWQVQ7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF90aGlzMTIud2l0aGhvbGRpbmdzLmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgaWYgKGkuaXRlbUxpbmVbMF0udGF4TmFtZS5hY2NvdW50SWQgPT09IGFjY1dodC5pZCkgewogICAgICAgICAgICAgICAgICAgIGFtdFdodCArPSBpLnRvdGFsVkFUOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczEyLnNhbGFyaWVzLmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgYW10U2FsYXJ5ICs9IGkuYW1vdW50VGF4U2FsYXJ5OwogICAgICAgICAgICAgICAgICBhbXRGQlQgKz0gaS50YXhBbW91bnRCZW5lZml0OwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgYW10UFBpID0gX3RoaXMxMi5iYWxhbmNlUHBpLmJhbGFuY2U7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTIuam91cm5hbFN1bW1hcnkubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTIuam91cm5hbFN1bW1hcnkgPSBbewogICAgICAgICAgICAgICAgICAgIGlkOiAibXItIi5jb25jYXQodXVpZC52MSgpKSwKICAgICAgICAgICAgICAgICAgICBleGNoYW5nZV9yYXRlOiBfdGhpczEyLmN1cnJlbmN5LnJhdGUsCiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IF90aGlzMTIuY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogYWNjU2FsZSwKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGtlbmRvLnBhcnNlRmxvYXQoYW10U2FsZSkKICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIGlkOiAibXItIi5jb25jYXQodXVpZC52MSgpKSwKICAgICAgICAgICAgICAgICAgICBleGNoYW5nZV9yYXRlOiBfdGhpczEyLmN1cnJlbmN5LnJhdGUsCiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IF90aGlzMTIuY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogYWNjUHVyY2hhc2UsCiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBrZW5kby5wYXJzZUZsb2F0KGFtdFB1cmNoYXNlKSAqIC0xCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICBpZDogIm1yLSIuY29uY2F0KHV1aWQudjEoKSksCiAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VfcmF0ZTogX3RoaXMxMi5jdXJyZW5jeS5yYXRlLAogICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBfdGhpczEyLmN1cnJlbmN5LAogICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGFjY1dodCwKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtdFdodAogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgaWQ6ICJtci0iLmNvbmNhdCh1dWlkLnYxKCkpLAogICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlX3JhdGU6IF90aGlzMTIuY3VycmVuY3kucmF0ZSwKICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogX3RoaXMxMi5jdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiBhY2NPdGhlciwKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtdE90aGVyCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICBpZDogIm1yLSIuY29uY2F0KHV1aWQudjEoKSksCiAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VfcmF0ZTogX3RoaXMxMi5jdXJyZW5jeS5yYXRlLAogICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBfdGhpczEyLmN1cnJlbmN5LAogICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGFjY1BQaSwKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtdFBQaQogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgaWQ6ICJtci0iLmNvbmNhdCh1dWlkLnYxKCkpLAogICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlX3JhdGU6IF90aGlzMTIuY3VycmVuY3kucmF0ZSwKICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogX3RoaXMxMi5jdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiBhY2NTYWxhcnksCiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbXRTYWxhcnkKICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIGlkOiAibXItIi5jb25jYXQodXVpZC52MSgpKSwKICAgICAgICAgICAgICAgICAgICBleGNoYW5nZV9yYXRlOiBfdGhpczEyLmN1cnJlbmN5LnJhdGUsCiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IF90aGlzMTIuY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogYWNjRkJULAogICAgICAgICAgICAgICAgICAgIGFtb3VudDogYW10RkJUCiAgICAgICAgICAgICAgICAgIH1dOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhfdGhpczEyLmpvdXJuYWxTdW1tYXJ5LCAnam91cm5hbFN1bW1hcnknKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDUwOwogICAgICAgICAgICAgICAgcmV0dXJuIG1vbnRobHlSZXR1cm5IYW5kbGVyLmNyZWF0ZUpvdXJuYWwoX3RoaXMxMi5qb3VybmFsU3VtbWFyeSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMsICdjcmVhdGUgam91cm5hbCBtb250aGx5IHJldHVybicpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNTA6CiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coYW10U2FsZSwgYWNjU2FsZSwgJ2Ftb3VudCBzYWxlIGFjYycpOwogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGFtdFB1cmNoYXNlLCBhY2NQdXJjaGFzZSwgJ2Ftb3VudCBwdXJjaGFzZSBhY2MnKTsKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhhbXRXaHQsIGFjY1dodCwgJ2Ftb3VudCB3aHQgYWNjJyk7CiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coYW10T3RoZXIsIGFjY090aGVyLCAnYW1vdW50IG90aGVyIGFjYycpOwogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGFtdFBQaSwgYWNjUFBpLCAnYW1vdW50IFBQaSBhY2MnKTsKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhhbXRTYWxhcnksIGFjY1NhbGFyeSwgJ2Ftb3VudCBTYWxhcnkgYWNjJyk7CiAgICAgICAgICAgICAgICBwcm9ncmVzc05hbWUgPSAnRmluYWxpemUnOwogICAgICAgICAgICAgICAgX3RoaXMxMi5tb250aGx5UmV0dXJuLmFtb3VudFBhaWQgPSBfdGhpczEyLnRvdGFsQW1vdW50UGFpZC5hbW91bnQ7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTIudG90YWxBbW91bnRQYWlkLnN1bW1hcnkgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICBfdGhpczEyLnRvdGFsQW1vdW50UGFpZC5zdW1tYXJ5Lm1vbnRoT2YgPSBfdGhpczEyLm1vbnRobHlSZXR1cm4ubW9udGhPZjsKICAgICAgICAgICAgICAgICAgc3VtbWFyeUhhbmRsZXIuY3JlYXRlKF90aGlzMTIudG90YWxBbW91bnRQYWlkLnN1bW1hcnkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMsICdzdW1tYXJ5IGNyZWF0ZScpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczEyLmJhbGFuY2VWYXQuY3JlZGl0ICYmIF90aGlzMTIuYmFsYW5jZVZhdC5jcmVkaXQgPiAwIHx8IF90aGlzMTIuYmFsYW5jZVZhdC5wYXltZW50ICYmIF90aGlzMTIuYmFsYW5jZVZhdC5wYXltZW50ID4gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNjM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9kYXRhMiA9IHsKICAgICAgICAgICAgICAgICAgY3JlZGl0OiBfdGhpczEyLmJhbGFuY2VWYXQuY3JlZGl0LAogICAgICAgICAgICAgICAgICBwYXltZW50OiBfdGhpczEyLmJhbGFuY2VWYXQucGF5bWVudCwKICAgICAgICAgICAgICAgICAgbW9udGhPZjogX3RoaXMxMi5tb250aGx5UmV0dXJuLm1vbnRoT2YsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICd2YXQgbW9udGhseScsCiAgICAgICAgICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9KU09OKCkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA2MzsKICAgICAgICAgICAgICAgIHJldHVybiBtb250aGx5UmV0dXJuSGFuZGxlci5hZGRUeG5WQVQoX2RhdGEyLCBfdGhpczEyLm1vbnRobHlSZXR1cm4ubW9udGhPZiwgJ21vbnRobHknKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2MzoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTIuYmFsYW5jZVBwaS5iYWxhbmNlICYmIF90aGlzMTIuYmFsYW5jZVBwaS5iYWxhbmNlID4gMCB8fCBfdGhpczEyLmJhbGFuY2VQcGkuY3JlZGl0ICYmIF90aGlzMTIuYmFsYW5jZVBwaS5jcmVkaXQgPiAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA2NzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2RhdGEzID0gewogICAgICAgICAgICAgICAgICBhbW91bnQ6IF90aGlzMTIuYmFsYW5jZVBwaS5iYWxhbmNlLAogICAgICAgICAgICAgICAgICBtb250aE9mOiBfdGhpczEyLm1vbnRobHlSZXR1cm4ubW9udGhPZiwKICAgICAgICAgICAgICAgICAgdHlwZTogJ3BwaSBtb250aGx5JywKICAgICAgICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoKS50b0pTT04oKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDY3OwogICAgICAgICAgICAgICAgcmV0dXJuIG1vbnRobHlSZXR1cm5IYW5kbGVyLmFkZFR4blBQSShfZGF0YTMsIF90aGlzMTIubW9udGhseVJldHVybi5tb250aE9mLCAnbW9udGhseScpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY3OgogICAgICAgICAgICAgICAgX3RoaXMxMi5tb250aGx5UmV0dXJuLmRhdGVTYWxlID0gX3RoaXMxMi5kYXRlU2FsZS5kYXRlOwogICAgICAgICAgICAgICAgX3RoaXMxMi5tb250aGx5UmV0dXJuLmRhdGVQdXJjaGFzZSA9IF90aGlzMTIuZGF0ZVB1cmNoYXNlLmRhdGU7CiAgICAgICAgICAgICAgICBfdGhpczEyLm1vbnRobHlSZXR1cm4uZGF0ZVdodCA9IF90aGlzMTIuZGF0ZVdodC5kYXRlOwogICAgICAgICAgICAgICAgX3RoaXMxMi5tb250aGx5UmV0dXJuLmRhdGVTYWxhcnkgPSBfdGhpczEyLmRhdGVTYWxhcnkuZGF0ZTsKICAgICAgICAgICAgICAgIF90aGlzMTIubW9udGhseVJldHVybi5hbW91bnREbFNhbGUgPSBfdGhpczEyLmRhdGVTYWxlLmFtb3VudDsKICAgICAgICAgICAgICAgIF90aGlzMTIubW9udGhseVJldHVybi5hbW91bnREbFB1cmNoYXNlID0gX3RoaXMxMi5kYXRlUHVyY2hhc2UuYW1vdW50OwogICAgICAgICAgICAgICAgX3RoaXMxMi5tb250aGx5UmV0dXJuLmFtb3VudERsV2h0ID0gX3RoaXMxMi5kYXRlV2h0LmFtb3VudDsKICAgICAgICAgICAgICAgIF90aGlzMTIubW9udGhseVJldHVybi5hbW91bnREbFNhbGFyeSA9IF90aGlzMTIuZGF0ZVNhbGFyeS5hbW91bnQ7CgogICAgICAgICAgICAgIGNhc2UgNzU6CiAgICAgICAgICAgICAgICBfdGhpczEyLm1vbnRobHlSZXR1cm4ucHJvZ3Jlc3MgPSBwcm9ncmVzc05hbWU7CiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coX3RoaXMxMi5tb250aGx5UmV0dXJuLCAnbW9udGhseVJldHVybicpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNzk7CiAgICAgICAgICAgICAgICByZXR1cm4gbW9udGhseVJldHVybkhhbmRsZXIuY3JlYXRlKF90aGlzMTIubW9udGhseVJldHVybikudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIubW9udGhseVJldHVybiA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMi5zYWxlcy5sZW5ndGggPiAwKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNhbGVIYW5kbGVyLmNyZWF0ZShfdGhpczEyLnNhbGVzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oX3RoaXMxMi5tb250aGx5UmV0dXJuLmFiYnIgKyBfdGhpczEyLm1vbnRobHlSZXR1cm4ubnVtYmVyICsgJyZTYWxlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTIucHVyY2hhc2VzLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHVyY2hhc2VIYW5kbGVyLmNyZWF0ZShfdGhpczEyLnB1cmNoYXNlcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKF90aGlzMTIubW9udGhseVJldHVybi5hYmJyICsgX3RoaXMxMi5tb250aGx5UmV0dXJuLm51bWJlciArICcmUHVyY2hhc2UnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMi53aXRoaG9sZGluZ3MubGVuZ3RoID4gMCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpdGhob2xkaW5nSGFuZGxlci5jcmVhdGUoX3RoaXMxMi53aXRoaG9sZGluZ3MpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShfdGhpczEyLm1vbnRobHlSZXR1cm4uYWJiciArIF90aGlzMTIubW9udGhseVJldHVybi5udW1iZXIgKyAnJldpdGhob2xkaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfdGhpczEyLnNhbGFyaWVzLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzYWxhcnlIYW5kbGVyLmNyZWF0ZShfdGhpczEyLnNhbGFyaWVzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oX3RoaXMxMi5tb250aGx5UmV0dXJuLmFiYnIgKyBfdGhpczEyLm1vbnRobHlSZXR1cm4ubnVtYmVyICsgJyZTYWxhcnknKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUuZXJyb3IoZS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBuZXh0U3RwZXM6IGZ1bmN0aW9uIG5leHRTdHBlcygpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMy5zdGVwcyA9PSA0KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczEzLnNhdmVfbmV4dCA9ICJjb25maXJtX2Nsb3NlIjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMy5zYXZlRHJhZnQoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3RoaXMxMy5zYXZlX25leHQgPSAiY29uZmlybV9uZXh0IjsKICAgICAgICAgICAgICAgIF90aGlzMTMuc3RlcHMgPSBfdGhpczEzLnN0ZXBzICsgMTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMy5yZWFjaFRvcFN0ZXAgPD0gX3RoaXMxMy5zdGVwcykgewogICAgICAgICAgICAgICAgICBfdGhpczEzLnJlYWNoVG9wU3RlcCA9IF90aGlzMTMuc3RlcHM7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMxMy5zdGVwc0NvbmRpdGlvbihfdGhpczEzLnN0ZXBzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgQ2xpY2tTdGVwczogZnVuY3Rpb24gQ2xpY2tTdGVwcyhzdGVwKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTQuc3RlcHMgPT09IHN0ZXApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGlmICghKHN0ZXAgPiBfdGhpczE0LnJlYWNoVG9wU3RlcCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgaWYgKHN0ZXAgIT09IDQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxNC5zYXZlX25leHQgPSAiY29uZmlybV9uZXh0IjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2F2ZV9uZXh0ID0gImNvbmZpcm1fY2xvc2UiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMTQuc3RlcHMgPSBzdGVwOwoKICAgICAgICAgICAgICAgIF90aGlzMTQuc3RlcHNDb25kaXRpb24oX3RoaXMxNC5zdGVwcyk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc3RlcHNDb25kaXRpb246IGZ1bmN0aW9uIHN0ZXBzQ29uZGl0aW9uKHZhbCkgewogICAgICBzd2l0Y2ggKHZhbCkgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIHRoaXMuYWN0aXZlQ29sb3IxID0gInByaW1hcnkiOwogICAgICAgICAgdGhpcy5hY3RpdmVDb2xvcjIgPSAidGhpcmQiOwogICAgICAgICAgdGhpcy5hY3RpdmVDb2xvcjMgPSAidGhpcmQiOwogICAgICAgICAgdGhpcy5hY3RpdmVDb2xvcjQgPSAidGhpcmQiOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHRoaXMuYWN0aXZlQ29sb3IxID0gInRoaXJkIjsKICAgICAgICAgIHRoaXMuYWN0aXZlQ29sb3IyID0gInByaW1hcnkiOwogICAgICAgICAgdGhpcy5hY3RpdmVDb2xvcjMgPSAidGhpcmQiOwogICAgICAgICAgdGhpcy5hY3RpdmVDb2xvcjQgPSAidGhpcmQiOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIHRoaXMuYWN0aXZlQ29sb3IxID0gInRoaXJkIjsKICAgICAgICAgIHRoaXMuYWN0aXZlQ29sb3IyID0gInRoaXJkIjsKICAgICAgICAgIHRoaXMuYWN0aXZlQ29sb3IzID0gInByaW1hcnkiOwogICAgICAgICAgdGhpcy5hY3RpdmVDb2xvcjQgPSAidGhpcmQiOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICB0aGlzLmFjdGl2ZUNvbG9yMSA9ICJ0aGlyZCI7CiAgICAgICAgICB0aGlzLmFjdGl2ZUNvbG9yMiA9ICJ0aGlyZCI7CiAgICAgICAgICB0aGlzLmFjdGl2ZUNvbG9yMyA9ICJ0aGlyZCI7CiAgICAgICAgICB0aGlzLmFjdGl2ZUNvbG9yNCA9ICJwcmltYXJ5IjsKICAgICAgICAgIHRoaXMuaXNGaW5hbCA9IHRydWU7CiAgICAgICAgICB0aGlzLnNhdmVfbmV4dCA9ICJjb25maXJtX2Nsb3NlIjsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgbnVtYmVyRm9ybWF0OiBmdW5jdGlvbiBudW1iZXJGb3JtYXQodmFsdWUpIHsKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwsJ25pbW9sJykKICAgICAgaWYgKHZhbHVlID49IDApIHsKICAgICAgICByZXR1cm4gdmFsdWUudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWRMaXN0VGF4KCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNigpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTYucHJldiA9IF9jb250ZXh0MTYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNS5vbmxvYWRDdXJyZW5jeSgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTUuaW5pdERhdGEoKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczE1LmxvYWRQcmVmaXgoKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTYpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["newTaxReturn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuOA,OAAA,SAAA,MAAA,sBAAA;AACA,OAAA,aAAA,MAAA,0CAAA;AACA,SAAA,IAAA,QAAA,QAAA;AACA,OAAA,KAAA,MAAA,oBAAA;AACA,SAAA,IAAA,QAAA,UAAA;AACA,OAAA,iBAAA,MAAA,6BAAA;;AACA,IAAA,oBAAA,GAAA,OAAA,CAAA,mDAAA,CAAA;;AACA,IAAA,WAAA,GAAA,OAAA,CAAA,0CAAA,CAAA;;AACA,IAAA,eAAA,GAAA,OAAA,CAAA,8CAAA,CAAA;;AACA,IAAA,aAAA,GAAA,OAAA,CAAA,4CAAA,CAAA;;AACA,IAAA,kBAAA,GAAA,OAAA,CAAA,oDAAA,CAAA;;AACA,IAAA,aAAA,GAAA,IAAA,aAAA,CAAA,EAAA,CAAA;;AACA,IAAA,aAAA,GAAA,OAAA,CAAA,4CAAA,CAAA;;AACA,IAAA,cAAA,GAAA,OAAA,CAAA,6CAAA,CAAA;;AACA,IAAA,eAAA,GAAA,OAAA,CAAA,4CAAA,CAAA;;AACA,IAAA,MAAA,GAAA,OAAA,CAAA,UAAA,CAAA,C,CACA;;;AACA,IAAA,YAAA,GAAA;AACA,EAAA,qBAAA,EAAA;AADA,CAAA,C,CAGA;;AACA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA;AACA,iBAAA,SADA;AAEA;AACA,IAAA,QAAA,EAAA;AAAA,aAAA,OAAA,kBAAA,CAAA;AAAA,KAHA;AAIA,IAAA,SAAA,EAAA;AAAA,aAAA,OAAA,oBAAA,CAAA;AAAA,KAJA;AAKA,IAAA,OAAA,EAAA;AAAA,aAAA,OAAA,sBAAA,CAAA;AAAA,KALA;AAMA,IAAA,QAAA,EAAA;AAAA,aAAA,OAAA,qBAAA,CAAA;AAAA;AANA,GAFA;AAUA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,EAHA;AAIA,MAAA,WAAA,EAAA,KAJA;AAKA,MAAA,KAAA,EAAA,EALA;AAMA,MAAA,SAAA,EAAA,EANA;AAOA,MAAA,YAAA,EAAA,EAPA;AAQA,MAAA,KAAA,EAAA,CARA;AASA,MAAA,YAAA,EAAA,CATA;AAUA,MAAA,KAAA,EAAA,KAVA;AAWA,MAAA,SAAA,EAAA,WAXA;AAYA,MAAA,YAAA,EAAA,SAZA;AAaA,MAAA,YAAA,EAAA,OAbA;AAcA,MAAA,YAAA,EAAA,OAdA;AAeA,MAAA,YAAA,EAAA,OAfA;AAgBA,MAAA,OAAA,EAAA,KAhBA;AAiBA;AACA,MAAA,MAAA,EAAA,KAlBA;AAmBA,MAAA,MAAA,EAAA,KAnBA;AAoBA,MAAA,MAAA,EAAA,KApBA;AAqBA,MAAA,UAAA,EAAA,EArBA;AAsBA,MAAA,YAAA,EAAA,EAtBA;AAuBA;AAEA,MAAA,QAAA,EAAA,KAzBA;AA0BA,MAAA,gBAAA,EAAA,EA1BA;AA2BA,MAAA,aAAA,EAAA,aA3BA;AA4BA;AACA,MAAA,cAAA,EAAA,KA7BA;AA+BA,MAAA,QAAA,EAAA,EA/BA;AAgCA,MAAA,KAAA,EAAA,EAhCA;AAiCA,MAAA,SAAA,EAAA,EAjCA;AAkCA,MAAA,QAAA,EAAA,EAlCA;AAmCA,MAAA,YAAA,EAAA,EAnCA;AAoCA,MAAA,UAAA,EAAA,CApCA;AAqCA,MAAA,eAAA,EAAA,CArCA;AAsCA,MAAA,mBAAA,EAAA,CAtCA;AAuCA,MAAA,mBAAA,EAAA,CAvCA;AAwCA,MAAA,SAAA,EAAA,CAxCA;AAyCA,MAAA,YAAA,EAAA,CAzCA;AA0CA,MAAA,aAAA,EAAA,CA1CA;AA2CA,MAAA,WAAA,EAAA,CA3CA;AA4CA,MAAA,eAAA,EAAA,CA5CA;AA6CA,MAAA,OAAA,EAAA,EA7CA;AA8CA,MAAA,OAAA,EAAA,KA9CA;AA+CA,MAAA,UAAA,EAAA,EA/CA;AAgDA,MAAA,UAAA,EAAA,EAhDA;AAiDA,MAAA,QAAA,EAAA,EAjDA;AAkDA,MAAA,YAAA,EAAA,EAlDA;AAmDA,MAAA,OAAA,EAAA,EAnDA;AAoDA,MAAA,UAAA,EAAA,EApDA;AAqDA,MAAA,QAAA,EAAA,KArDA;AAsDA,MAAA,cAAA,EAAA,EAtDA;AAuDA,MAAA,QAAA,EAAA;AAvDA,KAAA;AAAA,GAVA;AAmEA,EAAA,QAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,aAAA,KAAA,aAAA,CAAA,MAAA,KAAA,EAAA,IAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,KAAA,EAAA;AACA,KAHA;AAIA,IAAA,EAJA,gBAIA;AACA,UAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA;AACA,eAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,OAFA,MAEA;AACA,eAAA,EAAA;AACA;AACA,KAVA;AAWA,IAAA,SAXA,uBAWA;AACA,aAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,KAAA,SAAA,IAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,KAAA,MAAA,IAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,KAAA,MAAA;AACA,KAbA,CAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AArBA,GAnEA;AA0FA,EAAA,KAAA,EAAA;AACA,UAAA;AADA,GA1FA;AA6FA,EAAA,gBA7FA,4BA6FA,EA7FA,EA6FA,IA7FA,EA6FA,IA7FA,EA6FA;AAAA;;AACA,QAAA,EAAA,CAAA,IAAA,KAAA,cAAA,IAAA,EAAA,CAAA,IAAA,KAAA,UAAA,IAAA,EAAA,CAAA,IAAA,KAAA,qBAAA,EAAA;AACA,MAAA,IAAA;AACA,KAFA,MAEA;AACA,UAAA,KAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,UAAA,CAAA,IAAA;;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,CAAA,IAAA,KAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,MAAA,KAAA,KAAA;AAAA,OAAA,CAAA,EAAA;AACA,aAAA,KAAA,CAAA;AACA,UAAA,KAAA,EAAA,IAAA,CAAA,CAAA,CAAA,mBAAA,CADA;AAEA,UAAA,IAAA,EAAA,IAAA,CAAA,CAAA,CAAA,WAAA,CAFA;AAGA,UAAA,IAAA,EAAA,SAHA;AAIA,UAAA,gBAAA,EAAA,IAAA,CAAA,CAAA,CAAA,aAAA,CAJA;AAKA,UAAA,kBAAA,EAAA,SALA;AAMA,UAAA,iBAAA,EAAA,SANA;AAOA,UAAA,cAAA,EAAA,IAPA;AAQA,UAAA,iBAAA,EAAA,IAAA,CAAA,CAAA,CAAA,OAAA,CARA;AASA,UAAA,gBAAA,EAAA,IATA;AAUA,UAAA,eAAA,EAAA;AAVA,SAAA,EAWA,IAXA,CAWA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,WAAA,IAAA,GAAA,CAAA,WAAA,IAAA,GAAA,CAAA,OAAA,KAAA,QAAA,EAAA;AACA,YAAA,IAAA;;AACA,YAAA,KAAA,CAAA,KAAA;;AACA,YAAA,KAAA,CAAA,UAAA,GAAA,CAAA;AACA,YAAA,KAAA,CAAA,eAAA,GAAA,CAAA;AACA,YAAA,KAAA,CAAA,cAAA,GAAA,CAAA;AACA,YAAA,KAAA,CAAA,SAAA,GAAA,CAAA;AACA,YAAA,KAAA,CAAA,WAAA,GAAA,CAAA;AACA,YAAA,KAAA,CAAA,eAAA,GAAA,CAAA;AACA,WATA,MASA;AACA,YAAA,IAAA,CAAA,KAAA,CAAA;AACA;;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,SAAA;AACA,SAzBA;AA0BA,OA3BA,MA2BA;AACA,YAAA,KAAA,aAAA,CAAA,QAAA,KAAA,EAAA,IAAA,KAAA,OAAA,EAAA;AACA,eAAA,KAAA,CAAA;AACA,YAAA,KAAA,EAAA,IAAA,CAAA,CAAA,CAAA,mBAAA,CADA;AAEA,YAAA,IAAA,EAAA,IAAA,CAAA,CAAA,CAAA,aAAA,CAFA;AAGA,YAAA,IAAA,EAAA,SAHA;AAIA,YAAA,gBAAA,EAAA,IAJA;AAKA,YAAA,gBAAA,EAAA,IAAA,CAAA,CAAA,CAAA,QAAA,CALA;AAMA,YAAA,kBAAA,EAAA,SANA;AAOA,YAAA,iBAAA,EAAA,SAPA;AAQA,YAAA,iBAAA,EAAA,IAAA,CAAA,CAAA,CAAA,SAAA;AARA,WAAA,EASA,IATA,CASA,UAAA,GAAA,EAAA;AACA,gBAAA,GAAA,CAAA,WAAA,EAAA;AACA,cAAA,IAAA;;AACA,cAAA,KAAA,CAAA,KAAA;;AACA,cAAA,KAAA,CAAA,UAAA,GAAA,CAAA;AACA,cAAA,KAAA,CAAA,eAAA,GAAA,CAAA;AACA,cAAA,KAAA,CAAA,cAAA,GAAA,CAAA;AACA,cAAA,KAAA,CAAA,SAAA,GAAA,CAAA;AACA,cAAA,KAAA,CAAA,WAAA,GAAA,CAAA;AACA,cAAA,KAAA,CAAA,eAAA,GAAA,CAAA;AACA,aATA,MASA;AACA,cAAA,IAAA,CAAA,KAAA,CAAA;AACA;AACA,WAtBA;AAuBA,SAxBA,MAwBA;AACA,UAAA,IAAA;AACA;AACA;AACA;AACA,GA3JA;AA4JA,EAAA,OAAA,EAAA;AACA,IAAA,kBADA,gCACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,oBAAA,CAAA,UAAA,CAAA,MAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,cAAA;;AACA,sBAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,oBAAA,MAAA,CAAA,QAAA,GAAA,IAAA;AACA;AACA,iBALA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KARA;AASA,IAAA,gBATA,4BASA,QATA,EASA;AACA,UAAA,KAAA,SAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,aAAA,SAAA,GAAA,QAAA;AACA;AACA,KAbA;AAcA,IAAA,aAdA,yBAcA,OAdA,EAcA;AACA,WAAA,UAAA,GAAA,OAAA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,KAAA,UAAA,CAAA,MAAA,EAAA,KAAA,UAAA,CAAA,OAAA,EAAA,YAAA;AACA,KAjBA;AAkBA,IAAA,aAlBA,yBAkBA,OAlBA,EAkBA;AACA,WAAA,UAAA,GAAA,OAAA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,KAAA,UAAA,EAAA,YAAA;AACA,KArBA;AAsBA,IAAA,UAtBA,sBAsBA,OAtBA,EAsBA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,qBAAA,EAAA,OAAA;AACA,WAAA,OAAA,GAAA,OAAA;AACA,KAzBA;AA0BA,IAAA,UA1BA,sBA0BA,IA1BA,EA0BA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,KA5BA;AA6BA,IAAA,SA7BA,qBA6BA,MA7BA,EA6BA;AACA,WAAA,QAAA,GAAA,MAAA;AACA,KA/BA;AAgCA,IAAA,eAhCA,2BAgCA,IAhCA,EAgCA;AACA,WAAA,YAAA,GAAA,IAAA;AACA,KAlCA;AAmCA,IAAA,WAnCA,uBAmCA,IAnCA,EAmCA;AACA,WAAA,QAAA,GAAA,IAAA;AACA,KArCA;AAsCA,IAAA,kBAtCA,8BAsCA,MAtCA,EAsCA;AACA,WAAA,eAAA,GAAA,MAAA;AACA,KAxCA;AAyCA,IAAA,cAzCA,0BAyCA,MAzCA,EAyCA;AACA,WAAA,WAAA,GAAA,MAAA;AACA,KA3CA;AA4CA,IAAA,kBA5CA,8BA4CA,SA5CA,EA4CA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,wBAAA,EAAA,SAAA;AACA,WAAA,eAAA,GAAA,SAAA;AACA,KA/CA;AAgDA,IAAA,cAhDA,0BAgDA,WAhDA,EAgDA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,yBAAA,EAAA,WAAA;AACA,WAAA,YAAA,GAAA,WAAA;AACA,KAnDA;AAoDA,IAAA,eApDA,2BAoDA,MApDA,EAoDA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,oBAAA,EAAA,MAAA;AACA,WAAA,YAAA,GAAA,MAAA;AACA,KAvDA;AAwDA,IAAA,YAxDA,wBAwDA,MAxDA,EAwDA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,qBAAA,EAAA,MAAA;AACA,WAAA,aAAA,GAAA,MAAA;AACA,KA3DA;AA4DA,IAAA,gBA5DA,4BA4DA,QA5DA,EA4DA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,sBAAA,EAAA,QAAA;AACA,WAAA,SAAA,GAAA,QAAA;AACA,KA/DA;AAgEA,IAAA,YAhEA,wBAgEA,IAhEA,EAgEA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,kBAAA,EAAA,IAAA;AACA,WAAA,KAAA,GAAA,IAAA;AACA,KAnEA;AAoEA,IAAA,YApEA,wBAoEA,MApEA,EAoEA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,MAAA;AACA,WAAA,SAAA,GAAA,MAAA;AACA,KAvEA;AAwEA,IAAA,OAxEA,mBAwEA,IAxEA,EAwEA;AACA,WAAA,KAAA,GAAA,IAAA;;AACA,UAAA,KAAA,YAAA,IAAA,KAAA,KAAA,EAAA;AACA,aAAA,YAAA,GAAA,KAAA,KAAA;AACA;;AACA,WAAA,cAAA,CAAA,KAAA,KAAA;AACA,KA9EA;AA+EA,IAAA,sBA/EA,kCA+EA,MA/EA,EA+EA;AACA,WAAA,mBAAA,GAAA,MAAA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,KAAA,mBAAA,EAAA,sBAAA;AACA,KAlFA;AAmFA,IAAA,sBAnFA,kCAmFA,MAnFA,EAmFA;AACA,WAAA,mBAAA,GAAA,MAAA;AACA,KArFA;AAsFA,IAAA,aAtFA,yBAsFA,MAtFA,EAsFA;AACA,WAAA,UAAA,GAAA,MAAA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,KAAA,UAAA,EAAA,kBAAA;AACA,KAzFA;AA0FA,IAAA,QA1FA,sBA0FA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,WAAA,GAAA,IAAA;;AADA,sBAEA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,KAAA,SAAA,IAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,aAAA,KAAA,SAFA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAGA,MAAA,CAAA,eAAA,EAHA;;AAAA;AAIA,gBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,KAAA;AAJA;AAAA;;AAAA;AAKA,oBAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,aAAA,KAAA,SAAA,EAAA;AACA,kBAAA,MAAA,CAAA,aAAA,GAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,aAAA;;AACA,sBAAA,MAAA,CAAA,aAAA,CAAA,MAAA,CAAA,EAAA,KAAA,CAAA,EAAA;AACA,oBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,sBAAA,IAAA,EAAA,iBADA;AAEA,sBAAA,IAAA,EAAA,yBAAA,MAAA,CAAA,aAAA,CAAA,EAFA;AAGA,sBAAA,MAAA,EAAA;AAAA,wBAAA,EAAA,EAAA,MAAA,CAAA,aAAA,CAAA,EAAA;AAAA,wBAAA,aAAA,EAAA,MAAA,CAAA;AAAA,uBAHA;AAIA,sBAAA,KAAA,EAAA;AAAA,wBAAA,IAAA,EAAA;AAAA;AAJA,qBAAA;AAMA;;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,aAAA,EAAA,WAAA;;AACA,kBAAA,MAAA,CAAA,gBAAA,CAAA,MAAA,CAAA,aAAA,CAAA,IAAA,EAAA,MAAA,CAAA,aAAA,CAAA,MAAA;;AACA,kBAAA,IAZA,GAYA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,aAAA,CAAA,IAAA,GAAA,MAAA,CAAA,aAAA,CAAA,MAAA,GAAA,OAAA,CAAA,CAZA;AAaA,kBAAA,KAbA,GAaA,CAbA;;AAcA,sBAAA,MAAA,CAAA,aAAA,CAAA,IAAA,KAAA,EAAA,EAAA;AACA,oBAAA,KAAA,GAAA,MAAA,CAAA,aAAA,CAAA,IAAA;AACA;;AACA,sBAAA,IAAA,GAAA,CAAA,EAAA;AACA,oBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,IAAA;;AACA,wBAAA,MAAA,CAAA,aAAA,CAAA,IAAA,GAAA,IAAA,EAAA;AACA,sBAAA,KAAA,GAAA,MAAA,CAAA,aAAA,CAAA,IAAA;AACA,qBAFA,MAEA;AACA,sBAAA,KAAA,GAAA,IAAA;AACA;AACA;;AACA,kBAAA,MAAA,CAAA,KAAA,GAAA,KAAA;;AACA,sBAAA,MAAA,CAAA,YAAA,IAAA,MAAA,CAAA,KAAA,EAAA;AACA,oBAAA,MAAA,CAAA,YAAA,GAAA,MAAA,CAAA,KAAA;AACA;;AACA,kBAAA,MAAA,CAAA,cAAA,CAAA,MAAA,CAAA,KAAA,EA7BA,CA8BA;;;AACA,kBAAA,MAAA,CAAA,WAAA,GAAA,KAAA;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,KAAA;AACA,iBAjCA,MAiCA;AACA,kBAAA,MAAA,CAAA,KAAA;AACA;;AAxCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyCA,KAnIA;AAoIA,IAAA,KApIA,mBAoIA;AACA,WAAA,aAAA,GAAA,IAAA,aAAA,CAAA,EAAA,CAAA;AACA,WAAA,WAAA,GAAA,KAAA;AACA,KAvIA;AAwIA,IAAA,gBAxIA,4BAwIA,IAxIA,EAwIA,MAxIA,EAwIA;AACA,UAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,IAAA,GAAA,MAAA,GAAA,OAAA,CAAA,CAAA;AACA,UAAA,QAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,IAAA,GAAA,MAAA,GAAA,WAAA,CAAA,CAAA;AACA,UAAA,WAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,IAAA,GAAA,MAAA,GAAA,cAAA,CAAA,CAAA;AACA,UAAA,MAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,IAAA,GAAA,MAAA,GAAA,SAAA,CAAA,CAAA;AACA,UAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,IAAA,GAAA,MAAA,GAAA,OAAA,CAAA,CAAA;;AACA,UAAA,IAAA,KAAA,IAAA,EAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,IAAA,GAAA,MAAA,GAAA,OAAA,EAAA,IAAA,CAAA,SAAA,CAAA,EAAA,CAAA;AACA;;AACA,UAAA,QAAA,KAAA,IAAA,EAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,IAAA,GAAA,MAAA,GAAA,WAAA,EAAA,IAAA,CAAA,SAAA,CAAA,EAAA,CAAA;AACA;;AACA,UAAA,WAAA,KAAA,IAAA,EAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,IAAA,GAAA,MAAA,GAAA,cAAA,EAAA,IAAA,CAAA,SAAA,CAAA,EAAA,CAAA;AACA;;AACA,UAAA,MAAA,KAAA,IAAA,EAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,IAAA,GAAA,MAAA,GAAA,SAAA,EAAA,IAAA,CAAA,SAAA,CAAA,EAAA,CAAA;AACA;;AACA,UAAA,IAAA,KAAA,IAAA,EAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,IAAA,GAAA,MAAA,GAAA,OAAA,EAAA,IAAA,CAAA,SAAA,CAAA,CAAA,CAAA;AACA;AACA,KA7JA;AA8JA,IAAA,OA9JA,qBA8JA;AAAA;;AACA,UAAA,KAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,UAAA,CAAA,IAAA;AACA,UAAA,SAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,UAAA,CAAA,QAAA;AACA,UAAA,WAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,UAAA,CAAA,WAAA;;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,CAAA,IAAA,KAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,MAAA,KAAA,KAAA;AAAA,OAAA,CAAA,IAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,MAAA,KAAA,KAAA;AAAA,OAAA,CAAA,IAAA,WAAA,CAAA,MAAA,GAAA,CAAA,IAAA,WAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,MAAA,KAAA,KAAA;AAAA,OAAA,CAAA,EAAA;AACA,aAAA,KAAA,CAAA;AACA,UAAA,KAAA,EAAA,IAAA,CAAA,CAAA,CAAA,mBAAA,CADA;AAEA,UAAA,IAAA,EAAA,IAAA,CAAA,CAAA,CAAA,WAAA,CAFA;AAGA,UAAA,IAAA,EAAA,SAHA;AAIA,UAAA,gBAAA,EAAA,IAAA,CAAA,CAAA,CAAA,aAAA,CAJA;AAKA,UAAA,kBAAA,EAAA,SALA;AAMA,UAAA,iBAAA,EAAA,SANA;AAOA,UAAA,cAAA,EAAA,IAPA;AAQA,UAAA,iBAAA,EAAA,IAAA,CAAA,CAAA,CAAA,OAAA,CARA;AASA,UAAA,gBAAA,EAAA,IATA;AAUA,UAAA,eAAA,EAAA;AAVA,SAAA,EAWA,IAXA,CAWA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,WAAA,IAAA,GAAA,CAAA,WAAA,IAAA,GAAA,CAAA,OAAA,KAAA,QAAA,EAAA;AACA,YAAA,MAAA,CAAA,KAAA;AACA;;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,SAAA;AACA,SAhBA;AAiBA,OAlBA,MAkBA;AACA,YAAA,KAAA,aAAA,CAAA,QAAA,KAAA,EAAA,IAAA,KAAA,OAAA,EAAA;AACA,eAAA,KAAA,CAAA;AACA,YAAA,KAAA,EAAA,IAAA,CAAA,CAAA,CAAA,mBAAA,CADA;AAEA,YAAA,IAAA,EAAA,IAAA,CAAA,CAAA,CAAA,aAAA,CAFA;AAGA,YAAA,IAAA,EAAA,SAHA;AAIA,YAAA,gBAAA,EAAA,IAJA;AAKA,YAAA,gBAAA,EAAA,IAAA,CAAA,CAAA,CAAA,QAAA,CALA;AAMA,YAAA,kBAAA,EAAA,SANA;AAOA,YAAA,iBAAA,EAAA,SAPA;AAQA,YAAA,iBAAA,EAAA,IAAA,CAAA,CAAA,CAAA,SAAA;AARA,WAAA,EASA,IATA,CASA,UAAA,GAAA,EAAA;AACA,gBAAA,GAAA,CAAA,WAAA,EAAA;AACA,cAAA,MAAA,CAAA,KAAA;AACA;AACA,WAbA;AAcA;AACA,OAvCA,CAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,KAjRA;AAkRA,IAAA,KAlRA,mBAkRA;AACA,WAAA,KAAA;AACA,WAAA,UAAA,GAAA,CAAA;AACA,WAAA,eAAA,GAAA,CAAA;AACA,WAAA,cAAA,GAAA,CAAA;AACA,WAAA,SAAA,GAAA,CAAA;AACA,WAAA,WAAA,GAAA,CAAA;AACA,WAAA,eAAA,GAAA,CAAA,CAPA,CAQA;;AACA,UAAA,CAAA,KAAA,OAAA,EAAA;AACA,aAAA,OAAA,GAAA,KAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AAEA,OAJA,MAIA;AACA,aAAA,OAAA,GAAA,KAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA;AAEA,KArSA;AAsSA,IAAA,gBAtSA,4BAsSA,IAtSA,EAsSA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,oBAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,kBAAA,UAAA,CAAA,YAAA;AACA,oBAAA,OAAA,CAAA,UAAA,CAAA;AACA,oBAAA,MAAA,CAAA,WAAA,GAAA,IAAA;AACA,oBAAA,eAAA,CAAA,IAAA,CAAA,IAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,0BAAA,QAAA,CAAA,IAAA,CAAA,UAAA,KAAA,GAAA,EAAA;AACA,wBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,UAAA,EAAA,EAAA;;AACA,4BAAA,IAAA,KAAA,YAAA,CAAA,qBAAA,EAAA;AACA,0BAAA,MAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA;AACA;AACA,qBAPA,EAOA,KAPA;AAQA;AACA,sBAAA,MAAA,CAAA,WAAA,GAAA,KAAA;AACA;AACA,mBAdA,EAcA,GAdA,CAAA;AAeA,iBAhBA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA,KAxTA;AAyTA,IAAA,cAzTA,4BAyTA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,IADA,GACA,MAAA,CAAA,aAAA,CAAA,OAAA,GAAA,GAAA,GAAA,IADA;AAEA,gBAAA,IAFA,GAEA,KAFA;AAGA,gBAAA,eAAA,CAAA,4BAAA,CAAA,IAAA,EAAA,IAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,MAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,UAAA;AACA,iBAHA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KAhUA;AAiUA,IAAA,eAjUA,6BAiUA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,oBAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,kBAAA,UAAA,CAAA,YAAA;AACA,oBAAA,OAAA,CAAA,UAAA,CAAA;AACA,wBAAA,EAAA,GAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,oBAAA,oBAAA,CAAA,MAAA,CAAA,EAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,sBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,0BAAA;AACA,sBAAA,MAAA,CAAA,aAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA;;AACA,0BAAA,MAAA,CAAA,aAAA,CAAA,MAAA,CAAA,EAAA,KAAA,CAAA,EAAA;AACA,wBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,0BAAA,IAAA,EAAA,iBADA;AAEA,0BAAA,IAAA,EAAA,yBAAA,MAAA,CAAA,aAAA,CAAA,EAFA;AAGA,0BAAA,MAAA,EAAA;AAAA,4BAAA,EAAA,EAAA,MAAA,CAAA,aAAA,CAAA,EAAA;AAAA,4BAAA,aAAA,EAAA,MAAA,CAAA;AAAA,2BAHA;AAIA,0BAAA,KAAA,EAAA;AAAA,4BAAA,IAAA,EAAA;AAAA;AAJA,yBAAA;AAMA;;AACA,sBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,aAAA;;AACA,sBAAA,MAAA,CAAA,gBAAA,CAAA,MAAA,CAAA,aAAA,CAAA,MAAA;;AACA,sBAAA,MAAA,CAAA,KAAA,GAAA,MAAA,CAAA,aAAA,CAAA,IAAA;;AACA,0BAAA,MAAA,CAAA,YAAA,IAAA,MAAA,CAAA,KAAA,EAAA;AACA,wBAAA,MAAA,CAAA,YAAA,GAAA,MAAA,CAAA,KAAA;AACA;;AACA,sBAAA,MAAA,CAAA,cAAA,CAAA,MAAA,CAAA,KAAA,EAjBA,CAkBA;;;AACA,sBAAA,MAAA,CAAA,WAAA,GAAA,KAAA;AACA,qBApBA;AAqBA,mBAxBA,CAAA;AAyBA,iBA1BA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BA,KA7VA;AA8VA,IAAA,WA9VA,yBA8VA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,WAAA,GAAA,IAAA;AADA;AAAA,uBAEA,MAAA,CAAA,kBAAA,EAFA;;AAAA;AAAA,qBAGA,MAAA,CAAA,QAHA;AAAA;AAAA;AAAA;;AAIA,gBAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,wBAAA;;AACA,gBAAA,MAAA,CAAA,QAAA,GAAA,KAAA;AACA,gBAAA,MAAA,CAAA,WAAA,GAAA,KAAA;AANA;;AAAA;AAAA;AAAA,uBASA,MAAA,CAAA,cAAA,EATA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA,KAzWA;AA0WA,IAAA,UA1WA,wBA0WA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,aAAA,CAAA,GAAA,CAAA,gBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,sBAAA,GAAA,CAAA,IAAA,CAAA,UAAA,KAAA,GAAA,EAAA;AACA,oBAAA,MAAA,CAAA,gBAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;;AACA,wBAAA,MAAA,CAAA,gBAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,sBAAA,MAAA,CAAA,aAAA,CAAA,eAAA,GAAA,MAAA,CAAA,gBAAA,CAAA,CAAA,CAAA;AACA;AACA;AACA,iBAPA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAnXA;AAoXA,IAAA,cApXA,4BAoXA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,OAAA,CAAA,aAAA,CAAA,eAAA,CAAA,IAAA,KAAA,SADA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEA,OAAA,CAAA,UAAA,EAFA;;AAAA;AAIA,oBAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,kBAAA,UAAA,CAAA,YAAA;AACA,oBAAA,OAAA,CAAA,UAAA,CAAA;AACA,wBAAA,IAAA,GAAA;AACA,sBAAA,IAAA,EAAA,OAAA,CAAA,aAAA,CAAA,eAAA,CAAA,IADA;AAEA,sBAAA,SAAA,EAAA,OAAA,CAAA,aAAA,CAAA,eAAA,CAAA,SAFA;AAGA,sBAAA,eAAA,EAAA,OAAA,CAAA,aAAA,CAAA,OAHA;AAIA,sBAAA,WAAA,EAAA,OAAA,CAAA,aAAA,CAAA,eAAA,CAAA,WAJA;AAKA,sBAAA,IAAA,EAAA;AALA,qBAAA;AAOA,oBAAA,OAAA,CAAA,aAAA,CAAA,IAAA,GAAA,IAAA,CAAA,IAAA;AACA,oBAAA,OAAA,CAAA,aAAA,CAAA,SAAA,GAAA,IAAA,CAAA,SAAA;AACA,oBAAA,OAAA,CAAA,aAAA,CAAA,WAAA,GAAA,IAAA,CAAA,WAAA;AACA,oBAAA,OAAA,CAAA,aAAA,CAAA,IAAA,GAAA,IAAA,CAAA,IAAA;AACA,oBAAA,OAAA,CAAA,aAAA,CAAA,eAAA,GAAA,IAAA,CAAA,eAAA;AACA,oBAAA,aAAA,CAAA,UAAA,CAAA,IAAA,EAAA,IAAA;AAAA,yFAAA,kBAAA,QAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,oCAAA,QAAA,CAAA,IAAA,CAAA,UAAA,KAAA,GAAA,EAAA;AACA,kCAAA,GADA,GACA,QAAA,CAAA,IAAA,CAAA,IADA;AAEA,kCAAA,UAFA,GAEA,OAAA,CAAA,OAAA,CAAA,QAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA,OAAA,CAAA,aAAA,CAAA,eAAA,CAAA,MAAA,CAFA;AAGA,kCAAA,OAAA,CAAA,aAAA,CAAA,MAAA,GAAA,GAAA,CAAA,MAAA,GAAA,OAAA,CAAA,aAAA,CAAA,eAAA,CAAA,eAAA,GAAA,UAAA;AACA,kCAAA,OAAA,CAAA,aAAA,CAAA,UAAA,GAAA,GAAA,CAAA,MAAA,GAAA,UAAA;AACA,kCAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,OAAA,CAAA,aAAA,CAAA,MAAA,EAAA,gBAAA,EALA,CAMA;;AAEA,kCAAA,OAAA,CAAA,aAAA,CAAA,EAAA,gBAAA,IAAA,CAAA,EAAA,EAAA;AACA,kCAAA,OAAA,CAAA,aAAA,CAAA,MAAA,GAAA;AAAA,oCAAA,EAAA,EAAA,CAAA;AAAA,oCAAA,IAAA,EAAA;AAAA,mCAAA;AACA,kCAAA,OAAA,CAAA,aAAA,CAAA,QAAA,GAAA,IAAA,IAAA,GAAA,WAAA,GAAA,MAAA,CAAA,CAAA,EAAA,EAAA,CAAA;AACA,kCAAA,OAAA,CAAA,aAAA,CAAA,UAAA,GAAA,CAAA;AACA,kCAAA,OAAA,CAAA,aAAA,CAAA,YAAA,GAAA,IAAA;AACA,kCAAA,OAAA,CAAA,aAAA,CAAA,IAAA,GAAA,CAAA;AACA,kCAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,gBAAA,EAAA,OAAA,CAAA,aAAA;;AACA,kCAAA,OAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,oCAAA,IAAA,EAAA,8BAAA,OAAA,CAAA,aAAA,CAAA,EAAA,CADA;AAEA,oCAAA,IAAA,EAAA,gBAFA;AAGA,oCAAA,MAAA,EAAA;AAAA,sCAAA,EAAA,EAAA,OAAA,CAAA,aAAA,CAAA,EAAA;AAAA,sCAAA,aAAA,EAAA,OAAA,CAAA;AAAA,qCAHA;AAIA,oCAAA,KAAA,EAAA;AAAA,sCAAA,IAAA,EAAA;AAAA;AAJA,mCAAA;;AAMA,kCAAA,OAAA,CAAA,OAAA,GAAA,IAAA;;AACA,sCAAA,OAAA,CAAA,aAAA,CAAA,QAAA,KAAA,EAAA,IAAA,OAAA,CAAA,OAAA,EAAA;AACA,oCAAA,MAAA,CAAA,gBAAA,CAAA,cAAA,EAAA,UAAA,KAAA,EAAA;AACA,sCAAA,KAAA,CAAA,WAAA,GAAA,yCAAA;AACA,qCAFA;AAGA,oCAAA,MAAA,CAAA,mBAAA,CAAA,cAAA,EAAA,UAAA,KAAA,EAAA;AACA,sCAAA,KAAA,CAAA,WAAA,GAAA,EAAA;AACA,qCAFA;AAGA;;AACA,kCAAA,OAAA,CAAA,WAAA,GAAA,KAAA;AACA;;AAhCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAA;;AAAA;AAAA;AAAA;AAAA,yBAiCA,KAjCA,CAiCA,UAAA,CAAA,EAAA;AACA,sBAAA,MAAA,CAAA,OAAA,CAAA,KAAA,CAAA,CAAA;AACA,qBAnCA;AAoCA,oBAAA,OAAA,CAAA,IAAA,GAAA,KAAA;AACA,mBAnDA,EAmDA,GAnDA,CAAA;AAoDA,iBArDA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0DA,KA9aA;AA+aA,IAAA,OA/aA,mBA+aA,GA/aA,EA+aA,MA/aA,EA+aA;AACA,aAAA,MAAA,CAAA,GAAA,CAAA,CAAA,QAAA,CAAA,MAAA,EAAA,GAAA,CAAA;AACA,KAjbA;AAkbA,IAAA,WAlbA,yBAkbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,iBAAA,CAAA,GAAA,CAAA,MAAA,CAAA,WAAA,CAAA,YAAA,EAAA,SAAA,EAAA,YAAA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KApbA;AAqbA,IAAA,UArbA,wBAqbA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,oBAAA,CAAA,MAAA,CAAA,OAAA,CAAA,aAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,kBAAA,OAAA,CAAA,aAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;;AACA,kBAAA,OAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,oBAAA,IAAA,EAAA,8BAAA,OAAA,CAAA,aAAA,CAAA,EAAA,CADA;AAEA,oBAAA,IAAA,EAAA,gBAFA;AAGA,oBAAA,MAAA,EAAA;AAAA,sBAAA,EAAA,EAAA,OAAA,CAAA,aAAA,CAAA;AAAA,qBAHA;AAIA,oBAAA,KAAA,EAAA;AAAA,sBAAA,IAAA,EAAA;AAAA;AAJA,mBAAA;;AAMA,kBAAA,OAAA,CAAA,QAAA,GAAA,IAAA;AACA,kBAAA,OAAA,CAAA,WAAA,GAAA,KAAA;AACA,iBAXA,EAWA,KAXA,CAWA,UAAA,CAAA,EAAA;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,KAAA,CAAA,CAAA,CAAA,OAAA;AACA,iBAbA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA,KApcA;AAqcA,IAAA,SArcA,uBAqcA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OAAA,CAAA,WAAA,GAAA,IAAA;AACA,gBAAA,OAAA,CAAA,aAAA,CAAA,IAAA,GAAA,OAAA,CAAA,KAAA;AACA,gBAAA,YAHA,GAGA,EAHA;;AAAA,sBAIA,OAAA,CAAA,KAAA,KAAA,CAJA;AAAA;AAAA;AAAA;;AAKA,gBAAA,YAAA,GAAA,OAAA;AALA;AAAA;;AAAA;AAAA,sBAMA,OAAA,CAAA,KAAA,KAAA,CANA;AAAA;AAAA;AAAA;;AAOA,gBAAA,YAAA,GAAA,QAAA;AAPA;AAAA;;AAAA;AAAA,sBAQA,OAAA,CAAA,KAAA,KAAA,CARA;AAAA;AAAA;AAAA;;AASA,gBAAA,YAAA,GAAA,SAAA;AACA,gBAAA,OAAA,CAAA,aAAA,CAAA,UAAA,GAAA,OAAA,CAAA,eAAA,CAAA,MAAA;;AACA,oBAAA,OAAA,CAAA,eAAA,CAAA,OAAA,KAAA,SAAA,EAAA;AACA,kBAAA,OAAA,CAAA,eAAA,CAAA,OAAA,CAAA,OAAA,GAAA,OAAA,CAAA,aAAA,CAAA,OAAA;AACA,kBAAA,cAAA,CAAA,MAAA,CAAA,OAAA,CAAA,eAAA,CAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,oBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,gBAAA;AACA,mBAFA;AAGA;;AAhBA,sBAiBA,OAAA,CAAA,UAAA,CAAA,MAAA,IAAA,OAAA,CAAA,UAAA,CAAA,MAAA,GAAA,CAAA,IAAA,OAAA,CAAA,UAAA,CAAA,OAAA,IAAA,OAAA,CAAA,UAAA,CAAA,OAAA,GAAA,CAjBA;AAAA;AAAA;AAAA;;AAkBA,gBAAA,IAlBA,GAkBA;AACA,kBAAA,MAAA,EAAA,OAAA,CAAA,UAAA,CAAA,MADA;AAEA,kBAAA,OAAA,EAAA,OAAA,CAAA,UAAA,CAAA,OAFA;AAGA,kBAAA,OAAA,EAAA,OAAA,CAAA,aAAA,CAAA,OAHA;AAIA,kBAAA,IAAA,EAAA,aAJA;AAKA,kBAAA,IAAA,EAAA,IAAA,IAAA,GAAA,MAAA;AALA,iBAlBA;AAAA;AAAA,uBAyBA,oBAAA,CAAA,SAAA,CAAA,IAAA,EAAA,OAAA,CAAA,aAAA,CAAA,OAAA,EAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,iBAFA,CAzBA;;AAAA;AAAA,sBA6BA,OAAA,CAAA,UAAA,CAAA,OAAA,IAAA,OAAA,CAAA,UAAA,CAAA,OAAA,GAAA,CAAA,IAAA,OAAA,CAAA,UAAA,CAAA,MAAA,IAAA,OAAA,CAAA,UAAA,CAAA,MAAA,GAAA,CA7BA;AAAA;AAAA;AAAA;;AA8BA,gBAAA,KA9BA,GA8BA;AACA,kBAAA,MAAA,EAAA,OAAA,CAAA,UAAA,CAAA,OADA;AAEA,kBAAA,OAAA,EAAA,OAAA,CAAA,aAAA,CAAA,OAFA;AAGA,kBAAA,IAAA,EAAA,aAHA;AAIA,kBAAA,IAAA,EAAA,IAAA,IAAA,GAAA,MAAA;AAJA,iBA9BA;AAAA;AAAA,uBAoCA,oBAAA,CAAA,SAAA,CAAA,KAAA,EAAA,OAAA,CAAA,aAAA,CAAA,OAAA,EAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,iBAFA,CApCA;;AAAA;AAAA;AAAA;;AAAA;AAAA,sBAwCA,OAAA,CAAA,KAAA,KAAA,CAxCA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAyCA,OAAA,CAAA,WAAA,EAzCA;;AAAA;AA0CA,gBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,OAAA,CAAA,KAAA,EAAA,OAAA;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,OAAA,CAAA,SAAA,EAAA,WAAA;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,OAAA,CAAA,YAAA,EAAA,cAAA;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,OAAA,CAAA,QAAA,EAAA,UAAA;AACA,gBAAA,OA9CA,GA8CA,CA9CA,EA8CA,OA9CA,GA8CA,EA9CA,EA+CA,WA/CA,GA+CA,CA/CA,EA+CA,WA/CA,GA+CA,EA/CA,EAgDA,MAhDA,GAgDA,CAhDA,EAgDA,MAhDA,GAgDA,EAhDA,EAiDA,MAjDA,GAiDA,CAjDA,EAiDA,MAjDA,GAiDA,EAjDA,EAkDA,QAlDA,GAkDA,CAlDA,EAkDA,QAlDA,GAkDA,EAlDA,EAmDA,SAnDA,GAmDA,CAnDA,EAmDA,SAnDA,GAmDA,EAnDA,EAoDA,MApDA,GAoDA,CApDA,EAoDA,MApDA,GAoDA,EApDA;AAqDA,gBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,OAAA,CAAA,QAAA,EAAA,YAAA,EAAA,SAAA;AACA,gBAAA,OAAA,GAAA,OAAA,CAAA,QAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,yBAAA,CAAA,CAAA,OAAA,CAAA,MAAA,KAAA,CAAA,IAAA,CAAA,CAAA,eAAA,KAAA,MAAA;AAAA,iBAAA,EAAA,CAAA,EAAA,OAAA;AACA,gBAAA,WAAA,GAAA,OAAA,CAAA,QAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,yBAAA,CAAA,CAAA,OAAA,CAAA,MAAA,KAAA,CAAA,IAAA,CAAA,CAAA,eAAA,KAAA,UAAA;AAAA,iBAAA,EAAA,CAAA,EAAA,OAAA;AACA,gBAAA,MAAA,GAAA,OAAA,CAAA,QAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,yBAAA,CAAA,CAAA,OAAA,CAAA,MAAA,KAAA,CAAA,IAAA,CAAA,CAAA,eAAA,KAAA,UAAA;AAAA,iBAAA,EAAA,CAAA,EAAA,OAAA;AACA,gBAAA,MAAA,GAAA,OAAA,CAAA,QAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,yBAAA,CAAA,CAAA,OAAA,CAAA,MAAA,KAAA,CAAA;AAAA,iBAAA,EAAA,CAAA,EAAA,OAAA;AACA,gBAAA,QAAA,GAAA,OAAA,CAAA,QAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,yBAAA,CAAA,CAAA,OAAA,CAAA,MAAA,KAAA,CAAA;AAAA,iBAAA,EAAA,CAAA,EAAA,OAAA;AACA,gBAAA,SAAA,GAAA,OAAA,CAAA,QAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,yBAAA,CAAA,CAAA,OAAA,CAAA,MAAA,KAAA,CAAA;AAAA,iBAAA,EAAA,CAAA,EAAA,OAAA;AACA,gBAAA,MAAA,GAAA,OAAA,CAAA,QAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,yBAAA,CAAA,CAAA,OAAA,CAAA,MAAA,KAAA,CAAA;AAAA,iBAAA,EAAA,CAAA,EAAA,OAAA;;AACA,gBAAA,OAAA,CAAA,KAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,sBAAA,CAAA,CAAA,QAAA,CAAA,CAAA,EAAA,OAAA,CAAA,SAAA,KAAA,OAAA,CAAA,EAAA,EAAA;AACA,oBAAA,OAAA,IAAA,CAAA,CAAA,QAAA;AACA;;AACA,sBAAA,CAAA,CAAA,QAAA,CAAA,CAAA,EAAA,WAAA,CAAA,SAAA,KAAA,QAAA,CAAA,EAAA,EAAA;AACA,oBAAA,QAAA,IAAA,CAAA,CAAA,gBAAA;AACA;;AACA,sBAAA,CAAA,CAAA,QAAA,CAAA,CAAA,EAAA,MAAA,CAAA,SAAA,KAAA,QAAA,CAAA,EAAA,EAAA;AACA,oBAAA,QAAA,IAAA,CAAA,CAAA,WAAA;AACA;;AACA,sBAAA,CAAA,CAAA,QAAA,CAAA,CAAA,EAAA,QAAA,CAAA,SAAA,KAAA,QAAA,CAAA,EAAA,EAAA;AACA,oBAAA,QAAA,IAAA,CAAA,CAAA,aAAA;AACA;AACA,iBAbA;;AAcA,gBAAA,OAAA,CAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,sBAAA,CAAA,CAAA,QAAA,CAAA,CAAA,EAAA,OAAA,CAAA,SAAA,KAAA,WAAA,CAAA,EAAA,EAAA;AACA,oBAAA,WAAA,IAAA,CAAA,CAAA,QAAA;AACA;AACA,iBAJA;;AAKA,gBAAA,OAAA,CAAA,YAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,sBAAA,CAAA,CAAA,QAAA,CAAA,CAAA,EAAA,OAAA,CAAA,SAAA,KAAA,MAAA,CAAA,EAAA,EAAA;AACA,oBAAA,MAAA,IAAA,CAAA,CAAA,QAAA;AACA;AACA,iBAJA;;AAKA,gBAAA,OAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,SAAA,IAAA,CAAA,CAAA,eAAA;AACA,kBAAA,MAAA,IAAA,CAAA,CAAA,gBAAA;AACA,iBAHA;;AAIA,gBAAA,MAAA,GAAA,OAAA,CAAA,UAAA,CAAA,OAAA;;AACA,oBAAA,OAAA,CAAA,cAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,kBAAA,OAAA,CAAA,cAAA,GAAA,CACA;AACA,oBAAA,EAAA,eAAA,IAAA,CAAA,EAAA,EAAA,CADA;AAEA,oBAAA,aAAA,EAAA,OAAA,CAAA,QAAA,CAAA,IAFA;AAGA,oBAAA,QAAA,EAAA,OAAA,CAAA,QAHA;AAIA,oBAAA,OAAA,EAAA,OAJA;AAKA,oBAAA,MAAA,EAAA,KAAA,CAAA,UAAA,CAAA,OAAA;AALA,mBADA,EAQA;AACA,oBAAA,EAAA,eAAA,IAAA,CAAA,EAAA,EAAA,CADA;AAEA,oBAAA,aAAA,EAAA,OAAA,CAAA,QAAA,CAAA,IAFA;AAGA,oBAAA,QAAA,EAAA,OAAA,CAAA,QAHA;AAIA,oBAAA,OAAA,EAAA,WAJA;AAKA,oBAAA,MAAA,EAAA,KAAA,CAAA,UAAA,CAAA,WAAA,IAAA,CAAA;AALA,mBARA,EAeA;AACA,oBAAA,EAAA,eAAA,IAAA,CAAA,EAAA,EAAA,CADA;AAEA,oBAAA,aAAA,EAAA,OAAA,CAAA,QAAA,CAAA,IAFA;AAGA,oBAAA,QAAA,EAAA,OAAA,CAAA,QAHA;AAIA,oBAAA,OAAA,EAAA,MAJA;AAKA,oBAAA,MAAA,EAAA;AALA,mBAfA,EAsBA;AACA,oBAAA,EAAA,eAAA,IAAA,CAAA,EAAA,EAAA,CADA;AAEA,oBAAA,aAAA,EAAA,OAAA,CAAA,QAAA,CAAA,IAFA;AAGA,oBAAA,QAAA,EAAA,OAAA,CAAA,QAHA;AAIA,oBAAA,OAAA,EAAA,QAJA;AAKA,oBAAA,MAAA,EAAA;AALA,mBAtBA,EA6BA;AACA,oBAAA,EAAA,eAAA,IAAA,CAAA,EAAA,EAAA,CADA;AAEA,oBAAA,aAAA,EAAA,OAAA,CAAA,QAAA,CAAA,IAFA;AAGA,oBAAA,QAAA,EAAA,OAAA,CAAA,QAHA;AAIA,oBAAA,OAAA,EAAA,MAJA;AAKA,oBAAA,MAAA,EAAA;AALA,mBA7BA,EAoCA;AACA,oBAAA,EAAA,eAAA,IAAA,CAAA,EAAA,EAAA,CADA;AAEA,oBAAA,aAAA,EAAA,OAAA,CAAA,QAAA,CAAA,IAFA;AAGA,oBAAA,QAAA,EAAA,OAAA,CAAA,QAHA;AAIA,oBAAA,OAAA,EAAA,SAJA;AAKA,oBAAA,MAAA,EAAA;AALA,mBApCA,EA2CA;AACA,oBAAA,EAAA,eAAA,IAAA,CAAA,EAAA,EAAA,CADA;AAEA,oBAAA,aAAA,EAAA,OAAA,CAAA,QAAA,CAAA,IAFA;AAGA,oBAAA,QAAA,EAAA,OAAA,CAAA,QAHA;AAIA,oBAAA,OAAA,EAAA,MAJA;AAKA,oBAAA,MAAA,EAAA;AALA,mBA3CA,CAAA;AAmDA;;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,OAAA,CAAA,cAAA,EAAA,gBAAA;AA/IA;AAAA,uBAgJA,oBAAA,CAAA,aAAA,CAAA,OAAA,CAAA,cAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,+BAAA;AACA,iBAFA,CAhJA;;AAAA;AAmJA,gBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,OAAA,EAAA,iBAAA;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,WAAA,EAAA,WAAA,EAAA,qBAAA;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,MAAA,EAAA,gBAAA;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,QAAA,EAAA,kBAAA;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,MAAA,EAAA,gBAAA;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,SAAA,EAAA,SAAA,EAAA,mBAAA;AACA,gBAAA,YAAA,GAAA,UAAA;AACA,gBAAA,OAAA,CAAA,aAAA,CAAA,UAAA,GAAA,OAAA,CAAA,eAAA,CAAA,MAAA;;AACA,oBAAA,OAAA,CAAA,eAAA,CAAA,OAAA,KAAA,SAAA,EAAA;AACA,kBAAA,OAAA,CAAA,eAAA,CAAA,OAAA,CAAA,OAAA,GAAA,OAAA,CAAA,aAAA,CAAA,OAAA;AACA,kBAAA,cAAA,CAAA,MAAA,CAAA,OAAA,CAAA,eAAA,CAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,oBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,gBAAA;AACA,mBAFA;AAGA;;AAhKA,sBAiKA,OAAA,CAAA,UAAA,CAAA,MAAA,IAAA,OAAA,CAAA,UAAA,CAAA,MAAA,GAAA,CAAA,IAAA,OAAA,CAAA,UAAA,CAAA,OAAA,IAAA,OAAA,CAAA,UAAA,CAAA,OAAA,GAAA,CAjKA;AAAA;AAAA;AAAA;;AAkKA,gBAAA,MAlKA,GAkKA;AACA,kBAAA,MAAA,EAAA,OAAA,CAAA,UAAA,CAAA,MADA;AAEA,kBAAA,OAAA,EAAA,OAAA,CAAA,UAAA,CAAA,OAFA;AAGA,kBAAA,OAAA,EAAA,OAAA,CAAA,aAAA,CAAA,OAHA;AAIA,kBAAA,IAAA,EAAA,aAJA;AAKA,kBAAA,IAAA,EAAA,IAAA,IAAA,GAAA,MAAA;AALA,iBAlKA;AAAA;AAAA,uBAyKA,oBAAA,CAAA,SAAA,CAAA,MAAA,EAAA,OAAA,CAAA,aAAA,CAAA,OAAA,EAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,iBAFA,CAzKA;;AAAA;AAAA,sBA6KA,OAAA,CAAA,UAAA,CAAA,OAAA,IAAA,OAAA,CAAA,UAAA,CAAA,OAAA,GAAA,CAAA,IAAA,OAAA,CAAA,UAAA,CAAA,MAAA,IAAA,OAAA,CAAA,UAAA,CAAA,MAAA,GAAA,CA7KA;AAAA;AAAA;AAAA;;AA8KA,gBAAA,MA9KA,GA8KA;AACA,kBAAA,MAAA,EAAA,OAAA,CAAA,UAAA,CAAA,OADA;AAEA,kBAAA,OAAA,EAAA,OAAA,CAAA,aAAA,CAAA,OAFA;AAGA,kBAAA,IAAA,EAAA,aAHA;AAIA,kBAAA,IAAA,EAAA,IAAA,IAAA,GAAA,MAAA;AAJA,iBA9KA;AAAA;AAAA,uBAoLA,oBAAA,CAAA,SAAA,CAAA,MAAA,EAAA,OAAA,CAAA,aAAA,CAAA,OAAA,EAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,iBAFA,CApLA;;AAAA;AAwLA,gBAAA,OAAA,CAAA,aAAA,CAAA,QAAA,GAAA,OAAA,CAAA,QAAA,CAAA,IAAA;AACA,gBAAA,OAAA,CAAA,aAAA,CAAA,YAAA,GAAA,OAAA,CAAA,YAAA,CAAA,IAAA;AACA,gBAAA,OAAA,CAAA,aAAA,CAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA,IAAA;AACA,gBAAA,OAAA,CAAA,aAAA,CAAA,UAAA,GAAA,OAAA,CAAA,UAAA,CAAA,IAAA;AACA,gBAAA,OAAA,CAAA,aAAA,CAAA,YAAA,GAAA,OAAA,CAAA,QAAA,CAAA,MAAA;AACA,gBAAA,OAAA,CAAA,aAAA,CAAA,gBAAA,GAAA,OAAA,CAAA,YAAA,CAAA,MAAA;AACA,gBAAA,OAAA,CAAA,aAAA,CAAA,WAAA,GAAA,OAAA,CAAA,OAAA,CAAA,MAAA;AACA,gBAAA,OAAA,CAAA,aAAA,CAAA,cAAA,GAAA,OAAA,CAAA,UAAA,CAAA,MAAA;;AA/LA;AAiMA,gBAAA,OAAA,CAAA,aAAA,CAAA,QAAA,GAAA,YAAA;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,OAAA,CAAA,aAAA,EAAA,eAAA;AAlMA;AAAA,uBAmMA,oBAAA,CAAA,MAAA,CAAA,OAAA,CAAA,aAAA,EAAA,IAAA;AAAA,sFAAA,mBAAA,GAAA;AAAA;AAAA;AAAA;AAAA;AACA,4BAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,4BAAA,OAAA,CAAA,aAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;;AAFA,kCAGA,OAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CAHA;AAAA;AAAA;AAAA;;AAAA;AAAA,mCAIA,WAAA,CAAA,MAAA,CAAA,OAAA,CAAA,KAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,8BAAA,YAAA,CAAA,UAAA,CAAA,OAAA,CAAA,aAAA,CAAA,IAAA,GAAA,OAAA,CAAA,aAAA,CAAA,MAAA,GAAA,OAAA;AACA,8BAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,6BAHA,CAJA;;AAAA;AAAA,kCASA,OAAA,CAAA,SAAA,CAAA,MAAA,GAAA,CATA;AAAA;AAAA;AAAA;;AAAA;AAAA,mCAUA,eAAA,CAAA,MAAA,CAAA,OAAA,CAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,8BAAA,YAAA,CAAA,UAAA,CAAA,OAAA,CAAA,aAAA,CAAA,IAAA,GAAA,OAAA,CAAA,aAAA,CAAA,MAAA,GAAA,WAAA;AACA,8BAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,6BAHA,CAVA;;AAAA;AAAA,kCAeA,OAAA,CAAA,YAAA,CAAA,MAAA,GAAA,CAfA;AAAA;AAAA;AAAA;;AAAA;AAAA,mCAgBA,kBAAA,CAAA,MAAA,CAAA,OAAA,CAAA,YAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,8BAAA,YAAA,CAAA,UAAA,CAAA,OAAA,CAAA,aAAA,CAAA,IAAA,GAAA,OAAA,CAAA,aAAA,CAAA,MAAA,GAAA,cAAA;AACA,8BAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,6BAHA,CAhBA;;AAAA;AAAA,kCAqBA,OAAA,CAAA,QAAA,CAAA,MAAA,GAAA,CArBA;AAAA;AAAA;AAAA;;AAAA;AAAA,mCAsBA,aAAA,CAAA,MAAA,CAAA,OAAA,CAAA,QAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,8BAAA,YAAA,CAAA,UAAA,CAAA,OAAA,CAAA,aAAA,CAAA,IAAA,GAAA,OAAA,CAAA,aAAA,CAAA,MAAA,GAAA,SAAA;AACA,8BAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,6BAHA,CAtBA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAA;;AAAA;AAAA;AAAA;AAAA,qBAiCA,KAjCA,CAiCA,UAAA,CAAA,EAAA;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,KAAA,CAAA,CAAA,CAAA,OAAA;AACA,iBAnCA,CAnMA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuOA,KA5qBA;AA6qBA,IAAA,SA7qBA,uBA6qBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,OAAA,CAAA,KAAA,IAAA,CADA;AAAA;AAAA;AAAA;;AAEA,gBAAA,OAAA,CAAA,SAAA,GAAA,eAAA;AAFA;AAAA,uBAGA,OAAA,CAAA,SAAA,EAHA;;AAAA;AAAA;AAAA;;AAAA;AAMA,gBAAA,OAAA,CAAA,SAAA,GAAA,cAAA;AACA,gBAAA,OAAA,CAAA,KAAA,GAAA,OAAA,CAAA,KAAA,GAAA,CAAA;;AACA,oBAAA,OAAA,CAAA,YAAA,IAAA,OAAA,CAAA,KAAA,EAAA;AACA,kBAAA,OAAA,CAAA,YAAA,GAAA,OAAA,CAAA,KAAA;AACA;;AACA,gBAAA,OAAA,CAAA,cAAA,CAAA,OAAA,CAAA,KAAA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA,KA1rBA;AA2rBA,IAAA,UA3rBA,sBA2rBA,IA3rBA,EA2rBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,OAAA,CAAA,KAAA,KAAA,IADA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,sBAIA,IAAA,GAAA,OAAA,CAAA,YAJA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAOA,oBAAA,IAAA,KAAA,CAAA,EAAA;AACA,kBAAA,OAAA,CAAA,SAAA,GAAA,cAAA;AACA,iBAFA,MAEA;AACA,kBAAA,OAAA,CAAA,SAAA,GAAA,eAAA;AACA;;AACA,gBAAA,OAAA,CAAA,KAAA,GAAA,IAAA;;AACA,gBAAA,OAAA,CAAA,cAAA,CAAA,OAAA,CAAA,KAAA;;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA,KAzsBA;AA0sBA,IAAA,cA1sBA,0BA0sBA,GA1sBA,EA0sBA;AACA,cAAA,GAAA;AACA,aAAA,CAAA;AACA,eAAA,YAAA,GAAA,SAAA;AACA,eAAA,YAAA,GAAA,OAAA;AACA,eAAA,YAAA,GAAA,OAAA;AACA,eAAA,YAAA,GAAA,OAAA;AACA;;AACA,aAAA,CAAA;AACA,eAAA,YAAA,GAAA,OAAA;AACA,eAAA,YAAA,GAAA,SAAA;AACA,eAAA,YAAA,GAAA,OAAA;AACA,eAAA,YAAA,GAAA,OAAA;AACA;;AACA,aAAA,CAAA;AACA,eAAA,YAAA,GAAA,OAAA;AACA,eAAA,YAAA,GAAA,OAAA;AACA,eAAA,YAAA,GAAA,SAAA;AACA,eAAA,YAAA,GAAA,OAAA;AACA;;AACA;AACA,eAAA,YAAA,GAAA,OAAA;AACA,eAAA,YAAA,GAAA,OAAA;AACA,eAAA,YAAA,GAAA,OAAA;AACA,eAAA,YAAA,GAAA,SAAA;AACA,eAAA,OAAA,GAAA,IAAA;AACA,eAAA,SAAA,GAAA,eAAA;AACA;AA1BA;AA4BA,KAvuBA;AAwuBA,IAAA,YAxuBA,wBAwuBA,KAxuBA,EAwuBA;AACA;AACA,UAAA,KAAA,IAAA,CAAA,EAAA;AACA,eAAA,KAAA,CAAA,cAAA,EAAA;AACA,OAFA,MAEA;AACA,eAAA,KAAA;AACA;AAEA;AAhvBA,GA5JA;AA84BA,EAAA,OA94BA,qBA84BA;AACA,SAAA,WAAA;AACA,GAh5BA;AAi5BA,EAAA,OAj5BA,qBAi5BA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,OAAA,CAAA,cAAA,EADA;;AAAA;AAAA;AAAA,qBAGA,OAAA,CAAA,QAAA,EAHA;;AAAA;AAAA;AAAA,qBAIA,OAAA,CAAA,UAAA,EAJA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAt5BA,CAAA","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col cols=\"12\" sm=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\">\n                        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                            <v-card outlined dense class=\"no_border\">\n                                <h2 class=\"mb-0\">{{ $t('make_new_monthly_return') }}</h2>\n                                <v-icon\n                                    @click=\"onClose\"\n                                    style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                    class=\"float-right\"\n                                >close\n                                </v-icon>\n\n                            </v-card>\n\n                            <v-row>\n                                <v-col sm=\"12\" cols=\"12\">\n                                    <div class=\"function_content\">\n                                        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                            <div>\n                                                <v-row>\n                                                    <v-col sm=\"4\" class=\"py-0\">\n                                                        <label>{{ $t('for_the_month_of') }}</label>\n                                                        <v-menu\n                                                            v-model=\"menu\"\n                                                            :disabled=\"DateState\"\n                                                            class=\"mt-1\"\n                                                            :close-on-content-click=\"false\"\n                                                            max-width=\"290\">\n                                                            <template v-slot:activator=\"{ on,attrs }\">\n                                                                <v-text-field class=\"disable_alert my-0 mt-1\"\n                                                                              v-model=\"monthlyReturn.monthOf\"\n                                                                              readonly\n                                                                              outlined\n                                                                              :disabled=\"DateState\"\n                                                                              append-icon=\"event\"\n                                                                              v-on=\"on\"\n                                                                              v-bind=\"attrs\"\n                                                                              @click:clear=\"monthlyReturn.monthOf\"\n                                                                              @click:append=\"menu = true\"\n                                                                              required/>\n                                                            </template>\n                                                            <v-date-picker\n                                                                :type=\"'month'\"\n                                                                @change=\"menu = false\"\n                                                                v-model=\"monthlyReturn.monthOf\"\n                                                                no-title\n                                                            />\n                                                        </v-menu>\n                                                    </v-col>\n                                                    <v-col sm=\"5\" class=\"py-0 mt-5 px-0\">\n                                                        <v-btn :disabled=\"DateState\" @click=\"startReturn\"\n                                                               class=\"ma-1 ml-2\"\n                                                               color=\"primary white--text text-capitalize\">\n                                                            {{ $t('start_new_return') }}\n                                                        </v-btn>\n                                                    </v-col>\n                                                </v-row>\n                                            </div>\n                                            <div v-if=\"start_return\">\n                                                <v-divider/>\n                                                <v-card elevation=\"0\" class=\"pa-3 mt-3\" color=\"grayBg\">\n                                                    <v-row>\n                                                        <v-col class=\"py-0\" cols=\"12\" sm=\"4\">\n                                                            <label>{{ $t('submission_id') }}</label>\n                                                            <v-row class=\"pt-1 pb-0\">\n                                                                <v-col sm=\"3\" cols=\"3\" class=\"py-0 pr-0\">\n                                                                    <div class=\"code_text text-uppercase\">\n                                                                        {{ monthlyReturn.abbr }}\n                                                                    </div>\n                                                                </v-col>\n                                                                <v-col sm=\"9\" cols=\"8\" class=\"py-0 pl-0 pr-1\">\n                                                                    <v-text-field\n                                                                        v-model=\"monthlyReturn.number\"\n                                                                        disabled\n                                                                        class=\"custom-border \"\n                                                                        outlined\n                                                                        :rules=\"[(v) => !!v || 'Number is required']\"\n                                                                        required\n                                                                    />\n                                                                </v-col>\n                                                            </v-row>\n                                                        </v-col>\n                                                        <v-col class=\"py-0\" cols=\"12\" sm=\"4\">\n                                                            <p class=\"mb-0 mt-5\">\n                                                                {{ $t('approved_exch_rate_month') }}</p>\n                                                        </v-col>\n                                                        <v-col class=\"py-0\" cols=\"12\" sm=\"4\">\n                                                            <h3 class=\"primary--text font_20 mt-5\">\n                                                                {{ numberFormat(this.$store.state.institute.institute.baseCurrency.code !== 'KHR' ? 1/(currency.rate) : currency.rate) }}</h3>\n                                                        </v-col>\n                                                    </v-row>\n                                                </v-card>\n                                                <v-row>\n                                                    <v-col sm=\"2\" class=\"align-center justify-center d-flex \">\n                                                        <div>\n                                                            <v-card @click=\"ClickSteps(1)\" width=\"44\" height=\"44\"\n                                                                    outlined dense :color=\"activeColor1\"\n                                                                    class=\"pointer  m_auto no_border align-center justify-center d-flex rounded-circle \">\n                                                                <h3 class=\"mt-2 white--text\" style=\"font-size: 24px\">\n                                                                    1</h3>\n                                                            </v-card>\n                                                            <p class=\"text-uppercase mt-2\">{{ $t('input') }}</p>\n                                                        </div>\n                                                    </v-col>\n                                                    <v-col sm=\"2\" class=\"align-center justify-center d-flex \">\n                                                        <div>\n                                                            <v-card @click=\"ClickSteps(2)\" width=\"44\" height=\"44\"\n                                                                    outlined dense :color=\"activeColor2\"\n                                                                    class=\"pointer m_auto no_border align-center justify-center d-flex rounded-circle \">\n                                                                <h3 class=\"mt-2 white--text\" style=\"font-size: 24px\">\n                                                                    2</h3>\n                                                            </v-card>\n                                                            <p class=\"text-uppercase mt-2\">{{ $t('review') }}</p>\n                                                        </div>\n                                                    </v-col>\n                                                    <v-col sm=\"2\" class=\"align-center justify-center d-flex \">\n                                                        <div>\n                                                            <v-card @click=\"ClickSteps(3)\" width=\"44\" height=\"44\"\n                                                                    outlined dense :color=\"activeColor3\"\n                                                                    class=\"pointer m_auto  no_border align-center justify-center d-flex rounded-circle \">\n                                                                <h3 class=\"mt-2 white--text\" style=\"font-size: 24px\">\n                                                                    3</h3>\n                                                            </v-card>\n                                                            <p class=\"text-uppercase mt-2\">{{ $t('confirm') }}</p>\n                                                        </div>\n                                                    </v-col>\n                                                    <v-col sm=\"2\" class=\"align-center justify-center d-flex \">\n                                                        <div>\n                                                            <v-card @click=\"new ClickSteps(4)\" width=\"44\" height=\"44\"\n                                                                    outlined dense :color=\"activeColor4\"\n                                                                    class=\"pointer m_auto  no_border align-center justify-center d-flex rounded-circle \">\n                                                                <h3 class=\"mt-2 white--text\" style=\"font-size: 24px\">\n                                                                    4</h3>\n                                                            </v-card>\n                                                            <p class=\"text-uppercase mt-2\">{{ $t('finalize') }}</p>\n                                                        </div>\n                                                    </v-col>\n                                                </v-row>\n                                                <v-divider/>\n                                                <!-- Body function to input -->\n                                                <div v-show=\"steps===1\">\n                                                    <InputTab :currency=\"currency\" :monthlyReturn=\"monthlyReturn\"\n                                                              @getSale=\"getInputSale\"\n                                                              @getPurchase=\"getInputPurchase\"\n                                                              @getSalary=\"getSalary\"\n                                                              @getWithholding=\"getWithholding\"/>\n                                                </div>\n                                                <!-- Steps 2 Adjustemnt -->\n                                                <div v-show=\"steps===2\">\n                                                    <ReviewTab :monthlyReturn=\"monthlyReturn\"\n                                                               :sale=\"sales\"\n                                                               :currency=\"currency\"\n                                                               :purchase=\"purchases\"\n                                                               :salary=\"salaries\"\n                                                               :withholding=\"withholdings\"\n                                                               @getOtherAmount=\"getOtherAmount\"\n                                                               @getAmountWht=\"getAmountWht\"\n                                                               @getTaxSalary=\"getAmountSalary\"\n                                                               @getTaxBenefit=\"getAmountTax\"\n                                                               @getAmountSaleExcul=\"getAmountSaleExcul\"\n                                                               @getTotalAmountPurchase=\"getTotalAmountPurchase\"\n                                                               @getAmountPurchaseExcul=\"getAmountPurchaseExcul\"\n                                                               @getAmountSale=\"getAmountSale\"\n                                                               :alertForm2=\"AlertValidate2\"/>\n                                                </div>\n                                                <!-- Steps there -->\n                                                <div v-show=\"steps===3\">\n                                                    <Confirm :currency=\"currency\" :monthlyReturn=\"monthlyReturn\"\n                                                             :totalAmountPurchase=\"amountTotalPurchase\"\n                                                             :otherAmount=\"otherAmount\"\n                                                             :amountPurchaseExcul=\"amountPurchaseExcul\"\n                                                             :amountSalary=\"amountSalary\"\n                                                             :amountBenefit=\"amountBenefit\"\n                                                             :amountSaleExcul=\"amountSaleExcul\" :amountSale=\"amountSale\"\n                                                             :amountWht=\"amountWht\" @getStep=\"getStep\"\n                                                             @getTotalAmountPaid=\"getTotalAmountPaid\"\n                                                             @getBalanceVat=\"getBalanceVat\"\n                                                             @getBalancePpi=\"getBalancePpi\"/>\n                                                </div>\n                                                <div v-show=\"steps===4\">\n                                                    <Finalize :sale=\"sales\" :purchase=\"purchases\"\n                                                              :salary=\"salaries\"\n                                                              :withholding=\"withholdings\" :monthlyReturn=\"monthlyReturn\"\n                                                              @getDatePurchase=\"getDatePurchase\"\n                                                              @getPurchase=\"getFinalPurchase\"\n                                                              @getDateWht=\"getDateWht\"\n                                                              @getDateSale=\"getDateSale\"/>\n                                                </div>\n                                            </div>\n                                        </v-form>\n                                    </div>\n                                </v-col>\n                            </v-row>\n                            <div class=\"function_footer px-4\">\n                                <!-- Warning Message -->\n                                <v-btn color=\"black\" class=\"float-left  white--text\">{{\n                                        $t('cancel')\n                                    }}\n                                </v-btn>\n                                <v-btn :disabled=\"!start_return\" class=\"float-right  btn_save_close\"\n                                       @click=\"nextStpes\">\n                                    {{ $t(save_next) }}\n                                </v-btn>\n                                <v-btn v-if=\"steps >= 1 && this.monthlyReturn.number !== ''\" @click=\"saveDraft\"\n                                       class=\"float-right mx-3 capitalize white--text \" color=\"primary\">\n                                    {{ $t('save_draft') }}\n                                </v-btn>\n                            </div>\n                        </v-form>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"true\"\n                :type=\"'loading'\"\n                :myLoading=\"true\"\n            />\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport LoadingMe from '@/components/Loading'\nimport MonthlyReturn from \"@/scripts/compliance/model/MonthlyReturn\";\nimport {i18n} from \"@/i18n\";\nimport kendo from '@progress/kendo-ui'\nimport {uuid} from 'vue-uuid'\nimport taxSettingHandler from \"@/scripts/taxSettingHandler\";\nconst monthlyReturnHandler = require(\"@/scripts/compliance/handler/monthlyReturnHandler\")\nconst saleHandler = require(\"@/scripts/compliance/handler/saleHandler\")\nconst purchaseHandler = require(\"@/scripts/compliance/handler/purchaseHandler\")\nconst salaryHandler = require(\"@/scripts/compliance/handler/salaryHandler\")\nconst withholdingHandler = require(\"@/scripts/compliance/handler/withholdingTaxHandler\")\nconst monthlyReturn = new MonthlyReturn({})\nconst prefixHandler = require(\"@/scripts/compliance/handler/prefixHandler\")\nconst summaryHandler = require(\"@/scripts/compliance/handler/summaryHandler\")\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\")\nconst apiUrl = require('@/apiUrl')\n// const taxSetting = require('@/store/taxSetting');\nconst currencyType = {\n    TAX_EXCHANGE_CURRENCY: 'tax-c',\n}\n// const axios = require('axios')\nexport default {\n    name: \"TaxReturn\",\n    components: {\n        'LoadingMe': LoadingMe,\n        // 'month-picker': () => import('@/components/custom_templates/MonthPicker'),\n        InputTab: () => import('./input/InputTab'),\n        ReviewTab: () => import('./review/ReviewTab'),\n        Confirm: () => import('./confirm/ConfirmTab'),\n        Finalize: () => import('./finalize/Finalize')\n    },\n    data: () => ({\n        menu: false,\n        templates: [],\n        month: '',\n        showLoading: false,\n        valid: '',\n        bill_date: \"\",\n        journal_date: '',\n        steps: 1,\n        reachTopStep: 0,\n        check: false,\n        save_next: 'save_next',\n        activeColor1: \"primary\",\n        activeColor2: \"third\",\n        activeColor3: \"third\",\n        activeColor4: \"third\",\n        isFinal: false,\n        // third\n        check1: false,\n        check2: false,\n        check3: false,\n        payroll_id: '',\n        loadPayrolls: [],\n        // start_return: false,\n\n        isCreate: false,\n        transactionTypes: [],\n        monthlyReturn: monthlyReturn,\n        // isGetAmount: false,\n        AlertValidate2: false,\n\n        currency: {},\n        sales: [],\n        purchases: [],\n        salaries: [],\n        withholdings: [],\n        amountSale: 0,\n        amountSaleExcul: 0,\n        amountTotalPurchase: 0,\n        amountPurchaseExcul: 0,\n        amountWht: 0,\n        amountSalary: 0,\n        amountBenefit: 0,\n        otherAmount: 0,\n        totalAmountPaid: 0,\n        summary: {},\n        isRoute: false,\n        balanceVat: {},\n        balancePpi: {},\n        dateSale: '',\n        datePurchase: '',\n        dateWht: '',\n        dateSalary: '',\n        statusMr: false,\n        journalSummary: [],\n        listTaxs: []\n    }),\n    computed: {\n        start_return() {\n            return this.monthlyReturn.number !== '' && this.$route.params.id !== '';\n        },\n        id() {\n            if (this.$route.params.id) {\n                return this.$route.params.id\n            } else {\n                return ''\n            }\n        },\n        DateState() {\n            return this.$route.params.id !== undefined || this.$route.query.type === 'edit' || this.$route.query.type === 'view';\n        },\n        // listTaxs: {\n        //     set(listTax) {\n        //         taxSetting.default.commit(\"setListTax\", listTax)\n        //     },\n        //     get() {\n        //         return taxSetting.default.state.listTax\n        //     }\n        // },\n    },\n    watch: {\n        'id': 'initData',\n    },\n    beforeRouteLeave (to, from , next) {\n        if (to.name === 'Add Purchase' || to.name === 'Add Sale' || to.name === 'Add Withholding Tax') {\n            next()\n        } else {\n            const sales = this.$store.state.compliance.sale\n            if (sales.length > 0 && sales.filter(p => p.isSave === false)) {\n                this.$swal({\n                    title: i18n.t('msg_title_warning'),\n                    text: i18n.t('msg_leave'),\n                    icon: \"warning\",\n                    cancelButtonText: i18n.t('force_leave'),\n                    confirmButtonColor: \"#4d4848\",\n                    cancelButtonColor: \"#ED1A3A\",\n                    showDenyButton: true,\n                    confirmButtonText: i18n.t('leave'),\n                    showCancelButton: true,\n                    showCloseButton: true,\n                }).then(res => {\n                    if (res.isConfirmed || res.isDismissed && res.dismiss === 'cancel') {\n                        next()\n                        this.clear()\n                        this.amountSale = 0\n                        this.amountSaleExcul = 0\n                        this.amountPurchase = 0\n                        this.amountWht = 0\n                        this.otherAmount = 0\n                        this.totalAmountPaid = 0\n                    } else {\n                        next(false)\n                    }\n                    window.console.log(res, 'discard')\n                })\n            } else {\n                if (this.monthlyReturn.progress === '' && this.isRoute) {\n                    this.$swal({\n                        title: i18n.t('msg_title_warning'),\n                        text: i18n.t('msg_discard'),\n                        icon: \"warning\",\n                        showCancelButton: true,\n                        cancelButtonText: i18n.t('cancel'),\n                        confirmButtonColor: \"#4d4848\",\n                        cancelButtonColor: \"#ED1A3A\",\n                        confirmButtonText: i18n.t('discard'),\n                    }).then(res => {\n                        if (res.isConfirmed) {\n                            next()\n                            this.clear()\n                            this.amountSale = 0\n                            this.amountSaleExcul = 0\n                            this.amountPurchase = 0\n                            this.amountWht = 0\n                            this.otherAmount = 0\n                            this.totalAmountPaid = 0\n                        } else {\n                            next(false)\n                        }\n                    })\n                } else {\n                    next()\n                }\n            }\n        }\n    },\n    methods: {\n        async checkMonthlyReturn() {\n            monthlyReturnHandler.getByMonth(this.monthlyReturn.monthOf).then(res => {\n                window.console.log(res, 'get month123')\n                if (res.data.data === 1) {\n                    this.statusMr = true\n                }\n            })\n        },\n        getFinalPurchase(purchase) {\n            if (this.purchases.length === 0) {\n                this.purchases = purchase\n            }\n        },\n        getBalanceVat(balance) {\n            this.balanceVat = balance\n            window.console.log(this.balanceVat.credit, this.balanceVat.payment, 'balanceVat')\n        },\n        getBalancePpi(balance) {\n            this.balancePpi = balance\n            window.console.log(this.balancePpi, 'balancePpi')\n        },\n        getSummary(summary) {\n            window.console.log('new tax tab summary', summary)\n            this.summary = summary\n        },\n        getDateWht(date) {\n            this.dateWht = date\n        },\n        getSalary(salary) {\n            this.salaries = salary\n        },\n        getDatePurchase(date) {\n            this.datePurchase = date\n        },\n        getDateSale(date) {\n            this.dateSale = date\n        },\n        getTotalAmountPaid(amount) {\n            this.totalAmountPaid = amount\n        },\n        getOtherAmount(amount) {\n            this.otherAmount = amount\n        },\n        getAmountSaleExcul(saleExcul) {\n            window.console.log('new tax tab sale excul', saleExcul)\n            this.amountSaleExcul = saleExcul\n        },\n        getWithholding(withholding) {\n            window.console.log('new tax tab withholding', withholding)\n            this.withholdings = withholding\n        },\n        getAmountSalary(amount) {\n            window.console.log('new tax tab salary', amount)\n            this.amountSalary = amount\n        },\n        getAmountTax(amount) {\n            window.console.log('new tax tab benefit', amount)\n            this.amountBenefit = amount\n        },\n        getInputPurchase(purchase) {\n            window.console.log('new tax tab purchase', purchase)\n            this.purchases = purchase\n        },\n        getInputSale(sale) {\n            window.console.log('new tax tab sale', sale)\n            this.sales = sale\n        },\n        getAmountWht(amount) {\n            window.console.log('new tax tab wht', amount)\n            this.amountWht = amount\n        },\n        getStep(step) {\n            this.steps = step\n            if (this.reachTopStep <= this.steps) {\n                this.reachTopStep = this.steps\n            }\n            this.stepsCondition(this.steps)\n        },\n        getTotalAmountPurchase(amount) {\n            this.amountTotalPurchase = amount\n            window.console.log(this.amountTotalPurchase, 'New Tax Tab Purchase')\n        },\n        getAmountPurchaseExcul(amount) {\n            this.amountPurchaseExcul = amount\n        },\n        getAmountSale(amount) {\n            this.amountSale = amount\n            window.console.log(this.amountSale, 'New Tax Tab Sale')\n        },\n        async initData() {\n            this.showLoading = true\n            if (this.$route.params.id !== undefined && this.$route.params.monthlyReturn === undefined) {\n                await this.onLoadOneReturn()\n                window.console.log(this.steps)\n            } else if (this.$route.params.monthlyReturn !== undefined) {\n                this.monthlyReturn = this.$route.params.monthlyReturn\n                if (this.monthlyReturn.status.id === 2) {\n                    this.$router.push({\n                        name: 'View Tax Return',\n                        path: 'view_monthly_return/' + this.monthlyReturn.id,\n                        params: {id: this.monthlyReturn.id, monthlyReturn: this.monthlyReturn},\n                        query: {type: 'view'}\n                    })\n                }\n                window.console.log(this.monthlyReturn, 'dafasdf34')\n                this.initLocalStorage(this.monthlyReturn.abbr, this.monthlyReturn.number)\n                const step = JSON.parse(localStorage.getItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Step'))\n                let steps = 1\n                if (this.monthlyReturn.step !== '') {\n                    steps = this.monthlyReturn.step\n                }\n                if (step > 0) {\n                    window.console.log('step12', step)\n                    if (this.monthlyReturn.step > step) {\n                        steps = this.monthlyReturn.step\n                    } else {\n                        steps = step\n                    }\n                }\n                this.steps = steps\n                if (this.reachTopStep <= this.steps) {\n                    this.reachTopStep = this.steps\n                }\n                this.stepsCondition(this.steps)\n                // this.start_return = true\n                this.showLoading = false\n                window.console.log(this.steps)\n            } else {\n                this.clear()\n            }\n        },\n        clear() {\n            this.monthlyReturn = new MonthlyReturn({})\n            this.showLoading = false\n        },\n        initLocalStorage(abbr, number) {\n            const sale = JSON.parse(localStorage.getItem(abbr + number + '&Sale'))\n            const purchase = JSON.parse(localStorage.getItem(abbr + number + '&Purchase'))\n            const withholding = JSON.parse(localStorage.getItem(abbr + number + '&Withholding'))\n            const salary = JSON.parse(localStorage.getItem(abbr + number + '&Salary'))\n            const step = JSON.parse(localStorage.getItem(abbr + number + '&Step'))\n            if (sale === null) {\n                localStorage.setItem(abbr + number + '&Sale', JSON.stringify([]))\n            }\n            if (purchase === null) {\n                localStorage.setItem(abbr + number + '&Purchase', JSON.stringify([]))\n            }\n            if (withholding === null) {\n                localStorage.setItem(abbr + number + '&Withholding', JSON.stringify([]))\n            }\n            if (salary === null) {\n                localStorage.setItem(abbr + number + '&Salary', JSON.stringify([]))\n            }\n            if (step === null) {\n                localStorage.setItem(abbr + number + '&Step', JSON.stringify(1))\n            }\n        },\n        onClose() {\n            const sales = this.$store.state.compliance.sale\n            const purchases = this.$store.state.compliance.purchase\n            const withholding = this.$store.state.compliance.withholding\n            if (sales.length > 0 && sales.filter(p => p.isSave === false) || purchases.length > 0 && purchases.filter(p => p.isSave === false) || withholding.length > 0 && withholding.filter(p => p.isSave === false)) {\n                this.$swal({\n                    title: i18n.t('msg_title_warning'),\n                    text: i18n.t('msg_leave'),\n                    icon: \"warning\",\n                    cancelButtonText: i18n.t('force_leave'),\n                    confirmButtonColor: \"#4d4848\",\n                    cancelButtonColor: \"#ED1A3A\",\n                    showDenyButton: true,\n                    confirmButtonText: i18n.t('leave'),\n                    showCancelButton: true,\n                    showCloseButton: true,\n                }).then(res => {\n                    if (res.isConfirmed || res.isDismissed && res.dismiss === 'cancel') {\n                        this.clean()\n                    }\n                    window.console.log(res, 'discard')\n                })\n            } else {\n                if (this.monthlyReturn.progress === '' && this.isRoute) {\n                    this.$swal({\n                        title: i18n.t('msg_title_warning'),\n                        text: i18n.t('msg_discard'),\n                        icon: \"warning\",\n                        showCancelButton: true,\n                        cancelButtonText: i18n.t('cancel'),\n                        confirmButtonColor: \"#4d4848\",\n                        cancelButtonColor: \"#ED1A3A\",\n                        confirmButtonText: i18n.t('discard'),\n                    }).then(res => {\n                        if (res.isConfirmed) {\n                            this.clean()\n                        }\n                    })\n                }\n            }\n\n            // const sale = JSON.parse(localStorage.getItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Sale'))\n            // const purchase = JSON.parse(localStorage.getItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Purchase'))\n            // const withholding = JSON.parse(localStorage.getItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Withholding'))\n            // const salary = JSON.parse(localStorage.getItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Salary'))\n            // const step = JSON.parse(localStorage.getItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Step'))\n            // if (sale === null) {\n            //     localStorage.setItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Sale', JSON.stringify([]))\n            // }\n            // if (purchase === null) {\n            //     localStorage.setItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Purchase', JSON.stringify([]))\n            // }\n            // if (withholding === null) {\n            //     localStorage.setItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Withholding', JSON.stringify([]))\n            // }\n            // if (salary === null) {\n            //     localStorage.setItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Salary', JSON.stringify([]))\n            // }\n            // if (step === null) {\n            //     localStorage.setItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Step', JSON.stringify(1))\n            // }\n            // if (sale !== null || purchase !== null || withholding !== null || salary !== null) {\n            //     if (sale.length > 0 || purchase.length > 0 || withholding.length > 0 || salary.length > 0) {\n            //         this.$swal({\n            //             title: i18n.t('msg_title_warning'),\n            //             text: i18n.t('msg_leave'),\n            //             icon: \"warning\",\n            //             cancelButtonText: i18n.t('force_leave'),\n            //             confirmButtonColor: \"#4d4848\",\n            //             cancelButtonColor: \"#ED1A3A\",\n            //             showDenyButton: true,\n            //             confirmButtonText: i18n.t('leave'),\n            //             showCancelButton: true,\n            //             showCloseButton: true,\n            //         }).then(res => {\n            //             if (res.isConfirmed) {\n            //                 localStorage.setItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Step', this.steps)\n            //                 this.clean()\n            //             } else if (res.isDismissed && res.dismiss === 'cancel') {\n            //                 localStorage.removeItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Sale')\n            //                 localStorage.removeItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Purchase')\n            //                 localStorage.removeItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Salary')\n            //                 localStorage.removeItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Withholding')\n            //                 localStorage.removeItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Step')\n            //                 this.clean()\n            //             }\n            //             window.console.log(res, 'discard')\n            //         })\n            //     } else {\n            //         if (this.monthlyReturn.progress === '' && this.isRoute) {\n            //             this.$swal({\n            //                 title: i18n.t('msg_title_warning'),\n            //                 text: i18n.t('msg_discard'),\n            //                 icon: \"warning\",\n            //                 showCancelButton: true,\n            //                 cancelButtonText: i18n.t('cancel'),\n            //                 confirmButtonColor: \"#4d4848\",\n            //                 cancelButtonColor: \"#ED1A3A\",\n            //                 confirmButtonText: i18n.t('discard'),\n            //             }).then(res => {\n            //                 if (res.isConfirmed) {\n            //                     localStorage.removeItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Sale')\n            //                     localStorage.removeItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Purchase')\n            //                     localStorage.removeItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Salary')\n            //                     localStorage.removeItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Withholding')\n            //                     localStorage.removeItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Step')\n            //                     this.clean()\n            //                 }\n            //                 window.console.log(res, 'discard')\n            //             })\n            //         } else {\n            //             this.clean()\n            //         }\n            //     }\n            // }\n        },\n        clean() {\n            this.clear()\n            this.amountSale = 0\n            this.amountSaleExcul = 0\n            this.amountPurchase = 0\n            this.amountWht = 0\n            this.otherAmount = 0\n            this.totalAmountPaid = 0\n            // this.start_return = false\n            if (!this.isRoute) {\n                this.isRoute = false\n                window.history.go(-1)\n\n            } else {\n                this.isRoute = false\n                window.history.go(-1)\n                window.history.go(-1)\n            }\n\n        },\n        async loadCurrencyData(type) {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.showLoading = true\n                    currencyHandler.list(type).then(response => {\n                        if (response.data.statusCode === 200) {\n                            window.console.log('response','')\n                            if (type === currencyType.TAX_EXCHANGE_CURRENCY) {\n                                this.currency = response.data.data[0]\n                            }\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 300)\n            })\n        },\n        async onloadCurrency() {\n            const date = this.monthlyReturn.monthOf + '-' + '30'\n            const code = 'KHR'\n            currencyHandler.getLastExchangeRateTaxByDate(date, code).then(res => {\n                this.currency = res.data.data[0]\n                window.console.log(res, 'currency')\n            })\n        },\n        async onLoadOneReturn() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    const id = this.$route.params.id\n                    monthlyReturnHandler.getOne(id).then(res => {\n                        window.console.log(res, 'data load monthly return')\n                        this.monthlyReturn = res.data.data[0]\n                        if (this.monthlyReturn.status.id === 2) {\n                            this.$router.push({\n                                name: 'View Tax Return',\n                                path: 'view_monthly_return/' + this.monthlyReturn.id,\n                                params: {id: this.monthlyReturn.id, monthlyReturn: this.monthlyReturn},\n                                query: {type: 'view'}\n                            })\n                        }\n                        window.console.log(this.monthlyReturn)\n                        this.initLocalStorage(this.monthlyReturn.number)\n                        this.steps = this.monthlyReturn.step\n                        if (this.reachTopStep <= this.steps) {\n                            this.reachTopStep = this.steps\n                        }\n                        this.stepsCondition(this.steps)\n                        // this.start_return = true\n                        this.showLoading = false\n                    })\n                })\n            })\n        },\n        async startReturn() {\n            this.showLoading = true\n            await this.checkMonthlyReturn()\n            if (this.statusMr) {\n                this.$snotify.error('This month of is exist')\n                this.statusMr = false\n                this.showLoading = false\n                return\n            }\n            await this.generateNumber()\n            // this.start_return = true\n        },\n        async loadPrefix() {\n            prefixHandler.get('monthly return').then(res => {\n                if (res.data.statusCode === 200) {\n                    this.transactionTypes = res.data.data\n                    if (this.transactionTypes.length > 0) {\n                        this.monthlyReturn.transactionType = this.transactionTypes[0]\n                    }\n                }\n            })\n        },\n        async generateNumber() {\n            if (this.monthlyReturn.transactionType.abbr === undefined) {\n                await this.loadPrefix()\n            }\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    let data = {\n                        abbr: this.monthlyReturn.transactionType.abbr,\n                        structure: this.monthlyReturn.transactionType.structure,\n                        transactionDate: this.monthlyReturn.monthOf,\n                        sequcencing: this.monthlyReturn.transactionType.sequcencing,\n                        type: 'Monthly Return',\n                    }\n                    this.monthlyReturn.abbr = data.abbr\n                    this.monthlyReturn.structure = data.structure\n                    this.monthlyReturn.sequcencing = data.sequcencing\n                    this.monthlyReturn.type = data.type\n                    this.monthlyReturn.transactionDate = data.transactionDate\n                    prefixHandler.lastNumber(data).then(async response => {\n                        if (response.data.statusCode === 200) {\n                            const res = response.data.data\n                            const lastNumber = this.zeroPad(parseInt(res.lastNumber), this.monthlyReturn.transactionType.format)\n                            this.monthlyReturn.number = res.suffix + this.monthlyReturn.transactionType.numberSeparator + lastNumber\n                            this.monthlyReturn.lastNumber = res.suffix + lastNumber\n                            window.console.log(this.monthlyReturn.number, 'monthly return')\n                            // await this.saveReturn()\n\n                            this.monthlyReturn.id = `mr-${uuid.v1()}`\n                            this.monthlyReturn.status = {id: 1, name: 'Drafted'}\n                            this.monthlyReturn.editDate = new Date().toISOString().substr(0, 10)\n                            this.monthlyReturn.amountPaid = 0\n                            this.monthlyReturn.exChangeRate = 4000\n                            this.monthlyReturn.step = 1\n                            window.console.log('monthly return', this.monthlyReturn)\n                            this.$router.push({\n                                path: 'new_tax_return' + `/${this.monthlyReturn.id}`,\n                                name: 'New Tax Return',\n                                params: {id: this.monthlyReturn.id, monthlyReturn: this.monthlyReturn},\n                                query: {type: 'edit'}\n                            })\n                            this.isRoute = true\n                            if (this.monthlyReturn.progress === '' && this.isRoute) {\n                                window.addEventListener('beforeunload', function (event) {\n                                    event.returnValue = 'Please make sure you already save draft'\n                                })\n                                window.removeEventListener('beforeunload', function (event) {\n                                    event.returnValue = ''\n                                })\n                            }\n                            this.showLoading = false\n                        }\n                    }).catch(e => {\n                        window.console.error(e)\n                    })\n                    this.menu = false\n                }, 300)\n            })\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, '0')\n        },\n        async loadListTax() {\n            await taxSettingHandler.get(apiUrl.tax_setting.tax_list_get, \"listTax\", \"setListTax\")\n        },\n        async saveReturn() {\n            monthlyReturnHandler.create(this.monthlyReturn).then(res => {\n                window.console.log(res)\n                this.monthlyReturn = res.data.data\n                this.$router.push({\n                    path: 'new_tax_return' + `/${this.monthlyReturn.id}`,\n                    name: 'New Tax Return',\n                    params: {id: this.monthlyReturn.id},\n                    query: {type: 'edit'}\n                })\n                this.isCreate = true\n                this.showLoading = false\n            }).catch(e => {\n                window.console.error(e.message)\n            })\n        },\n        async saveDraft() {\n            this.showLoading = true\n            this.monthlyReturn.step = this.steps\n            let progressName = ''\n            if (this.steps === 1) {\n                progressName = 'Input'\n            } else if (this.steps === 2) {\n                progressName = 'Review'\n            } else if (this.steps === 3) {\n                progressName = 'Confirm'\n                this.monthlyReturn.amountPaid = this.totalAmountPaid.amount\n                if (this.totalAmountPaid.summary !== undefined) {\n                    this.totalAmountPaid.summary.monthOf = this.monthlyReturn.monthOf\n                    summaryHandler.create(this.totalAmountPaid.summary).then(res => {\n                        window.console.log(res, 'summary create')\n                    })\n                }\n                if (this.balanceVat.credit && this.balanceVat.credit > 0 || this.balanceVat.payment && this.balanceVat.payment > 0) {\n                    const data = {\n                        credit: this.balanceVat.credit,\n                        payment: this.balanceVat.payment,\n                        monthOf: this.monthlyReturn.monthOf,\n                        type: 'vat monthly',\n                        date: new Date().toJSON()\n                    }\n                    await monthlyReturnHandler.addTxnVAT(data, this.monthlyReturn.monthOf, 'monthly').then(res => {\n                        window.console.log(res)\n                    })\n                }\n                if (this.balancePpi.balance && this.balancePpi.balance > 0 || this.balancePpi.credit && this.balancePpi.credit > 0) {\n                    const data = {\n                        amount: this.balancePpi.balance,\n                        monthOf: this.monthlyReturn.monthOf,\n                        type: 'ppi monthly',\n                        date: new Date().toJSON()\n                    }\n                    await monthlyReturnHandler.addTxnPPI(data, this.monthlyReturn.monthOf, 'monthly').then(res => {\n                        window.console.log(res)\n                    })\n                }\n            } else if (this.steps === 4) {\n                await this.loadListTax()\n                window.console.log(this.sales, 'sales')\n                window.console.log(this.purchases, 'purchases')\n                window.console.log(this.withholdings, 'withholdings')\n                window.console.log(this.salaries, 'salaries')\n                let amtSale = 0, accSale = {},\n                    amtPurchase = 0, accPurchase = {},\n                    amtWht = 0, accWht = {},\n                    amtPPi = 0, accPPi = {},\n                    amtOther = 0, accOther = {},\n                    amtSalary = 0, accSalary = {},\n                    amtFBT = 0, accFBT = {}\n                window.console.log(this.listTaxs, progressName, 'listTax')\n                accSale = this.listTaxs.filter(o => o.taxType.typeId === 1 && o.transactionType === 'Sale')[0].account\n                accPurchase = this.listTaxs.filter(o => o.taxType.typeId === 1 && o.transactionType === 'Purchase')[0].account\n                accWht = this.listTaxs.filter(o => o.taxType.typeId === 2 && o.transactionType === 'Purchase')[0].account\n                accPPi = this.listTaxs.filter(o => o.taxType.typeId === 6)[0].account\n                accOther = this.listTaxs.filter(o => o.taxType.typeId === 7)[0].account\n                accSalary = this.listTaxs.filter(o => o.taxType.typeId === 3)[0].account\n                accFBT = this.listTaxs.filter(o => o.taxType.typeId === 4)[0].account\n                this.sales.forEach(i => {\n                    if (i.itemLine[0].taxName.accountId === accSale.id) {\n                        amtSale += i.totalVAT\n                    }\n                    if (i.itemLine[0].specificTax.accountId === accOther.id) {\n                        amtOther += i.totalSpecificTax\n                    }\n                    if (i.itemLine[0].pubTax.accountId === accOther.id) {\n                        amtOther += i.totalPubTax\n                    }\n                    if (i.itemLine[0].accomTax.accountId === accOther.id) {\n                        amtOther += i.totalAccomTax\n                    }\n                })\n                this.purchases.forEach(i => {\n                    if (i.itemLine[0].taxName.accountId === accPurchase.id) {\n                        amtPurchase += i.totalVAT\n                    }\n                })\n                this.withholdings.forEach(i => {\n                    if (i.itemLine[0].taxName.accountId === accWht.id) {\n                        amtWht += i.totalVAT\n                    }\n                })\n                this.salaries.forEach(i => {\n                    amtSalary += i.amountTaxSalary\n                    amtFBT += i.taxAmountBenefit\n                })\n                amtPPi = this.balancePpi.balance\n                if (this.journalSummary.length === 0) {\n                    this.journalSummary = [\n                        {\n                            id: `mr-${uuid.v1()}`,\n                            exchange_rate: this.currency.rate,\n                            currency: this.currency,\n                            account: accSale,\n                            amount: kendo.parseFloat(amtSale)\n                        },\n                        {\n                            id: `mr-${uuid.v1()}`,\n                            exchange_rate: this.currency.rate,\n                            currency: this.currency,\n                            account: accPurchase,\n                            amount: kendo.parseFloat(amtPurchase) * (-1)\n                        },\n                        {\n                            id: `mr-${uuid.v1()}`,\n                            exchange_rate: this.currency.rate,\n                            currency: this.currency,\n                            account: accWht,\n                            amount: amtWht\n                        },\n                        {\n                            id: `mr-${uuid.v1()}`,\n                            exchange_rate: this.currency.rate,\n                            currency: this.currency,\n                            account: accOther,\n                            amount: amtOther\n                        },\n                        {\n                            id: `mr-${uuid.v1()}`,\n                            exchange_rate: this.currency.rate,\n                            currency: this.currency,\n                            account: accPPi,\n                            amount: amtPPi\n                        },\n                        {\n                            id: `mr-${uuid.v1()}`,\n                            exchange_rate: this.currency.rate,\n                            currency: this.currency,\n                            account: accSalary,\n                            amount: amtSalary\n                        },\n                        {\n                            id: `mr-${uuid.v1()}`,\n                            exchange_rate: this.currency.rate,\n                            currency: this.currency,\n                            account: accFBT,\n                            amount: amtFBT\n                        }\n                    ]\n                }\n                window.console.log(this.journalSummary, 'journalSummary')\n                await monthlyReturnHandler.createJournal(this.journalSummary).then(res => {\n                    window.console.log(res, 'create journal monthly return')\n                })\n                window.console.log(amtSale, accSale, 'amount sale acc')\n                window.console.log(amtPurchase, accPurchase, 'amount purchase acc')\n                window.console.log(amtWht, accWht, 'amount wht acc')\n                window.console.log(amtOther, accOther, 'amount other acc')\n                window.console.log(amtPPi, accPPi, 'amount PPi acc')\n                window.console.log(amtSalary, accSalary, 'amount Salary acc')\n                progressName = 'Finalize'\n                this.monthlyReturn.amountPaid = this.totalAmountPaid.amount\n                if (this.totalAmountPaid.summary !== undefined) {\n                    this.totalAmountPaid.summary.monthOf = this.monthlyReturn.monthOf\n                    summaryHandler.create(this.totalAmountPaid.summary).then(res => {\n                        window.console.log(res, 'summary create')\n                    })\n                }\n                if (this.balanceVat.credit && this.balanceVat.credit > 0 || this.balanceVat.payment && this.balanceVat.payment > 0) {\n                    const data = {\n                        credit: this.balanceVat.credit,\n                        payment: this.balanceVat.payment,\n                        monthOf: this.monthlyReturn.monthOf,\n                        type: 'vat monthly',\n                        date: new Date().toJSON()\n                    }\n                    await monthlyReturnHandler.addTxnVAT(data, this.monthlyReturn.monthOf, 'monthly').then(res => {\n                        window.console.log(res)\n                    })\n                }\n                if (this.balancePpi.balance && this.balancePpi.balance > 0 || this.balancePpi.credit && this.balancePpi.credit > 0) {\n                    const data = {\n                        amount: this.balancePpi.balance,\n                        monthOf: this.monthlyReturn.monthOf,\n                        type: 'ppi monthly',\n                        date: new Date().toJSON()\n                    }\n                    await monthlyReturnHandler.addTxnPPI(data, this.monthlyReturn.monthOf, 'monthly').then(res => {\n                        window.console.log(res)\n                    })\n                }\n                this.monthlyReturn.dateSale = this.dateSale.date\n                this.monthlyReturn.datePurchase = this.datePurchase.date\n                this.monthlyReturn.dateWht = this.dateWht.date\n                this.monthlyReturn.dateSalary = this.dateSalary.date\n                this.monthlyReturn.amountDlSale = this.dateSale.amount\n                this.monthlyReturn.amountDlPurchase = this.datePurchase.amount\n                this.monthlyReturn.amountDlWht = this.dateWht.amount\n                this.monthlyReturn.amountDlSalary = this.dateSalary.amount\n            }\n            this.monthlyReturn.progress = progressName\n            window.console.log(this.monthlyReturn, 'monthlyReturn')\n            await monthlyReturnHandler.create(this.monthlyReturn).then(async res => {\n                window.console.log(res)\n                this.monthlyReturn = res.data.data\n                if (this.sales.length > 0) {\n                    await saleHandler.create(this.sales).then(res => {\n                        localStorage.removeItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Sale')\n                        window.console.log(res)\n                    })\n                }\n                if (this.purchases.length > 0) {\n                    await purchaseHandler.create(this.purchases).then(res => {\n                        localStorage.removeItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Purchase')\n                        window.console.log(res)\n                    })\n                }\n                if (this.withholdings.length > 0) {\n                    await withholdingHandler.create(this.withholdings).then(res => {\n                        localStorage.removeItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Withholding')\n                        window.console.log(res)\n                    })\n                }\n                if (this.salaries.length > 0) {\n                    await salaryHandler.create(this.salaries).then(res => {\n                        localStorage.removeItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Salary')\n                        window.console.log(res)\n                    })\n                }\n                // localStorage.setItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Sale', JSON.stringify([]))\n                // localStorage.setItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Purchase', JSON.stringify([]))\n                // localStorage.setItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Withholding', JSON.stringify([]))\n                // localStorage.setItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Salary', JSON.stringify([]))\n                // localStorage.setItem(this.monthlyReturn.abbr + this.monthlyReturn.number + '&Step', JSON.stringify(this.steps))\n            //     this.showLoading = false\n            }).catch(e => {\n                window.console.error(e.message)\n            })\n        },\n        async nextStpes() {\n            if (this.steps == 4) {\n                this.save_next = \"confirm_close\"\n                await this.saveDraft()\n                // await this.clean()\n            } else {\n                this.save_next = \"confirm_next\"\n                this.steps = this.steps + 1\n                if (this.reachTopStep <= this.steps) {\n                    this.reachTopStep = this.steps\n                }\n                this.stepsCondition(this.steps)\n            }\n        },\n        async ClickSteps(step) {\n            if (this.steps === step) {\n                return\n            }\n            if (step > this.reachTopStep) {\n                return\n            }\n            if (step !== 4) {\n                this.save_next = \"confirm_next\"\n            } else {\n                this.save_next = \"confirm_close\"\n            }\n            this.steps = step\n            this.stepsCondition(this.steps)\n        },\n        stepsCondition(val) {\n            switch (val) {\n                case 1:\n                    this.activeColor1 = \"primary\"\n                    this.activeColor2 = \"third\"\n                    this.activeColor3 = \"third\"\n                    this.activeColor4 = \"third\"\n                    break\n                case 2:\n                    this.activeColor1 = \"third\"\n                    this.activeColor2 = \"primary\"\n                    this.activeColor3 = \"third\"\n                    this.activeColor4 = \"third\"\n                    break\n                case 3:\n                    this.activeColor1 = \"third\"\n                    this.activeColor2 = \"third\"\n                    this.activeColor3 = \"primary\"\n                    this.activeColor4 = \"third\"\n                    break\n                default:\n                    this.activeColor1 = \"third\"\n                    this.activeColor2 = \"third\"\n                    this.activeColor3 = \"third\"\n                    this.activeColor4 = \"primary\"\n                    this.isFinal = true\n                    this.save_next = \"confirm_close\"\n                    break\n            }\n        },\n        numberFormat(value) {\n            // window.console.log(this.saleFormContent.decimal,'nimol')\n            if (value >= 0) {\n                return value.toLocaleString()\n            } else {\n                return value\n            }\n\n        },\n    },\n    created() {\n        this.loadListTax()\n    },\n    async mounted() {\n        await this.onloadCurrency()\n        // await this.loadCurrencyData(currencyType.TAX_EXCHANGE_CURRENCY)\n        await this.initData()\n        await this.loadPrefix()\n    },\n}\n\n</script>\n\n<style scoped>\n.function_content {\n    padding: 0 12px 12px;\n    border-bottom: 0;\n    background-color: #fff !important;\n}\n\n.m_auto {\n    margin: auto;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        /* max-width: 1185px; */\n        max-width: 1080px !important;\n    }\n}\n\n.grayBg {\n    background-color: #F8F8F9;\n}\n\n@media (max-width: 576px) {\n    .mb-6 {\n        margin-bottom: 0 !important;\n    }\n}\n\n.border_grey {\n    border: 1px solid #d6d7d8;\n}\n\n.attachment_table {\n    width: 100%;\n}\n\n.my_checkbox input[type=checkbox] + label {\n    display: grid;\n    grid-template-columns: 20% 80%;\n    margin: 0.2em 0px;\n    cursor: pointer;\n    line-height: 16px;\n    padding: 0.2em;\n}\n</style>\n"],"sourceRoot":"src/views/compliance/monthly_tax/new_tax_return"}]}