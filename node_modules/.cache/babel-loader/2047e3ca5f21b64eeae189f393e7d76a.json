{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/components/VOffline.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/components/VOffline.vue","mtime":1638499442943},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFBpbmcgZnJvbSAncGluZy5qcyc7CnZhciBFVkVOVFMgPSBbJ29ubGluZScsICdvZmZsaW5lJywgJ2xvYWQnXTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdWT2ZmbGluZScsCiAgcHJvcHM6IHsKICAgIHNsb3ROYW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnb25saW5lJwogICAgfSwKICAgIG9ubGluZUNsYXNzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIG9mZmxpbmVDbGFzczogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBwaW5nVXJsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnaHR0cHM6Ly9nb29nbGUuY29tJwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzT25saW5lOiBuYXZpZ2F0b3Iub25MaW5lIHx8IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNvbXB1dGVkQ2xhc3M6IGZ1bmN0aW9uIGNvbXB1dGVkQ2xhc3MoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzT25saW5lID8gdGhpcy5vbmxpbmVDbGFzcyA6IHRoaXMub2ZmbGluZUNsYXNzOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgRVZFTlRTLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHJldHVybiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgX3RoaXMudXBkYXRlT25saW5lU3RhdHVzKTsKICAgIH0pOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIEVWRU5UUy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkgewogICAgICByZXR1cm4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIF90aGlzMi51cGRhdGVPbmxpbmVTdGF0dXMpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVPbmxpbmVTdGF0dXM6IGZ1bmN0aW9uIHVwZGF0ZU9ubGluZVN0YXR1cygpIHsKICAgICAgdmFyIHQgPSB0aGlzOwogICAgICB2YXIgcCA9IG5ldyBQaW5nKCk7CiAgICAgIHAucGluZyh0LnBpbmdVcmwsIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBpZiAoZXJyIHx8ICFuYXZpZ2F0b3Iub25MaW5lKSB7CiAgICAgICAgICB0LmlzT25saW5lID0gZmFsc2U7CiAgICAgICAgICB0LiRlbWl0KCdkZXRlY3RlZC1jb25kaXRpb24nLCB0LmlzT25saW5lKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdC5pc09ubGluZSA9IHRydWU7CiAgICAgICAgICB0LiRlbWl0KCdkZXRlY3RlZC1jb25kaXRpb24nLCB0LmlzT25saW5lKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["VOffline.vue"],"names":[],"mappings":";;;;;;AAOA,OAAA,IAAA,MAAA,SAAA;AAEA,IAAA,MAAA,GAAA,CAAA,QAAA,EAAA,SAAA,EAAA,MAAA,CAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KADA;AAMA,IAAA,WAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KANA;AAWA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAXA;AAgBA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA;AAhBA,GAFA;AAwBA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,QAAA,EAAA,SAAA,CAAA,MAAA,IAAA;AADA,KAAA;AAAA,GAxBA;AA2BA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,aAAA,KAAA,QAAA,GAAA,KAAA,WAAA,GAAA,KAAA,YAAA;AACA;AAHA,GA3BA;AAgCA,EAAA,OAhCA,qBAgCA;AAAA;;AACA,IAAA,MAAA,CAAA,OAAA,CAAA,UAAA,KAAA;AAAA,aACA,MAAA,CAAA,gBAAA,CAAA,KAAA,EAAA,KAAA,CAAA,kBAAA,CADA;AAAA,KAAA;AAGA,GApCA;AAqCA,EAAA,aArCA,2BAqCA;AAAA;;AACA,IAAA,MAAA,CAAA,OAAA,CAAA,UAAA,KAAA;AAAA,aACA,MAAA,CAAA,mBAAA,CAAA,KAAA,EAAA,MAAA,CAAA,kBAAA,CADA;AAAA,KAAA;AAGA,GAzCA;AA0CA,EAAA,OAAA,EAAA;AACA,IAAA,kBADA,gCACA;AACA,UAAA,CAAA,GAAA,IAAA;AACA,UAAA,CAAA,GAAA,IAAA,IAAA,EAAA;AACA,MAAA,CAAA,CAAA,IAAA,CAAA,CAAA,CAAA,OAAA,EAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,IAAA,CAAA,SAAA,CAAA,MAAA,EAAA;AACA,UAAA,CAAA,CAAA,QAAA,GAAA,KAAA;AACA,UAAA,CAAA,CAAA,KAAA,CAAA,oBAAA,EAAA,CAAA,CAAA,QAAA;AACA,SAHA,MAGA;AACA,UAAA,CAAA,CAAA,QAAA,GAAA,IAAA;AACA,UAAA,CAAA,CAAA,KAAA,CAAA,oBAAA,EAAA,CAAA,CAAA,QAAA;AACA;AACA,OARA;AASA;AAbA;AA1CA,CAAA","sourcesContent":["<template>\n    <div :class=\"computedClass\">\n        <slot :name=\"slotName\"/>\n    </div>\n</template>\n\n<script>\nimport Ping from 'ping.js';\n\nconst EVENTS = ['online', 'offline', 'load'];\nexport default {\n    name: 'VOffline',\n    props: {\n        slotName: {\n            type: String,\n            required: false,\n            default: 'online',\n        },\n        onlineClass: {\n            type: String,\n            required: false,\n            default: '',\n        },\n        offlineClass: {\n            type: String,\n            required: false,\n            default: '',\n        },\n        pingUrl: {\n            type: String,\n            required: false,\n            default: 'https://google.com',\n        },\n    },\n    data: () => ({\n        isOnline: navigator.onLine || false,\n    }),\n    computed: {\n        computedClass() {\n            return this.isOnline ? this.onlineClass : this.offlineClass;\n        },\n    },\n    created() {\n        EVENTS.forEach((event) =>\n            window.addEventListener(event, this.updateOnlineStatus),\n        );\n    },\n    beforeDestroy() {\n        EVENTS.forEach((event) =>\n            window.removeEventListener(event, this.updateOnlineStatus),\n        );\n    },\n    methods: {\n        updateOnlineStatus() {\n            const t = this;\n            const p = new Ping();\n            p.ping(t.pingUrl, (err) => {\n                if (err || !navigator.onLine) {\n                    t.isOnline = false;\n                    t.$emit('detected-condition', t.isOnline);\n                } else {\n                    t.isOnline = true;\n                    t.$emit('detected-condition', t.isOnline);\n                }\n            });\n        },\n    },\n};\n\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components"}]}