{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/banking/banking/bank_balances/BankBalances.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/banking/banking/bank_balances/BankBalances.vue","mtime":1638499443124},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBrZW5kbyBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tdWknOwppbXBvcnQgeyBpMThuIH0gZnJvbSAnQC9pMThuJzsKCnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoIkAvc2NyaXB0cy9BcHBIYW5kbGVycyIpLAogICAgdHJpYWxCYWxhbmNlSGFuZGxlciA9IF9yZXF1aXJlLnRyaWFsQmFsYW5jZUhhbmRsZXI7IC8vIGNvbnN0IHsgQWNjb3VudFR5cGVDb2RlIH0gPSByZXF1aXJlKCJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9Db2xsZWN0aW9ucyIpOwoKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICAiTG9hZGluZ01lIjogZnVuY3Rpb24gTG9hZGluZ01lKCkgewogICAgICByZXR1cm4gaW1wb3J0KCdAL2NvbXBvbmVudHMvTG9hZGluZycpOwogICAgfSwKICAgICdhcHAtZGF0ZXBpY2tlcic6IGZ1bmN0aW9uIGFwcERhdGVwaWNrZXIoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJ0AvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL0RhdGVQaWNrZXJDb21wb25lbnQnKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBPYmoKICAgICAgYWNjb3VudHM6IFtdLAogICAgICBoZWFkZXJzOiBbewogICAgICAgIHRleHQ6IGkxOG4udCgiZmluYW5jaWFsX2luc3RpdHV0aW9uIiksCiAgICAgICAgdmFsdWU6ICdhY2NvdW50LmJhbmtfYWNjb3VudC5iYW5rLm5hbWUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiBpMThuLnQoIm51bWJlciIpLAogICAgICAgIHZhbHVlOiAnYWNjb3VudC5iYW5rX2FjY291bnQubnVtYmVyJywKICAgICAgICBzb3J0YWJsZTogZmFsc2UKICAgICAgfSwgewogICAgICAgIHRleHQ6IGkxOG4udCgiY29ubmVjdGlvbiIpLAogICAgICAgIHZhbHVlOiAnY29ubmVjdGlvbicsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiBpMThuLnQoImFtb3VudF9pbl9iYW5rIiksCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiBpMThuLnQoImdsX2JhbGFuY2UiKSwKICAgICAgICB2YWx1ZTogJ2JhbGFuY2UnLAogICAgICAgIGFsaWduOiAncmlnaHQnLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgICB9XSwKICAgICAgYXNPZkRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgICAvLyBMb2FkaW5nTWUKICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgICBsb2FkaW5nQWxlcnQ6IGZhbHNlLAogICAgICBsb2FkaW5nQ29sb3JBbGVydDogIiIsCiAgICAgIGxvYWRpbmdUZXh0QWxlcnQ6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgYXNPZkRhdGUgPSBuZXcgRGF0ZSh0aGlzLmFzT2ZEYXRlKTsKICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgIHRyaWFsQmFsYW5jZUhhbmRsZXIuZ2V0VHJpYWxCYWxhbmNlKHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGFzX29mX2RhdGU6IGtlbmRvLnRvU3RyaW5nKGFzT2ZEYXRlLCAneXl5eS1NTS1kZCcpICsgJ1QyMzo1OTo1OS45OTlaJywKICAgICAgICAgIGluY2x1ZGVfMF9iYWxhbmNlOiB0cnVlCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEpIHsKICAgICAgICAgIC8vIEJpbmQgZGF0YQogICAgICAgICAgLy8gdGhpcy5hY2NvdW50cyA9IHJlcy5kYXRhLnRiZGV0YWlscy5maWx0ZXIodmFsdWUgPT4gfkFjY291bnRUeXBlQ29kZS5CQU5LSU5HX0FDQ09VTlRTLmluZGV4T2YodmFsdWUuYWNjb3VudC5hY2NvdW50X3R5cGUubnVtYmVyKSk7CiAgICAgICAgICB2YXIgYmFua0JhbGFuY2VzID0gW107CiAgICAgICAgICByZXMuZGF0YS50YmRldGFpbHMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgaWYgKHZhbHVlLmFjY291bnQuYmFua19hY2NvdW50KSB7CiAgICAgICAgICAgICAgaWYgKHZhbHVlLmFjY291bnQuYmFua19hY2NvdW50LmJhbmspIHsKICAgICAgICAgICAgICAgIGJhbmtCYWxhbmNlcy5wdXNoKHZhbHVlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXMuYWNjb3VudHMgPSBiYW5rQmFsYW5jZXM7CiAgICAgICAgfQogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyBHZXQgQ29ubmVjdGlvbiBTdGF0dXMgSW4gV29yZAogICAgZ2V0U3RhdHVzOiBmdW5jdGlvbiBnZXRTdGF0dXMoaXRlbSkgewogICAgICBpZiAoaXRlbS5hY2NvdW50LmJhbmtfYWNjb3VudCkgaWYgKGl0ZW0uYWNjb3VudC5iYW5rX2FjY291bnQuaXNfY29ubmVjdGVkID09PSAxKSByZXR1cm4gaTE4bi50KCJjb25uZWN0ZWQiKTtlbHNlIHJldHVybiBpMThuLnQoIm5vdF9jb25uZWN0ZWQiKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNlYXJjaCgpOwogIH0KfTs="},{"version":3,"sources":["BankBalances.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-row>\n        <v-col sm=\"12\" cols=\"12\" class=\"grayBg px-6\">\n            <v-card color=\"white\" class=\"pa-3 no_border\" elevation=\"0\">\n                <v-row>\n                    <v-col sm=\"6\" cols=\"12\" class=\"pt-0\">\n                        <h2 class=\"mb-0 font_20\">{{$t('balance_in_bank')}}</h2>\n                    </v-col>\n                    <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                        <app-datepicker :initialDate=\"asOfDate\" @emitDate=\"asOfDate = $event\" />\n                    </v-col>\n                    <v-col sm=\"2\" cols=\"12\" class=\"py-0\">\n                        <v-btn color=\"primary\" class=\"text-capitalize white--text float-right\" @click=\"search\">\n                            {{$t('view')}}\n                        </v-btn>\n                    </v-col>\n                </v-row>\n\n                <v-row >\n                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                        <template>\n                            <v-data-table\n                                :headers=\"headers\"\n                                :items=\"accounts\"\n                                :items-per-page=\"50\"\n                                sort-by=\"account.number\"\n                                class=\"attachment_table elevation-1\">\n\n                                <template v-slot:[`item.balance`]=\"{ item }\">\n                                    {{ Number(item.balance).toLocaleString() }}\n                                </template>\n\n                                <template v-slot:[`item.connection`]=\"{ item }\">\n                                    {{ getStatus(item) }}\n                                </template>\n\n                            </v-data-table>\n\n                        </template>\n\n                        <LoadingMe \n\t\t\t\t\t\t\t:isLoading =\"showLoading\" \n\t\t\t\t\t\t\t:fullPage  =\"false\" \n\t\t\t\t\t\t\t:myLoading =\"true\"/>\n\n                    </v-col>\n                </v-row>\n            </v-card>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\n    import kendo from '@progress/kendo-ui';\n    import {i18n} from '@/i18n';\n    \n    const { trialBalanceHandler } = require(\"@/scripts/AppHandlers\");\n    // const { AccountTypeCode } = require(\"@/scripts/default_setup/Collections\");\n\n    export default {\n        components: {\n            \"LoadingMe\": () => import('@/components/Loading'),\n            'app-datepicker': () => import('@/components/custom_templates/DatePickerComponent'),\n        },\n        data: () => ({\n            // Obj\n            accounts: [],\n            headers: [\n                { text: i18n.t(\"financial_institution\"), value: 'account.bank_account.bank.name' },\n                {\n                    text: i18n.t(\"number\"),\n                    value: 'account.bank_account.number',\n                    sortable: false,\n                },\n                { text: i18n.t(\"connection\"), value: 'connection' ,   sortable: false,},\n                { text: i18n.t(\"amount_in_bank\") ,   sortable: false,},\n                { text: i18n.t(\"gl_balance\"), value: 'balance', align: 'right',   sortable: false, },\n            ],\n            asOfDate \t\t: new Date().toISOString().substr(0, 10),\n            // LoadingMe\n            showLoading: false,\n            loadingAlert: false,\n            loadingColorAlert: \"\",\n            loadingTextAlert: \"\",\n        }),\n        methods: {\n            search(){\n                let asOfDate = new Date(this.asOfDate);\n\n                this.showLoading = true;\n                trialBalanceHandler.getTrialBalance({\n                    params : {\n                        as_of_date: kendo.toString(asOfDate, 'yyyy-MM-dd') + 'T23:59:59.999Z',\n                        include_0_balance: true\n                    }\n                }).then(res => {\n                    if (res.data) {\n                        // Bind data\n                        // this.accounts = res.data.tbdetails.filter(value => ~AccountTypeCode.BANKING_ACCOUNTS.indexOf(value.account.account_type.number));\n                        let bankBalances = [];\n                        res.data.tbdetails.forEach(value => {\n                            if(value.account.bank_account){\n                                if(value.account.bank_account.bank){\n                                    bankBalances.push(value);\n                                }\n                            }\n                        });\n                        this.accounts = bankBalances;\n                    }\n                }).finally(()=>{\n                    this.showLoading = false;\n                })\n            },\n            // Get Connection Status In Word\n            getStatus(item){\n                if (item.account.bank_account)\n                if (item.account.bank_account.is_connected === 1) return i18n.t(\"connected\")\n                else return i18n.t(\"not_connected\")\n            },\n        },\n        mounted() {\n            this.search();\n        },\n    };\n</script>\n\n<style scoped>\n    .theme--light.v-data-table {\n        background-color: transparent !important;\n    }\n\n    .v-data-table > .v-data-table__wrapper > table > tbody > tr > td {\n        height: 32px !important;\n        border-bottom: thin solid rgba(0, 0, 0, 0.12) !important;\n    }\n\n    .v-data-table > .v-data-table__wrapper > table > tbody > tr:first-child > td {\n        border-top: thin solid rgba(0, 0, 0, 0.12) !important;\n    }\n\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n        background-color: transparent !important;\n    }\n</style>"],"sourceRoot":"src/views/banking/banking/bank_balances"}]}