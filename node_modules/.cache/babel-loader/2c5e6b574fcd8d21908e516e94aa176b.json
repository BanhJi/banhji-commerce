{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/Invoice.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/Invoice.vue","mtime":1640658755379},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/babel.config.js","mtime":1638499442885},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1hY2NvdW50aW5nLXdlYi1tb2R1bGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1hY2NvdW50aW5nLXdlYi1tb2R1bGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwoKdmFyIF9kZWZhdWx0SXRlbTsKCmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnBhZC1zdGFydC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIGltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiCmltcG9ydCB7IGkxOG4gfSBmcm9tICJAL2kxOG4iOwppbXBvcnQgRGF0ZVBpY2tlckNvbXBvbmVudCBmcm9tICJAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9EYXRlUGlja2VyQ29tcG9uZW50IjsKaW1wb3J0IEludm9pY2VNb2RlbCBmcm9tICJAL3NjcmlwdHMvaW52b2ljZS9tb2RlbC9JbnZvaWNlIjsKaW1wb3J0IEl0ZW1MaW5lTW9kZWwgZnJvbSAiQC9zY3JpcHRzL2ludm9pY2UvbW9kZWwvSXRlbUxpbmUiOwppbXBvcnQgeyB1dWlkIH0gZnJvbSAidnVlLXV1aWQiOwppbXBvcnQgcGF5bWVudFRlcm1IYW5kbGVyXyBmcm9tICJAL3NjcmlwdHMvcGF5bWVudHRlcm0vaGFuZGxlci9wYXltZW50VGVybUhhbmRsZXIiOwppbXBvcnQgeyBEcm9wRG93bkxpc3QgfSBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdnVlLWRyb3Bkb3ducyI7CmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwppbXBvcnQgU2FsZUZvcm1Db250ZW50TW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL1NhbGVGb3JtQ29udGVudCI7IC8vIGltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwoKaW1wb3J0IHsgZGF0YVN0b3JlLCBTaG93UmVzb3VyY2UgfSBmcm9tICJAL29ic2VydmFibGUvc3RvcmUiOwppbXBvcnQgeyBnZXRQcmludCB9IGZyb20gIkAvZm9ybS9pbnZvaWNlcy5qcyI7CmltcG9ydCBjcmVkaXRMaW1pdEhhbmRsZXIgZnJvbSAiQC9zY3JpcHRzL2NyZWRpdExpbWl0L2hhbmRsZXIvY3JlZGl0TGltaXRIYW5kbGVyIjsKaW1wb3J0IFBheW1lbnRPcHRpb25Nb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvUGF5bWVudE9wdGlvbiI7CmltcG9ydCB7IFBBWU1FTlRfT1BJTklPTl9UWVBFIH0gZnJvbSAiQC9zY3JpcHRzL2RlZmF1bHRfc2V0dXAvU2V0dGluZyI7Cgp2YXIgY3VzdG9tZXJIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2N1c3RvbWVySGFuZGxlciIpOwoKdmFyIHByb2plY3RIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3Byb2plY3RIYW5kbGVyIik7Cgp2YXIgcHJpY2VMZXZlbEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJpY2VMZXZlbEhhbmRsZXIiKTsKCnZhciBjdXJyZW5jeUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY3VycmVuY3kvaGFuZGxlci9jdXJyZW5jeUhhbmRsZXIiKTsKCnZhciBzYWxlT3JkZXJIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3RyYW5zYWN0aW9uSGFuZGxlciIpOwoKdmFyIHNldHRpbmdzSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zZXR0aW5nc0hhbmRsZXIiKTsKCnZhciBzYWxlQ2hhbm5lbEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2FsZUNoYW5uZWxIYW5kbGVyIik7Cgp2YXIgZW1wbG95ZWVIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2VtcGxveWVlSGFuZGxlciIpOwoKdmFyIGxvY2F0aW9uSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9sb2NhdGlvbkhhbmRsZXIiKTsgLy8gY29uc3QgcGF5bWVudFRlcm1IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3BheW1lbnRUZXJtSGFuZGxlciIpCgoKdmFyIHBheW1lbnRUZXJtSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zZXR0aW5nc0hhbmRsZXIiKTsKCnZhciBhY2NvdW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9oYW5kbGVyL2FjY291bnRpbmcvYWNjb3VudCIpOwoKdmFyIHByb2R1Y3RWYXJpYW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcm9kdWN0VmFyaWFudEhhbmRsZXIiKTsKCnZhciB1b21QcmljZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvdW9tUHJpY2VIYW5kbGVyIik7Cgp2YXIgdW9tQ29udmVyc2lvbkhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvdW9tQ29udmVyc2lvbkhhbmRsZXIiKTsKCnZhciBkaXNjb3VudEl0ZW1IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2Rpc2NvdW50SXRlbUhhbmRsZXIiKTsKCnZhciBzZXR0aW5nSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zZXR0aW5nSGFuZGxlciIpOwoKdmFyIGl0ZW1Nb2RpZmllckhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaXRlbU1vZGlmaWVySGFuZGxlciIpOwoKdmFyIHNhbGVVbml0SXRlbUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2FsZVVuaXRJdGVtSGFuZGxlciIpOwoKdmFyIG90aGVyQ2hhcmdlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9vdGhlckNoYXJnZUhhbmRsZXIiKTsKCnZhciBzYWxlRm9ybUNvbnRlbnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NhbGVGb3JtQ29udGVudEhhbmRsZXIiKTsKCnZhciBwcmVmaXhIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3ByZWZpeEhhbmRsZXIiKTsKCnZhciBiaWxsaW5nSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9pbnZvaWNlL2hhbmRsZXIvYmlsbGluZ0hhbmRsZXIiKTsKCnZhciBsYXRlRmVlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9sYXRlRmVlSGFuZGxlciIpOwoKdmFyIHBheW1lbnRPcHRpb25IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3BheW1lbnRPcHRpb25IYW5kbGVyIik7Cgp2YXIgY2F0YWxvZ0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY2F0YWxvZ0hhbmRsZXIiKTsKCnZhciBpbnZvaWNlTW9kZWwgPSBuZXcgSW52b2ljZU1vZGVsKHt9KTsKdmFyIGl0ZW1MaW5lTW9kZWwgPSBuZXcgSXRlbUxpbmVNb2RlbCh7fSk7CnZhciBzYWxlRm9ybUNvbnRlbnRNb2RlbCA9IG5ldyBTYWxlRm9ybUNvbnRlbnRNb2RlbCh7fSk7CmltcG9ydCBPdGhlckNoYXJnZU1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9PdGhlckNoYXJnZSI7CnZhciAkID0ga2VuZG8ualF1ZXJ5Owp2YXIgdGV4dEZpZWxkID0gIm51bWJlck5hbWUiOwp2YXIga2V5RmllbGQgPSAiaWQiOwp2YXIgZGVmYXVsdEl0ZW0gPSAoX2RlZmF1bHRJdGVtID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfZGVmYXVsdEl0ZW0sIHRleHRGaWVsZCwgIlNlbGVjdCBjdXN0b21lci4uLiIpLCBfZGVmaW5lUHJvcGVydHkoX2RlZmF1bHRJdGVtLCBrZXlGaWVsZCwgbnVsbCksIF9kZWZhdWx0SXRlbSk7Cgp2YXIgZW1wdHlJdGVtID0gX2RlZmluZVByb3BlcnR5KHt9LCB0ZXh0RmllbGQsICJsb2FkaW5nIC4uLiIpOwoKdmFyIHBhZ2VTaXplID0gMTA7CnZhciBpdGVtTGluZVByZWZpeCA9ICJsaW4tIjsKdmFyIGxvYWRpbmdEYXRhID0gW107Cgp3aGlsZSAobG9hZGluZ0RhdGEubGVuZ3RoIDwgcGFnZVNpemUpIHsKICBsb2FkaW5nRGF0YS5wdXNoKF9vYmplY3RTcHJlYWQoe30sIGVtcHR5SXRlbSkpOwp9Cgp2YXIgT1BUSU9OX1RZUEUgPSAiQ3VzdG9tZXIiOwp2YXIgc3RyRmlsdGVyID0gIj9vcHRpb25UeXBlPSIgKyBPUFRJT05fVFlQRTsKdmFyIERJU0NPVU5UX1RZUEUgPSAiP3R5cGU9U2FsZSI7Cgp2YXIgY29va2llSlMgPSByZXF1aXJlKCJAL2Nvb2tpZS5qcyIpOwoKdmFyIGNvb2tpZSA9IGNvb2tpZUpTLmdldENvb2tpZSgpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkN1c3RvbWVySW52b2ljZSIsCiAgcHJvcHM6IFsiaWQiLCAidHJhbnNhY3Rpb25EYXRlIl0sCiAgY29tcG9uZW50czogewogICAgTG9hZGluZ01lOiBmdW5jdGlvbiBMb2FkaW5nTWUoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9Mb2FkaW5nIik7CiAgICB9LAogICAgImFwcC1kYXRlcGlja2VyIjogRGF0ZVBpY2tlckNvbXBvbmVudCwKICAgIGRyb3Bkb3dubGlzdDogRHJvcERvd25MaXN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgbU90aGVyQ2hhcmdlOiBbXSwKICAgICAgbU90aGVyQ2hhcmdlQW1vdW50OiBbXSwKICAgICAgbnVtU2VsZWN0OiBbMV0sCiAgICAgIGRpYWxvZ1RheDogZmFsc2UsCiAgICAgIGN1c3RvbWVyTGlzdDogW10sCiAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgc2hvd0xvYWRpbmdUeG46IGZhbHNlLAogICAgICBhbGVydDogZmFsc2UsCiAgICAgIGZpbGVzOiBbXSwKICAgICAgLy8gRm9ybSB2YWxpZGF0aW9uCiAgICAgIHZhbGlkOiB0cnVlLAogICAgICBpdGVtTGluZXM6IFtdLAogICAgICBpbnZvaWNlRGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICAgIHRlbXBsYXRlOiAtMSwKICAgICAgdGVtcGxhdGVzRm9ybTogW10sCiAgICAgIGlzSGlkZUJhcjogZmFsc2UsCiAgICAgIGdyaWRTY2hlbWE6IHsKICAgICAgICBtb2RlbDogewogICAgICAgICAgaWQ6ICJpZCIKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGN1c3RvbWVyOiB7fSwKICAgICAgZGVmYXVsdEl0ZW06IGRlZmF1bHRJdGVtLAogICAgICBpbnZvaWNlOiBpbnZvaWNlTW9kZWwsCiAgICAgIHRyYW5zYWN0aW9uVHlwZTogWyJJbnZvaWNlIiwgIkNvbW1lcmNpYWwgSW52b2ljZSIsICJUYXggSW52b2ljZSJdLAogICAgICBjdXNCYXNlVXJsOiBjdXN0b21lckhhbmRsZXIuc2VhcmNodjEoKSwKICAgICAgZW1wQmFzZVVybDogZW1wbG95ZWVIYW5kbGVyLnNlYXJjaCgpLAogICAgICBpbml0OiB7CiAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICBhY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICBoZWFkZXJzOiBbXQogICAgICB9LAogICAgICBwZW5kaW5nUmVxdWVzdDogdW5kZWZpbmVkLAogICAgICByZXF1ZXN0U3RhcnRlZDogZmFsc2UsCiAgICAgIHNraXA6IDAsCiAgICAgIHRlbXBTa2lwOiBudWxsLAogICAgICB0b3RhbDogMCwKICAgICAgZmlsdGVyOiAiIiwKICAgICAgcmVmZXJlbmNlTm86ICIiLAogICAgICBmaWx0ZXJfOiAiIiwKICAgICAgdGV4dEZpZWxkOiAibnVtYmVyTmFtZSIsCiAgICAgIGRhdGFJdGVtS2V5OiAiaWQiLAogICAgICBzZWdtZW50czogW10sCiAgICAgIHNhbGVDaGFubmVsTGlzdDogW10sCiAgICAgIGVtcGxveWVlczogW10sCiAgICAgIG1FbXBsb3llZToge30sCiAgICAgIGN1c3RvbWVyUHJvamVjdHM6IFtdLAogICAgICBiaWxsaW5nQWRkcmVzczogW10sCiAgICAgIGRlbGl2ZXJ5QWRkcmVzczogW10sCiAgICAgIGRlbGl2ZXJ5RGF0ZVRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgICBwcmljZUxldmVsOiBbXSwKICAgICAgbG9jYXRpb25zOiBbXSwKICAgICAgcGF5bWVudFRlcm1zOiBbXSwKICAgICAgcmVjZWl2YWJsZUFjYzogW10sCiAgICAgIGN1cnJlbmNpZXM6IFtdLAogICAgICBpdGVtTGluZTogaXRlbUxpbmVNb2RlbCwKICAgICAgdW9tczogW10sCiAgICAgIG90aGVyVGF4OiBbXSwKICAgICAgdmF0VGF4OiBbXSwKICAgICAgc3BlY2lmaWNUYXg6IFtdLAogICAgICBwdWJsaWNMaWdodGluZ1RheDogW10sCiAgICAgIHNhbGVVbml0SXRlbUxpc3Q6IFtdLAogICAgICBzcGVjaWZpY0Rpc2NvdW50SXRlbTogW10sCiAgICAgIG90aGVyQ2hhcmdlTGlzdDogW10sCiAgICAgIGRlcG9zaXRCYWxhbmNlOiAwLAogICAgICBzY2hlbWFEZWZpbml0aW9uOiB7CiAgICAgICAgbW9kZWw6IHsKICAgICAgICAgIGlkOiAiaWQiCiAgICAgICAgfQogICAgICB9LAogICAgICBzYWxlRm9ybUNvbnRlbnQ6IHNhbGVGb3JtQ29udGVudE1vZGVsLAogICAgICB0YXhMaXN0VG90YWw6IHt9LAogICAgICBpbnZvaWNlVHlwZXM6IFtdLAogICAgICBjdXN0b21lckRpc2NvdW50SXRlbTogW10sCiAgICAgIGN1c3RvbWVyT3RoZXJDaGFyZ2VJdGVtOiBbXSwKICAgICAgY3VzdG9tZXJTYWxlVW5pdDogW10sCiAgICAgIGN1c3RvbWVyU2FsZVVuaXRMaW5lOiBbXSwKICAgICAgbGF0ZUZlZUxpc3Q6IFtdLAogICAgICBsb2dnZWRVc2VyOiB7CiAgICAgICAgaWQ6IGNvb2tpZS5jcmVhdG9yLAogICAgICAgIG5hbWU6IGNvb2tpZS5lbWFpbAogICAgICB9LAogICAgICBwYXltZW50T3B0aW9uV0JNb2JpbGU6IFtdLAogICAgICBwYXltZW50T3B0aW9uT25saW5lOiBbXSwKICAgICAgcGF5bWVudE9wdGlvbktIUVI6IFtdLAogICAgICBwYXltZW50T3B0aW9uQmFua1RyYW5zZmVyOiBbXSwKICAgICAgZXhjaGFuZ2VSYXRlOiB7fSwKICAgICAgYmFzZUN1cnJlbmN5Q29kZTogIiIsCiAgICAgIGN1cnJlbmN5Q29kZTogIiIsCiAgICAgIHRyYW5zYWN0aW9uUmF0ZTogMSwKICAgICAgalJhdzogW10sCiAgICAgIGNhdGFsb2dzOiBbXSwKICAgICAgZGlhbG9nQ2F0YWxvZzogZmFsc2UsCiAgICAgIHNhbGVPcmRlcnM6IFtdLAogICAgICBpc1ByaWNlTGV2ZWxDaGFuZ2VkOiBmYWxzZSwKICAgICAgY2FzaFBheW1lbnQ6IFtdLAogICAgICBiaWxsUGF5bWVudDogW10sCiAgICAgIHFyUGF5bWVudDogW10sCiAgICAgIGJhbmtUcmFuc2ZlcjogW10sCiAgICAgIHJlZkZyb206IFtdLAogICAgICB0YXhMaXN0RGV0YWlsOiBbXSwKICAgICAgdGF4OiBbXSwKICAgICAgaXNBZGRlZDogZmFsc2UsCiAgICAgIGJ0bkRpc2FibGVkOiBmYWxzZSwKICAgICAgZGVwb3NpdERlZHVjdGlvbjogMCwKICAgICAgY2FzaEJhc2ljUmV2ZW51ZUFjYzogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBkYXRhQm91bmQ6IGZ1bmN0aW9uIGRhdGFCb3VuZChlKSB7CiAgICAgIHZhciBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZEl0ZW1MaW5lIikuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgIHZhciBpdGVtcyA9IGUuc2VuZGVyLml0ZW1zKCk7CgogICAgICBpZiAoZ3JpZCkgewogICAgICAgIGl0ZW1zLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSh0aGlzKTsKICAgICAgICAgICQoInRyW2RhdGEtdWlkPSciICsgZGF0YUl0ZW0udWlkICsgIiddIikuZmluZCgnLmlzRWRpdGFibGUnKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKGRhdGFJdGVtLmlzRWRpdGFibGUgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygiay1zdGF0ZS1kaXNhYmxlZCIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVUYXhEZXRhaWw6IGZ1bmN0aW9uIGF1dG9DYWxjdWxhdGVUYXhEZXRhaWwoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgaWRzID0gW107CiAgICAgIHRoaXMudGF4TGlzdERldGFpbC5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgaWRzLnB1c2gobi5pZCB8fCAnJyk7CiAgICAgIH0pOwoKICAgICAgdmFyIHVuaXF1ZSA9IF90b0NvbnN1bWFibGVBcnJheShuZXcgU2V0KGlkcykpOwoKICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICB1bmlxdWUuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgIHZhciBhbW91bnQgPSAwLAogICAgICAgICAgICByb3cgPSB7fSwKICAgICAgICAgICAgZGlzY291bnQgPSAwLAogICAgICAgICAgICB4RGlzY291bnQgPSAwLAogICAgICAgICAgICB4QW1vdW50ID0gMCwKICAgICAgICAgICAgdGF4QW1vdW50ID0gMCwKICAgICAgICAgICAgeFRheEFtb3VudCA9IDA7CiAgICAgICAgdmFyIHRheERldGFpbCA9IFtdLAogICAgICAgICAgICBpc1ZhdCA9IDA7CgogICAgICAgIHZhciBmb3VuZCA9IF90aGlzLnRheExpc3REZXRhaWwuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICByZXR1cm4gbi5pZCA9PT0gbTsKICAgICAgICB9KTsgLy8gd2luZG93LmNvbnNvbGUubG9nKCd0YXhMaXN0RGV0YWlsaWRzJywgZm91bmQpCgoKICAgICAgICBmb3VuZC5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7CiAgICAgICAgICByb3cgPSBrOwoKICAgICAgICAgIGlmIChrLmlzVmF0ID09PSAxKSB7CiAgICAgICAgICAgIGlzVmF0ID0gMTsKICAgICAgICAgICAgdmFyIGRldGFpbF8gPSBrLmRldGFpbCB8fCB7fTsKICAgICAgICAgICAgdGF4RGV0YWlsLnB1c2goZGV0YWlsXyk7CiAgICAgICAgICB9CgogICAgICAgICAgdGF4QW1vdW50ICs9IGsudGF4QW1vdW50XyB8fCAwOwogICAgICAgICAgeFRheEFtb3VudCArPSAoay50YXhBbW91bnRfIHx8IDApICogKGsudHhuUmF0ZSB8fCAxKTsKICAgICAgICAgIGFtb3VudCArPSBrLmFtb3VudCB8fCAwOwogICAgICAgICAgeEFtb3VudCArPSAoay5hbW91bnQgfHwgMCkgKiAoay50eG5SYXRlIHx8IDEpOwogICAgICAgICAgZGlzY291bnQgKz0gay5kaXNjb3VudCB8fCAwOwogICAgICAgICAgeERpc2NvdW50ICs9IChrLmRpc2NvdW50IHx8IDApICogKGsudHhuUmF0ZSB8fCAxKTsKICAgICAgICB9KTsKICAgICAgICB2YXIgc3BUYXhBbXQgPSAwLAogICAgICAgICAgICBzcFhUYXhBbXQgPSAwLAogICAgICAgICAgICBwbFRheEFtdCA9IDAsCiAgICAgICAgICAgIHBsWFRheEFtdCA9IDAsCiAgICAgICAgICAgIG90VGF4QW10ID0gMCwKICAgICAgICAgICAgb3RYVGF4QW10ID0gMCwKICAgICAgICAgICAgc3BUYXhOYW1lID0gJycsCiAgICAgICAgICAgIHBsVGF4TmFtZSA9ICcnLAogICAgICAgICAgICBvdFRheE5hbWUgPSAnJywKICAgICAgICAgICAgc3BUYXhOYW1lTG9jYWxlID0gJycsCiAgICAgICAgICAgIHBsVGF4TmFtZUxvY2FsZSA9ICcnLAogICAgICAgICAgICBvdFRheE5hbWVMb2NhbGUgPSAnJywKICAgICAgICAgICAgc3BBY2NJZCA9ICcnLAogICAgICAgICAgICBwbEFjY0lkID0gJycsCiAgICAgICAgICAgIG90QWNjSWQgPSAnJywKICAgICAgICAgICAgc3BSYXRlID0gJycsCiAgICAgICAgICAgIHBsUmF0ZSA9ICcnLAogICAgICAgICAgICBvdFJhdGUgPSAnJzsKICAgICAgICB0YXhEZXRhaWwuZm9yRWFjaChmdW5jdGlvbiAobikgewogICAgICAgICAgdmFyIHNwVGF4ID0gbi5zcGVjaWZpY1RheCB8fCB7fTsKICAgICAgICAgIHZhciBwbFRheCA9IG4ucHVibGljTGlnaHRpbmdUYXggfHwge307CiAgICAgICAgICB2YXIgb3RoZXJUYXggPSBuLm90aGVyVGF4IHx8IHt9OwoKICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhzcFRheCkubGVuZ3RoID4gMCkgewogICAgICAgICAgICBzcFRheEFtdCArPSBzcFRheC50YXhBbW91bnRfIHx8IDA7CiAgICAgICAgICAgIHNwWFRheEFtdCArPSAoc3BUYXgudGF4QW1vdW50XyB8fCAwKSAqIChzcFRheC50YXhSYXRlIHx8IDEpOwogICAgICAgICAgICBzcFRheE5hbWUgPSBzcFRheC5kZWZhdWx0VGF4IHx8ICcnOwogICAgICAgICAgICBzcFRheE5hbWVMb2NhbGUgPSBzcFRheC5kZWZhdWx0VGF4TG9jYWxlIHx8ICcnOwogICAgICAgICAgICBzcEFjY0lkID0gc3BUYXguYWNjb3VudCA/IHNwVGF4LmFjY291bnQuaWQgOiAnJzsKICAgICAgICAgICAgc3BSYXRlID0gc3BUYXgucmF0ZSB8fCAxOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhwbFRheCkubGVuZ3RoID4gMCkgewogICAgICAgICAgICBwbFRheEFtdCArPSBwbFRheC50YXhBbW91bnRfIHx8IDA7CiAgICAgICAgICAgIHBsWFRheEFtdCArPSAocGxUYXgudGF4QW1vdW50XyB8fCAwKSAqIChwbFRheC50YXhSYXRlIHx8IDEpOwogICAgICAgICAgICBwbFRheE5hbWUgPSBwbFRheC5kZWZhdWx0VGF4IHx8ICcnOwogICAgICAgICAgICBwbFRheE5hbWVMb2NhbGUgPSBwbFRheC5kZWZhdWx0VGF4TG9jYWxlIHx8ICcnOwogICAgICAgICAgICBwbEFjY0lkID0gcGxUYXguYWNjb3VudCA/IHBsVGF4LmFjY291bnQuaWQgOiAnJzsKICAgICAgICAgICAgcGxSYXRlID0gcGxUYXgucmF0ZSB8fCAxOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhvdGhlclRheCkubGVuZ3RoID4gMCkgewogICAgICAgICAgICBvdFRheEFtdCArPSBvdGhlclRheC50YXhBbW91bnRfIHx8IDA7CiAgICAgICAgICAgIG90WFRheEFtdCArPSAob3RoZXJUYXgudGF4QW1vdW50XyB8fCAwKSAqIChwbFRheC50YXhSYXRlIHx8IDEpOwogICAgICAgICAgICBvdFRheE5hbWUgPSBvdGhlclRheC5kZWZhdWx0VGF4IHx8ICcnOwogICAgICAgICAgICBvdFRheE5hbWVMb2NhbGUgPSBvdGhlclRheC5kZWZhdWx0VGF4TG9jYWxlIHx8ICcnOwogICAgICAgICAgICBvdEFjY0lkID0gb3RoZXJUYXguYWNjb3VudCA/IG90aGVyVGF4LmFjY291bnQuaWQgOiAnJzsKICAgICAgICAgICAgb3RSYXRlID0gb3RoZXJUYXgucmF0ZSB8fCAxOwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBpZiAoaXNWYXQgPT09IDEpIHsKICAgICAgICAgIHJvdy5kZXRhaWwgPSB7CiAgICAgICAgICAgIHNwZWNpZmljVGF4OiB7CiAgICAgICAgICAgICAgbmFtZTogc3BUYXhOYW1lLAogICAgICAgICAgICAgIG5hbWVMb2NhbGU6IHNwVGF4TmFtZUxvY2FsZSwKICAgICAgICAgICAgICBhbW91bnQ6IHNwVGF4QW10LAogICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBzcFhUYXhBbXQsCiAgICAgICAgICAgICAgYWNjb3VudElkOiBzcEFjY0lkLAogICAgICAgICAgICAgIHJhdGU6IHNwUmF0ZQogICAgICAgICAgICB9LAogICAgICAgICAgICBwdWJsaWNMaWdodGluZ1RheDogewogICAgICAgICAgICAgIG5hbWU6IHBsVGF4TmFtZSwKICAgICAgICAgICAgICBuYW1lTG9jYWxlOiBwbFRheE5hbWVMb2NhbGUsCiAgICAgICAgICAgICAgYW1vdW50OiBwbFRheEFtdCwKICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogcGxYVGF4QW10LAogICAgICAgICAgICAgIGFjY291bnRJZDogcGxBY2NJZCwKICAgICAgICAgICAgICByYXRlOiBwbFJhdGUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3RoZXJUYXg6IHsKICAgICAgICAgICAgICBuYW1lOiBvdFRheE5hbWUsCiAgICAgICAgICAgICAgbmFtZUxvY2FsZTogb3RUYXhOYW1lTG9jYWxlLAogICAgICAgICAgICAgIGFtb3VudDogb3RUYXhBbXQsCiAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IG90WFRheEFtdCwKICAgICAgICAgICAgICBhY2NvdW50SWQ6IG90QWNjSWQsCiAgICAgICAgICAgICAgcmF0ZTogb3RSYXRlCiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJvdy5kZXRhaWwgPSB7fTsKICAgICAgICB9CgogICAgICAgIHJvd1snYW1vdW50J10gPSBhbW91bnQ7CiAgICAgICAgcm93WydleGNoYW5nZUFtb3VudCddID0geEFtb3VudDsKICAgICAgICByb3dbJ3RheEFtb3VudCddID0gdGF4QW1vdW50OwogICAgICAgIHJvd1snZXhjaGFuZ2VUYXhBbW91bnQnXSA9IHhUYXhBbW91bnQ7CiAgICAgICAgcm93WydkaXNjb3VudCddID0gZGlzY291bnQ7CiAgICAgICAgcm93WydleGNoYW5nZURpc2NvdW50J10gPSB4RGlzY291bnQ7CiAgICAgICAgcm93WydjdXJyZW5jeSddID0gX3RoaXMuaW52b2ljZS5leGNoYW5nZVJhdGUgfHwge307CiAgICAgICAgcmVzdWx0LnB1c2gocm93KTsKICAgICAgICB0YXhEZXRhaWwgPSBbXTsKICAgICAgfSk7CiAgICAgIHRoaXMuaW52b2ljZS5zYWxlVGF4RGV0YWlsID0gcmVzdWx0OwogICAgICB3aW5kb3cuY29uc29sZS5sb2coJ3NhbGVUYXhEZXRhaWwnLCByZXN1bHQpOwogICAgfSwKICAgIENob3NlVGVtcGxhdGU6IGZ1bmN0aW9uIENob3NlVGVtcGxhdGUoaSkgewogICAgICB3aW5kb3cuY29uc29sZS5sb2coaSk7CiAgICAgIHRoaXMudGVtcGxhdGUgPSBpOwogICAgfSwKICAgIHNocmlua0Rpc2NvdW50SXRlbTogZnVuY3Rpb24gc2hyaW5rRGlzY291bnRJdGVtKGRpc2NvdW50SXRlbSwgZGlzY291bnRMaW5lKSB7CiAgICAgIHZhciB1bmlxdWVEaXNjb3VudEl0ZW1zID0gW107CiAgICAgIHZhciB1bmlxdWUgPSB0aGlzLnJlbW92ZUR1cGxpY2F0ZShkaXNjb3VudEl0ZW0pOwogICAgICB1bmlxdWUuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgIHZhciBmb3VuZCA9IGRpc2NvdW50TGluZS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgIHJldHVybiBuLmlkID09PSBtLmlkOwogICAgICAgIH0pOwogICAgICAgIHZhciBhbW91bnQgPSAwLAogICAgICAgICAgICBleGNoYW5nZUFtb3VudCA9IDA7CiAgICAgICAgZm91bmQubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICBhbW91bnQgKz0gby5hbW91bnQ7CiAgICAgICAgfSk7CiAgICAgICAgZm91bmQubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICBleGNoYW5nZUFtb3VudCArPSBvLmV4Y2hhbmdlQW1vdW50OwogICAgICAgIH0pOwogICAgICAgIHVuaXF1ZURpc2NvdW50SXRlbXMucHVzaCh7CiAgICAgICAgICBpZDogbS5pZCwKICAgICAgICAgIG5hbWU6IG0ubmFtZSwKICAgICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGV4Y2hhbmdlQW1vdW50CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLmN1c3RvbWVyRGlzY291bnRJdGVtID0gdW5pcXVlRGlzY291bnRJdGVtczsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKHVuaXF1ZURpc2NvdW50SXRlbXMsICJ1bmlxdWVEaXNjb3VudEl0ZW1zIik7CiAgICB9LAogICAgc2hyaW5rT3RoZXJDaGFyZ2VJdGVtOiBmdW5jdGlvbiBzaHJpbmtPdGhlckNoYXJnZUl0ZW0ob3RoZXJDaGFyZ2VJdGVtLCBvdGhlckNoYXJnZUxpbmUpIHsKICAgICAgdmFyIGl0ZW1zID0gW107CiAgICAgIHZhciB1bmlxdWUgPSB0aGlzLnJlbW92ZUR1cGxpY2F0ZShvdGhlckNoYXJnZUl0ZW0pOwogICAgICB1bmlxdWUuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgIHZhciBmb3VuZCA9IG90aGVyQ2hhcmdlTGluZS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgIHJldHVybiBuLmlkID09PSBtLmlkOwogICAgICAgIH0pOwogICAgICAgIHZhciBhbW91bnQgPSAwLAogICAgICAgICAgICBleGNoYW5nZUFtb3VudCA9IDA7CiAgICAgICAgZm91bmQubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICBhbW91bnQgKz0gby5hbW91bnQ7CiAgICAgICAgfSk7CiAgICAgICAgZm91bmQubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICBleGNoYW5nZUFtb3VudCArPSBvLmV4Y2hhbmdlQW1vdW50OwogICAgICAgIH0pOwogICAgICAgIGl0ZW1zLnB1c2goewogICAgICAgICAgaWQ6IG0uaWQsCiAgICAgICAgICBuYW1lOiBtLm5hbWUsCiAgICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBleGNoYW5nZUFtb3VudAogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhpcy5jdXN0b21lck90aGVyQ2hhcmdlSXRlbSA9IGl0ZW1zOwogICAgfSwKICAgIGFkZFNhbGVPcmRlcjogZnVuY3Rpb24gYWRkU2FsZU9yZGVyKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAoaXRlbSkgewogICAgICAgIHZhciBpdGVtTGluZSA9IGl0ZW0uaXRlbUxpbmVzIHx8IFtdOwogICAgICAgIHRoaXMucmVmRnJvbS5wdXNoKHsKICAgICAgICAgIGlkOiBpdGVtLmlkIHx8ICcnLAogICAgICAgICAgcmVmZXJlbmNlOiBpdGVtLnJlZmVyZW5jZU5vIHx8ICcnCiAgICAgICAgfSk7CiAgICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICAgIHRvdGFsID0gZHMudG90YWwoKTsKICAgICAgICBpdGVtTGluZS5mb3JFYWNoKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICBfdGhpczIuaXRlbUxpbmUgPSBuZXcgSXRlbUxpbmVNb2RlbChvKTsKICAgICAgICAgIF90aGlzMi5pdGVtTGluZS5pZCA9IGl0ZW1MaW5lUHJlZml4ICsgdXVpZC52MSgpOwogICAgICAgICAgX3RoaXMyLml0ZW1MaW5lLmRlY2ltYWxGb3JtYXQgPSAibiIgKyBfdGhpczIuc2FsZUZvcm1Db250ZW50LmRlY2ltYWw7CiAgICAgICAgICBfdGhpczIuaXRlbUxpbmUuaXNFZGl0YWJsZSA9IHRydWU7CiAgICAgICAgICBfdGhpczIuaXRlbUxpbmUuc291cmNlVHJhbnNhY3Rpb24gPSB7CiAgICAgICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgICAgICByZWZlcmVuY2VObzogaXRlbS5yZWZlcmVuY2VObwogICAgICAgICAgfTsKICAgICAgICAgIF90aGlzMi5pdGVtTGluZS5zb3VyY2VUcmFuc2FjdGlvblJlZiA9IGl0ZW0ucmVmZXJlbmNlTm87CiAgICAgICAgICBkcy5pbnNlcnQodG90YWwsIF90aGlzMi5pdGVtTGluZSk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLml0ZW1MaW5lLCAnaXRlbUxpbmUnKQogICAgICAgIH0pOwogICAgICAgIHRoaXMuaXRlbUxpbmUgPSBuZXcgSXRlbUxpbmVNb2RlbCh7fSk7CiAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5zYWxlT3JkZXJzLmZpbmRJbmRleChmdW5jdGlvbiAoaXRtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gaXRtLmlkOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuc2FsZU9yZGVycy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIHRoaXMuaW52b2ljZS5yZWZGcm9tID0gdGhpcy5yZW1vdmVEdXBsaWNhdGUodGhpcy5yZWZGcm9tKTsKICAgICAgfSAvLyB3aW5kb3cuY29uc29sZS5sb2coaXRlbSwgJy0tJykKCiAgICB9LAogICAgbG9hZEltYWdlOiBmdW5jdGlvbiBsb2FkSW1hZ2UoZGF0YUl0ZW0pIHsKICAgICAgaWYgKGRhdGFJdGVtLmhhc093blByb3BlcnR5KCJpbWFnZXMiKSkgewogICAgICAgIGlmIChkYXRhSXRlbS5pbWFnZXMuaGFzT3duUHJvcGVydHkoImRlZmF1bHQiKSkgewogICAgICAgICAgdmFyIHVybCA9IHRoaXMuaW1nVVJMICsgZGF0YUl0ZW0uaW1hZ2VzLmRlZmF1bHQudGh1bWI7CiAgICAgICAgICByZXR1cm4gIjxpbWcgd2lkdGg9JzUwJyBoZWlnaHQ9JzUwJyBzdHlsZT0gJ21hcmdpbjogYXV0bztkaXNwbGF5OiBibG9jazsnIHNyYz0nIiArIHVybCArICInIC8+IjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgbG9hZENhdGFsb2dzOiBmdW5jdGlvbiBsb2FkQ2F0YWxvZ3MoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgY2F0YWxvZ0hhbmRsZXIuZ2V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5jYXRhbG9ncyA9IHJlczsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGRDYXRhbG9nOiBmdW5jdGlvbiBhZGRDYXRhbG9nKGUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZENhdGFsb2ciKS5kYXRhKCJrZW5kb0dyaWQiKTsKICAgICAgdmFyIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyhkYXRhSXRlbSkKCiAgICAgIGlmIChkYXRhSXRlbS52YXJpYW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgZGF0YUl0ZW0udmFyaWFudHMuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgICAgaWYgKG0uaGFzT3duUHJvcGVydHkoInZhcmlhbnQiKSkgewogICAgICAgICAgICBpZiAobS52YXJpYW50Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgX3RoaXM0LmxvYWRTaW5nbGVJdGVtKG0udmFyaWFudC5pZCwgImkiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMuZGlhbG9nQ2F0YWxvZyA9IGZhbHNlOwogICAgICB9CgogICAgICBpZiAoZGF0YUl0ZW0uc2VydmljZXMubGVuZ3RoID4gMCkgewogICAgICAgIGRhdGFJdGVtLnNlcnZpY2VzLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICAgIGlmIChtLmhhc093blByb3BlcnR5KCJzZXJ2aWNlIikpIHsKICAgICAgICAgICAgaWYgKG0uc2VydmljZS5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgIF90aGlzNC5sb2FkU2luZ2xlSXRlbShtLnNlcnZpY2UuaWQsICJzIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLmRpYWxvZ0NhdGFsb2cgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIHFvaFRlbXBsYXRlOiBmdW5jdGlvbiBxb2hUZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgYnVvbSA9IGRhdGFJdGVtLmJ1b20gfHwge307CiAgICAgIHZhciBxb2ggPSBkYXRhSXRlbS5xb2ggfHwgMDsKCiAgICAgIGlmIChidW9tLmhhc093blByb3BlcnR5KCJuYW1lIikpIHsKICAgICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcocW9oLCAibiIuY29uY2F0KHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwpKSArICIgIiArIGJ1b20ubmFtZTsKICAgICAgfQoKICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIEhlbHA6IGZ1bmN0aW9uIEhlbHAoa2V5KSB7CiAgICAgIFNob3dSZXNvdXJjZShrZXkpOwogICAgfSwKICAgIG51bWJlckVkaXRvcjogZnVuY3Rpb24gbnVtYmVyRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBkYXRhLWJpbmQ9InZhbHVlOicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9OdW1lcmljVGV4dEJveCh7CiAgICAgICAgZGVjaW1hbHM6IDMwLAogICAgICAgIG1pbjogMC4wMDAwMSwKICAgICAgICBmb3JtYXQ6ICIiLmNvbmNhdCh0aGlzLnNhbGVGb3JtQ29udGVudC5kZWNpbWFsKQogICAgICB9KTsKICAgIH0sCiAgICBsb2FkUGF5bWVudE9wdGlvbjogZnVuY3Rpb24gbG9hZFBheW1lbnRPcHRpb24oKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgcGF5bWVudE9wdGlvbkhhbmRsZXIubGlzdChzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGEgfHwgW107CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5jYXNoUGF5bWVudCA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0udHlwZSA9PT0gUEFZTUVOVF9PUElOSU9OX1RZUEUuQ0FTSF9QQVlNRU5UOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmJpbGxQYXltZW50ID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS50eXBlID09PSBQQVlNRU5UX09QSU5JT05fVFlQRS5CSUxMX1BBWU1FTlQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUucXJQYXltZW50ID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS50eXBlID09PSBQQVlNRU5UX09QSU5JT05fVFlQRS5RUl9QQVlNRU5UOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmJhbmtUcmFuc2ZlciA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0udHlwZSA9PT0gUEFZTUVOVF9PUElOSU9OX1RZUEUuQkFOS19UUkFOU0ZFUjsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB2YXRUZW1wbGF0ZTogZnVuY3Rpb24gdmF0VGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIHZhdCA9IGRhdGFJdGVtLnZhdFRheDsKCiAgICAgIGlmICh2YXQpIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KHZhdC5kZWZhdWx0VGF4IHx8ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIG1vZGlmaWVyVGVtcGxhdGU6IGZ1bmN0aW9uIG1vZGlmaWVyVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIG1vZGlmaWVyID0gZGF0YUl0ZW0ubW9kaWZpZXI7CgogICAgICBpZiAobW9kaWZpZXIpIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KG1vZGlmaWVyLm5hbWUgfHwgIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgaXRlbVRlbXBsYXRlOiBmdW5jdGlvbiBpdGVtVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGl0ZW0gPSBkYXRhSXRlbS5pdGVtOwoKICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KGl0ZW0ubmFtZSA/IGl0ZW0ubmFtZSA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIFVPTVRlbXBsYXRlOiBmdW5jdGlvbiBVT01UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgdW9tID0gZGF0YUl0ZW0udW9tOwogICAgICB2YXIgY29kZSA9IHVvbS5jb2RlIHx8ICcnOwoKICAgICAgaWYgKHVvbSkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQodW9tLnVvbSA/IGNvZGUgOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBzYWxlVW5pdFRlbXBsYXRlOiBmdW5jdGlvbiBzYWxlVW5pdFRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHZhciBzYWxlVW5pdCA9IGRhdGFJdGVtLnNhbGVVbml0OwoKICAgICAgaWYgKHNhbGVVbml0KSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChzYWxlVW5pdC5uYW1lID8gc2FsZVVuaXQubmFtZSA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIGRpc2NvdW50SXRlbVRlbXBsYXRlOiBmdW5jdGlvbiBkaXNjb3VudEl0ZW1UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgZGlzY291bnRJdGVtID0gZGF0YUl0ZW0uZGlzY291bnRJdGVtOwoKICAgICAgaWYgKGRpc2NvdW50SXRlbSkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQoZGlzY291bnRJdGVtLmNvZGUgPyBkaXNjb3VudEl0ZW0uY29kZSA6ICIiLCAiIC0gIikuY29uY2F0KGRpc2NvdW50SXRlbS5uYW1lID8gZGlzY291bnRJdGVtLm5hbWUgOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBhZGRTZWxlY3Q6IGZ1bmN0aW9uIGFkZFNlbGVjdCgpIHsKICAgICAgdmFyIGFtb3VudF9udW0gPSB0aGlzLm51bVNlbGVjdC5sZW5ndGg7CiAgICAgIHZhciBudW0gPSB0aGlzLm51bVNlbGVjdFthbW91bnRfbnVtIC0gMV07CiAgICAgIHZhciBuZXdfbnVtID0gbnVtICsgMTsKICAgICAgdmFyIGxlbmdodEl0ZW0gPSB0aGlzLnNwZWNpZmljRGlzY291bnRJdGVtLmxlbmd0aDsKCiAgICAgIGlmIChuZXdfbnVtIDw9IGxlbmdodEl0ZW0pIHsKICAgICAgICB0aGlzLm51bVNlbGVjdC5wdXNoKG5ld19udW0pOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlU2VsZWN0OiBmdW5jdGlvbiByZW1vdmVTZWxlY3QoaW5kZXgpIHsKICAgICAgdGhpcy5udW1TZWxlY3Quc3BsaWNlKGluZGV4LCAxKTsgLy8gd2luZG93LmNvbnNvbGUubG9nKGluZGV4LCB0aGlzLm51bVNlbGVjdCkKICAgICAgLy8gdGhpcy5zZWxlY3REaXNjb3VudC5zcGxpY2UoaW5kZXgsMSkKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCJyZW1vdmUiLHRoaXMuc2VsZWN0RGlzY291bnQpCiAgICAgIC8vIHRoaXMuc2VsZWN0RGlzY291bnQgPSB0aGlzLnNlbGVjdERpc2NvdW50LmZpbHRlcihpdGVtID0+ICBpdGVtLmlkICE9IHZhbC5pZCk7CiAgICB9LAogICAgb25PdGhlckNoYXJnZUNoYW5nZTogZnVuY3Rpb24gb25PdGhlckNoYXJnZUNoYW5nZSgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB2YXIgb3RoZXJDaGFyZ2UgPSAwLAogICAgICAgICAgYW1vdW50ID0gMDsKICAgICAgdGhpcy5pbnZvaWNlLm90aGVyQ2hhcmdlTGluZSA9IFtdOwogICAgICB0aGlzLm1PdGhlckNoYXJnZS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgYW1vdW50ID0gX3RoaXM2LmF1dG9DYWxjdWxhdGVEaXNjb3VudChtLCBfdGhpczYuaW52b2ljZS5zdWJUb3RhbCk7CiAgICAgICAgb3RoZXJDaGFyZ2UgKz0gYW1vdW50OwoKICAgICAgICBfdGhpczYuaW52b2ljZS5vdGhlckNoYXJnZUxpbmUucHVzaCh7CiAgICAgICAgICBpZDogbS5pZCwKICAgICAgICAgIG5hbWU6IG0ubmFtZSwKICAgICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGFtb3VudCAqIChfdGhpczYuaW52b2ljZS50eG5SYXRlIHx8IDEpCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLmludm9pY2Uub3RoZXJDaGFyZ2VBbW91bnQgPSBvdGhlckNoYXJnZTsKICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICB9LAogICAgb25PdGhlckFtb3VudDogZnVuY3Rpb24gb25PdGhlckFtb3VudCh2YWx1ZSkgewogICAgICByZXR1cm4gdGhpcy5hdXRvQ2FsY3VsYXRlRGlzY291bnQodmFsdWUsIHRoaXMuaW52b2ljZS5zdWJUb3RhbCk7CiAgICB9LAogICAgb25TcGVjaWZpY0Rpc2NvdW50Q2hhbmdlZDogZnVuY3Rpb24gb25TcGVjaWZpY0Rpc2NvdW50Q2hhbmdlZCgpIHsKICAgICAgdGhpcy5pbnZvaWNlLnNwZWNpZmljRGlzY291bnRUb3RhbCA9IDA7CgogICAgICBpZiAodGhpcy5pbnZvaWNlLnNwZWNpZmljRGlzY291bnRJdGVtKSB7CiAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCctY2hhbmdlZCcsIHRoaXMuaW52b2ljZS5zcGVjaWZpY0Rpc2NvdW50SXRlbSkKICAgICAgICB2YXIgZGlzY291bnRJbnZvaWNlID0gdGhpcy5hdXRvQ2FsY3VsYXRlRGlzY291bnQodGhpcy5pbnZvaWNlLnNwZWNpZmljRGlzY291bnRJdGVtLCB0aGlzLmludm9pY2Uuc3ViVG90YWwpOwogICAgICAgIHRoaXMuaW52b2ljZS5zcGVjaWZpY0Rpc2NvdW50VG90YWwgPSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50SW52b2ljZSA/IGRpc2NvdW50SW52b2ljZSA6IDApOwogICAgICAgIHZhciB0b3RhbCA9IGtlbmRvLnBhcnNlRmxvYXQodGhpcy5pbnZvaWNlLnN1YlRvdGFsKSAtIChrZW5kby5wYXJzZUZsb2F0KHRoaXMuaW52b2ljZS5kaXNjb3VudFRvdGFsKSArIGtlbmRvLnBhcnNlRmxvYXQodGhpcy5pbnZvaWNlLnRvdGFsVGF4QW1vdW50KSkgLSBkaXNjb3VudEludm9pY2U7CiAgICAgICAgdGhpcy5pbnZvaWNlLnRvdGFsID0gdG90YWw7CiAgICAgIH0KCiAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgfSwKICAgIGVtcEltcGw6IGZ1bmN0aW9uIGVtcEltcGwoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGVtcElkcyA9IFtdOwogICAgICBkYXRhSXRlbS5lbXBsb3llZS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgZW1wSWRzLnB1c2gobS5maXJzdE5hbWUgKyAiIC0gIiArIG0ubGFzdE5hbWUpOwogICAgICB9KTsgLy8gd2luZG93LmNvbnNvbGUubG9nKGVtcElkcy5qb2luKCcsICcpKQoKICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChlbXBJZHMuam9pbigiLCAiKSwgIjwvc3Bhbj4iKTsKICAgIH0sCiAgICBsb2FkU2FsZUZvcm1Db250ZW50OiBmdW5jdGlvbiBsb2FkU2FsZUZvcm1Db250ZW50KCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHNhbGVGb3JtQ29udGVudEhhbmRsZXIubGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnNhbGVGb3JtQ29udGVudCA9IGRhdGFbMF07CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5pbml0RGF0YSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkU2FsZVVuaXRJdGVtczogZnVuY3Rpb24gbG9hZFNhbGVVbml0SXRlbXMoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgc2FsZVVuaXRJdGVtSGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSBfdGhpczguc2FsZVVuaXRJdGVtTGlzdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1b21UbXA6IGZ1bmN0aW9uIHVvbVRtcChkYXRhSXRlbSkgewogICAgICB3aW5kb3cuY29uc29sZS5sb2coZGF0YUl0ZW0pOwogICAgICByZXR1cm4gZGF0YUl0ZW07CiAgICB9LAogICAgbG9hZEl0ZW1VT006IGZ1bmN0aW9uIGxvYWRJdGVtVU9NKGl0ZW1JZCwgcHJpY2VMZXZlbElkKSB7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygicCIsIGl0ZW1JZCwgcHJpY2VMZXZlbElkKTsKICAgIH0sCiAgICBsb2FkVU9NUHJpY2U6IGZ1bmN0aW9uIGxvYWRVT01QcmljZShpdGVtSWQsIHByaWNlTGV2ZWxJZCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB1b21QcmljZUhhbmRsZXIuZ2V0KGl0ZW1JZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJpY2VzID0gcmVzLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5wcmljZUxldmVsLmlkID09PSBwcmljZUxldmVsSWQ7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygicHJpY2UiLCBwcmljZXMsIGl0ZW1JZCwgcHJpY2VMZXZlbElkKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRVT01MaXN0OiBmdW5jdGlvbiBsb2FkVU9NTGlzdChpdGVtSWQpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB1b21Db252ZXJzaW9uSGFuZGxlci5nZXQoaXRlbUlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS51b21zID0gcmVzOwogICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJhbGwgVU9tIiwgcmVzKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uSW52b2ljZVR5cGVDaGFuZ2VkOiBmdW5jdGlvbiBvbkludm9pY2VUeXBlQ2hhbmdlZCgpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA9PT0gbnVsbCB8fCB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT09ICIiKSB7CiAgICAgICAgdGhpcy5nZW5lcmF0ZU51bWJlcigpOwogICAgICB9CgogICAgICB0aGlzLnRlbXBsYXRlSGFuZGxlKCk7CiAgICB9LAogICAgdGVtcGxhdGVIYW5kbGU6IGZ1bmN0aW9uIHRlbXBsYXRlSGFuZGxlKCkgewogICAgICB2YXIgdGVtcCA9IFtdOwoKICAgICAgaWYgKHRoaXMuaW52b2ljZS50cmFuc2FjdGlvblR5cGUubmFtZSA9PSAiQ29tbWVyY2lhbCBJbnZvaWNlIikgewogICAgICAgIHRlbXAucHVzaCh7CiAgICAgICAgICBpZDogMCwKICAgICAgICAgIHR5cGU6ICJDb21tZXJjaWFsIEludm9pY2UiLAogICAgICAgICAgbmFtZTogIlRlbXBsYXRlIE9uZSIKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmludm9pY2UudHJhbnNhY3Rpb25UeXBlLm5hbWUgPT0gIkdlbmVyYWwgSW52b2ljZSIpIHsKICAgICAgICB0ZW1wLnB1c2goewogICAgICAgICAgaWQ6IDAsCiAgICAgICAgICB0eXBlOiAiR2VuZXJhbCBJbnZvaWNlIiwKICAgICAgICAgIG5hbWU6ICJUZW1wbGF0ZSBPbmUiCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pbnZvaWNlLnRyYW5zYWN0aW9uVHlwZS5uYW1lID09ICJUYXggSW52b2ljZSIpIHsKICAgICAgICB0ZW1wLnB1c2goewogICAgICAgICAgaWQ6IDAsCiAgICAgICAgICB0eXBlOiAiVGF4IEludm9pY2UiLAogICAgICAgICAgbmFtZTogIlRlbXBsYXRlIE9uZSIKICAgICAgICB9KTsKICAgICAgICB0ZW1wLnB1c2goewogICAgICAgICAgaWQ6IDEsCiAgICAgICAgICB0eXBlOiAiVGF4IEludm9pY2UyIiwKICAgICAgICAgIG5hbWU6ICJUZW1wbGF0ZSBUd28iCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMudGVtcGxhdGVzRm9ybSA9IHRlbXA7CiAgICAgIHRoaXMudGVtcGxhdGUgPSAwOwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVUYXhCeVR5cGU6IGZ1bmN0aW9uIGF1dG9DYWxjdWxhdGVUYXhCeVR5cGUodGF4KSB7CiAgICAgIC8vIHJldHVybiBieSBhIGtleQogICAgICB2YXIgZ3JvdXBBbGwgPSBmdW5jdGlvbiBncm91cEFsbChsaXN0KSB7CiAgICAgICAgcmV0dXJuIGxpc3QucmVkdWNlKGZ1bmN0aW9uICh0YXgsIGl0ZW0pIHsKICAgICAgICAgIHZhciB0YXhBbW91bnQgPSB0YXhbaXRlbS5uYW1lXSB8fCAwOwogICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRheCwgX2RlZmluZVByb3BlcnR5KHt9LCBpdGVtLm5hbWUsIHRheEFtb3VudCArIHBhcnNlRmxvYXQoaXRlbS5hbW91bnQpKSk7CiAgICAgICAgfSwge30pOwogICAgICB9OwoKICAgICAgdGhpcy50YXhMaXN0VG90YWwgPSBncm91cEFsbCh0YXgpOyAvLyB3aW5kb3cuY29uc29sZS5sb2coJ25pbW9sJywgZ3JvdXBBbGwodGF4KSkKICAgIH0sCiAgICBvbkRlcG9zaXREZWR1Y3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIG9uRGVwb3NpdERlZHVjdGlvbkNoYW5nZSgpIHsKICAgICAgaWYgKHRoaXMuZGVwb3NpdERlZHVjdGlvbiA9PT0gIiIgfHwgdGhpcy5kZXBvc2l0RGVkdWN0aW9uID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmRlcG9zaXREZWR1Y3Rpb24gPSAwOwogICAgICB9CgogICAgICB0aGlzLmludm9pY2UuZGVwb3NpdERlZHVjdGlvbiA9IDA7IC8vIHdpbmRvdy5jb25zb2xlLmxvZygndGhpcy5kZXBvc2l0RGVkdWN0aW9uJywgdGhpcy5kZXBvc2l0RGVkdWN0aW9uKQogICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coJ3RoaXMuaW52b2ljZS5kZXBvc2l0RGVkdWN0aW9uJywgdGhpcy5pbnZvaWNlLmRlcG9zaXREZWR1Y3Rpb24pCgogICAgICB2YXIgYW1vdW50ID0gcGFyc2VGbG9hdCh0aGlzLmludm9pY2UudG90YWwpIC0gcGFyc2VGbG9hdCh0aGlzLmludm9pY2UuZGVwb3NpdERlZHVjdGlvbik7CiAgICAgIHZhciB4Q2hhbmdlQW1vdW50ID0gYW1vdW50ICogKHRoaXMuaW52b2ljZS50eG5SYXRlIHx8IDEpOwogICAgICB2YXIgZGVkdWN0aW9uID0gcGFyc2VGbG9hdCh0aGlzLmRlcG9zaXREZWR1Y3Rpb24pIHx8IDA7CiAgICAgIHZhciBkZXBBID0gcGFyc2VGbG9hdCh0aGlzLmludm9pY2UuZGVwb3NpdEFtb3VudCkgfHwgMDsKICAgICAgdmFyIHhBbW91bnQgPSBwYXJzZUZsb2F0KHhDaGFuZ2VBbW91bnQpIHx8IDA7CiAgICAgIHZhciBkZWR1Y3QgPSBkZWR1Y3Rpb247CgogICAgICBpZiAoZGVkdWN0aW9uID4geEFtb3VudCkgewogICAgICAgIGRlZHVjdCA9IHhBbW91bnQ7CgogICAgICAgIGlmIChkZWR1Y3QgPiBkZXBBKSB7CiAgICAgICAgICBkZWR1Y3QgPSBkZXBBOwogICAgICAgIH0KCiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCcxJywgZGVkdWN0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoZGVkdWN0ID4gZGVwQSkgewogICAgICAgICAgZGVkdWN0ID0gZGVwQTsKICAgICAgICB9CgogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnMicsIGRlZHVjdCk7CiAgICAgIH0KCiAgICAgIHRoaXMuZGVwb3NpdERlZHVjdGlvbiA9IHBhcnNlRmxvYXQoZGVkdWN0KTsKICAgICAgdGhpcy5pbnZvaWNlLmRlcG9zaXREZWR1Y3Rpb24gPSBwYXJzZUZsb2F0KGRlZHVjdCk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZygndGhpcy5pbnZvaWNlLmRlcG9zaXREZWR1Y3Rpb24nLCBkZWR1Y3QpCiAgICAgIC8vIGlmIChkZWR1Y3Rpb24gPiB0aGlzLmludm9pY2UuZGVwb3NpdEFtb3VudCkgewogICAgICAvLyAgICAgdGhpcy5pbnZvaWNlLmRlcG9zaXREZWR1Y3Rpb24gPSB0aGlzLmludm9pY2UuZGVwb3NpdEFtb3VudDsKICAgICAgLy8gfQogICAgICAvLyBpZiAoZGVkdWN0aW9uID4gcGFyc2VGbG9hdCh0aGlzLmludm9pY2UuZXhjaGFuZ2VBbW91bnQpKSB7CiAgICAgIC8vICAgICB0aGlzLmludm9pY2UuZGVwb3NpdERlZHVjdGlvbiA9IHRoaXMuaW52b2ljZS5leGNoYW5nZUFtb3VudDsKICAgICAgLy8gfQogICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coJ3RoaXMuaW52b2ljZScsIHRoaXMuaW52b2ljZSkKCiAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGU6IGZ1bmN0aW9uIGF1dG9DYWxjdWxhdGUoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgc3ViVG90YWwgPSAwLAogICAgICAgICAgdG90YWxUYXggPSAwLAogICAgICAgICAgZGlzY291bnRUb3RhbCA9IDAsCiAgICAgICAgICBvdGhlckNoYXJnZVRvdGFsID0gMCwKICAgICAgICAgIHNwVGF4ID0gMCwKICAgICAgICAgIHBsdGF4ID0gMCwKICAgICAgICAgIG90aGVyVGF4ID0gMCwKICAgICAgICAgIHZhdFRheCA9IDAsCiAgICAgICAgICBkaXNjb3VudEludm9pY2UgPSAwLAogICAgICAgICAgdGF4TGlzdCA9IFtdLAogICAgICAgICAgdGF4TGlzdERldGFpbCA9IFtdLAogICAgICAgICAgZGlzY291bnRJdGVtID0gW10sCiAgICAgICAgICBvdGhlckNoYXJnZUl0ZW0gPSBbXSwKICAgICAgICAgIHNhbGVVbml0ID0gW10sCiAgICAgICAgICBpbmNsdXNpdmVUYXggPSAwLAogICAgICAgICAgZGlzY291bnRMaW5lID0gW10sCiAgICAgICAgICBvdGhlckNoYXJnZUxpbmUgPSBbXSwKICAgICAgICAgIHNhbGVVbml0TGluZSA9IFtdLAogICAgICAgICAgaXRlbVN1YnRvdGFsID0gMCwKICAgICAgICAgIHR4bkl0bVN1YnRvdGFsID0gMCwKICAgICAgICAgIHNlcnZpY2VTdWJ0b3RhbCA9IDAsCiAgICAgICAgICBpdGVtRGlzY291bnQgPSAwLAogICAgICAgICAgc2VydmljZURpc2NvdW50ID0gMCwKICAgICAgICAgIHR4bkRpc2NvdW50ID0gMDsKICAgICAgdmFyIG5hdHVyZSA9ICIiOwogICAgICB0aGlzLmpSYXcgPSBbXTsKICAgICAgdmFyIHJvd3MgPSBkcy5kYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQobS5hbW91bnQpID4gMDsKICAgICAgfSk7CiAgICAgIHJvd3MuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICB2YXIgbW9kaWZpZXJQcmljZSA9IDA7CiAgICAgICAgdmFyIHZhdFNwVGF4ID0ge30sCiAgICAgICAgICAgIHZhdFBMVGF4ID0ge30sCiAgICAgICAgICAgIHZhdE90aGVyVGF4ID0ge307CgogICAgICAgIGlmICh2YWx1ZS5tb2RpZmllcikgewogICAgICAgICAgbW9kaWZpZXJQcmljZSA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUubW9kaWZpZXIucHJpY2UpOwogICAgICAgIH0gLy8gc3ViVG90YWwgKz0gKGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSArIG1vZGlmaWVyUHJpY2UpCgoKICAgICAgICB2YXIgZGlzY291bnQgPSAwLAogICAgICAgICAgICBvdGhlckNoYXJnZSA9IDA7CgogICAgICAgIGlmICh2YWx1ZS5vdGhlckNoYXJnZUl0ZW0pIHsKICAgICAgICAgIHZhciBfc3ViVG90YWwgPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnByaWNlKSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucXR5KTsKCiAgICAgICAgICB2YXIgb3RoZXJDaGFyZ2VGaWVsZCA9IHZhbHVlLm90aGVyQ2hhcmdlSXRlbSB8fCB7fTsKICAgICAgICAgIG90aGVyQ2hhcmdlID0gX3RoaXMxMC5hdXRvQ2FsY3VsYXRlRGlzY291bnQob3RoZXJDaGFyZ2VGaWVsZCwgX3N1YlRvdGFsKTsKICAgICAgICAgIHZhbHVlWyJvdGhlckNoYXJnZUFtb3VudCJdID0gb3RoZXJDaGFyZ2U7CiAgICAgICAgICB2YWx1ZVsib3RoZXJDaGFyZ2VFeGNoYW5nZUFtb3VudCJdID0gb3RoZXJDaGFyZ2UgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTAuaW52b2ljZS50eG5SYXRlKTsKCiAgICAgICAgICBpZiAodmFsdWUub3RoZXJDaGFyZ2VJdGVtLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgIG90aGVyQ2hhcmdlSXRlbS5wdXNoKHZhbHVlLm90aGVyQ2hhcmdlSXRlbSk7CiAgICAgICAgICAgIG90aGVyQ2hhcmdlTGluZS5wdXNoKHsKICAgICAgICAgICAgICBpZDogdmFsdWUub3RoZXJDaGFyZ2VJdGVtLmlkLAogICAgICAgICAgICAgIG5hbWU6IHZhbHVlLm90aGVyQ2hhcmdlSXRlbS5uYW1lLAogICAgICAgICAgICAgIGFtb3VudDogb3RoZXJDaGFyZ2UsCiAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IG90aGVyQ2hhcmdlICogcGFyc2VGbG9hdChfdGhpczEwLmludm9pY2UudHhuUmF0ZSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdvdGhlckNoYXJnZVRvdGFsJywgb3RoZXJDaGFyZ2UpOwogICAgICAgICAgb3RoZXJDaGFyZ2VUb3RhbCArPSBvdGhlckNoYXJnZSB8fCAwOwoKICAgICAgICAgIGlmIChvdGhlckNoYXJnZSAqIC0xID4gMCkgewogICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAob3RoZXJDaGFyZ2VGaWVsZC5hY2NvdW50KSB7CiAgICAgICAgICAgIGlmIChvdGhlckNoYXJnZUZpZWxkLmFjY291bnQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICBfdGhpczEwLmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICBpZDogb3RoZXJDaGFyZ2VGaWVsZC5hY2NvdW50LmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICJPdGhlciBDaGFyZ2UiLAogICAgICAgICAgICAgICAgYWNjb3VudDogb3RoZXJDaGFyZ2VGaWVsZC5hY2NvdW50LAogICAgICAgICAgICAgICAgYWNjb3VudElkOiBvdGhlckNoYXJnZUZpZWxkLmFjY291bnQuaWQsCiAgICAgICAgICAgICAgICBhbW91bnQ6IG90aGVyQ2hhcmdlICogLTEsCiAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogb3RoZXJDaGFyZ2UgKiAtMSAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMC5pbnZvaWNlLnR4blJhdGUpLAogICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgdHlwZUFzOiAib3RoZXJDaGFyZ2UiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh2YWx1ZS5kaXNjb3VudEl0ZW0pIHsKICAgICAgICAgIHZhciBkaXNJdGVtRmllbGQgPSB2YWx1ZS5kaXNjb3VudEl0ZW07CiAgICAgICAgICB2YXIgc3ViVG8gPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnByaWNlKSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucXR5KTsKICAgICAgICAgIGRpc2NvdW50ID0gX3RoaXMxMC5hdXRvQ2FsY3VsYXRlRGlzY291bnQodmFsdWUuZGlzY291bnRJdGVtLCBzdWJUbyk7CiAgICAgICAgICB2YWx1ZVsiZGlzY291bnRBbW91bnQiXSA9IGRpc2NvdW50OwogICAgICAgICAgdmFsdWVbImRpc2NvdW50RXhjaGFuZ2VBbW91bnQiXSA9IGRpc2NvdW50ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczEwLmludm9pY2UudHhuUmF0ZSk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZygndmFsdWUnLCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpCgogICAgICAgICAgaWYgKHZhbHVlLmRpc2NvdW50SXRlbS5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICBkaXNjb3VudEl0ZW0ucHVzaCh2YWx1ZS5kaXNjb3VudEl0ZW0pOwogICAgICAgICAgICBkaXNjb3VudExpbmUucHVzaCh7CiAgICAgICAgICAgICAgaWQ6IHZhbHVlLmRpc2NvdW50SXRlbS5pZCwKICAgICAgICAgICAgICBuYW1lOiB2YWx1ZS5kaXNjb3VudEl0ZW0ubmFtZSwKICAgICAgICAgICAgICBhbW91bnQ6IGRpc2NvdW50LAogICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBkaXNjb3VudCAqIHBhcnNlRmxvYXQoX3RoaXMxMC5pbnZvaWNlLnR4blJhdGUpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGRpc2NvdW50VG90YWwgKz0gZGlzY291bnQgfHwgMDsKCiAgICAgICAgICBpZiAoZGlzY291bnQgPiAwKSB7CiAgICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChkaXNJdGVtRmllbGQuYWNjb3VudCkgewogICAgICAgICAgICBpZiAoZGlzSXRlbUZpZWxkLmFjY291bnQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICBfdGhpczEwLmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICBpZDogZGlzSXRlbUZpZWxkLmFjY291bnQuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICAvLyBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIkRpc2NvdW50IiwKICAgICAgICAgICAgICAgIGFjY291bnQ6IGRpc0l0ZW1GaWVsZC5hY2NvdW50LAogICAgICAgICAgICAgICAgYWNjb3VudElkOiBkaXNJdGVtRmllbGQuYWNjb3VudC5pZCwKICAgICAgICAgICAgICAgIGFtb3VudDogZGlzY291bnQsCiAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogZGlzY291bnQgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTAuaW52b2ljZS50eG5SYXRlKSwKICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgIHR5cGVBczogImRpc2NvdW50IgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUuc2FsZVVuaXQpIHsKICAgICAgICAgIGlmICh2YWx1ZS5zYWxlVW5pdC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICBzYWxlVW5pdC5wdXNoKHZhbHVlLnNhbGVVbml0KTsKICAgICAgICAgICAgdmFyIGl0ZW1fID0gdmFsdWUuaXRlbSB8fCB7fTsKICAgICAgICAgICAgdmFyIGFtb3VudF8gPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnByaWNlKSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucXR5KSB8fCAwOwogICAgICAgICAgICB2YXIgaXRlbU9iaiA9IHsKICAgICAgICAgICAgICBpZDogaXRlbV8uaWQgfHwgIiIsCiAgICAgICAgICAgICAgbmFtZTogaXRlbV8ubmFtZSB8fCAiIiwKICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudF8gLSAoZGlzY291bnQgfHwgMCkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgc2FsZVVuaXRMaW5lLnB1c2goewogICAgICAgICAgICAgIGxpbmVJZDogdmFsdWUuaWQgfHwgIiIsCiAgICAgICAgICAgICAgaWQ6IHZhbHVlLnNhbGVVbml0LmlkLAogICAgICAgICAgICAgIG5hbWU6IHZhbHVlLnNhbGVVbml0Lm5hbWUsCiAgICAgICAgICAgICAgaXRlbTogaXRlbU9iaiwKICAgICAgICAgICAgICBhbW91bnQ6IGl0ZW1PYmouYW1vdW50LAogICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBpdGVtT2JqLmFtb3VudCAqIChfdGhpczEwLmludm9pY2UudHhuUmF0ZSB8fCAxKSwKICAgICAgICAgICAgICBkaXNjb3VudDogZGlzY291bnQgfHwgMCwKICAgICAgICAgICAgICBleGNoYW5nZURpc2NvdW50OiAoZGlzY291bnQgfHwgMCkgKiAoX3RoaXMxMC5pbnZvaWNlLnR4blJhdGUgfHwgMSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUuc3BlY2lmaWNUYXgpIHsKICAgICAgICAgIHNwVGF4ID0gX3RoaXMxMC5hdXRvQ2FsY3VsYXRlVGF4KHZhbHVlLnNwZWNpZmljVGF4LCBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCkgLSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50KSk7CiAgICAgICAgICBzcFRheCA9IGtlbmRvLnBhcnNlRmxvYXQoc3BUYXgpID8ga2VuZG8ucGFyc2VGbG9hdChzcFRheCkgOiAwOwogICAgICAgICAgdmFsdWVbInNwZWNpZmljVGF4QW1vdW50Il0gPSBzcFRheDsKICAgICAgICAgIHZhbHVlWyJzcGVjaWZpY1RheEV4Y2hhbmdlQW1vdW50Il0gPSBzcFRheCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMC5pbnZvaWNlLnR4blJhdGUpOwogICAgICAgICAgdmFyIHRheCA9IHZhbHVlLnNwZWNpZmljVGF4OwogICAgICAgICAgdmFyIGJhc2VBbW91bnQgPSB0YXguYmFzZUFtb3VudDsKCiAgICAgICAgICBpZiAoYmFzZUFtb3VudCkgewogICAgICAgICAgICBpZiAoYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSAiaW5jbHVzaXZlIikgewogICAgICAgICAgICAgIGluY2x1c2l2ZVRheCArPSBzcFRheDsKICAgICAgICAgICAgfQogICAgICAgICAgfSAvLyB3aW5kb3cuY29uc29sZS5sb2codmFsdWUuc3BlY2lmaWNUYXgpCgoKICAgICAgICAgIGlmICh2YWx1ZS5zcGVjaWZpY1RheC5oYXNPd25Qcm9wZXJ0eSgidGF4VHlwZSIpKSB7CiAgICAgICAgICAgIHRheExpc3QucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogdmFsdWUuc3BlY2lmaWNUYXgudGF4VHlwZS5uYW1lLAogICAgICAgICAgICAgIGFtb3VudDogc3BUYXgsCiAgICAgICAgICAgICAgaWQ6IHZhbHVlLnNwZWNpZmljVGF4LnRheFR5cGUuaWQKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBzcFRheF8gPSB2YWx1ZS5zcGVjaWZpY1RheCB8fCB7fTsgLy8gc3BUYXhfWyd0YXhBbW91bnQnXSA9IHNwVGF4CgogICAgICAgICAgICBzcFRheF9bJ3RheEFtb3VudF8nXSA9IHNwVGF4OwogICAgICAgICAgICBzcFRheF9bJ2Ftb3VudCddID0gdmFsdWUuYW1vdW50IHx8IDA7CiAgICAgICAgICAgIHNwVGF4X1snZGlzY291bnQnXSA9IGRpc2NvdW50IHx8IDA7CiAgICAgICAgICAgIHNwVGF4X1sndHhuUmF0ZSddID0gX3RoaXMxMC5pbnZvaWNlLnR4blJhdGUgfHwgMTsgLy8gZGVsZXRlIHRheF9bJ2FjY291bnQnXQoKICAgICAgICAgICAgdGF4TGlzdERldGFpbC5wdXNoKHNwVGF4Xyk7CiAgICAgICAgICAgIHZhdFNwVGF4ID0gc3BUYXhfOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzcFRheCAqIC0xID4gMCkgewogICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgc3BlY2lmaWNUYXhGaWVsZCA9IHZhbHVlLnNwZWNpZmljVGF4OwoKICAgICAgICAgIGlmIChzcGVjaWZpY1RheEZpZWxkLmFjY291bnQpIHsKICAgICAgICAgICAgaWYgKHNwZWNpZmljVGF4RmllbGQuYWNjb3VudC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgIF90aGlzMTAualJhdy5wdXNoKHsKICAgICAgICAgICAgICAgIGlkOiBzcGVjaWZpY1RheEZpZWxkLmFjY291bnQuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICAvLyBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIlRheCIsCiAgICAgICAgICAgICAgICBhY2NvdW50OiBzcGVjaWZpY1RheEZpZWxkLmFjY291bnQsCiAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IHNwZWNpZmljVGF4RmllbGQuYWNjb3VudC5pZCwKICAgICAgICAgICAgICAgIGFtb3VudDogc3BUYXggKiAtMSwKICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBzcFRheCAqIC0xICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczEwLmludm9pY2UudHhuUmF0ZSksCiAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICB0eXBlQXM6ICJ0YXgiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh2YWx1ZS5wdWJsaWNMaWdodGluZ1RheCkgewogICAgICAgICAgcGx0YXggPSBfdGhpczEwLmF1dG9DYWxjdWxhdGVUYXgodmFsdWUucHVibGljTGlnaHRpbmdUYXgsIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSAtIGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnQpKTsKICAgICAgICAgIHBsdGF4ID0ga2VuZG8ucGFyc2VGbG9hdChwbHRheCkgPyBrZW5kby5wYXJzZUZsb2F0KHBsdGF4KSA6IDA7CiAgICAgICAgICB2YWx1ZVsicHVibGljTGlnaHRpbmdUYXhBbW91bnQiXSA9IHBsdGF4OwogICAgICAgICAgdmFsdWVbInB1YmxpY0xpZ2h0aW5nVGF4RXhjaGFuZ2VBbW91bnQiXSA9IHBsdGF4ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczEwLmludm9pY2UudHhuUmF0ZSk7CiAgICAgICAgICB2YXIgX3RheCA9IHZhbHVlLnB1YmxpY0xpZ2h0aW5nVGF4OwogICAgICAgICAgdmFyIF9iYXNlQW1vdW50ID0gX3RheC5iYXNlQW1vdW50OwoKICAgICAgICAgIGlmIChfYmFzZUFtb3VudCkgewogICAgICAgICAgICBpZiAoX2Jhc2VBbW91bnQudG9Mb3dlckNhc2UoKSA9PT0gImluY2x1c2l2ZSIpIHsKICAgICAgICAgICAgICBpbmNsdXNpdmVUYXggKz0gcGx0YXg7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUucHVibGljTGlnaHRpbmdUYXguaGFzT3duUHJvcGVydHkoInRheFR5cGUiKSkgewogICAgICAgICAgICB0YXhMaXN0LnB1c2goewogICAgICAgICAgICAgIG5hbWU6IHZhbHVlLnB1YmxpY0xpZ2h0aW5nVGF4LnRheFR5cGUubmFtZSwKICAgICAgICAgICAgICBhbW91bnQ6IHBsdGF4LAogICAgICAgICAgICAgIGlkOiB2YWx1ZS5wdWJsaWNMaWdodGluZ1RheC50YXhUeXBlLmlkCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgcGxUYXhfID0gdmFsdWUucHVibGljTGlnaHRpbmdUYXggfHwge307IC8vIHBsVGF4X1sndGF4QW1vdW50J10gPSBwbHRheAoKICAgICAgICAgICAgcGxUYXhfWyd0YXhBbW91bnRfJ10gPSBwbHRheDsKICAgICAgICAgICAgcGxUYXhfWydhbW91bnQnXSA9IHZhbHVlLmFtb3VudCB8fCAwOwogICAgICAgICAgICBwbFRheF9bJ2Rpc2NvdW50J10gPSBkaXNjb3VudCB8fCAwOwogICAgICAgICAgICBwbFRheF9bJ3R4blJhdGUnXSA9IF90aGlzMTAuaW52b2ljZS50eG5SYXRlIHx8IDE7IC8vIGRlbGV0ZSB0YXhfWydhY2NvdW50J10KCiAgICAgICAgICAgIHRheExpc3REZXRhaWwucHVzaChwbFRheF8pOwogICAgICAgICAgICB2YXRQTFRheCA9IHBsVGF4XzsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocGx0YXggKiAtMSA+IDApIHsKICAgICAgICAgICAgbmF0dXJlID0gImRyIjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIFBMVGF4RmllbGQgPSB2YWx1ZS5wdWJsaWNMaWdodGluZ1RheDsKCiAgICAgICAgICBpZiAoUExUYXhGaWVsZC5hY2NvdW50KSB7CiAgICAgICAgICAgIGlmIChQTFRheEZpZWxkLmFjY291bnQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICBfdGhpczEwLmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICBpZDogUExUYXhGaWVsZC5hY2NvdW50LmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgLy8gbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwodmFsdWUpLAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICJUYXgiLAogICAgICAgICAgICAgICAgYWNjb3VudDogUExUYXhGaWVsZC5hY2NvdW50LAogICAgICAgICAgICAgICAgYWNjb3VudElkOiBQTFRheEZpZWxkLmFjY291bnQuaWQsCiAgICAgICAgICAgICAgICBhbW91bnQ6IHBsdGF4ICogLTEsCiAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogcGx0YXggKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTAuaW52b2ljZS50eG5SYXRlKSAqIC0xLAogICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgdHlwZUFzOiAidGF4IgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUub3RoZXJUYXgpIHsKICAgICAgICAgIG90aGVyVGF4ID0gX3RoaXMxMC5hdXRvQ2FsY3VsYXRlVGF4KHZhbHVlLm90aGVyVGF4LCBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCkgLSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50KSk7CiAgICAgICAgICBvdGhlclRheCA9IGtlbmRvLnBhcnNlRmxvYXQob3RoZXJUYXgpID8ga2VuZG8ucGFyc2VGbG9hdChvdGhlclRheCkgOiAwOwogICAgICAgICAgdmFsdWVbIm90aGVyVGF4QW1vdW50Il0gPSBvdGhlclRheDsKICAgICAgICAgIHZhbHVlWyJvdGhlclRheEV4Y2hhbmdlQW1vdW50Il0gPSBvdGhlclRheCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMC5pbnZvaWNlLnR4blJhdGUpOwogICAgICAgICAgdmFyIF90YXgyID0gdmFsdWUub3RoZXJUYXg7CiAgICAgICAgICB2YXIgX2Jhc2VBbW91bnQyID0gX3RheDIuYmFzZUFtb3VudDsKCiAgICAgICAgICBpZiAoX2Jhc2VBbW91bnQyKSB7CiAgICAgICAgICAgIGlmIChfYmFzZUFtb3VudDIudG9Mb3dlckNhc2UoKSA9PT0gImluY2x1c2l2ZSIpIHsKICAgICAgICAgICAgICBpbmNsdXNpdmVUYXggKz0gb3RoZXJUYXg7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUub3RoZXJUYXguaGFzT3duUHJvcGVydHkoInRheFR5cGUiKSkgewogICAgICAgICAgICB0YXhMaXN0LnB1c2goewogICAgICAgICAgICAgIG5hbWU6IHZhbHVlLm90aGVyVGF4LnRheFR5cGUubmFtZSwKICAgICAgICAgICAgICBhbW91bnQ6IG90aGVyVGF4LAogICAgICAgICAgICAgIGlkOiB2YWx1ZS5vdGhlclRheC50YXhUeXBlLmlkCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgdGF4X18gPSB2YWx1ZS5vdGhlclRheCB8fCB7fTsgLy8gdGF4X19bJ3RheEFtb3VudCddID0gb3RoZXJUYXgKCiAgICAgICAgICAgIHRheF9fWyd0YXhBbW91bnRfJ10gPSBvdGhlclRheDsKICAgICAgICAgICAgdGF4X19bJ2Ftb3VudCddID0gdmFsdWUuYW1vdW50IHx8IDA7CiAgICAgICAgICAgIHRheF9fWydkaXNjb3VudCddID0gZGlzY291bnQgfHwgMDsKICAgICAgICAgICAgdGF4X19bJ3R4blJhdGUnXSA9IF90aGlzMTAuaW52b2ljZS50eG5SYXRlIHx8IDE7IC8vIGRlbGV0ZSB0YXhfWydhY2NvdW50J10KCiAgICAgICAgICAgIHRheExpc3REZXRhaWwucHVzaCh0YXhfXyk7CiAgICAgICAgICAgIHZhdE90aGVyVGF4ID0gdGF4X187CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKG90aGVyVGF4ICogLTEgPiAwKSB7CiAgICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBvdGhlclRheEZpZWxkID0gdmFsdWUub3RoZXJUYXg7CgogICAgICAgICAgaWYgKG90aGVyVGF4RmllbGQuYWNjb3VudCkgewogICAgICAgICAgICBpZiAob3RoZXJUYXhGaWVsZC5hY2NvdW50Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgX3RoaXMxMC5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgaWQ6IG90aGVyVGF4RmllbGQuYWNjb3VudC5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgIC8vIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAiVGF4IiwKICAgICAgICAgICAgICAgIGFjY291bnQ6IG90aGVyVGF4RmllbGQuYWNjb3VudCwKICAgICAgICAgICAgICAgIGFjY291bnRJZDogb3RoZXJUYXhGaWVsZC5hY2NvdW50LmlkLAogICAgICAgICAgICAgICAgYW1vdW50OiBvdGhlclRheCAqIC0xLAogICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IG90aGVyVGF4ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczEwLmludm9pY2UudHhuUmF0ZSkgKiAtMSwKICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgIHR5cGVBczogInRheCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlLnZhdFRheCkgewogICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCdWYXQgVGF4JywgdmFsdWUudmF0VGF4KQogICAgICAgICAgdmFyIF9hbXQgPSBrZW5kby5wYXJzZUZsb2F0KHNwVGF4ID8gc3BUYXggOiAwKSArIGtlbmRvLnBhcnNlRmxvYXQocGx0YXggPyBwbHRheCA6IDApICsga2VuZG8ucGFyc2VGbG9hdChvdGhlclRheCA/IG90aGVyVGF4IDogMCkgKyAoa2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQgPyB2YWx1ZS5hbW91bnQgOiAwKSAtIChkaXNjb3VudCA/IGRpc2NvdW50IDogMCkpOwoKICAgICAgICAgIHZhdFRheCA9IF90aGlzMTAuYXV0b0NhbGN1bGF0ZVRheCh2YWx1ZS52YXRUYXgsIF9hbXQpOwogICAgICAgICAgdmF0VGF4ID0ga2VuZG8ucGFyc2VGbG9hdCh2YXRUYXgpID8ga2VuZG8ucGFyc2VGbG9hdCh2YXRUYXgpIDogMDsKICAgICAgICAgIHZhbHVlWyJ2YXRUYXhBbW91bnQiXSA9IHZhdFRheDsKICAgICAgICAgIHZhbHVlWyJ2YXRUYXhFeGNoYW5nZUFtb3VudCJdID0gdmF0VGF4ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczEwLmludm9pY2UudHhuUmF0ZSk7CiAgICAgICAgICB2YXIgX3RheDMgPSB2YWx1ZS52YXRUYXg7CiAgICAgICAgICB2YXIgX2Jhc2VBbW91bnQzID0gX3RheDMuYmFzZUFtb3VudDsKCiAgICAgICAgICBpZiAoX2Jhc2VBbW91bnQzKSB7CiAgICAgICAgICAgIGlmIChfYmFzZUFtb3VudDMudG9Mb3dlckNhc2UoKSA9PT0gImluY2x1c2l2ZSIpIHsKICAgICAgICAgICAgICBpbmNsdXNpdmVUYXggKz0gdmF0VGF4OwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHZhbHVlLnZhdFRheC5oYXNPd25Qcm9wZXJ0eSgidGF4VHlwZSIpKSB7CiAgICAgICAgICAgIHRheExpc3QucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogdmFsdWUudmF0VGF4LnRheFR5cGUubmFtZSwKICAgICAgICAgICAgICBhbW91bnQ6IHZhdFRheCwKICAgICAgICAgICAgICBpZDogdmFsdWUudmF0VGF4LnRheFR5cGUuaWQKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciB2YXRUYXhfID0gdmFsdWUudmF0VGF4IHx8IHt9OyAvLyB2YXRUYXhfWyd0YXhBbW91bnQnXSA9IHZhdFRheAoKICAgICAgICAgICAgdmF0VGF4X1sndGF4QW1vdW50XyddID0gdmF0VGF4OwogICAgICAgICAgICB2YXRUYXhfWydhbW91bnQnXSA9IHZhbHVlLmFtb3VudCB8fCAwOwogICAgICAgICAgICB2YXRUYXhfWydkaXNjb3VudCddID0gZGlzY291bnQgfHwgMDsKICAgICAgICAgICAgdmF0VGF4X1sndHhuUmF0ZSddID0gX3RoaXMxMC5pbnZvaWNlLnR4blJhdGUgfHwgMTsKICAgICAgICAgICAgdmF0VGF4X1snaXNWYXQnXSA9IDE7CiAgICAgICAgICAgIHZhdFRheF8uZGV0YWlsID0gewogICAgICAgICAgICAgIHNwZWNpZmljVGF4OiB2YXRTcFRheCwKICAgICAgICAgICAgICBwdWJsaWNMaWdodGluZ1RheDogdmF0UExUYXgsCiAgICAgICAgICAgICAgb3RoZXJUYXg6IHZhdE90aGVyVGF4CiAgICAgICAgICAgIH07IC8vIGRlbGV0ZSB0YXhfWydhY2NvdW50J10KCiAgICAgICAgICAgIHRheExpc3REZXRhaWwucHVzaCh2YXRUYXhfKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmF0VGF4ICogLTEgPiAwKSB7CiAgICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciB2YXRUYXhGaWVsZCA9IHZhbHVlLnZhdFRheDsKCiAgICAgICAgICBpZiAodmF0VGF4RmllbGQuYWNjb3VudCkgewogICAgICAgICAgICBpZiAodmF0VGF4RmllbGQuYWNjb3VudC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgIF90aGlzMTAualJhdy5wdXNoKHsKICAgICAgICAgICAgICAgIGlkOiB2YXRUYXhGaWVsZC5hY2NvdW50LmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgLy8gbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwodmFsdWUpLAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICJUYXgiLAogICAgICAgICAgICAgICAgYWNjb3VudDogdmF0VGF4RmllbGQuYWNjb3VudCwKICAgICAgICAgICAgICAgIGFjY291bnRJZDogdmF0VGF4RmllbGQuYWNjb3VudC5pZCwKICAgICAgICAgICAgICAgIGFtb3VudDogdmF0VGF4ICogLTEsCiAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogdmF0VGF4ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczEwLmludm9pY2UudHhuUmF0ZSkgKiAtMSwKICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgIHR5cGVBczogInRheCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmF0U3BUYXggPSB7fSwgdmF0UExUYXggPSB7fSwgdmF0T3RoZXJUYXggPSB7fTsKICAgICAgICB0b3RhbFRheCArPSBrZW5kby5wYXJzZUZsb2F0KHNwVGF4ID8gc3BUYXggOiAwKSArIGtlbmRvLnBhcnNlRmxvYXQocGx0YXggPyBwbHRheCA6IDApICsga2VuZG8ucGFyc2VGbG9hdChvdGhlclRheCA/IG90aGVyVGF4IDogMCkgKyBrZW5kby5wYXJzZUZsb2F0KHZhdFRheCA/IHZhdFRheCA6IDApOwogICAgICAgIHN1YlRvdGFsICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSArIG1vZGlmaWVyUHJpY2UgLSBpbmNsdXNpdmVUYXg7CiAgICAgICAgdmFyIGFtdCA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSArIG1vZGlmaWVyUHJpY2UgLSBpbmNsdXNpdmVUYXg7CiAgICAgICAgdmFyIHhBbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KGFtdCkgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTAuaW52b2ljZS50eG5SYXRlKSAqIC0xOwogICAgICAgIHZhciBpdGVtID0gdmFsdWUuaXRlbTsKICAgICAgICB2YXIgaXRtVHlwZSA9IGl0ZW0udHlwZSB8fCAiIjsKCiAgICAgICAgaWYgKGl0bVR5cGUgPT09ICJWYXJpYW50IikgewogICAgICAgICAgaXRlbVN1YnRvdGFsICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucHJpY2UpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdHkpOwogICAgICAgICAgaXRlbURpc2NvdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnQpOwogICAgICAgIH0gZWxzZSBpZiAoaXRtVHlwZSA9PT0gIlNlcnZpY2UiKSB7CiAgICAgICAgICBzZXJ2aWNlU3VidG90YWwgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5wcmljZSkgKiBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnF0eSk7CiAgICAgICAgICBpdGVtRGlzY291bnQgKz0ga2VuZG8ucGFyc2VGbG9hdChkaXNjb3VudCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHR4bkl0bVN1YnRvdGFsICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucHJpY2UpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdHkpOwogICAgICAgICAgaXRlbURpc2NvdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnQpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGNvbnZlcnNpb25SYXRlID0gdmFsdWUuY29udmVyc2lvblJhdGUgfHwgMTsKICAgICAgICB2YXIgYlF0eSA9IHBhcnNlRmxvYXQodmFsdWUucXR5ICogY29udmVyc2lvblJhdGUpOwogICAgICAgIHZhciB3YWMgPSBwYXJzZUZsb2F0KHZhbHVlLndhYykgfHwgMDsKICAgICAgICB2YXIgaXRlbUFtb3VudCA9IHBhcnNlRmxvYXQoYlF0eSkgKiB3YWM7IC8vIGNvbnN0IGl0ZW14QW1vdW50ID0gaXRlbUFtb3VudAoKICAgICAgICBpZiAoYW10ICogLTEgPiAwKSB7CiAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgIH0KCiAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICJTZXJ2aWNlIikgewogICAgICAgICAgICBpZiAodmFsdWUuaXNQbGFuKSB7CiAgICAgICAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoImRlZmVycmVkSW5jb21lQWNjIikpIHsKICAgICAgICAgICAgICAgIGlmIChpdGVtLmRlZmVycmVkSW5jb21lQWNjLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgIHZhciBkZWZlcnJlZEluQWNjID0gaXRlbS5kZWZlcnJlZEluY29tZUFjYzsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTAualJhdy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBpZDogZGVmZXJyZWRJbkFjYy5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAvLyBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzMTAuaW52b2ljZS5qb3VybmFsTm90ZSwKICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiBkZWZlcnJlZEluQWNjLAogICAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogZGVmZXJyZWRJbkFjYy5pZCwKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtdCAqIC0xLAogICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiB4QW1vdW50LAogICAgICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICB0eXBlQXM6ICJpdGVtIgogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFyIGluY29tZUFjYyA9IGl0ZW0uaW5jb21lQWNjOwoKICAgICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgiaW5jb21lQWNjIikpIHsKICAgICAgICAgICAgICAgIGlmIChpdGVtLmluY29tZUFjYy5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICBfdGhpczEwLmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGluY29tZUFjYy5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAvLyBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzMTAuaW52b2ljZS5qb3VybmFsTm90ZSwKICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiBpbmNvbWVBY2MsCiAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBpbmNvbWVBY2MuaWQsCiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbXQgKiAtMSwKICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogeEFtb3VudCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgdHlwZUFzOiAiaXRlbSIsCiAgICAgICAgICAgICAgICAgICAgY2FzaEJhc2ljOiAxCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICJWYXJpYW50IikgewogICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgiaW5jb21lQWNjIikpIHsKICAgICAgICAgICAgICBpZiAoaXRlbS5pbmNvbWVBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgIHZhciBfaW5jb21lQWNjID0gaXRlbS5pbmNvbWVBY2M7CgogICAgICAgICAgICAgICAgX3RoaXMxMC5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgICBpZDogX2luY29tZUFjYy5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgLy8gbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwodmFsdWUpLAogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogX3RoaXMxMC5pbnZvaWNlLmpvdXJuYWxOb3RlLAogICAgICAgICAgICAgICAgICBhY2NvdW50OiBpdGVtLmluY29tZUFjYywKICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBpdGVtLmluY29tZUFjYy5pZCwKICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbXQgKiAtMSwKICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IHhBbW91bnQsCiAgICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgICAgdHlwZUFzOiAiaXRlbSIsCiAgICAgICAgICAgICAgICAgIGNhc2hCYXNpYzogMQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgiaW52ZW50b3J5QWNjIikpIHsKICAgICAgICAgICAgICBpZiAoaXRlbS5pbnZlbnRvcnlBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgIHZhciBpbnZlbnRvcnlBY2MgPSBpdGVtLmludmVudG9yeUFjYzsKCiAgICAgICAgICAgICAgICBfdGhpczEwLmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBpbnZlbnRvcnlBY2MuaWQgKyAiLSIgKyAiY3IiLAogICAgICAgICAgICAgICAgICAvLyBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBfdGhpczEwLmludm9pY2Uuam91cm5hbE5vdGUsCiAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGl0ZW0uaW52ZW50b3J5QWNjLAogICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGl0ZW0uaW52ZW50b3J5QWNjLmlkLAogICAgICAgICAgICAgICAgICBhbW91bnQ6IGl0ZW1BbW91bnQgKiAtMSwKICAgICAgICAgICAgICAgICAgLy8gcXR5KmF2Z19jb3N0ICwKICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGl0ZW1BbW91bnQgKiAtMSwKICAgICAgICAgICAgICAgICAgLy94QW1vdW50LAogICAgICAgICAgICAgICAgICB0eXBlOiAiY3IiLAogICAgICAgICAgICAgICAgICB0eXBlQXM6ICJpdGVtIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgiY29zdE9mR29vZHNTb2xkQWNjIikpIHsKICAgICAgICAgICAgICBpZiAoaXRlbS5jb3N0T2ZHb29kc1NvbGRBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgIHZhciBjb3N0T2ZHb29kc1NvbGRBY2MgPSBpdGVtLmNvc3RPZkdvb2RzU29sZEFjYzsKCiAgICAgICAgICAgICAgICBfdGhpczEwLmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBjb3N0T2ZHb29kc1NvbGRBY2MuaWQgKyAiLSIgKyAiZHIiLAogICAgICAgICAgICAgICAgICAvLyBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBfdGhpczEwLmludm9pY2Uuam91cm5hbE5vdGUsCiAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGl0ZW0uY29zdE9mR29vZHNTb2xkQWNjLAogICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGl0ZW0uY29zdE9mR29vZHNTb2xkQWNjLmlkLAogICAgICAgICAgICAgICAgICBhbW91bnQ6IGl0ZW1BbW91bnQsCiAgICAgICAgICAgICAgICAgIC8vIHF0eSphdmdfY29zdCAsCiAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBpdGVtQW1vdW50LAogICAgICAgICAgICAgICAgICAvL3hBbW91bnQsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJkciIsCiAgICAgICAgICAgICAgICAgIHR5cGVBczogIml0ZW0iCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAiRml4ZWQgQXNzZXQiKSB7CiAgICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCJhc3NldEFjYyIpKSB7CiAgICAgICAgICAgICAgaWYgKGl0ZW0uYXNzZXRBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgIHZhciBhc3NldEFjYyA9IGl0ZW0uYXNzZXRBY2M7CgogICAgICAgICAgICAgICAgX3RoaXMxMC5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgICBpZDogYXNzZXRBY2MuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICAgIC8vIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzMTAuaW52b2ljZS5qb3VybmFsTm90ZSwKICAgICAgICAgICAgICAgICAgYWNjb3VudDogaXRlbS5hc3NldEFjYywKICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBpdGVtLmFzc2V0QWNjLmlkLAogICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtdCAqIC0xLAogICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogeEFtb3VudCwKICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICB0eXBlQXM6ICJpdGVtIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gIlRyYW5zYWN0aW9uIEl0ZW0iKSB7CiAgICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCJhY2NvdW50IikpIHsKICAgICAgICAgICAgICBpZiAoaXRlbS5hY2NvdW50Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICBfdGhpczEwLmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmFjY291bnQuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICAgIC8vIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzMTAuaW52b2ljZS5qb3VybmFsTm90ZSwKICAgICAgICAgICAgICAgICAgYWNjb3VudDogaXRlbS5hY2NvdW50LAogICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGl0ZW0uYWNjb3VudC5pZCwKICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbXQgKiAtMSwKICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IHhBbW91bnQsCiAgICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgICAgdHlwZUFzOiAiaXRlbSIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gLy9pbmNsdWRlIFRheCBBbW91bnQKCgogICAgICAgIHZhciBhbW91bnROb2Rpc2NvdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5wcmljZSkgKiBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnF0eSkgLSBkaXNjb3VudDsKICAgICAgICB2YXIgaW5jbHVkZVRheEFtb3VudCA9IGFtb3VudE5vZGlzY291bnQgKyB2YXRUYXggKyBwbHRheCArIHNwVGF4ICsgb3RoZXJUYXg7CiAgICAgICAgdmFsdWVbImluY2x1ZGVUYXhBbW91bnQiXSA9IGluY2x1ZGVUYXhBbW91bnQ7CiAgICAgICAgdmFsdWVbImluY2x1ZGVUYXhFeGNoYW5nZUFtb3VudCJdID0gaW5jbHVkZVRheEFtb3VudCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMC5pbnZvaWNlLnR4blJhdGUpOwogICAgICB9KTsKICAgICAgdGhpcy5pbnZvaWNlLml0ZW1TdWJ0b3RhbCA9IGl0ZW1TdWJ0b3RhbDsKICAgICAgdGhpcy5pbnZvaWNlLmV4Y2hhbmdlSXRlbVN1YnRvdGFsID0gaXRlbVN1YnRvdGFsICoga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmludm9pY2UudHhuUmF0ZSk7CiAgICAgIHRoaXMuaW52b2ljZS5zZXJ2aWNlU3VidG90YWwgPSBzZXJ2aWNlU3VidG90YWw7CiAgICAgIHRoaXMuaW52b2ljZS5leGNoYW5nZVNlcnZpY2VTdWJ0b3RhbCA9IHNlcnZpY2VTdWJ0b3RhbCAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy5pbnZvaWNlLnR4blJhdGUpOwogICAgICB0aGlzLmludm9pY2UudHhuSXRtU3VidG90YWwgPSB0eG5JdG1TdWJ0b3RhbDsKICAgICAgdGhpcy5pbnZvaWNlLmV4Y2hhbmdlVHhuSXRtU3VidG90YWwgPSB0eG5JdG1TdWJ0b3RhbCAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy5pbnZvaWNlLnR4blJhdGUpOwogICAgICB0aGlzLmludm9pY2UuaXRlbURpc2NvdW50ID0gaXRlbURpc2NvdW50OwogICAgICB0aGlzLmludm9pY2UuZXhjaGFuZ2VJdGVtRGlzY291bnQgPSBpdGVtRGlzY291bnQgKiBrZW5kby5wYXJzZUZsb2F0KHRoaXMuaW52b2ljZS50eG5SYXRlKTsKICAgICAgdGhpcy5pbnZvaWNlLnNlcnZpY2VEaXNjb3VudCA9IHNlcnZpY2VEaXNjb3VudDsKICAgICAgdGhpcy5pbnZvaWNlLmV4Y2hhbmdlU2VydmljZURpc2NvdW50ID0gc2VydmljZURpc2NvdW50ICoga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmludm9pY2UudHhuUmF0ZSk7CiAgICAgIHRoaXMuaW52b2ljZS50eG5JdG1EaXNjb3VudCA9IHR4bkRpc2NvdW50OwogICAgICB0aGlzLmludm9pY2UuZXhjaGFuZ2VUeG5JdG1EaXNjb3VudCA9IHR4bkRpc2NvdW50ICoga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmludm9pY2UudHhuUmF0ZSk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyhzcFRheCwgcGx0YXgsIG90aGVyVGF4LCB2YXRUYXgpCgogICAgICB2YXIgdG90YWwgPSBrZW5kby5wYXJzZUZsb2F0KHN1YlRvdGFsKSAtIGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnRUb3RhbCkgKyBrZW5kby5wYXJzZUZsb2F0KHRvdGFsVGF4KTsKICAgICAgdGhpcy5pbnZvaWNlLnN1YlRvdGFsID0gc3ViVG90YWw7CiAgICAgIHRoaXMuaW52b2ljZS5leGNoYW5nZVN1YlRvdGFsID0gc3ViVG90YWwgKiBwYXJzZUZsb2F0KHRoaXMuaW52b2ljZS50eG5SYXRlKTsgLy8gJCgiI3N1YnRvdGFsIikudGV4dChrZW5kby5wYXJzZUZsb2F0KHN1YlRvdGFsKSkKCiAgICAgIHRoaXMuaW52b2ljZS50b3RhbFRheEFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodG90YWxUYXgpOwogICAgICB0aGlzLmludm9pY2UuZGlzY291bnRUb3RhbCA9IGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnRUb3RhbCk7CiAgICAgIHRoaXMuaW52b2ljZS5vdGhlckNoYXJnZVRvdGFsID0ga2VuZG8ucGFyc2VGbG9hdChvdGhlckNoYXJnZVRvdGFsKTsKCiAgICAgIGlmICh0aGlzLmludm9pY2Uuc3BlY2lmaWNEaXNjb3VudEl0ZW0pIHsKICAgICAgICBkaXNjb3VudEludm9pY2UgPSB0aGlzLmF1dG9DYWxjdWxhdGVEaXNjb3VudCh0aGlzLmludm9pY2Uuc3BlY2lmaWNEaXNjb3VudEl0ZW0sIGtlbmRvLnBhcnNlRmxvYXQoc3ViVG90YWwpKTsKICAgICAgICBkaXNjb3VudEludm9pY2UgPSBkaXNjb3VudEludm9pY2UgPyBkaXNjb3VudEludm9pY2UgOiAwOwogICAgICB9IC8vIHRoaXMub25PdGhlckNoYXJnZUNoYW5nZSgpCgoKICAgICAgdGhpcy5pbnZvaWNlLnRvdGFsID0ga2VuZG8ucGFyc2VGbG9hdCh0b3RhbCkgLSBkaXNjb3VudEludm9pY2UgKyBrZW5kby5wYXJzZUZsb2F0KHRoaXMuaW52b2ljZS5vdGhlckNoYXJnZUFtb3VudCkgKyBvdGhlckNoYXJnZVRvdGFsOwogICAgICB0aGlzLmludm9pY2UucmVtYWluaW5nQW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmludm9pY2UudG90YWwpIC0ga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmludm9pY2UuZGVwb3NpdERlZHVjdGlvbik7CiAgICAgIHRoaXMuaW52b2ljZS5hbW91bnREdWUgPSBrZW5kby5wYXJzZUZsb2F0KHRoaXMuaW52b2ljZS50b3RhbCkgLSBrZW5kby5wYXJzZUZsb2F0KHRoaXMuaW52b2ljZS5kZXBvc2l0RGVkdWN0aW9uKTsKICAgICAgdGhpcy5pbnZvaWNlLmV4Y2hhbmdlQW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmludm9pY2UuYW1vdW50RHVlKSAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy5pbnZvaWNlLnR4blJhdGUpOyAvLyB3aW5kb3cuY29uc29sZS5sb2coJ0V4Y2hhbmdlIEFtb3VudCcsIHRoaXMuaW52b2ljZS5leGNoYW5nZUFtb3VudCkKCiAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZVRheEJ5VHlwZSh0YXhMaXN0KTsKCiAgICAgIGlmICh0aGlzLmludm9pY2Uuc3BlY2lmaWNEaXNjb3VudEl0ZW0pIHsKICAgICAgICB2YXIgc3BlY2lmaWNEaXNjb3VudCA9IHRoaXMuaW52b2ljZS5zcGVjaWZpY0Rpc2NvdW50SXRlbSB8fCB7fTsKCiAgICAgICAgaWYgKHNwZWNpZmljRGlzY291bnQuaWQpIHsKICAgICAgICAgIGRpc2NvdW50SXRlbS5wdXNoKHNwZWNpZmljRGlzY291bnQpOwogICAgICAgICAgZGlzY291bnRMaW5lLnB1c2goewogICAgICAgICAgICBpZDogc3BlY2lmaWNEaXNjb3VudC5pZCwKICAgICAgICAgICAgbmFtZTogc3BlY2lmaWNEaXNjb3VudC5uYW1lLAogICAgICAgICAgICBhbW91bnQ6IHRoaXMuaW52b2ljZS5zcGVjaWZpY0Rpc2NvdW50VG90YWwsCiAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiB0aGlzLmludm9pY2Uuc3BlY2lmaWNEaXNjb3VudFRvdGFsICogdGhpcy5pbnZvaWNlLnR4blJhdGUKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIHVuaXF1ZURpc2NvdW50SXRlbSA9IHRoaXMucmVtb3ZlRHVwbGljYXRlKGRpc2NvdW50SXRlbSk7CiAgICAgIHRoaXMuc2hyaW5rRGlzY291bnRJdGVtKHVuaXF1ZURpc2NvdW50SXRlbSwgZGlzY291bnRMaW5lKTsKICAgICAgdmFyIHVuaXF1ZU90aGVyQ2hhcmdlID0gdGhpcy5yZW1vdmVEdXBsaWNhdGUob3RoZXJDaGFyZ2VJdGVtKTsKICAgICAgdGhpcy5zaHJpbmtPdGhlckNoYXJnZUl0ZW0odW5pcXVlT3RoZXJDaGFyZ2UsIG90aGVyQ2hhcmdlTGluZSk7CiAgICAgIHRoaXMuY3VzdG9tZXJTYWxlVW5pdCA9IHRoaXMucmVtb3ZlRHVwbGljYXRlKHNhbGVVbml0KTsKICAgICAgdGhpcy5jdXN0b21lclNhbGVVbml0TGluZSA9IHNhbGVVbml0TGluZTsgLy90aGlzLnJlbW92ZUR1cGxpY2F0ZShzYWxlVW5pdCkKCiAgICAgIHRoaXMudGF4TGlzdERldGFpbCA9IHRheExpc3REZXRhaWw7IC8vIHdpbmRvdy5jb25zb2xlLmxvZygndGF4TGlzdERldGFpbC0tJywgdGF4TGlzdERldGFpbCkKICAgICAgLy8gdG9kbzogcmF3IEpvdXJuYWwKCiAgICAgIHZhciByZWNlaXZhYmxlQWNjID0gdGhpcy5pbnZvaWNlLnJlY2VpdmFibGVBY2MgfHwge307CgogICAgICBpZiAodGhpcy5pbnZvaWNlLmFtb3VudER1ZSA+IDApIHsKICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICB9IGVsc2UgewogICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgIH0KCiAgICAgIGlmIChyZWNlaXZhYmxlQWNjKSB7CiAgICAgICAgaWYgKHJlY2VpdmFibGVBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgIHRoaXMualJhdy5wdXNoKHsKICAgICAgICAgICAgaWQ6IHJlY2VpdmFibGVBY2MuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgIC8vIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHt9KSwKICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuaW52b2ljZS5qb3VybmFsTm90ZSwKICAgICAgICAgICAgYWNjb3VudDogcmVjZWl2YWJsZUFjYywKICAgICAgICAgICAgYWNjb3VudElkOiByZWNlaXZhYmxlQWNjLmlkLAogICAgICAgICAgICBleGNoYW5nZUFtb3VudDogdGhpcy5pbnZvaWNlLmV4Y2hhbmdlQW1vdW50LAogICAgICAgICAgICBhbW91bnQ6IHRoaXMuaW52b2ljZS5hbW91bnREdWUsCiAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgdHlwZUFzOiAiYXIiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBzcGVjaWZpY0Rpc2MgPSB0aGlzLmludm9pY2Uuc3BlY2lmaWNEaXNjb3VudEl0ZW07CgogICAgICBpZiAodGhpcy5pbnZvaWNlLnNwZWNpZmljRGlzY291bnRUb3RhbCA+IDApIHsKICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICB9IGVsc2UgewogICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgIH0KCiAgICAgIGlmIChzcGVjaWZpY0Rpc2MpIHsKICAgICAgICBpZiAoc3BlY2lmaWNEaXNjLmhhc093blByb3BlcnR5KCJhY2NvdW50IikpIHsKICAgICAgICAgIGlmIChzcGVjaWZpY0Rpc2MuYWNjb3VudCkgewogICAgICAgICAgICBpZiAoc3BlY2lmaWNEaXNjLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgdGhpcy5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgaWQ6IHNwZWNpZmljRGlzYy5hY2NvdW50LmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgLy8gbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwoe30pLAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICJEaXNjb3VudCIsCiAgICAgICAgICAgICAgICBhY2NvdW50OiBzcGVjaWZpY0Rpc2MuYWNjb3VudCB8fCB7fSwKICAgICAgICAgICAgICAgIGFjY291bnRJZDogc3BlY2lmaWNEaXNjLmFjY291bnQuaWQsCiAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDoga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmludm9pY2Uuc3BlY2lmaWNEaXNjb3VudFRvdGFsKSAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy5pbnZvaWNlLnR4blJhdGUpLAogICAgICAgICAgICAgICAgYW1vdW50OiB0aGlzLmludm9pY2Uuc3BlY2lmaWNEaXNjb3VudFRvdGFsLAogICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgdHlwZUFzOiAiZGlzY291bnQiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmludm9pY2UuZGVwb3NpdERlZHVjdGlvbiA+IDApIHsKICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICB9IGVsc2UgewogICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgIH0KCiAgICAgIHRoaXMuaW52b2ljZS5leGNoYW5nZURlcG9zaXREZWR1Y3Rpb24gPSAodGhpcy5pbnZvaWNlLnR4blJhdGUgfHwgMCkgKiB0aGlzLmludm9pY2UuZGVwb3NpdERlZHVjdGlvbjsKCiAgICAgIGlmICh0aGlzLmludm9pY2UuZGVwb3NpdERlZHVjdGlvbikgewogICAgICAgIGlmICh0aGlzLmludm9pY2UuZGVwb3NpdERlZHVjdGlvbiA+IDApIHsKICAgICAgICAgIHZhciBzYWxlRGVwb3NpdEFjYyA9IHRoaXMuY3VzdG9tZXIuc2FsZURlcG9zaXRBY2MgfHwge307CgogICAgICAgICAgaWYgKHNhbGVEZXBvc2l0QWNjKSB7CiAgICAgICAgICAgIGlmIChzYWxlRGVwb3NpdEFjYy5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgIHRoaXMualJhdy5wdXNoKHsKICAgICAgICAgICAgICAgIGlkOiBzYWxlRGVwb3NpdEFjYy5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAiRGVwb3NpdCIsCiAgICAgICAgICAgICAgICAvLyBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh7fSksCiAgICAgICAgICAgICAgICBhY2NvdW50OiBzYWxlRGVwb3NpdEFjYywKICAgICAgICAgICAgICAgIGFjY291bnRJZDogc2FsZURlcG9zaXRBY2MuaWQsCiAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogdGhpcy5pbnZvaWNlLmV4Y2hhbmdlRGVwb3NpdERlZHVjdGlvbiwKICAgICAgICAgICAgICAgIGFtb3VudDogdGhpcy5pbnZvaWNlLmRlcG9zaXREZWR1Y3Rpb24sCiAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICB0eXBlQXM6ICJkZXBvc2l0IgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5tT3RoZXJDaGFyZ2UubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBvdGhlckNoYXJnZSA9IDA7CiAgICAgICAgdGhpcy5tT3RoZXJDaGFyZ2UuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgICAgb3RoZXJDaGFyZ2UgPSBfdGhpczEwLmF1dG9DYWxjdWxhdGVEaXNjb3VudChtLCBfdGhpczEwLmludm9pY2Uuc3ViVG90YWwpOwoKICAgICAgICAgIGlmIChvdGhlckNoYXJnZSAqIC0xID4gMCkgewogICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAobSkgewogICAgICAgICAgICBpZiAobS5oYXNPd25Qcm9wZXJ0eSgiYWNjb3VudCIpKSB7CiAgICAgICAgICAgICAgaWYgKG0uYWNjb3VudC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgdmFyIGFjY291bnQgPSBtLmFjY291bnQ7CgogICAgICAgICAgICAgICAgaWYgKGFjY291bnQpIHsKICAgICAgICAgICAgICAgICAgaWYgKGFjY291bnQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczEwLmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICBpZDogYWNjb3VudC5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICAgIC8vIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHt9KSwKICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAiT3RoZXIgQ2hhcmdlIiwKICAgICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGFjY291bnQuaWQsCiAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogb3RoZXJDaGFyZ2UgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTAuaW52b2ljZS50eG5SYXRlKSAqIC0xLAogICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBvdGhlckNoYXJnZSAqIC0xLAogICAgICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICAgICAgdHlwZUFzOiAib3RoZXJDaGFyZ2UiCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsgLy8gdGhpcy5pbnZvaWNlLm90aGVyQ2hhcmdlQW1vdW50ID0gb3RoZXJDaGFyZ2UKCiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMubU90aGVyQ2hhcmdlKTsKICAgICAgfQoKICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlVGF4RGV0YWlsKCk7IC8vIHRvZG86IGVuZCByYXcgSm91cm5hbAogICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkodGhpcy5hY2NvdW50cyksICdhY2NvdW50cycpCgogICAgICB0aGlzLnNocmlua0RhdGEodGhpcy5qUmF3KTsgLy8gY29uc3QgdW5pcXVlID0gdGhpcy5yZW1vdmVEdXBsaWNhdGUodGhpcy5hY2NvdW50cykKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKHVuaXF1ZSwgJ3VuaXF1ZScpCiAgICB9LAogICAgc2hyaW5rRGF0YTogZnVuY3Rpb24gc2hyaW5rRGF0YShvYmopIHsKICAgICAgdmFyIHVuaXF1ZXMgPSB0aGlzLnJlbW92ZUR1cGxpY2F0ZShvYmopOwogICAgICAvKlsuLi5uZXcgU2V0KGFjY291bnRJZC5tYXAoaSA9PiB7CiAgICAgICByZXR1cm4gewogICAgICAgICAgIGlkXzogaS5pZF8sCiAgICAgICAgICAgaWQ6IGkuaWQsCiAgICAgICAgICAgdHlwZTogaS50eXBlCiAgICAgICB9CiAgICAgIH0pKV0qLwoKICAgICAgLyogdG9kbzogY2FzaCBiYXNpYyBhY2NvdW50ICovCgogICAgICB2YXIgY2FzaEJhc2ljQW1vdW50ID0gMDsKICAgICAgdmFyIHhDYXNoQmFzaWNBbW91bnQgPSAwOwogICAgICB0aGlzLmludm9pY2UuY2FzaEJhc2ljSW5jb21lQWNjID0gW107CiAgICAgIHZhciBjYXNoQmFzaWNBY2MgPSB1bmlxdWVzLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgIHJldHVybiBtLmNhc2hCYXNpYyA9PT0gMTsKICAgICAgfSk7CiAgICAgIGNhc2hCYXNpY0FjYy5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7CiAgICAgICAgY2FzaEJhc2ljQW1vdW50ICs9IGsuYW1vdW50OwogICAgICAgIHhDYXNoQmFzaWNBbW91bnQgKz0gay5leGNoYW5nZUFtb3VudDsKICAgICAgfSk7CiAgICAgIGNhc2hCYXNpY0FjYy5tYXAoZnVuY3Rpb24gKG8pIHsKICAgICAgICBvWydhbW91bnRQZXJjZW50YWdlJ10gPSBvLmFtb3VudCAvIGNhc2hCYXNpY0Ftb3VudDsKICAgICAgICBvWyd4QW1vdW50UGVyY2VudGFnZSddID0gby5leGNoYW5nZUFtb3VudCAvIHhDYXNoQmFzaWNBbW91bnQ7CiAgICAgIH0pOwogICAgICB0aGlzLmludm9pY2UuY2FzaEJhc2ljSW5jb21lQWNjID0gY2FzaEJhc2ljQWNjOwogICAgICAvKiB0b2RvOiBlbmQgKi8KCiAgICAgIHVuaXF1ZXMuZm9yRWFjaChmdW5jdGlvbiAobikgewogICAgICAgIHZhciBmb3VuZCA9IG9iai5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgIHJldHVybiBtLmlkID09PSBuLmlkOwogICAgICAgIH0pOwogICAgICAgIHZhciBhbW91bnQgPSAwLAogICAgICAgICAgICB4QW1vdW50ID0gMDsKICAgICAgICBmb3VuZC5mb3JFYWNoKGZ1bmN0aW9uICh6KSB7CiAgICAgICAgICBhbW91bnQgKz0gcGFyc2VGbG9hdCh6LmFtb3VudCB8fCAwKTsKICAgICAgICAgIHhBbW91bnQgKz0gcGFyc2VGbG9hdCh6LmV4Y2hhbmdlQW1vdW50IHx8IDApOwogICAgICAgIH0pOwogICAgICAgIG4uYW1vdW50ID0gcGFyc2VGbG9hdChhbW91bnQpOyAvL3RoaXMubnVtYmVyRm9ybWF0KGFtb3VudCkKCiAgICAgICAgbi5leGNoYW5nZUFtb3VudCA9IHBhcnNlRmxvYXQoeEFtb3VudCk7IC8vcGFyc2VGbG9hdChwYXJzZUZsb2F0KGFtb3VudCAqIHBhcnNlRmxvYXQodGhpcy5pbnZvaWNlLnR4blJhdGUpKSkgLy90aGlzLm51bWJlckZvcm1hdChhbW91bnQgKiBwYXJzZUZsb2F0KHRoaXMuaW52b2ljZS50eG5SYXRlKSkgLy8udG9GaXhlZCh0aGlzLnNhbGVGb3JtQ29udGVudC5kZWNpbWFsKQogICAgICB9KTsKICAgICAgdGhpcy5qUmF3ID0gdW5pcXVlczsKICAgICAgdmFyIGRyID0gMCwKICAgICAgICAgIGNyID0gMDsKICAgICAgdGhpcy5qUmF3LmZvckVhY2goZnVuY3Rpb24gKGopIHsKICAgICAgICBzd2l0Y2ggKGoudHlwZSkgewogICAgICAgICAgY2FzZSAiY3IiOgogICAgICAgICAgICBjciArPSBwYXJzZUZsb2F0KGouYW1vdW50KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAiZHIiOgogICAgICAgICAgICBkciArPSBwYXJzZUZsb2F0KGouYW1vdW50KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5pbnZvaWNlLmRyID0gZHI7CiAgICAgIHRoaXMuaW52b2ljZS5jciA9IGNyOwogICAgICB3aW5kb3cuY29uc29sZS5sb2coImRyPSIsIGRyLCAiY3I9IiwgY3IsICJkcitjciA9ICIsIGRyICsgY3IpOwogICAgICB3aW5kb3cuY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkodW5pcXVlcyksICJ1bmlxdWVzIik7CiAgICB9LAogICAgcmF3Rm9ySm91cm5hbDogZnVuY3Rpb24gcmF3Rm9ySm91cm5hbCgpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgLy90b2RvOiBEUiBzaWRlIGFjY291bnQgcmVjZWl2YWJsZQogICAgICB2YXIgaXRlbUxpbmVEUyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwogICAgICB2YXIgZGF0YVJvdyA9IGl0ZW1MaW5lRFMuZGF0YSgpOwogICAgICB0aGlzLmpSYXcgPSBbXTsgLy8gd2luZG93LmNvbnNvbGUubG9nKGRhdGFSb3csICdkYXRhUm93JykKCiAgICAgIGRhdGFSb3cuZm9yRWFjaChmdW5jdGlvbiAobykgewogICAgICAgIHZhciBpdGVtID0gby5pdGVtOwogICAgICAgIHZhciBkaXNjb3VudEl0ZW0gPSBvLmRpc2NvdW50SXRlbTsKICAgICAgICB2YXIgdmF0VGF4ID0gby52YXRUYXg7CiAgICAgICAgdmFyIHNwZWNpZmljVGF4ID0gby5zcGVjaWZpY1RheDsKICAgICAgICB2YXIgUExUYXggPSBvLnB1YmxpY0xpZ2h0aW5nVGF4OwogICAgICAgIHZhciBvdGhlclRheCA9IG8ub3RoZXJUYXg7CgogICAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAiU2VydmljZSIpIHsKICAgICAgICAgICAgdmFyIGluY29tZUFjYyA9IGl0ZW0uaW5jb21lQWNjOwoKICAgICAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoImluY29tZUFjYyIpKSB7CiAgICAgICAgICAgICAgX3RoaXMxMS5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICAgICAgICAgIGxpbmU6IG8sCiAgICAgICAgICAgICAgICBhY2NvdW50OiBpbmNvbWVBY2MsCiAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGluY29tZUFjYy5pZCwKICAgICAgICAgICAgICAgIHR5cGU6ICJjciIsCiAgICAgICAgICAgICAgICB0eXBlQXM6ICJpdGVtIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgiZGVmZXJyZWRJbmNvbWVBY2MiKSkgewogICAgICAgICAgICAgIHZhciBkZWZlcnJlZEluQWNjID0gaXRlbS5kZWZlcnJlZEluY29tZUFjYzsKCiAgICAgICAgICAgICAgX3RoaXMxMS5qUmF3LnB1c2goewogICAgICAgICAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICAgICAgICAgIGxpbmU6IG8sCiAgICAgICAgICAgICAgICBhY2NvdW50OiBkZWZlcnJlZEluQWNjLAogICAgICAgICAgICAgICAgYWNjb3VudElkOiBkZWZlcnJlZEluQWNjLmlkLAogICAgICAgICAgICAgICAgdHlwZTogImNyIiwKICAgICAgICAgICAgICAgIHR5cGVBczogIml0ZW0iCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAiVmFyaWFudCIpIHsKICAgICAgICAgICAgX3RoaXMxMS5qUmF3LnB1c2goewogICAgICAgICAgICAgIGl0ZW06IGl0ZW0sCiAgICAgICAgICAgICAgbGluZTogbywKICAgICAgICAgICAgICBhY2NvdW50OiBpdGVtLmluY29tZUFjYywKICAgICAgICAgICAgICBhY2NvdW50SWQ6IGl0ZW0uaW5jb21lQWNjLmlkLAogICAgICAgICAgICAgIHR5cGU6ICJjciIsCiAgICAgICAgICAgICAgdHlwZUFzOiAiaXRlbSIKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczExLmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICAgICAgICBsaW5lOiBvLAogICAgICAgICAgICAgIGFjY291bnQ6IGl0ZW0uaW52ZW50b3J5QWNjLAogICAgICAgICAgICAgIGFjY291bnRJZDogaXRlbS5pbnZlbnRvcnlBY2MuaWQsCiAgICAgICAgICAgICAgdHlwZTogImNyIiwKICAgICAgICAgICAgICB0eXBlQXM6ICJpdGVtIgogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMTEualJhdy5wdXNoKHsKICAgICAgICAgICAgICBpdGVtOiBpdGVtLAogICAgICAgICAgICAgIGxpbmU6IG8sCiAgICAgICAgICAgICAgYWNjb3VudDogaXRlbS5jb3N0T2ZHb29kc1NvbGRBY2MsCiAgICAgICAgICAgICAgYWNjb3VudElkOiBpdGVtLmNvc3RPZkdvb2RzU29sZEFjYy5pZCwKICAgICAgICAgICAgICB0eXBlOiAiZHIiLAogICAgICAgICAgICAgIHR5cGVBczogIml0ZW0iCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICJGaXhlZCBBc3NldCIpIHsKICAgICAgICAgICAgX3RoaXMxMS5qUmF3LnB1c2goewogICAgICAgICAgICAgIGl0ZW06IGl0ZW0sCiAgICAgICAgICAgICAgbGluZTogbywKICAgICAgICAgICAgICBhY2NvdW50OiBpdGVtLmFzc2V0QWNjLAogICAgICAgICAgICAgIGFjY291bnRJZDogaXRlbS5hc3NldEFjYy5pZCwKICAgICAgICAgICAgICB0eXBlOiAiY3IiLAogICAgICAgICAgICAgIHR5cGVBczogIml0ZW0iCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICJUcmFuc2FjdGlvbiBJdGVtIikgewogICAgICAgICAgICBfdGhpczExLmpSYXcucHVzaCh7CiAgICAgICAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICAgICAgICBsaW5lOiBvLAogICAgICAgICAgICAgIGFjY291bnQ6IGl0ZW0uYWNjb3VudCwKICAgICAgICAgICAgICBhY2NvdW50SWQ6IGl0ZW0uYWNjb3VudC5pZCwKICAgICAgICAgICAgICB0eXBlOiAiY3IiLAogICAgICAgICAgICAgIHR5cGVBczogIml0ZW0iCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICJGaXhlZCBBc3NldCIpIHsKICAgICAgICAgICAgX3RoaXMxMS5qUmF3LnB1c2goewogICAgICAgICAgICAgIGl0ZW06IGl0ZW0sCiAgICAgICAgICAgICAgbGluZTogbywKICAgICAgICAgICAgICBhY2NvdW50OiBpdGVtLmFjY291bnQsCiAgICAgICAgICAgICAgYWNjb3VudElkOiBpdGVtLmFjY291bnQuaWQsCiAgICAgICAgICAgICAgdHlwZTogImNyIiwKICAgICAgICAgICAgICB0eXBlQXM6ICJpdGVtIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChkaXNjb3VudEl0ZW0uYWNjb3VudCkgewogICAgICAgICAgX3RoaXMxMS5qUmF3LnB1c2goewogICAgICAgICAgICBpdGVtOiBpdGVtLAogICAgICAgICAgICBsaW5lOiBvLAogICAgICAgICAgICBhY2NvdW50OiBkaXNjb3VudEl0ZW0uYWNjb3VudCwKICAgICAgICAgICAgYWNjb3VudElkOiBkaXNjb3VudEl0ZW0uYWNjb3VudC5pZCwKICAgICAgICAgICAgdHlwZTogImRyIiwKICAgICAgICAgICAgdHlwZUFzOiAiZGlzY291bnQiCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGlmICh2YXRUYXguYWNjb3VudCkgewogICAgICAgICAgX3RoaXMxMS5qUmF3LnB1c2goewogICAgICAgICAgICBpdGVtOiBpdGVtLAogICAgICAgICAgICBsaW5lOiBvLAogICAgICAgICAgICBhY2NvdW50OiB2YXRUYXguYWNjb3VudCwKICAgICAgICAgICAgYWNjb3VudElkOiB2YXRUYXguYWNjb3VudC5pZCwKICAgICAgICAgICAgdHlwZTogImNyIiwKICAgICAgICAgICAgdHlwZUFzOiAidGF4IgogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoc3BlY2lmaWNUYXguYWNjb3VudCkgewogICAgICAgICAgX3RoaXMxMS5qUmF3LnB1c2goewogICAgICAgICAgICBpdGVtOiBpdGVtLAogICAgICAgICAgICBsaW5lOiBvLAogICAgICAgICAgICBhY2NvdW50OiBzcGVjaWZpY1RheC5hY2NvdW50LAogICAgICAgICAgICBhY2NvdW50SWQ6IHNwZWNpZmljVGF4LmFjY291bnQuaWQsCiAgICAgICAgICAgIHR5cGU6ICJjciIsCiAgICAgICAgICAgIHR5cGVBczogInRheCIKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKFBMVGF4LmFjY291bnQpIHsKICAgICAgICAgIF90aGlzMTEualJhdy5wdXNoKHsKICAgICAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICAgICAgbGluZTogbywKICAgICAgICAgICAgYWNjb3VudDogUExUYXguYWNjb3VudCwKICAgICAgICAgICAgYWNjb3VudElkOiBQTFRheC5hY2NvdW50LmlkLAogICAgICAgICAgICB0eXBlOiAiY3IiLAogICAgICAgICAgICB0eXBlQXM6ICJ0YXgiCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGlmIChvdGhlclRheC5hY2NvdW50KSB7CiAgICAgICAgICBfdGhpczExLmpSYXcucHVzaCh7CiAgICAgICAgICAgIGl0ZW06IGl0ZW0sCiAgICAgICAgICAgIGxpbmU6IG8sCiAgICAgICAgICAgIGFjY291bnQ6IG90aGVyVGF4LmFjY291bnQsCiAgICAgICAgICAgIGFjY291bnRJZDogb3RoZXJUYXguYWNjb3VudC5pZCwKICAgICAgICAgICAgdHlwZTogImNyIiwKICAgICAgICAgICAgdHlwZUFzOiAidGF4IgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmFyIHJlY2VpdmFibGVBY2MgPSB0aGlzLmludm9pY2UucmVjZWl2YWJsZUFjYyB8fCB7fTsKCiAgICAgIGlmIChyZWNlaXZhYmxlQWNjKSB7CiAgICAgICAgdGhpcy5qUmF3LnB1c2goewogICAgICAgICAgaXRlbToge30sCiAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh7fSksCiAgICAgICAgICBhY2NvdW50OiByZWNlaXZhYmxlQWNjLAogICAgICAgICAgYWNjb3VudElkOiByZWNlaXZhYmxlQWNjLmlkLAogICAgICAgICAgdHlwZTogImRyIgogICAgICAgIH0pOwogICAgICB9CgogICAgICB2YXIgc3BlY2lmaWNEaXNjID0gdGhpcy5pbnZvaWNlLnNwZWNpZmljRGlzY291bnRJdGVtOwoKICAgICAgaWYgKHNwZWNpZmljRGlzYy5oYXNPd25Qcm9wZXJ0eSgiYWNjb3VudCIpKSB7CiAgICAgICAgaWYgKHNwZWNpZmljRGlzYy5hY2NvdW50Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICB0aGlzLmpSYXcucHVzaCh7CiAgICAgICAgICAgIGl0ZW06IHt9LAogICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh7fSksCiAgICAgICAgICAgIGFjY291bnQ6IHNwZWNpZmljRGlzYy5hY2NvdW50IHx8IHt9LAogICAgICAgICAgICBhY2NvdW50SWQ6IHNwZWNpZmljRGlzYy5hY2NvdW50LmlkLAogICAgICAgICAgICB0eXBlOiAiZHIiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBzYWxlRGVwb3NpdEFjYyA9IHRoaXMuY3VzdG9tZXIuc2FsZURlcG9zaXRBY2MgfHwge307CgogICAgICBpZiAoc2FsZURlcG9zaXRBY2MuaGFzT3duUHJvcGVydHkoImFjY291bnQiKSkgewogICAgICAgIGlmIChzYWxlRGVwb3NpdEFjYy5hY2NvdW50Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICB0aGlzLmpSYXcucHVzaCh7CiAgICAgICAgICAgIGl0ZW06IHt9LAogICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh7fSksCiAgICAgICAgICAgIGFjY291bnQ6IHNhbGVEZXBvc2l0QWNjLmFjY291bnQsCiAgICAgICAgICAgIGFjY291bnRJZDogc2FsZURlcG9zaXRBY2MuYWNjb3VudC5pZCwKICAgICAgICAgICAgdHlwZTogImRyIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB3aW5kb3cuY29uc29sZS5sb2coc2FsZURlcG9zaXRBY2MpOwoKICAgICAgaWYgKHRoaXMubU90aGVyQ2hhcmdlLmxlbmd0aCA+IDApIHsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2codGhpcy5tT3RoZXJDaGFyZ2UpOwogICAgICB9CgogICAgICB3aW5kb3cuY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkodGhpcy5qUmF3KSwgImFjY291bnRzIik7IC8vIHRvZG86IGNhbGN1bGF0ZSBBbW91bnQKICAgIH0sCiAgICByZW1vdmVEdXBsaWNhdGU6IGZ1bmN0aW9uIHJlbW92ZUR1cGxpY2F0ZShhcnJheSkgewogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgIHZhciBtYXAgPSBuZXcgTWFwKCk7CgogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYXJyYXkpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgIGlmICghbWFwLmhhcyhpdGVtLmlkKSkgewogICAgICAgICAgICBtYXAuc2V0KGl0ZW0uaWQsIHRydWUpOyAvLyBzZXQgYW55IHZhbHVlIHRvIE1hcAoKICAgICAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgbnVtYmVyRm9ybWF0OiBmdW5jdGlvbiBudW1iZXJGb3JtYXQodmFsdWUpIHsKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwsJ25pbW9sJykKICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKHZhbHVlLCAibiIuY29uY2F0KHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwpKTsKICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlRGlzY291bnQ6IGZ1bmN0aW9uIGF1dG9DYWxjdWxhdGVEaXNjb3VudChkaXNjb3VudEl0ZW0sIHN1YlRvdGFsKSB7CiAgICAgIGlmIChkaXNjb3VudEl0ZW0pIHsKICAgICAgICB2YXIgbmF0dXJlID0gZGlzY291bnRJdGVtLm5hdHVyZSB8fCAnJzsKICAgICAgICB2YXIgYW1vdW50ID0gZGlzY291bnRJdGVtLmFtb3VudCB8fCAwOwoKICAgICAgICBpZiAobmF0dXJlID09PSAnQW1vdW50JykgewogICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB9IGVsc2UgaWYgKG5hdHVyZSA9PT0gJ1BlcmNlbnRhZ2UnKSB7CiAgICAgICAgICByZXR1cm4gc3ViVG90YWwgKiAocGFyc2VGbG9hdChhbW91bnQpIC8gMTAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICB9LAogICAgYXV0b0NhbGN1bGF0ZVRheDogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZVRheCh0YXgsIGFtb3VudCkgewogICAgICBpZiAodGF4KSB7CiAgICAgICAgdmFyIGZvcm11bGEgPSB0YXguZm9ybXVsYTsKICAgICAgICB2YXIgaW5BbXQgPSBrZW5kby5wYXJzZUZsb2F0KGFtb3VudCk7CiAgICAgICAgdmFyIG5BbXQgPSBrZW5kby5wYXJzZUZsb2F0KGFtb3VudCk7CiAgICAgICAgdmFyIHRheEJhc2UgPSBrZW5kby5wYXJzZUZsb2F0KHRheC50YXhCYXNlKSAvIDEwMDsKICAgICAgICB2YXIgcmF0ZSA9IGtlbmRvLnBhcnNlRmxvYXQodGF4LnJhdGUpIC8gMTAwOwogICAgICAgIHZhciB0b3RhbCA9IGV2YWwoZm9ybXVsYSk7CiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGluQW10LCBuQW10LCB0YXhCYXNlLCByYXRlLCBmb3JtdWxhLCB0b3RhbCk7CiAgICAgICAgcmV0dXJuIHRvdGFsOwogICAgICB9IC8vIHJldHVybiAwCgogICAgfSwKICAgIHRheE1hcHBpbmc6IGZ1bmN0aW9uIHRheE1hcHBpbmcob2JqVGF4LCB0YXgpIHsKICAgICAgdmFyIHRheElkID0gdGF4LmlkIHx8ICcnOwogICAgICB2YXIgdGF4XyA9IG9ialRheC5maWx0ZXIoZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gdC5pZCA9PT0gdGF4SWQ7CiAgICAgIH0pWzBdOwogICAgICByZXR1cm4gdGF4XyB8fCB7CiAgICAgICAgaWQ6ICcnLAogICAgICAgIGRlZmF1bHRUYXg6ICcnCiAgICAgIH07CiAgICB9LAogICAgZGF0YVNvdXJjZUNoYW5nZWQ6IGZ1bmN0aW9uIGRhdGFTb3VyY2VDaGFuZ2VkKGUpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIGRhdGFSb3csIGl0ZW0sIGJ1b20sIHZUYXgsIHNwVGF4LCBvdFRheCwgcGxUYXgsIGNvbnZlcnNpb25SYXRlLCB3YWMsIHFvaCwgYW1vdW50LCB4QW1vdW50OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIWUuZmllbGQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGF0YVJvdyA9IGUuaXRlbXNbMF0sIGl0ZW0gPSB7fSwgYnVvbSA9IHt9LCB2VGF4ID0ge30sIHNwVGF4ID0ge30sIG90VGF4ID0ge30sIHBsVGF4ID0ge30sIGNvbnZlcnNpb25SYXRlID0gMSwgd2FjID0gMCwgcW9oID0gMCwgYW1vdW50ID0gMCwgeEFtb3VudCA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDcudDAgPSBlLmZpZWxkOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSBfY29udGV4dDcudDAgPT09ICJpdGVtIiA/IDUgOiBfY29udGV4dDcudDAgPT09ICJwcmljZSIgPyAxMCA6IF9jb250ZXh0Ny50MCA9PT0gInVvbSIgPyAxMiA6IF9jb250ZXh0Ny50MCA9PT0gInF0eSIgPyAxNCA6IF9jb250ZXh0Ny50MCA9PT0gIm90aGVyVGF4IiA/IDE2IDogMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgLy8gdGhpcy5hdHRyaWJ1dGVfID0gdGhpcy5hdHRyaWJ1dGVzLmZpbHRlcihtID0+IG0udHlwZS5pZCA9PT0gZGF0YVJvdy52YXJpYW50LmlkKQogICAgICAgICAgICAgICAgaXRlbSA9IGRhdGFSb3cuaXRlbSB8fCB7fTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJkZXNjcmlwdGlvbiIsIGl0ZW0uZGVzY3JpcHRpb24gfHwgJycpOwogICAgICAgICAgICAgICAgYnVvbSA9IGl0ZW0udW9tIHx8IHt9OwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImJ1b20iLCBidW9tKTsgLy8gZGF0YVJvdy5zZXQoJ3VvbScsIGJ1b20pCiAgICAgICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coZGF0YVJvdy5pdGVtLCdyb3cnKQogICAgICAgICAgICAgICAgLy8gYXdhaXQgdGhpcy5pbnZlbnRvcnlCYWxhbmNlKGRhdGFSb3csIGRhdGFSb3cuaXRlbS5pZCkKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgiYnJlYWsiLCAxOCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICBhbW91bnQgPSBwYXJzZUZsb2F0KGRhdGFSb3cucHJpY2UpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSk7CiAgICAgICAgICAgICAgICAgIHhBbW91bnQgPSBhbW91bnQgKiBwYXJzZUZsb2F0KF90aGlzMTIuaW52b2ljZS50eG5SYXRlKTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInByaWNlIiwgcGFyc2VGbG9hdChkYXRhUm93LnByaWNlKSk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBhbW91bnQpOwogICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZXhjaGFuZ2VBbW91bnQiLCB4QW1vdW50KTsgLy8gd2luZG93LmNvbnNvbGUubG9nKCdwcmljZScsZGF0YVJvdy5wcmljZSkKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKF91bnVzZWQpIHsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInByaWNlIiwgMCk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCAwKTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlQW1vdW50IiwgMCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoImJyZWFrIiwgMTgpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTIuaXNQcmljZUxldmVsQ2hhbmdlZCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBidW9tID0gZGF0YVJvdy51b20uYnVvbSB8fCB7fTsKICAgICAgICAgICAgICAgICAgICBxb2ggPSBkYXRhUm93LnVvbS5xb2ggfHwgMDsKICAgICAgICAgICAgICAgICAgICBjb252ZXJzaW9uUmF0ZSA9IGRhdGFSb3cudW9tLmNvbnZlcnNpb25SYXRlIHx8IDE7CiAgICAgICAgICAgICAgICAgICAgd2FjID0gZGF0YVJvdy51b20ud2FjIHx8IDA7CiAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImJ1b20iLCBidW9tKTsKICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgid2FjIiwgd2FjKTsKICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgicW9oIiwgcW9oKTsKICAgICAgICAgICAgICAgICAgICAvKiB0b2RvOiBtYXBwaW5nIHRheCBvYmplY3QgKi8KCiAgICAgICAgICAgICAgICAgICAgdlRheCA9IF90aGlzMTIudGF4TWFwcGluZyhfdGhpczEyLnZhdFRheCwgZGF0YVJvdy51b20udmF0VGF4IHx8IHt9KTsKICAgICAgICAgICAgICAgICAgICBvdFRheCA9IF90aGlzMTIudGF4TWFwcGluZyhfdGhpczEyLm90aGVyVGF4LCBkYXRhUm93LnVvbS5vdGhlclRheCB8fCB7fSk7CiAgICAgICAgICAgICAgICAgICAgc3BUYXggPSBfdGhpczEyLnRheE1hcHBpbmcoX3RoaXMxMi5zcGVjaWZpY1RheCwgZGF0YVJvdy51b20uc3BlY2lmaWNUYXggfHwge30pOwogICAgICAgICAgICAgICAgICAgIHBsVGF4ID0gX3RoaXMxMi50YXhNYXBwaW5nKF90aGlzMTIucHVibGljTGlnaHRpbmdUYXgsIGRhdGFSb3cudW9tLnB1YmxpY0xpZ2h0aW5nVGF4IHx8IHt9KTsKICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgidmF0VGF4IiwgdlRheCk7CiAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInNwZWNpZmljVGF4Iiwgc3BUYXgpOwogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJvdGhlclRheCIsIG90VGF4KTsKICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgicHVibGljTGlnaHRpbmdUYXgiLCBwbFRheCk7CiAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvbnZlcnNpb25SYXRlIiwgcGFyc2VGbG9hdChjb252ZXJzaW9uUmF0ZSkpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVJvdy51b20pIHsKICAgICAgICAgICAgICAgICAgICAgIGFtb3VudCA9IHBhcnNlRmxvYXQoZGF0YVJvdy51b20ucHJpY2UpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSk7CiAgICAgICAgICAgICAgICAgICAgICB4QW1vdW50ID0gYW1vdW50ICogcGFyc2VGbG9hdChfdGhpczEyLmludm9pY2UudHhuUmF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgicHJpY2UiLCBwYXJzZUZsb2F0KGRhdGFSb3cudW9tLnByaWNlKSk7CiAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgYW1vdW50KTsKICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIHhBbW91bnQpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBhbW91bnQgPSBwYXJzZUZsb2F0KGRhdGFSb3cucHJpY2UpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSk7CiAgICAgICAgICAgICAgICAgICAgICB4QW1vdW50ID0gYW1vdW50ICogcGFyc2VGbG9hdChfdGhpczEyLmludm9pY2UudHhuUmF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgicHJpY2UiLCBwYXJzZUZsb2F0KGRhdGFSb3cucHJpY2UpKTsKICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBhbW91bnQpOwogICAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlQW1vdW50IiwgeEFtb3VudCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coImVycm9yIiwgZXJyKTsKICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYnVvbSIsIHt9KTsKICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29udmVyc2lvblJhdGUiLCAxKTsKICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgicHJpY2UiLCAwKTsKICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgicW9oIiwgMCk7CiAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoIndhYyIsIDApOwogICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCAwKTsKICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZXhjaGFuZ2VBbW91bnQiLCAwKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJicmVhayIsIDE4KTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIGFtb3VudCA9IHBhcnNlRmxvYXQoZGF0YVJvdy5wcmljZSkgKiBwYXJzZUZsb2F0KGRhdGFSb3cucXR5KTsKICAgICAgICAgICAgICAgICAgeEFtb3VudCA9IGFtb3VudCAqIHBhcnNlRmxvYXQoX3RoaXMxMi5pbnZvaWNlLnR4blJhdGUpOwogICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgicHJpY2UiLCBwYXJzZUZsb2F0KGRhdGFSb3cucHJpY2UpKTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIGFtb3VudCk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIHhBbW91bnQpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoX3VudXNlZDIpIHsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInByaWNlIiwgMCk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCAwKTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlQW1vdW50IiwgMCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoImJyZWFrIiwgMTgpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoImJyZWFrIiwgMTgpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoImJyZWFrIiwgMTgpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgaWYgKGUuZmllbGQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMi5hdXRvQ2FsY3VsYXRlKCk7IC8vIHRoaXMucmF3Rm9ySm91cm5hbCgpCgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaW52ZW50b3J5QmFsYW5jZTogZnVuY3Rpb24gaW52ZW50b3J5QmFsYW5jZShkYXRhUm93LCBpdGVtSWQpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9IF90aGlzMTMuaW52b2ljZS50cmFuc2FjdGlvbkRhdGU7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9ICI/YXNPZj0iICsgc3RhcnREYXRlICsgIiZpZD0iICsgaXRlbUlkOwogICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLmludmVudG9yeUJhbGFuY2Uoc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJhbGFuY2UgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJhbGFuY2UubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjb3N0IiwgYmFsYW5jZVswXS53YWMpOwogICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJxb2giLCBiYWxhbmNlWzBdLnFvaCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIHBhcnNlRmxvYXQoYmFsYW5jZVswXS53YWMpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSkpOyAvLyBkYXRhUm93LnNldCgndW9tJywgYmFsYW5jZVswXS5idW9tKQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjb3N0IiwgMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygiYmFsYW5jZSIsIHJlcy5kYXRhLmRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFNlcnZpY2VEYXRlRWRpdG9yOiBmdW5jdGlvbiBTZXJ2aWNlRGF0ZUVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgcmVxdWlyZWQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0RhdGVQaWNrZXIoKTsgLy8gbGV0IGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCkKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKGRzLmRhdGEoKSkKICAgICAgLy8gLy8gY29uc3QgZGF0ZVN0cmluZyA9IGtlbmRvLnRvU3RyaW5nKChuZXcgRGF0ZShvcHRpb25zLm1vZGVsLml0ZW1zLnNlcnZpY2VEYXRlKSksIHRoaXMuaXRlbUxpbmUuZGF0ZUZvcm1hdCkKICAgICAgLy8gLy8gY29uc3QgZGF0ZVN0cmluZyA9IGtlbmRvLnRvU3RyaW5nKG9wdGlvbnMubW9kZWwuaXRlbXMuc2VydmljZURhdGUpCiAgICAgIC8vIGNvbnN0ICRpbnB1dCA9ICQoIjxpbnB1dCB2YWx1ZT0iICsgb3B0aW9ucy5tb2RlbC5zZXJ2aWNlRGF0ZSArICIgLz4iKS5hcHBlbmRUbyhjb250YWluZXIpCiAgICAgIC8vICRpbnB1dC5rZW5kb0RhdGVQaWNrZXIoKQogICAgICAvLyAvLyAkaW5wdXQuYXBwZW5kVG8oY29udGFpbmVyKQogICAgICAvLyAvLyBvcHRpb25zLm1vZGVsLml0ZW1zLnNlcnZpY2VEYXRlID0gZGF0ZVN0cmluZwogICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coJGlucHV0KQogICAgfSwKICAgIFNlcnZpY2VEYXRlVG9FZGl0b3I6IGZ1bmN0aW9uIFNlcnZpY2VEYXRlVG9FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IHJlcXVpcmVkIG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9EYXRlUGlja2VyKCk7CiAgICB9LAogICAgSXRlbURyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBJdGVtRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJjb250YWlucyIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGhlYWRlclRlbXBsYXRlOiAnPGRpdiBjbGFzcz0iZHJvcGRvd24taGVhZGVyIGstd2lkZ2V0IGstaGVhZGVyIj4nICsgIjxzcGFuPkl0ZW1zIDwvc3Bhbj4iICsgIjxzcGFuPjwvc3Bhbj4iICsgIjwvZGl2PiIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogcHJvZHVjdFZhcmlhbnRIYW5kbGVyLml0ZW1TZWFyY2hVUkwoJz9wbElkPScgKyB0aGlzLmludm9pY2UucHJpY2VMZXZlbC5pZCArICcmcmVVc2VkPTEnKQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhVHlwZTogImpzb24iCiAgICAgICAgICB9LAogICAgICAgICAgc2NoZW1hOiB7CiAgICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgICAgaWQ6ICJpZCIsCiAgICAgICAgICAgICAgZmllbGRzOiB7CiAgICAgICAgICAgICAgICBpZDogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBza3U6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG90YWw6IGZ1bmN0aW9uIHRvdGFsKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy8gZGF0YTogdGhpcy52YXJpYW50cwoKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBVT01Ecm9wRG93bkVkaXRvcjogZnVuY3Rpb24gVU9NRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAiY29kZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJ1b21Db252ZXJ0SWQiLAogICAgICAgIGNhc2NhZGVGcm9tOiAiaXRlbSIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPSBjb2RlIHx8IGBObyBQcmljZSBMZXZlbGAjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogdW9tUHJpY2VIYW5kbGVyLnVvbVByaWNlQnlQcmljZUxldmVsVVJMKCJpZD0iICsgb3B0aW9ucy5tb2RlbC5pdGVtLmlkICsgIiZwbElkPSIgKyB0aGlzLmludm9pY2UucHJpY2VMZXZlbC5pZCArICImZGF0ZT0iICsgdGhpcy5pbnZvaWNlLnRyYW5zYWN0aW9uRGF0ZSkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIgogICAgICAgICAgfSwKICAgICAgICAgIHNjaGVtYTogewogICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgICAgIGZpZWxkczogewogICAgICAgICAgICAgICAgaWQ6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0gLy8gbmFtZToge3R5cGU6ICJzdHJpbmcifSwKICAgICAgICAgICAgICAgIC8vIHNrdToge3R5cGU6ICJzdHJpbmcifSwKCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIGRhdGE6IHRoaXMudmFyaWFudHMKCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgRGlzY291bnRJdGVtRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIERpc2NvdW50SXRlbURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGNhc2NhZGVGcm9tOiAiaXRlbSIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWNvZGUjIC0gIz1uYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgc2VydmVyRmlsdGVyaW5nOiB0cnVlLAogICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICB1cmw6IGRpc2NvdW50SXRlbUhhbmRsZXIuZ2V0VVJMKERJU0NPVU5UX1RZUEUpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9IC8vIG5hbWU6IHt0eXBlOiAic3RyaW5nIn0sCiAgICAgICAgICAgICAgICAvLyBza3U6IHt0eXBlOiAic3RyaW5nIn0sCgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFNwZWNpZmljVGF4RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIFNwZWNpZmljVGF4RHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAiZGVmYXVsdFRheCIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWRlZmF1bHRUYXggfHwgYGAjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLnNwZWNpZmljVGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICBpZiAob3B0aW9ucy5tb2RlbC5oYXNPd25Qcm9wZXJ0eSgidmF0VGF4IikpIHsKICAgICAgICAgICAgICB2YXIgdmF0ID0gb3B0aW9ucy5tb2RlbC52YXRUYXggfHwge307CgogICAgICAgICAgICAgIGlmICh2YXQpIHsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gbnVsbCB8fCBvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gIm51bGwiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSBvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFB1YmxpY0xpZ2h0aW5nVGF4RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIFB1YmxpY0xpZ2h0aW5nVGF4RHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAiZGVmYXVsdFRheCIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWRlZmF1bHRUYXggfHwgYGAjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLnB1YmxpY0xpZ2h0aW5nVGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICBpZiAob3B0aW9ucy5tb2RlbC5oYXNPd25Qcm9wZXJ0eSgidmF0VGF4IikpIHsKICAgICAgICAgICAgICB2YXIgdmF0ID0gb3B0aW9ucy5tb2RlbC52YXRUYXg7CgogICAgICAgICAgICAgIGlmICh2YXQpIHsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gbnVsbCAmJiBvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gIm51bGwiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSBvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIE90aGVyVGF4RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIE90aGVyVGF4RHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAiZGVmYXVsdFRheCIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWRlZmF1bHRUYXggfHwgYGAjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLm90aGVyVGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICBpZiAob3B0aW9ucy5tb2RlbC5oYXNPd25Qcm9wZXJ0eSgidmF0VGF4IikpIHsKICAgICAgICAgICAgICB2YXIgdmF0ID0gb3B0aW9ucy5tb2RlbC52YXRUYXg7CgogICAgICAgICAgICAgIGlmICh2YXQpIHsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gbnVsbCAmJiBvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gIm51bGwiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSBvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFZhdFRheERyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBWYXRUYXhEcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJkZWZhdWx0VGF4IiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9ZGVmYXVsdFRheCB8fCBgYCM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tU2VsZWN0LS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgZGF0YTogdGhpcy52YXRUYXgKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBPdGhlckNoYXJnZURyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBPdGhlckNoYXJnZURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1uYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS1TZWxlY3QtLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLm90aGVyQ2hhcmdlTGlzdAogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFNhbGVVbml0RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIFNhbGVVbml0RHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWNvZGUjIC0gIz1uYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgZGF0YTogdGhpcy5zYWxlVW5pdEl0ZW1MaXN0CiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgTW9kaWZpZXJEcm9wRG93bkVkaXRvcjogZnVuY3Rpb24gTW9kaWZpZXJEcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAgdmFyIGl0ZW0gPSBvcHRpb25zLm1vZGVsLml0ZW0gfHwge307CiAgICAgIHZhciB1b20gPSBpdGVtLnVvbSB8fCB7fTsKICAgICAgdmFyIGl0ZW1JZCA9IGl0ZW0uaWQgfHwgJyc7CiAgICAgIHZhciB1b21JZCA9IHVvbS5pZCB8fCAnJzsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogImNvbnRhaW5zIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgaGVhZGVyVGVtcGxhdGU6ICc8ZGl2IGNsYXNzPSJkcm9wZG93bi1oZWFkZXIgay13aWRnZXQgay1oZWFkZXIiPicgKyAiPHNwYW4+TW9kaWZpZXIgPC9zcGFuPiIgKyAiPHNwYW4+PC9zcGFuPiIgKyAiPC9kaXY+IiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bmFtZSM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIHNlcnZlckZpbHRlcmluZzogdHJ1ZSwKICAgICAgICAgIHRyYW5zcG9ydDogewogICAgICAgICAgICByZWFkOiB7CiAgICAgICAgICAgICAgdXJsOiBpdGVtTW9kaWZpZXJIYW5kbGVyLnNlYXJjaFVSTCgnP3BsSWQ9JyArIHRoaXMuaW52b2ljZS5wcmljZUxldmVsLmlkICsgJyZpZD0nICsgaXRlbUlkICsgJyZ1b21JZD0nICsgdW9tSWQpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbmFtZTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHByaWNlOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJudW1iZXIiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgdW9tOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgRW1wbG95ZWVEcm9wRG93bkVkaXRvcjogZnVuY3Rpb24gRW1wbG95ZWVEcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgZGF0YS1iaW5kPSJ2YWx1ZTonICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvTXVsdGlTZWxlY3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBzdWdnZXN0OiB0cnVlLAogICAgICAgIGZpbHRlcjogImNvbnRhaW5zIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgaGVhZGVyVGVtcGxhdGU6ICc8ZGl2IGNsYXNzPSJkcm9wZG93bi1oZWFkZXIgay13aWRnZXQgay1oZWFkZXIiPicgKyAiPHNwYW4+RW1wbG95ZWUgPC9zcGFuPiIgKyAiPHNwYW4+PC9zcGFuPiIgKyAiPC9kaXY+IiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bmFtZSM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIHNlcnZlckZpbHRlcmluZzogdHJ1ZSwKICAgICAgICAgIHRyYW5zcG9ydDogewogICAgICAgICAgICByZWFkOiB7CiAgICAgICAgICAgICAgdXJsOiBlbXBsb3llZUhhbmRsZXIuc2VhcmNoVVJMKCkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIgogICAgICAgICAgfSwKICAgICAgICAgIHNjaGVtYTogewogICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgICAgIGZpZWxkczogewogICAgICAgICAgICAgICAgaWQ6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBuYW1lOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZmlyc3ROYW1lOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbGFzdE5hbWU6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG90YWw6IGZ1bmN0aW9uIHRvdGFsKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICByb3dOdW1iZXJUbXBsOiBmdW5jdGlvbiByb3dOdW1iZXJUbXBsKGRhdGFJdGVtKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKICAgICAgcmV0dXJuIGluZGV4ICsgMTsKICAgIH0sCiAgICBhZGRSb3c6IGZ1bmN0aW9uIGFkZFJvdygpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICB0b3RhbCA9IGRzLnRvdGFsKCk7CiAgICAgIHRoaXMuaXRlbUxpbmUuaWQgPSBpdGVtTGluZVByZWZpeCArIHV1aWQudjEoKTsKICAgICAgdGhpcy5pdGVtTGluZS5kZWNpbWFsRm9ybWF0ID0gIm4iICsgdGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbDsKICAgICAgdGhpcy5pdGVtTGluZS5pc0VkaXRhYmxlID0gdHJ1ZTsKCiAgICAgIGlmICh0b3RhbCA8IDM2KSB7CiAgICAgICAgZHMuaW5zZXJ0KHRvdGFsLCB0aGlzLml0ZW1MaW5lKTsKICAgICAgfSAvLyB0aGlzLml0ZW1MaW5lcy5wdXNoKHRoaXMuaXRlbUxpbmUpCiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygnaXRlbSBMaW5lJywgdGhpcy5pdGVtTGluZSkKCiAgICB9LAogICAgb25QYXltZW50VGVybUNoYW5nZWQ6IGZ1bmN0aW9uIG9uUGF5bWVudFRlcm1DaGFuZ2VkKCkgewogICAgICAvLyB0aGlzLm9uSW52b2ljZURhdGVDaGFuZ2VkKCk7CiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygndGVybScsIHRoaXMuaW52b2ljZS50cmFuc2FjdGlvbkRhdGUsICctJywgdGhpcy5pbnZvaWNlLnRyYW5zYWN0aW9uRGF0ZSwgJy0tLScsIHRoaXMuaW52b2ljZS5wYXltZW50VGVybSkKICAgICAgaWYgKHRoaXMuY3VzdG9tZXIpIHsKICAgICAgICB2YXIgcGF5bWVudFRlcm0gPSB0aGlzLmludm9pY2UucGF5bWVudFRlcm0gfHwge307CgogICAgICAgIGlmIChwYXltZW50VGVybSkgewogICAgICAgICAgdmFyIG5ldER1ZSA9IHBheW1lbnRUZXJtLm5ldER1ZSB8fCAwOwogICAgICAgICAgdmFyIHNvbWVEYXRlID0gbmV3IERhdGUodGhpcy5pbnZvaWNlLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgICBzb21lRGF0ZS5zZXREYXRlKHNvbWVEYXRlLmdldERhdGUoKSArIHBhcnNlSW50KG5ldER1ZSkpOyAvL251bWJlciAgb2YgZGF5cyB0byBhZGQsIGUueC4gMTUgZGF5cwoKICAgICAgICAgIHRoaXMuaW52b2ljZS5kdWVEYXRlID0gc29tZURhdGUudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG9uSW52b2ljZURhdGVDaGFuZ2VkOiBmdW5jdGlvbiBvbkludm9pY2VEYXRlQ2hhbmdlZCgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgdmFyIHBheW1lbnRUZXJtLCBuZXREdWUsIHNvbWVEYXRlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNC5sb2FkUGF5bWVudFRlcm1MaXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE0LmxvYWRDcmVkaXRMaW1pdCgpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNC5sb2FkQ3VzdG9tZXJCYWxhbmNlKF90aGlzMTQuY3VzdG9tZXIuaWQpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNC5vblByaWNlTGV2ZWxDaGFuZ2UoKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTQuY3VzdG9tZXIpIHsKICAgICAgICAgICAgICAgICAgcGF5bWVudFRlcm0gPSBfdGhpczE0Lmludm9pY2UucGF5bWVudFRlcm0gfHwge307CgogICAgICAgICAgICAgICAgICBpZiAocGF5bWVudFRlcm0pIHsKICAgICAgICAgICAgICAgICAgICBuZXREdWUgPSBwYXltZW50VGVybS5uZXREdWUgfHwgMDsKICAgICAgICAgICAgICAgICAgICBzb21lRGF0ZSA9IG5ldyBEYXRlKF90aGlzMTQuaW52b2ljZS50cmFuc2FjdGlvbkRhdGUpOwogICAgICAgICAgICAgICAgICAgIHNvbWVEYXRlLnNldERhdGUoc29tZURhdGUuZ2V0RGF0ZSgpICsgcGFyc2VJbnQobmV0RHVlKSk7IC8vbnVtYmVyICBvZiBkYXlzIHRvIGFkZCwgZS54LiAxNSBkYXlzCgogICAgICAgICAgICAgICAgICAgIF90aGlzMTQuaW52b2ljZS5kdWVEYXRlID0gc29tZURhdGUudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOyAvLyB3aW5kb3cuY29uc29sZS5sb2coJ2ltJywgc29tZURhdGUsIG5ldER1ZSkKICAgICAgICAgICAgICAgICAgfSAvLyB0aGlzLmxvYWRDdXN0b21lckJhbGFuY2UodGhpcy5jdXN0b21lci5pZCk7CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTQuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTQuZ2VuZXJhdGVOdW1iZXIoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQcmVmaXg6IGZ1bmN0aW9uIGxvYWRQcmVmaXgoKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgcHJlZml4SGFuZGxlci5nZXQoImludm9pY2UiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1Lmludm9pY2VUeXBlcyA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNS5pbnZvaWNlVHlwZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUuaW52b2ljZS50cmFuc2FjdGlvblR5cGUgPSBfdGhpczE1Lmludm9pY2VUeXBlc1swXTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTUuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LmdlbmVyYXRlTnVtYmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnRlbXBsYXRlSGFuZGxlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFByaWNlTGV2ZWw6IGZ1bmN0aW9uIGxvYWRQcmljZUxldmVsKCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBzdHJGaWx0ZXIgPSAnP25hdHVyZT1zYWxlJzsKICAgICAgICAgICAgICAgICAgICBwcmljZUxldmVsSGFuZGxlci5nZXQoc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYucHJpY2VMZXZlbCA9IHJlczsgLy8gaWYgKHRoaXMucHJpY2VMZXZlbC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5pbnZvaWNlLnByaWNlTGV2ZWwgPSB0aGlzLnByaWNlTGV2ZWxbMF07CiAgICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWREaXNjb3VudEl0ZW06IGZ1bmN0aW9uIGxvYWREaXNjb3VudEl0ZW0oKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgZGlzY291bnRJdGVtSGFuZGxlci5saXN0KERJU0NPVU5UX1RZUEUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE3LnNwZWNpZmljRGlzY291bnRJdGVtID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZE90aGVyQ2hhcmdlOiBmdW5jdGlvbiBsb2FkT3RoZXJDaGFyZ2UoKSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgb3RoZXJDaGFyZ2VIYW5kbGVyLmxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOC5vdGhlckNoYXJnZUxpc3QgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQWNjb3VudDogZnVuY3Rpb24gbG9hZEFjY291bnQoKSB7CiAgICAgIHZhciBfdGhpczE5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgYWNjb3VudEhhbmRsZXIuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE5LnNob3dMb2FkaW5nID0gZmFsc2U7IC8vUmVjZWl2YWJsZSBBY2NvdW50CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS5yZWNlaXZhYmxlQWNjID0gcmVzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmFjY291bnRfdHlwZS5udW1iZXIgPT09IDc7CiAgICAgICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0bSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdG0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBpdG0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdG0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbF9uYW1lOiBpdG0ubG9jYWxfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGl0bS5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfdGF4YWJsZTogaXRtLmlzX3RheGFibGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuaGppQWNjQ29kZTogaXRtLmJhbmhqaUFjY0NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfY29kZTogaXRtLmdyb3VwX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50X2FjY291bnQ6IGl0bS5wYXJlbnRfYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2NvZGU6IGl0bS50eXBlX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudF90eXBlOiBpdG0uYWNjb3VudF90eXBlCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gaWYgKHRoaXMucmVjZWl2YWJsZUFjYy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5pbnZvaWNlLnJlY2VpdmFibGVBY2MgPSB0aGlzLnJlY2VpdmFibGVBY2NbMF07CiAgICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQYXltZW50VGVybTogZnVuY3Rpb24gbG9hZFBheW1lbnRUZXJtKCkgewogICAgICB2YXIgX3RoaXMyMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBzdHJGaWx0ZXIgPSAiP3R5cGU9cG10LWN1c3RvbWVyIjsKICAgICAgICAgICAgICAgICAgICBwYXltZW50VGVybUhhbmRsZXIuZ2V0UGF5bWVudFRlcm0oc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIwLnBheW1lbnRUZXJtcyA9IHJlcy5kYXRhLmRhdGE7IC8vIGlmICh0aGlzLnBheW1lbnRUZXJtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmludm9pY2UucGF5bWVudFRlcm0gPSB0aGlzLnBheW1lbnRUZXJtc1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkTG9jYXRpb246IGZ1bmN0aW9uIGxvYWRMb2NhdGlvbigpIHsKICAgICAgdmFyIF90aGlzMjEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICAgIHZhciByb2xlVHlwZSwgcm9sZURhdGEsIGxvY2F0aW9uLCBsb2NhdGlvbkRlZmF1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIxLmxvY2F0aW9ucyA9IFtdOwogICAgICAgICAgICAgICAgcm9sZVR5cGUgPSBkYXRhU3RvcmUucm9sZVR5cGUgfHwgMDsKCiAgICAgICAgICAgICAgICBpZiAocm9sZVR5cGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgaWYgKGRhdGFTdG9yZS5yb2xlRGF0YSkgewogICAgICAgICAgICAgICAgICAgIHJvbGVEYXRhID0gZGF0YVN0b3JlLnJvbGVEYXRhIHx8IFtdOwogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gcm9sZURhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdG0udHlwZSA9PT0gJ2xvY2F0aW9uJzsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbkRlZmF1bHQgPSBsb2NhdGlvbi5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmlzRGVmYXVsdCA9PT0gMTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBfdGhpczIxLmxvY2F0aW9ucyA9IGxvY2F0aW9uOwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyMS4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQgfHwgX3RoaXMyMS4kcm91dGUucGFyYW1zLmlkID09PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uRGVmYXVsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjEuaW52b2ljZS5sb2NhdGlvbiA9IGxvY2F0aW9uRGVmYXVsdFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sZVR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIxLmxvY2F0aW9ucyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25IYW5kbGVyLmxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjEuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIxLmxvY2F0aW9ucyA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIxLmxvY2F0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIxLmludm9pY2UubG9jYXRpb24gPSBfdGhpczIxLmxvY2F0aW9uc1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFByb2plY3RCeUN1c3RvbWVyOiBmdW5jdGlvbiBsb2FkUHJvamVjdEJ5Q3VzdG9tZXIoKSB7CiAgICAgIHZhciBfdGhpczIyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHsKICAgICAgICB2YXIgcm9sZVR5cGUsIHJvbGVEYXRhLCBwcm9qZWN0LCBwcm9qZWN0RGVmYXVsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMjIuY3VzdG9tZXJQcm9qZWN0cyA9IFtdOwogICAgICAgICAgICAgICAgcm9sZVR5cGUgPSBkYXRhU3RvcmUucm9sZVR5cGUgfHwgMDsKCiAgICAgICAgICAgICAgICBpZiAocm9sZVR5cGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgaWYgKGRhdGFTdG9yZS5yb2xlRGF0YSkgewogICAgICAgICAgICAgICAgICAgIHJvbGVEYXRhID0gZGF0YVN0b3JlLnJvbGVEYXRhIHx8IFtdOwogICAgICAgICAgICAgICAgICAgIHByb2plY3QgPSByb2xlRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0bSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0bS50eXBlID09PSAncHJvamVjdCc7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgcHJvamVjdC5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VzdG9tZXJzID0gay5jdXN0b21lcnMgfHwgW107CiAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvQ3VzdG9tZXIgPSBjdXN0b21lcnMuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuLmN1c3RvbWVyLmlkID09PSBfdGhpczIyLmN1c3RvbWVyLmlkOwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHByb0N1c3RvbWVyLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMi5jdXN0b21lclByb2plY3RzLnB1c2goayk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIyLiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCB8fCBfdGhpczIyLiRyb3V0ZS5wYXJhbXMuaWQgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0RGVmYXVsdCA9IF90aGlzMjIuY3VzdG9tZXJQcm9qZWN0cy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uaXNEZWZhdWx0ID09PSAxOwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2plY3REZWZhdWx0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMi5pbnZvaWNlLnByb2plY3QgPSBwcm9qZWN0RGVmYXVsdFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sZVR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SGFuZGxlci5nZXRCeUN1c3RvbWVyKF90aGlzMjIuY3VzdG9tZXIuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIyLnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIyLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMi5jdXN0b21lclByb2plY3RzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIyLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRDdXN0b21lckJhbGFuY2U6IGZ1bmN0aW9uIGxvYWRDdXN0b21lckJhbGFuY2UoaWQpIHsKICAgICAgdmFyIF90aGlzMjMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3RyRmlsdGVyID0gaWQgKyAiP3R5cGU9YmFsIjsKICAgICAgICAgICAgICAgICAgICBfdGhpczIzLmludm9pY2UuY3VycmVudEJhbGFuY2UgPSAwOwogICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLmJhbGFuY2Uoc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjMuaW52b2ljZS5jdXJyZW50QmFsYW5jZSA9IGRhdGFbMF0uYmFsYW5jZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZEN1c3RvbWVyRGVwb3NpdEJhbGFuY2U6IGZ1bmN0aW9uIGxvYWRDdXN0b21lckRlcG9zaXRCYWxhbmNlKGlkKSB7CiAgICAgIHZhciBfdGhpczI0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9IGlkICsgIj90eXBlPWRlcCI7CiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIuYmFsYW5jZShzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNC5pbnZvaWNlLmRlcG9zaXRBbW91bnQgPSAwOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbW91bnREZXBvc2l0ID0gZGF0YVswXS5iYWxhbmNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjQuaW52b2ljZS5kZXBvc2l0QW1vdW50ID0gYW1vdW50RGVwb3NpdCAvIF90aGlzMjQuaW52b2ljZS50eG5SYXRlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczI0LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjcmVkaXRMaW1pdFVzYWdlOiBmdW5jdGlvbiBjcmVkaXRMaW1pdFVzYWdlKGJhbGFuY2UsIGNyZWRpdExpbWl0KSB7CiAgICAgIGlmIChjcmVkaXRMaW1pdCA+IDApIHsKICAgICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcoYmFsYW5jZSAvIGNyZWRpdExpbWl0ICogMTAwLCAibiIuY29uY2F0KHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwpKSArICIgJSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKDAsICJuIi5jb25jYXQodGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbCkpICsgIiAlIjsKICAgICAgfSAvLyBjb25zdCBhbGxvd2VkID0ga2VuZG8udG9TdHJpbmcoKGJhbGFuY2UgLyBjcmVkaXRMaW1pdCkgKiAxMDAsIGBuJHt0aGlzLnNhbGVGb3JtQ29udGVudC5kZWNpbWFsfWApCiAgICAgIC8vIHJldHVybiAoaXNOYU4oYWxsb3dlZCkgPyAwIDogYWxsb3dlZCkgKyAnICUnCgogICAgfSwKICAgIGxvYWRFbXBsb3llZUNlbnRlcjogZnVuY3Rpb24gbG9hZEVtcGxveWVlQ2VudGVyKCkgewogICAgICB2YXIgX3RoaXMyNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjAoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMCQoX2NvbnRleHQyMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIwLnByZXYgPSBfY29udGV4dDIwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMjUuZW1wbG95ZWVzID0gW107CiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVIYW5kbGVyLmNlbnRlcih1bmRlZmluZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNS5zaG93TG9hZGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuZW1wbG95ZWVzID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI1LmVtcGxveWVlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNS5pbnZvaWNlLmVtcGxveWVlID0gX3RoaXMyNS5lbXBsb3llZXNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRTZWdtZW50OiBmdW5jdGlvbiBsb2FkU2VnbWVudCgpIHsKICAgICAgdmFyIF90aGlzMjYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIxKCkgewogICAgICAgIHZhciByb2xlVHlwZSwgcm9sZURhdGEsIHNlZ21lbnQsIHNlZ21lbnREZWZhdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjEkKF9jb250ZXh0MjEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMS5wcmV2ID0gX2NvbnRleHQyMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdkYXRhU3RvcmUucm9sZURhdGEnLCBkYXRhU3RvcmUpOwogICAgICAgICAgICAgICAgcm9sZVR5cGUgPSBkYXRhU3RvcmUucm9sZVR5cGUgfHwgMDsKCiAgICAgICAgICAgICAgICBpZiAocm9sZVR5cGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgaWYgKGRhdGFTdG9yZS5yb2xlRGF0YSkgewogICAgICAgICAgICAgICAgICAgIHJvbGVEYXRhID0gZGF0YVN0b3JlLnJvbGVEYXRhIHx8IFtdOwogICAgICAgICAgICAgICAgICAgIHNlZ21lbnQgPSByb2xlRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0bSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0bS50eXBlID09PSAnc2VnbWVudCc7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgc2VnbWVudERlZmF1bHQgPSBzZWdtZW50LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uaXNEZWZhdWx0ID09PSAxOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIF90aGlzMjYuc2VnbWVudHMgPSBzZWdtZW50OwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyNi4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQgfHwgX3RoaXMyNi4kcm91dGUucGFyYW1zLmlkID09PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZ21lbnREZWZhdWx0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNi5pbnZvaWNlLnNlZ21lbnQgPSBzZWdtZW50RGVmYXVsdFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sZVR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczI2LnNlZ21lbnRzID0gW107CiAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc0hhbmRsZXIuZ2V0U2VnKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI2LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNi5zZWdtZW50cyA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI2LnNlZ21lbnRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjYuaW52b2ljZS5zZWdtZW50ID0gX3RoaXMyNi5zZWdtZW50c1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIxKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFNhbGVPcmRlcjogZnVuY3Rpb24gbG9hZFNhbGVPcmRlcigpIHsKICAgICAgdmFyIF90aGlzMjcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjIkKF9jb250ZXh0MjIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMi5wcmV2ID0gX2NvbnRleHQyMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc2VnbWVudElkID0gIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uSWQsCiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlTGV2ZWxJZCA9ICIiLAogICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcklkID0gIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIHR4bkRhdGUgPSAiIjsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjcuaW52b2ljZS5zZWdtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50SWQgPSBfdGhpczI3Lmludm9pY2Uuc2VnbWVudC5pZDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI3Lmludm9pY2UubG9jYXRpb24pIHsKICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uSWQgPSBfdGhpczI3Lmludm9pY2UubG9jYXRpb24uaWQ7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyNy5pbnZvaWNlLmN1c3RvbWVyKSB7CiAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcklkID0gX3RoaXMyNy5pbnZvaWNlLmN1c3RvbWVyLmlkOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjcuaW52b2ljZS5wcmljZUxldmVsKSB7CiAgICAgICAgICAgICAgICAgICAgICBwcmljZUxldmVsSWQgPSBfdGhpczI3Lmludm9pY2UucHJpY2VMZXZlbC5pZDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI3Lmludm9pY2UudHJhbnNhY3Rpb25EYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICB0eG5EYXRlID0gX3RoaXMyNy5pbnZvaWNlLnRyYW5zYWN0aW9uRGF0ZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHZhciBzdHJGaWx0ZXIgPSAiIjsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHNlZ21lbnRJZCAhPT0gIiIgJiYgY3VzdG9tZXJJZCAhPT0gIiIgJiYgbG9jYXRpb25JZCAhPT0gIiIgJiYgcHJpY2VMZXZlbElkICE9PSAiIiAmJiB0eG5EYXRlICE9PSAiIikgewogICAgICAgICAgICAgICAgICAgICAgc3RyRmlsdGVyID0gIj9pZD0iICsgY3VzdG9tZXJJZCArICImc2VnSWQ9IiArIHNlZ21lbnRJZCArICImbG9jSWQ9IiArIGxvY2F0aW9uSWQgKyAiJnBsSWQ9IiArIHByaWNlTGV2ZWxJZCArICImZGF0ZT0iICsgdHhuRGF0ZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChzdHJGaWx0ZXIgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3Lmludm9pY2UucmVmRnJvbSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5zaG93TG9hZGluZ1R4biA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICBzYWxlT3JkZXJIYW5kbGVyLnRyYW5zYWN0aW9uRmlsdGVyKHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3LnNob3dMb2FkaW5nVHhuID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5zYWxlT3JkZXJzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3LnNob3dMb2FkaW5nVHhuID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFNhbGVDaGFubmVsOiBmdW5jdGlvbiBsb2FkU2FsZUNoYW5uZWwoKSB7CiAgICAgIHZhciBfdGhpczI4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIzJChfY29udGV4dDIzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjMucHJldiA9IF9jb250ZXh0MjMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyOC5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgc2FsZUNoYW5uZWxIYW5kbGVyLmdldCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI4LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjguc2FsZUNoYW5uZWxMaXN0ID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI4LnNhbGVDaGFubmVsTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOC5pbnZvaWNlLnNhbGVDaGFubmVsID0gX3RoaXMyOC5zYWxlQ2hhbm5lbExpc3RbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjguc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFRheDogZnVuY3Rpb24gbG9hZFRheCgpIHsKICAgICAgdmFyIF90aGlzMjkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjQkKF9jb250ZXh0MjQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNC5wcmV2ID0gX2NvbnRleHQyNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBzZXR0aW5nSGFuZGxlci5nZXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjkudGF4ID0gcmVzOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOS5vdGhlclRheCA9IF90aGlzMjkudGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG0udGF4VHlwZS50eXBlSWQgPT09IDcgfHwgbS50YXhUeXBlLnR5cGVJZCA9PT0gMTApICYmIG0udHJhbnNhY3Rpb25UeXBlID09PSAiU2FsZSI7CiAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gdmFsdWFibGUgdGF4CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOS5zcGVjaWZpY1RheCA9IF90aGlzMjkudGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG0udGF4VHlwZS50eXBlSWQgPT09IDggfHwgbS50YXhUeXBlLnR5cGVJZCA9PT0gMTApICYmIG0udHJhbnNhY3Rpb25UeXBlID09PSAiU2FsZSI7CiAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gdmFsdWFibGUgdGF4CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOS5wdWJsaWNMaWdodGluZ1RheCA9IF90aGlzMjkudGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG0udGF4VHlwZS50eXBlSWQgPT09IDkgfHwgbS50YXhUeXBlLnR5cGVJZCA9PT0gMTApICYmIG0udHJhbnNhY3Rpb25UeXBlID09PSAiU2FsZSI7CiAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gdmFsdWFibGUgdGF4CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOS52YXRUYXggPSBfdGhpczI5LnRheC5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChtLnRheFR5cGUudHlwZUlkID09PSAxIHx8IG0udGF4VHlwZS50eXBlSWQgPT09IDEwKSAmJiBtLnRyYW5zYWN0aW9uVHlwZSA9PT0gIlNhbGUiOwogICAgICAgICAgICAgICAgICAgICAgfSk7IC8vIHZhbHVhYmxlIHRheAogICAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCd0YXgnLCBKU09OLnN0cmluZ2lmeSh0aGlzLnZhdFRheCkpCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uU2F2ZUNsb3NlOiBmdW5jdGlvbiBvblNhdmVDbG9zZShzYXZlTmV3LCBzYXZlU2VuZCwgaXNQcmludCkgewogICAgICB2YXIgX3RoaXMzMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjUoKSB7CiAgICAgICAgdmFyIGlkLCBkcywgZDEsIGRhdGFWYWxpZGF0ZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI1JChfY29udGV4dDI1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjUucHJldiA9IF9jb250ZXh0MjUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczMwLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKQogICAgICAgICAgICAgICAgX3RoaXMzMC4kc25vdGlmeS5lcnJvcigiRmllbGQgaXMgcmVxdWlyZWQsIHBsZWFzZSBjaGVjayBmaWVsZCBlYWNoIG9mIHRhYnMhIik7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWQgPSAiIjsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzMC5jdXN0b21lci5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICBpZCA9IF90aGlzMzAuY3VzdG9tZXIuaWQgfHwgIiI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEoaWQgPT09ICIiKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczMwLiRzbm90aWZ5LmVycm9yKCJjdXN0b21lciBpcyByZXF1aXJlIik7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgZHMgPSBfdGhpczMwLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgICAgICAgICAgIGQxID0gZHMuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICByZXR1cm4gbi5hbW91bnQgPiAwOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBkYXRhVmFsaWRhdGUgPSAwOwogICAgICAgICAgICAgICAgZDEuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5pdGVtLmlkID09IHVuZGVmaW5lZCB8fCB2YWx1ZS51b20udW9tLmlkID09IHVuZGVmaW5lZCB8fCB2YWx1ZS5pdGVtLmlkID09ICIiIHx8IHZhbHVlLnVvbS51b20uaWQgPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczMwLiRzbm90aWZ5LmVycm9yKCJQbGVhc2UgY2hlY2sgSXRlbSBvciBVb20gIG9uIHJvdyAiICsgKGluZGV4ICsgMSkpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGRhdGFWYWxpZGF0ZSArPSAxOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAoZDEubGVuZ3RoID09IGRhdGFWYWxpZGF0ZSkgewogICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0F1dG9HZW5lcmF0ZSA9IDE7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMzAuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbkRhdGUgPSBuZXcgRGF0ZShfdGhpczMwLmludm9pY2UudHJhbnNhY3Rpb25EYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5EYXRlSW52b2ljZSA9IG5ldyBEYXRlKF90aGlzMzAuaW52b2ljZS50cmFuc2FjdGlvbkRhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbkRhdGVNID0gdHJhbkRhdGUuZ2V0RnVsbFllYXIoKSArIHRyYW5EYXRlLmdldE1vbnRoKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuRGF0ZUludm9pY2VNID0gdHJhbkRhdGVJbnZvaWNlLmdldEZ1bGxZZWFyKCkgKyB0cmFuRGF0ZUludm9pY2UuZ2V0TW9udGgoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFuRGF0ZU0gPT09IHRyYW5EYXRlSW52b2ljZU0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F1dG9HZW5lcmF0ZSA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMwLmF1dG9DYWxjdWxhdGUoKTsgLy8gdGhpcy5hdXRvQ2FsY3VsYXRlVGF4RGV0YWlsKCk7CgoKICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtTGluZURTID0gX3RoaXMzMC4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCk7CgogICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFSb3cgPSBpdGVtTGluZURTLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8uYW1vdW50ID4gMDsKICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3RoZXJDaGFyZ2UgPSBuZXcgT3RoZXJDaGFyZ2VNb2RlbChuLm90aGVyQ2hhcmdlIHx8IHt9KTsKICAgICAgICAgICAgICAgICAgICAgICAgblsnb3RoZXJDaGFyZ2UnXSA9IG90aGVyQ2hhcmdlOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEl0ZW1MaW5lTW9kZWwobik7CiAgICAgICAgICAgICAgICAgICAgICB9KTsgLy90b2RvOiBjaGVjayBTb3VyY2UKCiAgICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlUmVmID0gZGF0YVJvdy5tYXAoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8uc291cmNlVHJhbnNhY3Rpb247CiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlVHhuID0gX3RoaXMzMC5yZW1vdmVEdXBsaWNhdGUoc291cmNlUmVmKTsKCiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ2RhdGFSb3cnLCBKU09OLnN0cmluZ2lmeShkYXRhUm93KSk7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFSb3cubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogX3RoaXMzMC5pbnZvaWNlLmlkID8gX3RoaXMzMC5pbnZvaWNlLmlkIDogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogX3RoaXMzMC5pbnZvaWNlLnV1aWQgPyBfdGhpczMwLmludm9pY2UudXVpZCA6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIGpvdXJuYWxfdXVpZDogX3RoaXMzMC5pbnZvaWNlLmpvdXJuYWxfdXVpZCA/IF90aGlzMzAuaW52b2ljZS5qb3VybmFsX3V1aWQgOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiSW52b2ljZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBfdGhpczMwLmludm9pY2UubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFiYnI6IF90aGlzMzAuaW52b2ljZS50cmFuc2FjdGlvblR5cGUuYWJiciwKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IF90aGlzMzAuaW52b2ljZS50cmFuc2FjdGlvbkRhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZHVlRGF0ZTogX3RoaXMzMC5pbnZvaWNlLmR1ZURhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhPZjogX3RoaXMzMC5pbnZvaWNlLm1vbnRoT2YsCiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXI6IF90aGlzMzAuaW52b2ljZS5jdXN0b21lciwKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvblR5cGU6IF90aGlzMzAuaW52b2ljZS50cmFuc2FjdGlvblR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudFRlcm06IF90aGlzMzAuaW52b2ljZS5wYXltZW50VGVybSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhcHByb3ZlZFRlcm06IF90aGlzMzAuaW52b2ljZS5hcHByb3ZlZFRlcm0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRQcm9tb3Rpb246IHt9LAogICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmFibGVBY2M6IF90aGlzMzAuaW52b2ljZS5yZWNlaXZhYmxlQWNjLAogICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBfdGhpczMwLmludm9pY2UuY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHhuUmF0ZTogX3RoaXMzMC5pbnZvaWNlLnR4blJhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGF4RXhjaGFuZ2VSYXRlOiBfdGhpczMwLmludm9pY2UudGF4RXhjaGFuZ2VSYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGU6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VSYXRlOiBfdGhpczMwLmludm9pY2UuZXhjaGFuZ2VSYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBfdGhpczMwLmludm9pY2UuZXhjaGFuZ2VBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VMZXZlbDogX3RoaXMzMC5pbnZvaWNlLnByaWNlTGV2ZWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUxpbmVzOiBkYXRhUm93LAogICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnQ6IF90aGlzMzAuaW52b2ljZS5zZWdtZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBfdGhpczMwLmludm9pY2UubG9jYXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogX3RoaXMzMC5pbnZvaWNlLnByb2plY3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsZUNoYW5uZWw6IF90aGlzMzAuaW52b2ljZS5zYWxlQ2hhbm5lbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZTogX3RoaXMzMC5pbnZvaWNlLmVtcGxveWVlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzOiBfdGhpczMwLmludm9pY2UuYmlsbGluZ0FkZHJlc3MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsaXZlcnlBZGRyZXNzOiBfdGhpczMwLmludm9pY2UuZGVsaXZlcnlBZGRyZXNzLAogICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGl2ZXJ5RGF0ZVRpbWU6IF90aGlzMzAuaW52b2ljZS5kZWxpdmVyeURhdGVUaW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uTm90ZTogX3RoaXMzMC5pbnZvaWNlLnRyYW5zYWN0aW9uTm90ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBqb3VybmFsTm90ZTogX3RoaXMzMC5pbnZvaWNlLmpvdXJuYWxOb3RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRvdGFsOiBfdGhpczMwLmludm9pY2Uuc3ViVG90YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VTdWJUb3RhbDogX3RoaXMzMC5pbnZvaWNlLmV4Y2hhbmdlU3ViVG90YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IF90aGlzMzAuaW52b2ljZS50b3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVRvdGFsOiBwYXJzZUZsb2F0KF90aGlzMzAuaW52b2ljZS50b3RhbCkgKiBwYXJzZUZsb2F0KF90aGlzMzAuaW52b2ljZS50eG5SYXRlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudFRvdGFsOiBfdGhpczMwLmludm9pY2UuZGlzY291bnRUb3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpY0Rpc2NvdW50VG90YWw6IF90aGlzMzAuaW52b2ljZS5zcGVjaWZpY0Rpc2NvdW50VG90YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsaXZlcnlGZWU6IF90aGlzMzAuaW52b2ljZS5kZWxpdmVyeUZlZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFRheEFtb3VudDogX3RoaXMzMC5pbnZvaWNlLnRvdGFsVGF4QW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIGRlcG9zaXRBbW91bnQ6IF90aGlzMzAuaW52b2ljZS5kZXBvc2l0QW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIGRlcG9zaXREZWR1Y3Rpb246IF90aGlzMzAuaW52b2ljZS5kZXBvc2l0RGVkdWN0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmluZ0Ftb3VudDogX3RoaXMzMC5pbnZvaWNlLnJlbWFpbmluZ0Ftb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnREdWU6IF90aGlzMzAuaW52b2ljZS5hbW91bnREdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJhbGFuY2U6IF90aGlzMzAuaW52b2ljZS5jdXJyZW50QmFsYW5jZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBiYWxhbmNlOiBfdGhpczMwLmludm9pY2UuYmFsYW5jZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkaXRMaW1pdDogX3RoaXMzMC5pbnZvaWNlLmNyZWRpdExpbWl0LAogICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVPcHRpb246IF90aGlzMzAuaW52b2ljZS5zYXZlT3B0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhcHByb3ZlZEJ5OiBfdGhpczMwLmludm9pY2UuYXBwcm92ZWRCeSwKICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtVGVtcGxhdGU6IF90aGlzMzAudGVtcGxhdGVzRm9ybVtfdGhpczMwLnRlbXBsYXRlXSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpY0Rpc2NvdW50SXRlbTogX3RoaXMzMC5pbnZvaWNlLnNwZWNpZmljRGlzY291bnRJdGVtLAogICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyQ2hhcmdlOiBfdGhpczMwLm1PdGhlckNoYXJnZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlckNoYXJnZUxpbmU6IF90aGlzMzAuaW52b2ljZS5vdGhlckNoYXJnZUxpbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJDaGFyZ2VBbW91bnQ6IF90aGlzMzAuaW52b2ljZS5vdGhlckNoYXJnZUFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRlRmVlOiBfdGhpczMwLmludm9pY2UubGF0ZUZlZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXltZW50T3B0aW9uV0JNb2JpbGU6IHRoaXMuaW52b2ljZS5wYXltZW50T3B0aW9uV0JNb2JpbGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF5bWVudE9wdGlvbk9ubGluZTogdGhpcy5pbnZvaWNlLnBheW1lbnRPcHRpb25PbmxpbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF5bWVudE9wdGlvbktIUVI6IHRoaXMuaW52b2ljZS5wYXltZW50T3B0aW9uS0hRUiwKICAgICAgICAgICAgICAgICAgICAgICAgICBwdWJsaWNMaW5rOiBfdGhpczMwLmludm9pY2UucHVibGljTGluaywKICAgICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50Q29kZTogX3RoaXMzMC5pbnZvaWNlLnBheW1lbnRDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRheExpc3RUb3RhbDogX3RoaXMzMC50YXhMaXN0VG90YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJEaXNjb3VudEl0ZW06IF90aGlzMzAuY3VzdG9tZXJEaXNjb3VudEl0ZW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJPdGhlckNoYXJnZUl0ZW06IF90aGlzMzAuY3VzdG9tZXIuY3VzdG9tZXJPdGhlckNoYXJnZUl0ZW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJTYWxlVW5pdDogX3RoaXMzMC5jdXN0b21lclNhbGVVbml0LAogICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyU2FsZVVuaXRMaW5lOiBfdGhpczMwLmN1c3RvbWVyU2FsZVVuaXRMaW5lLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRTY2hlbWU6IF90aGlzMzAuaW52b2ljZS5wYXltZW50U2NoZW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogX3RoaXMzMC5pbnZvaWNlLmNyZWF0ZWRBdCwKICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZWRVc2VyOiBfdGhpczMwLmxvZ2dlZFVzZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZVNlbmQ6IHNhdmVTZW5kLAogICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXV0b0dlbmVyYXRlOiBpc0F1dG9HZW5lcmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBqUmF3OiBfdGhpczMwLmpSYXcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlVHJhbnNhY3Rpb246IHNvdXJjZVR4biwKICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtU3VidG90YWw6IF90aGlzMzAuaW52b2ljZS5pdGVtU3VidG90YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VJdGVtU3VidG90YWw6IF90aGlzMzAuaW52b2ljZS5leGNoYW5nZUl0ZW1TdWJ0b3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlU3VidG90YWw6IF90aGlzMzAuaW52b2ljZS5zZXJ2aWNlU3VidG90YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VTZXJ2aWNlU3VidG90YWw6IF90aGlzMzAuaW52b2ljZS5leGNoYW5nZVNlcnZpY2VTdWJ0b3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eG5JdG1TdWJ0b3RhbDogX3RoaXMzMC5pbnZvaWNlLnR4bkl0bVN1YnRvdGFsLAogICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlVHhuSXRtU3VidG90YWw6IF90aGlzMzAuaW52b2ljZS5leGNoYW5nZVR4bkl0bVN1YnRvdGFsLAogICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1EaXNjb3VudDogX3RoaXMzMC5pbnZvaWNlLml0ZW1EaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUl0ZW1EaXNjb3VudDogX3RoaXMzMC5pbnZvaWNlLmV4Y2hhbmdlSXRlbURpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VEaXNjb3VudDogX3RoaXMzMC5pbnZvaWNlLnNlcnZpY2VEaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVNlcnZpY2VEaXNjb3VudDogX3RoaXMzMC5pbnZvaWNlLmV4Y2hhbmdlU2VydmljZURpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHR4bkl0bURpc2NvdW50OiBfdGhpczMwLmludm9pY2UudHhuSXRtRGlzY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VUeG5JdG1EaXNjb3VudDogX3RoaXMzMC5pbnZvaWNlLmV4Y2hhbmdlVHhuSXRtRGlzY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzaFBheW1lbnQ6IG5ldyBQYXltZW50T3B0aW9uTW9kZWwoX3RoaXMzMC5pbnZvaWNlLmNhc2hQYXltZW50KSwKICAgICAgICAgICAgICAgICAgICAgICAgICBxclBheW1lbnQ6IG5ldyBQYXltZW50T3B0aW9uTW9kZWwoX3RoaXMzMC5pbnZvaWNlLnFyUGF5bWVudCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFua1RyYW5zZmVyOiBuZXcgUGF5bWVudE9wdGlvbk1vZGVsKF90aGlzMzAuaW52b2ljZS5iYW5rVHJhbnNmZXIpLAogICAgICAgICAgICAgICAgICAgICAgICAgIGJpbGxQYXltZW50OiBuZXcgUGF5bWVudE9wdGlvbk1vZGVsKF90aGlzMzAuaW52b2ljZS5iaWxsUGF5bWVudCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmRnJvbTogX3RoaXMzMC5pbnZvaWNlLnJlZkZyb20gfHwgW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmVG86IF90aGlzMzAuaW52b2ljZS5yZWZUbyB8fCBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxlVGF4RGV0YWlsOiBfdGhpczMwLmludm9pY2Uuc2FsZVRheERldGFpbCB8fCBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNoQmFzaWNJbmNvbWVBY2M6IF90aGlzMzAuaW52b2ljZS5jYXNoQmFzaWNJbmNvbWVBY2MgfHwgW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uVHlwZTogX3RoaXMzMC4kcm91dGUucGFyYW1zLmlkID8gX3RoaXMzMC4kcm91dGUucXVlcnkudHlwZSA6ICJuZXciCiAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMzMC4kcm91dGUucXVlcnkudHlwZSA9PT0gInJlY3VycmluZyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmlkID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzAuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMwLmJ0bkRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdEYXRhJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpOwogICAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5jcmVhdGUoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2xvc2UocmVzcG9uc2UuZGF0YS5kYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzAuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzAuYnRuRGlzYWJsZWQgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMwLiRzbm90aWZ5LnN1Y2Nlc3MoIlN1Y2Nlc3NmdWxseSIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ByaW50ID09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UHJpbnQocmVzcG9uc2UuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2F2ZU5ldyA9PSAibmV3IikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMwLnNldERlZmF1bHREYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmNsZWFyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzMC5jbG9zZShyZXNwb25zZS5kYXRhLmRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMwLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzMC5idG5EaXNhYmxlZCA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMwLiRzbm90aWZ5LmVycm9yKCJTb21ldGhpbmcgd2VudCB3cm9uZyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMwLmVycm9ycy5wdXNoKGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoZGF0YSkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAiQ3VzdG9tZXJzIiwKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2luZG93Lmhpc3RvcnkuZ28oLTEpOyAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgLy8gICAgIHBhdGg6ICJpbnZvaWNlX3ZpZXciLAogICAgICAgIC8vICAgICBuYW1lOiAiSW52b2ljZSBWaWV3IiwKICAgICAgICAvLyAgICAgcGFyYW1zOiB7CiAgICAgICAgLy8gICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gfSkKICAgICAgfSAvLyB3aW5kb3cuY29uc29sZS5sb2coZGF0YSwgJ2RhdGEnKQoKICAgIH0sCiAgICBzYXZlTmV3OiBmdW5jdGlvbiBzYXZlTmV3KCkge30sCiAgICByZW1vdmVSb3c6IGZ1bmN0aW9uIHJlbW92ZVJvdyhlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkSXRlbUxpbmUiKS5kYXRhKCJrZW5kb0dyaWQiKSwKICAgICAgICAgIGRhdGFTb3VyY2UgPSBncmlkLmRhdGFTb3VyY2UsCiAgICAgICAgICBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwoKICAgICAgaWYgKGRhdGFTb3VyY2UudG90YWwoKSA+IDEpIHsKICAgICAgICBkYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7CiAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICAgIH0KICAgIH0sCiAgICBnZW5lcmF0ZU51bWJlcjogZnVuY3Rpb24gZ2VuZXJhdGVOdW1iZXIoKSB7CiAgICAgIHZhciBfdGhpczMxID0gdGhpczsKCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICB2YXIgdHJhbkRhdGUgPSBuZXcgRGF0ZSh0aGlzLmludm9pY2UudHJhbnNhY3Rpb25EYXRlKTsKICAgICAgICB2YXIgdHJhbkRhdGVJbnZvaWNlID0gbmV3IERhdGUodGhpcy5pbnZvaWNlLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgdmFyIHRyYW5EYXRlTSA9IHRyYW5EYXRlLmdldEZ1bGxZZWFyKCkgKyB0cmFuRGF0ZS5nZXRNb250aCgpOwogICAgICAgIHZhciB0cmFuRGF0ZUludm9pY2VNID0gdHJhbkRhdGVJbnZvaWNlLmdldEZ1bGxZZWFyKCkgKyB0cmFuRGF0ZUludm9pY2UuZ2V0TW9udGgoKTsKCiAgICAgICAgaWYgKHRyYW5EYXRlTSA9PT0gdHJhbkRhdGVJbnZvaWNlTSkgewogICAgICAgICAgdGhpcy5pbnZvaWNlLnJlZmVyZW5jZU5vID0gdGhpcy5yZWZlcmVuY2VObzsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmludm9pY2UudHJhbnNhY3Rpb25EYXRlICE9PSAiIiAmJiB0aGlzLmludm9pY2VUeXBlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICBhYmJyOiB0aGlzLmludm9pY2UudHJhbnNhY3Rpb25UeXBlLmFiYnIsCiAgICAgICAgICBzdHJ1Y3R1cmU6IHRoaXMuaW52b2ljZS50cmFuc2FjdGlvblR5cGUuc3RydWN0dXJlLAogICAgICAgICAgdHJhbnNhY3Rpb25EYXRlOiB0aGlzLmludm9pY2UudHJhbnNhY3Rpb25EYXRlLAogICAgICAgICAgc2VxdWNlbmNpbmc6IHRoaXMuaW52b2ljZS50cmFuc2FjdGlvblR5cGUuc2VxdWNlbmNpbmcsCiAgICAgICAgICB0eXBlOiAiSW52b2ljZSIsCiAgICAgICAgICBlbnRpdHk6IDEKICAgICAgICB9OwogICAgICAgIGJpbGxpbmdIYW5kbGVyLmxhc3ROdW1iZXIoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKICAgICAgICAgICAgdmFyIGxhc3ROdW1iZXIgPSBfdGhpczMxLnplcm9QYWQocGFyc2VJbnQocmVzLmxhc3ROdW1iZXIpLCBfdGhpczMxLmludm9pY2UudHJhbnNhY3Rpb25UeXBlLmZvcm1hdCk7CgogICAgICAgICAgICB2YXIgbnVtYmVyID0gcmVzLnN1ZmZpeCArIF90aGlzMzEuaW52b2ljZS50cmFuc2FjdGlvblR5cGUubnVtYmVyU2VwYXJhdG9yICsgbGFzdE51bWJlcjsKICAgICAgICAgICAgX3RoaXMzMS5pbnZvaWNlLm51bWJlciA9IG51bWJlcjsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgX3RoaXMzMS5lcnJvcnMucHVzaChlKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHplcm9QYWQ6IGZ1bmN0aW9uIHplcm9QYWQobnVtLCBwbGFjZXMpIHsKICAgICAgcmV0dXJuIFN0cmluZyhudW0pLnBhZFN0YXJ0KHBsYWNlcywgIjAiKTsKICAgIH0sCiAgICBzdWZmaXg6IGZ1bmN0aW9uIHN1ZmZpeCh0cmFuc2FjdGlvbkRhdGUpIHsKICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKHRyYW5zYWN0aW9uRGF0ZSksICJ5eW1tIik7CiAgICB9LAogICAgZXJyb3JNZXNzYWdlOiBmdW5jdGlvbiBlcnJvck1lc3NhZ2UoKSB7fSwKICAgIGFjY291bnREcm9wRG93bkVkaXRvcjogZnVuY3Rpb24gYWNjb3VudERyb3BEb3duRWRpdG9yKCkge30sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdmFyIF90aGlzMzIgPSB0aGlzOwoKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgdGl0bGU6IGkxOG4udCgibXNnX3RpdGxlX3dhcm5pbmciKSwKICAgICAgICB0ZXh0OiBpMThuLnQoIm1zZ19kaXNjYXJkIiksCiAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCJjYW5jZWwiKSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoImRpc2NhcmQiKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICBfdGhpczMyLmNsZWFyKCk7CgogICAgICAgICAgX3RoaXMzMi4kcm91dGVyLmdvKC0xKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhpZGVTbWFsbFNpZGViYXI6IGZ1bmN0aW9uIGhpZGVTbWFsbFNpZGViYXIoKSB7CiAgICAgIHRoaXMuaXNIaWRlQmFyID0gIXRoaXMuaXNIaWRlQmFyOwogICAgfSwKICAgIHJlcXVlc3REYXRhOiBmdW5jdGlvbiByZXF1ZXN0RGF0YShza2lwLCBmaWx0ZXIsIGJhc2VVcmwpIHsKICAgICAgdmFyIHVybCA9IGJhc2VVcmwgKyAiP2ZpbHRlcj0iLmNvbmNhdChmaWx0ZXIpOwogICAgICB0aGlzLnJlcXVlc3RTdGFydGVkID0gdHJ1ZTsKICAgICAgZmV0Y2godXJsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgIH0pLnRoZW4odGhpcy5hZnRlckZldGNoKTsKICAgIH0sCiAgICByZXF1ZXN0RGF0YV86IGZ1bmN0aW9uIHJlcXVlc3REYXRhXyhza2lwLCBmaWx0ZXIsIGJhc2VVcmwpIHsKICAgICAgdmFyIHVybCA9IGJhc2VVcmwgKyAiLyIuY29uY2F0KGZpbHRlcik7CiAgICAgIHRoaXMucmVxdWVzdFN0YXJ0ZWQgPSB0cnVlOwogICAgICBmZXRjaCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgfSkudGhlbih0aGlzLmFmdGVyRmV0Y2hfKTsKICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgdmFyIHZhbHVlID0gZXZlbnQudmFsdWU7CgogICAgICBpZiAodmFsdWUgJiYgdmFsdWVbdGV4dEZpZWxkXSA9PT0gZW1wdHlJdGVtW3RleHRGaWVsZF0pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBpZCA9IHZhbHVlLmlkIHx8ICcnOwoKICAgICAgaWYgKGlkICE9PSAnJykgewogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygndmFsdWUnLCB2YWx1ZSk7CiAgICAgICAgdGhpcy5jdXN0b21lciA9IHZhbHVlOwogICAgICAgIHRoaXMuaW52b2ljZS5jdXN0b21lciA9IHZhbHVlOwogICAgICAgIHRoaXMuaW52b2ljZS5iaWxsUGF5bWVudCA9IHRoaXMuY3VzdG9tZXIuYmlsbFBheW1lbnQ7CiAgICAgICAgdGhpcy5pbnZvaWNlLnFyUGF5bWVudCA9IHRoaXMuY3VzdG9tZXIucXJQYXltZW50OwogICAgICAgIHRoaXMuaW52b2ljZS5jYXNoUGF5bWVudCA9IHRoaXMuY3VzdG9tZXIuY2FzaFBheW1lbnQ7CiAgICAgICAgdGhpcy5pbnZvaWNlLmJhbmtUcmFuc2ZlciA9IHRoaXMuY3VzdG9tZXIuYmFua1RyYW5zZmVyOyAvLyB3aW5kb3cuY29uc29sZS5sb2codGhpcy5pbnZvaWNlLmN1c3RvbWVyLCAnQ2hhbmdlZCcpCiAgICAgICAgLy8gdGhpcy5pbnZvaWNlID0gdmFsdWUKCiAgICAgICAgdGhpcy5pbnZvaWNlLnJlY2VpdmFibGVBY2MgPSB2YWx1ZS5yZWNlaXZhYmxlQWNjIHx8IHt9OyAvLyB0aGlzLmludm9pY2UucGF5bWVudFRlcm0gPSB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgicGF5bWVudFRlcm0iKQogICAgICAgIC8vICAgICA/IHZhbHVlLnBheW1lbnRUZXJtCiAgICAgICAgLy8gICAgIDoge307CgogICAgICAgIHRoaXMuaW52b2ljZS5wcmljZUxldmVsID0gdmFsdWUucHJpY2VMZXZlbCB8fCB7fTsKICAgICAgICB2YXIgYmFzZUN1cnJlbmN5ID0gdmFsdWUuYmFzZUN1cnJlbmN5IHx8IHt9OwoKICAgICAgICBpZiAoYmFzZUN1cnJlbmN5Lmhhc093blByb3BlcnR5KCJjb2RlIikpIHsKICAgICAgICAgIHRoaXMuYmFzZUN1cnJlbmN5Q29kZSA9ICIgIiArIGJhc2VDdXJyZW5jeS5jb2RlOwogICAgICAgIH0KCiAgICAgICAgdmFyIHByaWNlTGV2ZWwgPSB2YWx1ZS5wcmljZUxldmVsIHx8IHt9OwogICAgICAgIHZhciBjdXJyZW5jeSA9IHByaWNlTGV2ZWwuY3VycmVuY3kgfHwge307CiAgICAgICAgdmFyIGNvZGUgPSBjdXJyZW5jeS5jb2RlIHx8ICcnOwogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygncHJpY2VMZXZlbDogJyArIEpTT04uc3RyaW5naWZ5KHByaWNlTGV2ZWwpKTsKCiAgICAgICAgaWYgKGNvZGUgIT09ICcnKSB7CiAgICAgICAgICB0aGlzLmxvYWRUcmFuc2FjdGlvblJhdGUoKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuYmlsbGluZ0FkZHJlc3MgPSB2YWx1ZS5iaWxsaW5nQWRkcmVzcyB8fCBbXTsKICAgICAgICB0aGlzLmRlbGl2ZXJ5QWRkcmVzcyA9IHZhbHVlLmRlbGl2ZXJ5QWRkcmVzcyB8fCBbXTsKCiAgICAgICAgaWYgKHRoaXMuYmlsbGluZ0FkZHJlc3MubGVuZ3RoID4gMCkgewogICAgICAgICAgdGhpcy5pbnZvaWNlLmJpbGxpbmdBZGRyZXNzID0gdGhpcy5iaWxsaW5nQWRkcmVzc1swXTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmRlbGl2ZXJ5QWRkcmVzcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0aGlzLmludm9pY2UuZGVsaXZlcnlBZGRyZXNzID0gdGhpcy5kZWxpdmVyeUFkZHJlc3NbMF07CiAgICAgICAgfQoKICAgICAgICB0aGlzLm9uSW52b2ljZURhdGVDaGFuZ2VkKCk7CiAgICAgICAgdGhpcy5sb2FkUHJvamVjdEJ5Q3VzdG9tZXIoKTsKICAgICAgfSAvLyB0aGlzLmxvYWRDdXN0b21lckJhbGFuY2UodGhpcy5jdXN0b21lci5pZCk7CiAgICAgIC8vIHRoaXMubG9hZENyZWRpdExpbWl0KCk7CiAgICAgIC8vIHRoaXMubG9hZFBheW1lbnRUZXJtTGlzdCgpOwogICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2codmFsdWUsICd2YWx1ZScpCgogICAgfSwKICAgIG9uRW1wbG95ZWVDaGFuZ2VkOiBmdW5jdGlvbiBvbkVtcGxveWVlQ2hhbmdlZChldmVudCkgewogICAgICB2YXIgdmFsdWUgPSBldmVudC52YWx1ZTsKCiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZVt0ZXh0RmllbGRdID09PSBlbXB0eUl0ZW1bdGV4dEZpZWxkXSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5tRW1wbG95ZWUgPSB2YWx1ZTsKICAgICAgdGhpcy5pbnZvaWNlLmVtcGxveWVlID0gdmFsdWU7CiAgICB9LAogICAgYWZ0ZXJGZXRjaDogZnVuY3Rpb24gYWZ0ZXJGZXRjaChqc29uKSB7CiAgICAgIHRoaXMuY3VzdG9tZXJMaXN0ID0ganNvbi5kYXRhOwogICAgfSwKICAgIGFmdGVyRmV0Y2hfOiBmdW5jdGlvbiBhZnRlckZldGNoXyhqc29uKSB7CiAgICAgIHRoaXMuZW1wbG95ZWVzID0ganNvbi5kYXRhOwogICAgfSwKICAgIG9uRmlsdGVyQ2hhbmdlOiBmdW5jdGlvbiBvbkZpbHRlckNoYW5nZShldmVudCkgewogICAgICB2YXIgZmlsdGVyID0gZXZlbnQuZmlsdGVyLnZhbHVlOwogICAgICB0aGlzLnJlcXVlc3REYXRhKDAsIGZpbHRlciwgdGhpcy5jdXNCYXNlVXJsKTsKICAgICAgdGhpcy5maWx0ZXIgPSBmaWx0ZXI7CiAgICB9LAogICAgb25FbXBsb3llZUZpbHRlckNoYW5nZWQ6IGZ1bmN0aW9uIG9uRW1wbG95ZWVGaWx0ZXJDaGFuZ2VkKGV2ZW50KSB7CiAgICAgIHZhciBmaWx0ZXIgPSBldmVudC5maWx0ZXIudmFsdWU7CiAgICAgIHRoaXMucmVxdWVzdERhdGFfKDAsIGZpbHRlciwgdGhpcy5lbXBCYXNlVXJsKTsKICAgICAgdGhpcy5maWx0ZXJfID0gZmlsdGVyOwogICAgfSwKICAgIGluaXREYXRhOiBmdW5jdGlvbiBpbml0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzMzMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI2KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjYkKF9jb250ZXh0MjYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNi5wcmV2ID0gX2NvbnRleHQyNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMzMy4kcm91dGUucGFyYW1zLmlkICE9PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzMy5sb2FkVmlld0ludm9pY2UoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpczMzLnNldERlZmF1bHREYXRhKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZExhdGVGZWU6IGZ1bmN0aW9uIGxvYWRMYXRlRmVlKCkgewogICAgICB2YXIgX3RoaXMzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjcoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNyQoX2NvbnRleHQyNykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI3LnByZXYgPSBfY29udGV4dDI3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBwcmljZUxldmVsID0gX3RoaXMzNC5pbnZvaWNlLnByaWNlTGV2ZWwgfHwge307CiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbmN5ID0gcHJpY2VMZXZlbC5jdXJyZW5jeSB8fCB7fTsKICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9IGN1cnJlbmN5LmNvZGUgfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9ICc/Y29kZT0nICsgY29kZTsKICAgICAgICAgICAgICAgICAgICBsYXRlRmVlSGFuZGxlci5saXN0KHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzQuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNC5sYXRlRmVlTGlzdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM0LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRWaWV3SW52b2ljZTogZnVuY3Rpb24gbG9hZFZpZXdJbnZvaWNlKCkgewogICAgICB2YXIgX3RoaXMzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjgoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyOCQoX2NvbnRleHQyOCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI4LnByZXYgPSBfY29udGV4dDI4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczM1LmJ0bkRpc2FibGVkID0gZmFsc2U7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMzUuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzUuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIudmlldyhfdGhpczM1LiRyb3V0ZS5wYXJhbXMuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzUuaW52b2ljZSA9IHJlcy5kYXRhLmRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNS5yZWZlcmVuY2VObyA9IF90aGlzMzUuaW52b2ljZS5yZWZlcmVuY2VObzsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM1Lmludm9pY2UudHJhbnNhY3Rpb25EYXRlID0gbmV3IERhdGUoX3RoaXMzNS5pbnZvaWNlLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNS5jdXN0b21lciA9IF90aGlzMzUuaW52b2ljZS5jdXN0b21lcjsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM1Lm1FbXBsb3llZSA9IF90aGlzMzUuaW52b2ljZS5lbXBsb3llZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM1LnRheExpc3RUb3RhbCA9IF90aGlzMzUuaW52b2ljZS50YXhMaXN0VG90YWw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNS5pdGVtTGluZXMgPSBfdGhpczM1Lmludm9pY2UuaXRlbUxpbmVzOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzUubU90aGVyQ2hhcmdlID0gX3RoaXMzNS5pbnZvaWNlLm90aGVyQ2hhcmdlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzUuZGVwb3NpdERlZHVjdGlvbiA9IF90aGlzMzUuaW52b2ljZS5kZXBvc2l0RGVkdWN0aW9uOyAvLyBjb25zdCB4UmF0ZSA9IHRoaXMuaW52b2ljZS5leGNoYW5nZVJhdGUKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmN1cnJlbmN5Q29kZSA9IHhSYXRlLmNvZGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCdjdXJyZW5jeUNvZGUnLCB4UmF0ZSkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNS50ZW1wbGF0ZUhhbmRsZSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM1LnRlbXBsYXRlID0gX3RoaXMzNS5pbnZvaWNlLmZvcm1UZW1wbGF0ZS5pZDsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM1LmpSYXcgPSBfdGhpczM1Lmludm9pY2UualJhdyB8fCBbXTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczM1Lm1PdGhlckNoYXJnZS5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzUuYWRkU2VsZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM1LmxvYWRQcm9qZWN0QnlDdXN0b21lcigpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMzNS5jdXN0b21lci5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNS5sb2FkQ3VzdG9tZXJCYWxhbmNlKF90aGlzMzUuY3VzdG9tZXIuaWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNS5zYWxlT3JkZXJzID0gX3RoaXMzNS5pbnZvaWNlLnJlZkZyb20gfHwgW107CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczM1LiRyb3V0ZS5xdWVyeS50eXBlID09PSAicmVjdXJyaW5nIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMzUuJHJvdXRlLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgidHJhbnNhY3Rpb25EYXRlIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJ0eXBlIiwgX3RoaXMzNS4kcm91dGUucGFyYW1zKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNS5pbnZvaWNlLnRyYW5zYWN0aW9uRGF0ZSA9IG5ldyBEYXRlKF90aGlzMzUuJHJvdXRlLnBhcmFtcy50cmFuc2FjdGlvbkRhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM1Lmludm9pY2UudHJhbnNhY3Rpb25EYXRlID0gbmV3IERhdGUoX3RoaXMzNS4kcm91dGUucGFyYW1zLnRyYW5zYWN0aW9uRGF0ZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM1Lm9uSW52b2ljZURhdGVDaGFuZ2VkKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM1LmdlbmVyYXRlTnVtYmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM1LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7CiAgICAgIHZhciB0ZXJtID0gdGhpcy5pbnZvaWNlLnBheW1lbnRUZXJtIHx8IHt9OwogICAgICB2YXIgcHJpY2VMID0gdGhpcy5pbnZvaWNlLnByaWNlTGV2ZWwgfHwge307CiAgICAgIHRoaXMuaWQgPSB1bmRlZmluZWQ7CiAgICAgIHRoaXMuaXRlbUxpbmVzID0gW107CiAgICAgIHRoaXMuaW52b2ljZSA9IG5ldyBJbnZvaWNlTW9kZWwoKTsKICAgICAgdGhpcy5pbnZvaWNlLnBheW1lbnRUZXJtID0gdGVybTsKICAgICAgdGhpcy5pbnZvaWNlLnByaWNlTGV2ZWwgPSBwcmljZUw7CiAgICAgIHRoaXMuY3VzdG9tZXIgPSAnJzsKICAgICAgdGhpcy5lbXBsb3llZSA9ICcnOwogICAgICB0aGlzLnNhbGVPcmRlcnMgPSBbXTsKICAgICAgdGhpcy5pbnZvaWNlLnRyYW5zYWN0aW9uVHlwZSA9IHRoaXMuaW52b2ljZVR5cGVzWzBdOwogICAgICB0aGlzLmdlbmVyYXRlTnVtYmVyKCk7CiAgICB9LAogICAgbG9hZFRyYW5zYWN0aW9uUmF0ZTogZnVuY3Rpb24gbG9hZFRyYW5zYWN0aW9uUmF0ZSgpIHsKICAgICAgdmFyIF90aGlzMzYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI5KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjkkKF9jb250ZXh0MjkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyOS5wcmV2ID0gX2NvbnRleHQyOS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKF90aGlzMzYuaW52b2ljZS50cmFuc2FjdGlvbkRhdGUpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcHJpY2VMZXZlbCA9IF90aGlzMzYuaW52b2ljZS5wcmljZUxldmVsIHx8IHt9OwogICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW5jeSA9IHByaWNlTGV2ZWwuY3VycmVuY3kgfHwge307CiAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBjdXJyZW5jeS5jb2RlIHx8ICcnOwoKICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNi5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeUhhbmRsZXIuZ2V0TGFzdEV4Y2hhbmdlUmF0ZUJ5RGF0ZShkYXRlLCBjb2RlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM2LmV4Y2hhbmdlUmF0ZSA9IHJlcy5kYXRhLmRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNi5jdXJyZW5jeUNvZGUgPSBfdGhpczM2LmV4Y2hhbmdlUmF0ZS5jb2RlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzYudHJhbnNhY3Rpb25SYXRlID0gX3RoaXMzNi5leGNoYW5nZVJhdGUucmF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM2Lmludm9pY2UudHhuUmF0ZSA9IF90aGlzMzYuZXhjaGFuZ2VSYXRlLnJhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNi5pbnZvaWNlLmV4Y2hhbmdlUmF0ZSA9IF90aGlzMzYuZXhjaGFuZ2VSYXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNi5sb2FkQ3VzdG9tZXJEZXBvc2l0QmFsYW5jZShfdGhpczM2LmN1c3RvbWVyLmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBfdGhpczM2LmxvYWRTYWxlT3JkZXIoKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMzNi5sb2FkVHJhbnNhY3Rpb25UYXhSYXRlKCk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRUcmFuc2FjdGlvblRheFJhdGU6IGZ1bmN0aW9uIGxvYWRUcmFuc2FjdGlvblRheFJhdGUoKSB7CiAgICAgIHZhciBfdGhpczM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMwJChfY29udGV4dDMwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzAucHJldiA9IF9jb250ZXh0MzAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShfdGhpczM3Lmludm9pY2UudHJhbnNhY3Rpb25EYXRlKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSAiS0hSIjsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgIT09IHVuZGVmaW5lZCB8fCBjb2RlICE9PSAiIikgewogICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lIYW5kbGVyLmdldExhc3RFeGNoYW5nZVJhdGVCeURhdGUoZGF0ZSwgY29kZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM3Lmludm9pY2UudGF4RXhjaGFuZ2VSYXRlID0gcmVzLmRhdGEuZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMzApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQ3JlZGl0TGltaXQ6IGZ1bmN0aW9uIGxvYWRDcmVkaXRMaW1pdCgpIHsKICAgICAgdmFyIF90aGlzMzggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMxKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzEkKF9jb250ZXh0MzEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMS5wcmV2ID0gX2NvbnRleHQzMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMzguY3VzdG9tZXIpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBfc3RyRmlsdGVyID0gJz9pZD0nICsgX3RoaXMzOC5jdXN0b21lci5pZCArICcmdHJhbnNhY3Rpb25EYXRlPScgKyBfdGhpczM4Lmludm9pY2UudHJhbnNhY3Rpb25EYXRlICsgJyZ0eXBlPUN1c3RvbWVyJzsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczM4Lmludm9pY2UuY3JlZGl0TGltaXQgPSAwOwogICAgICAgICAgICAgICAgICAgICAgY3JlZGl0TGltaXRIYW5kbGVyLmdldChfc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY3JlZGl0TGltaXRJdGVtID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVkaXQgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzguaW52b2ljZS5jcmVkaXRMaW1pdCA9IGtlbmRvLnBhcnNlRmxvYXQoY3JlZGl0LmFtb3VudCB8fCAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMzEpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUGF5bWVudFRlcm1MaXN0OiBmdW5jdGlvbiBsb2FkUGF5bWVudFRlcm1MaXN0KCkgewogICAgICB2YXIgX3RoaXMzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMiQoX2NvbnRleHQzMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMyLnByZXYgPSBfY29udGV4dDMyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMzOS5jdXN0b21lcikgewogICAgICAgICAgICAgICAgICAgICAgdmFyIF9zdHJGaWx0ZXIyID0gJz9pZD0nICsgX3RoaXMzOS5jdXN0b21lci5pZCArICcmdHJhbnNhY3Rpb25EYXRlPScgKyBfdGhpczM5Lmludm9pY2UudHJhbnNhY3Rpb25EYXRlICsgJyZ0eXBlPUN1c3RvbWVyJzsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczM5Lmludm9pY2UucGF5bWVudFRlcm0gPSB7fTsKICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRUZXJtSGFuZGxlcl8uZ2V0KF9zdHJGaWx0ZXIyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXJtcyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzOS5pbnZvaWNlLnBheW1lbnRUZXJtID0gdGVybXMudGVybTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM5Lmludm9pY2UuYXBwcm92ZWRUZXJtID0gdGVybXMudGVybTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzOS5vblBheW1lbnRUZXJtQ2hhbmdlZCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uUHJpY2VMZXZlbENoYW5nZTogZnVuY3Rpb24gb25QcmljZUxldmVsQ2hhbmdlKCkgewogICAgICB0aGlzLmlzUHJpY2VMZXZlbENoYW5nZWQgPSB0cnVlOwogICAgICB0aGlzLmxvYWRUcmFuc2FjdGlvblJhdGUoKTsKICAgICAgdGhpcy5jbGVhclVPTUl0ZW0oKTsKICAgICAgdGhpcy5sb2FkTGF0ZUZlZSgpOwogICAgfSwKICAgIGNsZWFyVU9NSXRlbTogZnVuY3Rpb24gY2xlYXJVT01JdGVtKCkgewogICAgICB2YXIgX3RoaXM0MCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzMoKSB7CiAgICAgICAgdmFyIGRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzMkKF9jb250ZXh0MzMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMy5wcmV2ID0gX2NvbnRleHQzMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZHMgPSBfdGhpczQwLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgICAgICAgICAgIGRzLmRhdGEoKS5tYXAoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgICAgICAgbi5zZXQoJ3VvbScsIHt9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX3RoaXM0MC5pc1ByaWNlTGV2ZWxDaGFuZ2VkID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0RGVmYXVsdERhdGE6IGZ1bmN0aW9uIHNldERlZmF1bHREYXRhKCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgZHMuZGF0YShbXSk7CiAgICAgIHZhciB0ZXJtID0gdGhpcy5pbnZvaWNlLnBheW1lbnRUZXJtIHx8IHt9OwogICAgICB2YXIgcHJpY2VMID0gdGhpcy5pbnZvaWNlLnByaWNlTGV2ZWwgfHwge307CiAgICAgIHRoaXMuaWQgPSB1bmRlZmluZWQ7CiAgICAgIHRoaXMuaW52b2ljZSA9IG5ldyBJbnZvaWNlTW9kZWwoKTsKICAgICAgdGhpcy5pbnZvaWNlLnBheW1lbnRUZXJtID0gdGVybTsKICAgICAgdGhpcy5pbnZvaWNlLnByaWNlTGV2ZWwgPSBwcmljZUw7CiAgICAgIHRoaXMuY3VzdG9tZXIgPSB7fTsKICAgICAgdGhpcy5tRW1wbG95ZWUgPSB7fTsKICAgICAgdGhpcy5zYWxlT3JkZXJzID0gW107CiAgICAgIHRoaXMuaW52b2ljZS50cmFuc2FjdGlvblR5cGUgPSB0aGlzLmludm9pY2VUeXBlc1swXTsKICAgICAgdGhpcy5nZW5lcmF0ZU51bWJlcigpOwogICAgICB0aGlzLmxvYWRTZWdtZW50KCk7CiAgICAgIHRoaXMubG9hZExvY2F0aW9uKCk7CiAgICAgIHRoaXMuYWRkUm93KCk7IC8vIHRoaXMuYWRkUm93KCkKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBkaXNhYmxlZFNMUDogZnVuY3Rpb24gZGlzYWJsZWRTTFAoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICB2YXIgcmVmRiA9IHRoaXMuaW52b2ljZS5yZWZGcm9tIHx8IFtdOwoKICAgICAgICBpZiAocmVmRi5sZW5ndGggPiAwKSB7CiAgICAgICAgICByZXR1cm4gISFyZWZGLmxlbmd0aCA+IDA7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgZGlzYWJsZWRNZTogZnVuY3Rpb24gZGlzYWJsZWRNZSgpIHsKICAgICAgcmV0dXJuICEhdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgfSwKICAgIGRpc2FibGVkRGVwb3NpdDogZnVuY3Rpb24gZGlzYWJsZWREZXBvc2l0KCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGVwb3NpdERlZHVjdGlvbiA+IDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgdmFsaWRDdXN0b21lcjogZnVuY3Rpb24gdmFsaWRDdXN0b21lcigpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tZXIuaWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmN1c3RvbWVyLmlkICE9PSBudWxsOwogICAgfSwKICAgIGhpZGRlbkJ1dHRvbjogZnVuY3Rpb24gaGlkZGVuQnV0dG9uKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9IC8vIGRlcG9zaXREZWR1Y3Rpb246IHsKICAgIC8vICAgICBnZXQodmFsdWUpIHsKICAgIC8vICAgICAgICAgcmV0dXJuIHZhbHVlCiAgICAvLyAgICAgfSwgc2V0KHZhbHVlKSB7CiAgICAvLyAgICAgICAgIHRoaXMuJGVtaXQoJ2RlcG9zaXREZWR1Y3Rpb24nLCB2YWx1ZSkKICAgIC8vICAgICB9CiAgICAvLyB9CgogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIGlkKCkgewogICAgLy8gICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCkgewogICAgLy8gICAgICAgICB0aGlzLnNldERlZmF1bHREYXRhKCk7CiAgICAvLyAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAvLyAgICAgICAgIHRoaXMubG9hZFZpZXdJbnZvaWNlKCk7CiAgICAvLyAgICAgfQogICAgLy8gfSwKICAgICckcm91dGUnOiAnbG9hZFNhbGVGb3JtQ29udGVudCcKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWRQcmljZUxldmVsKCk7CiAgICB0aGlzLmxvYWRUYXgoKTsKICAgIHRoaXMubG9hZFNhbGVVbml0SXRlbXMoKTsKICAgIHRoaXMubG9hZFByZWZpeCgpOyAvLyB0aGlzLmxvYWRMYXRlRmVlKCk7CgogICAgdGhpcy5sb2FkU2VnbWVudCgpOwogICAgdGhpcy5sb2FkTG9jYXRpb24oKTsKICAgIHRoaXMubG9hZFBheW1lbnRPcHRpb24oKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfbW91bnRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM0KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM0JChfY29udGV4dDM0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzNC5wcmV2ID0gX2NvbnRleHQzNC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDM0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRTYWxlRm9ybUNvbnRlbnQoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICB0aGlzLnJlcXVlc3REYXRhKDAsIHRoaXMuZmlsdGVyLCB0aGlzLmN1c0Jhc2VVcmwpOwogICAgICAgICAgICAgIF9jb250ZXh0MzQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZERpc2NvdW50SXRlbSgpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIF9jb250ZXh0MzQubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZFNhbGVDaGFubmVsKCk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgX2NvbnRleHQzNC5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkRW1wbG95ZWVDZW50ZXIoKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dDM0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkUGF5bWVudFRlcm0oKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgX2NvbnRleHQzNC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZEFjY291bnQoKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgX2NvbnRleHQzNC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZE90aGVyQ2hhcmdlKCk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIF9jb250ZXh0MzQubmV4dCA9IDE3OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRWaWV3SW52b2ljZSgpOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMzQsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHJldHVybiBfbW91bnRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBtb3VudGVkOwogIH0oKQp9Ow=="},{"version":3,"sources":["Invoice.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["<template>\n    <v-app class=\"zoom-in\">\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\">\n                        <v-row>\n                            <v-col\n                                class=\"bigSide pr-2 py-0\"\n                                sm=\"8\"\n                                cols=\"12\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_big_bar_class: isHideBar }\">\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">{{ $t(\"invoice\") }}</h2>\n                                        <v-icon\n                                            v-if=\"isHideBar\"\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"float-right\">close\n                                        </v-icon>\n                                        <span style=\"transition: .3s ease-in; z-index:10;\"\n                                              :class=\"{ iconArrow: !isHideBar, iconArrowHide: isHideBar}\">\n                                            <v-icon\n                                                size=\"22\"\n                                                class=\"arr_icon\"\n                                                @click=\"hideSmallSidebar\"\n                                                v-if=\"isHideBar\">mdi-chevron-left-circle\n                                            </v-icon>\n                                            <v-icon\n                                                size=\"22\"\n                                                class=\"arr_icon\"\n                                                @click=\"hideSmallSidebar\"\n                                                v-if=\"!isHideBar\">mdi-chevron-right-circle\n                                            </v-icon>\n                                        </span>\n                                    </v-card>\n                                    <v-card outlined dense class=\"px-4 no_border\" color=\"grayBg\">\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0 pt-4\">\n                                                <label class=\"label  mb-0\">{{ $t(\"customer\") }}</label>\n                                                <v-col\n                                                    sm=\"12\"\n                                                    cols=\"12\"\n                                                    class=\"kendo_dropdown_custom px-0 pb-3 pt-0\">\n                                                    <dropdownlist\n                                                        :data-items=\"customerList\"\n                                                        @change=\"onChange\"\n                                                        :value=\"customer\"\n                                                        :data-item-key=\"dataItemKey\"\n                                                        :text-field=\"textField\"\n                                                        :default-item=\"defaultItem\"\n                                                        :filterable=\"true\"\n                                                        :required=\"true\"\n                                                        :disabled=\"disabledMe\"\n                                                        :valid=\"validCustomer\"\n                                                        @filterchange=\"onFilterChange\">\n                                                    </dropdownlist>\n                                                </v-col>\n                                                <label class=\"label mb-0\">{{ $t(\"invoice_type\") }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :items=\"invoiceTypes\"\n                                                    item-value=\"id\"\n                                                    item-text=\"name\"\n                                                    :disabled=\"disabledMe\"\n                                                    v-model=\"invoice.transactionType\"\n                                                    @change=\"onInvoiceTypeChanged\"\n                                                    :rules=\"[(v) => !!v || 'Transaction Currency is required']\"\n                                                    return-object\n                                                    outlined/>\n                                                <label class=\"label  mb-0\">{{ $t(\"date\") }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"invoice.transactionDate\"\n                                                    :disabled=\"disabledMe\"\n                                                    @onChanged=\"onInvoiceDateChanged\"\n                                                    @emitDate=\"invoice.transactionDate = $event\"/>\n                                                <label class=\"label mb-0\">{{ $t(\"number\") }}</label>\n                                                <v-row class=\"mt-1 mr-0\">\n                                                    <v-col sm=\"3\" cols=\"3\" class=\"py-0 pr-0\">\n                                                        <div class=\"code_text text-bold\">\n                                                            {{ invoice.transactionType.abbr }}\n                                                        </div>\n                                                    </v-col>\n                                                    <v-col sm=\"7\" cols=\"7\" class=\"py-0 pl-0 pr-1\">\n                                                        <v-text-field\n                                                            class=\" custom-border \"\n                                                            v-model=\"invoice.number\"\n                                                            outlined\n                                                            disabled\n                                                            :rules=\"[(v) => !!v || 'Number is required']\"\n                                                            required/>\n                                                    </v-col>\n                                                    <v-col sm=\"2\" cols=\"2\" class=\"py-0 px-0\">\n                                                        <v-icon\n                                                            color=\"black\"\n                                                            size=\"30\"\n                                                            class=\"border_qrcode\"\n                                                            :disabled=\"disabledMe\"\n                                                            @click=\"generateNumber\">mdi-qrcode\n                                                        </v-icon>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                            <v-col sm=\"8\" cols=\"12\" class=\"pt-4 pb-0\">\n                                                <v-row>\n                                                    <v-col sm=\"6\" cols=\"12\" class=\" pt-0\">\n                                                        <p class=\"mb-1 d-block\">\n                                                            {{ $t(\"current_balance\") }}\n                                                        </p>\n                                                        <h3 class=\"color_green float-right\">\n                                                            {{\n                                                                numberFormat(invoice.currentBalance)\n                                                            }}{{ baseCurrencyCode }}\n                                                        </h3>\n                                                    </v-col>\n                                                    <v-col sm=\"6\" cols=\"12\" class=\"pl-0 pt-0\">\n                                                        <p class=\"mb-1 d-block\">\n                                                            {{ $t(\"credit_limit_allowed\") }}\n                                                        </p>\n                                                        <h3 class=\"color_green float-left\">\n                                                            {{\n                                                                creditLimitUsage(invoice.currentBalance, invoice.creditLimit)\n                                                            }}\n                                                        </h3>\n                                                        <h3 class=\"color_green float-right\">\n                                                            {{ numberFormat(invoice.creditLimit) }}{{\n                                                                baseCurrencyCode\n                                                            }}\n                                                        </h3>\n                                                    </v-col>\n                                                </v-row>\n                                                <v-row class=\"mr-0 mt-1\">\n                                                    <v-col class=\"pb-0 pt-3\" sm=\"6\" cols=\"12\">\n                                                        <label class=\"label mb-0\">{{ $t(\"term\") }}</label>\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            v-model=\"invoice.paymentTerm\"\n                                                            :items=\"paymentTerms\"\n                                                            @change=\"onPaymentTermChanged\"\n                                                            placeholder=\"Term\"\n                                                            :rules=\"[(v) => !!v['id'] || $t('is_required')]\"\n                                                            item-text=\"name\"\n                                                            item-value=\"id\"\n                                                            return-object\n                                                            outlined/>\n                                                        <label\n                                                            class=\"label mb-0\">{{ $t(\"accounts_receivable\") }}</label>\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            v-model=\"invoice.receivableAcc\"\n                                                            :items=\"receivableAcc\"\n                                                            item-value=\"id\"\n                                                            :item-text=\"(item) => `${item.number} - ${item.name}`\"\n                                                            return-object\n                                                            placeholder=\"Account Receivable\"\n                                                            tage=\"Account Receivable\"\n                                                            outlined/>\n                                                        <div v-if=\"saleFormContent.lateFee\" id=\"hide\">\n                                                            <label class=\"label mb-0\">{{ $t(\"late_fee\") }}</label>\n                                                            <v-select\n                                                                class=\"mt-1\"\n                                                                v-model=\"invoice.lateFee\"\n                                                                :items=\"lateFeeList\"\n                                                                item-value=\"id\"\n                                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                                return-object\n                                                                placeholder=\"Late Fee\"\n                                                                tage=\"Late Fee\"\n                                                                clearable\n                                                                outlined/>\n                                                        </div>\n                                                        <!--                                                        <label class=\"label mb-0\">{{ $t('discount_promotion') }}</label>-->\n                                                    </v-col>\n                                                    <v-col class=\"pb-0 pt-3 pr-0\" sm=\"6\" cols=\"12\">\n                                                        <label class=\"label  mb-0\">{{ $t(\"due_date\") }}</label>\n                                                        <app-datepicker\n                                                            :initialDate=\"invoice.dueDate\"\n                                                            @emitDate=\"dueDate = $event\"/>\n                                                        <!--                                                        <label class=\"label mb-0\">{{ $t('invoice_currency') }}</label>-->\n                                                        <!--                                                        <v-select class=\"mt-1\"-->\n                                                        <!--                                                                  v-model=\"invoice.currency\"-->\n                                                        <!--                                                                  :items=\"currencies\"-->\n                                                        <!--                                                                  placeholder=\"currency\"-->\n                                                        <!--                                                                  item-value=\"id\"-->\n                                                        <!--                                                                  :item-text=\"item =>`${item.code} - ${item.name}`\"-->\n                                                        <!--                                                                  return-object-->\n                                                        <!--                                                                  outlined-->\n                                                        <!--                                                                  clearable-->\n                                                        <!--                                                        />-->\n                                                        <label class=\"label mb-0\">{{ $t(\"price_level\") }}</label>\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            v-model=\"invoice.priceLevel\"\n                                                            :items=\"priceLevel\"\n                                                            item-value=\"id\"\n                                                            @change=\"onPriceLevelChange\"\n                                                            :disabled=\"disabledMe\"\n                                                            item-text=\"name\"\n                                                            return-object\n                                                            placeholder=\"Price Level\"\n                                                            tage=\"Default Price Level\"\n                                                            outlined\n                                                            :rules=\"[(v) => !!v['id'] || $t('is_required')]\"/>\n                                                        <v-col\n                                                            sm=\"12\"\n                                                            col=\"12\"\n                                                            class=\"d-flex justify-space-between pt-0\">\n                                                            <div>\n                                                                <p class=\"label mb-0\">{{ $t(\"currency\") }}</p>\n                                                                <p class=\"label mb-0 mt-4\">{{ currencyCode }}</p>\n                                                            </div>\n                                                            <div>\n                                                                <p class=\"label mb-0\">{{ $t(\"rate\") }}</p>\n                                                                <p class=\"label mb-0 mt-4\">{{ transactionRate }}</p>\n                                                            </div>\n                                                        </v-col>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-row style=\"background-color: #fff;\">\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-4 pb-0 px-4\">\n                                            <kendo-datasource\n                                                ref=\"itemLineDS\"\n                                                :data=\"itemLines\"\n                                                :change=\"dataSourceChanged\"/>\n                                            <kendo-grid\n                                                id=\"gridItemLine\"\n                                                class=\"grid-function\"\n                                                :data-source-ref=\"'itemLineDS'\"\n                                                :sortable=\"false\"\n                                                :column-menu=\"true\"\n                                                :editable=\"true\"\n                                                v-on:databound=\"dataBound\"\n                                                :scrollable-virtual=\"true\">\n                                                <kendo-grid-column\n                                                    :command=\"{iconClass: 'k-icon k-i-trash', text: ' ', click: removeRow, className: 'btn-plus isEditable'}\"\n                                                    :title=\"''\"\n                                                    :width=\"63\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"/>\n                                                <kendo-grid-column\n                                                    :title=\"$t('no.')\"\n                                                    :width=\"53\"\n                                                    :column-menu=\"false\"\n                                                    :template=\"rowNumberTmpl\"\n                                                    :headerAttributes=\"{style: 'background-color: #EDF1F5;', class: 'text-products'}\"\n                                                    :attributes=\"{style: 'text-align: products'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'serviceDate'\"\n                                                    :title=\"$t('date_from')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.serviceDate\"\n                                                    :template=\"'<span>#= kendo.toString(new Date(serviceDate), dateFormat)#</span>'\"\n                                                    :editor=\"ServiceDateEditor\"\n                                                    :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'serviceDateTo'\"\n                                                    :title=\"$t('date_to')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.serviceDateTo\"\n                                                    :template=\"'<span>#= kendo.toString(new Date(serviceDateTo), dateFormat)#</span>'\"\n                                                    :editor=\"ServiceDateToEditor\"\n                                                    :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'item'\"\n                                                    :title=\"$t('item')\"\n                                                    :template=\"itemTemplate\"\n                                                    :editor=\"ItemDropDownEditor\"\n                                                    :attributes=\"{class:'tb_name_td isEditable'}\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'description'\"\n                                                    :title=\"$t('description')\"\n                                                    :template=\"'<span>#=description#</span>'\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'uom'\"\n                                                    :title=\"$t('uom')\"\n                                                    :width=\"120\"\n                                                    :template=\"UOMTemplate\"\n                                                    :editor=\"UOMDropDownEditor\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: left'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'qoh'\"\n                                                    :title=\"$t('on_hand')\"\n                                                    :template=\"qohTemplate\"\n                                                    :width=\"170\"\n                                                    :editable=\"() => {return false}\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5',}\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'qty'\"\n                                                    :title=\"$t('qty')\"\n                                                    :format=\"'{0:n}'\"\n                                                    :editor=\"numberEditor\"\n                                                    :template=\"'<span>#=qty || 0#</span>'\"\n                                                    :width=\"120\"\n                                                    :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5',}\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'price'\"\n                                                    :title=\"$t('price')\"\n                                                    :width=\"200\"\n                                                    :template=\"'<span>#=kendo.toString(price || 0, decimalFormat)#</span>'\"\n                                                    :editor=\"numberEditor\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5',}\"\n                                                    :attributes=\"{style: 'text-align: right'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'amount'\"\n                                                    :title=\"$t('amount')\"\n                                                    :width=\"200\"\n                                                    :editable=\"() => {return false;}\"\n                                                    :template=\"'<span>#=kendo.toString(amount || 0, decimalFormat)#</span>'\"\n                                                    :editor=\"numberEditor\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: right'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'modifier'\"\n                                                    :title=\"$t('modifier')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.modifier\"\n                                                    :template=\"modifierTemplate\"\n                                                    :editor=\"ModifierDropDownEditor\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'discountItem'\"\n                                                    :title=\"$t('discount_item')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.discountItem\"\n                                                    :template=\"discountItemTemplate\"\n                                                    :editor=\"DiscountItemDropDownEditor\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: left'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'vatTax'\"\n                                                    :title=\"$t('vat')\"\n                                                    :width=\"200\"\n                                                    :template=\"vatTemplate\"\n                                                    :editor=\"VatTaxDropDownEditor\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5',}\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"/>\n\n                                                <kendo-grid-column\n                                                    :field=\"'specificTax'\"\n                                                    :title=\"$t('specific_tax')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.specificTax\"\n                                                    :template=\"'<span>#=specificTax.defaultTax || ``#</span>'\"\n                                                    :editor=\"SpecificTaxDropDownEditor\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'otherTax'\"\n                                                    :title=\"$t('other_tax')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.otherTax\"\n                                                    :template=\"'<span>#=otherTax.defaultTax||``#</span>'\"\n                                                    :editor=\"OtherTaxDropDownEditor\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'publicLightingTax'\"\n                                                    :title=\"$t('pl_tax')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.publicLightingTax\"\n                                                    :template=\"'<span>#=publicLightingTax.defaultTax||``#</span>'\"\n                                                    :editor=\"PublicLightingTaxDropDownEditor\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'otherChargeItem'\"\n                                                    :title=\"$t('other_charge')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.otherCharge\"\n                                                    :template=\"'<span>#=otherChargeItem.name || ``#'\"\n                                                    :editor=\"OtherChargeDropDownEditor\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'saleUnit'\"\n                                                    :title=\"$t('sale_unit')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.saleUnit\"\n                                                    :template=\"saleUnitTemplate\"\n                                                    :editor=\"SaleUnitDropDownEditor\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'employee'\"\n                                                    :title=\"$t('employee')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.employee\"\n                                                    :template=\"empImpl\"\n                                                    :editor=\"EmployeeDropDownEditor\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"/>\n                                            </kendo-grid>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-2\">\n                                            <v-btn\n                                                color=\"primary\"\n                                                class=\"float-left btn_plus mr-2\"\n                                                @click=\"addRow\">\n                                                <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                            </v-btn>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <v-row>\n                                                <v-col class=\"pt-0\" sm=\"5\" cols=\"6\">\n                                                    <v-card class=\"no-boxshadow rounded-4 pa-3\" color=\"grayBg\">\n                                                        <v-row>\n                                                            <v-col class=\"py-0 pa-4\" sm=\"12\" cols=\"12\">\n                                                                <label\n                                                                    class=\"label mb-0\">{{\n                                                                        $t(\"billing_address\")\n                                                                    }}</label>\n                                                                <v-select\n                                                                    class=\"mt-1\"\n                                                                    v-model=\"invoice.billingAddress\"\n                                                                    :items=\"billingAddress\"\n                                                                    item-value=\"id\"\n                                                                    item-text=\"name\"\n                                                                    tage=\"Billing Address\"\n                                                                    placeholder=\"address\"\n                                                                    outlined/>\n                                                                <label\n                                                                    class=\"label mb-0\">{{\n                                                                        $t(\"pickup_delivery_address\")\n                                                                    }}</label>\n                                                                <v-select\n                                                                    class=\"mt-1\"\n                                                                    v-model=\"invoice.deliveryAddress\"\n                                                                    :items=\"deliveryAddress\"\n                                                                    item-value=\"id\"\n                                                                    item-text=\"name\"\n                                                                    tage=\"Pickup/ Delivery Address\"\n                                                                    placeholder=\"address\"\n                                                                    outlined/>\n                                                                <label\n                                                                    class=\"label  mb-0\">{{\n                                                                        $t(\"pickup_delivery_date_time\")\n                                                                    }}</label>\n                                                                <app-datepicker\n                                                                    :initialDate=\"invoice.deliveryDateTime\"\n                                                                    @emitDate=\"deliveryDateTime = $event\"/>\n                                                                <label>{{ $t(\"message_on_invoice\") }}</label>\n                                                                <v-textarea\n                                                                    class=\"mt-1\"\n                                                                    v-model=\"invoice.transactionNote\"\n                                                                    outlined\n                                                                    no-resize\n                                                                    height=\"70px\"\n                                                                    tage=\"Message on Invoice\"\n                                                                    placeholder=\"This will appear on the invoice\"/>\n                                                                <label>{{ $t(\"message_on_journal\") }}</label>\n                                                                <v-textarea\n                                                                    class=\"mt-1\"\n                                                                    v-model=\"invoice.journalNote\"\n                                                                    outlined\n                                                                    no-resize\n                                                                    height=\"70px\"\n                                                                    tage=\"Message on Order\"\n                                                                    placeholder=\"This will appear on the journal\"/>\n                                                            </v-col>\n                                                        </v-row>\n                                                    </v-card>\n                                                </v-col>\n                                                <v-col class=\"pt-0\" sm=\"7\" cols=\"6\">\n                                                    <v-simple-table>\n                                                        <template v-slot:default>\n                                                            <tbody>\n                                                            <tr>\n                                                                <td class=\"text-left pr-0\">{{ $t(\"subtotal\") }}</td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">{{\n                                                                        numberFormat(invoice.subTotal)\n                                                                    }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left pr-0\">{{\n                                                                        $t(\"general_discount\")\n                                                                    }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    ({{ numberFormat(invoice.discountTotal) }})\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left pr-0\">{{\n                                                                        $t(\"other_charge\")\n                                                                    }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    {{ numberFormat(invoice.otherChargeTotal) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left pr-0\">{{ $t(\"total_tax\") }}\n                                                                    <v-btn\n                                                                        @click=\"dialogTax = true\"\n                                                                        color=\"grayBg\"\n                                                                        outlined\n                                                                        class=\"black--text rounded-4 text-bold  float-right text-uppercase\"\n                                                                        style=\"height: 30px !important;\">{{ $t(\"tax\") }}\n                                                                    </v-btn>\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    {{ numberFormat(invoice.totalTaxAmount) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left pr-0\" width=\"240px\">\n                                                                    <v-select\n                                                                        class=\"mt-3\"\n                                                                        v-model=\"invoice.specificDiscountItem\"\n                                                                        :items=\"specificDiscountItem\"\n                                                                        item-text=\"name\"\n                                                                        @change=\"onSpecificDiscountChanged\"\n                                                                        item-value=\"id\"\n                                                                        return-object\n                                                                        clearable\n                                                                        outlined/>\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    ({{\n                                                                        numberFormat(invoice.specificDiscountTotal ? invoice.specificDiscountTotal : 0)\n                                                                    }})\n                                                                </td>\n                                                            </tr>\n                                                            <!--                                                            <tr>-->\n                                                            <!--                                                                <td class=\"text-left\">{{ $t('delivery') }}</td>-->\n                                                            <!--                                                                <td class=\"text-center\">:</td>-->\n                                                            <!--                                                                <td class=\"text-right\">{{ invoice.deliveryFee }}</td>-->\n                                                            <!--                                                            </tr>-->\n\n                                                            <tr v-for=\"(num, index) in numSelect\"\n                                                                :key=\"index\"\n                                                                class=\"hide_form_alert\">\n                                                                <td class=\"text-left text-uppercase pr-0\">\n                                                                    <v-btn\n                                                                        v-if=\"num == 1\"\n                                                                        @click=\"addSelect\"\n                                                                        class=\"float-left mt-2 mr-1 pa-1\"\n                                                                        small>\n                                                                        <v-icon\n                                                                            color=\"primary\"\n                                                                            size=\"16\"\n                                                                            class=\"ma-1\">mdi-plus\n                                                                        </v-icon>\n                                                                    </v-btn>\n                                                                    <v-btn v-if=\"num > 1\"\n                                                                           @click=\"removeSelect(index)\"\n                                                                           class=\"float-left mt-2 mr-1 pa-1\"\n                                                                           small>\n                                                                        <v-icon\n                                                                            color=\"primary\"\n                                                                            size=\"16\"\n                                                                            class=\"ma-1\">fa-trash\n                                                                        </v-icon>\n                                                                    </v-btn>\n                                                                    <v-select\n                                                                        class=\"my-2 capitalize\"\n                                                                        v-model=\"mOtherCharge[index]\"\n                                                                        :items=\"otherChargeList\"\n                                                                        item-text=\"name\"\n                                                                        @change=\"onOtherChargeChange\"\n                                                                        item-value=\"id\"\n                                                                        return-object\n                                                                        clearable\n                                                                        outlined/>\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right color_green text-bold\">\n                                                                    {{\n                                                                        numberFormat(onOtherAmount(mOtherCharge[index]))\n                                                                    }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr style=\"background: #F8F8F9\">\n                                                                <td class=\"text-left text-uppercase pr-0\">{{\n                                                                        $t(\"total\")\n                                                                    }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right color_green text-bold\" id=\"total\">\n                                                                    {{ numberFormat(invoice.total) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left pr-0\">{{ $t(\"deposit\") }}\n                                                                    <span\n                                                                        class=\"float-right color_green\">{{\n                                                                            numberFormat(invoice.depositAmount)\n                                                                        }}</span>\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right hide_form_alert\">\n                                                                    <v-text-field\n                                                                        type=\"number\"\n                                                                        :min=0\n                                                                        :max=\"invoice.depositAmount\"\n                                                                        class=\" text-right float-right deposite_input\"\n                                                                        v-model=\"depositDeduction\"\n                                                                        @change=\"onDepositDeductionChange\"\n                                                                        :disabled=\"disabledDeposit\"\n                                                                        tage=\"Deposit\"\n                                                                        width=\"80\"\n                                                                        outlined/>\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left\">{{ $t(\"amount_due\") }}</td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right color_green text-bold\">\n                                                                    {{ numberFormat(invoice.remainingAmount) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left\">dr</td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right color_green text-bold\">\n                                                                    {{ numberFormat(invoice.dr) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left\">cr</td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right color_green text-bold\">\n                                                                    {{ numberFormat(invoice.cr) }}\n                                                                </td>\n                                                            </tr>\n                                                            </tbody>\n                                                        </template>\n                                                    </v-simple-table>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n                                    <v-divider/>\n                                    <v-card outlined dense class=\"no_border function_footer\">\n                                        <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                                            <span v-html=\"errorMessage\"/>\n                                        </v-alert>\n                                        <v-menu>\n                                            <template v-slot:activator=\"{ on }\">\n                                                <v-btn class=\"mr-2 float-left select_template\" v-on=\"on\">\n                                                    {{\n                                                        template >= 0 ? templatesForm[template].name : $t(\"select_template\")\n                                                    }}\n                                                    <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                                </v-btn>\n                                            </template>\n                                            <v-list>\n                                                <v-list-item-group>\n                                                    <v-list-item\n                                                        v-for=\"(item, index) in templatesForm\"\n                                                        @click=\"ChoseTemplate(index)\"\n                                                        :key=\"index\">\n                                                        <v-list-item-content>\n                                                            <v-list-item-title>\n                                                                {{ item.name }}\n                                                            </v-list-item-title>\n                                                        </v-list-item-content>\n                                                    </v-list-item>\n                                                </v-list-item-group>\n                                            </v-list>\n                                        </v-menu>\n                                        <v-btn\n                                            outlined\n                                            class=\"text-capitalize  black--text float-left\"\n                                            color=\"primary\"\n                                            @click=\"cancel\">{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <!--                    <v-menu>-->\n                                        <!--                      <template v-slot:activator=\"{ on }\">-->\n                                        <!--                        <v-btn-->\n                                        <!--                            class=\"ml-2 float-right text-capitalize  white&#45;&#45;text\"-->\n                                        <!--                            color=\"secondary\"-->\n                                        <!--                            v-on=\"on\"-->\n                                        <!--                        >-->\n                                        <!--                          {{ $t(\"save_option\") }}-->\n                                        <!--                          <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>-->\n                                        <!--                        </v-btn>-->\n                                        <!--                      </template>-->\n                                        <!--                      <v-list rounded>-->\n                                        <!--                        <v-list-item-group>-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title-->\n                                        <!--                                  v-if=\"!isEdit\"-->\n                                        <!--                                  @click=\"saveNew\"-->\n                                        <!--                              >-->\n                                        <!--                                {{ $t(\"save_new\") }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title @click=\"onSaveClose(false, 1)\">-->\n                                        <!--                                {{ $t(\"save_print\") }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                          &lt;!&ndash; <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title>{{-->\n                                        <!--                                  $t('save_draft')-->\n                                        <!--                                }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item> &ndash;&gt;-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title @click=\"onSaveClose(true, 0)\"-->\n                                        <!--                              >{{ $t(\"save_send_close\") }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                        </v-list-item-group>-->\n                                        <!--                      </v-list>-->\n                                        <!--                    </v-menu>-->\n                                        <v-btn\n                                            style=\"margin-left: 10px !important\"\n                                            class=\"float-right text-capitalize  white--text\"\n                                            @click=\"onSaveClose('close', false, 0)\"\n                                            color=\"primary\">{{ $t(\"save_pay\") }}\n                                        </v-btn>\n                                        <v-btn\n                                            class=\"float-right text-capitalize  white--text\"\n                                            @click=\"onSaveClose('close', false, 0)\"\n                                            color=\"primary\">{{ $t(\"save_close\") }}\n                                        </v-btn>\n                                        <v-btn color=\"secondary\"\n                                               style=\"margin-right: 10px !important\"\n                                               class=\"white--text float-right text-capitalize\"\n                                               @click=\"onSaveClose('new', false, 0)\" :hidden=\"hiddenButton\">\n                                            {{ $t(\"save_new\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-form>\n                            </v-col>\n                            <v-col\n                                class=\"smallSide pl-2 pt-0\"\n                                sm=\"4\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_small_bar_class: isHideBar }\">\n                                <div class=\"d-flex justify-end\">\n                                    <h3\n                                        style=\"color: #b3b5bc; font-size:20px;\"\n                                        v-if=\"!isHideBar\"\n                                        class=\"text-uppercase\">\n                                        <span class=\"pointer\" @click=\"Help('invoice')\">{{ $t(\"help\") }}</span>\n                                        <v-icon\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"\">close\n                                        </v-icon>\n                                    </h3>\n                                </div>\n                                <div\n                                    v-if=\"!isHideBar\"\n                                    class=\"small_sidebar rounded-4 mt-1 px-4 pt-4 grayBg\">\n                                    <v-card outlined dense class=\"pa-3 no_border my_card rounded-4 white--text\"\n                                            color=\"primary\" height=\"60px\">\n                                        <h3 class=\"text-left font_13 flex-1 text-uppercase\">{{ $t('amount_due') }}</h3>\n                                        <h3 class=\"text-right flex-1 font_20 niradei_heavy\">\n                                            {{ numberFormat(invoice.amountDue) }}</h3>\n                                    </v-card>\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-3\">\n                                            <label class=\"label mb-0\">{{ $t(\"segment\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"invoice.segment\"\n                                                :items=\"segments\"\n                                                item-value=\"id\"\n                                                @change=\"loadSaleOrder\"\n                                                :disabled=\"disabledMe\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                :rules=\"[(v) => !!v['id'] || $t('is_required')]\"\n                                                return-object\n                                                tage=\"sub Of\"\n                                                placeholder=\"Sub Of\"\n                                                outlined=\"\"/>\n                                            <label class=\"label mb-0\">{{ $t(\"location\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"invoice.location\"\n                                                :items=\"locations\"\n                                                @change=\"loadSaleOrder\"\n                                                :disabled=\"disabledMe\"\n                                                item-value=\"id\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                :rules=\"[(v) => !!v['id'] || $t('is_required')]\"\n                                                return-object\n                                                tage=\"Location\"\n                                                placeholder=\"bu/location\"\n                                                outlined=\"\"/>\n                                            <label class=\"label font_14\">{{ $t(\"project\") }}</label>\n                                            <v-select\n                                                class=\" mt-1\"\n                                                v-model=\"invoice.project\"\n                                                :items=\"customerProjects\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                item-value=\"id\"\n                                                tage=\"Customer Project\"\n                                                clearable\n                                                placeholder=\"project\"\n                                                outlined/>\n                                            <label class=\"label font_14\">{{ $t(\"sale_channel\") }}</label>\n                                            <v-select\n                                                class=\" mt-1\"\n                                                v-model=\"invoice.saleChannel\"\n                                                :items=\"saleChannelList\"\n                                                item-value=\"id\"\n                                                item-text=\"name\"\n                                                return-object\n                                                tage=\"Sale Channel\"\n                                                placeholder=\"Channel\"\n                                                outlined/>\n                                            <label class=\"label font_14\">{{ $t(\"employee\") }}</label>\n                                            <v-col\n                                                sm=\"12\"\n                                                cols=\"12\"\n                                                class=\"kendo_dropdown_custom pl-0 pr-0 pb-3 pt-0\">\n                                                <dropdownlist\n                                                    :data-items=\"employees\"\n                                                    @change=\"onEmployeeChanged\"\n                                                    :value=\"mEmployee\"\n                                                    :data-item-key=\"'id'\"\n                                                    :text-field=\"'name'\"\n                                                    :default-item=\"defaultItem\"\n                                                    :filterable=\"true\"\n                                                    @filterchange=\"onEmployeeFilterChanged\">\n                                                </dropdownlist>\n                                            </v-col>\n                                            <label class=\"label\">{{ $t(\"for_month_of\") }}</label>\n                                            <app-datepicker\n                                                :initialDate=\"invoice.monthOf\"\n                                                @emitDate=\"monthOf = $event\"/>\n                                        </v-col>\n                                    </v-row>\n                                    <v-divider class=\"mb-3\"/>\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n                                            <label class=\"label text-bold text-uppercase font_14\">{{\n                                                    $t(\"tnc_to_be_added\")\n                                                }}</label>\n                                            <LoadingMe :isLoading=\"showLoadingTxn\" :fullPage=\"false\" :myLoading=\"true\"\n                                                       type=\"loading\"/>\n                                            <v-row v-for=\"item in saleOrders\" v-bind:key=\"item.id\">\n                                                <v-col sm=\"10\" cols=\"10\" class=\"py-0 pr-0\">\n                                                    <v-card\n                                                        outlined\n                                                        color=\"third\"\n                                                        class=\"px-3 py-1 white--text no-boxshadow no_border justify-left d-flex\"\n                                                        style=\" height: 38px\">\n                                                        <p class=\"mb-0\" style=\"width: 100%\">\n                                                            <span\n                                                                class=\"pl-3 py-1 float-left\">{{\n                                                                    item.referenceNo || item.reference\n                                                                }}</span>\n                                                        </p>\n                                                    </v-card>\n                                                </v-col>\n                                                <v-col sm=\"2\" cols=\"2\" class=\"py-0  pl-1\">\n                                                    <v-btn\n                                                        class=\"text-white text-bold float-right text-uppercase\"\n                                                        outlined\n                                                        icon\n                                                        color=\"primary\"\n                                                        style=\"height: 30px\"\n                                                        :disabled=\"disabledMe\"\n                                                        @click=\"addSaleOrder(item)\">\n                                                        <v-icon>mdi-plus</v-icon>\n                                                    </v-btn>\n                                                </v-col>\n                                            </v-row>\n\n                                            <!-- <v-row>\n                        <label class=\"text-bold ml-9\" style=\"font-size: 12px;\">1.\n                          {{ $t('sale_order') }}</label>\n                        <v-col sm=\"9\" cols=\"9\" class=\"py-0 pr-0\">\n                          <v-card outlined\n                                  class=\"px-5 py-1 text-white no-boxshadow no_border justify-left d-flex\"\n                                  height=\"30px\"\n                                  color=\"third\"\n                          >\n                            <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>\n                            <p class=\"mb-0 white--text\" style=\"width: 100%\">\n                              <span class=\"pl-3 float-left\">No. 00224</span>\n                              <span class=\"float-right\">2,500.00</span>\n                            </p>\n                          </v-card>\n                        </v-col>\n                        <v-col sm=\"3\" cols=\"3\" class=\"py-0  pl-1\">\n                          <v-btn\n                              class=\"text-white b_add text-bold rounded-0 float-right text-uppercase\"\n                              height=\"30px\"\n                              color=\"primary\"\n                          >\n                            {{ $t('add') }}\n                          </v-btn>\n                        </v-col>\n                      </v-row>\n                      <v-row>\n                        <label class=\"text-bold ml-9\" style=\"font-size: 12px;\">2.\n                          {{ $t('delayed_invoice') }}</label>\n                        <v-col sm=\"9\" cols=\"9\" class=\"py-0 pr-0\">\n                          <v-card outlined\n                                  class=\"px-5 py-1 text-white no-boxshadow no_border justify-left d-flex\"\n                                  height=\"30px\"\n                                  color=\"third\">\n                            <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>\n                            <p class=\"mb-0 white--text\" style=\"width: 100%\">\n                              <span class=\"pl-3 float-left\">No. 00224</span>\n                              <span class=\"float-right\">2,500.00</span>\n                            </p>\n                          </v-card>\n                        </v-col>\n                        <v-col sm=\"3\" cols=\"3\" class=\"py-0  pl-1\">\n                          <v-btn\n                              class=\"text-white b_add text-bold rounded-0 float-right text-uppercase\"\n                              height=\"30px\"\n                              color=\"primary\">\n                            {{ $t('add') }}\n                          </v-btn>\n                        </v-col>\n                      </v-row>\n                      <v-row>\n                        <label class=\"text-bold ml-9\" style=\"font-size: 12px;\">3.\n                          {{ $t('delayed_credit') }}</label>\n                        <v-col sm=\"9\" cols=\"9\" class=\"py-0 pr-0\">\n                          <v-card outlined\n                                  class=\"px-5 py-1 text-white no-boxshadow no_border justify-left d-flex\"\n                                  height=\"30px\"\n                                  color=\"third\">\n                            <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>\n                            <p class=\"mb-0 white--text\" style=\"width: 100%\">\n                              <span class=\"pl-3 float-left\">No. 00224</span>\n                              <span class=\"float-right\">2,500.00</span>\n                            </p>\n                          </v-card>\n                        </v-col>\n                        <v-col sm=\"3\" cols=\"3\" class=\"py-0  pl-1\">\n                          <v-btn\n                              class=\"text-white b_add text-bold rounded-0 float-right text-uppercase\"\n                              height=\"30px\"\n                              color=\"primary\">\n                            {{ $t('add') }}\n                          </v-btn>\n                        </v-col>\n                      </v-row>\n                      <v-row>\n                        <label class=\"text-bold ml-9\" style=\"font-size: 12px;\">4.\n                          {{ $t('quotation') }}</label>\n                        <v-col sm=\"9\" cols=\"9\" class=\"py-0 pr-0\">\n                          <v-card outlined\n                                  class=\"px-5 py-1 text-white no-boxshadow no_border justify-left d-flex\"\n                                  height=\"30px\"\n                                  color=\"third\">\n                            <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>\n                            <p class=\"mb-0 white--text\" style=\"width: 100%\">\n                              <span class=\"pl-3 float-left\">No. 00224</span>\n                              <span class=\"float-right\">2,500.00</span>\n                            </p>\n                          </v-card>\n                        </v-col>\n                        <v-col sm=\"3\" cols=\"3\" class=\"py-0  pl-1\">\n                          <v-btn\n                              class=\"text-white b_add text-bold rounded-0 float-right text-uppercase\"\n                              height=\"30px\"\n                              color=\"primary\">\n                            {{ $t('add') }}\n                          </v-btn>\n                        </v-col>\n                      </v-row>\n                      <v-row>\n                        <label class=\"text-bold ml-9\" style=\"font-size: 12px;\">5.\n                          {{ $t('delivery_note') }}</label>\n                        <v-col sm=\"9\" cols=\"9\" class=\"py-0 pr-0\">\n                          <v-card outlined\n                                  class=\"px-5 py-1 text-white no-boxshadow no_border justify-left d-flex\"\n                                  height=\"30px\"\n                                  color=\"third\">\n                            <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>\n                            <p class=\"mb-0 white--text\" style=\"width: 100%\">\n                              <span class=\"pl-3 float-left\">No. 00224</span>\n                              <span class=\"float-right\">2,500.00</span>\n                            </p>\n                          </v-card>\n                        </v-col>\n                        <v-col sm=\"3\" cols=\"3\" class=\"py-0  pl-1\">\n                          <v-btn\n                              class=\"text-white text-bold b_add rounded-0 float-right text-uppercase\"\n                              height=\"30px\"\n                              color=\"primary\">\n                            {{ $t('add') }}\n                          </v-btn>\n                        </v-col>\n                      </v-row>\n                      <v-row>\n                        <label class=\"text-bold ml-9\" style=\"font-size: 12px;\">6.\n                          {{ $t('billable_expense') }}</label>\n                        <v-col sm=\"9\" cols=\"9\" class=\"py-0 pr-0\">\n                          <v-card outlined\n                                  class=\"px-5 py-1 text-white no-boxshadow no_border justify-left d-flex\"\n                                  height=\"30px\"\n                                  color=\"third\">\n                            <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>\n                            <p class=\"mb-0 white--text\" style=\"width: 100%\">\n                              <span class=\"pl-3 float-left\">No. 00224</span>\n                              <span class=\"float-right\">2,500.00</span>\n                            </p>\n                          </v-card>\n                        </v-col>\n                        <v-col sm=\"3\" cols=\"3\" class=\"py-0  pl-1\">\n                          <v-btn\n                              class=\"text-white b_add text-bold rounded-0 float-right text-uppercase\"\n                              height=\"30px\"\n                              color=\"primary\">\n                            {{ $t('add') }}\n                          </v-btn>\n                        </v-col>\n                      </v-row> -->\n                                            <v-row>\n                                                <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                                    <label class=\"label mt-2 text-uppercase\">{{\n                                                            $t(\"payment_options\")\n                                                        }}</label>\n                                                </v-col>\n                                                <v-col sm=\"12\" cols=\"12\">\n                                                    <v-row>\n                                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                            <label class=\"label\">{{ $t('cash_payment') }}</label>\n                                                            <v-select\n                                                                class=\"mt-1\"\n                                                                outlined\n                                                                return-object\n                                                                id=\"\"\n                                                                :items=\"cashPayment\"\n                                                                item-text=\"name\"\n                                                                tage=\"PaymentOption\"\n                                                                item-value=\"id\"\n                                                                v-model=\"invoice.cashPayment\"/>\n                                                            <label class=\"label\">{{ $t('bill_payment') }}</label>\n                                                            <v-select\n                                                                class=\"mt-1\"\n                                                                outlined\n                                                                return-object\n                                                                id=\"\"\n                                                                clearable\n                                                                :items=\"billPayment\"\n                                                                item-text=\"name\"\n                                                                tage=\"PaymentOption\"\n                                                                item-value=\"id\"\n                                                                v-model=\"invoice.billPayment\"/>\n                                                            <label class=\"label\">{{ $t('qr_payment') }}</label>\n                                                            <v-select\n                                                                class=\"mt-1\"\n                                                                outlined\n                                                                return-object\n                                                                id=\"\"\n                                                                :items=\"qrPayment\"\n                                                                item-text=\"name\"\n                                                                tage=\"PaymentOption\"\n                                                                item-value=\"id\"\n                                                                clearable\n                                                                v-model=\"invoice.qrPayment\"/>\n                                                            <label class=\"label\">{{ $t('bank_transfer') }}</label>\n                                                            <v-select\n                                                                class=\"mt-1\"\n                                                                outlined\n                                                                return-object\n                                                                clearable\n                                                                id=\"\"\n                                                                :items=\"bankTransfer\"\n                                                                item-text=\"name\"\n                                                                tage=\"PaymentOption\"\n                                                                item-value=\"id\"\n                                                                v-model=\"invoice.bankTransfer\"/>\n                                                        </v-col>\n                                                    </v-row>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n                                    <!--                                    <v-divider class=\"mb-5\"/>-->\n                                    <!--                                    <label class=\"label\">{{ $t('delivery_options') }} (<span-->\n                                    <!--                                        style=\"color:#1bb5f1\">{{ $t('get_setup') }}</span>)</label>-->\n                                    <!--                                    <v-row>-->\n                                    <!--                                        <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">-->\n                                    <!--                                            <label class=\"label font_14\">{{ $t('project') }}</label>-->\n                                    <!--                                            <v-text-field class=\"mt-1\"-->\n                                    <!--                                                          palceholder=\"joonak\"-->\n                                    <!--                                                          tage=\"Project\"-->\n                                    <!--                                                          outlined-->\n                                    <!--                                            />-->\n                                    <!--                                            <label class=\"label font_14\">{{ $t('from') }}</label>-->\n                                    <!--                                            <v-text-field class=\" my-2\"-->\n                                    <!--                                                          palceholder=\"joonak\"-->\n                                    <!--                                                          tage=\"From\"-->\n                                    <!--                                                          outlined-->\n                                    <!--                                            />-->\n                                    <!--                                        </v-col>-->\n                                    <!--                                        <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">-->\n                                    <!--                                            <label class=\"label font_14\">{{ $t('delivery_date_time') }}</label>-->\n                                    <!--                                            <app-datepicker :initialDate=\"journal_date\"-->\n                                    <!--                                                            @emitDate=\"journal_date = $event\"/>-->\n                                    <!--                                            <label class=\"label font_14\">{{ $t('to') }}</label>-->\n                                    <!--                                            <v-text-field class=\" my-2\"-->\n                                    <!--                                                          palceholder=\"to\"-->\n                                    <!--                                                          outlined-->\n                                    <!--                                            />-->\n                                    <!--                                        </v-col>-->\n                                    <!--                                    </v-row>-->\n                                    <!--                                    <v-row>-->\n                                    <!--                                        <v-col sm=\"4\" cols=\"9\" class=\"py-0 pr-0 pl-4\">-->\n                                    <!--                                            <p class=\"color_grey font_10 mb-0\">QUOTED FEE</p>-->\n                                    <!--                                            <p class=\"color_green  mb-0\">1,000.00 </p>-->\n                                    <!--                                        </v-col>-->\n                                    <!--                                        <v-col sm=\"2\" cols=\"3\" class=\"py-0 mt-1 pl-0\">-->\n                                    <!--                                            <v-btn class=\"text-white text-bold rounded-0 float-right text-uppercase\"-->\n                                    <!--                                                   style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\">-->\n                                    <!--                                                {{ $t('add') }}-->\n                                    <!--                                            </v-btn>-->\n                                    <!--                                        </v-col>-->\n                                    <!--                                    </v-row>-->\n\n                                    <!-- <p class=\"mb-0 detial_smallside_p font_14\">{{$t('sale_order_funct_desc')}}</p> -->\n                                </div>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe :isLoading=\"showLoading\" :fullPage=\"false\" :myLoading=\"true\"/>\n            <v-dialog v-model=\"dialogTax\" max-width=\"450px\">\n                <v-card>\n                    <div class=\"modal_header\">\n                        <v-card-title>{{ $t(\"tax_list\") }}</v-card-title>\n                        <v-icon class=\"btn_close\" @click=\"dialogTax = false\">close</v-icon>\n                    </div>\n                    <v-card-text class=\"modal_text_content\">\n                        <v-row>\n                            <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                <v-simple-table>\n                                    <template v-slot:default>\n                                        <tbody>\n                                        <tr\n                                            v-for=\"(value, name) in taxListTotal\"\n                                            v-bind:key=\"name\">\n                                            <td class=\"text-left\" width=\"180px\">{{ name }}</td>\n                                            <td class=\"text-center\">:</td>\n                                            <td class=\"text-right\">{{ numberFormat(value) }}</td>\n                                        </tr>\n                                        <tr>\n                                            <td class=\"text-left\" width=\"180px\">{{ $t(\"total\") }}</td>\n                                            <td class=\"text-center\">:</td>\n                                            <td class=\"text-right\">{{ numberFormat(invoice.totalTaxAmount) }}</td>\n                                        </tr>\n                                        </tbody>\n                                    </template>\n                                </v-simple-table>\n                            </v-col>\n                        </v-row>\n                    </v-card-text>\n                    <v-divider/>\n                </v-card>\n            </v-dialog>\n            <!--      <v-dialog v-model=\"dialogCatalog\" max-width=\"850px\">-->\n            <!--        <template v-slot:activator=\"{ on }\">-->\n            <!--        </template>-->\n            <!--        <v-card>-->\n            <!--          <v-card-title>{{ $t('catalog') }}</v-card-title>-->\n            <!--          <v-icon class=\"btn_close\" @click=\"dialogCatalog = false\">close</v-icon>-->\n            <!--          <v-divider/>-->\n            <!--          <v-card-text style=\"height: 240px; background-color: #EDF1F5; color: #333;\">-->\n            <!--            <v-row>-->\n            <!--              <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">-->\n            <!--                <v-simple-table>-->\n            <!--                  <kendo-datasource ref=\"catalogDatasource\"-->\n            <!--                                    :data=\"catalogs\"-->\n            <!--                                    :schema=\"gridSchema\"/>-->\n            <!--                  <kendo-grid id=\"gridCatalog\"-->\n            <!--                              class=\"grid-function\"-->\n            <!--                              :data-source-ref=\"'catalogDatasource'\"-->\n            <!--                              :style=\"{width: '100%'}\"-->\n            <!--                              :noRecords=\"true\"-->\n            <!--                              :pageable-numeric=\"false\"-->\n            <!--                              :pageable-previous-next=\"false\"-->\n            <!--                              :pageable-messages-display=\"'Showing {2} data items'\"-->\n            <!--                              :scrollable-virtual=\"true\">-->\n            <!--                    <kendo-grid-column-->\n            <!--                        :field=\"'images'\"-->\n            <!--                        :title=\"$t('image')\"-->\n            <!--                        :width=\"50\"-->\n            <!--                        :template=\"loadImage\"-->\n            <!--                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>-->\n            <!--                    <kendo-grid-column-->\n            <!--                        :field=\"'number'\"-->\n            <!--                        :title=\"$t('number')\"-->\n            <!--                        :width=\"70\"-->\n            <!--                        :template=\"'<span>#=number#</span>'\"-->\n            <!--                        :groupHeaderColumnTemplate=\"'#=value#'\"-->\n            <!--                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>-->\n            <!--                    <kendo-grid-column-->\n            <!--                        :field=\"'name'\"-->\n            <!--                        :title=\"$t('name')\"-->\n            <!--                        :attributes=\"{class:'tb_name_td'}\"-->\n            <!--                        :width=\"100\"-->\n            <!--                        :template=\"'<span>#=name#</span>'\"-->\n            <!--                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>-->\n            <!--                    <kendo-grid-column-->\n            <!--                        :field=\"'description'\"-->\n            <!--                        :title=\"$t('description')\"-->\n            <!--                        :width=\"100\"-->\n            <!--                        :template=\"'<span>#=description#</span>'\"-->\n            <!--                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>-->\n            <!--                    <kendo-grid-column-->\n            <!--                        :field=\"'noOfProduct'\"-->\n            <!--                        :title=\"$t('products')\"-->\n            <!--                        :template=\"'<span>#=noOfProduct#</span>'\"-->\n            <!--                        :width=\"50\"-->\n            <!--                        :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>-->\n            <!--                    <kendo-grid-column-->\n            <!--                        :field=\"''\"-->\n            <!--                        :title=\"$t('action')\"-->\n            <!--                        :width=\"60\"-->\n            <!--                        :command=\"[{ text: $t('add'), click: addCatalog }]\"-->\n            <!--                        :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>-->\n            <!--                  </kendo-grid>-->\n            <!--                </v-simple-table>-->\n            <!--              </v-col>-->\n            <!--            </v-row>-->\n            <!--          </v-card-text>-->\n            <!--          <v-divider/>-->\n\n            <!--        </v-card>-->\n            <!--      </v-dialog>-->\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n// import kendo from \"@progress/kendo-ui\"\nimport {i18n} from \"@/i18n\";\nimport DatePickerComponent from \"@/components/custom_templates/DatePickerComponent\";\nimport InvoiceModel from \"@/scripts/invoice/model/Invoice\";\nimport ItemLineModel from \"@/scripts/invoice/model/ItemLine\";\nimport {uuid} from \"vue-uuid\";\nimport paymentTermHandler_ from \"@/scripts/paymentterm/handler/paymentTermHandler\";\nimport {DropDownList} from \"@progress/kendo-vue-dropdowns\";\nimport kendo from \"@progress/kendo-ui\";\nimport SaleFormContentModel from \"@/scripts/model/SaleFormContent\";\n// import kendo from \"@progress/kendo-ui\";\nimport {dataStore, ShowResource} from \"@/observable/store\";\nimport {getPrint} from \"@/form/invoices.js\";\nimport creditLimitHandler from \"@/scripts/creditLimit/handler/creditLimitHandler\";\nimport PaymentOptionModel from \"@/scripts/model/PaymentOption\";\nimport {PAYMENT_OPINION_TYPE} from \"@/scripts/default_setup/Setting\";\n\nconst customerHandler = require(\"@/scripts/customerHandler\");\n\nconst projectHandler = require(\"@/scripts/projectHandler\");\nconst priceLevelHandler = require(\"@/scripts/priceLevelHandler\");\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\");\nconst saleOrderHandler = require(\"@/scripts/transactionHandler\");\n\nconst settingsHandler = require(\"@/scripts/settingsHandler\");\nconst saleChannelHandler = require(\"@/scripts/saleChannelHandler\");\nconst employeeHandler = require(\"@/scripts/employeeHandler\");\nconst locationHandler = require(\"@/scripts/locationHandler\");\n// const paymentTermHandler = require(\"@/scripts/paymentTermHandler\")\n\nconst paymentTermHandler = require(\"@/scripts/settingsHandler\");\nconst accountHandler = require(\"@/scripts/handler/accounting/account\");\nconst productVariantHandler = require(\"@/scripts/productVariantHandler\");\nconst uomPriceHandler = require(\"@/scripts/uomPriceHandler\");\nconst uomConversionHandler = require(\"@/scripts/uomConversionHandler\");\nconst discountItemHandler = require(\"@/scripts/discountItemHandler\");\nconst settingHandler = require(\"@/scripts/settingHandler\");\nconst itemModifierHandler = require(\"@/scripts/itemModifierHandler\");\nconst saleUnitItemHandler = require(\"@/scripts/saleUnitItemHandler\");\nconst otherChargeHandler = require(\"@/scripts/otherChargeHandler\");\nconst saleFormContentHandler = require(\"@/scripts/saleFormContentHandler\");\nconst prefixHandler = require(\"@/scripts/prefixHandler\");\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\nconst lateFeeHandler = require(\"@/scripts/lateFeeHandler\");\nconst paymentOptionHandler = require(\"@/scripts/paymentOptionHandler\");\nconst catalogHandler = require(\"@/scripts/catalogHandler\");\n\nconst invoiceModel = new InvoiceModel({});\nconst itemLineModel = new ItemLineModel({});\nconst saleFormContentModel = new SaleFormContentModel({});\nimport OtherChargeModel from \"@/scripts/model/OtherCharge\";\n\nconst $ = kendo.jQuery\n\nconst textField = \"numberName\";\nconst keyField = \"id\";\nconst defaultItem = {[textField]: \"Select customer...\", [keyField]: null};\nconst emptyItem = {[textField]: \"loading ...\"};\nconst pageSize = 10;\nconst itemLinePrefix = \"lin-\";\nconst loadingData = [];\nwhile (loadingData.length < pageSize) {\n    loadingData.push({...emptyItem});\n}\nconst OPTION_TYPE = \"Customer\";\nconst strFilter = \"?optionType=\" + OPTION_TYPE;\nconst DISCOUNT_TYPE = \"?type=Sale\";\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\nexport default {\n    name: \"CustomerInvoice\",\n    props: [\"id\", \"transactionDate\"],\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n        \"app-datepicker\": DatePickerComponent,\n        dropdownlist: DropDownList,\n    },\n    data: () => ({\n        isEdit: false,\n        mOtherCharge: [],\n        mOtherChargeAmount: [],\n        numSelect: [1],\n        dialogTax: false,\n        customerList: [],\n        showLoading: false,\n        showLoadingTxn: false,\n        alert: false,\n        files: [],\n        // Form validation\n        valid: true,\n        itemLines: [],\n        invoiceDate: new Date().toISOString().substr(0, 10),\n        template: -1,\n        templatesForm: [],\n        isHideBar: false,\n        gridSchema: {\n            model: {\n                id: \"id\",\n            },\n        },\n        customer: {},\n        defaultItem: defaultItem,\n        invoice: invoiceModel,\n        transactionType: [\"Invoice\", \"Commercial Invoice\", \"Tax Invoice\"],\n        cusBaseUrl: customerHandler.searchv1(),\n        empBaseUrl: employeeHandler.search(),\n        init: {method: \"GET\", accept: \"application/json\", headers: []},\n        pendingRequest: undefined,\n        requestStarted: false,\n        skip: 0,\n        tempSkip: null,\n        total: 0,\n        filter: \"\",\n        referenceNo: \"\",\n        filter_: \"\",\n        textField: \"numberName\",\n        dataItemKey: \"id\",\n        segments: [],\n        saleChannelList: [],\n        employees: [],\n        mEmployee: {},\n        customerProjects: [],\n        billingAddress: [],\n        deliveryAddress: [],\n        deliveryDateTime: new Date().toISOString().substr(0, 10),\n        priceLevel: [],\n        locations: [],\n        paymentTerms: [],\n        receivableAcc: [],\n        currencies: [],\n        itemLine: itemLineModel,\n        uoms: [],\n        otherTax: [],\n        vatTax: [],\n        specificTax: [],\n        publicLightingTax: [],\n        saleUnitItemList: [],\n        specificDiscountItem: [],\n        otherChargeList: [],\n        depositBalance: 0,\n        schemaDefinition: {\n            model: {\n                id: \"id\",\n            },\n        },\n        saleFormContent: saleFormContentModel,\n        taxListTotal: {},\n        invoiceTypes: [],\n        customerDiscountItem: [],\n        customerOtherChargeItem: [],\n        customerSaleUnit: [],\n        customerSaleUnitLine: [],\n        lateFeeList: [],\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email,\n        },\n        paymentOptionWBMobile: [],\n        paymentOptionOnline: [],\n        paymentOptionKHQR: [],\n        paymentOptionBankTransfer: [],\n        exchangeRate: {},\n        baseCurrencyCode: \"\",\n        currencyCode: \"\",\n        transactionRate: 1,\n        jRaw: [],\n        catalogs: [],\n        dialogCatalog: false,\n        saleOrders: [],\n        isPriceLevelChanged: false,\n        cashPayment: [],\n        billPayment: [],\n        qrPayment: [],\n        bankTransfer: [],\n        refFrom: [],\n        taxListDetail: [],\n        tax: [],\n        isAdded: false,\n        btnDisabled: false,\n        depositDeduction: 0,\n        cashBasicRevenueAcc: []\n    }),\n    methods: {\n        dataBound: function (e) {\n            const grid = kendo.jQuery(\"#gridItemLine\").data(\"kendoGrid\");\n            const items = e.sender.items();\n            if (grid) {\n                items.each(function () {\n                    let dataItem = grid.dataItem(this);\n                    $(\"tr[data-uid='\" + dataItem.uid + \"']\").find('.isEditable')\n                        .each(function () {\n                            if (dataItem.isEditable === false) {\n                                $(this).addClass(\"k-state-disabled\");\n                            }\n                        });\n                });\n            }\n        },\n        autoCalculateTaxDetail() {\n            let ids = []\n            this.taxListDetail.forEach(n => {\n                ids.push(n.id || '')\n            })\n            const unique = [...new Set(ids)]\n            let result = []\n            unique.forEach(m => {\n                let amount = 0, row = {}, discount = 0, xDiscount = 0, xAmount = 0, taxAmount = 0, xTaxAmount = 0\n                let taxDetail = [], isVat = 0\n                const found = this.taxListDetail.filter(n => n.id === m)\n                // window.console.log('taxListDetailids', found)\n                found.forEach(k => {\n                    row = k\n                    if (k.isVat === 1) {\n                        isVat = 1\n                        const detail_ = k.detail || {}\n                        taxDetail.push(detail_)\n\n                    }\n                    taxAmount += k.taxAmount_ || 0\n                    xTaxAmount += (k.taxAmount_ || 0) * (k.txnRate || 1)\n                    amount += (k.amount || 0)\n                    xAmount += (k.amount || 0) * (k.txnRate || 1)\n                    discount += (k.discount || 0)\n                    xDiscount += (k.discount || 0) * (k.txnRate || 1)\n                })\n                let spTaxAmt = 0, spXTaxAmt = 0, plTaxAmt = 0, plXTaxAmt = 0, otTaxAmt = 0, otXTaxAmt = 0,\n                    spTaxName = '', plTaxName = '', otTaxName = '',\n                    spTaxNameLocale = '', plTaxNameLocale = '', otTaxNameLocale = '',\n                    spAccId = '', plAccId = '', otAccId = '',\n                    spRate = '', plRate = '', otRate = ''\n                taxDetail.forEach(n => {\n                    const spTax = n.specificTax || {}\n                    const plTax = n.publicLightingTax || {}\n                    const otherTax = n.otherTax || {}\n                    if (Object.keys(spTax).length > 0) {\n                        spTaxAmt += (spTax.taxAmount_ || 0)\n                        spXTaxAmt += ((spTax.taxAmount_ || 0) * (spTax.taxRate || 1))\n                        spTaxName = spTax.defaultTax || ''\n                        spTaxNameLocale = spTax.defaultTaxLocale || ''\n                        spAccId = spTax.account ? spTax.account.id : ''\n                        spRate = spTax.rate || 1\n                    }\n                    if (Object.keys(plTax).length > 0) {\n                        plTaxAmt += (plTax.taxAmount_ || 0)\n                        plXTaxAmt += ((plTax.taxAmount_ || 0) * (plTax.taxRate || 1))\n                        plTaxName = plTax.defaultTax || ''\n                        plTaxNameLocale = plTax.defaultTaxLocale || ''\n                        plAccId = plTax.account ? plTax.account.id : ''\n                        plRate = plTax.rate || 1\n                    }\n                    if (Object.keys(otherTax).length > 0) {\n                        otTaxAmt += (otherTax.taxAmount_ || 0)\n                        otXTaxAmt += ((otherTax.taxAmount_ || 0) * (plTax.taxRate || 1))\n                        otTaxName = otherTax.defaultTax || ''\n                        otTaxNameLocale = otherTax.defaultTaxLocale || ''\n                        otAccId = otherTax.account ? otherTax.account.id : ''\n                        otRate = otherTax.rate || 1\n                    }\n                })\n                if (isVat === 1) {\n                    row.detail = {\n                        specificTax: {\n                            name: spTaxName,\n                            nameLocale: spTaxNameLocale,\n                            amount: spTaxAmt,\n                            exchangeAmount: spXTaxAmt,\n                            accountId: spAccId,\n                            rate: spRate,\n                        },\n                        publicLightingTax: {\n                            name: plTaxName,\n                            nameLocale: plTaxNameLocale,\n                            amount: plTaxAmt,\n                            exchangeAmount: plXTaxAmt,\n                            accountId: plAccId,\n                            rate: plRate,\n                        },\n                        otherTax: {\n                            name: otTaxName,\n                            nameLocale: otTaxNameLocale,\n                            amount: otTaxAmt,\n                            exchangeAmount: otXTaxAmt,\n                            accountId: otAccId,\n                            rate: otRate,\n                        }\n                    }\n                } else {\n                    row.detail = {}\n                }\n\n                row['amount'] = amount\n                row['exchangeAmount'] = xAmount\n                row['taxAmount'] = taxAmount\n                row['exchangeTaxAmount'] = xTaxAmount\n                row['discount'] = discount\n                row['exchangeDiscount'] = xDiscount\n                row['currency'] = this.invoice.exchangeRate || {}\n                result.push(row)\n                taxDetail = []\n            })\n            this.invoice.saleTaxDetail = result\n            window.console.log('saleTaxDetail', result)\n        },\n        ChoseTemplate(i) {\n            window.console.log(i);\n            this.template = i;\n        },\n        shrinkDiscountItem(discountItem, discountLine) {\n            let uniqueDiscountItems = [];\n            const unique = this.removeDuplicate(discountItem);\n            unique.forEach((m) => {\n                const found = discountLine.filter((n) => n.id === m.id);\n                let amount = 0,\n                    exchangeAmount = 0;\n                found.map((o) => {\n                    amount += o.amount;\n                });\n                found.map((o) => {\n                    exchangeAmount += o.exchangeAmount;\n                });\n                uniqueDiscountItems.push({\n                    id: m.id,\n                    name: m.name,\n                    amount: amount,\n                    exchangeAmount: exchangeAmount,\n                });\n            });\n            this.customerDiscountItem = uniqueDiscountItems;\n            window.console.log(uniqueDiscountItems, \"uniqueDiscountItems\");\n        },\n        shrinkOtherChargeItem(otherChargeItem, otherChargeLine) {\n            let items = [];\n            const unique = this.removeDuplicate(otherChargeItem);\n            unique.forEach((m) => {\n                const found = otherChargeLine.filter((n) => n.id === m.id);\n                let amount = 0, exchangeAmount = 0;\n                found.map((o) => {\n                    amount += o.amount;\n                });\n                found.map((o) => {\n                    exchangeAmount += o.exchangeAmount;\n                });\n                items.push({\n                    id: m.id,\n                    name: m.name,\n                    amount: amount,\n                    exchangeAmount: exchangeAmount,\n                });\n            });\n            this.customerOtherChargeItem = items;\n        },\n        addSaleOrder(item) {\n            if (item) {\n                const itemLine = item.itemLines || [];\n                this.refFrom.push({\n                    id: item.id || '',\n                    reference: item.referenceNo || ''\n                })\n                let ds = this.$refs.itemLineDS.kendoWidget(),\n                    total = ds.total();\n                itemLine.forEach((o) => {\n                    this.itemLine = new ItemLineModel(o);\n                    this.itemLine.id = itemLinePrefix + uuid.v1();\n                    this.itemLine.decimalFormat = \"n\" + this.saleFormContent.decimal;\n                    this.itemLine.isEditable = true\n                    this.itemLine.sourceTransaction = {\n                        id: item.id,\n                        referenceNo: item.referenceNo,\n                    };\n                    this.itemLine.sourceTransactionRef = item.referenceNo;\n                    ds.insert(total, this.itemLine);\n                    // window.console.log(this.itemLine, 'itemLine')\n                });\n                this.itemLine = new ItemLineModel({});\n                this.autoCalculate();\n                const index = this.saleOrders.findIndex((itm) => {\n                    return item.id === itm.id;\n                });\n                this.saleOrders.splice(index, 1);\n                this.invoice.refFrom = this.removeDuplicate(this.refFrom)\n            }\n            // window.console.log(item, '--')\n        },\n        loadImage(dataItem) {\n            if (dataItem.hasOwnProperty(\"images\")) {\n                if (dataItem.images.hasOwnProperty(\"default\")) {\n                    const url = this.imgURL + dataItem.images.default.thumb;\n                    return (\n                        \"<img width='50' height='50' style= 'margin: auto;display: block;' src='\" +\n                        url +\n                        \"' />\"\n                    );\n                }\n            } else {\n                return \"\";\n            }\n        },\n        async loadCatalogs() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    catalogHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.catalogs = res;\n                    });\n                }, 10);\n            });\n        },\n        addCatalog(e) {\n            e.preventDefault();\n            let grid = kendo.jQuery(\"#gridCatalog\").data(\"kendoGrid\");\n            let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n            // window.console.log(dataItem)\n            if (dataItem.variants.length > 0) {\n                dataItem.variants.forEach((m) => {\n                    if (m.hasOwnProperty(\"variant\")) {\n                        if (m.variant.hasOwnProperty(\"id\")) {\n                            this.loadSingleItem(m.variant.id, \"i\");\n                        }\n                    }\n                });\n                this.dialogCatalog = false;\n            }\n            if (dataItem.services.length > 0) {\n                dataItem.services.forEach((m) => {\n                    if (m.hasOwnProperty(\"service\")) {\n                        if (m.service.hasOwnProperty(\"id\")) {\n                            this.loadSingleItem(m.service.id, \"s\");\n                        }\n                    }\n                });\n                this.dialogCatalog = false;\n            }\n        },\n        qohTemplate(dataItem) {\n            const buom = dataItem.buom || {};\n            const qoh = dataItem.qoh || 0;\n            if (buom.hasOwnProperty(\"name\")) {\n                return kendo.toString(qoh, `n${this.saleFormContent.decimal}`) + ` ` + buom.name;\n            }\n            return ``;\n        },\n        Help(key) {\n            ShowResource(key);\n        },\n        numberEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    min: 0.00001,\n                    format: `${this.saleFormContent.decimal}`,\n                });\n        },\n        async loadPaymentOption() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    paymentOptionHandler\n                        .list(strFilter)\n                        .then((res) => {\n                            this.showLoading = true;\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                const data = res.data.data || []\n                                this.cashPayment = data.filter(m => m.type === PAYMENT_OPINION_TYPE.CASH_PAYMENT)\n                                this.billPayment = data.filter(m => m.type === PAYMENT_OPINION_TYPE.BILL_PAYMENT)\n                                this.qrPayment = data.filter(m => m.type === PAYMENT_OPINION_TYPE.QR_PAYMENT)\n                                this.bankTransfer = data.filter(m => m.type === PAYMENT_OPINION_TYPE.BANK_TRANSFER)\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        vatTemplate(dataItem) {\n            const vat = dataItem.vatTax;\n            if (vat) {\n                return `<span>${vat.defaultTax || ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        modifierTemplate(dataItem) {\n            const modifier = dataItem.modifier;\n            if (modifier) {\n                return `<span>${modifier.name || ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        itemTemplate(dataItem) {\n            const item = dataItem.item;\n            if (item) {\n                return `<span>${item.name ? item.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        UOMTemplate(dataItem) {\n            const uom = dataItem.uom;\n            const code = uom.code || ''\n            if (uom) {\n                return `<span>${uom.uom ? code : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        saleUnitTemplate(dataItem) {\n            const saleUnit = dataItem.saleUnit;\n            if (saleUnit) {\n                return `<span>${saleUnit.name ? saleUnit.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        discountItemTemplate(dataItem) {\n            const discountItem = dataItem.discountItem;\n            if (discountItem) {\n                return `<span>${discountItem.code ? discountItem.code : ``} - ${\n                    discountItem.name ? discountItem.name : ``\n                }</span>`;\n            } else {\n                return ``;\n            }\n        },\n        addSelect() {\n            let amount_num = this.numSelect.length;\n            let num = this.numSelect[amount_num - 1];\n            let new_num = num + 1;\n            let lenghtItem = this.specificDiscountItem.length;\n            if (new_num <= lenghtItem) {\n                this.numSelect.push(new_num);\n            }\n        },\n        removeSelect(index) {\n            this.numSelect.splice(index, 1);\n            // window.console.log(index, this.numSelect)\n            // this.selectDiscount.splice(index,1)\n            // window.console.log(\"remove\",this.selectDiscount)\n            // this.selectDiscount = this.selectDiscount.filter(item =>  item.id != val.id);\n        },\n        onOtherChargeChange() {\n            let otherCharge = 0,\n                amount = 0;\n            this.invoice.otherChargeLine = [];\n            this.mOtherCharge.forEach((m) => {\n                amount = this.autoCalculateDiscount(m, this.invoice.subTotal);\n                otherCharge += amount;\n                this.invoice.otherChargeLine.push({\n                    id: m.id,\n                    name: m.name,\n                    amount: amount,\n                    exchangeAmount: amount * (this.invoice.txnRate || 1),\n                });\n            });\n            this.invoice.otherChargeAmount = otherCharge;\n            this.autoCalculate();\n        },\n        onOtherAmount(value) {\n            return this.autoCalculateDiscount(value, this.invoice.subTotal);\n        },\n        onSpecificDiscountChanged() {\n            this.invoice.specificDiscountTotal = 0;\n            if (this.invoice.specificDiscountItem) {\n                // window.console.log('-changed', this.invoice.specificDiscountItem)\n                const discountInvoice = this.autoCalculateDiscount(\n                    this.invoice.specificDiscountItem,\n                    this.invoice.subTotal\n                );\n                this.invoice.specificDiscountTotal = kendo.parseFloat(\n                    discountInvoice ? discountInvoice : 0\n                );\n                let total =\n                    kendo.parseFloat(this.invoice.subTotal) -\n                    (kendo.parseFloat(this.invoice.discountTotal) +\n                        kendo.parseFloat(this.invoice.totalTaxAmount)) -\n                    discountInvoice;\n                this.invoice.total = total;\n            }\n            this.autoCalculate();\n        },\n        empImpl(dataItem) {\n            let empIds = [];\n            dataItem.employee.forEach((m) => {\n                empIds.push(m.firstName + \" - \" + m.lastName);\n            });\n            // window.console.log(empIds.join(', '))\n            return `<span>${empIds.join(\", \")}</span>`;\n        },\n        async loadSaleFormContent() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    saleFormContentHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            const data = res.data.data;\n                            if (data.length > 0) {\n                                this.saleFormContent = data[0];\n                                this.initData();\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadSaleUnitItems() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    saleUnitItemHandler.list().then((res) => {\n                        if (res.data.statusCode === 200)\n                            this.saleUnitItemList = res.data.data;\n                    });\n                }, 10);\n            });\n        },\n        uomTmp(dataItem) {\n            window.console.log(dataItem);\n            return dataItem;\n        },\n        loadItemUOM(itemId, priceLevelId) {\n            window.console.log(\"p\", itemId, priceLevelId);\n        },\n        async loadUOMPrice(itemId, priceLevelId) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    uomPriceHandler.get(itemId).then((res) => {\n                        const prices = res.filter((m) => m.priceLevel.id === priceLevelId);\n                        window.console.log(\"price\", prices, itemId, priceLevelId);\n                    });\n                }, 10);\n            });\n        },\n        async loadUOMList(itemId) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    uomConversionHandler.get(itemId).then((res) => {\n                        this.uoms = res;\n                        window.console.log(\"all UOm\", res);\n                    });\n                }, 10);\n            });\n        },\n        onInvoiceTypeChanged() {\n            if (this.$route.params.id === null || this.$route.params.id === \"\") {\n                this.generateNumber();\n            }\n            this.templateHandle();\n        },\n        templateHandle() {\n            let temp = [];\n            if (this.invoice.transactionType.name == \"Commercial Invoice\") {\n                temp.push({\n                    id: 0,\n                    type: \"Commercial Invoice\",\n                    name: \"Template One\",\n                });\n            } else if (this.invoice.transactionType.name == \"General Invoice\") {\n                temp.push({\n                    id: 0,\n                    type: \"General Invoice\",\n                    name: \"Template One\",\n                });\n            } else if (this.invoice.transactionType.name == \"Tax Invoice\") {\n                temp.push({\n                    id: 0,\n                    type: \"Tax Invoice\",\n                    name: \"Template One\",\n                });\n                temp.push({\n                    id: 1,\n                    type: \"Tax Invoice2\",\n                    name: \"Template Two\",\n                });\n            }\n            this.templatesForm = temp;\n            this.template = 0;\n        },\n        autoCalculateTaxByType(tax) {\n            // return by a key\n            const groupAll = (list) =>\n                list.reduce((tax, item) => {\n                    const taxAmount = tax[item.name] || 0;\n                    return Object.assign({}, tax, {\n                        [item.name]: taxAmount + parseFloat(item.amount),\n                    });\n                }, {});\n            this.taxListTotal = groupAll(tax);\n            // window.console.log('nimol', groupAll(tax))\n        },\n        onDepositDeductionChange() {\n            if (\n                this.depositDeduction === \"\" ||\n                this.depositDeduction === undefined\n            ) {\n                this.depositDeduction = 0;\n            }\n            this.invoice.depositDeduction = 0\n            // window.console.log('this.depositDeduction', this.depositDeduction)\n            // window.console.log('this.invoice.depositDeduction', this.invoice.depositDeduction)\n            const amount = parseFloat(this.invoice.total) - parseFloat(this.invoice.depositDeduction)\n            const xChangeAmount = amount * (this.invoice.txnRate || 1)\n            const deduction = parseFloat(this.depositDeduction) || 0;\n            const depA = parseFloat(this.invoice.depositAmount) || 0\n            const xAmount = parseFloat(xChangeAmount) || 0\n            let deduct = deduction\n            if (deduction > xAmount) {\n                deduct = xAmount\n                if (deduct > depA) {\n                    deduct = depA\n                }\n                window.console.log('1', deduct)\n            } else {\n                if (deduct > depA) {\n                    deduct = depA\n                }\n                window.console.log('2', deduct)\n            }\n            this.depositDeduction = parseFloat(deduct)\n            this.invoice.depositDeduction = parseFloat(deduct);\n            // window.console.log('this.invoice.depositDeduction', deduct)\n            // if (deduction > this.invoice.depositAmount) {\n            //     this.invoice.depositDeduction = this.invoice.depositAmount;\n            // }\n            // if (deduction > parseFloat(this.invoice.exchangeAmount)) {\n            //     this.invoice.depositDeduction = this.invoice.exchangeAmount;\n            // }\n            // window.console.log('this.invoice', this.invoice)\n            this.autoCalculate();\n        },\n        autoCalculate() {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                subTotal = 0,\n                totalTax = 0,\n                discountTotal = 0,\n                otherChargeTotal = 0,\n                spTax = 0,\n                pltax = 0,\n                otherTax = 0,\n                vatTax = 0,\n                discountInvoice = 0,\n                taxList = [],\n                taxListDetail = [],\n                discountItem = [],\n                otherChargeItem = [],\n                saleUnit = [],\n                inclusiveTax = 0,\n                discountLine = [],\n                otherChargeLine = [],\n                saleUnitLine = [],\n                itemSubtotal = 0,\n                txnItmSubtotal = 0,\n                serviceSubtotal = 0,\n                itemDiscount = 0,\n                serviceDiscount = 0,\n                txnDiscount = 0;\n            let nature = \"\";\n            this.jRaw = [];\n            const rows = ds.data().filter((m) => parseFloat(m.amount) > 0);\n            rows.forEach((value) => {\n                let modifierPrice = 0;\n                let vatSpTax = {}, vatPLTax = {}, vatOtherTax = {}\n                if (value.modifier) {\n                    modifierPrice = kendo.parseFloat(value.modifier.price);\n                }\n\n                // subTotal += (kendo.parseFloat(value.amount) + modifierPrice)\n                let discount = 0, otherCharge = 0;\n                if (value.otherChargeItem) {\n                    const subTotal = kendo.parseFloat(value.price) * kendo.parseFloat(value.qty);\n                    const otherChargeField = value.otherChargeItem || {};\n                    otherCharge = this.autoCalculateDiscount(otherChargeField, subTotal)\n                    value[\"otherChargeAmount\"] = otherCharge;\n                    value[\"otherChargeExchangeAmount\"] = otherCharge * kendo.parseFloat(this.invoice.txnRate);\n                    if (value.otherChargeItem.hasOwnProperty(\"id\")) {\n                        otherChargeItem.push(value.otherChargeItem);\n                        otherChargeLine.push({\n                            id: value.otherChargeItem.id,\n                            name: value.otherChargeItem.name,\n                            amount: otherCharge,\n                            exchangeAmount: otherCharge * parseFloat(this.invoice.txnRate),\n                        });\n                    }\n                    window.console.log('otherChargeTotal', otherCharge)\n                    otherChargeTotal += (otherCharge || 0);\n                    if (otherCharge * -1 > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    if (otherChargeField.account) {\n                        if (otherChargeField.account.hasOwnProperty(\"id\")) {\n                            this.jRaw.push({\n                                id: otherChargeField.account.id + \"-\" + nature,\n                                description: \"Other Charge\",\n                                account: otherChargeField.account,\n                                accountId: otherChargeField.account.id,\n                                amount: otherCharge * -1,\n                                exchangeAmount: otherCharge * -1 * kendo.parseFloat(this.invoice.txnRate),\n                                type: nature,\n                                typeAs: \"otherCharge\",\n                            });\n                        }\n                    }\n                }\n                if (value.discountItem) {\n                    const disItemField = value.discountItem;\n                    const subTo = kendo.parseFloat(value.price) * kendo.parseFloat(value.qty);\n                    discount = this.autoCalculateDiscount(value.discountItem, subTo);\n                    value[\"discountAmount\"] = discount;\n                    value[\"discountExchangeAmount\"] = discount * kendo.parseFloat(this.invoice.txnRate);\n                    // window.console.log('value', JSON.stringify(value))\n                    if (value.discountItem.hasOwnProperty(\"id\")) {\n                        discountItem.push(value.discountItem);\n                        discountLine.push({\n                            id: value.discountItem.id,\n                            name: value.discountItem.name,\n                            amount: discount,\n                            exchangeAmount: discount * parseFloat(this.invoice.txnRate),\n                        });\n                    }\n                    discountTotal += (discount || 0)\n                    if (discount > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    if (disItemField.account) {\n                        if (disItemField.account.hasOwnProperty(\"id\")) {\n                            this.jRaw.push({\n                                id: disItemField.account.id + \"-\" + nature,\n                                // line: new ItemLineModel(value),\n                                description: \"Discount\",\n                                account: disItemField.account,\n                                accountId: disItemField.account.id,\n                                amount: discount,\n                                exchangeAmount:\n                                    discount * kendo.parseFloat(this.invoice.txnRate),\n                                type: nature,\n                                typeAs: \"discount\",\n                            });\n                        }\n                    }\n                }\n                if (value.saleUnit) {\n                    if (value.saleUnit.hasOwnProperty(\"id\")) {\n                        saleUnit.push(value.saleUnit);\n                        const item_ = value.item || {};\n                        const amount_ =\n                            kendo.parseFloat(value.price) * kendo.parseFloat(value.qty) || 0;\n                        const itemObj = {\n                            id: item_.id || \"\",\n                            name: item_.name || \"\",\n                            amount: amount_ - (discount || 0),\n                        };\n                        saleUnitLine.push({\n                            lineId: value.id || \"\",\n                            id: value.saleUnit.id,\n                            name: value.saleUnit.name,\n                            item: itemObj,\n                            amount: itemObj.amount,\n                            exchangeAmount: itemObj.amount * (this.invoice.txnRate || 1),\n                            discount: discount || 0,\n                            exchangeDiscount: (discount || 0) * (this.invoice.txnRate || 1),\n                        });\n                    }\n                }\n                if (value.specificTax) {\n                    spTax = this.autoCalculateTax(\n                        value.specificTax,\n                        kendo.parseFloat(value.amount) - kendo.parseFloat(discount)\n                    );\n                    spTax = kendo.parseFloat(spTax) ? kendo.parseFloat(spTax) : 0;\n                    value[\"specificTaxAmount\"] = spTax;\n                    value[\"specificTaxExchangeAmount\"] =\n                        spTax * kendo.parseFloat(this.invoice.txnRate);\n                    const tax = value.specificTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += spTax;\n                        }\n                    }\n                    // window.console.log(value.specificTax)\n                    if (value.specificTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.specificTax.taxType.name,\n                            amount: spTax,\n                            id: value.specificTax.taxType.id,\n                        });\n                        const spTax_ = value.specificTax || {}\n                        // spTax_['taxAmount'] = spTax\n                        spTax_['taxAmount_'] = spTax\n                        spTax_['amount'] = value.amount || 0\n                        spTax_['discount'] = discount || 0\n                        spTax_['txnRate'] = this.invoice.txnRate || 1\n                        // delete tax_['account']\n                        taxListDetail.push(spTax_);\n                        vatSpTax = spTax_\n                    }\n                    if (spTax * -1 > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    const specificTaxField = value.specificTax;\n                    if (specificTaxField.account) {\n                        if (specificTaxField.account.hasOwnProperty(\"id\")) {\n                            this.jRaw.push({\n                                id: specificTaxField.account.id + \"-\" + nature,\n                                // line: new ItemLineModel(value),\n                                description: \"Tax\",\n                                account: specificTaxField.account,\n                                accountId: specificTaxField.account.id,\n                                amount: spTax * -1,\n                                exchangeAmount:\n                                    spTax * -1 * kendo.parseFloat(this.invoice.txnRate),\n                                type: nature,\n                                typeAs: \"tax\",\n                            });\n                        }\n                    }\n                }\n                if (value.publicLightingTax) {\n                    pltax = this.autoCalculateTax(\n                        value.publicLightingTax,\n                        kendo.parseFloat(value.amount) - kendo.parseFloat(discount)\n                    );\n                    pltax = kendo.parseFloat(pltax) ? kendo.parseFloat(pltax) : 0;\n                    value[\"publicLightingTaxAmount\"] = pltax;\n                    value[\"publicLightingTaxExchangeAmount\"] =\n                        pltax * kendo.parseFloat(this.invoice.txnRate);\n                    const tax = value.publicLightingTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += pltax;\n                        }\n                    }\n                    if (value.publicLightingTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.publicLightingTax.taxType.name,\n                            amount: pltax,\n                            id: value.publicLightingTax.taxType.id,\n                        });\n                        const plTax_ = value.publicLightingTax || {}\n                        // plTax_['taxAmount'] = pltax\n                        plTax_['taxAmount_'] = pltax\n                        plTax_['amount'] = value.amount || 0\n                        plTax_['discount'] = discount || 0\n                        plTax_['txnRate'] = this.invoice.txnRate || 1\n                        // delete tax_['account']\n                        taxListDetail.push(plTax_);\n                        vatPLTax = plTax_\n                    }\n                    if (pltax * -1 > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    const PLTaxField = value.publicLightingTax;\n                    if (PLTaxField.account) {\n                        if (PLTaxField.account.hasOwnProperty(\"id\")) {\n                            this.jRaw.push({\n                                id: PLTaxField.account.id + \"-\" + nature,\n                                // line: new ItemLineModel(value),\n                                description: \"Tax\",\n                                account: PLTaxField.account,\n                                accountId: PLTaxField.account.id,\n                                amount: pltax * -1,\n                                exchangeAmount:\n                                    pltax * kendo.parseFloat(this.invoice.txnRate) * -1,\n                                type: nature,\n                                typeAs: \"tax\",\n                            });\n                        }\n                    }\n                }\n                if (value.otherTax) {\n                    otherTax = this.autoCalculateTax(\n                        value.otherTax,\n                        kendo.parseFloat(value.amount) - kendo.parseFloat(discount)\n                    );\n                    otherTax = kendo.parseFloat(otherTax)\n                        ? kendo.parseFloat(otherTax)\n                        : 0;\n                    value[\"otherTaxAmount\"] = otherTax;\n                    value[\"otherTaxExchangeAmount\"] =\n                        otherTax * kendo.parseFloat(this.invoice.txnRate);\n                    const tax = value.otherTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += otherTax;\n                        }\n                    }\n                    if (value.otherTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.otherTax.taxType.name,\n                            amount: otherTax,\n                            id: value.otherTax.taxType.id,\n                        });\n                        const tax__ = value.otherTax || {}\n                        // tax__['taxAmount'] = otherTax\n                        tax__['taxAmount_'] = otherTax\n                        tax__['amount'] = value.amount || 0\n                        tax__['discount'] = discount || 0\n                        tax__['txnRate'] = this.invoice.txnRate || 1\n                        // delete tax_['account']\n                        taxListDetail.push(tax__);\n                        vatOtherTax = tax__\n                    }\n                    if (otherTax * -1 > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    const otherTaxField = value.otherTax;\n                    if (otherTaxField.account) {\n                        if (otherTaxField.account.hasOwnProperty(\"id\")) {\n                            this.jRaw.push({\n                                id: otherTaxField.account.id + \"-\" + nature,\n                                // line: new ItemLineModel(value),\n                                description: \"Tax\",\n                                account: otherTaxField.account,\n                                accountId: otherTaxField.account.id,\n                                amount: otherTax * -1,\n                                exchangeAmount:\n                                    otherTax * kendo.parseFloat(this.invoice.txnRate) * -1,\n                                type: nature,\n                                typeAs: \"tax\",\n                            });\n                        }\n                    }\n                }\n\n                if (value.vatTax) {\n                    // window.console.log('Vat Tax', value.vatTax)\n                    let amt =\n                        kendo.parseFloat(spTax ? spTax : 0) +\n                        kendo.parseFloat(pltax ? pltax : 0) +\n                        kendo.parseFloat(otherTax ? otherTax : 0) +\n                        (kendo.parseFloat(value.amount ? value.amount : 0) -\n                            (discount ? discount : 0));\n                    vatTax = this.autoCalculateTax(value.vatTax, amt);\n                    vatTax = kendo.parseFloat(vatTax) ? kendo.parseFloat(vatTax) : 0;\n                    value[\"vatTaxAmount\"] = vatTax;\n                    value[\"vatTaxExchangeAmount\"] =\n                        vatTax * kendo.parseFloat(this.invoice.txnRate);\n                    const tax = value.vatTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += vatTax;\n                        }\n                    }\n                    if (value.vatTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.vatTax.taxType.name,\n                            amount: vatTax,\n                            id: value.vatTax.taxType.id,\n                        });\n                        const vatTax_ = value.vatTax || {}\n                        // vatTax_['taxAmount'] = vatTax\n                        vatTax_['taxAmount_'] = vatTax\n                        vatTax_['amount'] = value.amount || 0\n                        vatTax_['discount'] = discount || 0\n                        vatTax_['txnRate'] = this.invoice.txnRate || 1\n                        vatTax_['isVat'] = 1\n                        vatTax_.detail = {\n                            specificTax: vatSpTax,\n                            publicLightingTax: vatPLTax,\n                            otherTax: vatOtherTax,\n                        }\n                        // delete tax_['account']\n                        taxListDetail.push(vatTax_);\n\n                    }\n\n                    if (vatTax * -1 > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    const vatTaxField = value.vatTax;\n                    if (vatTaxField.account) {\n                        if (vatTaxField.account.hasOwnProperty(\"id\")) {\n                            this.jRaw.push({\n                                id: vatTaxField.account.id + \"-\" + nature,\n                                // line: new ItemLineModel(value),\n                                description: \"Tax\",\n                                account: vatTaxField.account,\n                                accountId: vatTaxField.account.id,\n                                amount: vatTax * -1,\n                                exchangeAmount:\n                                    vatTax * kendo.parseFloat(this.invoice.txnRate) * -1,\n                                type: nature,\n                                typeAs: \"tax\",\n                            });\n                        }\n                    }\n                }\n                vatSpTax = {}, vatPLTax = {} , vatOtherTax = {}\n                totalTax +=\n                    kendo.parseFloat(spTax ? spTax : 0) +\n                    kendo.parseFloat(pltax ? pltax : 0) +\n                    kendo.parseFloat(otherTax ? otherTax : 0) +\n                    kendo.parseFloat(vatTax ? vatTax : 0);\n                subTotal +=\n                    kendo.parseFloat(value.amount) + modifierPrice - inclusiveTax;\n                const amt =\n                    kendo.parseFloat(value.amount) + modifierPrice - inclusiveTax;\n                const xAmount =\n                    kendo.parseFloat(amt) * kendo.parseFloat(this.invoice.txnRate) * -1;\n                const item = value.item;\n                const itmType = item.type || \"\";\n                if (itmType === \"Variant\") {\n                    itemSubtotal +=\n                        kendo.parseFloat(value.price) * kendo.parseFloat(value.qty);\n                    itemDiscount += kendo.parseFloat(discount);\n                } else if (itmType === \"Service\") {\n                    serviceSubtotal +=\n                        kendo.parseFloat(value.price) * kendo.parseFloat(value.qty);\n                    itemDiscount += kendo.parseFloat(discount);\n                } else {\n                    txnItmSubtotal +=\n                        kendo.parseFloat(value.price) * kendo.parseFloat(value.qty);\n                    itemDiscount += kendo.parseFloat(discount);\n                }\n\n                const conversionRate = value.conversionRate || 1;\n                const bQty = parseFloat(value.qty * conversionRate);\n                const wac = parseFloat(value.wac) || 0;\n                const itemAmount = parseFloat(bQty) * wac;\n                // const itemxAmount = itemAmount\n                if (amt * -1 > 0) {\n                    nature = \"dr\";\n                } else {\n                    nature = \"cr\";\n                }\n                if (item) {\n                    if (item.type === \"Service\") {\n                        if (value.isPlan) {\n                            if (item.hasOwnProperty(\"deferredIncomeAcc\")) {\n                                if (item.deferredIncomeAcc.hasOwnProperty(\"id\")) {\n                                    let deferredInAcc = item.deferredIncomeAcc;\n                                    this.jRaw.push({\n                                        id: deferredInAcc.id + \"-\" + nature,\n                                        // line: new ItemLineModel(value),\n                                        description: this.invoice.journalNote,\n                                        account: deferredInAcc,\n                                        accountId: deferredInAcc.id,\n                                        amount: amt * -1,\n                                        exchangeAmount: xAmount,\n                                        type: nature,\n                                        typeAs: \"item\",\n                                    });\n                                }\n                            }\n                        } else {\n                            let incomeAcc = item.incomeAcc;\n                            if (item.hasOwnProperty(\"incomeAcc\")) {\n                                if (item.incomeAcc.hasOwnProperty(\"id\")) {\n                                    this.jRaw.push({\n                                        id: incomeAcc.id + \"-\" + nature,\n                                        // line: new ItemLineModel(value),\n                                        description: this.invoice.journalNote,\n                                        account: incomeAcc,\n                                        accountId: incomeAcc.id,\n                                        amount: amt * -1,\n                                        exchangeAmount: xAmount,\n                                        type: nature,\n                                        typeAs: \"item\",\n                                        cashBasic: 1\n                                    });\n                                }\n                            }\n                        }\n                    } else if (item.type === \"Variant\") {\n                        if (item.hasOwnProperty(\"incomeAcc\")) {\n                            if (item.incomeAcc.hasOwnProperty(\"id\")) {\n                                let incomeAcc = item.incomeAcc;\n                                this.jRaw.push({\n                                    id: incomeAcc.id + \"-\" + nature,\n                                    // line: new ItemLineModel(value),\n                                    description: this.invoice.journalNote,\n                                    account: item.incomeAcc,\n                                    accountId: item.incomeAcc.id,\n                                    amount: amt * -1,\n                                    exchangeAmount: xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                    cashBasic: 1\n                                });\n                            }\n                        }\n                        if (item.hasOwnProperty(\"inventoryAcc\")) {\n                            if (item.inventoryAcc.hasOwnProperty(\"id\")) {\n                                let inventoryAcc = item.inventoryAcc;\n                                this.jRaw.push({\n                                    id: inventoryAcc.id + \"-\" + \"cr\",\n                                    // line: new ItemLineModel(value),\n                                    description: this.invoice.journalNote,\n                                    account: item.inventoryAcc,\n                                    accountId: item.inventoryAcc.id,\n                                    amount: itemAmount * -1, // qty*avg_cost ,\n                                    exchangeAmount: itemAmount * -1, //xAmount,\n                                    type: \"cr\",\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                        if (item.hasOwnProperty(\"costOfGoodsSoldAcc\")) {\n                            if (item.costOfGoodsSoldAcc.hasOwnProperty(\"id\")) {\n                                let costOfGoodsSoldAcc = item.costOfGoodsSoldAcc;\n                                this.jRaw.push({\n                                    id: costOfGoodsSoldAcc.id + \"-\" + \"dr\",\n                                    // line: new ItemLineModel(value),\n                                    description: this.invoice.journalNote,\n                                    account: item.costOfGoodsSoldAcc,\n                                    accountId: item.costOfGoodsSoldAcc.id,\n                                    amount: itemAmount, // qty*avg_cost ,\n                                    exchangeAmount: itemAmount, //xAmount,\n                                    type: \"dr\",\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n\n                    } else if (item.type === \"Fixed Asset\") {\n                        if (item.hasOwnProperty(\"assetAcc\")) {\n                            if (item.assetAcc.hasOwnProperty(\"id\")) {\n                                let assetAcc = item.assetAcc;\n                                this.jRaw.push({\n                                    id: assetAcc.id + \"-\" + nature,\n                                    // line: new ItemLineModel(value),\n                                    description: this.invoice.journalNote,\n                                    account: item.assetAcc,\n                                    accountId: item.assetAcc.id,\n                                    amount: amt * -1,\n                                    exchangeAmount: xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                    } else if (item.type === \"Transaction Item\") {\n                        if (item.hasOwnProperty(\"account\")) {\n                            if (item.account.hasOwnProperty(\"id\")) {\n                                this.jRaw.push({\n                                    id: item.account.id + \"-\" + nature,\n                                    // line: new ItemLineModel(value),\n                                    description: this.invoice.journalNote,\n                                    account: item.account,\n                                    accountId: item.account.id,\n                                    amount: amt * -1,\n                                    exchangeAmount: xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                    }\n                }\n                //include Tax Amount\n                const amountNodiscount = kendo.parseFloat(value.price) * kendo.parseFloat(value.qty) - discount;\n                const includeTaxAmount = amountNodiscount + vatTax + pltax + spTax + otherTax;\n                value[\"includeTaxAmount\"] = includeTaxAmount;\n                value[\"includeTaxExchangeAmount\"] = includeTaxAmount * kendo.parseFloat(this.invoice.txnRate);\n            });\n            this.invoice.itemSubtotal = itemSubtotal;\n            this.invoice.exchangeItemSubtotal =\n                itemSubtotal * kendo.parseFloat(this.invoice.txnRate);\n            this.invoice.serviceSubtotal = serviceSubtotal;\n            this.invoice.exchangeServiceSubtotal =\n                serviceSubtotal * kendo.parseFloat(this.invoice.txnRate);\n            this.invoice.txnItmSubtotal = txnItmSubtotal;\n            this.invoice.exchangeTxnItmSubtotal =\n                txnItmSubtotal * kendo.parseFloat(this.invoice.txnRate);\n            this.invoice.itemDiscount = itemDiscount;\n            this.invoice.exchangeItemDiscount =\n                itemDiscount * kendo.parseFloat(this.invoice.txnRate);\n            this.invoice.serviceDiscount = serviceDiscount;\n            this.invoice.exchangeServiceDiscount =\n                serviceDiscount * kendo.parseFloat(this.invoice.txnRate);\n            this.invoice.txnItmDiscount = txnDiscount;\n            this.invoice.exchangeTxnItmDiscount =\n                txnDiscount * kendo.parseFloat(this.invoice.txnRate);\n            // window.console.log(spTax, pltax, otherTax, vatTax)\n            let total =\n                kendo.parseFloat(subTotal) -\n                kendo.parseFloat(discountTotal) +\n                kendo.parseFloat(totalTax);\n            this.invoice.subTotal = subTotal;\n            this.invoice.exchangeSubTotal =\n                subTotal * parseFloat(this.invoice.txnRate);\n            // $(\"#subtotal\").text(kendo.parseFloat(subTotal))\n            this.invoice.totalTaxAmount = kendo.parseFloat(totalTax);\n            this.invoice.discountTotal = kendo.parseFloat(discountTotal);\n            this.invoice.otherChargeTotal = kendo.parseFloat(otherChargeTotal);\n            if (this.invoice.specificDiscountItem) {\n                discountInvoice = this.autoCalculateDiscount(\n                    this.invoice.specificDiscountItem,\n                    kendo.parseFloat(subTotal)\n                );\n                discountInvoice = discountInvoice ? discountInvoice : 0;\n            }\n            // this.onOtherChargeChange()\n            this.invoice.total = kendo.parseFloat(total) - discountInvoice + kendo.parseFloat(this.invoice.otherChargeAmount) + otherChargeTotal;\n            this.invoice.remainingAmount = kendo.parseFloat(this.invoice.total) - kendo.parseFloat(this.invoice.depositDeduction);\n            this.invoice.amountDue = kendo.parseFloat(this.invoice.total) - kendo.parseFloat(this.invoice.depositDeduction);\n            this.invoice.exchangeAmount = kendo.parseFloat(this.invoice.amountDue) * kendo.parseFloat(this.invoice.txnRate);\n            // window.console.log('Exchange Amount', this.invoice.exchangeAmount)\n            this.autoCalculateTaxByType(taxList);\n            if (this.invoice.specificDiscountItem) {\n                const specificDiscount = this.invoice.specificDiscountItem || {};\n                if (specificDiscount.id) {\n                    discountItem.push(specificDiscount);\n                    discountLine.push({\n                        id: specificDiscount.id,\n                        name: specificDiscount.name,\n                        amount: this.invoice.specificDiscountTotal,\n                        exchangeAmount:\n                            this.invoice.specificDiscountTotal * this.invoice.txnRate,\n                    });\n                }\n            }\n            const uniqueDiscountItem = this.removeDuplicate(discountItem);\n            this.shrinkDiscountItem(uniqueDiscountItem, discountLine);\n\n            const uniqueOtherCharge = this.removeDuplicate(otherChargeItem);\n            this.shrinkOtherChargeItem(uniqueOtherCharge, otherChargeLine);\n\n            this.customerSaleUnit = this.removeDuplicate(saleUnit);\n            this.customerSaleUnitLine = saleUnitLine; //this.removeDuplicate(saleUnit)\n            this.taxListDetail = taxListDetail\n            // window.console.log('taxListDetail--', taxListDetail)\n            // todo: raw Journal\n            const receivableAcc = this.invoice.receivableAcc || {};\n            if (this.invoice.amountDue > 0) {\n                nature = \"dr\";\n            } else {\n                nature = \"cr\";\n            }\n            if (receivableAcc) {\n                if (receivableAcc.hasOwnProperty(\"id\")) {\n                    this.jRaw.push({\n                        id: receivableAcc.id + \"-\" + nature,\n                        // line: new ItemLineModel({}),\n                        description: this.invoice.journalNote,\n                        account: receivableAcc,\n                        accountId: receivableAcc.id,\n                        exchangeAmount: this.invoice.exchangeAmount,\n                        amount: this.invoice.amountDue,\n                        type: nature,\n                        typeAs: \"ar\",\n                    });\n                }\n            }\n            const specificDisc = this.invoice.specificDiscountItem;\n            if (this.invoice.specificDiscountTotal > 0) {\n                nature = \"dr\";\n            } else {\n                nature = \"cr\";\n            }\n            if (specificDisc) {\n                if (specificDisc.hasOwnProperty(\"account\")) {\n                    if (specificDisc.account) {\n                        if (specificDisc.hasOwnProperty(\"id\")) {\n                            this.jRaw.push({\n                                id: specificDisc.account.id + \"-\" + nature,\n                                // line: new ItemLineModel({}),\n                                description: \"Discount\",\n                                account: specificDisc.account || {},\n                                accountId: specificDisc.account.id,\n                                exchangeAmount:\n                                    kendo.parseFloat(this.invoice.specificDiscountTotal) *\n                                    kendo.parseFloat(this.invoice.txnRate),\n                                amount: this.invoice.specificDiscountTotal,\n                                type: nature,\n                                typeAs: \"discount\",\n                            });\n                        }\n                    }\n                }\n            }\n\n            if (this.invoice.depositDeduction > 0) {\n                nature = \"dr\";\n            } else {\n                nature = \"cr\";\n            }\n            this.invoice.exchangeDepositDeduction =\n                (this.invoice.txnRate || 0) * this.invoice.depositDeduction;\n            if (this.invoice.depositDeduction) {\n                if (this.invoice.depositDeduction > 0) {\n                    const saleDepositAcc = this.customer.saleDepositAcc || {};\n                    if (saleDepositAcc) {\n                        if (saleDepositAcc.hasOwnProperty(\"id\")) {\n                            this.jRaw.push({\n                                id: saleDepositAcc.id + \"-\" + nature,\n                                description: \"Deposit\",\n                                // line: new ItemLineModel({}),\n                                account: saleDepositAcc,\n                                accountId: saleDepositAcc.id,\n                                exchangeAmount: this.invoice.exchangeDepositDeduction,\n                                amount: this.invoice.depositDeduction,\n                                type: nature,\n                                typeAs: \"deposit\",\n                            });\n                        }\n                    }\n                }\n            }\n            if (this.mOtherCharge.length > 0) {\n                let otherCharge = 0;\n                this.mOtherCharge.forEach((m) => {\n                    otherCharge = this.autoCalculateDiscount(m, this.invoice.subTotal);\n                    if (otherCharge * -1 > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    if (m) {\n                        if (m.hasOwnProperty(\"account\")) {\n                            if (m.account.hasOwnProperty(\"id\")) {\n                                const account = m.account;\n                                if (account) {\n                                    if (account.hasOwnProperty(\"id\")) {\n                                        this.jRaw.push({\n                                            id: account.id + \"-\" + nature,\n                                            // line: new ItemLineModel({}),\n                                            description: \"Other Charge\",\n                                            account: account,\n                                            accountId: account.id,\n                                            exchangeAmount:\n                                                otherCharge *\n                                                kendo.parseFloat(this.invoice.txnRate) *\n                                                -1,\n                                            amount: otherCharge * -1,\n                                            type: nature,\n                                            typeAs: \"otherCharge\",\n                                        });\n                                    }\n                                }\n                            }\n                        }\n                    }\n                });\n                // this.invoice.otherChargeAmount = otherCharge\n\n                window.console.log(this.mOtherCharge);\n            }\n            this.autoCalculateTaxDetail();\n            // todo: end raw Journal\n            // window.console.log(JSON.stringify(this.accounts), 'accounts')\n            this.shrinkData(this.jRaw);\n            // const unique = this.removeDuplicate(this.accounts)\n            // window.console.log(unique, 'unique')\n        },\n        shrinkData(obj) {\n            const uniques = this.removeDuplicate(\n                obj\n            ); /*[...new Set(accountId.map(i => {\n                return {\n                    id_: i.id_,\n                    id: i.id,\n                    type: i.type\n                }\n            }))]*/\n            /* todo: cash basic account */\n            let cashBasicAmount = 0\n            let xCashBasicAmount = 0\n            this.invoice.cashBasicIncomeAcc = []\n            let cashBasicAcc = uniques.filter(m => m.cashBasic === 1)\n            cashBasicAcc.forEach(k => {\n                cashBasicAmount += k.amount\n                xCashBasicAmount += k.exchangeAmount\n            })\n            cashBasicAcc.map(o => {\n                o['amountPercentage'] = o.amount / cashBasicAmount\n                o['xAmountPercentage'] = o.exchangeAmount / xCashBasicAmount\n            })\n            this.invoice.cashBasicIncomeAcc = cashBasicAcc\n            /* todo: end */\n            uniques.forEach((n) => {\n                const found = obj.filter((m) => m.id === n.id);\n                let amount = 0,\n                    xAmount = 0;\n                found.forEach((z) => {\n                    amount += parseFloat(z.amount || 0);\n                    xAmount += parseFloat(z.exchangeAmount || 0);\n                });\n                n.amount = parseFloat(amount); //this.numberFormat(amount)\n                n.exchangeAmount = parseFloat(xAmount); //parseFloat(parseFloat(amount * parseFloat(this.invoice.txnRate))) //this.numberFormat(amount * parseFloat(this.invoice.txnRate)) //.toFixed(this.saleFormContent.decimal)\n            });\n            this.jRaw = uniques;\n            let dr = 0,\n                cr = 0;\n            this.jRaw.forEach((j) => {\n                switch (j.type) {\n                    case \"cr\":\n                        cr += parseFloat(j.amount);\n                        break;\n                    case \"dr\":\n                        dr += parseFloat(j.amount);\n                        break;\n                    default:\n                        break;\n                }\n            });\n            this.invoice.dr = dr;\n            this.invoice.cr = cr;\n            window.console.log(\"dr=\", dr, \"cr=\", cr, \"dr+cr = \", dr + cr);\n            window.console.log(JSON.stringify(uniques), \"uniques\");\n        },\n        rawForJournal() {\n            //todo: DR side account receivable\n            let itemLineDS = this.$refs.itemLineDS.kendoWidget();\n            const dataRow = itemLineDS.data();\n            this.jRaw = [];\n            // window.console.log(dataRow, 'dataRow')\n            dataRow.forEach((o) => {\n                const item = o.item;\n                const discountItem = o.discountItem;\n                const vatTax = o.vatTax;\n                const specificTax = o.specificTax;\n                const PLTax = o.publicLightingTax;\n                const otherTax = o.otherTax;\n                if (item) {\n                    if (item.type === \"Service\") {\n                        let incomeAcc = item.incomeAcc;\n                        if (item.hasOwnProperty(\"incomeAcc\")) {\n                            this.jRaw.push({\n                                item: item,\n                                line: o,\n                                account: incomeAcc,\n                                accountId: incomeAcc.id,\n                                type: \"cr\",\n                                typeAs: \"item\",\n                            });\n                        }\n                        if (item.hasOwnProperty(\"deferredIncomeAcc\")) {\n                            let deferredInAcc = item.deferredIncomeAcc;\n                            this.jRaw.push({\n                                item: item,\n                                line: o,\n                                account: deferredInAcc,\n                                accountId: deferredInAcc.id,\n                                type: \"cr\",\n                                typeAs: \"item\",\n                            });\n                        }\n                    } else if (item.type === \"Variant\") {\n                        this.jRaw.push({\n                            item: item,\n                            line: o,\n                            account: item.incomeAcc,\n                            accountId: item.incomeAcc.id,\n                            type: \"cr\",\n                            typeAs: \"item\",\n                        });\n                        this.jRaw.push({\n                            item: item,\n                            line: o,\n                            account: item.inventoryAcc,\n                            accountId: item.inventoryAcc.id,\n                            type: \"cr\",\n                            typeAs: \"item\",\n                        });\n                        this.jRaw.push({\n                            item: item,\n                            line: o,\n                            account: item.costOfGoodsSoldAcc,\n                            accountId: item.costOfGoodsSoldAcc.id,\n                            type: \"dr\",\n                            typeAs: \"item\",\n                        });\n                    } else if (item.type === \"Fixed Asset\") {\n                        this.jRaw.push({\n                            item: item,\n                            line: o,\n                            account: item.assetAcc,\n                            accountId: item.assetAcc.id,\n                            type: \"cr\",\n                            typeAs: \"item\",\n                        });\n                    } else if (item.type === \"Transaction Item\") {\n                        this.jRaw.push({\n                            item: item,\n                            line: o,\n                            account: item.account,\n                            accountId: item.account.id,\n                            type: \"cr\",\n                            typeAs: \"item\",\n                        });\n                    } else if (item.type === \"Fixed Asset\") {\n                        this.jRaw.push({\n                            item: item,\n                            line: o,\n                            account: item.account,\n                            accountId: item.account.id,\n                            type: \"cr\",\n                            typeAs: \"item\",\n                        });\n                    }\n                }\n                if (discountItem.account) {\n                    this.jRaw.push({\n                        item: item,\n                        line: o,\n                        account: discountItem.account,\n                        accountId: discountItem.account.id,\n                        type: \"dr\",\n                        typeAs: \"discount\",\n                    });\n                }\n                if (vatTax.account) {\n                    this.jRaw.push({\n                        item: item,\n                        line: o,\n                        account: vatTax.account,\n                        accountId: vatTax.account.id,\n                        type: \"cr\",\n                        typeAs: \"tax\",\n                    });\n                }\n                if (specificTax.account) {\n                    this.jRaw.push({\n                        item: item,\n                        line: o,\n                        account: specificTax.account,\n                        accountId: specificTax.account.id,\n                        type: \"cr\",\n                        typeAs: \"tax\",\n                    });\n                }\n                if (PLTax.account) {\n                    this.jRaw.push({\n                        item: item,\n                        line: o,\n                        account: PLTax.account,\n                        accountId: PLTax.account.id,\n                        type: \"cr\",\n                        typeAs: \"tax\",\n                    });\n                }\n                if (otherTax.account) {\n                    this.jRaw.push({\n                        item: item,\n                        line: o,\n                        account: otherTax.account,\n                        accountId: otherTax.account.id,\n                        type: \"cr\",\n                        typeAs: \"tax\",\n                    });\n                }\n            });\n            const receivableAcc = this.invoice.receivableAcc || {};\n            if (receivableAcc) {\n                this.jRaw.push({\n                    item: {},\n                    line: new ItemLineModel({}),\n                    account: receivableAcc,\n                    accountId: receivableAcc.id,\n                    type: \"dr\",\n                });\n            }\n            const specificDisc = this.invoice.specificDiscountItem;\n            if (specificDisc.hasOwnProperty(\"account\")) {\n                if (specificDisc.account.hasOwnProperty(\"id\")) {\n                    this.jRaw.push({\n                        item: {},\n                        line: new ItemLineModel({}),\n                        account: specificDisc.account || {},\n                        accountId: specificDisc.account.id,\n                        type: \"dr\",\n                    });\n                }\n            }\n            const saleDepositAcc = this.customer.saleDepositAcc || {};\n            if (saleDepositAcc.hasOwnProperty(\"account\")) {\n                if (saleDepositAcc.account.hasOwnProperty(\"id\")) {\n                    this.jRaw.push({\n                        item: {},\n                        line: new ItemLineModel({}),\n                        account: saleDepositAcc.account,\n                        accountId: saleDepositAcc.account.id,\n                        type: \"dr\",\n                    });\n                }\n            }\n\n            window.console.log(saleDepositAcc);\n            if (this.mOtherCharge.length > 0) {\n                window.console.log(this.mOtherCharge);\n            }\n            window.console.log(JSON.stringify(this.jRaw), \"accounts\");\n            // todo: calculate Amount\n        },\n        removeDuplicate(array) {\n            const result = [];\n            const map = new Map();\n            for (const item of array) {\n                if (!map.has(item.id)) {\n                    map.set(item.id, true); // set any value to Map\n                    result.push(item);\n                }\n            }\n            return result;\n        },\n        numberFormat(value) {\n            // window.console.log(this.saleFormContent.decimal,'nimol')\n            return kendo.toString(value, `n${this.saleFormContent.decimal}`);\n        },\n        autoCalculateDiscount(discountItem, subTotal) {\n            if (discountItem) {\n                const nature = discountItem.nature || ''\n                const amount = discountItem.amount || 0\n                if (nature === 'Amount') {\n                    return parseFloat(amount)\n                } else if (nature === 'Percentage') {\n                    return (subTotal * (parseFloat(amount) / 100))\n                } else {\n                    return 0\n                }\n            } else {\n                return 0\n            }\n        },\n        autoCalculateTax(tax, amount) {\n            if (tax) {\n                var formula = tax.formula;\n                var inAmt = kendo.parseFloat(amount);\n                var nAmt = kendo.parseFloat(amount);\n                var taxBase = kendo.parseFloat(tax.taxBase) / 100;\n                var rate = kendo.parseFloat(tax.rate) / 100;\n                var total = eval(formula);\n                window.console.log(inAmt, nAmt, taxBase, rate, formula, total);\n                return total;\n            }\n            // return 0\n        },\n        taxMapping(objTax, tax) {\n            const taxId = tax.id || ''\n            const tax_ = objTax.filter(t => t.id === taxId)[0]\n            return tax_ || {\n                id: '',\n                defaultTax: ''\n            }\n        },\n        async dataSourceChanged(e) {\n            if (e.field) {\n                let dataRow = e.items[0], item = {},\n                    buom = {}, vTax = {}, spTax = {}, otTax = {}, plTax = {},\n                    conversionRate = 1,\n                    wac = 0,\n                    qoh = 0,\n                    amount = 0,\n                    xAmount = 0;\n                switch (e.field) {\n                    case \"item\":\n                        // this.attribute_ = this.attributes.filter(m => m.type.id === dataRow.variant.id)\n                        item = dataRow.item || {}\n                        dataRow.set(\"description\", item.description || '');\n                        buom = item.uom || {};\n                        dataRow.set(\"buom\", buom);\n                        // dataRow.set('uom', buom)\n                        // window.console.log(dataRow.item,'row')\n                        // await this.inventoryBalance(dataRow, dataRow.item.id)\n                        break;\n                    case \"price\":\n                        try {\n                            amount = parseFloat(dataRow.price) * parseFloat(dataRow.qty);\n                            xAmount = amount * parseFloat(this.invoice.txnRate);\n\n                            dataRow.set(\"price\", parseFloat(dataRow.price));\n                            dataRow.set(\"amount\", amount);\n                            dataRow.set(\"exchangeAmount\", xAmount);\n                            // window.console.log('price',dataRow.price)\n                        } catch {\n                            dataRow.set(\"price\", 0);\n                            dataRow.set(\"amount\", 0);\n                            dataRow.set(\"exchangeAmount\", 0);\n                        }\n                        break;\n                    case \"uom\":\n                        if (this.isPriceLevelChanged === false) {\n                            try {\n                                buom = dataRow.uom.buom || {};\n                                qoh = dataRow.uom.qoh || 0;\n                                conversionRate = dataRow.uom.conversionRate || 1;\n                                wac = dataRow.uom.wac || 0;\n                                dataRow.set(\"buom\", buom);\n                                dataRow.set(\"wac\", wac);\n                                dataRow.set(\"qoh\", qoh);\n                                /* todo: mapping tax object */\n                                vTax = this.taxMapping(this.vatTax, dataRow.uom.vatTax || {})\n                                otTax = this.taxMapping(this.otherTax, dataRow.uom.otherTax || {})\n                                spTax = this.taxMapping(this.specificTax, dataRow.uom.specificTax || {})\n                                plTax = this.taxMapping(this.publicLightingTax, dataRow.uom.publicLightingTax || {})\n\n                                dataRow.set(\"vatTax\", vTax);\n                                dataRow.set(\"specificTax\", spTax);\n                                dataRow.set(\"otherTax\", otTax);\n                                dataRow.set(\"publicLightingTax\", plTax);\n\n                                dataRow.set(\"conversionRate\", parseFloat(conversionRate));\n                                if (dataRow.uom) {\n                                    amount = parseFloat(dataRow.uom.price) * parseFloat(dataRow.qty);\n                                    xAmount = amount * parseFloat(this.invoice.txnRate);\n\n                                    dataRow.set(\"price\", parseFloat(dataRow.uom.price));\n                                    dataRow.set(\"amount\", amount);\n                                    dataRow.set(\"exchangeAmount\", xAmount);\n                                } else {\n                                    amount = parseFloat(dataRow.price) * parseFloat(dataRow.qty);\n                                    xAmount = amount * parseFloat(this.invoice.txnRate);\n\n                                    dataRow.set(\"price\", parseFloat(dataRow.price));\n                                    dataRow.set(\"amount\", amount);\n                                    dataRow.set(\"exchangeAmount\", xAmount);\n                                }\n                            } catch (err) {\n                                window.console.log(\"error\", err);\n                                dataRow.set(\"buom\", {});\n                                dataRow.set(\"conversionRate\", 1);\n                                dataRow.set(\"price\", 0);\n                                dataRow.set(\"qoh\", 0);\n                                dataRow.set(\"wac\", 0);\n                                dataRow.set(\"amount\", 0);\n                                dataRow.set(\"exchangeAmount\", 0);\n                            }\n                        }\n                        break;\n                    case \"qty\":\n                        try {\n                            amount = parseFloat(dataRow.price) * parseFloat(dataRow.qty);\n                            xAmount = amount * parseFloat(this.invoice.txnRate);\n\n                            dataRow.set(\"price\", parseFloat(dataRow.price));\n                            dataRow.set(\"amount\", amount);\n                            dataRow.set(\"exchangeAmount\", xAmount);\n                        } catch {\n                            dataRow.set(\"price\", 0);\n                            dataRow.set(\"amount\", 0);\n                            dataRow.set(\"exchangeAmount\", 0);\n                        }\n                        break;\n                    case \"otherTax\":\n                        // window.console.log(\"--\", dataRow)\n                        break;\n                    default:\n                        break;\n                }\n                if (e.field) {\n                    this.autoCalculate();\n                    // this.rawForJournal()\n                }\n            }\n        },\n        async inventoryBalance(dataRow, itemId) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    const startDate = this.invoice.transactionDate;\n                    let strFilter = \"?asOf=\" + startDate + \"&id=\" + itemId;\n                    billingHandler.inventoryBalance(strFilter).then((res) => {\n                        if (res.data.statusCode === 200) {\n                            const balance = res.data.data;\n                            if (balance.length > 0) {\n                                dataRow.set(\"cost\", balance[0].wac);\n                                dataRow.set(\"qoh\", balance[0].qoh);\n                                dataRow.set(\n                                    \"amount\",\n                                    parseFloat(balance[0].wac) * parseFloat(dataRow.qty)\n                                );\n                                // dataRow.set('uom', balance[0].buom)\n                            } else {\n                                dataRow.set(\"cost\", 0);\n                            }\n                            window.console.log(\"balance\", res.data.data);\n                        }\n                        this.showLoading = false;\n                    });\n                }, 10);\n            });\n        },\n        ServiceDateEditor(container, options) {\n            kendo\n                .jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDatePicker();\n\n            // let ds = this.$refs.itemLineDS.kendoWidget()\n            // window.console.log(ds.data())\n            // // const dateString = kendo.toString((new Date(options.model.items.serviceDate)), this.itemLine.dateFormat)\n            // // const dateString = kendo.toString(options.model.items.serviceDate)\n            // const $input = $(\"<input value=\" + options.model.serviceDate + \" />\").appendTo(container)\n            // $input.kendoDatePicker()\n            // // $input.appendTo(container)\n            // // options.model.items.serviceDate = dateString\n            // window.console.log($input)\n        },\n        ServiceDateToEditor(container, options) {\n            kendo\n                .jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDatePicker();\n        },\n        ItemDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate:\n                        '<div class=\"dropdown-header k-widget k-header\">' +\n                        \"<span>Items </span>\" +\n                        \"<span></span>\" +\n                        \"</div>\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: productVariantHandler.itemSearchURL('?plId=' + this.invoice.priceLevel.id +'&reUsed=1'),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                        // data: this.variants\n                    }),\n                });\n        },\n        UOMDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"code\",\n                    dataValueField: \"uomConvertId\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#= code || `No Price Level`#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {url: uomPriceHandler.uomPriceByPriceLevelURL(\"id=\" + options.model.item.id + \"&plId=\" + this.invoice.priceLevel.id + \"&date=\" + this.invoice.transactionDate),},\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    // name: {type: \"string\"},\n                                    // sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                        // data: this.variants\n                    }),\n                });\n        },\n        DiscountItemDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=code# - #=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: discountItemHandler.getURL(DISCOUNT_TYPE),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    // name: {type: \"string\"},\n                                    // sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                    }),\n                });\n        },\n        SpecificTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax || ``#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.specificTax.filter((m) => {\n                            if (options.model.hasOwnProperty(\"vatTax\")) {\n                                const vat = options.model.vatTax || {};\n                                if (vat) {\n                                    if (\n                                        options.model.vatTax !== null ||\n                                        options.model.vatTax !== \"null\"\n                                    ) {\n                                        if (options.model.vatTax.baseAmount) {\n                                            return (\n                                                m.baseAmount.toLowerCase() ===\n                                                options.model.vatTax.baseAmount.toLowerCase()\n                                            );\n                                        } else {\n                                            return m;\n                                        }\n                                    }\n                                } else {\n                                    return m;\n                                }\n                            }\n                        }),\n                    }),\n                });\n        },\n        PublicLightingTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax || ``#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.publicLightingTax.filter((m) => {\n                            if (options.model.hasOwnProperty(\"vatTax\")) {\n                                const vat = options.model.vatTax;\n                                if (vat) {\n                                    if (\n                                        options.model.vatTax !== null &&\n                                        options.model.vatTax !== \"null\"\n                                    ) {\n                                        if (options.model.vatTax.baseAmount) {\n                                            return (\n                                                m.baseAmount.toLowerCase() ===\n                                                options.model.vatTax.baseAmount.toLowerCase()\n                                            );\n                                        } else {\n                                            return m;\n                                        }\n                                    }\n                                } else {\n                                    return m;\n                                }\n                            }\n                        }),\n                    }),\n                });\n        },\n        OtherTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax || ``#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.otherTax.filter((m) => {\n                            if (options.model.hasOwnProperty(\"vatTax\")) {\n                                const vat = options.model.vatTax;\n                                if (vat) {\n                                    if (\n                                        options.model.vatTax !== null &&\n                                        options.model.vatTax !== \"null\"\n                                    ) {\n                                        if (options.model.vatTax.baseAmount) {\n                                            return (\n                                                m.baseAmount.toLowerCase() ===\n                                                options.model.vatTax.baseAmount.toLowerCase()\n                                            );\n                                        } else {\n                                            return m;\n                                        }\n                                    }\n                                } else {\n                                    return m;\n                                }\n                            }\n                        }),\n                    }),\n                });\n        },\n        VatTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax || ``#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.vatTax,\n                    }),\n                });\n        },\n        OtherChargeDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.otherChargeList,\n                    }),\n                });\n        },\n        SaleUnitDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=code# - #=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.saleUnitItemList,\n                    }),\n                });\n        },\n        ModifierDropDownEditor(container, options) {\n            const item = options.model.item || {}\n            const uom = item.uom || {}\n            const itemId = item.id || ''\n            const uomId = uom.id || ''\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate:\n                        '<div class=\"dropdown-header k-widget k-header\">' +\n                        \"<span>Modifier </span>\" +\n                        \"<span></span>\" +\n                        \"</div>\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: itemModifierHandler.searchURL('?plId=' + this.invoice.priceLevel.id + '&id=' + itemId + '&uomId=' + uomId),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    price: {type: \"number\"},\n                                    uom: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                    }),\n                });\n        },\n        EmployeeDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoMultiSelect({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    suggest: true,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate:\n                        '<div class=\"dropdown-header k-widget k-header\">' +\n                        \"<span>Employee </span>\" +\n                        \"<span></span>\" +\n                        \"</div>\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: employeeHandler.searchURL(),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    firstName: {type: \"string\"},\n                                    lastName: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                    }),\n                });\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        addRow() {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                total = ds.total();\n            this.itemLine.id = itemLinePrefix + uuid.v1();\n            this.itemLine.decimalFormat = \"n\" + this.saleFormContent.decimal;\n            this.itemLine.isEditable = true;\n            if (total < 36) {\n                ds.insert(total, this.itemLine);\n            }\n            // this.itemLines.push(this.itemLine)\n            // window.console.log('item Line', this.itemLine)\n        },\n        onPaymentTermChanged() {\n            // this.onInvoiceDateChanged();\n            // window.console.log('term', this.invoice.transactionDate, '-', this.invoice.transactionDate, '---', this.invoice.paymentTerm)\n            if (this.customer) {\n                const paymentTerm = this.invoice.paymentTerm || {}\n                if (paymentTerm) {\n                    const netDue = paymentTerm.netDue || 0\n                    const someDate = new Date(this.invoice.transactionDate);\n                    someDate.setDate(someDate.getDate() + parseInt(netDue)); //number  of days to add, e.x. 15 days\n                    this.invoice.dueDate = someDate.toISOString().substr(0, 10);\n                }\n            }\n        },\n        async onInvoiceDateChanged() {\n            await this.loadPaymentTermList();\n            await this.loadCreditLimit();\n            await this.loadCustomerBalance(this.customer.id);\n            await this.onPriceLevelChange();\n\n            if (this.customer) {\n                const paymentTerm = this.invoice.paymentTerm || {}\n                if (paymentTerm) {\n                    const netDue = paymentTerm.netDue || 0;\n                    const someDate = new Date(this.invoice.transactionDate);\n                    someDate.setDate(someDate.getDate() + parseInt(netDue)); //number  of days to add, e.x. 15 days\n                    this.invoice.dueDate = someDate.toISOString().substr(0, 10);\n                    // window.console.log('im', someDate, netDue)\n                }\n                // this.loadCustomerBalance(this.customer.id);\n            }\n            if (this.$route.params.id === undefined) {\n                await this.generateNumber();\n            }\n        },\n        async loadPrefix() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    prefixHandler.get(\"invoice\").then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.invoiceTypes = res.data.data;\n                            if (this.invoiceTypes.length > 0) {\n                                this.invoice.transactionType = this.invoiceTypes[0];\n                                if (this.$route.params.id === undefined) {\n                                    this.generateNumber();\n                                }\n                                this.templateHandle();\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadPriceLevel() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = '?nature=sale'\n                    priceLevelHandler.get(strFilter).then((res) => {\n                        this.priceLevel = res;\n                        // if (this.priceLevel.length > 0) {\n                        //     this.invoice.priceLevel = this.priceLevel[0];\n                        // }\n                    });\n                }, 10);\n            });\n        },\n        async loadDiscountItem() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    discountItemHandler.list(DISCOUNT_TYPE).then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.specificDiscountItem = res.data.data;\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadOtherCharge() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    otherChargeHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.otherChargeList = res.data.data;\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadAccount() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    accountHandler.getAll().then((res) => {\n                        this.showLoading = false;\n                        //Receivable Account\n                        this.receivableAcc = res.data\n                            .filter((m) => m.account_type.number === 7)\n                            .map((itm) => {\n                                return {\n                                    id: itm.uuid,\n                                    uuid: itm.uuid,\n                                    name: itm.name,\n                                    local_name: itm.local_name,\n                                    number: itm.number,\n                                    is_taxable: itm.is_taxable,\n                                    banhjiAccCode: itm.banhjiAccCode,\n                                    group_code: itm.group_code,\n                                    parent_account: itm.parent_account,\n                                    type_code: itm.type_code,\n                                    account_type: itm.account_type,\n                                };\n                            });\n                        // if (this.receivableAcc.length > 0) {\n                        //     this.invoice.receivableAcc = this.receivableAcc[0];\n                        // }\n                    });\n                }, 10);\n            });\n        },\n        async loadPaymentTerm() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = \"?type=pmt-customer\";\n                    paymentTermHandler.getPaymentTerm(strFilter).then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.paymentTerms = res.data.data;\n                            // if (this.paymentTerms.length > 0) {\n                            //     this.invoice.paymentTerm = this.paymentTerms[0];\n                            // }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadLocation() {\n            this.locations = []\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const location = roleData.filter(itm => itm.type === 'location')\n                    const locationDefault = location.filter(m => m.isDefault === 1)\n                    this.locations = location\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        if (locationDefault.length > 0) {\n                            this.invoice.location = locationDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.locations = [];\n                        locationHandler\n                            .list()\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.locations = res.data.data;\n                                    if(this.locations.length > 0){\n                                        this.invoice.location = this.locations[0];\n                                    }\n                                }\n                            })\n                    }, 10);\n                });\n            }\n\n\n        },\n        async loadProjectByCustomer() {\n            this.customerProjects = []\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const project = roleData.filter(itm => itm.type === 'project')\n                    project.forEach(k => {\n                        const customers = k.customers || []\n                        const proCustomer = customers.filter(n => n.customer.id === this.customer.id)\n                        if (proCustomer.length > 0) {\n                            this.customerProjects.push(k)\n                        }\n                    })\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        const projectDefault = this.customerProjects.filter(m => m.isDefault === 1)\n                        if (projectDefault.length > 0) {\n                            this.invoice.project = projectDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        projectHandler\n                            .getByCustomer(this.customer.id)\n                            .then((res) => {\n                                this.showLoading = true;\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.customerProjects = res.data.data;\n                                } else {\n                                    this.showLoading = false;\n                                }\n                            })\n                            .catch();\n                        {\n                            this.showLoading = false;\n                        }\n                    }, 10);\n                });\n            }\n\n\n        },\n        async loadCustomerBalance(id) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = id + \"?type=bal\";\n                    this.invoice.currentBalance = 0;\n                    billingHandler\n                        .balance(strFilter)\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                const data = res.data.data;\n                                if (data.length > 0) {\n                                    this.invoice.currentBalance = data[0].balance;\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadCustomerDepositBalance(id) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = id + \"?type=dep\";\n                    billingHandler\n                        .balance(strFilter)\n                        .then((res) => {\n                            this.invoice.depositAmount = 0;\n                            if (res.data.statusCode === 200) {\n                                const data = res.data.data;\n                                if (data.length > 0) {\n                                    const amountDeposit = data[0].balance;\n                                    this.invoice.depositAmount =\n                                        amountDeposit / this.invoice.txnRate;\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        creditLimitUsage(balance, creditLimit) {\n            if (creditLimit > 0) {\n                return (\n                    kendo.toString(\n                        (balance / creditLimit) * 100,\n                        `n${this.saleFormContent.decimal}`\n                    ) + \" %\"\n                );\n            } else {\n                return kendo.toString(0, `n${this.saleFormContent.decimal}`) + \" %\";\n            }\n\n            // const allowed = kendo.toString((balance / creditLimit) * 100, `n${this.saleFormContent.decimal}`)\n            // return (isNaN(allowed) ? 0 : allowed) + ' %'\n        },\n        async loadEmployeeCenter() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.employees = [];\n                    employeeHandler\n                        .center(undefined)\n                        .then((res) => {\n                            this.showLoading = true;\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.employees = res.data.data;\n                                if (this.employees.length > 0) {\n                                    this.invoice.employee = this.employees[0];\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadSegment() {\n            window.console.log('dataStore.roleData', dataStore)\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const segment = roleData.filter(itm => itm.type === 'segment')\n                    const segmentDefault = segment.filter(m => m.isDefault === 1)\n                    this.segments = segment\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        if (segmentDefault.length > 0) {\n                            this.invoice.segment = segmentDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.segments = [];\n                        settingsHandler\n                            .getSeg()\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.segments = res.data.data;\n                                    if(this.segments.length > 0){\n                                        this.invoice.segment = this.segments[0];\n                                    }\n                                }\n                            })\n                    }, 10);\n                });\n            }\n\n\n        },\n        async loadSaleOrder() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    let segmentId = \"\",\n                        locationId,\n                        priceLevelId = \"\",\n                        customerId = \"\",\n                        txnDate = \"\";\n                    if (this.invoice.segment) {\n                        segmentId = this.invoice.segment.id;\n                    }\n                    if (this.invoice.location) {\n                        locationId = this.invoice.location.id;\n                    }\n                    if (this.invoice.customer) {\n                        customerId = this.invoice.customer.id;\n                    }\n                    if (this.invoice.priceLevel) {\n                        priceLevelId = this.invoice.priceLevel.id;\n                    }\n                    if (this.invoice.transactionDate) {\n                        txnDate = this.invoice.transactionDate;\n                    }\n                    let strFilter = \"\";\n                    if (\n                        segmentId !== \"\" &&\n                        customerId !== \"\" &&\n                        locationId !== \"\" &&\n                        priceLevelId !== \"\" &&\n                        txnDate !== \"\"\n                    ) {\n                        strFilter =\n                            \"?id=\" +\n                            customerId +\n                            \"&segId=\" +\n                            segmentId +\n                            \"&locId=\" +\n                            locationId +\n                            \"&plId=\" +\n                            priceLevelId +\n                            \"&date=\" +\n                            txnDate;\n                    }\n                    if (strFilter !== \"\") {\n                        this.invoice.refFrom = []\n                        this.showLoadingTxn = true\n                        saleOrderHandler\n                            .transactionFilter(strFilter)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoadingTxn = false\n                                    this.saleOrders = res.data.data;\n                                } else {\n                                    this.showLoadingTxn = false\n                                }\n                            })\n                    }\n                }, 10);\n            });\n        },\n        async loadSaleChannel() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    saleChannelHandler.get().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.saleChannelList = res.data.data;\n                            if (this.saleChannelList.length > 0) {\n                                this.invoice.saleChannel = this.saleChannelList[0];\n                            }\n                        } else {\n                            this.showLoading = false;\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadTax() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    settingHandler.get().then((res) => {\n                        this.tax = res;\n                        this.otherTax = this.tax.filter(\n                            (m) =>\n                                (m.taxType.typeId === 7 || m.taxType.typeId === 10) &&\n                                m.transactionType === \"Sale\"\n                        ); // valuable tax\n                        this.specificTax = this.tax.filter(\n                            (m) =>\n                                (m.taxType.typeId === 8 || m.taxType.typeId === 10) &&\n                                m.transactionType === \"Sale\"\n                        ); // valuable tax\n                        this.publicLightingTax = this.tax.filter(\n                            (m) =>\n                                (m.taxType.typeId === 9 || m.taxType.typeId === 10) &&\n                                m.transactionType === \"Sale\"\n                        ); // valuable tax\n                        this.vatTax = this.tax.filter(\n                            (m) =>\n                                (m.taxType.typeId === 1 ||\n                                    m.taxType.typeId === 10) &&\n                                m.transactionType === \"Sale\"\n                        ); // valuable tax\n                        // window.console.log('tax', JSON.stringify(this.vatTax))\n                    });\n                }, 10);\n            });\n        },\n        async onSaveClose(saveNew, saveSend, isPrint) {\n            if (!this.$refs.form.validate()) {\n                // this.$refs.form.validate()\n                this.$snotify.error(\n                    \"Field is required, please check field each of tabs!\"\n                );\n                return;\n            }\n            let id = \"\";\n            if (this.customer.hasOwnProperty(\"id\")) {\n                id = this.customer.id || \"\";\n            }\n            if (id === \"\") {\n                this.$snotify.error(\"customer is require\");\n                return;\n            }\n            let ds = this.$refs.itemLineDS.kendoWidget();\n            let d1 = ds.data().filter(n => n.amount > 0);\n            let dataValidate = 0;\n            d1.forEach((value, index) => {\n                if (\n                    value.item.id == undefined ||\n                    value.uom.uom.id == undefined ||\n                    value.item.id == \"\" ||\n                    value.uom.uom.id == \"\"\n                ) {\n                    this.$snotify.error(\n                        \"Please check Item or Uom  on row \" + (index + 1)\n                    );\n                } else {\n                    dataValidate += 1;\n                }\n            });\n            if (d1.length == dataValidate) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        let isAutoGenerate = 1;\n                        if (this.$route.params.id) {\n                            const tranDate = new Date(this.invoice.transactionDate);\n                            const tranDateInvoice = new Date(this.invoice.transactionDate);\n                            const tranDateM = tranDate.getFullYear() + tranDate.getMonth();\n                            const tranDateInvoiceM =\n                                tranDateInvoice.getFullYear() + tranDateInvoice.getMonth();\n                            if (tranDateM === tranDateInvoiceM) {\n                                isAutoGenerate = 0;\n                            }\n                        }\n                        this.autoCalculate();\n                        // this.autoCalculateTaxDetail();\n                        let itemLineDS = this.$refs.itemLineDS.kendoWidget();\n                        const dataRow = itemLineDS\n                            .data()\n                            .filter((o) => o.amount > 0).map((n) => {\n                                const otherCharge = new OtherChargeModel(n.otherCharge || {})\n                                n['otherCharge'] = otherCharge\n                                return new ItemLineModel(n);\n                            });\n                        //todo: check Source\n                        const sourceRef = dataRow.map((o) => {\n                            return o.sourceTransaction;\n                        });\n                        const sourceTxn = this.removeDuplicate(sourceRef);\n                        window.console.log('dataRow', JSON.stringify(dataRow));\n                        if (dataRow.length > 0) {\n                            let data = {\n                                id: this.invoice.id ? this.invoice.id : \"\",\n                                uuid: this.invoice.uuid ? this.invoice.uuid : \"\",\n                                journal_uuid: this.invoice.journal_uuid\n                                    ? this.invoice.journal_uuid\n                                    : \"\",\n                                type: \"Invoice\",\n                                number: this.invoice.number,\n                                abbr: this.invoice.transactionType.abbr,\n                                transactionDate: this.invoice.transactionDate,\n                                dueDate: this.invoice.dueDate,\n                                monthOf: this.invoice.monthOf,\n                                customer: this.invoice.customer,\n                                transactionType: this.invoice.transactionType,\n                                paymentTerm: this.invoice.paymentTerm,\n                                approvedTerm: this.invoice.approvedTerm,\n                                discountPromotion: {},\n                                receivableAcc: this.invoice.receivableAcc,\n                                currency: this.invoice.currency,\n                                txnRate: this.invoice.txnRate,\n                                taxExchangeRate: this.invoice.taxExchangeRate,\n                                rate: 1,\n                                exchangeRate: this.invoice.exchangeRate,\n                                exchangeAmount: this.invoice.exchangeAmount,\n                                priceLevel: this.invoice.priceLevel,\n                                itemLines: dataRow,\n                                segment: this.invoice.segment,\n                                location: this.invoice.location,\n                                project: this.invoice.project,\n                                saleChannel: this.invoice.saleChannel,\n                                employee: this.invoice.employee,\n                                billingAddress: this.invoice.billingAddress,\n                                deliveryAddress: this.invoice.deliveryAddress,\n                                deliveryDateTime: this.invoice.deliveryDateTime,\n                                transactionNote: this.invoice.transactionNote,\n                                journalNote: this.invoice.journalNote,\n                                subTotal: this.invoice.subTotal,\n                                exchangeSubTotal: this.invoice.exchangeSubTotal,\n                                total: this.invoice.total,\n                                exchangeTotal: parseFloat(this.invoice.total) * parseFloat(this.invoice.txnRate),\n                                discountTotal: this.invoice.discountTotal,\n                                specificDiscountTotal: this.invoice.specificDiscountTotal,\n                                deliveryFee: this.invoice.deliveryFee,\n                                totalTaxAmount: this.invoice.totalTaxAmount,\n                                depositAmount: this.invoice.depositAmount,\n                                depositDeduction: this.invoice.depositDeduction,\n                                remainingAmount: this.invoice.remainingAmount,\n                                amountDue: this.invoice.amountDue,\n                                currentBalance: this.invoice.currentBalance,\n                                balance: this.invoice.balance,\n                                creditLimit: this.invoice.creditLimit,\n                                saveOption: this.invoice.saveOption,\n                                status: 1,\n                                approvedBy: this.invoice.approvedBy,\n                                formTemplate: this.templatesForm[this.template],\n                                specificDiscountItem: this.invoice.specificDiscountItem,\n                                otherCharge: this.mOtherCharge,\n                                otherChargeLine: this.invoice.otherChargeLine,\n                                otherChargeAmount: this.invoice.otherChargeAmount,\n                                lateFee: this.invoice.lateFee,\n                                // paymentOptionWBMobile: this.invoice.paymentOptionWBMobile,\n                                // paymentOptionOnline: this.invoice.paymentOptionOnline,\n                                // paymentOptionKHQR: this.invoice.paymentOptionKHQR,\n                                publicLink: this.invoice.publicLink,\n                                paymentCode: this.invoice.paymentCode,\n                                taxListTotal: this.taxListTotal,\n                                customerDiscountItem: this.customerDiscountItem,\n                                customerOtherChargeItem: this.customer.customerOtherChargeItem,\n                                customerSaleUnit: this.customerSaleUnit,\n                                customerSaleUnitLine: this.customerSaleUnitLine,\n                                paymentScheme: this.invoice.paymentScheme,\n                                createdAt: this.invoice.createdAt,\n                                loggedUser: this.loggedUser,\n                                saveSend: saveSend,\n                                isAutoGenerate: isAutoGenerate,\n                                jRaw: this.jRaw,\n                                sourceTransaction: sourceTxn,\n                                itemSubtotal: this.invoice.itemSubtotal,\n                                exchangeItemSubtotal: this.invoice.exchangeItemSubtotal,\n                                serviceSubtotal: this.invoice.serviceSubtotal,\n                                exchangeServiceSubtotal: this.invoice.exchangeServiceSubtotal,\n                                txnItmSubtotal: this.invoice.txnItmSubtotal,\n                                exchangeTxnItmSubtotal: this.invoice.exchangeTxnItmSubtotal,\n                                itemDiscount: this.invoice.itemDiscount,\n                                exchangeItemDiscount: this.invoice.exchangeItemDiscount,\n                                serviceDiscount: this.invoice.serviceDiscount,\n                                exchangeServiceDiscount: this.invoice.exchangeServiceDiscount,\n                                txnItmDiscount: this.invoice.txnItmDiscount,\n                                exchangeTxnItmDiscount: this.invoice.exchangeTxnItmDiscount,\n                                cashPayment: new PaymentOptionModel(this.invoice.cashPayment),\n                                qrPayment: new PaymentOptionModel(this.invoice.qrPayment),\n                                bankTransfer: new PaymentOptionModel(this.invoice.bankTransfer),\n                                billPayment: new PaymentOptionModel(this.invoice.billPayment),\n                                refFrom: this.invoice.refFrom || [],\n                                refTo: this.invoice.refTo || [],\n                                saleTaxDetail: this.invoice.saleTaxDetail || [],\n                                cashBasicIncomeAcc: this.invoice.cashBasicIncomeAcc || [],\n                                actionType: this.$route.params.id ? this.$route.query.type : \"new\",\n                            };\n                            if (this.$route.query.type === \"recurring\") {\n                                data.id = \"\";\n                            }\n                            this.showLoading = true;\n                            this.btnDisabled = true;\n                            window.console.log('Data', JSON.stringify(data));\n                            billingHandler\n                                .create(data)\n                                .then((response) => {\n                                    if (response.data.statusCode === 201) {\n                                        // this.close(response.data.data)\n                                        // this.$refs.form.reset()\n                                        this.showLoading = false;\n                                        this.btnDisabled = false;\n                                        this.$snotify.success(\"Successfully\");\n\n                                        if (isPrint == 1) {\n                                            getPrint(response.data.data);\n                                        } else if (saveNew == \"new\") {\n                                            this.setDefaultData()\n                                        } else {\n                                            // this.clear()\n                                            this.close(response.data.data);\n                                        }\n                                    }\n                                })\n                                .catch((e) => {\n                                    this.showLoading = false;\n                                    this.btnDisabled = false;\n                                    this.$snotify.error(\"Something went wrong\");\n                                    this.errors.push(e);\n                                });\n                        }\n                    }, 10);\n                });\n            }\n        },\n        close(data) {\n            if (this.$route.params.id === undefined) {\n                this.$router.push({\n                    name: \"Customers\",\n                    params: {\n                        data: data,\n                    },\n                });\n            } else {\n                window.history.go(-1);\n                // this.$router.push({\n                //     path: \"invoice_view\",\n                //     name: \"Invoice View\",\n                //     params: {\n                //         data: data,\n                //     }\n                // })\n            }\n            // window.console.log(data, 'data')\n        },\n        saveNew() {\n        },\n        removeRow(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#gridItemLine\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n                this.autoCalculate();\n            }\n        },\n        generateNumber() {\n            if (this.$route.params.id) {\n                const tranDate = new Date(this.invoice.transactionDate);\n                const tranDateInvoice = new Date(this.invoice.transactionDate);\n                const tranDateM = tranDate.getFullYear() + tranDate.getMonth();\n                const tranDateInvoiceM =\n                    tranDateInvoice.getFullYear() + tranDateInvoice.getMonth();\n                if (tranDateM === tranDateInvoiceM) {\n                    this.invoice.referenceNo = this.referenceNo;\n                    return;\n                }\n            }\n\n            if (this.invoice.transactionDate !== \"\" && this.invoiceTypes.length > 0) {\n                let data = {\n                    abbr: this.invoice.transactionType.abbr,\n                    structure: this.invoice.transactionType.structure,\n                    transactionDate: this.invoice.transactionDate,\n                    sequcencing: this.invoice.transactionType.sequcencing,\n                    type: \"Invoice\",\n                    entity: 1,\n                };\n                billingHandler\n                    .lastNumber(data)\n                    .then((response) => {\n                        if (response.data.statusCode === 200) {\n                            const res = response.data.data;\n                            const lastNumber = this.zeroPad(\n                                parseInt(res.lastNumber),\n                                this.invoice.transactionType.format\n                            );\n                            const number =\n                                res.suffix +\n                                this.invoice.transactionType.numberSeparator +\n                                lastNumber;\n                            this.invoice.number = number;\n                        }\n                    })\n                    .catch((e) => {\n                        this.errors.push(e);\n                    });\n            }\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, \"0\");\n        },\n        suffix(transactionDate) {\n            return kendo.toString(new Date(transactionDate), `yymm`);\n        },\n        errorMessage() {\n        },\n        accountDropDownEditor() {\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((result) => {\n                if (result.value) {\n                    this.clear();\n                    this.$router.go(-1);\n                }\n            });\n        },\n        hideSmallSidebar() {\n            this.isHideBar = !this.isHideBar;\n        },\n        requestData(skip, filter, baseUrl) {\n            const url = baseUrl + `?filter=${filter}`;\n            this.requestStarted = true;\n            fetch(url)\n                .then((response) => {\n                    return response.json();\n                })\n                .then(this.afterFetch);\n        },\n        requestData_(skip, filter, baseUrl) {\n            const url = baseUrl + `/${filter}`;\n            this.requestStarted = true;\n            fetch(url)\n                .then((response) => {\n                    return response.json();\n                })\n                .then(this.afterFetch_);\n        },\n        onChange(event) {\n            const value = event.value;\n            if (value && value[textField] === emptyItem[textField]) {\n                return;\n            }\n            const id = value.id || ''\n            if (id !== '') {\n                window.console.log('value', value)\n                this.customer = value;\n                this.invoice.customer = value;\n                this.invoice.billPayment = this.customer.billPayment\n                this.invoice.qrPayment = this.customer.qrPayment\n                this.invoice.cashPayment = this.customer.cashPayment\n                this.invoice.bankTransfer = this.customer.bankTransfer\n                // window.console.log(this.invoice.customer, 'Changed')\n                // this.invoice = value\n                this.invoice.receivableAcc = value.receivableAcc || {}\n                // this.invoice.paymentTerm = value.hasOwnProperty(\"paymentTerm\")\n                //     ? value.paymentTerm\n                //     : {};\n                this.invoice.priceLevel = value.priceLevel || {}\n                const baseCurrency = value.baseCurrency || {}\n                if (baseCurrency.hasOwnProperty(\"code\")) {\n                    this.baseCurrencyCode = \" \" + baseCurrency.code;\n                }\n                const priceLevel = value.priceLevel || {}\n                const currency = priceLevel.currency || {}\n                const code = currency.code || ''\n                window.console.log('priceLevel: ' + JSON.stringify(priceLevel))\n                if (code !== '') {\n                    this.loadTransactionRate();\n                }\n                this.billingAddress = value.billingAddress || []\n                this.deliveryAddress = value.deliveryAddress || []\n                if (this.billingAddress.length > 0) {\n                    this.invoice.billingAddress = this.billingAddress[0];\n                }\n                if (this.deliveryAddress.length > 0) {\n                    this.invoice.deliveryAddress = this.deliveryAddress[0];\n                }\n                this.onInvoiceDateChanged();\n                this.loadProjectByCustomer();\n            }\n            // this.loadCustomerBalance(this.customer.id);\n            // this.loadCreditLimit();\n            // this.loadPaymentTermList();\n            // window.console.log(value, 'value')\n        },\n        onEmployeeChanged(event) {\n            const value = event.value;\n            if (value && value[textField] === emptyItem[textField]) {\n                return;\n            }\n            this.mEmployee = value;\n            this.invoice.employee = value;\n        },\n        afterFetch(json) {\n            this.customerList = json.data;\n        },\n        afterFetch_(json) {\n            this.employees = json.data;\n        },\n        onFilterChange(event) {\n            const filter = event.filter.value;\n            this.requestData(0, filter, this.cusBaseUrl);\n            this.filter = filter;\n        },\n        onEmployeeFilterChanged(event) {\n            const filter = event.filter.value;\n            this.requestData_(0, filter, this.empBaseUrl);\n            this.filter_ = filter;\n        },\n        async initData() {\n            if (this.$route.params.id !== undefined) {\n                await this.loadViewInvoice();\n            } else {\n                this.setDefaultData()\n            }\n        },\n        async loadLateFee() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const priceLevel = this.invoice.priceLevel || {}\n                    const currency = priceLevel.currency || {}\n                    const code = currency.code || ''\n                    const strFilter = '?code=' + code\n                    lateFeeHandler.list(strFilter).then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.lateFeeList = res.data.data;\n                        } else {\n                            this.showLoading = false;\n                        }\n\n                    });\n                }, 10);\n            });\n        },\n        async loadViewInvoice() {\n            this.btnDisabled = false\n            if (this.$route.params.id) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.showLoading = true;\n                        billingHandler\n                            .view(this.$route.params.id)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.invoice = res.data.data[0];\n                                    this.referenceNo = this.invoice.referenceNo;\n                                    this.invoice.transactionDate = new Date(this.invoice.transactionDate);\n                                    this.customer = this.invoice.customer;\n                                    this.mEmployee = this.invoice.employee;\n                                    this.taxListTotal = this.invoice.taxListTotal;\n                                    this.itemLines = this.invoice.itemLines;\n                                    this.mOtherCharge = this.invoice.otherCharge;\n                                    this.depositDeduction = this.invoice.depositDeduction;\n\n                                    // const xRate = this.invoice.exchangeRate\n                                    // this.currencyCode = xRate.code;\n                                    // window.console.log('currencyCode', xRate)\n                                    this.templateHandle();\n                                    this.template = this.invoice.formTemplate.id;\n                                    this.jRaw = this.invoice.jRaw || [];\n                                    for (let i = 0; i < this.mOtherCharge.length - 1; i++) {\n                                        this.addSelect();\n                                    }\n                                    this.loadProjectByCustomer();\n                                    if (this.customer.hasOwnProperty(\"id\")) {\n                                        this.loadCustomerBalance(this.customer.id);\n                                    }\n                                    this.saleOrders = this.invoice.refFrom || []\n                                    if (this.$route.query.type === \"recurring\") {\n                                        if (this.$route.params.hasOwnProperty(\"transactionDate\")) {\n                                            window.console.log(\"type\", this.$route.params);\n                                            this.invoice.transactionDate = new Date(\n                                                this.$route.params.transactionDate\n                                            );\n                                            this.invoice.transactionDate = new Date(\n                                                this.$route.params.transactionDate\n                                            );\n                                            this.onInvoiceDateChanged();\n                                            this.generateNumber();\n                                        }\n                                    }\n                                }\n                            })\n                            .catch();\n                        {\n                            this.showLoading = false;\n                        }\n                    }, 10);\n                });\n            }\n        },\n        clear() {\n            const term = this.invoice.paymentTerm || {}\n            const priceL = this.invoice.priceLevel || {}\n            this.id = undefined;\n            this.itemLines = []\n            this.invoice = new InvoiceModel();\n            this.invoice.paymentTerm = term\n            this.invoice.priceLevel = priceL\n            this.customer = ''\n            this.employee = ''\n            this.saleOrders = []\n            this.invoice.transactionType = this.invoiceTypes[0];\n            this.generateNumber();\n        },\n        async loadTransactionRate() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const date = new Date(this.invoice.transactionDate).toISOString().substr(0, 10);\n                    const priceLevel = this.invoice.priceLevel || {};\n                    const currency = priceLevel.currency || {}\n                    const code = currency.code || ''\n                    if (code) {\n                        this.showLoading = true;\n                        currencyHandler\n                            .getLastExchangeRateByDate(date, code)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.exchangeRate = res.data.data[0];\n                                    this.currencyCode = this.exchangeRate.code;\n                                    this.transactionRate = this.exchangeRate.rate;\n                                    this.invoice.txnRate = this.exchangeRate.rate;\n                                    this.invoice.exchangeRate = this.exchangeRate;\n                                    this.showLoading = false;\n                                    this.loadCustomerDepositBalance(this.customer.id);\n                                }\n                            });\n                    }\n                    this.loadSaleOrder();\n                    this.loadTransactionTaxRate();\n                }, 10);\n            });\n        },\n        async loadTransactionTaxRate() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const date = new Date(this.invoice.transactionDate).toISOString().substr(0, 10);\n                    let code = \"KHR\";\n                    if (code !== undefined || code !== \"\") {\n                        currencyHandler\n                            .getLastExchangeRateByDate(date, code)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.invoice.taxExchangeRate = res.data.data[0];\n                                }\n                            });\n                    }\n                }, 10);\n            });\n        },\n        async loadCreditLimit() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (this.customer) {\n                        const strFilter = '?id=' + this.customer.id + '&transactionDate=' + this.invoice.transactionDate + '&type=Customer'\n                        this.invoice.creditLimit = 0\n                        creditLimitHandler.get(strFilter).then((res) => {\n                            if (res.data.statusCode === 200) {\n                                // this.creditLimitItem = res.data.data\n                                const credit = res.data.data\n                                this.invoice.creditLimit = kendo.parseFloat(credit.amount || 0);\n                            }\n                        });\n                    }\n                }, 10);\n            });\n        },\n        async loadPaymentTermList() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (this.customer) {\n                        const strFilter = '?id=' + this.customer.id + '&transactionDate=' + this.invoice.transactionDate + '&type=Customer'\n                        this.invoice.paymentTerm = {}\n                        paymentTermHandler_.get(strFilter).then((res) => {\n                            if (res.data.statusCode === 200) {\n                                const terms = res.data.data\n                                this.invoice.paymentTerm = terms.term\n                                this.invoice.approvedTerm = terms.term\n                                this.onPaymentTermChanged()\n                            }\n                        });\n                    }\n                }, 10);\n            });\n        },\n        onPriceLevelChange() {\n            this.isPriceLevelChanged = true\n            this.loadTransactionRate()\n            this.clearUOMItem()\n            this.loadLateFee()\n        },\n        async clearUOMItem() {\n            let ds = this.$refs.itemLineDS.kendoWidget()\n            ds.data().map(n => {\n                n.set('uom', {})\n            })\n            this.isPriceLevelChanged = false\n        },\n        setDefaultData() {\n            let ds = this.$refs.itemLineDS.kendoWidget();\n            ds.data([]);\n            const term = this.invoice.paymentTerm || {}\n            const priceL = this.invoice.priceLevel || {}\n            this.id = undefined;\n            this.invoice = new InvoiceModel();\n            this.invoice.paymentTerm = term\n            this.invoice.priceLevel = priceL\n            this.customer = {}\n            this.mEmployee = {}\n            this.saleOrders = []\n            this.invoice.transactionType = this.invoiceTypes[0];\n            this.generateNumber();\n            this.loadSegment();\n            this.loadLocation();\n            this.addRow()\n            // this.addRow()\n        }\n    },\n    computed: {\n        disabledSLP() {\n            if (this.$route.params.id) {\n                const refF = this.invoice.refFrom || []\n                if (refF.length > 0) {\n                    return !!refF.length > 0\n                }\n            }\n            return false\n        },\n        disabledMe() {\n            return !!this.$route.params.id;\n        },\n        disabledDeposit() {\n            if (this.$route.params.id) {\n                return this.depositDeduction > 0;\n            } else {\n                return false\n            }\n        },\n        validCustomer: function () {\n            return this.customer.id !== undefined && this.customer.id !== null;\n        },\n        hiddenButton() {\n            if (this.$route.params.id) {\n                return true\n            } else {\n                return false\n            }\n        },\n        // depositDeduction: {\n        //     get(value) {\n        //         return value\n        //     }, set(value) {\n        //         this.$emit('depositDeduction', value)\n        //     }\n        // }\n    },\n    watch: {\n        // id() {\n        //     if (this.$route.params.id === undefined) {\n        //         this.setDefaultData();\n        //     } else {\n        //         this.showLoading = true;\n        //         this.loadViewInvoice();\n        //     }\n        // },\n        '$route': 'loadSaleFormContent'\n    },\n    created() {\n        this.loadPriceLevel();\n        this.loadTax();\n        this.loadSaleUnitItems();\n        this.loadPrefix();\n        // this.loadLateFee();\n        this.loadSegment();\n        this.loadLocation();\n        this.loadPaymentOption();\n    },\n    mounted: async function () {\n        await this.loadSaleFormContent();\n        this.requestData(0, this.filter, this.cusBaseUrl);\n        await this.loadDiscountItem();\n        await this.loadSaleChannel();\n        await this.loadEmployeeCenter();\n        await this.loadPaymentTerm();\n        await this.loadAccount();\n        // await this.loadCurrency()\n        await this.loadOtherCharge();\n        // await this.loadCatalogs()\n        // await this.initData()\n        await this.loadViewInvoice()\n    },\n};\n</script>\n\n<style scoped>\n.k-dropdown {\n    width: 100%;\n    margin-top: 3px;\n}\n\n.function_wrapper {\n    box-shadow: none !important;\n}\n\n.v-application--is-ltr .v-text-field .v-input__append-inner {\n    margin-top: 0 !important;\n}\n\n.v-input__slot {\n    background-color: #fff !important;\n}\n\n.function_content .label {\n    margin-bottom: 10px;\n    display: inline-block;\n}\n\n.border_radius10 {\n    border-radius: 10px !important;\n    background-color: #f2f2f2;\n}\n\n.pa-3.v-card h4 {\n    font-size: 18px;\n    color: #333;\n}\n\n.pa-3.v-card p {\n    font-size: 12px;\n    color: #b5b5b5;\n}\n\n.attachment_file {\n    background-color: #efeded;\n    border-radius: 0 !important;\n}\n\n.attachment_table.v-data-table table {\n    border: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.attachment_table table tr th {\n    border-left: thin solid rgba(0, 0, 0, 0.12);\n    height: 35px;\n    border-right: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.block_debit,\n.block_credit {\n    border-bottom: 1px solid #fff;\n}\n\n.block_debit p.number,\n.block_credit p.number {\n    font-size: 25px;\n    color: #7f7f7f;\n}\n\n.block_debit h5,\n.block_credit h5,\n.block_difference h5 {\n    text-transform: uppercase;\n    color: #7f7f7f;\n    font-size: 15px;\n    font-weight: normal;\n}\n\n.block_difference h5 {\n    font-size: 18px;\n}\n\n.block_difference h5 span {\n    font-size: 15px;\n}\n\n.custom_grid table th:last-child {\n    text-align: right !important;\n}\n\n.color_green {\n    color: #c80000;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        max-width: 1250px;\n    }\n}\n\n@media (max-width: 576px) {\n    .pt-6.col-sm-5.col-12 {\n        padding-top: 0 !important;\n    }\n\n    .code_text {\n        width: 100%;\n    }\n\n    .phone_no_pt {\n        padding-top: 0 !important;\n    }\n\n    .select_template,\n    .save_option {\n        margin-bottom: 10px;\n    }\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: 0.5s ease-in;\n    flex: 0 0 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n.info_add {\n    background-color: #ffffff;\n}\n\n.small_sidebar {\n    height: 98%;\n    position: relative;\n    padding: 12px;\n    background-color: #edf1f5;\n}\n\n.my_card h3 {\n    display: block !important;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.color_grey {\n    color: #808080;\n}\n\n.card_green {\n    min-height: 70px;\n    background-color: #c80000 !important;\n    color: #ffffff;\n}\n\n.lb_bold {\n    font-size: 12px;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 10px;\n}\n\n.card_background {\n    background-color: #edf1f5;\n    min-height: 120px;\n}\n\n.deposite_input {\n    width: 100px;\n}\n\n.btn_save_draft {\n    color: #ffffff;\n    background-color: #00b0f0 !important;\n    text-transform: capitalize;\n}\n\n.save_option {\n    background-color: #203864 !important;\n}\n\n.btn_add_small {\n    height: 27px !important;\n    min-width: 25px !important;\n    font-size: 10px;\n    padding: 0 22px !important;\n    background-color: #c80000 !important;\n    color: #ffffff;\n    border-radius: 0 !important;\n}\n\n.list_site_inv {\n    background-color: #f44336;\n    color: #ffffff;\n    font-size: 12px;\n}\n\n.list_site_exp {\n    background-color: #c5e0b4;\n    color: #000000;\n    font-size: 12px;\n    line-height: 16px;\n    min-height: 40px;\n}\n\n.checkbox_inv {\n    padding: 2px;\n    margin-top: 3px;\n    margin-right: 2px;\n}\n\n.exp_select {\n    font-size: 12px !important;\n}\n\n.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> tbody\n> tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n\n.b_add {\n    height: 30px !important;\n}\n</style>\n"],"sourceRoot":"src/views/customers"}]}