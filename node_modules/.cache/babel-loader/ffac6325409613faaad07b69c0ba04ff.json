{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/eslint-loader/index.js??ref--13-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/compliance/monthly_tax/new_tax_return/review_return/purchase_vat/_purchase_vat.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/compliance/monthly_tax/new_tax_return/review_return/purchase_vat/_purchase_vat.js","mtime":1638499443172},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKCi8qCiAqIExhc3QgbW9kaWZpZWQgOiAzLzI1LzIxLCAxMTozOCBBTSBpbiBQcm9qZWN0IGJhbmhqaS1hY2NvdW50aW5nLXdlYi1tb2R1bGUKICogQ29weXJpZ2h0IChjKSAyMDIxLiBDaGFuZGFyaXRoIENoZWEgdW5kZXIgQ29tcGFueSBCYW5oSmkgRmludGVjaCBDby4sIEx0ZAogKiBGYWNlYm9vayBQcm9maWxlIDogaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP2lkPTEwMDAxMTE5NDgwNjk0NwogKiBHaXRodWIgUHJvZmlsZSA6IGh0dHBzOi8vZ2l0aHViLmNvbS9EYXJpdGgtTW9rcG9zdAogKiBJbnN0YWdyYW0gUHJvZmlsZSA6IGh0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vY2hhbmRhcml0aF9jaGVhCiAqLwp2YXIgcHVyY2hhc2VIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2NvbXBsaWFuY2UvaGFuZGxlci9wdXJjaGFzZUhhbmRsZXIiKTsgLy8gQHZ1ZS9jb21wb25lbnQKCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1B1cmNoYXNlX3ZhdCcsCiAgY29tcG9uZW50czoge30sCiAgbWl4aW5zOiBbXSwKICBwcm9wczogWydtb250aGx5UmV0dXJuJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vbnRobHlQdXJjaGFzZXM6IFt7CiAgICAgICAgZGVzY3JpcHRpb246ICdMb2NhbCBwdXJjaGFzZSBpbmNsdWRlIFZBVCAxMCUnLAogICAgICAgIHR5cGU6ICdUYXhhYmxlIHBlcnNvbicsCiAgICAgICAgYW1vdW50TmV0OiAwLAogICAgICAgIGFtb3VudFZBVDogMAogICAgICB9LCB7CiAgICAgICAgZGVzY3JpcHRpb246ICdJbXBvcnQgMTAlJywKICAgICAgICB0eXBlOiAnT3ZlcnNlZSBzdXBwbGllcnMnLAogICAgICAgIGFtb3VudE5ldDogMCwKICAgICAgICBhbW91bnRWQVQ6IDAKICAgICAgfSwgewogICAgICAgIGRlc2NyaXB0aW9uOiAnUHVyY2hhc2UgRXhjbHVzaXZlIG9mIFZBVCcsCiAgICAgICAgdHlwZTogJ1RheGFibGUgcGVyc29uJywKICAgICAgICBhbW91bnROZXQ6IDAKICAgICAgfSwgewogICAgICAgIGRlc2NyaXB0aW9uOiAnUHVyY2hhc2UgRXhjbHVzaXZlIG9mIFZBVCcsCiAgICAgICAgdHlwZTogJ05vbi10YXhhYmxlIHBlcnNvbicsCiAgICAgICAgYW1vdW50TmV0OiAwCiAgICAgIH0sIHsKICAgICAgICBkZXNjcmlwdGlvbjogJ05vbiBjcmVkaXRhYmxlIHB1cmNoYXNlJywKICAgICAgICBhbW91bnROZXQ6IDAKICAgICAgfSwgewogICAgICAgIHR5cGU6ICdUb3RhbCBhbW91bnQgb2YgaW5wdXQgdGF4ZXMnLAogICAgICAgIGFtb3VudFZBVDogMAogICAgICB9XSwKICAgICAgcHVyY2hhc2VzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBtb250aGx5UmV0dXJuczogZnVuY3Rpb24gbW9udGhseVJldHVybnMoKSB7CiAgICAgIGlmICh0aGlzLm1vbnRobHlSZXR1cm4uaWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0aGlzLm1vbnRobHlSZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgcHVyY2hhc2VJZDogZnVuY3Rpb24gcHVyY2hhc2VJZCgpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgncHVyY2hhc2UnKSkgewogICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMucHVyY2hhc2UubGVuZ3RoID4gMCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhcmFtcy5wdXJjaGFzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAncHVyY2hhc2VJZCc6ICdpbml0RGF0YScKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmluaXREYXRhKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0RGF0YTogZnVuY3Rpb24gaW5pdERhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMi4kcm91dGUucGFyYW1zLnB1cmNoYXNlICE9PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyLnB1cmNoYXNlcyA9IF90aGlzMi4kcm91dGUucGFyYW1zLnB1cmNoYXNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25Mb2FkT25lUHVyY2hhc2UoKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNhbGN1bGF0ZVB1cmNoYXNlVGF4KCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uTG9hZE9uZVB1cmNoYXNlOiBmdW5jdGlvbiBvbkxvYWRPbmVQdXJjaGFzZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcHVyY2hhc2VIYW5kbGVyLmdldEJ5TXJJZChfdGhpczMubW9udGhseVJldHVybnMuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczMucHVyY2hhc2VzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbkNhbGN1bGF0ZVB1cmNoYXNlVGF4OiBmdW5jdGlvbiBvbkNhbGN1bGF0ZVB1cmNoYXNlVGF4KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbEFtb3VudFZBVCA9IDA7CiAgICAgICAgICAgICAgICAgICAgdmFyIGFtb3VudEluY2x1c2l2ZTEgPSAwLAogICAgICAgICAgICAgICAgICAgICAgICBhbW91bnRJbmNsdXNpdmUyID0gMDsKICAgICAgICAgICAgICAgICAgICB2YXIgYW1vdW50TmV0MSA9IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudFZBVDEgPSAwLAogICAgICAgICAgICAgICAgICAgICAgICBhbW91bnROZXQyID0gMCwKICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50VkFUMiA9IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudE5ldDMgPSAwOwoKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzNC5wdXJjaGFzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczQucHVyY2hhc2VzW2ldLnN1cHBsaWVyLm5hdHVyZS50b0xvd2VyQ2FzZSgpID09PSAiaW5kaXZpZHVhbCIgfHwgX3RoaXM0LnB1cmNoYXNlW2ldLnN1cHBsaWVyLm5hdHVyZS50b0xvd2VyQ2FzZSgpID09PSAndGF4YWJsZSBlbnRpdHknKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczQucHVyY2hhc2VzW2ldLnRvdGFsQW1vdW50SW5jbHVzaXZlID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudEluY2x1c2l2ZTEgKz0gX3RoaXM0LnB1cmNoYXNlc1tpXS50b3RhbEFtb3VudEluY2x1c2l2ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnRWQVQxICs9IF90aGlzNC5wdXJjaGFzZXNbaV0udG90YWxWQVQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXM0LnB1cmNoYXNlc1tpXS50b3RhbEFtb3VudE5ldFZhdCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LnB1cmNoYXNlc1tpXS50eXBlUHJvZHVjdC5jb2RlID09PSA0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnROZXQxICs9IF90aGlzNC5wdXJjaGFzZXNbaV0udG90YWxBbW91bnROZXRWYXQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudE5ldDIgKz0gX3RoaXM0LnB1cmNoYXNlc1tpXS50b3RhbEFtb3VudE5ldFZhdDsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXM0LnB1cmNoYXNlc1tpXS5zdXBwbGllci5uYXR1cmUudG9Mb3dlckNhc2UoKSA9PT0gJ25vbi10YXhhYmxlIGVudGl0eScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50TmV0MyArPSBfdGhpczQucHVyY2hhc2VzW2ldLnRvdGFsQW1vdW50TmV0VmF0OwogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczQucHVyY2hhc2VzW2ldLnN1cHBsaWVyLm5hdHVyZS50b0xvd2VyQ2FzZSgpID09PSAnZm9yZWlnbiBlbnRpdHknKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczQucHVyY2hhc2VzW2ldLnRvdGFsQW1vdW50SW5jbHVzaXZlID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudEluY2x1c2l2ZTIgKz0gX3RoaXM0LnB1cmNoYXNlc1tpXS50b3RhbEFtb3VudEluY2x1c2l2ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnRWQVQyICs9IF90aGlzNC5wdXJjaGFzZXNbaV0udG90YWxWQVQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHRvdGFsQW1vdW50VkFUID0gYW1vdW50VkFUMSArIGFtb3VudFZBVDI7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM0Lm1vbnRobHlQdXJjaGFzZXNbMF0uYW1vdW50TmV0ID0gYW1vdW50SW5jbHVzaXZlMS50b0xvY2FsZVN0cmluZygpOwogICAgICAgICAgICAgICAgICAgIF90aGlzNC5tb250aGx5UHVyY2hhc2VzWzBdLmFtb3VudFZBVCA9IGFtb3VudFZBVDEudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczQubW9udGhseVB1cmNoYXNlc1sxXS5hbW91bnROZXQgPSBhbW91bnRJbmNsdXNpdmUyLnRvTG9jYWxlU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM0Lm1vbnRobHlQdXJjaGFzZXNbMV0uYW1vdW50VkFUID0gYW1vdW50VkFUMi50b0xvY2FsZVN0cmluZygpOwogICAgICAgICAgICAgICAgICAgIF90aGlzNC5tb250aGx5UHVyY2hhc2VzWzJdLmFtb3VudE5ldCA9IGFtb3VudE5ldDIudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczQubW9udGhseVB1cmNoYXNlc1szXS5hbW91bnROZXQgPSBhbW91bnROZXQzLnRvTG9jYWxlU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM0Lm1vbnRobHlQdXJjaGFzZXNbNF0uYW1vdW50TmV0ID0gYW1vdW50TmV0MS50b0xvY2FsZVN0cmluZygpOwogICAgICAgICAgICAgICAgICAgIF90aGlzNC5tb250aGx5UHVyY2hhc2VzWzVdLmFtb3VudFZBVCA9IHRvdGFsQW1vdW50VkFULnRvTG9jYWxlU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdmlld1B1cmNoYXNlUmVjb3JkOiBmdW5jdGlvbiB2aWV3UHVyY2hhc2VSZWNvcmQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAncHVyY2hhc2VfcmVjb3JkJywKICAgICAgICBuYW1lOiAnUHVyY2hhc2UgUmVjb3JkJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgdHlwZTogdGhpcy4kcm91dGUucXVlcnkudHlwZQogICAgICAgIH0sCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogdGhpcy5tb250aGx5UmV0dXJucy5pZCwKICAgICAgICAgIG1vbnRobHlSZXR1cm46IHRoaXMubW9udGhseVJldHVybnMKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/compliance/monthly_tax/new_tax_return/review_return/purchase_vat/_purchase_vat.js"],"names":["purchaseHandler","require","name","components","mixins","props","data","monthlyPurchases","description","type","amountNet","amountVAT","purchases","computed","monthlyReturns","monthlyReturn","id","undefined","purchaseId","$route","params","hasOwnProperty","purchase","length","watch","created","mounted","initData","methods","onLoadOnePurchase","onCalculatePurchaseTax","getByMrId","then","res","Promise","resolve","setTimeout","totalAmountVAT","amountInclusive1","amountInclusive2","amountNet1","amountVAT1","amountNet2","amountVAT2","amountNet3","i","supplier","nature","toLowerCase","totalAmountInclusive","totalVAT","totalAmountNetVat","typeProduct","code","toLocaleString","viewPurchaseRecord","$router","push","path","query"],"mappings":"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","sourcesContent":["/*\n * Last modified : 3/25/21, 11:38 AM in Project banhji-accounting-web-module\n * Copyright (c) 2021. Chandarith Chea under Company BanhJi Fintech Co., Ltd\n * Facebook Profile : https://www.facebook.com/profile.php?id=100011194806947\n * Github Profile : https://github.com/Darith-Mokpost\n * Instagram Profile : https://www.instagram.com/chandarith_chea\n */\nconst purchaseHandler = require(\"@/scripts/compliance/handler/purchaseHandler\")\n// @vue/component\nexport default {\n    name: 'Purchase_vat',\n\n    components: {},\n\n    mixins: [],\n\n    props: ['monthlyReturn'],\n\n    data () {\n        return {\n            monthlyPurchases: [\n                {description: 'Local purchase include VAT 10%', type: 'Taxable person', amountNet: 0, amountVAT: 0},\n                {description: 'Import 10%', type: 'Oversee suppliers', amountNet: 0, amountVAT: 0},\n                {description: 'Purchase Exclusive of VAT', type: 'Taxable person', amountNet: 0},\n                {description: 'Purchase Exclusive of VAT', type: 'Non-taxable person', amountNet: 0},\n                {description: 'Non creditable purchase', amountNet: 0},\n                {type: 'Total amount of input taxes', amountVAT: 0}\n            ],\n            purchases: [],\n        }\n    },\n\n    computed: {\n        monthlyReturns() {\n            if (this.monthlyReturn.id !== undefined) {\n                return this.monthlyReturn\n            }else {\n                return {}\n            }\n        },\n        purchaseId() {\n            if (this.$route.params.hasOwnProperty('purchase')) {\n                if (this.$route.params.purchase.length > 0) {\n                    return this.$route.params.purchase\n                }else {\n                    return []\n                }\n            }else {\n                return []\n            }\n        }\n    },\n\n    watch: {\n        'purchaseId': 'initData'\n    },\n\n    created () {},\n\n    async mounted() {\n        await this.initData()\n    },\n\n    methods: {\n        async initData() {\n            if (this.$route.params.purchase !== undefined) {\n                this.purchases = this.$route.params.purchase\n            } else {\n                await this.onLoadOnePurchase()\n                await this.onCalculatePurchaseTax()\n            }\n        },\n        async onLoadOnePurchase() {\n            purchaseHandler.getByMrId(this.monthlyReturns.id).then(res => {\n                this.purchases = res.data.data\n            })\n\n        },\n        async onCalculatePurchaseTax() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    let totalAmountVAT = 0\n                    let amountInclusive1 = 0, amountInclusive2 = 0\n                    let amountNet1 = 0, amountVAT1 = 0, amountNet2 = 0, amountVAT2 = 0, amountNet3 = 0\n                    for (let i = 0; i < this.purchases.length; i++) {\n                        if (this.purchases[i].supplier.nature.toLowerCase() === \"individual\" || this.purchase[i].supplier.nature.toLowerCase() === 'taxable entity') {\n                            if (this.purchases[i].totalAmountInclusive > 0) {\n                                amountInclusive1 += this.purchases[i].totalAmountInclusive\n                                amountVAT1 += this.purchases[i].totalVAT\n                            } else if (this.purchases[i].totalAmountNetVat > 0) {\n                                if (this.purchases[i].typeProduct.code === 4) {\n                                    amountNet1 += this.purchases[i].totalAmountNetVat\n                                } else {\n                                    amountNet2 += this.purchases[i].totalAmountNetVat\n                                }\n                            }\n                        } else if (this.purchases[i].supplier.nature.toLowerCase() === 'non-taxable entity') {\n                            amountNet3 += this.purchases[i].totalAmountNetVat\n                        } else if (this.purchases[i].supplier.nature.toLowerCase() === 'foreign entity') {\n                            if (this.purchases[i].totalAmountInclusive > 0) {\n                                amountInclusive2 += this.purchases[i].totalAmountInclusive\n                                amountVAT2 += this.purchases[i].totalVAT\n                            }\n                        }\n                    }\n                    totalAmountVAT = amountVAT1 + amountVAT2\n                    this.monthlyPurchases[0].amountNet = amountInclusive1.toLocaleString()\n                    this.monthlyPurchases[0].amountVAT = amountVAT1.toLocaleString()\n                    this.monthlyPurchases[1].amountNet = amountInclusive2.toLocaleString()\n                    this.monthlyPurchases[1].amountVAT = amountVAT2.toLocaleString()\n                    this.monthlyPurchases[2].amountNet = amountNet2.toLocaleString()\n                    this.monthlyPurchases[3].amountNet = amountNet3.toLocaleString()\n                    this.monthlyPurchases[4].amountNet = amountNet1.toLocaleString()\n                    this.monthlyPurchases[5].amountVAT = totalAmountVAT.toLocaleString()\n                }, 200)\n            })\n        },\n        viewPurchaseRecord() {\n            this.$router.push({\n                path: 'purchase_record',\n                name: 'Purchase Record',\n                query: {type: this.$route.query.type},\n                params: {id: this.monthlyReturns.id, monthlyReturn: this.monthlyReturns}\n            })\n        }\n    }\n}\n"]}]}