{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/suppliers/Expenses.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/suppliers/Expenses.vue","mtime":1638931253180},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1hY2NvdW50aW5nLXdlYi1tb2R1bGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1hY2NvdW50aW5nLXdlYi1tb2R1bGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3R5cGVvZiBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1hY2NvdW50aW5nLXdlYi1tb2R1bGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgaTE4biB9IGZyb20gIkAvaTE4biI7CmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwppbXBvcnQgSGVscGVyIGZyb20gIkAvaGVscGVyLmpzIjsKaW1wb3J0IHsgRXhwZW5zZU1vZGVsLCBFeHBlbnNlRW50cnlNb2RlbCwgRXhwZW5zZUVudHJ5RXh0ZW5kZWRNb2RlbCwgSm91cm5hbE1vZGVsLCBKb3VybmFsRW50cnlNb2RlbCwgQWNjb3VudE1vZGVsLCBDdXJyZW5jeU1vZGVsLCBFeGNoYW5nZVJhdGVNb2RlbCwgUGF5bWVudFRlcm1Nb2RlbCwgU3VwcGxpZXJNb2RlbCwgRW1wbG95ZWVNb2RlbCwgQ29udGFjdE1vZGVsLCBDbGFzc01vZGVsLCBVb21Nb2RlbCwgTG9jYXRpb25Nb2RlbCwgU2VnbWVudE1vZGVsLCBQcm9qZWN0TW9kZWwsIERpc2NvdW50SXRlbU1vZGVsLCBUYXhNb2RlbCwgRXhwZW5zZXMsIFB1cmNoYXNlRm9ybUNvbnRlbnQgfSBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQXBwTW9kZWxzIjsKaW1wb3J0IHsgU2hvd1Jlc291cmNlIH0gZnJvbSAiQC9vYnNlcnZhYmxlL3N0b3JlIjsKLyogRWRpdG9ycyAqLwoKaW1wb3J0IEFjY291bnRTZWNvbmRhcnlFZGl0b3IgZnJvbSAiQC9zY3JpcHRzL2tlbmRvX2VkaXRvci9BY2NvdW50U2Vjb25kYXJ5IjsKaW1wb3J0IENsYXNzRWRpdG9yIGZyb20gIkAvc2NyaXB0cy9rZW5kb19lZGl0b3IvQ2xhenoiOwppbXBvcnQgVW9tRWRpdG9yIGZyb20gIkAvc2NyaXB0cy9rZW5kb19lZGl0b3IvVW9tIjsKaW1wb3J0IFB1cmNoYXNlRGlzY291bnRJdGVtRWRpdG9yIGZyb20gIkAvc2NyaXB0cy9rZW5kb19lZGl0b3IvUHVyY2hhc2VEaXNjb3VudEl0ZW0iOwppbXBvcnQgUHVyY2hhc2VUYXhFZGl0b3IgZnJvbSAiQC9zY3JpcHRzL2tlbmRvX2VkaXRvci9QdXJjaGFzZVRheCI7Ci8qIFN0b3JlICovCgppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CmltcG9ydCBwYXltZW50VGVybUhhbmRsZXJfIGZyb20gIkAvc2NyaXB0cy9wYXltZW50dGVybS9oYW5kbGVyL3BheW1lbnRUZXJtSGFuZGxlciI7CmltcG9ydCBBY2NvdW50TWFwcGluZ01vZGVsIGZyb20gIkAvc2NyaXB0cy9hY2NvdW50LW1hcC9BY2NvdW50IjsKaW1wb3J0IHsgdXVpZCB9IGZyb20gInZ1ZS11dWlkIjsKaW1wb3J0IHNhbGVPcmRlckhhbmRsZXIgZnJvbSAiQC9zY3JpcHRzL3RyYW5zYWN0aW9uSGFuZGxlciI7CnZhciBpbnN0aXR1dGUgPSBzdG9yZS5zdGF0ZS5pbnN0aXR1dGUuaW5zdGl0dXRlOwovKiBIYW5kbGVycyAqLwoKdmFyIF9yZXF1aXJlID0gcmVxdWlyZSgiQC9zY3JpcHRzL0FwcEhhbmRsZXJzIiksCiAgICBleHBlbnNlSGFuZGxlciA9IF9yZXF1aXJlLmV4cGVuc2VIYW5kbGVyLAogICAgY2FzaEFkdmFuY2VIYW5kbGVyID0gX3JlcXVpcmUuY2FzaEFkdmFuY2VIYW5kbGVyLAogICAgam91cm5hbEhhbmRsZXIgPSBfcmVxdWlyZS5qb3VybmFsSGFuZGxlcjsKCnZhciBwdXJjaGFzZUZvcm1Db250ZW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wdXJjaGFzZUZvcm1Db250ZW50SGFuZGxlciIpOwoKdmFyIGJpbGxpbmdIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2ludm9pY2UvaGFuZGxlci9iaWxsaW5nSGFuZGxlciIpOwoKdmFyIF9yZXF1aXJlMiA9IHJlcXVpcmUoIkAvc2NyaXB0cy9kZWZhdWx0X3NldHVwL0NvbGxlY3Rpb25zIiksCiAgICBFbnRpdHlUeXBlID0gX3JlcXVpcmUyLkVudGl0eVR5cGUsCiAgICBTYXZlT3B0aW9uID0gX3JlcXVpcmUyLlNhdmVPcHRpb24sCiAgICBBY2NvdW50VHlwZUNvZGUgPSBfcmVxdWlyZTIuQWNjb3VudFR5cGVDb2RlLAogICAgVGF4VHlwZSA9IF9yZXF1aXJlMi5UYXhUeXBlLAogICAgU2V0dGluZyA9IF9yZXF1aXJlMi5TZXR0aW5nOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJFeHBlbnNlIiwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nTWU6IGZ1bmN0aW9uIExvYWRpbmdNZSgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL0xvYWRpbmciKTsKICAgIH0sCiAgICAiYXBwLWRhdGVwaWNrZXIiOiBmdW5jdGlvbiBhcHBEYXRlcGlja2VyKCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9EYXRlUGlja2VyQ29tcG9uZW50Iik7CiAgICB9LAogICAgImFwcC1tb250aG9mLXBpY2tlciI6IGZ1bmN0aW9uIGFwcE1vbnRob2ZQaWNrZXIoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9rZW5kb190ZW1wbGF0ZXMvTW9udGhPZlBpY2tlciIpOwogICAgfSwKICAgICJhcHAtY3VycmVuY3ktZHJvcGRvd25saXN0IjogZnVuY3Rpb24gYXBwQ3VycmVuY3lEcm9wZG93bmxpc3QoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvQ3VycmVuY3kiKTsKICAgIH0sCiAgICAiYXBwLXBheW1lbnQtdGVybS1wdXJjaGFzZS1kcm9wZG93bmxpc3QiOiBmdW5jdGlvbiBhcHBQYXltZW50VGVybVB1cmNoYXNlRHJvcGRvd25saXN0KCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L1BheW1lbnRUZXJtUHVyY2hhc2UiKTsKICAgIH0sCiAgICAiYXBwLWxvY2F0aW9uLWRyb3Bkb3dubGlzdCI6IGZ1bmN0aW9uIGFwcExvY2F0aW9uRHJvcGRvd25saXN0KCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L0xvY2F0aW9uIik7CiAgICB9LAogICAgImFwcC1lbXBsb3llZS1kcm9wZG93bmxpc3QiOiBmdW5jdGlvbiBhcHBFbXBsb3llZURyb3Bkb3dubGlzdCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL2Ryb3Bkb3dubGlzdC9FbXBsb3llZSIpOwogICAgfSwKICAgICJhcHAtcHJvamVjdC1kcm9wZG93bmxpc3QiOiBmdW5jdGlvbiBhcHBQcm9qZWN0RHJvcGRvd25saXN0KCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L1Byb2plY3QiKTsKICAgIH0sCiAgICAiYXBwLXNlZ21lbnQtZHJvcGRvd25saXN0IjogZnVuY3Rpb24gYXBwU2VnbWVudERyb3Bkb3dubGlzdCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL2Ryb3Bkb3dubGlzdC9TZWdtZW50Iik7CiAgICB9LAogICAgImFwcC1zdXBwbGllci1kcm9wZG93bmxpc3QiOiBmdW5jdGlvbiBhcHBTdXBwbGllckRyb3Bkb3dubGlzdCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL2Ryb3Bkb3dubGlzdC9TdXBwbGllciIpOwogICAgfSwKICAgICJhcHAtc2Vjb25kYXJ5LWFjY291bnQtZHJvcGRvd25saXN0IjogZnVuY3Rpb24gYXBwU2Vjb25kYXJ5QWNjb3VudERyb3Bkb3dubGlzdCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnQC9jb21wb25lbnRzL2Ryb3Bkb3dubGlzdC9BY2NvdW50U2Vjb25kYXJ5Jyk7CiAgICB9CiAgfSwKICBwcm9wczogewogICAgaW5pdEV4cGVuc2U6IHsKICAgICAgdHlwZTogRXhwZW5zZU1vZGVsCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gT2JqCiAgICAgIGV4cGVuc2U6IG5ldyBFeHBlbnNlTW9kZWwoKSwKICAgICAgam91cm5hbDogbmV3IEpvdXJuYWxNb2RlbCgpLAogICAgICBqb3VybmFsRW50cmllczogW10sCiAgICAgIGVtcGxveWVlOiBuZXcgRW1wbG95ZWVNb2RlbCgpLAogICAgICBzdXBwbGllcjogbmV3IFN1cHBsaWVyTW9kZWwoKSwKICAgICAgcGF5bWVudFRlcm06IG5ldyBQYXltZW50VGVybU1vZGVsKCksCiAgICAgIGN1cnJlbmN5OiBuZXcgQ3VycmVuY3lNb2RlbChpbnN0aXR1dGUuYmFzZUN1cnJlbmN5KSwKICAgICAgZXhjaGFuZ2VSYXRlOiBuZXcgRXhjaGFuZ2VSYXRlTW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSksCiAgICAgIGFkdmFuY2VTZXR0bGVtZW50Q2xlYXJpbmdBY2NvdW50OiBuZXcgQWNjb3VudE1vZGVsKCksCiAgICAgIG90aGVyQ2xlYXJpbmdTdXNwZW5zZUFjY291bnQ6IG5ldyBBY2NvdW50TW9kZWwoKSwKICAgICAgc2Vjb25kYXJ5QWNjb3VudDogbmV3IEFjY291bnRNb2RlbCgpLAogICAgICBsb2NhdGlvbjogbmV3IExvY2F0aW9uTW9kZWwoKSwKICAgICAgc2VnbWVudDogbmV3IFNlZ21lbnRNb2RlbCgpLAogICAgICBwcm9qZWN0OiBuZXcgUHJvamVjdE1vZGVsKCksCiAgICAgIC8vIExpc3QKICAgICAgY2FzaEFkdmFuY2VzOiBbXSwKICAgICAgYWNjb3VudHM6IFtdLAogICAgICBleHBlbnNlQWNjb3VudHM6IFtdLAogICAgICB0cmFuc2FjdGlvbkFjY291bnRzOiBbXSwKICAgICAgZXhwZW5zZUVudHJpZXM6IFtdLAogICAgICAvLyBPdGhlcgogICAgICBzdWJUb3RhbDogMCwKICAgICAgZGlzY291bnRBbW91bnQ6IDAsCiAgICAgIHB1cmNoYXNlVGF4OiAwLAogICAgICB3aGRUYXg6IDAsCiAgICAgIHRvdGFsQW1vdW50OiAwLAogICAgICBzdXBwbGllckRlcG9zaXRBbW91bnQ6IDAsCiAgICAgIGRlcG9zaXRBbW91bnQ6IDAsCiAgICAgIGFtb3VudER1ZTogMCwKICAgICAgaGFzQWRkaXRpb25hbENvc3Q6IGZhbHNlLAogICAgICBmaWxlczogW10sCiAgICAgIHVzZXI6IEhlbHBlci5nZXRVc2VyKCksCiAgICAgIHRlbXBsYXRlczogW10sCiAgICAgIG1heERlY2ltYWw6IFNldHRpbmcuTUFYX0RFQ0lNQUwsCiAgICAgIGRpc2FibGVQcm9qZWN0OiBmYWxzZSwKICAgICAgLy8gRm9ybSB2YWxpZGF0aW9uCiAgICAgIHZhbGlkOiB0cnVlLAogICAgICBpc0VkaXQ6IGZhbHNlLAogICAgICBhbGVydDogZmFsc2UsCiAgICAgIGVycm9yTWVzc2FnZTogIiIsCiAgICAgIHNhdmVNb2RlOiAiIiwKICAgICAgU2F2ZU9wdGlvbjogU2F2ZU9wdGlvbiwKICAgICAgLy8gRWRpdG9ycwogICAgICBBY2NvdW50U2Vjb25kYXJ5RWRpdG9yOiBBY2NvdW50U2Vjb25kYXJ5RWRpdG9yLAogICAgICBDbGFzc0VkaXRvcjogQ2xhc3NFZGl0b3IsCiAgICAgIFVvbUVkaXRvcjogVW9tRWRpdG9yLAogICAgICBQdXJjaGFzZURpc2NvdW50SXRlbUVkaXRvcjogUHVyY2hhc2VEaXNjb3VudEl0ZW1FZGl0b3IsCiAgICAgIFB1cmNoYXNlVGF4RWRpdG9yOiBQdXJjaGFzZVRheEVkaXRvciwKICAgICAgLy8gU2lkZWJhcgogICAgICBjb2xfZXhwYW5kOiA5LAogICAgICBjb2xfaGlkZTogMywKICAgICAgaXNIaWRlQmFyOiBmYWxzZSwKICAgICAgLy8gTG9hZGluZ01lCiAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgc2hvd0Nhc2hBZHZhbmNlTG9hZGluZzogZmFsc2UsCiAgICAgIC8vIEJ5IEIgTmltb2wKICAgICAgZGVjaW1hbEZvcm1hdDogIm4yIiwKICAgICAgcHVyY2hhc2VGb3JtQ29udGVudDogUHVyY2hhc2VGb3JtQ29udGVudCwKICAgICAgZGVwb3NpdEJhbGFuY2U6IDAsCiAgICAgIHR4bkV4cGVuc2U6IG5ldyBFeHBlbnNlcyh7fSksCiAgICAgIHRyYW5zYWN0aW9uVHlwZToge30sCiAgICAgIHN1cHBsaWVyRGlzY291bnRJdGVtOiBbXSwKICAgICAgdGF4TGlzdERldGFpbDogW10sCiAgICAgIHB1cmNoYXNlT3JkZXJzOiBbXSwKICAgICAgcHVyY2hhc2VPcmRlcjoge30sCiAgICAgIHJlZkZyb206IFtdLAogICAgICBzaG93TG9hZGluZ1BPOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uRGVwb3NpdERlZHVjdGlvbkNoYW5nZTogZnVuY3Rpb24gb25EZXBvc2l0RGVkdWN0aW9uQ2hhbmdlKCkgewogICAgICBpZiAodGhpcy5kZXBvc2l0QW1vdW50ID09PSAiIiB8fCB0aGlzLmRlcG9zaXRBbW91bnQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuZGVwb3NpdEFtb3VudCA9IDA7CiAgICAgIH0KCiAgICAgIHZhciBkZWR1Y3Rpb24gPSBwYXJzZUZsb2F0KHRoaXMuZGVwb3NpdEFtb3VudCkgfHwgMDsKCiAgICAgIGlmIChkZWR1Y3Rpb24gPiBwYXJzZUZsb2F0KHRoaXMuc3VwcGxpZXJEZXBvc2l0QW1vdW50KSkgewogICAgICAgIHRoaXMuZGVwb3NpdEFtb3VudCA9IHBhcnNlRmxvYXQodGhpcy5zdXBwbGllckRlcG9zaXRBbW91bnQpOyAvLyB0aGlzLnR4bkV4cGVuc2UuZGVwb3NpdERlZHVjdGlvbiA9IHRoaXMuZGVwb3NpdEFtb3VudAogICAgICB9CgogICAgICB0aGlzLmF1dG9DYWxjdWxhdGUoKTsKICAgIH0sCiAgICByZW1vdmVFbXB0eVZhbHVlczogZnVuY3Rpb24gcmVtb3ZlRW1wdHlWYWx1ZXMob2JqKSB7CiAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIG9iaikgewogICAgICAgIGlmICghb2JqW3Byb3BOYW1lXSB8fCBvYmpbcHJvcE5hbWVdLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgZGVsZXRlIG9ialtwcm9wTmFtZV07CiAgICAgICAgfSBlbHNlIGlmIChfdHlwZW9mKG9ialtwcm9wTmFtZV0pID09PSAib2JqZWN0IikgewogICAgICAgICAgdGhpcy5yZW1vdmVFbXB0eVZhbHVlcyhvYmpbcHJvcE5hbWVdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBvYmo7CiAgICB9LAogICAgb25Mb2NhdGlvbkNoYW5nZTogZnVuY3Rpb24gb25Mb2NhdGlvbkNoYW5nZSgpIHsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJsb2NhdGlvbiIsIHRoaXMucmVtb3ZlRW1wdHlWYWx1ZXModGhpcy5zZWdtZW50KSwgdGhpcy5yZW1vdmVFbXB0eVZhbHVlcyh0aGlzLmxvY2F0aW9uKSk7CiAgICB9LAogICAgbWFwcGluZ0V4cGVuc2U6IGZ1bmN0aW9uIG1hcHBpbmdFeHBlbnNlKGV4cGVuc2UpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5leHBlbnNlQWNjb3VudERTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIHZhciBhY2NvdW50TGluZSA9IGRzLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICByZXR1cm4gbi5hbW91bnQgPiAwOwogICAgICB9KS5tYXAoZnVuY3Rpb24gKG0pIHsKICAgICAgICB2YXIgaWQgPSBtLmlkIHx8ICJsaW4tIiArIHV1aWQudjEoKTsKICAgICAgICB2YXIgbGluZSA9IG5ldyBFeHBlbnNlRW50cnlFeHRlbmRlZE1vZGVsKG0pOwogICAgICAgIGxpbmVbImlkIl0gPSBpZDsKICAgICAgICByZXR1cm4gbGluZTsKICAgICAgfSk7CiAgICAgIHRoaXMudHhuRXhwZW5zZS5pZCA9IGV4cGVuc2UudXVpZDsKICAgICAgdGhpcy50eG5FeHBlbnNlLmhhc0FkZGl0aW9uYWxDb3N0ID0gdGhpcy5oYXNBZGRpdGlvbmFsQ29zdDsKICAgICAgdGhpcy50eG5FeHBlbnNlLmpvdXJuYWxfdXVpZCA9IGV4cGVuc2Uuam91cm5hbF91dWlkOwogICAgICB0aGlzLnR4bkV4cGVuc2UudHlwZSA9ICJFeHBlbnNlIjsKICAgICAgdGhpcy50eG5FeHBlbnNlLmFiYnIgPSB0aGlzLmFiYnIodGhpcy50cmFuc2FjdGlvblR5cGUpOwogICAgICB0aGlzLnR4bkV4cGVuc2UudHJhbnNhY3Rpb25UeXBlID0gdGhpcy50cmFuc2FjdGlvblR5cGU7CiAgICAgIHRoaXMudHhuRXhwZW5zZS5yZWZlcmVuY2VObyA9IGV4cGVuc2UubnVtYmVyOyAvLyB0aGlzLnR4bkV4cGVuc2UucmVmZXJlbmNlTm8gPSBleHBlbnNlLm51bWJlcgoKICAgICAgdGhpcy50eG5FeHBlbnNlLnRyYW5zYWN0aW9uRGF0ZSA9IGV4cGVuc2UuZXhwZW5zZV9kYXRlOwogICAgICB0aGlzLnR4bkV4cGVuc2UudHJhbnNhY3Rpb25EYXRlVFogPSBIZWxwZXIudG9JU09EYXRlKGV4cGVuc2UuZXhwZW5zZV9kYXRlKTsKICAgICAgdGhpcy50eG5FeHBlbnNlLmR1ZURhdGUgPSBleHBlbnNlLmR1ZV9kYXRlOwogICAgICB0aGlzLnR4bkV4cGVuc2UuYmlsbERhdGUgPSBleHBlbnNlLmJpbGxfZGF0ZTsKICAgICAgdGhpcy50eG5FeHBlbnNlLmJpbGxOdW1iZXIgPSBleHBlbnNlLmJpbGxfbnVtYmVyOwogICAgICB0aGlzLnR4bkV4cGVuc2UuY3VycmVuY3kgPSB0aGlzLnJlbW92ZUVtcHR5VmFsdWVzKGV4cGVuc2UuYmlsbF9jdXJyZW5jeSk7CiAgICAgIHRoaXMudHhuRXhwZW5zZS5zdXBwbGllciA9IHRoaXMuc3VwcGxpZXJNYXAoZXhwZW5zZS5zdXBwbGllcik7CiAgICAgIHRoaXMudHhuRXhwZW5zZS5lbXBsb3llZSA9IHRoaXMucmVtb3ZlRW1wdHlWYWx1ZXMoZXhwZW5zZS5lbXBsb3llZSk7CiAgICAgIHRoaXMudHhuRXhwZW5zZS5wYXltZW50VGVybSA9IHRoaXMucmVtb3ZlRW1wdHlWYWx1ZXModGhpcy5wYXltZW50VGVybSk7CiAgICAgIHRoaXMudHhuRXhwZW5zZS5zZWdtZW50ID0gdGhpcy5yZW1vdmVFbXB0eVZhbHVlcyh0aGlzLnNlZ21lbnQpOwogICAgICB0aGlzLnR4bkV4cGVuc2UubG9jYXRpb24gPSB0aGlzLnJlbW92ZUVtcHR5VmFsdWVzKHRoaXMubG9jYXRpb24pOwogICAgICB0aGlzLnR4bkV4cGVuc2UucHJvamVjdCA9IHRoaXMucmVtb3ZlRW1wdHlWYWx1ZXModGhpcy5wcm9qZWN0KTsKICAgICAgdGhpcy50eG5FeHBlbnNlLm1vbnRoT2YgPSBleHBlbnNlLm1vbnRoX29mOwogICAgICB0aGlzLnR4bkV4cGVuc2UuYWRkaXRpb25hbENvc3RTdXBwbGllciA9IHRoaXMucmVtb3ZlRW1wdHlWYWx1ZXMoZXhwZW5zZS5hZGRpdGlvbmFsX2Nvc3Rfc3VwcGxpZXIpOwogICAgICB0aGlzLnR4bkV4cGVuc2UudXNlX2Zvcl90cmFuc2FjdGlvbl91dWlkID0gZXhwZW5zZS51c2VfZm9yX3RyYW5zYWN0aW9uX3V1aWQ7CiAgICAgIHRoaXMudHhuRXhwZW5zZS51c2VGb3JPcHRpb24gPSBleHBlbnNlLnVzZV9mb3Jfb3B0aW9uOwogICAgICB0aGlzLnR4bkV4cGVuc2UudHJhbnNhY3Rpb25Ob3RlID0gZXhwZW5zZS52b3VjaGVyX25vdGU7CiAgICAgIHRoaXMudHhuRXhwZW5zZS5qb3VybmFsTm90ZSA9IGV4cGVuc2Uuam91cm5hbF9ub3RlOwogICAgICB0aGlzLnR4bkV4cGVuc2UuaXRlbUxpbmVzID0gYWNjb3VudExpbmU7CiAgICAgIHRoaXMudHhuRXhwZW5zZS5hY2NvdW50ID0gbmV3IEFjY291bnRNYXBwaW5nTW9kZWwodGhpcy5yZW1vdmVFbXB0eVZhbHVlcyh0aGlzLmV4cGVuc2UudHJhbnNhY3Rpb25fYWNjb3VudCkpOwogICAgICB0aGlzLnR4bkV4cGVuc2Uuc2F2ZU9wdGlvbiA9IGV4cGVuc2UuaXNfZHJhZnQ7CiAgICAgIHRoaXMudHhuRXhwZW5zZS5zdGF0dXMgPSAxOwogICAgICB0aGlzLnR4bkV4cGVuc2UuY3JlYXRlZEF0ID0gZXhwZW5zZS5jcmVhdGVkX2RhdGU7CiAgICAgIHRoaXMudHhuRXhwZW5zZS50b3RhbCA9IHBhcnNlRmxvYXQodGhpcy50b3RhbEFtb3VudCk7CiAgICAgIHRoaXMudHhuRXhwZW5zZS5leGNoYW5nZVRvdGFsID0gcGFyc2VGbG9hdCh0aGlzLnRvdGFsQW1vdW50KSAqICh0aGlzLmV4Y2hhbmdlUmF0ZS5yYXRlIHx8IDEpOwogICAgICB0aGlzLnR4bkV4cGVuc2UuYW1vdW50RHVlID0gdGhpcy5hbW91bnREdWU7CiAgICAgIHRoaXMudHhuRXhwZW5zZS5yZW1haW5pbmdBbW91bnQgPSB0aGlzLmFtb3VudER1ZTsKICAgICAgdGhpcy50eG5FeHBlbnNlLnN1YlRvdGFsID0gdGhpcy5zdWJUb3RhbDsKICAgICAgdGhpcy50eG5FeHBlbnNlLnB1cmNoYXNlVGF4ID0gdGhpcy5wdXJjaGFzZVRheDsKICAgICAgdGhpcy50eG5FeHBlbnNlLndoZFRheCA9IHRoaXMud2hkVGF4OwogICAgICB0aGlzLnR4bkV4cGVuc2Uuc3VwcGxpZXJEaXNjb3VudEl0ZW0gPSB0aGlzLnN1cHBsaWVyRGlzY291bnRJdGVtOwogICAgICB0aGlzLnR4bkV4cGVuc2UubG9nZ2VkVXNlciA9IHRoaXMubG9nZ2VkVXNlcih0aGlzLmV4cGVuc2UuY3JlYXRlZF9ieSk7CiAgICAgIHRoaXMudHhuRXhwZW5zZS50eG5SYXRlID0gdGhpcy5leGNoYW5nZVJhdGUucmF0ZTsKICAgICAgdGhpcy50eG5FeHBlbnNlLmRpc2NvdW50VG90YWwgPSBwYXJzZUZsb2F0KHRoaXMuZGlzY291bnRBbW91bnQpOwogICAgICB0aGlzLnR4bkV4cGVuc2UuZGVwb3NpdEFtb3VudCA9IHBhcnNlRmxvYXQodGhpcy5kZXBvc2l0QmFsYW5jZSk7CiAgICAgIHRoaXMudHhuRXhwZW5zZS5kZXBvc2l0RGVkdWN0aW9uID0gcGFyc2VGbG9hdCh0aGlzLmRlcG9zaXRBbW91bnQpOwogICAgICB0aGlzLnR4bkV4cGVuc2UuZXhjaGFuZ2VEZXBvc2l0RGVkdWN0aW9uID0gcGFyc2VGbG9hdCh0aGlzLmRlcG9zaXRBbW91bnQpICogdGhpcy5leGNoYW5nZVJhdGUucmF0ZSB8fCAxOwogICAgICB0aGlzLnR4bkV4cGVuc2UuZXhjaGFuZ2VBbW91bnQgPSB0aGlzLmFtb3VudER1ZSAqIHRoaXMuZXhjaGFuZ2VSYXRlLnJhdGUgfHwgMTsKICAgICAgdGhpcy50eG5FeHBlbnNlLnB1cmNoYXNlT3JkZXIgPSB0aGlzLnB1cmNoYXNlT3JkZXIgfHwge307CiAgICAgIHRoaXMudHhuRXhwZW5zZS5yZWZGcm9tID0gW107CgogICAgICBpZiAodGhpcy5wdXJjaGFzZU9yZGVyKSB7CiAgICAgICAgdGhpcy50eG5FeHBlbnNlLnJlZkZyb20gPSBbewogICAgICAgICAgaWQ6IHRoaXMucHVyY2hhc2VPcmRlci5pZCB8fCAnJywKICAgICAgICAgIHJlZmVyZW5jZTogdGhpcy5wdXJjaGFzZU9yZGVyLnJlZmVyZW5jZU5vIHx8ICcnCiAgICAgICAgfV07CiAgICAgIH0KICAgIH0sCiAgICBsb2dnZWRVc2VyOiBmdW5jdGlvbiBsb2dnZWRVc2VyKHVzZXIpIHsKICAgICAgaWYgKHVzZXIpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaWQ6IHVzZXIuaWQsCiAgICAgICAgICBuYW1lOiB1c2VyLnVzZXJfbmFtZSwKICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIHt9OwogICAgfSwKICAgIHN1cHBsaWVyTWFwOiBmdW5jdGlvbiBzdXBwbGllck1hcChzdXBwbGllcikgewogICAgICBpZiAoc3VwcGxpZXIpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaWQ6IHN1cHBsaWVyLnV1aWQsCiAgICAgICAgICBuYW1lOiBzdXBwbGllci5uYW1lLAogICAgICAgICAgZW1haWw6IHN1cHBsaWVyLmVtYWlsLAogICAgICAgICAgcGhvbmU6IHN1cHBsaWVyLnBob25lLAogICAgICAgICAgYWRkcmVzczogc3VwcGxpZXIuYWRkcmVzcwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHJldHVybiB7fTsKICAgIH0sCiAgICBzYXZlVHhuRXhwZW5zZTogZnVuY3Rpb24gc2F2ZVR4bkV4cGVuc2UocmVzcG9uc2UpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMudHhuRXhwZW5zZVsidXVpZCJdID0gcmVzcG9uc2UuZGF0YS51dWlkIHx8ICcnOwogICAgICAgICAgICAgICAgX3RoaXMudHhuRXhwZW5zZVsiaWQiXSA9IF90aGlzLnR4bkV4cGVuc2UuaWQgPyBfdGhpcy50eG5FeHBlbnNlLmlkIDogIiI7CiAgICAgICAgICAgICAgICBfdGhpcy50eG5FeHBlbnNlWyJqb3VybmFsX3V1aWQiXSA9IHJlc3BvbnNlLmRhdGEuam91cm5hbF91dWlkIHx8ICcnOwogICAgICAgICAgICAgICAgX3RoaXMudHhuRXhwZW5zZVsiYWN0aW9uVHlwZSJdID0gX3RoaXMuaXNFZGl0ID8gJ2VkaXQnIDogIm5ldyI7IC8vIGxldCBkYXRhID0gdGhpcy50eG5FeHBlbnNlOwogICAgICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCdleHBlbnNlPT0nLCBKU09OLnN0cmluZ2lmeSh0aGlzLnR4bkV4cGVuc2UudGF4TGlzdCkpCgogICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIuY3JlYXRlRXhwZW5zZShfdGhpcy50eG5FeHBlbnNlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLiRzbm90aWZ5LnN1Y2Nlc3MoIlN1Y2Nlc3NmdWxseSIpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXNwb25zZVN0YXR1cyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRzbm90aWZ5LmVycm9yKCJTb21ldGhpbmcgd2VudCB3cm9uZyIpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goZSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlbW92ZUR1cGxpY2F0ZTogZnVuY3Rpb24gcmVtb3ZlRHVwbGljYXRlKGFycmF5KSB7CiAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgdmFyIG1hcCA9IG5ldyBNYXAoKTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhcnJheSksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgaWYgKCFtYXAuaGFzKGl0ZW0uaWQpKSB7CiAgICAgICAgICAgIG1hcC5zZXQoaXRlbS5pZCwgdHJ1ZSk7IC8vIHNldCBhbnkgdmFsdWUgdG8gTWFwCgogICAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBhY2NvdW50OiBmdW5jdGlvbiBhY2NvdW50KHR4bkFjY291bnQpIHsKICAgICAgaWYgKHR4bkFjY291bnQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaWQ6IHR4bkFjY291bnQudXVpZCwKICAgICAgICAgIHV1aWQ6IHR4bkFjY291bnQudXVpZCwKICAgICAgICAgIGFjY291bnRfdXVpZDogdHhuQWNjb3VudC5hY2NvdW50X3V1aWQsCiAgICAgICAgICBuYW1lOiB0eG5BY2NvdW50Lm5hbWUsCiAgICAgICAgICBsb2NhbF9uYW1lOiB0eG5BY2NvdW50LmxvY2FsX25hbWUsCiAgICAgICAgICBudW1iZXI6IHR4bkFjY291bnQubnVtYmVyLAogICAgICAgICAgaXNfdGF4YWJsZTogdHhuQWNjb3VudC5pc190YXhhYmxlLAogICAgICAgICAgYmFuaGppQWNjQ29kZTogdHhuQWNjb3VudC5iYW5oamlBY2NDb2RlLAogICAgICAgICAgZ3JvdXBfY29kZTogdHhuQWNjb3VudC5ncm91cF9jb2RlLAogICAgICAgICAgcGFyZW50X2FjY291bnQ6IHR4bkFjY291bnQucGFyZW50X2FjY291bnQsCiAgICAgICAgICB0eXBlX2NvZGU6IHR4bkFjY291bnQudHlwZV9jb2RlLAogICAgICAgICAgYWNjb3VudF90eXBlOiB0eG5BY2NvdW50LmFjY291bnRfdHlwZQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHJldHVybiB7fTsKICAgIH0sCiAgICBhYmJyOiBmdW5jdGlvbiBhYmJyKHRyYW5zYWN0aW9uVHlwZSkgewogICAgICBpZiAodHJhbnNhY3Rpb25UeXBlKSB7CiAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uVHlwZS5hYmJyOwogICAgICB9CgogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgc3VwcGxpZXJEZXBvc2l0QmFsYW5jZTogZnVuY3Rpb24gc3VwcGxpZXJEZXBvc2l0QmFsYW5jZSgpIHsKICAgICAgdGhpcy5zdXBwbGllckRlcG9zaXRBbW91bnQgPSAwOwoKICAgICAgaWYgKHRoaXMuZGVwb3NpdEJhbGFuY2UgPiAwKSB7CiAgICAgICAgdGhpcy5zdXBwbGllckRlcG9zaXRBbW91bnQgPSB0aGlzLmRlcG9zaXRCYWxhbmNlIC8gdGhpcy5leGNoYW5nZVJhdGUucmF0ZTsKICAgICAgfQogICAgfSwKICAgIGxvYWREZXBvc2l0QmFsYW5jZTogZnVuY3Rpb24gbG9hZERlcG9zaXRCYWxhbmNlKGlkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9IGlkICsgIj90eXBlPWRlcCI7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnN1cHBsaWVyRGVwb3NpdEFtb3VudCA9IDA7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmRlcG9zaXRBbW91bnQgPSAwOwogICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLmJhbGFuY2Uoc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5kZXBvc2l0QmFsYW5jZSA9IGRhdGFbMF0uYmFsYW5jZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnN1cHBsaWVyRGVwb3NpdEJhbGFuY2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQdXJjaGFzZUZvcm1Db250ZW50OiBmdW5jdGlvbiBsb2FkUHVyY2hhc2VGb3JtQ29udGVudCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBwdXJjaGFzZUZvcm1Db250ZW50SGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VwcGxpZXJTZXR0aW5nID0gZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMucHVyY2hhc2VGb3JtQ29udGVudCA9IHN1cHBsaWVyU2V0dGluZzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1cHBsaWVyU2V0dGluZy5oYXNPd25Qcm9wZXJ0eSgiZGVjaW1hbCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuZGVjaW1hbEZvcm1hdCA9ICJuIiArIHN1cHBsaWVyU2V0dGluZy5kZWNpbWFsOyAvLyBBZGQgMiBkZWZhdWx0IGxpbmVzCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmFkZFJvdygpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5hZGRSb3coKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTAwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBudW1iZXJGb3JtYXQ6IGZ1bmN0aW9uIG51bWJlckZvcm1hdCh2YWx1ZSkgewogICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcodmFsdWUsICIiLmNvbmNhdCh0aGlzLmRlY2ltYWxGb3JtYXQpKTsKICAgIH0sCiAgICBvbkR1ZURhdGVDaGFuZ2VkOiBmdW5jdGlvbiBvbkR1ZURhdGVDaGFuZ2VkKCkgewogICAgICB0aGlzLmNhbGN1bGF0ZUR1ZURhdGUodGhpcy5wYXltZW50VGVybSk7CiAgICB9LAogICAgb25WZW5kb3JDaGFuZ2VkOiBmdW5jdGlvbiBvblZlbmRvckNoYW5nZWQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGRzLCBqZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gbGV0IHBheW1lbnRCaWxsaW5nID0ge307CiAgICAgICAgICAgICAgICAvLyBpZiAoCiAgICAgICAgICAgICAgICAvLyAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuc3VwcGxpZXIsICJwYXltZW50QmlsbGluZyIpCiAgICAgICAgICAgICAgICAvLyApIHsKICAgICAgICAgICAgICAgIC8vICAgcGF5bWVudEJpbGxpbmcgPSB0aGlzLnN1cHBsaWVyLnBheW1lbnRCaWxsaW5nOwogICAgICAgICAgICAgICAgLy8gICBpZiAoCiAgICAgICAgICAgICAgICAvLyAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGF5bWVudEJpbGxpbmcsICJwYXltZW50VGVybSIpCiAgICAgICAgICAgICAgICAvLyAgICkgewogICAgICAgICAgICAgICAgLy8gICAgIHRoaXMucGF5bWVudFRlcm0gPSBuZXcgUGF5bWVudFRlcm1Nb2RlbChwYXltZW50QmlsbGluZy5wYXltZW50VGVybSk7CiAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5jYWxjdWxhdGVEdWVEYXRlKHBheW1lbnRCaWxsaW5nLnBheW1lbnRUZXJtKTsKICAgICAgICAgICAgICAgIC8vICAgfQogICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgX3RoaXM0LmxvYWREZXBvc2l0QmFsYW5jZShfdGhpczQuc3VwcGxpZXIuaWQpOwoKICAgICAgICAgICAgICAgIF90aGlzNC5sb2FkUGF5bWVudFRlcm1MaXN0KCk7CiAgICAgICAgICAgICAgICAvKiBTdXBwbGllciBleHBlbnNlIGFjY291bnQgKi8KCgogICAgICAgICAgICAgICAgZHMgPSBfdGhpczQuJHJlZnMuZXhwZW5zZUFjY291bnREUy5rZW5kb1dpZGdldCgpOwogICAgICAgICAgICAgICAgZHMuZGF0YShbXSk7IC8vIEluc2VydCByb3cKCiAgICAgICAgICAgICAgICBqZSA9IG5ldyBFeHBlbnNlRW50cnlFeHRlbmRlZE1vZGVsKHsKICAgICAgICAgICAgICAgICAgYWNjb3VudDogX3RoaXM0LnN1cHBsaWVyLmFjY291bnRUYXguZXhwZW5zZUFjYywKICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDEsCiAgICAgICAgICAgICAgICAgIGRlY2ltYWxGb3JtYXQ6IF90aGlzNC5kZWNpbWFsRm9ybWF0CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGRzLmFkZChqZSk7CgogICAgICAgICAgICAgICAgX3RoaXM0LmFkZFJvdygpOwoKICAgICAgICAgICAgICAgIF90aGlzNC5sb2FkUHVyY2hhc2VPcmRlcigpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjYWxjdWxhdGVEdWVEYXRlOiBmdW5jdGlvbiBjYWxjdWxhdGVEdWVEYXRlKHBheW1lbnRUZXJtKSB7CiAgICAgIGlmIChwYXltZW50VGVybSkgewogICAgICAgIGlmIChwYXltZW50VGVybS5oYXNPd25Qcm9wZXJ0eSgibmV0RHVlIikpIHsKICAgICAgICAgIHZhciBuZXREdWUgPSBwYXltZW50VGVybS5uZXREdWU7CiAgICAgICAgICB2YXIgZHVlRGF0ZSA9IG5ldyBEYXRlKHRoaXMuZXhwZW5zZS5leHBlbnNlX2RhdGUpOwogICAgICAgICAgZHVlRGF0ZS5zZXREYXRlKGR1ZURhdGUuZ2V0RGF0ZSgpICsgcGFyc2VJbnQobmV0RHVlKSk7IC8vbnVtYmVyICBvZiBkYXlzIHRvIGFkZCwgZS54LiAxNSBkYXlzCgogICAgICAgICAgdGhpcy5leHBlbnNlLmR1ZV9kYXRlID0gZHVlRGF0ZS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgTnVtYmVyRWRpdG9yOiBmdW5jdGlvbiBOdW1iZXJFZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IGRhdGEtYmluZD0idmFsdWU6JyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb051bWVyaWNUZXh0Qm94KHsKICAgICAgICBkZWNpbWFsczogMzAsCiAgICAgICAgZm9ybWF0OiAiIi5jb25jYXQodGhpcy5kZWNpbWFsRm9ybWF0KQogICAgICB9KTsKICAgIH0sCiAgICBIZWxwOiBmdW5jdGlvbiBIZWxwKGtleV9zZWFyY2gpIHsKICAgICAgU2hvd1Jlc291cmNlKGtleV9zZWFyY2gpOwogICAgfSwKICAgIC8vIEluaXRpYWwgRGF0YQogICAgaW5pdGlhbERhdGE6IGZ1bmN0aW9uIGluaXRpYWxEYXRhKCkgewogICAgICBpZiAodGhpcy5pbml0RXhwZW5zZSkgewogICAgICAgIC8vIEVkaXQgTW9kZQogICAgICAgIHRoaXMuZXhwZW5zZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaW5pdEV4cGVuc2UpOwogICAgICAgIHRoaXMuYmluZERhdGEoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBCcmFuZCBOZXcgTW9kZQogICAgICAgIHRoaXMuc2V0RGVmYXVsdERhdGEoKTsKICAgICAgfQogICAgfSwKICAgIC8vIFNldCBkZWZhdWx0IGRhdGEKICAgIHNldERlZmF1bHREYXRhOiBmdW5jdGlvbiBzZXREZWZhdWx0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgbG9jYXRpb25zLCBzZWdtZW50czsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gQnJhbmQgTmV3IE1vZGUKICAgICAgICAgICAgICAgIF90aGlzNS5pc0VkaXQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzNS5leHBlbnNlID0gT2JqZWN0LmFzc2lnbih7fSwgbmV3IEV4cGVuc2VNb2RlbCh7CiAgICAgICAgICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgICAgICAgICAgICAgICBkdWVfZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICAgICAgICAgICAgICAgIGJpbGxfZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICAgICAgICAgICAgICAgIG1vbnRoX29mOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDcpCiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAvKiBEZWZhdWx0IFNpZGViYXIgKi8KCiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LiRzdG9yZS5kaXNwYXRjaCgibG9jYXRpb25zL2dldExpc3QiKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgbG9jYXRpb25zID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczUubG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlbChsb2NhdGlvbnNbMF0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS4kc3RvcmUuZGlzcGF0Y2goInNlZ21lbnRzL2dldExpc3QiKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgc2VnbWVudHMgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNS5zZWdtZW50ID0gbmV3IFNlZ21lbnRNb2RlbChzZWdtZW50cy5maW5kKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpLmlzU3lzdGVtID09PSAxOwogICAgICAgICAgICAgICAgfSkpOyAvLyBHZW5lcmF0ZSBOdW1iZXIKCiAgICAgICAgICAgICAgICBfdGhpczUuZ2VuZXJhdGVOdW1iZXIoKTsgLy8gQWRkIDIgZGVmYXVsdCBsaW5lcwogICAgICAgICAgICAgICAgLy8gdGhpcy5hZGRSb3coKTsKICAgICAgICAgICAgICAgIC8vIHRoaXMuYWRkUm93KCk7CgoKICAgICAgICAgICAgICAgIF90aGlzNS5hdXRvQ2FsY3VsYXRlKCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBCaW5kIGRhdGEgZnJvbSBwcm9wIGZvciBlZGl0IG1vZGUKICAgIGJpbmREYXRhOiBmdW5jdGlvbiBiaW5kRGF0YSgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgcGF5bWVudFRlcm1zLCBsb2NhdGlvbnMsIHNlZ21lbnRzLCBwcm9qZWN0cywgY2FzaEFkdmFuY2VzLCBlbnRyaWVzLCBzdWJUb3RhbCwgZGlzY291bnRBbW91bnQsIHB1cmNoYXNlVGF4QW1vdW50LCB3aGRUYXhBbW91bnQsIHNlY29uZGFyeUFjY291bnRzLCBkaXNjb3VudEl0ZW1zLCB0YXhJdGVtcywgdW9tcywgY2xhenosIGpvdXJuYWxzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczYuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBFZGl0IE1vZGUKCiAgICAgICAgICAgICAgICBfdGhpczYuaXNFZGl0ID0gdHJ1ZTsgLy8gQ3VycmVuY3kKCiAgICAgICAgICAgICAgICBfdGhpczYuY3VycmVuY3kgPSBuZXcgQ3VycmVuY3lNb2RlbChfdGhpczYuZXhwZW5zZS5iaWxsX2N1cnJlbmN5KTsKICAgICAgICAgICAgICAgIF90aGlzNi5leGNoYW5nZVJhdGUgPSBuZXcgRXhjaGFuZ2VSYXRlTW9kZWwoX3RoaXM2LmV4cGVuc2UuYmlsbF9jdXJyZW5jeSk7CiAgICAgICAgICAgICAgICBfdGhpczYuZXhjaGFuZ2VSYXRlLmlkID0gX3RoaXM2LmV4cGVuc2UuZXhwZW5zZV9lbnRyaWVzWzBdLmV4Y2hhbmdlX3JhdGVfdXVpZDsKICAgICAgICAgICAgICAgIF90aGlzNi5leGNoYW5nZVJhdGUucmF0ZSA9IF90aGlzNi5leHBlbnNlLmV4cGVuc2VfZW50cmllc1swXS5leGNoYW5nZV9yYXRlOyAvLyBQYXltZW50IFRlcm0KCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LiRzdG9yZS5kaXNwYXRjaCgicGF5bWVudFRlcm1zL2dldExpc3QiKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcGF5bWVudFRlcm1zID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczYucGF5bWVudFRlcm0gPSBwYXltZW50VGVybXMuZmluZChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gX3RoaXM2LmV4cGVuc2UucGF5bWVudF90ZXJtOwogICAgICAgICAgICAgICAgfSk7IC8vIENvbnRhY3RzCgogICAgICAgICAgICAgICAgX3RoaXM2LnN1cHBsaWVyID0gbmV3IFN1cHBsaWVyTW9kZWwoX3RoaXM2LmV4cGVuc2Uuc3VwcGxpZXIpOwogICAgICAgICAgICAgICAgX3RoaXM2LmVtcGxveWVlID0gbmV3IEVtcGxveWVlTW9kZWwoX3RoaXM2LmV4cGVuc2UuZW1wbG95ZWUpOwogICAgICAgICAgICAgICAgX3RoaXM2Lmhhc0FkZGl0aW9uYWxDb3N0ID0gQm9vbGVhbihfdGhpczYuZXhwZW5zZS5hZGRpdGlvbmFsX2Nvc3Rfc3VwcGxpZXIudXVpZCk7IC8vIFNpZGViYXIKCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi4kc3RvcmUuZGlzcGF0Y2goImxvY2F0aW9ucy9nZXRMaXN0Iik7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBsb2NhdGlvbnMgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNi5sb2NhdGlvbiA9IG5ldyBMb2NhdGlvbk1vZGVsKGxvY2F0aW9ucy5maW5kKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpLmlkID09PSBfdGhpczYuZXhwZW5zZS5sb2NhdGlvbl91dWlkOwogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuJHN0b3JlLmRpc3BhdGNoKCJzZWdtZW50cy9nZXRMaXN0Iik7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBzZWdtZW50cyA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgX3RoaXM2LnNlZ21lbnQgPSBuZXcgU2VnbWVudE1vZGVsKHNlZ21lbnRzLmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuaWQgPT09IF90aGlzNi5leHBlbnNlLnNlZ21lbnRfdXVpZDsKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LiRzdG9yZS5kaXNwYXRjaCgicHJvamVjdHMvZ2V0TGlzdCIpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgcHJvamVjdHMgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNi5wcm9qZWN0ID0gbmV3IFByb2plY3RNb2RlbChwcm9qZWN0cy5maW5kKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpLmlkID09PSBfdGhpczYuZXhwZW5zZS5wcm9qZWN0X3V1aWQ7CiAgICAgICAgICAgICAgICB9KSk7IC8vIENhc2ggQWR2YW5jZQoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzNi5lbXBsb3llZS5pZCAhPT0gIiIgJiYgX3RoaXM2LnNlZ21lbnQuaWQgIT09ICIiICYmIF90aGlzNi5leHBlbnNlLnVzZV9mb3Jfb3B0aW9uID09PSAyKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDMwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgcmV0dXJuIGNhc2hBZHZhbmNlSGFuZGxlci5nZXRCeUVtcGxveWVlSWQoX3RoaXM2LmVtcGxveWVlLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgICAgIGNhc2hBZHZhbmNlcyA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgX3RoaXM2LmNhc2hBZHZhbmNlcyA9IGNhc2hBZHZhbmNlcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaS5zZWdtZW50X3V1aWQgPT09IF90aGlzNi5zZWdtZW50LmlkOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICAgICAgICBlbnRyaWVzID0gW107CiAgICAgICAgICAgICAgICBzdWJUb3RhbCA9IDA7CiAgICAgICAgICAgICAgICBkaXNjb3VudEFtb3VudCA9IDA7CiAgICAgICAgICAgICAgICBwdXJjaGFzZVRheEFtb3VudCA9IDA7CiAgICAgICAgICAgICAgICB3aGRUYXhBbW91bnQgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuJHN0b3JlLmRpc3BhdGNoKCJhY2NvdW50aW5nL2dldFNlY29uZGFyeUFjY291bnRzIik7CgogICAgICAgICAgICAgIGNhc2UgMzc6CiAgICAgICAgICAgICAgICBzZWNvbmRhcnlBY2NvdW50cyA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0MDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuJHN0b3JlLmRpc3BhdGNoKCJkaXNjb3VudEl0ZW1zL2dldExpc3QiKTsKCiAgICAgICAgICAgICAgY2FzZSA0MDoKICAgICAgICAgICAgICAgIGRpc2NvdW50SXRlbXMgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LiRzdG9yZS5kaXNwYXRjaCgidGF4ZXMvZ2V0TGlzdCIpOwoKICAgICAgICAgICAgICBjYXNlIDQzOgogICAgICAgICAgICAgICAgdGF4SXRlbXMgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LiRzdG9yZS5kaXNwYXRjaCgidW5pdE9mTWVhc3VyZW1lbnRzL2dldExpc3QiKTsKCiAgICAgICAgICAgICAgY2FzZSA0NjoKICAgICAgICAgICAgICAgIHVvbXMgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LiRzdG9yZS5kaXNwYXRjaCgiY2xhc3Nlcy9nZXRMaXN0Iik7CgogICAgICAgICAgICAgIGNhc2UgNDk6CiAgICAgICAgICAgICAgICBjbGF6eiA9IF9jb250ZXh0Ni5zZW50OwoKICAgICAgICAgICAgICAgIF90aGlzNi5leHBlbnNlLmV4cGVuc2VfZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICAvLyBQdXJjaGFzZSBUYXgKICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmFjY291bnQuYWNjb3VudF90eXBlLm51bWJlciA9PT0gQWNjb3VudFR5cGVDb2RlLlBVUkNIQVNFX1RBWCkgewogICAgICAgICAgICAgICAgICAgIHB1cmNoYXNlVGF4QW1vdW50ICs9IHZhbHVlLmFtb3VudDsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuYW1vdW50ID4gMCAmJiB2YWx1ZS5hY2NvdW50Lm51bWJlciAhPT0gQWNjb3VudFR5cGVDb2RlLlRBWF9SRUxBVEVEX0VYUEVOU0VfQ09ERSkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gbmV3IEV4cGVuc2VFbnRyeUV4dGVuZGVkTW9kZWwodmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgZW50cnkuZGVjaW1hbEZvcm1hdCA9IF90aGlzNi5kZWNpbWFsRm9ybWF0OwogICAgICAgICAgICAgICAgICAgICAgLyogU2Vjb25kYXJ5IEFjY291bnQgKi8KCiAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuc2Vjb25kYXJ5X2FjY191dWlkICE9PSAiIikgewogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zZWNvbmRhcnlfYWNjb3VudCA9IHNlY29uZGFyeUFjY291bnRzLmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS51dWlkID09PSB2YWx1ZS5zZWNvbmRhcnlfYWNjX3V1aWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfSAvLyBTdWJ0b3RhbAoKCiAgICAgICAgICAgICAgICAgICAgICBzdWJUb3RhbCArPSB2YWx1ZS5hbW91bnQ7IC8vIFVPTQoKICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LnVvbSA9IG5ldyBVb21Nb2RlbCh1b21zLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IHZhbHVlLnVvbV91dWlkOwogICAgICAgICAgICAgICAgICAgICAgfSkpOyAvLyBEaXNjb3VudAoKICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnZGlzY291bnQnKSkgaWYgKHZhbHVlLmRpc2NvdW50Lmhhc093blByb3BlcnR5KCd1dWlkJykpIGVudHJ5LmRpc2NvdW50ID0gbmV3IERpc2NvdW50SXRlbU1vZGVsKGRpc2NvdW50SXRlbXMuZmluZChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gdmFsdWUuZGlzY291bnQudXVpZDsKICAgICAgICAgICAgICAgICAgICAgIH0pKTsgLy8gVGF4CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KCd0YXhfaXRlbScpKSBpZiAodmFsdWUudGF4X2l0ZW0uaGFzT3duUHJvcGVydHkoJ3V1aWQnKSkgewogICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS50YXhfaXRlbSA9IHRheEl0ZW1zLmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gdmFsdWUudGF4X2l0ZW0udXVpZDsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8qIEFwcGx5IEluY2x1c2l2ZSBUYXggdG8gYW1vdW50ICovCgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkudGF4X2l0ZW0uaGFzT3duUHJvcGVydHkoJ3RheFR5cGUnKSkgaWYgKGVudHJ5LnRheF9pdGVtLnRheFR5cGUuaGFzT3duUHJvcGVydHkoJ3R5cGVJZCcpKSBpZiAoZW50cnkudGF4X2l0ZW0udGF4VHlwZS50eXBlSWQgPT09IDEgJiYgZW50cnkudGF4X2l0ZW0uYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSBUYXhUeXBlLklOQ0xVU0lWRSkgc3ViVG90YWwgKz0gZW50cnkudGF4X2Ftb3VudDsKICAgICAgICAgICAgICAgICAgICAgIH0gLy8gQ2xhc3NlcwoKICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LmNsYXNzMSA9IG5ldyBDbGFzc01vZGVsKGNsYXp6LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IHZhbHVlLmNsYXNzXzFfdXVpZDsKICAgICAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LmNsYXNzMiA9IG5ldyBDbGFzc01vZGVsKGNsYXp6LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IHZhbHVlLmNsYXNzXzJfdXVpZDsKICAgICAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LmNsYXNzMyA9IG5ldyBDbGFzc01vZGVsKGNsYXp6LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IHZhbHVlLmNsYXNzXzNfdXVpZDsKICAgICAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LmNsYXNzNCA9IG5ldyBDbGFzc01vZGVsKGNsYXp6LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IHZhbHVlLmNsYXNzXzRfdXVpZDsKICAgICAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LmNsYXNzNSA9IG5ldyBDbGFzc01vZGVsKGNsYXp6LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IHZhbHVlLmNsYXNzXzVfdXVpZDsKICAgICAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgICAgICAgIGVudHJpZXMucHVzaChlbnRyeSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIERpc2NvdW50CiAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuYWNjb3VudC5hY2NvdW50X3R5cGUubnVtYmVyID09PSBBY2NvdW50VHlwZUNvZGUuRElTQ09VTlQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRBbW91bnQgKz0gdmFsdWUuYW1vdW50ICogLTE7CiAgICAgICAgICAgICAgICAgICAgICB9IC8vIFdIRCBUYXgKCgogICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmFjY291bnQuYWNjb3VudF90eXBlLm51bWJlciA9PT0gQWNjb3VudFR5cGVDb2RlLldIRF9UQVgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hkVGF4QW1vdW50ICs9IHZhbHVlLmFtb3VudCAqIC0xOwogICAgICAgICAgICAgICAgICAgICAgfSAvLyBEZXBvc2l0CgoKICAgICAgICAgICAgICAgICAgICAgIGlmICh+QWNjb3VudFR5cGVDb2RlLlBVUkNIQVNFX0RFUE9TSVRTLmluZGV4T2YodmFsdWUuYWNjb3VudC5hY2NvdW50X3R5cGUubnVtYmVyKSkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuZGVwb3NpdEFtb3VudCA9IHZhbHVlLmFtb3VudCAqIC0xOwogICAgICAgICAgICAgICAgICAgICAgfSAvLyBUcmFuc2FjdGlvbiBBY2NvdW50IChQYXlhYmxlIEFjY291bnQgLyBDbGVhcmluZyBBY2NvdW50KQoKCiAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuYWNjb3VudC51dWlkID09PSBfdGhpczYuZXhwZW5zZS50cmFuc2FjdGlvbl9hY2NvdW50LnV1aWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmFtb3VudER1ZSA9IHZhbHVlLmFtb3VudCAqIC0xOwogICAgICAgICAgICAgICAgICAgICAgICAvKiBTZWNvbmRhcnkgQWNjb3VudCAqLwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnNlY29uZGFyeUFjY291bnQgPSBzZWNvbmRhcnlBY2NvdW50cy5maW5kKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkudXVpZCA9PT0gdmFsdWUuc2Vjb25kYXJ5X2FjY191dWlkOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOyAvLyBCaW5kIEV4cGVuc2UgRW50cmllcwoKCiAgICAgICAgICAgICAgICBfdGhpczYuZXhwZW5zZUVudHJpZXMgPSBlbnRyaWVzOyAvLyBDYWxjdWxhdGlvbgoKICAgICAgICAgICAgICAgIF90aGlzNi5zdWJUb3RhbCA9IHN1YlRvdGFsOwogICAgICAgICAgICAgICAgX3RoaXM2LmRpc2NvdW50QW1vdW50ID0gZGlzY291bnRBbW91bnQ7CiAgICAgICAgICAgICAgICBfdGhpczYucHVyY2hhc2VUYXggPSBwdXJjaGFzZVRheEFtb3VudDsKICAgICAgICAgICAgICAgIF90aGlzNi53aGRUYXggPSB3aGRUYXhBbW91bnQ7CiAgICAgICAgICAgICAgICBfdGhpczYudG90YWxBbW91bnQgPSBzdWJUb3RhbCAtIF90aGlzNi5kaXNjb3VudEFtb3VudDsKICAgICAgICAgICAgICAgIC8qIEpvdXJuYWwgKi8KCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDU5OwogICAgICAgICAgICAgICAgcmV0dXJuIGpvdXJuYWxIYW5kbGVyLmdldE9uZShfdGhpczYuZXhwZW5zZS5qb3VybmFsX3V1aWQpOwoKICAgICAgICAgICAgICBjYXNlIDU5OgogICAgICAgICAgICAgICAgam91cm5hbHMgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNi5qb3VybmFsID0gam91cm5hbHMuZGF0YTsKCiAgICAgICAgICAgICAgICBfdGhpczYubG9hZEV4cGVuc2VQdXJjaGFzZU9yZGVyKCk7CgogICAgICAgICAgICAgICAgX3RoaXM2LnNob3dMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgNjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCgogICAgLyogTG9hZCBEYXRhICovCiAgICBsb2FkRGF0YTogZnVuY3Rpb24gbG9hZERhdGEoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIGFkdlNldENsckFjYywgb3RoZXJDbHJTdXNBY2M7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcubG9hZFB1cmNoYXNlRm9ybUNvbnRlbnQoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy4kc3RvcmUuZGlzcGF0Y2goImFjY291bnRpbmcvZ2V0QWNjb3VudHMiKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3RoaXM3LmFjY291bnRzID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczcuZXhwZW5zZUFjY291bnRzID0gX3RoaXM3LmFjY291bnRzOyAvLyBBZHZhbmNlIFNldHRsZW1lbnQgQ2xlYXJpbmcgQWNjb3VudCBieSBiYW5oamlfYWNjb3VudF9udW1iZXIKCiAgICAgICAgICAgICAgICBhZHZTZXRDbHJBY2MgPSBfdGhpczcuYWNjb3VudHMuZmluZChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaS5iYW5oamlfYWNjb3VudF9udW1iZXIgPT09IEFjY291bnRUeXBlQ29kZS5BRFZBTkNFX1NFVFRMRU1FTlRfQ0xFQVJJTkdfQ09ERTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX3RoaXM3LmFkdmFuY2VTZXR0bGVtZW50Q2xlYXJpbmdBY2NvdW50ID0gbmV3IEFjY291bnRNb2RlbChhZHZTZXRDbHJBY2MpOyAvLyBPdGhlciBDbGVhcmluZyBTdXNwZW5zZXMgQWNjb3VudCBieSBiYW5oamlfYWNjb3VudF9udW1iZXIKCiAgICAgICAgICAgICAgICBvdGhlckNsclN1c0FjYyA9IF90aGlzNy5hY2NvdW50cy5maW5kKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpLmJhbmhqaV9hY2NvdW50X251bWJlciA9PT0gQWNjb3VudFR5cGVDb2RlLk9USEVSX0NMRUFSSU5HX1NVU1BFTlNFU19DT0RFOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpczcub3RoZXJDbGVhcmluZ1N1c3BlbnNlQWNjb3VudCA9IG5ldyBBY2NvdW50TW9kZWwob3RoZXJDbHJTdXNBY2MpOyAvLyBGaWx0ZXIgVHJhbnNhY3Rpb24gQWNjb3VudHMKCiAgICAgICAgICAgICAgICBfdGhpczcuZmlsdGVyVHJhbnNhY3Rpb25BY2NvdW50KCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBOdW1iZXIKICAgIGdlbmVyYXRlTnVtYmVyOiBmdW5jdGlvbiBnZW5lcmF0ZU51bWJlcigpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgbnVtOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gSGVscGVyLmdlbmVyYXRlQWNjb3VudGluZ051bWJlcihFbnRpdHlUeXBlLkVYUEVOU0VTLCBfdGhpczguZXhwZW5zZS5leHBlbnNlX2RhdGUpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBudW0gPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgIF90aGlzOC5leHBlbnNlLm51bWJlciA9IG51bS5udW1iZXI7CiAgICAgICAgICAgICAgICBfdGhpczgudHJhbnNhY3Rpb25UeXBlID0gbnVtLnByZWZpeDsKICAgICAgICAgICAgICAgIF90aGlzOC5leHBlbnNlLnByZWZpeF9mb3JtYXQgPSBudW0ucHJlZml4X2Zvcm1hdDsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8gR2V0IEV4Y2hhbmdlIFJhdGUKICAgIGdldEV4Y2hhbmdlUmF0ZTogZnVuY3Rpb24gZ2V0RXhjaGFuZ2VSYXRlKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczkuZXhwZW5zZS5leHBlbnNlX2RhdGUgJiYgX3RoaXM5LmN1cnJlbmN5LmNvZGUgIT09ICIiKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBIZWxwZXIuZ2V0TGFzdEV4Y2hhbmdlUmF0ZUJ5RGF0ZShfdGhpczkuZXhwZW5zZS5leHBlbnNlX2RhdGUsIF90aGlzOS5jdXJyZW5jeS5jb2RlKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3RoaXM5LmV4Y2hhbmdlUmF0ZSA9IF9jb250ZXh0OS5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzOS5leGNoYW5nZVJhdGUgPSBuZXcgRXhjaGFuZ2VSYXRlTW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhfdGhpczkuZXhjaGFuZ2VSYXRlLCAiWHJhdGUiKTsKCiAgICAgICAgICAgICAgICBfdGhpczkuc3VwcGxpZXJEZXBvc2l0QmFsYW5jZSgpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBMb2FkIENhc2ggQWR2YW5jZQogICAgbG9hZENhc2hBZHZhbmNlOiBmdW5jdGlvbiBsb2FkQ2FzaEFkdmFuY2UoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIC8qIFB1cmNoYXNlIE9yZGVyICovCiAgICAgIHRoaXMubG9hZFB1cmNoYXNlT3JkZXIoKTsKICAgICAgLyogQ2xlYXIgKi8KCiAgICAgIHRoaXMuY2FzaEFkdmFuY2VzID0gW107CiAgICAgIHRoaXMuZXhwZW5zZS51c2VfZm9yX3RyYW5zYWN0aW9uX3V1aWQgPSAiIjsKCiAgICAgIGlmICh0aGlzLmVtcGxveWVlLmlkICE9PSAiIiAmJiB0aGlzLnNlZ21lbnQuaWQgIT09ICIiICYmIHRoaXMuZXhwZW5zZS51c2VfZm9yX29wdGlvbiA9PT0gMikgewogICAgICAgIHRoaXMuc2hvd0Nhc2hBZHZhbmNlTG9hZGluZyA9IHRydWU7CiAgICAgICAgY2FzaEFkdmFuY2VIYW5kbGVyLmdldEJ5RW1wbG95ZWVJZCh0aGlzLmVtcGxveWVlLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuZGF0YSkgewogICAgICAgICAgICAvKiBGaWx0ZXIgYnkgc2VnbWVudCAqLwogICAgICAgICAgICBfdGhpczEwLmNhc2hBZHZhbmNlcyA9IHJlcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgIHJldHVybiBpdGVtLnNlZ21lbnRfdXVpZCA9PT0gX3RoaXMxMC5zZWdtZW50LmlkOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMTAuc2hvd0Nhc2hBZHZhbmNlTG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIC8qIE9uIGRhdGUgY2hhbmdlcyAqLwogICAgb25EYXRlQ2hhbmdlczogZnVuY3Rpb24gb25EYXRlQ2hhbmdlcygpIHsKICAgICAgdGhpcy5leHBlbnNlLm1vbnRoX29mID0gbmV3IERhdGUodGhpcy5leHBlbnNlLmV4cGVuc2VfZGF0ZSkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgNyk7CiAgICAgIHRoaXMuZ2V0RXhjaGFuZ2VSYXRlKCk7CiAgICAgIHRoaXMuZ2VuZXJhdGVOdW1iZXIoKTsKICAgIH0sCgogICAgLyogT24gVHJhbnNhY3Rpb24gQWNjb3VudCBDaGFuZ2VzICovCiAgICBvblRyYW5zYWN0aW9uQWNjb3VudENoYW5nZXM6IGZ1bmN0aW9uIG9uVHJhbnNhY3Rpb25BY2NvdW50Q2hhbmdlcygpIHsKICAgICAgdGhpcy5zZWNvbmRhcnlBY2NvdW50ID0gbmV3IEFjY291bnRNb2RlbCgpOwogICAgfSwKCiAgICAvKiBPbiBDYXNoIEFkdmFuY2UgQ2hhbmdlcyAqLwogICAgb25DYXNoQWR2YW5jZUNoYW5nZXM6IGZ1bmN0aW9uIG9uQ2FzaEFkdmFuY2VDaGFuZ2VzKCkgewogICAgICB0aGlzLnNldENhc2hBZHZhbmNlUHJvamVjdCgpOwogICAgICB0aGlzLmRpc2FibGVQcm9qZWN0ID0gZmFsc2U7CiAgICB9LAoKICAgIC8qIEJpbmQgcHJvamVjdCBmcm9tIGNhc2ggYWR2YW5jZSAqLwogICAgc2V0Q2FzaEFkdmFuY2VQcm9qZWN0OiBmdW5jdGlvbiBzZXRDYXNoQWR2YW5jZVByb2plY3QoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICB2YXIgY2FzaEFkdmFuY2UsIHByb2plY3RzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMS5leHBlbnNlLnVzZV9mb3JfdHJhbnNhY3Rpb25fdXVpZCAhPT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjYXNoQWR2YW5jZSA9IF90aGlzMTEuY2FzaEFkdmFuY2VzLmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGkudXVpZCA9PT0gX3RoaXMxMS5leHBlbnNlLnVzZV9mb3JfdHJhbnNhY3Rpb25fdXVpZDsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmICghKGNhc2hBZHZhbmNlLnByb2plY3RfdXVpZCAhPT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTEuJHN0b3JlLmRpc3BhdGNoKCJwcm9qZWN0cy9nZXRMaXN0Iik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHByb2plY3RzID0gX2NvbnRleHQxMC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMxMS5wcm9qZWN0ID0gcHJvamVjdHMuZmluZChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gY2FzaEFkdmFuY2UucHJvamVjdF91dWlkOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpczExLmRpc2FibGVQcm9qZWN0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfdGhpczExLmRpc2FibGVQcm9qZWN0ID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIE9uIEVtcGxveWVlIFJhZGlvIENoYW5nZXMKICAgIG9uVXNlRm9yT3B0aW9uQ2hhbmdlczogZnVuY3Rpb24gb25Vc2VGb3JPcHRpb25DaGFuZ2VzKCkgewogICAgICAvLyBDbGVhciBTZWxlY3RlZCBDYXNoIEFkdmFuY2UKICAgICAgdGhpcy5leHBlbnNlLnVzZV9mb3JfdHJhbnNhY3Rpb25fdXVpZCA9ICIiOwogICAgICB0aGlzLmV4cGVuc2UudHJhbnNhY3Rpb25fYWNjb3VudCA9IG5ldyBBY2NvdW50TW9kZWwoKTsKICAgICAgLyogTG9hZCBDYXNoIEFkdmFuY2UgKi8KCiAgICAgIGlmICh0aGlzLmV4cGVuc2UudXNlX2Zvcl9vcHRpb24gPT09IDIpIHsKICAgICAgICB0aGlzLmxvYWRDYXNoQWR2YW5jZSgpOwogICAgICB9CgogICAgICB0aGlzLnNlY29uZGFyeUFjY291bnQgPSBuZXcgQWNjb3VudE1vZGVsKCk7CiAgICAgIHRoaXMuZmlsdGVyVHJhbnNhY3Rpb25BY2NvdW50KCk7CiAgICB9LAogICAgLy8gRmlsdGVyIFRyYW5zYXRpb24gQWNjb3VudAogICAgZmlsdGVyVHJhbnNhY3Rpb25BY2NvdW50OiBmdW5jdGlvbiBmaWx0ZXJUcmFuc2FjdGlvbkFjY291bnQoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczEyLmV4cGVuc2UudXNlX2Zvcl9vcHRpb24gPT09IDApIHsKICAgICAgICAgICAgICAgICAgLy8gQ3JlZGl0IChQYXlhYmxlIEFjY291bnQpCiAgICAgICAgICAgICAgICAgIF90aGlzMTIudHJhbnNhY3Rpb25BY2NvdW50cyA9IF90aGlzMTIuYWNjb3VudHMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIH5BY2NvdW50VHlwZUNvZGUuUEFZQUJMRV9BQ0NPVU5UUy5pbmRleE9mKGkuYWNjb3VudF90eXBlLm51bWJlcik7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczEyLmV4cGVuc2UudXNlX2Zvcl9vcHRpb24gPT09IDMpIHsKICAgICAgICAgICAgICAgICAgLy8gQ2FzaCBBY2NvdW50CiAgICAgICAgICAgICAgICAgIF90aGlzMTIudHJhbnNhY3Rpb25BY2NvdW50cyA9IF90aGlzMTIuYWNjb3VudHMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIH5BY2NvdW50VHlwZUNvZGUuQ0FTSF9BQ0NPVU5UUy5pbmRleE9mKGkuYWNjb3VudF90eXBlLm51bWJlcik7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy8gUmVpbWJ1cnNlbWVudCAvIENhc2ggQWR2YW5jZQogICAgICAgICAgICAgICAgICBfdGhpczEyLmV4cGVuc2UudHJhbnNhY3Rpb25fYWNjb3VudCA9IF90aGlzMTIuYWR2YW5jZVNldHRsZW1lbnRDbGVhcmluZ0FjY291bnQ7CiAgICAgICAgICAgICAgICAgIF90aGlzMTIudHJhbnNhY3Rpb25BY2NvdW50cyA9IFtfdGhpczEyLmFkdmFuY2VTZXR0bGVtZW50Q2xlYXJpbmdBY2NvdW50XTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBPbiBBZGRpdGlvbmFsIENvc3QgQ2hhbmdlcwogICAgb25BZGRpdGlvbmFsQ29zdENoZWNrYm94Q2hhbmdlczogZnVuY3Rpb24gb25BZGRpdGlvbmFsQ29zdENoZWNrYm94Q2hhbmdlcygpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5leHBlbnNlQWNjb3VudERTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIGRzLmRhdGEoW10pOwoKICAgICAgaWYgKHRoaXMuaGFzQWRkaXRpb25hbENvc3QpIHsKICAgICAgICB0aGlzLmV4cGVuc2VBY2NvdW50cyA9IFt0aGlzLm90aGVyQ2xlYXJpbmdTdXNwZW5zZUFjY291bnRdOyAvLyBJbnNlcnQgcm93CgogICAgICAgIHZhciBqZSA9IG5ldyBFeHBlbnNlRW50cnlFeHRlbmRlZE1vZGVsKHsKICAgICAgICAgIGFjY291bnQ6IHRoaXMub3RoZXJDbGVhcmluZ1N1c3BlbnNlQWNjb3VudCwKICAgICAgICAgIHF1YW50aXR5OiAxLAogICAgICAgICAgZGVjaW1hbEZvcm1hdDogdGhpcy5kZWNpbWFsRm9ybWF0CiAgICAgICAgfSk7CiAgICAgICAgZHMuYWRkKGplKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmV4cGVuc2UuYWRkaXRpb25hbF9jb3N0X3N1cHBsaWVyID0gbnVsbDsKICAgICAgICB0aGlzLmV4cGVuc2VBY2NvdW50cyA9IHRoaXMuYWNjb3VudHM7CiAgICAgICAgdGhpcy5hZGRSb3coKTsKICAgICAgICB0aGlzLmFkZFJvdygpOwogICAgICB9CiAgICB9LAoKICAgIC8qIEtlbmRvICovCiAgICAvLyBEYXRhU291cmNlIENoYW5nZXMKICAgIG9uRXhwZW5zZUFjY291bnREU0NoYW5nZXM6IGZ1bmN0aW9uIG9uRXhwZW5zZUFjY291bnREU0NoYW5nZXMoZSkgewogICAgICBpZiAoZS5maWVsZCkgewogICAgICAgIHZhciBkYXRhUm93ID0gZS5pdGVtc1swXTsKCiAgICAgICAgaWYgKGUuZmllbGQgPT09ICJhY2NvdW50IikgewogICAgICAgICAgLyogU2V0IGFjY291bnQgaWQgKi8KICAgICAgICAgIGRhdGFSb3cuc2V0KCJhY2NvdW50X3V1aWQiLCBkYXRhUm93LmFjY291bnQudXVpZCk7CiAgICAgICAgICAvKiBBZGQgRXh0cmEgUm93ICovCgogICAgICAgICAgdGhpcy5hZGRFeHRyYVJvdyhkYXRhUm93LnVpZCk7CiAgICAgICAgfSBlbHNlIGlmIChlLmZpZWxkID09PSAic2Vjb25kYXJ5X2FjY291bnQiKSB7CiAgICAgICAgICBpZiAoZGF0YVJvdy5zZWNvbmRhcnlfYWNjb3VudCAhPT0gbnVsbCkgewogICAgICAgICAgICBkYXRhUm93LnNldCgic2Vjb25kYXJ5X2FjY191dWlkIiwgZGF0YVJvdy5zZWNvbmRhcnlfYWNjb3VudC51dWlkKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFNldCBkZWZhdWx0IHdoZW4gZGVzZWxlY3QKICAgICAgICAgICAgZGF0YVJvdy5zZXQoInNlY29uZGFyeV9hY2NfdXVpZCIsICIiKTsKICAgICAgICAgICAgZGF0YVJvdy5zZXQoInNlY29uZGFyeV9hY2NvdW50IiwgbmV3IEFjY291bnRNb2RlbCgpKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGUuZmllbGQgPT09ICJxdWFudGl0eSIgfHwgZS5maWVsZCA9PT0gInByaWNlIikgewogICAgICAgICAgdmFyIGFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoZGF0YVJvdy5xdWFudGl0eSkgKiBrZW5kby5wYXJzZUZsb2F0KGRhdGFSb3cucHJpY2UpOwogICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIGFtdCk7CiAgICAgICAgfSBlbHNlIGlmIChlLmZpZWxkID09PSAidW9tIikgewogICAgICAgICAgaWYgKGRhdGFSb3cudW9tKSB7CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJ1b21fdXVpZCIsIGRhdGFSb3cudW9tLmlkKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGUuZmllbGQgPT09ICJ0YXhfaXRlbSIpIHsKICAgICAgICAgIGlmIChkYXRhUm93LnRheF9pdGVtID09PSBudWxsKSB7CiAgICAgICAgICAgIC8vIFNldCBkZWZhdWx0IHdoZW4gZGVzZWxlY3QKICAgICAgICAgICAgZGF0YVJvdy5zZXQoInRheF9pdGVtIiwgbmV3IFRheE1vZGVsKCkpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZS5maWVsZCA9PT0gImNsYXNzMSIpIHsKICAgICAgICAgIGlmIChkYXRhUm93LmNsYXNzMSAhPT0gbnVsbCkgewogICAgICAgICAgICBkYXRhUm93LnNldCgiY2xhc3NfMV91dWlkIiwgZGF0YVJvdy5jbGFzczEuaWQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gU2V0IGRlZmF1bHQgd2hlbiBkZXNlbGVjdAogICAgICAgICAgICBkYXRhUm93LnNldCgiY2xhc3NfMV91dWlkIiwgIiIpOwogICAgICAgICAgICBkYXRhUm93LnNldCgiY2xhc3MxIiwgbmV3IENsYXNzTW9kZWwoKSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChlLmZpZWxkID09PSAiY2xhc3MyIikgewogICAgICAgICAgaWYgKGRhdGFSb3cuY2xhc3MyICE9PSBudWxsKSB7CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzc18yX3V1aWQiLCBkYXRhUm93LmNsYXNzMi5pZCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBTZXQgZGVmYXVsdCB3aGVuIGRlc2VsZWN0CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzc18yX3V1aWQiLCAiIik7CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzczIiLCBuZXcgQ2xhc3NNb2RlbCgpKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGUuZmllbGQgPT09ICJjbGFzczMiKSB7CiAgICAgICAgICBpZiAoZGF0YVJvdy5jbGFzczMgIT09IG51bGwpIHsKICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNsYXNzXzNfdXVpZCIsIGRhdGFSb3cuY2xhc3MzLmlkKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFNldCBkZWZhdWx0IHdoZW4gZGVzZWxlY3QKICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNsYXNzXzNfdXVpZCIsICIiKTsKICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNsYXNzMyIsIG5ldyBDbGFzc01vZGVsKCkpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZS5maWVsZCA9PT0gImNsYXNzNCIpIHsKICAgICAgICAgIGlmIChkYXRhUm93LmNsYXNzNCAhPT0gbnVsbCkgewogICAgICAgICAgICBkYXRhUm93LnNldCgiY2xhc3NfNF91dWlkIiwgZGF0YVJvdy5jbGFzczQuaWQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gU2V0IGRlZmF1bHQgd2hlbiBkZXNlbGVjdAogICAgICAgICAgICBkYXRhUm93LnNldCgiY2xhc3NfNF91dWlkIiwgIiIpOwogICAgICAgICAgICBkYXRhUm93LnNldCgiY2xhc3M0IiwgbmV3IENsYXNzTW9kZWwoKSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChlLmZpZWxkID09PSAiY2xhc3M1IikgewogICAgICAgICAgaWYgKGRhdGFSb3cuY2xhc3M1ICE9PSBudWxsKSB7CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzc181X3V1aWQiLCBkYXRhUm93LmNsYXNzNS5pZCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBTZXQgZGVmYXVsdCB3aGVuIGRlc2VsZWN0CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzc181X3V1aWQiLCAiIik7CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzczUiLCBuZXcgQ2xhc3NNb2RlbCgpKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgICB9CiAgICB9LAogICAgY2FsY3VsYXRlRGlzY291bnQ6IGZ1bmN0aW9uIGNhbGN1bGF0ZURpc2NvdW50KGRpc2NvdW50SXRlbSwgc3ViVG90YWwpIHsKICAgICAgaWYgKGRpc2NvdW50SXRlbSkgewogICAgICAgIHZhciBuYXR1cmUgPSBkaXNjb3VudEl0ZW0ubmF0dXJlOwogICAgICAgIHZhciBhbW91bnQgPSBkaXNjb3VudEl0ZW0uYW1vdW50OwoKICAgICAgICBpZiAobmF0dXJlID09PSAiQW1vdW50IikgewogICAgICAgICAgcmV0dXJuIGtlbmRvLnBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB9IGVsc2UgaWYgKG5hdHVyZSA9PT0gIlBlcmNlbnRhZ2UiKSB7CiAgICAgICAgICByZXR1cm4gc3ViVG90YWwgKiAoa2VuZG8ucGFyc2VGbG9hdChhbW91bnQpIC8gMTAwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlVGF4OiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlVGF4KHRheCwgYW1vdW50KSB7CiAgICAgIGlmICh0YXgpIHsKICAgICAgICB2YXIgZm9ybXVsYSA9IHRheC5mb3JtdWxhOwogICAgICAgIHZhciBpbkFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB2YXIgbkFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB2YXIgdGF4QmFzZSA9IGtlbmRvLnBhcnNlRmxvYXQodGF4LnRheEJhc2UpIC8gMTAwOwogICAgICAgIHZhciByYXRlID0ga2VuZG8ucGFyc2VGbG9hdCh0YXgucmF0ZSkgLyAxMDA7CiAgICAgICAgdmFyIHRvdGFsID0gZXZhbChmb3JtdWxhKTsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coaW5BbXQsIG5BbXQsIHRheEJhc2UsIHJhdGUsIGZvcm11bGEsIHRvdGFsKTsKICAgICAgICByZXR1cm4gdG90YWw7CiAgICAgIH0gLy8gcmV0dXJuIDAKCiAgICB9LAogICAgLy8gQXV0byBDYWxjdWxhdGUgSW4gRGF0YVNvdXJjZQogICAgYXV0b0NhbGN1bGF0ZTogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZSgpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHZhciBleHBEUywgc3ViVG90YWwsIGRpc2NvdW50LCBwdXJjaGFzZVRheCwgd2hkVGF4LCBpbmNsdXNpdmVUYXgsIHRheExpc3REZXRhaWwsIHRheCwgZGlzY291bnRJdGVtLCB0b3RhbEFtb3VudCwgYW1vdW50RHVlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZXhwRFMgPSBfdGhpczEzLiRyZWZzLmV4cGVuc2VBY2NvdW50RFMua2VuZG9XaWRnZXQoKSwgc3ViVG90YWwgPSAwLCBkaXNjb3VudCA9IDAsIHB1cmNoYXNlVGF4ID0gMCwgd2hkVGF4ID0gMCwgaW5jbHVzaXZlVGF4ID0gMCwgdGF4TGlzdERldGFpbCA9IFtdLCB0YXggPSBbXSwgZGlzY291bnRJdGVtID0gW107IC8vIEV4cGVuc2UKCiAgICAgICAgICAgICAgICBleHBEUy5kYXRhKCkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgdmFyIGFtdCA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucHJpY2UpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdWFudGl0eSk7CiAgICAgICAgICAgICAgICAgIC8qIFN1YnRvdGFsICovCgogICAgICAgICAgICAgICAgICBzdWJUb3RhbCArPSBhbXQ7IC8vIERpc2NvdW50CgogICAgICAgICAgICAgICAgICB2YXIgZGlzY291bnRBbW91bnQgPSAwOwogICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoJ2Rpc2NvdW50JykpIGlmICh2YWx1ZS5kaXNjb3VudC5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkgaWYgKHZhbHVlLmRpc2NvdW50LmlkICE9PSAiIikgewogICAgICAgICAgICAgICAgICAgIGRpc2NvdW50QW1vdW50ID0gX3RoaXMxMy5jYWxjdWxhdGVEaXNjb3VudCh2YWx1ZS5kaXNjb3VudCwgYW10KTsKICAgICAgICAgICAgICAgICAgICBkaXNjb3VudCArPSBkaXNjb3VudEFtb3VudDsKICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEl0ZW0ucHVzaCh2YWx1ZS5kaXNjb3VudCk7CiAgICAgICAgICAgICAgICAgIH0gLy8gVGF4CgogICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoJ3RheF9pdGVtJykpIGlmICh2YWx1ZS50YXhfaXRlbS5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkgaWYgKHZhbHVlLnRheF9pdGVtLmlkICE9PSAiIikgewogICAgICAgICAgICAgICAgICAgIHZhciBhbXRBZnRlckRpc2NvdW50ID0gYW10IC0gZGlzY291bnRBbW91bnQ7CgogICAgICAgICAgICAgICAgICAgIHZhciB0YXhBbW91bnQgPSBfdGhpczEzLmF1dG9DYWxjdWxhdGVUYXgodmFsdWUudGF4X2l0ZW0sIGFtdEFmdGVyRGlzY291bnQpOwoKICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUudGF4X2l0ZW0uYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSBUYXhUeXBlLklOQ0xVU0lWRSkgewogICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlVGF4ICs9IHRheEFtb3VudDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLyp0b2RvOiBhZGQgZXhwZW5zZSB0YXggKi8KICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCB2YXRUYXhfID0gdmFsdWUudGF4X2l0ZW0gfHwge30KCgogICAgICAgICAgICAgICAgICAgIHRheFsndGF4QW1vdW50J10gPSB0YXhBbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgdGF4WydhbW91bnQnXSA9IHZhbHVlLmFtb3VudCB8fCAwOwogICAgICAgICAgICAgICAgICAgIHRheFsnZGlzY291bnQnXSA9IGRpc2NvdW50QW1vdW50IHx8IDA7CiAgICAgICAgICAgICAgICAgICAgdGF4Wyd0eG5SYXRlJ10gPSBfdGhpczEzLmV4Y2hhbmdlUmF0ZS5yYXRlIHx8IDE7CiAgICAgICAgICAgICAgICAgICAgdGF4Wydpc1ZhdCddID0gMTsKICAgICAgICAgICAgICAgICAgICB0YXhbJ2xpbmUnXSA9IG5ldyBUYXhNb2RlbCh2YWx1ZS50YXhfaXRlbSB8fCB7fSk7CiAgICAgICAgICAgICAgICAgICAgdGF4LmRldGFpbCA9IHsKICAgICAgICAgICAgICAgICAgICAgIHNwZWNpZmljVGF4OiB7fSwKICAgICAgICAgICAgICAgICAgICAgIHB1YmxpY0xpZ2h0aW5nVGF4OiB7fSwKICAgICAgICAgICAgICAgICAgICAgIG90aGVyVGF4OiB7fQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgdGF4TGlzdERldGFpbC5wdXNoKHRheCk7CiAgICAgICAgICAgICAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUudGF4X2l0ZW0uaGFzT3duUHJvcGVydHkoJ3RheFR5cGUnKSkgaWYgKHZhbHVlLnRheF9pdGVtLnRheFR5cGUuaGFzT3duUHJvcGVydHkoJ3R5cGVJZCcpKSBpZiAodmFsdWUudGF4X2l0ZW0udGF4VHlwZS50eXBlSWQgPT09IDIpIHsKICAgICAgICAgICAgICAgICAgICAgIC8qIFdIRCBUYXggKi8KICAgICAgICAgICAgICAgICAgICAgIHdoZFRheCArPSB0YXhBbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIC8qIFB1cmNoYXNlIFRheCAqLwogICAgICAgICAgICAgICAgICAgICAgcHVyY2hhc2VUYXggKz0gdGF4QW1vdW50OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvKiBTZXQgVGF4IEFtb3VudCAqLwoKICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUudGF4X2l0ZW0udGF4VHlwZS50eXBlSWQgPT09IDEgJiYgdmFsdWUudGF4X2l0ZW0uYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSBUYXhUeXBlLklOQ0xVU0lWRSkgewogICAgICAgICAgICAgICAgICAgICAgLyogSW5jbHVzaXZlIFRheCAqLwogICAgICAgICAgICAgICAgICAgICAgdmFsdWUuc2V0KCJ0YXhfYW1vdW50IiwgdGF4QW1vdW50ICogLTEpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zZXQoInRheF9hbW91bnQiLCB0YXhBbW91bnQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAvKiBBcHBseSBJbmNsdXNpdmUgVGF4ICovCgogICAgICAgICAgICAgICAgc3ViVG90YWwgLT0gaW5jbHVzaXZlVGF4OwogICAgICAgICAgICAgICAgX3RoaXMxMy5zdWJUb3RhbCA9IHN1YlRvdGFsOwogICAgICAgICAgICAgICAgX3RoaXMxMy5kaXNjb3VudEFtb3VudCA9IGRpc2NvdW50OwogICAgICAgICAgICAgICAgX3RoaXMxMy5wdXJjaGFzZVRheCA9IHB1cmNoYXNlVGF4OwogICAgICAgICAgICAgICAgX3RoaXMxMy53aGRUYXggPSB3aGRUYXg7CiAgICAgICAgICAgICAgICB0b3RhbEFtb3VudCA9IF90aGlzMTMuc3ViVG90YWwgLSBkaXNjb3VudCArIHdoZFRheCArIHB1cmNoYXNlVGF4OwogICAgICAgICAgICAgICAgX3RoaXMxMy50b3RhbEFtb3VudCA9IHRvdGFsQW1vdW50OwogICAgICAgICAgICAgICAgYW1vdW50RHVlID0gX3RoaXMxMy50b3RhbEFtb3VudCAtIF90aGlzMTMuZGVwb3NpdEFtb3VudCAtIHdoZFRheDsKICAgICAgICAgICAgICAgIF90aGlzMTMuYW1vdW50RHVlID0gYW1vdW50RHVlOwogICAgICAgICAgICAgICAgX3RoaXMxMy5zdXBwbGllckRpc2NvdW50SXRlbSA9IF90aGlzMTMucmVtb3ZlRHVwbGljYXRlKGRpc2NvdW50SXRlbSk7CiAgICAgICAgICAgICAgICBfdGhpczEzLnRheExpc3REZXRhaWwgPSB0YXhMaXN0RGV0YWlsOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMy5hdXRvQ2FsY3VsYXRlVGF4RGV0YWlsKCk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIFJvdyBOdW1iZXIgVGVtcGxhdGUKICAgIHJvd051bWJlclRtcGw6IGZ1bmN0aW9uIHJvd051bWJlclRtcGwoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5leHBlbnNlQWNjb3VudERTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIC8vIEdyaWQgQ3VzdG9tIEVkaXRvcgogICAgZXhwZW5zZUFjY291bnRFZGl0b3I6IGZ1bmN0aW9uIGV4cGVuc2VBY2NvdW50RWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICByZXR1cm4gSGVscGVyLmFjY291bnRFZGl0b3IoY29udGFpbmVyLCBvcHRpb25zLCB0aGlzLmV4cGVuc2VBY2NvdW50cyk7CiAgICB9LAogICAgLy8gQWRkIE5ldyBSb3cKICAgIGFkZFJvdzogZnVuY3Rpb24gYWRkUm93KCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmV4cGVuc2VBY2NvdW50RFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGxhc3QgPSBkcy50b3RhbCgpOwogICAgICB2YXIgamUgPSBuZXcgRXhwZW5zZUVudHJ5RXh0ZW5kZWRNb2RlbCgpOwogICAgICBqZS5xdWFudGl0eSA9IDE7CiAgICAgIGplLmRlY2ltYWxGb3JtYXQgPSB0aGlzLmRlY2ltYWxGb3JtYXQ7CiAgICAgIGRzLmluc2VydChsYXN0LCBqZSk7CiAgICB9LAogICAgLy8gQWRkIEV4dHJhIFJvdwogICAgYWRkRXh0cmFSb3c6IGZ1bmN0aW9uIGFkZEV4dHJhUm93KHVpZCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmV4cGVuc2VBY2NvdW50RFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHRvdGFsID0gZHMudG90YWwoKSwKICAgICAgICAgIHJvdyA9IGRzLmdldEJ5VWlkKHVpZCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2Yocm93KTsKCiAgICAgIGlmIChpbmRleCA9PT0gdG90YWwgLSAxKSB7CiAgICAgICAgdGhpcy5hZGRSb3coKTsKICAgICAgfQogICAgfSwKICAgIC8vIFJlbW92ZSBSb3cKICAgIHJlbW92ZVJvdzogZnVuY3Rpb24gcmVtb3ZlUm93KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgZ3JpZCA9IHRoaXMuJHJlZnMuZXhwZW5zZUdyaWQua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGRzID0gZ3JpZC5kYXRhU291cmNlLAogICAgICAgICAgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKGtlbmRvLmpRdWVyeShlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwoKICAgICAgaWYgKGRzLmRhdGEoKS5sZW5ndGggPiAxKSB7CiAgICAgICAgZHMucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGUoKTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZUVtcHR5Um93OiBmdW5jdGlvbiByZW1vdmVFbXB0eVJvdygpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5leHBlbnNlQWNjb3VudERTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIC8qIENvbGxlY3QgZW1wdHkgcm93IGJ5IHVpZCAqLwoKICAgICAgdmFyIGVtcHR5SWRzID0gW107CiAgICAgIGRzLmRhdGEoKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIGlmICh2YWx1ZS5hY2NvdW50Lm5hbWUgPT09ICcnKSB7CiAgICAgICAgICBlbXB0eUlkcy5wdXNoKHZhbHVlLnVpZCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgLyogUmVtb3ZlIGVtcHR5IHJvdyBieSB1aWQgKi8KCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW1wdHlJZHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgZGF0YUl0ZW0gPSBkcy5nZXRCeVVpZChlbXB0eUlkc1tpXSk7CiAgICAgICAgZHMucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgfQogICAgfSwKICAgIC8vIFNocmluayBEYXRhCiAgICBzaHJpbmtEYXRhOiBmdW5jdGlvbiBzaHJpbmtEYXRhKCkgewogICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICAvLyBEYXRlCiAgICAgIHRoaXMuZXhwZW5zZS5leHBlbnNlX2RhdGUgPSBIZWxwZXIudG9JU09EYXRlKHRoaXMuZXhwZW5zZS5leHBlbnNlX2RhdGUpOwogICAgICB0aGlzLmV4cGVuc2UuYmlsbF9kYXRlID0gSGVscGVyLnRvSVNPRGF0ZSh0aGlzLmV4cGVuc2UuYmlsbF9kYXRlKTsKICAgICAgdGhpcy5leHBlbnNlLmR1ZV9kYXRlID0gSGVscGVyLnRvSVNPRGF0ZSh0aGlzLmV4cGVuc2UuZHVlX2RhdGUpOwogICAgICB0aGlzLmV4cGVuc2UucGF5bWVudF90ZXJtID0gdGhpcy5wYXltZW50VGVybS5pZDsgLy8gQ3VycmVuY3kKCiAgICAgIHRoaXMuZXhwZW5zZS5iaWxsX2N1cnJlbmN5ID0gdGhpcy5jdXJyZW5jeTsgLy8gU3VwcGxpZXIKCiAgICAgIHRoaXMuZXhwZW5zZS5zdXBwbGllciA9IG5ldyBDb250YWN0TW9kZWwodGhpcy5zdXBwbGllcik7IC8vIEVtcGxveWVlCgogICAgICB0aGlzLmV4cGVuc2UuZW1wbG95ZWUgPSBuZXcgQ29udGFjdE1vZGVsKHRoaXMuZW1wbG95ZWUpOyAvLyBTaWRlYmFyCgogICAgICB0aGlzLmV4cGVuc2UubG9jYXRpb25fdXVpZCA9IHRoaXMubG9jYXRpb24uaWQ7CiAgICAgIHRoaXMuZXhwZW5zZS5zZWdtZW50X3V1aWQgPSB0aGlzLnNlZ21lbnQuaWQ7CiAgICAgIHRoaXMuZXhwZW5zZS5wcm9qZWN0X3V1aWQgPSB0aGlzLnByb2plY3QuaWQ7CiAgICAgIC8qIFN0YXR1cyAqLwoKICAgICAgaWYgKHRoaXMuZXhwZW5zZS51c2VfZm9yX29wdGlvbiA9PT0gMykgewogICAgICAgIC8qIENhc2ggKi8KICAgICAgICB0aGlzLmV4cGVuc2UuaXNfY2xlYXJlZCA9IDE7CiAgICAgICAgLyogUGFpZCAqLwogICAgICB9IC8vIFVzZXIKCgogICAgICBpZiAodGhpcy5pc0VkaXQpIHsKICAgICAgICB0aGlzLmV4cGVuc2UubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5leHBlbnNlLmNyZWF0ZWRfYnkgPSB0aGlzLnVzZXI7CiAgICAgIH0KICAgICAgLyogUmVtb3ZlIEVtcHR5IFJvd3MgKi8KCgogICAgICB0aGlzLnJlbW92ZUVtcHR5Um93KCk7CiAgICAgIC8qIEV4cGVuc2UgRW50cmllcyAqLwoKICAgICAgdmFyIGVudHJpZXMgPSBbXSwKICAgICAgICAgIGV4cERTID0gdGhpcy4kcmVmcy5leHBlbnNlQWNjb3VudERTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIC8qIEV4cGVuc2UgQWNjb3VudCBvbiBEciAqLwoKICAgICAgZXhwRFMuZGF0YSgpLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdmFyIGVudHJ5ID0gbmV3IEV4cGVuc2VFbnRyeU1vZGVsKHZhbHVlKTsgLy8gQWNjb3VudAoKICAgICAgICBlbnRyeS5hY2NvdW50ID0gbmV3IEFjY291bnRNb2RlbCh2YWx1ZS5hY2NvdW50KTsgLy8gQ29udGFjdAoKICAgICAgICBlbnRyeS5wcmltYXJ5X2NvbnRhY3QgPSBuZXcgQ29udGFjdE1vZGVsKF90aGlzMTQuc3VwcGxpZXIpOwogICAgICAgIGVudHJ5LnNlY29uZGFyeV9jb250YWN0cyA9IFtuZXcgQ29udGFjdE1vZGVsKF90aGlzMTQuZW1wbG95ZWUpXTsKICAgICAgICAvKiBEaXNjb3VudCAqLwoKICAgICAgICBlbnRyeS5kaXNjb3VudCA9IG5ldyBEaXNjb3VudEl0ZW1Nb2RlbCh2YWx1ZS5kaXNjb3VudCk7CiAgICAgICAgLyogVGF4ICovCgogICAgICAgIGVudHJ5LnRheF9pdGVtID0gbmV3IFRheE1vZGVsKHZhbHVlLnRheF9pdGVtKTsgLy8gQ3VycmVuY3kKCiAgICAgICAgZW50cnkuY3VycmVuY3kgPSBuZXcgQ3VycmVuY3lNb2RlbChfdGhpczE0LmN1cnJlbmN5KTsKICAgICAgICBlbnRyeS5leGNoYW5nZV9yYXRlX3V1aWQgPSBfdGhpczE0LmV4Y2hhbmdlUmF0ZS5pZDsKICAgICAgICBlbnRyeS5leGNoYW5nZV9yYXRlID0gX3RoaXMxNC5leGNoYW5nZVJhdGUucmF0ZTsKICAgICAgICBlbnRyeS5leGNoYW5nZWRfYW1vdW50ID0gdmFsdWUuYW1vdW50ICogX3RoaXMxNC5leGNoYW5nZVJhdGUucmF0ZTsKICAgICAgICBlbnRyeS5leGNoYW5nZWRfdGF4X2Ftb3VudCA9IHZhbHVlLnRheF9hbW91bnQgKiBfdGhpczE0LmV4Y2hhbmdlUmF0ZS5yYXRlOyAvLyBEaXNjb3VudCBvbiBDcgoKICAgICAgICB2YXIgZGlzY291bnRBbW91bnQgPSAwOwogICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnZGlzY291bnQnKSkgaWYgKHZhbHVlLmRpc2NvdW50Lmhhc093blByb3BlcnR5KCdpZCcpKSBpZiAodmFsdWUuZGlzY291bnQuaWQgIT09ICIiKSB7CiAgICAgICAgICB2YXIgc3ViVG8gPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnByaWNlKSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucXVhbnRpdHkpOwogICAgICAgICAgZGlzY291bnRBbW91bnQgPSBfdGhpczE0LmNhbGN1bGF0ZURpc2NvdW50KHZhbHVlLmRpc2NvdW50LCBzdWJUbyk7CiAgICAgICAgICAvKiBEaXNjb3VudCBFbnRyeSAqLwoKICAgICAgICAgIHZhciBkaXNjb3VudEVudHJ5ID0gbmV3IEV4cGVuc2VFbnRyeU1vZGVsKGVudHJ5KTsKICAgICAgICAgIGRpc2NvdW50RW50cnkuYWNjb3VudCA9IG5ldyBBY2NvdW50TW9kZWwodmFsdWUuZGlzY291bnQuYWNjb3VudCk7CiAgICAgICAgICBkaXNjb3VudEVudHJ5LmFjY291bnRfdXVpZCA9IHZhbHVlLmRpc2NvdW50LmFjY291bnQudXVpZDsKICAgICAgICAgIGRpc2NvdW50RW50cnkuYW1vdW50ID0gZGlzY291bnRBbW91bnQgKiAtMTsgLy8gQ3Igc2lkZSBpcyBuZWdhdGl2ZQoKICAgICAgICAgIGRpc2NvdW50RW50cnkuZXhjaGFuZ2VkX2Ftb3VudCA9IGRpc2NvdW50QW1vdW50ICogX3RoaXMxNC5leGNoYW5nZVJhdGUucmF0ZTsKICAgICAgICAgIGRpc2NvdW50RW50cnkudGF4X2Ftb3VudCA9IDA7CiAgICAgICAgICBkaXNjb3VudEVudHJ5LmV4Y2hhbmdlZF90YXhfYW1vdW50ID0gMDsKICAgICAgICAgIC8qIFB1c2ggRGlzY291bnQgRW50cnkgKi8KCiAgICAgICAgICBlbnRyaWVzLnB1c2goZGlzY291bnRFbnRyeSk7CiAgICAgICAgfSAvLyBUYXhlcyBvbiBEcgoKICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoJ3RheF9pdGVtJykpIGlmICh2YWx1ZS50YXhfaXRlbS5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkgaWYgKHZhbHVlLnRheF9pdGVtLmlkICE9PSAiIikgewogICAgICAgICAgdmFyIGFtdEFmdGVyRGlzY291bnQgPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCkgLSBkaXNjb3VudEFtb3VudDsKCiAgICAgICAgICB2YXIgdGF4QW1vdW50ID0gX3RoaXMxNC5hdXRvQ2FsY3VsYXRlVGF4KHZhbHVlLnRheF9pdGVtLCBhbXRBZnRlckRpc2NvdW50KTsKCiAgICAgICAgICBpZiAodmFsdWUudGF4X2l0ZW0uaGFzT3duUHJvcGVydHkoJ3RheFR5cGUnKSkgaWYgKHZhbHVlLnRheF9pdGVtLnRheFR5cGUuaGFzT3duUHJvcGVydHkoJ3R5cGVJZCcpKSBpZiAodmFsdWUudGF4X2l0ZW0udGF4VHlwZS50eXBlSWQgPT09IDIpIHsKICAgICAgICAgICAgLyogV0hEIFRheCBvbiBDciBzaWRlICovCiAgICAgICAgICAgIGlmICh2YWx1ZS50YXhfaXRlbS5iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCkgPT09ICJuZXQiKSB7CiAgICAgICAgICAgICAgLyogV0hEIFRheCBOZXQgb24gRHIgc2lkZSAqLwogICAgICAgICAgICAgIC8vIEFkZCBBbm90aGVyIFRheCBSZWxhdGVkIEV4cGVuc2UgQWNjb3VudAogICAgICAgICAgICAgIHZhciB0YXhSZWxhdGVkRXhwZW5zZUFjY291bnQgPSBuZXcgQWNjb3VudE1vZGVsKF90aGlzMTQuYWNjb3VudHMuZmluZChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGkuYmFuaGppQWNjQ29kZSA9PT0gQWNjb3VudFR5cGVDb2RlLlRBWF9SRUxBVEVEX0VYUEVOU0VfQ09ERTsKICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgLyogVGF4IFJlbGF0ZWQgRXhwZW5zZSBFbnRyeSBvbiBEciAqLwoKICAgICAgICAgICAgICB2YXIgdGF4UmVsYXRlZEV4cGVuc2VFbnRyeSA9IG5ldyBFeHBlbnNlRW50cnlNb2RlbChlbnRyeSk7CiAgICAgICAgICAgICAgdGF4UmVsYXRlZEV4cGVuc2VFbnRyeS5hY2NvdW50ID0gdGF4UmVsYXRlZEV4cGVuc2VBY2NvdW50OwogICAgICAgICAgICAgIHRheFJlbGF0ZWRFeHBlbnNlRW50cnkuYWNjb3VudF91dWlkID0gdGF4UmVsYXRlZEV4cGVuc2VBY2NvdW50LnV1aWQ7CiAgICAgICAgICAgICAgdGF4UmVsYXRlZEV4cGVuc2VFbnRyeS5kZXNjcmlwdGlvbiA9IGkxOG4udCgid2l0aG9sZGluZ190YXhfZXhwZW5zZSIpOwogICAgICAgICAgICAgIHRheFJlbGF0ZWRFeHBlbnNlRW50cnkuYW1vdW50ID0gdGF4QW1vdW50OwogICAgICAgICAgICAgIHRheFJlbGF0ZWRFeHBlbnNlRW50cnkuZXhjaGFuZ2VkX2Ftb3VudCA9IHRheEFtb3VudCAqIF90aGlzMTQuZXhjaGFuZ2VSYXRlLnJhdGU7CiAgICAgICAgICAgICAgdGF4UmVsYXRlZEV4cGVuc2VFbnRyeS50YXhfYW1vdW50ID0gMDsKICAgICAgICAgICAgICB0YXhSZWxhdGVkRXhwZW5zZUVudHJ5LmV4Y2hhbmdlZF90YXhfYW1vdW50ID0gMDsKICAgICAgICAgICAgICAvKiBQdXNoIFRheCBSZWxhdGVkIEV4cGVuc2UgRW50cnkgKi8KCiAgICAgICAgICAgICAgZW50cmllcy5wdXNoKHRheFJlbGF0ZWRFeHBlbnNlRW50cnkpOwogICAgICAgICAgICB9IC8vIFdIRCBUYXgKCgogICAgICAgICAgICB0YXhBbW91bnQgKj0gLTE7IC8vIENyIHNpZGUKICAgICAgICAgIH0KICAgICAgICAgIC8qIFRheCBFbnRyeSAqLwoKICAgICAgICAgIHZhciB0YXhFbnRyeSA9IG5ldyBFeHBlbnNlRW50cnlNb2RlbChlbnRyeSk7CiAgICAgICAgICB0YXhFbnRyeS5hY2NvdW50ID0gbmV3IEFjY291bnRNb2RlbCh2YWx1ZS50YXhfaXRlbS5hY2NvdW50KTsKICAgICAgICAgIHRheEVudHJ5LmFjY291bnRfdXVpZCA9IHZhbHVlLnRheF9pdGVtLmFjY291bnQudXVpZDsKICAgICAgICAgIHRheEVudHJ5LmFtb3VudCA9IHRheEFtb3VudDsKICAgICAgICAgIHRheEVudHJ5LmV4Y2hhbmdlZF9hbW91bnQgPSB0YXhBbW91bnQgKiBfdGhpczE0LmV4Y2hhbmdlUmF0ZS5yYXRlOwogICAgICAgICAgdGF4RW50cnkudGF4X2Ftb3VudCA9IDA7CiAgICAgICAgICB0YXhFbnRyeS5leGNoYW5nZWRfdGF4X2Ftb3VudCA9IDA7CiAgICAgICAgICAvKiBQdXNoIFRheCBFbnRyeSAqLwoKICAgICAgICAgIGVudHJpZXMucHVzaCh0YXhFbnRyeSk7CiAgICAgICAgfQogICAgICAgIC8qIFB1c2ggRW50cnkgKi8KCiAgICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTsKICAgICAgfSk7IC8vIERlcG9zaXQgQWNjb3VudCBvbiBDcgoKICAgICAgaWYgKHRoaXMuZGVwb3NpdEFtb3VudCA+IDApIHsKICAgICAgICBlbnRyaWVzLnB1c2gobmV3IEV4cGVuc2VFbnRyeU1vZGVsKHsKICAgICAgICAgIGFjY291bnQ6IG5ldyBBY2NvdW50TW9kZWwodGhpcy5zdXBwbGllci5hY2NvdW50VGF4LnB1cmNoYXNlRGVwb3NpdEFjYyksCiAgICAgICAgICBhY2NvdW50X3V1aWQ6IHRoaXMuc3VwcGxpZXIuYWNjb3VudFRheC5wdXJjaGFzZURlcG9zaXRBY2MudXVpZCwKICAgICAgICAgIHByaW1hcnlfY29udGFjdDogbmV3IENvbnRhY3RNb2RlbCh0aGlzLnN1cHBsaWVyKSwKICAgICAgICAgIHNlY29uZGFyeV9jb250YWN0czogW25ldyBDb250YWN0TW9kZWwodGhpcy5lbXBsb3llZSldLAogICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZXhwZW5zZS5qb3VybmFsX25vdGUsCiAgICAgICAgICBjdXJyZW5jeTogbmV3IEN1cnJlbmN5TW9kZWwodGhpcy5jdXJyZW5jeSksCiAgICAgICAgICBhbW91bnQ6IHRoaXMuZGVwb3NpdEFtb3VudCAqIC0xLAogICAgICAgICAgLy8gQ3Igc2lkZSBpcyBuZWdhdGl2ZQogICAgICAgICAgZXhjaGFuZ2VfcmF0ZV91dWlkOiB0aGlzLmV4Y2hhbmdlUmF0ZS5pZCwKICAgICAgICAgIGV4Y2hhbmdlX3JhdGU6IHRoaXMuZXhjaGFuZ2VSYXRlLnJhdGUKICAgICAgICB9KSk7CiAgICAgIH0gLy8gVHJhbnNhY3Rpb24gQWNjb3VudCBvbiBDcgoKCiAgICAgIGVudHJpZXMucHVzaChuZXcgRXhwZW5zZUVudHJ5TW9kZWwoewogICAgICAgIGFjY291bnQ6IG5ldyBBY2NvdW50TW9kZWwodGhpcy5leHBlbnNlLnRyYW5zYWN0aW9uX2FjY291bnQpLAogICAgICAgIGFjY291bnRfdXVpZDogdGhpcy5leHBlbnNlLnRyYW5zYWN0aW9uX2FjY291bnQudXVpZCwKICAgICAgICBzZWNvbmRhcnlfYWNjX3V1aWQ6IHRoaXMuc2Vjb25kYXJ5QWNjb3VudC51dWlkLAogICAgICAgIHByaW1hcnlfY29udGFjdDogbmV3IENvbnRhY3RNb2RlbCh0aGlzLnN1cHBsaWVyKSwKICAgICAgICBzZWNvbmRhcnlfY29udGFjdHM6IFtuZXcgQ29udGFjdE1vZGVsKHRoaXMuZW1wbG95ZWUpXSwKICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5leHBlbnNlLmpvdXJuYWxfbm90ZSwKICAgICAgICBjdXJyZW5jeTogbmV3IEN1cnJlbmN5TW9kZWwodGhpcy5jdXJyZW5jeSksCiAgICAgICAgYW1vdW50OiB0aGlzLmFtb3VudER1ZSAqIC0xLAogICAgICAgIC8vIENyIHNpZGUgaXMgbmVnYXRpdmUKICAgICAgICBleGNoYW5nZV9yYXRlX3V1aWQ6IHRoaXMuZXhjaGFuZ2VSYXRlLmlkLAogICAgICAgIGV4Y2hhbmdlX3JhdGU6IHRoaXMuZXhjaGFuZ2VSYXRlLnJhdGUKICAgICAgfSkpOyAvLyBVc2UgZXhpc3RpbmcgdXVpZAoKICAgICAgaWYgKHRoaXMuaXNFZGl0KSB7CiAgICAgICAgLyogQ2xlYXIgdXVpZCAqLwogICAgICAgIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgIHZhbHVlLnV1aWQgPSAiIjsKICAgICAgICB9KTsKICAgICAgICAvKiBBcHBseSBleGlzdGluZyB1dWlkICovCgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5qb3VybmFsLmpvdXJuYWxfZW50cmllcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKGkgPCBlbnRyaWVzLmxlbmd0aCkgewogICAgICAgICAgICB2YXIgb2xkRW50cnkgPSB0aGlzLmpvdXJuYWwuam91cm5hbF9lbnRyaWVzW2ldOwogICAgICAgICAgICBlbnRyaWVzW2ldLnV1aWQgPSBvbGRFbnRyeS51dWlkOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICAvKiBCaW5kIEV4cGVuc2UgRW50cmllcyAqLwoKCiAgICAgIHRoaXMuZXhwZW5zZS5leHBlbnNlX2VudHJpZXMgPSBlbnRyaWVzOyAvLyBtYXBwaW5nIHRvIER5bmFtb2RiICggZXhwZW5zZSByZWNvcmQgKSAtPiBzYXZlIGV2ZXJ5d2hlcmUgbW9ybmcgXl9eCgogICAgICB0aGlzLm1hcHBpbmdFeHBlbnNlKHRoaXMuZXhwZW5zZSk7CiAgICB9LAogICAgLy8gQWRkIEpvdXJuYWwKICAgIGFkZEpvdXJuYWw6IGZ1bmN0aW9uIGFkZEpvdXJuYWwoKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHZhciBlbnRyaWVzID0gW107CiAgICAgIC8qIEFkZCBKb3VybmFsIEVudHJpZXMgKi8KCiAgICAgIHRoaXMuZXhwZW5zZS5leHBlbnNlX2VudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICB2YXIgZW50cnkgPSBuZXcgSm91cm5hbEVudHJ5TW9kZWwodmFsdWUpOwogICAgICAgIC8qIEFwcGx5IEluY2x1c2l2ZSBUYXggdG8gYW1vdW50ICovCgogICAgICAgIGlmICh2YWx1ZS50YXhfYW1vdW50ICE9PSAwKSB7CiAgICAgICAgICBpZiAodmFsdWUudGF4X2l0ZW0uaGFzT3duUHJvcGVydHkoInRheFR5cGUiKSkgewogICAgICAgICAgICBpZiAodmFsdWUudGF4X2l0ZW0udGF4VHlwZS5oYXNPd25Qcm9wZXJ0eSgidHlwZUlkIikpIHsKICAgICAgICAgICAgICBpZiAodmFsdWUudGF4X2l0ZW0udGF4VHlwZS50eXBlSWQgPT09IDEgJiYgdmFsdWUudGF4X2l0ZW0uYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSBUYXhUeXBlLklOQ0xVU0lWRSkgewogICAgICAgICAgICAgICAgZW50cnkuYW1vdW50ID0gdmFsdWUuYW1vdW50ICsgdmFsdWUudGF4X2Ftb3VudDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGVudHJ5LmV4Y2hhbmdlZF9hbW91bnQgPSBlbnRyeS5hbW91bnQgKiBfdGhpczE1LmV4Y2hhbmdlUmF0ZS5yYXRlOyAvLyBBZGQgRW50cnkKCiAgICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTsKICAgICAgfSk7IC8vIEpvdXJuYWwgRW50cmllcwoKICAgICAgdGhpcy5qb3VybmFsRW50cmllcyA9IGVudHJpZXM7IC8vIEpvdXJuYWwKCiAgICAgIHRoaXMuam91cm5hbC5udW1iZXIgPSB0aGlzLmV4cGVuc2UubnVtYmVyOwogICAgICB0aGlzLmpvdXJuYWwuZGVzY3JpcHRpb24gPSB0aGlzLmV4cGVuc2Uuam91cm5hbF9ub3RlOwogICAgICB0aGlzLmpvdXJuYWwuam91cm5hbF9kYXRlID0gSGVscGVyLnRvSVNPRGF0ZSh0aGlzLmV4cGVuc2UuZXhwZW5zZV9kYXRlKTsKICAgICAgdGhpcy5qb3VybmFsLmpvdXJuYWxfdHlwZSA9IEVudGl0eVR5cGUuQVVUT19KT1VSTkFMOwogICAgICB0aGlzLmpvdXJuYWwudHJhbnNhY3Rpb25fdHlwZSA9IEVudGl0eVR5cGUuRVhQRU5TRVM7CiAgICAgIHRoaXMuam91cm5hbC5yZWxhdGVkX3RyYW5zYWN0aW9uX3V1aWQgPSB0aGlzLmV4cGVuc2UudXNlX2Zvcl90cmFuc2FjdGlvbl91dWlkOwogICAgICB0aGlzLmpvdXJuYWwubW9udGhfb2YgPSB0aGlzLmV4cGVuc2UubW9udGhfb2Y7CiAgICAgIHRoaXMuam91cm5hbC5sb2NhdGlvbl91dWlkID0gdGhpcy5leHBlbnNlLmxvY2F0aW9uX3V1aWQ7CiAgICAgIHRoaXMuam91cm5hbC5wcm9qZWN0X3V1aWQgPSB0aGlzLmV4cGVuc2UucHJvamVjdF91dWlkOwogICAgICB0aGlzLmpvdXJuYWwuc2VnbWVudF91dWlkID0gdGhpcy5leHBlbnNlLnNlZ21lbnRfdXVpZDsKICAgICAgdGhpcy5qb3VybmFsLnByZWZpeF9mb3JtYXQgPSB0aGlzLmV4cGVuc2UucHJlZml4X2Zvcm1hdDsKICAgICAgdGhpcy5qb3VybmFsLmlzX2RyYWZ0ID0gdGhpcy5leHBlbnNlLmlzX2RyYWZ0OwogICAgICB0aGlzLmpvdXJuYWwuY3JlYXRlZF9kYXRlID0gdGhpcy5leHBlbnNlLmNyZWF0ZWRfZGF0ZTsKICAgICAgdGhpcy5qb3VybmFsLmNyZWF0ZWRfYnkgPSB0aGlzLmV4cGVuc2UuY3JlYXRlZF9ieTsKICAgICAgdGhpcy5qb3VybmFsLm1vZGlmaWVkX2J5ID0gdGhpcy5leHBlbnNlLm1vZGlmaWVkX2J5OwogICAgfSwKICAgIC8vIFZhbGlkYXRpbmcKICAgIHZhbGlkYXRlRm9ybTogZnVuY3Rpb24gdmFsaWRhdGVGb3JtKCkgewogICAgICB2YXIgcmVzdWx0ID0gdHJ1ZSwKICAgICAgICAgIGV4cERTID0gdGhpcy4kcmVmcy5leHBlbnNlQWNjb3VudERTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBtc2cgPSAiIiwKICAgICAgICAgIHNlY29uZGFyeUFjY291bnRDb3VudCA9IDAsCiAgICAgICAgICBleHBlbnNlQ291bnQgPSAwOyAvLyBTdXBwbGllcgoKICAgICAgaWYgKHRoaXMuc3VwcGxpZXIuaWQgPT09ICIiKSB7CiAgICAgICAgbXNnICs9ICI8cD4iLmNvbmNhdChpMThuLnQoInN1cHBsaWVyX2lzX3JlcXVpcmVkIiksICI8L3A+Iik7CiAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgIH0gLy8gQmlsbCBOdW1iZXIKCgogICAgICBpZiAodGhpcy5leHBlbnNlLmJpbGxfbnVtYmVyID09PSAiIikgewogICAgICAgIG1zZyArPSAiPHA+Ii5jb25jYXQoaTE4bi50KCJiaWxsX251bWJlcl9pc19yZXF1aXJlZCIpLCAiPC9wPiIpOwogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICB9IC8vIFBheW1lbnQgVGVybQoKCiAgICAgIGlmICh0aGlzLnBheW1lbnRUZXJtLmhhc093blByb3BlcnR5KCJpZCIpKSBpZiAodGhpcy5wYXltZW50VGVybS5pZCA9PT0gIiIpIHsKICAgICAgICBtc2cgKz0gIjxwPiIuY29uY2F0KGkxOG4udCgicGF5bWVudF90ZXJtX2lzX3JlcXVpcmVkIiksICI8L3A+Iik7CiAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgIH0gLy8gRW1wbG95ZWUKCiAgICAgIHZhciBlbXBsb3llZU9wdGlvbnMgPSBbMSwgMl07CgogICAgICBpZiAodGhpcy5lbXBsb3llZS5pZCA9PT0gIiIgJiYgfmVtcGxveWVlT3B0aW9ucy5pbmRleE9mKHRoaXMuZXhwZW5zZS51c2VfZm9yX29wdGlvbikpIHsKICAgICAgICBtc2cgKz0gIjxwPiIuY29uY2F0KGkxOG4udCgiZW1wbG95ZWVfaXNfcmVxdWlyZWQiKSwgIjwvcD4iKTsKICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgfSAvLyBFeHBlbnNlCgoKICAgICAgZXhwRFMuZGF0YSgpLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgewogICAgICAgIC8vIE5vIGFjY291bnQKICAgICAgICBpZiAodmFsdWUuYWNjb3VudC51dWlkID09PSAiIiAmJiB2YWx1ZS5hbW91bnQgPiAwKSB7CiAgICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgICAgIG1zZyArPSAiPHA+Ii5jb25jYXQoaTE4bi50KCJwbGVhc2Vfc2VsZWN0X2V4cGVuc2VfYWNjb3VudF9hdF9yb3dfbnVtYmVyIiksICIgIikuY29uY2F0KGluZGV4ICsgMSwgIjwvcD4iKTsKICAgICAgICB9IC8vIE5vIGFtb3VudAoKCiAgICAgICAgaWYgKHZhbHVlLmFjY291bnQudXVpZCAhPT0gIiIgJiYgdmFsdWUuYW1vdW50ID09PSAwKSB7CiAgICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgICAgIG1zZyArPSAiPHA+Ii5jb25jYXQodmFsdWUuYWNjb3VudC5uYW1lLCAiICIpLmNvbmNhdChpMThuLnQoImhhc19ub19hbW91bnQiKSwgIjwvcD4iKTsKICAgICAgICB9IC8vIC8vIERpc2NvdW50CiAgICAgICAgLy8gaWYodmFsdWUuaGFzT3duUHJvcGVydHkoJ2Rpc2NvdW50JykpCiAgICAgICAgLy8gaWYodmFsdWUuZGlzY291bnQuaGFzT3duUHJvcGVydHkoJ2FjY291bnQnKSkKICAgICAgICAvLyBpZiAodmFsdWUuZGlzY291bnQuYWNjb3VudC51dWlkID09PSAiIiB8fCB2YWx1ZS5kaXNjb3VudC5hY2NvdW50LmFjY291bnRfdHlwZS5udW1iZXIgPT09IDApIHsKICAgICAgICAvLyAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgICAgLy8gICAgIG1zZyArPSBgPHA+JHtpMThuLnQoImludmFsaWRfZGlzY291bnRfYWNjb3VudF9hdF9yb3dfbnVtYmVyIil9ICR7aW5kZXggKyAxfTwvcD5gOwogICAgICAgIC8vIH0KICAgICAgICAvLyAvLyBUYXgKICAgICAgICAvLyBpZih2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgndGF4X2l0ZW0nKSkKICAgICAgICAvLyBpZih2YWx1ZS50YXhfaXRlbS5oYXNPd25Qcm9wZXJ0eSgnYWNjb3VudCcpKQogICAgICAgIC8vIGlmICh2YWx1ZS50YXhfaXRlbS5hY2NvdW50LnV1aWQgPT09ICIiIHx8IHZhbHVlLnRheF9pdGVtLmFjY291bnQuYWNjb3VudF90eXBlLm51bWJlciA9PT0gMCkgewogICAgICAgIC8vICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgICAvLyAgICAgbXNnICs9IGA8cD4ke2kxOG4udCgiaW52YWxpZF90YXhfYWNjb3VudF9hdF9yb3dfbnVtYmVyIil9ICR7aW5kZXggKyAxfTwvcD5gOwogICAgICAgIC8vIH0KICAgICAgICAvLyBDb3VudCBFbXB0eSBSb3cKCgogICAgICAgIGlmICh2YWx1ZS5hY2NvdW50LnV1aWQgIT09ICIiICYmIHZhbHVlLmFtb3VudCA+IDApIHsKICAgICAgICAgIGV4cGVuc2VDb3VudCsrOwogICAgICAgIH0gLy8gQ291bnQgc2Vjb25kYXJ5IGFjY291bnQKCgogICAgICAgIGlmICh2YWx1ZS5zZWNvbmRhcnlfYWNjb3VudC51dWlkICE9PSAiIikgewogICAgICAgICAgc2Vjb25kYXJ5QWNjb3VudENvdW50Kys7CiAgICAgICAgfQogICAgICB9KTsgLy8gRW1wdHkgUm93CgogICAgICBpZiAoZXhwZW5zZUNvdW50ID09PSAwKSB7CiAgICAgICAgbXNnICs9ICI8cD4iLmNvbmNhdChpMThuLnQoInBsZWFzZV9zZWxlY3RfZXhwZW5zZV9hY2NvdW50IiksICI8L3A+Iik7CiAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgIH0gLy8gVHJhbnNhY3Rpb24gQWNjb3VudAoKCiAgICAgIGlmICh0aGlzLmV4cGVuc2UudHJhbnNhY3Rpb25fYWNjb3VudC51dWlkID09PSAiIikgewogICAgICAgIG1zZyArPSAiPHA+Ii5jb25jYXQoaTE4bi50KCJwbGVhc2Vfc2VsZWN0X3RyYW5zYWN0aW9uX2FjY291bnQiKSwgIjwvcD4iKTsKICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgfSAvLyBTZWNvbmRhcnkgQWNjb3VudAoKCiAgICAgIGlmICh0aGlzLnNlY29uZGFyeUFjY291bnQudXVpZCA9PT0gIiIgJiYgc2Vjb25kYXJ5QWNjb3VudENvdW50ID4gMCkgewogICAgICAgIG1zZyArPSAiPHA+Ii5jb25jYXQoaTE4bi50KCJ0cmFuc2FjdGlvbl9zZWNvbmRhcnlfYWNjb3VudF9pc19yZXF1aXJlZCIpLCAiPC9wPiIpOwogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICB9CgogICAgICBpZiAodGhpcy5zZWNvbmRhcnlBY2NvdW50LnV1aWQgIT09ICIiICYmIHNlY29uZGFyeUFjY291bnRDb3VudCA9PT0gMCkgewogICAgICAgIG1zZyArPSAiPHA+Ii5jb25jYXQoaTE4bi50KCJleHBlbnNlX3NlY29uZGFyeV9hY2NvdW50X2lzX3JlcXVpcmVkIiksICI8L3A+Iik7CiAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgIH0gLy8gVXNlIGZvciBDYXNoIEFkdmFuY2UKCgogICAgICBpZiAodGhpcy5leHBlbnNlLnVzZV9mb3Jfb3B0aW9uID09PSAyICYmIHRoaXMuZXhwZW5zZS51c2VfZm9yX3RyYW5zYWN0aW9uX3V1aWQgPT09ICIiKSB7CiAgICAgICAgbXNnICs9ICI8cD4iLmNvbmNhdChpMThuLnQoInBsZWFzZV9zZWxlY3RfcmVsYXRlZF9jYXNoX2FkdmFuY2UiKSwgIjwvcD4iKTsKICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgfQogICAgICAvKiBMb2NhdGlvbiAqLwoKCiAgICAgIGlmICh0aGlzLmxvY2F0aW9uLmlkID09PSAiIikgewogICAgICAgIG1zZyArPSAiPHA+Ii5jb25jYXQoaTE4bi50KCJsb2NhdGlvbl9pc19yZXF1aXJlZCIpLCAiPC9wPiIpOwogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICB9CiAgICAgIC8qIFNlZ21lbnQgKi8KCgogICAgICBpZiAodGhpcy5zZWdtZW50LmlkID09PSAiIikgewogICAgICAgIG1zZyArPSAiPHA+Ii5jb25jYXQoaTE4bi50KCJzZWdtZW50X2lzX3JlcXVpcmVkIiksICI8L3A+Iik7CiAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgIH0gLy8gU2hvdyBBbGVydAoKCiAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gbXNnOwogICAgICB0aGlzLmFsZXJ0ID0gcmVzdWx0ID09PSBmYWxzZTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICAvLyBBbGwgU2F2ZXMKICAgIG9uU2F2ZU9wdGlvbkNsaWNrOiBmdW5jdGlvbiBvblNhdmVPcHRpb25DbGljayhtb2RlKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICB2YXIgaXNWYWxpZENsb3NpbmdEYXRlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxNi4kcmVmcy5mb3JtLnZhbGlkYXRlKCkgJiYgX3RoaXMxNi52YWxpZGF0ZUZvcm0oKSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBIZWxwZXIudmFsaWRhdGVDbG9zaW5nRGF0ZShfdGhpczE2LmV4cGVuc2UuZXhwZW5zZV9kYXRlKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaXNWYWxpZENsb3NpbmdEYXRlID0gX2NvbnRleHQxMy5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkQ2xvc2luZ0RhdGUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxNi5zYXZlTW9kZSA9IG1vZGU7CgogICAgICAgICAgICAgICAgICBfdGhpczE2LnNhdmUoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwoKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgdGl0bGU6IGkxOG4udCgibXNnX3RpdGxlX3dhcm5pbmciKSwKICAgICAgICB0ZXh0OiBpMThuLnQoIm1zZ19kaXNjYXJkIiksCiAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCJjYW5jZWwiKSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoImRpc2NhcmQiKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICBfdGhpczE3LmNsZWFyKCk7CgogICAgICAgICAgX3RoaXMxNy4kcm91dGVyLmdvKC0xKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHsKICAgICAgLy8gUmVzZXQgRm9ybQogICAgICB0aGlzLmlzRWRpdCA9IGZhbHNlOwogICAgICB0aGlzLnNhdmVNb2RlID0gIiI7CiAgICAgIHRoaXMuc3ViVG90YWwgPSAwOwogICAgICB0aGlzLmRpc2NvdW50QW1vdW50ID0gMDsKICAgICAgdGhpcy5wdXJjaGFzZVRheCA9IDA7CiAgICAgIHRoaXMud2hkVGF4ID0gMDsKICAgICAgdGhpcy50b3RhbEFtb3VudCA9IDA7CiAgICAgIHRoaXMuc3VwcGxpZXJEZXBvc2l0QW1vdW50ID0gMDsKICAgICAgdGhpcy5kZXBvc2l0QW1vdW50ID0gMDsKICAgICAgdGhpcy5hbW91bnREdWUgPSAwOwogICAgICB0aGlzLmhhc0FkZGl0aW9uYWxDb3N0ID0gZmFsc2U7CiAgICAgIHRoaXMuZXhwZW5zZSA9IG5ldyBFeHBlbnNlTW9kZWwoKTsKICAgICAgdGhpcy5qb3VybmFsID0gbmV3IEpvdXJuYWxNb2RlbCgpOwogICAgICB0aGlzLmpvdXJuYWxFbnRyaWVzID0gW107CiAgICAgIHRoaXMuZW1wbG95ZWUgPSBuZXcgRW1wbG95ZWVNb2RlbCgpOwogICAgICB0aGlzLnN1cHBsaWVyID0gbmV3IFN1cHBsaWVyTW9kZWwoKTsKICAgICAgdGhpcy5wYXltZW50VGVybSA9IG5ldyBQYXltZW50VGVybU1vZGVsKCk7CiAgICAgIHRoaXMuY3VycmVuY3kgPSBuZXcgQ3VycmVuY3lNb2RlbChpbnN0aXR1dGUuYmFzZUN1cnJlbmN5KTsKICAgICAgdGhpcy5leGNoYW5nZVJhdGUgPSBuZXcgRXhjaGFuZ2VSYXRlTW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSk7CiAgICAgIHRoaXMuc2Vjb25kYXJ5QWNjb3VudCA9IG5ldyBBY2NvdW50TW9kZWwoKTsKICAgICAgdGhpcy5sb2NhdGlvbiA9IG5ldyBMb2NhdGlvbk1vZGVsKCk7CiAgICAgIHRoaXMuc2VnbWVudCA9IG5ldyBTZWdtZW50TW9kZWwoKTsKICAgICAgdGhpcy5wcm9qZWN0ID0gbmV3IFByb2plY3RNb2RlbCgpOwogICAgICB2YXIgZXhwRFMgPSB0aGlzLiRyZWZzLmV4cGVuc2VBY2NvdW50RFMua2VuZG9XaWRnZXQoKTsKICAgICAgZXhwRFMuZGF0YShbXSk7CiAgICAgIHRoaXMuc2V0RGVmYXVsdERhdGEoKTsKICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMxOCA9IHRoaXM7CgogICAgICB2YXIgc2VsZiA9IHRoaXM7IC8vIERyYWZ0IE1vZGUKCiAgICAgIGlmICh0aGlzLnNhdmVNb2RlID09PSBTYXZlT3B0aW9uLlNBVkVEUkFGVCkgewogICAgICAgIHRoaXMuZXhwZW5zZS5pc19kcmFmdCA9IDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5leHBlbnNlLmlzX2RyYWZ0ID0gMDsKICAgICAgfSAvLyBTaHJpbmsgRGF0YQoKCiAgICAgIHRoaXMuc2hyaW5rRGF0YSgpOyAvLyBBZGQgSm91cm5hbAoKICAgICAgdGhpcy5hZGRKb3VybmFsKCk7IC8vIFN5bmMgRGF0YQoKICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgIGV4cGVuc2VIYW5kbGVyLnNhdmUoewogICAgICAgIGV4cGVuc2U6IHRoaXMuZXhwZW5zZSwKICAgICAgICBqb3VybmFsOiB0aGlzLmpvdXJuYWwsCiAgICAgICAgam91cm5hbF9lbnRyaWVzOiB0aGlzLmpvdXJuYWxFbnRyaWVzCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLmRhdGEudXVpZCkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzMTguc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5zYXZlVHhuRXhwZW5zZShyZXNwb25zZSk7CgogICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAvLyBhd2FpdCBzZWxmLmF1dG9DYWxjdWxhdGVUYXhEZXRhaWwoKQogICAgICAgICAgICAgICAgICBzZWxmLnNob3dMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICBzZWxmLnNob3dMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICBfdGhpczE4LiRzbm90aWZ5LmVycm9yKGkxOG4udCgiZXJyb3Jfc29tZXRoaW5nX3dyb25nIikpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMTQpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHNlbGYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMxOC4kc25vdGlmeS5lcnJvcihlcnJvcik7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgey8vIHNlbGYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gUmVzcG9uc2UgU3RhdHVzCiAgICByZXNwb25zZVN0YXR1czogZnVuY3Rpb24gcmVzcG9uc2VTdGF0dXMocmVzcG9uc2UpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE5LnNhdmVNb2RlID09PSBTYXZlT3B0aW9uLlNBVkVDTE9TRSB8fCBfdGhpczE5LnNhdmVNb2RlID09PSBTYXZlT3B0aW9uLkRFTEVURSkgewogICAgICAgICAgICAgICAgICAgIC8qIFNhdmUgQ2xvc2Ugb3IgRGVsZXRlICovCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTkuaXNFZGl0KSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE5LmdvQmFja1RvVmlld1BhZ2UoKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS4kcm91dGVyLmdvKC0xKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzMTkuY2xlYXIoKTsKICAgICAgICAgICAgICAgICAgLyogQWxlcnQgU3VjY2VzcyAqLwoKCiAgICAgICAgICAgICAgICAgIF90aGlzMTkuJHNub3RpZnkuc3VjY2VzcyhpMThuLnQoInN1Y2Nlc3NmdWwiKSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAvKiBBbGVydCBFcnJvciAqLwogICAgICAgICAgICAgICAgICBfdGhpczE5LiRzbm90aWZ5LmVycm9yKGkxOG4udCgiZXJyb3Jfc29tZXRoaW5nX3dyb25nIikpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIEdvIGJhY2sgdG8gdmlldyBwYWdlIGFmdGVyIGVkaXQgbW9kZQogICAgZ2V0RXhwZW5zZTogZnVuY3Rpb24gZ2V0RXhwZW5zZSgpIHsKICAgICAgcmV0dXJuIG5ldyBFeHBlbnNlTW9kZWwodGhpcy5leHBlbnNlKTsKICAgIH0sCiAgICBnb0JhY2tUb1ZpZXdQYWdlOiBmdW5jdGlvbiBnb0JhY2tUb1ZpZXdQYWdlKCkgewogICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgbmFtZTogIkV4cGVuc2VzIFZpZXciLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaW5pdEV4cGVuc2U6IHRoaXMuZ2V0RXhwZW5zZSgpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBIaWRlU21hbGxTaWRlQmFyOiBmdW5jdGlvbiBIaWRlU21hbGxTaWRlQmFyKCkgewogICAgICB0aGlzLmlzSGlkZUJhciA9ICF0aGlzLmlzSGlkZUJhcjsKICAgIH0sCiAgICBsb2FkUGF5bWVudFRlcm1MaXN0OiBmdW5jdGlvbiBsb2FkUGF5bWVudFRlcm1MaXN0KCkgewogICAgICB2YXIgX3RoaXMyMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyMC5zdXBwbGllcikgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9ICI/aWQ9IiArIF90aGlzMjAuc3VwcGxpZXIuaWQgKyAiJnRyYW5zYWN0aW9uRGF0ZT0iICsgX3RoaXMyMC5leHBlbnNlLmV4cGVuc2VfZGF0ZSArICImdHlwZT1WZW5kb3IiOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMC5wYXltZW50VGVybSA9IG5ldyBQYXltZW50VGVybU1vZGVsKCk7CiAgICAgICAgICAgICAgICAgICAgICBwYXltZW50VGVybUhhbmRsZXJfLmdldChzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm1zID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFrZW5kby5qUXVlcnkuaXNFbXB0eU9iamVjdCh0ZXJtcykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjAucGF5bWVudFRlcm0gPSB0ZXJtcy50ZXJtOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjAuY2FsY3VsYXRlRHVlRGF0ZShfdGhpczIwLnBheW1lbnRUZXJtKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYXV0b0NhbGN1bGF0ZVRheERldGFpbDogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZVRheERldGFpbCgpIHsKICAgICAgdmFyIF90aGlzMjEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KCkgewogICAgICAgIHZhciBpZHMsIHVuaXF1ZSwgcmVzdWx0LCBfaXRlcmF0b3IyLCBfc3RlcDIsIF9sb29wLCB0YXhEZXRhaWw7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWRzID0gW107CgogICAgICAgICAgICAgICAgX3RoaXMyMS50YXhMaXN0RGV0YWlsLmZvckVhY2goZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBuLmxpbmUgfHwge307CiAgICAgICAgICAgICAgICAgIGlkcy5wdXNoKGxpbmUuaWQgfHwgJycpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgdW5pcXVlID0gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQoaWRzKSk7CiAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih1bmlxdWUpOwoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgdmFyIGFtb3VudCA9IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHJvdyA9IHt9LAogICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudCA9IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHhEaXNjb3VudCA9IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHhBbW91bnQgPSAwLAogICAgICAgICAgICAgICAgICAgICAgICB0YXhBbW91bnQgPSAwLAogICAgICAgICAgICAgICAgICAgICAgICB4VGF4QW1vdW50ID0gMDsKICAgICAgICAgICAgICAgICAgICB2YXIgdGF4RGV0YWlsID0gW10sCiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmF0ID0gMDsKCiAgICAgICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gX3RoaXMyMS50YXhMaXN0RGV0YWlsLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4ubGluZS5pZCA9PT0gbTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgZm91bmQuZm9yRWFjaChmdW5jdGlvbiAoaykgewogICAgICAgICAgICAgICAgICAgICAgcm93ID0gazsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoay5pc1ZhdCA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICBpc1ZhdCA9IDE7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZXRhaWxfID0gay5kZXRhaWwgfHwge307CiAgICAgICAgICAgICAgICAgICAgICAgIHRheERldGFpbC5wdXNoKGRldGFpbF8pOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIHRheEFtb3VudCArPSBrLnRheEFtb3VudCB8fCAwOwogICAgICAgICAgICAgICAgICAgICAgeFRheEFtb3VudCArPSAoay50YXhBbW91bnQgfHwgMCkgKiAoay50eG5SYXRlIHx8IDEpOwogICAgICAgICAgICAgICAgICAgICAgYW1vdW50ICs9IGsuYW1vdW50IHx8IDA7CiAgICAgICAgICAgICAgICAgICAgICB4QW1vdW50ICs9IChrLmFtb3VudCB8fCAwKSAqIChrLnR4blJhdGUgfHwgMSk7CiAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudCArPSBrLmRpc2NvdW50IHx8IDA7CiAgICAgICAgICAgICAgICAgICAgICB4RGlzY291bnQgKz0gKGsuZGlzY291bnQgfHwgMCkgKiAoay50eG5SYXRlIHx8IDEpOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYXQgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHJvdy5kZXRhaWwgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpZmljVGF4OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZUxvY2FsZTogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0ZTogMQogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBwdWJsaWNMaWdodGluZ1RheDogewogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVMb2NhbGU6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGU6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJUYXg6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lTG9jYWxlOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICByYXRlOiAxCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIHJvdy5kZXRhaWwgPSB7fTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJvdy5hbW91bnQgPSBhbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgcm93LmV4Y2hhbmdlQW1vdW50ID0geEFtb3VudDsKICAgICAgICAgICAgICAgICAgICByb3cudGF4QW1vdW50ID0gdGF4QW1vdW50OwogICAgICAgICAgICAgICAgICAgIHJvdy5leGNoYW5nZVRheEFtb3VudCA9IHhUYXhBbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgcm93LmRpc2NvdW50ID0gZGlzY291bnQ7CiAgICAgICAgICAgICAgICAgICAgcm93LmV4Y2hhbmdlRGlzY291bnQgPSB4RGlzY291bnQ7CiAgICAgICAgICAgICAgICAgICAgcm93LmN1cnJlbmN5ID0gX3RoaXMyMS5jdXJyZW5jeSB8fCB7fTsKICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyb3cpOwogICAgICAgICAgICAgICAgICAgIHRheERldGFpbCA9IFtdOwogICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgICBfbG9vcCgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0YXhEZXRhaWwgPSByZXN1bHQubWFwKGZ1bmN0aW9uIChrKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBrLmFtb3VudCwKICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogay5jdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IGsuZGV0YWlsLAogICAgICAgICAgICAgICAgICAgIGRpc2NvdW50OiBrLmRpc2NvdW50LAogICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBrLmV4Y2hhbmdlQW1vdW50LAogICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlRGlzY291bnQ6IGsuZXhjaGFuZ2VEaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVRheEFtb3VudDogay5leGNoYW5nZVRheEFtb3VudCwKICAgICAgICAgICAgICAgICAgICBpc1ZhdDogay5pc1ZhdCwKICAgICAgICAgICAgICAgICAgICBsaW5lOiBrLmxpbmUsCiAgICAgICAgICAgICAgICAgICAgdGF4QW1vdW50OiBrLnRheEFtb3VudCwKICAgICAgICAgICAgICAgICAgICB0eG5SYXRlOiBrLnR4blJhdGUKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX3RoaXMyMS50eG5FeHBlbnNlLnNhbGVUYXhEZXRhaWwgPSB0YXhEZXRhaWw7CiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ3NhbGVUYXhEZXRhaWwgdHhuRXhwZW5zZScsIEpTT04uc3RyaW5naWZ5KHRheERldGFpbCkpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQdXJjaGFzZU9yZGVyOiBmdW5jdGlvbiBsb2FkUHVyY2hhc2VPcmRlcigpIHsKICAgICAgdmFyIF90aGlzMjIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc2VnbWVudElkID0gIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uSWQgPSAnJywKICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VMZXZlbElkID0gIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBsaWVySWQgPSAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgdHhuRGF0ZSA9ICIiOwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyMi5zZWdtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50SWQgPSBfdGhpczIyLnNlZ21lbnQuaWQgfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyMi5sb2NhdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25JZCA9IF90aGlzMjIubG9jYXRpb24uaWQgfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyMi5zdXBwbGllcikgewogICAgICAgICAgICAgICAgICAgICAgc3VwcGxpZXJJZCA9IF90aGlzMjIuc3VwcGxpZXIuaWQ7CiAgICAgICAgICAgICAgICAgICAgfSAvLyBpZiAodGhpcy5wcmljZUxldmVsKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHByaWNlTGV2ZWxJZCA9IHRoaXMucHJpY2VMZXZlbC5pZCB8fCAnJzsKICAgICAgICAgICAgICAgICAgICAvLyB9CgoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyMi5leHBlbnNlLmV4cGVuc2VfZGF0ZSkgewogICAgICAgICAgICAgICAgICAgICAgdHhuRGF0ZSA9IF90aGlzMjIuZXhwZW5zZS5leHBlbnNlX2RhdGU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB2YXIgc3RyRmlsdGVyID0gIiI7CgogICAgICAgICAgICAgICAgICAgIGlmIChzZWdtZW50SWQgIT09ICIiICYmIHN1cHBsaWVySWQgIT09ICIiICYmIGxvY2F0aW9uSWQgIT09ICIiICYmIHR4bkRhdGUgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICBzdHJGaWx0ZXIgPSAiP2lkPSIgKyBzdXBwbGllcklkICsgIiZzZWdJZD0iICsgc2VnbWVudElkICsgIiZsb2NJZD0iICsgbG9jYXRpb25JZCArICImcGxJZD0iICsgcHJpY2VMZXZlbElkICsgIiZkYXRlPSIgKyB0eG5EYXRlICsgJyZ0eXBlPVB1cmNoYXNlIE9yZGVyJzsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChzdHJGaWx0ZXIgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIyLnJlZkZyb20gPSBbXTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIuc2hvd0xvYWRpbmdQTyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICBzYWxlT3JkZXJIYW5kbGVyLnRyYW5zYWN0aW9uRmlsdGVyKHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIyLnNob3dMb2FkaW5nUE8gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIyLnB1cmNoYXNlT3JkZXJzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIyLnNob3dMb2FkaW5nUE8gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkRXhwZW5zZVB1cmNoYXNlT3JkZXI6IGZ1bmN0aW9uIGxvYWRFeHBlbnNlUHVyY2hhc2VPcmRlcigpIHsKICAgICAgdmFyIF90aGlzMjMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE5KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTkkKF9jb250ZXh0MTkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjMuJHJvdXRlLnBhcmFtcy5pZCAhPT0gIiIgfHwgX3RoaXMyMy4kcm91dGUucGFyYW1zLmlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IF90aGlzMjMuJHJvdXRlLnBhcmFtcy5pZCB8fCAnJzsKICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHJJZCA9IGlkLmluY2x1ZGVzKCd0eG4tJykgPyBpZCA6ICd0eG4tJyArIGlkOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5zaG93TG9hZGluZ1BPID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLmV4cGVuc2VWaWV3KHN0cklkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjMuc2hvd0xvYWRpbmdQTyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIzLnB1cmNoYXNlT3JkZXIgPSByZXMuZGF0YS5kYXRhWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIzLnNob3dMb2FkaW5nUE8gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGluaXRFeHBlbnNlOiBmdW5jdGlvbiBpbml0RXhwZW5zZSgpIHsKICAgICAgdGhpcy5pbml0aWFsRGF0YSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZERhdGEoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBkaXNhYmxlTWU6IGZ1bmN0aW9uIGRpc2FibGVNZSgpIHsKICAgICAgaWYgKHRoaXMuZXhwZW5zZSkgewogICAgICAgIHZhciBfdXVpZCA9IHRoaXMuZXhwZW5zZS51dWlkIHx8ICIiOwoKICAgICAgICBpZiAoX3V1aWQpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy8gSW5pdGlhbCBEYXRhCiAgICB0aGlzLmluaXRpYWxEYXRhKCk7CiAgfQp9Ow=="},{"version":3,"sources":["Expenses.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\"\n                    >\n                        <v-row>\n                            <v-col\n                                class=\"bigSide pr-2 py-0\"\n                                sm=\"8\"\n                                cols=\"12\"\n                                style=\"transition: 0.3s ease-in\"\n                                :class=\"{ hide_big_bar_class: isHideBar }\"\n                            >\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">\n                                            {{ $t(\"expenses\") }}\n                                        </h2>\n\n                                        <v-icon\n                                            v-if=\"isHideBar\"\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                        <span\n                                            style=\"transition: 0.3s ease-in; z-index: 10;\"\n                                            :class=\"{\n\t\t\t\t\t\t\t\t\t\t\t\ticonArrow: !isHideBar,\n\t\t\t\t\t\t\t\t\t\t\t\ticonArrowHide: isHideBar,\n\t\t\t\t\t\t\t\t\t\t\t}\"\n                                        >\n\t\t\t\t\t\t\t\t\t\t\t<v-icon\n                                                size=\"22\"\n                                                class=\"arr_icon\"\n                                                @click=\"HideSmallSideBar\"\n                                                v-if=\"isHideBar\"\n                                            >mdi-chevron-left-circle\n\t\t\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t\t\t\t<v-icon\n                                                size=\"22\"\n                                                class=\"arr_icon\"\n                                                @click=\"HideSmallSideBar\"\n                                                v-if=\"!isHideBar\"\n                                            >mdi-chevron-right-circle\n\t\t\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t\t\t</span>\n                                    </v-card>\n                                    <v-card outlined dense class=\"px-3 rounded-4 no_border\" color=\"grayBg\">\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{ $t(\"supplier\") }}</label>\n                                                <app-supplier-dropdownlist\n                                                    :initSupplier=\"supplier\"\n                                                    @emitSupplier=\"supplier = $event\"\n                                                    @onChanged=\"onVendorChanged\"\n                                                />\n\n                                                <label class=\"label\" style=\"\">{{\n                                                        $t(\"transaction_date\")\n                                                    }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"expense.expense_date\"\n                                                    :disabled=\"disableMe\"\n                                                    @emitDate=\"expense.expense_date = $event\"\n                                                    @onChanged=\"onDateChanges\"\n                                                />\n\n                                                <label class=\"label\">{{\n                                                        $t(\"suppliers_invoice_no\")\n                                                    }}</label>\n                                                <v-text-field\n                                                    class=\"mt-1\"\n                                                    v-model=\"expense.bill_number\"\n                                                    outlined\n                                                />\n                                            </v-col>\n\n                                            <v-col sm=\"4\" cols=\"12\">\n                                                <label class=\"label\">{{ $t(\"vendor_invoice_date\") }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"expense.bill_date\"\n                                                    @emitDate=\"expense.bill_date = $event\"\n                                                />\n\n                                                <label class=\"label\">{{ $t(\"number\") }}</label>\n                                                <v-row class=\"mt-1 mr-0\">\n                                                    <v-col sm=\"10\" cols=\"10\" class=\"py-0 pr-0 pr-1\">\n                                                        <v-text-field\n                                                            :rules=\"[(v) => !!v || 'Number is required']\"\n                                                            v-model=\"expense.number\"\n                                                            readonly\n                                                            outlined\n                                                            required\n                                                        />\n                                                    </v-col>\n                                                    <v-col sm=\"2\" cols=\"2\" class=\"py-0 px-0\">\n                                                        <v-icon\n                                                            color=\"black\"\n                                                            size=\"30\"\n                                                            class=\"border_qrcode\"\n                                                            @click=\"generateNumber\"\n                                                        >mdi-qrcode\n                                                        </v-icon>\n                                                    </v-col>\n                                                </v-row>\n\n                                                <label class=\"label\">{{ $t(\"bill_currency\") }}</label>\n                                                <app-currency-dropdownlist\n                                                    :initCurrency=\"currency\"\n                                                    @emitCurrency=\"currency = $event\"\n                                                    @onChanged=\"getExchangeRate\"\n                                                />\n                                                <div class=\"hide_message\">\n                                                    <v-checkbox\n                                                        class=\"my_check_box my-0\"\n                                                        v-model=\"hasAdditionalCost\"\n                                                        @change=\"onAdditionalCostCheckboxChanges\"\n                                                        label=\"Has additional cost?\"\n                                                    />\n                                                    <div class=\"py-0 pl-0\" v-if=\"hasAdditionalCost\">\n                                                        <app-supplier-dropdownlist\n                                                            :initSupplier=\"expense.additional_cost_supplier\"\n                                                            @emitSupplier=\"expense.additional_cost_supplier = $event\"\n                                                        />\n                                                    </div>\n                                                </div>\n                                            </v-col>\n                                            <v-col class=\"pb-0\" sm=\"4\" cols=\"12\">\n                                                <label class=\"label\">{{ $t(\"term\") }}</label>\n                                                <app-payment-term-purchase-dropdownlist\n                                                    :initPaymentTerm=\"paymentTerm\"\n                                                    @emitPaymentTerm=\"paymentTerm = $event\"\n                                                    @onChanged=\"onDueDateChanged\"\n                                                />\n\n                                                <label class=\"label\">{{ $t(\"due_date\") }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"expense.due_date\"\n                                                    @emitDate=\"expense.due_date = $event\"\n                                                    @onChanged=\"onDueDateChanged\"\n                                                />\n\n                                                <label class=\"label\">{{\n                                                        $t(\"transaction_account\")\n                                                    }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :loading=\"transactionAccounts.length === 0\"\n                                                    @change=\"onTransactionAccountChanges\"\n                                                    :items=\"transactionAccounts\"\n                                                    item-value=\"uuid\"\n                                                    :item-text=\"(item) => `${item.number} - ${this.$store.state.accounting.accountLanguage ==='English' ? item.name : item.local_name}`\"\n                                                    v-model=\"expense.transaction_account\"\n                                                    no-data-text=\"No data found.\"\n                                                    :rules=\"[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(v) => !!v || 'Transaction Account is required',\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\"\n                                                    placeholder=\"Transaction Account\"\n                                                    return-object\n                                                    outlined\n                                                ></v-select>\n\n                                                <div v-if=\"this.$store.state.accounting.secondaryAccount\">\n                                                    <label class=\"label\">{{ $t(\"secondary_account\") }}</label>\n                                                    <app-secondary-account-dropdownlist\n                                                        :initPrimaryAccountId=\"expense.transaction_account.uuid\"\n                                                        :initAccount=\"secondaryAccount\"\n                                                        @emitAccount=\"secondaryAccount = $event\"/>\n                                                </div>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-row style=\"background-color: #fff\">\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                            <h3 class=\"mb-0 text-uppercase grey--text mb-3\">\n                                                {{ $t(\"expense_accounts\") }}\n                                            </h3>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <kendo-datasource\n                                                ref=\"expenseAccountDS\"\n                                                :data=\"expenseEntries\"\n                                                :change=\"onExpenseAccountDSChanges\"\n                                            />\n                                            <kendo-grid\n                                                id=\"expenseGrid\"\n                                                ref=\"expenseGrid\"\n                                                class=\"grid-function\"\n                                                :data-source-ref=\"'expenseAccountDS'\"\n                                                :sortable=\"false\"\n                                                :filterable=\"false\"\n                                                :column-menu=\"true\"\n                                                :editable=\"true\"\n                                                :scrollable-virtual=\"true\"\n                                            >\n                                                <kendo-grid-column\n                                                    :command=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonClass: 'k-icon k-i-trash',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: ' ',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclick: removeRow,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: 'btn-plus',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                    :title=\"''\"\n                                                    :width=\"63\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :title=\"$t('no.')\"\n                                                    :template=\"rowNumberTmpl\"\n                                                    :width=\"53\"\n                                                    :column-menu=\"false\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5;',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: 'text-center',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                    :attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: center',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'account'\"\n                                                    :title=\"$t('account')\"\n                                                    :width=\"200\"\n                                                    :template=\"this.$store.state.accounting.accountLanguage === 'English' ? '<span>#=account.number#</span> <span>#=account.name#</span>' : '<span>#=account.number#</span> <span>#=account.local_name#</span>' \"\n                                                    :editor=\"expenseAccountEditor\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'secondary_account'\"\n                                                    :title=\"$t('s_account')\"\n                                                    :template=\"\n                                                        this.$store.state.accounting.accountLanguage ===\n                                                        'English'\n                                                            ? '<span>#=secondary_account.number#</span> <span>#=secondary_account.name#</span>'\n                                                            : '<span>#=secondary_account.number#</span> <span>#=secondary_account.local_name#</span>'\n                                                    \"\n                                                    :width=\"200\"\n                                                    :hidden=\"!this.$store.state.accounting.secondaryAccount\"\n                                                    :editor=\"AccountSecondaryEditor\"\n                                                    :headerAttributes=\"{\n                                                        style: 'background-color: #EDF1F5',\n                                                    }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'description'\"\n                                                    :title=\"$t('description')\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n\n                                                <kendo-grid-column\n                                                    :field=\"'uom'\"\n                                                    :title=\"$t('uom')\"\n                                                    :editor=\"UomEditor\"\n                                                    :template=\"'<span>#=uom.name||``#</span>'\"\n                                                    :width=\"150\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                    :attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right;',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'quantity'\"\n                                                    :title=\"$t('qty')\"\n                                                    :width=\"160\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'price'\"\n                                                    :title=\"$t('price')\"\n                                                    :width=\"150\"\n                                                    :editor=\"NumberEditor\"\n                                                    :template=\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<span>#=kendo.toString(price, decimalFormat)#</span>'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                    :attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'amount'\"\n                                                    :title=\"$t('amount')\"\n                                                    :width=\"150\"\n                                                    :editable=\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"\n                                                    :editor=\"NumberEditor\"\n                                                    :template=\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<span>#=kendo.toString(amount, decimalFormat)#</span>'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                    :attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'tax_item'\"\n                                                    :title=\"$t('tax')\"\n                                                    :template=\"'<span>#=tax_item.defaultTax||``#</span>'\"\n                                                    :editor=\"PurchaseTaxEditor\"\n                                                    :width=\"150\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                    :attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'discount'\"\n                                                    :title=\"$t('discount')\"\n                                                    :template=\"'<span>#=discount.name||``#</span>'\"\n                                                    :editor=\"PurchaseDiscountItemEditor\"\n                                                    :width=\"150\"\n                                                    :hidden=\"!purchaseFormContent.discountItem\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                    :attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n\n                                                <kendo-grid-column\n                                                    :field=\"'class1'\"\n                                                    :title=\"$t('class_1')\"\n                                                    :template=\"'<span>#=class1.name||``#</span>'\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!purchaseFormContent.class1\"\n                                                    :editor=\"ClassEditor.class1\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'class2'\"\n                                                    :title=\"$t('class_2')\"\n                                                    :template=\"'<span>#=class2.name||``#</span>'\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!purchaseFormContent.class2\"\n                                                    :editor=\"ClassEditor.class2\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'class3'\"\n                                                    :title=\"$t('class_3')\"\n                                                    :template=\"'<span>#=class3.name||``#</span>'\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!purchaseFormContent.class3\"\n                                                    :editor=\"ClassEditor.class3\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'class4'\"\n                                                    :title=\"$t('class_4')\"\n                                                    :template=\"'<span>#=class4.name||``#</span>'\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!purchaseFormContent.class4\"\n                                                    :editor=\"ClassEditor.class4\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'class5'\"\n                                                    :title=\"$t('class_5')\"\n                                                    :template=\"'<span>#=class5.name||``#</span>'\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!purchaseFormContent.class5\"\n                                                    :editor=\"ClassEditor.class5\"\n                                                    :headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n                                                />\n                                            </kendo-grid>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                            <v-row>\n                                                <v-col sm=\"9\" cols=\"12\" class=\"py-0\">\n                                                    <v-btn\n                                                        color=\"primary\"\n                                                        class=\"float-left mt-2 btn_plus white--text mr-2\"\n                                                        @click=\"addRow\"\n                                                    >\n                                                        <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                                    </v-btn>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <v-row>\n                                                <v-col sm=\"6\" cols=\"12\" class=\"\">\n                                                    <v-card\n                                                        class=\"no-boxshadow rounded-4 pa-3\"\n                                                        color=\"grayBg\"\n                                                        height=\"270px\"\n                                                    >\n                                                        <label>{{ $t(\"msg_on_voucher\") }}</label>\n                                                        <v-textarea\n                                                            class=\"mt-1\"\n                                                            no-resize\n                                                            height=\"90px\"\n                                                            v-model=\"expense.voucher_note\"\n                                                            outlined\n                                                            clearable\n                                                            rows=\"3\"\n                                                            placeholder=\"This will appear on the invoice\"\n                                                        />\n                                                        <label>{{ $t(\"message_for_journal\") }}</label>\n                                                        <v-textarea\n                                                            class=\"mt-1\"\n                                                            no-resize\n                                                            height=\"90px\"\n                                                            v-model=\"expense.journal_note\"\n                                                            outlined\n                                                            clearable\n                                                            rows=\"3\"\n                                                            placeholder=\"This will appear on the journal entry\"\n                                                        />\n                                                    </v-card>\n                                                </v-col>\n                                                <v-col sm=\"6\" cols=\"6\">\n                                                    <v-simple-table>\n                                                        <template v-slot:default>\n                                                            <tbody>\n                                                            <tr>\n                                                                <td class=\"text-left\">\n                                                                    {{ $t(\"subtotal\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">\n                                                                    :\n                                                                </td>\n                                                                <td class=\"text-right\">\n                                                                    {{ numberFormat(subTotal) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left\">\n                                                                    {{ $t(\"discount\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">\n                                                                    :\n                                                                </td>\n                                                                <td class=\"text-right\">\n                                                                    ({{ numberFormat(discountAmount) }})\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left\">\n                                                                    {{ $t(\"purchase_tax\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">\n                                                                    :\n                                                                </td>\n                                                                <td class=\"text-right\">\n                                                                    {{ numberFormat(purchaseTax) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left\">\n                                                                    {{ $t(\"withholding_tax\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">\n                                                                    :\n                                                                </td>\n                                                                <td class=\"text-right\">\n                                                                    {{ numberFormat(whdTax) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left text-uppercase\">\n                                                                    {{ $t(\"total\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">\n                                                                    :\n                                                                </td>\n                                                                <td\n                                                                    class=\"text-right primary--text text-bold\"\n                                                                >\n                                                                    {{ numberFormat(totalAmount) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left\">\n                                                                    {{ $t(\"deposit\") }}\n                                                                    <span class=\"float-right primary--text\">{{\n                                                                            numberFormat(supplierDepositAmount)\n                                                                        }}</span>\n                                                                </td>\n                                                                <td class=\"text-center\">\n                                                                    :\n                                                                </td>\n                                                                <td class=\"text-right\">\n                                                                    <v-text-field\n                                                                        class=\"text-right mt-3 float-right deposite_input\"\n                                                                        type=\"number\"\n                                                                        min=\"0\"\n                                                                        :disabled=\"supplierDepositAmount <= 0\"\n                                                                        v-model=\"depositAmount\"\n                                                                        @change=\"onDepositDeductionChange\"\n                                                                        width=\"80\"\n                                                                        outlined\n                                                                    />\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left text-uppercase\">\n                                                                    {{ $t(\"amount_due\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">\n                                                                    :\n                                                                </td>\n                                                                <td class=\"text-right text-bold\">\n                                                                    {{ numberFormat(amountDue) }}\n                                                                </td>\n                                                            </tr>\n                                                            </tbody>\n                                                        </template>\n                                                    </v-simple-table>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n\n                                    <v-divider/>\n\n                                    <v-card outlined dense class=\"no_border function_footer\">\n                                        <!-- Warning Message -->\n                                        <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                                            <span v-html=\"errorMessage\"/>\n                                        </v-alert>\n\n                                        <!--                    <v-menu>-->\n                                        <!--                      <template v-slot:activator=\"{ on }\">-->\n                                        <!--                        <v-btn-->\n                                        <!--                            color=\"black\"-->\n                                        <!--                            outlined-->\n                                        <!--                            class=\"mr-2 text-capitalize  black&#45;&#45;text float-left\"-->\n                                        <!--                            v-on=\"on\"-->\n                                        <!--                        >-->\n                                        <!--                          {{ $t(\"select_template\") }}-->\n                                        <!--                          <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>-->\n                                        <!--                        </v-btn>-->\n                                        <!--                      </template>-->\n                                        <!--                      <v-list>-->\n                                        <!--                        <v-list-item-->\n                                        <!--                            v-for=\"(item, index) in templates\"-->\n                                        <!--                            :key=\"index\"-->\n                                        <!--                        >-->\n                                        <!--                          <v-list-item-title>-->\n                                        <!--                            {{ item.title }}-->\n                                        <!--                          </v-list-item-title>-->\n                                        <!--                        </v-list-item>-->\n                                        <!--                      </v-list>-->\n                                        <!--                    </v-menu>-->\n                                        <v-btn\n                                            color=\"primary\"\n                                            outlined\n                                            class=\"text-capitalize  black--text float-left\"\n                                            @click=\"cancel\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <!--                    <v-menu>-->\n                                        <!--                      <template v-slot:activator=\"{ on }\">-->\n                                        <!--                        <v-btn-->\n                                        <!--                            color=\"primary\"-->\n                                        <!--                            class=\"ml-2 float-right text-capitalize  white&#45;&#45;text\"-->\n                                        <!--                            v-on=\"on\"-->\n                                        <!--                        >-->\n                                        <!--                          {{ $t(\"save_option\") }}-->\n                                        <!--                          <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>-->\n                                        <!--                        </v-btn>-->\n                                        <!--                      </template>-->\n                                        <!--                      <v-list rounded>-->\n                                        <!--                        <v-list-item-group>-->\n                                        <!--                          <v-list-item v-if=\"!isEdit\">-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title-->\n                                        <!--                                  @click=\"onSaveOptionClick(SaveOption.SAVEDRAFT)\"-->\n                                        <!--                              >-->\n                                        <!--                                {{ $t(\"save_close\") }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                          <v-list-item v-if=\"!isEdit\">-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title-->\n                                        <!--                                  @click=\"onSaveOptionClick(SaveOption.SAVENEW)\"-->\n                                        <!--                              >-->\n                                        <!--                                {{ $t(\"save_new\") }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title-->\n                                        <!--                                  @click=\"onSaveOptionClick(SaveOption.SAVEPRINT)\"-->\n                                        <!--                              >-->\n                                        <!--                                {{ $t(\"save_print\") }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                        </v-list-item-group>-->\n                                        <!--                      </v-list>-->\n                                        <!--                    </v-menu>-->\n                                        <v-btn\n                                            color=\"primary\"\n                                            class=\"float-right white--text text-capitalize \"\n                                            @click=\"onSaveOptionClick(SaveOption.SAVECLOSE)\"\n                                        >\n                                            {{ $t(\"save_close\") }}\n                                        </v-btn>\n                                        <v-btn color=\"secondary\"\n                                               style=\"margin-right: 10px !important\"\n                                               class=\"white--text float-right text-capitalize\"\n                                               @click=\"onSaveOptionClick(SaveOption.SAVENEW)\" :hidden=\"isEdit\">\n                                            {{ $t(\"save_new\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-form>\n                            </v-col>\n                            <v-col\n                                class=\"smallSide pl-2\"\n                                sm=\"4\"\n                                style=\"transition: 0.3s ease-in\"\n                                :class=\"{ hide_small_bar_class: isHideBar }\">\n                                <h3 style=\"color: #b3b5bc; font-size: 20px\"\n                                    v-if=\"!isHideBar\"\n                                    class=\"text-uppercase float-right mt-n3\">\n\t\t\t\t\t\t\t\t\t<span class=\"pointer\" @click=\"Help('expenses')\">\n\t\t\t\t\t\t\t\t\t\t{{ $t(\"help\") }}\n\t\t\t\t\t\t\t\t\t</span>\n                                    <v-icon\n                                        @click=\"cancel()\"\n                                        style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                        class=\"float-right mt-n1\">close\n                                    </v-icon>\n                                </h3>\n\n                                <div v-if=\"!isHideBar\" class=\"small_sidebar mt-8 px-4 grayBg\">\n                                    <v-card\n                                        class=\"pa-3 no-boxshadow d-flex flex-column\"\n                                        color=\"primary\"\n                                        size=\"60px\"\n                                        style=\"margin-bottom: 2px;\">\n                                        <h3 class=\"text-white text-uppercase justify-start font_13\">\n                                            {{ $t(\"expense_amount\") }}</h3>\n                                        <h3 class=\"text-bold justify-end niradei_heavy font_22 text-white\">\n                                            {{ numberFormat(amountDue) }}\n                                        </h3>\n                                    </v-card>\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0 pt-3\">\n                                            <label class=\"label\">{{ $t(\"segment\") }}</label>\n                                            <app-segment-dropdownlist\n                                                :initSegment=\"segment\"\n                                                @emitSegment=\"segment = $event\"\n                                                @onChanged=\"loadCashAdvance\"\n                                            />\n\n                                            <label class=\"label\">{{ $t(\"location\") }}</label>\n                                            <app-location-dropdownlist\n                                                :initLocation=\"location\"\n                                                @emitLocation=\"location = $event\"\n                                                @onChanged=\"onLocationChange\"\n                                            />\n\n                                            <label class=\"label\">{{ $t(\"project\") }}</label>\n                                            <app-project-dropdownlist\n                                                :initProject=\"project\"\n                                                @emitProject=\"project = $event\"\n                                                :initDisabled=\"disableProject\"\n                                            />\n\n                                            <label class=\"label\">{{ $t(\"for_the_month_of\") }}</label>\n                                            <app-monthof-picker\n                                                :initMonthOf=\"expense.month_of\"\n                                                @emitMonthOf=\"expense.month_of = $event\"\n                                            />\n\n                                            <label class=\"label\">{{ $t(\"employee\") }}</label>\n                                            <app-employee-dropdownlist\n                                                :initEmployee=\"employee\"\n                                                @emitEmployee=\"employee = $event\"\n                                                @onChanged=\"loadCashAdvance\"\n                                            />\n                                        </v-col>\n                                    </v-row>\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <v-radio-group\n                                                class=\"mt-0 custom-radio\"\n                                                @change=\"onUseForOptionChanges\"\n                                                v-model=\"expense.use_for_option\"\n                                                column>\n                                                <v-radio :label=\"$t('credit')\" :value=\"0\"/>\n                                                <v-radio :label=\"$t('cash')\" :value=\"3\"/>\n                                                <v-radio\n                                                    :disabled=\"employee.id === ''\"\n                                                    :label=\"$t('for_reimbursement')\"\n                                                    :value=\"1\"/>\n                                                <v-radio\n                                                    :disabled=\"employee.id === ''\"\n                                                    :label=\"$t('related_to_cash_advance')\"\n                                                    :value=\"2\"/>\n                                            </v-radio-group>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <v-select\n                                                @change=\"onCashAdvanceChanges\"\n                                                :loading=\"showCashAdvanceLoading\"\n                                                :disabled=\"expense.use_for_option !== 2\"\n                                                v-model=\"expense.use_for_transaction_uuid\"\n                                                :items=\"cashAdvances\"\n                                                item-value=\"uuid\"\n                                                item-text=\"number\"\n                                                outlined\n                                            />\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <LoadingMe\n                                                :isLoading=\"showLoadingPO\"\n                                                :fullPage=\"false\"\n                                                :myLoading=\"true\"\n                                                type=\"loading\"\n                                            />\n                                            <label class=\"label\">{{ $t(\"purchase_order\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                :items=\"purchaseOrders\"\n                                                v-model=\"purchaseOrder\"\n                                                item-value=\"id\"\n                                                item-text=\"referenceNo\"\n                                                placeholder=\"Purchase Order\"\n                                                clearable\n                                                return-object\n                                                outlined\n                                            />\n                                        </v-col>\n                                    </v-row>\n                                    <p class=\"mb-0 detial_smallside_p\">\n                                        {{ $t(\"function_expense_detial\") }}\n                                    </p>\n                                </div>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"true\"\n                :myLoading=\"true\"\n                type=\"loading\"\n            />\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport {i18n} from \"@/i18n\";\nimport kendo from \"@progress/kendo-ui\";\nimport Helper from \"@/helper.js\";\n\nimport {\n    ExpenseModel,\n    ExpenseEntryModel,\n    ExpenseEntryExtendedModel,\n    JournalModel,\n    JournalEntryModel,\n    AccountModel,\n    CurrencyModel,\n    ExchangeRateModel,\n    PaymentTermModel,\n    SupplierModel,\n    EmployeeModel,\n    ContactModel,\n    ClassModel,\n    UomModel,\n    LocationModel,\n    SegmentModel,\n    ProjectModel,\n    DiscountItemModel,\n    TaxModel,\n    Expenses,\n    PurchaseFormContent,\n} from \"@/scripts/model/AppModels\";\nimport {ShowResource} from \"@/observable/store\";\n\n/* Editors */\nimport AccountSecondaryEditor from \"@/scripts/kendo_editor/AccountSecondary\";\nimport ClassEditor from \"@/scripts/kendo_editor/Clazz\";\nimport UomEditor from \"@/scripts/kendo_editor/Uom\";\nimport PurchaseDiscountItemEditor from \"@/scripts/kendo_editor/PurchaseDiscountItem\";\nimport PurchaseTaxEditor from \"@/scripts/kendo_editor/PurchaseTax\";\n\n/* Store */\nimport store from \"@/store\";\nimport paymentTermHandler_ from \"@/scripts/paymentterm/handler/paymentTermHandler\";\nimport AccountMappingModel from \"@/scripts/account-map/Account\";\nimport {uuid} from \"vue-uuid\";\nimport saleOrderHandler from \"@/scripts/transactionHandler\";\n\nconst institute = store.state.institute.institute;\n\n/* Handlers */\nconst {\n    expenseHandler,\n    cashAdvanceHandler,\n    journalHandler,\n} = require(\"@/scripts/AppHandlers\");\nconst purchaseFormContentHandler = require(\"@/scripts/purchaseFormContentHandler\");\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\n\nconst {\n    EntityType,\n    SaveOption,\n    AccountTypeCode,\n    TaxType,\n    Setting,\n} = require(\"@/scripts/default_setup/Collections\");\n\nexport default {\n    name: \"Expense\",\n    components: {\n        LoadingMe: () => import(\"@/components/Loading\"),\n        \"app-datepicker\": () =>\n            import(\"@/components/custom_templates/DatePickerComponent\"),\n        \"app-monthof-picker\": () =>\n            import(\"@/components/kendo_templates/MonthOfPicker\"),\n        \"app-currency-dropdownlist\": () =>\n            import(\"@/components/dropdownlist/Currency\"),\n        \"app-payment-term-purchase-dropdownlist\": () => import(\"@/components/dropdownlist/PaymentTermPurchase\"),\n        \"app-location-dropdownlist\": () =>\n            import(\"@/components/dropdownlist/Location\"),\n        \"app-employee-dropdownlist\": () =>\n            import(\"@/components/dropdownlist/Employee\"),\n        \"app-project-dropdownlist\": () =>\n            import(\"@/components/dropdownlist/Project\"),\n        \"app-segment-dropdownlist\": () =>\n            import(\"@/components/dropdownlist/Segment\"),\n        \"app-supplier-dropdownlist\": () =>\n            import(\"@/components/dropdownlist/Supplier\"),\n        \"app-secondary-account-dropdownlist\": () => import('@/components/dropdownlist/AccountSecondary'),\n    },\n    props: {\n        initExpense: {\n            type: ExpenseModel,\n        },\n    },\n    data: () => ({\n        // Obj\n        expense: new ExpenseModel(),\n        journal: new JournalModel(),\n        journalEntries: [],\n        employee: new EmployeeModel(),\n        supplier: new SupplierModel(),\n        paymentTerm: new PaymentTermModel(),\n        currency: new CurrencyModel(institute.baseCurrency),\n        exchangeRate: new ExchangeRateModel(institute.baseCurrency),\n        advanceSettlementClearingAccount: new AccountModel(),\n        otherClearingSuspenseAccount: new AccountModel(),\n        secondaryAccount: new AccountModel(),\n        location: new LocationModel(),\n        segment: new SegmentModel(),\n        project: new ProjectModel(),\n        // List\n        cashAdvances: [],\n        accounts: [],\n        expenseAccounts: [],\n        transactionAccounts: [],\n        expenseEntries: [],\n        // Other\n        subTotal: 0,\n        discountAmount: 0,\n        purchaseTax: 0,\n        whdTax: 0,\n        totalAmount: 0,\n        supplierDepositAmount: 0,\n        depositAmount: 0,\n        amountDue: 0,\n        hasAdditionalCost: false,\n        files: [],\n        user: Helper.getUser(),\n        templates: [],\n        maxDecimal: Setting.MAX_DECIMAL,\n        disableProject: false,\n        // Form validation\n        valid: true,\n        isEdit: false,\n        alert: false,\n        errorMessage: \"\",\n        saveMode: \"\",\n        SaveOption: SaveOption,\n        // Editors\n        AccountSecondaryEditor: AccountSecondaryEditor,\n        ClassEditor: ClassEditor,\n        UomEditor: UomEditor,\n        PurchaseDiscountItemEditor: PurchaseDiscountItemEditor,\n        PurchaseTaxEditor: PurchaseTaxEditor,\n        // Sidebar\n        col_expand: 9,\n        col_hide: 3,\n        isHideBar: false,\n        // LoadingMe\n        showLoading: false,\n        showCashAdvanceLoading: false,\n        // By B Nimol\n        decimalFormat: \"n2\",\n        purchaseFormContent: PurchaseFormContent,\n        depositBalance: 0,\n        txnExpense: new Expenses({}),\n        transactionType: {},\n        supplierDiscountItem: [],\n        taxListDetail: [],\n        purchaseOrders: [],\n        purchaseOrder: {},\n        refFrom: [],\n        showLoadingPO: false\n    }),\n    methods: {\n        onDepositDeductionChange() {\n            if (this.depositAmount === \"\" || this.depositAmount === undefined) {\n                this.depositAmount = 0;\n            }\n            const deduction = parseFloat(this.depositAmount) || 0;\n            if (deduction > parseFloat(this.supplierDepositAmount)) {\n                this.depositAmount = parseFloat(this.supplierDepositAmount);\n                // this.txnExpense.depositDeduction = this.depositAmount\n            }\n            this.autoCalculate();\n        },\n        removeEmptyValues(obj) {\n            for (let propName in obj) {\n                if (!obj[propName] || obj[propName].length === 0) {\n                    delete obj[propName];\n                } else if (typeof obj[propName] === \"object\") {\n                    this.removeEmptyValues(obj[propName]);\n                }\n            }\n            return obj;\n        },\n        onLocationChange() {\n            window.console.log(\n                \"location\",\n                this.removeEmptyValues(this.segment),\n                this.removeEmptyValues(this.location)\n            );\n        },\n        mappingExpense(expense) {\n            const ds = this.$refs.expenseAccountDS.kendoWidget();\n            const accountLine = ds\n                .data()\n                .filter((n) => n.amount > 0)\n                .map((m) => {\n                    const id = m.id || \"lin-\" + uuid.v1();\n                    const line = new ExpenseEntryExtendedModel(m);\n                    line[\"id\"] = id\n                    return line\n                });\n            this.txnExpense.id = expense.uuid;\n            this.txnExpense.hasAdditionalCost = this.hasAdditionalCost;\n            this.txnExpense.journal_uuid = expense.journal_uuid;\n            this.txnExpense.type = \"Expense\";\n            this.txnExpense.abbr = this.abbr(this.transactionType);\n            this.txnExpense.transactionType = this.transactionType;\n            this.txnExpense.referenceNo = expense.number;\n            // this.txnExpense.referenceNo = expense.number\n            this.txnExpense.transactionDate = expense.expense_date;\n            this.txnExpense.transactionDateTZ = Helper.toISODate(expense.expense_date);\n            this.txnExpense.dueDate = expense.due_date;\n            this.txnExpense.billDate = expense.bill_date;\n            this.txnExpense.billNumber = expense.bill_number;\n            this.txnExpense.currency = this.removeEmptyValues(expense.bill_currency);\n            this.txnExpense.supplier = this.supplierMap(expense.supplier);\n            this.txnExpense.employee = this.removeEmptyValues(expense.employee);\n            this.txnExpense.paymentTerm = this.removeEmptyValues(this.paymentTerm);\n            this.txnExpense.segment = this.removeEmptyValues(this.segment);\n            this.txnExpense.location = this.removeEmptyValues(this.location);\n            this.txnExpense.project = this.removeEmptyValues(this.project);\n            this.txnExpense.monthOf = expense.month_of;\n\n            this.txnExpense.additionalCostSupplier = this.removeEmptyValues(\n                expense.additional_cost_supplier\n            );\n            this.txnExpense.use_for_transaction_uuid =\n                expense.use_for_transaction_uuid;\n            this.txnExpense.useForOption = expense.use_for_option;\n            this.txnExpense.transactionNote = expense.voucher_note;\n            this.txnExpense.journalNote = expense.journal_note;\n            this.txnExpense.itemLines = accountLine;\n            this.txnExpense.account = new AccountMappingModel(\n                this.removeEmptyValues(this.expense.transaction_account)\n            );\n            this.txnExpense.saveOption = expense.is_draft;\n            this.txnExpense.status = 1;\n            this.txnExpense.createdAt = expense.created_date;\n\n            this.txnExpense.total = parseFloat(this.totalAmount);\n            this.txnExpense.exchangeTotal =\n                parseFloat(this.totalAmount) * (this.exchangeRate.rate || 1);\n            this.txnExpense.amountDue = this.amountDue;\n            this.txnExpense.remainingAmount = this.amountDue;\n            this.txnExpense.subTotal = this.subTotal;\n            this.txnExpense.purchaseTax = this.purchaseTax;\n            this.txnExpense.whdTax = this.whdTax;\n            this.txnExpense.supplierDiscountItem = this.supplierDiscountItem;\n            this.txnExpense.loggedUser = this.loggedUser(this.expense.created_by);\n\n            this.txnExpense.txnRate = this.exchangeRate.rate;\n            this.txnExpense.discountTotal = parseFloat(this.discountAmount);\n            this.txnExpense.depositAmount = parseFloat(this.depositBalance);\n            this.txnExpense.depositDeduction = parseFloat(this.depositAmount);\n            this.txnExpense.exchangeDepositDeduction =\n                parseFloat(this.depositAmount) * this.exchangeRate.rate || 1;\n            this.txnExpense.exchangeAmount =\n                this.amountDue * this.exchangeRate.rate || 1;\n            this.txnExpense.purchaseOrder = this.purchaseOrder || {}\n            this.txnExpense.refFrom = []\n            if (this.purchaseOrder) {\n                this.txnExpense.refFrom = [\n                    {\n                        id: this.purchaseOrder.id || '',\n                        reference: this.purchaseOrder.referenceNo || ''\n                    }\n                ]\n            }\n        },\n        loggedUser(user) {\n            if (user) {\n                return {\n                    id: user.id,\n                    name: user.user_name,\n                    email: user.email,\n                };\n            }\n            return {};\n        },\n        supplierMap(supplier) {\n            if (supplier) {\n                return {\n                    id: supplier.uuid,\n                    name: supplier.name,\n                    email: supplier.email,\n                    phone: supplier.phone,\n                    address: supplier.address,\n                };\n            }\n            return {};\n        },\n        async saveTxnExpense(response) {\n            this.txnExpense[\"uuid\"] = response.data.uuid || '';\n            this.txnExpense[\"id\"] = this.txnExpense.id ? this.txnExpense.id : \"\";\n            this.txnExpense[\"journal_uuid\"] = response.data.journal_uuid || '';\n            this.txnExpense[\"actionType\"] = this.isEdit ? 'edit' : \"new\";\n            // let data = this.txnExpense;\n            // window.console.log('expense==', JSON.stringify(this.txnExpense.taxList))\n            billingHandler.createExpense(this.txnExpense).then((res) => {\n                if (res.data.statusCode === 201) {\n                    this.$snotify.success(\"Successfully\");\n                    this.responseStatus(response);\n                }\n            })\n                .catch((e) => {\n                    this.$snotify.error(\"Something went wrong\");\n                    this.errors.push(e);\n                });\n        },\n        removeDuplicate(array) {\n            const result = [];\n            const map = new Map();\n            for (const item of array) {\n                if (!map.has(item.id)) {\n                    map.set(item.id, true); // set any value to Map\n                    result.push(item);\n                }\n            }\n            return result;\n        },\n        account(txnAccount) {\n            if (txnAccount) {\n                return {\n                    id: txnAccount.uuid,\n                    uuid: txnAccount.uuid,\n                    account_uuid: txnAccount.account_uuid,\n                    name: txnAccount.name,\n                    local_name: txnAccount.local_name,\n                    number: txnAccount.number,\n                    is_taxable: txnAccount.is_taxable,\n                    banhjiAccCode: txnAccount.banhjiAccCode,\n                    group_code: txnAccount.group_code,\n                    parent_account: txnAccount.parent_account,\n                    type_code: txnAccount.type_code,\n                    account_type: txnAccount.account_type,\n                };\n            }\n            return {};\n        },\n        abbr(transactionType) {\n            if (transactionType) {\n                return transactionType.abbr;\n            }\n            return \"\";\n        },\n        supplierDepositBalance() {\n            this.supplierDepositAmount = 0;\n            if (this.depositBalance > 0) {\n                this.supplierDepositAmount =\n                    this.depositBalance / this.exchangeRate.rate;\n            }\n        },\n        async loadDepositBalance(id) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = id + \"?type=dep\";\n                    this.supplierDepositAmount = 0;\n                    this.depositAmount = 0;\n                    billingHandler\n                        .balance(strFilter)\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                const data = res.data.data;\n                                if (data.length > 0) {\n                                    this.depositBalance = data[0].balance;\n                                    this.supplierDepositBalance();\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 300);\n            });\n        },\n        async loadPurchaseFormContent() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    purchaseFormContentHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            const data = res.data.data;\n                            if (data.length > 0) {\n                                const supplierSetting = data[0];\n                                this.purchaseFormContent = supplierSetting;\n                                if (supplierSetting.hasOwnProperty(\"decimal\")) {\n                                    this.decimalFormat = \"n\" + supplierSetting.decimal;\n                                    // Add 2 default lines\n                                    this.addRow();\n                                    this.addRow();\n                                }\n                            }\n                        }\n                    });\n                }, 100);\n            });\n        },\n        numberFormat(value) {\n            return kendo.toString(value, `${this.decimalFormat}`);\n        },\n        onDueDateChanged() {\n            this.calculateDueDate(this.paymentTerm);\n        },\n        async onVendorChanged() {\n            // let paymentBilling = {};\n            // if (\n            //     Object.prototype.hasOwnProperty.call(this.supplier, \"paymentBilling\")\n            // ) {\n            //   paymentBilling = this.supplier.paymentBilling;\n            //   if (\n            //       Object.prototype.hasOwnProperty.call(paymentBilling, \"paymentTerm\")\n            //   ) {\n            //     this.paymentTerm = new PaymentTermModel(paymentBilling.paymentTerm);\n            //     this.calculateDueDate(paymentBilling.paymentTerm);\n            //   }\n            // }\n            this.loadDepositBalance(this.supplier.id);\n            this.loadPaymentTermList();\n\n            /* Supplier expense account */\n            let ds = this.$refs.expenseAccountDS.kendoWidget();\n            ds.data([]);\n\n            // Insert row\n            let je = new ExpenseEntryExtendedModel({\n                account: this.supplier.accountTax.expenseAcc,\n                quantity: 1,\n                decimalFormat: this.decimalFormat,\n            });\n\n            ds.add(je);\n            this.addRow();\n            this.loadPurchaseOrder()\n        },\n        calculateDueDate(paymentTerm) {\n            if (paymentTerm) {\n                if (paymentTerm.hasOwnProperty(\"netDue\")) {\n                    const netDue = paymentTerm.netDue;\n                    const dueDate = new Date(this.expense.expense_date);\n                    dueDate.setDate(dueDate.getDate() + parseInt(netDue)); //number  of days to add, e.x. 15 days\n                    this.expense.due_date = dueDate.toISOString().substr(0, 10);\n                }\n            }\n        },\n        NumberEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    format: `${this.decimalFormat}`,\n                });\n        },\n        Help(key_search) {\n            ShowResource(key_search);\n        },\n        // Initial Data\n        initialData() {\n            if (this.initExpense) {\n                // Edit Mode\n                this.expense = Object.assign({}, this.initExpense);\n                this.bindData();\n            } else {\n                // Brand New Mode\n                this.setDefaultData();\n            }\n        },\n        // Set default data\n        async setDefaultData() {\n            // Brand New Mode\n            this.isEdit = false;\n\n            this.expense = Object.assign({}, new ExpenseModel({\n                date: new Date().toISOString().substr(0, 10),\n                due_date: new Date().toISOString().substr(0, 10),\n                bill_date: new Date().toISOString().substr(0, 10),\n                month_of: new Date().toISOString().substr(0, 7),\n            }));\n\n            /* Default Sidebar */\n            let locations = await this.$store.dispatch(\"locations/getList\");\n            this.location = new LocationModel(locations[0]);\n\n            let segments = await this.$store.dispatch(\"segments/getList\");\n            this.segment = new SegmentModel(segments.find((i) => i.isSystem === 1));\n\n            // Generate Number\n            this.generateNumber();\n\n            // Add 2 default lines\n            // this.addRow();\n            // this.addRow();\n\n            this.autoCalculate();\n        },\n        // Bind data from prop for edit mode\n        async bindData() {\n            this.showLoading = true;\n\n            // Edit Mode\n            this.isEdit = true;\n\n            // Currency\n            this.currency = new CurrencyModel(this.expense.bill_currency);\n            this.exchangeRate = new ExchangeRateModel(this.expense.bill_currency);\n            this.exchangeRate.id = this.expense.expense_entries[0].exchange_rate_uuid;\n            this.exchangeRate.rate = this.expense.expense_entries[0].exchange_rate;\n\n            // Payment Term\n            let paymentTerms = await this.$store.dispatch(\"paymentTerms/getList\");\n            this.paymentTerm = paymentTerms.find((i) => i.id === this.expense.payment_term);\n\n            // Contacts\n            this.supplier = new SupplierModel(this.expense.supplier);\n            this.employee = new EmployeeModel(this.expense.employee);\n            this.hasAdditionalCost = Boolean(this.expense.additional_cost_supplier.uuid);\n\n            // Sidebar\n            let locations = await this.$store.dispatch(\"locations/getList\");\n            this.location = new LocationModel(locations.find((i) => i.id === this.expense.location_uuid));\n\n            let segments = await this.$store.dispatch(\"segments/getList\");\n            this.segment = new SegmentModel(\n                segments.find((i) => i.id === this.expense.segment_uuid)\n            );\n\n            let projects = await this.$store.dispatch(\"projects/getList\");\n            this.project = new ProjectModel(\n                projects.find((i) => i.id === this.expense.project_uuid)\n            );\n\n            // Cash Advance\n            if (\n                this.employee.id !== \"\" &&\n                this.segment.id !== \"\" &&\n                this.expense.use_for_option === 2\n            ) {\n                let cashAdvances = await cashAdvanceHandler.getByEmployeeId(\n                    this.employee.id\n                );\n                this.cashAdvances = cashAdvances.data.filter(\n                    (i) => i.segment_uuid === this.segment.id\n                );\n            }\n\n            // Entries\n            let entries = [],\n                subTotal = 0,\n                discountAmount = 0,\n                purchaseTaxAmount = 0,\n                whdTaxAmount = 0,\n                secondaryAccounts = await this.$store.dispatch(\"accounting/getSecondaryAccounts\"),\n                discountItems = await this.$store.dispatch(\"discountItems/getList\"),\n                taxItems = await this.$store.dispatch(\"taxes/getList\"),\n                uoms = await this.$store.dispatch(\"unitOfMeasurements/getList\"),\n                clazz = await this.$store.dispatch(\"classes/getList\");\n\n            this.expense.expense_entries.forEach((value) => {\n                // Purchase Tax\n                if (value.account.account_type.number === AccountTypeCode.PURCHASE_TAX) {\n                    purchaseTaxAmount += value.amount;\n                } else {\n                    if (value.amount > 0 && value.account.number !== AccountTypeCode.TAX_RELATED_EXPENSE_CODE) {\n                        let entry = new ExpenseEntryExtendedModel(value);\n                        entry.decimalFormat = this.decimalFormat;\n\n                        /* Secondary Account */\n                        if (value.secondary_acc_uuid !== \"\") {\n                            value.secondary_account = secondaryAccounts.find((i) => i.uuid === value.secondary_acc_uuid);\n                        }\n\n                        // Subtotal\n                        subTotal += value.amount;\n\n                        // UOM\n                        entry.uom = new UomModel(\n                            uoms.find((item) => item.id === value.uom_uuid)\n                        );\n\n                        // Discount\n                        if (value.hasOwnProperty('discount'))\n                            if (value.discount.hasOwnProperty('uuid'))\n                                entry.discount = new DiscountItemModel(discountItems.find((i) => i.id === value.discount.uuid));\n\n                        // Tax\n                        if (value.hasOwnProperty('tax_item'))\n                            if (value.tax_item.hasOwnProperty('uuid')) {\n                                entry.tax_item = taxItems.find((i) => i.id === value.tax_item.uuid);\n\n                                /* Apply Inclusive Tax to amount */\n                                if (entry.tax_item.hasOwnProperty('taxType'))\n                                    if (entry.tax_item.taxType.hasOwnProperty('typeId'))\n                                        if (entry.tax_item.taxType.typeId === 1 && entry.tax_item.baseAmount.toLowerCase() === TaxType.INCLUSIVE)\n                                            subTotal += entry.tax_amount;\n                            }\n\n                        // Classes\n                        entry.class1 = new ClassModel(\n                            clazz.find((item) => item.id === value.class_1_uuid)\n                        );\n                        entry.class2 = new ClassModel(\n                            clazz.find((item) => item.id === value.class_2_uuid)\n                        );\n                        entry.class3 = new ClassModel(\n                            clazz.find((item) => item.id === value.class_3_uuid)\n                        );\n                        entry.class4 = new ClassModel(\n                            clazz.find((item) => item.id === value.class_4_uuid)\n                        );\n                        entry.class5 = new ClassModel(\n                            clazz.find((item) => item.id === value.class_5_uuid)\n                        );\n\n                        entries.push(entry);\n                    } else {\n                        // Discount\n                        if (value.account.account_type.number === AccountTypeCode.DISCOUNT) {\n                            discountAmount += value.amount * -1;\n                        }\n\n                        // WHD Tax\n                        if (value.account.account_type.number === AccountTypeCode.WHD_TAX) {\n                            whdTaxAmount += value.amount * -1;\n                        }\n\n                        // Deposit\n                        if (~AccountTypeCode.PURCHASE_DEPOSITS.indexOf(value.account.account_type.number)) {\n                            this.depositAmount = value.amount * -1;\n                        }\n\n                        // Transaction Account (Payable Account / Clearing Account)\n                        if (value.account.uuid === this.expense.transaction_account.uuid) {\n                            this.amountDue = value.amount * -1;\n\n                            /* Secondary Account */\n                            this.secondaryAccount = secondaryAccounts.find((i) => i.uuid === value.secondary_acc_uuid);\n                        }\n                    }\n                }\n            });\n\n            // Bind Expense Entries\n            this.expenseEntries = entries;\n\n            // Calculation\n            this.subTotal = subTotal;\n            this.discountAmount = discountAmount;\n            this.purchaseTax = purchaseTaxAmount;\n            this.whdTax = whdTaxAmount;\n            this.totalAmount = subTotal - this.discountAmount;\n\n            /* Journal */\n            let journals = await journalHandler.getOne(this.expense.journal_uuid);\n            this.journal = journals.data;\n            this.loadExpensePurchaseOrder()\n            this.showLoading = false;\n        },\n        /* Load Data */\n        async loadData() {\n            // Supplier Setting such as decimal format\n            await this.loadPurchaseFormContent();\n\n            // Call Account List\n            this.accounts = await this.$store.dispatch(\"accounting/getAccounts\");\n            this.expenseAccounts = this.accounts;\n\n            // Advance Settlement Clearing Account by banhji_account_number\n            let advSetClrAcc = this.accounts.find(i => i.banhji_account_number === AccountTypeCode.ADVANCE_SETTLEMENT_CLEARING_CODE);\n            this.advanceSettlementClearingAccount = new AccountModel(advSetClrAcc);\n\n            // Other Clearing Suspenses Account by banhji_account_number\n            let otherClrSusAcc = this.accounts.find(i => i.banhji_account_number === AccountTypeCode.OTHER_CLEARING_SUSPENSES_CODE);\n            this.otherClearingSuspenseAccount = new AccountModel(otherClrSusAcc);\n            \n            // Filter Transaction Accounts\n            this.filterTransactionAccount();\n        },\n        // Number\n        async generateNumber() {\n            let num = await Helper.generateAccountingNumber(\n                EntityType.EXPENSES,\n                this.expense.expense_date\n            );\n\n            this.expense.number = num.number;\n            this.transactionType = num.prefix;\n            this.expense.prefix_format = num.prefix_format;\n        },\n        // Get Exchange Rate\n        async getExchangeRate() {\n            if (this.expense.expense_date && this.currency.code !== \"\") {\n                this.exchangeRate = await Helper.getLastExchangeRateByDate(\n                    this.expense.expense_date,\n                    this.currency.code\n                );\n            } else {\n                this.exchangeRate = new ExchangeRateModel(institute.baseCurrency);\n            }\n            window.console.log(this.exchangeRate, \"Xrate\");\n            this.supplierDepositBalance();\n        },\n        // Load Cash Advance\n        loadCashAdvance() {\n            /* Purchase Order */\n            this.loadPurchaseOrder()\n            /* Clear */\n            this.cashAdvances = [];\n            this.expense.use_for_transaction_uuid = \"\";\n\n            if (\n                this.employee.id !== \"\" &&\n                this.segment.id !== \"\" &&\n                this.expense.use_for_option === 2\n            ) {\n                this.showCashAdvanceLoading = true;\n\n                cashAdvanceHandler\n                    .getByEmployeeId(this.employee.id)\n                    .then((res) => {\n                        if (res.data) {\n                            /* Filter by segment */\n                            this.cashAdvances = res.data.filter(\n                                (item) => item.segment_uuid === this.segment.id\n                            );\n                        }\n                    })\n                    .finally(() => {\n                        this.showCashAdvanceLoading = false;\n                    });\n            }\n        },\n        /* On date changes */\n        onDateChanges() {\n            this.expense.month_of = new Date(this.expense.expense_date).toISOString().substr(0, 7);\n            this.getExchangeRate();\n            this.generateNumber();\n        },\n        /* On Transaction Account Changes */\n        onTransactionAccountChanges() {\n            this.secondaryAccount = new AccountModel();\n        },\n        /* On Cash Advance Changes */\n        onCashAdvanceChanges() {\n            this.setCashAdvanceProject();\n            this.disableProject = false;\n        },\n        /* Bind project from cash advance */\n        async setCashAdvanceProject() {\n            if (this.expense.use_for_transaction_uuid !== \"\") {\n                let cashAdvance = this.cashAdvances.find(\n                    (i) => i.uuid === this.expense.use_for_transaction_uuid\n                );\n\n                if (cashAdvance.project_uuid !== \"\") {\n                    let projects = await this.$store.dispatch(\"projects/getList\");\n                    this.project = projects.find(\n                        (i) => i.id === cashAdvance.project_uuid\n                    );\n\n                    this.disableProject = true;\n                } else {\n                    this.disableProject = false;\n                }\n            }\n        },\n        // On Employee Radio Changes\n        onUseForOptionChanges() {\n            // Clear Selected Cash Advance\n            this.expense.use_for_transaction_uuid = \"\";\n            this.expense.transaction_account = new AccountModel();\n\n            /* Load Cash Advance */\n            if (this.expense.use_for_option === 2) {\n                this.loadCashAdvance();\n            }\n\n            this.secondaryAccount = new AccountModel();\n            this.filterTransactionAccount();\n        },\n        // Filter Transation Account\n        async filterTransactionAccount() {\n            if (this.expense.use_for_option === 0) {\n                // Credit (Payable Account)\n                this.transactionAccounts = this.accounts.filter(\n                    (i) =>\n                        ~AccountTypeCode.PAYABLE_ACCOUNTS.indexOf(i.account_type.number)\n                );\n            } else if (this.expense.use_for_option === 3) {\n                // Cash Account\n                this.transactionAccounts = this.accounts.filter(\n                    (i) =>\n                        ~AccountTypeCode.CASH_ACCOUNTS.indexOf(i.account_type.number)\n                );\n            } else {\n                // Reimbursement / Cash Advance\n                this.expense.transaction_account = this.advanceSettlementClearingAccount;\n                this.transactionAccounts = [this.advanceSettlementClearingAccount];\n            }\n        },\n        // On Additional Cost Changes\n        onAdditionalCostCheckboxChanges() {\n            let ds = this.$refs.expenseAccountDS.kendoWidget();\n            ds.data([]);\n\n            if (this.hasAdditionalCost) {\n                this.expenseAccounts = [this.otherClearingSuspenseAccount];\n\n                // Insert row\n                let je = new ExpenseEntryExtendedModel({\n                    account: this.otherClearingSuspenseAccount,\n                    quantity: 1,\n                    decimalFormat: this.decimalFormat,\n                });\n\n                ds.add(je);\n            } else {\n                this.expense.additional_cost_supplier = null;\n                this.expenseAccounts = this.accounts;\n                this.addRow();\n                this.addRow();\n            }\n        },\n        /* Kendo */\n        // DataSource Changes\n        onExpenseAccountDSChanges(e) {\n            if (e.field) {\n                let dataRow = e.items[0];\n\n                if (e.field === \"account\") {\n                    /* Set account id */\n                    dataRow.set(\"account_uuid\", dataRow.account.uuid);\n\n                    /* Add Extra Row */\n                    this.addExtraRow(dataRow.uid);\n                } else if (e.field === \"secondary_account\") {\n                    if (dataRow.secondary_account !== null) {\n                        dataRow.set(\"secondary_acc_uuid\", dataRow.secondary_account.uuid);\n                    } else {\n                        // Set default when deselect\n                        dataRow.set(\"secondary_acc_uuid\", \"\");\n                        dataRow.set(\"secondary_account\", new AccountModel());\n                    }\n                } else if (e.field === \"quantity\" || e.field === \"price\") {\n                    let amt =\n                        kendo.parseFloat(dataRow.quantity) *\n                        kendo.parseFloat(dataRow.price);\n                    dataRow.set(\"amount\", amt);\n                } else if (e.field === \"uom\") {\n                    if (dataRow.uom) {\n                        dataRow.set(\"uom_uuid\", dataRow.uom.id);\n                    }\n                } else if (e.field === \"tax_item\") {\n                    if (dataRow.tax_item === null) {\n                        // Set default when deselect\n                        dataRow.set(\"tax_item\", new TaxModel());\n                    }\n                } else if (e.field === \"class1\") {\n                    if (dataRow.class1 !== null) {\n                        dataRow.set(\"class_1_uuid\", dataRow.class1.id);\n                    } else {\n                        // Set default when deselect\n                        dataRow.set(\"class_1_uuid\", \"\");\n                        dataRow.set(\"class1\", new ClassModel());\n                    }\n                } else if (e.field === \"class2\") {\n                    if (dataRow.class2 !== null) {\n                        dataRow.set(\"class_2_uuid\", dataRow.class2.id);\n                    } else {\n                        // Set default when deselect\n                        dataRow.set(\"class_2_uuid\", \"\");\n                        dataRow.set(\"class2\", new ClassModel());\n                    }\n                } else if (e.field === \"class3\") {\n                    if (dataRow.class3 !== null) {\n                        dataRow.set(\"class_3_uuid\", dataRow.class3.id);\n                    } else {\n                        // Set default when deselect\n                        dataRow.set(\"class_3_uuid\", \"\");\n                        dataRow.set(\"class3\", new ClassModel());\n                    }\n                } else if (e.field === \"class4\") {\n                    if (dataRow.class4 !== null) {\n                        dataRow.set(\"class_4_uuid\", dataRow.class4.id);\n                    } else {\n                        // Set default when deselect\n                        dataRow.set(\"class_4_uuid\", \"\");\n                        dataRow.set(\"class4\", new ClassModel());\n                    }\n                } else if (e.field === \"class5\") {\n                    if (dataRow.class5 !== null) {\n                        dataRow.set(\"class_5_uuid\", dataRow.class5.id);\n                    } else {\n                        // Set default when deselect\n                        dataRow.set(\"class_5_uuid\", \"\");\n                        dataRow.set(\"class5\", new ClassModel());\n                    }\n                }\n\n                this.autoCalculate();\n            }\n        },\n        calculateDiscount(discountItem, subTotal) {\n            if (discountItem) {\n                const nature = discountItem.nature;\n                const amount = discountItem.amount;\n                if (nature === \"Amount\") {\n                    return kendo.parseFloat(amount);\n                } else if (nature === \"Percentage\") {\n                    return subTotal * (kendo.parseFloat(amount) / 100);\n                }\n            }\n        },\n        autoCalculateTax(tax, amount) {\n            if (tax) {\n                var formula = tax.formula;\n                var inAmt = kendo.parseFloat(amount);\n                var nAmt = kendo.parseFloat(amount);\n                var taxBase = kendo.parseFloat(tax.taxBase) / 100;\n                var rate = kendo.parseFloat(tax.rate) / 100;\n                var total = eval(formula);\n                window.console.log(inAmt, nAmt, taxBase, rate, formula, total);\n                return total;\n            }\n            // return 0\n        },\n        // Auto Calculate In DataSource\n        async autoCalculate() {\n            let expDS = this.$refs.expenseAccountDS.kendoWidget(),\n                subTotal = 0,\n                discount = 0,\n                purchaseTax = 0,\n                whdTax = 0,\n                inclusiveTax = 0,\n                taxListDetail = [],\n                tax = [],\n                discountItem = [];\n\n            // Expense\n            expDS.data().forEach((value) => {\n                let amt = kendo.parseFloat(value.price) * kendo.parseFloat(value.quantity);\n\n                /* Subtotal */\n                subTotal += amt;\n\n                // Discount\n                let discountAmount = 0;\n                if (value.hasOwnProperty('discount'))\n                    if (value.discount.hasOwnProperty('id'))\n                        if (value.discount.id !== \"\") {\n                            discountAmount = this.calculateDiscount(value.discount, amt);\n                            discount += discountAmount;\n                            discountItem.push(value.discount);\n                        }\n\n                // Tax\n                if (value.hasOwnProperty('tax_item'))\n                    if (value.tax_item.hasOwnProperty('id'))\n                        if (value.tax_item.id !== \"\") {\n                            let amtAfterDiscount = amt - discountAmount;\n                            const taxAmount = this.autoCalculateTax(value.tax_item, amtAfterDiscount);\n                            if (value.tax_item.baseAmount.toLowerCase() === TaxType.INCLUSIVE) {\n                                inclusiveTax += taxAmount;\n                            }\n                            /*todo: add expense tax */\n                            // const vatTax_ = value.tax_item || {}\n                            tax['taxAmount'] = taxAmount\n                            tax['amount'] = value.amount || 0\n                            tax['discount'] = discountAmount || 0\n                            tax['txnRate'] = this.exchangeRate.rate || 1\n                            tax['isVat'] = 1\n                            tax['line'] = new TaxModel(value.tax_item || {})\n                            tax.detail = {\n                                specificTax: {},\n                                publicLightingTax: {},\n                                otherTax: {},\n                            }\n                            taxListDetail.push(tax);\n                            /*****************************/\n                            if (value.tax_item.hasOwnProperty('taxType'))\n                                if (value.tax_item.taxType.hasOwnProperty('typeId'))\n                                    if (value.tax_item.taxType.typeId === 2) {/* WHD Tax */\n                                        whdTax += taxAmount;\n                                    } else {/* Purchase Tax */\n                                        purchaseTax += taxAmount;\n                                    }\n\n                            /* Set Tax Amount */\n                            if (value.tax_item.taxType.typeId === 1 && value.tax_item.baseAmount.toLowerCase() === TaxType.INCLUSIVE) {/* Inclusive Tax */\n                                value.set(\"tax_amount\", taxAmount * -1);\n                            } else {\n                                value.set(\"tax_amount\", taxAmount);\n                            }\n                        }\n\n            });\n\n            /* Apply Inclusive Tax */\n            subTotal -= inclusiveTax;\n\n            this.subTotal = subTotal;\n            this.discountAmount = discount;\n            this.purchaseTax = purchaseTax;\n            this.whdTax = whdTax;\n\n            let totalAmount = (this.subTotal - discount) + whdTax + purchaseTax;\n            this.totalAmount = totalAmount;\n\n            let amountDue = (this.totalAmount - this.depositAmount) - whdTax;\n            this.amountDue = amountDue;\n\n            this.supplierDiscountItem = this.removeDuplicate(discountItem);\n\n            this.taxListDetail = taxListDetail\n            await this.autoCalculateTaxDetail()\n        },\n        // Row Number Template\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.expenseAccountDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n\n            return index + 1;\n        },\n        // Grid Custom Editor\n        expenseAccountEditor(container, options) {\n            return Helper.accountEditor(container, options, this.expenseAccounts);\n        },\n        // Add New Row\n        addRow() {\n            let ds = this.$refs.expenseAccountDS.kendoWidget(),\n                last = ds.total();\n\n            let je = new ExpenseEntryExtendedModel();\n            je.quantity = 1;\n            je.decimalFormat = this.decimalFormat;\n\n            ds.insert(last, je);\n        },\n        // Add Extra Row\n        addExtraRow(uid) {\n            let ds = this.$refs.expenseAccountDS.kendoWidget(),\n                total = ds.total(),\n                row = ds.getByUid(uid),\n                index = ds.indexOf(row);\n\n            if (index === total - 1) {\n                this.addRow();\n            }\n        },\n        // Remove Row\n        removeRow(e) {\n            e.preventDefault();\n\n            let grid = this.$refs.expenseGrid.kendoWidget(),\n                ds = grid.dataSource,\n                dataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n\n            if (ds.data().length > 1) {\n                ds.remove(dataItem);\n                this.autoCalculate();\n            }\n        },\n        removeEmptyRow() {\n            let ds = this.$refs.expenseAccountDS.kendoWidget();\n\n            /* Collect empty row by uid */\n            let emptyIds = [];\n            ds.data().forEach(value => {\n                if (value.account.name === '') {\n                    emptyIds.push(value.uid);\n                }\n            });\n\n            /* Remove empty row by uid */\n            for (let i = 0; i < emptyIds.length; i++) {\n                const dataItem = ds.getByUid(emptyIds[i]);\n                ds.remove(dataItem);\n            }\n        },\n        // Shrink Data\n        shrinkData() {\n            // Date\n            this.expense.expense_date = Helper.toISODate(this.expense.expense_date);\n            this.expense.bill_date = Helper.toISODate(this.expense.bill_date);\n            this.expense.due_date = Helper.toISODate(this.expense.due_date);\n            this.expense.payment_term = this.paymentTerm.id;\n\n            // Currency\n            this.expense.bill_currency = this.currency;\n\n            // Supplier\n            this.expense.supplier = new ContactModel(this.supplier);\n\n            // Employee\n            this.expense.employee = new ContactModel(this.employee);\n\n            // Sidebar\n            this.expense.location_uuid = this.location.id;\n            this.expense.segment_uuid = this.segment.id;\n            this.expense.project_uuid = this.project.id;\n\n            /* Status */\n            if (this.expense.use_for_option === 3) {/* Cash */\n                this.expense.is_cleared = 1; /* Paid */\n            }\n\n            // User\n            if (this.isEdit) {\n                this.expense.modified_by = this.user;\n            } else {\n                this.expense.created_by = this.user;\n            }\n\n            /* Remove Empty Rows */\n            this.removeEmptyRow();\n\n            /* Expense Entries */\n            let entries = [],\n                expDS = this.$refs.expenseAccountDS.kendoWidget();\n\n            /* Expense Account on Dr */\n            expDS.data().forEach((value) => {\n                let entry = new ExpenseEntryModel(value);\n\n                // Account\n                entry.account = new AccountModel(value.account);\n\n                // Contact\n                entry.primary_contact = new ContactModel(this.supplier);\n                entry.secondary_contacts = [new ContactModel(this.employee)];\n\n                /* Discount */\n                entry.discount = new DiscountItemModel(value.discount);\n\n                /* Tax */\n                entry.tax_item = new TaxModel(value.tax_item);\n\n                // Currency\n                entry.currency = new CurrencyModel(this.currency);\n                entry.exchange_rate_uuid = this.exchangeRate.id;\n                entry.exchange_rate = this.exchangeRate.rate;\n                entry.exchanged_amount = value.amount * this.exchangeRate.rate;\n                entry.exchanged_tax_amount = value.tax_amount * this.exchangeRate.rate;\n\n                // Discount on Cr\n                let discountAmount = 0;\n                if (value.hasOwnProperty('discount'))\n                    if (value.discount.hasOwnProperty('id'))\n                        if (value.discount.id !== \"\") {\n                            let subTo = kendo.parseFloat(value.price) * kendo.parseFloat(value.quantity);\n                            discountAmount = this.calculateDiscount(value.discount, subTo);\n\n                            /* Discount Entry */\n                            let discountEntry = new ExpenseEntryModel(entry);\n                            discountEntry.account = new AccountModel(value.discount.account);\n                            discountEntry.account_uuid = value.discount.account.uuid;\n                            discountEntry.amount = discountAmount * -1; // Cr side is negative\n                            discountEntry.exchanged_amount = discountAmount * this.exchangeRate.rate;\n                            discountEntry.tax_amount = 0;\n                            discountEntry.exchanged_tax_amount = 0;\n\n                            /* Push Discount Entry */\n                            entries.push(discountEntry);\n                        }\n\n                // Taxes on Dr\n                if (value.hasOwnProperty('tax_item'))\n                    if (value.tax_item.hasOwnProperty('id'))\n                        if (value.tax_item.id !== \"\") {\n                            let amtAfterDiscount = kendo.parseFloat(value.amount) - discountAmount;\n                            let taxAmount = this.autoCalculateTax(value.tax_item, amtAfterDiscount);\n\n                            if (value.tax_item.hasOwnProperty('taxType'))\n                                if (value.tax_item.taxType.hasOwnProperty('typeId'))\n                                    if (value.tax_item.taxType.typeId === 2) {/* WHD Tax on Cr side */\n                                        if (value.tax_item.baseAmount.toLowerCase() === \"net\") {/* WHD Tax Net on Dr side */\n                                            // Add Another Tax Related Expense Account\n                                            let taxRelatedExpenseAccount = new AccountModel(this.accounts.find(i => i.banhjiAccCode === AccountTypeCode.TAX_RELATED_EXPENSE_CODE));\n\n                                            /* Tax Related Expense Entry on Dr */\n                                            let taxRelatedExpenseEntry = new ExpenseEntryModel(entry);\n                                            taxRelatedExpenseEntry.account = taxRelatedExpenseAccount;\n                                            taxRelatedExpenseEntry.account_uuid = taxRelatedExpenseAccount.uuid;\n                                            taxRelatedExpenseEntry.description = i18n.t(\"witholding_tax_expense\");\n                                            taxRelatedExpenseEntry.amount = taxAmount;\n                                            taxRelatedExpenseEntry.exchanged_amount = taxAmount * this.exchangeRate.rate;\n                                            taxRelatedExpenseEntry.tax_amount = 0;\n                                            taxRelatedExpenseEntry.exchanged_tax_amount = 0;\n\n                                            /* Push Tax Related Expense Entry */\n                                            entries.push(taxRelatedExpenseEntry);\n                                        }\n\n                                        // WHD Tax\n                                        taxAmount *= -1; // Cr side\n                                    }\n\n                            /* Tax Entry */\n                            let taxEntry = new ExpenseEntryModel(entry);\n                            taxEntry.account = new AccountModel(value.tax_item.account);\n                            taxEntry.account_uuid = value.tax_item.account.uuid;\n                            taxEntry.amount = taxAmount;\n                            taxEntry.exchanged_amount = taxAmount * this.exchangeRate.rate;\n                            taxEntry.tax_amount = 0;\n                            taxEntry.exchanged_tax_amount = 0;\n\n                            /* Push Tax Entry */\n                            entries.push(taxEntry);\n                        }\n\n                /* Push Entry */\n                entries.push(entry);\n            });\n\n            // Deposit Account on Cr\n            if (this.depositAmount > 0) {\n                entries.push(\n                    new ExpenseEntryModel({\n                        account: new AccountModel(this.supplier.accountTax.purchaseDepositAcc),\n                        account_uuid: this.supplier.accountTax.purchaseDepositAcc.uuid,\n                        primary_contact: new ContactModel(this.supplier),\n                        secondary_contacts: [new ContactModel(this.employee)],\n                        description: this.expense.journal_note,\n                        currency: new CurrencyModel(this.currency),\n                        amount: this.depositAmount * -1, // Cr side is negative\n                        exchange_rate_uuid: this.exchangeRate.id,\n                        exchange_rate: this.exchangeRate.rate,\n                    })\n                );\n            }\n\n            // Transaction Account on Cr\n            entries.push(\n                new ExpenseEntryModel({\n                    account: new AccountModel(this.expense.transaction_account),\n                    account_uuid: this.expense.transaction_account.uuid,\n                    secondary_acc_uuid : this.secondaryAccount.uuid,\n                    primary_contact: new ContactModel(this.supplier),\n                    secondary_contacts: [new ContactModel(this.employee)],\n                    description: this.expense.journal_note,\n                    currency: new CurrencyModel(this.currency),\n                    amount: this.amountDue * -1,// Cr side is negative\n                    exchange_rate_uuid: this.exchangeRate.id,\n                    exchange_rate: this.exchangeRate.rate,\n                })\n            );\n\n            // Use existing uuid\n            if (this.isEdit) {\n                /* Clear uuid */\n                entries.forEach(value => {\n                    value.uuid = \"\";\n                });\n\n                /* Apply existing uuid */\n                for (let i = 0; i < this.journal.journal_entries.length; i++) {\n                    if (i < entries.length) {\n                        const oldEntry = this.journal.journal_entries[i];\n                        entries[i].uuid = oldEntry.uuid;\n                    }\n                }\n            }\n\n            /* Bind Expense Entries */\n            this.expense.expense_entries = entries;\n\n            // mapping to Dynamodb ( expense record ) -> save everywhere morng ^_^\n            this.mappingExpense(this.expense);\n        },\n        // Add Journal\n        addJournal() {\n            let entries = [];\n\n            /* Add Journal Entries */\n            this.expense.expense_entries.forEach((value) => {\n                let entry = new JournalEntryModel(value);\n\n                /* Apply Inclusive Tax to amount */\n                if (value.tax_amount !== 0) {\n                    if (value.tax_item.hasOwnProperty(\"taxType\")) {\n                        if (value.tax_item.taxType.hasOwnProperty(\"typeId\")) {\n                            if (value.tax_item.taxType.typeId === 1 && value.tax_item.baseAmount.toLowerCase() === TaxType.INCLUSIVE) {\n                                entry.amount = value.amount + value.tax_amount;\n                            }\n                        }\n                    }\n                }\n                entry.exchanged_amount = entry.amount * this.exchangeRate.rate;\n\n                // Add Entry\n                entries.push(entry);\n            });\n\n            // Journal Entries\n            this.journalEntries = entries;\n\n            // Journal\n            this.journal.number = this.expense.number;\n            this.journal.description = this.expense.journal_note;\n            this.journal.journal_date = Helper.toISODate(this.expense.expense_date);\n            this.journal.journal_type = EntityType.AUTO_JOURNAL;\n            this.journal.transaction_type = EntityType.EXPENSES;\n            this.journal.related_transaction_uuid = this.expense.use_for_transaction_uuid;\n            this.journal.month_of = this.expense.month_of;\n            this.journal.location_uuid = this.expense.location_uuid;\n            this.journal.project_uuid = this.expense.project_uuid;\n            this.journal.segment_uuid = this.expense.segment_uuid;\n            this.journal.prefix_format = this.expense.prefix_format;\n            this.journal.is_draft = this.expense.is_draft;\n            this.journal.created_date = this.expense.created_date;\n            this.journal.created_by = this.expense.created_by;\n            this.journal.modified_by = this.expense.modified_by;\n        },\n        // Validating\n        validateForm() {\n            let result = true,\n                expDS = this.$refs.expenseAccountDS.kendoWidget(),\n                msg = \"\",\n                secondaryAccountCount = 0,\n                expenseCount = 0;\n\n            // Supplier\n            if (this.supplier.id === \"\") {\n                msg += `<p>${i18n.t(\"supplier_is_required\")}</p>`;\n                result = false;\n            }\n\n            // Bill Number\n            if (this.expense.bill_number === \"\") {\n                msg += `<p>${i18n.t(\"bill_number_is_required\")}</p>`;\n                result = false;\n            }\n\n            // Payment Term\n            if (this.paymentTerm.hasOwnProperty(\"id\"))\n                if (this.paymentTerm.id === \"\") {\n                    msg += `<p>${i18n.t(\"payment_term_is_required\")}</p>`;\n                    result = false;\n                }\n\n            // Employee\n            let employeeOptions = [1, 2];\n            if (this.employee.id === \"\" && ~employeeOptions.indexOf(this.expense.use_for_option)) {\n                msg += `<p>${i18n.t(\"employee_is_required\")}</p>`;\n                result = false;\n            }\n\n            // Expense\n            expDS.data().forEach((value, index) => {\n                // No account\n                if (value.account.uuid === \"\" && value.amount > 0) {\n                    result = false;\n                    msg += `<p>${i18n.t(\n                        \"please_select_expense_account_at_row_number\"\n                    )} ${index + 1}</p>`;\n                }\n\n                // No amount\n                if (value.account.uuid !== \"\" && value.amount === 0) {\n                    result = false;\n                    msg += `<p>${value.account.name} ${i18n.t(\"has_no_amount\")}</p>`;\n                }\n\n                // // Discount\n                // if(value.hasOwnProperty('discount'))\n                // if(value.discount.hasOwnProperty('account'))\n                // if (value.discount.account.uuid === \"\" || value.discount.account.account_type.number === 0) {\n                //     result = false;\n                //     msg += `<p>${i18n.t(\"invalid_discount_account_at_row_number\")} ${index + 1}</p>`;\n                // }\n\n                // // Tax\n                // if(value.hasOwnProperty('tax_item'))\n                // if(value.tax_item.hasOwnProperty('account'))\n                // if (value.tax_item.account.uuid === \"\" || value.tax_item.account.account_type.number === 0) {\n                //     result = false;\n                //     msg += `<p>${i18n.t(\"invalid_tax_account_at_row_number\")} ${index + 1}</p>`;\n                // }\n\n                // Count Empty Row\n                if (value.account.uuid !== \"\" && value.amount > 0) {\n                    expenseCount++;\n                }\n\n                // Count secondary account\n                if (value.secondary_account.uuid !== \"\") {\n                    secondaryAccountCount++;\n                }\n            });\n\n            // Empty Row\n            if (expenseCount === 0) {\n                msg += `<p>${i18n.t(\"please_select_expense_account\")}</p>`;\n                result = false;\n            }\n\n            // Transaction Account\n            if (this.expense.transaction_account.uuid === \"\") {\n                msg += `<p>${i18n.t(\"please_select_transaction_account\")}</p>`;\n                result = false;\n            }\n\n            // Secondary Account\n            if (this.secondaryAccount.uuid === \"\" && secondaryAccountCount > 0) {\n                msg += `<p>${i18n.t(\"transaction_secondary_account_is_required\")}</p>`;\n                result = false;\n            }\n            if (this.secondaryAccount.uuid !== \"\" && secondaryAccountCount === 0) {\n                msg += `<p>${i18n.t(\"expense_secondary_account_is_required\")}</p>`;\n                result = false;\n            }\n\n            // Use for Cash Advance\n            if (\n                this.expense.use_for_option === 2 &&\n                this.expense.use_for_transaction_uuid === \"\"\n            ) {\n                msg += `<p>${i18n.t(\"please_select_related_cash_advance\")}</p>`;\n                result = false;\n            }\n\n            /* Location */\n            if (this.location.id === \"\") {\n                msg += `<p>${i18n.t(\"location_is_required\")}</p>`;\n                result = false;\n            }\n\n            /* Segment */\n            if (this.segment.id === \"\") {\n                msg += `<p>${i18n.t(\"segment_is_required\")}</p>`;\n                result = false;\n            }\n\n            // Show Alert\n            this.errorMessage = msg;\n\n            this.alert = result === false;\n\n            return result;\n        },\n        // All Saves\n        async onSaveOptionClick(mode) {\n            if (this.$refs.form.validate() && this.validateForm()) {\n                let isValidClosingDate = await Helper.validateClosingDate(\n                    this.expense.expense_date\n                );\n                if (isValidClosingDate) {\n                    this.saveMode = mode;\n                    this.save();\n                }\n            }\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((result) => {\n                if (result.value) {\n                    this.clear();\n                    this.$router.go(-1);\n                }\n            });\n        },\n        clear() {\n            // Reset Form\n            this.isEdit = false;\n            this.saveMode = \"\";\n\n            this.subTotal = 0;\n            this.discountAmount = 0;\n            this.purchaseTax = 0;\n            this.whdTax = 0;\n            this.totalAmount = 0;\n            this.supplierDepositAmount = 0;\n            this.depositAmount = 0;\n            this.amountDue = 0;\n            this.hasAdditionalCost = false;\n\n            this.expense = new ExpenseModel();\n            this.journal = new JournalModel();\n            this.journalEntries = [];\n            this.employee = new EmployeeModel();\n            this.supplier = new SupplierModel();\n            this.paymentTerm = new PaymentTermModel();\n            this.currency = new CurrencyModel(institute.baseCurrency);\n            this.exchangeRate = new ExchangeRateModel(institute.baseCurrency);\n            this.secondaryAccount = new AccountModel();\n            this.location = new LocationModel();\n            this.segment = new SegmentModel();\n            this.project = new ProjectModel();\n\n            let expDS = this.$refs.expenseAccountDS.kendoWidget();\n            expDS.data([]);\n\n            this.setDefaultData();\n        },\n        save() {\n            let self = this;\n\n            // Draft Mode\n            if (this.saveMode === SaveOption.SAVEDRAFT) {\n                this.expense.is_draft = 1;\n            } else {\n                this.expense.is_draft = 0;\n            }\n\n            // Shrink Data\n            this.shrinkData();\n\n            // Add Journal\n            this.addJournal();\n\n            // Sync Data\n            this.showLoading = true;\n            expenseHandler.save({\n                expense: this.expense,\n                journal: this.journal,\n                journal_entries: this.journalEntries,\n            }).then(async (response) => {\n                if (response) {\n                    if (response.data.uuid) {\n                        this.showLoading = true;\n                        await self.saveTxnExpense(response);\n                        // await self.autoCalculateTaxDetail()\n                        self.showLoading = false;\n                    }\n                }else{\n                    self.showLoading = false;\n                    this.$snotify.error(i18n.t(\"error_something_wrong\"));\n                }\n            })\n            .catch((error) => {\n                self.showLoading = false;\n                this.$snotify.error(error);\n            })\n            .finally(() => {\n                // self.showLoading = false;\n            });\n        },\n        // Response Status\n        async responseStatus(response) {\n            if (response.status === 200) {\n                if (this.saveMode === SaveOption.SAVECLOSE || this.saveMode === SaveOption.DELETE) {\n                    /* Save Close or Delete */\n                    if (this.isEdit) {\n                        this.goBackToViewPage();\n                    } else {\n                        this.$router.go(-1);\n                    }\n                }\n\n                this.clear();\n\n                /* Alert Success */\n                this.$snotify.success(i18n.t(\"successful\"));\n            } else {\n                /* Alert Error */\n                this.$snotify.error(i18n.t(\"error_something_wrong\"));\n            }\n        },\n        // Go back to view page after edit mode\n        getExpense() {\n            return new ExpenseModel(this.expense);\n        },\n        goBackToViewPage() {\n            this.$router.replace({\n                name: \"Expenses View\",\n                params: {initExpense: this.getExpense()},\n            });\n        },\n        HideSmallSideBar() {\n            this.isHideBar = !this.isHideBar;\n        },\n        async loadPaymentTermList() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (this.supplier) {\n                        const strFilter =\n                            \"?id=\" +\n                            this.supplier.id +\n                            \"&transactionDate=\" +\n                            this.expense.expense_date +\n                            \"&type=Vendor\";\n                        this.paymentTerm = new PaymentTermModel();\n                        paymentTermHandler_.get(strFilter).then((res) => {\n                            if (res.data.statusCode === 200) {\n                                const terms = res.data.data;\n                                if (!kendo.jQuery.isEmptyObject(terms)) {\n                                    this.paymentTerm = terms.term;\n                                    this.calculateDueDate(this.paymentTerm);\n                                }\n                            }\n                        });\n                    }\n                }, 10);\n            });\n        },\n        async autoCalculateTaxDetail() {\n            let ids = []\n            this.taxListDetail.forEach(n => {\n                const line = n.line || {}\n                ids.push(line.id || '')\n            })\n            const unique = [...new Set(ids)]\n            let result = []\n            for (const m of unique) {\n                let amount = 0, row = {}, discount = 0, xDiscount = 0, xAmount = 0, taxAmount = 0, xTaxAmount = 0\n                let taxDetail = [], isVat = 0\n                const found = this.taxListDetail.filter(n => n.line.id === m)\n                found.forEach(k => {\n                    row = k\n                    if (k.isVat === 1) {\n                        isVat = 1\n                        const detail_ = k.detail || {}\n                        taxDetail.push(detail_)\n\n                    }\n                    taxAmount += k.taxAmount || 0\n                    xTaxAmount += (k.taxAmount || 0) * (k.txnRate || 1)\n                    amount += (k.amount || 0)\n                    xAmount += (k.amount || 0) * (k.txnRate || 1)\n                    discount += (k.discount || 0)\n                    xDiscount += (k.discount || 0) * (k.txnRate || 1)\n                })\n\n                if (isVat === 1) {\n                    row.detail = {\n                        specificTax: {\n                            name: '',\n                            nameLocale: '',\n                            amount: 0,\n                            exchangeAmount: 0,\n                            accountId: '',\n                            rate: 1,\n                        },\n                        publicLightingTax: {\n                            name: '',\n                            nameLocale: '',\n                            amount: 0,\n                            exchangeAmount: 0,\n                            accountId: '',\n                            rate: 1,\n                        },\n                        otherTax: {\n                            name: '',\n                            nameLocale: '',\n                            amount: 0,\n                            exchangeAmount: 0,\n                            accountId: '',\n                            rate: 1,\n                        }\n                    }\n                } else {\n                    row.detail = {}\n                }\n\n                row.amount = amount\n                row.exchangeAmount = xAmount\n                row.taxAmount = taxAmount\n                row.exchangeTaxAmount = xTaxAmount\n                row.discount = discount\n                row.exchangeDiscount = xDiscount\n                row.currency = this.currency || {}\n                result.push(row)\n                taxDetail = []\n            }\n            const taxDetail = result.map(k => {\n                return {\n                    amount: k.amount,\n                    currency: k.currency,\n                    detail: k.detail,\n                    discount: k.discount,\n                    exchangeAmount: k.exchangeAmount,\n                    exchangeDiscount: k.exchangeDiscount,\n                    exchangeTaxAmount: k.exchangeTaxAmount,\n                    isVat: k.isVat,\n                    line: k.line,\n                    taxAmount: k.taxAmount,\n                    txnRate: k.txnRate\n                }\n            })\n            this.txnExpense.saleTaxDetail = taxDetail\n            window.console.log('saleTaxDetail txnExpense', JSON.stringify(taxDetail))\n        },\n        async loadPurchaseOrder() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    let segmentId = \"\", locationId = '', priceLevelId = \"\", supplierId = \"\", txnDate = \"\";\n                    if (this.segment) {\n                        segmentId = this.segment.id || '';\n                    }\n                    if (this.location) {\n                        locationId = this.location.id || '';\n                    }\n                    if (this.supplier) {\n                        supplierId = this.supplier.id;\n                    }\n                    // if (this.priceLevel) {\n                    //     priceLevelId = this.priceLevel.id || '';\n                    // }\n                    if (this.expense.expense_date) {\n                        txnDate = this.expense.expense_date;\n                    }\n                    let strFilter = \"\";\n                    if (segmentId !== \"\" && supplierId !== \"\" && locationId !== \"\" && txnDate !== \"\") {\n                        strFilter = \"?id=\" + supplierId + \"&segId=\" + segmentId + \"&locId=\" + locationId + \"&plId=\" + priceLevelId + \"&date=\" + txnDate + '&type=Purchase Order'\n                    }\n                    if (strFilter !== \"\") {\n                        this.refFrom = []\n                        this.showLoadingPO = true\n                        saleOrderHandler\n                            .transactionFilter(strFilter)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoadingPO = false\n                                    this.purchaseOrders = res.data.data;\n                                } else {\n                                    this.showLoadingPO = false\n                                }\n                            })\n                    }\n                }, 10);\n            });\n        },\n        async loadExpensePurchaseOrder() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (\n                        this.$route.params.id !== \"\" ||\n                        this.$route.params.id !== undefined\n                    ) {\n                        const id = (this.$route.params.id || '')\n                        const strId = id.includes('txn-') ? id : 'txn-' + id\n                        this.showLoadingPO = true\n                        billingHandler\n                            .expenseView(strId)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoadingPO = false\n                                    if (res.data.data.length > 0) {\n                                        this.purchaseOrder = res.data.data[0];\n                                    }\n                                } else {\n                                    this.showLoadingPO = true\n                                }\n                            })\n                    }\n                }, 10);\n            });\n        },\n    },\n    watch: {\n        initExpense() {\n            this.initialData();\n        },\n    },\n    created() {\n        this.loadData();\n    },\n    computed: {\n        disableMe() {\n            if (this.expense) {\n                const uuid = this.expense.uuid || \"\";\n                if (uuid) {\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n            return false;\n        },\n    },\n    mounted() {\n        // Initial Data\n        this.initialData();\n    },\n};\n</script>\n\n<style scoped>\n.v-input.custom-radio\n.v-input--selection-controls__input\n.v-input--selection-controls__ripple {\n    display: none !important;\n}\n\n.function_wrapper {\n    box-shadow: none !important;\n}\n\n.v-application--is-ltr .v-text-field .v-input__append-inner {\n    margin-top: 0 !important;\n}\n\n.v-input__slot {\n    background-color: #fff !important;\n}\n\n.function_content .label {\n    margin-bottom: 10px;\n    display: inline-block;\n}\n\n.border_radius10 {\n    border-radius: 10px !important;\n    background-color: #f2f2f2;\n}\n\n.pa-3.v-card h4 {\n    font-size: 18px;\n    color: #333;\n}\n\n.pa-3.v-card p {\n    font-size: 12px;\n    color: #b5b5b5;\n}\n\n.attachment_file {\n    background-color: #efeded;\n    border-radius: 0 !important;\n}\n\n.attachment_table.v-data-table table {\n    border: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.attachment_table table tr th {\n    border-left: thin solid rgba(0, 0, 0, 0.12);\n    height: 35px;\n    border-right: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.block_debit,\n.block_credit {\n    border-bottom: 1px solid #fff;\n}\n\n.block_debit p.number,\n.block_credit p.number {\n    font-size: 25px;\n    color: #7f7f7f;\n}\n\n.block_debit h5,\n.block_credit h5,\n.block_difference h5 {\n    text-transform: uppercase;\n    color: #7f7f7f;\n    font-size: 15px;\n    font-weight: normal;\n}\n\n.block_difference h5 {\n    font-size: 18px;\n}\n\n.block_difference h5 span {\n    font-size: 15px;\n}\n\n.custom_grid table th:last-child {\n    text-align: right !important;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        max-width: 1250px;\n    }\n}\n\n@media (max-width: 576px) {\n    .pt-6.col-sm-5.col-12 {\n        padding-top: 0 !important;\n    }\n\n    .code_text {\n        width: 100%;\n    }\n\n    .phone_no_pt {\n        padding-top: 0 !important;\n    }\n\n    .select_template,\n    .save_option {\n        margin-bottom: 10px;\n    }\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: 0.5s ease-in;\n    flex: 0 0 0;\n    padding: 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n.info_add {\n    background-color: #ffffff;\n}\n\n.small_sidebar {\n    height: 98%;\n    position: relative;\n    padding: 12px;\n    background-color: #edf1f5;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.color_grey {\n    color: #808080;\n}\n\n.card_green {\n    min-height: 70px;\n    background-color: #00b050 !important;\n    color: #ffffff;\n}\n\n.lb_bold {\n    font-size: 12px;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 10px;\n}\n\n.card_background {\n    background-color: #edf1f5;\n    min-height: 120px;\n}\n\n.deposite_input {\n    width: 100px;\n}\n\n.btn_save_draft {\n    color: #ffffff;\n    background-color: #00b0f0 !important;\n    text-transform: capitalize;\n}\n\n.save_option {\n    background-color: #203864 !important;\n}\n\n.btn_add_small {\n    height: 27px !important;\n    min-width: 25px !important;\n    font-size: 10px;\n    padding: 0 22px !important;\n    background-color: #00b050 !important;\n    color: #ffffff;\n    border-radius: 0 !important;\n}\n\n.list_site_inv {\n    background-color: #92d050;\n    color: #ffffff;\n    font-size: 12px;\n}\n\n.list_site_exp {\n    background-color: #c5e0b4;\n    color: #000000;\n    font-size: 12px;\n    line-height: 16px;\n    min-height: 40px;\n}\n\n.checkbox_inv {\n    padding: 2px;\n    margin-top: 3px;\n    margin-right: 2px;\n}\n\n.exp_select {\n    font-size: 12px !important;\n}\n\n.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> tbody\n> tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n</style>\n"],"sourceRoot":"src/views/suppliers"}]}