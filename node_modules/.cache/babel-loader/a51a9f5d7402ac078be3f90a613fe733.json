{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/suppliers/PurchaseDeposits.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/suppliers/PurchaseDeposits.vue","mtime":1638499443344},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/babel.config.js","mtime":1638499442885},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktYWNjb3VudGluZy13ZWItbW9kdWxlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7Cgp2YXIgX2RlZmF1bHRJdGVtOwoKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBpMThuIH0gZnJvbSAiQC9pMThuIjsKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CmltcG9ydCBQdXJjaGFzZURlcG9zaXRNb2RlbCBmcm9tICJAL3NjcmlwdHMvcHVyY2hhc2VfZGVwb3NpdC9tb2RlbC9QdXJjaGFzZURlcG9zaXQiOwppbXBvcnQgeyBEcm9wRG93bkxpc3QgfSBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdnVlLWRyb3Bkb3ducyI7CmltcG9ydCB7IHV1aWQgfSBmcm9tICJ2dWUtdXVpZCI7CmltcG9ydCBJdGVtTGluZU1vZGVsIGZyb20gIkAvc2NyaXB0cy9wdXJjaGFzZV9kZXBvc2l0L21vZGVsL0l0ZW1MaW5lIjsKaW1wb3J0IHsgZGF0YVN0b3JlLCBTaG93UmVzb3VyY2UgfSBmcm9tICJAL29ic2VydmFibGUvc3RvcmUiOwppbXBvcnQgUGF5bWVudE9wdGlvbkVkaXRvciBmcm9tICJAL3NjcmlwdHMva2VuZG9fZWRpdG9yL1BheW1lbnRPcHRpb25FZGl0b3IiOwoKdmFyIHNhbGVPcmRlckhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvdHJhbnNhY3Rpb25IYW5kbGVyIik7Cgp2YXIgc3VwcGxpZXJIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3N1cHBsaWVySGFuZGxlciIpOwoKdmFyIGxvY2F0aW9uSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9sb2NhdGlvbkhhbmRsZXIiKTsKCnZhciBzZXR0aW5nc0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2V0dGluZ3NIYW5kbGVyIik7Cgp2YXIgcHVyY2hhc2VEZXBvc2l0TW9kZWwgPSBuZXcgUHVyY2hhc2VEZXBvc2l0TW9kZWwoe30pOwoKdmFyIHByZWZpeEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJlZml4SGFuZGxlciIpOwoKdmFyIGJpbGxpbmdIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2ludm9pY2UvaGFuZGxlci9iaWxsaW5nSGFuZGxlciIpOwoKdmFyIGFjY291bnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2hhbmRsZXIvYWNjb3VudGluZy9hY2NvdW50Iik7Cgp2YXIgaXRlbUxpbmVNb2RlbCA9IG5ldyBJdGVtTGluZU1vZGVsKHt9KTsKdmFyICQgPSBrZW5kby5qUXVlcnk7Cgp2YXIgcGF5bWVudE9wdGlvbkhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcGF5bWVudE9wdGlvbkhhbmRsZXIiKTsKCnZhciBjdXJyZW5jeUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY3VycmVuY3kvaGFuZGxlci9jdXJyZW5jeUhhbmRsZXIiKTsKCnZhciBkZWZhdWx0SXRlbSA9IChfZGVmYXVsdEl0ZW0gPSB7fSwgX2RlZmluZVByb3BlcnR5KF9kZWZhdWx0SXRlbSwgIm51bWJlck5hbWUiLCAiU2VsZWN0IHZlbmRvci4uLiIpLCBfZGVmaW5lUHJvcGVydHkoX2RlZmF1bHRJdGVtLCAiaWQiLCBudWxsKSwgX2RlZmF1bHRJdGVtKTsKCnZhciBlbXB0eUl0ZW0gPSBfZGVmaW5lUHJvcGVydHkoe30sICJudW1iZXJOYW1lIiwgImxvYWRpbmcgLi4uIik7Cgp2YXIgaXRlbUxpbmVQcmVmaXggPSAibGluLSI7CnZhciBPUFRJT05fVFlQRSA9ICJTdXBwbGllciI7CnZhciBzdHJGaWx0ZXIgPSAiP29wdGlvblR5cGU9IiArIE9QVElPTl9UWVBFOwoKdmFyIGNvb2tpZUpTID0gcmVxdWlyZSgiQC9jb29raWUuanMiKTsKCnZhciBjb29raWUgPSBjb29raWVKUy5nZXRDb29raWUoKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQdXJjaGFzZURlcG9zaXQiLAogIHByb3BzOiBbImlkIl0sCiAgY29tcG9uZW50czogewogICAgTG9hZGluZ01lOiBmdW5jdGlvbiBMb2FkaW5nTWUoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9Mb2FkaW5nIik7CiAgICB9LAogICAgImFwcC1kYXRlcGlja2VyIjogZnVuY3Rpb24gYXBwRGF0ZXBpY2tlcigpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvRGF0ZVBpY2tlckNvbXBvbmVudCIpOwogICAgfSwKICAgIGRyb3Bkb3dubGlzdDogRHJvcERvd25MaXN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgICBhbGVydDogZmFsc2UsCiAgICAgIGZpbGVzOiBbXSwKICAgICAgc2VnbWVudHM6IFtdLAogICAgICBsb2NhdGlvbnM6IFtdLAogICAgICBwdXJjaGFzZURlcG9zaXQ6IHB1cmNoYXNlRGVwb3NpdE1vZGVsLAogICAgICBpdGVtTGluZTogaXRlbUxpbmVNb2RlbCwKICAgICAgc3VwcGxpZXJMaXN0OiBbXSwKICAgICAgc3VwcGxpZXI6IHt9LAogICAgICB0ZXh0RmllbGQ6ICJudW1iZXJOYW1lIiwKICAgICAgZGVmYXVsdEl0ZW06IGRlZmF1bHRJdGVtLAogICAgICBkYXRhSXRlbUtleTogImlkIiwKICAgICAgZmlsdGVyOiAiIiwKICAgICAgY3VzQmFzZVVybDogc3VwcGxpZXJIYW5kbGVyLnNlYXJjaCgpLAogICAgICB0cmFuc2FjdGlvblR5cGVzOiBbXSwKICAgICAgYWNjU3VwcGxpZXJEZXBvc2l0OiBbXSwKICAgICAgcGF5bWVudE1ldGhvZDogW10sCiAgICAgIHB1cmNoYXNlT3JkZXJzOiBbXSwKICAgICAgc2FsZU9yZGVyQW1vdW50OiAwLAogICAgICBzYWxlT3JkZXJDdXJyZW5jeTogIiIsCiAgICAgIGN1cnJlbmN5Q29kZTogIiIsCiAgICAgIGFjY0Nhc2g6IFtdLAogICAgICBkZXBvc2l0TGluZTogW10sCiAgICAgIGN1cnJlbmN5TGlzdDogW10sCiAgICAgIGRlY2ltYWxGb3JtYXQ6ICJuMiIsCiAgICAgIGRlcG9zaXRCYWxhbmNlOiAwLAogICAgICB2YWxpZDogdHJ1ZSwKICAgICAgbG9nZ2VkVXNlcjogewogICAgICAgIGlkOiBjb29raWUuY3JlYXRvciwKICAgICAgICBuYW1lOiBjb29raWUuZW1haWwKICAgICAgfSwKICAgICAgdHJhbnNhY3Rpb25EYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwKICAgICAgdGVtcGxhdGVzOiBbewogICAgICAgIHRpdGxlOiAiUHVyY2hhc2UgRGVwb3NpdCIsCiAgICAgICAgdmFsdWU6ICJQdXJjaGFzZSBEZXBvc2l0IgogICAgICB9XSwKICAgICAgaXNIaWRlQmFyOiBmYWxzZSwKICAgICAgUGF5bWVudE9wdGlvbkVkaXRvcjogUGF5bWVudE9wdGlvbkVkaXRvciwKICAgICAgcmVmRnJvbTogW10sCiAgICAgIHJlZlRvOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uUE9DaGFuZ2VkOiBmdW5jdGlvbiBvblBPQ2hhbmdlZCgpIHsKICAgICAgaWYgKHRoaXMucHVyY2hhc2VEZXBvc2l0KSB7CiAgICAgICAgaWYgKHRoaXMucHVyY2hhc2VEZXBvc2l0LnB1cmNoYXNlT3JkZXIpIHsKICAgICAgICAgIHZhciBzYWxlT3JkZXIgPSB0aGlzLnB1cmNoYXNlRGVwb3NpdC5wdXJjaGFzZU9yZGVyIHx8IHt9OwogICAgICAgICAgdmFyIHNlZ21lbnQgPSBzYWxlT3JkZXIuc2VnbWVudCB8fCB7fTsKICAgICAgICAgIHZhciBsb2NhdGlvbiA9IHNhbGVPcmRlci5sb2NhdGlvbiB8fCB7fTsKICAgICAgICAgIHRoaXMucHVyY2hhc2VEZXBvc2l0LnNlZ21lbnQgPSBzZWdtZW50OwogICAgICAgICAgdGhpcy5wdXJjaGFzZURlcG9zaXQubG9jYXRpb24gPSBsb2NhdGlvbjsKICAgICAgICAgIHRoaXMucmVmRnJvbS5wdXNoKHsKICAgICAgICAgICAgaWQ6IHNhbGVPcmRlci5pZCB8fCAnJywKICAgICAgICAgICAgcmVmZXJlbmNlOiBzYWxlT3JkZXIubnVtYmVyIHx8ICcnCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHRoaXMucHVyY2hhc2VEZXBvc2l0LnJlZkZyb20gPSB0aGlzLnJlZkZyb207CiAgICAgIH0KICAgIH0sCiAgICBIZWxwOiBmdW5jdGlvbiBIZWxwKGtleV9zZWFyY2gpIHsKICAgICAgU2hvd1Jlc291cmNlKGtleV9zZWFyY2gpOwogICAgfSwKICAgIHNhdmVOZXc6IGZ1bmN0aW9uIHNhdmVOZXcoKSB7fSwKICAgIHJlbW92ZVJvdzogZnVuY3Rpb24gcmVtb3ZlUm93KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRQdXJjaGFzZURlcG9zaXQiKS5kYXRhKCJrZW5kb0dyaWQiKSwKICAgICAgICAgIGRhdGFTb3VyY2UgPSBncmlkLmRhdGFTb3VyY2UsCiAgICAgICAgICBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwoKICAgICAgaWYgKGRhdGFTb3VyY2UudG90YWwoKSA+IDEpIHsKICAgICAgICBkYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7CiAgICAgIH0KICAgIH0sCiAgICBudW1iZXJGb3JtYXQ6IGZ1bmN0aW9uIG51bWJlckZvcm1hdChvYmosIHR5cGUpIHsKICAgICAgaWYgKG9iaikgewogICAgICAgIC8vIHRoaXMucHVyY2hhc2VEZXBvc2l0LmxvY2F0aW9uID0gb2JqLmhhc093blByb3BlcnR5KCdsb2NhdGlvbicpID8gb2JqLmxvY2F0aW9uIDoge30KICAgICAgICAvLyB0aGlzLnB1cmNoYXNlRGVwb3NpdC5zZWdtZW50ID0gb2JqLmhhc093blByb3BlcnR5KCdzZWdtZW50JykgPyBvYmouc2VnbWVudCA6IHt9CiAgICAgICAgaWYgKHR5cGUgPT09ICJhbW91bnQiKSB7CiAgICAgICAgICB2YXIgdmFsdWUgPSBvYmouaGFzT3duUHJvcGVydHkoImFtb3VudCIpID8gb2JqLmFtb3VudCA6IDA7CiAgICAgICAgICB2YXIgZGVjaW1hbEZvcm1hdCA9IG9iai5oYXNPd25Qcm9wZXJ0eSgiZGVjaW1hbEZvcm1hdCIpID8gb2JqLmRlY2ltYWxGb3JtYXQgOiAibjIiOwogICAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKHBhcnNlRmxvYXQodmFsdWUpLCBkZWNpbWFsRm9ybWF0KTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJjdXJyZW5jeSIpIHsKICAgICAgICAgIHZhciBjdXJyZW5jeSA9IG9iai5oYXNPd25Qcm9wZXJ0eSgiY3VycmVuY3kiKSA/IG9iai5jdXJyZW5jeSA6ICIiOwogICAgICAgICAgcmV0dXJuIGN1cnJlbmN5LmNvZGU7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gIi0iOwogICAgfSwKICAgIGFtb3VudEZvcm1hdDogZnVuY3Rpb24gYW1vdW50Rm9ybWF0KHZhbHVlKSB7CiAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhwYXJzZUZsb2F0KHZhbHVlKSwgIiIuY29uY2F0KHRoaXMuZGVjaW1hbEZvcm1hdCkpOwogICAgfSwKICAgIGdlbmVyYXRlTnVtYmVyOiBmdW5jdGlvbiBnZW5lcmF0ZU51bWJlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICB2YXIgdHJhbkRhdGUgPSBuZXcgRGF0ZSh0aGlzLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgdmFyIHRyYW5EYXRlSW52b2ljZSA9IG5ldyBEYXRlKHRoaXMucHVyY2hhc2VEZXBvc2l0LnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgdmFyIHRyYW5EYXRlTSA9IHRyYW5EYXRlLmdldEZ1bGxZZWFyKCkgKyB0cmFuRGF0ZS5nZXRNb250aCgpOwogICAgICAgIHZhciB0cmFuRGF0ZUludm9pY2VNID0gdHJhbkRhdGVJbnZvaWNlLmdldEZ1bGxZZWFyKCkgKyB0cmFuRGF0ZUludm9pY2UuZ2V0TW9udGgoKTsKCiAgICAgICAgaWYgKHRyYW5EYXRlTSA9PT0gdHJhbkRhdGVJbnZvaWNlTSkgewogICAgICAgICAgdGhpcy5wdXJjaGFzZURlcG9zaXQucmVmZXJlbmNlTm8gPSB0aGlzLnJlZmVyZW5jZU5vOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMudHJhbnNhY3Rpb25EYXRlICE9PSAiIiAmJiB0aGlzLnRyYW5zYWN0aW9uVHlwZXMubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgYWJicjogdGhpcy5wdXJjaGFzZURlcG9zaXQudHJhbnNhY3Rpb25UeXBlLmFiYnIsCiAgICAgICAgICBzdHJ1Y3R1cmU6IHRoaXMucHVyY2hhc2VEZXBvc2l0LnRyYW5zYWN0aW9uVHlwZS5zdHJ1Y3R1cmUsCiAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IHRoaXMudHJhbnNhY3Rpb25EYXRlLAogICAgICAgICAgc2VxdWNlbmNpbmc6IHRoaXMucHVyY2hhc2VEZXBvc2l0LnRyYW5zYWN0aW9uVHlwZS5zZXF1Y2VuY2luZywKICAgICAgICAgIHR5cGU6ICJQdXJjaGFzZSBEZXBvc2l0IiwKICAgICAgICAgIGVudGl0eTogMQogICAgICAgIH07CiAgICAgICAgYmlsbGluZ0hhbmRsZXIubGFzdE51bWJlcihkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIHZhciByZXMgPSByZXNwb25zZS5kYXRhLmRhdGE7CgogICAgICAgICAgICB2YXIgbGFzdE51bWJlciA9IF90aGlzLnplcm9QYWQocGFyc2VJbnQocmVzLmxhc3ROdW1iZXIpLCBfdGhpcy5wdXJjaGFzZURlcG9zaXQudHJhbnNhY3Rpb25UeXBlLmZvcm1hdCk7CgogICAgICAgICAgICBfdGhpcy5wdXJjaGFzZURlcG9zaXQubnVtYmVyID0gcmVzLnN1ZmZpeCArIF90aGlzLnB1cmNoYXNlRGVwb3NpdC50cmFuc2FjdGlvblR5cGUubnVtYmVyU2VwYXJhdG9yICsgbGFzdE51bWJlcjsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goZSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB6ZXJvUGFkOiBmdW5jdGlvbiB6ZXJvUGFkKG51bSwgcGxhY2VzKSB7CiAgICAgIHJldHVybiBTdHJpbmcobnVtKS5wYWRTdGFydChwbGFjZXMsICIwIik7CiAgICB9LAogICAgc3VmZml4OiBmdW5jdGlvbiBzdWZmaXgodHJhbnNhY3Rpb25EYXRlKSB7CiAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh0cmFuc2FjdGlvbkRhdGUpLCAieXltbSIpOwogICAgfSwKICAgIGVycm9yTWVzc2FnZTogZnVuY3Rpb24gZXJyb3JNZXNzYWdlKCkge30sCiAgICBhY2NvdW50RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIGFjY291bnREcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bnVtYmVyIyAtICM9IG5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLVNlbGVjdC0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIGRhdGE6IHRoaXMuYWNjQ2FzaAogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIG1ldGhvZERyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBtZXRob2REcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9Y29kZSMgLSAjPSBuYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS1TZWxlY3QtLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLnBheW1lbnRNZXRob2QKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBhY2NvdW50VGVtcGxhdGU6IGZ1bmN0aW9uIGFjY291bnRUZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgYWNjID0gZGF0YUl0ZW0uYWNjb3VudDsKCiAgICAgIGlmIChhY2MpIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KGFjYy5uYW1lID8gYWNjLm5hbWUgOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBtZXRob2RUZW1wbGF0ZTogZnVuY3Rpb24gbWV0aG9kVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIG1ldGhvZCA9IGRhdGFJdGVtLnBheW1lbnRPcHRpb24gfHwgJyc7CgogICAgICBpZiAobWV0aG9kKSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChtZXRob2QuYmFua0FjY291bnROYW1lIHx8ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIGFtb3VudFRlbXBsYXRlOiBmdW5jdGlvbiBhbW91bnRUZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgYW10ID0gZGF0YUl0ZW0uYW1vdW50OwoKICAgICAgaWYgKGFtdCkgewogICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhwYXJzZUZsb2F0KGFtdCksICIiLmNvbmNhdCh0aGlzLmRlY2ltYWxGb3JtYXQpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgfSwKICAgIGFtb3VudEVkaXRvcjogZnVuY3Rpb24gYW1vdW50RWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBkYXRhLWJpbmQ9InZhbHVlOicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9OdW1lcmljVGV4dEJveCh7CiAgICAgICAgZGVjaW1hbHM6IDMwLAogICAgICAgIGZvcm1hdDogIiIuY29uY2F0KHRoaXMuZGVjaW1hbEZvcm1hdCkKICAgICAgfSk7CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgdGl0bGU6IGkxOG4udCgibXNnX3RpdGxlX3dhcm5pbmciKSwKICAgICAgICB0ZXh0OiBpMThuLnQoIm1zZ19kaXNjYXJkIiksCiAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCJjYW5jZWwiKSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoImRpc2NhcmQiKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICBfdGhpczIuY2xlYXIoKTsKCiAgICAgICAgICBfdGhpczIuJHJvdXRlci5nbygtMSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7CiAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5zdXBwbGllciA9IHt9OwogICAgICB0aGlzLnB1cmNoYXNlT3JkZXJzID0gW107CiAgICAgIHZhciBzZWdtZW50ID0gdGhpcy5wdXJjaGFzZURlcG9zaXQuc2VnbWVudCB8fCB7fTsKICAgICAgdmFyIGxvY2F0aW9uID0gdGhpcy5wdXJjaGFzZURlcG9zaXQubG9jYXRpb24gfHwge307CiAgICAgIHRoaXMuZ2VuZXJhdGVOdW1iZXIoKTsKICAgICAgdmFyIHR4blR5cGUgPSB0aGlzLnB1cmNoYXNlRGVwb3NpdC50cmFuc2FjdGlvblR5cGU7CiAgICAgIHRoaXMucHVyY2hhc2VEZXBvc2l0ID0gbmV3IFB1cmNoYXNlRGVwb3NpdE1vZGVsKHt9KTsKICAgICAgdGhpcy5wdXJjaGFzZURlcG9zaXQudHJhbnNhY3Rpb25UeXBlID0gdHhuVHlwZTsKICAgICAgdGhpcy5wdXJjaGFzZURlcG9zaXQuc2VnbWVudCA9IHNlZ21lbnQ7CiAgICAgIHRoaXMucHVyY2hhc2VEZXBvc2l0LmxvY2F0aW9uID0gbG9jYXRpb247IC8vIHRoaXMuZGVwb3NpdExpbmUgPSBbXTsKCiAgICAgIHZhciBsaW5lcyA9IHRoaXMuJHJlZnMucHVyY2hhc2VEZXBvc2l0RFMua2VuZG9XaWRnZXQoKTsKICAgICAgbGluZXMuZGF0YShbXSk7CiAgICAgIHRoaXMuYWRkUm93KCk7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB3aW5kb3cuaGlzdG9yeS5nbygtMSk7CiAgICB9LAogICAgaGlkZVNtYWxsU2l0ZUJhcjogZnVuY3Rpb24gaGlkZVNtYWxsU2l0ZUJhcigpIHsKICAgICAgdGhpcy5pc0hpZGVCYXIgPSAhdGhpcy5pc0hpZGVCYXI7CiAgICB9LAogICAgb25GaWx0ZXJDaGFuZ2U6IGZ1bmN0aW9uIG9uRmlsdGVyQ2hhbmdlKGV2ZW50KSB7CiAgICAgIHZhciBmaWx0ZXIgPSBldmVudC5maWx0ZXIudmFsdWU7CiAgICAgIHRoaXMucmVxdWVzdERhdGEoMCwgZmlsdGVyLCB0aGlzLmN1c0Jhc2VVcmwpOwogICAgICB0aGlzLmZpbHRlciA9IGZpbHRlcjsKICAgIH0sCiAgICByZXF1ZXN0RGF0YTogZnVuY3Rpb24gcmVxdWVzdERhdGEoc2tpcCwgZmlsdGVyLCBiYXNlVXJsKSB7CiAgICAgIHZhciB1cmwgPSBiYXNlVXJsICsgIj9maWx0ZXI9Ii5jb25jYXQoZmlsdGVyKTsKICAgICAgZmV0Y2godXJsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgIH0pLnRoZW4odGhpcy5hZnRlckZldGNoKTsKICAgIH0sCiAgICBhZnRlckZldGNoOiBmdW5jdGlvbiBhZnRlckZldGNoKGpzb24pIHsKICAgICAgdGhpcy5zdXBwbGllckxpc3QgPSBqc29uLmRhdGE7CiAgICB9LAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgIHZhciB2YWx1ZSA9IGV2ZW50LnZhbHVlOwoKICAgICAgaWYgKHZhbHVlICYmIHZhbHVlWyJudW1iZXJOYW1lIl0gPT09IGVtcHR5SXRlbVsibnVtYmVyTmFtZSJdKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLnN1cHBsaWVyID0gdmFsdWU7CgogICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICBpZiAodmFsdWUuaWQgIT09IG51bGwpIHsKICAgICAgICAgIHRoaXMuZGVjaW1hbEZvcm1hdCA9IHRoaXMuc3VwcGxpZXIuZGVjaW1hbEZvcm1hdDsKCiAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoImJhc2VDdXJyZW5jeSIpKSB7CiAgICAgICAgICAgIGlmICh2YWx1ZS5iYXNlQ3VycmVuY3kuaGFzT3duUHJvcGVydHkoImNvZGUiKSkgewogICAgICAgICAgICAgIHRoaXMuY3VycmVuY3lDb2RlID0gIiAiICsgdmFsdWUuYmFzZUN1cnJlbmN5LmNvZGU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLnB1cmNoYXNlRGVwb3NpdC5wdXJjaGFzZURlcG9zaXRBY2MgPSB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgicHVyY2hhc2VEZXBvc2l0QWNjIikgPyB2YWx1ZS5wdXJjaGFzZURlcG9zaXRBY2MgOiB7fTsKICAgICAgICAgIHRoaXMubG9hZFB1cmNoYXNlT3JkZXJzKCk7CiAgICAgICAgICB0aGlzLmxvYWRDdXN0b21lckJhbGFuY2UodmFsdWUuaWQpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGxvYWRMb2NhdGlvbjogZnVuY3Rpb24gbG9hZExvY2F0aW9uKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJvbGVUeXBlLCByb2xlRGF0YSwgbG9jYXRpb24sIGxvY2F0aW9uRGVmYXVsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMubG9jYXRpb25zID0gW107CiAgICAgICAgICAgICAgICByb2xlVHlwZSA9IGRhdGFTdG9yZS5yb2xlVHlwZSB8fCAwOwoKICAgICAgICAgICAgICAgIGlmIChyb2xlVHlwZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICBpZiAoZGF0YVN0b3JlLnJvbGVEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgcm9sZURhdGEgPSBkYXRhU3RvcmUucm9sZURhdGEgfHwgW107CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24gPSByb2xlRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0bSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0bS50eXBlID09PSAnbG9jYXRpb24nOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uRGVmYXVsdCA9IGxvY2F0aW9uLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uaXNEZWZhdWx0ID09PSAxOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIF90aGlzMy5sb2NhdGlvbnMgPSBsb2NhdGlvbjsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMy4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQgfHwgX3RoaXMzLiRyb3V0ZS5wYXJhbXMuaWQgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb25EZWZhdWx0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnB1cmNoYXNlRGVwb3NpdC5sb2NhdGlvbiA9IGxvY2F0aW9uRGVmYXVsdFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sZVR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMubG9jYXRpb25zID0gW107CiAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbkhhbmRsZXIubGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuc2hvd0xvYWRpbmcgPSB0cnVlOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5sb2NhdGlvbnMgPSByZXMuZGF0YS5kYXRhOyAvLyBpZiAodGhpcy5sb2NhdGlvbnMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLnB1cmNoYXNlRGVwb3NpdC5sb2NhdGlvbiA9IHRoaXMubG9jYXRpb25zWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRTZWdtZW50OiBmdW5jdGlvbiBsb2FkU2VnbWVudCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcm9sZVR5cGUsIHJvbGVEYXRhLCBzZWdtZW50LCBzZWdtZW50RGVmYXVsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM0LnNlZ21lbnRzID0gW107CiAgICAgICAgICAgICAgICByb2xlVHlwZSA9IGRhdGFTdG9yZS5yb2xlVHlwZSB8fCAwOwoKICAgICAgICAgICAgICAgIGlmIChyb2xlVHlwZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICBpZiAoZGF0YVN0b3JlLnJvbGVEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgcm9sZURhdGEgPSBkYXRhU3RvcmUucm9sZURhdGEgfHwgW107CiAgICAgICAgICAgICAgICAgICAgc2VnbWVudCA9IHJvbGVEYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRtKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRtLnR5cGUgPT09ICdzZWdtZW50JzsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBzZWdtZW50RGVmYXVsdCA9IHNlZ21lbnQuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5pc0RlZmF1bHQgPT09IDE7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNlZ21lbnRzID0gc2VnbWVudDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNC4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQgfHwgX3RoaXM0LiRyb3V0ZS5wYXJhbXMuaWQgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudERlZmF1bHQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQucHVyY2hhc2VEZXBvc2l0LnNlZ21lbnQgPSBzZWdtZW50RGVmYXVsdFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sZVR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2VnbWVudHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzSGFuZGxlci5nZXRTZWcoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2VnbWVudHMgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUHJlZml4OiBmdW5jdGlvbiBsb2FkUHJlZml4KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHByZWZpeEhhbmRsZXIuZ2V0KCJwdXJjaGFzZSBkZXBvc2l0IikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUudHJhbnNhY3Rpb25UeXBlcyA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LnRyYW5zYWN0aW9uVHlwZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5wdXJjaGFzZURlcG9zaXQudHJhbnNhY3Rpb25UeXBlID0gX3RoaXM1LnRyYW5zYWN0aW9uVHlwZXNbMF07CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczUuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuZ2VuZXJhdGVOdW1iZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRBY2NvdW50OiBmdW5jdGlvbiBsb2FkQWNjb3VudCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBhY2NvdW50SGFuZGxlci5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmFjY1N1cHBsaWVyRGVwb3NpdCA9IHJlcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5hY2NvdW50X3R5cGUubnVtYmVyID09PSA5OwogICAgICAgICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6IGl0ZW0ubG9jYWxfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGl0ZW0ubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0ZW0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5oamlBY2NDb2RlOiBpdGVtLmJhbmhqaUFjY0NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfY29kZTogaXRlbS5ncm91cF9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdGVtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfY29kZTogaXRlbS50eXBlX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudF90eXBlOiBpdGVtLmFjY291bnRfdHlwZQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuYWNjQ2FzaCA9IHJlcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5hY2NvdW50X3R5cGUubnVtYmVyIDw9IDU7CiAgICAgICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxfbmFtZTogaXRlbS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaXRlbS5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfdGF4YWJsZTogaXRlbS5pc190YXhhYmxlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmhqaUFjY0NvZGU6IGl0ZW0uYmFuaGppQWNjQ29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9jb2RlOiBpdGVtLmdyb3VwX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50X2FjY291bnQ6IGl0ZW0ucGFyZW50X2FjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9jb2RlOiBpdGVtLnR5cGVfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IGl0ZW0uYWNjb3VudF90eXBlCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LmFjY1N1cHBsaWVyRGVwb3NpdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5wdXJjaGFzZURlcG9zaXQuYWNjUmVjZWl2YWJsZSA9IF90aGlzNi5hY2NTdXBwbGllckRlcG9zaXRbMF07CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUHVyY2hhc2VPcmRlcnM6IGZ1bmN0aW9uIGxvYWRQdXJjaGFzZU9yZGVycygpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzNy5zdXBwbGllcikgewogICAgICAgICAgICAgICAgICBfdGhpczcuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICBfdGhpczcucHVyY2hhc2VPcmRlcnMgPSBbXTsKICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiYnlfc3VwcGxpZXIiLAogICAgICAgICAgICAgICAgICAgICAgICBzdXBwbGllcjogX3RoaXM3LnN1cHBsaWVyLmlkLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiUHVyY2hhc2UgT3JkZXIiCiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgc2FsZU9yZGVySGFuZGxlci5zZWFyY2goZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvRGF0YSA9IG0udHhuRGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnB1cmNoYXNlT3JkZXJzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG0uaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IG0udG90YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IG0ubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHBvRGF0YS5jdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY2ltYWxGb3JtYXQ6IG0uZGVjaW1hbEZvcm1hdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBwb0RhdGEubG9jYXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50OiBwb0RhdGEuc2VnbWVudAogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gd2luZG93LmNvbnNvbGUubG9nKHRoaXMucHVyY2hhc2VPcmRlcnMsJ3B1cmNoYXNlJykKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJvd051bWJlclRtcGw6IGZ1bmN0aW9uIHJvd051bWJlclRtcGwoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5wdXJjaGFzZURlcG9zaXREUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKICAgICAgcmV0dXJuIGluZGV4ICsgMTsKICAgIH0sCiAgICBhZGRSb3c6IGZ1bmN0aW9uIGFkZFJvdygpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5wdXJjaGFzZURlcG9zaXREUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgdG90YWwgPSBkcy50b3RhbCgpOwogICAgICB0aGlzLml0ZW1MaW5lLmlkID0gaXRlbUxpbmVQcmVmaXggKyB1dWlkLnYxKCk7CiAgICAgIHRoaXMuaXRlbUxpbmUuZGVjaW1hbEZvcm1hdCA9IHRoaXMuZGVjaW1hbEZvcm1hdDsKICAgICAgdGhpcy5pdGVtTGluZS5vcHRpb25UeXBlID0gT1BUSU9OX1RZUEU7CiAgICAgIGRzLmluc2VydCh0b3RhbCwgdGhpcy5pdGVtTGluZSk7IC8vIHRoaXMuaXRlbUxpbmVzLnB1c2godGhpcy5pdGVtTGluZSkKICAgICAgLy8gdGhpcy5pdGVtTGluZXMucHVzaCh0aGlzLml0ZW1MaW5lKWEKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCdpdGVtIExpbmUnLCB0aGlzLml0ZW1MaW5lKQogICAgfSwKICAgIGxvYWRQYXltZW50T3B0aW9uOiBmdW5jdGlvbiBsb2FkUGF5bWVudE9wdGlvbigpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczgucGF5bWVudE1ldGhvZCA9IFtdOwogICAgICAgICAgICAgICAgICAgIHBheW1lbnRPcHRpb25IYW5kbGVyLmxpc3Qoc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5wYXltZW50TWV0aG9kID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRDdXJyZW5jeURhdGE6IGZ1bmN0aW9uIGxvYWRDdXJyZW5jeURhdGEoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lIYW5kbGVyLmxpc3QoImZ1bi1jIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuY3VycmVuY3lMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhLmZpbHRlcihmdW5jdGlvbiAobykgewogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvLnVzZWQgPT09IDE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFRyYW5zYWN0aW9uUmF0ZTogZnVuY3Rpb24gbG9hZFRyYW5zYWN0aW9uUmF0ZSgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShfdGhpczEwLnRyYW5zYWN0aW9uRGF0ZSkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOwogICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW5jeSA9IF90aGlzMTAucHVyY2hhc2VEZXBvc2l0LmN1cnJlbmN5OwogICAgICAgICAgICAgICAgICAgIHZhciBjb2RlID0gIiI7CgogICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW5jeS5oYXNPd25Qcm9wZXJ0eSgiY29kZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gY3VycmVuY3kuY29kZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChjb2RlICE9PSB1bmRlZmluZWQgfHwgY29kZSAhPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lIYW5kbGVyLmdldExhc3RFeGNoYW5nZVJhdGVCeURhdGUoZGF0ZSwgY29kZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gcmVzLmRhdGEuZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLnB1cmNoYXNlRGVwb3NpdC5leGNoYW5nZVJhdGUgPSByZXNwb25zZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLnB1cmNoYXNlRGVwb3NpdC50eG5SYXRlID0gcmVzcG9uc2UucmF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGU6IGZ1bmN0aW9uIGF1dG9DYWxjdWxhdGUoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMucHVyY2hhc2VEZXBvc2l0RFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGNvbnZlcnRlZEFtb3VudCA9IDAsCiAgICAgICAgICBhbW91bnQgPSAwOwogICAgICBkcy5kYXRhKCkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICBpZiAodmFsdWUuYW1vdW50KSB7CiAgICAgICAgICBhbW91bnQgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQpOwogICAgICAgICAgY29udmVydGVkQW1vdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSAqIF90aGlzMTEucHVyY2hhc2VEZXBvc2l0LnR4blJhdGU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKGFtb3VudCwgImFtb3VudCIpOwogICAgICB0aGlzLnB1cmNoYXNlRGVwb3NpdC5leGNoYW5nZUFtb3VudCA9IGNvbnZlcnRlZEFtb3VudDsKICAgICAgdGhpcy5wdXJjaGFzZURlcG9zaXQuYW1vdW50ID0gYW1vdW50OwogICAgfSwKICAgIGRhdGFTb3VyY2VDaGFuZ2VkOiBmdW5jdGlvbiBkYXRhU291cmNlQ2hhbmdlZChlKSB7CiAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgdmFyIGRhdGFSb3cgPSBlLml0ZW1zWzBdLAogICAgICAgICAgICBwT3B0aW9uID0ge307CgogICAgICAgIHN3aXRjaCAoZS5maWVsZCkgewogICAgICAgICAgY2FzZSAicGF5bWVudE9wdGlvbiI6CiAgICAgICAgICAgIHBPcHRpb24gPSBkYXRhUm93LnBheW1lbnRPcHRpb24gfHwge307CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhY2NvdW50IiwgcE9wdGlvbi5hY2NvdW50IHx8IHt9KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBpZiAoZS5maWVsZCkgewogICAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgb25TYXZlQ2xvc2U6IGZ1bmN0aW9uIG9uU2F2ZUNsb3NlKGZsYWcpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgdmFyIGlkLCBkcywgZDEsIGRhdGFWYWxpZGF0ZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTIuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMxMi4kcmVmcy5mb3JtLnZhbGlkYXRlKCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBpZCA9ICIiOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczEyLnN1cHBsaWVyLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgIGlkID0gX3RoaXMxMi5zdXBwbGllci5pZCB8fCAiIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShpZCA9PT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMxMi4kc25vdGlmeS5lcnJvcigic3VwcGxpZXIgaXMgcmVxdWlyZSIpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgZHMgPSBfdGhpczEyLiRyZWZzLnB1cmNoYXNlRGVwb3NpdERTLmtlbmRvV2lkZ2V0KCk7CiAgICAgICAgICAgICAgICBkMSA9IGRzLmRhdGEoKTsKICAgICAgICAgICAgICAgIGRhdGFWYWxpZGF0ZSA9IDA7CiAgICAgICAgICAgICAgICBkMS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKDEsIHZhbHVlKTsKCiAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5hY2NvdW50ID09IHVuZGVmaW5lZCB8fCB2YWx1ZS5hY2NvdW50LmlkID09IHVuZGVmaW5lZCB8fCB2YWx1ZS5hY2NvdW50LmlkID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczEyLiRzbm90aWZ5LmVycm9yKCJQbGVhc2UgY2hlY2sgQWNjb3VudCAgb24gcm93ICIgKyAoaW5kZXggKyAxKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZGF0YVZhbGlkYXRlICs9IDE7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChkMS5sZW5ndGggPT0gZGF0YVZhbGlkYXRlKSB7CiAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwoKICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtTGluZURTID0gX3RoaXMxMi4kcmVmcy5wdXJjaGFzZURlcG9zaXREUy5rZW5kb1dpZGdldCgpOwoKICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhUm93ID0gaXRlbUxpbmVEUy5kYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuLmFtb3VudCA+IDA7CiAgICAgICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJdGVtTGluZU1vZGVsKG0pOwogICAgICAgICAgICAgICAgICAgICAgfSk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZygxLCBkYXRhUm93KTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVJvdy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0F1dG9HZW5lcmF0ZSA9IDE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMi4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5EYXRlID0gbmV3IERhdGUoX3RoaXMxMi50cmFuc2FjdGlvbkRhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuRGF0ZVJlY2VpcHQgPSBuZXcgRGF0ZShfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC50cmFuc2FjdGlvbkRhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuRGF0ZU0gPSB0cmFuRGF0ZS5nZXRGdWxsWWVhcigpICsgdHJhbkRhdGUuZ2V0TW9udGgoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbkRhdGVSZWNlaXB0TSA9IHRyYW5EYXRlUmVjZWlwdC5nZXRGdWxsWWVhcigpICsgdHJhbkRhdGVSZWNlaXB0LmdldE1vbnRoKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFuRGF0ZU0gPT09IHRyYW5EYXRlUmVjZWlwdE0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXV0b0dlbmVyYXRlID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5pZCA/IF90aGlzMTIucHVyY2hhc2VEZXBvc2l0LmlkIDogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIlB1cmNoYXNlIERlcG9zaXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IF90aGlzMTIucHVyY2hhc2VEZXBvc2l0LnV1aWQgPyBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC51dWlkIDogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgam91cm5hbF91dWlkOiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5qb3VybmFsX3V1aWQgPyBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5qb3VybmFsX3V1aWQgOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IF90aGlzMTIucHVyY2hhc2VEZXBvc2l0Lm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICBhYmJyOiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC50cmFuc2FjdGlvblR5cGUuYWJiciwKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IF90aGlzMTIudHJhbnNhY3Rpb25EYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBsaWVyOiBfdGhpczEyLnN1cHBsaWVyLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uVHlwZTogX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQudHJhbnNhY3Rpb25UeXBlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1MaW5lOiBkYXRhUm93LAogICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uTm90ZTogX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQudHJhbnNhY3Rpb25Ob3RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGpvdXJuYWxOb3RlOiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5qb3VybmFsTm90ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VObzogX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQucmVmZXJlbmNlTm8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5hbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IF90aGlzMTIucHVyY2hhc2VEZXBvc2l0LmN1cnJlbmN5LAogICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5leGNoYW5nZUFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbW91bnQgdG8gYmFzZSBjdXJyZW5jeQogICAgICAgICAgICAgICAgICAgICAgICAgIHR4blJhdGU6IF90aGlzMTIucHVyY2hhc2VEZXBvc2l0LnR4blJhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcHVyY2hhc2VEZXBvc2l0QWNjOiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5wdXJjaGFzZURlcG9zaXRBY2MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VSYXRlOiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudDogX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQuc2VnbWVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQubG9jYXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgcHVyY2hhc2VPcmRlcjogX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQucHVyY2hhc2VPcmRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwcm92ZWRCeTogX3RoaXMxMi5wdXJjaGFzZURlcG9zaXQuYXBwcm92ZWRCeSwKICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3RlZEJ5OiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5yZWplY3RlZEJ5LAogICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1UZW1wbGF0ZToge30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBfdGhpczEyLnB1cmNoYXNlRGVwb3NpdC5jcmVhdGVkQXQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VkVXNlcjogX3RoaXMxMi5sb2dnZWRVc2VyLAogICAgICAgICAgICAgICAgICAgICAgICAgIHJlZkZyb206IF90aGlzMTIucHVyY2hhc2VEZXBvc2l0LnJlZkZyb20gfHwgW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmVG86IF90aGlzMTIucHVyY2hhc2VEZXBvc2l0LnJlZlRvIHx8IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXV0b0dlbmVyYXRlOiBpc0F1dG9HZW5lcmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25UeXBlOiBfdGhpczEyLiRyb3V0ZS5wYXJhbXMuaWQgPyBfdGhpczEyLiRyb3V0ZS5xdWVyeS50eXBlIDogIm5ldyIKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5zaG93TG9hZGluZyA9IHRydWU7IC8vIHdpbmRvdy5jb25zb2xlLmxvZygnZGF0YScsIEpTT04uc3RyaW5naWZ5KGRhdGEpKQoKICAgICAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIuY3JlYXRlUHVyY2hhc2VEZXBvc2l0KGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLnNob3dMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi4kc25vdGlmeS5zdWNjZXNzKCJTdWNjZXNzZnVsbHkiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZyA9PT0gImNsb3NlIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLmNsZWFyKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZsYWcgPT09ICJuZXciKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuY2xlYXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLiRzbm90aWZ5LmVycm9yKCJTb21ldGhpbmcgd2VudCB3cm9uZyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLmVycm9ycy5wdXNoKGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZEN1c3RvbWVyQmFsYW5jZTogZnVuY3Rpb24gbG9hZEN1c3RvbWVyQmFsYW5jZShpZCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBzdHJGaWx0ZXIgPSBpZCArICI/dHlwZT1kZXAiOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTMuZGVwb3NpdEJhbGFuY2UgPSAwOyAvLyB0aGlzLmN1cnJlbmN5Q29kZSA9ICcnCgogICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLmJhbGFuY2Uoc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuZGVwb3NpdEJhbGFuY2UgPSBkYXRhWzBdLmJhbGFuY2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5jdXJyZW5jeUNvZGUgPSAiICIgKyBkYXRhWzBdLmN1cnJlbmN5OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkVmlld0RlcG9zaXQ6IGZ1bmN0aW9uIGxvYWRWaWV3RGVwb3NpdCgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTQuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5zaG93TG9hZGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgdmFyIF9zdHJGaWx0ZXIgPSAiP2lkPSIgKyBfdGhpczE0LiRyb3V0ZS5wYXJhbXMuaWQ7CgogICAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIucHVyY2hhc2VEZXBvc2l0TGlzdChfc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnB1cmNoYXNlRGVwb3NpdCA9IHJlcy5kYXRhLmRhdGFbMF07CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQubG9hZFB1cmNoYXNlT3JkZXJzKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuZGVjaW1hbEZvcm1hdCA9IF90aGlzMTQucHVyY2hhc2VEZXBvc2l0LmRlY2ltYWxGb3JtYXQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5kZXBvc2l0TGluZSA9IF90aGlzMTQucHVyY2hhc2VEZXBvc2l0Lml0ZW1MaW5lczsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnN1cHBsaWVyID0gX3RoaXMxNC5wdXJjaGFzZURlcG9zaXQuc3VwcGxpZXI7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQubG9hZEN1c3RvbWVyQmFsYW5jZShfdGhpczE0LnN1cHBsaWVyLmlkKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC50cmFuc2FjdGlvbkRhdGUgPSBfdGhpczE0LnB1cmNoYXNlRGVwb3NpdC50cmFuc2FjdGlvbkRhdGU7IC8vIHRoaXMub25DaGFuZ2UodGhpcykKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLm51bWJlckZvcm1hdCh0aGlzLnNhbGVEZXBvc2l0LnB1cmNoYXNlT3JkZXIsICdhbW91bnQnKQogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubnVtYmVyRm9ybWF0KHRoaXMuc2FsZURlcG9zaXQucHVyY2hhc2VPcmRlciwgJ2N1cnJlbmN5JykKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnB1cmNoYXNlT3JkZXJzID0gdGhpcy5zYWxlRGVwb3NpdC5wdXJjaGFzZU9yZGVyCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGluaXREYXRhOiBmdW5jdGlvbiBpbml0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxNS4kcm91dGUucGFyYW1zLmlkICE9PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNS5sb2FkVmlld0RlcG9zaXQoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpczE1LmFkZFJvdygpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlbG9hZDogZnVuY3Rpb24gcmVsb2FkKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmxvYWRWaWV3RGVwb3NpdCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2xlYXIoKTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZEFjY291bnQoKTsKICAgIHRoaXMubG9hZEN1cnJlbmN5RGF0YSgpOwogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIGlkKCkgewogICAgLy8gICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQpIHsKICAgIC8vICAgICB0aGlzLmNsZWFyKCk7CiAgICAvLyAgIH0gZWxzZSB7CiAgICAvLyAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAvLyAgICAgdGhpcy5sb2FkVmlld0RlcG9zaXQoKTsKICAgIC8vICAgfQogICAgLy8gfSwKICAgICckcm91dGUnOiAncmVsb2FkJwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gKCkgewogICAgdmFyIF9tb3VudGVkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZFByZWZpeCgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZExvY2F0aW9uKCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkU2VnbWVudCgpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZFBheW1lbnRPcHRpb24oKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICB0aGlzLnJlcXVlc3REYXRhKDAsIHRoaXMuZmlsdGVyLCB0aGlzLmN1c0Jhc2VVcmwpOwogICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDExOwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXREYXRhKCk7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxMywgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgcmV0dXJuIF9tb3VudGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIG1vdW50ZWQ7CiAgfSgpLAogIGNvbXB1dGVkOiB7CiAgICBkaXNhYmxlTWU6IGZ1bmN0aW9uIGRpc2FibGVNZSgpIHsKICAgICAgcmV0dXJuICEhdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgfSwKICAgIGFtb3VudExpbmVIZWFkZXJUZW1wbGF0ZTogZnVuY3Rpb24gYW1vdW50TGluZUhlYWRlclRlbXBsYXRlKCkgewogICAgICBpZiAodGhpcy5wdXJjaGFzZURlcG9zaXQpIHsKICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2codGhpcy5wdXJjaGFzZURlcG9zaXQuY3VycmVuY3kpCiAgICAgICAgaWYgKHRoaXMucHVyY2hhc2VEZXBvc2l0Lmhhc093blByb3BlcnR5KCJjdXJyZW5jeSIpKSB7CiAgICAgICAgICB2YXIgY3VycmVuY3kgPSB0aGlzLnB1cmNoYXNlRGVwb3NpdC5jdXJyZW5jeS5oYXNPd25Qcm9wZXJ0eSgiY29kZSIpID8gdGhpcy5wdXJjaGFzZURlcG9zaXQuY3VycmVuY3kuY29kZSA6ICIiOwoKICAgICAgICAgIGlmIChjdXJyZW5jeSkgewogICAgICAgICAgICByZXR1cm4gIkFtb3VudCAoIiArIGN1cnJlbmN5ICsgIikiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuICJBbW91bnQiOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuICJBbW91bnQiOwogICAgfSwKICAgIC8vIHNlZ21lbnQoKSB7CiAgICAvLyAgIGlmICh0aGlzLnB1cmNoYXNlRGVwb3NpdCkgewogICAgLy8gICAgIGlmICh0aGlzLnB1cmNoYXNlRGVwb3NpdC5wdXJjaGFzZU9yZGVyKSB7CiAgICAvLyAgICAgICBpZiAodGhpcy5wdXJjaGFzZURlcG9zaXQucHVyY2hhc2VPcmRlci5oYXNPd25Qcm9wZXJ0eSgnc2VnbWVudCcpKSB7CiAgICAvLyAgICAgICAgIGlmICh0aGlzLnB1cmNoYXNlRGVwb3NpdC5wdXJjaGFzZU9yZGVyLmhhc093blByb3BlcnR5KCdpZCcpKSB7CiAgICAvLyAgICAgICAgICAgcmV0dXJuIHRoaXMucHVyY2hhc2VEZXBvc2l0LnB1cmNoYXNlT3JkZXIuc2VnbWVudC5uYW1lCiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgIH0KICAgIC8vICAgICB9CiAgICAvLyAgIH0KICAgIC8vICAgcmV0dXJuICcnCiAgICAvLyB9LAogICAgLy8gbG9jYXRpb24oKSB7CiAgICAvLyAgIGlmICh0aGlzLnB1cmNoYXNlRGVwb3NpdCkgewogICAgLy8gICAgIGlmICh0aGlzLnB1cmNoYXNlRGVwb3NpdC5wdXJjaGFzZU9yZGVyKSB7CiAgICAvLyAgICAgICBpZiAodGhpcy5wdXJjaGFzZURlcG9zaXQucHVyY2hhc2VPcmRlci5oYXNPd25Qcm9wZXJ0eSgnbG9jYXRpb24nKSkgewogICAgLy8gICAgICAgICBpZiAodGhpcy5wdXJjaGFzZURlcG9zaXQucHVyY2hhc2VPcmRlci5sb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkgewogICAgLy8gICAgICAgICAgIHJldHVybiB0aGlzLnB1cmNoYXNlRGVwb3NpdC5wdXJjaGFzZU9yZGVyLmxvY2F0aW9uLm5hbWUKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfQogICAgLy8gICAgIH0KICAgIC8vICAgfQogICAgLy8gICByZXR1cm4gJycKICAgIC8vIH0sCiAgICB2YWxpZFN1cHBsaWVyOiBmdW5jdGlvbiB2YWxpZFN1cHBsaWVyKCkgewogICAgICB2YXIgc3VwcGxpZXIgPSB0aGlzLnN1cHBsaWVyOwogICAgICByZXR1cm4gc3VwcGxpZXIuaWQgIT09IHVuZGVmaW5lZCAmJiBzdXBwbGllci5pZCAhPT0gbnVsbDsKICAgIH0sCiAgICBoaWRkZW5CdXR0b246IGZ1bmN0aW9uIGhpZGRlbkJ1dHRvbigpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["PurchaseDeposits.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\"\n                    >\n                        <v-row>\n                            <v-col\n                                class=\"bigSide pr-2 py-0\"\n                                sm=\"8\"\n                                cols=\"12\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_big_bar_class: isHideBar }\"\n                            >\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">{{ $t(\"purchase_deposit\") }}</h2>\n                                        <v-icon\n                                            v-if=\"isHideBar\"\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                        <span\n                                            style=\"transition: .3s ease-in; z-index:10;\"\n                                            :class=\"{\n                        iconArrow: !isHideBar,\n                        iconArrowHide: isHideBar,\n                      }\"\n                                        >\n                      <v-icon\n                          size=\"22\"\n                          class=\"arr_icon\"\n                          @click=\"hideSmallSiteBar\"\n                          v-if=\"isHideBar\"\n                      >\n                        mdi-chevron-left-circle\n                      </v-icon>\n                      <v-icon\n                          size=\"22\"\n                          class=\"arr_icon\"\n                          @click=\"hideSmallSiteBar\"\n                          v-if=\"!isHideBar\"\n                      >\n                        mdi-chevron-right-circle\n                      </v-icon>\n                    </span>\n                                    </v-card>\n                                    <v-card\n                                        outlined\n                                        dense\n                                        class=\"px-3 rounded-4 no_border mb-3\"\n                                        color=\"grayBg\"\n                                    >\n                                        <v-row>\n                                            <v-col sm=\"5\" cols=\"12\" class=\"pb-0 px-4 pt-4\">\n                                                <label class=\"label  mb-0\">{{ $t(\"supplier\") }}</label>\n                                                <div class=\"kendo_dropdown_custom mt-1 pb-3\">\n                                                    <dropdownlist\n                                                        :data-items=\"supplierList\"\n                                                        @change=\"onChange\"\n                                                        :value=\"supplier\"\n                                                        :data-item-key=\"dataItemKey\"\n                                                        :text-field=\"textField\"\n                                                        :default-item=\"defaultItem\"\n                                                        :filterable=\"true\"\n                                                        :disabled=\"disableMe\"\n                                                        @filterchange=\"onFilterChange\"\n                                                        :required=\"true\"\n                                                        :valid=\"validSupplier\">\n                                                    </dropdownlist>\n                                                </div>\n                                                <label class=\"label  mb-0\">{{ $t(\"date\") }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"transactionDate\"\n                                                    :disabled=\"disableMe\"\n                                                    @emitDate=\"transactionDate = $event\"\n                                                />\n                                                <label class=\"label mb-0\">{{ $t(\"number\") }}</label>\n                                                <v-row class=\"mt-1 mr-0\">\n                                                    <v-col sm=\"3\" cols=\"3\" class=\"py-0 pr-0\">\n                                                        <div class=\"code_text text-bold\">\n                                                            {{ purchaseDeposit.transactionType.abbr }}\n                                                        </div>\n                                                    </v-col>\n                                                    <v-col sm=\"7\" cols=\"7\" class=\"py-0 pl-0\">\n                                                        <v-text-field\n                                                            class=\" custom-border \"\n                                                            v-model=\"purchaseDeposit.number\"\n                                                            outlined\n                                                            readonly\n                                                            tage=\"Number\"\n                                                            :rules=\"[(v) => !!v || 'Number is required']\"\n                                                            required\n                                                        />\n                                                    </v-col>\n                                                    <v-col sm=\"2\" cols=\"2\" class=\"py-0 px-0\">\n                                                        <v-icon\n                                                            color=\"black\"\n                                                            size=\"30\"\n                                                            class=\"border_qrcode\"\n                                                            @click=\"generateNumber\"\n                                                            :disabled=\"disableMe\"\n                                                        >mdi-qrcode\n                                                        </v-icon>\n                                                    </v-col>\n                                                </v-row>\n                                                <label class=\"label mb-0\">{{\n                                                        $t(\"transaction_currency\")\n                                                    }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    v-model=\"purchaseDeposit.currency\"\n                                                    :items=\"currencyList\"\n                                                    @change=\"loadTransactionRate\"\n                                                    item-value=\"id\"\n                                                    :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                    return-object\n                                                    :rules=\"[(v) => !!v['id'] || 'is required']\"\n                                                    tage=\"Transaction Currency\"\n                                                    placeholder=\"Currency\"\n                                                    outlined\n                                                />\n                                            </v-col>\n                                            <v-col sm=\"7\" cosl=\"12\" class=\"px-4 pt-4\">\n                                                <v-row>\n                                                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                        <v-row>\n                                                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                                <p class=\"mb-1 pt-0 d-block\">\n                                                                    {{ $t(\"current_deposit_balance\") }}\n                                                                </p>\n                                                                <h3 class=\"color_green float-right\">\n                                                                    {{ amountFormat(depositBalance) }}\n                                                                    {{ currencyCode }}\n                                                                </h3>\n                                                            </v-col>\n                                                        </v-row>\n                                                    </v-col>\n                                                    <v-col sm=\"12\" cols=\"12\" class=\"py-1 pl-0 \">\n                                                        <v-card\n                                                            outlined\n                                                            dense\n                                                            class=\"no_border px-3 mt-3\"\n                                                            color=\"white\"\n                                                        >\n                                                            <v-row>\n                                                                <v-col sm=\"12\" cols=\"12\" class=\"py-0 pt-4\">\n                                                                    <label class=\"label mb-0\">{{\n                                                                            $t(\"deposit_to_account\")\n                                                                        }}</label>\n                                                                    <v-select\n                                                                        class=\"mt-1\"\n                                                                        v-model=\"purchaseDeposit.purchaseDepositAcc\"\n                                                                        :items=\"accSupplierDeposit\"\n                                                                        :disabled=\"true\"\n                                                                        :rules=\"[(v) => !!v || 'Term  is required']\"\n                                                                        item-value=\"id\"\n                                                                        :item-text=\"\n                                      (item) => `${item.number} - ${item.name}`\n                                    \"\n                                                                        return-object\n                                                                        placeholder=\"Account Deposit\"\n                                                                        tage=\"Account Deposit\"\n                                                                        outlined\n                                                                    />\n                                                                    <label class=\"label mb-0\">{{\n                                                                            $t(\"purchase_order\")\n                                                                        }}</label>\n                                                                    <v-select\n                                                                        class=\"mt-1\"\n                                                                        v-model=\"purchaseDeposit.purchaseOrder\"\n                                                                        :items=\"purchaseOrders\"\n                                                                        @change=\"onPOChanged\"\n                                                                        item-value=\"id\"\n                                                                        item-text=\"number\"\n                                                                        return-object\n                                                                        clearable\n                                                                        tage=\"Purchase Order\"\n                                                                        placeholder=\"Purchase Order\"\n                                                                        outlined\n                                                                    />\n                                                                </v-col>\n                                                                <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                                    <v-row>\n                                                                        <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                                            <label class=\"label mb-0\">{{\n                                                                                    $t(\"amount\")\n                                                                                }}</label>\n                                                                            <p class=\"mt-3\">\n                                                                                {{\n                                                                                    numberFormat(\n                                                                                        purchaseDeposit.purchaseOrder,\n                                                                                        \"amount\"\n                                                                                    )\n                                                                                }}\n                                                                            </p>\n                                                                        </v-col>\n                                                                        <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                                            <label class=\"label mb-0\">{{\n                                                                                    $t(\"currency\")\n                                                                                }}</label>\n                                                                            <p class=\"mt-3\">\n                                                                                {{\n                                                                                    numberFormat(\n                                                                                        purchaseDeposit.purchaseOrder,\n                                                                                        \"currency\"\n                                                                                    )\n                                                                                }}\n                                                                            </p>\n                                                                        </v-col>\n                                                                    </v-row>\n                                                                </v-col>\n                                                            </v-row>\n                                                        </v-card>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-card outlined dense class=\"no_border\" color=\"white\">\n                                        <v-row>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                <kendo-datasource\n                                                    ref=\"purchaseDepositDS\"\n                                                    :change=\"dataSourceChanged\"\n                                                    :data=\"depositLine\"\n                                                />\n                                                <kendo-grid\n                                                    id=\"gridPurchaseDeposit\"\n                                                    class=\"grid-function\"\n                                                    :data-source-ref=\"'purchaseDepositDS'\"\n                                                    :sortable=\"false\"\n                                                    :filterable=\"false\"\n                                                    :column-menu=\"true\"\n                                                    :editable=\"true\"\n                                                    :scrollable-virtual=\"true\">\n                                                    <kendo-grid-column\n                                                        :command=\"{\n                              iconClass: 'k-icon k-i-trash',\n                              text: ' ',\n                              click: removeRow,\n                              class: 'btn-plus',}\"\n                                                        :title=\"''\"\n                                                        :width=\"63\"\n                                                        :headerAttributes=\"{ style: 'text-align: right; background-color: #EDF1F5',}\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :title=\"$t('no.')\"\n                                                        :width=\"53\"\n                                                        :template=\"rowNumberTmpl\"\n                                                        :column-menu=\"false\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5;',\n                              class: 'text-products',}\"\n                                                        :attributes=\"{ style: 'text-align: products' }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'paymentOption'\"\n                                                        :title=\"$t('payment_option')\"\n                                                        :width=\"250\"\n                                                        :template=\"methodTemplate\"\n                                                        :editor=\"PaymentOptionEditor\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'account'\"\n                                                        :title=\"$t('account')\"\n                                                        :width=\"200\"\n                                                        :template=\"accountTemplate\"\n                                                        :editor=\"accountDropDownEditor\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'description'\"\n                                                        :title=\"$t('description')\"\n                                                        :width=\"200\"\n                                                        :template=\"'<span>#=description#</span>'\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n\n                                                    <kendo-grid-column\n                                                        :field=\"'amount'\"\n                                                        :title=\"$t('amount')\"\n                                                        :format=\"'{0:n}'\"\n                                                        :width=\"200\"\n                                                        :template=\"amountTemplate\"\n                                                        :headerTemplate=\"amountLineHeaderTemplate\"\n                                                        :editor=\"amountEditor\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: right' }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'refNo'\"\n                                                        :title=\"$t('payment_ref')\"\n                                                        :format=\"'{0:n}'\"\n                                                        :width=\"200\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: right' }\"\n                                                    />\n                                                </kendo-grid>\n                                            </v-col>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n                                                <v-btn\n                                                    class=\"float-left btn_plus white--text mr-2\"\n                                                    color=\"primary\"\n                                                    @click=\"addRow\"\n                                                >\n                                                    <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                                </v-btn>\n                                            </v-col>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                <v-row>\n                                                    <v-col class=\"pt-0\" sm=\"7\" cols=\"12\">\n                                                        <v-card\n                                                            class=\"no-boxshadow rounded-4 pa-3\"\n                                                            color=\"grayBg\"\n                                                            height=\"138px\"\n                                                        >\n                                                            <v-row>\n                                                                <v-col class=\"py-0\" sm=\"6\" cols=\"12\">\n                                                                    <label>{{ $t(\"message_on_deposit\") }}</label>\n                                                                    <v-textarea\n                                                                        class=\"mt-1\"\n                                                                        no-resize\n                                                                        height=\"90px\"\n                                                                        v-model=\"purchaseDeposit.transactionNote\"\n                                                                        outlined\n                                                                        clearable\n                                                                        rows=\"3\"\n                                                                        placeholder=\"This will appear on the deposit\"\n                                                                    />\n                                                                </v-col>\n                                                                <v-col class=\"py-0\" sm=\"6\" cols=\"12\">\n                                                                    <label>{{ $t(\"message_for_journal\") }}</label>\n                                                                    <v-textarea\n                                                                        class=\"mt-1\"\n                                                                        no-resize\n                                                                        height=\"90px\"\n                                                                        outlined\n                                                                        v-model=\"purchaseDeposit.journalNote\"\n                                                                        clearable\n                                                                        rows=\"3\"\n                                                                        placeholder=\"This will appear on the journal\"\n                                                                    />\n                                                                </v-col>\n                                                            </v-row>\n                                                        </v-card>\n                                                    </v-col>\n                                                    <v-col sm=\"5\" cols=\"12\" class=\"pt-1 pb-0\">\n                                                        <v-simple-table>\n                                                            <template v-slot:default>\n                                                                <tbody>\n                                                                <tr>\n                                                                    <td class=\"text-left text-uppercase\">\n                                                                        {{ $t(\"total\") }}\n                                                                    </td>\n                                                                    <td class=\"text-center\">:</td>\n                                                                    <td class=\"text-left color_green text-bold\">\n                                                                        {{\n                                                                            amountFormat(\n                                                                                purchaseDeposit.exchangeAmount\n                                                                            )\n                                                                        }}\n                                                                    </td>\n                                                                </tr>\n                                                                </tbody>\n                                                            </template>\n                                                        </v-simple-table>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-divider/>\n                                    <v-card outlined dense class=\"no_border function_footer\">\n                                        <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                                            <span v-html=\"errorMessage\"/>\n                                        </v-alert>\n                                        <v-menu>\n                                            <template v-slot:activator=\"{ on }\">\n                                                <v-btn\n                                                    class=\"text-capitalize  black--text float-left mr-2\"\n                                                    v-on=\"on\"\n                                                >\n                                                    {{ $t(\"select_template\") }}\n                                                    <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                                </v-btn>\n                                            </template>\n                                            <v-list>\n                                                <v-list-item\n                                                    v-for=\"(item, index) in templates\"\n                                                    :key=\"index\"\n                                                >\n                                                    <v-list-item-title>{{\n                                                            item.title\n                                                        }}\n                                                    </v-list-item-title>\n                                                </v-list-item>\n                                            </v-list>\n                                        </v-menu>\n                                        <v-btn\n                                            color=\"primary\"\n                                            outlined\n                                            class=\" text-capitalize  black--text float-left mr-2\"\n                                            @click=\"cancel\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <!--                    <v-menu>-->\n                                        <!--                      <template v-slot:activator=\"{ on }\">-->\n                                        <!--                        <v-btn color=\"primary\"-->\n                                        <!--                               class=\"ml-2 float-right  text-capitalize white&#45;&#45;text\" v-on=\"on\">-->\n                                        <!--                          {{ $t('save_option') }}-->\n                                        <!--                          <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>-->\n                                        <!--                        </v-btn>-->\n                                        <!--                      </template>-->\n                                        <!--                      <v-list rounded>-->\n                                        <!--                        <v-list-item-group>-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title @click=\"onSaveClose('new')\">-->\n                                        <!--                                {{ $t('save_new') }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                          &lt;!&ndash;                                                    <v-list-item>&ndash;&gt;-->\n                                        <!--                          &lt;!&ndash;                                                        <v-list-item-content>&ndash;&gt;-->\n                                        <!--                          &lt;!&ndash;                                                            <v-list-item-title @click=\"savePrint\">{{ $t('save_print') }}&ndash;&gt;-->\n                                        <!--                          &lt;!&ndash;                                                            </v-list-item-title>&ndash;&gt;-->\n                                        <!--                          &lt;!&ndash;                                                        </v-list-item-content>&ndash;&gt;-->\n                                        <!--                          &lt;!&ndash;                                                    </v-list-item>&ndash;&gt;-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title>{{-->\n                                        <!--                                  $t('save_draft')-->\n                                        <!--                                }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                        </v-list-item-group>-->\n                                        <!--                      </v-list>-->\n                                        <!--                    </v-menu>-->\n                                        <v-btn\n                                            color=\"primary\"\n                                            @click=\"onSaveClose('close')\"\n                                            class=\"float-right white--text text-capitalize \"\n                                        >\n                                            {{ $t(\"save_close\") }}\n                                        </v-btn>\n                                        <v-btn color=\"secondary\"\n                                               style=\"margin-right: 10px !important\"\n                                               class=\"white--text float-right text-capitalize\"\n                                               @click=\"onSaveClose('new')\" :hidden=\"hiddenButton\">{{ $t(\"save_new\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-form>\n                            </v-col>\n                            <v-col\n                                class=\"smallSide pl-2 pt-0\"\n                                sm=\"4\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_small_bar_class: isHideBar }\"\n                            >\n                                <div class=\"d-flex justify-end\">\n                                    <h3\n                                        style=\"color: #b3b5bc; font-size:20px;\"\n                                        v-if=\"!isHideBar\"\n                                        class=\"text-uppercase\"\n                                    >\n                    <span class=\"pointer\" @click=\"Help('purchase deposit')\">\n                      {{ $t(\"help\") }}\n                    </span>\n                                        <v-icon\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"float-right mt-n1\"\n                                        >close\n                                        </v-icon>\n                                    </h3>\n                                </div>\n\n                                <div v-if=\"!isHideBar\" class=\"small_sidebar mt-2 px-4 grayBg\">\n                                    <v-card outlined dense class=\"pa-3 no_border my_card rounded-4 white--text\"\n                                            color=\"primary\" height=\"60px\">\n                                        <h3 class=\"text-left font_13 flex-1 text-uppercase\">{{\n                                                $t('amount_deposit')\n                                            }}</h3>\n                                        <h3 class=\"text-right flex-1 font_20 niradei_heavy\">\n                                            {{ amountFormat(purchaseDeposit.exchangeAmount) }} </h3>\n                                    </v-card>\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\">\n                                            <v-row>\n                                                <v-col sm=\"12\" cols=\"12\" class=\"pt-2\">\n                                                    <v-row>\n                                                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0 pt-0\">\n                                                            <label class=\"label\">{{ $t(\"segment\") }}</label>\n                                                            <!--                              <h4 class=\"text-bold py-1\">{{ segment }}</h4>-->\n                                                            <v-select\n                                                                class=\"mt-1\"\n                                                                v-model=\"purchaseDeposit.segment\"\n                                                                :items=\"segments\"\n                                                                item-value=\"id\"\n                                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                                return-object\n                                                                :rules=\"[(v) => !!v['id']|| 'Segment is required']\"\n                                                                outlined=\"\"\n                                                            />\n                                                        </v-col>\n                                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                            <label class=\"label\">{{ $t(\"location\") }}</label>\n                                                            <!--                              <h4 class=\"text-bold py-1\">{{ location }}</h4>-->\n                                                            <v-select\n                                                                class=\"mt-1\"\n                                                                v-model=\"purchaseDeposit.location\"\n                                                                :items=\"locations\"\n                                                                item-value=\"id\"\n                                                                :rules=\"[(v) => !!v['id']|| 'Location is required']\"\n                                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                                return-object\n                                                                outlined=\"\"\n                                                            />\n                                                        </v-col>\n                                                    </v-row>\n\n                                                    <!--                                                    <label class=\"label font_14\">{{ $t('project') }}</label>-->\n                                                    <!--                                                    <label-->\n                                                    <!--                                                        class=\"label text-bold text-uppercase font_14\">{{-->\n                                                    <!--                                                            $t('tnc_to_be_added')-->\n                                                    <!--                                                        }}</label>-->\n                                                    <!--                                                    <v-select class=\" mt-1\"-->\n                                                    <!--                                                              :items=\"transaction\"-->\n                                                    <!--                                                              tage=\"Transactions to be added\"-->\n                                                    <!--                                                              :rules=\"[v => !!v || 'Payble Account is required']\"-->\n                                                    <!--                                                              return-object-->\n                                                    <!--                                                              outlined-->\n                                                    <!--                                                    >-->\n                                                    <!--                                                        <template v-slot:item=\"{ item }\">-->\n                                                    <!--                                                            <p class=\"d-block text-center\">{{ item.id }}.-->\n                                                    <!--                                                                {{ item.name }}</p>-->\n                                                    <!--                                                            <br>-->\n                                                    <!--                                                            <div class=\"item_list d-flex\">-->\n                                                    <!--                                                                <span>-->\n                                                    <!--                                                                    {{ item.no }}-->\n                                                    <!--                                                                </span>-->\n                                                    <!--                                                                <v-btn>{{ $t('add') }}</v-btn>-->\n                                                    <!--                                                            </div>-->\n                                                    <!--                                                        </template>-->\n                                                    <!--                                                    </v-select>-->\n\n                                                    <!--                                                    <v-row>-->\n                                                    <!--                                                        <label class=\"text-bold ml-9 mt-2\" style=\"font-size: 12px;\">1.-->\n                                                    <!--                                                            {{ $t('sale_quote') }}</label>-->\n                                                    <!--                                                        <v-col sm=\"9\" cols=\"9\" class=\"py-0 pr-0\">-->\n                                                    <!--                                                            <v-card outlined-->\n                                                    <!--                                                                    class=\"px-3 py-1 text-white no-boxshadow no_border justify-left d-flex\"-->\n                                                    <!--                                                                    style=\"background-color: #92d050; height: 30px\">-->\n                                                    <!--                                                                <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>-->\n                                                    <!--                                                                <p class=\"mb-0\" style=\"width: 100%\">-->\n                                                    <!--                                                                    <span class=\"pl-3 float-left\">No. 00224</span>-->\n                                                    <!--                                                                    <span class=\"float-right\">2,500.00</span>-->\n                                                    <!--                                                                </p>-->\n                                                    <!--                                                            </v-card>-->\n                                                    <!--                                                        </v-col>-->\n                                                    <!--                                                        <v-col sm=\"3\" cols=\"3\" class=\"py-0  pl-1\">-->\n                                                    <!--                                                            <v-btn-->\n                                                    <!--                                                                class=\"text-white text-bold rounded-0 float-right text-uppercase\"-->\n                                                    <!--                                                                style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\">-->\n                                                    <!--                                                                {{ $t('add') }}-->\n                                                    <!--                                                            </v-btn>-->\n                                                    <!--                                                        </v-col>-->\n                                                    <!--                                                    </v-row>-->\n                                                    <!--                                                    <v-row>-->\n                                                    <!--                                                        <label class=\"text-bold ml-9\" style=\"font-size: 12px;\">2.-->\n                                                    <!--                                                            {{ $t('sale_quote') }}</label>-->\n                                                    <!--                                                        <v-col sm=\"9\" cols=\"9\" class=\"py-0 pr-0\">-->\n                                                    <!--                                                            <v-card outlined-->\n                                                    <!--                                                                    class=\"px-3 py-1 text-white no-boxshadow no_border justify-left d-flex\"-->\n                                                    <!--                                                                    style=\"background-color: #92d050; height: 30px\">-->\n                                                    <!--                                                                <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>-->\n                                                    <!--                                                                <p class=\"mb-0\" style=\"width: 100%\">-->\n                                                    <!--                                                                    <span class=\"pl-3 float-left\">No. 00224</span>-->\n                                                    <!--                                                                    <span class=\"float-right\">2,500.00</span>-->\n                                                    <!--                                                                </p>-->\n                                                    <!--                                                            </v-card>-->\n                                                    <!--                                                        </v-col>-->\n                                                    <!--                                                        <v-col sm=\"3\" cols=\"3\" class=\"py-0  pl-1\">-->\n                                                    <!--                                                            <v-btn-->\n                                                    <!--                                                                class=\"text-white text-bold rounded-0 float-right text-uppercase\"-->\n                                                    <!--                                                                style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\">-->\n                                                    <!--                                                                {{ $t('add') }}-->\n                                                    <!--                                                            </v-btn>-->\n                                                    <!--                                                        </v-col>-->\n                                                    <!--                                                    </v-row>-->\n                                                    <!--                                                    <v-row>-->\n                                                    <!--                                                        <label class=\"text-bold ml-9 mt-2\" style=\"font-size: 12px;\">4.-->\n                                                    <!--                                                            {{ $t('sale_quote') }}</label>-->\n                                                    <!--                                                        <v-col sm=\"9\" cols=\"9\" class=\"py-0 pr-0\">-->\n                                                    <!--                                                            <v-card outlined-->\n                                                    <!--                                                                    class=\"px-3 py-1 text-white no-boxshadow no_border justify-left d-flex\"-->\n                                                    <!--                                                                    style=\"background-color: #92d050; height: 30px\">-->\n                                                    <!--                                                                <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>-->\n                                                    <!--                                                                <p class=\"mb-0\" style=\"width: 100%\">-->\n                                                    <!--                                                                    <span class=\"pl-3 float-left\">No. 00224</span>-->\n                                                    <!--                                                                    <span class=\"float-right\">2,500.00</span>-->\n                                                    <!--                                                                </p>-->\n                                                    <!--                                                            </v-card>-->\n                                                    <!--                                                        </v-col>-->\n                                                    <!--                                                        <v-col sm=\"3\" cols=\"3\" class=\"py-0  pl-1\">-->\n                                                    <!--                                                            <v-btn-->\n                                                    <!--                                                                class=\"text-white text-bold rounded-0 float-right text-uppercase\"-->\n                                                    <!--                                                                style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\">-->\n                                                    <!--                                                                {{ $t('add') }}-->\n                                                    <!--                                                            </v-btn>-->\n                                                    <!--                                                        </v-col>-->\n                                                    <!--                                                    </v-row>-->\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n\n                                    <p class=\"mb-0 detial_smallside_p pr-4 font_14\">\n                                        {{ $t(\"purchase_deposit_desc\") }}\n                                    </p>\n                                </div>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe :isLoading=\"showLoading\" :fullPage=\"false\" :myLoading=\"true\"/>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport {i18n} from \"@/i18n\";\nimport kendo from \"@progress/kendo-ui\";\nimport PurchaseDepositModel from \"@/scripts/purchase_deposit/model/PurchaseDeposit\";\nimport {DropDownList} from \"@progress/kendo-vue-dropdowns\";\nimport {uuid} from \"vue-uuid\";\nimport ItemLineModel from \"@/scripts/purchase_deposit/model/ItemLine\";\nimport {dataStore, ShowResource} from \"@/observable/store\";\nimport PaymentOptionEditor from \"@/scripts/kendo_editor/PaymentOptionEditor\";\n\nconst saleOrderHandler = require(\"@/scripts/transactionHandler\");\nconst supplierHandler = require(\"@/scripts/supplierHandler\");\n\nconst locationHandler = require(\"@/scripts/locationHandler\");\nconst settingsHandler = require(\"@/scripts/settingsHandler\");\nconst purchaseDepositModel = new PurchaseDepositModel({});\nconst prefixHandler = require(\"@/scripts/prefixHandler\");\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\nconst accountHandler = require(\"@/scripts/handler/accounting/account\");\nconst itemLineModel = new ItemLineModel({});\nconst $ = kendo.jQuery\nconst paymentOptionHandler = require(\"@/scripts/paymentOptionHandler\");\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\");\n\nconst defaultItem = {[\"numberName\"]: \"Select vendor...\", [\"id\"]: null};\nconst emptyItem = {[\"numberName\"]: \"loading ...\"};\nconst itemLinePrefix = \"lin-\";\nconst OPTION_TYPE = \"Supplier\";\nconst strFilter = \"?optionType=\" + OPTION_TYPE;\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\nexport default {\n    name: \"PurchaseDeposit\",\n    props: [\"id\"],\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n        \"app-datepicker\": () => import(`@/components/custom_templates/DatePickerComponent`),\n        dropdownlist: DropDownList,\n    },\n    data: () => ({\n        isEdit: false,\n        showLoading: false,\n        alert: false,\n        files: [],\n        segments: [],\n        locations: [],\n        purchaseDeposit: purchaseDepositModel,\n        itemLine: itemLineModel,\n        supplierList: [],\n        supplier: {},\n        textField: \"numberName\",\n        defaultItem: defaultItem,\n        dataItemKey: \"id\",\n        filter: \"\",\n        cusBaseUrl: supplierHandler.search(),\n        transactionTypes: [],\n        accSupplierDeposit: [],\n        paymentMethod: [],\n        purchaseOrders: [],\n        saleOrderAmount: 0,\n        saleOrderCurrency: \"\",\n        currencyCode: \"\",\n        accCash: [],\n        depositLine: [],\n        currencyList: [],\n        decimalFormat: \"n2\",\n        depositBalance: 0,\n        valid: true,\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email,\n        },\n        transactionDate: new Date().toISOString().substr(0, 10),\n        templates: [\n            {title: \"Purchase Deposit\", value: \"Purchase Deposit\"},\n        ],\n        isHideBar: false,\n        PaymentOptionEditor: PaymentOptionEditor,\n        refFrom: [],\n        refTo: [],\n    }),\n    methods: {\n        onPOChanged() {\n            if (this.purchaseDeposit) {\n                if (this.purchaseDeposit.purchaseOrder) {\n                    const saleOrder = this.purchaseDeposit.purchaseOrder || {};\n                    const segment = saleOrder.segment || {};\n                    const location = saleOrder.location || {};\n                    this.purchaseDeposit.segment = segment;\n                    this.purchaseDeposit.location = location;\n                    this.refFrom.push({\n                        id: saleOrder.id || '',\n                        reference: saleOrder.number || ''\n                    })\n                }\n                this.purchaseDeposit.refFrom = this.refFrom\n            }\n        },\n        Help(key_search) {\n            ShowResource(key_search);\n        },\n        saveNew() {\n        },\n        removeRow(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#gridPurchaseDeposit\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n            }\n        },\n        numberFormat(obj, type) {\n            if (obj) {\n                // this.purchaseDeposit.location = obj.hasOwnProperty('location') ? obj.location : {}\n                // this.purchaseDeposit.segment = obj.hasOwnProperty('segment') ? obj.segment : {}\n                if (type === \"amount\") {\n                    const value = obj.hasOwnProperty(\"amount\") ? obj.amount : 0;\n                    const decimalFormat = obj.hasOwnProperty(\"decimalFormat\")\n                        ? obj.decimalFormat\n                        : `n2`;\n                    return kendo.toString(parseFloat(value), decimalFormat);\n                } else if (type === \"currency\") {\n                    const currency = obj.hasOwnProperty(\"currency\") ? obj.currency : \"\";\n                    return currency.code;\n                }\n            }\n            return \"-\";\n        },\n        amountFormat(value) {\n            return kendo.toString(parseFloat(value), `${this.decimalFormat}`);\n        },\n        generateNumber() {\n            if (this.$route.params.id) {\n                const tranDate = new Date(this.transactionDate);\n                const tranDateInvoice = new Date(this.purchaseDeposit.transactionDate);\n                const tranDateM = tranDate.getFullYear() + tranDate.getMonth();\n                const tranDateInvoiceM =\n                    tranDateInvoice.getFullYear() + tranDateInvoice.getMonth();\n                if (tranDateM === tranDateInvoiceM) {\n                    this.purchaseDeposit.referenceNo = this.referenceNo;\n                    return;\n                }\n            }\n\n            if (this.transactionDate !== \"\" && this.transactionTypes.length > 0) {\n                let data = {\n                    abbr: this.purchaseDeposit.transactionType.abbr,\n                    structure: this.purchaseDeposit.transactionType.structure,\n                    transactionDate: this.transactionDate,\n                    sequcencing: this.purchaseDeposit.transactionType.sequcencing,\n                    type: \"Purchase Deposit\",\n                    entity: 1,\n                };\n                billingHandler\n                    .lastNumber(data)\n                    .then((response) => {\n                        if (response.data.statusCode === 200) {\n                            const res = response.data.data;\n                            const lastNumber = this.zeroPad(\n                                parseInt(res.lastNumber),\n                                this.purchaseDeposit.transactionType.format\n                            );\n                            this.purchaseDeposit.number =\n                                res.suffix +\n                                this.purchaseDeposit.transactionType.numberSeparator +\n                                lastNumber;\n                        }\n                    })\n                    .catch((e) => {\n                        this.errors.push(e);\n                    });\n            }\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, \"0\");\n        },\n        suffix(transactionDate) {\n            return kendo.toString(new Date(transactionDate), `yymm`);\n        },\n        errorMessage() {\n        },\n        accountDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=number# - #= name#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.accCash,\n                    }),\n                });\n        },\n        methodDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=code# - #= name#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.paymentMethod,\n                    }),\n                });\n        },\n        accountTemplate(dataItem) {\n            const acc = dataItem.account;\n            if (acc) {\n                return `<span>${acc.name ? acc.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        methodTemplate(dataItem) {\n            const method = dataItem.paymentOption || ''\n            if (method) {\n                return `<span>${method.bankAccountName || ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        amountTemplate(dataItem) {\n            const amt = dataItem.amount;\n            if (amt) {\n                return kendo.toString(parseFloat(amt), `${this.decimalFormat}`);\n            } else {\n                return 0;\n            }\n        },\n        amountEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    format: `${this.decimalFormat}`,\n                });\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((result) => {\n                if (result.value) {\n                    this.clear();\n                    this.$router.go(-1);\n                }\n            });\n        },\n        clear() {\n            this.showLoading = false;\n            this.supplier = {}\n            this.purchaseOrders = []\n            const segment = this.purchaseDeposit.segment || {}\n            const location = this.purchaseDeposit.location || {}\n            this.generateNumber()\n            const txnType = this.purchaseDeposit.transactionType;\n            this.purchaseDeposit = new PurchaseDepositModel({});\n            this.purchaseDeposit.transactionType = txnType;\n            this.purchaseDeposit.segment = segment\n            this.purchaseDeposit.location = location\n            // this.depositLine = [];\n            let lines = this.$refs.purchaseDepositDS.kendoWidget();\n            lines.data([]);\n            this.addRow();\n        },\n        close() {\n            window.history.go(-1);\n        },\n        hideSmallSiteBar() {\n            this.isHideBar = !this.isHideBar;\n        },\n        onFilterChange(event) {\n            const filter = event.filter.value;\n            this.requestData(0, filter, this.cusBaseUrl);\n            this.filter = filter;\n        },\n        requestData(skip, filter, baseUrl) {\n            const url = baseUrl + `?filter=${filter}`;\n            fetch(url)\n                .then((response) => {\n                    return response.json();\n                })\n                .then(this.afterFetch);\n        },\n        afterFetch(json) {\n            this.supplierList = json.data;\n        },\n        onChange(event) {\n            const value = event.value;\n            if (value && value[\"numberName\"] === emptyItem[\"numberName\"]) {\n                return;\n            }\n            this.supplier = value;\n            if (value.hasOwnProperty(\"id\")) {\n                if (value.id !== null) {\n                    this.decimalFormat = this.supplier.decimalFormat;\n                    if (value.hasOwnProperty(\"baseCurrency\")) {\n                        if (value.baseCurrency.hasOwnProperty(\"code\")) {\n                            this.currencyCode = \" \" + value.baseCurrency.code;\n                        }\n                    }\n                    this.purchaseDeposit.purchaseDepositAcc = value.hasOwnProperty(\n                        \"purchaseDepositAcc\"\n                    )\n                        ? value.purchaseDepositAcc\n                        : {};\n                    this.loadPurchaseOrders();\n                    this.loadCustomerBalance(value.id);\n                }\n            }\n        },\n        async loadLocation() {\n            this.locations = []\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const location = roleData.filter(itm => itm.type === 'location')\n                    const locationDefault = location.filter(m => m.isDefault === 1)\n                    this.locations = location\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        if (locationDefault.length > 0) {\n                            this.purchaseDeposit.location = locationDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.locations = [];\n                        locationHandler\n                            .list()\n                            .then((res) => {\n                                this.showLoading = true;\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.locations = res.data.data;\n                                    // if (this.locations.length > 0) {\n                                    //     this.purchaseDeposit.location = this.locations[0];\n                                    // }\n                                } else {\n                                    this.showLoading = false;\n                                }\n                            })\n                    }, 10);\n                });\n            }\n        },\n        async loadSegment() {\n            this.segments = []\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const segment = roleData.filter(itm => itm.type === 'segment')\n                    const segmentDefault = segment.filter(m => m.isDefault === 1)\n                    this.segments = segment\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        if (segmentDefault.length > 0) {\n                            this.purchaseDeposit.segment = segmentDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.segments = [];\n                        settingsHandler\n                            .getSeg()\n                            .then((res) => {\n                                this.showLoading = true;\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.segments = res.data.data;\n                                } else {\n                                    this.showLoading = false;\n                                }\n                            })\n                    }, 10);\n                });\n            }\n        },\n        async loadPrefix() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    prefixHandler.get(\"purchase deposit\").then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.transactionTypes = res.data.data;\n                            if (this.transactionTypes.length > 0) {\n                                this.purchaseDeposit.transactionType = this.transactionTypes[0];\n                                if (this.$route.params.id === undefined) {\n                                    this.generateNumber();\n                                }\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadAccount() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    accountHandler.getAll().then((res) => {\n                        this.showLoading = false;\n                        this.accSupplierDeposit = res.data\n                            .filter((m) => m.account_type.number === 9)\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type,\n                                };\n                            });\n                        this.accCash = res.data\n                            .filter((m) => m.account_type.number <= 5)\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type,\n                                };\n                            });\n                        if (this.accSupplierDeposit.length > 0) {\n                            this.purchaseDeposit.accReceivable = this.accSupplierDeposit[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadPurchaseOrders() {\n            if (this.supplier) {\n                this.showLoading = true;\n                this.purchaseOrders = [];\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        let data = {\n                            method: \"by_supplier\",\n                            supplier: this.supplier.id,\n                            type: \"Purchase Order\",\n                        };\n                        saleOrderHandler.search(data).then((res) => {\n                            this.showLoading = false;\n                            const response = res.data.data;\n                            response.forEach((m) => {\n                                const poData = m.txnData;\n                                this.purchaseOrders.push({\n                                    id: m.id,\n                                    amount: m.total,\n                                    number: m.number,\n                                    currency: poData.currency,\n                                    decimalFormat: m.decimalFormat,\n                                    location: poData.location,\n                                    segment: poData.segment,\n                                });\n                            });\n                            // window.console.log(this.purchaseOrders,'purchase')\n                        });\n                    }, 10);\n                });\n            }\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.purchaseDepositDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        addRow() {\n            let ds = this.$refs.purchaseDepositDS.kendoWidget(),\n                total = ds.total();\n            this.itemLine.id = itemLinePrefix + uuid.v1();\n            this.itemLine.decimalFormat = this.decimalFormat;\n            this.itemLine.optionType = OPTION_TYPE;\n            ds.insert(total, this.itemLine);\n            // this.itemLines.push(this.itemLine)\n            // this.itemLines.push(this.itemLine)a\n            // window.console.log('item Line', this.itemLine)\n        },\n        async loadPaymentOption() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.paymentMethod = [];\n                    paymentOptionHandler\n                        .list(strFilter)\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.paymentMethod = res.data.data;\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadCurrencyData() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    currencyHandler\n                        .list(\"fun-c\")\n                        .then((response) => {\n                            if (response.data.statusCode === 200) {\n                                this.currencyList = response.data.data.filter(\n                                    (o) => o.used === 1\n                                );\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadTransactionRate() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const date = new Date(this.transactionDate)\n                        .toISOString()\n                        .substr(0, 10);\n                    const currency = this.purchaseDeposit.currency;\n                    let code = \"\";\n                    if (currency.hasOwnProperty(\"code\")) {\n                        code = currency.code;\n                    }\n\n                    if (code !== undefined || code !== \"\") {\n                        this.showLoading = true;\n                        currencyHandler\n                            .getLastExchangeRateByDate(date, code)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    const response = res.data.data[0];\n                                    this.purchaseDeposit.exchangeRate = response;\n                                    this.purchaseDeposit.txnRate = response.rate;\n                                    this.showLoading = false;\n                                }\n                            });\n                    }\n                }, 10);\n            });\n        },\n        autoCalculate() {\n            let ds = this.$refs.purchaseDepositDS.kendoWidget(),\n                convertedAmount = 0,\n                amount = 0;\n            ds.data().forEach((value) => {\n                if (value.amount) {\n                    amount += kendo.parseFloat(value.amount);\n                    convertedAmount +=\n                        kendo.parseFloat(value.amount) * this.purchaseDeposit.txnRate;\n                }\n            });\n            window.console.log(amount, \"amount\");\n            this.purchaseDeposit.exchangeAmount = convertedAmount;\n            this.purchaseDeposit.amount = amount;\n        },\n        dataSourceChanged(e) {\n            if (e.field) {\n                let dataRow = e.items[0], pOption = {}\n                switch (e.field) {\n                    case \"paymentOption\":\n                        pOption = dataRow.paymentOption || {}\n                        dataRow.set(\"account\", pOption.account || {});\n                        break;\n                    default:\n                        break;\n                }\n                if (e.field) {\n                    this.autoCalculate();\n                }\n            }\n        },\n        async onSaveClose(flag) {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate();\n                return;\n            }\n            let id = \"\";\n            if (this.supplier.hasOwnProperty(\"id\")) {\n                id = this.supplier.id || \"\";\n            }\n            if (id === \"\") {\n                this.$snotify.error(\"supplier is require\");\n                return;\n            }\n            let ds = this.$refs.purchaseDepositDS.kendoWidget();\n            let d1 = ds.data();\n            let dataValidate = 0;\n            d1.forEach((value, index) => {\n                window.console.log(1, value);\n                if (\n                    value.account == undefined ||\n                    value.account.id == undefined ||\n                    value.account.id == null\n                ) {\n                    this.$snotify.error(\"Please check Account  on row \" + (index + 1));\n                } else {\n                    dataValidate += 1;\n                }\n            });\n            if (d1.length == dataValidate) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        let itemLineDS = this.$refs.purchaseDepositDS.kendoWidget();\n                        const dataRow = itemLineDS.data().filter((n) => n.amount > 0).map(m => {\n                            return new ItemLineModel(m)\n                        });\n                        // window.console.log(1, dataRow);\n                        if (dataRow.length > 0) {\n                            let isAutoGenerate = 1;\n                            if (this.$route.params.id) {\n                                const tranDate = new Date(this.transactionDate);\n                                const tranDateReceipt = new Date(\n                                    this.purchaseDeposit.transactionDate\n                                );\n                                const tranDateM = tranDate.getFullYear() + tranDate.getMonth();\n                                const tranDateReceiptM =\n                                    tranDateReceipt.getFullYear() + tranDateReceipt.getMonth();\n                                if (tranDateM === tranDateReceiptM) {\n                                    isAutoGenerate = 0;\n                                }\n                            }\n                            let data = {\n                                id: this.purchaseDeposit.id ? this.purchaseDeposit.id : \"\",\n                                type: \"Purchase Deposit\",\n                                uuid: this.purchaseDeposit.uuid\n                                    ? this.purchaseDeposit.uuid\n                                    : \"\",\n                                journal_uuid: this.purchaseDeposit.journal_uuid\n                                    ? this.purchaseDeposit.journal_uuid\n                                    : \"\",\n                                number: this.purchaseDeposit.number,\n                                abbr: this.purchaseDeposit.transactionType.abbr,\n                                transactionDate: this.transactionDate,\n                                supplier: this.supplier,\n                                transactionType: this.purchaseDeposit.transactionType,\n                                itemLine: dataRow,\n                                transactionNote: this.purchaseDeposit.transactionNote,\n                                journalNote: this.purchaseDeposit.journalNote,\n                                referenceNo: this.purchaseDeposit.referenceNo,\n                                amount: this.purchaseDeposit.amount,\n                                currency: this.purchaseDeposit.currency,\n                                exchangeAmount: this.purchaseDeposit.exchangeAmount, // amount to base currency\n                                txnRate: this.purchaseDeposit.txnRate,\n                                purchaseDepositAcc: this.purchaseDeposit.purchaseDepositAcc,\n                                exchangeRate: this.purchaseDeposit.exchangeRate,\n                                segment: this.purchaseDeposit.segment,\n                                location: this.purchaseDeposit.location,\n                                purchaseOrder: this.purchaseDeposit.purchaseOrder,\n                                status: 1,\n                                approvedBy: this.purchaseDeposit.approvedBy,\n                                rejectedBy: this.purchaseDeposit.rejectedBy,\n                                formTemplate: {},\n                                createdAt: this.purchaseDeposit.createdAt,\n                                loggedUser: this.loggedUser,\n                                refFrom: this.purchaseDeposit.refFrom || [],\n                                refTo: this.purchaseDeposit.refTo || [],\n                                isAutoGenerate: isAutoGenerate,\n                                actionType: this.$route.params.id\n                                    ? this.$route.query.type\n                                    : \"new\",\n                            };\n                            this.showLoading = true;\n                            // window.console.log('data', JSON.stringify(data))\n                            billingHandler.createPurchaseDeposit(data).then((response) => {\n                                if (response.data.statusCode === 201) {\n                                    this.showLoading = false;\n                                    this.$snotify.success(\"Successfully\");\n                                    if (flag === \"close\") {\n                                        this.clear();\n                                        this.close();\n                                    } else if (flag === \"new\") {\n                                        this.clear();\n                                    }\n                                }\n                            }).catch((e) => {\n                                this.showLoading = false;\n                                this.$snotify.error(\"Something went wrong\");\n                                this.errors.push(e);\n                            });\n                        }\n                    }, 10);\n                });\n            }\n        },\n        async loadCustomerBalance(id) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = id + \"?type=dep\";\n                    this.depositBalance = 0;\n                    // this.currencyCode = ''\n                    billingHandler\n                        .balance(strFilter)\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                const data = res.data.data;\n                                if (data.length > 0) {\n                                    this.depositBalance = data[0].balance;\n                                    this.currencyCode = \" \" + data[0].currency;\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async loadViewDeposit() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (this.$route.params.id) {\n                        this.showLoading = true;\n                        const strFilter = \"?id=\" + this.$route.params.id;\n                        billingHandler\n                            .purchaseDepositList(strFilter)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n\n                                    this.purchaseDeposit = res.data.data[0];\n                                    this.loadPurchaseOrders();\n\n                                    this.decimalFormat = this.purchaseDeposit.decimalFormat;\n                                    this.depositLine = this.purchaseDeposit.itemLines;\n                                    this.supplier = this.purchaseDeposit.supplier;\n                                    this.loadCustomerBalance(this.supplier.id);\n                                    this.transactionDate = this.purchaseDeposit.transactionDate;\n\n                                    // this.onChange(this)\n                                    // this.numberFormat(this.saleDeposit.purchaseOrder, 'amount')\n                                    // this.numberFormat(this.saleDeposit.purchaseOrder, 'currency')\n                                    // this.purchaseOrders = this.saleDeposit.purchaseOrder\n                                }\n                            })\n                            .catch();\n                        {\n                            this.showLoading = false;\n                        }\n                    }\n                }, 10);\n            });\n        },\n        async initData() {\n            if (this.$route.params.id !== undefined) {\n                await this.loadViewDeposit();\n            } else {\n                this.addRow();\n            }\n        },\n        reload() {\n            if (this.$route.params.id !== undefined) {\n                this.loadViewDeposit()\n            } else {\n                this.clear()\n            }\n        }\n    },\n    created() {\n        this.loadAccount();\n        this.loadCurrencyData();\n    },\n    watch: {\n        // id() {\n        //   if (this.$route.params.id === undefined) {\n        //     this.clear();\n        //   } else {\n        //     this.showLoading = true;\n        //     this.loadViewDeposit();\n        //   }\n        // },\n        '$route': 'reload'\n    },\n    mounted: async function () {\n        await this.loadPrefix();\n        await this.loadLocation();\n        await this.loadSegment();\n        await this.loadPaymentOption();\n        this.requestData(0, this.filter, this.cusBaseUrl);\n        await this.initData();\n    },\n    computed: {\n        disableMe() {\n            return !!this.$route.params.id;\n        },\n        amountLineHeaderTemplate() {\n            if (this.purchaseDeposit) {\n                // window.console.log(this.purchaseDeposit.currency)\n                if (this.purchaseDeposit.hasOwnProperty(\"currency\")) {\n                    const currency = this.purchaseDeposit.currency.hasOwnProperty(\"code\")\n                        ? this.purchaseDeposit.currency.code\n                        : \"\";\n                    if (currency) {\n                        return \"Amount (\" + currency + \")\";\n                    } else {\n                        return \"Amount\";\n                    }\n                }\n            }\n            return \"Amount\";\n        },\n        // segment() {\n        //   if (this.purchaseDeposit) {\n        //     if (this.purchaseDeposit.purchaseOrder) {\n        //       if (this.purchaseDeposit.purchaseOrder.hasOwnProperty('segment')) {\n        //         if (this.purchaseDeposit.purchaseOrder.hasOwnProperty('id')) {\n        //           return this.purchaseDeposit.purchaseOrder.segment.name\n        //         }\n        //       }\n        //     }\n        //   }\n        //   return ''\n        // },\n        // location() {\n        //   if (this.purchaseDeposit) {\n        //     if (this.purchaseDeposit.purchaseOrder) {\n        //       if (this.purchaseDeposit.purchaseOrder.hasOwnProperty('location')) {\n        //         if (this.purchaseDeposit.purchaseOrder.location.hasOwnProperty('id')) {\n        //           return this.purchaseDeposit.purchaseOrder.location.name\n        //         }\n        //       }\n        //     }\n        //   }\n        //   return ''\n        // },\n        validSupplier() {\n            let supplier = this.supplier;\n            return supplier.id !== undefined && supplier.id !== null;\n        },\n        hiddenButton() {\n            if (this.$route.params.id) {\n                return true\n            } else {\n                return false\n            }\n        }\n    },\n};\n</script>\n\n<style scoped>\n.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> tbody\n> tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: 0.5s ease-in;\n    flex: 0 0 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n.small_sidebar {\n    height: 96%;\n    position: relative;\n    padding: 12px;\n    background-color: #edf1f5;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 12px;\n}\n\n.v-data-table__wrapper td {\n    border-bottom: 1px solid #808080;\n    border-top: 1px solid #808080;\n}\n\nelement.style {\n}\n\n.v-list-item .v-list-item__title,\n.v-list-item .v-list-item__subtitle {\n    line-height: 1.2;\n}\n</style>\n"],"sourceRoot":"src/views/suppliers"}]}