{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products/production/bill_of_material/BillOfMaterial.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products/production/bill_of_material/BillOfMaterial.vue","mtime":1638760538981},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBpMThuIH0gZnJvbSAiQC9pMThuIjsKaW1wb3J0IEJvbU1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9Cb20iOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKaW1wb3J0IFNhbGVGb3JtQ29udGVudE1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9TYWxlRm9ybUNvbnRlbnQiOwppbXBvcnQgRmluaXNoUHJvZHVjdE1vZGVsIGZyb20gIkAvc2NyaXB0cy9ib20vRmluaXNoUHJvZHVjdCI7CmltcG9ydCBPdGhlckZpbmlzaFByb2R1Y3RNb2RlbCBmcm9tICJAL3NjcmlwdHMvYm9tL090aGVyRmluaXNoUHJvZHVjdCI7CmltcG9ydCBDb21wb25lbnRNb2RlbCBmcm9tICJAL3NjcmlwdHMvYm9tL0NvbXBvbmVudFVzZWQiOwppbXBvcnQgeyB1dWlkIH0gZnJvbSAidnVlLXV1aWQiOwoKdmFyIHByb2R1Y3RWYXJpYW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcm9kdWN0VmFyaWFudEhhbmRsZXIiKTsKCnZhciB1b21QcmljZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvdW9tUHJpY2VIYW5kbGVyIik7Cgp2YXIgd2FyZWhvdXNlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy93YXJlaG91c2VIYW5kbGVyIik7Cgp2YXIgYm9tSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9ib21IYW5kbGVyIik7Cgp2YXIgcHJlZml4SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcmVmaXhIYW5kbGVyIik7Cgp2YXIgYmlsbGluZ0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaW52b2ljZS9oYW5kbGVyL2JpbGxpbmdIYW5kbGVyIik7Cgp2YXIgc2FsZUZvcm1Db250ZW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zYWxlRm9ybUNvbnRlbnRIYW5kbGVyIik7Cgp2YXIgc2FsZUZvcm1Db250ZW50TW9kZWwgPSBuZXcgU2FsZUZvcm1Db250ZW50TW9kZWwoe30pOwoKdmFyIGN1cnJlbmN5SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jdXJyZW5jeS9oYW5kbGVyL2N1cnJlbmN5SGFuZGxlciIpOwoKdmFyIGJvbU1vZGVsID0gbmV3IEJvbU1vZGVsKHt9KTsKCnZhciAkID0gcmVxdWlyZSgianF1ZXJ5Iik7Cgp2YXIgaXRlbUxpbmVQcmVmaXggPSAibGluLSI7Cgp2YXIgY29va2llSlMgPSByZXF1aXJlKCJAL2Nvb2tpZS5qcyIpOwoKdmFyIGNvb2tpZSA9IGNvb2tpZUpTLmdldENvb2tpZSgpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkJpbGxPZk1hdGVyaWFsIiwKICBwcm9wczogWyJpZCJdLAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmdNZTogZnVuY3Rpb24gTG9hZGluZ01lKCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvTG9hZGluZyIpOwogICAgfSAvLyAnYXBwLWRhdGVwaWNrZXInIDogRGF0ZVBpY2tlckNvbXBvbmVudCwKCiAgfSwKICBjb21wdXRlZDogewogICAgZGlzYWJsZWRNZTogZnVuY3Rpb24gZGlzYWJsZWRNZSgpIHsKICAgICAgcmV0dXJuICEhdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgfSAvLyB0b3RhbENvc3QoKSB7CiAgICAvLyAgIGlmICh0aGlzLmNvc3RGUCAhPT0gMCB8fCB0aGlzLmNvc3RPRlAgIT09IDApIHsKICAgIC8vICAgICByZXR1cm4gdGhpcy5jb3N0T0ZQICsgdGhpcy5jb3N0RlAKICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICByZXR1cm4gMAogICAgLy8gICB9CiAgICAvLyB9LAogICAgLy8gdmFyaWFuY2VBbW91bnQoKSB7CiAgICAvLyAgIGlmICh0aGlzLmNvc3RGUCAhPT0gMCB8fCB0aGlzLmNvc3RPRlAgIT09IDAgfHwgdGhpcy5jb3N0Q1UgIT09IDAgfHwgdGhpcy5jb3N0T0MgIT09IDApIHsKICAgIC8vICAgICByZXR1cm4gKHRoaXMuY29zdEZQICsgdGhpcy5jb3N0T0ZQKSAtICh0aGlzLmNvc3RDVSArIHRoaXMuY29zdE9DKQogICAgLy8gICB9IGVsc2UgewogICAgLy8gICAgIHJldHVybiAwCiAgICAvLyAgIH0KICAgIC8vIH0KCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgICBhbGVydDogZmFsc2UsCiAgICAgIC8vIEZvcm0gdmFsaWRhdGlvbgogICAgICB2YWxpZDogdHJ1ZSwKICAgICAgaXNIaWRlQmFyOiBmYWxzZSwKICAgICAgd2FyZWhvdXNlczogW10sCiAgICAgIGJvbTogYm9tTW9kZWwsCiAgICAgIGJvbU5vOiAiIiwKICAgICAgYm9tVHlwZXM6IFt7CiAgICAgICAgaWQ6IDEsCiAgICAgICAgbmFtZTogIk9uZSBUaW1lIFVzZSIKICAgICAgfSwgewogICAgICAgIGlkOiAyLAogICAgICAgIG5hbWU6ICJNdWx0aXBsZSBVc2UiCiAgICAgIH1dLAogICAgICBpdGVtTGluZXNGUDogbmV3IEZpbmlzaFByb2R1Y3RNb2RlbCh7fSksCiAgICAgIGl0ZW1MaW5lc09QOiBuZXcgT3RoZXJGaW5pc2hQcm9kdWN0TW9kZWwoe30pLAogICAgICBpdGVtTGluZXNDVTogbmV3IENvbXBvbmVudE1vZGVsKHt9KSwKICAgICAgaXRlbUxpbmVzT0M6IGJvbU1vZGVsLm90aGVyQ29zdCwKICAgICAgZmluaXNoUHJvZHVjdEl0ZW1zOiBbXSwKICAgICAgb3RoZXJGaW5pc2hQcm9kdWN0SXRlbXM6IFtdLAogICAgICBjb21wb25lbnRVc2VkSXRlbXM6IFtdLAogICAgICBvdGhlckNvc3RzOiBbXSwKICAgICAgdGF4OiBbXSwKICAgICAgdmF0VGF4OiBbXSwKICAgICAgYWNjb3VudHM6IFtdLAogICAgICBjb3N0RlA6IDAsCiAgICAgIGNvc3RPRlA6IDAsCiAgICAgIGNvc3RDVTogMCwKICAgICAgY29zdE9DOiAwLAogICAgICBpdGVtTGluZU9QOiBbXSwKICAgICAgaXRlbUxpbmVDVTogW10sCiAgICAgIGl0ZW1MaW5lRlA6IFtdLAogICAgICBpdGVtTGluZU9DOiBbXSwKICAgICAgc2FsZUZvcm1Db250ZW50OiBzYWxlRm9ybUNvbnRlbnRNb2RlbCwKICAgICAgYmFzZUN1cnJlbmN5OiB7fSwKICAgICAgZXhjaGFuZ2VSYXRlOiB7fSwKICAgICAgbG9nZ2VkVXNlcjogewogICAgICAgIGlkOiBjb29raWUuY3JlYXRvciwKICAgICAgICBuYW1lOiBjb29raWUuZW1haWwKICAgICAgfSwKICAgICAgdGVtcGxhdGVzOiBbewogICAgICAgIHRpdGxlOiAiRHJhZnQiCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIk9wZW4iCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIlBhcnRpYWxseSBDbG9zZWQiCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIkNsb3NlZCIKICAgICAgfV0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkVmlld0JPTTogZnVuY3Rpb24gbG9hZFZpZXdCT00oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICBib21IYW5kbGVyLmdldEFsbCgiP2lkPSIgKyBfdGhpcy4kcm91dGUucGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYm9tID0gcmVzWzBdOyAvLyB0aGlzLmF1dG9DYWxjdWxhdGVHcmlkMSgpCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuYXV0b0NhbGN1bGF0ZUdyaWQyKCkKICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5hdXRvQ2FsY3VsYXRlR3JpZDMoKQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuYm9tLmZpbmlzaFByb2R1Y3QgPSBbXQogICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5ib20ub3RoZXJGaW5pc2hQcm9kdWN0ID0gW10KICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuYm9tLmNvbXBvbmVudFVzZWQgPSBbXQogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkUm93RmluaXNoUHJvZHVjdCgpOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZFJvd090aGVyUHJvZHVjdCgpOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZFJvd0NvbXBvbmVudFVzZSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBudW1iZXJGb3JtYXQ6IGZ1bmN0aW9uIG51bWJlckZvcm1hdCh2YWx1ZSkgewogICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcodmFsdWUsICJuIi5jb25jYXQodGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbCkpOwogICAgfSwKICAgIG51bWJlckVkaXRvcjogZnVuY3Rpb24gbnVtYmVyRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBkYXRhLWJpbmQ9InZhbHVlOicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9OdW1lcmljVGV4dEJveCh7CiAgICAgICAgZGVjaW1hbHM6IDMwLAogICAgICAgIG1pbjogMCwKICAgICAgICBmb3JtYXQ6ICIiLmNvbmNhdCh0aGlzLnNhbGVGb3JtQ29udGVudC5kZWNpbWFsKQogICAgICB9KTsKICAgIH0sCiAgICBsb2FkU2FsZUZvcm1Db250ZW50OiBmdW5jdGlvbiBsb2FkU2FsZUZvcm1Db250ZW50KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHNhbGVGb3JtQ29udGVudEhhbmRsZXIubGlzdCgpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGRhdGEubGVuZ3RoID4gMCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNhbGVGb3JtQ29udGVudCA9IGRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmJhc2VDdXJyZW5jeSA9IGRhdGFbMF0uYmFzZUN1cnJlbmN5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5ib20uY3VycmVuY3kgPSBfdGhpczIuYmFzZUN1cnJlbmN5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmxvYWRUcmFuc2FjdGlvblJhdGUoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0oKSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkVHJhbnNhY3Rpb25SYXRlOiBmdW5jdGlvbiBsb2FkVHJhbnNhY3Rpb25SYXRlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbmN5ID0gX3RoaXMzLmJhc2VDdXJyZW5jeTsKICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9ICIiOwoKICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVuY3kuaGFzT3duUHJvcGVydHkoImNvZGUiKSkgewogICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGN1cnJlbmN5LmNvZGU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPT0gdW5kZWZpbmVkIHx8IGNvZGUgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lIYW5kbGVyLmdldExhc3RFeGNoYW5nZVJhdGVCeURhdGUoZGF0ZSwgY29kZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuZXhjaGFuZ2VSYXRlID0gcmVzLmRhdGEuZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuYm9tLnR4blJhdGUgPSBfdGhpczMuZXhjaGFuZ2VSYXRlLnJhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmJvbS5leGNoYW5nZVJhdGUgPSBfdGhpczMuZXhjaGFuZ2VSYXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUHJlZml4OiBmdW5jdGlvbiBsb2FkUHJlZml4KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHByZWZpeEhhbmRsZXIuZ2V0KCJiaWxsIG9mIG1hdGVyaWFsIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQudHJhbnNhY3Rpb25UeXBlcyA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LnRyYW5zYWN0aW9uVHlwZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5ib20udHJhbnNhY3Rpb25UeXBlID0gX3RoaXM0LnRyYW5zYWN0aW9uVHlwZXNbMF07CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczQuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuZ2VuZXJhdGVOdW1iZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdlbmVyYXRlTnVtYmVyOiBmdW5jdGlvbiBnZW5lcmF0ZU51bWJlcigpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBhYmJyOiB0aGlzLmJvbS50cmFuc2FjdGlvblR5cGUuYWJiciwKICAgICAgICBzdHJ1Y3R1cmU6IHRoaXMuYm9tLnRyYW5zYWN0aW9uVHlwZS5zdHJ1Y3R1cmUsCiAgICAgICAgdHJhbnNhY3Rpb25EYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwKICAgICAgICBzZXF1Y2VuY2luZzogdGhpcy5ib20udHJhbnNhY3Rpb25UeXBlLnNlcXVjZW5jaW5nLAogICAgICAgIHR5cGU6ICJCaWxsIE9mIE1hdGVyaWFsIiwKICAgICAgICBlbnRpdHk6IDIKICAgICAgfTsKICAgICAgdGhpcy5ib20uYWJiciA9IGRhdGEuYWJicjsKICAgICAgdGhpcy5ib20uc3RydWN0dXJlID0gZGF0YS5zdHJ1Y3R1cmU7CiAgICAgIHRoaXMuYm9tLnNlcXVjZW5jaW5nID0gZGF0YS5zZXF1Y2VuY2luZzsKICAgICAgdGhpcy5ib20udHlwZSA9IGRhdGEudHlwZTsKICAgICAgdGhpcy5ib20udHJhbnNhY3Rpb25EYXRlID0gZGF0YS50cmFuc2FjdGlvbkRhdGU7CiAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICBiaWxsaW5nSGFuZGxlci5sYXN0TnVtYmVyKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczUuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHZhciByZXMgPSByZXNwb25zZS5kYXRhLmRhdGE7CgogICAgICAgICAgdmFyIGxhc3ROdW1iZXIgPSBfdGhpczUuemVyb1BhZChwYXJzZUludChyZXMubGFzdE51bWJlciksIF90aGlzNS5ib20udHJhbnNhY3Rpb25UeXBlLmZvcm1hdCk7CgogICAgICAgICAgX3RoaXM1LmJvbS5udW1iZXIgPSByZXMuc3VmZml4ICsgX3RoaXM1LmJvbS50cmFuc2FjdGlvblR5cGUubnVtYmVyU2VwYXJhdG9yICsgbGFzdE51bWJlcjsKICAgICAgICAgIF90aGlzNS5ib20ubGFzdE51bWJlciA9IHJlcy5zdWZmaXggKyBsYXN0TnVtYmVyOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczUuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgX3RoaXM1LmVycm9ycy5wdXNoKGUpOwogICAgICB9KTsKICAgIH0sCiAgICB6ZXJvUGFkOiBmdW5jdGlvbiB6ZXJvUGFkKG51bSwgcGxhY2VzKSB7CiAgICAgIHJldHVybiBTdHJpbmcobnVtKS5wYWRTdGFydChwbGFjZXMsICIwIik7CiAgICB9LAogICAgc3VmZml4OiBmdW5jdGlvbiBzdWZmaXgodHJhbnNhY3Rpb25EYXRlKSB7CiAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh0cmFuc2FjdGlvbkRhdGUpLCAieXltbSIpOwogICAgfSwKICAgIGxvYWRXYXJlaG91c2VzOiBmdW5jdGlvbiBsb2FkV2FyZWhvdXNlcygpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgd2FyZWhvdXNlSGFuZGxlci5nZXRXYXJlaG91c2VTZXR0aW5nQWxsKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi53YXJlaG91c2VzID0gcmVzOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldERhdGFTb3VyY2U6IGZ1bmN0aW9uIGdldERhdGFTb3VyY2UoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIGRzRlAsIGRhdGFSb3dGUCwgZHNPUCwgZGF0YVJvd09QLCBkc0NVLCBkYXRhUm93Q1U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRzRlAgPSBfdGhpczcuJHJlZnMuZmluaXNoUHJvZHVjdERTLmtlbmRvV2lkZ2V0KCk7CiAgICAgICAgICAgICAgICBkYXRhUm93RlAgPSBkc0ZQLmRhdGEoKTsKICAgICAgICAgICAgICAgIF90aGlzNy5pdGVtTGluZUZQID0gW107CiAgICAgICAgICAgICAgICBkYXRhUm93RlAuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICBfdGhpczcuaXRlbUxpbmVGUC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBpZDogaS5pZCwKICAgICAgICAgICAgICAgICAgICBpdGVtOiBpLml0ZW0sCiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGkuZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgICAgYnVvbTogaS5idW9tLAogICAgICAgICAgICAgICAgICAgIHVvbTogaS51b20sCiAgICAgICAgICAgICAgICAgICAgeWllbGRRdHk6IGkueWllbGRRdHksCiAgICAgICAgICAgICAgICAgICAgY29zdDogaS5jb3N0LAogICAgICAgICAgICAgICAgICAgIGFtb3VudDogaS5hbW91bnQsCiAgICAgICAgICAgICAgICAgICAgc2t1OiBpLnNrdSwKICAgICAgICAgICAgICAgICAgICBkZWNpbWFsRm9ybWF0OiBpLmRlY2ltYWxGb3JtYXQgfHwgIm4yIiwKICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnlBY2NvdW50OiBpLmludmVudG9yeUFjY291bnQKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGRzT1AgPSBfdGhpczcuJHJlZnMub3RoZXJQcm9kdWN0RFMua2VuZG9XaWRnZXQoKSwgZGF0YVJvd09QID0gZHNPUC5kYXRhKCk7CiAgICAgICAgICAgICAgICBfdGhpczcuaXRlbUxpbmVPUCA9IFtdOwogICAgICAgICAgICAgICAgZGF0YVJvd09QLmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3Lml0ZW1MaW5lT1AucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGkuaWQsCiAgICAgICAgICAgICAgICAgICAgaXRlbTogaS5pdGVtLAogICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBpLmRlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgICAgIGJ1b206IGkuYnVvbSwKICAgICAgICAgICAgICAgICAgICB1b206IGkudW9tLAogICAgICAgICAgICAgICAgICAgIHlpZWxkUXR5OiBpLnlpZWxkUXR5LAogICAgICAgICAgICAgICAgICAgIGNvc3Q6IGkuY29zdCwKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGkuYW1vdW50LAogICAgICAgICAgICAgICAgICAgIHNrdTogaS5za3UsCiAgICAgICAgICAgICAgICAgICAgZGVjaW1hbEZvcm1hdDogaS5kZWNpbWFsRm9ybWF0IHx8ICJuMiIsCiAgICAgICAgICAgICAgICAgICAgaW52ZW50b3J5QWNjb3VudDogaS5pbnZlbnRvcnlBY2NvdW50CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBkc0NVID0gX3RoaXM3LiRyZWZzLmNvbXBvbmVudFVzZURTLmtlbmRvV2lkZ2V0KCksIGRhdGFSb3dDVSA9IGRzQ1UuZGF0YSgpOwogICAgICAgICAgICAgICAgX3RoaXM3Lml0ZW1MaW5lQ1UgPSBbXTsKICAgICAgICAgICAgICAgIGRhdGFSb3dDVS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5pdGVtTGluZUNVLnB1c2goewogICAgICAgICAgICAgICAgICAgIGlkOiBpLmlkLAogICAgICAgICAgICAgICAgICAgIGl0ZW06IGkuaXRlbSwKICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogaS5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICBidW9tOiBpLmJ1b20sCiAgICAgICAgICAgICAgICAgICAgdW9tOiBpLnVvbSwKICAgICAgICAgICAgICAgICAgICBxdHk6IGkucXR5LAogICAgICAgICAgICAgICAgICAgIGNvc3Q6IGkuY29zdCwKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGkuYW1vdW50LAogICAgICAgICAgICAgICAgICAgIHNrdTogaS5za3UsCiAgICAgICAgICAgICAgICAgICAgZGVjaW1hbEZvcm1hdDogaS5kZWNpbWFsRm9ybWF0IHx8ICJuMiIsCiAgICAgICAgICAgICAgICAgICAgaW52ZW50b3J5QWNjb3VudDogaS5pbnZlbnRvcnlBY2NvdW50CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7IC8vIGxldCBkc09DID0gdGhpcy4kcmVmcy5vdGhlckNvc3REUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgICAgICAgLy8gICAgIGRhdGFSb3dPQyA9IGRzT0MuZGF0YSgpCgogICAgICAgICAgICAgICAgX3RoaXM3Lml0ZW1MaW5lT0MgPSBbXTsgLy8gZGF0YVJvd09DLmZvckVhY2goaSA9PiB7CiAgICAgICAgICAgICAgICAvLyAgIHRoaXMuaXRlbUxpbmVPQy5wdXNoKHsKICAgICAgICAgICAgICAgIC8vICAgICBpZDogaS5pZCwKICAgICAgICAgICAgICAgIC8vICAgICBhY2NvdW50OiBpLmFjY291bnQsCiAgICAgICAgICAgICAgICAvLyAgICAgZGVzY3JpcHRpb246IGkuZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAvLyAgICAgYW1vdW50OiBpLmFtb3VudCwKICAgICAgICAgICAgICAgIC8vICAgICB0YXg6IGkudGF4LAogICAgICAgICAgICAgICAgLy8gICB9KQogICAgICAgICAgICAgICAgLy8gfSkKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNhdmVQcmludDogZnVuY3Rpb24gc2F2ZVByaW50KCkge30sCiAgICBzYXZlTmV3OiBmdW5jdGlvbiBzYXZlTmV3KCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2F2ZUNsb3NlOiBmdW5jdGlvbiBzYXZlQ2xvc2UoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzOC5ib20udmFyaWFuY2UgIT09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM4LiRzbm90aWZ5LmVycm9yKCJQbGVhc2UgY2hlY2sgeW91ciB2YXJpYW5jZSBhbW91bnQiKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczguZ2V0RGF0YVNvdXJjZSgpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpczguYm9tLmZpbmlzaFByb2R1Y3QgPSBfdGhpczguaXRlbUxpbmVGUDsKICAgICAgICAgICAgICAgIF90aGlzOC5ib20uaXRlbUlkID0gX3RoaXM4Lml0ZW1MaW5lRlBbMF0uaXRlbSA/IF90aGlzOC5pdGVtTGluZUZQWzBdLml0ZW0uaWQgOiAiIjsKICAgICAgICAgICAgICAgIF90aGlzOC5ib20ub3RoZXJGaW5pc2hQcm9kdWN0ID0gX3RoaXM4Lml0ZW1MaW5lT1A7CiAgICAgICAgICAgICAgICBfdGhpczguYm9tLmNvbXBvbmVudFVzZWQgPSBfdGhpczguaXRlbUxpbmVDVTsgLy8gdGhpcy5ib20ub3RoZXJDb3N0ID0gdGhpcy5pdGVtTGluZU9DCiAgICAgICAgICAgICAgICAvLyB0aGlzLmJvbS5hbW91bnQgPSB0aGlzLnRvdGFsQ29zdAogICAgICAgICAgICAgICAgLy8gdGhpcy5ib20uZXhjaGFuZ2VBbW91bnQgPSB0aGlzLnRvdGFsQ29zdAogICAgICAgICAgICAgICAgLy8gdGhpcy5ib20udmFyaWFuY2UgPSB0aGlzLnZhcmlhbmNlQW1vdW50CgogICAgICAgICAgICAgICAgX3RoaXM4LmJvbS5zdGF0dXMgPSAxOwogICAgICAgICAgICAgICAgX3RoaXM4LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gYm9tSGFuZGxlci5zYXZlKF90aGlzOC5ib20pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczguc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgIF90aGlzOC4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJQcm9kdWN0cyIsCiAgICAgICAgICAgICAgICAgICAgcGF0aDogInByb2R1Y3QiLAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgICAgZGF0YUJvbTogcmVzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVtb3ZlUm93OiBmdW5jdGlvbiByZW1vdmVSb3coKSB7fSwKICAgIGVycm9yTWVzc2FnZTogZnVuY3Rpb24gZXJyb3JNZXNzYWdlKCkge30sCiAgICBkYXRhU291cmNlQ2hhbmdlZDogZnVuY3Rpb24gZGF0YVNvdXJjZUNoYW5nZWQoZSkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICB2YXIgZGF0YVJvdywgYnVvbTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghZS5maWVsZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGF0YVJvdyA9IGUuaXRlbXNbMF0sIGJ1b20gPSB7fTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAudDAgPSBlLmZpZWxkOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gX2NvbnRleHQxMC50MCA9PT0gIml0ZW0iID8gNSA6IF9jb250ZXh0MTAudDAgPT09ICJjb3N0IiA/IDEyIDogMTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgLy8gdGhpcy5hdHRyaWJ1dGVfID0gdGhpcy5hdHRyaWJ1dGVzLmZpbHRlcihtID0+IG0udHlwZS5pZCA9PT0gZGF0YVJvdy52YXJpYW50LmlkKQogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImRlc2NyaXB0aW9uIiwgZGF0YVJvdy5pdGVtLmRlc2NyaXB0aW9uKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJ5aWVsZFF0eSIsIDEpOwogICAgICAgICAgICAgICAgYnVvbSA9IGRhdGFSb3cuaXRlbS51b207CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYnVvbSIsIGJ1b20pOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM5LmludmVudG9yeUJhbGFuY2VCeUl0ZW0oZGF0YVJvdywgZGF0YVJvdy5pdGVtLmlkLCAxKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdCgiYnJlYWsiLCAxNik7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgcGFyc2VGbG9hdChkYXRhUm93LmNvc3QpICogcGFyc2VGbG9hdChkYXRhUm93LnlpZWxkUXR5KSk7CiAgICAgICAgICAgICAgICBfdGhpczkuY29zdEZQID0gZGF0YVJvdy5hbW91bnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoImJyZWFrIiwgMTYpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuYWJydXB0KCJicmVhayIsIDE2KTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOS5hdXRvQ2FsY3VsYXRlR3JpZDEoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzOS5hdXRvQ2FsY3VsYXRlR3JpZDIoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzOS5hdXRvQ2FsY3VsYXRlR3JpZDMoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGF0YVNvdXJjZUNoYW5nZWRPUDogZnVuY3Rpb24gZGF0YVNvdXJjZUNoYW5nZWRPUChlKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgZGF0YVJvdywgYnVvbTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghZS5maWVsZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGF0YVJvdyA9IGUuaXRlbXNbMF0sIGJ1b20gPSB7fTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEudDAgPSBlLmZpZWxkOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gX2NvbnRleHQxMS50MCA9PT0gIml0ZW0iID8gNSA6IF9jb250ZXh0MTEudDAgPT09ICJ5aWVsZFF0eSIgPyAxMiA6IF9jb250ZXh0MTEudDAgPT09ICJjb3N0IiA/IDE0IDogMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImRlc2NyaXB0aW9uIiwgZGF0YVJvdy5pdGVtLmRlc2NyaXB0aW9uKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJ5aWVsZFF0eSIsIDEpOwogICAgICAgICAgICAgICAgYnVvbSA9IGRhdGFSb3cuaXRlbS51b207CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYnVvbSIsIGJ1b20pOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMC5pbnZlbnRvcnlCYWxhbmNlQnlJdGVtKGRhdGFSb3csIGRhdGFSb3cuaXRlbS5pZCwgMSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoImJyZWFrIiwgMTgpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIHBhcnNlRmxvYXQoZGF0YVJvdy5jb3N0KSAqIHBhcnNlRmxvYXQoZGF0YVJvdy55aWVsZFF0eSkpOyAvLyB0aGlzLmNvc3RPRlAgPSBkYXRhUm93LmFtb3VudAoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLmFicnVwdCgiYnJlYWsiLCAxOCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgcGFyc2VGbG9hdChkYXRhUm93LmNvc3QpICogcGFyc2VGbG9hdChkYXRhUm93LnlpZWxkUXR5KSk7IC8vIHRoaXMuY29zdE9GUCA9IGRhdGFSb3cuYW1vdW50CgogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGRhdGFSb3cuY29zdCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoImJyZWFrIiwgMTgpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuYWJydXB0KCJicmVhayIsIDE4KTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTAuYXV0b0NhbGN1bGF0ZUdyaWQxKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczEwLmF1dG9DYWxjdWxhdGVHcmlkMigpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxMC5hdXRvQ2FsY3VsYXRlR3JpZDMoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYXV0b0NhbGN1bGF0ZUdyaWQxOiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlR3JpZDEoKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuZmluaXNoUHJvZHVjdERTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIHZhciByb3cgPSBkcy5kYXRhKCk7CiAgICAgIHZhciBhbW91bnQgPSAwOwogICAgICByb3cuZm9yRWFjaChmdW5jdGlvbiAobikgewogICAgICAgIGFtb3VudCArPSBuLmFtb3VudCB8fCAwOwogICAgICB9KTsKICAgICAgdGhpcy5jb3N0RlAgPSBhbW91bnQ7CiAgICAgIHRoaXMuYm9tLmFtb3VudCA9IHRoaXMuY29zdE9GUCArIHRoaXMuY29zdEZQOwogICAgICB0aGlzLmJvbS5leGNoYW5nZUFtb3VudCA9IHRoaXMuY29zdE9GUCArIHRoaXMuY29zdEZQOwogICAgICB0aGlzLmJvbS52YXJpYW5jZSA9IHRoaXMuY29zdEZQICsgdGhpcy5jb3N0T0ZQIC0gKHRoaXMuY29zdENVICsgdGhpcy5jb3N0T0MpOwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVHcmlkMjogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZUdyaWQyKCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLm90aGVyUHJvZHVjdERTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIHZhciByb3cgPSBkcy5kYXRhKCk7CiAgICAgIHZhciBhbW91bnQgPSAwOwogICAgICByb3cuZm9yRWFjaChmdW5jdGlvbiAobikgewogICAgICAgIGFtb3VudCArPSBuLmFtb3VudCB8fCAwOwogICAgICB9KTsKICAgICAgdGhpcy5jb3N0T0ZQID0gYW1vdW50OwogICAgICB0aGlzLmJvbS5hbW91bnQgPSB0aGlzLmNvc3RPRlAgKyB0aGlzLmNvc3RGUDsKICAgICAgdGhpcy5ib20uZXhjaGFuZ2VBbW91bnQgPSB0aGlzLmNvc3RPRlAgKyB0aGlzLmNvc3RGUDsKICAgICAgdGhpcy5ib20udmFyaWFuY2UgPSB0aGlzLmNvc3RGUCArIHRoaXMuY29zdE9GUCAtICh0aGlzLmNvc3RDVSArIHRoaXMuY29zdE9DKTsKICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlR3JpZDM6IGZ1bmN0aW9uIGF1dG9DYWxjdWxhdGVHcmlkMygpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5jb21wb25lbnRVc2VEUy5rZW5kb1dpZGdldCgpOwogICAgICB2YXIgcm93ID0gZHMuZGF0YSgpOwogICAgICB2YXIgYW1vdW50ID0gMDsKICAgICAgcm93LmZvckVhY2goZnVuY3Rpb24gKG4pIHsKICAgICAgICBhbW91bnQgKz0gbi5hbW91bnQgfHwgMDsKICAgICAgfSk7CiAgICAgIHRoaXMuY29zdENVID0gYW1vdW50OwogICAgICB0aGlzLmJvbS5hbW91bnQgPSB0aGlzLmNvc3RPRlAgKyB0aGlzLmNvc3RGUDsKICAgICAgdGhpcy5ib20uZXhjaGFuZ2VBbW91bnQgPSB0aGlzLmNvc3RPRlAgKyB0aGlzLmNvc3RGUDsKICAgICAgdGhpcy5ib20udmFyaWFuY2UgPSB0aGlzLmNvc3RGUCArIHRoaXMuY29zdE9GUCAtICh0aGlzLmNvc3RDVSArIHRoaXMuY29zdE9DKTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJ0aGlzLmJvbS5leGNoYW5nZUFtb3VudCIsIHRoaXMuYm9tLmV4Y2hhbmdlQW1vdW50LCAidmFyaWFuY2UiLCB0aGlzLmJvbS52YXJpYW5jZSk7CiAgICB9LAogICAgZGF0YVNvdXJjZUNoYW5nZWRPQzogZnVuY3Rpb24gZGF0YVNvdXJjZUNoYW5nZWRPQyhlKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICB2YXIgZGF0YVJvdzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghZS5maWVsZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGF0YVJvdyA9IGUuaXRlbXNbMF07CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnQwID0gZS5maWVsZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IF9jb250ZXh0MTIudDAgPT09ICJhY2NvdW50IiA/IDUgOiBfY29udGV4dDEyLnQwID09PSAidGF4IiA/IDcgOiBfY29udGV4dDEyLnQwID09PSAiYW1vdW50IiA/IDggOiAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coZGF0YVJvdy5hY2NvdW50KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLmFicnVwdCgiYnJlYWsiLCAxMSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLmFicnVwdCgiYnJlYWsiLCAxMSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF90aGlzMTEuY29zdE9DID0gZGF0YVJvdy5hbW91bnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoImJyZWFrIiwgMTEpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuYWJydXB0KCJicmVhayIsIDExKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGF0YVNvdXJjZUNoYW5nZWRDVTogZnVuY3Rpb24gZGF0YVNvdXJjZUNoYW5nZWRDVShlKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICB2YXIgZGF0YVJvdywgYnVvbTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghZS5maWVsZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGF0YVJvdyA9IGUuaXRlbXNbMF0sIGJ1b20gPSB7fTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMudDAgPSBlLmZpZWxkOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gX2NvbnRleHQxMy50MCA9PT0gIml0ZW0iID8gNSA6IF9jb250ZXh0MTMudDAgPT09ICJxdHkiID8gMTIgOiBfY29udGV4dDEzLnQwID09PSAiY29zdCIgPyAxNCA6IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJkZXNjcmlwdGlvbiIsIGRhdGFSb3cuaXRlbS5kZXNjcmlwdGlvbik7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgicXR5IiwgMSk7CiAgICAgICAgICAgICAgICBidW9tID0gZGF0YVJvdy5pdGVtLnVvbTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJidW9tIiwgYnVvbSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEyLmludmVudG9yeUJhbGFuY2VCeUl0ZW0oZGF0YVJvdywgZGF0YVJvdy5pdGVtLmlkLCAyKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLmFicnVwdCgiYnJlYWsiLCAxNyk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAvLyBkYXRhUm93LnNldCgncHJpY2UnLCBwYXJzZUZsb2F0KGRhdGFSb3cudW9tLnByaWNlKSkKICAgICAgICAgICAgICAgIC8vIGRhdGFSb3cuc2V0KCdjb3N0JywgcGFyc2VGbG9hdChkYXRhUm93LnVvbS5wcmljZSkgKiBwYXJzZUZsb2F0KGRhdGFSb3cucXR5KSkKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBwYXJzZUZsb2F0KGRhdGFSb3cuY29zdCkgKiBwYXJzZUZsb2F0KGRhdGFSb3cucXR5KSk7IC8vIHRoaXMuY29zdENVID0gZGF0YVJvdy5hbW91bnQKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoImJyZWFrIiwgMTcpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIHBhcnNlRmxvYXQoZGF0YVJvdy5jb3N0KSAqIHBhcnNlRmxvYXQoZGF0YVJvdy5xdHkpKTsgLy8gdGhpcy5jb3N0Q1UgPSBkYXRhUm93LmFtb3VudAoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLmFicnVwdCgiYnJlYWsiLCAxNyk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoImJyZWFrIiwgMTcpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgaWYgKGUuZmllbGQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMi5hdXRvQ2FsY3VsYXRlR3JpZDEoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTIuYXV0b0NhbGN1bGF0ZUdyaWQyKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczEyLmF1dG9DYWxjdWxhdGVHcmlkMygpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByb3dOdW1iZXJGUDogZnVuY3Rpb24gcm93TnVtYmVyRlAoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5maW5pc2hQcm9kdWN0RFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgVU9NRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIFVPTURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogInVvbS50b1VPTS5uYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogInVvbS50b1VPTS5pZCIsCiAgICAgICAgY2FzY2FkZUZyb206ICJpdGVtIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9dW9tLnRvVU9NLm5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogdW9tUHJpY2VIYW5kbGVyLmdldFVybChvcHRpb25zLm1vZGVsLml0ZW0uaWQpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9IC8vIG5hbWU6IHt0eXBlOiAic3RyaW5nIn0sCiAgICAgICAgICAgICAgICAvLyBza3U6IHt0eXBlOiAic3RyaW5nIn0sCgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgfSAvLyBkYXRhOiB0aGlzLnZhcmlhbnRzCgogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFVPTVRlbXBsYXRlOiBmdW5jdGlvbiBVT01UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgdW9tID0gZGF0YUl0ZW0uYnVvbTsKCiAgICAgIGlmICh1b20pIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KHVvbS5uYW1lID8gdW9tLm5hbWUgOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBJdGVtRHJvcERvd25FZGl0b3JGUDogZnVuY3Rpb24gSXRlbURyb3BEb3duRWRpdG9yRlAoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJjb250YWlucyIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGhlYWRlclRlbXBsYXRlOiAnPGRpdiBjbGFzcz0iZHJvcGRvd24taGVhZGVyIGstd2lkZ2V0IGstaGVhZGVyIj4nICsgIjxzcGFuPkl0ZW1zIDwvc3Bhbj4iICsgIjxzcGFuPjwvc3Bhbj4iICsgIjwvZGl2PiIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogcHJvZHVjdFZhcmlhbnRIYW5kbGVyLml0ZW1WYXJpYW50U2VhcmNoVVJMKCkgLy8gdmFyaWFudCBvbmx5CgogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhVHlwZTogImpzb24iCiAgICAgICAgICB9LAogICAgICAgICAgc2NoZW1hOiB7CiAgICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgICAgaWQ6ICJpZCIsCiAgICAgICAgICAgICAgZmllbGRzOiB7CiAgICAgICAgICAgICAgICBpZDogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBza3U6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG90YWw6IGZ1bmN0aW9uIHRvdGFsKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy8gZGF0YTogdGhpcy52YXJpYW50cwoKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBJdGVtRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIEl0ZW1Ecm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogImNvbnRhaW5zIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgaGVhZGVyVGVtcGxhdGU6ICc8ZGl2IGNsYXNzPSJkcm9wZG93bi1oZWFkZXIgay13aWRnZXQgay1oZWFkZXIiPicgKyAiPHNwYW4+SXRlbXMgPC9zcGFuPiIgKyAiPHNwYW4+PC9zcGFuPiIgKyAiPC9kaXY+IiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bmFtZSM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIHNlcnZlckZpbHRlcmluZzogdHJ1ZSwKICAgICAgICAgIHRyYW5zcG9ydDogewogICAgICAgICAgICByZWFkOiB7CiAgICAgICAgICAgICAgdXJsOiBwcm9kdWN0VmFyaWFudEhhbmRsZXIuaXRlbVNlYXJjaFVSTCgpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbmFtZTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNrdTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgfSAvLyBkYXRhOiB0aGlzLnZhcmlhbnRzCgogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIGl0ZW1UZW1wbGF0ZTogZnVuY3Rpb24gaXRlbVRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHZhciBpdGVtID0gZGF0YUl0ZW0uaXRlbTsKCiAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChpdGVtLm5hbWUgPyBpdGVtLm5hbWUgOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBpbnZlbnRvcnlCYWxhbmNlQnlJdGVtOiBmdW5jdGlvbiBpbnZlbnRvcnlCYWxhbmNlQnlJdGVtKGRhdGFSb3csIGl0ZW1JZCkgewogICAgICB2YXIgX2FyZ3VtZW50cyA9IGFyZ3VtZW50cywKICAgICAgICAgIF90aGlzMTMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICAgIHZhciBmbGFnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZmxhZyA9IF9hcmd1bWVudHMubGVuZ3RoID4gMiAmJiBfYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzJdIDogMTsKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOwogICAgICAgICAgICAgICAgICAgIHZhciBzdHJGaWx0ZXIgPSAiP2FzT2Y9IiArIHN0YXJ0RGF0ZSArICImaWQ9IiArIGl0ZW1JZDsKICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5pbnZlbnRvcnlCYWxhbmNlKHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYWxhbmNlID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYWxhbmNlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29zdCIsIGJhbGFuY2VbMF0ud2FjKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgicW9oIiwgYmFsYW5jZVswXS5xb2gpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZyA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIHBhcnNlRmxvYXQoYmFsYW5jZVswXS53YWMpICogcGFyc2VGbG9hdChkYXRhUm93LnlpZWxkUXR5KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBwYXJzZUZsb2F0KGJhbGFuY2VbMF0ud2FjKSAqIHBhcnNlRmxvYXQoZGF0YVJvdy5xdHkpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvc3QiLCAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkUm93RmluaXNoUHJvZHVjdDogZnVuY3Rpb24gYWRkUm93RmluaXNoUHJvZHVjdCgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICAgIHZhciBkcywgdG90YWw7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkcyA9IF90aGlzMTQuJHJlZnMuZmluaXNoUHJvZHVjdERTLmtlbmRvV2lkZ2V0KCksIHRvdGFsID0gZHMudG90YWwoKTsKICAgICAgICAgICAgICAgIF90aGlzMTQuaXRlbUxpbmVzRlAuaWQgPSBpdGVtTGluZVByZWZpeCArIHV1aWQudjEoKTsKICAgICAgICAgICAgICAgIF90aGlzMTQuaXRlbUxpbmVzRlAuZGVjaW1hbEZvcm1hdCA9ICJuIiArIF90aGlzMTQuc2FsZUZvcm1Db250ZW50LmRlY2ltYWw7CgogICAgICAgICAgICAgICAgaWYgKHRvdGFsID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIGRzLmluc2VydCh0b3RhbCwgX3RoaXMxNC5pdGVtTGluZXNGUCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgVU9NRHJvcERvd25FZGl0b3JPUDogZnVuY3Rpb24gVU9NRHJvcERvd25FZGl0b3JPUChjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJ1b20udG9VT00ubmFtZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJ1b20udG9VT00uaWQiLAogICAgICAgIGNhc2NhZGVGcm9tOiAiaXRlbSIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPXVvbS50b1VPTS5uYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgc2VydmVyRmlsdGVyaW5nOiB0cnVlLAogICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICB1cmw6IHVvbVByaWNlSGFuZGxlci5nZXRVcmwob3B0aW9ucy5tb2RlbC5pdGVtLmlkKQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhVHlwZTogImpzb24iCiAgICAgICAgICB9LAogICAgICAgICAgc2NoZW1hOiB7CiAgICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgICAgaWQ6ICJpZCIsCiAgICAgICAgICAgICAgZmllbGRzOiB7CiAgICAgICAgICAgICAgICBpZDogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSAvLyBuYW1lOiB7dHlwZTogInN0cmluZyJ9LAogICAgICAgICAgICAgICAgLy8gc2t1OiB7dHlwZTogInN0cmluZyJ9LAoKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG90YWw6IGZ1bmN0aW9uIHRvdGFsKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy8gZGF0YTogdGhpcy52YXJpYW50cwoKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBVT01UZW1wbGF0ZU9QOiBmdW5jdGlvbiBVT01UZW1wbGF0ZU9QKGRhdGFJdGVtKSB7CiAgICAgIHZhciB1b20gPSBkYXRhSXRlbS51b207CgogICAgICBpZiAodW9tKSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdCh1b20udW9tID8gdW9tLnVvbS50b1VPTS5uYW1lIDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgcm93TnVtYmVyT1A6IGZ1bmN0aW9uIHJvd051bWJlck9QKGRhdGFJdGVtKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMub3RoZXJQcm9kdWN0RFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgYWRkUm93T3RoZXJQcm9kdWN0OiBmdW5jdGlvbiBhZGRSb3dPdGhlclByb2R1Y3QoKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMub3RoZXJQcm9kdWN0RFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHRvdGFsID0gZHMudG90YWwoKTsKICAgICAgdGhpcy5pdGVtTGluZXNPUC5pZCA9IGl0ZW1MaW5lUHJlZml4ICsgdXVpZC52MSgpOwogICAgICB0aGlzLml0ZW1MaW5lc09QLmRlY2ltYWxGb3JtYXQgPSAibiIgKyB0aGlzLnNhbGVGb3JtQ29udGVudC5kZWNpbWFsOwogICAgICBkcy5pbnNlcnQodG90YWwsIHRoaXMuaXRlbUxpbmVzT1ApOwogICAgfSwKICAgIHJlbW92ZVJvd09QOiBmdW5jdGlvbiByZW1vdmVSb3dPUChlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkT3RoZXJQcm9kdWN0IikuZGF0YSgia2VuZG9HcmlkIiksCiAgICAgICAgICBkYXRhU291cmNlID0gZ3JpZC5kYXRhU291cmNlLAogICAgICAgICAgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKCQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKCiAgICAgIGlmIChkYXRhU291cmNlLnRvdGFsKCkgPj0gMSkgewogICAgICAgIGRhdGFTb3VyY2UucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZVJvd0NVOiBmdW5jdGlvbiByZW1vdmVSb3dDVShlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkQ29tcG9uZW50VXNlIikuZGF0YSgia2VuZG9HcmlkIiksCiAgICAgICAgICBkYXRhU291cmNlID0gZ3JpZC5kYXRhU291cmNlLAogICAgICAgICAgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKCQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKCiAgICAgIGlmIChkYXRhU291cmNlLnRvdGFsKCkgPiAxKSB7CiAgICAgICAgZGF0YVNvdXJjZS5yZW1vdmUoZGF0YUl0ZW0pOwogICAgICB9CiAgICB9LAogICAgVU9NVGVtcGxhdGVDVTogZnVuY3Rpb24gVU9NVGVtcGxhdGVDVShkYXRhSXRlbSkgewogICAgICB2YXIgdW9tID0gZGF0YUl0ZW0udW9tOwoKICAgICAgaWYgKHVvbSkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQodW9tLnVvbSA/IHVvbS51b20udG9VT00ubmFtZSA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIHJvd051bWJlckNVOiBmdW5jdGlvbiByb3dOdW1iZXJDVShkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmNvbXBvbmVudFVzZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIGFkZFJvd0NvbXBvbmVudFVzZTogZnVuY3Rpb24gYWRkUm93Q29tcG9uZW50VXNlKCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmNvbXBvbmVudFVzZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICB0b3RhbCA9IGRzLnRvdGFsKCk7CiAgICAgIHRoaXMuaXRlbUxpbmVzQ1UuaWQgPSBpdGVtTGluZVByZWZpeCArIHV1aWQudjEoKTsKICAgICAgdGhpcy5pdGVtTGluZXNDVS5kZWNpbWFsRm9ybWF0ID0gIm4iICsgdGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbDsKICAgICAgZHMuaW5zZXJ0KHRvdGFsLCB0aGlzLml0ZW1MaW5lc0NVKTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgdGl0bGU6IGkxOG4udCgibXNnX3RpdGxlX3dhcm5pbmciKSwKICAgICAgICB0ZXh0OiBpMThuLnQoIm1zZ19kaXNjYXJkIiksCiAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCJjYW5jZWwiKSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoImRpc2NhcmQiKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHRDZW4pIHsKICAgICAgICBpZiAocmVzdWx0Q2VuLnZhbHVlKSB7CiAgICAgICAgICBfdGhpczE1LiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNigpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTYucHJldiA9IF9jb250ZXh0MTYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNi5sb2FkU2FsZUZvcm1Db250ZW50KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNi5sb2FkUHJlZml4KCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNi5sb2FkV2FyZWhvdXNlcygpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTYubG9hZFZpZXdCT00oKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTYpOwogICAgfSkpKCk7CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgey8vIGF3YWl0IHRoaXMubG9hZFRheCgpCiAgICAvLyBhd2FpdCB0aGlzLmxvYWRBY2NvdW50KCkKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTcoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxNyk7CiAgICB9KSkoKTsKICB9LAogIGFjdGl2YXRlZDogZnVuY3Rpb24gYWN0aXZhdGVkKCkgewogICAgdGhpcy5ib20uZmluaXNoUHJvZHVjdCA9IFtdOwogICAgdGhpcy5ib20ub3RoZXJGaW5pc2hQcm9kdWN0ID0gW107CiAgICB0aGlzLmJvbS5jb21wb25lbnRVc2VkID0gW107CiAgICB0aGlzLmxvYWRWaWV3Qk9NKCk7CiAgfSwKICBkZWFjdGl2YXRlZDogZnVuY3Rpb24gZGVhY3RpdmF0ZWQoKSB7CiAgICB0aGlzLmJvbS5maW5pc2hQcm9kdWN0ID0gW107CiAgICB0aGlzLmJvbS5vdGhlckZpbmlzaFByb2R1Y3QgPSBbXTsKICAgIHRoaXMuYm9tLmNvbXBvbmVudFVzZWQgPSBbXTsgLy8gdGhpcy5hZGRSb3dGaW5pc2hQcm9kdWN0KCkKICAgIC8vIHRoaXMuYWRkUm93T3RoZXJQcm9kdWN0KCkKICAgIC8vIHRoaXMuYWRkUm93Q29tcG9uZW50VXNlKCkKICB9LAogIHdhdGNoOiB7Ly8gJyRyb3V0ZXInOiAnbG9hZFZpZXdCT00nCiAgfQp9Ow=="},{"version":3,"sources":["BillOfMaterial.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <v-row>\n        <v-col cols=\"12\" sm=\"12\">\n          <v-card\n            outlined\n            dense\n            class=\"pa-4 no_border rounded-sm\"\n            color=\"white\"\n          >\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n              <v-card outlined dense class=\"no_border\">\n                <h2 class=\"mb-0\">{{ $t(\"bill_of_material\") }}</h2>\n                <v-icon\n                  @click=\"cancel()\"\n                  style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                  class=\"float-right\"\n                  >close\n                </v-icon>\n              </v-card>\n\n              <v-card outlined dense class=\"px-3 no_border\" color=\"grayBg\">\n                <v-row>\n                  <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                    <label class=\"label  mb-0\">{{ $t(\"bom_no\") }}</label>\n                    <v-row class=\"mt-1 mr-0\">\n                      <v-col sm=\"3\" cols=\"3\" class=\"pt-0 pr-0\">\n                        <div class=\"code_text\">{{ bom.abbr }}</div>\n                      </v-col>\n                      <v-col sm=\"7\" cols=\"7\" class=\"pt-0 pl-0 pr-1\">\n                        <v-text-field\n                          class=\" custom-border \"\n                          v-model=\"bom.number\"\n                          disabled\n                          outlined\n                          tage=\"Bom No.\"\n                          :rules=\"[(v) => !!v || 'Number is required']\"\n                          required\n                        />\n                      </v-col>\n                      <v-col sm=\"2\" cols=\"2\" class=\"pt-0 px-0\">\n                        <v-icon\n                          color=\"black\"\n                          size=\"30\"\n                          class=\"border_qrcode\"\n                          :disabled=\"disabledMe\"\n                          @click=\"generateNumber\"\n                          >mdi-qrcode\n                        </v-icon>\n                      </v-col>\n                    </v-row>\n                  </v-col>\n                  <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                    <label class=\"label  mb-0 mt-1\" style=\"\">{{\n                      $t(\"bom_type\")\n                    }}</label>\n                    <v-select\n                      class=\"mt-1\"\n                      :items=\"bomTypes\"\n                      v-model=\"bom.typeBom\"\n                      item-text=\"name\"\n                      item-value=\"id\"\n                      return-object\n                      :placeholder=\"$t('type')\"\n                      tage=\"Bom Type\"\n                      outlined\n                    />\n                  </v-col>\n                  <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                    <label class=\"label  mb-0 mt-1\" style=\"\">{{\n                      $t(\"warehouse\")\n                    }}</label>\n                    <v-select\n                      class=\"mt-1\"\n                      :items=\"warehouses\"\n                      v-model=\"bom.warehouse\"\n                      return-object\n                      item-value=\"id\"\n                      item-text=\"name\"\n                      :placeholder=\"$t('warehouse')\"\n                      tage=\"Warehouse\"\n                      outlined\n                    />\n                  </v-col>\n                  <!--                                    <v-col sm=\"3\" cols=\"12\" class=\"my_radio\">-->\n                  <!--                                        <input v-model=\"bom.materialType\" id=\"radio1\" :selected-value=\"{id: 1, name: 'Build Assembly'}\" name=\"radio\" type=\"radio\">-->\n                  <!--                                        <label for=\"radio1\">{{ $t('build_assembly') }}</label>-->\n                  <!--                                        <input v-model=\"bom.materialType\" :selected-value=\"{id: 2, name: 'Production'}\" id=\"radio2\" name=\"radio\" type=\"radio\">-->\n                  <!--                                        <label for=\"radio2\">{{ $t('production') }}</label>-->\n                  <!--                                    </v-col>-->\n                </v-row>\n              </v-card>\n              <v-row>\n                <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                  <!-- Grid One -->\n                  <v-row style=\"background-color: #fff;\">\n                    <v-col cols=\"12\" class=\"py-1 pb-0\">\n                      <h2 class=\"primary--text mb-0 font_18 text-uppercase\">\n                        {{ $t(\"finished_product\") }}\n                      </h2>\n                    </v-col>\n                    <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n                      <kendo-datasource\n                        ref=\"finishProductDS\"\n                        :change=\"dataSourceChanged\"\n                        :data=\"bom.finishProduct\"\n                      />\n                      <kendo-grid\n                        id=\"gridFinishProduct\"\n                        class=\"grid-function\"\n                        :data-source-ref=\"'finishProductDS'\"\n                        :sortable=\"false\"\n                        :filterable=\"false\"\n                        :column-menu=\"true\"\n                        :editable=\"true\"\n                        :scrollable-virtual=\"true\"\n                      >\n                        <kendo-grid-column\n                          :template=\"rowNumberFP\"\n                          :title=\"$t('no.')\"\n                          :width=\"55\"\n                          :column-menu=\"false\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5;',\n                            class: 'text-variants',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: variants',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'item'\"\n                          :title=\"$t('items')\"\n                          :width=\"200\"\n                          :editable=\"\n                            () => {\n                              return true;\n                            }\n                          \"\n                          :template=\"itemTemplate\"\n                          :editor=\"ItemDropDownEditorFP\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'buom'\"\n                          :title=\"$t('base_uom')\"\n                          :width=\"150\"\n                          :template=\"UOMTemplate\"\n                          :editor=\"UOMDropDownEditor\"\n                          :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{ style: 'text-align: right; ' }\"\n                        />\n                        <!-- <kendo-grid-column\n                          :field=\"'description'\"\n                          :title=\"$t('description')\"\n                          :width=\"200\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        /> -->\n\n                        <kendo-grid-column\n                          :field=\"'yieldQty'\"\n                          :title=\"$t('yield_qty')\"\n                          :attributes=\"{\n                            class: 'k-state-disabled',\n                            style: 'text-align: right',\n                          }\"\n                          :width=\"150\"\n                          :template=\"\n                            '<span>#=kendo.toString(yieldQty || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'cost'\"\n                          :title=\"$t('cost')\"\n                          :width=\"150\"\n                          :editor=\"numberEditor\"\n                          :template=\"\n                            '<span>#=kendo.toString(cost || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'amount'\"\n                          :title=\"$t('amount')\"\n                          :width=\"150\"\n                          :template=\"\n                            '<span>#=kendo.toString(amount || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                        />\n                      </kendo-grid>\n                    </v-col>\n                  </v-row>\n                  <!-- Grid Two -->\n                  <v-row style=\"background-color: #fff;\">\n                    <v-col cols=\"12\" class=\"pt-0 pb-0\">\n                      <h2 class=\"primary--text mb-0 font_18 text-uppercase\">\n                        {{ $t(\"by_product\") }}\n                      </h2>\n                    </v-col>\n                    <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n                      <kendo-datasource\n                        ref=\"otherProductDS\"\n                        :change=\"dataSourceChangedOP\"\n                        :data=\"bom.otherFinishProduct\"\n                      />\n                      <kendo-grid\n                        id=\"gridOtherProduct\"\n                        class=\"grid-function\"\n                        :data-source-ref=\"'otherProductDS'\"\n                        :sortable=\"false\"\n                        :filterable=\"false\"\n                        :column-menu=\"true\"\n                        :editable=\"true\"\n                        :scrollable-virtual=\"true\"\n                      >\n                        <kendo-grid-column\n                          :template=\"rowNumberOP\"\n                          :title=\"$t('no.')\"\n                          :width=\"55\"\n                          :column-menu=\"false\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5;',\n                            class: 'text-variants',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: variants',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'item'\"\n                          :title=\"$t('item')\"\n                          :width=\"200\"\n                          :template=\"itemTemplate\"\n                          :editor=\"ItemDropDownEditorFP\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        />\n                        <!-- <kendo-grid-column\n                          :field=\"'description'\"\n                          :title=\"$t('description')\"\n                          :width=\"200\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        /> -->\n                        <kendo-grid-column\n                          :field=\"'buom'\"\n                          :title=\"$t('base_uom')\"\n                          :width=\"150\"\n                          :template=\"UOMTemplate\"\n                          :editor=\"UOMDropDownEditorOP\"\n                          :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{ style: 'text-align: right; ' }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'yieldQty'\"\n                          :title=\"$t('yield_qty')\"\n                          :width=\"150\"\n                          :template=\"\n                            '<span>#=kendo.toString(yieldQty || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'cost'\"\n                          :title=\"$t('cost')\"\n                          :width=\"150\"\n                          :template=\"\n                            '<span>#=kendo.toString(cost || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'amount'\"\n                          :title=\"$t('amount')\"\n                          :width=\"150\"\n                          :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                          :template=\"\n                            '<span>#=kendo.toString(amount || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :command=\"{\n                            iconClass: 'k-icon k-i-trash',\n                            text: 'Delete',\n                            click: removeRowOP,\n                            class: 'btn-plus',\n                          }\"\n                          :title=\"'&nbsp;'\"\n                          :width=\"100\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                        />\n                      </kendo-grid>\n                    </v-col>\n                    <v-col cols=\"12\" class=\"pt-0\">\n                      <v-btn\n                        color=\"primary\"\n                        class=\"float-left btn_plus rounded-4 white--text mr-2\"\n                        @click=\"addRowOtherProduct\"\n                      >\n                        <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                      </v-btn>\n                    </v-col>\n                  </v-row>\n                  <!-- Grid Three -->\n                  <v-row style=\"background-color: #fff;\">\n                    <v-col cols=\"12\" class=\"pt-0 pb-0\">\n                      <h2 class=\"primary--text mb-0 font_18 text-uppercase\">\n                        {{ $t(\"components_used\") }}\n                      </h2>\n                    </v-col>\n                    <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n                      <kendo-datasource\n                        ref=\"componentUseDS\"\n                        :change=\"dataSourceChangedCU\"\n                        :data=\"bom.componentUsed\"\n                      />\n                      <kendo-grid\n                        id=\"gridComponentUse\"\n                        class=\"grid-function\"\n                        :data-source-ref=\"'componentUseDS'\"\n                        :sortable=\"false\"\n                        :filterable=\"false\"\n                        :column-menu=\"true\"\n                        :editable=\"true\"\n                        :scrollable-virtual=\"true\"\n                      >\n                        <kendo-grid-column\n                          :template=\"rowNumberCU\"\n                          :title=\"$t('no.')\"\n                          :width=\"55\"\n                          :column-menu=\"false\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5;',\n                            class: 'text-variants',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: variants',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'item'\"\n                          :title=\"$t('item')\"\n                          :width=\"200\"\n                          :template=\"itemTemplate\"\n                          :editor=\"ItemDropDownEditor\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        />\n                        <!-- <kendo-grid-column\n                          :field=\"'description'\"\n                          :title=\"$t('description')\"\n                          :width=\"200\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        /> -->\n                        <kendo-grid-column\n                          :template=\"UOMTemplate\"\n                          :editor=\"UOMDropDownEditorOP\"\n                          :field=\"'buom'\"\n                          :title=\"$t('base_uom')\"\n                          :width=\"160\"\n                          :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'qty'\"\n                          :title=\"$t('qty')\"\n                          :width=\"150\"\n                          :editor=\"numberEditor\"\n                          :template=\"\n                            '<span>#=kendo.toString(qty || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'cost'\"\n                          :title=\"$t('cost')\"\n                          :width=\"150\"\n                          :editor=\"numberEditor\"\n                          :template=\"\n                            '<span>#=kendo.toString(cost || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'amount'\"\n                          :title=\"$t('amount')\"\n                          :width=\"150\"\n                          :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                          :template=\"\n                            '<span>#=kendo.toString(amount || 0, decimalFormat) || 0#</span>'\n                          \"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :command=\"{\n                            iconClass: 'k-icon k-i-trash',\n                            text: 'Delete',\n                            click: removeRowCU,\n                            class: 'btn-plus',\n                          }\"\n                          :title=\"'&nbsp;'\"\n                          :width=\"100\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                        />\n                      </kendo-grid>\n                    </v-col>\n                    <v-col cols=\"12\" class=\"pt-0\">\n                      <v-btn\n                        color=\"primary\"\n                        class=\"float-left btn_plus rounded-4 white--text mr-2\"\n                        @click=\"addRowComponentUse\"\n                      >\n                        <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                      </v-btn>\n                    </v-col>\n                  </v-row>\n                  <v-row style=\"background-color: #fff;\">\n                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                      <v-row>\n                        <v-col sm=\"6\" cols=\"6\" class=\"py-0\">\n                          <v-textarea\n                            class=\"mt-1\"\n                            outlined\n                            clearable\n                            rows=\"3\"\n                            no-resize\n                            v-model=\"bom.transactionNote\"\n                            height=\"90px\"\n                            tag=\"Memo\"\n                            placeholder=\"Memo\"\n                          />\n                        </v-col>\n                        <v-col sm=\"6\" cols=\"6\" class=\"py-0\">\n                          <v-simple-table>\n                            <template v-slot:default>\n                              <tbody>\n                                <tr>\n                                  <td class=\"text-left text-uppercase\">\n                                    {{ $t(\"total_cost\") }}\n                                  </td>\n                                  <td class=\"text-center\">:</td>\n                                  <td class=\"text-bold text-right\">\n                                    {{ numberFormat(bom.exchangeAmount) }}\n                                  </td>\n                                </tr>\n                                <tr>\n                                  <td class=\"text-left text-uppercase\">\n                                    {{ $t(\"variance\") }}\n                                  </td>\n                                  <td class=\"text-center\">:</td>\n                                  <td\n                                    v-bind:class=\"[\n                                      bom.variance >= 0 ? '' : 'redText',\n                                    ]\"\n                                    class=\"text-right text-bold\"\n                                  >\n                                    {{ numberFormat(bom.variance) }}\n                                  </td>\n                                </tr>\n                              </tbody>\n                            </template>\n                          </v-simple-table>\n                        </v-col>\n                      </v-row>\n                    </v-col>\n                  </v-row>\n                </v-col>\n              </v-row>\n              <v-divider />\n              <v-card outlined dense class=\"no_border function_footer\">\n                <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                  <span v-html=\"errorMessage\" />\n                </v-alert>\n                <v-menu>\n                  <v-list>\n                    <v-list-item\n                      v-for=\"(item, index) in templates\"\n                      :key=\"index\"\n                    >\n                      <v-list-item-title>{{ item.title }}</v-list-item-title>\n                    </v-list-item>\n                  </v-list>\n                </v-menu>\n                <v-btn\n                  color=\"black\"\n                  class=\"text-capitalize rounded-pill white--text float-left\"\n                  @click=\"cancel\"\n                >\n                  {{ $t(\"cancel\") }}\n                </v-btn>\n                <v-btn\n                  color=\"primary\"\n                  @click=\"saveClose()\"\n                  class=\"mr-2 float-right white--text text-capitalize rounded-pill\"\n                >\n                  {{ $t(\"save_close\") }}\n                </v-btn>\n              </v-card>\n            </v-form>\n          </v-card>\n        </v-col>\n      </v-row>\n      <LoadingMe\n        :isLoading=\"showLoading\"\n        :fullPage=\"false\"\n        type=\"loading\"\n        :myLoading=\"true\"\n      />\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport { i18n } from \"@/i18n\";\nimport BomModel from \"@/scripts/model/Bom\";\nimport kendo from \"@progress/kendo-ui\";\nimport SaleFormContentModel from \"@/scripts/model/SaleFormContent\";\nimport FinishProductModel from \"@/scripts/bom/FinishProduct\";\nimport OtherFinishProductModel from \"@/scripts/bom/OtherFinishProduct\";\nimport ComponentModel from \"@/scripts/bom/ComponentUsed\";\nimport { uuid } from \"vue-uuid\";\n\nconst productVariantHandler = require(\"@/scripts/productVariantHandler\");\nconst uomPriceHandler = require(\"@/scripts/uomPriceHandler\");\nconst warehouseHandler = require(\"@/scripts/warehouseHandler\");\nconst bomHandler = require(\"@/scripts/bomHandler\");\nconst prefixHandler = require(\"@/scripts/prefixHandler\");\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\nconst saleFormContentHandler = require(\"@/scripts/saleFormContentHandler\");\nconst saleFormContentModel = new SaleFormContentModel({});\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\");\n\nconst bomModel = new BomModel({});\nconst $ = require(\"jquery\");\nconst itemLinePrefix = \"lin-\";\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\n\nexport default {\n  name: \"BillOfMaterial\",\n  props: [\"id\"],\n  components: {\n    LoadingMe: () => import(`@/components/Loading`),\n    // 'app-datepicker' : DatePickerComponent,\n  },\n  computed: {\n    disabledMe() {\n      return !!this.$route.params.id;\n    },\n    // totalCost() {\n    //   if (this.costFP !== 0 || this.costOFP !== 0) {\n    //     return this.costOFP + this.costFP\n    //   } else {\n    //     return 0\n    //   }\n    // },\n    // varianceAmount() {\n    //   if (this.costFP !== 0 || this.costOFP !== 0 || this.costCU !== 0 || this.costOC !== 0) {\n    //     return (this.costFP + this.costOFP) - (this.costCU + this.costOC)\n    //   } else {\n    //     return 0\n    //   }\n    // }\n  },\n  data: () => ({\n    isEdit: false,\n    showLoading: false,\n    alert: false,\n    // Form validation\n    valid: true,\n    isHideBar: false,\n    warehouses: [],\n    bom: bomModel,\n    bomNo: \"\",\n    bomTypes: [\n      { id: 1, name: \"One Time Use\" },\n      { id: 2, name: \"Multiple Use\" },\n    ],\n    itemLinesFP: new FinishProductModel({}),\n    itemLinesOP: new OtherFinishProductModel({}),\n    itemLinesCU: new ComponentModel({}),\n    itemLinesOC: bomModel.otherCost,\n    finishProductItems: [],\n    otherFinishProductItems: [],\n    componentUsedItems: [],\n    otherCosts: [],\n    tax: [],\n    vatTax: [],\n    accounts: [],\n    costFP: 0,\n    costOFP: 0,\n    costCU: 0,\n    costOC: 0,\n    itemLineOP: [],\n    itemLineCU: [],\n    itemLineFP: [],\n    itemLineOC: [],\n    saleFormContent: saleFormContentModel,\n    baseCurrency: {},\n    exchangeRate: {},\n    loggedUser: {\n      id: cookie.creator,\n      name: cookie.email,\n    },\n    templates: [\n      { title: \"Draft\" },\n      { title: \"Open\" },\n      { title: \"Partially Closed\" },\n      { title: \"Closed\" },\n    ],\n  }),\n  methods: {\n    async loadViewBOM() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          if (this.$route.params.id) {\n            this.showLoading = true;\n            bomHandler.getAll(\"?id=\" + this.$route.params.id).then((res) => {\n              this.showLoading = false;\n              this.bom = res[0];\n              // this.autoCalculateGrid1()\n              // this.autoCalculateGrid2()\n              // this.autoCalculateGrid3()\n            });\n          } else {\n            // this.bom.finishProduct = []\n            // this.bom.otherFinishProduct = []\n            // this.bom.componentUsed = []\n            this.addRowFinishProduct();\n            this.addRowOtherProduct();\n            this.addRowComponentUse();\n          }\n        }, 10);\n      });\n    },\n    numberFormat(value) {\n      return kendo.toString(value, `n${this.saleFormContent.decimal}`);\n    },\n    numberEditor(container, options) {\n      kendo\n        .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoNumericTextBox({\n          decimals: 30,\n          min: 0,\n          format: `${this.saleFormContent.decimal}`,\n        });\n    },\n    async loadSaleFormContent() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          saleFormContentHandler.list().then(async (res) => {\n            if (res.data.statusCode === 200) {\n              const data = res.data.data;\n              if (data.length > 0) {\n                this.saleFormContent = data[0];\n                this.baseCurrency = data[0].baseCurrency;\n                this.bom.currency = this.baseCurrency;\n                await this.loadTransactionRate();\n              }\n            }\n          });\n        }, 10);\n      });\n    },\n    async loadTransactionRate() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          const date = new Date().toISOString().substr(0, 10);\n          const currency = this.baseCurrency;\n          let code = \"\";\n          if (currency.hasOwnProperty(\"code\")) {\n            code = currency.code;\n          }\n          if (code !== undefined || code !== \"\") {\n            this.showLoading = true;\n            currencyHandler\n              .getLastExchangeRateByDate(date, code)\n              .then((res) => {\n                if (res.data.statusCode === 200) {\n                  this.showLoading = false;\n                  this.exchangeRate = res.data.data[0];\n                  this.bom.txnRate = this.exchangeRate.rate;\n                  this.bom.exchangeRate = this.exchangeRate;\n                  this.showLoading = false;\n                }\n              });\n          }\n        }, 10);\n      });\n    },\n    async loadPrefix() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          prefixHandler.get(\"bill of material\").then((res) => {\n            if (res.data.statusCode === 200) {\n              this.showLoading = false;\n              this.transactionTypes = res.data.data;\n              if (this.transactionTypes.length > 0) {\n                this.bom.transactionType = this.transactionTypes[0];\n                if (this.$route.params.id === undefined) {\n                  this.generateNumber();\n                }\n              }\n            }\n          });\n        }, 10);\n      });\n    },\n    generateNumber() {\n      let data = {\n        abbr: this.bom.transactionType.abbr,\n        structure: this.bom.transactionType.structure,\n        transactionDate: new Date().toISOString().substr(0, 10),\n        sequcencing: this.bom.transactionType.sequcencing,\n        type: \"Bill Of Material\",\n        entity: 2,\n      };\n      this.bom.abbr = data.abbr;\n      this.bom.structure = data.structure;\n      this.bom.sequcencing = data.sequcencing;\n      this.bom.type = data.type;\n      this.bom.transactionDate = data.transactionDate;\n      this.showLoading = true;\n      billingHandler\n        .lastNumber(data)\n        .then((response) => {\n          if (response.data.statusCode === 200) {\n            this.showLoading = false;\n            const res = response.data.data;\n            const lastNumber = this.zeroPad(\n              parseInt(res.lastNumber),\n              this.bom.transactionType.format\n            );\n            this.bom.number =\n              res.suffix +\n              this.bom.transactionType.numberSeparator +\n              lastNumber;\n            this.bom.lastNumber = res.suffix + lastNumber;\n          }\n        })\n        .catch((e) => {\n          this.showLoading = false;\n          this.errors.push(e);\n        });\n    },\n    zeroPad(num, places) {\n      return String(num).padStart(places, \"0\");\n    },\n    suffix(transactionDate) {\n      return kendo.toString(new Date(transactionDate), `yymm`);\n    },\n    async loadWarehouses() {\n      warehouseHandler.getWarehouseSettingAll().then((res) => {\n        this.warehouses = res;\n      });\n    },\n    async getDataSource() {\n      let dsFP = this.$refs.finishProductDS.kendoWidget();\n      let dataRowFP = dsFP.data();\n      this.itemLineFP = [];\n      dataRowFP.forEach((i) => {\n        this.itemLineFP.push({\n          id: i.id,\n          item: i.item,\n          description: i.description,\n          buom: i.buom,\n          uom: i.uom,\n          yieldQty: i.yieldQty,\n          cost: i.cost,\n          amount: i.amount,\n          sku: i.sku,\n          decimalFormat: i.decimalFormat || \"n2\",\n          inventoryAccount: i.inventoryAccount,\n        });\n      });\n      let dsOP = this.$refs.otherProductDS.kendoWidget(),\n        dataRowOP = dsOP.data();\n      this.itemLineOP = [];\n      dataRowOP.forEach((i) => {\n        this.itemLineOP.push({\n          id: i.id,\n          item: i.item,\n          description: i.description,\n          buom: i.buom,\n          uom: i.uom,\n          yieldQty: i.yieldQty,\n          cost: i.cost,\n          amount: i.amount,\n          sku: i.sku,\n          decimalFormat: i.decimalFormat || \"n2\",\n          inventoryAccount: i.inventoryAccount,\n        });\n      });\n      let dsCU = this.$refs.componentUseDS.kendoWidget(),\n        dataRowCU = dsCU.data();\n      this.itemLineCU = [];\n      dataRowCU.forEach((i) => {\n        this.itemLineCU.push({\n          id: i.id,\n          item: i.item,\n          description: i.description,\n          buom: i.buom,\n          uom: i.uom,\n          qty: i.qty,\n          cost: i.cost,\n          amount: i.amount,\n          sku: i.sku,\n          decimalFormat: i.decimalFormat || \"n2\",\n          inventoryAccount: i.inventoryAccount,\n        });\n      });\n      // let dsOC = this.$refs.otherCostDS.kendoWidget(),\n      //     dataRowOC = dsOC.data()\n      this.itemLineOC = [];\n      // dataRowOC.forEach(i => {\n      //   this.itemLineOC.push({\n      //     id: i.id,\n      //     account: i.account,\n      //     description: i.description,\n      //     amount: i.amount,\n      //     tax: i.tax,\n      //   })\n      // })\n    },\n    savePrint() {},\n    async saveNew() {},\n    async saveClose() {\n      if (this.bom.variance !== 0) {\n        this.$snotify.error(\"Please check your variance amount\");\n        return;\n      }\n      await this.getDataSource();\n      this.bom.finishProduct = this.itemLineFP;\n      this.bom.itemId = this.itemLineFP[0].item\n        ? this.itemLineFP[0].item.id\n        : \"\";\n      this.bom.otherFinishProduct = this.itemLineOP\n      this.bom.componentUsed = this.itemLineCU\n      // this.bom.otherCost = this.itemLineOC\n      // this.bom.amount = this.totalCost\n      // this.bom.exchangeAmount = this.totalCost\n      // this.bom.variance = this.varianceAmount\n      this.bom.status = 1;\n      this.showLoading = true;\n      await bomHandler.save(this.bom).then((res) => {\n        this.showLoading = false;\n        this.$router.push({\n          name: \"Products\",\n          path: \"product\",\n          params: { dataBom: res },\n        });\n      });\n    },\n    removeRow() {},\n    errorMessage() {},\n    async dataSourceChanged(e) {\n      if (e.field) {\n        let dataRow = e.items[0],\n          buom = {};\n        switch (e.field) {\n          case \"item\":\n            // this.attribute_ = this.attributes.filter(m => m.type.id === dataRow.variant.id)\n            dataRow.set(\"description\", dataRow.item.description);\n            dataRow.set(\"yieldQty\", 1);\n            buom = dataRow.item.uom;\n            dataRow.set(\"buom\", buom);\n            await this.inventoryBalanceByItem(dataRow, dataRow.item.id, 1);\n            break;\n          // case \"uom\":\n          //   // window.console.log(dataRow.uom,'row-uom')\n          //   dataRow.set('cost', parseFloat(dataRow.uom.price))\n          //   window.console.log(dataRow.yieldQty)\n          //   if (dataRow.yieldQty !== undefined) {\n          //     dataRow.set('cost', parseFloat(dataRow.uom.price) * parseFloat(dataRow.yieldQty))\n          //     this.costFP = dataRow.cost\n          //   }\n          //   break\n          case \"cost\":\n            dataRow.set(\n              \"amount\",\n              parseFloat(dataRow.cost) * parseFloat(dataRow.yieldQty)\n            );\n            this.costFP = dataRow.amount;\n            break;\n          default:\n            break;\n        }\n        if (e.field) {\n          this.autoCalculateGrid1();\n          this.autoCalculateGrid2();\n          this.autoCalculateGrid3();\n        }\n      }\n    },\n    async dataSourceChangedOP(e) {\n      if (e.field) {\n        let dataRow = e.items[0],\n          buom = {};\n        switch (e.field) {\n          case \"item\":\n            dataRow.set(\"description\", dataRow.item.description);\n            dataRow.set(\"yieldQty\", 1);\n            buom = dataRow.item.uom;\n            dataRow.set(\"buom\", buom);\n            await this.inventoryBalanceByItem(dataRow, dataRow.item.id, 1);\n            break;\n          case \"yieldQty\":\n            dataRow.set(\n              \"amount\",\n              parseFloat(dataRow.cost) * parseFloat(dataRow.yieldQty)\n            );\n            // this.costOFP = dataRow.amount\n            break;\n          case \"cost\":\n            dataRow.set(\n              \"amount\",\n              parseFloat(dataRow.cost) * parseFloat(dataRow.yieldQty)\n            );\n            // this.costOFP = dataRow.amount\n            window.console.log(dataRow.cost);\n            break;\n          default:\n            break;\n        }\n        if (e.field) {\n          this.autoCalculateGrid1();\n          this.autoCalculateGrid2();\n          this.autoCalculateGrid3();\n        }\n      }\n    },\n    autoCalculateGrid1() {\n      let ds = this.$refs.finishProductDS.kendoWidget();\n      const row = ds.data();\n      let amount = 0;\n      row.forEach((n) => {\n        amount += n.amount || 0;\n      });\n      this.costFP = amount;\n      this.bom.amount = this.costOFP + this.costFP;\n      this.bom.exchangeAmount = this.costOFP + this.costFP;\n      this.bom.variance =\n        this.costFP + this.costOFP - (this.costCU + this.costOC);\n    },\n    autoCalculateGrid2() {\n      let ds = this.$refs.otherProductDS.kendoWidget();\n      const row = ds.data();\n      let amount = 0;\n      row.forEach((n) => {\n        amount += n.amount || 0;\n      });\n      this.costOFP = amount;\n      this.bom.amount = this.costOFP + this.costFP;\n      this.bom.exchangeAmount = this.costOFP + this.costFP;\n      this.bom.variance =\n        this.costFP + this.costOFP - (this.costCU + this.costOC);\n    },\n    autoCalculateGrid3() {\n      let ds = this.$refs.componentUseDS.kendoWidget();\n      const row = ds.data();\n      let amount = 0;\n      row.forEach((n) => {\n        amount += n.amount || 0;\n      });\n      this.costCU = amount;\n      this.bom.amount = this.costOFP + this.costFP;\n      this.bom.exchangeAmount = this.costOFP + this.costFP;\n      this.bom.variance =\n        this.costFP + this.costOFP - (this.costCU + this.costOC);\n      window.console.log(\n        \"this.bom.exchangeAmount\",\n        this.bom.exchangeAmount,\n        \"variance\",\n        this.bom.variance\n      );\n    },\n    async dataSourceChangedOC(e) {\n      if (e.field) {\n        let dataRow = e.items[0];\n        switch (e.field) {\n          case \"account\":\n            window.console.log(dataRow.account);\n            break;\n          case \"tax\":\n            break;\n          case \"amount\":\n            this.costOC = dataRow.amount;\n            break;\n          default:\n            break;\n        }\n      }\n    },\n    async dataSourceChangedCU(e) {\n      if (e.field) {\n        let dataRow = e.items[0],\n          buom = {};\n        switch (e.field) {\n          case \"item\":\n            dataRow.set(\"description\", dataRow.item.description);\n            dataRow.set(\"qty\", 1);\n            buom = dataRow.item.uom;\n            dataRow.set(\"buom\", buom);\n            await this.inventoryBalanceByItem(dataRow, dataRow.item.id, 2);\n            break;\n          // case \"uom\":\n          //   // window.console.log(dataRow.uom,'row-uom')\n          //   dataRow.set('cost', parseFloat(dataRow.uom.price))\n          //   window.console.log(dataRow.qty)\n          //   if (dataRow.qty !== undefined) {\n          //     dataRow.set('cost', parseFloat(dataRow.uom.price) * parseFloat(dataRow.qty))\n          //     this.costCU = dataRow.cost\n          //   }\n          //   break\n          case \"qty\":\n            // dataRow.set('price', parseFloat(dataRow.uom.price))\n            // dataRow.set('cost', parseFloat(dataRow.uom.price) * parseFloat(dataRow.qty))\n            dataRow.set(\n              \"amount\",\n              parseFloat(dataRow.cost) * parseFloat(dataRow.qty)\n            );\n            // this.costCU = dataRow.amount\n            break;\n          case \"cost\":\n            dataRow.set(\n              \"amount\",\n              parseFloat(dataRow.cost) * parseFloat(dataRow.qty)\n            );\n            // this.costCU = dataRow.amount\n            break;\n          default:\n            break;\n        }\n        if (e.field) {\n          this.autoCalculateGrid1();\n          this.autoCalculateGrid2();\n          this.autoCalculateGrid3();\n        }\n      }\n    },\n    rowNumberFP(dataItem) {\n      let ds = this.$refs.finishProductDS.kendoWidget(),\n        index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    UOMDropDownEditor(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: true,\n          autoWidth: true,\n          height: 400,\n          filter: \"startswith\",\n          dataTextField: \"uom.toUOM.name\",\n          dataValueField: \"uom.toUOM.id\",\n          cascadeFrom: \"item\",\n          template: \"<span>#=uom.toUOM.name#</span>\",\n          optionLabel: \"--- Select ---\",\n          dataSource: new kendo.data.DataSource({\n            serverFiltering: true,\n            transport: {\n              read: {\n                url: uomPriceHandler.getUrl(options.model.item.id),\n              },\n              dataType: \"json\",\n            },\n            schema: {\n              model: {\n                id: \"id\",\n                fields: {\n                  id: { type: \"string\" },\n                  // name: {type: \"string\"},\n                  // sku: {type: \"string\"},\n                },\n              },\n              data: function(response) {\n                return response.data;\n              },\n              total: function(response) {\n                return response.data.count;\n              },\n            },\n            // data: this.variants\n          }),\n        });\n    },\n    UOMTemplate(dataItem) {\n      const uom = dataItem.buom;\n      if (uom) {\n        return `<span>${uom.name ? uom.name : ``}</span>`;\n      } else {\n        return ``;\n      }\n    },\n    ItemDropDownEditorFP(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: true,\n          autoWidth: true,\n          height: 400,\n          filter: \"contains\",\n          dataTextField: \"name\",\n          dataValueField: \"id\",\n          headerTemplate:\n            '<div class=\"dropdown-header k-widget k-header\">' +\n            \"<span>Items </span>\" +\n            \"<span></span>\" +\n            \"</div>\",\n          template: \"<span>#=name#</span>\",\n          optionLabel: \"--- Select ---\",\n          dataSource: new kendo.data.DataSource({\n            serverFiltering: true,\n            transport: {\n              read: {\n                url: productVariantHandler.itemVariantSearchURL(), // variant only\n              },\n              dataType: \"json\",\n            },\n            schema: {\n              model: {\n                id: \"id\",\n                fields: {\n                  id: { type: \"string\" },\n                  name: { type: \"string\" },\n                  sku: { type: \"string\" },\n                },\n              },\n              data: function(response) {\n                return response.data;\n              },\n              total: function(response) {\n                return response.data.count;\n              },\n            },\n            // data: this.variants\n          }),\n        });\n    },\n    ItemDropDownEditor(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: true,\n          autoWidth: true,\n          height: 400,\n          filter: \"contains\",\n          dataTextField: \"name\",\n          dataValueField: \"id\",\n          headerTemplate:\n            '<div class=\"dropdown-header k-widget k-header\">' +\n            \"<span>Items </span>\" +\n            \"<span></span>\" +\n            \"</div>\",\n          template: \"<span>#=name#</span>\",\n          optionLabel: \"--- Select ---\",\n          dataSource: new kendo.data.DataSource({\n            serverFiltering: true,\n            transport: {\n              read: {\n                url: productVariantHandler.itemSearchURL(),\n              },\n              dataType: \"json\",\n            },\n            schema: {\n              model: {\n                id: \"id\",\n                fields: {\n                  id: { type: \"string\" },\n                  name: { type: \"string\" },\n                  sku: { type: \"string\" },\n                },\n              },\n              data: function(response) {\n                return response.data;\n              },\n              total: function(response) {\n                return response.data.count;\n              },\n            },\n            // data: this.variants\n          }),\n        });\n    },\n    itemTemplate(dataItem) {\n      const item = dataItem.item;\n      if (item) {\n        return `<span>${item.name ? item.name : ``}</span>`;\n      } else {\n        return ``;\n      }\n    },\n    async inventoryBalanceByItem(dataRow, itemId, flag = 1) {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          this.showLoading = true;\n          const startDate = new Date().toISOString().substr(0, 10);\n          let strFilter = \"?asOf=\" + startDate + \"&id=\" + itemId;\n          billingHandler.inventoryBalance(strFilter).then((res) => {\n            if (res.data.statusCode === 200) {\n              const balance = res.data.data;\n              if (balance.length > 0) {\n                dataRow.set(\"cost\", balance[0].wac);\n                dataRow.set(\"qoh\", balance[0].qoh);\n                if (flag === 1) {\n                  dataRow.set(\n                    \"amount\",\n                    parseFloat(balance[0].wac) * parseFloat(dataRow.yieldQty)\n                  );\n                } else {\n                  dataRow.set(\n                    \"amount\",\n                    parseFloat(balance[0].wac) * parseFloat(dataRow.qty)\n                  );\n                }\n              } else {\n                dataRow.set(\"cost\", 0);\n              }\n            }\n            this.showLoading = false;\n          });\n        }, 10);\n      });\n    },\n    async addRowFinishProduct() {\n      let ds = this.$refs.finishProductDS.kendoWidget(),\n        total = ds.total();\n      this.itemLinesFP.id = itemLinePrefix + uuid.v1();\n      this.itemLinesFP.decimalFormat = \"n\" + this.saleFormContent.decimal;\n      if (total === 0) {\n        ds.insert(total, this.itemLinesFP);\n      }\n    },\n\n    UOMDropDownEditorOP(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: true,\n          autoWidth: true,\n          height: 400,\n          filter: \"startswith\",\n          dataTextField: \"uom.toUOM.name\",\n          dataValueField: \"uom.toUOM.id\",\n          cascadeFrom: \"item\",\n          template: \"<span>#=uom.toUOM.name#</span>\",\n          optionLabel: \"--- Select ---\",\n          dataSource: new kendo.data.DataSource({\n            serverFiltering: true,\n            transport: {\n              read: {\n                url: uomPriceHandler.getUrl(options.model.item.id),\n              },\n              dataType: \"json\",\n            },\n            schema: {\n              model: {\n                id: \"id\",\n                fields: {\n                  id: { type: \"string\" },\n                  // name: {type: \"string\"},\n                  // sku: {type: \"string\"},\n                },\n              },\n              data: function(response) {\n                return response.data;\n              },\n              total: function(response) {\n                return response.data.count;\n              },\n            },\n            // data: this.variants\n          }),\n        });\n    },\n    UOMTemplateOP(dataItem) {\n      const uom = dataItem.uom;\n      if (uom) {\n        return `<span>${uom.uom ? uom.uom.toUOM.name : ``}</span>`;\n      } else {\n        return ``;\n      }\n    },\n    rowNumberOP(dataItem) {\n      let ds = this.$refs.otherProductDS.kendoWidget(),\n        index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    addRowOtherProduct() {\n      let ds = this.$refs.otherProductDS.kendoWidget(),\n        total = ds.total();\n      this.itemLinesOP.id = itemLinePrefix + uuid.v1();\n      this.itemLinesOP.decimalFormat = \"n\" + this.saleFormContent.decimal;\n      ds.insert(total, this.itemLinesOP);\n    },\n    removeRowOP(e) {\n      e.preventDefault();\n      const grid = kendo.jQuery(\"#gridOtherProduct\").data(\"kendoGrid\"),\n        dataSource = grid.dataSource,\n        dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n      if (dataSource.total() >= 1) {\n        dataSource.remove(dataItem);\n      }\n    },\n    removeRowCU(e) {\n      e.preventDefault();\n      const grid = kendo.jQuery(\"#gridComponentUse\").data(\"kendoGrid\"),\n        dataSource = grid.dataSource,\n        dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n      if (dataSource.total() > 1) {\n        dataSource.remove(dataItem);\n      }\n    },\n    UOMTemplateCU(dataItem) {\n      const uom = dataItem.uom;\n      if (uom) {\n        return `<span>${uom.uom ? uom.uom.toUOM.name : ``}</span>`;\n      } else {\n        return ``;\n      }\n    },\n\n    rowNumberCU(dataItem) {\n      let ds = this.$refs.componentUseDS.kendoWidget(),\n        index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    addRowComponentUse() {\n      let ds = this.$refs.componentUseDS.kendoWidget(),\n        total = ds.total();\n      this.itemLinesCU.id = itemLinePrefix + uuid.v1();\n      this.itemLinesCU.decimalFormat = \"n\" + this.saleFormContent.decimal;\n      ds.insert(total, this.itemLinesCU);\n    },\n    cancel() {\n      this.$swal({\n        title: i18n.t(\"msg_title_warning\"),\n        text: i18n.t(\"msg_discard\"),\n        icon: \"warning\",\n        showCancelButton: true,\n        cancelButtonText: i18n.t(\"cancel\"),\n        confirmButtonColor: \"#4d4848\",\n        cancelButtonColor: \"#ED1A3A\",\n        confirmButtonText: i18n.t(\"discard\"),\n      }).then((resultCen) => {\n        if (resultCen.value) {\n          this.$router.go(-1);\n        }\n      });\n    },\n  },\n  async mounted() {\n    await this.loadSaleFormContent();\n    await this.loadPrefix();\n    await this.loadWarehouses();\n    await this.loadViewBOM();\n  },\n  async created() {\n    // await this.loadTax()\n    // await this.loadAccount()\n  },\n  activated() {\n    this.bom.finishProduct = [];\n    this.bom.otherFinishProduct = [];\n    this.bom.componentUsed = [];\n    this.loadViewBOM();\n  },\n  deactivated() {\n    this.bom.finishProduct = [];\n    this.bom.otherFinishProduct = [];\n    this.bom.componentUsed = [];\n    // this.addRowFinishProduct()\n    // this.addRowOtherProduct()\n    // this.addRowComponentUse()\n  },\n  watch: {\n    // '$router': 'loadViewBOM'\n  },\n};\n</script>\n<style scoped>\n.redText {\n  color: red !important;\n}\n\n.small_sidebar {\n  height: 97%;\n  position: relative;\n  padding: 12px;\n}\n\n.hide_small_bar_class {\n  max-width: 0;\n  transition: 0.5s ease-in;\n  flex: 0 0 0;\n  padding: 0;\n}\n\n.hide_big_bar_class {\n  max-width: 100%;\n  transition: 0.5s ease-in;\n  flex: 0 0 100%;\n}\n\n.iconArrow {\n  right: -35px;\n  position: absolute;\n  bottom: -10px;\n}\n\n.iconArrowHide {\n  position: absolute;\n  right: -7px;\n  bottom: -10px;\n}\n\n.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > tbody\n  > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n  background-color: transparent !important;\n}\n\n.detial_smallside_p {\n  position: absolute;\n  bottom: 10px;\n}\n\n@media (min-width: 1264px) {\n  .container {\n    /* max-width: 1185px; */\n    max-width: 1080px !important;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/products/production/bill_of_material"}]}