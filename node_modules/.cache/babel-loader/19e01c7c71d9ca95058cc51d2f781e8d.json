{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/Product.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/Product.vue","mtime":1640595536837},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGkxOG4gfSBmcm9tICJAL2kxOG4iOwppbXBvcnQgUHJvZHVjdE1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9Qcm9kdWN0cyI7CmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwppbXBvcnQgVmFyaWFudE1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9WYXJpYW50cyI7CnZhciAkID0ga2VuZG8ualF1ZXJ5OwoKdmFyIGFjY291bnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2hhbmRsZXIvYWNjb3VudGluZy9hY2NvdW50Iik7Cgp2YXIgY2F0ZWdvcnlIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2NhdGVnb3J5SGFuZGxlciIpOwoKdmFyIGdyb3VwSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9ncm91cEhhbmRsZXIiKTsKCnZhciBzdWJHcm91cEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc3ViR3JvdXBIYW5kbGVyIik7Cgp2YXIgdW9tSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy91b21IYW5kbGVyIik7Cgp2YXIgd2FyZWhvdXNlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy93YXJlaG91c2VIYW5kbGVyIik7Cgp2YXIgc2V0dGluZ0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2V0dGluZ0hhbmRsZXIiKTsKCnZhciBwcm9kdWN0SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcm9kdWN0SGFuZGxlciIpOwoKdmFyIHZhcmlhbnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3ZhcmlhbnRUeXBlSGFuZGxlciIpOwoKdmFyIHByaWNlTGV2ZWxIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3ByaWNlTGV2ZWxIYW5kbGVyIik7IC8vIGNvbnN0IGF0dHJpYnV0ZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvYXR0cmlidXRlSGFuZGxlciIpCgoKdmFyIHZhcmlhbnRNb2RlbCA9IG5ldyBWYXJpYW50TW9kZWwoe30pOwp2YXIgcHJvZHVjdE1vZGVsID0gbmV3IFByb2R1Y3RNb2RlbCh7fSk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRkUHJvZHVjdCIsCiAgcHJvcHM6IFsiaWQiXSwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nTWU6IGZ1bmN0aW9uIExvYWRpbmdNZSgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL0xvYWRpbmciKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93TG9hZGluZzogdHJ1ZSwKICAgICAgYWNjTG9hZGluZzogZmFsc2UsCiAgICAgIHZhbGlkOiAiIiwKICAgICAgaW5jb21lQWNjOiAiIiwKICAgICAgbUFjY0ludmVudG9yeTogIiIsCiAgICAgIG1DYXRlZ29yeTogIiIsCiAgICAgIG1Hcm91cDogIiIsCiAgICAgIG1Gb3JtVGVtcGxhdGU6ICIiLAogICAgICBmb3JtVGVtcGxhdGU6IFt7CiAgICAgICAgaWQ6ICJmdHAtYzM1Y2JlNDYtMWM1ZS0xMWViLWFkYzEtMDI0MmFjMTIwMDAyIiwKICAgICAgICBuYW1lOiAiRm9ybSBBIgogICAgICB9LCB7CiAgICAgICAgaWQ6ICJmdHAtYzM1Y2MwNjItMWM1ZS0xMWViLWFkYzEtMDI0MmFjMTIwMDAyIiwKICAgICAgICBuYW1lOiAiRm9ybSBCIgogICAgICB9LCB7CiAgICAgICAgaWQ6ICJmdHAtYzM1Y2MyZWMtMWM1ZS0xMWViLWFkYzEtMDI0MmFjMTIwMDAyIiwKICAgICAgICBuYW1lOiAiRm9ybSBDIgogICAgICB9XSwKICAgICAgbUFjY0Nvc3RPZkdvb2RTb2xkOiAiIiwKICAgICAgYWNjUmV2ZW51ZTogW10sCiAgICAgIGFjY0ludmVudG9yeTogW10sCiAgICAgIGFjY0Nvc3RPZkdvb2RTb2xkOiBbXSwKICAgICAgY2F0ZWdvcmllczogW10sCiAgICAgIGdyb3VwczogW10sCiAgICAgIGdyb3VwOiBbXSwKICAgICAgc3ViR3JvdXA6IFtdLAogICAgICB1b206IFtdLAogICAgICB0YXg6IFtdLAogICAgICBzcGVjaWZpY1RheDogW10sCiAgICAgIHZhdDogW10sCiAgICAgIG1TdWJHcm91cDoge30sCiAgICAgIHN1Ykdyb3VwczogW10sCiAgICAgIHdhcmVIb3VzZXM6IFtdLAogICAgICBtVU9NOiB7fSwKICAgICAgbVdhcmVIb3VzZToge30sCiAgICAgIG1TcGVjaWZpY1RheDoge30sCiAgICAgIG1PdGhlclRheDoge30sCiAgICAgIG90aGVyVGF4OiBbXSwKICAgICAgbURlZmF1bHRUYXg6IHt9LAogICAgICBwdXJjaGFzZVRheDogW10sCiAgICAgIG1QdXJjaGFzZVRheDoge30sCiAgICAgIG1TZXJpYWxPckJhdGNoOiAwLAogICAgICB2YXJpYW50VHlwZXM6IFtdLAogICAgICB2YXJpYW50OiB2YXJpYW50TW9kZWwsCiAgICAgIHZhckxpc3RzOiBbXSwKICAgICAgcHJvZHVjdDogcHJvZHVjdE1vZGVsLAogICAgICBwcm9kdWN0VmFyaWFudDoge30sCiAgICAgIHZhcmlhbnRJZDogIiIsCiAgICAgIHByaWNlTGV2ZWw6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZFByaWNlTGV2ZWw6IGZ1bmN0aW9uIGxvYWRQcmljZUxldmVsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHByaWNlTGV2ZWxIYW5kbGVyLmdldCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMgfHwgW107CiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcmljZUxldmVsID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4udHlwZS5uYW1lID09PSAiU3RhbmRhcmQiOwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnByaWNlTGV2ZWwubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9kdWN0LnByaWNlTGV2ZWwgPSBfdGhpcy5wcmljZUxldmVsWzBdOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRDYXRlZ29yeUFjY291bnRBbmRUYXg6IGZ1bmN0aW9uIGxvYWRDYXRlZ29yeUFjY291bnRBbmRUYXgoKSB7CiAgICAgIC8vIHRoaXMubU90aGVyVGF4ID0gdGhpcy5tQ2F0ZWdvcnkudGF4Lmhhc093blByb3BlcnR5KCJvdGhlclRheCIpCiAgICAgIC8vICAgICA/IHRoaXMubUNhdGVnb3J5LnRheC5vdGhlclRheAogICAgICAvLyAgICAgOiB7fTsKICAgICAgLy8gdGhpcy5tU3BlY2lmaWNUYXggPSB0aGlzLm1DYXRlZ29yeS50YXguaGFzT3duUHJvcGVydHkoInNwZWNpZmljVGF4IikKICAgICAgLy8gICAgID8gdGhpcy5tQ2F0ZWdvcnkudGF4LnNwZWNpZmljVGF4CiAgICAgIC8vICAgICA6IHt9OwogICAgICAvLyB0aGlzLm1EZWZhdWx0VGF4ID0gdGhpcy5tQ2F0ZWdvcnkudGF4Lmhhc093blByb3BlcnR5KCJkZWZhdWx0VGF4IikKICAgICAgLy8gICAgID8gdGhpcy5tQ2F0ZWdvcnkudGF4LmRlZmF1bHRUYXgKICAgICAgLy8gICAgIDoge307CiAgICAgIC8vIHRoaXMubVB1cmNoYXNlVGF4ID0gdGhpcy5tQ2F0ZWdvcnkudGF4Lmhhc093blByb3BlcnR5KCJwdXJjaGFzZVRheCIpCiAgICAgIC8vICAgICA/IHRoaXMubUNhdGVnb3J5LnRheC5wdXJjaGFzZVRheAogICAgICAvLyAgICAgOiB7fTsKICAgICAgdGhpcy5pbmNvbWVBY2MgPSB0aGlzLm1DYXRlZ29yeS5hY2NvdW50Lmhhc093blByb3BlcnR5KCJpbmNvbWVBY2MiKSA/IHRoaXMubUNhdGVnb3J5LmFjY291bnQuaW5jb21lQWNjIDoge307CiAgICAgIHRoaXMubUFjY0ludmVudG9yeSA9IHRoaXMubUNhdGVnb3J5LmFjY291bnQuaGFzT3duUHJvcGVydHkoImludmVudG9yeUFjYyIpID8gdGhpcy5tQ2F0ZWdvcnkuYWNjb3VudC5pbnZlbnRvcnlBY2MgOiB7fTsKICAgICAgdGhpcy5tQWNjQ29zdE9mR29vZFNvbGQgPSB0aGlzLm1DYXRlZ29yeS5hY2NvdW50Lmhhc093blByb3BlcnR5KCJjb3N0T2ZHb29kc1NvbGRBY2MiKSA/IHRoaXMubUNhdGVnb3J5LmFjY291bnQuY29zdE9mR29vZHNTb2xkQWNjIDoge307CiAgICB9LAogICAgaW5pdERhdGE6IGZ1bmN0aW9uIGluaXREYXRhKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBkczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyLiRyb3V0ZS5wYXJhbXMuaWQgIT09IHVuZGVmaW5lZCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmxvYWRTaW5nbGVQcm9kdWN0KCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBkcyA9IF90aGlzMi4kcmVmcy5kYXRhU291cmNlLmtlbmRvV2lkZ2V0KCk7CiAgICAgICAgICAgICAgICBkcy5kYXRhKFtdKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuYWRkUm93KCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZFJvdzogZnVuY3Rpb24gYWRkUm93KCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmRhdGFTb3VyY2Uua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHRvdGFsID0gZHMudG90YWwoKTsKICAgICAgZHMuaW5zZXJ0KHRvdGFsLCB7CiAgICAgICAgdmFyaWFudDogdGhpcy52YXJpYW50CiAgICAgIH0pOwogICAgfSwKICAgIC8vIFJvdyBOdW1iZXIgVGVtcGxhdGUKICAgIHJvd051bWJlclRtcGw6IGZ1bmN0aW9uIHJvd051bWJlclRtcGwoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5kYXRhU291cmNlLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIC8vIEdyaWQgQ3VzdG9tIEVkaXRvcgogICAgYXR0cmlidXRlRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIGF0dHJpYnV0ZURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCByZXF1aXJlZCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogZmFsc2UsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9Y29kZSMgLSAjPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLnZhcmlhbnRUeXBlcwogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIC8vIFJlbW92ZSBSb3cKICAgIHJlbW92ZVJvdzogZnVuY3Rpb24gcmVtb3ZlUm93KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWQiKS5kYXRhKCJrZW5kb0dyaWQiKSwKICAgICAgICAgIGRhdGFTb3VyY2UgPSBncmlkLmRhdGFTb3VyY2UsCiAgICAgICAgICBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwoKICAgICAgaWYgKGRhdGFTb3VyY2UudG90YWwoKSA+IDEpIHsKICAgICAgICBkYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7fSwKICAgIG9uRWRpdENsaWNrOiBmdW5jdGlvbiBvbkVkaXRDbGljayh2YWx1ZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMy5wcm9kdWN0ID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbk5ld0NsaWNrOiBmdW5jdGlvbiBvbk5ld0NsaWNrKCkgewogICAgICB0aGlzLnByb2R1Y3QuaWQgPSAiIjsKICAgICAgdGhpcy5jbGVhcigpOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZShkYXRhKSB7CiAgICAgIHdpbmRvdy5oaXN0b3J5LmdvKC0xKTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKGRhdGEsICItLWRhdGEiKTsgLy8gdGhpcy4kcm91dGVyLnB1c2goewogICAgICAvLyAgIG5hbWU6ICdQcm9kdWN0cycsIHBhcmFtczogewogICAgICAvLyAgICAgZGF0YTogZGF0YQogICAgICAvLyAgIH0KICAgICAgLy8gfSkKICAgIH0sCiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7CiAgICAgIHRoaXMucHJvZHVjdCA9IHt9OwogICAgfSwKICAgIG9uU2F2ZUNsb3NlOiBmdW5jdGlvbiBvblNhdmVDbG9zZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgdmFyaWFudHMsIGRzLCBkYXRhVmFsaWRhdGUsIHZhcmlhbnRBUiwgdmFyaWFudDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzNC4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczQuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgdmFyaWFudHMgPSBbXTsKICAgICAgICAgICAgICAgIGRzID0gX3RoaXM0LiRyZWZzLmRhdGFTb3VyY2Uua2VuZG9XaWRnZXQoKTsKICAgICAgICAgICAgICAgIGRhdGFWYWxpZGF0ZSA9IDA7CiAgICAgICAgICAgICAgICBkcy5kYXRhKCkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyh2YWx1ZSkKICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLnZhcmlhbnQgPT0gdW5kZWZpbmVkIHx8IHZhbHVlLnZhcmlhbnQuaWQgPT0gdW5kZWZpbmVkIHx8IHZhbHVlLnZhcmlhbnQuaWQgPT0gbnVsbCB8fCB2YWx1ZS52YXJpYW50LmlkID09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LiRzbm90aWZ5LmVycm9yKCJQbGVhc2UgY2hlY2sgVmFyaWFudHMgb24gcm93ICIgKyAoaW5kZXggKyAxKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZGF0YVZhbGlkYXRlICs9IDE7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdmFyaWFudEFSID0gZHMuZGF0YSgpOwoKICAgICAgICAgICAgICAgIGlmICh2YXJpYW50QVIubGVuZ3RoID09IGRhdGFWYWxpZGF0ZSkgewogICAgICAgICAgICAgICAgICB2YXJpYW50ID0gZHMuZGF0YSgpOwogICAgICAgICAgICAgICAgICB2YXJpYW50LmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgICB2YXJpYW50cy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6IGkudmFyaWFudCwKICAgICAgICAgICAgICAgICAgICAgIHVpZDogaS51aWQKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOyAvLyBpZiAodGhpcy5wcm9kdWN0LmlkID09PSAnJyB8fCB0aGlzLnByb2R1Y3QuaWQgPT09IHVuZGVmaW5lZCkgewoKICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICBpZDogX3RoaXM0LiRyb3V0ZS5wYXJhbXMuaWQgPyBfdGhpczQuJHJvdXRlLnBhcmFtcy5pZCA6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBfdGhpczQucHJvZHVjdC5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBza3U6IF90aGlzNC5wcm9kdWN0LnNrdSwKICAgICAgICAgICAgICAgICAgICAgICAgc2FsZURlc2NyaXB0aW9uOiBfdGhpczQucHJvZHVjdC5zYWxlRGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgIHB1cmNoYXNlRGVzY3JpcHRpb246IF90aGlzNC5wcm9kdWN0LnB1cmNoYXNlRGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBfdGhpczQucHJvZHVjdC5wcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgY29zdDogX3RoaXM0LnByb2R1Y3QuY29zdCwKICAgICAgICAgICAgICAgICAgICAgICAgcmVPcmRlclFUWTogX3RoaXM0LnByb2R1Y3QucmVPcmRlclFUWSwKICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IF90aGlzNC5tQ2F0ZWdvcnkgfHwge30sCiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlTGV2ZWw6IF90aGlzNC5wcm9kdWN0LnByaWNlTGV2ZWwsCiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiBfdGhpczQubUdyb3VwIHx8IHt9LAogICAgICAgICAgICAgICAgICAgICAgICBzdWJHcm91cDogX3RoaXM0Lm1TdWJHcm91cCB8fCB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgdW9tOiBfdGhpczQubVVPTSwKICAgICAgICAgICAgICAgICAgICAgICAgd2FyZWhvdXNlOiBfdGhpczQubVdhcmVIb3VzZSwKICAgICAgICAgICAgICAgICAgICAgICAgaW52ZW50b3J5QWNjOiBfdGhpczQubUFjY0ludmVudG9yeSwKICAgICAgICAgICAgICAgICAgICAgICAgaW5jb21lQWNjOiBfdGhpczQuaW5jb21lQWNjLAogICAgICAgICAgICAgICAgICAgICAgICBjb3N0T2ZHb29kc1NvbGRBY2M6IF90aGlzNC5tQWNjQ29zdE9mR29vZFNvbGQsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlZmF1bHRUYXg6IHRoaXMubURlZmF1bHRUYXgsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHB1cmNoYXNlVGF4OiB0aGlzLm1QdXJjaGFzZVRheCwKICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3BlY2lmaWNUYXg6IHRoaXMubVNwZWNpZmljVGF4LAogICAgICAgICAgICAgICAgICAgICAgICAvLyBvdGhlclRheDogdGhpcy5tT3RoZXJUYXgsCiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1UZW1wbGF0ZTogX3RoaXM0Lm1Gb3JtVGVtcGxhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6IHZhcmlhbnRzLAogICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50SWQ6IF90aGlzNC52YXJpYW50SWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlU29sZDogX3RoaXM0LnByb2R1Y3QuY2FuQmVTb2xkLAogICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVByb2R1Y2U6IF90aGlzNC5wcm9kdWN0LmNhbkJlUHJvZHVjZSwKICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVSZW50OiBfdGhpczQucHJvZHVjdC5jYW5CZVJlbnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlUHVyY2hhc2U6IF90aGlzNC5wcm9kdWN0LmNhbkJlUHVyY2hhc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIGlzRmF2b3JpdGU6IF90aGlzNC5wcm9kdWN0LmlzRmF2b3JpdGUsCiAgICAgICAgICAgICAgICAgICAgICAgIGJhdGNoT3JTZXJpYWw6IF90aGlzNC5wcm9kdWN0LmJhdGNoT3JTZXJpYWwsCiAgICAgICAgICAgICAgICAgICAgICAgIHJlVXNlZDogX3RoaXM0LnByb2R1Y3QucmVVc2VkIHx8IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAvLyBiYXRjaFRyYWNrZWQ6IHRoaXMubVNlcmlhbE9yQmF0Y2ggPT0gMSA/IHRoaXMucHJvZHVjdC5iYXRjaFRyYWNrZWQgOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAvLyBpc1NlcmlhbE51bWJlcjogdGhpcy5tU2VyaWFsT3JCYXRjaCA9PSAyID8gdGhpcy5wcm9kdWN0LmlzU2VyaWFsTnVtYmVyIDogMCwKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBfdGhpczQucHJvZHVjdC5zdGF0dXMgfHwgMSwKICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlZDogX3RoaXM0LnByb2R1Y3QuZGVsZXRlZCB8fCAwLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBfdGhpczQuJHJvdXRlLnBhcmFtcy5pZCA/IF90aGlzNC4kcm91dGUucXVlcnkudHlwZSA6ICJuZXciCiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdkYXRhJywgZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SGFuZGxlci5jcmVhdGUoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5sb2FkU2FsZVVDKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmNsZWFyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuJHNub3RpZnkuc3VjY2VzcygiU3VjY2VzcyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuY2xvc2UocmVzcG9uc2UuZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LiRyZWZzLmZvcm0ucmVzZXQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LiRzbm90aWZ5LmVycm9yKCJTb21ldGhpbmcgd2VudCB3cm9uZyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9ycy5wdXNoKGUpOwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25DYXRlZ29yeUNoYW5nZWQ6IGZ1bmN0aW9uIG9uQ2F0ZWdvcnlDaGFuZ2VkKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOyAvLyB3aW5kb3cuY29uc29sZS5sb2codGhpcy5tQ2F0ZWdvcnkpCgogICAgICAgICAgICAgICAgICAgIF90aGlzNS5tR3JvdXAgPSAiIjsKICAgICAgICAgICAgICAgICAgICBfdGhpczUubVN1Ykdyb3VwID0gIiI7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM1Lmdyb3VwID0gX3RoaXM1Lmdyb3Vwcy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmNhdGVnb3J5LmlkID09PSBfdGhpczUubUNhdGVnb3J5LmlkOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM1Lmdyb3VwLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5tR3JvdXAgPSBfdGhpczUuZ3JvdXBbMF07CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuc3ViR3JvdXAgPSBfdGhpczUuc3ViR3JvdXBzLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5ncm91cC5pZCA9PT0gX3RoaXM1Lmdyb3VwWzBdLmlkOwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNS5zdWJHcm91cC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5tU3ViR3JvdXAgPSBfdGhpczUuc3ViR3JvdXBbMF07CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBfdGhpczUubG9hZENhdGVnb3J5QWNjb3VudEFuZFRheCgpOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZEFjY291bnQ6IGZ1bmN0aW9uIGxvYWRBY2NvdW50KCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczYuYWNjTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIGFjY291bnRIYW5kbGVyLmdldEFsbCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuYWNjUmV2ZW51ZSA9IHJlcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5hY2NvdW50X3R5cGUubnVtYmVyID09PSAzMjsKICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbF9uYW1lOiBpdGVtLmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpdGVtLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICBpc190YXhhYmxlOiBpdGVtLmlzX3RheGFibGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuaGppQWNjQ29kZTogaXRlbS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX2NvZGU6IGl0ZW0uZ3JvdXBfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfYWNjb3VudDogaXRlbS5wYXJlbnRfYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2NvZGU6IGl0ZW0udHlwZV9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRfdHlwZTogaXRlbS5hY2NvdW50X3R5cGUKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczYuYWNjUmV2ZW51ZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5pbmNvbWVBY2MgPSBfdGhpczYuYWNjUmV2ZW51ZVswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuYWNjSW52ZW50b3J5ID0gcmVzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmFjY291bnRfdHlwZS5udW1iZXIgPT09IDg7CiAgICAgICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxfbmFtZTogaXRlbS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaXRlbS5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfdGF4YWJsZTogaXRlbS5pc190YXhhYmxlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmhqaUFjY0NvZGU6IGl0ZW0uYmFuaGppQWNjQ29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9jb2RlOiBpdGVtLmdyb3VwX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50X2FjY291bnQ6IGl0ZW0ucGFyZW50X2FjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9jb2RlOiBpdGVtLnR5cGVfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IGl0ZW0uYWNjb3VudF90eXBlCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LmFjY0ludmVudG9yeS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5tQWNjSW52ZW50b3J5ID0gX3RoaXM2LmFjY0ludmVudG9yeVswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuYWNjQ29zdE9mR29vZFNvbGQgPSByZXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYWNjb3VudF90eXBlLm51bWJlciA9PT0gMzM7CiAgICAgICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxfbmFtZTogaXRlbS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaXRlbS5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfdGF4YWJsZTogaXRlbS5pc190YXhhYmxlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmhqaUFjY0NvZGU6IGl0ZW0uYmFuaGppQWNjQ29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9jb2RlOiBpdGVtLmdyb3VwX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50X2FjY291bnQ6IGl0ZW0ucGFyZW50X2FjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9jb2RlOiBpdGVtLnR5cGVfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IGl0ZW0uYWNjb3VudF90eXBlCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LmFjY0Nvc3RPZkdvb2RTb2xkLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2Lm1BY2NDb3N0T2ZHb29kU29sZCA9IF90aGlzNi5hY2NDb3N0T2ZHb29kU29sZFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuYWNjTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZENhdGVnb3J5OiBmdW5jdGlvbiBsb2FkQ2F0ZWdvcnkoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlIYW5kbGVyLmdldCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuY2F0ZWdvcmllcyA9IHJlczsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5jYXRlZ29yaWVzID0gX3RoaXM3LmNhdGVnb3JpZXMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmhhc093blByb3BlcnR5KCJ0eXBlIikgJiYgbS50eXBlLm5hbWUgPT09ICJQcm9kdWN0IjsKICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyBpZiAodGhpcy5jYXRlZ29yaWVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgIC8vICAgdGhpcy5tQ2F0ZWdvcnkgPSB0aGlzLmNhdGVnb3JpZXNbMF0KICAgICAgICAgICAgICAgICAgICAgIC8vICAgdGhpcy5vbkNhdGVnb3J5Q2hhbmdlZCgpCiAgICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkR3JvdXA6IGZ1bmN0aW9uIGxvYWRHcm91cCgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBncm91cEhhbmRsZXIuZ2V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczguc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5ncm91cHMgPSByZXM7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkU3ViR3JvdXA6IGZ1bmN0aW9uIGxvYWRTdWJHcm91cCgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBzdWJHcm91cEhhbmRsZXIuZ2V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5zdWJHcm91cHMgPSByZXM7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBza3VHZW5lcmF0b3I6IGZ1bmN0aW9uIHNrdUdlbmVyYXRvcigpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgY2F0ZWdvcnkgPSBfdGhpczEwLm1DYXRlZ29yeSB8fCB7fTsKICAgICAgICAgICAgICAgICAgICB2YXIgZ3JvdXAgPSBfdGhpczEwLm1Hcm91cCB8fCB7fTsKICAgICAgICAgICAgICAgICAgICB2YXIgc0dyb3VwID0gX3RoaXMxMC5tU3ViR3JvdXAgfHwge307CiAgICAgICAgICAgICAgICAgICAgdmFyIGNhdGVBYmJyID0gIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwQWJiciA9ICIiLAogICAgICAgICAgICAgICAgICAgICAgICBzR3JvdXBBYmJyID0gIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIHNrdUNvZGUgPSAiIjsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5LmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICBjYXRlQWJiciA9IGNhdGVnb3J5LmFiYnIgfHwgIiI7CiAgICAgICAgICAgICAgICAgICAgICBza3VDb2RlICs9IGNhdGVBYmJyICsgIi8iOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKGdyb3VwLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICBncm91cEFiYnIgPSBncm91cC5hYmJyIHx8ICIiOwogICAgICAgICAgICAgICAgICAgICAgc2t1Q29kZSArPSBncm91cEFiYnIgKyAiLyI7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoc0dyb3VwLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICBzR3JvdXBBYmJyID0gc0dyb3VwLmFiYnIgfHwgIiI7CiAgICAgICAgICAgICAgICAgICAgICBza3VDb2RlICs9IHNHcm91cEFiYnI7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJy0teHgnLCBjYXRlZ29yeSwgZ3JvdXAsIHNHcm91cCk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5wcm9kdWN0LnNrdSA9IHNrdUNvZGU7IC8vIGlmICh0aGlzLnByb2R1Y3QubmFtZSkgewogICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLnByb2R1Y3Quc2t1ID0KICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNrdUNvZGUgKyB0aGlzLnByb2R1Y3QubmFtZS50b1N0cmluZygpLnN1YnN0cmluZygwLCAzKTsKICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRVT006IGZ1bmN0aW9uIGxvYWRVT00oKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdW9tSGFuZGxlci5nZXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEudW9tID0gcmVzOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczExLnVvbS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEubVVPTSA9IF90aGlzMTEudW9tWzBdOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkV2FyZUhvdXNlczogZnVuY3Rpb24gbG9hZFdhcmVIb3VzZXMoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgd2FyZWhvdXNlSGFuZGxlci5nZXRXYXJlaG91c2VTZXR0aW5nQWxsKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLndhcmVIb3VzZXMgPSByZXM7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTIud2FyZUhvdXNlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIubVdhcmVIb3VzZSA9IF90aGlzMTIud2FyZUhvdXNlc1swXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFZhcmlhbnRzOiBmdW5jdGlvbiBsb2FkVmFyaWFudHMoKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyaWFudEhhbmRsZXIuZ2V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLnZhcmlhbnRUeXBlcyA9IHJlczsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMy52YXJpYW50VHlwZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLmluaXREYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRUYXg6IGZ1bmN0aW9uIGxvYWRUYXgoKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ0hhbmRsZXIuZ2V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnRheCA9IHJlczsKCiAgICAgICAgICAgICAgICAgICAgICB2YXIgc3QgPSBfdGhpczE0LnRheC5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0udGF4VHlwZS50eXBlSWQgPT09IDg7CiAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gdmFsdWFibGUgdGF4CgoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc3BlY2lmaWNUYXggPSBzdDsgLy8gc3BlY2lhbCB0YXgKCiAgICAgICAgICAgICAgICAgICAgICB2YXIgdkFUID0gX3RoaXMxNC50YXguZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLnRheFR5cGUudHlwZUlkID09PSAxICYmIG0udHJhbnNhY3Rpb25UeXBlID09PSAiU2FsZSI7CiAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gdmFsdWFibGUgdGF4CgoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQudmF0ID0gdkFUOyAvLyB2YWx1YWJsZSB0YXgKCiAgICAgICAgICAgICAgICAgICAgICB2YXIgb3RUYXggPSBfdGhpczE0LnRheC5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0udGF4VHlwZS50eXBlSWQgPT09IDc7CiAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gdmFsdWFibGUgdGF4CgoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQub3RoZXJUYXggPSBvdFRheDsgLy8gdmFsdWFibGUgdGF4CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5wdXJjaGFzZVRheCA9IF90aGlzMTQudGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS50YXhUeXBlLnR5cGVJZCA9PT0gMSAmJiBtLnRyYW5zYWN0aW9uVHlwZSA9PT0gIlB1cmNoYXNlIjsKICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyB2YWx1YWJsZSB0YXgKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNC5zcGVjaWZpY1RheC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQubVNwZWNpZmljVGF4ID0gX3RoaXMxNC5zcGVjaWZpY1RheFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNC52YXQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0Lm1EZWZhdWx0VGF4ID0gX3RoaXMxNC52YXRbMF07CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTQub3RoZXJUYXgubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0Lm1PdGhlclRheCA9IF90aGlzMTQub3RoZXJUYXhbMF07CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTQucHVyY2hhc2VUYXgubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0Lm1QdXJjaGFzZVRheCA9IF90aGlzMTQucHVyY2hhc2VUYXhbMF07CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRTaW5nbGVQcm9kdWN0OiBmdW5jdGlvbiBsb2FkU2luZ2xlUHJvZHVjdCgpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SGFuZGxlci5nZXRPbmUoX3RoaXMxNS4kcm91dGUucGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUucHJvZHVjdCA9IHJlczsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNS5wcm9kdWN0LmlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5tQ2F0ZWdvcnkgPSBfdGhpczE1LnByb2R1Y3QuY2F0ZWdvcnk7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUubUdyb3VwID0gX3RoaXMxNS5wcm9kdWN0Lmdyb3VwOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1Lm1TdWJHcm91cCA9IF90aGlzMTUucHJvZHVjdC5zdWJHcm91cDsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5tVU9NID0gX3RoaXMxNS5wcm9kdWN0LnVvbTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5tQWNjQ29zdE9mR29vZFNvbGQgPSBfdGhpczE1LnByb2R1Y3QuY29zdE9mR29vZHNTb2xkQWNjOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1Lm1BY2NJbnZlbnRvcnkgPSBfdGhpczE1LnByb2R1Y3QuaW52ZW50b3J5QWNjOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LmluY29tZUFjYyA9IF90aGlzMTUucHJvZHVjdC5pbmNvbWVBY2M7IC8vIHRoaXMubVNwZWNpZmljVGF4ID0gdGhpcy5wcm9kdWN0LnNwZWNpZmljVGF4OwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5tU2VyaWFsT3JCYXRjaCA9IF90aGlzMTUucHJvZHVjdC5pc1NlcmlhbE51bWJlciA+IDAgPyBfdGhpczE1LnByb2R1Y3QuaXNTZXJpYWxOdW1iZXIgOiBfdGhpczE1LnByb2R1Y3QuYmF0Y2hUcmFja2VkOyAvLyB0aGlzLm1PdGhlclRheCA9IHRoaXMucHJvZHVjdC5vdGhlclRheDsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5tRGVmYXVsdFRheCA9IHRoaXMucHJvZHVjdC5kZWZhdWx0VGF4OwogICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLm1QdXJjaGFzZVRheCA9IHRoaXMucHJvZHVjdC5wdXJjaGFzZVRheDsKCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUucHJvZHVjdFZhcmlhbnQgPSBfdGhpczE1LnByb2R1Y3QudmFyaWFudDsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5tV2FyZUhvdXNlID0gX3RoaXMxNS5wcm9kdWN0LndhcmVob3VzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS52YXJMaXN0cyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE1LnZhcmlhbnRJZCA9IF90aGlzMTUucHJvZHVjdC52YXJpYW50LmlkOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5wcm9kdWN0LnZhcmlhbnQudmFyaWFudC5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS52YXJMaXN0cy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbS52YXJpYW50Lm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtLnZhcmlhbnQuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IG0udmFyaWFudC5jb2RlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgdGl0bGU6IGkxOG4udCgibXNnX3RpdGxlX3dhcm5pbmciKSwKICAgICAgICB0ZXh0OiBpMThuLnQoIm1zZ19kaXNjYXJkIiksCiAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCJjYW5jZWwiKSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoImRpc2NhcmQiKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHRDZW4pIHsKICAgICAgICBpZiAocmVzdWx0Q2VuLnZhbHVlKSB7CiAgICAgICAgICBfdGhpczE2LiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX21vdW50ZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNigpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTYucHJldiA9IF9jb250ZXh0MTYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkVU9NKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkV2FyZUhvdXNlcygpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZFZhcmlhbnRzKCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkUHJpY2VMZXZlbCgpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxNiwgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgcmV0dXJuIF9tb3VudGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIG1vdW50ZWQ7CiAgfSgpLAogIGNvbXB1dGVkOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2NyZWF0ZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkQWNjb3VudCgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZENhdGVnb3J5KCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkR3JvdXAoKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRTdWJHcm91cCgpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxNywgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgcmV0dXJuIF9jcmVhdGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIGNyZWF0ZWQ7CiAgfSgpLAogIHdhdGNoOiB7CiAgICBpZDogZnVuY3Rpb24gaWQoKSB7CiAgICAgIC8vIHRoaXMucHJvZHVjdCA9IHRoaXMuc2VsZWN0ZWRQcm9kdWN0CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLmlkLCAid2F0Y2giKTsKCiAgICAgIGlmICh0aGlzLmlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmxvYWRTaW5nbGVQcm9kdWN0KCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["Product.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col cols=\"12\" sm=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\">\n                        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                            <v-card outlined dense class=\"no_border\">\n                                <h2 class=\"mb-0\">{{ $t(\"product\") }}</h2>\n                                <v-icon\n                                    @click=\"cancel()\"\n                                    style=\"cursor: pointer; color: #333; font-size: 40px\"\n                                    class=\"float-right\">close\n                                </v-icon>\n                            </v-card>\n                            <v-card outlined dense class=\"px-4 no_border\" color=\"grayBg\">\n                                <v-row>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label mb-0\">{{$t(\"product_category\")}}</label>\n                                        <v-select\n                                            class=\"mt-1\"\n                                            :placeholder=\"$t('category')\"\n                                            outlined\n                                            tage=\"Product Category\"\n                                            v-model=\"mCategory\"\n                                            :items=\"categories\"\n                                            item-value=\"id\"\n                                            :item-text=\"(item) => `${item.abbr} - ${item.name}`\"\n                                            @change=\"onCategoryChanged\"\n                                            return-object\n                                            :rules=\"[(v) => !!v['id'] || 'is required']\"\n                                            required/>\n                                        <label class=\"label mb-0\">{{ $t(\"product_group\") }}</label>\n                                        <v-select\n                                            class=\"mt-1\"\n                                            :placeholder=\"$t('select_group')\"\n                                            outlined\n                                            tage=\"Product Group\"\n                                            v-model=\"mGroup\"\n                                            :items=\"group\"\n                                            @change=\"skuGenerator\"\n                                            item-value=\"id\"\n                                            :item-text=\"(item) => `${item.abbr} - ${item.name}`\"\n                                            return-object\n                                            clearable\n                                            required/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pl-0\">\n                                        <label class=\"label mb-0\">{{ $t(\"sub_group\") }}</label>\n                                        <v-select\n                                            class=\"mt-1\"\n                                            :placeholder=\"$t('select_sub_group')\"\n                                            outlined\n                                            tage=\"Sub Group\"\n                                            v-model=\"mSubGroup\"\n                                            @change=\"skuGenerator\"\n                                            :items=\"subGroup\"\n                                            item-value=\"id\"\n                                            :item-text=\"(item) => `${item.abbr} - ${item.name}`\"\n                                            clearable\n                                            return-object\n                                            required/>\n                                        <label class=\"label mb-0\">{{ $t(\"product_name\") }}</label>\n                                        <v-text-field\n                                            class=\"mt-1\"\n                                            :placeholder=\"$t('name')\"\n                                            outlined\n                                            v-model=\"product.name\"\n                                            :rules=\"[(v) => !!v || 'is required']\"\n                                            required/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"my_checkbox\">\n                                        <label class=\"label mb-0 mt-1 mx-1\">{{ $t(\"sku\") }}</label>\n                                        <div class=\"d-flex\">\n                                            <v-text-field\n                                                class=\"mt-1 flex-1\"\n                                                v-model=\"product.sku\"\n                                                outlined\n                                                :rules=\"[(v) => !!v || 'is required']\"\n                                                required/>\n                                            <v-icon\n                                                color=\"black\"\n                                                size=\"30\"\n                                                @click=\"skuGenerator\"\n                                                class=\"border_qrcode ml-2 mt-1\">mdi-qrcode\n                                            </v-icon>\n                                        </div>\n                                        <h2 class=\"font_12 mt-0\">{{ $t(\"how_this_product\") }}</h2>\n                                        <v-row>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"my_radio pl-0 d-flex py-0\">\n                                                <div>\n                                                    <input\n                                                        id=\"radio1\"\n                                                        name=\"radio\"\n                                                        type=\"radio\"\n                                                        value=\"1\"\n                                                        v-model=\"product.batchOrSerial\"/>\n                                                    <label for=\"radio1\">{{ $t(\"batch\") }}</label>\n                                                </div>\n                                                <div>\n                                                    <input\n                                                        id=\"radio2\"\n                                                        name=\"radio\"\n                                                        type=\"radio\"\n                                                        value=\"2\"\n                                                        v-model=\"product.batchOrSerial\"/>\n                                                    <label for=\"radio2\">{{ $t(\"serial\") }}</label>\n                                                </div>\n                                                <input\n                                                    type=\"checkbox\"\n                                                    id=\"useAsFavorite\"\n                                                    v-model=\"product.reUsed\"/>\n                                                <label for=\"useAsFavorite\">{{$t(\"not_reuse\")}}</label>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                            <h2 class=\"font_18 mb-0 mt-2\">\n                                {{ $t(\"transaction_description\") }}\n                            </h2>\n                            <v-card outlined dense class=\"px-4 mb-4 rounded-0\" height=\"188px\">\n                                <v-row>\n                                    <v-col sm=\"6\" cols=\"12\">\n                                        <h2 class=\"font_16 mb-0\">\n                                            {{ $t(\"purchased_description\") }}\n                                        </h2>\n                                        <p class=\"grayBg---text mb-2\">\n                                            {{ $t(\"purchase_description_detail\") }}\n                                        </p>\n                                        <v-textarea\n                                            v-model=\"product.saleDescription\"\n                                            outlined\n                                            no-resize\n                                            height=\"100px\"\n                                            rows=\"3\"/>\n                                    </v-col>\n                                    <v-col sm=\"6\" cols=\"12\">\n                                        <h2 class=\"font_16 mb-0\">{{ $t(\"sale_description\") }}</h2>\n                                        <p class=\"grayBg---text mb-2\">\n                                            {{ $t(\"sale_description_detail\") }}\n                                        </p>\n                                        <v-textarea\n                                            v-model=\"product.purchaseDescription\"\n                                            outlined\n                                            no-resize\n                                            height=\"100px\"\n                                            rows=\"3\"/>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                            <h2 class=\"font_18 mb-0 mt-0\">\n                                {{ $t(\"product_info\") }}\n                            </h2>\n                            <v-card outlined dense class=\"px-4 rounded-0\">\n                                <v-row>\n                                    <v-col cols=\"12\">\n                                        <p class=\"grayBg---text mb-0\">\n                                            {{ $t(\"def_info_product\") }}\n                                        </p>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                                <label>{{ $t(\"uom\") }}</label>\n                                            </v-col>\n                                            <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                                                <v-select\n                                                    :placeholder=\"$t('uom')\"\n                                                    outlined\n                                                    tage=\"UOM\"\n                                                    :rules=\"[(v) => !!v || 'Number is required']\"\n                                                    v-model=\"mUOM\"\n                                                    :items=\"uom\"\n                                                    item-value=\"id\"\n                                                    :item-text=\"(item) => `${item.name}`\"\n                                                    return-object\n                                                    required/>\n                                            </v-col>\n                                        </v-row>\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                                <label>{{ $t(\"price_level\") }}</label>\n                                            </v-col>\n                                            <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                                                <v-select\n                                                    :placeholder=\"$t('price_level')\"\n                                                    outlined\n                                                    tage=\"price level\"\n                                                    :rules=\"[(v) => !!v || 'Number is required']\"\n                                                    v-model=\"product.priceLevel\"\n                                                    :items=\"priceLevel\"\n                                                    item-value=\"id\"\n                                                    item-text=\"name\"\n                                                    return-object\n                                                    required/>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                                <label>{{ $t(\"selling_price\") }}</label>\n                                            </v-col>\n                                            <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                                                <v-text-field\n                                                    outlined\n                                                    :rules=\"[(v) => !!v || 'Number is required']\"\n                                                    type=\"number\"\n                                                    v-model=\"product.price\"\n                                                    required/>\n                                            </v-col>\n                                        </v-row>\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                                <label>{{ $t(\"warehouse\") }}</label>\n                                            </v-col>\n                                            <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                                                <v-select\n                                                    :placeholder=\"$t('default_warehouse')\"\n                                                    outlined\n                                                    tage=\"Default Warehouse\"\n                                                    v-model=\"mWareHouse\"\n                                                    :items=\"wareHouses\"\n                                                    item-value=\"id\"\n                                                    :item-text=\"(item) => `${item.name}`\"\n                                                    return-object\n                                                    clearable\n                                                    required/>\n                                            </v-col>\n                                        </v-row>\n                                        <!-- <v-row>\n                                                              <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                                                <label>{{ $t('initial_cost_per_unit') }}</label>\n                                                              </v-col>\n                                                              <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                                                                <v-text-field outlined\n                                                                              :rules=\"[v => !!v || 'Number is required']\"\n                                                                              v-model=\"product.cost\"\n                                                                              type=\"number\"\n                                                                              required/>\n                                                              </v-col>\n                                                            </v-row> -->\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                                <label>{{ $t(\"recorder_qty\") }}</label>\n                                            </v-col>\n                                            <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                                                <v-text-field\n                                                    outlined\n                                                    v-model=\"product.reOrderQTY\"\n                                                    type=\"number\"/>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                            <v-card outlined dense class=\"no_border my-1\">\n                                <v-row>\n                                    <v-col sm=\"7\" cols=\"12\">\n                                        <v-card\n                                            outlined\n                                            dense\n                                            class=\"px-4 rounded-0\"\n                                            height=\"428px\">\n                                            <v-row>\n                                                <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                                    <h2 class=\"font_18 mb-0\">{{ $t(\"account\") }}</h2>\n                                                    <p class=\"mb-0 mb-1 color_grey\">\n                                                        {{ $t(\"account_tax_prod_desc\") }}\n                                                    </p>\n                                                </v-col>\n                                                <v-col sm=\"6\" cols=\"12\">\n                                                    <label class=\"label\">{{ $t(\"inventory\") }}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        :placeholder=\"$t('select_inventory')\"\n                                                        tage=\"Inventory\"\n                                                        :loading=\"accLoading\"\n                                                        v-model=\"mAccInventory\"\n                                                        :items=\"accInventory\"\n                                                        item-value=\"id\"\n                                                        :item-text=\"(item) => `${item.number} - ${item.name}`\"\n                                                        :rules=\"[(v) => !!v['id'] || 'Number is required']\"\n                                                        return-object\n                                                        outlined/>\n                                                    <label class=\"label\">{{$t(\"cost_of_goods_sold\")}}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        :placeholder=\"$t('select_goods')\"\n                                                        tage=\"Cost of Goods Sold\"\n                                                        v-model=\"mAccCostOfGoodSold\"\n                                                        :loading=\"accLoading\"\n                                                        :items=\"accCostOfGoodSold\"\n                                                        item-value=\"id\"\n                                                        :item-text=\"(item) => `${item.number} - ${item.name}`\"\n                                                        :rules=\"[(v) => !!v['id'] || 'Number is required']\"\n                                                        return-object\n                                                        outlined/>\n                                                    <label class=\"label\">{{ $t(\"revenue\") }}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        :placeholder=\"$t('revenue')\"\n                                                        tage=\"Revenue\"\n                                                        v-model=\"incomeAcc\"\n                                                        :loading=\"accLoading\"\n                                                        :items=\"accRevenue\"\n                                                        item-value=\"id\"\n                                                        :item-text=\"(item) => `${item.number} - ${item.name}`\"\n                                                        :rules=\"[(v) => !!v['id'] || 'Number is required']\"\n                                                        return-object\n                                                        outlined/>\n                                                    <!--                          <label class=\"label\">{{ $t(\"default_tax\") }}</label>-->\n                                                    <!--                          <v-select-->\n                                                    <!--                            class=\"mt-1\"-->\n                                                    <!--                            tage=\"Default Tax\"-->\n                                                    <!--                            v-model=\"mDefaultTax\"-->\n                                                    <!--                            :items=\"vat\"-->\n                                                    <!--                            item-value=\"id\"-->\n                                                    <!--                            item-text=\"defaultTax\"-->\n                                                    <!--                            return-object-->\n                                                    <!--                            outlined-->\n                                                    <!--                          />-->\n                                                </v-col>\n                                                <!--                        <v-col sm=\"6\" cols=\"12\">-->\n                                                <!--                          <label class=\"label\">{{ $t(\"sale_tax\") }}</label>-->\n                                                <!--                          <v-select-->\n                                                <!--                            class=\"mt-1\"-->\n                                                <!--                            tage=\"Default Tax\"-->\n                                                <!--                            v-model=\"mPurchaseTax\"-->\n                                                <!--                            :items=\"purchaseTax\"-->\n                                                <!--                            item-value=\"id\"-->\n                                                <!--                            item-text=\"defaultTax\"-->\n                                                <!--                            return-object-->\n                                                <!--                            outlined-->\n                                                <!--                          />-->\n                                                <!--                          <label class=\"label\">{{ $t(\"purchase_tax\") }}</label>-->\n                                                <!--                          <v-select-->\n                                                <!--                            class=\"mt-1\"-->\n                                                <!--                            tage=\"Default Tax\"-->\n                                                <!--                            v-model=\"mPurchaseTax\"-->\n                                                <!--                            :items=\"purchaseTax\"-->\n                                                <!--                            item-value=\"id\"-->\n                                                <!--                            item-text=\"defaultTax\"-->\n                                                <!--                            return-object-->\n                                                <!--                            outlined-->\n                                                <!--                          />-->\n                                                <!--                          <label class=\"label\">{{ $t(\"specific_tax\") }}</label>-->\n                                                <!--                          <v-select-->\n                                                <!--                            class=\"mt-1\"-->\n                                                <!--                            tage=\"Special Tax\"-->\n                                                <!--                            v-model=\"mSpecificTax\"-->\n                                                <!--                            :items=\"specificTax\"-->\n                                                <!--                            item-value=\"id\"-->\n                                                <!--                            item-text=\"defaultTax\"-->\n                                                <!--                            return-object-->\n                                                <!--                            outlined-->\n                                                <!--                          />-->\n                                                <!--                          <label class=\"label\">{{ $t(\"other_tax\") }}</label>-->\n                                                <!--                          <v-select-->\n                                                <!--                            class=\"mt-1\"-->\n                                                <!--                            tage=\"Special Tax\"-->\n                                                <!--                            v-model=\"mOtherTax\"-->\n                                                <!--                            :items=\"otherTax\"-->\n                                                <!--                            item-value=\"id\"-->\n                                                <!--                            item-text=\"defaultTax\"-->\n                                                <!--                            return-object-->\n                                                <!--                            outlined-->\n                                                <!--                          />-->\n                                                <!--                        </v-col>-->\n                                            </v-row>\n                                        </v-card>\n                                    </v-col>\n                                    <v-col sm=\"5\" cols=\"12\" class=\"pl-1\">\n                                        <v-card outlined dense class=\"px-4 rounded-0\">\n                                            <v-row>\n                                                <v-col cols=\"12\" sm=\"12\">\n                                                    <h2 class=\"font_18 mb-0\">\n                                                        {{ $t(\"product_variants\") }}\n                                                    </h2>\n                                                    <p class=\"mb-0 color_grey\">\n                                                        {{ $t(\"add_funct_prod_variants_desc\") }}\n                                                    </p>\n                                                </v-col>\n                                                <v-col sm=\"12\" cols=\"12\" class=\"pt-2\">\n                                                    <kendo-datasource ref=\"dataSource\" :data=\"varLists\"/>\n                                                    <kendo-grid\n                                                        id=\"grid\"\n                                                        class=\"grid-function\"\n                                                        :data-source-ref=\"'dataSource'\"\n                                                        :sortable=\"false\"\n                                                        :filterable=\"false\"\n                                                        :column-menu=\"true\"\n                                                        :navigatable=\"true\"\n                                                        :editable=\"true\"\n                                                        :scrollable-virtual=\"true\">\n                                                        <kendo-grid-column\n                                                            :title=\"$t('no.')\"\n                                                            :template=\"rowNumberTmpl\"\n                                                            :width=\"45\"\n                                                            :column-menu=\"false\"\n                                                            :headerAttributes=\"{\n                                                                style: 'background-color: #EDF1F5;',\n                                                                class: 'text-center'}\"\n                                                            :attributes=\"{ style: 'text-align: center' }\"/>\n                                                        <kendo-grid-column\n                                                            :field=\"'variant'\"\n                                                            :title=\"$t('variant')\"\n                                                            :width=\"190\"\n                                                            :template=\"'<span>#=variant.name#</span>'\"\n                                                            :editor=\"attributeDropDownEditor\"\n                                                            :headerAttributes=\"{\n                                                                style: 'background-color: #EDF1F5'}\"/>\n                                                        <kendo-grid-column\n                                                            :command=\"{\n                                                                iconClass: 'k-icon k-i-trash',\n                                                                text: 'Delete',\n                                                                click: removeRow,\n                                                                class: 'btn-plus'}\"\n                                                            :title=\"$t('action')\"\n                                                            :width=\"100\"\n                                                            :headerAttributes=\"{\n                                                                style: 'text-align: right; background-color: #EDF1F5'}\"\n                                                        />\n                                                    </kendo-grid>\n                                                    <v-btn\n                                                        color=\"primary\"\n                                                        class=\"float-left rounded-4 ml-0 btn_plus white--text mt-3\"\n                                                        @click=\"addRow\">\n                                                        <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                                    </v-btn>\n                                                </v-col>\n                                            </v-row>\n                                        </v-card>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                            <v-card outlined dense class=\"no_border function_footer\">\n                                <v-btn\n                                    color=\"black\"\n                                    @click=\"cancel\"\n                                    outlined\n                                    class=\"text-capitalize black--text float-left\">{{ $t(\"cancel\") }}\n                                </v-btn>\n                                <!--                                <v-menu>-->\n                                <!--                                    <template v-slot:activator=\"{ on }\">-->\n                                <!--                                        <v-btn-->\n                                <!--                                            class=\"ml-2 float-right black&#45;&#45;text text-capitalize\"-->\n                                <!--                                            v-on=\"on\"-->\n                                <!--                                        >-->\n                                <!--                                            {{ $t(\"save_option\") }}-->\n                                <!--                                            <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>-->\n                                <!--                                        </v-btn>-->\n                                <!--                                    </template>-->\n                                <!--                                </v-menu>-->\n                                <v-btn\n                                    class=\"float-right white--text\"\n                                    color=\"primary\"\n                                    @click=\"onSaveClose\">{{ $t(\"save_close\") }}\n                                </v-btn>\n                                <LoadingMe\n                                    :isLoading=\"showLoading\"\n                                    :fullPage=\"false\"\n                                    type=\"loading\"\n                                    :myLoading=\"true\"/>\n                            </v-card>\n                        </v-form>\n                    </v-card>\n                </v-col>\n            </v-row>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport {i18n} from \"@/i18n\";\nimport ProductModel from \"@/scripts/model/Products\";\nimport kendo from \"@progress/kendo-ui\";\nimport VariantModel from \"@/scripts/model/Variants\";\n\nconst $ = kendo.jQuery;\n\nconst accountHandler = require(\"@/scripts/handler/accounting/account\");\nconst categoryHandler = require(\"@/scripts/categoryHandler\");\nconst groupHandler = require(\"@/scripts/groupHandler\");\nconst subGroupHandler = require(\"@/scripts/subGroupHandler\");\nconst uomHandler = require(\"@/scripts/uomHandler\");\nconst warehouseHandler = require(\"@/scripts/warehouseHandler\");\nconst settingHandler = require(\"@/scripts/settingHandler\");\nconst productHandler = require(\"@/scripts/productHandler\");\nconst variantHandler = require(\"@/scripts/variantTypeHandler\");\nconst priceLevelHandler = require(\"@/scripts/priceLevelHandler\");\n// const attributeHandler = require(\"@/scripts/attributeHandler\")\nconst variantModel = new VariantModel({});\n\nlet productModel = new ProductModel({});\nexport default {\n    name: \"AddProduct\",\n    props: [\"id\"],\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n    },\n    data: function () {\n        return {\n            showLoading: true,\n            accLoading: false,\n            valid: \"\",\n            incomeAcc: \"\",\n            mAccInventory: \"\",\n            mCategory: \"\",\n            mGroup: \"\",\n            mFormTemplate: \"\",\n            formTemplate: [\n                {\n                    id: \"ftp-c35cbe46-1c5e-11eb-adc1-0242ac120002\",\n                    name: \"Form A\",\n                },\n                {\n                    id: \"ftp-c35cc062-1c5e-11eb-adc1-0242ac120002\",\n                    name: \"Form B\",\n                },\n                {\n                    id: \"ftp-c35cc2ec-1c5e-11eb-adc1-0242ac120002\",\n                    name: \"Form C\",\n                },\n            ],\n            mAccCostOfGoodSold: \"\",\n            accRevenue: [],\n            accInventory: [],\n            accCostOfGoodSold: [],\n            categories: [],\n            groups: [],\n            group: [],\n            subGroup: [],\n            uom: [],\n            tax: [],\n            specificTax: [],\n            vat: [],\n            mSubGroup: {},\n            subGroups: [],\n            wareHouses: [],\n            mUOM: {},\n            mWareHouse: {},\n            mSpecificTax: {},\n            mOtherTax: {},\n            otherTax: [],\n            mDefaultTax: {},\n            purchaseTax: [],\n            mPurchaseTax: {},\n            mSerialOrBatch: 0,\n            variantTypes: [],\n            variant: variantModel,\n            varLists: [],\n            product: productModel,\n            productVariant: {},\n            variantId: \"\",\n            priceLevel: [],\n        };\n    },\n    methods: {\n        async loadPriceLevel() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    priceLevelHandler.get().then((res) => {\n                        const data = res || [];\n                        this.priceLevel = data.filter((n) => n.type.name === \"Standard\");\n                        if (this.priceLevel.length > 0) {\n                            this.product.priceLevel = this.priceLevel[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        loadCategoryAccountAndTax() {\n            // this.mOtherTax = this.mCategory.tax.hasOwnProperty(\"otherTax\")\n            //     ? this.mCategory.tax.otherTax\n            //     : {};\n            // this.mSpecificTax = this.mCategory.tax.hasOwnProperty(\"specificTax\")\n            //     ? this.mCategory.tax.specificTax\n            //     : {};\n            // this.mDefaultTax = this.mCategory.tax.hasOwnProperty(\"defaultTax\")\n            //     ? this.mCategory.tax.defaultTax\n            //     : {};\n            // this.mPurchaseTax = this.mCategory.tax.hasOwnProperty(\"purchaseTax\")\n            //     ? this.mCategory.tax.purchaseTax\n            //     : {};\n            this.incomeAcc = this.mCategory.account.hasOwnProperty(\"incomeAcc\")\n                ? this.mCategory.account.incomeAcc\n                : {};\n            this.mAccInventory = this.mCategory.account.hasOwnProperty(\"inventoryAcc\")\n                ? this.mCategory.account.inventoryAcc\n                : {};\n            this.mAccCostOfGoodSold = this.mCategory.account.hasOwnProperty(\n                \"costOfGoodsSoldAcc\"\n            )\n                ? this.mCategory.account.costOfGoodsSoldAcc\n                : {};\n        },\n        async initData() {\n            // window.console.log('me', this.$route.params.id)\n            if (this.$route.params.id !== undefined) {\n                await this.loadSingleProduct();\n            } else {\n                let ds = this.$refs.dataSource.kendoWidget();\n                ds.data([]);\n                this.addRow();\n            }\n        },\n        addRow() {\n            let ds = this.$refs.dataSource.kendoWidget(),\n                total = ds.total();\n            ds.insert(total, {\n                variant: this.variant,\n            });\n        },\n        // Row Number Template\n        rowNumberTmpl(dataItem) {\n            var ds = this.$refs.dataSource.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        // Grid Custom Editor\n        attributeDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: false,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=code# - #=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.variantTypes,\n                    }),\n                });\n        },\n        // Remove Row\n        removeRow(e) {\n            e.preventDefault();\n\n            var grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n            }\n        },\n        onChange() {\n        },\n        async onEditClick(value) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.product = value;\n                }, 10);\n            });\n        },\n        onNewClick() {\n            this.product.id = \"\";\n            this.clear();\n        },\n        close(data) {\n            window.history.go(-1);\n            window.console.log(data, \"--data\");\n            // this.$router.push({\n            //   name: 'Products', params: {\n            //     data: data\n            //   }\n            // })\n        },\n        clear() {\n            this.product = {};\n        },\n        async onSaveClose() {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate();\n                return;\n            }\n            let variants = [];\n            let ds = this.$refs.dataSource.kendoWidget();\n            let dataValidate = 0;\n            ds.data().forEach((value, index) => {\n                // window.console.log(value)\n                if (\n                    value.variant == undefined ||\n                    value.variant.id == undefined ||\n                    value.variant.id == null ||\n                    value.variant.id == \"\"\n                ) {\n                    this.$snotify.error(\"Please check Variants on row \" + (index + 1));\n                } else {\n                    dataValidate += 1;\n                }\n            });\n            let variantAR = ds.data();\n            if (variantAR.length == dataValidate) {\n                const variant = ds.data();\n                variant.forEach((i) => {\n                    variants.push({\n                        variant: i.variant,\n                        uid: i.uid,\n                    });\n                });\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        // if (this.product.id === '' || this.product.id === undefined) {\n                        let data = {\n                            id:                     this.$route.params.id ? this.$route.params.id : \"\",\n                            name:                   this.product.name,\n                            sku:                    this.product.sku,\n                            saleDescription:        this.product.saleDescription,\n                            purchaseDescription:    this.product.purchaseDescription,\n                            price:                  this.product.price,\n                            cost:                   this.product.cost,\n                            reOrderQTY:             this.product.reOrderQTY,\n                            category:               this.mCategory || {},\n                            priceLevel:             this.product.priceLevel,\n                            group:                  this.mGroup || {},\n                            subGroup:               this.mSubGroup || {},\n                            uom:                    this.mUOM,\n                            warehouse:              this.mWareHouse,\n                            inventoryAcc:           this.mAccInventory,\n                            incomeAcc:              this.incomeAcc,\n                            costOfGoodsSoldAcc:     this.mAccCostOfGoodSold,\n                            // defaultTax: this.mDefaultTax,\n                            // purchaseTax: this.mPurchaseTax,\n                            // specificTax: this.mSpecificTax,\n                            // otherTax: this.mOtherTax,\n                            formTemplate:           this.mFormTemplate,\n                            variant:                variants,\n                            variantId:              this.variantId,\n                            canBeSold:              this.product.canBeSold,\n                            canBeProduce:           this.product.canBeProduce,\n                            canBeRent:              this.product.canBeRent,\n                            canBePurchase:          this.product.canBePurchase,\n                            isFavorite:             this.product.isFavorite,\n                            batchOrSerial:          this.product.batchOrSerial,\n                            reUsed:                 this.product.reUsed || false,\n                            // batchTracked: this.mSerialOrBatch == 1 ? this.product.batchTracked : 0,\n                            // isSerialNumber: this.mSerialOrBatch == 2 ? this.product.isSerialNumber : 0,\n                            status:                 this.product.status || 1,\n                            deleted:                this.product.deleted || 0,\n                            type:                   this.$route.params.id ? this.$route.query.type : \"new\",\n                        };\n                        window.console.log('data',data)\n                        productHandler\n                            .create(data)\n                            .then((response) => {\n                                if (response.data.statusCode === 201) {\n                                    // this.loadSaleUC()\n                                    // this.clear()\n                                    this.$snotify.success(\"Success\");\n                                    this.close(response.data.data);\n                                    this.$refs.form.reset();\n                                }\n                            })\n                            .catch((e) => {\n                                this.$snotify.error(\"Something went wrong\");\n                                this.errors.push(e);\n                            });\n                    }, 10);\n                });\n            }\n        },\n        async onCategoryChanged() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    // window.console.log(this.mCategory)\n                    this.mGroup = \"\";\n                    this.mSubGroup = \"\";\n\n                    this.group = this.groups.filter(\n                        (m) => m.category.id === this.mCategory.id\n                    );\n                    if (this.group.length > 0) {\n                        this.mGroup = this.group[0];\n                        this.subGroup = this.subGroups.filter(\n                            (m) => m.group.id === this.group[0].id\n                        );\n                        if (this.subGroup.length > 0) {\n                            this.mSubGroup = this.subGroup[0];\n                        }\n                    }\n                    this.loadCategoryAccountAndTax();\n                }, 10);\n            });\n        },\n        async loadAccount() {\n            this.accLoading = true;\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    accountHandler.getAll().then((res) => {\n                        this.showLoading = false;\n                        this.accRevenue = res.data\n                            .filter((m) => m.account_type.number === 32)\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type,\n                                };\n                            });\n                        if (this.accRevenue.length > 0) {\n                            this.incomeAcc = this.accRevenue[0];\n                        }\n                        this.accInventory = res.data\n                            .filter((m) => m.account_type.number === 8)\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type,\n                                };\n                            });\n                        if (this.accInventory.length > 0) {\n                            this.mAccInventory = this.accInventory[0];\n                        }\n                        this.accCostOfGoodSold = res.data\n                            .filter((m) => m.account_type.number === 33)\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type,\n                                };\n                            });\n                        if (this.accCostOfGoodSold.length > 0) {\n                            this.mAccCostOfGoodSold = this.accCostOfGoodSold[0];\n                        }\n                        this.accLoading = false;\n                    });\n                }, 10);\n            });\n        },\n        async loadCategory() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    categoryHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.categories = res;\n                        this.categories = this.categories.filter(\n                            (m) => m.hasOwnProperty(\"type\") && m.type.name === \"Product\"\n                        );\n                        // if (this.categories.length > 0) {\n                        //   this.mCategory = this.categories[0]\n                        //   this.onCategoryChanged()\n                        // }\n                    });\n                }, 10);\n            });\n        },\n        async loadGroup() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    groupHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.groups = res;\n                    });\n                }, 10);\n            });\n        },\n        async loadSubGroup() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    subGroupHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.subGroups = res;\n                    });\n                }, 10);\n            });\n        },\n        async skuGenerator() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const category = this.mCategory || {};\n                    const group = this.mGroup || {};\n                    const sGroup = this.mSubGroup || {};\n                    let cateAbbr = \"\",\n                        groupAbbr = \"\",\n                        sGroupAbbr = \"\",\n                        skuCode = \"\";\n                    if (category.id) {\n                        cateAbbr = category.abbr || \"\";\n                        skuCode += cateAbbr + \"/\";\n                    }\n                    if (group.id) {\n                        groupAbbr = group.abbr || \"\";\n                        skuCode += groupAbbr + \"/\";\n                    }\n                    if (sGroup.id) {\n                        sGroupAbbr = sGroup.abbr || \"\";\n                        skuCode += sGroupAbbr\n                    }\n                    window.console.log('--xx', category, group, sGroup)\n                    this.product.sku = skuCode\n                    // if (this.product.name) {\n                    //     this.product.sku =\n                    //         skuCode + this.product.name.toString().substring(0, 3);\n                    // }\n                }, 10);\n            });\n        },\n        async loadUOM() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    uomHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.uom = res;\n                        if (this.uom.length > 0) {\n                            this.mUOM = this.uom[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadWareHouses() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    warehouseHandler.getWarehouseSettingAll().then((res) => {\n                        this.showLoading = false;\n                        this.wareHouses = res;\n                        if (this.wareHouses.length > 0) {\n                            this.mWareHouse = this.wareHouses[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadVariants() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    variantHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.variantTypes = res;\n                        if (this.variantTypes.length > 0) {\n                            this.initData();\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadTax() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    settingHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.tax = res;\n                        let st = this.tax.filter((m) => m.taxType.typeId === 8); // valuable tax\n                        this.specificTax = st; // special tax\n\n                        let vAT = this.tax.filter(\n                            (m) => m.taxType.typeId === 1 && m.transactionType === \"Sale\"\n                        ); // valuable tax\n                        this.vat = vAT; // valuable tax\n\n                        let otTax = this.tax.filter((m) => m.taxType.typeId === 7); // valuable tax\n                        this.otherTax = otTax; // valuable tax\n\n                        this.purchaseTax = this.tax.filter(\n                            (m) => m.taxType.typeId === 1 && m.transactionType === \"Purchase\"\n                        ); // valuable tax\n                        if (this.specificTax.length > 0) {\n                            this.mSpecificTax = this.specificTax[0];\n                        }\n                        if (this.vat.length > 0) {\n                            this.mDefaultTax = this.vat[0];\n                        }\n                        if (this.otherTax.length > 0) {\n                            this.mOtherTax = this.otherTax[0];\n                        }\n                        if (this.purchaseTax.length > 0) {\n                            this.mPurchaseTax = this.purchaseTax[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadSingleProduct() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    productHandler.getOne(this.$route.params.id).then((res) => {\n                        this.showLoading = false;\n                        this.product = res;\n                        if (this.product.id !== undefined) {\n                            this.mCategory = this.product.category;\n                            this.mGroup = this.product.group;\n                            this.mSubGroup = this.product.subGroup;\n                            this.mUOM = this.product.uom;\n                            this.mAccCostOfGoodSold = this.product.costOfGoodsSoldAcc;\n                            this.mAccInventory = this.product.inventoryAcc;\n                            this.incomeAcc = this.product.incomeAcc;\n                            // this.mSpecificTax = this.product.specificTax;\n                            this.mSerialOrBatch =\n                                this.product.isSerialNumber > 0\n                                    ? this.product.isSerialNumber\n                                    : this.product.batchTracked;\n                            // this.mOtherTax = this.product.otherTax;\n                            // this.mDefaultTax = this.product.defaultTax;\n                            // this.mPurchaseTax = this.product.purchaseTax;\n                            this.productVariant = this.product.variant;\n                            this.mWareHouse = this.product.warehouse;\n                            this.varLists = [];\n                            this.variantId = this.product.variant.id;\n                            this.product.variant.variant.forEach((m) => {\n                                this.varLists.push({\n                                    variant: {\n                                        name: m.variant.name,\n                                        id: m.variant.id,\n                                        code: m.variant.code,\n                                    },\n                                });\n                            });\n                        }\n                    });\n                }, 10);\n            });\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((resultCen) => {\n                if (resultCen.value) {\n                    this.$router.go(-1);\n                }\n            });\n        },\n    },\n    mounted: async function () {\n        await this.loadUOM();\n        await this.loadWareHouses();\n        // await this.loadTax();\n        await this.loadVariants();\n        await this.loadPriceLevel();\n    },\n    computed: {},\n    created: async function () {\n        await this.loadAccount();\n        await this.loadCategory();\n        await this.loadGroup();\n        await this.loadSubGroup();\n    },\n    watch: {\n        id() {\n            // this.product = this.selectedProduct\n            window.console.log(this.id, \"watch\");\n            if (this.id !== undefined) {\n                this.loadSingleProduct();\n            }\n        },\n    },\n};\n</script>\n\n<style scoped>\n.function_content {\n    padding: 0 25px 25px;\n    border-bottom: 0;\n    background-color: #fff !important;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        /* max-width: 1185px; */\n        max-width: 1080px !important;\n    }\n}\n\n.grayBg {\n    background-color: #f8f8f9;\n}\n\n@media (max-width: 576px) {\n    .mb-6 {\n        margin-bottom: 0 !important;\n    }\n}\n\n.section2 {\n    border: 1px solid #d6d7d8;\n}\n\n.border_grey {\n    border: 1px solid #d6d7d8;\n}\n\n.attachment_table {\n    width: 100%;\n}\n\np {\n    font-size: 15px;\n    font-family: 'Niradei-Light' !important;\n}\n\n.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> tbody\n> tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n</style>\n"],"sourceRoot":"src/views/products"}]}