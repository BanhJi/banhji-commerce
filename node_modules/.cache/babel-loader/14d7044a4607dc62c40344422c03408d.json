{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/finances/insight/LoanAnalysis.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/finances/insight/LoanAnalysis.vue","mtime":1638499443234},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/babel.config.js","mtime":1638499442885},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IHtpMThufSBmcm9tICdAL2kxOG4nOwppbXBvcnQga2VuZG8gZnJvbSAnQHByb2dyZXNzL2tlbmRvLXVpJzsKCnZhciBmaW5hbmNpYWxSYXRpb0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaGFuZGxlci9hY2NvdW50aW5nL2ZpbmFuY2lhbFJhdGlvLmpzIik7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgIkxvYWRpbmdNZSI6IGZ1bmN0aW9uIExvYWRpbmdNZSgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnQC9jb21wb25lbnRzL0xvYWRpbmcnKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FuQW5hbHlzaXM6IFtdLAogICAgICAvLyBMb2FkaW5nTWUKICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8gU2VhcmNoCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGJtLCBiYXNlTW9udGhMYXN0RGF5LCBhY2N1bXVsYXRlZE1vbnRoczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAvKiBTZXQgZGVmYXVsdCAqLwoKICAgICAgICAgICAgICAgIF90aGlzLmxvYW5BbmFseXNpcyA9IHsKICAgICAgICAgICAgICAgICAgZGVidF9yYXRpbzogMCwKICAgICAgICAgICAgICAgICAgZ2VhcmluZ19yYXRpbzogMCwKICAgICAgICAgICAgICAgICAgaW50ZXJlc3RfY292ZXJhZ2VfcmF0aW86IDAsCiAgICAgICAgICAgICAgICAgIGRlYnRfc2VydmljZV9jb3ZlcmFnZTogMAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGJtID0gbmV3IERhdGUoKSwgYmFzZU1vbnRoTGFzdERheSA9IG5ldyBEYXRlKGJtLmdldEZ1bGxZZWFyKCksIGJtLmdldE1vbnRoKCkgKyAxLCAwKTsKICAgICAgICAgICAgICAgIC8qIEFjY3VtdWxhdGVkIE1vbnRoICovCgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gZmluYW5jaWFsUmF0aW9IYW5kbGVyLmdldFJlcG9ydCh7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIG1vbnRoX29mOiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSgpLCAneXl5eS1NTS1kZCcpICsgJ1QyMzo1OTo1OS45OTlaJywKICAgICAgICAgICAgICAgICAgICAvLyBUb2RheSBNb250aCAodXNlIGRhdGEpCiAgICAgICAgICAgICAgICAgICAgY29tcGFyZV9tb250aDoga2VuZG8udG9TdHJpbmcoYmFzZU1vbnRoTGFzdERheSwgJ3l5eXktTU0tZGQnKSArICdUMjM6NTk6NTkuOTk5WicgLy8gU2VsZWN0ZWQgQmFzZSBNb250aCAoZG9uJ3QgdXNlIGRhdGEpCgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgYWNjdW11bGF0ZWRNb250aHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMubG9hbkFuYWx5c2lzID0gewogICAgICAgICAgICAgICAgICBkZWJ0X3JhdGlvOiBhY2N1bXVsYXRlZE1vbnRocy5kYXRhLm1vdGhfb2YuZGVidFJhdGlvLAogICAgICAgICAgICAgICAgICBnZWFyaW5nX3JhdGlvOiAwLAogICAgICAgICAgICAgICAgICBpbnRlcmVzdF9jb3ZlcmFnZV9yYXRpbzogYWNjdW11bGF0ZWRNb250aHMuZGF0YS5tb3RoX29mLmludGVyZXN0Q292ZXJhdGVSYXRpb24sCiAgICAgICAgICAgICAgICAgIGRlYnRfc2VydmljZV9jb3ZlcmFnZTogYWNjdW11bGF0ZWRNb250aHMuZGF0YS5tb3RoX29mLmRlYnRTZXJ2aWNlQ29lcmFnZVJhdGlvCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX3RoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuc2VhcmNoKCk7CiAgfQp9Ow=="},{"version":3,"sources":["LoanAnalysis.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA,OAAA,KAAA,MAAA,oBAAA;;AACA,IAAA,qBAAA,GAAA,OAAA,CAAA,gDAAA,CAAA;;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,iBAAA;AAAA,aAAA,OAAA,sBAAA,CAAA;AAAA;AADA,GADA;AAIA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,YAAA,EAAA,EADA;AAEA;AACA,MAAA,WAAA,EAAA;AAHA,KAAA;AAAA,GAJA;AASA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,MAFA,oBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,WAAA,GAAA,IAAA;AAEA;;AACA,gBAAA,KAAA,CAAA,YAAA,GAAA;AACA,kBAAA,UAAA,EAAA,CADA;AAEA,kBAAA,aAAA,EAAA,CAFA;AAGA,kBAAA,uBAAA,EAAA,CAHA;AAIA,kBAAA,qBAAA,EAAA;AAJA,iBAAA;AAOA,gBAAA,EAXA,GAWA,IAAA,IAAA,EAXA,EAYA,gBAZA,GAYA,IAAA,IAAA,CAAA,EAAA,CAAA,WAAA,EAAA,EAAA,EAAA,CAAA,QAAA,KAAA,CAAA,EAAA,CAAA,CAZA;AAcA;;AAdA;AAAA,uBAeA,qBAAA,CAAA,SAAA,CAAA;AACA,kBAAA,MAAA,EAAA;AACA,oBAAA,QAAA,EAAA,KAAA,CAAA,QAAA,CAAA,IAAA,IAAA,EAAA,EAAA,YAAA,IAAA,gBADA;AACA;AACA,oBAAA,aAAA,EAAA,KAAA,CAAA,QAAA,CAAA,gBAAA,EAAA,YAAA,IAAA,gBAFA,CAEA;;AAFA;AADA,iBAAA,CAfA;;AAAA;AAeA,gBAAA,iBAfA;AAsBA,gBAAA,KAAA,CAAA,YAAA,GAAA;AACA,kBAAA,UAAA,EAAA,iBAAA,CAAA,IAAA,CAAA,OAAA,CAAA,SADA;AAEA,kBAAA,aAAA,EAAA,CAFA;AAGA,kBAAA,uBAAA,EAAA,iBAAA,CAAA,IAAA,CAAA,OAAA,CAAA,sBAHA;AAIA,kBAAA,qBAAA,EAAA,iBAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AAJA,iBAAA;AAOA,gBAAA,KAAA,CAAA,WAAA,GAAA,KAAA;;AA7BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA8BA;AAhCA,GATA;AA2CA,EAAA,OA3CA,qBA2CA;AACA,SAAA,MAAA;AACA;AA7CA,CAAA","sourcesContent":["<template>\n    <v-simple-table>\n        <template>\n            <tbody>\n                <tr>\n                    <td class=\"text-left pl-0\">\n                    <span class=\"niradei_medium font_14 grey--text\">\n                        {{ $t(\"debt_ratio\") }}\n                    </span>\n                    </td>\n                    <td class=\"text-right pr-0\">\n                    <span class=\"niradei_heavy font_18 dark_grey\">\n                        {{ Number(loanAnalysis.debt_ratio).toLocaleString() }} %\n                    </span>\n                    </td>\n                </tr>\n                <tr>\n                    <td class=\"text-left pl-0\">\n                    <span class=\"niradei_medium font_14 grey--text\">\n                        {{ $t(\"gearing_ratio\") }}\n                    </span>\n                    </td>\n                    <td class=\"text-right pr-0\">\n                    <span class=\"niradei_heavy font_18 dark_grey\">\n                        <!-- {{ Number(loanAnalysis.gearing_ratio).toLocaleString() }} -->\n                    </span>\n                    </td>\n                </tr>\n                <tr>\n                    <td class=\"text-left pl-0\">\n                    <span class=\"niradei_medium font_14 grey--text\">\n                        {{ $t(\"interest_coverage_ratio\") }} \n                    </span>\n                    </td>\n                    <td class=\"text-right pr-0\">\n                    <span class=\"niradei_heavy font_18 dark_grey\">\n                        {{ Number(loanAnalysis.interest_coverage_ratio).toLocaleString() }} Time\n                    </span>\n                    </td>\n                </tr>\n                <tr>\n                    <td class=\"text-left pl-0\">\n                    <span class=\"niradei_medium font_14 grey--text\">\n                        {{ $t(\"debt_service_coverage\") }}\n                    </span>\n                    </td>\n                    <td class=\"text-right pr-0\">\n                    <span class=\"niradei_heavy font_18 dark_grey\">\n                        {{ Number(loanAnalysis.debt_service_coverage).toLocaleString() }} Time\n                    </span>\n                    </td>\n                </tr>\n            </tbody>\n        </template>\n        <template slot=\"no-data\">\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"false\"\n                :myLoading=\"true\"\n                :type=\"'loading'\"\n            />\n        </template>\n    </v-simple-table>\n</template>\n\n<script>\n\t// import {i18n} from '@/i18n';\n\timport kendo from '@progress/kendo-ui';\n\tconst financialRatioHandler = require(\"@/scripts/handler/accounting/financialRatio.js\");\n\n\texport default {\n\t\tcomponents: {\n\t\t\t\"LoadingMe\": () => import('@/components/Loading'),\n\t\t},\n\t\tdata: ()=>({\n            loanAnalysis : [],\n\t\t\t// LoadingMe\n\t\t\tshowLoading: false,\n\t\t}),\n\t\tmethods:  {\n\t\t\t// Search\n\t\t\tasync search () {\n                this.showLoading = true;\n\n                /* Set default */\n                this.loanAnalysis = {\n                    debt_ratio : 0,\n                    gearing_ratio : 0,\n                    interest_coverage_ratio : 0,\n                    debt_service_coverage : 0,\n                };\n\n                let bm = new Date(),\n                    baseMonthLastDay = new Date(bm.getFullYear(), bm.getMonth() + 1, 0);\n\n                /* Accumulated Month */\n                let accumulatedMonths = await financialRatioHandler.getReport({\n                    params : {\n                        month_of : kendo.toString(new Date(), 'yyyy-MM-dd') + 'T23:59:59.999Z',// Today Month (use data)\n                        compare_month : kendo.toString(baseMonthLastDay, 'yyyy-MM-dd') + 'T23:59:59.999Z',// Selected Base Month (don't use data)\n                    }\n                })\n                \n                this.loanAnalysis = {\n                    debt_ratio              : accumulatedMonths.data.moth_of.debtRatio,\n                    gearing_ratio           : 0,\n                    interest_coverage_ratio : accumulatedMonths.data.moth_of.interestCoverateRation,\n                    debt_service_coverage   : accumulatedMonths.data.moth_of.debtServiceCoerageRatio,\n                };\n                \n                this.showLoading = false;\n\t\t\t},\n\t\t},\n        mounted(){\n            this.search();\n        }\n\t}\n</script>"],"sourceRoot":"src/views/finances/insight"}]}