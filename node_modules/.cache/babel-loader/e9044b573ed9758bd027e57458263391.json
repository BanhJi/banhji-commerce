{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/warehouses/operations/ReceiptOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/warehouses/operations/ReceiptOrder.vue","mtime":1638760538984},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/babel.config.js","mtime":1638499442885},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktYWNjb3VudGluZy13ZWItbW9kdWxlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktYWNjb3VudGluZy13ZWItbW9kdWxlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IGtlbmRvIGZyb20gJ0Bwcm9ncmVzcy9rZW5kby11aScKaW1wb3J0IHsgaTE4biB9IGZyb20gIkAvaTE4biI7CmltcG9ydCBMb2FkaW5nTWUgZnJvbSAiQC9jb21wb25lbnRzL0xvYWRpbmciOwppbXBvcnQgRGF0ZVBpY2tlckNvbXBvbmVudCBmcm9tICJAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9EYXRlUGlja2VyQ29tcG9uZW50IjsKaW1wb3J0IFJlY2VpcHRPcmRlciBmcm9tICJAL3NjcmlwdHMvbW9kZWwvUmVjZWlwdE9yZGVyIjsKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CmltcG9ydCB7IERyb3BEb3duTGlzdCB9IGZyb20gIkBwcm9ncmVzcy9rZW5kby12dWUtZHJvcGRvd25zIjsgLy8gaW1wb3J0IE1vbnRoT2ZQaWNrZXIgZnJvbSAiQC9jb21wb25lbnRzL2tlbmRvX3RlbXBsYXRlcy9Nb250aE9mUGlja2VyIjsKCmltcG9ydCB7IFNob3dSZXNvdXJjZSB9IGZyb20gIkAvb2JzZXJ2YWJsZS9zdG9yZSI7CmltcG9ydCB7IHV1aWQgfSBmcm9tICJ2dWUtdXVpZCI7CmltcG9ydCAkIGZyb20gImpxdWVyeSI7CmltcG9ydCBJdGVtTGluZU1vZGVsIGZyb20gIkAvc2NyaXB0cy9pbnZvaWNlL21vZGVsL0l0ZW1MaW5lIjsgLy8gY29uc3QgdHJhbnNhY3Rpb25IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3RyYW5zYWN0aW9uSGFuZGxlciIpOwovLyBjb25zdCBiYXRjaEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvYmF0Y2hIYW5kbGVyIik7Cgp2YXIgd2FyZWhvdXNlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy93YXJlaG91c2VIYW5kbGVyIik7Cgp2YXIgcHVyY2hhc2VIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3B1cmNoYXNlL2hhbmRsZXIvYmlsbGluZ0hhbmRsZXIiKTsKCnZhciBkZWxpdmVyeU9yZGVySGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9kZWxpdmVyeU9yZGVySGFuZGxlciIpOwoKdmFyIHJlY2VpcHRPcmRlckhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcmVjZWlwdE9yZGVySGFuZGxlciIpOwoKdmFyIHByb2R1Y3RWYXJpYW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcm9kdWN0VmFyaWFudEhhbmRsZXIiKTsKCnZhciBwcmVmaXhIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3ByZWZpeEhhbmRsZXIiKTsKCnZhciBiaWxsaW5nSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9pbnZvaWNlL2hhbmRsZXIvYmlsbGluZ0hhbmRsZXIiKTsKCnZhciBzdXBwbGllckhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc3VwcGxpZXJIYW5kbGVyIik7IC8vIGNvbnN0IHNldHRpbmdzSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zZXR0aW5nc0hhbmRsZXIiKTsKLy8gY29uc3Qgc2FsZUNoYW5uZWxIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NhbGVDaGFubmVsSGFuZGxlciIpOwovLyBjb25zdCBsb2NhdGlvbkhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvbG9jYXRpb25IYW5kbGVyIik7Ci8vIGNvbnN0IHByb2plY3RIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3Byb2plY3RIYW5kbGVyIik7CgoKdmFyIHVvbVByaWNlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy91b21QcmljZUhhbmRsZXIiKTsKCnZhciBzYWxlT3JkZXJIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3RyYW5zYWN0aW9uSGFuZGxlciIpOwoKdmFyIHJlY2VpcHRPcmRlciA9IG5ldyBSZWNlaXB0T3JkZXIoe30pOwp2YXIga2V5RmllbGQgPSAiaWQiOwp2YXIgdGV4dEZpZWxkID0gIm5hbWUiOwoKdmFyIGVtcHR5SXRlbSA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgdGV4dEZpZWxkLCAibG9hZGluZyAuLi4iKTsKCnZhciBpdGVtTGluZVByZWZpeCA9ICJsaW4tIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZWNlaXB0T3JkZXIiLAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmdNZTogTG9hZGluZ01lLAogICAgImFwcC1kYXRlcGlja2VyIjogRGF0ZVBpY2tlckNvbXBvbmVudCwKICAgIGRyb3Bkb3dubGlzdDogRHJvcERvd25MaXN0IC8vICJhcHAtbW9udGhwaWNrZXIiOiBNb250aE9mUGlja2VyLAoKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX2RlZmF1bHRJdGVtOwoKICAgIHJldHVybiB7CiAgICAgIG1lbnUyOiBmYWxzZSwKICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgLy8gTG9hZGluZ01lCiAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgbG9hZGluZ0FsZXJ0OiBmYWxzZSwKICAgICAgbG9hZGluZ0NvbG9yQWxlcnQ6ICIiLAogICAgICBsb2FkaW5nVGV4dEFsZXJ0OiAiIiwKICAgICAgYmlsbF9kYXRlOiAiIiwKICAgICAgYWxlcnQ6IGZhbHNlLAogICAgICBkZXBvc2l0ZTogMTAwMCwKICAgICAgZmlsZXM6IFtdLAogICAgICAvLyBGb3JtIHZhbGlkYXRpb24KICAgICAgdmFsaWQ6IHRydWUsCiAgICAgIHRlbXBsYXRlczogW3sKICAgICAgICB0aXRsZTogIkRyYWZ0IgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICJPcGVuIgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICJQYXJ0aWFsbHkgQ2xvc2VkIgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICJDbG9zZWQiCiAgICAgIH1dLAogICAgICBjb2xfZXhwYW5kOiA5LAogICAgICBjb2xfaGlkZTogMywKICAgICAgaXNIaWRlQmFyOiBmYWxzZSwKICAgICAgc2VyaWFsczogW10sCiAgICAgIGJhdGNoczogW10sCiAgICAgIHdhcmVob3VzZXM6IFtdLAogICAgICByZWNlaXB0T3JkZXI6IHJlY2VpcHRPcmRlciwKICAgICAgZGVsaXZlcnlBZ2VuY2llczogW10sCiAgICAgIGl0ZW1CYXRjaDoge30sCiAgICAgIHVvbUJhdGNoOiB7fSwKICAgICAgYW10QmF0Y2g6IDAsCiAgICAgIHF0eVJlY2VpdmVkOiAwLAogICAgICB0b3RhbEJhdGNoOiAwLAogICAgICBzaG93TG9hZGluZ1R4bjogZmFsc2UsCiAgICAgIHB1cmNoYXNlT3JkZXJzOiBbXSwKICAgICAgcHVyY2hhc2VPcmRlcjoge30sCiAgICAgIHBvSXRlbUxpbmU6IFtdLAogICAgICBzdXBwbGllckxpc3Q6IFtdLAogICAgICBkYXRhSXRlbUtleTogImlkIiwKICAgICAgdGV4dEZpZWxkOiAibmFtZSIsCiAgICAgIGRlZmF1bHRJdGVtOiAoX2RlZmF1bHRJdGVtID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfZGVmYXVsdEl0ZW0sIHRleHRGaWVsZCwgIlNlbGVjdCBzdXBwbGllci4uLiIpLCBfZGVmaW5lUHJvcGVydHkoX2RlZmF1bHRJdGVtLCBrZXlGaWVsZCwgbnVsbCksIF9kZWZhdWx0SXRlbSksCiAgICAgIHN1cHBsaWVyQmFzZVVybDogc3VwcGxpZXJIYW5kbGVyLnVybCgpLAogICAgICBmaWx0ZXI6ICIiLAogICAgICBpdGVtTGluZXM6IFtdLAogICAgICBpdGVtTGluZXNTOiBbXSwKICAgICAgaXRlbUxpbmVzQmF0Y2g6IFtdLAogICAgICBpc0Nsb3NlOiB0cnVlLAogICAgICBkaWFsb2dTOiBmYWxzZSwKICAgICAgaGlkZVM6IHRydWUsCiAgICAgIHRyYW5zYWN0aW9uVHlwZXM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIGJlZm9yZVJvdXRlTGVhdmU6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlTGVhdmUodG8sIGZyb20sIG5leHQpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKHRoaXMuaXNDbG9zZSkgewogICAgICB0aGlzLiRzd2FsKHsKICAgICAgICB0aXRsZTogaTE4bi50KCJtc2dfdGl0bGVfd2FybmluZyIpLAogICAgICAgIHRleHQ6IGkxOG4udCgibXNnX2Rpc2NhcmQiKSwKICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBpMThuLnQoImNhbmNlbCIpLAogICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiM0ZDQ4NDgiLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI0VEMUEzQSIsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IGkxOG4udCgiZGlzY2FyZCIpCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdENlbikgewogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXN1bHRDZW4pOwoKICAgICAgICBpZiAocmVzdWx0Q2VuLnZhbHVlKSB7CiAgICAgICAgICBfdGhpcy5yZWNlaXB0T3JkZXIgPSByZWNlaXB0T3JkZXI7CiAgICAgICAgICBuZXh0KCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGRhdGFCb3VuZFM6IGZ1bmN0aW9uIGRhdGFCb3VuZFMoZSkgewogICAgICB2YXIgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRTIikuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgIHZhciBpdGVtcyA9IGUuc2VuZGVyLml0ZW1zKCk7CiAgICAgIGl0ZW1zLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0odGhpcyk7CiAgICAgICAga2VuZG8ualF1ZXJ5KCJ0cltkYXRhLXVpZD0nIiArIGRhdGFJdGVtLnVpZCArICInXSIpLmZpbmQoIi5pc1NlcmlhbE51bWJlcjIiKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChkYXRhSXRlbS5iYXRjaE9yU2VyaWFsID09PSAyKSB7CiAgICAgICAgICAgIGtlbmRvLmpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygiay1zdGF0ZS1kaXNhYmxlZCIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRTZXJpYWw6IGZ1bmN0aW9uIGFkZFNlcmlhbCgpIHsKICAgICAgdGhpcy5nZXREYXRhU291cmNlUygpOwogICAgICB3aW5kb3cuY29uc29sZS5sb2codGhpcy5pdGVtTGluZXNTLCAnaXRlbWxpbmUgcycpOwogICAgfSwKICAgIGdldERhdGFTb3VyY2VTOiBmdW5jdGlvbiBnZXREYXRhU291cmNlUygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkcywgZGF0YVJvdywgcywgaW5zdGl0dXRlSWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZHMgPSBfdGhpczIuJHJlZnMuZGF0YVNvdXJjZTEua2VuZG9XaWRnZXQoKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cgPSBkcy5kYXRhKCk7CiAgICAgICAgICAgICAgICBzID0gZGF0YVJvdy5maWx0ZXIoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuc2VyaWFsTnVtYmVyMSA9PT0gJyc7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAoIShzLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIuJHNub3RpZnkuZXJyb3IoJ1BsZWFzZSBjaGVjayB5b3VyIHNlcmlhbCBudW1iZXInKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWYgKGRhdGFSb3cubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICBpbnN0aXR1dGVJZCA9IF90aGlzMi4kc3RvcmUuc3RhdGUuaW5zdGl0dXRlLmluc3RpdHV0ZS5pZDsKICAgICAgICAgICAgICAgICAgcmVjZWlwdE9yZGVySGFuZGxlci5nZXRCYXRjaChkYXRhUm93WzBdLml0ZW0uaWQsIF90aGlzMi5yZWNlaXB0T3JkZXIud2FyZWhvdXNlLmlkLCBpbnN0aXR1dGVJZCwgJ3NlcmlhbCcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpLnNlcmlhbE51bWJlcjEgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSByZXMuZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcC5zZXJpYWxOdW1iZXIxID09PSBpLnNlcmlhbE51bWJlcjE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5pdGVtTGluZXNTLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHIubGVuZ3RoID4gMCA/IHJbMF0ubGluSWQgOiBpLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogaS5pdGVtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hJZDogX3RoaXMyLnJlY2VpcHRPcmRlci53YXJlaG91c2UuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJpYWxOdW1iZXIxOiBpLnNlcmlhbE51bWJlcjEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJpYWxOdW1iZXIyOiBpLnNlcmlhbE51bWJlcjIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2VyaWFsJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVvbTogaS51b20sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IHIubGVuZ3RoID4gMCA/IHJbMF0uY3JlYXRlZEF0IDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGkuc3RhdHVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGs6IHIubGVuZ3RoID4gMCA/IHJbMF0uaWQgOiAnJwogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpLnNlcmlhbE51bWJlcjEgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLml0ZW1MaW5lc1MucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGkuaXRlbSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVvbTogaS51b20sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aElkOiBfdGhpczIucmVjZWlwdE9yZGVyLndhcmVob3VzZS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcmlhbE51bWJlcjE6IGkuc2VyaWFsTnVtYmVyMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcmlhbE51bWJlcjI6IGkuc2VyaWFsTnVtYmVyMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZXJpYWwnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogaS5zdGF0dXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwazogJycKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIub25DbG9zZVMoKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uQ2hhbmdlUE86IGZ1bmN0aW9uIG9uQ2hhbmdlUE8oaXRlbSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhpdGVtLCAnb25jaGFuZ2VQTycpOwogICAgICB0aGlzLnJlY2VpcHRPcmRlci5pdGVtTGluZXMgPSBbXTsKICAgICAgdGhpcy5wdXJjaGFzZU9yZGVyLml0ZW1MaW5lcy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgX3RoaXMzLnJlY2VpcHRPcmRlci5pdGVtTGluZXMucHVzaChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHApLCB7fSwgewogICAgICAgICAgcXR5UmVjZWl2ZWQ6IHAucXR5IC0gcC50b3RhbFJlY2VpdmVkLAogICAgICAgICAgc291cmNlOiAncHVyY2hhc2Ugb3JkZXInCiAgICAgICAgfSkpOwogICAgICB9KTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMucmVjZWlwdE9yZGVyLml0ZW1MaW5lcywgJ2l0ZW1saW5lJyk7CiAgICB9LAogICAgbG9hZFB1cmNoYXNlT3JkZXJzOiBmdW5jdGlvbiBsb2FkUHVyY2hhc2VPcmRlcnMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN1cHBsaWVySWQgPSAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgd2hJZCA9ICIiLAogICAgICAgICAgICAgICAgICAgICAgICB0eG5EYXRlID0gIiI7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczQucmVjZWlwdE9yZGVyLnN1cHBsaWVyKSB7CiAgICAgICAgICAgICAgICAgICAgICBzdXBwbGllcklkID0gX3RoaXM0LnJlY2VpcHRPcmRlci5zdXBwbGllci5pZDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczQucmVjZWlwdE9yZGVyLndhcmVob3VzZSkgewogICAgICAgICAgICAgICAgICAgICAgd2hJZCA9IF90aGlzNC5yZWNlaXB0T3JkZXIud2FyZWhvdXNlLmlkOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNC5yZWNlaXB0T3JkZXIuZGF0ZSkgewogICAgICAgICAgICAgICAgICAgICAgdHhuRGF0ZSA9IF90aGlzNC5yZWNlaXB0T3JkZXIuZGF0ZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHZhciBzdHJGaWx0ZXIgPSAiIjsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHN1cHBsaWVySWQgIT09ICIiICYmIHR4bkRhdGUgIT09ICIiICYmIHdoSWQgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICBzdHJGaWx0ZXIgPSAiP2lkPSIgKyBzdXBwbGllcklkICsgIiZ3aElkPSIgKyB3aElkICsgJyZ3VHlwZT1STyZ0eXBlPVB1cmNoYXNlIE9yZGVyJzsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChzdHJGaWx0ZXIgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2hvd0xvYWRpbmdUeG4gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgc2FsZU9yZGVySGFuZGxlci50cmFuc2FjdGlvbkZpbHRlcihzdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNob3dMb2FkaW5nVHhuID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnB1cmNoYXNlT3JkZXJzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2hvd0xvYWRpbmdUeG4gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25DbG9zZVM6IGZ1bmN0aW9uIG9uQ2xvc2VTKCkgewogICAgICB0aGlzLmRpYWxvZ1MgPSBmYWxzZTsKICAgICAgdGhpcy5zZXJpYWxzID0gW107CiAgICB9LAogICAgcm93TnVtYmVyUzogZnVuY3Rpb24gcm93TnVtYmVyUyhkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmRhdGFTb3VyY2UxLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIGFkZFJvd1NlcmlhbDogZnVuY3Rpb24gYWRkUm93U2VyaWFsKGl0ZW0sIHVvbSwgcXR5KSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXR5OyBpKyspIHsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIGlkOiBpdGVtTGluZVByZWZpeCArIHV1aWQudjEoKSwKICAgICAgICAgIGl0ZW06IGl0ZW0sCiAgICAgICAgICB1b206IHVvbSwKICAgICAgICAgIHNlcmlhbE51bWJlcjE6ICcnLAogICAgICAgICAgc2VyaWFsTnVtYmVyMjogJycsCiAgICAgICAgICB3aElkOiB0aGlzLnJlY2VpcHRPcmRlci53YXJlaG91c2UuaWQsCiAgICAgICAgICBzdGF0dXM6IDEKICAgICAgICB9OwogICAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuZGF0YVNvdXJjZTEua2VuZG9XaWRnZXQoKSwKICAgICAgICAgICAgdG90YWwgPSBkcy50b3RhbCgpOwogICAgICAgIGRzLmluc2VydCh0b3RhbCwgZGF0YSk7CiAgICAgIH0KICAgIH0sCiAgICBkYXRhU291cmNlQ2hhbmdlZFM6IGZ1bmN0aW9uIGRhdGFTb3VyY2VDaGFuZ2VkUyhlKSB7CiAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgdmFyIGRhdGFSb3cgPSBlLml0ZW1zWzBdOwogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhlLCAiZGF0YSBzb3VyY2UgY2hhbmdlIik7CgogICAgICAgIHN3aXRjaCAoZS5maWVsZCkgewogICAgICAgICAgY2FzZSAic2VyaWFsTnVtYmVyMSI6CiAgICAgICAgICAgIGtlbmRvLmpRdWVyeSgidHJbZGF0YS11aWQ9JyIgKyBkYXRhUm93LnVpZCArICInXSIpLmZpbmQoIi5pc1NlcmlhbE51bWJlcjIiKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBpZiAoZGF0YVJvdy5pdGVtLmlzU2VyaWFsTnVtYmVyMSAhPT0gJycpIHsKICAgICAgICAgICAgICAgIGtlbmRvLmpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygiay1zdGF0ZS1kaXNhYmxlZCIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVjb3JkU2VyaWFsOiBmdW5jdGlvbiByZWNvcmRTZXJpYWwoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZCIpLmRhdGEoImtlbmRvR3JpZCIpOwogICAgICB2YXIgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKCQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKCiAgICAgIGlmIChkYXRhSXRlbS5pdGVtLmJhdGNoT3JTZXJpYWwgPT0gMiAmJiBkYXRhSXRlbS5xdHlSZWNlaXZlZCA+IDApIHsKICAgICAgICBpZiAodGhpcy5pdGVtTGluZXNTLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHZhciBzID0gdGhpcy5pdGVtTGluZXNTLmZpbHRlcihmdW5jdGlvbiAocCkgewogICAgICAgICAgICByZXR1cm4gcC5pdGVtLmlkID09PSBkYXRhSXRlbS5pdGVtLmlkOwogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIHRoaXMuYWRkUm93U2VyaWFsKGRhdGFJdGVtLml0ZW0sIGRhdGFJdGVtLnVvbSwgZGF0YUl0ZW0ucXR5UmVjZWl2ZWQpOwogICAgICAgICAgfSBlbHNlIGlmIChzLmxlbmd0aCA8IGRhdGFJdGVtLnF0eVJlY2VpdmVkKSB7CiAgICAgICAgICAgIHRoaXMuc2VyaWFscyA9IHM7CiAgICAgICAgICAgIHRoaXMuYWRkUm93U2VyaWFsKGRhdGFJdGVtLml0ZW0sIGRhdGFJdGVtLnVvbSwgZGF0YUl0ZW0ucXR5UmVjZWl2ZWQgLSBzLmxlbmd0aCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnNlcmlhbHMgPSBzOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmFkZFJvd1NlcmlhbChkYXRhSXRlbS5pdGVtLCBkYXRhSXRlbS51b20sIGRhdGFJdGVtLnF0eVJlY2VpdmVkKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuZGlhbG9nUyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBkYXRhQm91bmRCOiBmdW5jdGlvbiBkYXRhQm91bmRCKGUpIHsKICAgICAgdmFyIGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkQmF0Y2giKS5kYXRhKCJrZW5kb0dyaWQiKTsKICAgICAgdmFyIGl0ZW1zID0gZS5zZW5kZXIuaXRlbXMoKTsKICAgICAgaXRlbXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSh0aGlzKTsKICAgICAgICBrZW5kby5qUXVlcnkoInRyW2RhdGEtdWlkPSciICsgZGF0YUl0ZW0udWlkICsgIiddIikuZmluZCgiLmV4cGlyYXRpb25EYXRlIikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoZGF0YUl0ZW0ubnVtYmVyICE9PSAnJykgewogICAgICAgICAgICBrZW5kby5qUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoImstc3RhdGUtZGlzYWJsZWQiKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgb25TYXZlQmF0Y2g6IGZ1bmN0aW9uIG9uU2F2ZUJhdGNoKCkgewogICAgICBpZiAodGhpcy5hbXRCYXRjaCAtIHRoaXMucXR5UmVjZWl2ZWQgPiAwKSB7CiAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcignUGxlYXNlIGNoZWNrIHlvdXIgUXR5Jyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmdldERhdGFTb3VyY2VCKCk7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLml0ZW1MaW5lc0JhdGNoLCAnaXRlbWxpbmUgYicpOwogICAgfSwKICAgIG9uQ2xvc2VCYXRjaDogZnVuY3Rpb24gb25DbG9zZUJhdGNoKCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLmJhdGNocyA9IFtdOwogICAgfSwKICAgIGdldERhdGFTb3VyY2VCOiBmdW5jdGlvbiBnZXREYXRhU291cmNlQigpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgZHMsIGRhdGFSb3csIGluc3RpdHV0ZUlkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkcyA9IF90aGlzNS4kcmVmcy5kYXRhU291cmNlMi5rZW5kb1dpZGdldCgpOwogICAgICAgICAgICAgICAgZGF0YVJvdyA9IGRzLmRhdGEoKTsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YVJvdy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIGluc3RpdHV0ZUlkID0gX3RoaXM1LiRzdG9yZS5zdGF0ZS5pbnN0aXR1dGUuaW5zdGl0dXRlLmlkOwogICAgICAgICAgICAgICAgICByZWNlaXB0T3JkZXJIYW5kbGVyLmdldEJhdGNoKGRhdGFSb3dbMF0uaXRlbS5pZCwgX3RoaXM1LnJlY2VpcHRPcmRlci53YXJlaG91c2UuaWQsIGluc3RpdHV0ZUlkLCAnYmF0Y2gnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaS5xdHkgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSByZXMuZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcC5udW1iZXIgPT09IGkubnVtYmVyOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuaXRlbUxpbmVzQmF0Y2gucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogci5sZW5ndGggPiAwID8gclswXS5saW5JZCA6IGkuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBpLml0ZW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1b206IGkudW9tLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoSWQ6IF90aGlzNS5yZWNlaXB0T3JkZXIud2FyZWhvdXNlLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IGkuZXhwaXJhdGlvbkRhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdHk6IHIubGVuZ3RoID4gMCA/IHJbMF0ucXR5ICsgaS5xdHkgOiBpLnF0eSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIERRdHk6IHIubGVuZ3RoID4gMCA/IHJbMF0uRFF0eSA6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYmF0Y2gnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBpLnN0YXR1cywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogci5sZW5ndGggPiAwID8gclswXS5jcmVhdGVkQXQgOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBrOiByLmxlbmd0aCA+IDAgPyByWzBdLmlkIDogJycKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaS5xdHkgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1Lml0ZW1MaW5lc0JhdGNoLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGkuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBpLml0ZW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1b206IGkudW9tLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoSWQ6IF90aGlzNS5yZWNlaXB0T3JkZXIud2FyZWhvdXNlLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IGkuZXhwaXJhdGlvbkRhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdHk6IGkucXR5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgRFF0eTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdiYXRjaCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGkuc3RhdHVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGs6ICcnCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM1Lm9uQ2xvc2VCYXRjaCgpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZW1vdmVSb3dCOiBmdW5jdGlvbiByZW1vdmVSb3dCKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRCYXRjaCIpLmRhdGEoImtlbmRvR3JpZCIpLAogICAgICAgICAgZGF0YVNvdXJjZSA9IGdyaWQuZGF0YVNvdXJjZSwKICAgICAgICAgIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbShrZW5kby5qUXVlcnkoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKCiAgICAgIGlmIChkYXRhU291cmNlLnRvdGFsKCkgPiAxKSB7CiAgICAgICAgZGF0YVNvdXJjZS5yZW1vdmUoZGF0YUl0ZW0pOwogICAgICAgIHRoaXMuY2FsY3VhdGVCYXRjaCgpOwogICAgICB9CiAgICB9LAogICAgcm93TnVtYmVyQjogZnVuY3Rpb24gcm93TnVtYmVyQihkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmRhdGFTb3VyY2UyLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIGNhbGN1YXRlQmF0Y2g6IGZ1bmN0aW9uIGNhbGN1YXRlQmF0Y2goKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGRzLCBkYXRhUm93LCBhbW91bnQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRzID0gX3RoaXM2LiRyZWZzLmRhdGFTb3VyY2UyLmtlbmRvV2lkZ2V0KCk7CiAgICAgICAgICAgICAgICBkYXRhUm93ID0gZHMuZGF0YSgpOwogICAgICAgICAgICAgICAgYW1vdW50ID0gMDsKICAgICAgICAgICAgICAgIGRhdGFSb3cuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICBhbW91bnQgKz0gaS5xdHk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzNi5xdHlSZWNlaXZlZCA9IGFtb3VudDsKICAgICAgICAgICAgICAgIF90aGlzNi50b3RhbEJhdGNoID0gX3RoaXM2LmFtdEJhdGNoIC0gYW1vdW50OwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBudW1iZXJFZGl0b3JCOiBmdW5jdGlvbiBudW1iZXJFZGl0b3JCKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBkYXRhLWJpbmQ9InZhbHVlOicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9OdW1lcmljVGV4dEJveCh7CiAgICAgICAgZGVjaW1hbHM6IDMwLAogICAgICAgIG1pbjogMCwKICAgICAgICBtYXg6IHRoaXMudG90YWxCYXRjaAogICAgICB9KTsKICAgIH0sCiAgICBkYXRhU291cmNlQ2hhbmdlZEI6IGZ1bmN0aW9uIGRhdGFTb3VyY2VDaGFuZ2VkQihlKSB7CiAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgdmFyIGRhdGFSb3cgPSBlLml0ZW1zWzBdOwogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhlLCAiZGF0YSBzb3VyY2UgY2hhbmdlIik7CgogICAgICAgIHN3aXRjaCAoZS5maWVsZCkgewogICAgICAgICAgY2FzZSAibnVtYmVyIjoKICAgICAgICAgICAga2VuZG8ualF1ZXJ5KCJ0cltkYXRhLXVpZD0nIiArIGRhdGFSb3cudWlkICsgIiddIikuZmluZCgiLmV4cGlyYXRpb25EYXRlIikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgaWYgKGRhdGFSb3cubnVtYmVyICE9PSAnJykgewogICAgICAgICAgICAgICAga2VuZG8ualF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKCJrLXN0YXRlLWRpc2FibGVkIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChkYXRhUm93LnF0eSA+IDApIHsKICAgICAgICAgICAgICB0aGlzLmNhbGN1YXRlQmF0Y2goKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAiZXhwaXJhdGlvbkRhdGUiOgogICAgICAgICAgICBpZiAoZGF0YVJvdy5xdHkgPiAwKSB7CiAgICAgICAgICAgICAgdGhpcy5jYWxjdWF0ZUJhdGNoKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGtlbmRvLmpRdWVyeSgidHJbZGF0YS11aWQ9JyIgKyBkYXRhUm93LnVpZCArICInXSIpLmZpbmQoIi5leHBpcmF0aW9uRGF0ZSIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGlmIChkYXRhUm93Lm51bWJlciAhPT0gJycpIHsKICAgICAgICAgICAgICAgIGtlbmRvLmpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygiay1zdGF0ZS1kaXNhYmxlZCIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgInF0eSI6CiAgICAgICAgICAgIHRoaXMuY2FsY3VhdGVCYXRjaCgpOwogICAgICAgICAgICBrZW5kby5qUXVlcnkoInRyW2RhdGEtdWlkPSciICsgZGF0YVJvdy51aWQgKyAiJ10iKS5maW5kKCIuZXhwaXJhdGlvbkRhdGUiKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBpZiAoZGF0YVJvdy5udW1iZXIgIT09ICcnKSB7CiAgICAgICAgICAgICAgICBrZW5kby5qUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoImstc3RhdGUtZGlzYWJsZWQiKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhZGRSb3dCOiBmdW5jdGlvbiBhZGRSb3dCKCkgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBpZDogaXRlbUxpbmVQcmVmaXggKyB1dWlkLnYxKCksCiAgICAgICAgaXRlbTogdGhpcy5pdGVtQmF0Y2gsCiAgICAgICAgdW9tOiB0aGlzLnVvbUJhdGNoLAogICAgICAgIG51bWJlcjogJycsCiAgICAgICAgZXhwaXJhdGlvbkRhdGU6ICcnLAogICAgICAgIHdoSWQ6IHRoaXMucmVjZWlwdE9yZGVyLndhcmVob3VzZS5pZCwKICAgICAgICBxdHk6IDAsCiAgICAgICAgc3RhdHVzOiAxCiAgICAgIH07CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuZGF0YVNvdXJjZTIua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHRvdGFsID0gZHMudG90YWwoKTsKICAgICAgZHMuaW5zZXJ0KHRvdGFsLCBkYXRhKTsKICAgIH0sCiAgICByZWNvcmRCYXRjaDogZnVuY3Rpb24gcmVjb3JkQmF0Y2goZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZCIpLmRhdGEoImtlbmRvR3JpZCIpOwogICAgICB2YXIgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKCQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKICAgICAgdGhpcy5pdGVtQmF0Y2ggPSBkYXRhSXRlbS5pdGVtOwogICAgICB0aGlzLnVvbUJhdGNoID0gZGF0YUl0ZW0udW9tOwoKICAgICAgaWYgKGRhdGFJdGVtLml0ZW0uYmF0Y2hPclNlcmlhbCA9PSAxICYmIGRhdGFJdGVtLnF0eVJlY2VpdmVkID4gMCkgewogICAgICAgIHRoaXMuYW10QmF0Y2ggPSBkYXRhSXRlbS5xdHlSZWNlaXZlZDsKCiAgICAgICAgaWYgKHRoaXMuaXRlbUxpbmVzQmF0Y2gubGVuZ3RoID4gMCkgewogICAgICAgICAgdmFyIGFtb3VudCA9IDA7CiAgICAgICAgICB0aGlzLmJhdGNocyA9IHRoaXMuaXRlbUxpbmVzQmF0Y2guZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICAgIHJldHVybiBwLml0ZW0uaWQgPT09IGRhdGFJdGVtLml0ZW0uaWQ7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuYmF0Y2hzLmZvckVhY2goZnVuY3Rpb24gKHApIHsKICAgICAgICAgICAgYW1vdW50ICs9IHAucXR5OwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnRvdGFsQmF0Y2ggPSB0aGlzLmFtdEJhdGNoIC0gYW1vdW50IHx8IDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuYWRkUm93QigpOwogICAgICAgICAgdGhpcy50b3RhbEJhdGNoID0gZGF0YUl0ZW0ucXR5UmVjZWl2ZWQ7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBvbmxvYWREZWxpdmVyeUFnZW5jeTogZnVuY3Rpb24gb25sb2FkRGVsaXZlcnlBZ2VuY3koKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBkZWxpdmVyeU9yZGVySGFuZGxlci5nZXRBbGxBZ2VuY3koKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3LmRlbGl2ZXJ5QWdlbmNpZXMgPSByZXM7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbnVtYmVyRWRpdG9yOiBmdW5jdGlvbiBudW1iZXJFZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IGRhdGEtYmluZD0idmFsdWU6JyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb051bWVyaWNUZXh0Qm94KHsKICAgICAgICBkZWNpbWFsczogMzAsCiAgICAgICAgbWluOiAwLAogICAgICAgIG1heDogb3B0aW9ucy5tb2RlbC5zb3VyY2UgPT09ICdwdXJjaGFzZSBvcmRlcicgPyBvcHRpb25zLm1vZGVsLnF0eSAtIG9wdGlvbnMubW9kZWwudG90YWxSZWNlaXZlZCA6IDIgXiAxMDAwMDAwMDAKICAgICAgfSk7CiAgICB9LAogICAgaGVhZGVyVGVtcGxhdGU6IGZ1bmN0aW9uIGhlYWRlclRlbXBsYXRlKCkgewogICAgICByZXR1cm4gIjxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9J2hlYWRlci1jaGInIGNsYXNzPSdrLWNoZWNrYm94IGhlYWRlci1jaGVja2JveCc+IjsKICAgIH0sCiAgICBIZWxwOiBmdW5jdGlvbiBIZWxwKGtleSkgewogICAgICBTaG93UmVzb3VyY2Uoa2V5KTsKICAgIH0sCiAgICBkYXRhU291cmNlQ2hhbmdlZDogZnVuY3Rpb24gZGF0YVNvdXJjZUNoYW5nZWQoZSkgewogICAgICBpZiAoZS5maWVsZCkgewogICAgICAgIHZhciBkYXRhUm93ID0gZS5pdGVtc1swXTsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coZSwgImRhdGEgc291cmNlIGNoYW5nZSIpOwoKICAgICAgICBzd2l0Y2ggKGUuZmllbGQpIHsKICAgICAgICAgIGNhc2UgIml0ZW0iOgogICAgICAgICAgICBrZW5kby5qUXVlcnkoInRyW2RhdGEtdWlkPSciICsgZGF0YVJvdy51aWQgKyAiJ10iKS5maW5kKCIuaXNTZXJpYWxOdW1iZXIiKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBpZiAoZGF0YVJvdy5pdGVtLmJhdGNoT3JTZXJpYWwgPT0gMikgewogICAgICAgICAgICAgICAga2VuZG8ualF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKCJrLXN0YXRlLWRpc2FibGVkIik7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGtlbmRvLmpRdWVyeSh0aGlzKS5hZGRDbGFzcygiay1zdGF0ZS1kaXNhYmxlZCIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGtlbmRvLmpRdWVyeSgidHJbZGF0YS11aWQ9JyIgKyBkYXRhUm93LnVpZCArICInXSIpLmZpbmQoIi5pc0JhdGNoIikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgaWYgKGRhdGFSb3cuaXRlbS5iYXRjaE9yU2VyaWFsID09PSAxKSB7CiAgICAgICAgICAgICAgICBrZW5kby5qUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoImstc3RhdGUtZGlzYWJsZWQiKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAga2VuZG8ualF1ZXJ5KHRoaXMpLmFkZENsYXNzKCJrLXN0YXRlLWRpc2FibGVkIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAga2VuZG8ualF1ZXJ5KCJ0cltkYXRhLXVpZD0nIiArIGRhdGFSb3cudWlkICsgIiddIikuZmluZCgiLmlzVU9NIikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgaWYgKGRhdGFSb3cuc291cmNlID09PSAnJykgewogICAgICAgICAgICAgICAga2VuZG8ualF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKCJrLXN0YXRlLWRpc2FibGVkIik7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGtlbmRvLmpRdWVyeSh0aGlzKS5hZGRDbGFzcygiay1zdGF0ZS1kaXNhYmxlZCIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgInF0eSI6CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIEV4cGlyYXRpb25EYXRlVG9UZW1wbGF0ZTogZnVuY3Rpb24gRXhwaXJhdGlvbkRhdGVUb1RlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHZhciBleHBpcmF0aW9uRGF0ZSA9IGRhdGFJdGVtLmV4cGlyYXRpb25EYXRlOwoKICAgICAgaWYgKGV4cGlyYXRpb25EYXRlKSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChleHBpcmF0aW9uRGF0ZSA/IGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKGV4cGlyYXRpb25EYXRlKSwgImRkLU1NLXl5eXkiKSA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIGRhdGFCb3VuZDogZnVuY3Rpb24gZGF0YUJvdW5kKGUpIHsKICAgICAgdmFyIGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkIikuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgIHZhciBpdGVtcyA9IGUuc2VuZGVyLml0ZW1zKCk7CiAgICAgIGl0ZW1zLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0odGhpcyk7CiAgICAgICAga2VuZG8ualF1ZXJ5KCJ0cltkYXRhLXVpZD0nIiArIGRhdGFJdGVtLnVpZCArICInXSIpLmZpbmQoIi5pc1NlcmlhbE51bWJlciIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKGRhdGFJdGVtLml0ZW0uYmF0Y2hPclNlcmlhbCA9PSAyKSB7CiAgICAgICAgICAgIGtlbmRvLmpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygiay1zdGF0ZS1kaXNhYmxlZCIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAga2VuZG8ualF1ZXJ5KHRoaXMpLmFkZENsYXNzKCJrLXN0YXRlLWRpc2FibGVkIik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAga2VuZG8ualF1ZXJ5KCJ0cltkYXRhLXVpZD0nIiArIGRhdGFJdGVtLnVpZCArICInXSIpLmZpbmQoIi5pc0JhdGNoIikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoZGF0YUl0ZW0uaXRlbS5iYXRjaE9yU2VyaWFsID09IDEpIHsKICAgICAgICAgICAga2VuZG8ualF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKCJrLXN0YXRlLWRpc2FibGVkIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBrZW5kby5qUXVlcnkodGhpcykuYWRkQ2xhc3MoImstc3RhdGUtZGlzYWJsZWQiKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBrZW5kby5qUXVlcnkoInRyW2RhdGEtdWlkPSciICsgZGF0YUl0ZW0udWlkICsgIiddIikuZmluZCgiLmlzVU9NIikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoZGF0YUl0ZW0uc291cmNlID09PSAnJykgewogICAgICAgICAgICBrZW5kby5qUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoImstc3RhdGUtZGlzYWJsZWQiKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGtlbmRvLmpRdWVyeSh0aGlzKS5hZGRDbGFzcygiay1zdGF0ZS1kaXNhYmxlZCIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRSb3c6IGZ1bmN0aW9uIGFkZFJvdygpIHsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgaWQ6IGl0ZW1MaW5lUHJlZml4ICsgdXVpZC52MSgpLAogICAgICAgIGl0ZW06IHsKICAgICAgICAgIG5hbWU6ICIiCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgcXR5OiAwLAogICAgICAgIHVvbToge30sCiAgICAgICAgdG90YWxSZWNlaXZlZDogMCwKICAgICAgICBxdHlSZWNlaXZlZDogMCwKICAgICAgICBzb3VyY2U6ICcnCiAgICAgIH07CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuZGF0YVNvdXJjZS5rZW5kb1dpZGdldCgpLAogICAgICAgICAgdG90YWwgPSBkcy50b3RhbCgpOwogICAgICBkcy5pbnNlcnQodG90YWwsIGRhdGEpOwogICAgICB0aGlzLnF0eUFkZCA9IDA7CiAgICB9LAogICAgRXhwaXJhdGlvbkRhdGVUb0VkaXRvcjogZnVuY3Rpb24gRXhwaXJhdGlvbkRhdGVUb0VkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgcmVxdWlyZWQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0RhdGVQaWNrZXIoKTsKICAgIH0sCiAgICBJdGVtRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIEl0ZW1Ecm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogImNvbnRhaW5zIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgaGVhZGVyVGVtcGxhdGU6ICc8ZGl2IGNsYXNzPSJkcm9wZG93bi1oZWFkZXIgay13aWRnZXQgay1oZWFkZXIiPicgKyAiPHNwYW4+SXRlbXMgPC9zcGFuPiIgKyAiPHNwYW4+PC9zcGFuPiIgKyAiPC9kaXY+IiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bmFtZSM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIHNlcnZlckZpbHRlcmluZzogdHJ1ZSwKICAgICAgICAgIHRyYW5zcG9ydDogewogICAgICAgICAgICByZWFkOiB7CiAgICAgICAgICAgICAgdXJsOiBwcm9kdWN0VmFyaWFudEhhbmRsZXIuaXRlbVNlYXJjaFVSTCgpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbmFtZTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNrdTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmZpbHRlcihmdW5jdGlvbiAocCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHAudHlwZSA9PT0gJ1ZhcmlhbnQnOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHApIHsKICAgICAgICAgICAgICAgIHJldHVybiBwLnR5cGUgPT09ICdWYXJpYW50JzsKICAgICAgICAgICAgICB9KS5sZW5ndGg7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy8gZGF0YTogdGhpcy52YXJpYW50cwoKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBVT01Ecm9wRG93bkVkaXRvcjogZnVuY3Rpb24gVU9NRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGlmIChvcHRpb25zLm1vZGVsLnNvdXJjZSA9PT0gJycpIHsKICAgICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICAgIGRhdGFUZXh0RmllbGQ6ICJ1b20ubmFtZSIsCiAgICAgICAgICBkYXRhVmFsdWVGaWVsZDogInVvbS5pZCIsCiAgICAgICAgICBjYXNjYWRlRnJvbTogIml0ZW0iLAogICAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPXVvbS5uYW1lIzwvc3Bhbj4iLAogICAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgICAgc2VydmVyRmlsdGVyaW5nOiB0cnVlLAogICAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgICByZWFkOiB7CiAgICAgICAgICAgICAgICB1cmw6IHVvbVByaWNlSGFuZGxlci51b21QcmljZUJ5UHJpY2VMZXZlbFVSTCgiaWQ9IiArIG9wdGlvbnMubW9kZWwuaXRlbS5pZCArICImcGxJZD0iICsgdGhpcy5yZWNlaXB0T3JkZXIucHJpY2VMZXZlbC5pZCArICImZGF0ZT0iICsgdGhpcy5yZWNlaXB0T3JkZXIuZGF0ZSkKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2NoZW1hOiB7CiAgICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgICAgICAgZmllbGRzOiB7CiAgICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgICAgfSAvLyBuYW1lOiB7dHlwZTogInN0cmluZyJ9LAogICAgICAgICAgICAgICAgICAvLyBza3U6IHt0eXBlOiAic3RyaW5nIn0sCgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSAvLyBkYXRhOiB0aGlzLnZhcmlhbnRzCgogICAgICAgICAgfSkKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBVT01UZW1wbGF0ZTogZnVuY3Rpb24gVU9NVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIHVvbSA9IGRhdGFJdGVtLnVvbTsKCiAgICAgIGlmICh1b20pIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KHVvbS51b20gPyB1b20udW9tLm5hbWUgOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmVSb3c6IGZ1bmN0aW9uIHJlbW92ZVJvdyhlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkIikuZGF0YSgia2VuZG9HcmlkIiksCiAgICAgICAgICBkYXRhU291cmNlID0gZ3JpZC5kYXRhU291cmNlLAogICAgICAgICAgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKGtlbmRvLmpRdWVyeShlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwoKICAgICAgaWYgKGRhdGFTb3VyY2UudG90YWwoKSA+IDEpIHsKICAgICAgICBkYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7CiAgICAgIH0KICAgIH0sCiAgICByb3dOdW1iZXI6IGZ1bmN0aW9uIHJvd051bWJlcihkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmRhdGFTb3VyY2Uua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgb25sb2FkV2FyZWhvdXNlOiBmdW5jdGlvbiBvbmxvYWRXYXJlaG91c2UoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB3YXJlaG91c2VIYW5kbGVyLmdldFdhcmVob3VzZVNldHRpbmdBbGwoKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC53YXJlaG91c2VzID0gcmVzOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczgud2FyZWhvdXNlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5yZWNlaXB0T3JkZXIud2FyZWhvdXNlID0gX3RoaXM4LndhcmVob3VzZXNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25DaGFuZ2VXYXJlaG91c2U6IGZ1bmN0aW9uIG9uQ2hhbmdlV2FyZWhvdXNlKCkgey8vIGF3YWl0IHRoaXMubG9hZFpvbmUocmVjZWlwdE9yZGVyLndhcmVob3VzZS5pZCkKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICB2YXIgdmFsdWU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHZhbHVlID0gZXZlbnQudmFsdWU7CgogICAgICAgICAgICAgICAgaWYgKCEodmFsdWUgJiYgdmFsdWVbdGV4dEZpZWxkXSA9PT0gZW1wdHlJdGVtW3RleHRGaWVsZF0pKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfdGhpczkuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHZhbHVlKTsKICAgICAgICAgICAgICAgIF90aGlzOS5yZWNlaXB0T3JkZXIuc3VwcGxpZXIgPSB2YWx1ZTsKICAgICAgICAgICAgICAgIF90aGlzOS5yZWNlaXB0T3JkZXIucHJpY2VMZXZlbCA9IHZhbHVlLnByaWNlTGV2ZWw7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM5LmxvYWRQdXJjaGFzZU9yZGVycygpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbmxvYWRQdXJjaGFzZTogZnVuY3Rpb24gb25sb2FkUHVyY2hhc2UoaWQpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBwdXJjaGFzZUhhbmRsZXIuYnlDdXN0b21lcihpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMsICJsaXN0IHB1cmNoYXNlIGJ5IGN1c3RvbWVyIik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXMxMC5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uRmlsdGVyQ2hhbmdlOiBmdW5jdGlvbiBvbkZpbHRlckNoYW5nZShldmVudCkgewogICAgICB2YXIgZmlsdGVyID0gZXZlbnQuZmlsdGVyLnZhbHVlOwogICAgICB0aGlzLnJlcXVlc3REYXRhKDAsIGZpbHRlciwgdGhpcy5zdXBwbGllckJhc2VVcmwpOwogICAgICB0aGlzLmZpbHRlciA9IGZpbHRlcjsKICAgIH0sCiAgICByZXF1ZXN0RGF0YTogZnVuY3Rpb24gcmVxdWVzdERhdGEoc2tpcCwgZmlsdGVyLCBiYXNlVXJsKSB7CiAgICAgIHZhciB1cmwgPSBiYXNlVXJsICsgIi8iLmNvbmNhdChmaWx0ZXIpOwogICAgICB0aGlzLnJlcXVlc3RTdGFydGVkID0gdHJ1ZTsKICAgICAgZmV0Y2godXJsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyhyZXNwb25zZS5qc29uKCkpCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgfSkudGhlbih0aGlzLmFmdGVyRmV0Y2gpOwogICAgfSwKICAgIGFmdGVyRmV0Y2g6IGZ1bmN0aW9uIGFmdGVyRmV0Y2goanNvbikgewogICAgICB0aGlzLnN1cHBsaWVyTGlzdCA9IGpzb24uZGF0YTsKICAgIH0sCiAgICBsb2FkUHJlZml4OiBmdW5jdGlvbiBsb2FkUHJlZml4KCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczExLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgcHJlZml4SGFuZGxlci5nZXQoInJlY2VpcHQgb3JkZXIiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEudHJhbnNhY3Rpb25UeXBlcyA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMS50cmFuc2FjdGlvblR5cGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczExLnJlY2VpcHRPcmRlci50cmFuc2FjdGlvblR5cGUgPSBfdGhpczExLnRyYW5zYWN0aW9uVHlwZXNbMF07CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczExLiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5nZW5lcmF0ZU51bWJlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSk7IC8vIGF3YWl0IHRoaXMub25sb2FkQmF0Y2goKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTEub25sb2FkV2FyZWhvdXNlKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMS5vbmxvYWREZWxpdmVyeUFnZW5jeSgpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAvLyBhd2FpdCB0aGlzLmxvYWRQcm9qZWN0cygpCiAgICAgICAgICAgICAgICAvLyBhd2FpdCB0aGlzLmxvYWRTZWdtZW50KCkKICAgICAgICAgICAgICAgIC8vIGF3YWl0IHRoaXMubG9hZFpvbmUodGhpcy53YXJlaG91c2VzWzBdLmlkKQogICAgICAgICAgICAgICAgX3RoaXMxMS5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdlbmVyYXRlTnVtYmVyOiBmdW5jdGlvbiBnZW5lcmF0ZU51bWJlcigpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgYWJicjogdGhpcy5yZWNlaXB0T3JkZXIudHJhbnNhY3Rpb25UeXBlLmFiYnIsCiAgICAgICAgc3RydWN0dXJlOiB0aGlzLnJlY2VpcHRPcmRlci50cmFuc2FjdGlvblR5cGUuc3RydWN0dXJlLAogICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogdGhpcy5yZWNlaXB0T3JkZXIuZGF0ZSwKICAgICAgICBzZXF1Y2VuY2luZzogdGhpcy5yZWNlaXB0T3JkZXIudHJhbnNhY3Rpb25UeXBlLnNlcXVjZW5jaW5nLAogICAgICAgIHR5cGU6ICJSZWNlaXB0IE9yZGVyIiwKICAgICAgICBlbnRpdHk6IDMKICAgICAgfTsKICAgICAgdGhpcy5yZWNlaXB0T3JkZXIuYWJiciA9IGRhdGEuYWJicjsKICAgICAgdGhpcy5yZWNlaXB0T3JkZXIuc3RydWN0dXJlID0gZGF0YS5zdHJ1Y3R1cmU7CiAgICAgIHRoaXMucmVjZWlwdE9yZGVyLnNlcXVjZW5jaW5nID0gZGF0YS5zZXF1Y2VuY2luZzsKICAgICAgdGhpcy5yZWNlaXB0T3JkZXIudHlwZSA9IGRhdGEudHlwZTsKICAgICAgdGhpcy5yZWNlaXB0T3JkZXIudHJhbnNhY3Rpb25EYXRlID0gZGF0YS50cmFuc2FjdGlvbkRhdGU7CiAgICAgIGJpbGxpbmdIYW5kbGVyLmxhc3ROdW1iZXIoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgIHZhciByZXMgPSByZXNwb25zZS5kYXRhLmRhdGE7CgogICAgICAgICAgdmFyIGxhc3ROdW1iZXIgPSBfdGhpczEyLnplcm9QYWQocGFyc2VJbnQocmVzLmxhc3ROdW1iZXIpLCBfdGhpczEyLnJlY2VpcHRPcmRlci50cmFuc2FjdGlvblR5cGUuZm9ybWF0KTsKCiAgICAgICAgICBfdGhpczEyLnJlY2VpcHRPcmRlci5udW1iZXIgPSByZXMuc3VmZml4ICsgX3RoaXMxMi5yZWNlaXB0T3JkZXIudHJhbnNhY3Rpb25UeXBlLm51bWJlclNlcGFyYXRvciArIGxhc3ROdW1iZXI7CiAgICAgICAgICBfdGhpczEyLnJlY2VpcHRPcmRlci5sYXN0TnVtYmVyID0gcmVzLnN1ZmZpeCArIGxhc3ROdW1iZXI7CiAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coX3RoaXMxMi5yZWNlaXB0T3JkZXIubnVtYmVyLCAiYm9tIik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMTIuZXJyb3JzLnB1c2goZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHplcm9QYWQ6IGZ1bmN0aW9uIHplcm9QYWQobnVtLCBwbGFjZXMpIHsKICAgICAgcmV0dXJuIFN0cmluZyhudW0pLnBhZFN0YXJ0KHBsYWNlcywgIjAiKTsKICAgIH0sCiAgICBzdWZmaXg6IGZ1bmN0aW9uIHN1ZmZpeCh0cmFuc2FjdGlvbkRhdGUpIHsKICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKHRyYW5zYWN0aW9uRGF0ZSksICJ5eW1tIik7CiAgICB9LAogICAgc2F2ZVByaW50OiBmdW5jdGlvbiBzYXZlUHJpbnQoKSB7fSwKICAgIGdldERhdGFTb3VyY2U6IGZ1bmN0aW9uIGdldERhdGFTb3VyY2UoKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICB2YXIgZHMsIGRhdGFSb3c7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkcyA9IF90aGlzMTMuJHJlZnMuZGF0YVNvdXJjZS5rZW5kb1dpZGdldCgpOwogICAgICAgICAgICAgICAgZGF0YVJvdyA9IGRzLmRhdGEoKTsKICAgICAgICAgICAgICAgIF90aGlzMTMuaXRlbUxpbmVzID0gW107CiAgICAgICAgICAgICAgICBkYXRhUm93LmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgaWYgKGkucXR5UmVjZWl2ZWQgPiAwICYmIGkuc291cmNlID09PSAncHVyY2hhc2Ugb3JkZXInKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBpOwogICAgICAgICAgICAgICAgICAgIGxpbmUudG90YWxSZWNlaXZlZCA9IGkucXR5UmVjZWl2ZWQ7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMTMucG9JdGVtTGluZS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGkuaXRlbSwKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uVHlwZTogX3RoaXMxMy5wdXJjaGFzZU9yZGVyLnRyYW5zYWN0aW9uVHlwZSwKICAgICAgICAgICAgICAgICAgICAgIHVvbTogaS51b20sCiAgICAgICAgICAgICAgICAgICAgICBpZDogaS5pZCwKICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogX3RoaXMxMy5wdXJjaGFzZU9yZGVyLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGkuaXRlbS5pZCwKICAgICAgICAgICAgICAgICAgICAgIHF0eTogaS5xdHksCiAgICAgICAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbChsaW5lKSwKICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZWQ6IDAsCiAgICAgICAgICAgICAgICAgICAgICBwcmljZTogMCwKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQdXJjaGFzZSBPcmRlcicsCiAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcjoge30sCiAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGkuc3RhdHVzLAogICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBpLmNyZWF0ZWRBdAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczEzLml0ZW1MaW5lcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBpZDogaS5pZCwKICAgICAgICAgICAgICAgICAgICBpdGVtOiBpLml0ZW0sCiAgICAgICAgICAgICAgICAgICAgcXR5OiBpLnF0eSwKICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogaS5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICB1b206IGkudW9tLAogICAgICAgICAgICAgICAgICAgIHRvdGFsUmVjZWl2ZWQ6IGkudG90YWxSZWNlaXZlZCwKICAgICAgICAgICAgICAgICAgICBxdHlSZWNlaXZlZDogaS5xdHlSZWNlaXZlZAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNhdmVOZXc6IGZ1bmN0aW9uIHNhdmVOZXcoKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMTQuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE0LmdldERhdGFTb3VyY2UoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKF90aGlzMTQucG9JdGVtTGluZSwgX3RoaXMxNC5wdXJjaGFzZU9yZGVyLmlkLCAncG9JdGVtTGluZScpOwoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTQucG9JdGVtTGluZS5sZW5ndGggPiAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHdhcmVob3VzZUhhbmRsZXIuYWRkSXRlbUxpbmUoX3RoaXMxNC5wdXJjaGFzZU9yZGVyLmlkLCBfdGhpczE0LnBvSXRlbUxpbmUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSAhPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC4kc25vdGlmeS5lcnJvcignRXJyb3IgVXBkYXRlIEl0ZW1MaW5lISEhJyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfdGhpczE0LnJlY2VpcHRPcmRlci5wdXJjaGFzZU9yZGVySWQgPSBfdGhpczE0LnB1cmNoYXNlT3JkZXIgPyBfdGhpczE0LnB1cmNoYXNlT3JkZXIuaWQgOiAnJzsKICAgICAgICAgICAgICAgIF90aGlzMTQucmVjZWlwdE9yZGVyLnB1cmNoYXNlT3JkZXJSZWYgPSBfdGhpczE0LnB1cmNoYXNlT3JkZXIgPyBfdGhpczE0LnB1cmNoYXNlT3JkZXIucmVmZXJlbmNlTm8gOiAnJzsKICAgICAgICAgICAgICAgIF90aGlzMTQucmVjZWlwdE9yZGVyLml0ZW1MaW5lcyA9IF90aGlzMTQuaXRlbUxpbmVzOwogICAgICAgICAgICAgICAgX3RoaXMxNC5yZWNlaXB0T3JkZXIuaXRlbUxpbmVzU2VyaWFsID0gX3RoaXMxNC5pdGVtTGluZXNTOwogICAgICAgICAgICAgICAgX3RoaXMxNC5yZWNlaXB0T3JkZXIuaXRlbUxpbmVzQmF0Y2ggPSBfdGhpczE0Lml0ZW1MaW5lc0JhdGNoOwogICAgICAgICAgICAgICAgX3RoaXMxNC5yZWNlaXB0T3JkZXIudHJhbnNhY3Rpb25EYXRlID0gX3RoaXMxNC5yZWNlaXB0T3JkZXIuZGF0ZTsKICAgICAgICAgICAgICAgIHJlY2VpcHRPcmRlckhhbmRsZXIuc2F2ZShfdGhpczE0LnJlY2VpcHRPcmRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgICBfdGhpczE0LmlzQ2xvc2UgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTQuY2FuY2VsKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczE0LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2F2ZUNsb3NlOiBmdW5jdGlvbiBzYXZlQ2xvc2UoKSB7fSwKICAgIGVycm9yTWVzc2FnZTogZnVuY3Rpb24gZXJyb3JNZXNzYWdlKCkge30sCiAgICBhY2NvdW50RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIGFjY291bnREcm9wRG93bkVkaXRvcigpIHt9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMuaXRlbUxpbmVzID0gW107CiAgICAgIHRoaXMucG9JdGVtTGluZSA9IFtdOwogICAgICB0aGlzLml0ZW1MaW5lc1MgPSBbXTsKICAgICAgdGhpcy5pdGVtTGluZXNCYXRjaCA9IFtdOwogICAgICB0aGlzLmJhdGNocyA9IFtdOwogICAgICB0aGlzLnNlcmlhbHMgPSBbXTsKICAgICAgdGhpcy5wdXJjaGFzZU9yZGVycyA9IFtdOwogICAgICB0aGlzLnB1cmNoYXNlT3JkZXIgPSB7fTsKICAgICAgdGhpcy5pdGVtQmF0Y2ggPSB7fTsKICAgICAgdGhpcy5yZWNlaXB0T3JkZXIgPSByZWNlaXB0T3JkZXI7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9LAogICAgaGlkZV9zbWFsbHNpdGViYXI6IGZ1bmN0aW9uIGhpZGVfc21hbGxzaXRlYmFyKCkgewogICAgICBpZiAoIXRoaXMuaXNIaWRlQmFyKSB7CiAgICAgICAgLy8gdGhpcy5jb2xfZXhwYW5kID0gMTIKICAgICAgICAvLyB0aGlzLmNvbF9oaWRlID0gMAogICAgICAgIHRoaXMuaXNIaWRlQmFyID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyB0aGlzLmNvbF9leHBhbmQgPSA5CiAgICAgICAgLy8gdGhpcy5jb2xfaGlkZSA9IDMKICAgICAgICB0aGlzLmlzSGlkZUJhciA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogey8vIGNhbGwgYWdhaW4gdGhlIG1ldGhvZCBpZiB0aGUgcm91dGUgY2hhbmdlcwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsvLyBmZXRjaCB0aGUgZGF0YSB3aGVuIHRoZSB2aWV3IGlzIGNyZWF0ZWQgYW5kIHRoZSBkYXRhIGlzCiAgICAvLyBhbHJlYWR5IGJlaW5nIG9ic2VydmVkCiAgICAvLyB0aGlzLmxvYWRPYmooKQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzMTUucmVxdWVzdERhdGEoMCwgIiIsIHN1cHBsaWVySGFuZGxlci51cmwoKSk7CgogICAgICAgICAgICAgIF90aGlzMTUuYWRkUm93KCk7CgogICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTUubG9hZFByZWZpeCgpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["ReceiptOrder.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\"\n                    >\n                        <v-row>\n                            <v-col\n                                class=\"bigSide py-0\"\n                                sm=\"12\"\n                                cols=\"12\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_big_bar_class: isHideBar }\"\n                            >\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">{{ $t(\"receipt_order\") }}</h2>\n                                        <v-icon\n                                            @click=\"cancel\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                    </v-card>\n\n                                    <v-card\n                                        outlined\n                                        dense\n                                        class=\"px-4 no_border mb-3\"\n                                        color=\"grayBg\"\n                                    >\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{ $t(\"supplier\") }}</label>\n                                                <v-col\n                                                    sm=\"12\"\n                                                    cols=\"12\"\n                                                    style=\"margin-top:1px;\"\n                                                    class=\"kendo_dropdown_custom pl-0 pb-4 pr-0  pt-0\"\n                                                >\n                                                    <dropdownlist\n                                                        :data-items=\"supplierList\"\n                                                        @change=\"onChange\"\n                                                        v-model=\"receiptOrder.supplier\"\n                                                        :value=\"receiptOrder.supplier\"\n                                                        :data-item-key=\"dataItemKey\"\n                                                        :text-field=\"textField\"\n                                                        :default-item=\"defaultItem\"\n                                                        :filterable=\"true\"\n                                                        @filterchange=\"onFilterChange\"\n                                                    >\n                                                    </dropdownlist>\n                                                </v-col>\n                                                <label class=\"label\">{{ $t(\"number\") }}</label>\n                                                <div class=\"mt-1 d-flex\">\n                                                    <div class=\"code_text flex-1 text-bold\">\n                                                        {{ receiptOrder.abbr }}\n                                                    </div>\n\n                                                    <v-text-field\n                                                        class=\"flex-2 custom-border \"\n                                                        v-model=\"receiptOrder.number\"\n                                                        outlined\n                                                        disabled\n                                                        :rules=\"[(v) => !!v || 'Number is required']\"\n                                                        required\n                                                    />\n                                                    <v-icon\n                                                        color=\"black\"\n                                                        size=\"30\"\n                                                        style=\"height: 40px;\"\n                                                        class=\"border_qrcode ml-2\"\n                                                        @click=\"generateNumber\"\n                                                    >mdi-qrcode\n                                                    </v-icon>\n                                                </div>\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{ $t(\"date\") }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"receiptOrder.date\"\n                                                    @onChanged=\"generateNumber\"\n                                                    @emitDate=\"receiptOrder.date = $event\"\n                                                />\n                                                <label class=\"label\">{{ $t(\"reference\") }}</label>\n                                                <v-select :items=\"purchaseOrders\" @change=\"onChangePO\"\n                                                          v-model=\"purchaseOrder\" return-object\n                                                          :loading=\"purchaseOrders.length <= 0 && showLoadingTxn\"\n                                                          item-text=\"referenceNo\" item-value=\"id\" outlined\n                                                          class=\"mt-1\"/>\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{ $t(\"warehouse\") }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :items=\"warehouses\"\n                                                    item-text=\"name\"\n                                                    item-value=\"id\"\n                                                    @change=\"onChangeWarehouse\"\n                                                    v-model=\"receiptOrder.warehouse\"\n                                                    :rules=\"[(v) => !!v || 'Warehouse is required']\"\n                                                    return-object\n                                                    tage=\"Warehouse\"\n                                                    outlined\n                                                />\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-row color=\"white\">\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                            <kendo-datasource\n                                                ref=\"dataSource\"\n                                                @change=\"dataSourceChanged\"\n                                                :data=\"receiptOrder.itemLines\"\n                                            />\n                                            <kendo-grid\n                                                id=\"grid\"\n                                                class=\"grid-function\"\n                                                :data-source-ref=\"'dataSource'\"\n                                                :sortable=\"false\"\n                                                :filterable=\"false\"\n                                                v-on:databound=\"dataBound\"\n                                                :column-menu=\"true\"\n                                                :editable=\"true\"\n                                                :scrollable-virtual=\"true\"\n                                            >\n                                                <kendo-grid-column\n                                                    :command=\"{\n                                                        iconClass: 'k-icon k-i-trash',\n                                                        text: ' ',\n                                                        click: removeRow,\n                                                        class: 'btn-plus',\n                                                      }\"\n                                                    :title=\"'&nbsp;'\"\n                                                    :width=\"60\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :title=\"$t('no.')\"\n                                                    :width=\"55\"\n                                                    :template=\"rowNumber\"\n                                                    :column-menu=\"false\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5;',\n                            class: 'text-variants',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: variants' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'item'\"\n                                                    :title=\"$t('items')\"\n                                                    :width=\"200\"\n                                                    :template=\"'<span>#=item.name#</span>'\"\n                                                    :editor=\"ItemDropDownEditor\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'description'\"\n                                                    :title=\"$t('description')\"\n                                                    :width=\"170\"\n                                                    :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'uom'\"\n                                                    :template=\"UOMTemplate\"\n                                                    :editor=\"UOMDropDownEditor\"\n                                                    :title=\"$t('uom')\"\n                                                    :width=\"110\"\n                                                    :attribute=\"{class: 'k-state-disabled'}\"\n                                                    :headerAttributes=\"{\n                                                        style: 'background-color: #EDF1F5',\n                                                      }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'qty'\"\n                                                    :title=\"$t('ordered')\"\n                                                    :format=\"'{0:n0}'\"\n                                                    :attributes=\"{style: 'text-align: right'}\"\n                                                    :width=\"120\"\n                                                    :editable=\"function() {return false}\"\n                                                    :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'totalReceived'\"\n                                                    :title=\"$t('total_received')\"\n                                                    :width=\"180\"\n                                                    :editable=\"function() {return false}\"\n                                                    :headerAttributes=\"{style:'text-align: right; background-color: #EDF1F5', }\"\n                                                    :attributes=\"{style: 'text-align: right'}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'qtyReceived'\"\n                                                    :title=\"$t('qty_received')\"\n                                                    :width=\"160\"\n                                                    :editor=\"numberEditor\"\n                                                    :headerAttributes=\"{style:'text-align: right; background-color: #EDF1F5', }\"\n                                                    :attributes=\"{style: 'text-align: right'}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :command=\"[{\n                                                        iconClass: 'k-icon k-i-plus',\n                                                     text: $t('serial'),\n                                                     click: recordSerial,\n                                                     className: 'k-state-disabled isSerialNumber btn-plus',\n                                                     },{\n                                                    iconClass: 'k-icon k-i-plus',\n                                                     text: $t('batch'),\n                                                     click: recordBatch,\n                                                     className: 'k-state-disabled isBatch btn-plus'\n                                                     }]\"\n                                                    :width=\"190\"\n                                                    :hidden=\"false\"\n                                                    :headerAttributes=\"{style:'text-align: right; background-color: #EDF1F5',}\"\n                                                />\n                                            </kendo-grid>\n                                        </v-col>\n                                        <v-col cols=\"12\" class=\"py-0\">\n                                            <v-btn\n                                                color=\"primary\"\n                                                class=\"float-left btn_plus rounded-4 white--text mr-2\"\n                                                @click=\"addRow\"\n                                            >\n                                                <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                            </v-btn>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                            <v-row>\n                                                <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                    <v-row>\n                                                        <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                            <label class=\"label  mb-0\">{{\n                                                                    $t(\"delivered_by\")\n                                                                }}</label>\n                                                            <v-select\n                                                                class=\"mt-1\"\n                                                                :items=\"deliveryAgencies\"\n                                                                :item-text=\"(item) =>item.cusSup ? `${item.cusSup.number} - ${item.cusSup.name}`: ''\"\n                                                                item-value=\"id\"\n                                                                :rules=\"[(v) => !!v || 'Delivered by is required',]\"\n                                                                v-model=\"receiptOrder.deliveredBy\"\n                                                                tage=\"Delivered by\"\n                                                                return-object\n                                                                outlined\n                                                            />\n\n                                                        </v-col>\n                                                        <v-col sm=\"3\" cols=\"10\" class=\"pb-0\">\n                                                            <label class=\"label mb-0\">{{ $t(\"time\") }}</label>\n                                                            <v-menu\n                                                                v-model=\"menu2\"\n                                                                class=\"mt-1\"\n                                                                :close-on-content-click=\"false\"\n                                                                :nudge-right=\"40\"\n                                                                ref=\"menu\"\n                                                                transition=\"scale-transition\"\n                                                                :return-value.sync=\"receiptOrder.timeOfDischarged\"\n                                                                max-width=\"340\"\n                                                            >\n                                                                <template v-slot:activator=\"{ on, attrs }\">\n                                                                    <v-text-field\n                                                                        class=\"mt-1\"\n                                                                        v-model=\"receiptOrder.timeOfDischarged\"\n                                                                        readonly\n                                                                        outlined\n                                                                        append-icon=\"mdi-clock-time-four-outline\"\n                                                                        v-on=\"on\"\n                                                                        v-bind=\"attrs\"\n                                                                        @click:clear=\"receiptOrder.timeOfDischarged = null\"\n                                                                        @click:append=\"menu2 = true\"\n                                                                        required\n                                                                    />\n                                                                </template>\n                                                                <v-time-picker\n                                                                    v-if=\"menu2\"\n                                                                    v-model=\"receiptOrder.timeOfDischarged\"\n                                                                    full-width\n                                                                    no-title\n                                                                    @click:minute=\"$refs.menu.save(receiptOrder.timeOfDischarged)\"\n                                                                ></v-time-picker>\n                                                            </v-menu>\n                                                        </v-col>\n                                                        <v-col sm=\"2\" cols=\"12\" class=\"pb-0\">\n                                                            <label class=\"label  mb-0\">{{\n                                                                    $t(\"vehicle_number\")\n                                                                }}</label>\n                                                            <v-text-field\n                                                                class=\"mt-1\"\n                                                                v-model=\"receiptOrder.vehicleNumber\"\n                                                                outlined\n                                                                tage=\"Vehicle Number\"\n                                                                required\n                                                            />\n                                                        </v-col>\n                                                        <v-col sm=\"3\" cols=\"12\" class=\"pb-0\">\n                                                            <label class=\"label  mb-0\">{{\n                                                                    $t(\"references\")\n                                                                }}</label>\n                                                            <v-text-field\n                                                                class=\"mt-1\"\n                                                                tage=\"Driver References\"\n                                                                v-model=\"receiptOrder.driverReferences\"\n                                                                return-object\n                                                                outlined\n                                                            />\n                                                        </v-col>\n                                                    </v-row>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n                                    <v-divider/>\n                                    <v-card outlined dense class=\"no_border function_footer\">\n                                        <v-menu>\n                                            <template v-slot:activator=\"{ on }\">\n                                                <v-btn\n                                                    class=\"mr-2 text-capitalize  black--text float-left\"\n                                                    v-on=\"on\"\n                                                >\n                                                    {{ $t(\"select_template\") }}\n                                                    <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                                </v-btn>\n                                            </template>\n                                            <v-list>\n                                                <v-list-item\n                                                    v-for=\"(item, index) in templates\"\n                                                    :key=\"index\"\n                                                >\n                                                    <v-list-item-title>{{\n                                                            item.title\n                                                        }}\n                                                    </v-list-item-title>\n                                                </v-list-item>\n                                            </v-list>\n                                        </v-menu>\n                                        <v-btn\n                                            @click=\"cancel\"\n                                            color=\"black\"\n                                            outlined\n                                            class=\"text-capitalize  black--text float-left\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <!-- <v-menu>\n                                          <template v-slot:activator=\"{ on }\">\n                                            <v-btn\n                                              color=\"primary\"\n                                              class=\"ml-2 float-right text-capitalize  white--text\"\n                                              v-on=\"on\"\n                                            >\n                                              {{ $t(\"save_option\") }}\n                                              <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                            </v-btn>\n                                          </template>\n                                          <v-list rounded>\n                                            <v-list-item-group>\n                                              <v-list-item>\n                                                <v-list-item-content>\n                                                  <v-list-item-title>\n                                                    {{ $t(\"save_new\") }}\n                                                  </v-list-item-title>\n                                                </v-list-item-content>\n                                              </v-list-item>\n                                              <v-list-item>\n                                                <v-list-item-content>\n                                                  <v-list-item-title\n                                                    >{{ $t(\"save_print\") }}\n                                                  </v-list-item-title>\n                                                </v-list-item-content>\n                                              </v-list-item>\n                                            </v-list-item-group>\n                                          </v-list>\n                                        </v-menu> -->\n                                        <v-btn\n                                            @click=\"saveNew\"\n                                            color=\"primary\"\n                                            class=\"float-right white--text text-capitalize \"\n                                        >\n                                            {{ $t(\"save_new\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-form>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                    <v-dialog v-model=\"dialogS\" max-width=\"700px\" eager persistent>\n                        <v-card>\n                            <div class=\"modal_header\">\n                                <v-card-title>{{ $t(\"Serial\") }}</v-card-title>\n                                <v-icon @click=\"onCloseS\">close</v-icon>\n                            </div>\n                            <v-card-text class=\"modal_text_content\">\n                                <v-row>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                        <kendo-datasource\n                                            ref=\"dataSource1\"\n                                            @change=\"dataSourceChangedS\"\n                                            :data=\"serials\"\n                                        />\n                                        <kendo-grid\n                                            id=\"gridS\"\n                                            class=\"grid-function\"\n                                            :data-source-ref=\"'dataSource1'\"\n                                            :sortable=\"false\"\n                                            :filterable=\"false\"\n                                            :column-menu=\"true\"\n                                            :editable=\"true\"\n                                            v-on:databound=\"dataBoundS\"\n                                            :scrollable-virtual=\"true\"\n                                        >\n                                            <kendo-grid-column\n                                                :title=\"$t('no.')\"\n                                                :width=\"55\"\n                                                :template=\"rowNumberS\"\n                                                :column-menu=\"false\"\n                                                :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5;',\n                                                    class: 'text-variants',\n                                                  }\"\n                                                :attributes=\"{ style: 'text-align: variants' }\"\n                                            />\n                                            <kendo-grid-column\n                                                :field=\"'serialNumber1'\"\n                                                :title=\"$t('serial_number_1')\"\n                                                :width=\"150\"\n                                                :attribute=\"{class: 'k-state-disabled'}\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5', }\"\n                                            />\n                                            <kendo-grid-column\n                                                :field=\"'serialNumber2'\"\n                                                :title=\"$t('serial_number_2')\"\n                                                :width=\"150\"\n                                                :attributes=\"{ class: 'k-state-disabled isSerialNumber2'}\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                            />\n                                        </kendo-grid>\n                                    </v-col>\n                                </v-row>\n                            </v-card-text>\n                            <v-card-actions class=\"modal_footer\">\n                                <v-row>\n                                    <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-left\">\n                                        <v-btn\n                                            color=\"black\"\n                                            outlined\n                                            class=\" text-capitalize  black--text float-left\"\n                                            @click=\"onCloseS\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                    </v-col>\n                                    <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-right\">\n                                        <v-btn\n                                            @click=\"addSerial\"\n                                            color=\"primary\"\n                                            class=\"px-3  white--text text-capitalize\"\n                                        >{{ $t(\"add\") }}\n                                        </v-btn>\n                                    </v-col>\n                                </v-row>\n                            </v-card-actions>\n                        </v-card>\n                    </v-dialog>\n                    <v-dialog v-model=\"dialog\" max-width=\"700px\" eager persistent>\n                        <v-card>\n                            <div class=\"modal_header\">\n                                <v-card-title>{{ $t(\"batch\") }}</v-card-title>\n                                <v-icon @click=\"onCloseBatch\">close</v-icon>\n                            </div>\n                            <v-card-text class=\"modal_text_content pa-4\">\n                                <v-row>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"4\" class=\"py-1\">\n                                                <label class=\"label\">{{ $t(\"on_hand\") }}</label>\n                                                <h3 class=\"text-bold d-block py-1\">{{ amtBatch }}</h3>\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"4\" class=\"py-1\">\n                                                <label class=\"label\">{{ $t(\"qty_received\") }}</label>\n                                                <h3 class=\"text-bold d-block py-1\">{{ qtyReceived }}</h3>\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"4\" class=\"py-1\">\n                                                <label class=\"label\">{{ $t(\"total\") }}</label>\n                                                <h3 class=\"text-bold d-block py-1\">{{ amtBatch - qtyReceived }}</h3>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n                                        <kendo-datasource\n                                            ref=\"dataSource2\"\n                                            @change=\"dataSourceChangedB\"\n                                            :data=\"batchs\"\n                                        />\n                                        <kendo-grid\n                                            id=\"gridBatch\"\n                                            class=\"grid-function\"\n                                            :data-source-ref=\"'dataSource2'\"\n                                            :sortable=\"false\"\n                                            :filterable=\"false\"\n                                            :column-menu=\"true\"\n                                            :editable=\"true\"\n                                            v-on:databound=\"dataBoundB\"\n                                            :scrollable-virtual=\"true\"\n                                        >\n                                            <kendo-grid-column\n                                                :command=\"{\n                                                        iconClass: 'k-icon k-i-trash',\n                                                        text: ' ',\n                                                        click: removeRowB,\n                                                        class: 'btn-plus',\n                                                      }\"\n                                                :title=\"'&nbsp;'\"\n                                                :width=\"50\"\n                                                :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                                            />\n                                            <kendo-grid-column\n                                                :title=\"$t('no.')\"\n                                                :width=\"55\"\n                                                :template=\"rowNumberB\"\n                                                :column-menu=\"false\"\n                                                :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5;',\n                                                    class: 'text-variants',\n                                                  }\"\n                                                :attributes=\"{ style: 'text-align: variants' }\"\n                                            />\n                                            <kendo-grid-column\n                                                :field=\"'number'\"\n                                                :title=\"$t('number')\"\n                                                :width=\"150\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5', }\"\n                                            />\n                                            <kendo-grid-column\n                                                :field=\"'expirationDate'\"\n                                                :title=\"$t('expiration_date')\"\n                                                :width=\"150\"\n                                                :template=\"ExpirationDateToTemplate\"\n                                                :editor=\"ExpirationDateToEditor\"\n                                                :attributes=\"{ class: 'k-state-disabled expirationDate'}\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                            />\n                                            <kendo-grid-column\n                                                :field=\"'qty'\"\n                                                :title=\"$t('qty')\"\n                                                :editor=\"numberEditorB\"\n                                                :width=\"100\"\n                                                :headerAttributes=\"{style: 'background-color: #EDF1F5', }\"\n                                            />\n                                        </kendo-grid>\n                                    </v-col>\n                                    <v-col cols=\"12\" class=\"py-0\">\n                                        <v-btn\n                                            v-if=\"totalBatch > 0\"\n                                            color=\"primary\"\n                                            class=\"float-left btn_plus rounded-4 white--text mr-2\"\n                                            @click=\"addRowB\"\n                                        >\n                                            <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                        </v-btn>\n                                    </v-col>\n                                </v-row>\n                            </v-card-text>\n                            <v-card-actions class=\"modal_footer\">\n                                <v-row>\n                                    <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-left\">\n                                        <v-btn\n                                            color=\"black\"\n                                            outlined\n                                            class=\" text-capitalize  black--text float-left\"\n                                            @click=\"onCloseBatch\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                    </v-col>\n                                    <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-right\">\n                                        <v-btn\n                                            color=\"primary\"\n                                            @click=\"onSaveBatch\"\n                                            class=\"px-3  white--text text-capitalize\"\n                                        >{{ $t(\"add\") }}\n                                        </v-btn>\n                                    </v-col>\n                                </v-row>\n                            </v-card-actions>\n                        </v-card>\n                    </v-dialog>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"true\"\n                :myLoading=\"true\"\n                :alertMessage=\"loadingAlert\"\n                :color=\"loadingColorAlert\"\n                :alertText=\"loadingTextAlert\"\n            />\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n// import kendo from '@progress/kendo-ui'\nimport {i18n} from \"@/i18n\";\nimport LoadingMe from \"@/components/Loading\";\nimport DatePickerComponent from \"@/components/custom_templates/DatePickerComponent\";\nimport ReceiptOrder from \"@/scripts/model/ReceiptOrder\";\nimport kendo from \"@progress/kendo-ui\";\nimport {DropDownList} from \"@progress/kendo-vue-dropdowns\";\n// import MonthOfPicker from \"@/components/kendo_templates/MonthOfPicker\";\nimport {ShowResource} from \"@/observable/store\";\nimport {uuid} from \"vue-uuid\";\nimport $ from \"jquery\";\nimport ItemLineModel from \"@/scripts/invoice/model/ItemLine\";\n\n// const transactionHandler = require(\"@/scripts/transactionHandler\");\n\n// const batchHandler = require(\"@/scripts/batchHandler\");\nconst warehouseHandler = require(\"@/scripts/warehouseHandler\");\n\nconst purchaseHandler = require(\"@/scripts/purchase/handler/billingHandler\");\nconst deliveryOrderHandler = require(\"@/scripts/deliveryOrderHandler\");\nconst receiptOrderHandler = require(\"@/scripts/receiptOrderHandler\");\nconst productVariantHandler = require(\"@/scripts/productVariantHandler\");\nconst prefixHandler = require(\"@/scripts/prefixHandler\");\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\nconst supplierHandler = require(\"@/scripts/supplierHandler\");\n// const settingsHandler = require(\"@/scripts/settingsHandler\");\n// const saleChannelHandler = require(\"@/scripts/saleChannelHandler\");\n// const locationHandler = require(\"@/scripts/locationHandler\");\n// const projectHandler = require(\"@/scripts/projectHandler\");\nconst uomPriceHandler = require(\"@/scripts/uomPriceHandler\");\nconst saleOrderHandler = require(\"@/scripts/transactionHandler\");\nconst receiptOrder = new ReceiptOrder({});\nconst keyField = \"id\";\nconst textField = \"name\";\nconst emptyItem = {[textField]: \"loading ...\"};\nconst itemLinePrefix = \"lin-\";\nexport default {\n    name: \"ReceiptOrder\",\n    components: {\n        LoadingMe: LoadingMe,\n        \"app-datepicker\": DatePickerComponent,\n        dropdownlist: DropDownList,\n        // \"app-monthpicker\": MonthOfPicker,\n    },\n    data: () => ({\n        menu2: false,\n        isEdit: false,\n        dialog: false,\n        // LoadingMe\n        showLoading: false,\n        loadingAlert: false,\n        loadingColorAlert: \"\",\n        loadingTextAlert: \"\",\n        bill_date: \"\",\n        alert: false,\n        deposite: 1000,\n        files: [],\n        // Form validation\n        valid: true,\n\n        templates: [\n            {title: \"Draft\"},\n            {title: \"Open\"},\n            {title: \"Partially Closed\"},\n            {title: \"Closed\"},\n        ],\n        col_expand: 9,\n        col_hide: 3,\n        isHideBar: false,\n\n        serials: [],\n        batchs: [],\n        warehouses: [],\n        receiptOrder: receiptOrder,\n        deliveryAgencies: [],\n\n        itemBatch: {},\n        uomBatch: {},\n        amtBatch: 0,\n        qtyReceived: 0,\n        totalBatch: 0,\n        showLoadingTxn: false,\n        purchaseOrders: [],\n        purchaseOrder: {},\n        poItemLine: [],\n        supplierList: [],\n        dataItemKey: \"id\",\n        textField: \"name\",\n        defaultItem: {[textField]: \"Select supplier...\", [keyField]: null},\n        supplierBaseUrl: supplierHandler.url(),\n        filter: \"\",\n        itemLines: [],\n        itemLinesS: [],\n        itemLinesBatch: [],\n        isClose: true,\n        dialogS: false,\n        hideS: true,\n        transactionTypes: []\n    }),\n    computed: {},\n    beforeRouteLeave(to, from, next) {\n        if (this.isClose) {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((resultCen) => {\n                window.console.log(resultCen);\n                if (resultCen.value) {\n                    this.receiptOrder = receiptOrder;\n                    next()\n                }\n            });\n        } else {\n            next()\n        }\n    },\n    methods: {\n        dataBoundS: function (e) {\n            const grid = kendo.jQuery(\"#gridS\").data(\"kendoGrid\")\n            const items = e.sender.items();\n            items.each(function () {\n                let dataItem = grid.dataItem(this);\n                kendo\n                    .jQuery(\"tr[data-uid='\" + dataItem.uid + \"']\")\n                    .find(\".isSerialNumber2\")\n                    .each(function () {\n                        if (dataItem.batchOrSerial === 2) {\n                            kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                        }\n                    });\n            });\n        },\n        addSerial() {\n            this.getDataSourceS()\n            window.console.log(this.itemLinesS, 'itemline s')\n        },\n        async getDataSourceS() {\n            let ds = this.$refs.dataSource1.kendoWidget();\n            let dataRow = ds.data();\n            const s = dataRow.filter(i => i.serialNumber1 === '')\n            if (s.length > 0) {\n                this.$snotify.error('Please check your serial number')\n                return\n            }\n            if (dataRow.length > 0) {\n                const instituteId = this.$store.state.institute.institute.id\n                receiptOrderHandler.getBatch(dataRow[0].item.id, this.receiptOrder.warehouse.id, instituteId, 'serial').then(res => {\n                    if (res.length > 0) {\n                        dataRow.forEach((i) => {\n                            if (i.serialNumber1 !== '') {\n                                const r = res.filter(p => p.serialNumber1 === i.serialNumber1)\n                                this.itemLinesS.push({\n                                    id: r.length > 0 ? r[0].linId : i.id,\n                                    item: i.item,\n                                    whId: this.receiptOrder.warehouse.id,\n                                    serialNumber1: i.serialNumber1,\n                                    serialNumber2: i.serialNumber2,\n                                    type: 'serial',\n                                    uom: i.uom,\n                                    createdAt: r.length > 0 ? r[0].createdAt : '',\n                                    status: i.status,\n                                    pk: r.length > 0 ? r[0].id : ''\n                                });\n                            }\n                        });\n                    } else {\n                        dataRow.forEach((i) => {\n                            if (i.serialNumber1 !== '') {\n                                this.itemLinesS.push({\n                                    id: i.id,\n                                    item: i.item,\n                                    uom: i.uom,\n                                    whId: this.receiptOrder.warehouse.id,\n                                    serialNumber1: i.serialNumber1,\n                                    serialNumber2: i.serialNumber2,\n                                    type: 'serial',\n                                    createdAt: '',\n                                    status: i.status,\n                                    pk: ''\n                                });\n                            }\n                        })\n                    }\n                })\n            }\n            this.onCloseS()\n        },\n        onChangePO(item) {\n            window.console.log(item, 'onchangePO')\n            this.receiptOrder.itemLines = []\n            this.purchaseOrder.itemLines.forEach(p => {\n                this.receiptOrder.itemLines.push({\n                    ...p,\n                    qtyReceived: p.qty - p.totalReceived,\n                    source: 'purchase order'\n                })\n            })\n            window.console.log(this.receiptOrder.itemLines, 'itemline')\n        },\n        async loadPurchaseOrders() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    let supplierId = \"\",\n                        whId = \"\",\n                        txnDate = \"\"\n                    if (this.receiptOrder.supplier) {\n                        supplierId = this.receiptOrder.supplier.id;\n                    }\n                    if (this.receiptOrder.warehouse) {\n                        whId = this.receiptOrder.warehouse.id\n                    }\n                    if (this.receiptOrder.date) {\n                        txnDate = this.receiptOrder.date;\n                    }\n                    let strFilter = \"\";\n                    if (supplierId !== \"\" && txnDate !== \"\" && whId !== \"\") {\n                        strFilter = \"?id=\" + supplierId + \"&whId=\" + whId + '&wType=RO&type=Purchase Order'\n                    }\n                    if (strFilter !== \"\") {\n                        this.showLoadingTxn = true\n                        saleOrderHandler\n                            .transactionFilter(strFilter)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoadingTxn = false\n                                    this.showLoading = false;\n                                    this.purchaseOrders = res.data.data;\n                                } else {\n                                    this.showLoadingTxn = false\n                                }\n                            })\n                    }\n                }, 10);\n            });\n        },\n        onCloseS() {\n            this.dialogS = false\n            this.serials = []\n        },\n        rowNumberS(dataItem) {\n            let ds = this.$refs.dataSource1.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        addRowSerial(item, uom, qty) {\n            for (let i = 0; i < qty; i++) {\n                let data = {\n                    id: itemLinePrefix + uuid.v1(),\n                    item: item,\n                    uom: uom,\n                    serialNumber1: '',\n                    serialNumber2: '',\n                    whId: this.receiptOrder.warehouse.id,\n                    status: 1\n                };\n                let ds = this.$refs.dataSource1.kendoWidget(),\n                    total = ds.total();\n                ds.insert(total, data);\n            }\n        },\n        dataSourceChangedS(e) {\n            if (e.field) {\n                let dataRow = e.items[0];\n                window.console.log(e, \"data source change\");\n                switch (e.field) {\n                    case \"serialNumber1\":\n                        kendo\n                            .jQuery(\"tr[data-uid='\" + dataRow.uid + \"']\")\n                            .find(\".isSerialNumber2\")\n                            .each(function () {\n                                if (dataRow.item.isSerialNumber1 !== '') {\n                                    kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                                }\n                            });\n                }\n            }\n        },\n        recordSerial(e) {\n            e.preventDefault();\n            let grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\")\n            let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"))\n            if (dataItem.item.batchOrSerial == 2 && dataItem.qtyReceived > 0) {\n                if (this.itemLinesS.length > 0) {\n                    const s = this.itemLinesS.filter(p => p.item.id === dataItem.item.id)\n                    if (s.length === 0) {\n                        this.addRowSerial(dataItem.item, dataItem.uom, dataItem.qtyReceived)\n                    } else if (s.length < dataItem.qtyReceived) {\n                        this.serials = s\n                        this.addRowSerial(dataItem.item, dataItem.uom, dataItem.qtyReceived - s.length)\n                    } else {\n                        this.serials = s\n                    }\n                } else {\n                    this.addRowSerial(dataItem.item, dataItem.uom, dataItem.qtyReceived)\n                }\n                this.dialogS = true\n            }\n        },\n        dataBoundB: function (e) {\n            const grid = kendo.jQuery(\"#gridBatch\").data(\"kendoGrid\")\n            const items = e.sender.items();\n            items.each(function () {\n                let dataItem = grid.dataItem(this);\n                kendo\n                    .jQuery(\"tr[data-uid='\" + dataItem.uid + \"']\")\n                    .find(\".expirationDate\")\n                    .each(function () {\n                        if (dataItem.number !== '') {\n                            kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                        }\n                    });\n            });\n        },\n        onSaveBatch() {\n            if ((this.amtBatch - this.qtyReceived) > 0) {\n                this.$snotify.error('Please check your Qty')\n                return\n            }\n            this.getDataSourceB()\n            window.console.log(this.itemLinesBatch, 'itemline b')\n        },\n        onCloseBatch() {\n            this.dialog = false\n            this.batchs = []\n        },\n        async getDataSourceB() {\n            let ds = this.$refs.dataSource2.kendoWidget();\n            let dataRow = ds.data();\n            if (dataRow.length > 0) {\n                const instituteId = this.$store.state.institute.institute.id\n                receiptOrderHandler.getBatch(dataRow[0].item.id, this.receiptOrder.warehouse.id, instituteId, 'batch').then(res => {\n                    if (res.length > 0) {\n                        dataRow.forEach((i) => {\n                            if (i.qty > 0) {\n                                const r = res.filter(p => p.number === i.number)\n                                this.itemLinesBatch.push({\n                                    id: r.length > 0 ? r[0].linId : i.id,\n                                    item: i.item,\n                                    uom: i.uom,\n                                    number: i.number,\n                                    whId: this.receiptOrder.warehouse.id,\n                                    expirationDate: i.expirationDate,\n                                    qty: r.length > 0 ? r[0].qty + i.qty : i.qty,\n                                    DQty: r.length > 0 ? r[0].DQty : 0,\n                                    type: 'batch',\n                                    status: i.status,\n                                    createdAt: r.length > 0 ? r[0].createdAt : '',\n                                    pk: r.length > 0 ? r[0].id : ''\n                                });\n                            }\n                        });\n                    } else {\n                        dataRow.forEach((i) => {\n                            if (i.qty > 0) {\n                                this.itemLinesBatch.push({\n                                    id: i.id,\n                                    item: i.item,\n                                    uom: i.uom,\n                                    number: i.number,\n                                    whId: this.receiptOrder.warehouse.id,\n                                    expirationDate: i.expirationDate,\n                                    qty: i.qty,\n                                    DQty: 0,\n                                    type: 'batch',\n                                    status: i.status,\n                                    pk: ''\n                                });\n                            }\n                        })\n                    }\n                })\n            }\n            this.onCloseBatch()\n        },\n        removeRowB(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#gridBatch\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n                this.calcuateBatch()\n            }\n        },\n        rowNumberB(dataItem) {\n            let ds = this.$refs.dataSource2.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        async calcuateBatch() {\n            let ds = this.$refs.dataSource2.kendoWidget();\n            let dataRow = ds.data();\n            let amount = 0\n            dataRow.forEach((i) => {\n                amount += i.qty\n            });\n            this.qtyReceived = amount\n            this.totalBatch = this.amtBatch - amount\n        },\n        numberEditorB(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    min: 0,\n                    max: this.totalBatch\n                });\n        },\n        dataSourceChangedB(e) {\n            if (e.field) {\n                let dataRow = e.items[0];\n                window.console.log(e, \"data source change\");\n                switch (e.field) {\n                    case \"number\":\n                        kendo\n                            .jQuery(\"tr[data-uid='\" + dataRow.uid + \"']\")\n                            .find(\".expirationDate\")\n                            .each(function () {\n                                if (dataRow.number !== '') {\n                                    kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                                }\n                            });\n                        if (dataRow.qty > 0) {\n                            this.calcuateBatch()\n                        }\n                        break;\n                    case \"expirationDate\":\n                        if (dataRow.qty > 0) {\n                            this.calcuateBatch()\n                        }\n                        kendo\n                            .jQuery(\"tr[data-uid='\" + dataRow.uid + \"']\")\n                            .find(\".expirationDate\")\n                            .each(function () {\n                                if (dataRow.number !== '') {\n                                    kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                                }\n                            });\n                        break;\n                    case \"qty\":\n                        this.calcuateBatch()\n                        kendo\n                            .jQuery(\"tr[data-uid='\" + dataRow.uid + \"']\")\n                            .find(\".expirationDate\")\n                            .each(function () {\n                                if (dataRow.number !== '') {\n                                    kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                                }\n                            });\n                        break;\n\n                }\n            }\n        },\n        addRowB() {\n            let data = {\n                id: itemLinePrefix + uuid.v1(),\n                item: this.itemBatch,\n                uom: this.uomBatch,\n                number: '',\n                expirationDate: '',\n                whId: this.receiptOrder.warehouse.id,\n                qty: 0,\n                status: 1\n            };\n            let ds = this.$refs.dataSource2.kendoWidget(),\n                total = ds.total();\n            ds.insert(total, data);\n        },\n        recordBatch(e) {\n            e.preventDefault();\n            let grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\")\n            let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"))\n            this.itemBatch = dataItem.item\n            this.uomBatch = dataItem.uom\n            if (dataItem.item.batchOrSerial == 1 && dataItem.qtyReceived > 0) {\n                this.amtBatch = dataItem.qtyReceived;\n                if (this.itemLinesBatch.length > 0) {\n                    let amount = 0\n                    this.batchs = this.itemLinesBatch.filter(p => p.item.id === dataItem.item.id)\n                    this.batchs.forEach(p => {\n                        amount += p.qty\n                    })\n                    this.totalBatch = this.amtBatch - amount || 0\n                } else {\n                    this.addRowB()\n                    this.totalBatch = dataItem.qtyReceived;\n                }\n                this.dialog = true\n            }\n        },\n        async onloadDeliveryAgency() {\n            await deliveryOrderHandler.getAllAgency().then((res) => {\n                this.deliveryAgencies = res;\n            });\n        },\n        numberEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    min: 0,\n                    max: options.model.source === 'purchase order' ? (options.model.qty - options.model.totalReceived) : 2 ^ 100000000\n                });\n        },\n        headerTemplate() {\n            return `<input type='checkbox' id='header-chb' class='k-checkbox header-checkbox'>`;\n        },\n        Help(key) {\n            ShowResource(key);\n        },\n        dataSourceChanged(e) {\n            if (e.field) {\n                let dataRow = e.items[0];\n                window.console.log(e, \"data source change\");\n                switch (e.field) {\n                    case \"item\":\n                        kendo\n                            .jQuery(\"tr[data-uid='\" + dataRow.uid + \"']\")\n                            .find(\".isSerialNumber\")\n                            .each(function () {\n                                if (dataRow.item.batchOrSerial == 2) {\n                                    kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                                } else {\n                                    kendo.jQuery(this).addClass(\"k-state-disabled\");\n                                }\n                            });\n                        kendo\n                            .jQuery(\"tr[data-uid='\" + dataRow.uid + \"']\")\n                            .find(\".isBatch\")\n                            .each(function () {\n                                if (dataRow.item.batchOrSerial === 1) {\n                                    kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                                } else {\n                                    kendo.jQuery(this).addClass(\"k-state-disabled\");\n                                }\n                            });\n                        kendo\n                            .jQuery(\"tr[data-uid='\" + dataRow.uid + \"']\")\n                            .find(\".isUOM\")\n                            .each(function () {\n                                if (dataRow.source === '') {\n                                    kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                                } else {\n                                    kendo.jQuery(this).addClass(\"k-state-disabled\");\n                                }\n                            });\n                        break;\n                    case \"qty\":\n                        break;\n                }\n            }\n        },\n        ExpirationDateToTemplate(dataItem) {\n            const expirationDate = dataItem.expirationDate;\n            if (expirationDate) {\n                return `<span>${\n                    expirationDate\n                        ? kendo.toString(new Date(expirationDate), `dd-MM-yyyy`)\n                        : ``\n                }</span>`;\n            } else {\n                return ``;\n            }\n        },\n        dataBound: function (e) {\n            const grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\")\n            const items = e.sender.items();\n            items.each(function () {\n                let dataItem = grid.dataItem(this);\n                kendo\n                    .jQuery(\"tr[data-uid='\" + dataItem.uid + \"']\")\n                    .find(\".isSerialNumber\")\n                    .each(function () {\n                        if (dataItem.item.batchOrSerial == 2) {\n                            kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                        } else {\n                            kendo.jQuery(this).addClass(\"k-state-disabled\");\n                        }\n                    });\n                kendo\n                    .jQuery(\"tr[data-uid='\" + dataItem.uid + \"']\")\n                    .find(\".isBatch\")\n                    .each(function () {\n                        if (dataItem.item.batchOrSerial == 1) {\n                            kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                        } else {\n                            kendo.jQuery(this).addClass(\"k-state-disabled\");\n                        }\n                    });\n                kendo\n                    .jQuery(\"tr[data-uid='\" + dataItem.uid + \"']\")\n                    .find(\".isUOM\")\n                    .each(function () {\n                        if (dataItem.source === '') {\n                            kendo.jQuery(this).removeClass(\"k-state-disabled\");\n                        } else {\n                            kendo.jQuery(this).addClass(\"k-state-disabled\");\n                        }\n                    });\n            });\n        },\n        addRow() {\n            let data = {\n                id: itemLinePrefix + uuid.v1(),\n                item: {name: \"\"},\n                description: '',\n                qty: 0,\n                uom: {},\n                totalReceived: 0,\n                qtyReceived: 0,\n                source: ''\n            };\n            let ds = this.$refs.dataSource.kendoWidget(),\n                total = ds.total();\n            ds.insert(total, data);\n            this.qtyAdd = 0;\n        },\n        ExpirationDateToEditor(container, options) {\n            kendo\n                .jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDatePicker();\n        },\n        ItemDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate:\n                        '<div class=\"dropdown-header k-widget k-header\">' +\n                        \"<span>Items </span>\" +\n                        \"<span></span>\" +\n                        \"</div>\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: productVariantHandler.itemSearchURL(),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data.filter(p => p.type === 'Variant')\n                            },\n                            total: function (response) {\n                                return response.data.filter(p => p.type === 'Variant').length;\n                            },\n                        },\n                        // data: this.variants\n                    }),\n                });\n        },\n        UOMDropDownEditor(container, options) {\n            if (options.model.source === '') {\n                kendo\n                    .jQuery('<input name=\"' + options.field + '\"/>')\n                    .appendTo(container)\n                    .kendoDropDownList({\n                        autoBind: true,\n                        autoWidth: true,\n                        height: 400,\n                        filter: \"startswith\",\n                        dataTextField: \"uom.name\",\n                        dataValueField: \"uom.id\",\n                        cascadeFrom: \"item\",\n                        template: \"<span>#=uom.name#</span>\",\n                        optionLabel: \"--- Select ---\",\n                        dataSource: new kendo.data.DataSource({\n                            serverFiltering: true,\n                            transport: {\n                                read: {\n                                    url: uomPriceHandler.uomPriceByPriceLevelURL(\n                                        \"id=\" +\n                                        options.model.item.id +\n                                        \"&plId=\" +\n                                        this.receiptOrder.priceLevel.id +\n                                        \"&date=\" +\n                                        this.receiptOrder.date\n                                    ),\n                                },\n                                dataType: \"json\",\n                            },\n                            schema: {\n                                model: {\n                                    id: \"id\",\n                                    fields: {\n                                        id: {type: \"string\"},\n                                        // name: {type: \"string\"},\n                                        // sku: {type: \"string\"},\n                                    },\n                                },\n                                data: function (response) {\n                                    return response.data;\n                                },\n                                total: function (response) {\n                                    return response.data.count;\n                                },\n                            },\n                            // data: this.variants\n                        }),\n                    });\n            } else {\n                return false\n            }\n        },\n        UOMTemplate(dataItem) {\n            const uom = dataItem.uom;\n            if (uom) {\n                return `<span>${uom.uom ? uom.uom.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        removeRow(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n            }\n        },\n        rowNumber(dataItem) {\n            let ds = this.$refs.dataSource.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        async onloadWarehouse() {\n            await warehouseHandler.getWarehouseSettingAll().then(async (res) => {\n                this.warehouses = res;\n                if (this.warehouses.length > 0) {\n                    this.receiptOrder.warehouse = this.warehouses[0];\n                }\n            });\n        },\n        async onChangeWarehouse() {\n            // await this.loadZone(receiptOrder.warehouse.id)\n        },\n        async onChange(event) {\n            const value = event.value;\n            if (value && value[textField] === emptyItem[textField]) {\n                return;\n            }\n            this.showLoading = true;\n            window.console.log(value);\n            this.receiptOrder.supplier = value;\n            this.receiptOrder.priceLevel = value.priceLevel;\n            await this.loadPurchaseOrders()\n            // await this.onloadPurchase(value.id);\n        },\n        async onloadPurchase(id) {\n            await purchaseHandler.byCustomer(id).then((res) => {\n                window.console.log(res, \"list purchase by customer\");\n            });\n            this.showLoading = false;\n        },\n        onFilterChange(event) {\n            const filter = event.filter.value;\n            this.requestData(0, filter, this.supplierBaseUrl);\n            this.filter = filter;\n        },\n        requestData(skip, filter, baseUrl) {\n            const url = baseUrl + `/${filter}`;\n            this.requestStarted = true;\n            fetch(url)\n                .then((response) => {\n                    // window.console.log(response.json())\n                    return response.json();\n                })\n                .then(this.afterFetch);\n        },\n        afterFetch(json) {\n            this.supplierList = json.data;\n        },\n        async loadPrefix() {\n            this.showLoading = true;\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    prefixHandler.get(\"receipt order\").then((res) => {\n                        if (res.data.statusCode === 200) {\n                            // this.showLoading = false\n                            this.transactionTypes = res.data.data;\n                            if (this.transactionTypes.length > 0) {\n                                this.receiptOrder.transactionType = this.transactionTypes[0];\n                                if (this.$route.params.id === undefined) {\n                                    this.generateNumber();\n                                }\n                            }\n                        }\n                    });\n                }, 300);\n            });\n            // await this.onloadBatch();\n            await this.onloadWarehouse();\n            // await this.loadSaleChannel();\n            // await this.loadLocation();\n            await this.onloadDeliveryAgency();\n            // await this.loadProjects()\n            // await this.loadSegment()\n            // await this.loadZone(this.warehouses[0].id)\n            this.showLoading = false;\n        },\n        generateNumber() {\n            let data = {\n                abbr: this.receiptOrder.transactionType.abbr,\n                structure: this.receiptOrder.transactionType.structure,\n                transactionDate: this.receiptOrder.date,\n                sequcencing: this.receiptOrder.transactionType.sequcencing,\n                type: \"Receipt Order\",\n                entity: 3,\n            };\n            this.receiptOrder.abbr = data.abbr;\n            this.receiptOrder.structure = data.structure;\n            this.receiptOrder.sequcencing = data.sequcencing;\n            this.receiptOrder.type = data.type;\n            this.receiptOrder.transactionDate = data.transactionDate;\n            billingHandler\n                .lastNumber(data)\n                .then((response) => {\n                    if (response.data.statusCode === 200) {\n                        const res = response.data.data;\n                        const lastNumber = this.zeroPad(\n                            parseInt(res.lastNumber),\n                            this.receiptOrder.transactionType.format\n                        );\n                        this.receiptOrder.number =\n                            res.suffix +\n                            this.receiptOrder.transactionType.numberSeparator +\n                            lastNumber;\n                        this.receiptOrder.lastNumber = res.suffix + lastNumber;\n                        window.console.log(this.receiptOrder.number, \"bom\");\n                    }\n                })\n                .catch((e) => {\n                    this.errors.push(e);\n                });\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, \"0\");\n        },\n        suffix(transactionDate) {\n            return kendo.toString(new Date(transactionDate), `yymm`);\n        },\n        savePrint() {\n        },\n        async getDataSource() {\n            let ds = this.$refs.dataSource.kendoWidget();\n            let dataRow = ds.data();\n            this.itemLines = [];\n            dataRow.forEach((i) => {\n                if (i.qtyReceived > 0 && i.source === 'purchase order') {\n                    const line = i\n                    line.totalReceived = i.qtyReceived\n                    this.poItemLine.push({\n                        item: i.item,\n                        transactionType: this.purchaseOrder.transactionType,\n                        uom: i.uom,\n                        id: i.id,\n                        number: this.purchaseOrder.number,\n                        data: i.item.id,\n                        qty: i.qty,\n                        line: new ItemLineModel(line),\n                        deleted: 0,\n                        price: 0,\n                        type: 'Purchase Order',\n                        customer: {},\n                        status: i.status,\n                        createdAt: i.createdAt\n                    })\n                }\n                this.itemLines.push({\n                    id: i.id,\n                    item: i.item,\n                    qty: i.qty,\n                    description: i.description,\n                    uom: i.uom,\n                    totalReceived: i.totalReceived,\n                    qtyReceived: i.qtyReceived,\n                });\n            });\n        },\n        async saveNew() {\n            this.showLoading = true;\n            await this.getDataSource();\n            window.console.log(this.poItemLine, this.purchaseOrder.id, 'poItemLine')\n            if (this.poItemLine.length > 0) {\n                await warehouseHandler.addItemLine(this.purchaseOrder.id, this.poItemLine).then(res => {\n                    if (res.data.statusCode !== 200) {\n                        this.$snotify.error('Error Update ItemLine!!!')\n                    }\n                })\n            }\n            this.receiptOrder.purchaseOrderId = this.purchaseOrder ? this.purchaseOrder.id : ''\n            this.receiptOrder.purchaseOrderRef = this.purchaseOrder ? this.purchaseOrder.referenceNo : ''\n            this.receiptOrder.itemLines = this.itemLines;\n            this.receiptOrder.itemLinesSerial = this.itemLinesS\n            this.receiptOrder.itemLinesBatch = this.itemLinesBatch\n            this.receiptOrder.transactionDate = this.receiptOrder.date;\n            receiptOrderHandler.save(this.receiptOrder).then((res) => {\n                window.console.log(res);\n                this.isClose = false\n                this.cancel();\n                this.showLoading = false;\n            });\n        },\n        saveClose() {\n        },\n        errorMessage() {\n        },\n        accountDropDownEditor() {\n        },\n        cancel() {\n            this.itemLines = []\n            this.poItemLine = []\n            this.itemLinesS = []\n            this.itemLinesBatch = []\n            this.batchs = []\n            this.serials = []\n            this.purchaseOrders = []\n            this.purchaseOrder = {}\n            this.itemBatch = {}\n            this.receiptOrder = receiptOrder\n            this.$router.go(-1);\n        },\n        hide_smallsitebar() {\n            if (!this.isHideBar) {\n                // this.col_expand = 12\n                // this.col_hide = 0\n                this.isHideBar = true;\n            } else {\n                // this.col_expand = 9\n                // this.col_hide = 3\n                this.isHideBar = false;\n            }\n        },\n    },\n    watch: {\n        // call again the method if the route changes\n    },\n    created() {\n        // fetch the data when the view is created and the data is\n        // already being observed\n        // this.loadObj()\n    },\n    async mounted() {\n        this.requestData(0, \"\", supplierHandler.url());\n        this.addRow();\n        await this.loadPrefix();\n    },\n};\n</script>\n\n<style scoped>\n.k-dropdown {\n    width: 100%;\n    margin-top: 3px;\n}\n\n.function_wrapper {\n    box-shadow: none !important;\n}\n\n.v-application--is-ltr .v-text-field .v-input__append-inner {\n    margin-top: 0 !important;\n}\n\n.v-input__slot {\n    background-color: #fff !important;\n}\n\n.function_content .label {\n    margin-bottom: 10px;\n    display: inline-block;\n}\n\n.border_radius10 {\n    border-radius: 10px !important;\n    background-color: #f2f2f2;\n}\n\n.pa-3.v-card h4 {\n    font-size: 18px;\n    color: #333;\n}\n\n.pa-3.v-card p {\n    font-size: 12px;\n    color: #b5b5b5;\n}\n\n.custom_grid table th:last-child {\n    text-align: right !important;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        max-width: 1080px !important;\n    }\n}\n\n@media (max-width: 576px) {\n    .pt-6.col-sm-5.col-12 {\n        padding-top: 0 !important;\n    }\n\n    .code_text {\n        width: 100%;\n    }\n\n    .phone_no_pt {\n        padding-top: 0 !important;\n    }\n\n    .select_template,\n    .save_option {\n        margin-bottom: 10px;\n    }\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: 0.5s ease-in;\n    flex: 0 0 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n.info_add {\n    background-color: #ffffff;\n}\n\n.small_sidebar {\n    height: 96%;\n    position: relative;\n    padding: 12px;\n    background-color: #edf1f5;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.color_grey {\n    color: #808080;\n}\n\n.card_green {\n    min-height: 70px;\n    background-color: #00b050 !important;\n    color: #ffffff;\n}\n\n.lb_bold {\n    font-size: 12px;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 10px;\n}\n\n.card_background {\n    background-color: #edf1f5;\n    min-height: 120px;\n}\n\n.deposite_input {\n    width: 100px;\n}\n\n.btn_save_draft {\n    color: #ffffff;\n    background-color: #00b0f0 !important;\n    text-transform: capitalize;\n}\n\n.save_option {\n    background-color: #203864 !important;\n}\n\n.btn_add_small {\n    height: 27px !important;\n    min-width: 25px !important;\n    font-size: 10px;\n    padding: 0 22px !important;\n    background-color: #00b050 !important;\n    color: #ffffff;\n    border-radius: 0 !important;\n}\n\n.list_site_inv {\n    background-color: #92d050;\n    color: #ffffff;\n    font-size: 12px;\n}\n\n.list_site_exp {\n    background-color: #c5e0b4;\n    color: #000000;\n    font-size: 12px;\n    line-height: 16px;\n    min-height: 40px;\n}\n\n.checkbox_inv {\n    padding: 2px;\n    margin-top: 3px;\n    margin-right: 2px;\n}\n\n.exp_select {\n    font-size: 12px !important;\n}\n\n.v-data-table__wrapper td {\n    border-bottom: 1px solid #808080;\n    border-top: 1px solid #808080;\n}\n</style>\n"],"sourceRoot":"src/views/products/warehouses/operations"}]}