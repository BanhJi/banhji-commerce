{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/components/dropdownlist/SegmentListItemGroup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/components/dropdownlist/SegmentListItemGroup.vue","mtime":1640595536764},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktY29tbWVyY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktY29tbWVyY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NlZ21lbnRMaXN0SXRlbUdyb3VwJywKICBwcm9wczogewogICAgaW5pdFNlZ21lbnQ6IHsKICAgICAgdHlwZTogQXJyYXkKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxlY3RlZFNlZ21lbnRzOiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkRGF0YTogZnVuY3Rpb24gbG9hZERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSB0cnVlOyAvLyBDYWxsIExpc3QKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NlZ21lbnRzL2dldExpc3QnKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZW1pdFNlZ21lbnQ6IGZ1bmN0aW9uIGVtaXRTZWdtZW50KCkgewogICAgICB0aGlzLiRlbWl0KCdlbWl0U2VnbWVudCcsIHRoaXMuc2VsZWN0ZWRTZWdtZW50cyk7CiAgICB9LAogICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChfdGhpczIubGlrZXNBbGxGcnVpdCkgewogICAgICAgICAgX3RoaXMyLnNlbGVjdGVkU2VnbWVudHMgPSBbXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGlkcyA9IFtdOwoKICAgICAgICAgIF90aGlzMi5zZWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICBpZHMucHVzaCh2YWx1ZS5pZCk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczIuc2VsZWN0ZWRTZWdtZW50cyA9IGlkczsKICAgICAgICB9CgogICAgICAgIF90aGlzMi5lbWl0U2VnbWVudCgpOwogICAgICB9KTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBpbml0U2VnbWVudDogZnVuY3Rpb24gaW5pdFNlZ21lbnQoKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRTZWdtZW50cyA9IHRoaXMuaW5pdFNlZ21lbnQ7CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBzZWdtZW50czogZnVuY3Rpb24gc2VnbWVudHMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnNlZ21lbnRzLmxpc3Q7CiAgICB9CiAgfSkpLCB7fSwgewogICAgbGlrZXNBbGxGcnVpdDogZnVuY3Rpb24gbGlrZXNBbGxGcnVpdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRTZWdtZW50cy5sZW5ndGggPT09IHRoaXMuc2VnbWVudHMubGVuZ3RoOwogICAgfSwKICAgIGxpa2VzU29tZUZydWl0OiBmdW5jdGlvbiBsaWtlc1NvbWVGcnVpdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRTZWdtZW50cy5sZW5ndGggPiAwICYmICF0aGlzLmxpa2VzQWxsRnJ1aXQ7CiAgICB9LAogICAgaWNvbjogZnVuY3Rpb24gaWNvbigpIHsKICAgICAgaWYgKHRoaXMubGlrZXNBbGxGcnVpdCkgcmV0dXJuICdtZGktY2xvc2UtYm94JzsKICAgICAgaWYgKHRoaXMubGlrZXNTb21lRnJ1aXQpIHJldHVybiAnbWRpLW1pbnVzLWJveCc7CiAgICAgIHJldHVybiAnbWRpLWNoZWNrYm94LWJsYW5rLW91dGxpbmUnOwogICAgfQogIH0pLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWREYXRhKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLyogSW5pdGlhbCBTZWdtZW50ICovCiAgICB0aGlzLnNlbGVjdGVkU2VnbWVudHMgPSB0aGlzLmluaXRTZWdtZW50OwogIH0KfTs="},{"version":3,"sources":["SegmentListItemGroup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,SAAA,QAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,sBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,WAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AADA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,gBAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,IAAA,CADA,CAGA;;AAHA;AAAA,uBAIA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,kBAAA,CAJA;;AAAA;AAMA,gBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KARA;AASA,IAAA,WATA,yBASA;AACA,WAAA,KAAA,CAAA,aAAA,EAAA,KAAA,gBAAA;AACA,KAXA;AAYA,IAAA,MAZA,oBAYA;AAAA;;AACA,WAAA,SAAA,CAAA,YAAA;AACA,YAAA,MAAA,CAAA,aAAA,EAAA;AACA,UAAA,MAAA,CAAA,gBAAA,GAAA,EAAA;AACA,SAFA,MAEA;AACA,cAAA,GAAA,GAAA,EAAA;;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA,WAFA;;AAGA,UAAA,MAAA,CAAA,gBAAA,GAAA,GAAA;AACA;;AACA,QAAA,MAAA,CAAA,WAAA;AACA,OAXA;AAYA;AAzBA,GAbA;AAwCA,EAAA,KAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,gBAAA,GAAA,KAAA,WAAA;AACA;AAHA,GAxCA;AA6CA,EAAA,QAAA,kCACA,QAAA,CAAA;AACA,IAAA,QAAA,EAAA,kBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,QAAA,CAAA,IAAA;AAAA;AADA,GAAA,CADA;AAIA,IAAA,aAJA,2BAIA;AACA,aAAA,KAAA,gBAAA,CAAA,MAAA,KAAA,KAAA,QAAA,CAAA,MAAA;AACA,KANA;AAOA,IAAA,cAPA,4BAOA;AACA,aAAA,KAAA,gBAAA,CAAA,MAAA,GAAA,CAAA,IAAA,CAAA,KAAA,aAAA;AACA,KATA;AAUA,IAAA,IAVA,kBAUA;AACA,UAAA,KAAA,aAAA,EAAA,OAAA,eAAA;AACA,UAAA,KAAA,cAAA,EAAA,OAAA,eAAA;AACA,aAAA,4BAAA;AACA;AAdA,IA7CA;AA6DA,EAAA,OA7DA,qBA6DA;AACA,SAAA,QAAA;AACA,GA/DA;AAgEA,EAAA,OAhEA,qBAgEA;AACA;AACA,SAAA,gBAAA,GAAA,KAAA,WAAA;AACA;AAnEA,CAAA","sourcesContent":["<template>\n    <div>\n        <v-select\n            :loading=\"loading\"\n            v-model=\"selectedSegments\"\n            :items=\"segments\"\n            item-text=\"name\"\n            item-value=\"id\"\n            @change=\"emitSegment\"\n            placeholder=\"Select Segments\"\n            multiple\n            class=\"mt-1\"\n            outlined\n        >\n            <template v-slot:prepend-item>\n                <v-list-item\n                    ripple\n                    @click=\"toggle\"\n                >\n                    <v-list-item-action>\n                        <v-icon :color=\"selectedSegments.length > 0 ? 'indigo darken-4' : ''\">\n                            {{ icon }}\n                        </v-icon>\n                    </v-list-item-action>\n                    <v-list-item-content>\n                        <v-list-item-title>\n                            Select All\n                        </v-list-item-title>\n                    </v-list-item-content>\n                </v-list-item>\n                <v-divider class=\"mt-2\"></v-divider>\n            </template>\n\n            <template v-slot:selection=\"{ item, index }\">\n                <v-chip v-if=\"index === 0\">\n                    <span>{{ item.name }}</span>\n                </v-chip>\n                <span v-if=\"index === 1\" class=\"font_14\">\n                    (+{{ selectedSegments.length - 1 }} others)\n                </span>\n            </template>\n\n        </v-select>\n    </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nexport default {\n    name: 'SegmentListItemGroup',\n    props: {\n        initSegment: {\n            type: Array,\n        },\n    },\n    data() {\n        return {\n            selectedSegments: [],\n            loading: false\n        }\n    },\n    methods: {\n        async loadData () {\n            this.loading = true;\n            \n            // Call List\n            await this.$store.dispatch('segments/getList')\n\n            this.loading = false;\n        },\n        emitSegment() {\n            this.$emit('emitSegment', this.selectedSegments);\n        },\n        toggle() {\n            this.$nextTick(() => {\n                if (this.likesAllFruit) {\n                    this.selectedSegments = [];\n                } else {\n                    let ids = [];\n                    this.segments.forEach(value => {\n                        ids.push(value.id);\n                    });\n                    this.selectedSegments = ids;\n                }\n                this.emitSegment();\n            })\n        },\n    },\n    watch: {\n        initSegment() {\n            this.selectedSegments = this.initSegment;\n        }\n    },\n    computed: {\n        ...mapState({\n            segments: state => state.segments.list\n        }),\n        likesAllFruit() {\n            return this.selectedSegments.length === this.segments.length\n        },\n        likesSomeFruit() {\n            return this.selectedSegments.length > 0 && !this.likesAllFruit\n        },\n        icon() {\n            if (this.likesAllFruit) return 'mdi-close-box'\n            if (this.likesSomeFruit) return 'mdi-minus-box'\n            return 'mdi-checkbox-blank-outline'\n        },\n    },\n    created() {\n        this.loadData();\n    },\n    mounted() {\n        /* Initial Segment */\n        this.selectedSegments = this.initSegment;\n    }\n}\n</script>"],"sourceRoot":"src/components/dropdownlist"}]}