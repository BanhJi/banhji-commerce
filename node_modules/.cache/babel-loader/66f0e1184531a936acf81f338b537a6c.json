{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/finances/CloseLoan.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/finances/CloseLoan.vue","mtime":1638499443230},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/babel.config.js","mtime":1638499442885},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktYWNjb3VudGluZy13ZWItbW9kdWxlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7Cgp2YXIgX2N1c3RvbWVySXRlbSwgX21lbWJlckl0ZW07CgppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnBhZC1zdGFydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgSGVscGVyIGZyb20gIkAvaGVscGVyLmpzIjsKaW1wb3J0IERhdGVQaWNrZXJDb21wb25lbnQgZnJvbSAnQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvRGF0ZVBpY2tlckNvbXBvbmVudCc7IC8vIGltcG9ydCB7RHJvcERvd25MaXN0fSBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdnVlLWRyb3Bkb3ducyIKCmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwp2YXIgJCA9IGtlbmRvLmpRdWVyeTsKaW1wb3J0IENsb3NlTG9hbk1vZGVsIGZyb20gJ0Avc2NyaXB0cy9maW5hbmNpbmcvbW9kZWwvQ2xvc2VMb2FuJzsKCnZhciBtZW1iZXJIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL21lbWJlckhhbmRsZXIiKTsKCnZhciBjdXN0b21lckhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY3VzdG9tZXJIYW5kbGVyIik7Cgp2YXIgY3VycmVuY3lIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2N1cnJlbmN5L2hhbmRsZXIvY3VycmVuY3lIYW5kbGVyIik7IC8vIGNvbnN0IGxvYW5IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2xvYW5IYW5kbGVyIikKCgp2YXIgYmlsbGluZ0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaW52b2ljZS9oYW5kbGVyL2JpbGxpbmdIYW5kbGVyIik7Cgp2YXIgcHJlZml4SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcmVmaXhIYW5kbGVyIik7IC8vIGNvbnN0IGFjY291bnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2FjY291bnRIYW5kbGVyIikKCgppbXBvcnQgeyBhY2NvdW50SGFuZGxlciB9IGZyb20gIkAvc2NyaXB0cy9BcHBIYW5kbGVycyI7CnZhciB0ZXh0RmllbGQgPSAnbmFtZSc7CnZhciBrZXlGaWVsZCA9ICdpZCc7CnZhciBjdXN0b21lckl0ZW0gPSAoX2N1c3RvbWVySXRlbSA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2N1c3RvbWVySXRlbSwgdGV4dEZpZWxkLCAnU2VsZWN0IEN1c3RvbWVyLi4uJyksIF9kZWZpbmVQcm9wZXJ0eShfY3VzdG9tZXJJdGVtLCBrZXlGaWVsZCwgbnVsbCksIF9jdXN0b21lckl0ZW0pOwp2YXIgbWVtYmVySXRlbSA9IChfbWVtYmVySXRlbSA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX21lbWJlckl0ZW0sIHRleHRGaWVsZCwgJ1NlbGVjdCBNZW1iZXIuLi4nKSwgX2RlZmluZVByb3BlcnR5KF9tZW1iZXJJdGVtLCBrZXlGaWVsZCwgbnVsbCksIF9tZW1iZXJJdGVtKTsKCnZhciBlbXB0eUl0ZW0gPSBfZGVmaW5lUHJvcGVydHkoe30sIHRleHRGaWVsZCwgJ2xvYWRpbmcgLi4uJyk7Cgp2YXIgc3RvcmUgPSByZXF1aXJlKCJAL2luc3RpdHV0ZS5qcyIpOwoKdmFyIGNvb2tpZXMgPSBzdG9yZS5kZWZhdWx0LnN0YXRlLmNvb2tpZXM7IC8vIGpvdXJuYWwKCmltcG9ydCB7IEpvdXJuYWxNb2RlbCwgVXNlck1vZGVsIH0gZnJvbSAiQC9zY3JpcHRzL21vZGVsL0FwcE1vZGVscyI7CmltcG9ydCBzYWxlRm9ybUNvbnRlbnRIYW5kbGVyIGZyb20gIkAvc2NyaXB0cy9zYWxlRm9ybUNvbnRlbnRIYW5kbGVyIjsKCnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoIkAvc2NyaXB0cy9BcHBIYW5kbGVycyIpLAogICAgam91cm5hbEhhbmRsZXIgPSBfcmVxdWlyZS5qb3VybmFsSGFuZGxlcjsKCnZhciBfcmVxdWlyZTIgPSByZXF1aXJlKCJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9Db2xsZWN0aW9ucyIpLAogICAgRW50aXR5VHlwZSA9IF9yZXF1aXJlMi5FbnRpdHlUeXBlOwoKdmFyIGxvYW5IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2ZpbmFuY2luZy9oYW5kbGVyL2xvYW5IYW5kbGVyIik7CgppbXBvcnQgVnVlTnVtZXJpYyBmcm9tICd2dWUtbnVtZXJpYyc7CmltcG9ydCBMb2FuVHlwZSBmcm9tICJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9Mb2FuVHlwZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmFsaWQ6IHRydWUsCiAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgc2hvd0xvYWRpbmdEYXRhOiBmYWxzZSwKICAgICAgc2hvd0xvYWRpbmdMb2FuOiBmYWxzZSwKICAgICAgZXJyb3JzOiBbXSwKICAgICAgdXNlcjogbmV3IFVzZXJNb2RlbChjb29raWVzLnVzZXIpLAogICAgICBsb2FkaW5nQWxlcnQ6IGZhbHNlLAogICAgICBsb2FkaW5nQ29sb3JBbGVydDogJycsCiAgICAgIGxvYWRpbmdUZXh0QWxlcnQ6ICcnLAogICAgICB0ZXh0RmllbGQ6ICduYW1lJywKICAgICAgZGF0YUl0ZW1LZXk6ICdpZCcsCiAgICAgIHNlbGVjdE1lbWJlcjogJ2lzTWVtYmVyJywKICAgICAgaXNNZW1iZXI6IHRydWUsCiAgICAgIGlzQ3VzdG9tOiBmYWxzZSwKICAgICAgY2FzaEFjY291bnRzOiBbXSwKICAgICAgc2FsZUZvcm1Db250ZW50OiB7fSwKICAgICAgY3VycmVuY3lDb2RlOiAnJywKICAgICAgaW52b2ljZVR5cGU6IHt9LAogICAgICBsYXN0TnVtYmVyOiB7fSwKICAgICAgc2NoZWR1bGVBUjogW10sCiAgICAgIGxvYW5BbW91bnQ6IDAsCiAgICAgIHJhdGU6IDEsCiAgICAgIC8vCiAgICAgIGRpc2J1cnNMaXN0OiBbXSwKICAgICAgbDogbmV3IENsb3NlTG9hbk1vZGVsKHt9KSwKICAgICAgbG9hbjoge30sCiAgICAgIGxvYW5MaXN0OiBbXSwKICAgICAgdG90YWxQYXltZW50OiAwLAogICAgICBtb250aGx5UGF5bWVudDogMCwKICAgICAgdG90YWxJbnRlcmVzdDogMCwKICAgICAgLy9jdXN0b21lcgogICAgICBjdXNCYXNlVXJsOiBjdXN0b21lckhhbmRsZXIuc2VhcmNoKCksCiAgICAgIGN1c3RvbWVyTGlzdDogW10sCiAgICAgIGN1c3RvbWVySXRlbTogY3VzdG9tZXJJdGVtLAogICAgICBjdXN0b21lcmZpbHRlcjogJycsCiAgICAgIC8vbWVtYmVyCiAgICAgIG1lbUJhc2VVcmw6IG1lbWJlckhhbmRsZXIuc2VhcmNoKCksCiAgICAgIG1lbWJlckxpc3Q6IFtdLAogICAgICBtZW1iZXJJdGVtOiBtZW1iZXJJdGVtLAogICAgICBtZW1iZXJmaWx0ZXI6ICcnLAogICAgICBkZWNpbWFsczogW10sCiAgICAgIG51bWJlckZvcm1hdDogJ2MwJywKICAgICAgbWVtYmVyRGF0YTogW10sCiAgICAgIC8vam91cm5hbAogICAgICBqb3VybmFsTnVtYmVyOiAnJywKICAgICAgam91cm5hbFByZWZpeDogJycsCiAgICAgIGpvdXJuYWxUeG5UeXBlOiBFbnRpdHlUeXBlLkpPVVJOQUwsCiAgICAgIGxvZ2dlZFVzZXI6IG5ldyBVc2VyTW9kZWwoY29va2llcy51c2VyKSwKICAgICAgc2VnbWVudHM6IFtdLAogICAgICBzZWdtZW50OiB7fSwKICAgICAgYWNjb3VudE5hbWU6ICduYW1lJywKICAgICAgdG90YWxSZW1haW5uaW5nOiAwLAogICAgICBwZW5hbHR5QWNjb3VudDoge30sCiAgICAgIG9sZEludGVyZXN0OiAwLAogICAgICBpbnB1dERlYzogMiwKICAgICAgcGVuYWx0eUFjY291bnRzOiBbXSwKICAgICAgdHJhbnNhY3Rpb25UeXBlOiB7fSwKICAgICAgc3VmZml4OiAnJwogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgICdhcHAtZGF0ZXBpY2tlcic6IERhdGVQaWNrZXJDb21wb25lbnQsCiAgICBMb2FkaW5nTWU6IGZ1bmN0aW9uIExvYWRpbmdNZSgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL0xvYWRpbmciKTsKICAgIH0sCiAgICBWdWVOdW1lcmljOiBWdWVOdW1lcmljCiAgfSwKICBtZXRob2RzOiB7CiAgICByb3dOdW1iZXJUbXBsOiBmdW5jdGlvbiByb3dOdW1iZXJUbXBsKGRhdGFJdGVtKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuc2NoZWR1bGVBUi5rZW5kb1dpZGdldCgpLAogICAgICAgICAgaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKCiAgICAgIGlmIChpbmRleCA9PT0gdGhpcy5zY2hlZHVsZUFSLmxlbmd0aCAtIDEpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGluZGV4ICsgMTsKICAgICAgfQogICAgfSwKICAgIGxvYW5DaGFuZ2U6IGZ1bmN0aW9uIGxvYW5DaGFuZ2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhfdGhpcy5sLmxvYW4sICdsb2FuJyk7CiAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW5jeUNvZGUgPSBfdGhpcy5sLmxvYW4uY3VycmVuY3kuY29kZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmxvYWRUcmFuc2FjdGlvblJhdGUoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5zaG93TG9hZGluZ0xvYW4gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGxvYW5IYW5kbGVyLmxvYW5TY2hlZHVsZUdldChfdGhpcy5sLmxvYW4uaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNob3dMb2FkaW5nTG9hbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhkYXRhLCAnc2NoZWR1bGUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvdGFsID0gMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYgPSBfdGhpcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNjaGVkdWxlQVIgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uIChpLCB2KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYuc3RhdHVzID09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsICs9IHBhcnNlRmxvYXQodi5kYXRhLnByaW5jaXBhbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgKz0gcGFyc2VGbG9hdCh2LmRhdGEuaW50ZXJlc3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zY2hlZHVsZUFSLnB1c2godik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudG90YWxSZW1haW5uaW5nID0gdG90YWwgKyBpbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmwuaW50ZXJlc3QgPSBpbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9sZEludGVyZXN0ID0gaW50OwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sLnByaW5jaXBhbCA9IHRvdGFsOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2V0TGFzdE51bSgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZFRvdGFsOiBmdW5jdGlvbiBhZGRUb3RhbCgpIHsKICAgICAgdGhpcy5zY2hlZHVsZUFSLnB1c2goewogICAgICAgIHByaW5jaXBhbF9yOiAnJywKICAgICAgICBwcmluY2lwYWw6IHBhcnNlRmxvYXQodGhpcy5sb2FuLmFtb3VudCksCiAgICAgICAgaW50ZXJlc3Q6IHRoaXMudG90YWxJbnRlcmVzdCwKICAgICAgICB0b3RhbDogdGhpcy50b3RhbFBheW1lbnQsCiAgICAgICAgZGF0ZTogJ1RvdGFsJywKICAgICAgICBsb2NhbGU6IHRoaXMuY3VycmVuY3lDb2RlLAogICAgICAgIG51bWJlckZvcm1hdDogdGhpcy5udW1iZXJGb3JtYXQsCiAgICAgICAgdHJhbnNhY3Rpb25fbnVtYmVyOiAnJwogICAgICB9KTsgLy8gd2luZG93LmNvbnNvbGUubG9nKHRoaXMuc2NoZWR1bGVBUiwgJ2xvYW4gc2NoZWR1bGUnKQogICAgfSwKICAgIG1ha2VCYWxhbmNlOiBmdW5jdGlvbiBtYWtlQmFsYW5jZShhbXQpIHsKICAgICAgdmFyIGlkeCA9IHBhcnNlRmxvYXQodGhpcy5sb2FuLnBlcmlvZCkgLSAxOwogICAgICB2YXIgb2FtdCA9IHRoaXMuc2NoZWR1bGVBUltpZHhdLnByaW5jaXBhbDsKICAgICAgdmFyIG5hbXQgPSBvYW10ICsgYW10OwogICAgICBuYW10ID0gcGFyc2VGbG9hdChuYW10LnRvRml4ZWQodGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbCkpOwogICAgICB0aGlzLnNjaGVkdWxlQVJbaWR4XS5wcmluY2lwYWwgPSBuYW10OwogICAgICB0aGlzLnNjaGVkdWxlQVJbaWR4XS50b3RhbCA9IHRoaXMuc2NoZWR1bGVBUltpZHhdLmludGVyZXN0ICsgbmFtdDsKICAgIH0sCiAgICBmaXhSYXRlOiBmdW5jdGlvbiBmaXhSYXRlKFAsIHIsIHQpIHsKICAgICAgLy8gdmFyIEMgPSAwOwogICAgICAvLyB2YXIgYSA9IFAqcjsKICAgICAgLy8gdmFyIGIgPSBNYXRoLnBvdygoMStyKSwgdCk7CiAgICAgIC8vICAgICBiID0gcGFyc2VGbG9hdChiLnRvRml4ZWQoMikpOwogICAgICAvLyB2YXIgYyA9IDEvYjsKICAgICAgLy8gdmFyIGQgPSAxIC0gYzsKICAgICAgLy8gICAgIGQgPSBwYXJzZUZsb2F0KGQudG9GaXhlZCgyKSk7CiAgICAgIC8vIEMgPSBhL2Q7CiAgICAgIC8vIGNvbnNvbGUubG9nKFArIi0tIityKyItLSIrdCk7CiAgICAgIC8vIHJldHVybiBDOwogICAgICB2YXIgbCA9IDEgLyB0LAogICAgICAgICAgaSA9IHIgKiBsLAogICAgICAgICAgbiA9IHQ7CiAgICAgIHZhciBlbWkgPSBpICogUCAvIFsxIC0gTWF0aC5wb3coMSArIGksIC1uKV07CiAgICAgIHJldHVybiBlbWk7CiAgICB9LAogICAgZXJyb3JNZXNzYWdlOiBmdW5jdGlvbiBlcnJvck1lc3NhZ2UoKSB7fSwKICAgIHplcm9QYWQ6IGZ1bmN0aW9uIHplcm9QYWQobnVtLCBwbGFjZXMpIHsKICAgICAgcmV0dXJuIFN0cmluZyhudW0pLnBhZFN0YXJ0KHBsYWNlcywgJzAnKTsKICAgIH0sCiAgICAvLyBhc3luYyBsb2FkUHJlZml4KCkgewogICAgLy8gICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgLy8gICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAvLyAgICAgICAgICAgICBwcmVmaXhIYW5kbGVyLmdldCgnaW52b2ljZScpLnRoZW4ocmVzID0+IHsKICAgIC8vICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLmludm9pY2VUeXBlID0gcmVzLmRhdGEuZGF0YVswXQogICAgLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEludm9pY2VMYXN0TnVtYmVyKCkKICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgICB9KQogICAgLy8gICAgICAgICB9LCAzMDApOwogICAgLy8gICAgIH0pCiAgICAvLyB9LAogICAgZ2V0SW52b2ljZUxhc3ROdW1iZXI6IGZ1bmN0aW9uIGdldEludm9pY2VMYXN0TnVtYmVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGFiYnI6IHRoaXMuaW52b2ljZVR5cGUuYWJiciwKICAgICAgICBzdHJ1Y3R1cmU6IHRoaXMuaW52b2ljZVR5cGUuc3RydWN0dXJlLAogICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogdGhpcy5sLmlzc3VlZERhdGUsCiAgICAgICAgc2VxdWNlbmNpbmc6IHRoaXMuaW52b2ljZVR5cGUuc2VxdWNlbmNpbmcsCiAgICAgICAgdHlwZTogJ0ludm9pY2UnLAogICAgICAgIGVudGl0eTogMQogICAgICB9OwogICAgICBiaWxsaW5nSGFuZGxlci5sYXN0TnVtYmVyKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczIubGFzdE51bWJlciA9IHJlc3BvbnNlLmRhdGEuZGF0YTsgLy8gd2luZG93LmNvbnNvbGUubG9nKHRoaXMubGFzdE51bWJlciwgJ2xhc3QgbnVtYmVyJykKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKGUpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRMb2FuOiBmdW5jdGlvbiBnZXRMb2FuKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLmwubWVtYmVyKTsKICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgbWVtYmVySGFuZGxlci5nZXRMb2FuQnlNZW1iZXJJZChfdGhpczMubC5tZW1iZXIuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBfdGhpczMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgX3RoaXMzLmxvYW5MaXN0ID0gcmVzLmRhdGEuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgICAgIHJldHVybiBvYmouc3RhdHVzID09IDM7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSwgMzAwKTsKICAgICAgfSk7CiAgICB9LAogICAgLy9jdXN0b21lcgogICAgb25DdXN0b21lckNoYW5nZTogZnVuY3Rpb24gb25DdXN0b21lckNoYW5nZShldmVudCkgewogICAgICB2YXIgdmFsdWUgPSBldmVudC52YWx1ZTsKCiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZVt0ZXh0RmllbGRdID09PSBlbXB0eUl0ZW1bdGV4dEZpZWxkXSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5jdXN0b21lciA9IHZhbHVlOwogICAgICB0aGlzLmwuY3VzdG9tZXIgPSB2YWx1ZTsKICAgICAgdGhpcy5nZXRMb2FuKCk7CiAgICB9LAogICAgb25DdXN0b21lckZpbHRlckNoYW5nZTogZnVuY3Rpb24gb25DdXN0b21lckZpbHRlckNoYW5nZShldmVudCkgewogICAgICB2YXIgZmlsdGVyID0gZXZlbnQuZmlsdGVyLnZhbHVlOwogICAgICB0aGlzLmN1c3RvbWVyUmVxdWVzdERhdGEoMCwgZmlsdGVyLCB0aGlzLmN1c0Jhc2VVcmwpOwogICAgICB0aGlzLmN1c3RvbWVyZmlsdGVyID0gZmlsdGVyOwogICAgfSwKICAgIGN1c3RvbWVyUmVxdWVzdERhdGE6IGZ1bmN0aW9uIGN1c3RvbWVyUmVxdWVzdERhdGEoc2tpcCwgZmlsdGVyLCBiYXNlVXJsKSB7CiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyhiYXNlVXJsLCAncmVxdScpCiAgICAgIHZhciB1cmwgPSBiYXNlVXJsICsgIj9maWx0ZXI9Ii5jb25jYXQoZmlsdGVyKTsKICAgICAgdGhpcy5yZXF1ZXN0U3RhcnRlZCA9IHRydWU7CiAgICAgIGZldGNoKHVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICB9KS50aGVuKHRoaXMuY3VzdG9tZXJBZnRlckZldGNoKTsKICAgIH0sCiAgICBjdXN0b21lckFmdGVyRmV0Y2g6IGZ1bmN0aW9uIGN1c3RvbWVyQWZ0ZXJGZXRjaChqc29uKSB7CiAgICAgIHRoaXMuY3VzdG9tZXJMaXN0ID0ganNvbi5kYXRhOwogICAgfSwKICAgIC8vbWVtYmVyCiAgICBzZWxlY3RNZW1iZXJDaGFuZ2U6IGZ1bmN0aW9uIHNlbGVjdE1lbWJlckNoYW5nZSgpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0TWVtYmVyID09ICdpc01lbWJlcicpIHsKICAgICAgICB0aGlzLmxvYW4uaXNNZW1iZXIgPSAxOwogICAgICAgIHRoaXMubWVtYmVyRGF0YSA9IHRoaXMubWVtYmVyTGlzdDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxvYW4uaXNNZW1iZXIgPSAyOwogICAgICAgIHRoaXMubWVtYmVyRGF0YSA9IHRoaXMuY3VzdG9tZXJMaXN0OwogICAgICB9CgogICAgICB0aGlzLmxvYW4ubWVtYmVyID0ge307CiAgICB9LAogICAgb25NZW1iZXJDaGFuZ2U6IGZ1bmN0aW9uIG9uTWVtYmVyQ2hhbmdlKCkgewogICAgICB0aGlzLmdldExvYW4oKTsKICAgIH0sCiAgICBvbk1lbWJlckZpbHRlckNoYW5nZTogZnVuY3Rpb24gb25NZW1iZXJGaWx0ZXJDaGFuZ2UoZXZlbnQpIHsKICAgICAgdmFyIGZpbHRlciA9IGV2ZW50LmZpbHRlci52YWx1ZTsKICAgICAgdGhpcy5tZW1iZXJSZXF1ZXN0RGF0YSgwLCBmaWx0ZXIsIHRoaXMubWVtQmFzZVVybCk7CiAgICAgIHRoaXMubWVtYmVyZmlsdGVyID0gZmlsdGVyOwogICAgfSwKICAgIG1lbWJlclJlcXVlc3REYXRhOiBmdW5jdGlvbiBtZW1iZXJSZXF1ZXN0RGF0YShza2lwLCBmaWx0ZXIsIGJhc2VVcmwpIHsKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKGJhc2VVcmwsICdyZXF1JykKICAgICAgdmFyIHVybCA9IGJhc2VVcmwgKyAiP2ZpbHRlcj0iLmNvbmNhdChmaWx0ZXIpOwogICAgICB0aGlzLnJlcXVlc3RTdGFydGVkID0gdHJ1ZTsKICAgICAgZmV0Y2godXJsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgIH0pLnRoZW4odGhpcy5tZW1iZXJBZnRlckZldGNoKTsKICAgIH0sCiAgICBtZW1iZXJBZnRlckZldGNoOiBmdW5jdGlvbiBtZW1iZXJBZnRlckZldGNoKGpzb24pIHsKICAgICAgdGhpcy5tZW1iZXJMaXN0ID0ganNvbi5kYXRhOwogICAgfSwKICAgIGxvYWRUcmFuc2FjdGlvblJhdGU6IGZ1bmN0aW9uIGxvYWRUcmFuc2FjdGlvblJhdGUoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShfdGhpczQubC5pc3N1ZWREYXRlKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBfdGhpczQuY3VycmVuY3lDb2RlOwoKICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPT0gdW5kZWZpbmVkIHx8IGNvZGUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeUhhbmRsZXIuZ2V0TGFzdEV4Y2hhbmdlUmF0ZUJ5RGF0ZShkYXRlLCBjb2RlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IHJlcy5kYXRhLmRhdGFbMF07IC8vIHdpbmRvdy5jb25zb2xlLmxvZyhyZXNwb25zZSwgJ2N1cnJlbmN5IHJhdGUnKQoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVzcG9uc2UpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5leGNoYW5nZVJhdGUgPSByZXNwb25zZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5sLmV4Y2hhbmdlUmF0ZSA9IF90aGlzNC5leGNoYW5nZVJhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQubC5yYXRlID0gcmVzcG9uc2UucmF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5yYXRlID0gcmVzcG9uc2UucmF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LiRzbm90aWZ5LmVycm9yKCdQbGVhc2Ugc2V0IGV4Y2hhbmdlIHJhdGUgb24gY3VycmVuY3kgc2V0dGluZycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5jYW5jZWwoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZERlY2ltYWw6IGZ1bmN0aW9uIGxvYWREZWNpbWFsKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIGxvYW5IYW5kbGVyLmRlY2ltYWxHZXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5kZWNpbWFscyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbnVtYmVyRm9ybWF0YTogZnVuY3Rpb24gbnVtYmVyRm9ybWF0YSh2YWx1ZSkgewogICAgICBpZiAodGhpcy5jdXJyZW5jeUNvZGUpIHsKICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpOwogICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyh2YWx1ZSwgdGhpcy5udW1iZXJGb3JtYXQpOwogICAgICB9CiAgICB9LAogICAgLy9mdW5jdGlvbgogICAgYWRkRW1wdHk6IGZ1bmN0aW9uIGFkZEVtcHR5KCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczYubCA9IG5ldyBDbG9zZUxvYW5Nb2RlbCh7fSk7CiAgICAgICAgICAgICAgICBfdGhpczYubG9hbiA9IHt9OwogICAgICAgICAgICAgICAgX3RoaXM2LmN1c3RvbWVyID0ge307CiAgICAgICAgICAgICAgICBfdGhpczYubWVtYmVyID0ge307CiAgICAgICAgICAgICAgICBfdGhpczYubC5jYXNoQWNjb3VudCA9IF90aGlzNi5jYXNoQWNjb3VudHNbMF07CiAgICAgICAgICAgICAgICBfdGhpczYuY3VycmVuY3lDb2RlID0gJyc7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmxvYWRMb2FuKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB3aW5kb3cuaGlzdG9yeS5nbygtMSk7CiAgICB9LAogICAgc2F2ZU5ldzogZnVuY3Rpb24gc2F2ZU5ldygpIHsKICAgICAgdGhpcy5pc1NhdmVOZXcgPSB0cnVlOwogICAgICB0aGlzLnNhdmVPcHRpb24gPSAnc2F2ZU5ldyc7CiAgICAgIHRoaXMuc2F2ZSgpOwogICAgfSwKICAgIHNhdmVDbG9zZTogZnVuY3Rpb24gc2F2ZUNsb3NlKCkgewogICAgICB0aGlzLmlzU2F2ZU5ldyA9IGZhbHNlOwogICAgICB0aGlzLnNhdmVPcHRpb24gPSAnc2F2ZUNsb3NlJzsKICAgICAgdGhpcy5hZGRKb3VybmFsKCk7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM3Lmwuc2F2ZU9wdGlvbiA9IF90aGlzNy5zYXZlT3B0aW9uOwogICAgICAgICAgICAgICAgX3RoaXM3LnNob3dMb2FkaW5nRGF0YSA9IHRydWU7CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIGxvYW5IYW5kbGVyLmNsb3NlTG9hbkNyZWF0ZShuZXcgQ2xvc2VMb2FuTW9kZWwoX3RoaXM3LmwpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnNob3dMb2FkaW5nRGF0YSA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuJHNub3RpZnkuc3VjY2VzcygnU3VjY2Vzc2Z1bGx5Jyk7CgogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5nbygtMSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy4kc25vdGlmeS5lcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcnKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuZXJyb3JzLnB1c2goZSk7CgogICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGUsICdlcnJvcicpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRTZWdtZW50OiBmdW5jdGlvbiBsb2FkU2VnbWVudCgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczguc2VnbWVudCA9IHt9OwogICAgICAgICAgICAgICAgICAgIGxvYW5IYW5kbGVyLmJ1c2luZXNzU2V0dGluZ0dldCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IHJlcy5kYXRhLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChvYmopIHsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqLnR5cGUgPT0gIkNyZWRpdCI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5zZWdtZW50ID0gc1swXS5zZWdtZW50OwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC4kc25vdGlmeS5lcnJvcignUGxlYXNlIHNlbGVjdCBzZWdtZW50IG9uIHNldHRpbmcgcGFnZScpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczguY2FuY2VsKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQWNjb3VudDogZnVuY3Rpb24gbG9hZEFjY291bnQoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICAgICAgICAgICAgYWNjb3VudEhhbmRsZXIuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gd2luZG93LmNvbnNvbGUubG9nKHJlcywgJ2FjYycpCiAgICAgICAgICAgICAgICAgICAgICAvL1JlY2VpdmFibGUgQWNjb3VudAoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5jYXNoQWNjb3VudHMgPSByZXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYWNjb3VudF90eXBlLm51bWJlciA9PT0gMTsKICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoaXRtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0bS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGl0bS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0bS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6IGl0bS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaXRtLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICBpc190YXhhYmxlOiBpdG0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5oamlBY2NDb2RlOiBpdG0uYmFuaGppQWNjQ29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9jb2RlOiBpdG0uZ3JvdXBfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfYWNjb3VudDogaXRtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfY29kZTogaXRtLnR5cGVfY29kZQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczkucGVuYWx0eUFjY291bnRzID0gcmVzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmFjY291bnRfdHlwZS5udW1iZXIgPT09IDM4OwogICAgICAgICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogaXRtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRtLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxfbmFtZTogaXRtLmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpdG0ubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0bS5pc190YXhhYmxlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmhqaUFjY0NvZGU6IGl0bS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX2NvZGU6IGl0bS5ncm91cF9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdG0ucGFyZW50X2FjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9jb2RlOiBpdG0udHlwZV9jb2RlCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM5LnBlbmFsdHlBY2NvdW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5sLnBlbmFsdHlBY2NvdW50ID0gX3RoaXM5LnBlbmFsdHlBY2NvdW50c1swXTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM5LmNhc2hBY2NvdW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5sLmNhc2hBY2NvdW50ID0gX3RoaXM5LmNhc2hBY2NvdW50c1swXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBqb3VuYWwKICAgIGdldEpvdXJuYWxOdW1iZXI6IGZ1bmN0aW9uIGdldEpvdXJuYWxOdW1iZXIoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHZhciBudW07CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBIZWxwZXIuZ2VuZXJhdGVBY2NvdW50aW5nTnVtYmVyKF90aGlzMTAuam91cm5hbFR4blR5cGUsIF90aGlzMTAubC5pc3N1ZWREYXRlKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgbnVtID0gX2NvbnRleHQ4LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczEwLmpvdXJuYWxOdW1iZXIgPSBudW0ubnVtYmVyOwogICAgICAgICAgICAgICAgX3RoaXMxMC5qb3VybmFsUHJlZml4ID0gbnVtLnByZWZpeF9mb3JtYXQ7CiAgICAgICAgICAgICAgICBfdGhpczEwLmwuam91cm5hbE51bWJlciA9IG51bS5udW1iZXI7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZEpvdXJuYWw6IGZ1bmN0aW9uIGFkZEpvdXJuYWwoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHZhciBvYmosIGFtdCwgam91cm5MaW5lLCBzZWxmOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBvYmogPSBfdGhpczExLmw7IC8vIGNvbnN0IHNlZyA9IHRoaXMuc2VnbWVudAoKICAgICAgICAgICAgICAgIGlmIChfdGhpczExLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMTEuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMS5zY2hlZHVsZUFSLmxlbmd0aCA9PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczExLmwudXNlciA9IF90aGlzMTEubG9nZ2VkVXNlcjsKICAgICAgICAgICAgICAgIF90aGlzMTEubC50b3RhbEFtb3VudCA9IF90aGlzMTEudG90YWxSZW1haW5uaW5nOwogICAgICAgICAgICAgICAgX3RoaXMxMS5sLnNjaGVkdWxlcyA9IF90aGlzMTEuc2NoZWR1bGVBUjsKCiAgICAgICAgICAgICAgICBfdGhpczExLnNhdmUoKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBpZiAoIShPYmplY3Qua2V5cyhvYmoubG9hbikubGVuZ3RoID09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMTEuJHNub3RpZnkuZXJyb3IoJ1BsZWFzZSBzZWxlY3QgYSBsb2FuIG51bWJlcicpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF90aGlzMTEuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgYW10ID0gcGFyc2VGbG9hdChfdGhpczExLnRvdGFsUmVtYWlubmluZykgKyBwYXJzZUZsb2F0KG9iai5wZW5hbHR5KTsKICAgICAgICAgICAgICAgIGpvdXJuTGluZSA9IFtdOwogICAgICAgICAgICAgICAgam91cm5MaW5lLnB1c2goewogICAgICAgICAgICAgICAgICAidXVpZCI6ICIiLAogICAgICAgICAgICAgICAgICAiYWNjb3VudCI6IG9iai5sb2FuLmxvYW5BY2NvdW50LAogICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiBvYmoubm90ZSwKICAgICAgICAgICAgICAgICAgInByaW1hcnlfY29udGFjdCI6IHt9LAogICAgICAgICAgICAgICAgICAidGhpcmRfY29udGFjdHMiOiBbXSwKICAgICAgICAgICAgICAgICAgInJlZl9udW1iZXIiOiAnJywKICAgICAgICAgICAgICAgICAgImFtb3VudCI6IHBhcnNlRmxvYXQoYW10KSwKICAgICAgICAgICAgICAgICAgImRpc2NvdW50Ijoge30sCiAgICAgICAgICAgICAgICAgICJtYXJrX3VwIjogMCwKICAgICAgICAgICAgICAgICAgImJpbGxhYmxlIjogMCwKICAgICAgICAgICAgICAgICAgInRheF9jb2RlIjogIiIsCiAgICAgICAgICAgICAgICAgICJwYXltZW50X21ldGhvZCI6IHt9LAogICAgICAgICAgICAgICAgICAiY3VycmVuY3kiOiBfdGhpczExLmV4Y2hhbmdlUmF0ZSwKICAgICAgICAgICAgICAgICAgImV4Y2hhbmdlX3JhdGVfdXVpZCI6ICIiLAogICAgICAgICAgICAgICAgICAiZXhjaGFuZ2VfcmF0ZSI6IF90aGlzMTEucmF0ZSwKICAgICAgICAgICAgICAgICAgImV4Y2hhbmdlZF9hbW91bnQiOiBwYXJzZUZsb2F0KGFtdCkgKiBwYXJzZUZsb2F0KF90aGlzMTEucmF0ZSksCiAgICAgICAgICAgICAgICAgICJ0YXhfYW1vdW50IjogMCwKICAgICAgICAgICAgICAgICAgImV4Y2hhbmdlZF90YXhfYW1vdW50IjogMCwKICAgICAgICAgICAgICAgICAgImlzX3JlY29uY2lsZWQiOiAwLAogICAgICAgICAgICAgICAgICAiaXNfc2V0dGxlZCI6IDAsCiAgICAgICAgICAgICAgICAgICJjbGFzc18xX3V1aWQiOiAiIiwKICAgICAgICAgICAgICAgICAgImNsYXNzXzJfdXVpZCI6ICIiLAogICAgICAgICAgICAgICAgICAiY2xhc3NfM191dWlkIjogIiIsCiAgICAgICAgICAgICAgICAgICJjbGFzc180X3V1aWQiOiAiIiwKICAgICAgICAgICAgICAgICAgImNsYXNzXzVfdXVpZCI6ICIiLAogICAgICAgICAgICAgICAgICAicGF5bWVudF9tZXRob2RfYXMiOiAiIiwKICAgICAgICAgICAgICAgICAgImNyZWF0ZWRfYnkiOiBudWxsLAogICAgICAgICAgICAgICAgICAibW9kaWZpZWRfYnkiOiBudWxsLAogICAgICAgICAgICAgICAgICAiY3JlYXRlZF9kYXRlIjogbnVsbCwKICAgICAgICAgICAgICAgICAgIm1vZGlmaWVkX2RhdGUiOiBudWxsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGpvdXJuTGluZS5wdXNoKHsKICAgICAgICAgICAgICAgICAgInV1aWQiOiAiIiwKICAgICAgICAgICAgICAgICAgImFjY291bnQiOiBvYmouY2FzaEFjY291bnQsCiAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6IF90aGlzMTEuam91cm5hbC5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgInByaW1hcnlfY29udGFjdCI6IHt9LAogICAgICAgICAgICAgICAgICAidGhpcmRfY29udGFjdHMiOiBbXSwKICAgICAgICAgICAgICAgICAgInJlZl9udW1iZXIiOiAnJywKICAgICAgICAgICAgICAgICAgImFtb3VudCI6IHBhcnNlRmxvYXQoX3RoaXMxMS50b3RhbFJlbWFpbm5pbmcpICogLTEsCiAgICAgICAgICAgICAgICAgICJkaXNjb3VudCI6IHt9LAogICAgICAgICAgICAgICAgICAibWFya191cCI6IDAsCiAgICAgICAgICAgICAgICAgICJiaWxsYWJsZSI6IDAsCiAgICAgICAgICAgICAgICAgICJ0YXhfY29kZSI6ICIiLAogICAgICAgICAgICAgICAgICAicGF5bWVudF9tZXRob2QiOiB7fSwKICAgICAgICAgICAgICAgICAgImN1cnJlbmN5IjogX3RoaXMxMS5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgICAgICJleGNoYW5nZV9yYXRlX3V1aWQiOiAiIiwKICAgICAgICAgICAgICAgICAgImV4Y2hhbmdlX3JhdGUiOiBfdGhpczExLnJhdGUsCiAgICAgICAgICAgICAgICAgICJleGNoYW5nZWRfYW1vdW50IjogcGFyc2VGbG9hdChfdGhpczExLnRvdGFsUmVtYWlubmluZykgKiAtMSAqIHBhcnNlRmxvYXQoX3RoaXMxMS5yYXRlKSwKICAgICAgICAgICAgICAgICAgInRheF9hbW91bnQiOiAwLAogICAgICAgICAgICAgICAgICAiZXhjaGFuZ2VkX3RheF9hbW91bnQiOiAwLAogICAgICAgICAgICAgICAgICAiaXNfcmVjb25jaWxlZCI6IDAsCiAgICAgICAgICAgICAgICAgICJpc19zZXR0bGVkIjogMCwKICAgICAgICAgICAgICAgICAgImNsYXNzXzFfdXVpZCI6ICIiLAogICAgICAgICAgICAgICAgICAiY2xhc3NfMl91dWlkIjogIiIsCiAgICAgICAgICAgICAgICAgICJjbGFzc18zX3V1aWQiOiAiIiwKICAgICAgICAgICAgICAgICAgImNsYXNzXzRfdXVpZCI6ICIiLAogICAgICAgICAgICAgICAgICAiY2xhc3NfNV91dWlkIjogIiIsCiAgICAgICAgICAgICAgICAgICJwYXltZW50X21ldGhvZF9hcyI6ICIiLAogICAgICAgICAgICAgICAgICAiY3JlYXRlZF9ieSI6IG51bGwsCiAgICAgICAgICAgICAgICAgICJtb2RpZmllZF9ieSI6IG51bGwsCiAgICAgICAgICAgICAgICAgICJjcmVhdGVkX2RhdGUiOiBudWxsLAogICAgICAgICAgICAgICAgICAibW9kaWZpZWRfZGF0ZSI6IG51bGwKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChvYmoucGVuYWx0eSA+IDApIHsKICAgICAgICAgICAgICAgICAgam91cm5MaW5lLnB1c2goewogICAgICAgICAgICAgICAgICAgICJ1dWlkIjogIiIsCiAgICAgICAgICAgICAgICAgICAgImFjY291bnQiOiBvYmoucGVuYWx0eUFjY291bnQsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogJycsCiAgICAgICAgICAgICAgICAgICAgInByaW1hcnlfY29udGFjdCI6IHt9LAogICAgICAgICAgICAgICAgICAgICJ0aGlyZF9jb250YWN0cyI6IFtdLAogICAgICAgICAgICAgICAgICAgICJyZWZfbnVtYmVyIjogJycsCiAgICAgICAgICAgICAgICAgICAgImFtb3VudCI6IHBhcnNlRmxvYXQob2JqLnBlbmFsdHkpICogLTEsCiAgICAgICAgICAgICAgICAgICAgImRpc2NvdW50Ijoge30sCiAgICAgICAgICAgICAgICAgICAgIm1hcmtfdXAiOiAwLAogICAgICAgICAgICAgICAgICAgICJiaWxsYWJsZSI6IDAsCiAgICAgICAgICAgICAgICAgICAgInRheF9jb2RlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgInBheW1lbnRfbWV0aG9kIjoge30sCiAgICAgICAgICAgICAgICAgICAgImN1cnJlbmN5IjogX3RoaXMxMS5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgICAgICAgImV4Y2hhbmdlX3JhdGVfdXVpZCI6ICIiLAogICAgICAgICAgICAgICAgICAgICJleGNoYW5nZV9yYXRlIjogX3RoaXMxMS5yYXRlLAogICAgICAgICAgICAgICAgICAgICJleGNoYW5nZWRfYW1vdW50IjogcGFyc2VGbG9hdChvYmoucGVuYWx0eSkgKiAtMSAqIHBhcnNlRmxvYXQoX3RoaXMxMS5yYXRlKSwKICAgICAgICAgICAgICAgICAgICAidGF4X2Ftb3VudCI6IDAsCiAgICAgICAgICAgICAgICAgICAgImV4Y2hhbmdlZF90YXhfYW1vdW50IjogMCwKICAgICAgICAgICAgICAgICAgICAiaXNfcmVjb25jaWxlZCI6IDAsCiAgICAgICAgICAgICAgICAgICAgImlzX3NldHRsZWQiOiAwLAogICAgICAgICAgICAgICAgICAgICJjbGFzc18xX3V1aWQiOiAiIiwKICAgICAgICAgICAgICAgICAgICAiY2xhc3NfMl91dWlkIjogIiIsCiAgICAgICAgICAgICAgICAgICAgImNsYXNzXzNfdXVpZCI6ICIiLAogICAgICAgICAgICAgICAgICAgICJjbGFzc180X3V1aWQiOiAiIiwKICAgICAgICAgICAgICAgICAgICAiY2xhc3NfNV91dWlkIjogIiIsCiAgICAgICAgICAgICAgICAgICAgInBheW1lbnRfbWV0aG9kX2FzIjogIiIsCiAgICAgICAgICAgICAgICAgICAgImNyZWF0ZWRfYnkiOiBudWxsLAogICAgICAgICAgICAgICAgICAgICJtb2RpZmllZF9ieSI6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgImNyZWF0ZWRfZGF0ZSI6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgIm1vZGlmaWVkX2RhdGUiOiBudWxsCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSAvLyBBUEkgSm91cm5hbAoKCiAgICAgICAgICAgICAgICBzZWxmID0gX3RoaXMxMTsgLy8gbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAvLyAgICAgIm51bWJlciI6IHRoaXMuam91cm5hbE51bWJlciwKICAgICAgICAgICAgICAgIC8vICAgICAiZGVzY3JpcHRpb24iOiBvYmoubm90ZSwKICAgICAgICAgICAgICAgIC8vICAgICAiam91cm5hbF90eXBlIjogImdlbmVyYWxfam91cm5hbCIsCiAgICAgICAgICAgICAgICAvLyAgICAgImpvdXJuYWxfZGF0ZSI6IG5ldyBEYXRlKG9iai5pc3N1ZWREYXRlKSwKICAgICAgICAgICAgICAgIC8vICAgICAiY3VycmVuY3lfY29kZSI6IHRoaXMuY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgICAgLy8gICAgICJidWluc2Vzc191bml0X3V1aWQiOiAiIiwKICAgICAgICAgICAgICAgIC8vICAgICAibG9jYXRpb25fdXVpZCI6ICIiLAogICAgICAgICAgICAgICAgLy8gICAgICJwcm9qZWN0X3V1aWQiOiAiIiwKICAgICAgICAgICAgICAgIC8vICAgICAic2VnbWVudF91dWlkIjogJycsCiAgICAgICAgICAgICAgICAvLyAgICAgImpvdXJuYWxfZW50cmllcyI6IGpvdXJuTGluZSwKICAgICAgICAgICAgICAgIC8vICAgICAidHJhbnNhY3Rpb25fdHlwZSI6ICJqb3VybmFsIiwKICAgICAgICAgICAgICAgIC8vICAgICAiaXNfZHJhZnQiOiAwLAogICAgICAgICAgICAgICAgLy8gICAgICJpc19yZXZlcnNlZCI6IDAsCiAgICAgICAgICAgICAgICAvLyAgICAgInByZWZpeF9mb3JtYXQiOiB0aGlzLmpvdXJuYWxQcmVmaXgsCiAgICAgICAgICAgICAgICAvLyAgICAgImNyZWF0ZWRfYnkiOiB0aGlzLmxvZ2dlZFVzZXIKICAgICAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgICAgICBfdGhpczExLmpvdXJuYWwucHJlZml4X2Zvcm1hdCA9IF90aGlzMTEuam91cm5hbFByZWZpeDsKICAgICAgICAgICAgICAgIF90aGlzMTEuam91cm5hbC5qb3VybmFsX2VudHJpZXMgPSBqb3VybkxpbmU7CiAgICAgICAgICAgICAgICBfdGhpczExLmpvdXJuYWwuY3VycmVuY3lfY29kZSA9IF90aGlzMTEuY3VycmVuY3lDb2RlOwogICAgICAgICAgICAgICAgX3RoaXMxMS5qb3VybmFsLmpvdXJuYWxfZGF0ZSA9IEhlbHBlci50b0lTT0RhdGUoX3RoaXMxMS5sLmlzc3VlZERhdGUpOwogICAgICAgICAgICAgICAgX3RoaXMxMS5qb3VybmFsLmNyZWF0ZWRfYnkgPSBfdGhpczExLmxvZ2dlZFVzZXI7CgogICAgICAgICAgICAgICAgaWYgKG9iai5sb2FuLmhhc093blByb3BlcnR5KCdzZWdtZW50JykpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMS5qb3VybmFsLnNlZ21lbnRfdXVpZCA9IG9iai5sb2FuLnNlZ21lbnQuaWQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKG9iai5sb2FuLmhhc093blByb3BlcnR5KCdsb2NhdGlvbicpKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTEuam91cm5hbC5sb2NhdGlvbl91dWlkID0gb2JqLmxvYW4ubG9jYXRpb24uaWQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgam91cm5hbEhhbmRsZXIuc2F2ZShuZXcgSm91cm5hbE1vZGVsKF90aGlzMTEuam91cm5hbCkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIHNlbGYubC51c2VyID0gc2VsZi5sb2dnZWRVc2VyOwogICAgICAgICAgICAgICAgICBzZWxmLmwudG90YWxBbW91bnQgPSBzZWxmLnRvdGFsUmVtYWlubmluZzsKICAgICAgICAgICAgICAgICAgc2VsZi5sLnNjaGVkdWxlcyA9IHNlbGYuc2NoZWR1bGVBUjsKICAgICAgICAgICAgICAgICAgc2VsZi5sLmpvdXJuYWxJZCA9IHJlc3BvbnNlLmRhdGEudXVpZDsKICAgICAgICAgICAgICAgICAgc2VsZi5zYXZlKCk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgSGVscGVyLmFsZXJ0RXJyb3JNc2coZXJyb3IpOwogICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHNlbGYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZEFjY291bnROYW1lOiBmdW5jdGlvbiBsb2FkQWNjb3VudE5hbWUoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5zZWdtZW50cyA9IFtdOwogICAgICAgICAgICAgICAgICAgIGxvYW5IYW5kbGVyLmFjY291bnROYW1lR2V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLmFjY291bnROYW1lID0gcmVzLmRhdGEuZGF0YVswXS5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy9udW1iZXIKICAgIC8vIGFzeW5jIGdldExhc3ROdW1iZXIoKSB7CiAgICAvLyAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAvLyAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgLy8gICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgIC8vICAgICAgICAgICAgIGxldCBkYXRhID0gewogICAgLy8gICAgICAgICAgICAgICAgIHR5cGU6ICJDbG9zZUxvYW4iLAogICAgLy8gICAgICAgICAgICAgfTsKICAgIC8vICAgICAgICAgICAgIGxvYW5IYW5kbGVyCiAgICAvLyAgICAgICAgICAgICAgICAgLmdldExhc3ROdW1iZXIoZGF0YSkudGhlbihyZXMgPT4gewogICAgLy8gICAgICAgICAgICAgICAgIHRoaXMubC5sYXN0TnVtYmVyID0gcmVzLmRhdGEuZGF0YS5sYXN0TnVtYmVyCiAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZU51bWJlcigpCiAgICAvLyAgICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5LmVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZycpCiAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChlKQogICAgLy8gICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyhlKQogICAgLy8gICAgICAgICAgICAgfSkKICAgIC8vICAgICAgICAgfSwgMzAwKTsKICAgIC8vICAgICB9KQogICAgLy8gfSwKICAgIC8vIGdlbmVyYXRlTnVtYmVyKCl7CiAgICAvLyAgICAgbGV0IG5ld051bSA9ICcnCiAgICAvLyAgICAgbGV0IGFiYnIgPSAnQ0xPQU4nCiAgICAvLyAgICAgbGV0IGxudW0gPSB0aGlzLnplcm9QYWQodGhpcy5sLmxhc3ROdW1iZXIsIDYpCiAgICAvLyAgICAgbmV3TnVtID0gYWJicitsbnVtCiAgICAvLyAgICAgdGhpcy5sLmFiYnIgPSBhYmJyCiAgICAvLyAgICAgdGhpcy5sLm51bWJlciA9IG5ld051bQogICAgLy8gfSwKICAgIHBlbmFsdHlDaGFuZ2U6IGZ1bmN0aW9uIHBlbmFsdHlDaGFuZ2UoKSB7CiAgICAgIGlmICh0aGlzLmwucGVuYWx0eSA+IDApIHsKICAgICAgICB0aGlzLnRvdGFsUmVtYWlubmluZyArPSBwYXJzZUZsb2F0KHRoaXMubC5wZW5hbHR5KTsKICAgICAgfQogICAgfSwKICAgIGxvYWRTaW5nbGVQZW5hbHR5OiBmdW5jdGlvbiBsb2FkU2luZ2xlUGVuYWx0eSgpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBsb2FuSGFuZGxlci5wZW5hbHR5R2V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IHJlcy5kYXRhLmRhdGFbMF0uQWNjb3VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLnBlbmFsdHlBY2NvdW50ID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGEuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBhLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuaGppQWNjQ29kZTogYS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfY29kZTogYS5ncm91cF9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfdGF4YWJsZTogYS5pc190YXhhYmxlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxfbmFtZTogYS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBhLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBhLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9jb2RlOiBhLnR5cGVfY29kZQogICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy4kc25vdGlmeS5lcnJvcignUGxlYXNlIHNldCBwZW5hbHR5IGFjY291bnQgb24gZ2VuZXJhbCBzZXR0aW5nJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuY2FuY2VsKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBpbnRlcmVzdENoYW5nZTogZnVuY3Rpb24gaW50ZXJlc3RDaGFuZ2UoKSB7CiAgICAgIGlmICh0aGlzLmwuaW50ZXJlc3QgPiB0aGlzLm9sZEludGVyZXN0KSB7CiAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcignSW50ZXJlc3QgYW1vdW50IGludmFsaWQnKTsKICAgICAgICB0aGlzLmwuaW50ZXJlc3QgPSB0aGlzLm9sZEludGVyZXN0OwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBpbnQgPSB0aGlzLm9sZEludGVyZXN0IC0gdGhpcy5sLmludGVyZXN0OwogICAgICAgIHRoaXMudG90YWxSZW1haW5uaW5nIC09IGludDsKICAgICAgfQogICAgfSwKICAgIGxvYWRTYWxlRm9ybUNvbnRlbnQ6IGZ1bmN0aW9uIGxvYWRTYWxlRm9ybUNvbnRlbnQoKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgc2FsZUZvcm1Db250ZW50SGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnNhbGVGb3JtQ29udGVudCA9IGRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5udW1iZXJGb3JtYXQgPSAnbicgKyBfdGhpczE0LnNhbGVGb3JtQ29udGVudC5kZWNpbWFsOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuaW5wdXREZWMgPSBwYXJzZUludChfdGhpczE0LnNhbGVGb3JtQ29udGVudC5kZWNpbWFsKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkTG9hbjogZnVuY3Rpb24gbG9hZExvYW4oKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLmxvYW5MaXN0ID0gW107CiAgICAgIGxvYW5IYW5kbGVyLmxvYW5HZXRzKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdmFyIGQgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG9iai5zdGF0dXMgPT0gJ2FjdGl2ZSc7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgaWYgKGQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIF90aGlzMTUubG9hbkxpc3QgPSBkOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzMTUuY2FuY2VsKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdlbmVyYXRlTnVtYmVyOiBmdW5jdGlvbiBnZW5lcmF0ZU51bWJlcigpIHsKICAgICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgYWJicjogdGhpcy50cmFuc2FjdGlvblR5cGUuYWJiciwKICAgICAgICBzdHJ1Y3R1cmU6IHRoaXMudHJhbnNhY3Rpb25UeXBlLnN0cnVjdHVyZSwKICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IHRoaXMubC5pc3N1ZWREYXRlLAogICAgICAgIHR5cGU6ICJDbG9zZSBMb2FuIgogICAgICB9OwogICAgICBiaWxsaW5nSGFuZGxlci5sYXN0TnVtYmVyKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgX3RoaXMxNi5zdWZmaXggPSByZXMuc3VmZml4OwoKICAgICAgICAgIF90aGlzMTYuZ2V0TGFzdE51bSgpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczE2LmVycm9ycy5wdXNoKGUpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRMYXN0TnVtOiBmdW5jdGlvbiBnZXRMYXN0TnVtKCkgewogICAgICB2YXIgX3RoaXMxNyA9IHRoaXM7CgogICAgICB2YXIgZCA9IHsKICAgICAgICB0eXBlOiAiQ2xvc2VMb2FuIgogICAgICB9OwogICAgICBsb2FuSGFuZGxlci5nZXRMYXN0TnVtYmVyKGQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczE3LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKICAgICAgICAgIHZhciBsYXN0TnVtYmVyID0gX3RoaXMxNy56ZXJvUGFkKHBhcnNlSW50KHJlcy5sYXN0TnVtYmVyKSwgX3RoaXMxNy50cmFuc2FjdGlvblR5cGUuZm9ybWF0KTsKCiAgICAgICAgICBfdGhpczE3LmwubGFzdE51bWJlciA9IHBhcnNlSW50KHJlcy5sYXN0TnVtYmVyKTsKICAgICAgICAgIHZhciBudW1iZXIgPSBfdGhpczE3LnN1ZmZpeCArIF90aGlzMTcudHJhbnNhY3Rpb25UeXBlLm51bWJlclNlcGFyYXRvciArIGxhc3ROdW1iZXI7CiAgICAgICAgICB2YXIgZGVzID0gJyc7CgogICAgICAgICAgaWYgKE9iamVjdC5rZXlzKF90aGlzMTcubC5sb2FuKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGRlcyA9ICJDbG9zZSBMb2FuIGZyb20gIi5jb25jYXQoX3RoaXMxNy5sLmxvYW4uZmluYW5jaWFsSW5zdGl0dXRpb25zLm5hbWUsICIgRm9yIExvYW4gTnVtYmVyICIpLmNvbmNhdChfdGhpczE3LmwubG9hbi5hcHByb3ZlTnVtYmVyKTsKICAgICAgICAgIH0KCiAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coKTsKICAgICAgICAgIF90aGlzMTcuam91cm5hbCA9IG5ldyBKb3VybmFsTW9kZWwoewogICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzLAogICAgICAgICAgICB0cmFuc2FjdGlvbl90eXBlOiBMb2FuVHlwZS5DTE9TRSwKICAgICAgICAgICAgam91cm5hbF90eXBlOiBMb2FuVHlwZS5DTE9TRQogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpczE3LmpvdXJuYWwuYWJiciA9IF90aGlzMTcudHJhbnNhY3Rpb25UeXBlLmFiYnI7IC8vIHRoaXMubG9hbi5hY3RpdmVEYXRlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7CiAgICAgICAgICAvLyBBZGQgMiBkZWZhdWx0IHJvd3MKICAgICAgICAgIC8vIHRoaXMuYWRkUm93VCh0aGlzLiRyZWZzLmNhc2hCYW5rQWNjb3VudERTLmtlbmRvV2lkZ2V0KCkpOwogICAgICAgICAgLy8gZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IDI7IGluZGV4KyspIHsKICAgICAgICAgIC8vICAgICB0aGlzLmFkZFJvdyh0aGlzLiRyZWZzLnJlbGF0ZWRDb3N0RFMua2VuZG9XaWRnZXQoKSk7CiAgICAgICAgICAvLyB9CgogICAgICAgICAgX3RoaXMxNy5qb3VybmFsLm51bWJlciA9IF90aGlzMTcudHJhbnNhY3Rpb25UeXBlLmFiYnIgKyBfdGhpczE3LnRyYW5zYWN0aW9uVHlwZS5udW1iZXJTZXBhcmF0b3IgKyBudW1iZXI7CiAgICAgICAgICBfdGhpczE3LmwuYWJiciA9IF90aGlzMTcudHJhbnNhY3Rpb25UeXBlLmFiYnI7CiAgICAgICAgICBfdGhpczE3LmwubnVtYmVyID0gX3RoaXMxNy50cmFuc2FjdGlvblR5cGUuYWJiciArIF90aGlzMTcudHJhbnNhY3Rpb25UeXBlLm51bWJlclNlcGFyYXRvciArIG51bWJlcjsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGUpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2FkUHJlZml4OiBmdW5jdGlvbiBsb2FkUHJlZml4KCkgewogICAgICB2YXIgX3RoaXMxOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczE4LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgcHJlZml4SGFuZGxlci5nZXQoImNsb3NlIGxvYW4iKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE4LnRyYW5zYWN0aW9uVHlwZSA9IHJlcy5kYXRhLmRhdGFbMF07CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE4LmdlbmVyYXRlTnVtYmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfbW91bnRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRTYWxlRm9ybUNvbnRlbnQoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEpvdXJuYWxOdW1iZXIoKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTQsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHJldHVybiBfbW91bnRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBtb3VudGVkOwogIH0oKSwKICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2NyZWF0ZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgdGhpcy5hZGRFbXB0eSgpOwogICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZFByZWZpeCgpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZEFjY291bnQoKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTUsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAgIHJldHVybiBfY3JlYXRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBjcmVhdGVkOwogIH0oKQp9Ow=="},{"version":3,"sources":["CloseLoan.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col cols=\"12\" sm=\"12\">\n                    <v-card outlined dense class=\"pa-4 no_border rounded-sm\" color=\"white\">\n                        <v-row>\n                            <v-col class=\"bigSide py-0\" sm=\"12\" cols=\"12\" style=\"transition: .3s ease-in;\">\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <div class=\"function_header\">\n                                        <h2>{{ $t('close_loan') }}</h2>\n                                        <v-icon\n                                            onclick=\"window.history.go(-1); return false;\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                    </div>\n                                    <div class=\"\">\n                                        <!-- Form -->\n                                        <v-form\n                                            ref=\"form\"\n                                            v-model=\"valid\"\n                                            lazy-validation>\n                                            <v-col>\n                                                <v-row>\n                                                    <v-col sm=\"6\" cols=\"12\" class=\"pl-0 pb-0\">\n                                                        <label class=\"label mb-0\">{{ $t('date') }}</label>\n                                                        <app-datepicker\n                                                            class=\"mt-1\"\n                                                            :initialDate=\"l.issuedDate\"\n                                                            @emitDate=\"l.issuedDate = $event\"/>\n                                                        <label\n                                                            class=\"label mb-0\">{{ $t('transaction_number') }}</label>\n                                                        <v-text-field\n                                                            class=\"mt-1\"\n                                                            v-model=\"l.number\"\n                                                            outlined\n                                                            disabled\n                                                            :rules=\"[v => !!v || 'Number is required']\"\n                                                        />\n                                                        <label class=\"label  mb-0\">{{ $t('loan') }}</label>\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            :items=\"loanList\"\n                                                            :placeholder=\"$t('select')\"\n                                                            item-text=\"name\"\n                                                            item-value=\"id\"\n                                                            tage=\"\"\n                                                            v-model=\"l.loan\"\n                                                            @change=\"loanChange\"\n                                                            :rules=\"[v => !!v || 'Loan is required']\"\n                                                            return-object\n                                                            outlined/>\n                                                        <label class=\"label  mb-0\">{{ $t('cash_account') }}</label>\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            :items=\"cashAccounts\"\n                                                            :placeholder=\"$t('select')\"\n                                                            :item-text=\"item => `${accountName=='name'?item.name:item.local_name}`\"\n                                                            tage=\"\"\n                                                            v-model=\"l.cashAccount\"\n                                                            :rules=\"[v => !!v || 'Cash account is required']\"\n                                                            return-object\n                                                            outlined/>\n                                                        <label class=\"label\">{{ $t('penalty_account') }}</label>\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            outlined\n                                                            return-object\n                                                            id=\"\"\n                                                            :items=\"penaltyAccounts\"\n                                                            item-text=\"name\"\n                                                            item-value=\"id\"\n                                                            v-model=\"l.penaltyAccount\"\n                                                        />\n                                                    </v-col>\n\n                                                    <v-col sm=\"6\" cols=\"6\" class=\"pb-0 function_content pa-3\">\n                                                        <v-card class=\"pa-3 no-boxshadow d-flex justify-space-between align-center\"\n                                                                min-height=\"50px\" color=\"primary\">\n                                                            <h3 style=\"font-size: 18px\" class=\"text-white text-uppercase\">\n                                                                {{ $t('amount_remaining') }}:</h3>\n                                                            <h3 class=\"text-bold float-right text-white\" style=\"font-size: 22px\">\n                                                                {{ numberFormata(totalRemainning) }}</h3>\n\n                                                        </v-card>\n                                                        <v-simple-table>\n                                                            <template v-slot:default>\n                                                                <tbody>\n                                                                <tr>\n                                                                    <td class=\"text-left pr-0\">{{\n                                                                            $t('principal_remaining')\n                                                                        }}\n                                                                    </td>\n                                                                    <td class=\"text-center\">:</td>\n                                                                    <td class=\"text-right\">\n                                                                        {{ numberFormata(l.principal) }}\n                                                                    </td>\n                                                                </tr>\n                                                                <tr>\n                                                                    <td class=\"text-left pr-0\">{{\n                                                                            $t('interest_remaining')\n                                                                        }} ({{ numberFormata(oldInterest) }})\n                                                                    </td>\n                                                                    <td class=\"text-center\">:</td>\n                                                                    <td class=\"text-right pl-2 pt-2\">\n                                                                        <vue-numeric\n                                                                            style=\"width: 100%;font-size: 18px;background-color: #ffff;border-radius: 4px;text-align: right;border: 1px solid #ddd !important; padding: 9px !important; margin-bottom: 15px;\"\n                                                                            class=\"mt-1 mr-2 mt-0 text-bold pa-4\"\n                                                                            currency=\"\"\n                                                                            separator=\",\"\n                                                                            v-bind:minus=\"false\"\n                                                                            v-bind:precision=\"inputDec\"\n                                                                            v-model=\"l.interest\"\n                                                                            @change=\"interestChange\"\n                                                                            outlined\n                                                                        >\n                                                                        </vue-numeric>\n                                                                    </td>\n                                                                </tr>\n                                                                <tr>\n                                                                    <td class=\"text-left pr-0\">{{\n                                                                            $t('penalty_amount')\n                                                                        }}\n                                                                    </td>\n                                                                    <td class=\"text-center\">:</td>\n                                                                    <td class=\"text-right pl-2 pt-2\">\n                                                                        <vue-numeric\n                                                                            style=\"width: 100%;font-size: 18px;background-color: #ffff;border-radius: 4px;text-align: right;border: 1px solid #ddd !important; padding: 9px !important; margin-bottom: 15px;\"\n                                                                            class=\"mt-1 mr-2 mt-0 text-bold pa-4\"\n                                                                            currency=\"\"\n                                                                            separator=\",\"\n                                                                            v-bind:minus=\"false\"\n                                                                            v-bind:precision=\"inputDec\"\n                                                                            v-model=\"l.penalty\"\n                                                                            @change=\"penaltyChange\"\n                                                                            outlined\n                                                                        >\n                                                                        </vue-numeric>\n                                                                    </td>\n                                                                </tr>\n                                                                <tr>\n                                                                    <td class=\"text-left pr-0\">{{\n                                                                            $t('reference_no')\n                                                                        }}\n                                                                    </td>\n                                                                    <td class=\"text-center\">:</td>\n                                                                    <td class=\"text-right pl-2 pt-2\">\n                                                                        <v-text-field\n                                                                            class=\"mt-1\"\n                                                                            v-model=\"l.referenceNumber\"\n                                                                            outlined\n                                                                        />\n                                                                    </td>\n                                                                </tr>\n                                                                <tr>\n                                                                    <td class=\"text-left pr-0\">{{\n                                                                            $t('currency')\n                                                                        }}\n                                                                    </td>\n                                                                    <td class=\"text-center\">:</td>\n                                                                    <td class=\"text-right\">\n                                                                        {{currencyCode}}\n                                                                    </td>\n                                                                </tr>\n                                                                <tr>\n                                                                    <td class=\"text-left pr-0\">{{\n                                                                            $t('rate')\n                                                                        }}\n                                                                    </td>\n                                                                    <td class=\"text-center\">:</td>\n                                                                    <td class=\"text-right\">\n                                                                        {{ rate }}\n                                                                    </td>\n                                                                </tr>\n                                                                </tbody>\n                                                            </template>\n\n                                                        </v-simple-table>\n                                                        <v-textarea\n                                                            v-model=\"l.note\"\n                                                            class=\"mt-4\"\n                                                            solo\n                                                            :label=\"$t('note')+'...'\"\n                                                            name=\"input-7-4\">\n                                                        </v-textarea>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-form>\n                                        <!-- Grid -->\n                                    </div>\n                                    <div class=\"function_footer\">\n                                        <v-btn outlined color=\"#494846\" class=\"float-left text-capitalize\"\n                                               @click=\"cancel\">{{ $t('cancel') }}\n                                        </v-btn>\n\n                                        <v-btn color=\"primary\" class=\"float-right white--text text-capitalize\"\n                                               @click=\"saveClose\">\n                                            {{ $t('save_close') }}\n                                        </v-btn>\n                                    </div>\n                                </v-form>\n                            </v-col>\n                        </v-row>\n\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"true\"\n                :myLoading=\"true\"\n                :alertMessage=\"loadingAlert\"\n                :color=\"loadingColorAlert\"\n                :alertText=\"loadingTextAlert\"/>\n            <LoadingMe\n                :isLoading=\"showLoadingData\"\n                :fullPage=\"true\"\n                :myLoading=\"true\"/>\n            <LoadingMe\n                :isLoading=\"showLoadingLoan\"\n                :fullPage=\"true\"\n                :myLoading=\"true\"/>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport Helper from \"@/helper.js\"\nimport DatePickerComponent from '@/components/custom_templates/DatePickerComponent'\n// import {DropDownList} from \"@progress/kendo-vue-dropdowns\"\nimport kendo from \"@progress/kendo-ui\"\nconst $ = kendo.jQuery\nimport CloseLoanModel from '@/scripts/financing/model/CloseLoan'\n\nconst memberHandler = require(\"@/scripts/memberHandler\")\nconst customerHandler = require(\"@/scripts/customerHandler\")\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\")\n// const loanHandler = require(\"@/scripts/loanHandler\")\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\")\nconst prefixHandler = require(\"@/scripts/prefixHandler\")\n// const accountHandler = require(\"@/scripts/accountHandler\")\nimport {accountHandler} from \"@/scripts/AppHandlers\";\n\nconst textField = 'name'\nconst keyField = 'id'\nconst customerItem = {[textField]: 'Select Customer...', [keyField]: null}\nconst memberItem = {[textField]: 'Select Member...', [keyField]: null}\nconst emptyItem = {[textField]: 'loading ...'}\nconst store = require(\"@/institute.js\")\nconst {cookies} = store.default.state\n\n// journal\nimport {JournalModel, UserModel} from \"@/scripts/model/AppModels\"\nimport saleFormContentHandler from \"@/scripts/saleFormContentHandler\";\nconst { journalHandler } = require(\"@/scripts/AppHandlers\");\nconst {EntityType} = require(\"@/scripts/default_setup/Collections\")\nconst loanHandler = require(\"@/scripts/financing/handler/loanHandler\")\nimport VueNumeric from 'vue-numeric'\nimport LoanType from \"@/scripts/default_setup/LoanType.js\";\nexport default {\n    data: () => ({\n        valid: true,\n        showLoading: false,\n        showLoadingData: false,\n        showLoadingLoan: false,\n        errors: [],\n        user: new UserModel(cookies.user),\n        loadingAlert: false,\n        loadingColorAlert: '',\n        loadingTextAlert: '',\n        textField: 'name',\n        dataItemKey: 'id',\n        selectMember: 'isMember',\n        isMember: true,\n        isCustom: false,\n        cashAccounts: [],\n        saleFormContent: {},\n        currencyCode: '',\n        invoiceType: {},\n        lastNumber: {},\n        scheduleAR: [],\n        loanAmount: 0,\n        rate: 1,\n        //\n        disbursList: [],\n        l: new CloseLoanModel({}),\n        loan: {},\n        loanList: [],\n        totalPayment: 0,\n        monthlyPayment: 0,\n        totalInterest: 0,\n        //customer\n        cusBaseUrl: customerHandler.search(),\n        customerList: [],\n        customerItem: customerItem,\n        customerfilter: '',\n        //member\n        memBaseUrl: memberHandler.search(),\n        memberList: [],\n        memberItem: memberItem,\n        memberfilter: '',\n        decimals: [],\n        numberFormat: 'c0',\n        memberData: [],\n        //journal\n        journalNumber: '',\n        journalPrefix: '',\n        journalTxnType: EntityType.JOURNAL,\n        loggedUser: new UserModel(cookies.user),\n        segments: [],\n        segment: {},\n        accountName: 'name',\n        totalRemainning: 0,\n        penaltyAccount: {},\n        oldInterest: 0,\n        inputDec: 2,\n        penaltyAccounts: [],\n        transactionType: {},\n        suffix: ''\n    }),\n    components: {\n        'app-datepicker': DatePickerComponent,\n        LoadingMe: () => import(`@/components/Loading`),\n        VueNumeric\n    },\n    methods: {\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.scheduleAR.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            if (index === (this.scheduleAR.length - 1)) {\n                return ''\n            } else {\n                return index + 1\n            }\n        },\n        async loanChange() {\n            window.console.log(this.l.loan, 'loan')\n            this.currencyCode = this.l.loan.currency.code\n            await this.loadTransactionRate()\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.showLoadingLoan = true\n                    loanHandler.loanScheduleGet(this.l.loan.id).then(res => {\n                        this.showLoading = false\n                        if (res.data.statusCode === 200) {\n                            this.showLoadingLoan = false\n                            let data = res.data.data\n                            window.console.log(data, 'schedule')\n                            let total = 0, self = this, int = 0\n                            this.scheduleAR = []\n                            $.each(data, function (i,v){\n                                if(v.status == 1){\n                                    total += parseFloat(v.data.principal)\n                                    int += parseFloat(v.data.interest)\n                                    self.scheduleAR.push(v)\n                                }\n                            })\n                            this.totalRemainning = total + int\n                            this.l.interest = int\n                            this.oldInterest = int\n                            this.l.principal = total\n                            this.getLastNum()\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 300)\n            })\n        },\n        addTotal() {\n            this.scheduleAR.push({\n                principal_r: '',\n                principal: parseFloat(this.loan.amount),\n                interest: this.totalInterest,\n                total: this.totalPayment,\n                date: 'Total',\n                locale: this.currencyCode,\n                numberFormat: this.numberFormat,\n                transaction_number: '',\n            })\n            // window.console.log(this.scheduleAR, 'loan schedule')\n        },\n        makeBalance(amt) {\n            let idx = parseFloat(this.loan.period) - 1\n            let oamt = this.scheduleAR[idx].principal\n            let namt = oamt + amt\n            namt = parseFloat(namt.toFixed(this.saleFormContent.decimal))\n            this.scheduleAR[idx].principal = namt\n            this.scheduleAR[idx].total = this.scheduleAR[idx].interest + namt\n        },\n        fixRate(P, r, t) {\n            // var C = 0;\n            // var a = P*r;\n            // var b = Math.pow((1+r), t);\n            //     b = parseFloat(b.toFixed(2));\n            // var c = 1/b;\n            // var d = 1 - c;\n            //     d = parseFloat(d.toFixed(2));\n            // C = a/d;\n            // console.log(P+\"--\"+r+\"--\"+t);\n            // return C;\n            let l = 1 / t, i = r * l, n = t\n            let emi = i * P / [1 - Math.pow((1 + i), -n)]\n            return emi\n        },\n        errorMessage() {\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, '0')\n        },\n        // async loadPrefix() {\n        //     new Promise(resolve => {\n        //         setTimeout(() => {\n        //             resolve('resolved');\n        //             prefixHandler.get('invoice').then(res => {\n        //                 if (res.data.statusCode === 200) {\n        //                     this.showLoading = false\n        //                     this.invoiceType = res.data.data[0]\n        //                     this.getInvoiceLastNumber()\n        //                 }\n        //             })\n        //         }, 300);\n        //     })\n        // },\n        getInvoiceLastNumber() {\n            let data = {\n                abbr: this.invoiceType.abbr,\n                structure: this.invoiceType.structure,\n                transactionDate: this.l.issuedDate,\n                sequcencing: this.invoiceType.sequcencing,\n                type: 'Invoice',\n                entity: 1\n            }\n            billingHandler.lastNumber(data).then(response => {\n                if (response.data.statusCode === 200) {\n                    this.lastNumber = response.data.data\n                    // window.console.log(this.lastNumber, 'last number')\n                }\n            }).catch(e => {\n                this.errors.push(e)\n            })\n        },\n        getLoan() {\n            window.console.log(this.l.member)\n            this.showLoading = true\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    memberHandler.getLoanByMemberId(this.l.member.id).then(res => {\n                        this.showLoading = false\n                        this.loanList = res.data.data.filter((obj) => {\n                            return obj.status == 3\n                        })\n                    })\n                }, 300);\n            })\n        },\n        //customer\n        onCustomerChange(event) {\n            const value = event.value\n            if (value && value[textField] === emptyItem[textField]) {\n                return;\n            }\n            this.customer = value\n            this.l.customer = value\n            this.getLoan()\n        },\n        onCustomerFilterChange(event) {\n            const filter = event.filter.value\n            this.customerRequestData(0, filter, this.cusBaseUrl)\n            this.customerfilter = filter\n        },\n        customerRequestData(skip, filter, baseUrl) {\n            // window.console.log(baseUrl, 'requ')\n            const url = baseUrl +\n                `?filter=${filter}`\n            this.requestStarted = true;\n            fetch(url)\n                .then((response) => {\n                    return response.json()\n                })\n                .then(this.customerAfterFetch)\n        },\n        customerAfterFetch(json) {\n            this.customerList = json.data\n        },\n        //member\n        selectMemberChange() {\n            if (this.selectMember == 'isMember') {\n                this.loan.isMember = 1\n                this.memberData = this.memberList\n            } else {\n                this.loan.isMember = 2\n                this.memberData = this.customerList\n            }\n            this.loan.member = {}\n        },\n        onMemberChange() {\n            this.getLoan()\n        },\n        onMemberFilterChange(event) {\n            const filter = event.filter.value\n            this.memberRequestData(0, filter, this.memBaseUrl)\n            this.memberfilter = filter\n        },\n        memberRequestData(skip, filter, baseUrl) {\n            // window.console.log(baseUrl, 'requ')\n            const url = baseUrl +\n                `?filter=${filter}`\n            this.requestStarted = true;\n            fetch(url)\n                .then((response) => {\n                    return response.json()\n                })\n                .then(this.memberAfterFetch)\n        },\n        memberAfterFetch(json) {\n            this.memberList = json.data\n        },\n        async loadTransactionRate() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    const date = new Date(this.l.issuedDate).toISOString().substr(0, 10)\n                    let code = this.currencyCode\n                    if (code !== undefined || code !== '') {\n                        currencyHandler.getLastExchangeRateByDate(date, code).then(res => {\n                            if (res.data.statusCode === 200) {\n                                const response = res.data.data[0]\n                                // window.console.log(response, 'currency rate')\n                                if(Object.keys(response).length > 0){\n                                    this.exchangeRate = response\n                                    this.l.exchangeRate = this.exchangeRate\n                                    this.l.rate = response.rate\n                                    this.rate = response.rate\n                                }else{\n                                    this.$snotify.error('Please set exchange rate on currency setting')\n                                    this.cancel()\n                                }\n                                this.showLoading = false\n                            }\n                        })\n                    }\n                }, 300)\n            })\n        },\n        async loadDecimal() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    loanHandler.decimalGet().then(res => {\n                        this.decimals = res.data.data\n                    })\n                }, 300);\n            })\n        },\n        numberFormata(value) {\n            if (this.currencyCode) {\n                value = parseFloat(value)\n                return kendo.toString(value, this.numberFormat)\n            }\n        },\n        //function\n        async addEmpty() {\n            this.l = new CloseLoanModel({})\n            this.loan = {}\n            this.customer = {}\n            this.member = {}\n            this.l.cashAccount = this.cashAccounts[0]\n            this.currencyCode = ''\n            await this.loadLoan()\n        },\n        cancel() {\n            window.history.go(-1)\n        },\n        saveNew() {\n            this.isSaveNew = true\n            this.saveOption = 'saveNew'\n            this.save()\n        },\n        saveClose() {\n            this.isSaveNew = false\n            this.saveOption = 'saveClose'\n            this.addJournal()\n        },\n        async save() {\n            this.l.saveOption = this.saveOption\n            this.showLoadingData = true\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    loanHandler.closeLoanCreate(new CloseLoanModel(this.l)).then(response => {\n                        this.showLoadingData = false\n                        if (response.data.statusCode === 201) {\n                            this.$snotify.success('Successfully')\n                            window.history.go(-1)\n                        }\n                    }).catch(e => {\n                        this.$snotify.error('Something went wrong')\n                        this.errors.push(e)\n                        window.console.log(e, 'error')\n                    })\n                }, 300);\n            })\n        },\n        async loadSegment() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.segment = {}\n                    loanHandler.businessSettingGet().then(res => {\n                        this.showLoading = true\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false\n                            let s = res.data.data.filter((obj) => {return obj.type == \"Credit\"})\n                            if(s.length > 0){\n                                this.segment = s[0].segment\n                            }else{\n                                this.$snotify.error('Please select segment on setting page')\n                                this.cancel()\n                            }\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 300)\n            })\n        },\n        async loadAccount() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    accountHandler.getAll().then(res => {\n                        this.showLoading = false\n                        // window.console.log(res, 'acc')\n                        //Receivable Account\n                        this.cashAccounts = res.data.filter(m => m.account_type.number === 1).map(itm => {\n                            return {\n                                id: itm.uuid,\n                                uuid: itm.uuid,\n                                name: itm.name,\n                                local_name: itm.local_name,\n                                number: itm.number,\n                                is_taxable: itm.is_taxable,\n                                banhjiAccCode: itm.banhjiAccCode,\n                                group_code: itm.group_code,\n                                parent_account: itm.parent_account,\n                                type_code: itm.type_code\n                            }\n                        })\n                        this.penaltyAccounts = res.data.filter(m => m.account_type.number === 38).map(itm => {\n                            return {\n                                id: itm.uuid,\n                                uuid: itm.uuid,\n                                name: itm.name,\n                                local_name: itm.local_name,\n                                number: itm.number,\n                                is_taxable: itm.is_taxable,\n                                banhjiAccCode: itm.banhjiAccCode,\n                                group_code: itm.group_code,\n                                parent_account: itm.parent_account,\n                                type_code: itm.type_code\n                            }\n                        })\n                        if (this.penaltyAccounts.length > 0) {\n                            this.l.penaltyAccount = this.penaltyAccounts[0]\n                        }\n                        if (this.cashAccounts.length > 0) {\n                            this.l.cashAccount = this.cashAccounts[0]\n                        }\n                    })\n                }, 300);\n            })\n        },\n        // jounal\n        async getJournalNumber() {\n            let num = await Helper.generateAccountingNumber(this.journalTxnType, this.l.issuedDate)\n            this.journalNumber = num.number\n            this.journalPrefix = num.prefix_format\n            this.l.journalNumber = num.number\n        },\n        async addJournal(){\n            const obj = this.l\n            // const seg = this.segment\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate()\n                return\n            }\n            if(this.scheduleAR.length == 0){\n                this.l.user = this.loggedUser\n                this.l.totalAmount = this.totalRemainning\n                this.l.schedules = this.scheduleAR\n                this.save()\n                return\n            }\n            // let customer = obj.member\n            // if(Object.keys(customer).length == 0){\n            //     this.$snotify.error('Please select a member or customer')\n            //     return\n            // }\n            if(Object.keys(obj.loan).length == 0){\n                this.$snotify.error('Please select a loan number')\n                return\n            }\n            this.showLoading = true\n            let amt = parseFloat(this.totalRemainning) + parseFloat(obj.penalty)\n            let journLine = []\n            journLine.push({\n                \"uuid\": \"\",\n                \"account\": obj.loan.loanAccount,\n                \"description\": obj.note,\n                \"primary_contact\": {},\n                \"third_contacts\": [],\n                \"ref_number\": '',\n                \"amount\": parseFloat(amt),\n                \"discount\": {},\n                \"mark_up\": 0,\n                \"billable\": 0,\n                \"tax_code\": \"\",\n                \"payment_method\": {},\n                \"currency\": this.exchangeRate,\n                \"exchange_rate_uuid\": \"\",\n                \"exchange_rate\": this.rate,\n                \"exchanged_amount\": parseFloat(amt) * parseFloat(this.rate),\n                \"tax_amount\": 0,\n                \"exchanged_tax_amount\": 0,\n                \"is_reconciled\": 0,\n                \"is_settled\": 0,\n                \"class_1_uuid\": \"\",\n                \"class_2_uuid\": \"\",\n                \"class_3_uuid\": \"\",\n                \"class_4_uuid\": \"\",\n                \"class_5_uuid\": \"\",\n                \"payment_method_as\": \"\",\n                \"created_by\": null,\n                \"modified_by\": null,\n                \"created_date\": null,\n                \"modified_date\": null\n            })\n            journLine.push({\n                \"uuid\": \"\",\n                \"account\": obj.cashAccount,\n                \"description\": this.journal.description,\n                \"primary_contact\": {},\n                \"third_contacts\": [],\n                \"ref_number\": '',\n                \"amount\": (parseFloat(this.totalRemainning) * -1),\n                \"discount\": {},\n                \"mark_up\": 0,\n                \"billable\": 0,\n                \"tax_code\": \"\",\n                \"payment_method\": {},\n                \"currency\": this.exchangeRate,\n                \"exchange_rate_uuid\": \"\",\n                \"exchange_rate\": this.rate,\n                \"exchanged_amount\": ((parseFloat(this.totalRemainning) * -1)*parseFloat(this.rate)),\n                \"tax_amount\": 0,\n                \"exchanged_tax_amount\": 0,\n                \"is_reconciled\": 0,\n                \"is_settled\": 0,\n                \"class_1_uuid\": \"\",\n                \"class_2_uuid\": \"\",\n                \"class_3_uuid\": \"\",\n                \"class_4_uuid\": \"\",\n                \"class_5_uuid\": \"\",\n                \"payment_method_as\": \"\",\n                \"created_by\": null,\n                \"modified_by\": null,\n                \"created_date\": null,\n                \"modified_date\": null\n            })\n            if(obj.penalty > 0){\n                journLine.push({\n                    \"uuid\": \"\",\n                    \"account\": obj.penaltyAccount,\n                    \"description\": '',\n                    \"primary_contact\": {},\n                    \"third_contacts\": [],\n                    \"ref_number\": '',\n                    \"amount\": (parseFloat(obj.penalty) * -1),\n                    \"discount\": {},\n                    \"mark_up\": 0,\n                    \"billable\": 0,\n                    \"tax_code\": \"\",\n                    \"payment_method\": {},\n                    \"currency\": this.exchangeRate,\n                    \"exchange_rate_uuid\": \"\",\n                    \"exchange_rate\": this.rate,\n                    \"exchanged_amount\": ((parseFloat(obj.penalty) * -1)*parseFloat(this.rate)),\n                    \"tax_amount\": 0,\n                    \"exchanged_tax_amount\": 0,\n                    \"is_reconciled\": 0,\n                    \"is_settled\": 0,\n                    \"class_1_uuid\": \"\",\n                    \"class_2_uuid\": \"\",\n                    \"class_3_uuid\": \"\",\n                    \"class_4_uuid\": \"\",\n                    \"class_5_uuid\": \"\",\n                    \"payment_method_as\": \"\",\n                    \"created_by\": null,\n                    \"modified_by\": null,\n                    \"created_date\": null,\n                    \"modified_date\": null\n                })\n            }\n            // API Journal\n            let self = this;\n            // let data = {\n            //     \"number\": this.journalNumber,\n            //     \"description\": obj.note,\n            //     \"journal_type\": \"general_journal\",\n            //     \"journal_date\": new Date(obj.issuedDate),\n            //     \"currency_code\": this.currencyCode,\n            //     \"buinsess_unit_uuid\": \"\",\n            //     \"location_uuid\": \"\",\n            //     \"project_uuid\": \"\",\n            //     \"segment_uuid\": '',\n            //     \"journal_entries\": journLine,\n            //     \"transaction_type\": \"journal\",\n            //     \"is_draft\": 0,\n            //     \"is_reversed\": 0,\n            //     \"prefix_format\": this.journalPrefix,\n            //     \"created_by\": this.loggedUser\n            // }\n            this.journal.prefix_format = this.journalPrefix\n            this.journal.journal_entries = journLine\n            this.journal.currency_code = this.currencyCode\n            this.journal.journal_date = Helper.toISODate(this.l.issuedDate)\n            this.journal.created_by = this.loggedUser\n            if(obj.loan.hasOwnProperty('segment')){\n                this.journal.segment_uuid = obj.loan.segment.id\n            }\n            if(obj.loan.hasOwnProperty('location')){\n                this.journal.location_uuid = obj.loan.location.id\n            }\n            journalHandler.save(new JournalModel(this.journal))\n                .then(function (response) {\n                    self.l.user = self.loggedUser\n                    self.l.totalAmount = self.totalRemainning\n                    self.l.schedules = self.scheduleAR\n                    self.l.journalId =  response.data.uuid\n                    self.save()\n                })\n                .catch(function (error) {\n                    Helper.alertErrorMsg(error)\n                    window.console.log(error)\n                })\n                .finally(() => {\n                    self.showLoading = false;\n                });\n        },\n        async loadAccountName() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.segments = []\n                    loanHandler.accountNameGet().then(res => {\n                        this.showLoading = true\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false\n                            if (res.data.data.length > 0) {\n                                this.accountName = res.data.data[0].name\n                            }\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 300)\n            })\n        },\n        //number\n        // async getLastNumber() {\n        //     new Promise(resolve => {\n        //         setTimeout(() => {\n        //             resolve('resolved');\n        //             let data = {\n        //                 type: \"CloseLoan\",\n        //             };\n        //             loanHandler\n        //                 .getLastNumber(data).then(res => {\n        //                 this.l.lastNumber = res.data.data.lastNumber\n        //                 this.generateNumber()\n        //             }).catch(e => {\n        //                 this.$snotify.error('Something went wrong')\n        //                 this.errors.push(e)\n        //                 // window.console.log(e)\n        //             })\n        //         }, 300);\n        //     })\n        // },\n        // generateNumber(){\n        //     let newNum = ''\n        //     let abbr = 'CLOAN'\n        //     let lnum = this.zeroPad(this.l.lastNumber, 6)\n        //     newNum = abbr+lnum\n        //     this.l.abbr = abbr\n        //     this.l.number = newNum\n        // },\n        penaltyChange(){\n            if(this.l.penalty > 0){\n                this.totalRemainning += parseFloat(this.l.penalty)\n            }\n        },\n        async loadSinglePenalty() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    loanHandler.penaltyGet().then(res => {\n                        this.showLoading = true\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false\n                            if(res.data.data.length > 0) {\n                                let a = res.data.data[0].Account\n                                this.penaltyAccount = {\n                                    id: a.id,\n                                    uuid: a.id,\n                                    banhjiAccCode: a.banhjiAccCode,\n                                    group_code: a.group_code,\n                                    is_taxable: a.is_taxable,\n                                    local_name: a.local_name,\n                                    name: a.name,\n                                    number: a.number,\n                                    parent_account: a.parent_account,\n                                    type_code: a.type_code\n                                }\n                            }else{\n                                this.$snotify.error('Please set penalty account on general setting')\n                                this.cancel()\n                            }\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 300)\n            })\n        },\n        interestChange(){\n            if(this.l.interest > this.oldInterest){\n                this.$snotify.error('Interest amount invalid')\n                this.l.interest = this.oldInterest\n            }else{\n                let int = this.oldInterest - this.l.interest\n                this.totalRemainning -= int\n            }\n        },\n        async loadSaleFormContent() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    saleFormContentHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            const data = res.data.data;\n                            if (data.length > 0) {\n                                this.saleFormContent = data[0];\n                                this.numberFormat = 'n' + this.saleFormContent.decimal\n                                this.inputDec = parseInt(this.saleFormContent.decimal)\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        loadLoan() {\n            this.showLoading = true\n            this.loanList = []\n            loanHandler.loanGets().then((res) => {\n                if (res.data.statusCode === 200) {\n                    const data = res.data.data;\n                    if (data.length > 0) {\n                        let d = data.filter((obj) => {return obj.status == 'active'})\n                        if(d.length > 0) {\n                            this.loanList = d\n                        }else{\n                            this.cancel()\n                        }\n                    }\n                }\n            })\n        },\n        generateNumber() {\n            let data = {\n                abbr: this.transactionType.abbr,\n                structure: this.transactionType.structure,\n                transactionDate: this.l.issuedDate,\n                type: \"Close Loan\",\n            };\n            billingHandler\n                .lastNumber(data)\n                .then((response) => {\n                    if (response.data.statusCode === 200) {\n                        const res = response.data.data;\n                        this.suffix = res.suffix;\n                        this.getLastNum();\n                    }\n                })\n                .catch((e) => {\n                    this.errors.push(e);\n                });\n        },\n        getLastNum(){\n            let d = {\n                type: \"CloseLoan\",\n            };\n            loanHandler\n                .getLastNumber(d)\n                .then((response) => {\n                    if (response.data.statusCode === 200) {\n                        this.showLoading = false\n                        const res = response.data.data;\n                        const lastNumber = this.zeroPad(\n                            parseInt(res.lastNumber),\n                            this.transactionType.format\n                        );\n                        this.l.lastNumber = parseInt(res.lastNumber)\n                        const number =\n                            this.suffix +\n                            this.transactionType.numberSeparator +\n                            lastNumber;\n                        let des = ''\n                        if(Object.keys(this.l.loan).length > 0){\n                            des = `Close Loan from ${this.l.loan.financialInstitutions.name} For Loan Number ${this.l.loan.approveNumber}`;\n                        }\n                        window.console.log()\n                        this.journal = new JournalModel({\n                            description: des,\n                            transaction_type: LoanType.CLOSE,\n                            journal_type: LoanType.CLOSE,\n                        });\n                        this.journal.abbr = this.transactionType.abbr\n                        // this.loan.activeDate = new Date().toISOString().substr(0, 10);\n\n                        // Add 2 default rows\n                        // this.addRowT(this.$refs.cashBankAccountDS.kendoWidget());\n                        // for (let index = 0; index < 2; index++) {\n                        //     this.addRow(this.$refs.relatedCostDS.kendoWidget());\n                        // }\n                        this.journal.number = this.transactionType.abbr + this.transactionType.numberSeparator + number\n                        this.l.abbr = this.transactionType.abbr\n                        this.l.number = this.transactionType.abbr + this.transactionType.numberSeparator + number;\n                    }\n                })\n                .catch((e) => {\n                    window.console.log(e);\n                });\n        },\n        async loadPrefix() {\n            this.showLoading = true\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    prefixHandler.get(\"close loan\").then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.transactionType = res.data.data[0];\n                            this.generateNumber();\n                        }\n                    });\n                }, 10);\n            });\n        },\n    },\n    computed: {},\n    mounted: async function () {\n        // await this.loadDecimal()\n        await this.loadSaleFormContent()\n        await this.getJournalNumber()\n    },\n    created: async function () {\n        this.addEmpty()\n        await this.loadPrefix()\n        await this.loadAccount()\n    },\n};\n</script>\n\n<style scoped>\n.k-dropdown {\n    width: 100%;\n    margin-top: 4px;\n}\n\n\n.function_content .label {\n    margin-bottom: 10px;\n    display: inline-block;\n}\n\n\n.color_green {\n    color: #03b154;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        /* max-width: 1250px; */\n        max-width: 1080px;\n    }\n}\n\n@media (max-width: 576px) {\n    .pt-6.col-sm-5.col-12 {\n        padding-top: 0 !important;\n    }\n\n    .code_text {\n        width: 100%;\n    }\n\n    .phone_no_pt {\n        padding-top: 0 !important;\n    }\n\n    .select_template,\n    .save_option {\n        margin-bottom: 10px;\n    }\n}\n\n\n.exchange-table.theme--light.v-data-table > .v-data-table__wrapper > table > thead > tr > th {\n    font-family: 'Krasar-Bold', serif;\n    color: #000 !important;\n    border-top: 1px solid #000 !important;\n    border-bottom: 1px solid #000 !important;\n    font-size: 15px !important;\n}\n\n.exchange-table.theme--light.v-data-table > .v-data-table__wrapper > table > thead > tr > td {\n    color: #000 !important;\n    padding: 5px !important;\n    border-bottom: 1px solid #000 !important;\n}\n\n.exchange-table.theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:last-child td {\n    border-bottom: 1px solid #000 !important;\n}\n\n.v-slide-group__content {\n    background-color: #F8F8F9 !important;\n}\n\n.v-tab--active {\n    background-color: #ffffff !important;\n    border-left: none;\n}\n\n.function_content {\n    padding: 0;\n    background-color: #F8F8F9;\n}\n\n.v-input--radio-group--row {\n    margin-top: 0px !important;\n    padding: 0px;\n}\n\n.v-input__control {\n    height: 25px !important;\n}\n</style>\n"],"sourceRoot":"src/views/finances"}]}