{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/suppliers/PurchaseReturns.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/suppliers/PurchaseReturns.vue","mtime":1639966363980},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktYWNjb3VudGluZy13ZWItbW9kdWxlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktYWNjb3VudGluZy13ZWItbW9kdWxlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1hY2NvdW50aW5nLXdlYi1tb2R1bGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKdmFyIF9kZWZhdWx0SXRlbTsKCmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IGtlbmRvIGZyb20gJ0Bwcm9ncmVzcy9rZW5kby11aScKaW1wb3J0IHsgaTE4biB9IGZyb20gIkAvaTE4biI7CmltcG9ydCBMb2FkaW5nTWUgZnJvbSAiQC9jb21wb25lbnRzL0xvYWRpbmciOwppbXBvcnQgRGF0ZVBpY2tlckNvbXBvbmVudCBmcm9tICJAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9EYXRlUGlja2VyQ29tcG9uZW50IjsKaW1wb3J0IERlYml0TWVtb01vZGVsIGZyb20gIkAvc2NyaXB0cy9wdXJjaGFzZV9yZXR1cm4vbW9kZWwvRGViaXRNZW1vIjsKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CmltcG9ydCB7IHV1aWQgfSBmcm9tICJ2dWUtdXVpZCI7CmltcG9ydCBQdXJjaGFzZUZvcm1Db250ZW50TW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL1B1cmNoYXNlRm9ybUNvbnRlbnQiOwppbXBvcnQgeyBEcm9wRG93bkxpc3QgfSBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdnVlLWRyb3Bkb3ducyI7CmltcG9ydCBJdGVtTGluZU1vZGVsIGZyb20gIkAvc2NyaXB0cy9wdXJjaGFzZS9tb2RlbC9JdGVtTGluZSI7CmltcG9ydCBBcHBseVRvTGluZU1vZGVsIGZyb20gIkAvc2NyaXB0cy9wdXJjaGFzZV9yZXR1cm4vbW9kZWwvQXBwbHlUb0xpbmUiOwppbXBvcnQgRGVwb3NpdExpbmVNb2RlbCBmcm9tICJAL3NjcmlwdHMvcHVyY2hhc2VfcmV0dXJuL21vZGVsL0RlcG9zaXRMaW5lIjsKaW1wb3J0IHsgU2hvd1Jlc291cmNlLCBkYXRhU3RvcmUgfSBmcm9tICJAL29ic2VydmFibGUvc3RvcmUiOwppbXBvcnQgUHVyY2hhc2VEZXBvc2l0SXRlbUxpbmVNb2RlbCBmcm9tICJAL3NjcmlwdHMvcHVyY2hhc2VfZGVwb3NpdC9tb2RlbC9JdGVtTGluZSI7CmltcG9ydCB7IHN1cHBsaWVySGFuZGxlciB9IGZyb20gIkAvc2NyaXB0cy9BcHBIYW5kbGVycyI7CmltcG9ydCBQYXltZW50T3B0aW9uRWRpdG9yIGZyb20gIkAvc2NyaXB0cy9rZW5kb19lZGl0b3IvUGF5bWVudE9wdGlvbkVkaXRvciI7CnZhciBkZWZhdWx0SXRlbSA9IChfZGVmYXVsdEl0ZW0gPSB7fSwgX2RlZmluZVByb3BlcnR5KF9kZWZhdWx0SXRlbSwgIm51bWJlck5hbWUiLCAiU2VsZWN0IHZlbmRvci4uLiIpLCBfZGVmaW5lUHJvcGVydHkoX2RlZmF1bHRJdGVtLCAiaWQiLCBudWxsKSwgX2RlZmF1bHRJdGVtKTsKCnZhciBwcmVmaXhIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3ByZWZpeEhhbmRsZXIiKTsKCnZhciBlbXB0eUl0ZW0gPSBfZGVmaW5lUHJvcGVydHkoe30sICJudW1iZXJOYW1lIiwgImxvYWRpbmcgLi4uIik7Cgp2YXIgYmlsbGluZ0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaW52b2ljZS9oYW5kbGVyL2JpbGxpbmdIYW5kbGVyIik7Cgp2YXIgcHVyY2hhc2VGb3JtQ29udGVudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHVyY2hhc2VGb3JtQ29udGVudEhhbmRsZXIiKTsKCnZhciBlbXBsb3llZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvZW1wbG95ZWVIYW5kbGVyIik7Cgp2YXIgbG9jYXRpb25IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2xvY2F0aW9uSGFuZGxlciIpOwoKdmFyIHByb2R1Y3RWYXJpYW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcm9kdWN0VmFyaWFudEhhbmRsZXIiKTsKCnZhciBkaXNjb3VudEl0ZW1IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2Rpc2NvdW50SXRlbUhhbmRsZXIiKTsKCnZhciBhY2NvdW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9oYW5kbGVyL2FjY291bnRpbmcvYWNjb3VudCIpOwoKdmFyIHVvbVByaWNlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy91b21QcmljZUhhbmRsZXIiKTsKCnZhciBzZXR0aW5nc0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2V0dGluZ3NIYW5kbGVyIik7Cgp2YXIgcHJvamVjdEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJvamVjdEhhbmRsZXIiKTsKCnZhciBwcmljZUxldmVsSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcmljZUxldmVsSGFuZGxlciIpOwoKdmFyIHNldHRpbmdIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NldHRpbmdIYW5kbGVyIik7Cgp2YXIgcGF5bWVudFRlcm1IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3BheW1lbnRUZXJtSGFuZGxlciIpOwoKdmFyIGN1cnJlbmN5SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jdXJyZW5jeS9oYW5kbGVyL2N1cnJlbmN5SGFuZGxlciIpOwoKdmFyIHNhbGVVbml0SXRlbUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2FsZVVuaXRJdGVtSGFuZGxlciIpOwoKdmFyIHBheW1lbnRPcHRpb25IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3BheW1lbnRPcHRpb25IYW5kbGVyIik7Cgp2YXIgcHVyY2hhc2VGb3JtQ29udGVudE1vZGVsID0gbmV3IFB1cmNoYXNlRm9ybUNvbnRlbnRNb2RlbCh7fSk7CnZhciBpdGVtTGluZU1vZGVsID0gbmV3IEl0ZW1MaW5lTW9kZWwoe30pOyAvLyBjb25zdCBhY2NvdW50TGluZU1vZGVsID0gbmV3IEFjY291bnRMaW5lTW9kZWwoe30pCgp2YXIgYXBwbHlUb0xpbmVNb2RlbCA9IG5ldyBBcHBseVRvTGluZU1vZGVsKHt9KTsKdmFyIGRlcG9zaXRMaW5lTW9kZWwgPSBuZXcgRGVwb3NpdExpbmVNb2RlbCh7fSk7CnZhciAkID0ga2VuZG8ualF1ZXJ5Owp2YXIgaXRlbUxpbmVQcmVmaXggPSAibGluLSI7CnZhciB0ZXh0RmllbGQgPSAibnVtYmVyTmFtZSI7CnZhciBkZWJpdE1lbW9Nb2RlbCA9IG5ldyBEZWJpdE1lbW9Nb2RlbCh7fSk7CnZhciBwdXJjaGFzZURlcG9zaXRJdGVtTGluZU1vZGVsID0gbmV3IFB1cmNoYXNlRGVwb3NpdEl0ZW1MaW5lTW9kZWwoe30pOwoKdmFyIF9yZXF1aXJlID0gcmVxdWlyZSgiQC9zY3JpcHRzL2tlbmRvX2VkaXRvci9Db2xsZWN0aW9ucyIpLAogICAgQ2xhc3NFZGl0b3IgPSBfcmVxdWlyZS5DbGFzc0VkaXRvcjsKCnZhciBESVNDT1VOVF9UWVBFID0gIj90eXBlPVB1cmNoYXNlIjsKdmFyIFRSQU5TQUNUSU9OX1RZUEUgPSAiRGViaXQgTWVtbyI7CnZhciBPUFRJT05fVFlQRSA9ICJTdXBwbGllciI7CnZhciBzdHJGaWx0ZXIgPSAiP29wdGlvblR5cGU9IiArIE9QVElPTl9UWVBFOwoKdmFyIGNvb2tpZUpTID0gcmVxdWlyZSgiQC9jb29raWUuanMiKTsKCnZhciBjb29raWUgPSBjb29raWVKUy5nZXRDb29raWUoKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJEZWJpdE1lbW8iLAogIHByb3BzOiBbImlkIl0sCiAgY29tcG9uZW50czogewogICAgTG9hZGluZ01lOiBMb2FkaW5nTWUsCiAgICAiYXBwLWRhdGVwaWNrZXIiOiBEYXRlUGlja2VyQ29tcG9uZW50LAogICAgZHJvcGRvd25saXN0OiBEcm9wRG93bkxpc3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0xvYWRpbmc6IDAsCiAgICAgIFBheW1lbnRPcHRpb25FZGl0b3I6IFBheW1lbnRPcHRpb25FZGl0b3IsCiAgICAgIGRlYml0TWVtbzogZGViaXRNZW1vTW9kZWwsCiAgICAgIHB1cmNoYXNlRm9ybUNvbnRlbnQ6IHB1cmNoYXNlRm9ybUNvbnRlbnRNb2RlbCwKICAgICAgaXRlbUxpbmU6IGl0ZW1MaW5lTW9kZWwsCiAgICAgIC8vIGFjY291bnRMaW5lOiBhY2NvdW50TGluZU1vZGVsLAogICAgICBhcHBseVRvTGluZTogYXBwbHlUb0xpbmVNb2RlbCwKICAgICAgZGVwb3NpdExpbmU6IGRlcG9zaXRMaW5lTW9kZWwsCiAgICAgIHB1cmNoYXNlRGVwb3NpdExpbmU6IHB1cmNoYXNlRGVwb3NpdEl0ZW1MaW5lTW9kZWwsCiAgICAgIHN1cHBsaWVyTGlzdDogW10sCiAgICAgIGNhc2hSZWZ1bmRMaW5lczogW10sCiAgICAgIGl0ZW1MaW5lczogW10sCiAgICAgIHRheExpc3RUb3RhbDogW10sCiAgICAgIHN1cHBsaWVyOiB7fSwKICAgICAgZGVmYXVsdEl0ZW06IGRlZmF1bHRJdGVtLAogICAgICBkYXRhSXRlbUtleTogImlkIiwKICAgICAgdGV4dEZpZWxkOiAibnVtYmVyTmFtZSIsCiAgICAgIGZpbHRlcjogIiIsCiAgICAgIHN1cEJhc2VVcmw6IHN1cHBsaWVySGFuZGxlci5zZWFyY2goKSwKICAgICAgZW1wQmFzZVVybDogZW1wbG95ZWVIYW5kbGVyLnNlYXJjaCgpLAogICAgICBlbXBsb3llZXM6IFtdLAogICAgICBtRW1wbG95ZWU6IHt9LAogICAgICBjdXN0b21lclByb2plY3RzOiBbXSwKICAgICAgcHJpY2VMZXZlbDogW10sCiAgICAgIGxvY2F0aW9uczogW10sCiAgICAgIG90aGVyVGF4OiBbXSwKICAgICAgdmF0VGF4OiBbXSwKICAgICAgdGF4OiBbXSwKICAgICAgc3BlY2lmaWNUYXg6IFtdLAogICAgICBwdWJsaWNMaWdodGluZ1RheDogW10sCiAgICAgIHNhbGVVbml0SXRlbUxpc3Q6IFtdLAogICAgICBzdXBwbGllckRpc2NvdW50SXRlbTogW10sCiAgICAgIGN1c3RvbWVyU2FsZVVuaXQ6IFtdLAogICAgICB0cmFuc2FjdGlvblR5cGU6IFtdLAogICAgICBzZWdtZW50czogW10sCiAgICAgIGV4Y2hhbmdlUmF0ZTogW10sCiAgICAgIGN1cnJlbmN5Q29kZTogIiIsCiAgICAgIHRyYW5zYWN0aW9uUmF0ZTogMSwKICAgICAgYWNjb3VudExpbmVzOiBbXSwKICAgICAgdHJhbnNhY3Rpb25SYXRlRGF0ZTogIiIsCiAgICAgIGFjY291bnRzOiBbXSwKICAgICAgZGVwb3NpdExpbmVzOiBbXSwKICAgICAgb2Zmc2V0UHVyY2hhc2VzOiBbXSwKICAgICAgb2Zmc2V0TGlzdDogW10sCiAgICAgIG9mZnNldFB1cmNoYXNlTGlzdDogW10sCiAgICAgIG9mZnNldFB1cmNoYXNlOiB7fSwKICAgICAgZGVjaW1hbEZvcm1hdDogIm4yIiwKICAgICAgLy8gTG9hZGluZ01lCiAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgYmlsbF9kYXRlOiAiIiwKICAgICAgYWxlcnQ6IGZhbHNlLAogICAgICB2YWxpZDogdHJ1ZSwKICAgICAgc3VwcGxpZXJzOiBbXSwKICAgICAgcGF5bWVudE1ldGhvZDogW10sCiAgICAgIHRyYW5zYWN0aW9uRGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICAgIHRlbXBsYXRlc0Zvcm06IFt7CiAgICAgICAgdGl0bGU6ICJEZWJpdCBOb3RlIiwKICAgICAgICBpZDogMQogICAgICB9XSwKICAgICAgaXNIaWRlQmFyOiBmYWxzZSwKICAgICAgZGlhbG9nVGF4OiBmYWxzZSwKICAgICAgYmFzZUN1cnJlbmN5Q29kZTogIiIsCiAgICAgIGFjY0Nhc2g6IFtdLAogICAgICBhY2NEZXBvc2l0OiBbXSwKICAgICAgYWNjRGVwb3NpdHM6IFtdLAogICAgICBDbGFzc0VkaXRvcjogQ2xhc3NFZGl0b3IsCiAgICAgIGpSYXc6IFtdLAogICAgICBqUmF3MTogW10sCiAgICAgIGpSYXcyOiBbXSwKICAgICAgalJhdzM6IFtdLAogICAgICBqUmF3NDogW10sCiAgICAgIGpSYXc1OiBbXSwKICAgICAgZ2Fpbkxvc3NBY2M6IHt9LAogICAgICBvdGhlclJldmVudWVBY2M6IHt9LAogICAgICB2YXJpYW5jZUFjY3M6IFtdLAogICAgICB0YXhMaXN0RGV0YWlsOiBbXSwKICAgICAgY3I6IDAsCiAgICAgIGRyOiAwLAogICAgICBsb2dnZWRVc2VyOiB7CiAgICAgICAgaWQ6IGNvb2tpZS5jcmVhdG9yLAogICAgICAgIG5hbWU6IGNvb2tpZS5lbWFpbAogICAgICB9LAogICAgICBpc1ByaWNlTGV2ZWxDaGFuZ2VkOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBkaXNhYmxlZDogZnVuY3Rpb24gZGlzYWJsZWQoKSB7CiAgICAgIHJldHVybiAhIXRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgIH0sCiAgICBhbW91bnRIZWFkZXJUZW1wbGF0ZTogZnVuY3Rpb24gYW1vdW50SGVhZGVyVGVtcGxhdGUoKSB7CiAgICAgIGlmICh0aGlzLnN1cHBsaWVyKSB7CiAgICAgICAgaWYgKHRoaXMuc3VwcGxpZXIuaGFzT3duUHJvcGVydHkoImJhc2VDdXJyZW5jeSIpKSB7CiAgICAgICAgICB2YXIgYmFzZUN1cnJlbmN5ID0gdGhpcy5zdXBwbGllci5iYXNlQ3VycmVuY3k7CgogICAgICAgICAgaWYgKGJhc2VDdXJyZW5jeS5oYXNPd25Qcm9wZXJ0eSgiY29kZSIpKSB7CiAgICAgICAgICAgIHJldHVybiAiQW1vdW50ICgiICsgYmFzZUN1cnJlbmN5LmNvZGUgKyAiKSI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gIkFtb3VudCI7CiAgICB9LAogICAgYW1vdW50TGluZUhlYWRlclRlbXBsYXRlOiBmdW5jdGlvbiBhbW91bnRMaW5lSGVhZGVyVGVtcGxhdGUoKSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbmN5Q29kZSkgewogICAgICAgIHJldHVybiAiQW1vdW50ICgiICsgdGhpcy5jdXJyZW5jeUNvZGUgKyAiKSI7CiAgICAgIH0KCiAgICAgIHJldHVybiAiQW1vdW50IjsKICAgIH0sCiAgICBoaWRkZW5CdXR0b246IGZ1bmN0aW9uIGhpZGRlbkJ1dHRvbigpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGUgPT0gImVkaXQiKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdGF0dXM6IGZ1bmN0aW9uIHN0YXR1cyhfc3RhdHVzKSB7CiAgICAgIHZhciBzdGF0dXNUZXh0ID0gJyc7CgogICAgICBzd2l0Y2ggKF9zdGF0dXMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBzdGF0dXNUZXh0ID0gJ09wZW4nOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHN0YXR1c1RleHQgPSAnUGFydGlhbGx5IFBhaWQnOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIHN0YXR1c1RleHQgPSAnUGFpZCc7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA0OgogICAgICAgICAgc3RhdHVzVGV4dCA9ICdWb2lkJzsKICAgICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICByZXR1cm4gc3RhdHVzVGV4dDsKICAgIH0sCiAgICBwdXJjaGFzZVRlbXBsYXRlOiBmdW5jdGlvbiBwdXJjaGFzZVRlbXBsYXRlKCkgewogICAgICB2YXIgb2Zmc2V0UHVyY2hhc2UgPSB0aGlzLm9mZnNldFB1cmNoYXNlIHx8IHt9OwogICAgICB2YXIgcmVmZXJlbmNlTm8gPSBvZmZzZXRQdXJjaGFzZS5yZWZlcmVuY2VObyB8fCAnJzsKICAgICAgdmFyIHN0YXR1cyA9IG9mZnNldFB1cmNoYXNlLnN0YXR1cyB8fCAnJzsKICAgICAgdmFyIHN0YXR1c1RleHQgPSB0aGlzLnN0YXR1cyhzdGF0dXMpOwogICAgICB3aW5kb3cuY29uc29sZS5sb2coJ3JlZmVyZW5jZU5vICsgXCctXCcgKyBzdGF0dXNUZXh0JywgcmVmZXJlbmNlTm8gKyAnLScgKyBzdGF0dXNUZXh0KTsKICAgICAgcmV0dXJuIHJlZmVyZW5jZU5vICsgJy0nICsgc3RhdHVzVGV4dDsKICAgIH0sCiAgICBmb3JtYXRWYXJpYW5jZTogZnVuY3Rpb24gZm9ybWF0VmFyaWFuY2UobnVtKSB7CiAgICAgIGlmIChudW0pIHsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cobnVtLCAibnVtIik7CiAgICAgICAgdmFyIHZhcmlhbmNlTnVtYmVyID0gdGhpcy5udW1iZXJUb1N0cmluZyhwYXJzZUZsb2F0KG51bSkpOwogICAgICAgIHJldHVybiB2YXJpYW5jZU51bWJlcjsgLy8gICBpZiAodmFyaWFuY2VOdW1iZXIuaW5jbHVkZXMoJy4nKSkgewogICAgICAgIC8vICAgICBjb25zdCBzdHJEaWdpdCA9IHZhcmlhbmNlTnVtYmVyLnNwbGl0KCcuJykKICAgICAgICAvLyAgICAgY29uc3QgaGVhZCA9IHN0ckRpZ2l0WzBdCiAgICAgICAgLy8gICAgIGNvbnN0IHJpZ2h0SGVhZCA9IHN0ckRpZ2l0WzFdCiAgICAgICAgLy8gICAgIGNvbnN0IG51bXMgPSB0aGlzLmNvdW50WmVyb3MocmlnaHRIZWFkKQogICAgICAgIC8vICAgICBjb25zdCBzdWJzdHJpbmdSaWdodCA9IHJpZ2h0SGVhZC5zdWJzdHJpbmcoMCwgbnVtcyArIDEpCiAgICAgICAgLy8gICAgIHJldHVybiBoZWFkICsgJy4nICsgc3Vic3RyaW5nUmlnaHQKICAgICAgICAvLyAgIH0gZWxzZSB7CiAgICAgICAgLy8gICAgIHJldHVybiB2YXJpYW5jZU51bWJlcgogICAgICAgIC8vICAgfQogICAgICB9CgogICAgICByZXR1cm4gMDsKICAgIH0sCiAgICBjb3VudFplcm9zOiBmdW5jdGlvbiBjb3VudFplcm9zKG51bSkgewogICAgICBpZiAobnVtKSB7CiAgICAgICAgdmFyIHNwbGl0dGVkID0gbnVtLnNwbGl0KCIiKTsKICAgICAgICB2YXIgaSA9IDA7CgogICAgICAgIHdoaWxlIChzcGxpdHRlZC5zaGlmdCgpID09IDApIHsKICAgICAgICAgIGkgKz0gMTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBpOwogICAgICB9CgogICAgICByZXR1cm4gMDsKICAgIH0sCiAgICBudW1iZXJUb1N0cmluZzogZnVuY3Rpb24gbnVtYmVyVG9TdHJpbmcobnVtKSB7CiAgICAgIHZhciBudW1TdHIgPSBTdHJpbmcobnVtKTsKCiAgICAgIGlmIChNYXRoLmFicyhudW0pIDwgMS4wKSB7CiAgICAgICAgdmFyIGUgPSBwYXJzZUludChudW0udG9TdHJpbmcoKS5zcGxpdCgiZS0iKVsxXSk7CgogICAgICAgIGlmIChlKSB7CiAgICAgICAgICB2YXIgbmVnYXRpdmUgPSBudW0gPCAwOwogICAgICAgICAgaWYgKG5lZ2F0aXZlKSBudW0gKj0gLTE7CiAgICAgICAgICBudW0gKj0gTWF0aC5wb3coMTAsIGUgLSAxKTsKICAgICAgICAgIG51bVN0ciA9ICIwLiIgKyBuZXcgQXJyYXkoZSkuam9pbigiMCIpICsgbnVtLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpOwogICAgICAgICAgaWYgKG5lZ2F0aXZlKSBudW1TdHIgPSAiLSIgKyBudW1TdHI7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHZhciBfZSA9IHBhcnNlSW50KG51bS50b1N0cmluZygpLnNwbGl0KCIrIilbMV0pOwoKICAgICAgICBpZiAoX2UgPiAyMCkgewogICAgICAgICAgX2UgLT0gMjA7CiAgICAgICAgICBudW0gLz0gTWF0aC5wb3coMTAsIF9lKTsKICAgICAgICAgIG51bVN0ciA9IG51bS50b1N0cmluZygpICsgbmV3IEFycmF5KF9lICsgMSkuam9pbigiMCIpOwogICAgICAgIH0KICAgICAgfSAvLyBjb25zdCB6ZXJvcyA9IHRoaXMubnVtYmVyT2ZaZXJvcyhudW1TdHIpCgoKICAgICAgcmV0dXJuIG51bVN0cjsgLy9wYXJzZUZsb2F0KG51bVN0cikudG9GaXhlZCh6ZXJvcyArIDEpCiAgICB9LAogICAgc2hvd1dhcmluZ01lc3NhZ2U6IGZ1bmN0aW9uIHNob3dXYXJpbmdNZXNzYWdlKHRpdGxlLCB0ZXh0LCBjb25maXJtQnV0dG9uVGV4dCkgewogICAgICB0aGlzLiRzd2FsKHsKICAgICAgICB0aXRsZTogdGl0bGUsCiAgICAgICAgdGV4dDogdGV4dCwKICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjRUQxQTNBIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogY29uZmlybUJ1dHRvblRleHQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCIxIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvZmZzZXRJbnZvaWNlQ2hhbmdlZDogZnVuY3Rpb24gb2Zmc2V0SW52b2ljZUNoYW5nZWQoKSB7CiAgICAgIC8vdG9kbzogYWRkIGludm9pY2UgdG8gbGluZQogICAgICB0aGlzLm9mZnNldExpc3QgPSBbXTsKCiAgICAgIGlmICh0aGlzLm9mZnNldFB1cmNoYXNlKSB7CiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMub2Zmc2V0UHVyY2hhc2UsICJvZmZzZXRQdXJjaGFzZSIpOwogICAgICAgIHZhciB0eG5JZCA9IHRoaXMub2Zmc2V0UHVyY2hhc2UuaWQgfHwge307CiAgICAgICAgdGhpcy5kZWJpdE1lbW8ubG9jYXRpb24gPSB0aGlzLm9mZnNldFB1cmNoYXNlLmxvY2F0aW9uIHx8IHt9OwogICAgICAgIHRoaXMuZGViaXRNZW1vLnNlZ21lbnQgPSB0aGlzLm9mZnNldFB1cmNoYXNlLnNlZ21lbnQgfHwge307CiAgICAgICAgdGhpcy5kZWJpdE1lbW8ucHJvamVjdCA9IHRoaXMub2Zmc2V0UHVyY2hhc2UucHJvamVjdCB8fCB7fTsKCiAgICAgICAgaWYgKHR4bklkKSB7CiAgICAgICAgICB0aGlzLm9mZnNldExpc3QgPSB0aGlzLm9mZnNldFB1cmNoYXNlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgcmV0dXJuIG8uaWQgPT09IHR4bklkOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLm9uQXBwbHlUb0xpbmVDaGFuZ2UoKTsKICAgICAgfQogICAgfSwKICAgIHByaWNlVGVtcGxhdGU6IGZ1bmN0aW9uIHByaWNlVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgaWYgKGRhdGFJdGVtKSB7CiAgICAgICAgaWYgKGRhdGFJdGVtLmhhc093blByb3BlcnR5KCJjb3N0IikpIHsKICAgICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhkYXRhSXRlbS5jb3N0IHx8IDAsIHRoaXMuZGVjaW1hbEZvcm1hdCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gMDsKICAgIH0sCiAgICBIZWxwOiBmdW5jdGlvbiBIZWxwKGtleV9zZWFyY2gpIHsKICAgICAgU2hvd1Jlc291cmNlKGtleV9zZWFyY2gpOwogICAgfSwKICAgIG1ldGhvZFRlbXBsYXRlOiBmdW5jdGlvbiBtZXRob2RUZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgbWV0aG9kID0gZGF0YUl0ZW0ucGF5bWVudE9wdGlvbiB8fCB7fTsKCiAgICAgIGlmIChtZXRob2QpIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KG1ldGhvZC5iYW5rQWNjb3VudE5hbWUgfHwgIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgYW1vdW50VGVtcGxhdGU6IGZ1bmN0aW9uIGFtb3VudFRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIGlmIChkYXRhSXRlbSkgewogICAgICAgIGlmIChkYXRhSXRlbS5oYXNPd25Qcm9wZXJ0eSgiYW1vdW50IikpIHsKICAgICAgICAgIHZhciBhbXQgPSBkYXRhSXRlbS5hbW91bnQ7CiAgICAgICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcocGFyc2VGbG9hdChhbXQgfHwgMCksIHRoaXMuZGVjaW1hbEZvcm1hdCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gMDsKICAgIH0sCiAgICBwYWlkQW1vdW50VGVtcGxhdGU6IGZ1bmN0aW9uIHBhaWRBbW91bnRUZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICBpZiAoZGF0YUl0ZW0pIHsKICAgICAgICBpZiAoZGF0YUl0ZW0uaGFzT3duUHJvcGVydHkoInBhaWRBbW91bnQiKSkgewogICAgICAgICAgdmFyIGFtdCA9IGRhdGFJdGVtLnBhaWRBbW91bnQ7CiAgICAgICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcocGFyc2VGbG9hdChhbXQgfHwgMCksIHRoaXMuZGVjaW1hbEZvcm1hdCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gMDsKICAgIH0sCiAgICBtZXRob2REcm9wRG93bkVkaXRvcjogZnVuY3Rpb24gbWV0aG9kRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWNvZGUjIC0gIz0gbmFtZSM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tU2VsZWN0LS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgZGF0YTogdGhpcy5wYXltZW50TWV0aG9kCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgbnVtYmVyRm9ybWF0OiBmdW5jdGlvbiBudW1iZXJGb3JtYXQodmFsdWUpIHsKICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKHZhbHVlLCAiIi5jb25jYXQodGhpcy5kZWNpbWFsRm9ybWF0KSk7CiAgICB9LAogICAgb25EZXBvc2l0TGluZURTQ2hhbmdlOiBmdW5jdGlvbiBvbkRlcG9zaXRMaW5lRFNDaGFuZ2UoZSkgewogICAgICBpZiAoZS5maWVsZCkgewogICAgICAgIHZhciBkYXRhUm93ID0gZS5pdGVtc1swXTsKCiAgICAgICAgc3dpdGNoIChlLmZpZWxkKSB7CiAgICAgICAgICBjYXNlICJhbW91bnQiOgogICAgICAgICAgICBkYXRhUm93LnNldCgiZXhjaGFuZ2VBbW91bnQiLCBkYXRhUm93LmFtb3VudCk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlQXBwbHlUbygpOwogICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZURlcG9zaXQoKTsKICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGVDYXNoUmVmdW5kKCk7CiAgICAgICAgdGhpcy5jYWxjdWxhdGVBbW91bnQoKTsKICAgICAgfQogICAgfSwKICAgIG9uQXBwbHlUb0xpbmVDaGFuZ2U6IGZ1bmN0aW9uIG9uQXBwbHlUb0xpbmVDaGFuZ2UoZSkgewogICAgICB0cnkgewogICAgICAgIGlmIChlKSB7CiAgICAgICAgICBpZiAoZS5maWVsZCkgewogICAgICAgICAgICB2YXIgZGF0YVJvdyA9IGUuaXRlbXNbMF0sCiAgICAgICAgICAgICAgICBvZmZzZXQgPSAwLAogICAgICAgICAgICAgICAgYW1vdW50ID0gMDsKCiAgICAgICAgICAgIHN3aXRjaCAoZS5maWVsZCkgewogICAgICAgICAgICAgIGNhc2UgInBhaWRBbW91bnQiOgogICAgICAgICAgICAgICAgYW1vdW50ID0gcGFyc2VGbG9hdChkYXRhUm93LmFtb3VudCk7CiAgICAgICAgICAgICAgICBvZmZzZXQgPSBwYXJzZUZsb2F0KGRhdGFSb3cucGFpZEFtb3VudCk7CgogICAgICAgICAgICAgICAgaWYgKG9mZnNldCA+IGFtb3VudCkgewogICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgicGFpZEFtb3VudCIsIGFtb3VudCk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJwYWlkQW1vdW50VG9iYXNlIiwgYW1vdW50ICogZGF0YVJvdy50eG5SYXRlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJwYWlkQW1vdW50VG9iYXNlIiwgZGF0YVJvdy5wYWlkQW1vdW50ICogZGF0YVJvdy50eG5SYXRlKTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInBhaWRBbW91bnRUeG4iLCBvZmZzZXQgKiBwYXJzZUZsb2F0KGRhdGFSb3cudHhuUmF0ZSkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0gLy8gdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICAgICAgICAgIC8vIHRoaXMuYXV0b0NhbGN1bGF0ZUFwcGx5VG8oKTsKICAgICAgICAgICAgLy8gdGhpcy5hdXRvQ2FsY3VsYXRlRGVwb3NpdCgpOwogICAgICAgICAgICAvLyB0aGlzLmF1dG9DYWxjdWxhdGVDYXNoUmVmdW5kKCk7CiAgICAgICAgICAgIC8vIHRoaXMuY2FsY3VsYXRlQW1vdW50KCk7CgogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlQXBwbHlUbygpOwogICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZURlcG9zaXQoKTsKICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGVDYXNoUmVmdW5kKCk7CiAgICAgICAgdGhpcy5jYWxjdWxhdGVBbW91bnQoKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnZS0tJywgZSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkNhc2hSZWZ1bmRDaGFuZ2U6IGZ1bmN0aW9uIG9uQ2FzaFJlZnVuZENoYW5nZShlKSB7CiAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgdmFyIGRhdGFSb3cgPSBlLml0ZW1zWzBdLAogICAgICAgICAgICBwT3B0aW9uID0ge307CgogICAgICAgIHN3aXRjaCAoZS5maWVsZCkgewogICAgICAgICAgY2FzZSAicGF5bWVudE9wdGlvbiI6CiAgICAgICAgICAgIHBPcHRpb24gPSBkYXRhUm93LnBheW1lbnRPcHRpb24gfHwge307CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhY2NvdW50IiwgcE9wdGlvbi5hY2NvdW50IHx8IHt9KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoZS5maWVsZCkgewogICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZUFwcGx5VG8oKTsKICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGVEZXBvc2l0KCk7CiAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlQ2FzaFJlZnVuZCgpOwogICAgICAgIHRoaXMuY2FsY3VsYXRlQW1vdW50KCk7CiAgICAgIH0KICAgIH0sCiAgICBub3dUaW1lczogZnVuY3Rpb24gbm93VGltZXMoKSB7CiAgICAgIHZhciBwZXJmRGF0YSA9IHdpbmRvdy5wZXJmb3JtYW5jZS50aW1pbmc7CiAgICAgIHZhciBwYWdlTG9hZFRpbWUgPSBwZXJmRGF0YS5sb2FkRXZlbnRFbmQgLSBwZXJmRGF0YS5uYXZpZ2F0aW9uU3RhcnQ7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhwYWdlTG9hZFRpbWUsICItLSIpOwogICAgfSwKICAgIG9uRW1wbG95ZWVDaGFuZ2VkOiBmdW5jdGlvbiBvbkVtcGxveWVlQ2hhbmdlZChldmVudCkgewogICAgICB2YXIgdmFsdWUgPSBldmVudC52YWx1ZTsKCiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZVt0ZXh0RmllbGRdID09PSBlbXB0eUl0ZW1bdGV4dEZpZWxkXSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5tRW1wbG95ZWUgPSB2YWx1ZTsKICAgICAgdGhpcy5kZWJpdE1lbW8uZW1wbG95ZWUgPSB2YWx1ZTsKICAgIH0sCiAgICBhZnRlckZldGNoXzogZnVuY3Rpb24gYWZ0ZXJGZXRjaF8oanNvbikgewogICAgICB0aGlzLmVtcGxveWVlcyA9IGpzb24uZGF0YTsKICAgIH0sCiAgICBvbkVtcGxveWVlRmlsdGVyQ2hhbmdlZDogZnVuY3Rpb24gb25FbXBsb3llZUZpbHRlckNoYW5nZWQoZXZlbnQpIHsKICAgICAgdmFyIGZpbHRlciA9IGV2ZW50LmZpbHRlci52YWx1ZTsKICAgICAgdGhpcy5yZXF1ZXN0RGF0YV8oMCwgZmlsdGVyLCB0aGlzLmVtcEJhc2VVcmwpOwogICAgICB0aGlzLmZpbHRlcl8gPSBmaWx0ZXI7CiAgICB9LAogICAgYXV0b0NhbGN1bGF0ZURpc2NvdW50OiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlRGlzY291bnQoZGlzY291bnRJdGVtLCBzdWJUb3RhbCkgewogICAgICBpZiAoZGlzY291bnRJdGVtKSB7CiAgICAgICAgdmFyIG5hdHVyZSA9IGRpc2NvdW50SXRlbS5uYXR1cmUgfHwgJyc7CiAgICAgICAgdmFyIGFtb3VudCA9IGRpc2NvdW50SXRlbS5hbW91bnQgfHwgMDsKCiAgICAgICAgaWYgKG5hdHVyZSA9PT0gJ0Ftb3VudCcpIHsKICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGFtb3VudCk7CiAgICAgICAgfSBlbHNlIGlmIChuYXR1cmUgPT09ICdQZXJjZW50YWdlJykgewogICAgICAgICAgcmV0dXJuIHN1YlRvdGFsICogKHBhcnNlRmxvYXQoYW1vdW50KSAvIDEwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVUYXg6IGZ1bmN0aW9uIGF1dG9DYWxjdWxhdGVUYXgodGF4LCBhbW91bnQpIHsKICAgICAgaWYgKHRheCkgewogICAgICAgIHZhciBmb3JtdWxhID0gdGF4LmZvcm11bGE7CiAgICAgICAgdmFyIGluQW10ID0ga2VuZG8ucGFyc2VGbG9hdChhbW91bnQpOwogICAgICAgIHZhciBuQW10ID0ga2VuZG8ucGFyc2VGbG9hdChhbW91bnQpOwogICAgICAgIHZhciB0YXhCYXNlID0ga2VuZG8ucGFyc2VGbG9hdCh0YXgudGF4QmFzZSkgLyAxMDA7CiAgICAgICAgdmFyIHJhdGUgPSBrZW5kby5wYXJzZUZsb2F0KHRheC5yYXRlKSAvIDEwMDsKICAgICAgICB2YXIgdG90YWwgPSBldmFsKGZvcm11bGEpOwogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhpbkFtdCwgbkFtdCwgdGF4QmFzZSwgcmF0ZSwgZm9ybXVsYSwgdG90YWwpOwogICAgICAgIHJldHVybiB0b3RhbDsKICAgICAgfSAvLyByZXR1cm4gMAoKICAgIH0sCiAgICBsb2FkVHJhbnNhY3Rpb25SYXRlOiBmdW5jdGlvbiBsb2FkVHJhbnNhY3Rpb25SYXRlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoX3RoaXMudHJhbnNhY3Rpb25EYXRlKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHByaWNlTGV2ZWwgPSBfdGhpcy5kZWJpdE1lbW8ucHJpY2VMZXZlbDsKICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9ICIiOwogICAgICAgICAgICAgICAgICAgIF90aGlzLm9mZnNldFB1cmNoYXNlcyA9IFtdOwogICAgICAgICAgICAgICAgICAgIF90aGlzLm9mZnNldExpc3QgPSBbXTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHByaWNlTGV2ZWwpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmljZUxldmVsLmhhc093blByb3BlcnR5KCJjdXJyZW5jeSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlYml0TWVtby5jdXJyZW5jeSA9IHByaWNlTGV2ZWwuY3VycmVuY3k7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2VMZXZlbC5jdXJyZW5jeS5oYXNPd25Qcm9wZXJ0eSgiY29kZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IHByaWNlTGV2ZWwuY3VycmVuY3kuY29kZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2RlICE9PSB1bmRlZmluZWQgfHwgY29kZSAhPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeUhhbmRsZXIuZ2V0TGFzdEV4Y2hhbmdlUmF0ZUJ5RGF0ZShkYXRlLCBjb2RlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXhjaGFuZ2VSYXRlID0gcmVzLmRhdGEuZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbmN5Q29kZSA9IF90aGlzLmV4Y2hhbmdlUmF0ZS5jb2RlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJhbnNhY3Rpb25SYXRlID0gX3RoaXMuZXhjaGFuZ2VSYXRlLnJhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWJpdE1lbW8udHhuUmF0ZSA9IF90aGlzLmV4Y2hhbmdlUmF0ZS5yYXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJhbnNhY3Rpb25SYXRlRGF0ZSA9IF90aGlzLmV4Y2hhbmdlUmF0ZS5lZmZlY3RpdmVEYXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGViaXRNZW1vLmV4Y2hhbmdlUmF0ZSA9IF90aGlzLmV4Y2hhbmdlUmF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc3VwcGxpZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VhcmNoUHVyY2hhc2UoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDUwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFBheW1lbnRUZXJtOiBmdW5jdGlvbiBsb2FkUGF5bWVudFRlcm0oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgcGF5bWVudFRlcm1IYW5kbGVyLmdldEFsbCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucGF5bWVudFRlcm1zID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLnBheW1lbnRUZXJtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5kZWJpdE1lbW8ucGF5bWVudFRlcm0gPSBfdGhpczIucGF5bWVudFRlcm1zWzBdOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZXJyb3JNZXNzYWdlOiBmdW5jdGlvbiBlcnJvck1lc3NhZ2UoKSB7fSwKICAgIGxvYWRUYXg6IGZ1bmN0aW9uIGxvYWRUYXgoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ0hhbmRsZXIuZ2V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgdGF4ZXMgPSByZXM7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMudGF4ID0gdGF4ZXMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAobS50YXhUeXBlLnR5cGVJZCA9PT0gMSB8fCBtLnRheFR5cGUudHlwZUlkID09PSAxMCB8fCBtLnRheFR5cGUudHlwZUlkID09PSAyKSAmJiBtLnRyYW5zYWN0aW9uVHlwZSA9PT0gIlB1cmNoYXNlIjsKICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyB2YWx1YWJsZSB0YXgKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgNTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRMb2NhdGlvbjogZnVuY3Rpb24gbG9hZExvY2F0aW9uKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciByb2xlVHlwZSwgcm9sZURhdGEsIGxvY2F0aW9uLCBsb2NhdGlvbkRlZmF1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNC5sb2NhdGlvbnMgPSBbXTsKICAgICAgICAgICAgICAgIHJvbGVUeXBlID0gZGF0YVN0b3JlLnJvbGVUeXBlIHx8IDA7CgogICAgICAgICAgICAgICAgaWYgKHJvbGVUeXBlID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIGlmIChkYXRhU3RvcmUucm9sZURhdGEpIHsKICAgICAgICAgICAgICAgICAgICByb2xlRGF0YSA9IGRhdGFTdG9yZS5yb2xlRGF0YSB8fCBbXTsKICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IHJvbGVEYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRtKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRtLnR5cGUgPT09ICdsb2NhdGlvbic7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25EZWZhdWx0ID0gbG9jYXRpb24uZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5pc0RlZmF1bHQgPT09IDE7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LmxvY2F0aW9ucyA9IGxvY2F0aW9uOwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCB8fCBfdGhpczQuJHJvdXRlLnBhcmFtcy5pZCA9PT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbkRlZmF1bHQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuZGViaXRNZW1vLmxvY2F0aW9uID0gbG9jYXRpb25EZWZhdWx0WzBdOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyb2xlVHlwZSA9PT0gMSkgewogICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5sb2NhdGlvbnMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uSGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQubG9jYXRpb25zID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFByb2plY3RCeUN1c3RvbWVyOiBmdW5jdGlvbiBsb2FkUHJvamVjdEJ5Q3VzdG9tZXIoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7IC8vIHByb2plY3RIYW5kbGVyLmdldEJ5Q3VzdG9tZXIodGhpcy5zdXBwbGllci5pZCkudGhlbihyZXMgPT4gewoKICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuc2hvd0xvYWRpbmcgPSB0cnVlOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5jdXN0b21lclByb2plY3RzID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczUuY3VzdG9tZXJQcm9qZWN0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmRlYml0TWVtby5wcm9qZWN0ID0gX3RoaXM1LmN1c3RvbWVyUHJvamVjdHNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgNTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRTZWdtZW50OiBmdW5jdGlvbiBsb2FkU2VnbWVudCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgcm9sZVR5cGUsIHJvbGVEYXRhLCBzZWdtZW50LCBzZWdtZW50RGVmYXVsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM2LnNlZ21lbnRzID0gW107CiAgICAgICAgICAgICAgICByb2xlVHlwZSA9IGRhdGFTdG9yZS5yb2xlVHlwZSB8fCAwOwoKICAgICAgICAgICAgICAgIGlmIChyb2xlVHlwZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICBpZiAoZGF0YVN0b3JlLnJvbGVEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgcm9sZURhdGEgPSBkYXRhU3RvcmUucm9sZURhdGEgfHwgW107CiAgICAgICAgICAgICAgICAgICAgc2VnbWVudCA9IHJvbGVEYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRtKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRtLnR5cGUgPT09ICdzZWdtZW50JzsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBzZWdtZW50RGVmYXVsdCA9IHNlZ21lbnQuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5pc0RlZmF1bHQgPT09IDE7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnNlZ21lbnRzID0gc2VnbWVudDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNi4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQgfHwgX3RoaXM2LiRyb3V0ZS5wYXJhbXMuaWQgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudERlZmF1bHQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuZGViaXRNZW1vLnNlZ21lbnQgPSBzZWdtZW50RGVmYXVsdFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sZVR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuc2VnbWVudHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzSGFuZGxlci5nZXRTZWcoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5zZWdtZW50cyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRBY2NvdW50OiBmdW5jdGlvbiBsb2FkQWNjb3VudCgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBhY2NvdW50SGFuZGxlci5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmFjY0Nhc2ggPSByZXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmFjY291bnRfdHlwZS5udW1iZXIgPD0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbF9uYW1lOiBpdGVtLmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaXRlbS5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0ZW0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuaGppQWNjQ29kZTogaXRlbS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9jb2RlOiBpdGVtLmdyb3VwX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdGVtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2NvZGU6IGl0ZW0udHlwZV9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IGl0ZW0uYWNjb3VudF90eXBlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5hY2NEZXBvc2l0cyA9IHJlcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYWNjb3VudF90eXBlLm51bWJlciA9PT0gOSB8fCBtLmFjY291bnRfdHlwZS5udW1iZXIgPT09IDE3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6IGl0ZW0ubG9jYWxfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpdGVtLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfdGF4YWJsZTogaXRlbS5pc190YXhhYmxlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5oamlBY2NDb2RlOiBpdGVtLmJhbmhqaUFjY0NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX2NvZGU6IGl0ZW0uZ3JvdXBfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50X2FjY291bnQ6IGl0ZW0ucGFyZW50X2FjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfY29kZTogaXRlbS50eXBlX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRfdHlwZTogaXRlbS5hY2NvdW50X3R5cGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnZhcmlhbmNlQWNjcyA9IHJlcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYWNjb3VudF90eXBlLm51bWJlciA+PSAzMyAmJiBtLmFjY291bnRfdHlwZS5udW1iZXIgPD0gNDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxfbmFtZTogaXRlbS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGl0ZW0ubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc190YXhhYmxlOiBpdGVtLmlzX3RheGFibGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmhqaUFjY0NvZGU6IGl0ZW0uYmFuaGppQWNjQ29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfY29kZTogaXRlbS5ncm91cF9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfYWNjb3VudDogaXRlbS5wYXJlbnRfYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9jb2RlOiBpdGVtLnR5cGVfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudF90eXBlOiBpdGVtLmFjY291bnRfdHlwZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gdGhpcy5hY2NvdW50cyA9IGF3YWl0IFByb21pc2UuYWxsKHJlcy5tYXAoaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbnVtYmVyOiBpdGVtLm51bWJlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICAgICAgICAgICAgICAgICAgfSkpKCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDUwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUHJpY2VMZXZlbDogZnVuY3Rpb24gbG9hZFByaWNlTGV2ZWwoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9ICc/bmF0dXJlPXB1cmNoYXNlJzsKICAgICAgICAgICAgICAgICAgICBwcmljZUxldmVsSGFuZGxlci5nZXQoc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5wcmljZUxldmVsID0gcmVzOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczgucHJpY2VMZXZlbC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5kZWJpdE1lbW8ucHJpY2VMZXZlbCA9IF90aGlzOC5wcmljZUxldmVsWzBdOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZERpc2NvdW50SXRlbTogZnVuY3Rpb24gbG9hZERpc2NvdW50SXRlbSgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIGRpc2NvdW50SXRlbUhhbmRsZXIubGlzdChESVNDT1VOVF9UWVBFKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LnNwZWNpZmljRGlzY291bnRJdGVtID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgNTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFB1cmNoYXNlRm9ybUNvbnRlbnQ6IGZ1bmN0aW9uIGxvYWRQdXJjaGFzZUZvcm1Db250ZW50KCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHB1cmNoYXNlRm9ybUNvbnRlbnRIYW5kbGVyLmxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAucHVyY2hhc2VGb3JtQ29udGVudCA9IGRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5kZWNpbWFsRm9ybWF0ID0gIm4iICsgX3RoaXMxMC5wdXJjaGFzZUZvcm1Db250ZW50LmRlY2ltYWw7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAuYWRkUm93KCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAuYWRkUm93RGVwb3NpdCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLmFkZFJvd0Nhc2hSZWZ1bmQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBpbml0RGF0YTogZnVuY3Rpb24gaW5pdERhdGEoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTEuJHJvdXRlLnBhcmFtcy5pZCAhPT0gdW5kZWZpbmVkKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTEubG9hZFZpZXdEZWJpdE1lbW8oKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB0YXhNYXBwaW5nOiBmdW5jdGlvbiB0YXhNYXBwaW5nKG9ialRheCwgdGF4KSB7CiAgICAgIHZhciB0YXhJZCA9IHRheC5pZCB8fCAnJzsKICAgICAgdmFyIHRheF8gPSBvYmpUYXguZmlsdGVyKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgcmV0dXJuIHQuaWQgPT09IHRheElkOwogICAgICB9KVswXTsKICAgICAgcmV0dXJuIHRheF8gfHwgewogICAgICAgIGlkOiAnJywKICAgICAgICBkZWZhdWx0VGF4OiAnJwogICAgICB9OwogICAgfSwKICAgIGRhdGFTb3VyY2VDaGFuZ2VkOiBmdW5jdGlvbiBkYXRhU291cmNlQ2hhbmdlZChlKSB7CiAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgdmFyIGRhdGFSb3cgPSBlLml0ZW1zWzBdLAogICAgICAgICAgICBidW9tID0ge30sCiAgICAgICAgICAgIHZUYXggPSB7fSwKICAgICAgICAgICAgY29udmVyc2lvblJhdGUgPSAxLAogICAgICAgICAgICB3YWMgPSAwLAogICAgICAgICAgICBxb2ggPSAwLAogICAgICAgICAgICBhbW91bnQgPSAwLAogICAgICAgICAgICB4QW1vdW50ID0gMCwKICAgICAgICAgICAgY29zdCA9IDA7CgogICAgICAgIHN3aXRjaCAoZS5maWVsZCkgewogICAgICAgICAgY2FzZSAiaXRlbSI6CiAgICAgICAgICAgIC8vIHRoaXMuYXR0cmlidXRlXyA9IHRoaXMuYXR0cmlidXRlcy5maWx0ZXIobSA9PiBtLnR5cGUuaWQgPT09IGRhdGFSb3cudmFyaWFudC5pZCkKICAgICAgICAgICAgZGF0YVJvdy5zZXQoImRlc2NyaXB0aW9uIiwgZGF0YVJvdy5pdGVtLmRlc2NyaXB0aW9uKTsKICAgICAgICAgICAgYnVvbSA9IGRhdGFSb3cuaXRlbS51b20gfHwge307CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJidW9tIiwgYnVvbSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgImNvc3QiOgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGFtb3VudCA9IHBhcnNlRmxvYXQoZGF0YVJvdy5jb3N0KSAqIHBhcnNlRmxvYXQoZGF0YVJvdy5xdHkpOwogICAgICAgICAgICAgIHhBbW91bnQgPSBhbW91bnQgKiBwYXJzZUZsb2F0KHRoaXMuZGViaXRNZW1vLnR4blJhdGUpOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjb3N0IiwgcGFyc2VGbG9hdChkYXRhUm93LmNvc3QpKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgYW1vdW50KTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZXhjaGFuZ2VBbW91bnQiLCB4QW1vdW50KTsgLy8gd2luZG93LmNvbnNvbGUubG9nKCdwcmljZScsZGF0YVJvdy5wcmljZSkKICAgICAgICAgICAgfSBjYXRjaCAoX3VudXNlZCkgewogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjb3N0IiwgMCk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIDApOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIDApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJ1b20iOgogICAgICAgICAgICBpZiAodGhpcy5pc1ByaWNlTGV2ZWxDaGFuZ2VkID09PSBmYWxzZSkgewogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBidW9tID0gZGF0YVJvdy51b20uYnVvbSB8fCB7fTsKICAgICAgICAgICAgICAgIGJ1b20gPSBkYXRhUm93LnVvbS5idW9tIHx8IHt9OwogICAgICAgICAgICAgICAgcW9oID0gZGF0YVJvdy51b20ucW9oIHx8IDA7CiAgICAgICAgICAgICAgICBjb252ZXJzaW9uUmF0ZSA9IGRhdGFSb3cudW9tLmNvbnZlcnNpb25SYXRlIHx8IDE7CiAgICAgICAgICAgICAgICB3YWMgPSBkYXRhUm93LnVvbS53YWMgfHwgMDsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJidW9tIiwgYnVvbSk7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgid2FjIiwgd2FjKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJxb2giLCBxb2gpOwogICAgICAgICAgICAgICAgLyogdG9kbzogbWFwcGluZyB0YXggb2JqZWN0ICovCgogICAgICAgICAgICAgICAgdlRheCA9IHRoaXMudGF4TWFwcGluZyh0aGlzLnRheCwgZGF0YVJvdy51b20ucHVyY2hhc2VUYXggfHwge30pOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInZhdFRheCIsIHZUYXgpOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvbnZlcnNpb25SYXRlIiwgcGFyc2VGbG9hdChjb252ZXJzaW9uUmF0ZSkpOyAvLyBkYXRhUm93LnNldCgncHJpY2UnLCBwYXJzZUZsb2F0KGRhdGFSb3cudW9tLnByaWNlKSkKICAgICAgICAgICAgICAgIC8vIGRhdGFSb3cuc2V0KCdhbW91bnQnLCBwYXJzZUZsb2F0KGRhdGFSb3cudW9tLnByaWNlKSAqIHBhcnNlRmxvYXQoZGF0YVJvdy5xdHkpKQoKICAgICAgICAgICAgICAgIGlmIChkYXRhUm93LnVvbSkgewogICAgICAgICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coZGF0YVJvdywgJ2RhdGFSb3cnKQogICAgICAgICAgICAgICAgICBhbW91bnQgPSBwYXJzZUZsb2F0KGRhdGFSb3cudW9tLmNvc3QpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSk7CiAgICAgICAgICAgICAgICAgIHhBbW91bnQgPSBhbW91bnQgKiBwYXJzZUZsb2F0KHRoaXMuZGViaXRNZW1vLnR4blJhdGUpOwogICAgICAgICAgICAgICAgICBjb3N0ID0gcGFyc2VGbG9hdChkYXRhUm93LnVvbS5jb3N0KTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvc3QiLCBjb3N0KTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIGFtb3VudCk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIHhBbW91bnQpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGRhdGFSb3csICJkYXRhUm93LS0iKTsKICAgICAgICAgICAgICAgICAgYW1vdW50ID0gcGFyc2VGbG9hdChkYXRhUm93LmNvc3QpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSk7CiAgICAgICAgICAgICAgICAgIHhBbW91bnQgPSBhbW91bnQgKiBwYXJzZUZsb2F0KHRoaXMuZGViaXRNZW1vLnR4blJhdGUpOwogICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29zdCIsIHBhcnNlRmxvYXQoZGF0YVJvdy5jb3N0KSk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBhbW91bnQpOwogICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZXhjaGFuZ2VBbW91bnQiLCB4QW1vdW50KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGNhdGNoIChfdW51c2VkMikgewogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImJ1b20iLCB7fSk7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiY29udmVyc2lvblJhdGUiLCAxKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjb3N0IiwgMCk7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgMCk7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgicW9oIiwgMCk7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgid2FjIiwgMCk7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZXhjaGFuZ2VBbW91bnQiLCAwKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgInF0eSI6CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgYW1vdW50ID0gcGFyc2VGbG9hdChkYXRhUm93LmNvc3QpICogcGFyc2VGbG9hdChkYXRhUm93LnF0eSk7CiAgICAgICAgICAgICAgeEFtb3VudCA9IGFtb3VudCAqIHBhcnNlRmxvYXQodGhpcy5kZWJpdE1lbW8udHhuUmF0ZSk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvc3QiLCBwYXJzZUZsb2F0KGRhdGFSb3cuY29zdCkpOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBhbW91bnQpOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIHhBbW91bnQpOwogICAgICAgICAgICB9IGNhdGNoIChfdW51c2VkMykgewogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjb3N0IiwgMCk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIDApOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIDApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJvdGhlclRheCI6CiAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygiLS0iLCBkYXRhUm93KQogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coImRhdGEgcm93IiwgZGF0YVJvdyk7CiAgICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGUoKTsKICAgICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZUFwcGx5VG8oKTsKICAgICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZURlcG9zaXQoKTsKICAgICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZUNhc2hSZWZ1bmQoKTsKICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQW1vdW50KCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXV0b0NhbGN1bGF0ZVRheERldGFpbDogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZVRheERldGFpbCgpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgdmFyIGlkcyA9IFtdOwogICAgICB0aGlzLnRheExpc3REZXRhaWwuZm9yRWFjaChmdW5jdGlvbiAobikgewogICAgICAgIGlkcy5wdXNoKG4uaWQgfHwgJycpOwogICAgICB9KTsKCiAgICAgIHZhciB1bmlxdWUgPSBfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldChpZHMpKTsKCiAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgdW5pcXVlLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICB2YXIgYW1vdW50ID0gMCwKICAgICAgICAgICAgcm93ID0ge30sCiAgICAgICAgICAgIGRpc2NvdW50ID0gMCwKICAgICAgICAgICAgeERpc2NvdW50ID0gMCwKICAgICAgICAgICAgeEFtb3VudCA9IDAsCiAgICAgICAgICAgIHRheEFtb3VudCA9IDAsCiAgICAgICAgICAgIHhUYXhBbW91bnQgPSAwOwogICAgICAgIHZhciB0YXhEZXRhaWwgPSBbXSwKICAgICAgICAgICAgaXNWYXQgPSAwOwoKICAgICAgICB2YXIgZm91bmQgPSBfdGhpczEyLnRheExpc3REZXRhaWwuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICByZXR1cm4gbi5pZCA9PT0gbTsKICAgICAgICB9KTsgLy8gd2luZG93LmNvbnNvbGUubG9nKCd0YXhMaXN0RGV0YWlsaWRzJywgZm91bmQpCgoKICAgICAgICBmb3VuZC5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7CiAgICAgICAgICByb3cgPSBrOwoKICAgICAgICAgIGlmIChrLmlzVmF0ID09PSAxKSB7CiAgICAgICAgICAgIGlzVmF0ID0gMTsKICAgICAgICAgICAgdmFyIGRldGFpbF8gPSBrLmRldGFpbCB8fCB7fTsKICAgICAgICAgICAgdGF4RGV0YWlsLnB1c2goZGV0YWlsXyk7CiAgICAgICAgICB9CgogICAgICAgICAgdGF4QW1vdW50ICs9IGsudGF4QW1vdW50XyB8fCAwOwogICAgICAgICAgeFRheEFtb3VudCArPSAoay50YXhBbW91bnRfIHx8IDApICogKGsudHhuUmF0ZSB8fCAxKTsKICAgICAgICAgIGFtb3VudCArPSBrLmFtb3VudCB8fCAwOwogICAgICAgICAgeEFtb3VudCArPSAoay5hbW91bnQgfHwgMCkgKiAoay50eG5SYXRlIHx8IDEpOwogICAgICAgICAgZGlzY291bnQgKz0gay5kaXNjb3VudCB8fCAwOwogICAgICAgICAgeERpc2NvdW50ICs9IChrLmRpc2NvdW50IHx8IDApICogKGsudHhuUmF0ZSB8fCAxKTsKICAgICAgICB9KTsKICAgICAgICB2YXIgc3BUYXhBbXQgPSAwLAogICAgICAgICAgICBzcFhUYXhBbXQgPSAwLAogICAgICAgICAgICBwbFRheEFtdCA9IDAsCiAgICAgICAgICAgIHBsWFRheEFtdCA9IDAsCiAgICAgICAgICAgIG90VGF4QW10ID0gMCwKICAgICAgICAgICAgb3RYVGF4QW10ID0gMCwKICAgICAgICAgICAgc3BUYXhOYW1lID0gJycsCiAgICAgICAgICAgIHBsVGF4TmFtZSA9ICcnLAogICAgICAgICAgICBvdFRheE5hbWUgPSAnJywKICAgICAgICAgICAgc3BUYXhOYW1lTG9jYWxlID0gJycsCiAgICAgICAgICAgIHBsVGF4TmFtZUxvY2FsZSA9ICcnLAogICAgICAgICAgICBvdFRheE5hbWVMb2NhbGUgPSAnJywKICAgICAgICAgICAgc3BBY2NJZCA9ICcnLAogICAgICAgICAgICBwbEFjY0lkID0gJycsCiAgICAgICAgICAgIG90QWNjSWQgPSAnJywKICAgICAgICAgICAgc3BSYXRlID0gJycsCiAgICAgICAgICAgIHBsUmF0ZSA9ICcnLAogICAgICAgICAgICBvdFJhdGUgPSAnJzsKICAgICAgICB0YXhEZXRhaWwuZm9yRWFjaChmdW5jdGlvbiAobikgewogICAgICAgICAgdmFyIHNwVGF4ID0gbi5zcGVjaWZpY1RheCB8fCB7fTsKICAgICAgICAgIHZhciBwbFRheCA9IG4ucHVibGljTGlnaHRpbmdUYXggfHwge307CiAgICAgICAgICB2YXIgb3RoZXJUYXggPSBuLm90aGVyVGF4IHx8IHt9OwoKICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhzcFRheCkubGVuZ3RoID4gMCkgewogICAgICAgICAgICBzcFRheEFtdCArPSBzcFRheC50YXhBbW91bnRfIHx8IDA7CiAgICAgICAgICAgIHNwWFRheEFtdCArPSAoc3BUYXgudGF4QW1vdW50XyB8fCAwKSAqIChzcFRheC50YXhSYXRlIHx8IDEpOwogICAgICAgICAgICBzcFRheE5hbWUgPSBzcFRheC5kZWZhdWx0VGF4IHx8ICcnOwogICAgICAgICAgICBzcFRheE5hbWVMb2NhbGUgPSBzcFRheC5kZWZhdWx0VGF4TG9jYWxlIHx8ICcnOwogICAgICAgICAgICBzcEFjY0lkID0gc3BUYXguYWNjb3VudCA/IHNwVGF4LmFjY291bnQuaWQgOiAnJzsKICAgICAgICAgICAgc3BSYXRlID0gc3BUYXgucmF0ZSB8fCAxOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhwbFRheCkubGVuZ3RoID4gMCkgewogICAgICAgICAgICBwbFRheEFtdCArPSBwbFRheC50YXhBbW91bnRfIHx8IDA7CiAgICAgICAgICAgIHBsWFRheEFtdCArPSAocGxUYXgudGF4QW1vdW50XyB8fCAwKSAqIChwbFRheC50YXhSYXRlIHx8IDEpOwogICAgICAgICAgICBwbFRheE5hbWUgPSBwbFRheC5kZWZhdWx0VGF4IHx8ICcnOwogICAgICAgICAgICBwbFRheE5hbWVMb2NhbGUgPSBwbFRheC5kZWZhdWx0VGF4TG9jYWxlIHx8ICcnOwogICAgICAgICAgICBwbEFjY0lkID0gcGxUYXguYWNjb3VudCA/IHBsVGF4LmFjY291bnQuaWQgOiAnJzsKICAgICAgICAgICAgcGxSYXRlID0gcGxUYXgucmF0ZSB8fCAxOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhvdGhlclRheCkubGVuZ3RoID4gMCkgewogICAgICAgICAgICBvdFRheEFtdCArPSBvdGhlclRheC50YXhBbW91bnRfIHx8IDA7CiAgICAgICAgICAgIG90WFRheEFtdCArPSAob3RoZXJUYXgudGF4QW1vdW50XyB8fCAwKSAqIChwbFRheC50YXhSYXRlIHx8IDEpOwogICAgICAgICAgICBvdFRheE5hbWUgPSBvdGhlclRheC5kZWZhdWx0VGF4IHx8ICcnOwogICAgICAgICAgICBvdFRheE5hbWVMb2NhbGUgPSBvdGhlclRheC5kZWZhdWx0VGF4TG9jYWxlIHx8ICcnOwogICAgICAgICAgICBvdEFjY0lkID0gb3RoZXJUYXguYWNjb3VudCA/IG90aGVyVGF4LmFjY291bnQuaWQgOiAnJzsKICAgICAgICAgICAgb3RSYXRlID0gb3RoZXJUYXgucmF0ZSB8fCAxOwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBpZiAoaXNWYXQgPT09IDEpIHsKICAgICAgICAgIHJvdy5kZXRhaWwgPSB7CiAgICAgICAgICAgIHNwZWNpZmljVGF4OiB7CiAgICAgICAgICAgICAgbmFtZTogc3BUYXhOYW1lLAogICAgICAgICAgICAgIG5hbWVMb2NhbGU6IHNwVGF4TmFtZUxvY2FsZSwKICAgICAgICAgICAgICBhbW91bnQ6IHNwVGF4QW10LAogICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBzcFhUYXhBbXQsCiAgICAgICAgICAgICAgYWNjb3VudElkOiBzcEFjY0lkLAogICAgICAgICAgICAgIHJhdGU6IHNwUmF0ZQogICAgICAgICAgICB9LAogICAgICAgICAgICBwdWJsaWNMaWdodGluZ1RheDogewogICAgICAgICAgICAgIG5hbWU6IHBsVGF4TmFtZSwKICAgICAgICAgICAgICBuYW1lTG9jYWxlOiBwbFRheE5hbWVMb2NhbGUsCiAgICAgICAgICAgICAgYW1vdW50OiBwbFRheEFtdCwKICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogcGxYVGF4QW10LAogICAgICAgICAgICAgIGFjY291bnRJZDogcGxBY2NJZCwKICAgICAgICAgICAgICByYXRlOiBwbFJhdGUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3RoZXJUYXg6IHsKICAgICAgICAgICAgICBuYW1lOiBvdFRheE5hbWUsCiAgICAgICAgICAgICAgbmFtZUxvY2FsZTogb3RUYXhOYW1lTG9jYWxlLAogICAgICAgICAgICAgIGFtb3VudDogb3RUYXhBbXQsCiAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IG90WFRheEFtdCwKICAgICAgICAgICAgICBhY2NvdW50SWQ6IG90QWNjSWQsCiAgICAgICAgICAgICAgcmF0ZTogb3RSYXRlCiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJvdy5kZXRhaWwgPSB7fTsKICAgICAgICB9CgogICAgICAgIHJvd1snYW1vdW50J10gPSBhbW91bnQ7CiAgICAgICAgcm93WydleGNoYW5nZUFtb3VudCddID0geEFtb3VudDsKICAgICAgICByb3dbJ3RheEFtb3VudCddID0gdGF4QW1vdW50OwogICAgICAgIHJvd1snZXhjaGFuZ2VUYXhBbW91bnQnXSA9IHhUYXhBbW91bnQ7CiAgICAgICAgcm93WydkaXNjb3VudCddID0gZGlzY291bnQ7CiAgICAgICAgcm93WydleGNoYW5nZURpc2NvdW50J10gPSB4RGlzY291bnQ7CiAgICAgICAgcm93WydjdXJyZW5jeSddID0gX3RoaXMxMi5kZWJpdE1lbW8uZXhjaGFuZ2VSYXRlIHx8IHt9OwogICAgICAgIHJlc3VsdC5wdXNoKHJvdyk7CiAgICAgICAgdGF4RGV0YWlsID0gW107CiAgICAgIH0pOwogICAgICB0aGlzLmRlYml0TWVtby5zYWxlVGF4RGV0YWlsID0gcmVzdWx0OwogICAgICB3aW5kb3cuY29uc29sZS5sb2coJ2RlYml0TWVtby5zYWxlVGF4RGV0YWlsJywgcmVzdWx0KTsKICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlOiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlKCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHN1YlRvdGFsID0gMCwKICAgICAgICAgIHRvdGFsVGF4ID0gMCwKICAgICAgICAgIGRpc2NvdW50VG90YWwgPSAwLAogICAgICAgICAgc3BUYXggPSAwLAogICAgICAgICAgcGx0YXggPSAwLAogICAgICAgICAgb3RoZXJUYXggPSAwLAogICAgICAgICAgdmF0VGF4ID0gMCwKICAgICAgICAgIHRheExpc3QgPSBbXSwKICAgICAgICAgIGRpc2NvdW50SXRlbSA9IFtdLAogICAgICAgICAgdGF4TGlzdERldGFpbCA9IFtdLAogICAgICAgICAgaW5jbHVzaXZlVGF4ID0gMCwKICAgICAgICAgIHdpdGhob2xkaW5nVGF4QW1vdW50ID0gMCwKICAgICAgICAgIHdoVGF4QW1vdW50ID0gMCwKICAgICAgICAgIGl0ZW1TdWJ0b3RhbCA9IDAsCiAgICAgICAgICB0eG5JdG1TdWJ0b3RhbCA9IDAsCiAgICAgICAgICBzZXJ2aWNlU3VidG90YWwgPSAwLAogICAgICAgICAgaXRlbURpc2NvdW50ID0gMCwKICAgICAgICAgIHNlcnZpY2VEaXNjb3VudCA9IDAsCiAgICAgICAgICB0eG5EaXNjb3VudCA9IDA7CiAgICAgIHZhciBuYXR1cmUgPSAiIiwKICAgICAgICAgIGN1cnJlbmN5ID0gdGhpcy5kZWJpdE1lbW8uY3VycmVuY3ksCiAgICAgICAgICBjdXJyZW5jeUNvZGUgPSB0aGlzLmRlYml0TWVtby5jdXJyZW5jeSA/IHRoaXMuZGViaXRNZW1vLmN1cnJlbmN5LmNvZGUgOiAiIiwKICAgICAgICAgIHRheFR5cGVJZCA9IDA7IC8vLCB3aXRoaG9sZGluZ1RheEFtb3VudCA9IDAKCiAgICAgIHRoaXMualJhdzEgPSBbXTsKICAgICAgZHMuZGF0YSgpLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdmFyIG1vZGlmaWVyUHJpY2UgPSAwLAogICAgICAgICAgICBpbmNUYXggPSAwOwoKICAgICAgICBpZiAodmFsdWUubW9kaWZpZXIpIHsKICAgICAgICAgIG1vZGlmaWVyUHJpY2UgPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLm1vZGlmaWVyLnByaWNlKTsKICAgICAgICB9IC8vIHN1YlRvdGFsICs9IChrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCkgKyBtb2RpZmllclByaWNlKQoKCiAgICAgICAgdmFyIGRpc2NvdW50ID0gMDsKCiAgICAgICAgaWYgKHZhbHVlLmRpc2NvdW50SXRlbSkgewogICAgICAgICAgdmFyIGRpc0l0ZW1GaWVsZCA9IHZhbHVlLmRpc2NvdW50SXRlbTsKICAgICAgICAgIHZhciBzdWJUbyA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuY29zdCkgKiBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnF0eSk7CiAgICAgICAgICBkaXNjb3VudCA9IF90aGlzMTMuYXV0b0NhbGN1bGF0ZURpc2NvdW50KHZhbHVlLmRpc2NvdW50SXRlbSwgc3ViVG8pOwogICAgICAgICAgdmFsdWVbImRpc2NvdW50QW1vdW50Il0gPSBkaXNjb3VudDsKICAgICAgICAgIHZhbHVlWyJkaXNjb3VudEV4Y2hhbmdlQW1vdW50Il0gPSBkaXNjb3VudCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMy5kZWJpdE1lbW8udHhuUmF0ZSk7CgogICAgICAgICAgaWYgKHZhbHVlLmRpc2NvdW50SXRlbS5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICBkaXNjb3VudEl0ZW0ucHVzaCh2YWx1ZS5kaXNjb3VudEl0ZW0pOwogICAgICAgICAgfQoKICAgICAgICAgIGRpc2NvdW50VG90YWwgKz0gZGlzY291bnQgPyBkaXNjb3VudCA6IDA7CgogICAgICAgICAgaWYgKGRpc2NvdW50ID4gMCkgewogICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZGlzSXRlbUZpZWxkLmFjY291bnQpIHsKICAgICAgICAgICAgaWYgKGRpc0l0ZW1GaWVsZC5hY2NvdW50Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgX3RoaXMxMy5qUmF3MS5wdXNoKHsKICAgICAgICAgICAgICAgIGlkOiBkaXNJdGVtRmllbGQuYWNjb3VudC5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgICAgbWVtb1JhdGU6IGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMy5kZWJpdE1lbW8udHhuUmF0ZSksCiAgICAgICAgICAgICAgICBsYXN0WFJhdGU6IF90aGlzMTMuZGViaXRNZW1vLmV4Y2hhbmdlUmF0ZSwKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAiRGlzY291bnQiLAogICAgICAgICAgICAgICAgYWNjb3VudDogZGlzSXRlbUZpZWxkLmFjY291bnQsCiAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGRpc0l0ZW1GaWVsZC5hY2NvdW50LmlkLAogICAgICAgICAgICAgICAgYW1vdW50OiBkaXNjb3VudCwKICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBkaXNjb3VudCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMy5kZWJpdE1lbW8udHhuUmF0ZSksCiAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICB0eXBlQXM6ICJkaXNjb3VudCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlLnZhdFRheCkgewogICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCdWYXQgVGF4JywgdmFsdWUudmF0VGF4KQogICAgICAgICAgdmFyIF9hbXQgPSBrZW5kby5wYXJzZUZsb2F0KHNwVGF4ID8gc3BUYXggOiAwKSArIGtlbmRvLnBhcnNlRmxvYXQocGx0YXggPyBwbHRheCA6IDApICsga2VuZG8ucGFyc2VGbG9hdChvdGhlclRheCA/IG90aGVyVGF4IDogMCkgKyAoa2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQgPyB2YWx1ZS5hbW91bnQgOiAwKSAtIChkaXNjb3VudCA/IGRpc2NvdW50IDogMCkpOwoKICAgICAgICAgIHZhdFRheCA9IF90aGlzMTMuYXV0b0NhbGN1bGF0ZVRheCh2YWx1ZS52YXRUYXgsIF9hbXQpOwogICAgICAgICAgdmF0VGF4ID0ga2VuZG8ucGFyc2VGbG9hdCh2YXRUYXgpID8ga2VuZG8ucGFyc2VGbG9hdCh2YXRUYXgpIDogMDsKICAgICAgICAgIHZhbHVlWyJ2YXRUYXhBbW91bnQiXSA9IHZhdFRheDsKICAgICAgICAgIHZhbHVlWyJ2YXRUYXhFeGNoYW5nZUFtb3VudCJdID0gdmF0VGF4ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczEzLmRlYml0TWVtby50eG5SYXRlKTsKICAgICAgICAgIHZhciB0YXggPSB2YWx1ZS52YXRUYXg7CiAgICAgICAgICB2YXIgYmFzZUFtb3VudCA9IHRheC5iYXNlQW1vdW50OwoKICAgICAgICAgIGlmIChiYXNlQW1vdW50KSB7CiAgICAgICAgICAgIGlmIChiYXNlQW1vdW50LnRvTG93ZXJDYXNlKCkgPT09ICJpbmNsdXNpdmUiKSB7CiAgICAgICAgICAgICAgaW5jbHVzaXZlVGF4ICs9IHNwVGF4OwogICAgICAgICAgICAgIGluY1RheCA9IHNwVGF4OwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHZhbHVlLnZhdFRheC5oYXNPd25Qcm9wZXJ0eSgidGF4VHlwZSIpKSB7CiAgICAgICAgICAgIHRheExpc3QucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogdmFsdWUudmF0VGF4LnRheFR5cGUubmFtZSwKICAgICAgICAgICAgICBhbW91bnQ6IHZhdFRheCwKICAgICAgICAgICAgICBpZDogdmFsdWUudmF0VGF4LnRheFR5cGUuaWQKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciB2YXRUYXhfID0gdmFsdWUudmF0VGF4IHx8IHt9OwogICAgICAgICAgICB2YXRUYXhfWyd0YXhBbW91bnRfJ10gPSB2YXRUYXg7CiAgICAgICAgICAgIHZhdFRheF9bJ2Ftb3VudCddID0gdmFsdWUuYW1vdW50IHx8IDA7CiAgICAgICAgICAgIHZhdFRheF9bJ2Rpc2NvdW50J10gPSBkaXNjb3VudCB8fCAwOwogICAgICAgICAgICB2YXRUYXhfWyd0eG5SYXRlJ10gPSBfdGhpczEzLmRlYml0TWVtby50eG5SYXRlIHx8IDE7CiAgICAgICAgICAgIHZhdFRheF9bJ2lzVmF0J10gPSAxOwogICAgICAgICAgICB2YXRUYXhfLmRldGFpbCA9IHsKICAgICAgICAgICAgICBzcGVjaWZpY1RheDoge30sCiAgICAgICAgICAgICAgcHVibGljTGlnaHRpbmdUYXg6IHt9LAogICAgICAgICAgICAgIG90aGVyVGF4OiB7fQogICAgICAgICAgICB9OwogICAgICAgICAgICB0YXhMaXN0RGV0YWlsLnB1c2godmF0VGF4Xyk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHZhbHVlLnZhdFRheC5oYXNPd25Qcm9wZXJ0eSgidGF4VHlwZSIpKSB7CiAgICAgICAgICAgIHZhciB0YXhUeXBlID0gdmFsdWUudmF0VGF4LnRheFR5cGUgfHwge307CiAgICAgICAgICAgIHRheFR5cGVJZCA9IHRheFR5cGUudHlwZUlkIHx8IDA7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHRheEFtb3VudCA9IHZhdFRheDsKICAgICAgICAgIHZhciB0YXhEZXNjcmlwdGlvbiA9ICIiOwoKICAgICAgICAgIGlmICh0YXhUeXBlSWQgPT09IDEpIHsKICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgICAgdGF4QW1vdW50ID0gdmF0VGF4ICogLTE7CiAgICAgICAgICAgIHRheERlc2NyaXB0aW9uID0gIlB1cmNoYXNlIFRheCI7CiAgICAgICAgICB9IGVsc2UgaWYgKHRheFR5cGVJZCA9PT0gMikgewogICAgICAgICAgICB3aXRoaG9sZGluZ1RheEFtb3VudCArPSB2YXRUYXg7CiAgICAgICAgICAgIHdoVGF4QW1vdW50ID0gdmF0VGF4OwogICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgICB0YXhBbW91bnQgPSB2YXRUYXg7CiAgICAgICAgICAgIHRheERlc2NyaXB0aW9uID0gIldpdGhob2xkaW5nIFRheCI7CiAgICAgICAgICB9IGVsc2UgaWYgKHRheFR5cGVJZCA9PT0gMTApIHsKICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgICAgdGF4QW1vdW50ID0gMDsKICAgICAgICAgICAgdGF4RGVzY3JpcHRpb24gPSAiTm8gVGF4IjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodGF4QW1vdW50ID4gMCkgewogICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgdmF0VGF4RmllbGQgPSB2YWx1ZS50YXg7CgogICAgICAgICAgaWYgKHRheEFtb3VudCAhPT0gMCkgewogICAgICAgICAgICBpZiAodmF0VGF4RmllbGQpIHsKICAgICAgICAgICAgICBpZiAodmF0VGF4RmllbGQuYWNjb3VudCkgewogICAgICAgICAgICAgICAgaWYgKHZhdFRheEZpZWxkLmFjY291bnQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5qUmF3MS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBpZDogdmF0VGF4RmllbGQuYWNjb3VudC5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgbWVtb1JhdGU6IGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMy5kZWJpdE1lbW8udHhuUmF0ZSksCiAgICAgICAgICAgICAgICAgICAgbGFzdFhSYXRlOiBfdGhpczEzLmRlYml0TWVtby5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjdXJyZW5jeUNvZGUsCiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0YXhEZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiB2YXRUYXhGaWVsZC5hY2NvdW50LAogICAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogdmF0VGF4RmllbGQuYWNjb3VudC5pZCwKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IHRheEFtb3VudCwKICAgICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogdGF4QW1vdW50ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczEzLmRlYml0TWVtby50eG5SYXRlKSwKICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgdHlwZUFzOiAidGF4IgogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRvdGFsVGF4ICs9IGtlbmRvLnBhcnNlRmxvYXQoc3BUYXggPyBzcFRheCA6IDApICsga2VuZG8ucGFyc2VGbG9hdChwbHRheCA/IHBsdGF4IDogMCkgKyBrZW5kby5wYXJzZUZsb2F0KG90aGVyVGF4ID8gb3RoZXJUYXggOiAwKSArIGtlbmRvLnBhcnNlRmxvYXQodmF0VGF4ID8gdmF0VGF4IDogMCk7CiAgICAgICAgc3ViVG90YWwgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQpICsgbW9kaWZpZXJQcmljZSAtIGluY1RheDsKICAgICAgICB2YXIgYW10ID0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQpICsgbW9kaWZpZXJQcmljZSAtIGluY1RheDsKICAgICAgICB2YXIgaXRlbUFtb3VudCA9IChhbXQgKyB3aFRheEFtb3VudCkgKiAtMTsKICAgICAgICB2YXIgaXRlbVhBbW91bnQgPSBpdGVtQW1vdW50ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczEzLmRlYml0TWVtby50eG5SYXRlKTsKICAgICAgICB2YXIgaXRlbSA9IHZhbHVlLml0ZW07CiAgICAgICAgdmFyIGl0bVR5cGUgPSBpdGVtLnR5cGUgfHwgIiI7CgogICAgICAgIGlmIChpdG1UeXBlID09PSAiVmFyaWFudCIpIHsKICAgICAgICAgIGl0ZW1TdWJ0b3RhbCArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmNvc3QpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdHkpOwogICAgICAgICAgaXRlbURpc2NvdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnQpOwogICAgICAgIH0gZWxzZSBpZiAoaXRtVHlwZSA9PT0gIlNlcnZpY2UiKSB7CiAgICAgICAgICBzZXJ2aWNlU3VidG90YWwgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5jb3N0KSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucXR5KTsKICAgICAgICAgIGl0ZW1EaXNjb3VudCArPSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdHhuSXRtU3VidG90YWwgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5jb3N0KSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucXR5KTsKICAgICAgICAgIGl0ZW1EaXNjb3VudCArPSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50KTsKICAgICAgICB9CgogICAgICAgIGlmIChpdGVtQW1vdW50ID4gMCkgewogICAgICAgICAgbmF0dXJlID0gImRyIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICB9CgogICAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAiU2VydmljZSIpIHsKICAgICAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoImNvc3RPZkdvb2RzU29sZEFjYyIpKSB7CiAgICAgICAgICAgICAgaWYgKGl0ZW0uY29zdE9mR29vZHNTb2xkQWNjLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICB2YXIgY29zdE9mR29vZHNTb2xkQWNjID0gaXRlbS5jb3N0T2ZHb29kc1NvbGRBY2M7CgogICAgICAgICAgICAgICAgX3RoaXMxMy5qUmF3MS5wdXNoKHsKICAgICAgICAgICAgICAgICAgaWQ6IGNvc3RPZkdvb2RzU29sZEFjYy5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwodmFsdWUpLAogICAgICAgICAgICAgICAgICBtZW1vUmF0ZToga2VuZG8ucGFyc2VGbG9hdChfdGhpczEzLmRlYml0TWVtby50eG5SYXRlKSwKICAgICAgICAgICAgICAgICAgbGFzdFhSYXRlOiBfdGhpczEzLmRlYml0TWVtby5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgICAgICBjdXJyZW5jeTogY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBfdGhpczEzLmRlYml0TWVtby5qb3VybmFsTm90ZSwKICAgICAgICAgICAgICAgICAgYWNjb3VudDogaXRlbS5jb3N0T2ZHb29kc1NvbGRBY2MsCiAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogaXRlbS5jb3N0T2ZHb29kc1NvbGRBY2MuaWQsCiAgICAgICAgICAgICAgICAgIGFtb3VudDogaXRlbUFtb3VudCwKICAgICAgICAgICAgICAgICAgLy8gcXR5KmF2Z19jb3N0ICwKICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGl0ZW1YQW1vdW50LAogICAgICAgICAgICAgICAgICAvL3hBbW91bnQsCiAgICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgICAgdHlwZUFzOiAiaXRlbSIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoImRlZmVycmVkSW5jb21lQWNjIikpIHsKICAgICAgICAgICAgICBpZiAoaXRlbS5kZWZlcnJlZEluY29tZUFjYy5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgdmFyIGRlZmVycmVkSW5BY2MgPSBpdGVtLmRlZmVycmVkSW5jb21lQWNjOwoKICAgICAgICAgICAgICAgIF90aGlzMTMualJhdzEucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBkZWZlcnJlZEluQWNjLmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgIG1lbW9SYXRlOiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTMuZGViaXRNZW1vLnR4blJhdGUpLAogICAgICAgICAgICAgICAgICBsYXN0WFJhdGU6IF90aGlzMTMuZGViaXRNZW1vLmV4Y2hhbmdlUmF0ZSwKICAgICAgICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjdXJyZW5jeUNvZGUsCiAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzMTMuZGViaXRNZW1vLmpvdXJuYWxOb3RlLAogICAgICAgICAgICAgICAgICBhY2NvdW50OiBkZWZlcnJlZEluQWNjLAogICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGRlZmVycmVkSW5BY2MuaWQsCiAgICAgICAgICAgICAgICAgIGFtb3VudDogaXRlbUFtb3VudCwKICAgICAgICAgICAgICAgICAgLy8gcXR5KmF2Z19jb3N0ICwKICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGl0ZW1YQW1vdW50LAogICAgICAgICAgICAgICAgICAvLywKICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICB0eXBlQXM6ICJpdGVtIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gIlZhcmlhbnQiKSB7CiAgICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCJpbnZlbnRvcnlBY2MiKSkgewogICAgICAgICAgICAgIGlmIChpdGVtLmludmVudG9yeUFjYy5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgdmFyIGludmVudG9yeUFjYyA9IGl0ZW0uaW52ZW50b3J5QWNjOwoKICAgICAgICAgICAgICAgIF90aGlzMTMualJhdzEucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBpbnZlbnRvcnlBY2MuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgICAgbWVtb1JhdGU6IGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMy5kZWJpdE1lbW8udHhuUmF0ZSksCiAgICAgICAgICAgICAgICAgIGxhc3RYUmF0ZTogX3RoaXMxMy5kZWJpdE1lbW8uZXhjaGFuZ2VSYXRlLAogICAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGN1cnJlbmN5Q29kZSwKICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogX3RoaXMxMy5kZWJpdE1lbW8uam91cm5hbE5vdGUsCiAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGl0ZW0uaW52ZW50b3J5QWNjLAogICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGl0ZW0uaW52ZW50b3J5QWNjLmlkLAogICAgICAgICAgICAgICAgICBhbW91bnQ6IGl0ZW1BbW91bnQsCiAgICAgICAgICAgICAgICAgIC8vIHF0eSphdmdfY29zdCAsCiAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBpdGVtWEFtb3VudCwKICAgICAgICAgICAgICAgICAgLy94QW1vdW50LAogICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgIHR5cGVBczogIml0ZW0iCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAiRml4ZWQgQXNzZXQiKSB7CiAgICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCJhc3NldEFjYyIpKSB7CiAgICAgICAgICAgICAgaWYgKGl0ZW0uYXNzZXRBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgIHZhciBhc3NldEFjYyA9IGl0ZW0uYXNzZXRBY2M7CgogICAgICAgICAgICAgICAgX3RoaXMxMy5qUmF3MS5wdXNoKHsKICAgICAgICAgICAgICAgICAgaWQ6IGFzc2V0QWNjLmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgIG1lbW9SYXRlOiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTMuZGViaXRNZW1vLnR4blJhdGUpLAogICAgICAgICAgICAgICAgICBsYXN0WFJhdGU6IF90aGlzMTMuZGViaXRNZW1vLmV4Y2hhbmdlUmF0ZSwKICAgICAgICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjdXJyZW5jeUNvZGUsCiAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzMTMuZGViaXRNZW1vLmpvdXJuYWxOb3RlLAogICAgICAgICAgICAgICAgICBhY2NvdW50OiBpdGVtLmFzc2V0QWNjLAogICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGl0ZW0uYXNzZXRBY2MuaWQsCiAgICAgICAgICAgICAgICAgIGFtb3VudDogaXRlbUFtb3VudCwKICAgICAgICAgICAgICAgICAgLy8gcXR5KmF2Z19jb3N0ICwKICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGl0ZW1YQW1vdW50LAogICAgICAgICAgICAgICAgICAvL3hBbW91bnQsCiAgICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgICAgdHlwZUFzOiAiaXRlbSIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICJUcmFuc2FjdGlvbiBJdGVtIikgewogICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgiYWNjb3VudCIpKSB7CiAgICAgICAgICAgICAgaWYgKGl0ZW0uYWNjb3VudC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgX3RoaXMxMy5qUmF3MS5wdXNoKHsKICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uYWNjb3VudC5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwodmFsdWUpLAogICAgICAgICAgICAgICAgICBtZW1vUmF0ZToga2VuZG8ucGFyc2VGbG9hdChfdGhpczEzLmRlYml0TWVtby50eG5SYXRlKSwKICAgICAgICAgICAgICAgICAgbGFzdFhSYXRlOiBfdGhpczEzLmRlYml0TWVtby5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgICAgICBjdXJyZW5jeTogY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBfdGhpczEzLmRlYml0TWVtby5qb3VybmFsTm90ZSwKICAgICAgICAgICAgICAgICAgYWNjb3VudDogaXRlbS5hY2NvdW50LAogICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGl0ZW0uYWNjb3VudC5pZCwKICAgICAgICAgICAgICAgICAgYW1vdW50OiBpdGVtQW1vdW50LAogICAgICAgICAgICAgICAgICAvLyBxdHkqYXZnX2Nvc3QgLAogICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogaXRlbVhBbW91bnQsCiAgICAgICAgICAgICAgICAgIC8veEFtb3VudCwKICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICB0eXBlQXM6ICJpdGVtIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSAvL2luY2x1ZGUgVGF4IEFtb3VudAoKCiAgICAgICAgdmFyIGFtb3VudE5vZGlzY291bnQgPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmNvc3QpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdHkpIC0gZGlzY291bnQ7CiAgICAgICAgdmFyIGluY2x1ZGVUYXhBbW91bnQgPSBhbW91bnROb2Rpc2NvdW50ICsgdmF0VGF4ICsgcGx0YXggKyBzcFRheCArIG90aGVyVGF4OwogICAgICAgIHZhbHVlWyJpbmNsdWRlVGF4QW1vdW50Il0gPSBpbmNsdWRlVGF4QW1vdW50OwogICAgICAgIHZhbHVlWyJpbmNsdWRlVGF4RXhjaGFuZ2VBbW91bnQiXSA9IGluY2x1ZGVUYXhBbW91bnQgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTMuZGViaXRNZW1vLnR4blJhdGUpOwogICAgICB9KTsKICAgICAgdGhpcy5kZWJpdE1lbW8uaXRlbVN1YnRvdGFsID0gaXRlbVN1YnRvdGFsOwogICAgICB0aGlzLmRlYml0TWVtby5leGNoYW5nZUl0ZW1TdWJ0b3RhbCA9IGl0ZW1TdWJ0b3RhbCAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy5kZWJpdE1lbW8udHhuUmF0ZSk7CiAgICAgIHRoaXMuZGViaXRNZW1vLnNlcnZpY2VTdWJ0b3RhbCA9IHNlcnZpY2VTdWJ0b3RhbDsKICAgICAgdGhpcy5kZWJpdE1lbW8uZXhjaGFuZ2VTZXJ2aWNlU3VidG90YWwgPSBzZXJ2aWNlU3VidG90YWwgKiBrZW5kby5wYXJzZUZsb2F0KHRoaXMuZGViaXRNZW1vLnR4blJhdGUpOwogICAgICB0aGlzLmRlYml0TWVtby50eG5JdG1TdWJ0b3RhbCA9IHR4bkl0bVN1YnRvdGFsOwogICAgICB0aGlzLmRlYml0TWVtby5leGNoYW5nZVR4bkl0bVN1YnRvdGFsID0gdHhuSXRtU3VidG90YWwgKiBrZW5kby5wYXJzZUZsb2F0KHRoaXMuZGViaXRNZW1vLnR4blJhdGUpOwogICAgICB0aGlzLmRlYml0TWVtby5pdGVtRGlzY291bnQgPSBpdGVtRGlzY291bnQ7CiAgICAgIHRoaXMuZGViaXRNZW1vLmV4Y2hhbmdlSXRlbURpc2NvdW50ID0gaXRlbURpc2NvdW50ICoga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmRlYml0TWVtby50eG5SYXRlKTsKICAgICAgdGhpcy5kZWJpdE1lbW8uc2VydmljZURpc2NvdW50ID0gc2VydmljZURpc2NvdW50OwogICAgICB0aGlzLmRlYml0TWVtby5leGNoYW5nZVNlcnZpY2VEaXNjb3VudCA9IHNlcnZpY2VEaXNjb3VudCAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy5kZWJpdE1lbW8udHhuUmF0ZSk7CiAgICAgIHRoaXMuZGViaXRNZW1vLnR4bkl0bURpc2NvdW50ID0gdHhuRGlzY291bnQ7CiAgICAgIHRoaXMuZGViaXRNZW1vLmV4Y2hhbmdlVHhuSXRtRGlzY291bnQgPSB0eG5EaXNjb3VudCAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy5kZWJpdE1lbW8udHhuUmF0ZSk7CiAgICAgIHZhciB0b3RhbCA9IGtlbmRvLnBhcnNlRmxvYXQoc3ViVG90YWwpIC0ga2VuZG8ucGFyc2VGbG9hdChkaXNjb3VudFRvdGFsKSArIGtlbmRvLnBhcnNlRmxvYXQodG90YWxUYXgpOwogICAgICB0aGlzLmRlYml0TWVtby53aXRoaG9sZGluZ1RheEFtb3VudCA9IHdpdGhob2xkaW5nVGF4QW1vdW50OwogICAgICB0aGlzLmRlYml0TWVtby5pbmNsdXNpdmVUYXhBbW91bnQgPSBpbmNsdXNpdmVUYXg7CiAgICAgIHRoaXMuZGViaXRNZW1vLml0ZW1MaW5lU3ViVG90YWwgPSBzdWJUb3RhbDsKICAgICAgdGhpcy5kZWJpdE1lbW8uaXRlbUxpbmVUYXhBbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KHRvdGFsVGF4KTsKICAgICAgdGhpcy5kZWJpdE1lbW8uaXRlbUxpbmVEaXNjb3VudEFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnRUb3RhbCk7CiAgICAgIHRoaXMuZGViaXRNZW1vLml0ZW1MaW5lQW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh0b3RhbCkgLSBwYXJzZUZsb2F0KHdpdGhob2xkaW5nVGF4QW1vdW50KTsgLy8gdGhpcy5hdXRvQ2FsY3VsYXRlVGF4QnlUeXBlKHRheExpc3QpCiAgICAgIC8vIGNvbnN0IHVuaXF1ZURpc2NvdW50ID0gdGhpcy5yZW1vdmVEdXBsaWNhdGUoZGlzY291bnRJdGVtKTsKCiAgICAgIHRoaXMuc2hyaW5rRGlzY291bnRJdGVtKGRpc2NvdW50SXRlbSk7CiAgICAgIHRoaXMuZGViaXRNZW1vLml0ZW1MaW5lRXhjaGFuZ2VBbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KHRoaXMuZGViaXRNZW1vLml0ZW1MaW5lQW1vdW50KSAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy5kZWJpdE1lbW8udHhuUmF0ZSk7IC8vIHRoaXMuZGViaXRNZW1vLmFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodGhpcy5kZWJpdE1lbW8uaXRlbUxpbmVBbW91bnQpCiAgICAgIC8vIHRoaXMuZGViaXRNZW1vLnZhcmlhbmNlID0ga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmRlYml0TWVtby5pdGVtTGluZUFtb3VudCkKICAgICAgLy8gdGhpcy5jYWxjdWxhdGVBbW91bnQoKQogICAgfSwKICAgIHNocmlua0Rpc2NvdW50SXRlbTogZnVuY3Rpb24gc2hyaW5rRGlzY291bnRJdGVtKGRpc2NvdW50SXRlbSkgewogICAgICB2YXIgdW5pcXVlRGlzY291bnRJdGVtcyA9IFtdOwogICAgICB2YXIgdW5pcXVlID0gdGhpcy5yZW1vdmVEdXBsaWNhdGUoZGlzY291bnRJdGVtKTsKICAgICAgdW5pcXVlLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICB2YXIgZm91bmQgPSBkaXNjb3VudEl0ZW0uZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICByZXR1cm4gbi5pZCA9PT0gbS5pZDsKICAgICAgICB9KTsKICAgICAgICB2YXIgYW1vdW50ID0gMCwKICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQgPSAwOwogICAgICAgIGZvdW5kLm1hcChmdW5jdGlvbiAobykgewogICAgICAgICAgYW1vdW50ICs9IG8uYW1vdW50IHx8IDA7CiAgICAgICAgfSk7CiAgICAgICAgZm91bmQubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICBleGNoYW5nZUFtb3VudCArPSBvLmV4Y2hhbmdlQW1vdW50IHx8IDA7CiAgICAgICAgfSk7CiAgICAgICAgdW5pcXVlRGlzY291bnRJdGVtcy5wdXNoKHsKICAgICAgICAgIGlkOiBtLmlkLAogICAgICAgICAgbmFtZTogbS5uYW1lLAogICAgICAgICAgYW1vdW50OiBhbW91bnQsCiAgICAgICAgICBleGNoYW5nZUFtb3VudDogZXhjaGFuZ2VBbW91bnQKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMuc3VwcGxpZXJEaXNjb3VudEl0ZW0gPSB1bmlxdWVEaXNjb3VudEl0ZW1zOwogICAgICB0aGlzLmRlYml0TWVtby5zdXBwbGllckRpc2NvdW50SXRlbSA9IHVuaXF1ZURpc2NvdW50SXRlbXM7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh1bmlxdWVEaXNjb3VudEl0ZW1zLCAidW5pcXVlRGlzY291bnRJdGVtcyIpOwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVBcHBseVRvOiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlQXBwbHlUbygpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5hcHBseVRvTGluZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBjb252ZXJ0ZWRBbW91bnQgPSAwLAogICAgICAgICAgYW1vdW50ID0gMDsKICAgICAgdGhpcy5qUmF3NSA9IFtdOwogICAgICB2YXIgdHhuUmF0ZSA9IDEsCiAgICAgICAgICBjdXJyZW5jeSA9IHRoaXMuZGViaXRNZW1vLmN1cnJlbmN5LAogICAgICAgICAgY3VycmVuY3lDb2RlID0gdGhpcy5kZWJpdE1lbW8uY3VycmVuY3kgPyB0aGlzLmRlYml0TWVtby5jdXJyZW5jeS5jb2RlIDogIiI7CiAgICAgIGRzLmRhdGEoKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHZhciBvZmZzZXRBbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnBhaWRBbW91bnQgPyB2YWx1ZS5wYWlkQW1vdW50IDogMCk7CgogICAgICAgIGlmIChvZmZzZXRBbW91bnQgPiAwKSB7CiAgICAgICAgICBhbW91bnQgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5wYWlkQW1vdW50KTsKICAgICAgICAgIGNvbnZlcnRlZEFtb3VudCArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnBhaWRBbW91bnQpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS50eG5SYXRlKTsKICAgICAgICAgIHR4blJhdGUgPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnR4blJhdGUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuZGViaXRNZW1vLmFwcGx5VG9FeGNoYW5nZUFtb3VudCA9IGNvbnZlcnRlZEFtb3VudDsKICAgICAgdGhpcy5kZWJpdE1lbW8uYXBwbHlUb0Ftb3VudCA9IGFtb3VudDsgLy8gdGhpcy5jYWxjdWxhdGVBbW91bnQoKQogICAgICAvL3RvZG86IEFQCgogICAgICB2YXIgYXBBY2MgPSB0aGlzLnN1cHBsaWVyLmFwQWNjIHx8IHt9OwogICAgICB2YXIgbmF0dXJlID0gIiI7CgogICAgICBpZiAodGhpcy5kZWJpdE1lbW8uYXBwbHlUb0Ftb3VudCA+IDApIHsKICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICB9IGVsc2UgewogICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgIH0KCiAgICAgIGlmIChhcEFjYykgewogICAgICAgIGlmIChhcEFjYy5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgaWYgKHRoaXMuZGViaXRNZW1vLmFwcGx5VG9BbW91bnQgIT09IDApIHsKICAgICAgICAgICAgdGhpcy5qUmF3NS5wdXNoKHsKICAgICAgICAgICAgICBpZDogYXBBY2MuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwoe30pLAogICAgICAgICAgICAgIG1lbW9SYXRlOiB0eG5SYXRlLAogICAgICAgICAgICAgIGxhc3RYUmF0ZTogdGhpcy5kZWJpdE1lbW8uZXhjaGFuZ2VSYXRlLAogICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSwKICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZWJpdE1lbW8udHJhbnNhY3Rpb25Ob3RlLAogICAgICAgICAgICAgIGFjY291bnQ6IGFwQWNjLAogICAgICAgICAgICAgIGFjY291bnRJZDogYXBBY2MuaWQsCiAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IHRoaXMuZGViaXRNZW1vLmFwcGx5VG9FeGNoYW5nZUFtb3VudCwKICAgICAgICAgICAgICBhbW91bnQ6IHRoaXMuZGViaXRNZW1vLmFwcGx5VG9BbW91bnQsCiAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgIHR5cGVBczogIkFQIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjYWxjdWxhdGVBbW91bnQ6IGZ1bmN0aW9uIGNhbGN1bGF0ZUFtb3VudCgpIHsKICAgICAgdmFyIG9mZnNldEFtb3VudCA9IDAsCiAgICAgICAgICBvZmZzZXRYQW1vdW50ID0gMDsgLy8gYXBwbHl0b19hbW91bnQgKyBkZXBvc2l0ICsgY2FzaCByZWZ1bmQKCiAgICAgIHZhciBhcHBseVRvRXhjaGFuZ2VBbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KHRoaXMuZGViaXRNZW1vLmFwcGx5VG9FeGNoYW5nZUFtb3VudCk7CiAgICAgIHZhciBleGNoYW5nZURlcG9zaXREZWR1Y3Rpb24gPSBrZW5kby5wYXJzZUZsb2F0KHRoaXMuZGViaXRNZW1vLmV4Y2hhbmdlRGVwb3NpdERlZHVjdGlvbik7CiAgICAgIHZhciBleGNoYW5nZVJlZnVuZEFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodGhpcy5kZWJpdE1lbW8uZXhjaGFuZ2VSZWZ1bmRBbW91bnQpOwogICAgICB2YXIgYXBwbHlUb0Ftb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodGhpcy5kZWJpdE1lbW8uYXBwbHlUb0Ftb3VudCk7CiAgICAgIHZhciBkZXBvc2l0QW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmRlYml0TWVtby5kZXBvc2l0QW1vdW50KTsKICAgICAgdmFyIHJlZnVuZEFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodGhpcy5kZWJpdE1lbW8ucmVmdW5kQW1vdW50KTsKICAgICAgdmFyIGl0ZW1MaW5lRXhjaGFuZ2UgPSBrZW5kby5wYXJzZUZsb2F0KHRoaXMuZGViaXRNZW1vLml0ZW1MaW5lRXhjaGFuZ2VBbW91bnQpOwogICAgICB2YXIgaXRlbUxpbmVBbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KHRoaXMuZGViaXRNZW1vLml0ZW1MaW5lQW1vdW50KTsKICAgICAgb2Zmc2V0WEFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQoYXBwbHlUb0V4Y2hhbmdlQW1vdW50ICsgZXhjaGFuZ2VEZXBvc2l0RGVkdWN0aW9uICsgZXhjaGFuZ2VSZWZ1bmRBbW91bnQpOwogICAgICBvZmZzZXRBbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KGFwcGx5VG9BbW91bnQgKyBkZXBvc2l0QW1vdW50ICsgcmVmdW5kQW1vdW50KTsKICAgICAgdGhpcy5kZWJpdE1lbW8uYW1vdW50ID0gb2Zmc2V0QW1vdW50OwogICAgICB0aGlzLmRlYml0TWVtby5leGNoYW5nZUFtb3VudCA9IG9mZnNldFhBbW91bnQ7CiAgICAgIHRoaXMuZGViaXRNZW1vLnZhcmlhbmNlID0gaXRlbUxpbmVBbW91bnQgLSBvZmZzZXRBbW91bnQ7CiAgICAgIHRoaXMuZGViaXRNZW1vLmV4Y2hhbmdlVmFyaWFuY2UgPSBpdGVtTGluZUV4Y2hhbmdlIC0gb2Zmc2V0WEFtb3VudDsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJ2YXJpYW5jZSIsIHRoaXMuZGViaXRNZW1vLnZhcmlhbmNlKTsgLy8gaWYgKG9mZnNldEFtb3VudCA+IGl0ZW1MaW5lQW1vdW50KSB7CiAgICAgIC8vICAgdGhpcy5zaG93V2FyaW5nTWVzc2FnZSgnRGViaXQgTWVtbycsICdSZXR1cm4gYW1vdW50IGFuZCBPZmZzZXQgYW1vdW50IG11c3QgYmUgZXF1YWwhJywgJ09LJykKICAgICAgLy8gICAvLyByZXR1cm4KICAgICAgLy8gfQoKICAgICAgd2luZG93LmNvbnNvbGUubG9nKG9mZnNldEFtb3VudCwgIm9mZnNldEFtb3VudCIpOwogICAgICB0aGlzLmpSYXc0ID0gW107CiAgICAgIHZhciBjdXJyZW5jeSA9IHRoaXMuZGViaXRNZW1vLmN1cnJlbmN5LAogICAgICAgICAgY3VycmVuY3lDb2RlID0gdGhpcy5kZWJpdE1lbW8uY3VycmVuY3kgPyB0aGlzLmRlYml0TWVtby5jdXJyZW5jeS5jb2RlIDogIiI7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyhvZmZzZXRBbW91bnQsICdvZmZzZXRBbW91bnQnKQoKICAgICAgaWYgKHRoaXMuZGViaXRNZW1vLnZhcmlhbmNlICE9PSAwKSB7CiAgICAgICAgdGhpcy5qUmF3NCA9IFtdOwogICAgICAgIHZhciBuYXR1cmUgPSAiIjsKCiAgICAgICAgaWYgKHRoaXMuZGViaXRNZW1vLnZhcmlhbmNlQWNjKSB7CiAgICAgICAgICBpZiAodGhpcy5kZWJpdE1lbW8udmFyaWFuY2UgPiAwKSB7CiAgICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciB2YXJpYW5jZUFjYyA9IHRoaXMuZGViaXRNZW1vLnZhcmlhbmNlQWNjOwoKICAgICAgICAgIGlmICh2YXJpYW5jZUFjYy5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICB0aGlzLmpSYXc0LnB1c2goewogICAgICAgICAgICAgIGlkOiB2YXJpYW5jZUFjYy5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh7fSksCiAgICAgICAgICAgICAgbWVtb1JhdGU6IHRoaXMuZGViaXRNZW1vLnR4blJhdGUsCiAgICAgICAgICAgICAgbGFzdFhSYXRlOiB0aGlzLmRlYml0TWVtby5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjdXJyZW5jeUNvZGUsCiAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAiVmFyaWFuY2UiLAogICAgICAgICAgICAgIGFjY291bnQ6IHZhcmlhbmNlQWNjLAogICAgICAgICAgICAgIGFjY291bnRJZDogdmFyaWFuY2VBY2MuaWQsCiAgICAgICAgICAgICAgYW1vdW50OiB0aGlzLmRlYml0TWVtby52YXJpYW5jZSwKICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogdGhpcy5kZWJpdE1lbW8uZXhjaGFuZ2VWYXJpYW5jZSwKICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgdHlwZUFzOiAiR2Fpbkxvc3MiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5zaHJpbmtEYXRhKCk7CiAgICAgIHJldHVybiBvZmZzZXRBbW91bnQ7CiAgICB9LAogICAgb25WYXJpYW5jZUFjY0NoYW5nZWQ6IGZ1bmN0aW9uIG9uVmFyaWFuY2VBY2NDaGFuZ2VkKCkgewogICAgICB0aGlzLmF1dG9DYWxjdWxhdGUoKTsKICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlQXBwbHlUbygpOwogICAgICB0aGlzLmF1dG9DYWxjdWxhdGVEZXBvc2l0KCk7CiAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZUNhc2hSZWZ1bmQoKTsKICAgICAgdGhpcy5jYWxjdWxhdGVBbW91bnQoKTsKICAgIH0sCiAgICBzaHJpbmtEYXRhOiBmdW5jdGlvbiBzaHJpbmtEYXRhKCkgewogICAgICB0aGlzLmpSYXcgPSBbXTsKICAgICAgdmFyIG9iaiA9IHRoaXMualJhdy5jb25jYXQodGhpcy5qUmF3MSwgdGhpcy5qUmF3MiwgdGhpcy5qUmF3MywgdGhpcy5qUmF3NCwgdGhpcy5qUmF3NSk7CiAgICAgIHZhciB1bmlxdWVzID0gdGhpcy5yZW1vdmVEdXBsaWNhdGUob2JqKTsKICAgICAgLypbLi4ubmV3IFNldChhY2NvdW50SWQubWFwKGkgPT4gewogICAgICAgcmV0dXJuIHsKICAgICAgICAgICBpZF86IGkuaWRfLAogICAgICAgICAgIGlkOiBpLmlkLAogICAgICAgICAgIHR5cGU6IGkudHlwZQogICAgICAgfQogICAgICB9KSldKi8KCiAgICAgIHVuaXF1ZXMuZm9yRWFjaChmdW5jdGlvbiAobikgewogICAgICAgIHZhciBmb3VuZCA9IG9iai5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgIHJldHVybiBtLmlkID09PSBuLmlkOwogICAgICAgIH0pOwogICAgICAgIHZhciBhbW91bnQgPSAwLAogICAgICAgICAgICBleGNoYW5nZUFtb3VudCA9IDA7CiAgICAgICAgZm91bmQuZm9yRWFjaChmdW5jdGlvbiAoeikgewogICAgICAgICAgYW1vdW50ICs9IHBhcnNlRmxvYXQoei5hbW91bnQgfHwgMCk7CiAgICAgICAgICBleGNoYW5nZUFtb3VudCArPSBwYXJzZUZsb2F0KHouZXhjaGFuZ2VBbW91bnQgfHwgMCk7CiAgICAgICAgfSk7CiAgICAgICAgbi5leGNoYW5nZUFtb3VudCA9IHBhcnNlRmxvYXQoZXhjaGFuZ2VBbW91bnQpOyAvL3RoaXMubnVtYmVyRm9ybWF0KGFtb3VudCkKCiAgICAgICAgbi5hbW91bnQgPSBwYXJzZUZsb2F0KGFtb3VudCk7CiAgICAgIH0pOwogICAgICB0aGlzLmpSYXcgPSB1bmlxdWVzOwogICAgICB2YXIgZHIgPSAwLAogICAgICAgICAgY3IgPSAwOwogICAgICB0aGlzLmpSYXcuZm9yRWFjaChmdW5jdGlvbiAoaikgewogICAgICAgIHN3aXRjaCAoai50eXBlKSB7CiAgICAgICAgICBjYXNlICJjciI6CiAgICAgICAgICAgIGNyICs9IHBhcnNlRmxvYXQoai5hbW91bnQpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJkciI6CiAgICAgICAgICAgIGRyICs9IHBhcnNlRmxvYXQoai5hbW91bnQpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmRyID0gZHI7CiAgICAgIHRoaXMuY3IgPSBjcjsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJkcj0iLCBkciwgImNyPSIsIGNyLCAiZHIrY3IgPSAiLCBkciArIGNyKTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHRoaXMualJhdyksICJ1bmlxdWVzIiwgdGhpcy5kZWJpdE1lbW8pOwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVEZXBvc2l0OiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlRGVwb3NpdCgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5kZXBvc2l0TGluZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBhbW91bnQgPSAwLAogICAgICAgICAgY29udmVydGVkQW1vdW50ID0gMDsKICAgICAgdmFyIG5hdHVyZSA9ICIiOwogICAgICB0aGlzLmpSYXcyID0gW107CiAgICAgIHZhciBjdXJyZW5jeSA9IHRoaXMuZGViaXRNZW1vLmN1cnJlbmN5LAogICAgICAgICAgY3VycmVuY3lDb2RlID0gdGhpcy5kZWJpdE1lbW8uY3VycmVuY3kgPyB0aGlzLmRlYml0TWVtby5jdXJyZW5jeS5jb2RlIDogIiI7CiAgICAgIGRzLmRhdGEoKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHZhciBkZXNjcmlwdGlvbiA9ICIiOwoKICAgICAgICBpZiAodmFsdWUuYW1vdW50KSB7CiAgICAgICAgICBhbW91bnQgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQpOwogICAgICAgICAgY29udmVydGVkQW1vdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxNC5kZWJpdE1lbW8udHhuUmF0ZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUuZGVzY3JpcHRpb24pIHsKICAgICAgICAgIGRlc2NyaXB0aW9uID0gdmFsdWUuZGVzY3JpcHRpb24gfHwgIiI7CiAgICAgICAgfQoKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2codmFsdWUuYWNjb3VudCwgInZhbHVlLmRlcG9zaXQiLCBhbW91bnQpOwoKICAgICAgICBpZiAodmFsdWUuYWNjb3VudCkgewogICAgICAgICAgdmFyIGFjY291bnQgPSB2YWx1ZS5hY2NvdW50OwoKICAgICAgICAgIGlmIChhY2NvdW50KSB7CiAgICAgICAgICAgIGlmIChhY2NvdW50Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgaWYgKGFtb3VudCA+IDApIHsKICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpczE0LmpSYXcyLnB1c2goewogICAgICAgICAgICAgICAgaWQ6IGFjY291bnQuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIkRlcG9zaXQgIiArIGRlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwoe30pLAogICAgICAgICAgICAgICAgbWVtb1JhdGU6IF90aGlzMTQuZGViaXRNZW1vLnR4blJhdGUsCiAgICAgICAgICAgICAgICBsYXN0WFJhdGU6IF90aGlzMTQuZGViaXRNZW1vLmV4Y2hhbmdlUmF0ZSwKICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgICAgIGFjY291bnRJZDogYWNjb3VudC5pZCwKICAgICAgICAgICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGFtb3VudCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxNC5kZWJpdE1lbW8udHhuUmF0ZSksCiAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICB0eXBlQXM6ICJkZXBvc2l0IgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5kZWJpdE1lbW8uZGVwb3NpdEFtb3VudCA9IGFtb3VudDsKICAgICAgdGhpcy5kZWJpdE1lbW8uZXhjaGFuZ2VEZXBvc2l0RGVkdWN0aW9uID0gY29udmVydGVkQW1vdW50OyAvLyB0aGlzLmNhbGN1bGF0ZUFtb3VudCgpCiAgICB9LAogICAgYXV0b0NhbGN1bGF0ZUNhc2hSZWZ1bmQ6IGZ1bmN0aW9uIGF1dG9DYWxjdWxhdGVDYXNoUmVmdW5kKCkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CgogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmNhc2hSZWZ1bmREUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgYW1vdW50ID0gMCwKICAgICAgICAgIGV4Y2hhbmdlQW1vdW50ID0gMDsKICAgICAgdmFyIG5hdHVyZSA9ICIiOwogICAgICB0aGlzLmpSYXczID0gW107CiAgICAgIHZhciBjdXJyZW5jeSA9IHRoaXMuZGViaXRNZW1vLmN1cnJlbmN5LAogICAgICAgICAgY3VycmVuY3lDb2RlID0gdGhpcy5kZWJpdE1lbW8uY3VycmVuY3kgPyB0aGlzLmRlYml0TWVtby5jdXJyZW5jeS5jb2RlIDogIiI7CiAgICAgIGRzLmRhdGEoKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHZhciBkZXNjcmlwdGlvbiA9ICIiOwoKICAgICAgICBpZiAodmFsdWUuYW1vdW50KSB7CiAgICAgICAgICBhbW91bnQgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQpOwogICAgICAgICAgZXhjaGFuZ2VBbW91bnQgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQpICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczE1LmRlYml0TWVtby50eG5SYXRlKTsKICAgICAgICB9CgogICAgICAgIGlmICh2YWx1ZS5kZXNjcmlwdGlvbikgewogICAgICAgICAgZGVzY3JpcHRpb24gPSB2YWx1ZS5kZXNjcmlwdGlvbiB8fCAiIjsKICAgICAgICB9IC8vdG9kbzogQ2FzaCBBY2NvdW50CgoKICAgICAgICBpZiAodmFsdWUuYWNjb3VudCkgewogICAgICAgICAgdmFyIGFjY291bnQgPSB2YWx1ZS5hY2NvdW50OwoKICAgICAgICAgIGlmIChhY2NvdW50KSB7CiAgICAgICAgICAgIGlmIChhY2NvdW50Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgaWYgKGFtb3VudCA+IDApIHsKICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpczE1LmpSYXczLnB1c2goewogICAgICAgICAgICAgICAgaWQ6IGFjY291bnQuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIkRlcG9zaXQgIiArIGRlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwoe30pLAogICAgICAgICAgICAgICAgbWVtb1JhdGU6IF90aGlzMTUuZGViaXRNZW1vLnR4blJhdGUsCiAgICAgICAgICAgICAgICBsYXN0WFJhdGU6IF90aGlzMTUuZGViaXRNZW1vLmV4Y2hhbmdlUmF0ZSwKICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgICAgIGFjY291bnRJZDogYWNjb3VudC5pZCwKICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTUuZGViaXRNZW1vLnR4blJhdGUpICogYW1vdW50LAogICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsCiAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICB0eXBlQXM6ICJDYXNoQWNjb3VudCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuZGViaXRNZW1vLnJlZnVuZEFtb3VudCA9IGFtb3VudDsKICAgICAgdGhpcy5kZWJpdE1lbW8uZXhjaGFuZ2VSZWZ1bmRBbW91bnQgPSBleGNoYW5nZUFtb3VudDsgLy8gdGhpcy5jYWxjdWxhdGVBbW91bnQoKQogICAgfSwKICAgIHJlbW92ZUR1cGxpY2F0ZTogZnVuY3Rpb24gcmVtb3ZlRHVwbGljYXRlKGFycmF5KSB7CiAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgdmFyIG1hcCA9IG5ldyBNYXAoKTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhcnJheSksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgaWYgKCFtYXAuaGFzKGl0ZW0uaWQpKSB7CiAgICAgICAgICAgIG1hcC5zZXQoaXRlbS5pZCwgdHJ1ZSk7IC8vIHNldCBhbnkgdmFsdWUgdG8gTWFwCgogICAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlVGF4QnlUeXBlOiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlVGF4QnlUeXBlKHRheCkgewogICAgICAvLyByZXR1cm4gYnkgYSBrZXkKICAgICAgdmFyIGdyb3VwQWxsID0gZnVuY3Rpb24gZ3JvdXBBbGwobGlzdCkgewogICAgICAgIHJldHVybiBsaXN0LnJlZHVjZShmdW5jdGlvbiAodGF4LCBpdGVtKSB7CiAgICAgICAgICB2YXIgdGF4QW1vdW50ID0gdGF4W2l0ZW0ubmFtZV0gfHwgMDsKICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0YXgsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaXRlbS5uYW1lLCB0YXhBbW91bnQgKyBwYXJzZUZsb2F0KGl0ZW0uYW1vdW50KSkpOwogICAgICAgIH0sIHt9KTsKICAgICAgfTsKCiAgICAgIHRoaXMudGF4TGlzdFRvdGFsID0gZ3JvdXBBbGwodGF4KTsKICAgIH0sCiAgICBsb2FkRW1wbG95ZWVDZW50ZXI6IGZ1bmN0aW9uIGxvYWRFbXBsb3llZUNlbnRlcigpIHsKICAgICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczE2LmVtcGxveWVlcyA9IFtdOwogICAgICAgICAgICAgICAgICAgIGVtcGxveWVlSGFuZGxlci5jZW50ZXIodW5kZWZpbmVkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuc2hvd0xvYWRpbmcgPSB0cnVlOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LmVtcGxveWVlcyA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNi5lbXBsb3llZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuZGViaXRNZW1vLmVtcGxveWVlID0gX3RoaXMxNi5lbXBsb3llZXNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDUwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQcmVmaXg6IGZ1bmN0aW9uIGxvYWRQcmVmaXgoKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgcHJlZml4SGFuZGxlci5nZXQoInB1cmNoYXNlIHJldHVybiIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE3LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTcudHJhbnNhY3Rpb25UeXBlID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE3LnRyYW5zYWN0aW9uVHlwZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5kZWJpdE1lbW8udHJhbnNhY3Rpb25UeXBlID0gX3RoaXMxNy50cmFuc2FjdGlvblR5cGVbMF07CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE3LiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5nZW5lcmF0ZU51bWJlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkU2FsZVVuaXRJdGVtczogZnVuY3Rpb24gbG9hZFNhbGVVbml0SXRlbXMoKSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgc2FsZVVuaXRJdGVtSGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSBfdGhpczE4LnNhbGVVbml0SXRlbUxpc3QgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbkZpbHRlckNoYW5nZTogZnVuY3Rpb24gb25GaWx0ZXJDaGFuZ2UoZXZlbnQpIHsKICAgICAgdmFyIGZpbHRlciA9IGV2ZW50LmZpbHRlci52YWx1ZTsKICAgICAgdGhpcy5yZXF1ZXN0RGF0YSgwLCBmaWx0ZXIsIHRoaXMuc3VwQmFzZVVybCk7CiAgICAgIHRoaXMuZmlsdGVyID0gZmlsdGVyOwogICAgfSwKICAgIHJlcXVlc3REYXRhOiBmdW5jdGlvbiByZXF1ZXN0RGF0YShza2lwLCBmaWx0ZXIsIGJhc2VVcmwpIHsKICAgICAgdmFyIHVybCA9IGJhc2VVcmwgKyAiP2ZpbHRlcj0iLmNvbmNhdChmaWx0ZXIpOwogICAgICBmZXRjaCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgfSkudGhlbih0aGlzLmFmdGVyRmV0Y2gpOwogICAgfSwKICAgIGFmdGVyRmV0Y2g6IGZ1bmN0aW9uIGFmdGVyRmV0Y2goanNvbikgewogICAgICB0aGlzLnN1cHBsaWVyTGlzdCA9IGpzb24uZGF0YTsKICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgdmFyIHZhbHVlID0gZXZlbnQudmFsdWU7CgogICAgICBpZiAodmFsdWUgJiYgdmFsdWVbIm51bWJlck5hbWUiXSA9PT0gZW1wdHlJdGVtWyJudW1iZXJOYW1lIl0pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh2YWx1ZSkgewogICAgICAgIHRoaXMuc3VwcGxpZXIgPSB2YWx1ZTsKICAgICAgICB2YXIgZGVwb3NpdEFjYyA9IHZhbHVlLmhhc093blByb3BlcnR5KCJwdXJjaGFzZURlcG9zaXRBY2MiKSA/IHZhbHVlLnB1cmNoYXNlRGVwb3NpdEFjYyA6IHt9OwogICAgICAgIHRoaXMuZGViaXRNZW1vLnN1cHBsaWVyID0gdmFsdWU7CiAgICAgICAgdGhpcy5kZWJpdE1lbW8ucHJpY2VMZXZlbCA9IHZhbHVlLmhhc093blByb3BlcnR5KCJwcmljZUxldmVsIikgPyB2YWx1ZS5wcmljZUxldmVsIDoge307CiAgICAgICAgdGhpcy5kZWNpbWFsRm9ybWF0ID0gdmFsdWUuZGVjaW1hbEZvcm1hdDsKICAgICAgICB0aGlzLmJhc2VDdXJyZW5jeUNvZGUgPSAiIjsKCiAgICAgICAgaWYgKHZhbHVlLmJhc2VDdXJyZW5jeSkgewogICAgICAgICAgdGhpcy5iYXNlQ3VycmVuY3lDb2RlID0gdmFsdWUuYmFzZUN1cnJlbmN5Lmhhc093blByb3BlcnR5KCJjb2RlIikgPyB2YWx1ZS5iYXNlQ3VycmVuY3kuY29kZSA6ICIiOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5hY2NEZXBvc2l0ID0gdGhpcy5hY2NEZXBvc2l0cy5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgIHJldHVybiBvLmlkID09PSBkZXBvc2l0QWNjLmlkOwogICAgICAgIH0pOwogICAgICAgIHRoaXMubG9hZFRyYW5zYWN0aW9uUmF0ZSgpOyAvLyB0aGlzLmxvYWRQcm9qZWN0QnlDdXN0b21lcigpCgogICAgICAgIHRoaXMuc2VhcmNoUHVyY2hhc2UoKTsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coInRoaXMuZGViaXRNZW1vLnByaWNlTGV2ZWwiLCB0aGlzLmRlYml0TWVtby5wcmljZUxldmVsKTsKICAgICAgfQogICAgfSwKICAgIGhpZGVTbWFsbFNpZGViYXI6IGZ1bmN0aW9uIGhpZGVTbWFsbFNpZGViYXIoKSB7CiAgICAgIHRoaXMuaXNIaWRlQmFyID0gIXRoaXMuaXNIaWRlQmFyOwogICAgfSwKICAgIGdlbmVyYXRlTnVtYmVyOiBmdW5jdGlvbiBnZW5lcmF0ZU51bWJlcigpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgIHZhciB0cmFuRGF0ZSA9IG5ldyBEYXRlKHRoaXMudHJhbnNhY3Rpb25EYXRlKTsKICAgICAgICB2YXIgdHJhbkRhdGVJbnZvaWNlID0gbmV3IERhdGUodGhpcy5kZWJpdE1lbW8udHJhbnNhY3Rpb25EYXRlKTsKICAgICAgICB2YXIgdHJhbkRhdGVNID0gdHJhbkRhdGUuZ2V0RnVsbFllYXIoKSArIHRyYW5EYXRlLmdldE1vbnRoKCk7CiAgICAgICAgdmFyIHRyYW5EYXRlSW52b2ljZU0gPSB0cmFuRGF0ZUludm9pY2UuZ2V0RnVsbFllYXIoKSArIHRyYW5EYXRlSW52b2ljZS5nZXRNb250aCgpOwoKICAgICAgICBpZiAodHJhbkRhdGVNID09PSB0cmFuRGF0ZUludm9pY2VNKSB7CiAgICAgICAgICB0aGlzLmRlYml0TWVtby5yZWZlcmVuY2VObyA9IHRoaXMucmVmZXJlbmNlTm87CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy50cmFuc2FjdGlvbkRhdGUgIT09ICIiICYmIHRoaXMudHJhbnNhY3Rpb25UeXBlLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIGFiYnI6IHRoaXMuZGViaXRNZW1vLnRyYW5zYWN0aW9uVHlwZS5hYmJyLAogICAgICAgICAgc3RydWN0dXJlOiB0aGlzLmRlYml0TWVtby50cmFuc2FjdGlvblR5cGUuc3RydWN0dXJlLAogICAgICAgICAgdHJhbnNhY3Rpb25EYXRlOiB0aGlzLnRyYW5zYWN0aW9uRGF0ZSwKICAgICAgICAgIHNlcXVjZW5jaW5nOiB0aGlzLmRlYml0TWVtby50cmFuc2FjdGlvblR5cGUuc2VxdWNlbmNpbmcsCiAgICAgICAgICB0eXBlOiBUUkFOU0FDVElPTl9UWVBFLAogICAgICAgICAgZW50aXR5OiAxCiAgICAgICAgfTsKICAgICAgICBiaWxsaW5nSGFuZGxlci5sYXN0TnVtYmVyKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKCiAgICAgICAgICAgIHZhciBsYXN0TnVtYmVyID0gX3RoaXMxOS56ZXJvUGFkKHBhcnNlSW50KHJlcy5sYXN0TnVtYmVyKSwgX3RoaXMxOS5kZWJpdE1lbW8udHJhbnNhY3Rpb25UeXBlLmZvcm1hdCk7CgogICAgICAgICAgICB2YXIgbnVtYmVyID0gcmVzLnN1ZmZpeCArIF90aGlzMTkuZGViaXRNZW1vLnRyYW5zYWN0aW9uVHlwZS5udW1iZXJTZXBhcmF0b3IgKyBsYXN0TnVtYmVyOwogICAgICAgICAgICBfdGhpczE5LmRlYml0TWVtby5udW1iZXIgPSBudW1iZXI7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIF90aGlzMTkuZXJyb3JzLnB1c2goZSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB6ZXJvUGFkOiBmdW5jdGlvbiB6ZXJvUGFkKG51bSwgcGxhY2VzKSB7CiAgICAgIHJldHVybiBTdHJpbmcobnVtKS5wYWRTdGFydChwbGFjZXMsICIwIik7CiAgICB9LAogICAgc3VmZml4OiBmdW5jdGlvbiBzdWZmaXgodHJhbnNhY3Rpb25EYXRlKSB7CiAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh0cmFuc2FjdGlvbkRhdGUpLCAieXltbSIpOwogICAgfSwKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB2YXIgX3RoaXMyMCA9IHRoaXM7CgogICAgICB0aGlzLmNsZWFyKCk7CiAgICAgIHRoaXMuJHN3YWwoewogICAgICAgIHRpdGxlOiBpMThuLnQoIm1zZ190aXRsZV93YXJuaW5nIiksCiAgICAgICAgdGV4dDogaTE4bi50KCJtc2dfZGlzY2FyZCIpLAogICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IGkxOG4udCgiY2FuY2VsIiksCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjRUQxQTNBIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogaTE4bi50KCJkaXNjYXJkIikKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0Q2VuKSB7CiAgICAgICAgaWYgKHJlc3VsdENlbi52YWx1ZSkgewogICAgICAgICAgX3RoaXMyMC4kcm91dGVyLmdvKC0xKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZVJvdzogZnVuY3Rpb24gcmVtb3ZlUm93KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRJdGVtTGluZSIpLmRhdGEoImtlbmRvR3JpZCIpLAogICAgICAgICAgZGF0YVNvdXJjZSA9IGdyaWQuZGF0YVNvdXJjZSwKICAgICAgICAgIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CgogICAgICBpZiAoZGF0YVNvdXJjZS50b3RhbCgpID4gMSkgewogICAgICAgIGRhdGFTb3VyY2UucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGUoKTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZVJvd0FjYzogZnVuY3Rpb24gcmVtb3ZlUm93QWNjKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRBY2NvdW50TGluZSIpLmRhdGEoImtlbmRvR3JpZCIpLAogICAgICAgICAgZGF0YVNvdXJjZSA9IGdyaWQuZGF0YVNvdXJjZSwKICAgICAgICAgIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CgogICAgICBpZiAoZGF0YVNvdXJjZS50b3RhbCgpID4gMSkgewogICAgICAgIGRhdGFTb3VyY2UucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgfQogICAgfSwKICAgIHZhdFRlbXBsYXRlOiBmdW5jdGlvbiB2YXRUZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgdmF0ID0gZGF0YUl0ZW0udmF0VGF4OwoKICAgICAgaWYgKHZhdCkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQodmF0LmRlZmF1bHRUYXggPyB2YXQuZGVmYXVsdFRheCA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIGFjY291bnRUZW1wbGF0ZTogZnVuY3Rpb24gYWNjb3VudFRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHZhciBhY2NvdW50ID0gZGF0YUl0ZW0uYWNjb3VudDsKCiAgICAgIGlmIChhY2NvdW50KSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChhY2NvdW50Lm5hbWUgPyBhY2NvdW50Lm5hbWUgOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBpdGVtVGVtcGxhdGU6IGZ1bmN0aW9uIGl0ZW1UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgaXRlbSA9IGRhdGFJdGVtLml0ZW07CgogICAgICBpZiAoaXRlbSkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQoaXRlbS5uYW1lID8gaXRlbS5uYW1lIDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgVU9NVGVtcGxhdGU6IGZ1bmN0aW9uIFVPTVRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHZhciB1b20gPSBkYXRhSXRlbS51b207CiAgICAgIHZhciBjb2RlID0gdW9tLmNvZGUgfHwgJyc7CgogICAgICBpZiAodW9tKSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdCh1b20udW9tID8gY29kZSA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIHNhbGVVbml0VGVtcGxhdGU6IGZ1bmN0aW9uIHNhbGVVbml0VGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIHNhbGVVbml0ID0gZGF0YUl0ZW0uc2FsZVVuaXQ7CgogICAgICBpZiAoc2FsZVVuaXQpIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KHNhbGVVbml0Lm5hbWUgPyBzYWxlVW5pdC5uYW1lIDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgZW1wSW1wbDogZnVuY3Rpb24gZW1wSW1wbChkYXRhSXRlbSkgewogICAgICB2YXIgZW1wSWRzID0gW107CiAgICAgIGRhdGFJdGVtLmVtcGxveWVlLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICBlbXBJZHMucHVzaChtLmZpcnN0TmFtZSArICIgLSAiICsgbS5sYXN0TmFtZSk7CiAgICAgIH0pOyAvLyB3aW5kb3cuY29uc29sZS5sb2coZW1wSWRzLmpvaW4oJywgJykpCgogICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KGVtcElkcy5qb2luKCIsICIpLCAiPC9zcGFuPiIpOwogICAgfSwKICAgIGRpc2NvdW50SXRlbVRlbXBsYXRlOiBmdW5jdGlvbiBkaXNjb3VudEl0ZW1UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgZGlzY291bnRJdGVtID0gZGF0YUl0ZW0uZGlzY291bnRJdGVtOwoKICAgICAgaWYgKGRpc2NvdW50SXRlbSkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQoZGlzY291bnRJdGVtLmNvZGUgPyBkaXNjb3VudEl0ZW0uY29kZSA6ICIiLCAiIC0gIikuY29uY2F0KGRpc2NvdW50SXRlbS5uYW1lID8gZGlzY291bnRJdGVtLm5hbWUgOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBTZXJ2aWNlRGF0ZUVkaXRvcjogZnVuY3Rpb24gU2VydmljZURhdGVFZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IHJlcXVpcmVkIG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9EYXRlUGlja2VyKCk7IC8vIGxldCBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpCiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyhkcy5kYXRhKCkpCiAgICAgIC8vIC8vIGNvbnN0IGRhdGVTdHJpbmcgPSBrZW5kby50b1N0cmluZygobmV3IERhdGUob3B0aW9ucy5tb2RlbC5pdGVtcy5zZXJ2aWNlRGF0ZSkpLCB0aGlzLml0ZW1MaW5lLmRhdGVGb3JtYXQpCiAgICAgIC8vIC8vIGNvbnN0IGRhdGVTdHJpbmcgPSBrZW5kby50b1N0cmluZyhvcHRpb25zLm1vZGVsLml0ZW1zLnNlcnZpY2VEYXRlKQogICAgICAvLyBjb25zdCAkaW5wdXQgPSAkKCI8aW5wdXQgdmFsdWU9IiArIG9wdGlvbnMubW9kZWwuc2VydmljZURhdGUgKyAiIC8+IikuYXBwZW5kVG8oY29udGFpbmVyKQogICAgICAvLyAkaW5wdXQua2VuZG9EYXRlUGlja2VyKCkKICAgICAgLy8gLy8gJGlucHV0LmFwcGVuZFRvKGNvbnRhaW5lcikKICAgICAgLy8gLy8gb3B0aW9ucy5tb2RlbC5pdGVtcy5zZXJ2aWNlRGF0ZSA9IGRhdGVTdHJpbmcKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCRpbnB1dCkKICAgIH0sCiAgICBTZXJ2aWNlRGF0ZVRvRWRpdG9yOiBmdW5jdGlvbiBTZXJ2aWNlRGF0ZVRvRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCByZXF1aXJlZCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRGF0ZVBpY2tlcigpOwogICAgfSwKICAgIEl0ZW1Ecm9wRG93bkVkaXRvcjogZnVuY3Rpb24gSXRlbURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAiY29udGFpbnMiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICBoZWFkZXJUZW1wbGF0ZTogJzxkaXYgY2xhc3M9ImRyb3Bkb3duLWhlYWRlciBrLXdpZGdldCBrLWhlYWRlciI+JyArICI8c3Bhbj5JdGVtcyA8L3NwYW4+IiArICI8c3Bhbj48L3NwYW4+IiArICI8L2Rpdj4iLAogICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1uYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgc2VydmVyRmlsdGVyaW5nOiB0cnVlLAogICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICB1cmw6IHByb2R1Y3RWYXJpYW50SGFuZGxlci5pdGVtU2VhcmNoVVJMKCkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIgogICAgICAgICAgfSwKICAgICAgICAgIHNjaGVtYTogewogICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgICAgIGZpZWxkczogewogICAgICAgICAgICAgICAgaWQ6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBuYW1lOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc2t1OiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIGRhdGE6IHRoaXMudmFyaWFudHMKCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgVU9NRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIFVPTURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogImNvZGUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAidW9tQ29udmVydElkIiwKICAgICAgICBjYXNjYWRlRnJvbTogIml0ZW0iLAogICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1jb2RlIHx8IGAtYCM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIHNlcnZlckZpbHRlcmluZzogdHJ1ZSwKICAgICAgICAgIHRyYW5zcG9ydDogewogICAgICAgICAgICByZWFkOiB7CiAgICAgICAgICAgICAgLy8gdXJsOiB1b21QcmljZUhhbmRsZXIuZ2V0VVJMKG9wdGlvbnMubW9kZWwuaXRlbS5pZCwgdGhpcy5kZWJpdE1lbW8ucHJpY2VMZXZlbC5pZCwgb3B0aW9ucy5tb2RlbC5pdGVtLnR5cGUpLAogICAgICAgICAgICAgIHVybDogdW9tUHJpY2VIYW5kbGVyLnVvbVByaWNlQnlQcmljZUxldmVsVVJMKCJpZD0iICsgb3B0aW9ucy5tb2RlbC5pdGVtLmlkICsgIiZwbElkPSIgKyB0aGlzLmRlYml0TWVtby5wcmljZUxldmVsLmlkICsgIiZkYXRlPSIgKyB0aGlzLnRyYW5zYWN0aW9uRGF0ZSArICImbmF0dXJlPXB1cmNoYXNlIikKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIgogICAgICAgICAgfSwKICAgICAgICAgIHNjaGVtYTogewogICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgICAgIGZpZWxkczogewogICAgICAgICAgICAgICAgaWQ6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0gLy8gbmFtZToge3R5cGU6ICJzdHJpbmcifSwKICAgICAgICAgICAgICAgIC8vIHNrdToge3R5cGU6ICJzdHJpbmcifSwKCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIGRhdGE6IHRoaXMudmFyaWFudHMKCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgRGlzY291bnRJdGVtRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIERpc2NvdW50SXRlbURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGNhc2NhZGVGcm9tOiAiaXRlbSIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWNvZGUjIC0gIz1uYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgc2VydmVyRmlsdGVyaW5nOiB0cnVlLAogICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICB1cmw6IGRpc2NvdW50SXRlbUhhbmRsZXIuZ2V0VVJMKERJU0NPVU5UX1RZUEUpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9IC8vIG5hbWU6IHt0eXBlOiAic3RyaW5nIn0sCiAgICAgICAgICAgICAgICAvLyBza3U6IHt0eXBlOiAic3RyaW5nIn0sCgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFZhdFRheERyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBWYXRUYXhEcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJkZWZhdWx0VGF4IiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9ZGVmYXVsdFRheCM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tU2VsZWN0LS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgZGF0YTogdGhpcy50YXgKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBBY2NvdW50RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIEFjY291bnREcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bnVtYmVyIyAtICM9bmFtZSMgPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLVNlbGVjdC0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIGRhdGE6IHRoaXMuYWNjb3VudHMKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBBY2NvdW50RHJvcERvd25FZGl0b3JSZWZ1bmQ6IGZ1bmN0aW9uIEFjY291bnREcm9wRG93bkVkaXRvclJlZnVuZChjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bnVtYmVyIyAtICM9bmFtZSMgPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLVNlbGVjdC0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIGRhdGE6IHRoaXMuYWNjQ2FzaAogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIEFjY291bnREcm9wRG93bkVkaXRvckRlcG9zaXQ6IGZ1bmN0aW9uIEFjY291bnREcm9wRG93bkVkaXRvckRlcG9zaXQoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW51bWJlciMgLSAjPW5hbWUjIDwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS1TZWxlY3QtLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLmFjY0RlcG9zaXQKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBTYWxlVW5pdERyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBTYWxlVW5pdERyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1jb2RlIyAtICM9bmFtZSM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIGRhdGE6IHRoaXMuc2FsZVVuaXRJdGVtTGlzdAogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIEFtb3VudEVkaXRvcjogZnVuY3Rpb24gQW1vdW50RWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBkYXRhLWJpbmQ9InZhbHVlOicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9OdW1lcmljVGV4dEJveCh7CiAgICAgICAgZGVjaW1hbHM6IDMwLAogICAgICAgIGZvcm1hdDogIiIuY29uY2F0KHRoaXMuZGVjaW1hbEZvcm1hdCkKICAgICAgfSk7CiAgICB9LAogICAgcm93TnVtYmVyVG1wbDogZnVuY3Rpb24gcm93TnVtYmVyVG1wbChkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgcm93TnVtYmVyVG1wbEFjYzogZnVuY3Rpb24gcm93TnVtYmVyVG1wbEFjYyhkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmFjY291bnRMaW5lRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgcm93TnVtYmVyVG1wbERlcG9zaXQ6IGZ1bmN0aW9uIHJvd051bWJlclRtcGxEZXBvc2l0KGRhdGFJdGVtKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuZGVwb3NpdExpbmVEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKICAgICAgcmV0dXJuIGluZGV4ICsgMTsKICAgIH0sCiAgICByb3dOdW1iZXJUbXBsQXBwbHk6IGZ1bmN0aW9uIHJvd051bWJlclRtcGxBcHBseShkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmFwcGx5VG9MaW5lRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgYWRkUm93OiBmdW5jdGlvbiBhZGRSb3coKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgdG90YWwgPSBkcy50b3RhbCgpOwogICAgICB0aGlzLml0ZW1MaW5lLmlkID0gaXRlbUxpbmVQcmVmaXggKyB1dWlkLnYxKCk7CiAgICAgIGRzLmluc2VydCh0b3RhbCwgdGhpcy5pdGVtTGluZSk7IC8vIHRoaXMuaXRlbUxpbmVzLnB1c2godGhpcy5pdGVtTGluZSkKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCdpdGVtIExpbmUnLCB0aGlzLml0ZW1MaW5lKQogICAgfSwKICAgIGFkZFJvd0FjYzogZnVuY3Rpb24gYWRkUm93QWNjKCkgey8vIGxldCBkcyA9IHRoaXMuJHJlZnMuYWNjb3VudExpbmVEUy5rZW5kb1dpZGdldCgpLAogICAgICAvLyAgICAgdG90YWwgPSBkcy50b3RhbCgpCiAgICAgIC8vIHRoaXMuYWNjb3VudExpbmUuaWQgPSBpdGVtTGluZVByZWZpeCArIHV1aWQudjEoKQogICAgICAvLyBkcy5pbnNlcnQodG90YWwsIHRoaXMuYWNjb3VudExpbmUpCiAgICB9LAogICAgYWRkUm93RGVwb3NpdDogZnVuY3Rpb24gYWRkUm93RGVwb3NpdCgpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5kZXBvc2l0TGluZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICB0b3RhbCA9IGRzLnRvdGFsKCk7CiAgICAgIHRoaXMuZGVwb3NpdExpbmUuaWQgPSBpdGVtTGluZVByZWZpeCArIHV1aWQudjEoKTsKICAgICAgZHMuaW5zZXJ0KHRvdGFsLCB0aGlzLmRlcG9zaXRMaW5lKTsKICAgIH0sCiAgICBhZGRSb3dDYXNoUmVmdW5kOiBmdW5jdGlvbiBhZGRSb3dDYXNoUmVmdW5kKCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmNhc2hSZWZ1bmREUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgdG90YWwgPSBkcy50b3RhbCgpOwogICAgICB0aGlzLnB1cmNoYXNlRGVwb3NpdExpbmUuaWQgPSBpdGVtTGluZVByZWZpeCArIHV1aWQudjEoKTsKICAgICAgdGhpcy5wdXJjaGFzZURlcG9zaXRMaW5lLm9wdGlvblR5cGUgPSBPUFRJT05fVFlQRTsKICAgICAgZHMuaW5zZXJ0KHRvdGFsLCB0aGlzLnB1cmNoYXNlRGVwb3NpdExpbmUpOwogICAgfSwKICAgIFB1cmNoYXNlRGlzY291bnRJdGVtRWRpdG9yOiBmdW5jdGlvbiBQdXJjaGFzZURpc2NvdW50SXRlbUVkaXRvcigpIHt9LAogICAgc2VhcmNoUHVyY2hhc2U6IGZ1bmN0aW9uIHNlYXJjaFB1cmNoYXNlKCkgewogICAgICB2YXIgX3RoaXMyMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge307CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyMS5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdmFyIHByaWNlTGV2ZWwgPSBfdGhpczIxLmRlYml0TWVtby5wcmljZUxldmVsOwogICAgICAgICAgICAgICAgICAgIHZhciBjb2RlID0gIiI7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIxLnN1cHBsaWVyLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2VMZXZlbCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2VMZXZlbC5oYXNPd25Qcm9wZXJ0eSgiY3VycmVuY3kiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjEuZGViaXRNZW1vLmN1cnJlbmN5ID0gcHJpY2VMZXZlbC5jdXJyZW5jeTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByaWNlTGV2ZWwuY3VycmVuY3kuaGFzT3duUHJvcGVydHkoImNvZGUiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IHByaWNlTGV2ZWwuY3VycmVuY3kuY29kZTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiBfdGhpczIxLnN1cHBsaWVyLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJWZW5kb3IiLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogMywKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IF90aGlzMjEudHJhbnNhY3Rpb25EYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjb2RlCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjEub2Zmc2V0UHVyY2hhc2VzID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjEuaXNMb2FkaW5nID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMS5zaG93TG9hZGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIuc2VhcmNoQ2FzaFBheW1lbnQoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIxLmlzTG9hZGluZyA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gcmVzLmRhdGEuZGF0YTsgLy8gY29uc3QgcmVzdWx0ID0gcmVzLmRhdGEucmVzdWx0CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjEuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1bmlxdWVJZHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjEub2Zmc2V0UHVyY2hhc2VMaXN0ID0gcmVzcG9uc2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMS5vZmZzZXRQdXJjaGFzZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAobykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWVJZHMucHVzaChvLmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1bmlxdWUgPSBfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldCh1bmlxdWVJZHMpKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIxLm9mZnNldFB1cmNoYXNlcyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlLmZvckVhY2goZnVuY3Rpb24gKHR4bklkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IF90aGlzMjEub2Zmc2V0UHVyY2hhc2VMaXN0LmZpbHRlcihmdW5jdGlvbiAoaikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqLmlkID09PSB0eG5JZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZC5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMS5vZmZzZXRQdXJjaGFzZXMucHVzaChrKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gdGhpcy5hdXRvQ2FsY3VsYXRlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjEuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDUwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQYXltZW50T3B0aW9uOiBmdW5jdGlvbiBsb2FkUGF5bWVudE9wdGlvbigpIHsKICAgICAgdmFyIF90aGlzMjIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczIyLnBheW1lbnRNZXRob2QgPSBbXTsKICAgICAgICAgICAgICAgICAgICBwYXltZW50T3B0aW9uSGFuZGxlci5saXN0KHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMi5wYXltZW50TWV0aG9kID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDUwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uU2F2ZUNsb3NlOiBmdW5jdGlvbiBvblNhdmVDbG9zZShpc1NhdmUpIHsKICAgICAgdmFyIF90aGlzMjMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkgewogICAgICAgIHZhciBsRFMsIGRhdGFWYWxpZGF0ZSwgaXRtTGluZVI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOCQoX2NvbnRleHQxOCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyMy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyMy4kcmVmcy5mb3JtLnZhbGlkYXRlKCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyMy4kcmVmcy5hcHBseVRvTGluZURTLmtlbmRvV2lkZ2V0KCkuZGF0YSgpLmxlbmd0aCA8PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIzLiRzbm90aWZ5LmVycm9yKCJQbGVhc2UgaW5wdXQgb2Zmc2V0IGl0ZW0iKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBsRFMgPSBfdGhpczIzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgICAgICAgICAgIGRhdGFWYWxpZGF0ZSA9IDA7CiAgICAgICAgICAgICAgICBpdG1MaW5lUiA9IGxEUy5kYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBuLmFtb3VudCA+IDA7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGl0bUxpbmVSLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgewogICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coMCwgdmFsdWUudW9tLnVvbSk7CgogICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaXRlbS5pZCA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlLnVvbS51b20uaWQgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZS5pdGVtLmlkID09PSAiIiB8fCB2YWx1ZS51b20udW9tLmlkID09PSAiIikgewogICAgICAgICAgICAgICAgICAgIF90aGlzMjMuJHNub3RpZnkuZXJyb3IoIlBsZWFzZSBzZWxlY3QgcmV0dXJuIGl0ZW0gYXQgcm93ICIgKyAoaW5kZXggKyAxKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZGF0YVZhbGlkYXRlICs9IDE7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChpdG1MaW5lUi5sZW5ndGggPT09IGRhdGFWYWxpZGF0ZSkgewogICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoX3RoaXMyMy5kZWJpdE1lbW8ucHJpY2VMZXZlbCkubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIzLmRyICE9PSAwICYmIF90aGlzMjMuY3IgIT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzQXV0b0dlbmVyYXRlID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0QW1vdW50ID0gcGFyc2VGbG9hdChfdGhpczIzLmRlYml0TWVtby5vZmZzZXRBbW91bnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtTGluZUFtb3VudCA9IHBhcnNlRmxvYXQoX3RoaXMyMy5kZWJpdE1lbW8uaXRlbUxpbmVBbW91bnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YXJpYW5jZSA9IHBhcnNlRmxvYXQoX3RoaXMyMy5kZWJpdE1lbW8udmFyaWFuY2UpOyAvLyBjb25zdCBsRFMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGl0bUxpbmVSID0gbERTLmRhdGEoKS5maWx0ZXIobiA9PiBuLmFtb3VudCA+IDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgYXBwbHlUb0RTID0gdGhpcy4kcmVmcy5hcHBseVRvTGluZURTLmtlbmRvV2lkZ2V0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBhcHBseVRvTGluZVIgPSBhcHBseVRvRFMuZGF0YSgpLmZpbHRlcihuID0+IG4ucGFpZEFtb3VudCA+IDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZGVwb3NpdExpbmVEUyA9IHRoaXMuJHJlZnMuZGVwb3NpdExpbmVEUy5rZW5kb1dpZGdldCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZGVwb3NpdExpbmVSID0gZGVwb3NpdExpbmVEUy5kYXRhKCkuZmlsdGVyKG4gPT4gbi5hbW91bnQgPiAwKQoKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9EZXBvc2l0QWNjID0gMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9DYXNoQWNjb3VudCA9IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vVmFyaWFuY2VBY2MgPSAwOyAvLyBpZiAoaXRtTGluZVIubGVuZ3RoID4gMCAmJiBkZXBvc2l0TGluZVIubGVuZ3RoID4gMCAmJiBhcHBseVRvTGluZVIubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIC8vdG9kbzogY2hlY2sgb2Zmc2V0IGFtb3VudAoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0QW1vdW50ID4gaXRlbUxpbmVBbW91bnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjMuc2hvd1dhcmluZ01lc3NhZ2UoIkRlYml0IE1lbW8iLCAiUmV0dXJuIGFtb3VudCBhbmQgT2Zmc2V0IGFtb3VudCBtdXN0IGJlIGVxdWFsISIsICJPSyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICB9IC8vdG9kbzogY2hlY2sgY3VzdG9tZXIgY3JlZGl0IGNhc2UgYW1vdW50PjAgYW5kIHVuc2VsZWN0ZWQgYWNjb3VudAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRzID0gX3RoaXMyMy4kcmVmcy5kZXBvc2l0TGluZURTLmtlbmRvV2lkZ2V0KCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb3dzID0gZHMuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4uYW1vdW50ID4gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzLmZvckVhY2goZnVuY3Rpb24gKGl0bSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjY291bnQgPSBpdG0uYWNjb3VudDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFjY291bnQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5zaG93V2FyaW5nTWVzc2FnZSgiRGViaXQgTWVtbyIsICJQbGVhc2Ugc2VsZWN0IGRlcG9zaXQgYWNjb3VudCIsICJPSyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9EZXBvc2l0QWNjID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAvL3RvZG86IGNoZWNrIENhc2ggcmVmdW5kIGNhc2UgYW1vdW50PjAgYW5kIHVuc2VsZWN0ZWQgYWNjb3VudAoKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHNSZWZ1bmQgPSBfdGhpczIzLiRyZWZzLmNhc2hSZWZ1bmREUy5rZW5kb1dpZGdldCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzID0gZHNSZWZ1bmQuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4uYW1vdW50ID4gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzLmZvckVhY2goZnVuY3Rpb24gKGl0bSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjY291bnQgPSBpdG0uYWNjb3VudDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFjY291bnQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5zaG93V2FyaW5nTWVzc2FnZSgiRGViaXQgTWVtbyIsICJQbGVhc2Ugc2VsZWN0IGNhc2ggYWNjb3VudCIsICJPSyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9DYXNoQWNjb3VudCA9IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy90b2RvOiBjaGVjayB2YXJpYW5jZSBhY2NvdW50CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJpYW5jZSAhPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhcmlhbmNlQWNjID0gX3RoaXMyMy5kZWJpdE1lbW8udmFyaWFuY2VBY2M7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YXJpYW5jZUFjYykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAoIXZhcmlhbmNlLmhhc093blByb3BlcnR5KCdpZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjMuc2hvd1dhcmluZ01lc3NhZ2UoIkRlYml0IE1lbW8iLCAiUGxlYXNlIHNlbGVjdCB2YXJpYW5jZSBhY2NvdW50IiwgIk9LIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub1ZhcmlhbmNlQWNjID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyB9CgoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9WYXJpYW5jZUFjYyA9PT0gMCAmJiBub0RlcG9zaXRBY2MgPT09IDAgJiYgbm9DYXNoQWNjb3VudCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbkRhdGUgPSBuZXcgRGF0ZShfdGhpczIzLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuRGF0ZUludm9pY2UgPSBuZXcgRGF0ZShfdGhpczIzLmRlYml0TWVtby50cmFuc2FjdGlvbkRhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbkRhdGVNID0gdHJhbkRhdGUuZ2V0RnVsbFllYXIoKSArIHRyYW5EYXRlLmdldE1vbnRoKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuRGF0ZUludm9pY2VNID0gdHJhbkRhdGVJbnZvaWNlLmdldEZ1bGxZZWFyKCkgKyB0cmFuRGF0ZUludm9pY2UuZ2V0TW9udGgoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFuRGF0ZU0gPT09IHRyYW5EYXRlSW52b2ljZU0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F1dG9HZW5lcmF0ZSA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUxpbmVEUyA9IF90aGlzMjMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcHBseVRvTGluZURTID0gX3RoaXMyMy4kcmVmcy5hcHBseVRvTGluZURTLmtlbmRvV2lkZ2V0KCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhc2hSZWZ1bmREUyA9IF90aGlzMjMuJHJlZnMuY2FzaFJlZnVuZERTLmtlbmRvV2lkZ2V0KCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlcG9zaXRMaW5lRFMgPSBfdGhpczIzLiRyZWZzLmRlcG9zaXRMaW5lRFMua2VuZG9XaWRnZXQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUxpbmVSID0gaXRlbUxpbmVEUy5kYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvLmFtb3VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEl0ZW1MaW5lTW9kZWwobik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcHBseVRvTGluZVIgPSBhcHBseVRvTGluZURTLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8ucGFpZEFtb3VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFwcGx5VG9MaW5lTW9kZWwobik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYXNoUmVmdW5kUiA9IGNhc2hSZWZ1bmREUy5kYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvLmFtb3VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZXBvc2l0TGluZVIgPSBkZXBvc2l0TGluZURTLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8uYW1vdW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGVwb3NpdExpbmVNb2RlbChuKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyBsZXQgZGVwb3NpdExpbmVEUyA9IHRoaXMuJHJlZnMuZGVwb3NpdExpbmVEUy5rZW5kb1dpZGdldCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBkYXRhUm93ID0gYXBwbHlUb0xpbmVEUy5kYXRhKCkuZmlsdGVyKG4gPT4gbi5wYWlkQW1vdW50ID4gMCkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzMjMuZGViaXRNZW1vLmlkIHx8ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBfdGhpczIzLmRlYml0TWVtby51dWlkIHx8ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb3VybmFsX3V1aWQ6IF90aGlzMjMuZGViaXRNZW1vLmpvdXJuYWxfdXVpZCB8fCAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogVFJBTlNBQ1RJT05fVFlQRSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBfdGhpczIzLmRlYml0TWVtby5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFiYnI6IF90aGlzMjMuZGViaXRNZW1vLnRyYW5zYWN0aW9uVHlwZS5hYmJyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IF90aGlzMjMudHJhbnNhY3Rpb25EYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwbGllcjogX3RoaXMyMy5zdXBwbGllciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25UeXBlOiBfdGhpczIzLmRlYml0TWVtby50cmFuc2FjdGlvblR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBfdGhpczIzLmRlYml0TWVtby5jdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHhuUmF0ZTogX3RoaXMyMy5kZWJpdE1lbW8udHhuUmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0ZTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IF90aGlzMjMuZGViaXRNZW1vLmV4Y2hhbmdlQW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVJhdGU6IF90aGlzMjMuZGViaXRNZW1vLmV4Y2hhbmdlUmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBfdGhpczIzLmRlYml0TWVtby5hbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbmNlOiBfdGhpczIzLmRlYml0TWVtby52YXJpYW5jZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VMZXZlbDogX3RoaXMyMy5kZWJpdE1lbW8ucHJpY2VMZXZlbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uRm9yRGViaXROb3RlOiBfdGhpczIzLmRlYml0TWVtby5yZWFzb25Gb3JEZWJpdE5vdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1MaW5lOiBpdGVtTGluZVIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcG9zaXRMaW5lOiBkZXBvc2l0TGluZVIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2hSZWZ1bmRMaW5lOiBjYXNoUmVmdW5kUiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlUb0xpbmU6IGFwcGx5VG9MaW5lUiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudDogX3RoaXMyMy5kZWJpdE1lbW8uc2VnbWVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IF90aGlzMjMuZGViaXRNZW1vLmxvY2F0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0OiBfdGhpczIzLmRlYml0TWVtby5wcm9qZWN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZTogX3RoaXMyMy5kZWJpdE1lbW8uZW1wbG95ZWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uTm90ZTogX3RoaXMyMy5kZWJpdE1lbW8udHJhbnNhY3Rpb25Ob3RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb3VybmFsTm90ZTogX3RoaXMyMy5kZWJpdE1lbW8uam91cm5hbE5vdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1MaW5lQW1vdW50OiBfdGhpczIzLmRlYml0TWVtby5pdGVtTGluZUFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUxpbmVFeGNoYW5nZUFtb3VudDogX3RoaXMyMy5kZWJpdE1lbW8uaXRlbUxpbmVFeGNoYW5nZUFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUxpbmVEaXNjb3VudEFtb3VudDogX3RoaXMyMy5kZWJpdE1lbW8uaXRlbUxpbmVEaXNjb3VudEFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUxpbmVUYXhBbW91bnQ6IF90aGlzMjMuZGViaXRNZW1vLml0ZW1MaW5lVGF4QW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtTGluZVN1YlRvdGFsOiBfdGhpczIzLmRlYml0TWVtby5pdGVtTGluZVN1YlRvdGFsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseVRvQW1vdW50OiBfdGhpczIzLmRlYml0TWVtby5hcHBseVRvQW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseVRvRXhjaGFuZ2VBbW91bnQ6IF90aGlzMjMuZGViaXRNZW1vLmFwcGx5VG9FeGNoYW5nZUFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VEZXBvc2l0RGVkdWN0aW9uOiBfdGhpczIzLmRlYml0TWVtby5leGNoYW5nZURlcG9zaXREZWR1Y3Rpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcG9zaXRBbW91bnQ6IF90aGlzMjMuZGViaXRNZW1vLmRlcG9zaXRBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnVuZEFtb3VudDogX3RoaXMyMy5kZWJpdE1lbW8ucmVmdW5kQW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlT3B0aW9uOiBfdGhpczIzLmRlYml0TWVtby5zYXZlT3B0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcHJvdmVkQnk6IF90aGlzMjMuZGViaXRNZW1vLmFwcHJvdmVkQnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1UZW1wbGF0ZToge30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogX3RoaXMyMy5kZWJpdE1lbW8uY3JlYXRlZEF0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZWRVc2VyOiBfdGhpczIzLmxvZ2dlZFVzZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXV0b0dlbmVyYXRlOiBpc0F1dG9HZW5lcmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalJhdzogX3RoaXMyMy5qUmF3LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwbGllckRpc2NvdW50SXRlbTogX3RoaXMyMy5kZWJpdE1lbW8uc3VwcGxpZXJEaXNjb3VudEl0ZW0gfHwgW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZkZyb206IF90aGlzMjMuZGViaXRNZW1vLnJlZkZyb20gfHwgW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZlRvOiBfdGhpczIzLmRlYml0TWVtby5yZWZUbyB8fCBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsZVRheERldGFpbDogX3RoaXMyMy5kZWJpdE1lbW8uc2FsZVRheERldGFpbCB8fCBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VWYXJpYW5jZTogX3RoaXMyMy5kZWJpdE1lbW8uZXhjaGFuZ2VWYXJpYW5jZSB8fCAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25UeXBlOiBfdGhpczIzLiRyb3V0ZS5wYXJhbXMuaWQgPyBfdGhpczIzLiRyb3V0ZS5xdWVyeS50eXBlIDogIm5ldyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygxLCBpc1NhdmUpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjMuY2xlYXIoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coMiwgZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5jcmVhdGVEZWJpdE1lbW8oZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIzLiRzbm90aWZ5LnN1Y2Nlc3MoIlN1Y2Nlc3NmdWxseSIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTYXZlID09ICJuZXciKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIzLmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1NhdmUgPT0gImNsb3NlIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5jbGVhcigpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjMuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjMuJHNub3RpZnkuZXJyb3IoIlNvbWV0aGluZyB3ZW50IHdyb25nIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIzLmVycm9ycy5wdXNoKGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjMuc2hvd1dhcmluZ01lc3NhZ2UoIkRlYml0IE1lbW8iLCAiUGxlYXNlIGNoZWNrIGJlZm9yZSBzYXZlIiwgIk9LIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5zaG93V2FyaW5nTWVzc2FnZSgiRGViaXQgTWVtbyIsICJQbGVhc2UgY2hlY2sgYmVmb3JlIHNhdmUiLCAiT0siKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5zaG93V2FyaW5nTWVzc2FnZSgiRGViaXQgTWVtbyIsICJQbGVhc2Ugc2VsZWN0IHByaWNlIGxldmVsIiwgIk9LIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB3aW5kb3cuaGlzdG9yeS5nbygtMSk7CiAgICB9LAogICAgbG9hZFZpZXdEZWJpdE1lbW86IGZ1bmN0aW9uIGxvYWRWaWV3RGViaXRNZW1vKCkgewogICAgICB2YXIgX3RoaXMyNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTkoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOSQoX2NvbnRleHQxOSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE5LnByZXYgPSBfY29udGV4dDE5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyNC4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczI0LnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICB2YXIgX3N0ckZpbHRlciA9ICI/aWQ9IiArIF90aGlzMjQuJHJvdXRlLnBhcmFtcy5pZDsKCiAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5kZWJpdE1lbW9MaXN0KF9zdHJGaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzYWxlUmV0dXJuID0gcmVzLmRhdGEuZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI0LmRlYml0TWVtbyA9IHNhbGVSZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNC5pdGVtTGluZXMgPSBzYWxlUmV0dXJuLml0ZW1MaW5lOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjQub2Zmc2V0UHVyY2hhc2VzID0gc2FsZVJldHVybi5hcHBseVRvTGluZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI0LmNhc2hSZWZ1bmRMaW5lcyA9IHNhbGVSZXR1cm4uY2FzaFJlZnVuZExpbmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNC5kZXBvc2l0TGluZXMgPSBzYWxlUmV0dXJuLmRlcG9zaXRMaW5lOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjQuc3VwcGxpZXIgPSBfdGhpczI0LmRlYml0TWVtby5zdXBwbGllcjsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI0Lm1FbXBsb3llZSA9IF90aGlzMjQuZGViaXRNZW1vLmVtcGxveWVlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjQudHJhbnNhY3Rpb25EYXRlID0gX3RoaXMyNC5kZWJpdE1lbW8udHJhbnNhY3Rpb25EYXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjQuc3VwcGxpZXJEaXNjb3VudEl0ZW0gPSBfdGhpczI0LmRlYml0TWVtby5zdXBwbGllckRpc2NvdW50SXRlbSB8fCBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVwb3NpdEFjYyA9IF90aGlzMjQuc3VwcGxpZXIuaGFzT3duUHJvcGVydHkoInB1cmNoYXNlRGVwb3NpdEFjYyIpID8gX3RoaXMyNC5zdXBwbGllci5wdXJjaGFzZURlcG9zaXRBY2MgOiB7fTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjQuY2FzaFJlZnVuZExpbmVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNC5wdXJjaGFzZURlcG9zaXRMaW5lLmlkID0gaXRlbUxpbmVQcmVmaXggKyB1dWlkLnYxKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNC5jYXNoUmVmdW5kTGluZXMucHVzaChfdGhpczI0LnB1cmNoYXNlRGVwb3NpdExpbmUpOyAvLyB0aGlzLmFkZFJvd0Nhc2hSZWZ1bmQoKQoKICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI0LmRlcG9zaXRMaW5lcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjQucHVyY2hhc2VEZXBvc2l0TGluZS5pZCA9IGl0ZW1MaW5lUHJlZml4ICsgdXVpZC52MSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjQuZGVwb3NpdExpbmVzLnB1c2goX3RoaXMyNC5wdXJjaGFzZURlcG9zaXRMaW5lKTsgLy8gdGhpcy5hZGRSb3dEZXBvc2l0KCkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI0LmFjY0RlcG9zaXQgPSBfdGhpczI0LmFjY0RlcG9zaXRzLmZpbHRlcihmdW5jdGlvbiAobykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8uaWQgPT09IGRlcG9zaXRBY2MuaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgICB7Ly8gdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7CiAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5zdXBwbGllciA9IHt9OwogICAgICB0aGlzLmRlYml0TWVtbyA9IG5ldyBEZWJpdE1lbW9Nb2RlbCgpOwogICAgICB0aGlzLm9mZnNldFB1cmNoYXNlID0ge307CiAgICAgIHZhciBhcHBseVRvTGluZURTID0gdGhpcy4kcmVmcy5hcHBseVRvTGluZURTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIHRoaXMub2Zmc2V0TGlzdCA9IGFwcGx5VG9MaW5lRFMuZGF0YShbXSk7CiAgICAgIHZhciBjYXNoUmVmdW5kRFMgPSB0aGlzLiRyZWZzLmNhc2hSZWZ1bmREUy5rZW5kb1dpZGdldCgpOwogICAgICB0aGlzLmNhc2hSZWZ1bmRMaW5lcyA9IGNhc2hSZWZ1bmREUy5kYXRhKFtdKTsKICAgICAgdmFyIGRlcG9zaXRMaW5lRFMgPSB0aGlzLiRyZWZzLmRlcG9zaXRMaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgdGhpcy5kZXBvc2l0TGluZXMgPSBkZXBvc2l0TGluZURTLmRhdGEoW10pOwogICAgICB2YXIgaXRlbUxpbmVEUyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwogICAgICB0aGlzLml0ZW1MaW5lcyA9IGl0ZW1MaW5lRFMuZGF0YShbXSk7CiAgICAgIHRoaXMuYWRkUm93KCk7CiAgICAgIHRoaXMuYWRkUm93QWNjKCk7CiAgICAgIHRoaXMuYWRkUm93RGVwb3NpdCgpOwogICAgICB0aGlzLmFkZFJvd0Nhc2hSZWZ1bmQoKTsKICAgICAgdGhpcy5sb2FkUHJlZml4KCk7CiAgICB9LAogICAgb25QcmljZUxldmVsQ2hhbmdlOiBmdW5jdGlvbiBvblByaWNlTGV2ZWxDaGFuZ2UoKSB7CiAgICAgIHRoaXMuaXNQcmljZUxldmVsQ2hhbmdlZCA9IHRydWU7CiAgICAgIHRoaXMubG9hZFRyYW5zYWN0aW9uUmF0ZSgpOwogICAgICB0aGlzLmNsZWFyVU9NSXRlbSgpOwogICAgfSwKICAgIGNsZWFyVU9NSXRlbTogZnVuY3Rpb24gY2xlYXJVT01JdGVtKCkgewogICAgICB2YXIgX3RoaXMyNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjAoKSB7CiAgICAgICAgdmFyIGRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjAkKF9jb250ZXh0MjApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMC5wcmV2ID0gX2NvbnRleHQyMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZHMgPSBfdGhpczI1LiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgICAgICAgICAgIGRzLmRhdGEoKS5tYXAoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgICAgICAgbi5zZXQoJ3VvbScsIHt9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX3RoaXMyNS5pc1ByaWNlTGV2ZWxDaGFuZ2VkID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIwKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaWQ6IGZ1bmN0aW9uIGlkKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmNsZWFyKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5sb2FkVmlld0RlYml0TWVtbygpOwogICAgICB9CiAgICB9IC8vIGNhbGwgYWdhaW4gdGhlIG1ldGhvZCBpZiB0aGUgcm91dGUgY2hhbmdlcwoKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWRUYXgoKTsKICAgIHRoaXMubG9hZFNhbGVVbml0SXRlbXMoKTsKICAgIHRoaXMubG9hZFByZWZpeCgpOwogICAgdGhpcy5sb2FkU2VnbWVudCgpOwogICAgdGhpcy5sb2FkTG9jYXRpb24oKTsKICAgIHRoaXMubG9hZFBheW1lbnRPcHRpb24oKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfbW91bnRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIxKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIxJChfY29udGV4dDIxKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMS5wcmV2ID0gX2NvbnRleHQyMS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRQdXJjaGFzZUZvcm1Db250ZW50KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RGF0YSgwLCB0aGlzLmZpbHRlciwgdGhpcy5zdXBCYXNlVXJsKTsgLy8gYXdhaXQgdGhpcy5sb2FkRGlzY291bnRJdGVtKCkKCiAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkRW1wbG95ZWVDZW50ZXIoKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRQYXltZW50VGVybSgpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZEFjY291bnQoKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAxMTsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkUHJpY2VMZXZlbCgpOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAxMzsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkUHJvamVjdEJ5Q3VzdG9tZXIoKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdERhdGEoKTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgdGhpcy5ub3dUaW1lcygpOwoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMjEsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHJldHVybiBfbW91bnRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBtb3VudGVkOwogIH0oKQp9Ow=="},{"version":3,"sources":["PurchaseReturns.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\">\n                        <v-row>\n                            <v-col\n                                class=\"bigSide pr-2 py-0\"\n                                sm=\"8\"\n                                cols=\"12\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_big_bar_class: isHideBar }\">\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">{{ $t(\"debit_note\") }}</h2>\n                                        <v-icon\n                                            v-if=\"isHideBar\"\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"float-right\">close\n                                        </v-icon>\n                                        <span style=\"transition: .3s ease-in; z-index:10;\"\n                                              :class=\"{iconArrow: !isHideBar, iconArrowHide: isHideBar}\">\n                                            <v-icon size=\"22\"\n                                                    class=\"arr_icon\"\n                                                    @click=\"hideSmallSidebar\"\n                                                    v-if=\"isHideBar\">mdi-chevron-left-circle\n                                            </v-icon>\n                                            <v-icon\n                                                size=\"22\"\n                                                class=\"arr_icon\"\n                                                @click=\"hideSmallSidebar\"\n                                                v-if=\"!isHideBar\">mdi-chevron-right-circle\n                                            </v-icon>\n                                        </span>\n                                    </v-card>\n                                    <v-card outlined dense class=\"px-3 rounded-4 no_border\" color=\"grayBg\">\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pt-4 pl-4\">\n                                                <label class=\"label  mb-0 mt-1\">{{ $t(\"supplier\") }}</label>\n                                                <v-row>\n                                                    <v-col sm=\"12\"\n                                                           cols=\"12\"\n                                                           class=\"kendo_dropdown_custom py-0 mt-1 pb-4\">\n                                                        <dropdownlist\n                                                            :data-items=\"supplierList\"\n                                                            @change=\"onChange\"\n                                                            :value=\"supplier\"\n                                                            :data-item-key=\"dataItemKey\"\n                                                            :text-field=\"textField\"\n                                                            :default-item=\"defaultItem\"\n                                                            :filterable=\"true\"\n                                                            @filterchange=\"onFilterChange\"/>\n                                                    </v-col>\n                                                </v-row>\n                                                <label style=\"line-height: 23px;\"\n                                                       class=\"label\">{{ $t(\"reason_for_debit_note\") }}</label>\n                                                <v-textarea class=\"mt-1\"\n                                                            v-model=\"debitMemo.reasonForDebitNote\"\n                                                            outlined\n                                                            :rules=\"[(v) => !!v || 'required']\"\n                                                            no-resize\n                                                            height=\"40px\"\n                                                            rows=\"6\"/>\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pt-4 pr-4\">\n                                                <label class=\"label  mb-0\">{{ $t(\"date\") }}</label>\n                                                <app-datepicker :initialDate=\"transactionDate\"\n                                                                :disabled=\"disabled\"\n                                                                @onChanged=\"onPriceLevelChange\"\n                                                                @emitDate=\"transactionDate = $event\"/>\n                                                <label class=\"label mb-0\">{{ $t(\"price_level\") }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    v-model=\"debitMemo.priceLevel\"\n                                                    :items=\"priceLevel\"\n                                                    item-value=\"id\"\n                                                    @change=\"onPriceLevelChange\"\n                                                    item-text=\"name\"\n                                                    return-object\n                                                    clearable\n                                                    placeholder=\"Price Level\"\n                                                    tage=\"Default Price Level\"\n                                                    :rules=\"[(v) => !!v || 'required']\"\n                                                    required\n                                                    outlined/>\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pt-4 pr-4\">\n                                                <label class=\"label mb-0 mt-1\">{{ $t(\"number\") }}</label>\n                                                <v-row class=\"mt-1 mr-0\">\n                                                    <v-col sm=\"3\" cols=\"3\" class=\"py-0 pr-0\">\n                                                        <div class=\"code_text text-bold\">\n                                                            {{ debitMemo.transactionType.abbr }}\n                                                        </div>\n                                                    </v-col>\n                                                    <v-col sm=\"7\" cols=\"7\" class=\"py-0 pl-0 pr-1\">\n                                                        <v-text-field\n                                                            class=\" custom-border \"\n                                                            v-model=\"debitMemo.number\"\n                                                            :disabled=\"true\"\n                                                            outlined\n                                                            :rules=\"[(v) => !!v || 'Number is required']\"\n                                                            required/>\n                                                    </v-col>\n                                                    <v-col sm=\"2\" cols=\"2\" class=\"py-0 px-0\">\n                                                        <v-icon\n                                                            color=\"black\"\n                                                            size=\"30\"\n                                                            class=\"border_qrcode\"\n                                                            @click=\"generateNumber\">mdi-qrcode\n                                                        </v-icon>\n                                                    </v-col>\n                                                </v-row>\n                                                <div class=\"d-flex justify-space-between\">\n                                                    <div>\n                                                        <p class=\"label mb-0\">{{ $t(\"currency\") }}</p>\n                                                        <p class=\"label mb-0 pt-3\">{{ currencyCode }}</p>\n                                                    </div>\n                                                    <div class=\"pl-3\">\n                                                        <p class=\"label mb-0 text-right\">{{ $t(\"rate\") }}</p>\n                                                        <v-text-field\n                                                            class=\"mt-1\"\n                                                            type=\"number\"\n                                                            v-model=\"debitMemo.txnRate\"\n                                                            outlined\n                                                            min=\"0.000000001\"\n                                                            step=\"0.5\"\n                                                            :rules=\"[(v) => !!v || 'Number is required', (v) => v > 0 || 'Number must be greater than 0!']\"\n                                                            required/>\n                                                    </div>\n                                                </div>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-row style=\"background-color: #fff;\">\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                            <kendo-datasource\n                                                ref=\"itemLineDS\"\n                                                :data=\"itemLines\"\n                                                :change=\"dataSourceChanged\"/>\n                                            <kendo-grid\n                                                id=\"gridItemLine\"\n                                                class=\"grid-function\"\n                                                :data-source-ref=\"'itemLineDS'\"\n                                                :sortable=\"false\"\n                                                :column-menu=\"true\"\n                                                :editable=\"true\"\n                                                :scrollable-virtual=\"true\">\n                                                <kendo-grid-column\n                                                    :command=\"{iconClass: 'k-icon k-i-trash', text: ' ', click: removeRow, class: 'btn-plus'}\"\n                                                    :title=\"''\"\n                                                    :width=\"63\"\n                                                    :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n                                                <kendo-grid-column\n                                                    :title=\"$t('no.')\"\n                                                    :width=\"53\"\n                                                    :column-menu=\"false\"\n                                                    :template=\"rowNumberTmpl\"\n                                                    :headerAttributes=\"{style: 'background-color: #EDF1F5;', class: 'text-products'}\"\n                                                    :attributes=\"{style: 'text-align: products'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'serviceDate'\"\n                                                    :title=\"$t('date_from')\"\n                                                    :width=\"160\"\n                                                    :hidden=\"!purchaseFormContent.serviceDate\"\n                                                    :template=\"'<span>#= kendo.toString(new Date(serviceDate), dateFormat)#</span>'\"\n                                                    :editor=\"ServiceDateEditor\"\n                                                    :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'serviceDateTo'\"\n                                                    :title=\"$t('date_to')\"\n                                                    :width=\"160\"\n                                                    :hidden=\"!purchaseFormContent.serviceDateTo\"\n                                                    :template=\"'<span>#= kendo.toString(new Date(serviceDateTo), dateFormat)#</span>'\"\n                                                    :editor=\"ServiceDateToEditor\"\n                                                    :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'item'\"\n                                                    :title=\"$t('item')\"\n                                                    :template=\"itemTemplate\"\n                                                    :editor=\"ItemDropDownEditor\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'description'\"\n                                                    :title=\"$t('description')\"\n                                                    :template=\"'<span>#=description#</span>'\"\n                                                    :width=\"160\"\n                                                    :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'qty'\"\n                                                    :title=\"$t('qty')\"\n                                                    :format=\"'{0:n}'\"\n                                                    :template=\"'<span>#=qty#</span>'\"\n                                                    :width=\"80\"\n                                                    :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5',}\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'uom'\"\n                                                    :title=\"$t('uom')\"\n                                                    :width=\"120\"\n                                                    :template=\"UOMTemplate\"\n                                                    :editor=\"UOMDropDownEditor\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: left'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'cost'\"\n                                                    :title=\"$t('cost')\"\n                                                    :width=\"200\"\n                                                    :template=\"priceTemplate\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: right'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'amount'\"\n                                                    :title=\"$t('amount')\"\n                                                    :width=\"200\"\n                                                    :editable=\"() => {return false}\"\n                                                    :template=\"amountTemplate\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: right'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'discountItem'\"\n                                                    :title=\"$t('discount_item')\"\n                                                    :width=\"150\"\n                                                    :hidden=\"!purchaseFormContent.discountItem\"\n                                                    :template=\"discountItemTemplate\"\n                                                    :editor=\"DiscountItemDropDownEditor\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: left'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'vatTax'\"\n                                                    :title=\"$t('tax')\"\n                                                    :width=\"150\"\n                                                    :template=\"vatTemplate\"\n                                                    :editor=\"VatTaxDropDownEditor\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5',}\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'class1'\"\n                                                    :title=\"$t('class_1')\"\n                                                    :hidden=\"!purchaseFormContent.class1\"\n                                                    :template=\"'<span>#=class1.name || ``#</span>'\"\n                                                    :width=\"200\"\n                                                    :editor=\"ClassEditor.class1\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5',}\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'class2'\"\n                                                    :title=\"$t('class_2')\"\n                                                    :hidden=\"!purchaseFormContent.class2\"\n                                                    :template=\"'<span>#=class2.name || ``#</span>'\"\n                                                    :width=\"200\"\n                                                    :editor=\"ClassEditor.class2\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'class3'\"\n                                                    :title=\"$t('class_3')\"\n                                                    :hidden=\"!purchaseFormContent.class3\"\n                                                    :template=\"'<span>#=class3.name || ``#</span>'\"\n                                                    :width=\"200\"\n                                                    :editor=\"ClassEditor.class3\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'class4'\"\n                                                    :title=\"$t('class_4')\"\n                                                    :hidden=\"!purchaseFormContent.class4\"\n                                                    :template=\"'<span>#=class4.name || ``#</span>'\"\n                                                    :width=\"200\"\n                                                    :editor=\"ClassEditor.class4\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'class5'\"\n                                                    :title=\"$t('class_5')\"\n                                                    :hidden=\"!purchaseFormContent.class5\"\n                                                    :template=\"'<span>#=class5.name || ``#</span>'\"\n                                                    :width=\"200\"\n                                                    :editor=\"ClassEditor.class5\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5',}\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"/>\n                                            </kendo-grid>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n                                            <v-row>\n                                                <v-col sm=\"7\" cols=\"12\" class=\"py-0\">\n                                                    <v-btn\n                                                        class=\"float-left btn_plus mr-2\"\n                                                        @click=\"addRow\">\n                                                        <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                                    </v-btn>\n                                                </v-col>\n                                                <v-col sm=\"5\" cols=\"12\" class=\"py-0\">\n                                                    <v-simple-table>\n                                                        <template v-slot:default>\n                                                            <tbody>\n                                                            <tr hidden=\"true\">\n                                                                <td class=\"text-left\">{{ $t(\"subtotal\") }}</td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    {{ numberFormat(debitMemo.subTotal) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr hidden=\"true\">\n                                                                <td class=\"text-left\">{{ $t(\"discount\") }}</td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    ({{ numberFormat(debitMemo.discount) }})\n                                                                </td>\n                                                            </tr>\n                                                            <tr hidden=\"true\">\n                                                                <td class=\"text-left\">{{ $t(\"total_tax\") }}</td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    {{ numberFormat(debitMemo.taxAmount) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left text-uppercase\">{{\n                                                                        $t(\"total\")\n                                                                    }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right primary--text text-bold\">\n                                                                    {{ numberFormat(debitMemo.itemLineExchangeAmount) }}\n                                                                </td>\n                                                            </tr>\n                                                            </tbody>\n                                                        </template>\n                                                    </v-simple-table>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                                <h3 class=\"mb-0 text-uppercase color_grey mb-3\">\n                                                    {{ $t(\"apply_to_purchase\") }}</h3>\n                                                <label class=\"label font_14\">{{ $t(\"purchase_to_be_offset\") }}</label>\n                                                <v-select\n                                                    class=\" mt-1\"\n                                                    v-model=\"offsetPurchase\"\n                                                    :items=\"offsetPurchases\"\n                                                    @change=\"offsetInvoiceChanged\"\n                                                    :item-text=\"(item) => `${item.referenceNo} - ${status(item.status)}`\"\n                                                    item-value=\"id\"\n                                                    clearable\n                                                    return-object\n                                                    tage=\"Offset Purchase\"\n                                                    placeholder=\"Offset Purchase\"\n                                                    :loading=\"isLoading === 1\"\n                                                    :rules=\"[(v) => !!v || 'is required']\"\n                                                    outlined/>\n                                                <kendo-datasource\n                                                    ref=\"applyToLineDS\"\n                                                    :data=\"offsetList\"\n                                                    :change=\"onApplyToLineChange\"/>\n                                                <kendo-grid\n                                                    id=\"gridApplyTo\"\n                                                    ref=\"gridApplyTo\"\n                                                    class=\"grid-function\"\n                                                    :data-source-ref=\"'applyToLineDS'\"\n                                                    :sortable=\"false\"\n                                                    :filterable=\"false\"\n                                                    :column-menu=\"true\"\n                                                    :editable=\"true\"\n                                                    :noRecords=\"true\"\n                                                    :scrollable-virtual=\"true\">\n                                                    <!--                                                                <kendo-grid-norecords>-->\n                                                    <!--                                                                    <div  class=\"k-loading-mask customPosition\"><span class='k-loading-text'></span><div class='k-loading-image'/>-->\n                                                    <!--                                                                        <div class='k-loading-color'/></div>-->\n                                                    <!--                                                                </kendo-grid-norecords>-->\n                                                    <kendo-grid-column\n                                                        :title=\"$t('no.')\"\n                                                        :template=\"rowNumberTmplApply\"\n                                                        :width=\"55\"\n                                                        :editable=\"() => {return false}\"\n                                                        :column-menu=\"false\"\n                                                        :headerAttributes=\"{style: 'background-color: #EDF1F5;', class: 'text-products'}\"\n                                                        :attributes=\"{ style: 'text-align: products' }\"/>\n                                                    <kendo-grid-column\n                                                        :field=\"'referenceNo'\"\n                                                        :title=\"$t('number')\"\n                                                        :width=\"150\"\n                                                        :editable=\"() => {return false}\"\n                                                        :template=\"'<span>#=referenceNo||``#</span>'\"\n                                                        :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                    <kendo-grid-column\n                                                        :field=\"'currencyCode'\"\n                                                        :title=\"$t('currency')\"\n                                                        :width=\"150\"\n                                                        :editable=\"() => {return false}\"\n                                                        :headerAttributes=\"{style:'text-align: right; background-color: #EDF1F5',}\"\n                                                        :attributes=\"{ style: 'text-align: right' }\"/>\n                                                    <kendo-grid-column\n                                                        :field=\"'txnRate'\"\n                                                        :title=\"$t('rate')\"\n                                                        :width=\"200\"\n                                                        :hidden=\"true\"\n                                                        :editable=\"() => {return false}\"\n                                                        :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                                        :attributes=\"{ style: 'text-align: right' }\"/>\n                                                    <kendo-grid-column\n                                                        :field=\"'amount'\"\n                                                        :title=\"$t('amount')\"\n                                                        :template=\"amountTemplate\"\n                                                        :width=\"200\"\n                                                        :editable=\"() => {return false}\"\n                                                        :headerAttributes=\"{style:'text-align: right; background-color: #EDF1F5'}\"\n                                                        :attributes=\"{ style: 'text-align: right' }\"/>\n                                                    <kendo-grid-column\n                                                        :field=\"'paidAmount'\"\n                                                        :title=\"$t('offset_amount')\"\n                                                        :editor=\"AmountEditor\"\n                                                        :template=\"paidAmountTemplate\"\n                                                        :width=\"200\"\n                                                        :editable=\"() => {return true}\"\n                                                        :headerAttributes=\"{style:'text-align: right; background-color: #EDF1F5',}\"\n                                                        :attributes=\"{ style: 'text-align: right' }\"/>\n                                                </kendo-grid>\n                                                <v-row>\n                                                    <v-col sm=\"7\" cols=\"7\" class=\"pt-0\"></v-col>\n                                                    <v-col sm=\"5\" cols=\"5\" class=\"pt-0\">\n                                                        <v-simple-table>\n                                                            <template v-slot:default>\n                                                                <tbody>\n                                                                <tr>\n                                                                    <td class=\"text-left text-uppercase\">{{\n                                                                            $t(\"total\")\n                                                                        }}\n                                                                    </td>\n                                                                    <td class=\"text-center\">:</td>\n                                                                    <td class=\"text-right primary--text text-bold\">\n                                                                        {{\n                                                                            numberFormat(debitMemo.applyToExchangeAmount)\n                                                                        }}\n                                                                    </td>\n                                                                </tr>\n                                                                </tbody>\n                                                            </template>\n                                                        </v-simple-table>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                                <h3 class=\"mb-0 text-uppercase color_grey mb-3\">{{\n                                                        $t(\"supplier_credit\")\n                                                    }}</h3>\n                                                <kendo-datasource\n                                                    ref=\"depositLineDS\"\n                                                    :data=\"depositLines\"\n                                                    :change=\"onDepositLineDSChange\"/>\n                                                <kendo-grid\n                                                    id=\"gridDeposit\"\n                                                    ref=\"gridDeposit\"\n                                                    class=\"grid-function\"\n                                                    :data-source-ref=\"'depositLineDS'\"\n                                                    :sortable=\"false\"\n                                                    :filterable=\"false\"\n                                                    :column-menu=\"true\"\n                                                    :editable=\"true\"\n                                                    :noRecords=\"true\"\n                                                    :scrollable-virtual=\"true\">\n                                                    <kendo-grid-column\n                                                        :field=\"'account'\"\n                                                        :title=\"$t('account')\"\n                                                        :width=\"200\"\n                                                        :template=\"'<span>#=account.name||``#</span>'\"\n                                                        :editor=\"AccountDropDownEditorDeposit\"\n                                                        :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                    <kendo-grid-column\n                                                        :field=\"'description'\"\n                                                        :title=\"$t('description')\"\n                                                        :width=\"200\"\n                                                        :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                    <kendo-grid-column\n                                                        :field=\"'amount'\"\n                                                        :title=\"$t('amount')\"\n                                                        :width=\"200\"\n                                                        :headerTemplate=\"amountLineHeaderTemplate\"\n                                                        :editor=\"AmountEditor\"\n                                                        :template=\"amountTemplate\"\n                                                        :headerAttributes=\"{style:'text-align: right; background-color: #EDF1F5'}\"\n                                                        :attributes=\"{ style: 'text-align: right' }\"/>\n                                                </kendo-grid>\n                                            </v-col>\n\n                                            <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                                <h3 class=\"mb-0 text-uppercase color_grey mb-3\">{{\n                                                        $t(\"cash_refund\")\n                                                    }}</h3>\n                                                <kendo-datasource\n                                                    ref=\"cashRefundDS\"\n                                                    :change=\"onCashRefundChange\"\n                                                    :data=\"cashRefundLines\"/>\n                                                <kendo-grid\n                                                    id=\"gridCashRefund\"\n                                                    class=\"grid-function\"\n                                                    :data-source-ref=\"'cashRefundDS'\"\n                                                    :sortable=\"false\"\n                                                    :filterable=\"false\"\n                                                    :column-menu=\"true\"\n                                                    :editable=\"true\"\n                                                    :scrollable-virtual=\"true\">\n                                                    <kendo-grid-column\n                                                        :field=\"'paymentOption'\"\n                                                        :title=\"$t('payment_option')\"\n                                                        :width=\"250\"\n                                                        :template=\"methodTemplate\"\n                                                        :editor=\"PaymentOptionEditor\"\n                                                        :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                    <kendo-grid-column\n                                                        :field=\"'account'\"\n                                                        :title=\"$t('account')\"\n                                                        :width=\"200\"\n                                                        :template=\"accountTemplate\"\n                                                        :editor=\"AccountDropDownEditorRefund\"\n                                                        :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                    <kendo-grid-column\n                                                        :field=\"'description'\"\n                                                        :title=\"$t('description')\"\n                                                        :width=\"200\"\n                                                        :template=\"'<span>#=description#</span>'\"\n                                                        :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                    <kendo-grid-column\n                                                        :field=\"'refNo'\"\n                                                        :title=\"$t('payment_ref')\"\n                                                        :width=\"150\"\n                                                        :hidden=\"true\"\n                                                        :headerAttributes=\"{style:'text-align: right; background-color: #EDF1F5'}\"\n                                                        :attributes=\"{style: 'text-align: right'}\"/>\n                                                    <kendo-grid-column\n                                                        :field=\"'amount'\"\n                                                        :title=\"$t('amount')\"\n                                                        :headerTemplate=\"amountLineHeaderTemplate\"\n                                                        :width=\"200\"\n                                                        :template=\"amountTemplate\"\n                                                        :editor=\"AmountEditor\"\n                                                        :headerAttributes=\"{style:'text-align: right; background-color: #EDF1F5'}\"\n                                                        :attributes=\"{style: 'text-align: right'}\"/>\n                                                </kendo-grid>\n                                            </v-col>\n                                        </v-col>\n                                    </v-row>\n                                    <v-row class=\"pt-3\" style=\"background-color: #fff;\">\n                                        <!--                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">-->\n                                        <!--                                            <kendo-datasource-->\n                                        <!--                                                ref=\"accountLineDS\"-->\n                                        <!--                                                :data=\"accountLines\"-->\n                                        <!--                                                :change=\"onAccountLineDSChanged\"/>-->\n                                        <!--                                            <kendo-grid-->\n                                        <!--                                                id=\"gridAccountLine\"-->\n                                        <!--                                                ref=\"gridAccountLine\"-->\n                                        <!--                                                class=\"grid-function\"-->\n                                        <!--                                                :data-source-ref=\"'accountLineDS'\"-->\n                                        <!--                                                :sortable=\"false\"-->\n                                        <!--                                                :filterable=\"false\"-->\n                                        <!--                                                :column-menu=\"true\"-->\n                                        <!--                                                :editable=\"true\"-->\n                                        <!--                                                :noRecords=\"true\"-->\n                                        <!--                                                :scrollable-virtual=\"true\">-->\n                                        <!--                                                <kendo-grid-column-->\n                                        <!--                                                    :title=\"$t('no.')\"-->\n                                        <!--                                                    :template=\"rowNumberTmplAcc\"-->\n                                        <!--                                                    :width=\"55\"-->\n                                        <!--                                                    :column-menu=\"false\"-->\n                                        <!--                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5;',class: 'text-products', }\"-->\n                                        <!--                                                    :attributes=\"{  style: 'text-align: products', }\"/>-->\n                                        <!--                                                <kendo-grid-column-->\n                                        <!--                                                    :field=\"'account'\"-->\n                                        <!--                                                    :title=\"$t('account')\"-->\n                                        <!--                                                    :width=\"200\"-->\n                                        <!--                                                    :template=\"accountTemplate\"-->\n                                        <!--                                                    :editor=\"AccountDropDownEditor\"-->\n                                        <!--                                                    :headerAttributes=\"{  style: 'background-color: #EDF1F5', }\"/>-->\n                                        <!--                                                <kendo-grid-column-->\n                                        <!--                                                    :field=\"'description'\"-->\n                                        <!--                                                    :title=\"$t('description')\"-->\n                                        <!--                                                    :width=\"200\"-->\n                                        <!--                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5', }\"/>-->\n                                        <!--                                                <kendo-grid-column-->\n                                        <!--                                                    :field=\"'amount'\"-->\n                                        <!--                                                    :title=\"$t('amount')\"-->\n                                        <!--                                                    :format=\"'{0:n}'\"-->\n                                        <!--                                                    :width=\"150\"-->\n                                        <!--                                                    :editor=\"AmountEditor\"-->\n                                        <!--                                                    :headerAttributes=\"{ style: 'text-align: right; background-color: #EDF1F5', }\"-->\n                                        <!--                                                    :attributes=\"{ style: 'text-align: right',  }\"/>-->\n                                        <!--                                                <kendo-grid-column-->\n                                        <!--                                                    :field=\"'discountItem'\"-->\n                                        <!--                                                    :title=\"$t('discount')\"-->\n                                        <!--                                                    :template=\"'<span>#=discountItem.name||``#</span>'\"-->\n                                        <!--                                                    :editor=\"DiscountItemDropDownEditor\"-->\n                                        <!--                                                    :width=\"150\"-->\n                                        <!--                                                    :headerAttributes=\"{ style: 'text-align: right; background-color: #EDF1F5',  }\"-->\n                                        <!--                                                    :attributes=\"{  style: 'text-align: right',  }\"/>-->\n                                        <!--                                                <kendo-grid-column-->\n                                        <!--                                                    :field=\"'vatTax'\"-->\n                                        <!--                                                    :title=\"$t('tax')\"-->\n                                        <!--                                                    :template=\"'<span>#=vatTax.defaultTax||``#</span>'\"-->\n                                        <!--                                                    :editor=\"VatTaxDropDownEditor\"-->\n                                        <!--                                                    :width=\"150\"-->\n                                        <!--                                                    :headerAttributes=\"{ style:'text-align: right; background-color: #EDF1F5', }\"-->\n                                        <!--                                                    :attributes=\"{  style: 'text-align: right', }\"/>-->\n                                        <!--                                                <kendo-grid-column-->\n                                        <!--                                                    :command=\"{ iconClass: 'k-icon k-i-trash', text: 'Delete', click: removeRowAcc, class: 'btn-plus', }\"-->\n                                        <!--                                                    :title=\"$t('action')\"-->\n                                        <!--                                                    :width=\"100\"-->\n                                        <!--                                                    :headerAttributes=\"{ style:'text-align: right; background-color: #EDF1F5', }\"/>-->\n                                        <!--                                            </kendo-grid>-->\n                                        <!--                                        </v-col>-->\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                            <v-row>\n                                                <!--                                                <v-col sm=\"9\" cols=\"12\" class=\"\">-->\n                                                <!--                                                    <v-btn class=\"float-left btn_plus mr-2 rounded-0\"-->\n                                                <!--                                                           @click=\"addRowAcc\">-->\n                                                <!--                                                        <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>-->\n                                                <!--                                                    </v-btn>-->\n                                                <!--                                                    &lt;!&ndash;                                                    <v-btn class=\"float-left add_account mr-2 rounded-0 white&#45;&#45;text\"&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                           to=\"add_item\">&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                        {{ $t('add_account') }}&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                    </v-btn>&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                    <v-btn&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                        class=\"float-left add_account mr-2  rounded-0 btn_save_draft\">&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                        {{ $t('sub_total') }}&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                    </v-btn>&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                    <template>&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                        <v-file-input class=\"mt-0 pt-0 \" sm=\"3\" cols=\"6\"&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                      v-model=\"files\"&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                      :placeholder=\"$t('attachment')\"&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                      multiple&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                      prepend-icon=\"mdi-paperclip\"&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                        >&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                            <template v-slot:selection=\"{ text }\">&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                <v-chip&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                    small&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                    label&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                    color=\"primary\"&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                >&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                    {{ text }}&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                </v-chip>&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                            </template>&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                        </v-file-input>&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                    </template>&ndash;&gt;-->\n                                                <!--                                                </v-col>-->\n\n                                                <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                    <v-row>\n                                                        <v-col sm=\"6\" cols=\"6\" class=\"pt-0\">\n                                                            <v-card class=\"no-boxshadow rounded-4 pa-3\" color=\"grayBg\">\n                                                                <v-row>\n                                                                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                                        <label>{{ $t(\"message_on_memo\") }}</label>\n                                                                        <v-textarea\n                                                                            class=\"mt-1\"\n                                                                            v-model=\"debitMemo.transactionNote\"\n                                                                            outlined\n                                                                            no-resize\n                                                                            height=\"70px\"\n                                                                            tage=\"Message on Debit Memo\"\n                                                                            placeholder=\"This will appear on the Debit Memo\"/>\n                                                                        <label>{{ $t(\"message_for_journal\") }}</label>\n                                                                        <v-textarea\n                                                                            class=\"mt-1\"\n                                                                            v-model=\"debitMemo.journalNote\"\n                                                                            outlined\n                                                                            no-resize\n                                                                            height=\"70px\"\n                                                                            tage=\"Message on Order\"\n                                                                            placeholder=\"This will appear on the journal\"/>\n                                                                    </v-col>\n                                                                </v-row>\n                                                            </v-card>\n                                                        </v-col>\n                                                        <v-col sm=\"6\" cols=\"6\" class=\"pt-0\">\n                                                            <v-simple-table>\n                                                                <template v-slot:default>\n                                                                    <tbody>\n                                                                    <tr>\n                                                                        <td class=\"text-left\">{{ $t(\"amount_return\") }}\n                                                                            ({{ currencyCode }})\n                                                                        </td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">\n                                                                            {{ numberFormat(debitMemo.itemLineAmount) }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    <tr>\n                                                                        <td class=\"text-left\">{{ $t(\"offset_amount\") }}\n                                                                            ({{ currencyCode }})/td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">\n                                                                            {{ numberFormat(debitMemo.amount) }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    <tr>\n                                                                        <td class=\"text-left\">{{ $t(\"amount_return\") }}\n                                                                            ({{ baseCurrencyCode }})\n                                                                        </td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">\n                                                                            {{\n                                                                                numberFormat(debitMemo.itemLineExchangeAmount)\n                                                                            }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    <tr>\n                                                                        <td class=\"text-left\">{{ $t(\"offset_amount\") }}\n                                                                            ({{ baseCurrencyCode }})\n                                                                        </td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">\n                                                                            {{ numberFormat(debitMemo.exchangeAmount) }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    <tr>\n                                                                        <td class=\"text-left\">{{ $t(\"variance\") }}\n                                                                            <v-select\n                                                                                class=\"mt-1\"\n                                                                                v-model=\"debitMemo.varianceAcc\"\n                                                                                :items=\"varianceAccs\"\n                                                                                item-value=\"id\"\n                                                                                :item-text=\"(item) =>`${item.number} - ${item.name}`\"\n                                                                                @change=\"onVarianceAccChanged\"\n                                                                                return-object\n                                                                                tage=\"variance account\"\n                                                                                placeholder=\"account\"\n                                                                                clearable\n                                                                                outlined=\"\"/>\n                                                                        </td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">\n                                                                            {{ formatVariance(debitMemo.variance) }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    <tr hidden>\n                                                                        <td class=\"text-left\">{{ $t(\"dr\") }}</td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">{{\n                                                                                numberFormat(dr)\n                                                                            }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    <tr hidden>\n                                                                        <td class=\"text-left\">{{ $t(\"cr\") }}</td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">{{\n                                                                                numberFormat(cr)\n                                                                            }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    </tbody>\n                                                                </template>\n                                                            </v-simple-table>\n                                                        </v-col>\n                                                    </v-row>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n\n                                    <v-divider/>\n\n                                    <v-card outlined dense class=\"no_border function_footer\">\n                                        <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                                            <span v-html=\"errorMessage\"/>\n                                        </v-alert>\n                                        <v-menu>\n                                            <template v-slot:activator=\"{ on }\">\n                                                <v-btn class=\"mr-2 float-left select_template\"\n                                                       v-on=\"on\">{{ $t(\"select_template\") }}\n                                                    <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                                </v-btn>\n                                            </template>\n                                            <v-list>\n                                                <v-list-item v-for=\"(item, index) in templatesForm\" :key=\"index\">\n                                                    <v-list-item-title>{{ item.title }}</v-list-item-title>\n                                                </v-list-item>\n                                            </v-list>\n                                        </v-menu>\n                                        <v-btn\n                                            color=\"primary\"\n                                            outlined\n                                            class=\"float-left  black--text text-capitalize\"\n                                            @click=\"cancel\">{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <!--                    <v-menu>-->\n                                        <!--                      <template v-slot:activator=\"{ on }\">-->\n                                        <!--                        <v-btn color=\"primary\"-->\n                                        <!--                               class=\"ml-2 float-right  white&#45;&#45;text text-capitalize\" v-on=\"on\">-->\n                                        <!--                          {{ $t('save_option') }}-->\n                                        <!--                          <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>-->\n                                        <!--                        </v-btn>-->\n                                        <!--                      </template>-->\n                                        <!--                      <v-list rounded>-->\n                                        <!--                        <v-list-item-group>-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title>-->\n                                        <!--                                {{ $t('save_new') }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title>{{ $t('save_draft') }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                        </v-list-item-group>-->\n                                        <!--                      </v-list>-->\n                                        <!--                    </v-menu>-->\n                                        <v-btn color=\"primary\"\n                                               class=\"float-right  white--text text-capitalize\"\n                                               @click=\"onSaveClose('close')\">\n                                            {{ $t(\"save_close\") }}\n                                        </v-btn>\n                                        <v-btn color=\"secondary\"\n                                               style=\"margin-right: 10px !important\"\n                                               class=\"white--text float-right text-capitalize\"\n                                               @click=\"onSaveClose('new')\" :hidden=\"hiddenButton\">{{ $t(\"save_new\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-form>\n                            </v-col>\n\n                            <v-col\n                                class=\"smallSide pl-2\"\n                                sm=\"4\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_small_bar_class: isHideBar }\">\n                                <div class=\"d-flex justify-end\">\n                                    <h3 style=\"color: #b3b5bc; font-size:20px;\" v-if=\"!isHideBar\"\n                                        class=\"text-uppercase float-right mt-n3\">\n                                        <span class=\"pointer\" @click=\"Help('credit memo')\">{{ $t(\"help\") }}</span>\n                                        <v-icon @click=\"cancel()\"\n                                                style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                                class=\"float-right mt-n1\">close\n                                        </v-icon>\n                                    </h3>\n                                </div>\n\n                                <div v-if=\"!isHideBar\" class=\"small_sidebar mt-2 px-4 pt-4 grayBg\">\n                                    <v-card style=\"margin-bottom: 2px;\" outlined dense\n                                            class=\"pa-3 no_border my_card rounded-4 white--text\" color=\"primary\"\n                                            height=\"60px\">\n                                        <h3 class=\"text-left font_13 flex-1 text-uppercase\">\n                                            {{ $t('offset_amount') }}</h3>\n                                        <h3 class=\"text-right flex-1 font_20 niradei_heavy\">\n                                            {{ numberFormat(debitMemo.exchangeAmount) }} </h3>\n                                    </v-card>\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-5\">\n                                            <label class=\"label mb-0\">{{ $t(\"segment\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"debitMemo.segment\"\n                                                :items=\"segments\"\n                                                item-value=\"id\"\n                                                :disabled=\"true\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                return-object\n                                                tage=\"sub Of\"\n                                                placeholder=\"Sub Of\"\n                                                outlined=\"\"/>\n                                            <label class=\"label mb-0\">{{ $t(\"location\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"debitMemo.location\"\n                                                :items=\"locations\"\n                                                item-value=\"id\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                return-object\n                                                tage=\"Location\"\n                                                :disabled=\"true\"\n                                                placeholder=\"bu/location\"\n                                                outlined=\"\"/>\n                                            <label class=\"label font_14\">{{ $t(\"project\") }}</label>\n                                            <v-select\n                                                class=\" mt-1\"\n                                                v-model=\"debitMemo.project\"\n                                                :items=\"customerProjects\"\n                                                :disabled=\"true\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                item-value=\"id\"\n                                                tage=\"Customer Project\"\n                                                placeholder=\"project\"\n                                                clearable\n                                                outlined/>\n                                            <label class=\"label font_14\">{{ $t(\"employee\") }}</label>\n                                            <v-col sm=\"12\"\n                                                   cols=\"12\"\n                                                   class=\"kendo_dropdown_custom pl-0 pb-3 pt-0\">\n                                                <dropdownlist\n                                                    :data-items=\"employees\"\n                                                    @change=\"onEmployeeChanged\"\n                                                    :value=\"mEmployee\"\n                                                    :data-item-key=\"'id'\"\n                                                    :text-field=\"'name'\"\n                                                    :default-item=\"defaultItem\"\n                                                    :filterable=\"true\"\n                                                    @filterchange=\"onEmployeeFilterChanged\">\n                                                </dropdownlist>\n                                            </v-col>\n                                        </v-col>\n                                    </v-row>\n                                    <v-divider class=\"mb-3\"/>\n                                    <!--                                    <v-card class=\"pa-3 mb-2 no-boxshadow\"-->\n                                    <!--                                            style=\"min-height: 70px; background-color: #ffffff !important;\">-->\n                                    <!--                                        &lt;!&ndash;                                        <h3 class=\"text-uppercase mb-2 font_18\">{{ $t('offset_amount') }}</h3>&ndash;&gt;-->\n                                    <!--                                        &lt;!&ndash;                                        <h3 class=\"text-bold float-right\" style=\"font-size: 22px\">200</h3>&ndash;&gt;-->\n                                    <!--                                    </v-card>-->\n                                    <!--                                    <v-row>-->\n                                    <!--                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">-->\n                                    <!--                                            <label-->\n                                    <!--                                                class=\"label text-bold text-uppercase font_14\">{{-->\n                                    <!--                                                    $t('invoice_to_offset')-->\n                                    <!--                                                }}</label>-->\n                                    <!--                                            <v-select class=\" mt-1\"-->\n                                    <!--                                                      :items=\"transaction\"-->\n                                    <!--                                                      :rules=\"[v => !!v || 'Payble Account is required']\"-->\n                                    <!--                                                      return-object-->\n                                    <!--                                                      tage=\"Invoice to Offset\"-->\n                                    <!--                                                      outlined-->\n                                    <!--                                            >-->\n                                    <!--                                                <template v-slot:item=\"{ item }\">-->\n                                    <!--                                                    <p class=\"d-block text-center\">{{ item.id }}. {{ item.name }}</p>-->\n                                    <!--                                                    <br>-->\n                                    <!--                                                    <div class=\"item_list d-flex\">-->\n                                    <!--                                                        <span>-->\n                                    <!--                                                            {{ item.no }}-->\n                                    <!--                                                        </span>-->\n                                    <!--                                                        <v-btn>Add</v-btn>-->\n                                    <!--                                                    </div>-->\n                                    <!--                                                </template>-->\n                                    <!--                                            </v-select>-->\n\n                                    <!--                                            <v-row>-->\n                                    <!--                                                <v-col sm=\"9\" cols=\"9\" class=\"py-1 pr-0\">-->\n                                    <!--                                                    <v-card outlined-->\n                                    <!--                                                            class=\"px-3 py-1 text-white no-boxshadow no_border justify-left d-flex\"-->\n                                    <!--                                                            style=\"background-color: #92d050; height: 30px\">-->\n                                    <!--                                                        <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>-->\n                                    <!--                                                        <p class=\"mb-0\" style=\"width: 100%\">-->\n                                    <!--                                                            <span class=\"pl-3 float-left\">No. 00224</span>-->\n                                    <!--                                                            <span class=\"float-right\">2,500.00</span>-->\n                                    <!--                                                        </p>-->\n                                    <!--                                                    </v-card>-->\n                                    <!--                                                </v-col>-->\n                                    <!--                                                <v-col sm=\"3\" cols=\"3\" class=\"py-1  pl-1\">-->\n                                    <!--                                                    <v-btn-->\n                                    <!--                                                        class=\"text-white text-bold rounded-0 float-right text-uppercase\"-->\n                                    <!--                                                        style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\">-->\n                                    <!--                                                        {{ $t('add') }}-->\n                                    <!--                                                    </v-btn>-->\n                                    <!--                                                </v-col>-->\n                                    <!--                                            </v-row>-->\n                                    <!--                                            <v-row>-->\n                                    <!--                                                <v-col sm=\"9\" cols=\"9\" class=\"py-1 pr-0\">-->\n                                    <!--                                                    <v-card outlined-->\n                                    <!--                                                            class=\"px-3 py-1 text-white no-boxshadow no_border justify-left d-flex\"-->\n                                    <!--                                                            style=\"background-color: #92d050; height: 30px\">-->\n                                    <!--                                                        <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>-->\n                                    <!--                                                        <p class=\"mb-0\" style=\"width: 100%\">-->\n                                    <!--                                                            <span class=\"pl-3 float-left\">No. 00224</span>-->\n                                    <!--                                                            <span class=\"float-right\">2,500.00</span>-->\n                                    <!--                                                        </p>-->\n                                    <!--                                                    </v-card>-->\n                                    <!--                                                </v-col>-->\n                                    <!--                                                <v-col sm=\"3\" cols=\"3\" class=\"py-1  pl-1\">-->\n                                    <!--                                                    <v-btn-->\n                                    <!--                                                        class=\"text-white text-bold rounded-0 float-right text-uppercase\"-->\n                                    <!--                                                        style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\">-->\n                                    <!--                                                        {{ $t('add') }}-->\n                                    <!--                                                    </v-btn>-->\n                                    <!--                                                </v-col>-->\n                                    <!--                                            </v-row>-->\n                                    <!--                                            <v-row>-->\n                                    <!--                                                <v-col sm=\"9\" cols=\"9\" class=\"py-1 pr-0\">-->\n                                    <!--                                                    <v-card outlined-->\n                                    <!--                                                            class=\"px-3 py-1 text-white no-boxshadow no_border justify-left d-flex\"-->\n                                    <!--                                                            style=\"background-color: #92d050; height: 30px\">-->\n                                    <!--                                                        <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>-->\n                                    <!--                                                        <p class=\"mb-0\" style=\"width: 100%\">-->\n                                    <!--                                                            <span class=\"pl-3 float-left\">No. 00224</span>-->\n                                    <!--                                                            <span class=\"float-right\">2,500.00</span>-->\n                                    <!--                                                        </p>-->\n                                    <!--                                                    </v-card>-->\n                                    <!--                                                </v-col>-->\n                                    <!--                                                <v-col sm=\"3\" cols=\"3\" class=\"py-1  pl-1\">-->\n                                    <!--                                                    <v-btn-->\n                                    <!--                                                        class=\"text-white text-bold rounded-0 float-right text-uppercase\"-->\n                                    <!--                                                        style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\">-->\n                                    <!--                                                        {{ $t('add') }}-->\n                                    <!--                                                    </v-btn>-->\n                                    <!--                                                </v-col>-->\n                                    <!--                                            </v-row>-->\n                                    <!--                                            <v-row>-->\n                                    <!--                                                <v-col sm=\"9\" cols=\"9\" class=\"py-1 pr-0\">-->\n                                    <!--                                                    <v-card outlined-->\n                                    <!--                                                            class=\"px-3 py-1 text-white no-boxshadow no_border justify-left d-flex\"-->\n                                    <!--                                                            style=\"background-color: #92d050; height: 30px\">-->\n                                    <!--                                                        <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>-->\n                                    <!--                                                        <p class=\"mb-0\" style=\"width: 100%\">-->\n                                    <!--                                                            <span class=\"pl-3 float-left\">No. 00224</span>-->\n                                    <!--                                                            <span class=\"float-right\">2,500.00</span>-->\n                                    <!--                                                        </p>-->\n                                    <!--                                                    </v-card>-->\n                                    <!--                                                </v-col>-->\n                                    <!--                                                <v-col sm=\"3\" cols=\"3\" class=\"py-1  pl-1\">-->\n                                    <!--                                                    <v-btn-->\n                                    <!--                                                        class=\"text-white text-bold rounded-0 float-right text-uppercase\"-->\n                                    <!--                                                        style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\">-->\n                                    <!--                                                        {{ $t('add') }}-->\n                                    <!--                                                    </v-btn>-->\n                                    <!--                                                </v-col>-->\n                                    <!--                                            </v-row>-->\n                                    <!--                                        </v-col>-->\n                                    <!--                                    </v-row>-->\n\n                                    <!--                                    <h4 class=\"mb-2 text-uppercase\">{{ $t('add_to_deposit') }}</h4>-->\n                                    <!--                                    <label class=\"label font_14\">{{ $t('sale_channel') }}</label>-->\n                                    <!--                                    <v-select class=\" mt-1\"-->\n                                    <!--                                              :items=\"suppliers\"-->\n                                    <!--                                              :rules=\"[v => !!v || 'Payble Account is required']\"-->\n                                    <!--                                              return-object-->\n                                    <!--                                              tage=\"Add to Deposit\"-->\n                                    <!--                                              outlined-->\n                                    <!--                                    />-->\n                                    <!--                                    <label class=\"label font_14\">{{ $t('deposit_amount') }}</label>-->\n                                    <!--                                    <v-text-field class=\" mt-1 mb-16\"-->\n                                    <!--                                                  tage=\"Deposit Amount\"-->\n                                    <!--                                                  outlined-->\n                                    <!--                                    />-->\n\n                                    <p class=\"mb-0 detial_smallside_p font_14\">\n                                        {{ $t(\"purchase_return_desc\") }}\n                                    </p>\n                                </div>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe :isLoading=\"showLoading\" :fullPage=\"false\" :myLoading=\"true\"/>\n            <v-dialog v-model=\"dialogTax\" max-width=\"450px\">\n                <v-card>\n                    <div class=\"modal_header\">\n                        <v-card-title>{{ $t(\"tax_list\") }}</v-card-title>\n                        <v-icon @click=\"dialogTax = false\">close</v-icon>\n                    </div>\n                    <v-card-text cl ass=\"modal_text_content\">\n                        <v-row>\n                            <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                <v-simple-table>\n                                    <template v-slot:default>\n                                        <tbody>\n                                        <tr v-for=\"(value, name) in taxListTotal\" v-bind:key=\"name\">\n                                            <td class=\"text-left\" width=\"180px\">{{ name }}</td>\n                                            <td class=\"text-center\">:</td>\n                                            <td class=\"text-right\">{{ numberFormat(value) }}</td>\n                                        </tr>\n                                        <tr>\n                                            <td class=\"text-left\" width=\"180px\">{{ $t(\"total\") }}</td>\n                                            <td class=\"text-center\">:</td>\n                                            <td class=\"text-right\">{{ numberFormat(debitMemo.taxAmount) }}</td>\n                                        </tr>\n                                        </tbody>\n                                    </template>\n                                </v-simple-table>\n                            </v-col>\n                        </v-row>\n                    </v-card-text>\n                    <v-divider/>\n                </v-card>\n            </v-dialog>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n// import kendo from '@progress/kendo-ui'\nimport {i18n} from \"@/i18n\";\nimport LoadingMe from \"@/components/Loading\";\nimport DatePickerComponent from \"@/components/custom_templates/DatePickerComponent\";\nimport DebitMemoModel from \"@/scripts/purchase_return/model/DebitMemo\";\nimport kendo from \"@progress/kendo-ui\";\nimport {uuid} from \"vue-uuid\";\nimport PurchaseFormContentModel from \"@/scripts/model/PurchaseFormContent\";\nimport {DropDownList} from \"@progress/kendo-vue-dropdowns\";\nimport ItemLineModel from \"@/scripts/purchase/model/ItemLine\";\n\nimport ApplyToLineModel from \"@/scripts/purchase_return/model/ApplyToLine\";\nimport DepositLineModel from \"@/scripts/purchase_return/model/DepositLine\";\nimport {ShowResource, dataStore} from \"@/observable/store\";\nimport PurchaseDepositItemLineModel from \"@/scripts/purchase_deposit/model/ItemLine\";\nimport {supplierHandler} from \"@/scripts/AppHandlers\";\nimport PaymentOptionEditor from \"@/scripts/kendo_editor/PaymentOptionEditor\";\n\nconst defaultItem = {[\"numberName\"]: \"Select vendor...\", [\"id\"]: null};\nconst prefixHandler = require(\"@/scripts/prefixHandler\");\nconst emptyItem = {[\"numberName\"]: \"loading ...\"};\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\nconst purchaseFormContentHandler = require(\"@/scripts/purchaseFormContentHandler\");\nconst employeeHandler = require(\"@/scripts/employeeHandler\");\nconst locationHandler = require(\"@/scripts/locationHandler\");\nconst productVariantHandler = require(\"@/scripts/productVariantHandler\");\nconst discountItemHandler = require(\"@/scripts/discountItemHandler\");\nconst accountHandler = require(\"@/scripts/handler/accounting/account\");\nconst uomPriceHandler = require(\"@/scripts/uomPriceHandler\");\nconst settingsHandler = require(\"@/scripts/settingsHandler\");\nconst projectHandler = require(\"@/scripts/projectHandler\");\nconst priceLevelHandler = require(\"@/scripts/priceLevelHandler\");\nconst settingHandler = require(\"@/scripts/settingHandler\");\nconst paymentTermHandler = require(\"@/scripts/paymentTermHandler\");\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\");\nconst saleUnitItemHandler = require(\"@/scripts/saleUnitItemHandler\");\nconst paymentOptionHandler = require(\"@/scripts/paymentOptionHandler\");\n\nconst purchaseFormContentModel = new PurchaseFormContentModel({});\nconst itemLineModel = new ItemLineModel({});\n// const accountLineModel = new AccountLineModel({})\nconst applyToLineModel = new ApplyToLineModel({});\nconst depositLineModel = new DepositLineModel({});\nconst $ = kendo.jQuery\nconst itemLinePrefix = \"lin-\";\nconst textField = \"numberName\";\n\nconst debitMemoModel = new DebitMemoModel({});\nconst purchaseDepositItemLineModel = new PurchaseDepositItemLineModel({});\nconst {ClassEditor} = require(\"@/scripts/kendo_editor/Collections\");\nconst DISCOUNT_TYPE = \"?type=Purchase\";\nconst TRANSACTION_TYPE = \"Debit Memo\";\nconst OPTION_TYPE = \"Supplier\";\nconst strFilter = \"?optionType=\" + OPTION_TYPE;\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\n\nexport default {\n    name: \"DebitMemo\",\n    props: [\"id\"],\n    components: {\n        LoadingMe: LoadingMe,\n        \"app-datepicker\": DatePickerComponent,\n        dropdownlist: DropDownList,\n    },\n    data: () => ({\n        isLoading: 0,\n        PaymentOptionEditor: PaymentOptionEditor,\n        debitMemo: debitMemoModel,\n        purchaseFormContent: purchaseFormContentModel,\n        itemLine: itemLineModel,\n        // accountLine: accountLineModel,\n        applyToLine: applyToLineModel,\n        depositLine: depositLineModel,\n        purchaseDepositLine: purchaseDepositItemLineModel,\n\n        supplierList: [],\n        cashRefundLines: [],\n        itemLines: [],\n        taxListTotal: [],\n        supplier: {},\n        defaultItem: defaultItem,\n        dataItemKey: \"id\",\n        textField: \"numberName\",\n        filter: \"\",\n        supBaseUrl: supplierHandler.search(),\n        empBaseUrl: employeeHandler.search(),\n        employees: [],\n        mEmployee: {},\n        customerProjects: [],\n        priceLevel: [],\n        locations: [],\n        otherTax: [],\n        vatTax: [],\n        tax: [],\n        specificTax: [],\n        publicLightingTax: [],\n        saleUnitItemList: [],\n        supplierDiscountItem: [],\n        customerSaleUnit: [],\n        transactionType: [],\n        segments: [],\n        exchangeRate: [],\n        currencyCode: \"\",\n        transactionRate: 1,\n        accountLines: [],\n        transactionRateDate: \"\",\n        accounts: [],\n        depositLines: [],\n        offsetPurchases: [],\n        offsetList: [],\n        offsetPurchaseList: [],\n        offsetPurchase: {},\n        decimalFormat: \"n2\",\n        // LoadingMe\n        showLoading: false,\n        bill_date: \"\",\n        alert: false,\n        valid: true,\n        suppliers: [],\n        paymentMethod: [],\n        transactionDate: new Date().toISOString().substr(0, 10),\n        templatesForm: [\n            {title: \"Debit Note\", id: 1},\n        ],\n        isHideBar: false,\n        dialogTax: false,\n        baseCurrencyCode: \"\",\n        accCash: [],\n        accDeposit: [],\n        accDeposits: [],\n        ClassEditor: ClassEditor,\n        jRaw: [],\n        jRaw1: [],\n        jRaw2: [],\n        jRaw3: [],\n        jRaw4: [],\n        jRaw5: [],\n        gainLossAcc: {},\n        otherRevenueAcc: {},\n        varianceAccs: [],\n        taxListDetail: [],\n        cr: 0,\n        dr: 0,\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email,\n        },\n        isPriceLevelChanged: false\n    }),\n    computed: {\n        disabled() {\n            return !!this.$route.params.id;\n        },\n        amountHeaderTemplate() {\n            if (this.supplier) {\n                if (this.supplier.hasOwnProperty(\"baseCurrency\")) {\n                    const baseCurrency = this.supplier.baseCurrency;\n                    if (baseCurrency.hasOwnProperty(\"code\")) {\n                        return \"Amount (\" + baseCurrency.code + \")\";\n                    }\n                }\n            }\n            return \"Amount\";\n        },\n        amountLineHeaderTemplate() {\n            if (this.currencyCode) {\n                return \"Amount (\" + this.currencyCode + \")\";\n            }\n            return \"Amount\";\n        },\n        hiddenButton() {\n            if (this.$route.query.type == \"edit\") {\n                return true\n            } else {\n                return false\n            }\n        }\n    },\n    methods: {\n        status(status) {\n            let statusText = ''\n            switch (status) {\n                case 1:\n                    statusText = 'Open'\n                    break\n                case 2:\n                    statusText = 'Partially Paid'\n                    break\n                case 3:\n                    statusText = 'Paid'\n                    break\n                case 4:\n                    statusText = 'Void'\n                    break\n            }\n            return statusText\n        },\n        purchaseTemplate() {\n            const offsetPurchase = this.offsetPurchase || {}\n            const referenceNo = offsetPurchase.referenceNo || ''\n            const status = offsetPurchase.status || ''\n            const statusText = this.status(status)\n            window.console.log('referenceNo + \\'-\\' + statusText', referenceNo + '-' + statusText)\n            return referenceNo + '-' + statusText\n        },\n        formatVariance(num) {\n            if (num) {\n                window.console.log(num, \"num\");\n                const varianceNumber = this.numberToString(parseFloat(num));\n                return varianceNumber;\n                //   if (varianceNumber.includes('.')) {\n                //     const strDigit = varianceNumber.split('.')\n                //     const head = strDigit[0]\n                //     const rightHead = strDigit[1]\n                //     const nums = this.countZeros(rightHead)\n                //     const substringRight = rightHead.substring(0, nums + 1)\n                //     return head + '.' + substringRight\n                //   } else {\n                //     return varianceNumber\n                //   }\n            }\n            return 0;\n        },\n        countZeros(num) {\n            if (num) {\n                let splitted = num.split(\"\");\n                let i = 0;\n                while (splitted.shift() == 0) {\n                    i += 1;\n                }\n                return i;\n            }\n            return 0;\n        },\n        numberToString(num) {\n            let numStr = String(num);\n            if (Math.abs(num) < 1.0) {\n                let e = parseInt(num.toString().split(\"e-\")[1]);\n                if (e) {\n                    let negative = num < 0;\n                    if (negative) num *= -1;\n                    num *= Math.pow(10, e - 1);\n                    numStr = \"0.\" + new Array(e).join(\"0\") + num.toString().substring(2);\n                    if (negative) numStr = \"-\" + numStr;\n                }\n            } else {\n                let e = parseInt(num.toString().split(\"+\")[1]);\n                if (e > 20) {\n                    e -= 20;\n                    num /= Math.pow(10, e);\n                    numStr = num.toString() + new Array(e + 1).join(\"0\");\n                }\n            }\n            // const zeros = this.numberOfZeros(numStr)\n            return numStr; //parseFloat(numStr).toFixed(zeros + 1)\n        },\n        showWaringMessage(title, text, confirmButtonText) {\n            this.$swal({\n                title: title,\n                text: text,\n                icon: \"warning\",\n                showCancelButton: false,\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: confirmButtonText,\n            }).then((result) => {\n                if (result.value) {\n                    window.console.log(\"1\");\n                }\n            });\n        },\n        offsetInvoiceChanged() {\n            //todo: add invoice to line\n            this.offsetList = [];\n            if (this.offsetPurchase) {\n                window.console.log(this.offsetPurchase, \"offsetPurchase\");\n                const txnId = this.offsetPurchase.id || {};\n                this.debitMemo.location = this.offsetPurchase.location || {};\n                this.debitMemo.segment = this.offsetPurchase.segment || {};\n                this.debitMemo.project = this.offsetPurchase.project || {};\n\n                if (txnId) {\n                    this.offsetList = this.offsetPurchaseList.filter(\n                        (o) => o.id === txnId\n                    );\n                }\n                this.onApplyToLineChange()\n            }\n        },\n        priceTemplate(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty(\"cost\")) {\n                    return kendo.toString(dataItem.cost || 0, this.decimalFormat);\n                }\n            }\n            return 0;\n        },\n        Help(key_search) {\n            ShowResource(key_search);\n        },\n        methodTemplate(dataItem) {\n            const method = dataItem.paymentOption || {};\n            if (method) {\n                return `<span>${method.bankAccountName || ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        amountTemplate(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty(\"amount\")) {\n                    const amt = dataItem.amount;\n                    return kendo.toString(parseFloat(amt || 0), this.decimalFormat);\n                }\n            }\n            return 0;\n        },\n        paidAmountTemplate(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty(\"paidAmount\")) {\n                    const amt = dataItem.paidAmount;\n                    return kendo.toString(parseFloat(amt || 0), this.decimalFormat);\n                }\n            }\n            return 0;\n        },\n        methodDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=code# - #= name#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.paymentMethod,\n                    }),\n                });\n        },\n        numberFormat(value) {\n            return kendo.toString(value, `${this.decimalFormat}`);\n        },\n        onDepositLineDSChange(e) {\n            if (e.field) {\n                let dataRow = e.items[0];\n                switch (e.field) {\n                    case \"amount\":\n                        dataRow.set(\"exchangeAmount\", dataRow.amount);\n                        break;\n                    default:\n                        break;\n                }\n                this.autoCalculate();\n                this.autoCalculateApplyTo();\n                this.autoCalculateDeposit();\n                this.autoCalculateCashRefund();\n                this.calculateAmount();\n            }\n        },\n        onApplyToLineChange(e) {\n            try {\n                if (e) {\n                    if (e.field) {\n                        let dataRow = e.items[0],\n                            offset = 0,\n                            amount = 0;\n                        switch (e.field) {\n                            case \"paidAmount\":\n                                amount = parseFloat(dataRow.amount);\n                                offset = parseFloat(dataRow.paidAmount);\n                                if (offset > amount) {\n                                    dataRow.set(\"paidAmount\", amount);\n                                    dataRow.set(\"paidAmountTobase\", amount * dataRow.txnRate);\n                                } else {\n                                    dataRow.set(\n                                        \"paidAmountTobase\",\n                                        dataRow.paidAmount * dataRow.txnRate\n                                    );\n                                    dataRow.set(\n                                        \"paidAmountTxn\",\n                                        offset * parseFloat(dataRow.txnRate)\n                                    );\n                                }\n                                break;\n                            default:\n                                break;\n                        }\n                        // this.autoCalculate();\n                        // this.autoCalculateApplyTo();\n                        // this.autoCalculateDeposit();\n                        // this.autoCalculateCashRefund();\n                        // this.calculateAmount();\n                    }\n                }\n                this.autoCalculate();\n                this.autoCalculateApplyTo();\n                this.autoCalculateDeposit();\n                this.autoCalculateCashRefund();\n                this.calculateAmount();\n            } catch (e) {\n                window.console.log('e--', e)\n            }\n\n        },\n        onCashRefundChange(e) {\n            if (e.field) {\n                let dataRow = e.items[0], pOption = {}\n                switch (e.field) {\n                    case \"paymentOption\":\n                        pOption = dataRow.paymentOption || {}\n                        dataRow.set(\"account\", pOption.account || {});\n                        break;\n                    default:\n                        break;\n                }\n            }\n            if (e.field) {\n                this.autoCalculate();\n                this.autoCalculateApplyTo();\n                this.autoCalculateDeposit();\n                this.autoCalculateCashRefund();\n                this.calculateAmount();\n            }\n        },\n        nowTimes() {\n            const perfData = window.performance.timing;\n            const pageLoadTime = perfData.loadEventEnd - perfData.navigationStart;\n            window.console.log(pageLoadTime, \"--\");\n        },\n        onEmployeeChanged(event) {\n            const value = event.value;\n            if (value && value[textField] === emptyItem[textField]) {\n                return;\n            }\n            this.mEmployee = value;\n            this.debitMemo.employee = value;\n        },\n        afterFetch_(json) {\n            this.employees = json.data;\n        },\n        onEmployeeFilterChanged(event) {\n            const filter = event.filter.value;\n            this.requestData_(0, filter, this.empBaseUrl);\n            this.filter_ = filter;\n        },\n        autoCalculateDiscount(discountItem, subTotal) {\n            if (discountItem) {\n                const nature = discountItem.nature || ''\n                const amount = discountItem.amount || 0\n                if (nature === 'Amount') {\n                    return parseFloat(amount)\n                } else if (nature === 'Percentage') {\n                    return (subTotal * (parseFloat(amount) / 100))\n                } else {\n                    return 0\n                }\n            } else {\n                return 0\n            }\n        },\n        autoCalculateTax(tax, amount) {\n            if (tax) {\n                var formula = tax.formula;\n                var inAmt = kendo.parseFloat(amount);\n                var nAmt = kendo.parseFloat(amount);\n                var taxBase = kendo.parseFloat(tax.taxBase) / 100;\n                var rate = kendo.parseFloat(tax.rate) / 100;\n                var total = eval(formula);\n                window.console.log(inAmt, nAmt, taxBase, rate, formula, total);\n                return total;\n            }\n            // return 0\n        },\n        async loadTransactionRate() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const date = new Date(this.transactionDate)\n                        .toISOString()\n                        .substr(0, 10);\n                    const priceLevel = this.debitMemo.priceLevel;\n                    let code = \"\";\n                    this.offsetPurchases = [];\n                    this.offsetList = [];\n                    if (priceLevel) {\n                        if (priceLevel.hasOwnProperty(\"currency\")) {\n                            this.debitMemo.currency = priceLevel.currency;\n                            if (priceLevel.currency.hasOwnProperty(\"code\")) {\n                                code = priceLevel.currency.code;\n                            }\n                        }\n                        if (code !== undefined || code !== \"\") {\n                            this.showLoading = true;\n                            currencyHandler\n                                .getLastExchangeRateByDate(date, code)\n                                .then((res) => {\n                                    if (res.data.statusCode === 200) {\n                                        this.showLoading = false;\n                                        this.exchangeRate = res.data.data[0];\n                                        this.currencyCode = this.exchangeRate.code;\n                                        this.transactionRate = this.exchangeRate.rate;\n                                        this.debitMemo.txnRate = this.exchangeRate.rate;\n                                        this.transactionRateDate = this.exchangeRate.effectiveDate;\n                                        this.debitMemo.exchangeRate = this.exchangeRate;\n                                        this.showLoading = false;\n                                    }\n                                });\n                        }\n                        if (this.supplier) {\n                            this.searchPurchase();\n                        }\n                    } else {\n                        this.isLoading = 0\n                    }\n                }, 50);\n            });\n        },\n        async loadPaymentTerm() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    paymentTermHandler.getAll().then((res) => {\n                        this.showLoading = false;\n                        this.paymentTerms = res.data.data;\n                        if (this.paymentTerms.length > 0) {\n                            this.debitMemo.paymentTerm = this.paymentTerms[0];\n                        }\n                    });\n                }, 50);\n            });\n        },\n        errorMessage() {\n        },\n        async loadTax() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    settingHandler.get().then((res) => {\n                        const taxes = res;\n                        this.tax = taxes.filter(\n                            (m) =>\n                                (m.taxType.typeId === 1 ||\n                                    m.taxType.typeId === 10 ||\n                                    m.taxType.typeId === 2) &&\n                                m.transactionType === \"Purchase\"\n                        ); // valuable tax\n                    });\n                }, 50);\n            });\n        },\n        async loadLocation() {\n            this.locations = []\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const location = roleData.filter(itm => itm.type === 'location')\n                    const locationDefault = location.filter(m => m.isDefault === 1)\n                    this.locations = location\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        if (locationDefault.length > 0) {\n                            this.debitMemo.location = locationDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.locations = [];\n                        locationHandler\n                            .list()\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.locations = res.data.data;\n                                }\n                            })\n                    }, 10);\n                });\n            }\n        },\n        async loadProjectByCustomer() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    // projectHandler.getByCustomer(this.supplier.id).then(res => {\n                    projectHandler\n                        .list()\n                        .then((res) => {\n                            this.showLoading = true;\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.customerProjects = res.data.data;\n                                if (this.customerProjects.length > 0) {\n                                    this.debitMemo.project = this.customerProjects[0];\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 50);\n            });\n        },\n        async loadSegment() {\n            this.segments = []\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const segment = roleData.filter(itm => itm.type === 'segment')\n                    const segmentDefault = segment.filter(m => m.isDefault === 1)\n                    this.segments = segment\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        if (segmentDefault.length > 0) {\n                            this.debitMemo.segment = segmentDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.segments = [];\n                        settingsHandler\n                            .getSeg()\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.segments = res.data.data;\n                                }\n                            })\n                    }, 10);\n                });\n            }\n        },\n        async loadAccount() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    accountHandler.getAll().then((res) => {\n                        (async () => {\n                            this.accCash = res.data\n                                .filter((m) => m.account_type.number <= 5)\n                                .map((item) => {\n                                    return {\n                                        id: item.uuid,\n                                        uuid: item.uuid,\n                                        name: item.name,\n                                        local_name: item.local_name,\n                                        number: item.number,\n                                        is_taxable: item.is_taxable,\n                                        banhjiAccCode: item.banhjiAccCode,\n                                        group_code: item.group_code,\n                                        parent_account: item.parent_account,\n                                        type_code: item.type_code,\n                                        account_type: item.account_type,\n                                    };\n                                });\n\n                            this.accDeposits = res.data\n                                .filter(\n                                    (m) =>\n                                        m.account_type.number === 9 || m.account_type.number === 17\n                                )\n                                .map((item) => {\n                                    return {\n                                        id: item.uuid,\n                                        uuid: item.uuid,\n                                        name: item.name,\n                                        local_name: item.local_name,\n                                        number: item.number,\n                                        is_taxable: item.is_taxable,\n                                        banhjiAccCode: item.banhjiAccCode,\n                                        group_code: item.group_code,\n                                        parent_account: item.parent_account,\n                                        type_code: item.type_code,\n                                        account_type: item.account_type,\n                                    };\n                                });\n                            this.varianceAccs = res.data\n                                .filter(\n                                    (m) =>\n                                        m.account_type.number >= 33 && m.account_type.number <= 48\n                                )\n                                .map((item) => {\n                                    return {\n                                        id: item.uuid,\n                                        uuid: item.uuid,\n                                        name: item.name,\n                                        local_name: item.local_name,\n                                        number: item.number,\n                                        is_taxable: item.is_taxable,\n                                        banhjiAccCode: item.banhjiAccCode,\n                                        group_code: item.group_code,\n                                        parent_account: item.parent_account,\n                                        type_code: item.type_code,\n                                        account_type: item.account_type,\n                                    };\n                                });\n                            // this.accounts = await Promise.all(res.map(item => {\n                            //     return {\n                            //         id: item.uuid,\n                            //         name: item.name,\n                            //         number: item.number\n                            //     }\n                            // }));\n                        })();\n                    });\n                }, 50);\n            });\n        },\n        async loadPriceLevel() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = '?nature=purchase'\n                    priceLevelHandler.get(strFilter).then((res) => {\n                        this.priceLevel = res;\n                        if (this.priceLevel.length > 0) {\n                            this.debitMemo.priceLevel = this.priceLevel[0];\n                        }\n                    });\n                }, 50);\n            });\n        },\n        async loadDiscountItem() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    discountItemHandler.list(DISCOUNT_TYPE).then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.specificDiscountItem = res.data.data;\n                        }\n                    });\n                }, 50);\n            });\n        },\n        async loadPurchaseFormContent() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    purchaseFormContentHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            const data = res.data.data;\n                            if (data.length > 0) {\n                                this.purchaseFormContent = data[0];\n                                this.decimalFormat = \"n\" + this.purchaseFormContent.decimal;\n                                this.addRow();\n                                this.addRowDeposit();\n                                this.addRowCashRefund();\n                            }\n                        }\n                    });\n                }, 50);\n            });\n        },\n        async initData() {\n            if (this.$route.params.id !== undefined) {\n                await this.loadViewDebitMemo();\n            }\n            // else {\n            //     this.addRow()\n            //     this.addRowDeposit()\n            //     this.addRowCashRefund()\n            // }\n        },\n        taxMapping(objTax, tax) {\n            const taxId = tax.id || ''\n            const tax_ = objTax.filter(t => t.id === taxId)[0]\n            return tax_ || {\n                id: '',\n                defaultTax: ''\n            }\n        },\n        dataSourceChanged(e) {\n            if (e.field) {\n                let dataRow = e.items[0],\n                    buom = {}, vTax = {},\n                    conversionRate = 1,\n                    wac = 0,\n                    qoh = 0,\n                    amount = 0,\n                    xAmount = 0,\n                    cost = 0;\n                switch (e.field) {\n                    case \"item\":\n                        // this.attribute_ = this.attributes.filter(m => m.type.id === dataRow.variant.id)\n                        dataRow.set(\"description\", dataRow.item.description);\n                        buom = dataRow.item.uom || {};\n                        dataRow.set(\"buom\", buom);\n                        break;\n                    case \"cost\":\n                        try {\n                            amount = parseFloat(dataRow.cost) * parseFloat(dataRow.qty);\n                            xAmount = amount * parseFloat(this.debitMemo.txnRate);\n                            dataRow.set(\"cost\", parseFloat(dataRow.cost));\n                            dataRow.set(\"amount\", amount);\n                            dataRow.set(\"exchangeAmount\", xAmount);\n                            // window.console.log('price',dataRow.price)\n                        } catch {\n                            dataRow.set(\"cost\", 0);\n                            dataRow.set(\"amount\", 0);\n                            dataRow.set(\"exchangeAmount\", 0);\n                        }\n                        break;\n                    case \"uom\":\n                        if (this.isPriceLevelChanged === false) {\n                            try {\n                                buom = dataRow.uom.buom || {};\n                                buom = dataRow.uom.buom || {};\n                                qoh = dataRow.uom.qoh || 0;\n                                conversionRate = dataRow.uom.conversionRate || 1;\n                                wac = dataRow.uom.wac || 0;\n                                dataRow.set(\"buom\", buom);\n                                dataRow.set(\"wac\", wac);\n                                dataRow.set(\"qoh\", qoh);\n                                /* todo: mapping tax object */\n                                vTax = this.taxMapping(this.tax, dataRow.uom.purchaseTax || {})\n\n                                dataRow.set(\"vatTax\", vTax);\n                                dataRow.set(\"conversionRate\", parseFloat(conversionRate));\n\n                                // dataRow.set('price', parseFloat(dataRow.uom.price))\n                                // dataRow.set('amount', parseFloat(dataRow.uom.price) * parseFloat(dataRow.qty))\n                                if (dataRow.uom) {\n                                    // window.console.log(dataRow, 'dataRow')\n                                    amount = parseFloat(dataRow.uom.cost) * parseFloat(dataRow.qty);\n                                    xAmount = amount * parseFloat(this.debitMemo.txnRate);\n                                    cost = parseFloat(dataRow.uom.cost);\n\n                                    dataRow.set(\"cost\", cost);\n                                    dataRow.set(\"amount\", amount);\n                                    dataRow.set(\"exchangeAmount\", xAmount);\n                                } else {\n                                    window.console.log(dataRow, \"dataRow--\");\n                                    amount = parseFloat(dataRow.cost) * parseFloat(dataRow.qty);\n                                    xAmount = amount * parseFloat(this.debitMemo.txnRate);\n\n                                    dataRow.set(\"cost\", parseFloat(dataRow.cost));\n                                    dataRow.set(\"amount\", amount);\n                                    dataRow.set(\"exchangeAmount\", xAmount);\n                                }\n                            } catch {\n                                dataRow.set(\"buom\", {});\n                                dataRow.set(\"conversionRate\", 1);\n                                dataRow.set(\"cost\", 0);\n                                dataRow.set(\"amount\", 0);\n                                dataRow.set(\"qoh\", 0);\n                                dataRow.set(\"wac\", 0);\n                                dataRow.set(\"exchangeAmount\", 0);\n                            }\n                        }\n                        break;\n                    case \"qty\":\n                        try {\n                            amount = parseFloat(dataRow.cost) * parseFloat(dataRow.qty);\n                            xAmount = amount * parseFloat(this.debitMemo.txnRate);\n\n                            dataRow.set(\"cost\", parseFloat(dataRow.cost));\n                            dataRow.set(\"amount\", amount);\n                            dataRow.set(\"exchangeAmount\", xAmount);\n                        } catch {\n                            dataRow.set(\"cost\", 0);\n                            dataRow.set(\"amount\", 0);\n                            dataRow.set(\"exchangeAmount\", 0);\n                        }\n                        break;\n                    case \"otherTax\":\n                        // window.console.log(\"--\", dataRow)\n                        break;\n                    default:\n                        break;\n                }\n                if (e.field) {\n                    window.console.log(\"data row\", dataRow);\n                    this.autoCalculate();\n                    this.autoCalculateApplyTo();\n                    this.autoCalculateDeposit();\n                    this.autoCalculateCashRefund();\n                    this.calculateAmount();\n                }\n            }\n        },\n        autoCalculateTaxDetail() {\n            let ids = []\n            this.taxListDetail.forEach(n => {\n                ids.push(n.id || '')\n            })\n            const unique = [...new Set(ids)]\n            let result = []\n            unique.forEach(m => {\n                let amount = 0, row = {}, discount = 0, xDiscount = 0, xAmount = 0, taxAmount = 0, xTaxAmount = 0\n                let taxDetail = [], isVat = 0\n                const found = this.taxListDetail.filter(n => n.id === m)\n                // window.console.log('taxListDetailids', found)\n                found.forEach(k => {\n                    row = k\n                    if (k.isVat === 1) {\n                        isVat = 1\n                        const detail_ = k.detail || {}\n                        taxDetail.push(detail_)\n\n                    }\n                    taxAmount += k.taxAmount_ || 0\n                    xTaxAmount += (k.taxAmount_ || 0) * (k.txnRate || 1)\n                    amount += (k.amount || 0)\n                    xAmount += (k.amount || 0) * (k.txnRate || 1)\n                    discount += (k.discount || 0)\n                    xDiscount += (k.discount || 0) * (k.txnRate || 1)\n                })\n                let spTaxAmt = 0, spXTaxAmt = 0, plTaxAmt = 0, plXTaxAmt = 0, otTaxAmt = 0, otXTaxAmt = 0,\n                    spTaxName = '', plTaxName = '', otTaxName = '',\n                    spTaxNameLocale = '', plTaxNameLocale = '', otTaxNameLocale = '',\n                    spAccId = '', plAccId = '', otAccId = '',\n                    spRate = '', plRate = '', otRate = ''\n                taxDetail.forEach(n => {\n                    const spTax = n.specificTax || {}\n                    const plTax = n.publicLightingTax || {}\n                    const otherTax = n.otherTax || {}\n                    if (Object.keys(spTax).length > 0) {\n                        spTaxAmt += (spTax.taxAmount_ || 0)\n                        spXTaxAmt += ((spTax.taxAmount_ || 0) * (spTax.taxRate || 1))\n                        spTaxName = spTax.defaultTax || ''\n                        spTaxNameLocale = spTax.defaultTaxLocale || ''\n                        spAccId = spTax.account ? spTax.account.id : ''\n                        spRate = spTax.rate || 1\n                    }\n                    if (Object.keys(plTax).length > 0) {\n                        plTaxAmt += (plTax.taxAmount_ || 0)\n                        plXTaxAmt += ((plTax.taxAmount_ || 0) * (plTax.taxRate || 1))\n                        plTaxName = plTax.defaultTax || ''\n                        plTaxNameLocale = plTax.defaultTaxLocale || ''\n                        plAccId = plTax.account ? plTax.account.id : ''\n                        plRate = plTax.rate || 1\n                    }\n                    if (Object.keys(otherTax).length > 0) {\n                        otTaxAmt += (otherTax.taxAmount_ || 0)\n                        otXTaxAmt += ((otherTax.taxAmount_ || 0) * (plTax.taxRate || 1))\n                        otTaxName = otherTax.defaultTax || ''\n                        otTaxNameLocale = otherTax.defaultTaxLocale || ''\n                        otAccId = otherTax.account ? otherTax.account.id : ''\n                        otRate = otherTax.rate || 1\n                    }\n                })\n                if (isVat === 1) {\n                    row.detail = {\n                        specificTax: {\n                            name: spTaxName,\n                            nameLocale: spTaxNameLocale,\n                            amount: spTaxAmt,\n                            exchangeAmount: spXTaxAmt,\n                            accountId: spAccId,\n                            rate: spRate,\n                        },\n                        publicLightingTax: {\n                            name: plTaxName,\n                            nameLocale: plTaxNameLocale,\n                            amount: plTaxAmt,\n                            exchangeAmount: plXTaxAmt,\n                            accountId: plAccId,\n                            rate: plRate,\n                        },\n                        otherTax: {\n                            name: otTaxName,\n                            nameLocale: otTaxNameLocale,\n                            amount: otTaxAmt,\n                            exchangeAmount: otXTaxAmt,\n                            accountId: otAccId,\n                            rate: otRate,\n                        }\n                    }\n                } else {\n                    row.detail = {}\n                }\n\n                row['amount'] = amount\n                row['exchangeAmount'] = xAmount\n                row['taxAmount'] = taxAmount\n                row['exchangeTaxAmount'] = xTaxAmount\n                row['discount'] = discount\n                row['exchangeDiscount'] = xDiscount\n                row['currency'] = this.debitMemo.exchangeRate || {}\n                result.push(row)\n                taxDetail = []\n            })\n            this.debitMemo.saleTaxDetail = result\n            window.console.log('debitMemo.saleTaxDetail', result)\n        },\n        autoCalculate() {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                subTotal = 0,\n                totalTax = 0,\n                discountTotal = 0,\n                spTax = 0,\n                pltax = 0,\n                otherTax = 0,\n                vatTax = 0,\n                taxList = [],\n                discountItem = [],\n                taxListDetail = [],\n                inclusiveTax = 0,\n                withholdingTaxAmount = 0,\n                whTaxAmount = 0,\n                itemSubtotal = 0,\n                txnItmSubtotal = 0,\n                serviceSubtotal = 0,\n                itemDiscount = 0,\n                serviceDiscount = 0,\n                txnDiscount = 0;\n            let nature = \"\",\n                currency = this.debitMemo.currency,\n                currencyCode = this.debitMemo.currency\n                    ? this.debitMemo.currency.code\n                    : \"\",\n                taxTypeId = 0; //, withholdingTaxAmount = 0\n            this.jRaw1 = [];\n            ds.data().forEach((value) => {\n                let modifierPrice = 0, incTax = 0;\n                if (value.modifier) {\n                    modifierPrice = kendo.parseFloat(value.modifier.price);\n                }\n\n                // subTotal += (kendo.parseFloat(value.amount) + modifierPrice)\n                let discount = 0;\n                if (value.discountItem) {\n                    const disItemField = value.discountItem;\n                    let subTo =\n                        kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    discount = this.autoCalculateDiscount(value.discountItem, subTo);\n                    value[\"discountAmount\"] = discount;\n                    value[\"discountExchangeAmount\"] =\n                        discount * kendo.parseFloat(this.debitMemo.txnRate);\n                    if (value.discountItem.hasOwnProperty(\"id\")) {\n                        discountItem.push(value.discountItem);\n                    }\n                    discountTotal += discount ? discount : 0;\n                    if (discount > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    if (disItemField.account) {\n                        if (disItemField.account.hasOwnProperty(\"id\")) {\n                            this.jRaw1.push({\n                                id: disItemField.account.id + \"-\" + nature,\n                                line: new ItemLineModel(value),\n                                currencyCode: currencyCode,\n                                currency: currency,\n                                memoRate: kendo.parseFloat(this.debitMemo.txnRate),\n                                lastXRate: this.debitMemo.exchangeRate,\n                                description: \"Discount\",\n                                account: disItemField.account,\n                                accountId: disItemField.account.id,\n                                amount: discount,\n                                exchangeAmount:\n                                    discount * kendo.parseFloat(this.debitMemo.txnRate),\n                                type: nature,\n                                typeAs: \"discount\",\n                            });\n                        }\n                    }\n                }\n                if (value.vatTax) {\n                    // window.console.log('Vat Tax', value.vatTax)\n                    let amt =\n                        kendo.parseFloat(spTax ? spTax : 0) +\n                        kendo.parseFloat(pltax ? pltax : 0) +\n                        kendo.parseFloat(otherTax ? otherTax : 0) +\n                        (kendo.parseFloat(value.amount ? value.amount : 0) -\n                            (discount ? discount : 0));\n                    vatTax = this.autoCalculateTax(value.vatTax, amt);\n                    vatTax = kendo.parseFloat(vatTax) ? kendo.parseFloat(vatTax) : 0;\n                    value[\"vatTaxAmount\"] = vatTax;\n                    value[\"vatTaxExchangeAmount\"] =\n                        vatTax * kendo.parseFloat(this.debitMemo.txnRate);\n                    const tax = value.vatTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += spTax;\n                            incTax = spTax;\n                        }\n                    }\n                    if (value.vatTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.vatTax.taxType.name,\n                            amount: vatTax,\n                            id: value.vatTax.taxType.id,\n                        });\n                        const vatTax_ = value.vatTax || {}\n                        vatTax_['taxAmount_'] = vatTax\n                        vatTax_['amount'] = value.amount || 0\n                        vatTax_['discount'] = discount || 0\n                        vatTax_['txnRate'] = this.debitMemo.txnRate || 1\n                        vatTax_['isVat'] = 1\n                        vatTax_.detail = {\n                            specificTax: {},\n                            publicLightingTax: {},\n                            otherTax: {},\n                        }\n                        taxListDetail.push(vatTax_);\n                    }\n                    if (value.vatTax.hasOwnProperty(\"taxType\")) {\n                        const taxType = value.vatTax.taxType || {};\n                        taxTypeId = taxType.typeId || 0;\n                    }\n                    let taxAmount = vatTax;\n                    let taxDescription = \"\";\n                    if (taxTypeId === 1) {\n                        nature = \"cr\";\n                        taxAmount = vatTax * -1;\n                        taxDescription = \"Purchase Tax\";\n                    } else if (taxTypeId === 2) {\n                        withholdingTaxAmount += vatTax\n                        whTaxAmount = vatTax\n                        nature = \"dr\";\n                        taxAmount = vatTax;\n                        taxDescription = \"Withholding Tax\";\n                    } else if (taxTypeId === 10) {\n                        nature = \"cr\";\n                        taxAmount = 0;\n                        taxDescription = \"No Tax\";\n                    }\n                    if (taxAmount > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    const vatTaxField = value.tax;\n                    if (taxAmount !== 0) {\n                        if (vatTaxField) {\n                            if (vatTaxField.account) {\n                                if (vatTaxField.account.hasOwnProperty(\"id\")) {\n                                    this.jRaw1.push({\n                                        id: vatTaxField.account.id + \"-\" + nature,\n                                        line: new ItemLineModel(value),\n                                        memoRate: kendo.parseFloat(this.debitMemo.txnRate),\n                                        lastXRate: this.debitMemo.exchangeRate,\n                                        currencyCode: currencyCode,\n                                        currency: currency,\n                                        description: taxDescription,\n                                        account: vatTaxField.account,\n                                        accountId: vatTaxField.account.id,\n                                        amount: taxAmount,\n                                        exchangeAmount:\n                                            taxAmount * kendo.parseFloat(this.debitMemo.txnRate),\n                                        type: nature,\n                                        typeAs: \"tax\",\n                                    });\n                                }\n                            }\n                        }\n                    }\n                }\n                totalTax +=\n                    kendo.parseFloat(spTax ? spTax : 0) +\n                    kendo.parseFloat(pltax ? pltax : 0) +\n                    kendo.parseFloat(otherTax ? otherTax : 0) +\n                    kendo.parseFloat(vatTax ? vatTax : 0);\n                subTotal +=\n                    kendo.parseFloat(value.amount) + modifierPrice - incTax;\n                const amt =\n                    kendo.parseFloat(value.amount) + modifierPrice - incTax;\n                const itemAmount = (amt + whTaxAmount) * -1;\n                const itemXAmount = itemAmount * kendo.parseFloat(this.debitMemo.txnRate);\n\n                const item = value.item;\n                const itmType = item.type || \"\";\n                if (itmType === \"Variant\") {\n                    itemSubtotal += kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    itemDiscount += kendo.parseFloat(discount);\n                } else if (itmType === \"Service\") {\n                    serviceSubtotal += kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    itemDiscount += kendo.parseFloat(discount);\n                } else {\n                    txnItmSubtotal += kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    itemDiscount += kendo.parseFloat(discount);\n                }\n                if (itemAmount > 0) {\n                    nature = \"dr\";\n                } else {\n                    nature = \"cr\";\n                }\n                if (item) {\n                    if (item.type === \"Service\") {\n                        if (item.hasOwnProperty(\"costOfGoodsSoldAcc\")) {\n                            if (item.costOfGoodsSoldAcc.hasOwnProperty(\"id\")) {\n                                let costOfGoodsSoldAcc = item.costOfGoodsSoldAcc;\n                                this.jRaw1.push({\n                                    id: costOfGoodsSoldAcc.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    memoRate: kendo.parseFloat(this.debitMemo.txnRate),\n                                    lastXRate: this.debitMemo.exchangeRate,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    description: this.debitMemo.journalNote,\n                                    account: item.costOfGoodsSoldAcc,\n                                    accountId: item.costOfGoodsSoldAcc.id,\n                                    amount: itemAmount, // qty*avg_cost ,\n                                    exchangeAmount: itemXAmount, //xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                        if (item.hasOwnProperty(\"deferredIncomeAcc\")) {\n                            if (item.deferredIncomeAcc.hasOwnProperty(\"id\")) {\n                                let deferredInAcc = item.deferredIncomeAcc;\n                                this.jRaw1.push({\n                                    id: deferredInAcc.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    memoRate: kendo.parseFloat(this.debitMemo.txnRate),\n                                    lastXRate: this.debitMemo.exchangeRate,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    description: this.debitMemo.journalNote,\n                                    account: deferredInAcc,\n                                    accountId: deferredInAcc.id,\n                                    amount: itemAmount, // qty*avg_cost ,\n                                    exchangeAmount: itemXAmount, //,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                    } else if (item.type === \"Variant\") {\n                        if (item.hasOwnProperty(\"inventoryAcc\")) {\n                            if (item.inventoryAcc.hasOwnProperty(\"id\")) {\n                                let inventoryAcc = item.inventoryAcc;\n                                this.jRaw1.push({\n                                    id: inventoryAcc.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    memoRate: kendo.parseFloat(this.debitMemo.txnRate),\n                                    lastXRate: this.debitMemo.exchangeRate,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    description: this.debitMemo.journalNote,\n                                    account: item.inventoryAcc,\n                                    accountId: item.inventoryAcc.id,\n                                    amount: itemAmount, // qty*avg_cost ,\n                                    exchangeAmount: itemXAmount, //xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                    } else if (item.type === \"Fixed Asset\") {\n                        if (item.hasOwnProperty(\"assetAcc\")) {\n                            if (item.assetAcc.hasOwnProperty(\"id\")) {\n                                let assetAcc = item.assetAcc;\n                                this.jRaw1.push({\n                                    id: assetAcc.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    memoRate: kendo.parseFloat(this.debitMemo.txnRate),\n                                    lastXRate: this.debitMemo.exchangeRate,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    description: this.debitMemo.journalNote,\n                                    account: item.assetAcc,\n                                    accountId: item.assetAcc.id,\n                                    amount: itemAmount, // qty*avg_cost ,\n                                    exchangeAmount: itemXAmount, //xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                    } else if (item.type === \"Transaction Item\") {\n                        if (item.hasOwnProperty(\"account\")) {\n                            if (item.account.hasOwnProperty(\"id\")) {\n                                this.jRaw1.push({\n                                    id: item.account.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    memoRate: kendo.parseFloat(this.debitMemo.txnRate),\n                                    lastXRate: this.debitMemo.exchangeRate,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    description: this.debitMemo.journalNote,\n                                    account: item.account,\n                                    accountId: item.account.id,\n                                    amount: itemAmount, // qty*avg_cost ,\n                                    exchangeAmount: itemXAmount, //xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                    }\n                }\n                //include Tax Amount\n                const amountNodiscount =\n                    kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty) -\n                    discount;\n                const includeTaxAmount =\n                    amountNodiscount + vatTax + pltax + spTax + otherTax;\n                value[\"includeTaxAmount\"] = includeTaxAmount;\n                value[\"includeTaxExchangeAmount\"] =\n                    includeTaxAmount * kendo.parseFloat(this.debitMemo.txnRate);\n            });\n            this.debitMemo.itemSubtotal = itemSubtotal;\n            this.debitMemo.exchangeItemSubtotal =\n                itemSubtotal * kendo.parseFloat(this.debitMemo.txnRate);\n            this.debitMemo.serviceSubtotal = serviceSubtotal;\n            this.debitMemo.exchangeServiceSubtotal =\n                serviceSubtotal * kendo.parseFloat(this.debitMemo.txnRate);\n            this.debitMemo.txnItmSubtotal = txnItmSubtotal;\n            this.debitMemo.exchangeTxnItmSubtotal =\n                txnItmSubtotal * kendo.parseFloat(this.debitMemo.txnRate);\n            this.debitMemo.itemDiscount = itemDiscount;\n            this.debitMemo.exchangeItemDiscount =\n                itemDiscount * kendo.parseFloat(this.debitMemo.txnRate);\n            this.debitMemo.serviceDiscount = serviceDiscount;\n            this.debitMemo.exchangeServiceDiscount =\n                serviceDiscount * kendo.parseFloat(this.debitMemo.txnRate);\n            this.debitMemo.txnItmDiscount = txnDiscount;\n            this.debitMemo.exchangeTxnItmDiscount =\n                txnDiscount * kendo.parseFloat(this.debitMemo.txnRate);\n\n            let total =\n                kendo.parseFloat(subTotal) -\n                kendo.parseFloat(discountTotal) +\n                kendo.parseFloat(totalTax);\n            this.debitMemo.withholdingTaxAmount = withholdingTaxAmount\n            this.debitMemo.inclusiveTaxAmount = inclusiveTax;\n            this.debitMemo.itemLineSubTotal = subTotal;\n            this.debitMemo.itemLineTaxAmount = kendo.parseFloat(totalTax);\n            this.debitMemo.itemLineDiscountAmount = kendo.parseFloat(discountTotal);\n            this.debitMemo.itemLineAmount = kendo.parseFloat(total) - parseFloat(withholdingTaxAmount);\n            // this.autoCalculateTaxByType(taxList)\n            // const uniqueDiscount = this.removeDuplicate(discountItem);\n            this.shrinkDiscountItem(discountItem)\n            this.debitMemo.itemLineExchangeAmount = kendo.parseFloat(this.debitMemo.itemLineAmount) * kendo.parseFloat(this.debitMemo.txnRate);\n\n            // this.debitMemo.amount = kendo.parseFloat(this.debitMemo.itemLineAmount)\n            // this.debitMemo.variance = kendo.parseFloat(this.debitMemo.itemLineAmount)\n            // this.calculateAmount()\n        },\n        shrinkDiscountItem(discountItem) {\n            let uniqueDiscountItems = [];\n            const unique = this.removeDuplicate(discountItem);\n            unique.forEach((m) => {\n                const found = discountItem.filter((n) => n.id === m.id);\n                let amount = 0,\n                    exchangeAmount = 0;\n                found.map((o) => {\n                    amount += o.amount || 0;\n                });\n                found.map((o) => {\n                    exchangeAmount += o.exchangeAmount || 0;\n                });\n                uniqueDiscountItems.push({\n                    id: m.id,\n                    name: m.name,\n                    amount: amount,\n                    exchangeAmount: exchangeAmount,\n                });\n            });\n            this.supplierDiscountItem = uniqueDiscountItems;\n            this.debitMemo.supplierDiscountItem = uniqueDiscountItems;\n            window.console.log(uniqueDiscountItems, \"uniqueDiscountItems\");\n        },\n        autoCalculateApplyTo() {\n            let ds = this.$refs.applyToLineDS.kendoWidget(),\n                convertedAmount = 0,\n                amount = 0;\n            this.jRaw5 = [];\n            let txnRate = 1,\n                currency = this.debitMemo.currency,\n                currencyCode = this.debitMemo.currency\n                    ? this.debitMemo.currency.code\n                    : \"\";\n            ds.data().forEach((value) => {\n                const offsetAmount = kendo.parseFloat(\n                    value.paidAmount ? value.paidAmount : 0\n                );\n                if (offsetAmount > 0) {\n                    amount += kendo.parseFloat(value.paidAmount);\n                    convertedAmount +=\n                        kendo.parseFloat(value.paidAmount) *\n                        kendo.parseFloat(value.txnRate);\n                    txnRate = kendo.parseFloat(value.txnRate);\n                }\n            });\n            this.debitMemo.applyToExchangeAmount = convertedAmount;\n            this.debitMemo.applyToAmount = amount;\n            // this.calculateAmount()\n            //todo: AP\n            const apAcc = this.supplier.apAcc || {};\n            let nature = \"\";\n            if (this.debitMemo.applyToAmount > 0) {\n                nature = \"dr\";\n            } else {\n                nature = \"cr\";\n            }\n            if (apAcc) {\n                if (apAcc.hasOwnProperty(\"id\")) {\n                    if (this.debitMemo.applyToAmount !== 0) {\n                        this.jRaw5.push({\n                            id: apAcc.id + \"-\" + nature,\n                            line: new ItemLineModel({}),\n                            memoRate: txnRate,\n                            lastXRate: this.debitMemo.exchangeRate,\n                            currencyCode: currencyCode,\n                            currency: currency,\n                            description: this.debitMemo.transactionNote,\n                            account: apAcc,\n                            accountId: apAcc.id,\n                            exchangeAmount: this.debitMemo.applyToExchangeAmount,\n                            amount: this.debitMemo.applyToAmount,\n                            type: nature,\n                            typeAs: \"AP\",\n                        });\n                    }\n                }\n            }\n        },\n        calculateAmount() {\n            let offsetAmount = 0,\n                offsetXAmount = 0; // applyto_amount + deposit + cash refund\n\n            const applyToExchangeAmount = kendo.parseFloat(\n                this.debitMemo.applyToExchangeAmount\n            );\n            const exchangeDepositDeduction = kendo.parseFloat(\n                this.debitMemo.exchangeDepositDeduction\n            );\n            const exchangeRefundAmount = kendo.parseFloat(\n                this.debitMemo.exchangeRefundAmount\n            );\n\n            const applyToAmount = kendo.parseFloat(this.debitMemo.applyToAmount);\n            const depositAmount = kendo.parseFloat(this.debitMemo.depositAmount);\n            const refundAmount = kendo.parseFloat(this.debitMemo.refundAmount);\n\n            const itemLineExchange = kendo.parseFloat(this.debitMemo.itemLineExchangeAmount);\n            const itemLineAmount = kendo.parseFloat(this.debitMemo.itemLineAmount)\n\n            offsetXAmount = kendo.parseFloat(applyToExchangeAmount + exchangeDepositDeduction + exchangeRefundAmount);\n            offsetAmount = kendo.parseFloat(applyToAmount + depositAmount + refundAmount);\n\n            this.debitMemo.amount = offsetAmount;\n            this.debitMemo.exchangeAmount = offsetXAmount;\n            this.debitMemo.variance = itemLineAmount - offsetAmount;\n            this.debitMemo.exchangeVariance = itemLineExchange - offsetXAmount;\n            window.console.log(\"variance\", this.debitMemo.variance);\n            // if (offsetAmount > itemLineAmount) {\n            //   this.showWaringMessage('Debit Memo', 'Return amount and Offset amount must be equal!', 'OK')\n            //   // return\n            // }\n            window.console.log(offsetAmount, \"offsetAmount\");\n            this.jRaw4 = [];\n            let currency = this.debitMemo.currency,\n                currencyCode = this.debitMemo.currency\n                    ? this.debitMemo.currency.code\n                    : \"\";\n            // window.console.log(offsetAmount, 'offsetAmount')\n            if (this.debitMemo.variance !== 0) {\n                this.jRaw4 = [];\n                let nature = \"\";\n                if (this.debitMemo.varianceAcc) {\n                    if (this.debitMemo.variance > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    const varianceAcc = this.debitMemo.varianceAcc;\n                    if (varianceAcc.hasOwnProperty(\"id\")) {\n                        this.jRaw4.push({\n                            id: varianceAcc.id + \"-\" + nature,\n                            line: new ItemLineModel({}),\n                            memoRate: this.debitMemo.txnRate,\n                            lastXRate: this.debitMemo.exchangeRate,\n                            currencyCode: currencyCode,\n                            currency: currency,\n                            description: \"Variance\",\n                            account: varianceAcc,\n                            accountId: varianceAcc.id,\n                            amount: this.debitMemo.variance,\n                            exchangeAmount: this.debitMemo.exchangeVariance,\n                            type: nature,\n                            typeAs: \"GainLoss\",\n                        });\n                    }\n                }\n            }\n            this.shrinkData();\n            return offsetAmount;\n        },\n        onVarianceAccChanged() {\n            this.autoCalculate();\n            this.autoCalculateApplyTo();\n            this.autoCalculateDeposit();\n            this.autoCalculateCashRefund();\n            this.calculateAmount();\n        },\n        shrinkData() {\n            this.jRaw = [];\n            const obj = this.jRaw.concat(\n                this.jRaw1,\n                this.jRaw2,\n                this.jRaw3,\n                this.jRaw4,\n                this.jRaw5\n            );\n            const uniques = this.removeDuplicate(\n                obj\n            ); /*[...new Set(accountId.map(i => {\n                return {\n                    id_: i.id_,\n                    id: i.id,\n                    type: i.type\n                }\n            }))]*/\n\n            uniques.forEach((n) => {\n                const found = obj.filter((m) => m.id === n.id);\n                let amount = 0,\n                    exchangeAmount = 0;\n                found.forEach((z) => {\n                    amount += parseFloat(z.amount || 0);\n                    exchangeAmount += parseFloat(z.exchangeAmount || 0);\n                });\n                n.exchangeAmount = parseFloat(exchangeAmount); //this.numberFormat(amount)\n                n.amount = parseFloat(amount);\n            });\n            this.jRaw = uniques;\n            let dr = 0,\n                cr = 0;\n            this.jRaw.forEach((j) => {\n                switch (j.type) {\n                    case \"cr\":\n                        cr += parseFloat(j.amount);\n                        break;\n                    case \"dr\":\n                        dr += parseFloat(j.amount);\n                        break;\n                    default:\n                        break;\n                }\n            });\n            this.dr = dr;\n            this.cr = cr;\n            window.console.log(\"dr=\", dr, \"cr=\", cr, \"dr+cr = \", dr + cr);\n            window.console.log(JSON.stringify(this.jRaw), \"uniques\", this.debitMemo);\n        },\n        autoCalculateDeposit() {\n            let ds = this.$refs.depositLineDS.kendoWidget(),\n                amount = 0,\n                convertedAmount = 0;\n            let nature = \"\";\n            this.jRaw2 = [];\n            let currency = this.debitMemo.currency,\n                currencyCode = this.debitMemo.currency\n                    ? this.debitMemo.currency.code\n                    : \"\";\n            ds.data().forEach((value) => {\n                let description = \"\";\n                if (value.amount) {\n                    amount += kendo.parseFloat(value.amount);\n                    convertedAmount +=\n                        kendo.parseFloat(value.amount) *\n                        kendo.parseFloat(this.debitMemo.txnRate);\n                }\n                if (value.description) {\n                    description = value.description || \"\";\n                }\n                window.console.log(value.account, \"value.deposit\", amount);\n                if (value.account) {\n                    const account = value.account;\n                    if (account) {\n                        if (account.hasOwnProperty(\"id\")) {\n                            if (amount > 0) {\n                                nature = \"dr\";\n                            } else {\n                                nature = \"cr\";\n                            }\n                            this.jRaw2.push({\n                                id: account.id + \"-\" + nature,\n                                description: \"Deposit \" + description,\n                                line: new ItemLineModel({}),\n                                memoRate: this.debitMemo.txnRate,\n                                lastXRate: this.debitMemo.exchangeRate,\n                                currencyCode: currencyCode,\n                                currency: currency,\n                                account: account,\n                                accountId: account.id,\n                                amount: amount,\n                                exchangeAmount:\n                                    amount * kendo.parseFloat(this.debitMemo.txnRate),\n                                type: nature,\n                                typeAs: \"deposit\",\n                            });\n                        }\n                    }\n                }\n            });\n            this.debitMemo.depositAmount = amount;\n            this.debitMemo.exchangeDepositDeduction = convertedAmount;\n            // this.calculateAmount()\n        },\n        autoCalculateCashRefund() {\n            let ds = this.$refs.cashRefundDS.kendoWidget(),\n                amount = 0,\n                exchangeAmount = 0;\n            let nature = \"\";\n            this.jRaw3 = [];\n            let currency = this.debitMemo.currency,\n                currencyCode = this.debitMemo.currency\n                    ? this.debitMemo.currency.code\n                    : \"\";\n            ds.data().forEach((value) => {\n                let description = \"\";\n                if (value.amount) {\n                    amount += kendo.parseFloat(value.amount);\n                    exchangeAmount +=\n                        kendo.parseFloat(value.amount) *\n                        kendo.parseFloat(this.debitMemo.txnRate);\n                }\n                if (value.description) {\n                    description = value.description || \"\";\n                }\n                //todo: Cash Account\n                if (value.account) {\n                    const account = value.account;\n                    if (account) {\n                        if (account.hasOwnProperty(\"id\")) {\n                            if (amount > 0) {\n                                nature = \"dr\";\n                            } else {\n                                nature = \"cr\";\n                            }\n                            this.jRaw3.push({\n                                id: account.id + \"-\" + nature,\n                                description: \"Deposit \" + description,\n                                line: new ItemLineModel({}),\n                                memoRate: this.debitMemo.txnRate,\n                                lastXRate: this.debitMemo.exchangeRate,\n                                currencyCode: currencyCode,\n                                currency: currency,\n                                account: account,\n                                accountId: account.id,\n                                exchangeAmount:\n                                    kendo.parseFloat(this.debitMemo.txnRate) * amount,\n                                amount: amount,\n                                type: nature,\n                                typeAs: \"CashAccount\",\n                            });\n                        }\n                    }\n                }\n            });\n            this.debitMemo.refundAmount = amount;\n            this.debitMemo.exchangeRefundAmount = exchangeAmount;\n            // this.calculateAmount()\n        },\n        removeDuplicate(array) {\n            const result = [];\n            const map = new Map();\n            for (const item of array) {\n                if (!map.has(item.id)) {\n                    map.set(item.id, true); // set any value to Map\n                    result.push(item);\n                }\n            }\n            return result;\n        },\n        autoCalculateTaxByType(tax) {\n            // return by a key\n            const groupAll = (list) =>\n                list.reduce((tax, item) => {\n                    const taxAmount = tax[item.name] || 0;\n                    return Object.assign({}, tax, {\n                        [item.name]: taxAmount + parseFloat(item.amount),\n                    });\n                }, {});\n            this.taxListTotal = groupAll(tax);\n        },\n        async loadEmployeeCenter() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.employees = [];\n                    employeeHandler\n                        .center(undefined)\n                        .then((res) => {\n                            this.showLoading = true;\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.employees = res.data.data;\n                                if (this.employees.length > 0) {\n                                    this.debitMemo.employee = this.employees[0];\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 50);\n            });\n        },\n        async loadPrefix() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    prefixHandler.get(\"purchase return\").then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.transactionType = res.data.data;\n                            if (this.transactionType.length > 0) {\n                                this.debitMemo.transactionType = this.transactionType[0];\n                                if (this.$route.params.id === undefined) {\n                                    this.generateNumber();\n                                }\n                            }\n                        }\n                    });\n                }, 50);\n            });\n        },\n        async loadSaleUnitItems() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    saleUnitItemHandler.list().then((res) => {\n                        if (res.data.statusCode === 200)\n                            this.saleUnitItemList = res.data.data;\n                    });\n                }, 50);\n            });\n        },\n        onFilterChange(event) {\n            const filter = event.filter.value;\n            this.requestData(0, filter, this.supBaseUrl);\n            this.filter = filter;\n        },\n        requestData(skip, filter, baseUrl) {\n            const url = baseUrl + `?filter=${filter}`;\n            fetch(url)\n                .then((response) => {\n                    return response.json();\n                })\n                .then(this.afterFetch);\n        },\n        afterFetch(json) {\n            this.supplierList = json.data;\n        },\n        onChange(event) {\n            const value = event.value;\n            if (value && value[\"numberName\"] === emptyItem[\"numberName\"]) {\n                return;\n            }\n            if (value) {\n                this.supplier = value;\n                const depositAcc = value.hasOwnProperty(\"purchaseDepositAcc\")\n                    ? value.purchaseDepositAcc\n                    : {};\n                this.debitMemo.supplier = value;\n                this.debitMemo.priceLevel = value.hasOwnProperty(\"priceLevel\")\n                    ? value.priceLevel\n                    : {};\n                this.decimalFormat = value.decimalFormat;\n                this.baseCurrencyCode = \"\";\n                if (value.baseCurrency) {\n                    this.baseCurrencyCode = value.baseCurrency.hasOwnProperty(\"code\")\n                        ? value.baseCurrency.code\n                        : \"\";\n                }\n\n                this.accDeposit = this.accDeposits.filter(\n                    (o) => o.id === depositAcc.id\n                );\n                this.loadTransactionRate();\n                // this.loadProjectByCustomer()\n                this.searchPurchase();\n                window.console.log(\n                    \"this.debitMemo.priceLevel\",\n                    this.debitMemo.priceLevel\n                );\n            }\n        },\n        hideSmallSidebar() {\n            this.isHideBar = !this.isHideBar;\n        },\n        generateNumber() {\n            if (this.$route.params.id) {\n                const tranDate = new Date(this.transactionDate);\n                const tranDateInvoice = new Date(this.debitMemo.transactionDate);\n                const tranDateM = tranDate.getFullYear() + tranDate.getMonth();\n                const tranDateInvoiceM =\n                    tranDateInvoice.getFullYear() + tranDateInvoice.getMonth();\n                if (tranDateM === tranDateInvoiceM) {\n                    this.debitMemo.referenceNo = this.referenceNo;\n                    return;\n                }\n            }\n\n            if (this.transactionDate !== \"\" && this.transactionType.length > 0) {\n                let data = {\n                    abbr: this.debitMemo.transactionType.abbr,\n                    structure: this.debitMemo.transactionType.structure,\n                    transactionDate: this.transactionDate,\n                    sequcencing: this.debitMemo.transactionType.sequcencing,\n                    type: TRANSACTION_TYPE,\n                    entity: 1,\n                };\n                billingHandler\n                    .lastNumber(data)\n                    .then((response) => {\n                        if (response.data.statusCode === 200) {\n                            const res = response.data.data;\n                            const lastNumber = this.zeroPad(\n                                parseInt(res.lastNumber),\n                                this.debitMemo.transactionType.format\n                            );\n                            const number =\n                                res.suffix +\n                                this.debitMemo.transactionType.numberSeparator +\n                                lastNumber;\n                            this.debitMemo.number = number;\n                        }\n                    })\n                    .catch((e) => {\n                        this.errors.push(e);\n                    });\n            }\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, \"0\");\n        },\n        suffix(transactionDate) {\n            return kendo.toString(new Date(transactionDate), `yymm`);\n        },\n        cancel() {\n            this.clear()\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((resultCen) => {\n                if (resultCen.value) {\n                    this.$router.go(-1);\n                }\n            });\n        },\n        removeRow(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#gridItemLine\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n                this.autoCalculate();\n            }\n        },\n        removeRowAcc(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#gridAccountLine\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n            }\n        },\n        vatTemplate(dataItem) {\n            const vat = dataItem.vatTax;\n            if (vat) {\n                return `<span>${vat.defaultTax ? vat.defaultTax : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        accountTemplate(dataItem) {\n            const account = dataItem.account;\n            if (account) {\n                return `<span>${account.name ? account.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        itemTemplate(dataItem) {\n            const item = dataItem.item;\n            if (item) {\n                return `<span>${item.name ? item.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        UOMTemplate(dataItem) {\n            const uom = dataItem.uom;\n            const code = uom.code || ''\n            if (uom) {\n                return `<span>${uom.uom ? code : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        saleUnitTemplate(dataItem) {\n            const saleUnit = dataItem.saleUnit;\n            if (saleUnit) {\n                return `<span>${saleUnit.name ? saleUnit.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        empImpl(dataItem) {\n            let empIds = [];\n            dataItem.employee.forEach((m) => {\n                empIds.push(m.firstName + \" - \" + m.lastName);\n            });\n            // window.console.log(empIds.join(', '))\n            return `<span>${empIds.join(\", \")}</span>`;\n        },\n        discountItemTemplate(dataItem) {\n            const discountItem = dataItem.discountItem;\n            if (discountItem) {\n                return `<span>${discountItem.code ? discountItem.code : ``} - ${\n                    discountItem.name ? discountItem.name : ``\n                }</span>`;\n            } else {\n                return ``;\n            }\n        },\n        ServiceDateEditor(container, options) {\n            kendo\n                .jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDatePicker();\n\n            // let ds = this.$refs.itemLineDS.kendoWidget()\n            // window.console.log(ds.data())\n            // // const dateString = kendo.toString((new Date(options.model.items.serviceDate)), this.itemLine.dateFormat)\n            // // const dateString = kendo.toString(options.model.items.serviceDate)\n            // const $input = $(\"<input value=\" + options.model.serviceDate + \" />\").appendTo(container)\n            // $input.kendoDatePicker()\n            // // $input.appendTo(container)\n            // // options.model.items.serviceDate = dateString\n            // window.console.log($input)\n        },\n        ServiceDateToEditor(container, options) {\n            kendo\n                .jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDatePicker();\n        },\n        ItemDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate:\n                        '<div class=\"dropdown-header k-widget k-header\">' +\n                        \"<span>Items </span>\" +\n                        \"<span></span>\" +\n                        \"</div>\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: productVariantHandler.itemSearchURL(),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                        // data: this.variants\n                    }),\n                });\n        },\n        UOMDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"code\",\n                    dataValueField: \"uomConvertId\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=code || `-`#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                // url: uomPriceHandler.getURL(options.model.item.id, this.debitMemo.priceLevel.id, options.model.item.type),\n                                url: uomPriceHandler.uomPriceByPriceLevelURL(\n                                    \"id=\" +\n                                    options.model.item.id +\n                                    \"&plId=\" +\n                                    this.debitMemo.priceLevel.id +\n                                    \"&date=\" +\n                                    this.transactionDate + \"&nature=purchase\"\n                                ),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    // name: {type: \"string\"},\n                                    // sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                        // data: this.variants\n                    }),\n                });\n        },\n        DiscountItemDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=code# - #=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: discountItemHandler.getURL(DISCOUNT_TYPE),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    // name: {type: \"string\"},\n                                    // sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                    }),\n                });\n        },\n        VatTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.tax,\n                    }),\n                });\n        },\n        AccountDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=number# - #=name# </span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.accounts,\n                    }),\n                });\n        },\n        AccountDropDownEditorRefund(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=number# - #=name# </span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.accCash,\n                    }),\n                });\n        },\n        AccountDropDownEditorDeposit(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=number# - #=name# </span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.accDeposit,\n                    }),\n                });\n        },\n        SaleUnitDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=code# - #=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.saleUnitItemList,\n                    }),\n                });\n        },\n        AmountEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    format: `${this.decimalFormat}`,\n                });\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        rowNumberTmplAcc(dataItem) {\n            let ds = this.$refs.accountLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        rowNumberTmplDeposit(dataItem) {\n            let ds = this.$refs.depositLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        rowNumberTmplApply(dataItem) {\n            let ds = this.$refs.applyToLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        addRow() {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                total = ds.total();\n            this.itemLine.id = itemLinePrefix + uuid.v1();\n            ds.insert(total, this.itemLine);\n            // this.itemLines.push(this.itemLine)\n            // window.console.log('item Line', this.itemLine)\n        },\n        addRowAcc() {\n            // let ds = this.$refs.accountLineDS.kendoWidget(),\n            //     total = ds.total()\n            // this.accountLine.id = itemLinePrefix + uuid.v1()\n            // ds.insert(total, this.accountLine)\n        },\n        addRowDeposit() {\n            let ds = this.$refs.depositLineDS.kendoWidget(),\n                total = ds.total();\n            this.depositLine.id = itemLinePrefix + uuid.v1();\n            ds.insert(total, this.depositLine);\n        },\n        addRowCashRefund() {\n            let ds = this.$refs.cashRefundDS.kendoWidget(),\n                total = ds.total();\n            this.purchaseDepositLine.id = itemLinePrefix + uuid.v1();\n            this.purchaseDepositLine.optionType = OPTION_TYPE\n            ds.insert(total, this.purchaseDepositLine);\n        },\n        PurchaseDiscountItemEditor() {\n        },\n        async searchPurchase() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    let data = {};\n                    this.showLoading = true;\n                    const priceLevel = this.debitMemo.priceLevel;\n                    let code = \"\";\n                    if (this.supplier.id) {\n                        if (priceLevel) {\n                            if (priceLevel.hasOwnProperty(\"currency\")) {\n                                this.debitMemo.currency = priceLevel.currency;\n                                if (priceLevel.currency.hasOwnProperty(\"code\")) {\n                                    code = priceLevel.currency.code;\n                                }\n                            }\n                            data = {\n                                search: this.supplier.id,\n                                type: \"Vendor\",\n                                status: 3,\n                                transactionDate: this.transactionDate,\n                                currency: code,\n                            };\n                            this.offsetPurchases = [];\n                            this.isLoading = 1\n                            this.showLoading = true;\n                            if (code !== \"\") {\n                                try {\n                                    billingHandler.searchCashPayment(data).then((res) => {\n                                        if (res.data.statusCode === 200) {\n                                            this.isLoading = 0\n                                            const response = res.data.data;\n                                            // const result = res.data.result\n                                            this.showLoading = false;\n                                            if (response.length > 0) {\n                                                let uniqueIds = [];\n                                                this.offsetPurchaseList = response;\n                                                this.offsetPurchaseList.forEach((o) => {\n                                                    uniqueIds.push(o.id);\n                                                });\n                                                const unique = [...new Set(uniqueIds)];\n                                                this.offsetPurchases = [];\n                                                unique.forEach((txnId) => {\n                                                    const found = this.offsetPurchaseList.filter(\n                                                        (j) => j.id === txnId\n                                                    );\n                                                    found.forEach((k) => {\n                                                        this.offsetPurchases.push(k);\n                                                    });\n                                                });\n                                                // this.autoCalculate()\n                                            }\n                                        }\n                                    });\n                                } catch (e) {\n                                    this.showLoading = false;\n                                }\n                            }\n                        }\n                    }\n\n                }, 50);\n            });\n        },\n        async loadPaymentOption() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.paymentMethod = [];\n                    paymentOptionHandler\n                        .list(strFilter)\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.paymentMethod = res.data.data;\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 50);\n            });\n        },\n        async onSaveClose(isSave) {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate();\n                return;\n            }\n            if (this.$refs.applyToLineDS.kendoWidget().data().length <= 0) {\n                this.$snotify.error(\"Please input offset item\")\n                return;\n            }\n            const lDS = this.$refs.itemLineDS.kendoWidget();\n            let dataValidate = 0;\n            const itmLineR = lDS.data().filter((n) => n.amount > 0);\n            itmLineR.forEach((value, index) => {\n                window.console.log(0, value.uom.uom)\n                if (\n                    value.item.id === undefined ||\n                    value.uom.uom.id === undefined ||\n                    value.item.id === \"\" ||\n                    value.uom.uom.id === \"\"\n                ) {\n                    this.$snotify.error(\n                        \"Please select return item at row \" + (index + 1)\n                    );\n                } else {\n                    dataValidate += 1;\n                }\n            });\n            if (itmLineR.length === dataValidate) {\n                if (Object.keys(this.debitMemo.priceLevel).length > 0) {\n                    if (this.dr !== 0 && this.cr !== 0) {\n                        new Promise((resolve) => {\n                            setTimeout(() => {\n                                resolve(\"resolved\");\n                                let isAutoGenerate = 1;\n                                const offsetAmount = parseFloat(this.debitMemo.offsetAmount);\n                                const itemLineAmount = parseFloat(\n                                    this.debitMemo.itemLineAmount\n                                );\n                                const variance = parseFloat(this.debitMemo.variance);\n                                // const lDS = this.$refs.itemLineDS.kendoWidget()\n                                // const itmLineR = lDS.data().filter(n => n.amount > 0)\n                                // const applyToDS = this.$refs.applyToLineDS.kendoWidget()\n                                // const applyToLineR = applyToDS.data().filter(n => n.paidAmount > 0)\n                                // const depositLineDS = this.$refs.depositLineDS.kendoWidget()\n                                // const depositLineR = depositLineDS.data().filter(n => n.amount > 0)\n                                let noDepositAcc = 0,\n                                    noCashAccount = 0,\n                                    noVarianceAcc = 0;\n                                // if (itmLineR.length > 0 && depositLineR.length > 0 && applyToLineR.length > 0) {\n                                //todo: check offset amount\n                                if (offsetAmount > itemLineAmount) {\n                                    this.showWaringMessage(\n                                        \"Debit Memo\",\n                                        \"Return amount and Offset amount must be equal!\",\n                                        \"OK\"\n                                    );\n                                    return;\n                                }\n                                //todo: check customer credit case amount>0 and unselected account\n                                let ds = this.$refs.depositLineDS.kendoWidget();\n                                let rows = ds.data().filter((n) => n.amount > 0);\n                                rows.forEach((itm) => {\n                                    const account = itm.account;\n                                    if (!account.hasOwnProperty(\"id\")) {\n                                        this.showWaringMessage(\n                                            \"Debit Memo\",\n                                            \"Please select deposit account\",\n                                            \"OK\"\n                                        );\n                                        noDepositAcc = 1;\n                                        return;\n                                    }\n                                });\n                                //todo: check Cash refund case amount>0 and unselected account\n                                let dsRefund = this.$refs.cashRefundDS.kendoWidget();\n                                rows = dsRefund.data().filter((n) => n.amount > 0);\n                                rows.forEach((itm) => {\n                                    const account = itm.account;\n                                    if (!account.hasOwnProperty(\"id\")) {\n                                        this.showWaringMessage(\n                                            \"Debit Memo\",\n                                            \"Please select cash account\",\n                                            \"OK\"\n                                        );\n                                        noCashAccount = 1;\n                                        return;\n                                    }\n                                });\n                                //todo: check variance account\n                                if (variance !== 0) {\n                                    const varianceAcc = this.debitMemo.varianceAcc;\n                                    if (!varianceAcc) {\n                                        // if (!variance.hasOwnProperty('id')) {\n                                        this.showWaringMessage(\n                                            \"Debit Memo\",\n                                            \"Please select variance account\",\n                                            \"OK\"\n                                        );\n                                        noVarianceAcc = 1;\n                                        return;\n                                        // }\n                                    }\n                                }\n                                // }\n\n                                if (\n                                    noVarianceAcc === 0 &&\n                                    noDepositAcc === 0 &&\n                                    noCashAccount === 0\n                                ) {\n                                    if (this.$route.params.id) {\n                                        const tranDate = new Date(this.transactionDate);\n                                        const tranDateInvoice = new Date(\n                                            this.debitMemo.transactionDate\n                                        );\n                                        const tranDateM =\n                                            tranDate.getFullYear() + tranDate.getMonth();\n                                        const tranDateInvoiceM =\n                                            tranDateInvoice.getFullYear() +\n                                            tranDateInvoice.getMonth();\n                                        if (tranDateM === tranDateInvoiceM) {\n                                            isAutoGenerate = 0;\n                                        }\n                                    }\n\n                                    let itemLineDS = this.$refs.itemLineDS.kendoWidget();\n                                    let applyToLineDS = this.$refs.applyToLineDS.kendoWidget();\n                                    let cashRefundDS = this.$refs.cashRefundDS.kendoWidget();\n                                    let depositLineDS = this.$refs.depositLineDS.kendoWidget();\n                                    const itemLineR = itemLineDS\n                                        .data()\n                                        .filter((o) => o.amount)\n                                        .map((n) => {\n                                            return new ItemLineModel(n);\n                                        });\n                                    const applyToLineR = applyToLineDS\n                                        .data()\n                                        .filter((o) => o.paidAmount)\n                                        .map((n) => {\n                                            return new ApplyToLineModel(n);\n                                        });\n                                    const cashRefundR = cashRefundDS\n                                        .data()\n                                        .filter((o) => o.amount)\n                                        .map((n) => {\n                                            return {...n};\n                                        });\n                                    const depositLineR = depositLineDS\n                                        .data()\n                                        .filter((o) => o.amount)\n                                        .map((n) => {\n                                            return new DepositLineModel(n);\n                                        });\n                                    // let depositLineDS = this.$refs.depositLineDS.kendoWidget()\n                                    // const dataRow = applyToLineDS.data().filter(n => n.paidAmount > 0)\n                                    let data = {\n                                        id: this.debitMemo.id || '',\n                                        uuid: this.debitMemo.uuid || '',\n                                        journal_uuid: this.debitMemo.journal_uuid || '',\n                                        type: TRANSACTION_TYPE,\n                                        number: this.debitMemo.number,\n                                        abbr: this.debitMemo.transactionType.abbr,\n                                        transactionDate: this.transactionDate,\n                                        supplier: this.supplier,\n                                        transactionType: this.debitMemo.transactionType,\n                                        currency: this.debitMemo.currency,\n                                        txnRate: this.debitMemo.txnRate,\n                                        rate: 1,\n                                        exchangeAmount: this.debitMemo.exchangeAmount,\n                                        exchangeRate: this.debitMemo.exchangeRate,\n                                        amount: this.debitMemo.amount,\n                                        variance: this.debitMemo.variance,\n                                        priceLevel: this.debitMemo.priceLevel,\n                                        reasonForDebitNote: this.debitMemo.reasonForDebitNote,\n                                        itemLine: itemLineR,\n                                        depositLine: depositLineR,\n                                        cashRefundLine: cashRefundR,\n                                        applyToLine: applyToLineR,\n\n                                        segment: this.debitMemo.segment,\n                                        location: this.debitMemo.location,\n                                        project: this.debitMemo.project,\n                                        employee: this.debitMemo.employee,\n                                        transactionNote: this.debitMemo.transactionNote,\n                                        journalNote: this.debitMemo.journalNote,\n\n                                        itemLineAmount: this.debitMemo.itemLineAmount,\n                                        itemLineExchangeAmount: this.debitMemo.itemLineExchangeAmount,\n                                        itemLineDiscountAmount: this.debitMemo.itemLineDiscountAmount,\n                                        itemLineTaxAmount: this.debitMemo.itemLineTaxAmount,\n                                        itemLineSubTotal: this.debitMemo.itemLineSubTotal,\n\n                                        applyToAmount: this.debitMemo.applyToAmount,\n                                        applyToExchangeAmount: this.debitMemo.applyToExchangeAmount,\n                                        exchangeDepositDeduction: this.debitMemo.exchangeDepositDeduction,\n                                        depositAmount: this.debitMemo.depositAmount,\n                                        refundAmount: this.debitMemo.refundAmount,\n\n                                        saveOption: this.debitMemo.saveOption,\n                                        status: 1,\n                                        approvedBy: this.debitMemo.approvedBy,\n                                        formTemplate: {},\n                                        createdAt: this.debitMemo.createdAt,\n                                        loggedUser: this.loggedUser,\n                                        isAutoGenerate: isAutoGenerate,\n                                        jRaw: this.jRaw,\n                                        supplierDiscountItem: this.debitMemo.supplierDiscountItem || [],\n                                        refFrom: this.debitMemo.refFrom || [],\n                                        refTo: this.debitMemo.refTo || [],\n                                        saleTaxDetail: this.debitMemo.saleTaxDetail || [],\n                                        exchangeVariance: this.debitMemo.exchangeVariance || 0,\n                                        actionType: this.$route.params.id\n                                            ? this.$route.query.type\n                                            : \"new\",\n                                    };\n                                    this.showLoading = true;\n                                    window.console.log(1, isSave)\n                                    this.clear();\n                                    window.console.log(2, data)\n\n                                    billingHandler.createDebitMemo(data).then((response) => {\n                                        if (response.data.statusCode === 201) {\n                                            this.showLoading = false;\n                                            this.$snotify.success(\"Successfully\");\n                                            if (isSave == \"new\") {\n                                                this.clear();\n                                            } else if (isSave == \"close\") {\n                                                this.clear();\n                                                this.close();\n                                            }\n                                        }\n                                    }).catch((e) => {\n                                        this.showLoading = false;\n                                        this.$snotify.error(\"Something went wrong\");\n                                        this.errors.push(e);\n                                    });\n                                } else {\n                                    this.showWaringMessage(\n                                        \"Debit Memo\",\n                                        \"Please check before save\",\n                                        \"OK\"\n                                    );\n                                }\n                            }, 10);\n                        });\n                    } else {\n                        this.showWaringMessage(\n                            \"Debit Memo\",\n                            \"Please check before save\",\n                            \"OK\"\n                        );\n                    }\n                } else {\n                    this.showWaringMessage(\n                        \"Debit Memo\",\n                        \"Please select price level\",\n                        \"OK\"\n                    );\n                }\n            }\n        },\n        close() {\n            window.history.go(-1);\n        },\n        async loadViewDebitMemo() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (this.$route.params.id) {\n                        this.showLoading = true;\n                        const strFilter = \"?id=\" + this.$route.params.id;\n                        billingHandler\n                            .debitMemoList(strFilter)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    const saleReturn = res.data.data[0];\n                                    this.debitMemo = saleReturn;\n                                    this.itemLines = saleReturn.itemLine;\n                                    this.offsetPurchases = saleReturn.applyToLine;\n                                    this.cashRefundLines = saleReturn.cashRefundLine;\n                                    this.depositLines = saleReturn.depositLine;\n                                    this.supplier = this.debitMemo.supplier;\n                                    this.mEmployee = this.debitMemo.employee;\n                                    this.transactionDate = this.debitMemo.transactionDate;\n                                    this.supplierDiscountItem = this.debitMemo.supplierDiscountItem || [];\n                                    const depositAcc = this.supplier.hasOwnProperty(\n                                        \"purchaseDepositAcc\"\n                                    )\n                                        ? this.supplier.purchaseDepositAcc\n                                        : {};\n\n                                    if (this.cashRefundLines.length === 0) {\n                                        this.purchaseDepositLine.id = itemLinePrefix + uuid.v1();\n                                        this.cashRefundLines.push(this.purchaseDepositLine);\n                                        // this.addRowCashRefund()\n                                    }\n                                    if (this.depositLines.length === 0) {\n                                        this.purchaseDepositLine.id = itemLinePrefix + uuid.v1();\n                                        this.depositLines.push(this.purchaseDepositLine);\n                                        // this.addRowDeposit()\n                                    }\n                                    this.accDeposit = this.accDeposits.filter(\n                                        (o) => o.id === depositAcc.id\n                                    );\n                                }\n                            })\n                            .catch();\n                        {\n                            // this.showLoading = false\n                        }\n                    }\n                }, 50);\n            });\n        },\n        clear() {\n            this.showLoading = false;\n            this.supplier = {}\n            this.debitMemo = new DebitMemoModel();\n            this.offsetPurchase = {}\n            let applyToLineDS = this.$refs.applyToLineDS.kendoWidget();\n            this.offsetList = applyToLineDS.data([]);\n            let cashRefundDS = this.$refs.cashRefundDS.kendoWidget();\n            this.cashRefundLines = cashRefundDS.data([]);\n            let depositLineDS = this.$refs.depositLineDS.kendoWidget();\n            this.depositLines = depositLineDS.data([]);\n            let itemLineDS = this.$refs.itemLineDS.kendoWidget();\n            this.itemLines = itemLineDS.data([]);\n            this.addRow()\n            this.addRowAcc()\n            this.addRowDeposit()\n            this.addRowCashRefund()\n            this.loadPrefix()\n        },\n        onPriceLevelChange() {\n            this.isPriceLevelChanged = true\n            this.loadTransactionRate()\n            this.clearUOMItem()\n        },\n        async clearUOMItem() {\n            let ds = this.$refs.itemLineDS.kendoWidget()\n            ds.data().map(n => {\n                n.set('uom', {})\n            })\n            this.isPriceLevelChanged = false\n        },\n    },\n    watch: {\n        id() {\n            if (this.$route.params.id === undefined) {\n                this.clear();\n            } else {\n                this.loadViewDebitMemo();\n            }\n        },\n        // call again the method if the route changes\n    },\n    created() {\n        this.loadTax();\n        this.loadSaleUnitItems();\n        this.loadPrefix();\n        this.loadSegment();\n        this.loadLocation();\n        this.loadPaymentOption();\n    },\n    mounted: async function () {\n        await this.loadPurchaseFormContent();\n        this.requestData(0, this.filter, this.supBaseUrl);\n        // await this.loadDiscountItem()\n        await this.loadEmployeeCenter();\n        await this.loadPaymentTerm();\n        await this.loadAccount();\n        await this.loadPriceLevel();\n        await this.loadProjectByCustomer();\n        // await this.loadOtherCharge()\n        await this.initData();\n        this.nowTimes();\n    },\n};\n</script>\n\n<style scoped>\n.function_wrapper {\n    box-shadow: none !important;\n}\n\n.v-application--is-ltr .v-text-field .v-input__append-inner {\n    margin-top: 0 !important;\n}\n\n.v-input__slot {\n    background-color: #fff !important;\n}\n\n.function_content .label {\n    margin-bottom: 10px;\n    display: inline-block;\n}\n\n.border_radius10 {\n    border-radius: 10px !important;\n    background-color: #f2f2f2;\n}\n\n.pa-3.v-card h4 {\n    font-size: 18px;\n    color: #333;\n}\n\n.pa-3.v-card p {\n    font-size: 12px;\n    color: #b5b5b5;\n}\n\n.attachment_file {\n    background-color: #efeded;\n    border-radius: 0 !important;\n}\n\n.attachment_table.v-data-table table {\n    border: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.attachment_table table tr th {\n    border-left: thin solid rgba(0, 0, 0, 0.12);\n    height: 35px;\n    border-right: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.block_debit,\n.block_credit {\n    border-bottom: 1px solid #fff;\n}\n\n.block_debit p.number,\n.block_credit p.number {\n    font-size: 25px;\n    color: #7f7f7f;\n}\n\n.block_debit h5,\n.block_credit h5,\n.block_difference h5 {\n    text-transform: uppercase;\n    color: #7f7f7f;\n    font-size: 15px;\n    font-weight: normal;\n}\n\n.block_difference h5 {\n    font-size: 18px;\n}\n\n.block_difference h5 span {\n    font-size: 15px;\n}\n\n.custom_grid table th:last-child {\n    text-align: right !important;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        max-width: 1250px;\n    }\n}\n\n@media (max-width: 576px) {\n    .pt-6.col-sm-5.col-12 {\n        padding-top: 0 !important;\n    }\n\n    .code_text {\n        width: 100%;\n    }\n\n    .phone_no_pt {\n        padding-top: 0 !important;\n    }\n\n    .select_template,\n    .save_option {\n        margin-bottom: 10px;\n    }\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: 0.5s ease-in;\n    flex: 0 0 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n.info_add {\n    background-color: #ffffff;\n}\n\n.small_sidebar {\n    height: 98%;\n    position: relative;\n    padding: 12px;\n    background-color: #edf1f5;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.color_grey {\n    color: #808080;\n}\n\n.card_green {\n    min-height: 70px;\n    background-color: #00b050 !important;\n    color: #ffffff;\n}\n\n.lb_bold {\n    font-size: 12px;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 10px;\n}\n\n.card_background {\n    background-color: #edf1f5;\n    min-height: 120px;\n}\n\n.deposite_input {\n    width: 100px;\n}\n\n.btn_save_draft {\n    color: #ffffff;\n    background-color: #00b0f0 !important;\n    text-transform: capitalize;\n}\n\n.save_option {\n    background-color: #203864 !important;\n}\n\n.btn_add_small {\n    height: 27px !important;\n    min-width: 25px !important;\n    font-size: 10px;\n    padding: 0 22px !important;\n    background-color: #00b050 !important;\n    color: #ffffff;\n    border-radius: 0 !important;\n}\n\n.list_site_inv {\n    background-color: #92d050;\n    color: #ffffff;\n    font-size: 12px;\n}\n\n.list_site_exp {\n    background-color: #c5e0b4;\n    color: #000000;\n    font-size: 12px;\n    line-height: 16px;\n    min-height: 40px;\n}\n\n.checkbox_inv {\n    padding: 2px;\n    margin-top: 3px;\n    margin-right: 2px;\n}\n\n.exp_select {\n    font-size: 12px !important;\n}\n</style>\n"],"sourceRoot":"src/views/suppliers"}]}