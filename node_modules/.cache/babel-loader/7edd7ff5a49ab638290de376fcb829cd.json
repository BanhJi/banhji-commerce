{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/banking/banking/BankStatementReconciliation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/banking/banking/BankStatementReconciliation.vue","mtime":1638499443122},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/babel.config.js","mtime":1638499442885},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKaW1wb3J0IEhlbHBlciBmcm9tICJAL2hlbHBlci5qcyI7CmltcG9ydCB7IGkxOG4gfSBmcm9tICdAL2kxOG4nOwppbXBvcnQgeyBCYW5rQWNjb3VudE1vZGVsLCBCYW5rU3RhdGVtZW50TW9kZWwsIFJlY29uY2lsZU1vZGVsLCBBY2NvdW50TW9kZWwsIEpvdXJuYWxNb2RlbCwgSm91cm5hbEVudHJ5TW9kZWwsIEN1cnJlbmN5TW9kZWwsIEV4Y2hhbmdlUmF0ZU1vZGVsIH0gZnJvbSAiQC9zY3JpcHRzL21vZGVsL0FwcE1vZGVscyI7Ci8qIFN0b3JlICovCgppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CnZhciBpbnN0aXR1dGUgPSBzdG9yZS5zdGF0ZS5pbnN0aXR1dGUuaW5zdGl0dXRlOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwoKdmFyIF9yZXF1aXJlID0gcmVxdWlyZSgiQC9zY3JpcHRzL0FwcEhhbmRsZXJzIiksCiAgICByZWNvbmNpbGVIYW5kbGVyID0gX3JlcXVpcmUucmVjb25jaWxlSGFuZGxlciwKICAgIGpvdXJuYWxIYW5kbGVyID0gX3JlcXVpcmUuam91cm5hbEhhbmRsZXI7Cgp2YXIgX3JlcXVpcmUyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2RlZmF1bHRfc2V0dXAvQ29sbGVjdGlvbnMiKSwKICAgIEVudGl0eVR5cGUgPSBfcmVxdWlyZTIuRW50aXR5VHlwZSwKICAgIFNhdmVPcHRpb24gPSBfcmVxdWlyZTIuU2F2ZU9wdGlvbjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQmFua1N0YXRlbWVudFJlY29uY2lsaWF0aW9uIiwKICBjb21wb25lbnRzOiB7CiAgICAiTG9hZGluZ01lIjogZnVuY3Rpb24gTG9hZGluZ01lKCkgewogICAgICByZXR1cm4gaW1wb3J0KCdAL2NvbXBvbmVudHMvTG9hZGluZycpOwogICAgfSwKICAgICJhcHAtZGF0ZXBpY2tlciI6IGZ1bmN0aW9uIGFwcERhdGVwaWNrZXIoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJ0AvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL0RhdGVQaWNrZXJDb21wb25lbnQnKTsKICAgIH0sCiAgICAiYXBwLWFkanVzdG1lbnQtYWNjb3VudC1kcm9wZG93bmxpc3QiOiBmdW5jdGlvbiBhcHBBZGp1c3RtZW50QWNjb3VudERyb3Bkb3dubGlzdCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnQC9jb21wb25lbnRzL2Ryb3Bkb3dubGlzdC9BY2NvdW50Jyk7CiAgICB9CiAgfSwKICBwcm9wczogewogICAgaW5pdEJhbmtTdGF0ZW1lbnQ6IHsKICAgICAgdHlwZTogQmFua1N0YXRlbWVudE1vZGVsCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLyogT2JqICovCiAgICAgIGJhbmtBY2NvdW50OiBuZXcgQmFua0FjY291bnRNb2RlbCgpLAogICAgICByZWNvbmNpbGU6IG5ldyBSZWNvbmNpbGVNb2RlbCgpLAogICAgICBhZGp1c3RtZW50Sm91cm5hbDogbmV3IEpvdXJuYWxNb2RlbCgpLAogICAgICBhZGp1c3RtZW50RW50cmllczogW10sCiAgICAgIC8vIEZvcm0gdmFsaWRhdGlvbgogICAgICB2YWxpZDogdHJ1ZSwKICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgYWxlcnQ6IGZhbHNlLAogICAgICBlcnJvck1lc3NhZ2U6ICcnLAogICAgICBIZWxwZXI6IEhlbHBlciwKICAgICAgdXNlcjogSGVscGVyLmdldFVzZXIoKSwKICAgICAgU2F2ZU9wdGlvbjogU2F2ZU9wdGlvbiwKICAgICAgLy8gT3RoZXIKICAgICAgZXhjaGFuZ2VSYXRlOiBuZXcgRXhjaGFuZ2VSYXRlTW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSksCiAgICAgIGJhbmtTdGF0ZW1lbnQ6IG5ldyBCYW5rU3RhdGVtZW50TW9kZWwoKSwKICAgICAgYmFuaGppVHhuQW1vdW50OiAwLAogICAgICBiYW5oamlUcmFuc2FjdGlvbnM6IFtdLAogICAgICBiYW5oamlNYXRjaGVkVHhuczogW10sCiAgICAgIC8vIEtlbmRvCiAgICAgIHNjaGVtYUZpZWxkczogewogICAgICAgIGpvdXJuYWxfZGF0ZTogewogICAgICAgICAgdHlwZTogImRhdGUiCiAgICAgICAgfSwKICAgICAgICBqb3VybmFsX3R5cGU6IHsKICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgfSwKICAgICAgICBqb3VybmFsX251bWJlcjogewogICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiB7CiAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgIH0sCiAgICAgICAgYW1vdW50OiB7CiAgICAgICAgICB0eXBlOiAibnVtYmVyIgogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gTG9hZGluZ01lCiAgICAgIHNob3dMb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qIEluaXRpYWwgRGF0YSAqLwogICAgaW5pdGlhbERhdGE6IGZ1bmN0aW9uIGluaXRpYWxEYXRhKCkgewogICAgICB0aGlzLmJhbmtTdGF0ZW1lbnQgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmluaXRCYW5rU3RhdGVtZW50KTsKICAgICAgdGhpcy5zZXREZWZhdWx0RGF0YSgpOwogICAgICB0aGlzLmxvYWRCYW5oamlUcmFuc2FjdGlvbigpOwogICAgfSwKICAgIGxvYWREYXRhOiBmdW5jdGlvbiBsb2FkRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBDYWxsIExpc3QKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2JhbmtpbmcvZ2V0QmFua01hcHBpbmdzJyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnYmFua2luZy9nZXRCYW5rQWNjb3VudHMnKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX3RoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKiBTZXQgZGVmYXVsdCBkYXRhICovCiAgICBzZXREZWZhdWx0RGF0YTogZnVuY3Rpb24gc2V0RGVmYXVsdERhdGEoKSB7CiAgICAgIHRoaXMucmVjb25jaWxlID0gbmV3IFJlY29uY2lsZU1vZGVsKHsKICAgICAgICB0eXBlOiBFbnRpdHlUeXBlLkJBTktfUkVDT05DSUxJQVRJT05fQkFOS19GRUVEUwogICAgICB9KTsgLy8gR2VuZXJhdGUgTnVtYmVyCgogICAgICB0aGlzLmdlbmVyYXRlTnVtYmVyKCk7IC8vIEdldCBFeGNoYW5nZSBSYXRlCgogICAgICB0aGlzLmdldEV4Y2hhbmdlUmF0ZSgpOwogICAgfSwKICAgIC8vIE51bWJlcgogICAgZ2VuZXJhdGVOdW1iZXI6IGZ1bmN0aW9uIGdlbmVyYXRlTnVtYmVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBudW07CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuaXNFZGl0KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIEhlbHBlci5nZW5lcmF0ZUFjY291bnRpbmdOdW1iZXIoX3RoaXMyLnJlY29uY2lsZS50eXBlLCBfdGhpczIucmVjb25jaWxlLmRhdGUpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBudW0gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5yZWNvbmNpbGUubnVtYmVyID0gbnVtLm51bWJlcjsKICAgICAgICAgICAgICAgIF90aGlzMi5yZWNvbmNpbGUucHJlZml4X2Zvcm1hdCA9IG51bS5wcmVmaXhfZm9ybWF0OwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBHZXQgRXhjaGFuZ2UgUmF0ZQogICAgZ2V0RXhjaGFuZ2VSYXRlOiBmdW5jdGlvbiBnZXRFeGNoYW5nZVJhdGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMy5yZWNvbmNpbGUuZGF0ZSAmJiBfdGhpczMuYmFua0FjY291bnQuY3VycmVuY3kuY29kZSAhPT0gJycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIEhlbHBlci5nZXRMYXN0RXhjaGFuZ2VSYXRlQnlEYXRlKF90aGlzMy5yZWNvbmNpbGUuZGF0ZSwgX3RoaXMzLmJhbmtBY2NvdW50LmN1cnJlbmN5LmNvZGUpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfdGhpczMuZXhjaGFuZ2VSYXRlID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3RoaXMzLmV4Y2hhbmdlUmF0ZSA9IG5ldyBFeGNoYW5nZVJhdGVNb2RlbChpbnN0aXR1dGUuYmFzZUN1cnJlbmN5KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAoKICAgIC8qIExvYWQgQmFuaEppIFRyYW5zYWN0aW9uICovCiAgICBsb2FkQmFuaGppVHJhbnNhY3Rpb246IGZ1bmN0aW9uIGxvYWRCYW5oamlUcmFuc2FjdGlvbigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgZHMsIGN1cnJlbnRGaXNjYWxEYXRlLCBzZGF0ZSwgZWRhdGUsIHN0YXRlbWVudHM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNC5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAvKiBDbGVhciAqLwoKICAgICAgICAgICAgICAgIGRzID0gX3RoaXM0LiRyZWZzLmJhbmhqaVRyYW5zYWN0aW9uRFMua2VuZG9XaWRnZXQoKTsKICAgICAgICAgICAgICAgIGRzLmZpbHRlcihbXSk7CiAgICAgICAgICAgICAgICBkcy5kYXRhKFtdKTsKICAgICAgICAgICAgICAgIC8qIEZpbmQgYmFuayBhY2NvdW50IGJ5IHV1aWQgKi8KCiAgICAgICAgICAgICAgICBfdGhpczQuYmFua0FjY291bnQgPSBfdGhpczQuYmFua0FjY291bnRzLmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGkudXVpZCA9PT0gX3RoaXM0LmJhbmtTdGF0ZW1lbnQuYmFua19hY2NfdXVpZDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgLyogTG9hZCBqb3VybmFsIGVudHJ5IGRldGFpbCBieSBhY2NvdW50IHV1aWQgKi8KCiAgICAgICAgICAgICAgICBjdXJyZW50RmlzY2FsRGF0ZSA9IEhlbHBlci5nZXRGaXNjYWxEYXRlQnlEYXRlKG5ldyBEYXRlKCkpOwogICAgICAgICAgICAgICAgc2RhdGUgPSBrZW5kby50b1N0cmluZyhuZXcgRGF0ZShjdXJyZW50RmlzY2FsRGF0ZS5zdGFydF9kYXRlKSwgJ3l5eXktTU0tZGQnKSArICdUMDA6MDA6MDAuMDAwWicsIGVkYXRlID0ga2VuZG8udG9TdHJpbmcobmV3IERhdGUoKSwgJ3l5eXktTU0tZGQnKSArICdUMjM6NTk6NTkuOTk5Wic7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gam91cm5hbEhhbmRsZXIuZ2V0RW50cnlEZXRhaWxCeUFjY291bnQoX3RoaXM0LmJhbmtBY2NvdW50LmFjY291bnQudXVpZCwgewogICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICBzdGFydF9kYXRlOiBzZGF0ZSwKICAgICAgICAgICAgICAgICAgICBlbmRfZGF0ZTogZWRhdGUKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHN0YXRlbWVudHMgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNC5iYW5oamlUcmFuc2FjdGlvbnMgPSBzdGF0ZW1lbnRzLmVudHJpZXNfZGV0YWlsLmZpbHRlcihmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaS5pc19yZWNvbmNpbGVkICE9PSAxOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpczQuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKiBHcmlkIFJvdyBUZW1wbGF0ZSAqLwogICAgcm93VG1wbDogZnVuY3Rpb24gcm93VG1wbChkYXRhSXRlbSkgewogICAgICB2YXIgc3RyID0gIjxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIuY29uY2F0KEhlbHBlci5kYXRlRm9ybWF0KGRhdGFJdGVtLmpvdXJuYWxfZGF0ZSksICJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIikuY29uY2F0KGRhdGFJdGVtLmpvdXJuYWxfbnVtYmVyLCAiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQW1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIpLmNvbmNhdChOdW1iZXIoZGF0YUl0ZW0uYW1vdW50KS50b0xvY2FsZVN0cmluZygpLCAiICIpLmNvbmNhdChkYXRhSXRlbS5jdXJyZW5jeS5jb2RlLCAiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogeC1zbWFsbDtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIikuY29uY2F0KGRhdGFJdGVtLmRlc2NyaXB0aW9uLCAiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+Iik7CiAgICAgIHJldHVybiBzdHI7CiAgICB9LAogICAgZGF0ZVRlbXBsYXRlOiBmdW5jdGlvbiBkYXRlVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgcmV0dXJuIEhlbHBlci5kYXRlRm9ybWF0KGRhdGFJdGVtLmpvdXJuYWxfZGF0ZSk7CiAgICB9LAogICAgb25CYW5oamlNYXRjaGVkVHhuRFNDaGFuZ2VzOiBmdW5jdGlvbiBvbkJhbmhqaU1hdGNoZWRUeG5EU0NoYW5nZXMoKSB7CiAgICAgIHZhciBicyA9IHRoaXMuYmFua1N0YXRlbWVudCwKICAgICAgICAgIGRzID0gdGhpcy4kcmVmcy5iYW5oamlNYXRjaGVkVHhuRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHRvdGFsID0gMDsKICAgICAgZHMuZGF0YSgpLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdG90YWwgKz0gdmFsdWUuYW1vdW50OwogICAgICB9KTsKICAgICAgdGhpcy5yZWNvbmNpbGUudmFyaWFuY2VfYW1vdW50ID0gYnMuYW1vdW50IC0gdG90YWw7CiAgICAgIHRoaXMuYmFuaGppVHhuQW1vdW50ID0gdG90YWw7CiAgICB9LAoKICAgIC8qIE9uIEdyaWQgQ2hhbmdlICovCiAgICBvbkFkZEJhbmhqaVR4bkNsaWNrOiBmdW5jdGlvbiBvbkFkZEJhbmhqaVR4bkNsaWNrKGUpIHsKICAgICAgdmFyIGdyaWQgPSB0aGlzLiRyZWZzLmJhbmhqaVRyYW5zYWN0aW9uR3JpZC5rZW5kb1dpZGdldCgpLAogICAgICAgICAgaXRlbSA9IGdyaWQuZGF0YUl0ZW0oa2VuZG8ualF1ZXJ5KGUudGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKICAgICAgdGhpcy5hZGRCYW5oamlUcmFuc2FjdGlvbihpdGVtKTsKICAgIH0sCgogICAgLyogQWRkIEJhbmhqaSBUcmFuc2FjdGlvbiAqLwogICAgYWRkQmFuaGppVHJhbnNhY3Rpb246IGZ1bmN0aW9uIGFkZEJhbmhqaVRyYW5zYWN0aW9uKGl0ZW0pIHsKICAgICAgdmFyIGdyaWQgPSB0aGlzLiRyZWZzLmJhbmhqaU1hdGNoZWRUeG5HcmlkLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBkcyA9IGdyaWQuZGF0YVNvdXJjZTsKICAgICAgdmFyIGV4aXN0aW5nSXRlbSA9IGRzLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlLmVudHJ5X3V1aWQgPT09IGl0ZW0uZW50cnlfdXVpZDsKICAgICAgfSk7CgogICAgICBpZiAoZXhpc3RpbmdJdGVtLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGRzLmFkZChpdGVtKTsKICAgICAgfQogICAgfSwKICAgIC8vIFJlbW92ZSBSb3cKICAgIHJlbW92ZVJvdzogZnVuY3Rpb24gcmVtb3ZlUm93KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgZ3JpZCA9IHRoaXMuJHJlZnMuYmFuaGppTWF0Y2hlZFR4bkdyaWQua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGRzID0gZ3JpZC5kYXRhU291cmNlLAogICAgICAgICAgaXRlbSA9IGdyaWQuZGF0YUl0ZW0oa2VuZG8ualF1ZXJ5KGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CiAgICAgIGRzLnJlbW92ZShpdGVtKTsKICAgIH0sCgogICAgLyogRmluZCBCZXN0IE1hdGNoIFRyYW5zYWN0aW9uICovCiAgICBmaW5kQmVzdE1hdGNoOiBmdW5jdGlvbiBmaW5kQmVzdE1hdGNoKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIC8vIGxldCBzZWxmID0gdGhpczsKICAgICAgdmFyIGJ0bSA9IHRoaXMuYmFua1RyYW5zYWN0aW9uTWFwcGluZ3MuZmluZChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICByZXR1cm4gdmFsdWUuYmFua191dWlkID09PSBfdGhpczUuYmFua0FjY291bnQuYmFuay51dWlkOwogICAgICB9KTsKICAgICAgdmFyIGZpbHRlcnMgPSBbXTsKICAgICAgYnRtLmNyaXRlcmlhLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICB2YXIgc3RhdGVtZW50VmFsdWUgPSAiIiwKICAgICAgICAgICAgam91cm5hbEZpZWxkTmFtZSA9ICIiOwoKICAgICAgICBpZiAoZWxlbWVudC5maWVsZDIgPT09ICJzdGF0ZW1lbnRfZGF0ZSIpIHsKICAgICAgICAgIC8qIERhdGUgKi8KICAgICAgICAgIGpvdXJuYWxGaWVsZE5hbWUgPSAiam91cm5hbF9kYXRlIjsKICAgICAgICAgIHN0YXRlbWVudFZhbHVlID0gX3RoaXM1LmJhbmtTdGF0ZW1lbnRbInN0YXRlbWVudF9kYXRlIl07CiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmZpZWxkMiA9PT0gImJhbmtfcmVmIikgewogICAgICAgICAgLyogTnVtYmVyICovCiAgICAgICAgICBqb3VybmFsRmllbGROYW1lID0gImpvdXJuYWxfbnVtYmVyIjsKICAgICAgICAgIHN0YXRlbWVudFZhbHVlID0gX3RoaXM1LmJhbmtTdGF0ZW1lbnRbImJhbmtfcmVmIl07CiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmZpZWxkMiA9PT0gImRlYml0IikgewogICAgICAgICAgLyogRGViaXQgKi8KICAgICAgICAgIGpvdXJuYWxGaWVsZE5hbWUgPSAiYW1vdW50IjsKICAgICAgICAgIHN0YXRlbWVudFZhbHVlID0gTWF0aC5hYnMoX3RoaXM1LmJhbmtTdGF0ZW1lbnRbImFtb3VudCJdKTsKICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZmllbGQyID09PSAiY3JlZGl0IikgewogICAgICAgICAgLyogQ3JlZGl0ICovCiAgICAgICAgICBqb3VybmFsRmllbGROYW1lID0gImFtb3VudCI7CiAgICAgICAgICBzdGF0ZW1lbnRWYWx1ZSA9IE1hdGguYWJzKF90aGlzNS5iYW5rU3RhdGVtZW50WyJhbW91bnQiXSkgKiAtMTsKICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZmllbGQyID09PSAiY3VycmVuY3kiKSB7CiAgICAgICAgICAvKiBDdXJyZW5jeSAqLwogICAgICAgICAgam91cm5hbEZpZWxkTmFtZSA9ICJjdXJyZW5jeS5jb2RlIjsKICAgICAgICAgIHN0YXRlbWVudFZhbHVlID0gX3RoaXM1LmJhbmtTdGF0ZW1lbnRbImN1cnJlbmN5Il07CiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmZpZWxkMiA9PT0gImRldGFpbHMiKSB7CiAgICAgICAgICAvKiBEZXRhaWwgKi8KICAgICAgICAgIGpvdXJuYWxGaWVsZE5hbWUgPSAiZGVzY3JpcHRpb24iOwogICAgICAgICAgc3RhdGVtZW50VmFsdWUgPSBlbGVtZW50LnZhbHVlOwogICAgICAgIH0KCiAgICAgICAgZmlsdGVycy5wdXNoKHsKICAgICAgICAgICJmaWVsZCI6IGpvdXJuYWxGaWVsZE5hbWUsCiAgICAgICAgICAib3BlcmF0b3IiOiBlbGVtZW50Lm9wZXJhdG9yLAogICAgICAgICAgInZhbHVlIjogc3RhdGVtZW50VmFsdWUKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuYmFuaGppVHJhbnNhY3Rpb25EUy5rZW5kb1dpZGdldCgpOwogICAgICBkcy5maWx0ZXIoewogICAgICAgIGxvZ2ljOiAib3IiLAogICAgICAgIGZpbHRlcnM6IGZpbHRlcnMKICAgICAgfSk7CiAgICB9LAogICAgLy8gQWRkIEpvdXJuYWwKICAgIGFkZEpvdXJuYWw6IGZ1bmN0aW9uIGFkZEpvdXJuYWwoKSB7CiAgICAgIHZhciBlbnRyaWVzID0gW10sCiAgICAgICAgICBkZWJpdEFjY291bnQgPSB0aGlzLmJhbmtBY2NvdW50LmFjY291bnQsCiAgICAgICAgICBjcmVkaXRBY2NvdW50ID0gdGhpcy5yZWNvbmNpbGUuYWRqdXN0bWVudF9hY2NvdW50LAogICAgICAgICAgYW1vdW50ID0gTWF0aC5hYnModGhpcy5yZWNvbmNpbGUudmFyaWFuY2VfYW1vdW50KTsgLy8gVmFyaWFuY2UgPiAwCgogICAgICBpZiAodGhpcy5yZWNvbmNpbGUudmFyaWFuY2VfYW1vdW50ID4gMCkgewogICAgICAgIGRlYml0QWNjb3VudCA9IHRoaXMucmVjb25jaWxlLmFkanVzdG1lbnRfYWNjb3VudDsKICAgICAgICBjcmVkaXRBY2NvdW50ID0gdGhpcy5iYW5rQWNjb3VudC5hY2NvdW50OwogICAgICB9IC8vIERlYml0IFNpZGUKCgogICAgICBlbnRyaWVzLnB1c2gobmV3IEpvdXJuYWxFbnRyeU1vZGVsKHsKICAgICAgICBhY2NvdW50OiBkZWJpdEFjY291bnQsCiAgICAgICAgZGVzY3JpcHRpb246IHRoaXMucmVjb25jaWxlLmRlc2NyaXB0aW9uLAogICAgICAgIGN1cnJlbmN5OiBuZXcgQ3VycmVuY3lNb2RlbCh0aGlzLmJhbmtBY2NvdW50LmN1cnJlbmN5KSwKICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICBleGNoYW5nZV9yYXRlX3V1aWQ6IHRoaXMuZXhjaGFuZ2VSYXRlLmlkLAogICAgICAgIGV4Y2hhbmdlX3JhdGU6IHRoaXMuZXhjaGFuZ2VSYXRlLnJhdGUKICAgICAgfSkpOyAvLyBDcmVkaXQgU2lkZQoKICAgICAgZW50cmllcy5wdXNoKG5ldyBKb3VybmFsRW50cnlNb2RlbCh7CiAgICAgICAgYWNjb3VudDogY3JlZGl0QWNjb3VudCwKICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5yZWNvbmNpbGUuZGVzY3JpcHRpb24sCiAgICAgICAgY3VycmVuY3k6IG5ldyBDdXJyZW5jeU1vZGVsKHRoaXMuYmFua0FjY291bnQuY3VycmVuY3kpLAogICAgICAgIGFtb3VudDogYW1vdW50ICogLTEsCiAgICAgICAgLy8gQ3JlZGl0IHNpZGUgaXMgbmVnYXRpdmUKICAgICAgICBleGNoYW5nZV9yYXRlX3V1aWQ6IHRoaXMuZXhjaGFuZ2VSYXRlLmlkLAogICAgICAgIGV4Y2hhbmdlX3JhdGU6IHRoaXMuZXhjaGFuZ2VSYXRlLnJhdGUKICAgICAgfSkpOyAvLyBBZGp1c3RtZW50IEpvdXJuYWwKCiAgICAgIHRoaXMuYWRqdXN0bWVudEpvdXJuYWwubnVtYmVyID0gdGhpcy5yZWNvbmNpbGUubnVtYmVyOwogICAgICB0aGlzLmFkanVzdG1lbnRKb3VybmFsLmRlc2NyaXB0aW9uID0gdGhpcy5yZWNvbmNpbGUuZGVzY3JpcHRpb247CiAgICAgIHRoaXMuYWRqdXN0bWVudEpvdXJuYWwuam91cm5hbF9kYXRlID0gSGVscGVyLnRvSVNPRGF0ZSh0aGlzLnJlY29uY2lsZS5kYXRlKTsKICAgICAgdGhpcy5hZGp1c3RtZW50Sm91cm5hbC5qb3VybmFsX3R5cGUgPSBFbnRpdHlUeXBlLkFESlVTVE1FTlQ7CiAgICAgIHRoaXMuYWRqdXN0bWVudEpvdXJuYWwudHJhbnNhY3Rpb25fdHlwZSA9IHRoaXMucmVjb25jaWxlLnR5cGU7CiAgICAgIHRoaXMuYWRqdXN0bWVudEpvdXJuYWwucHJlZml4X2Zvcm1hdCA9IHRoaXMucmVjb25jaWxlLnByZWZpeF9mb3JtYXQ7CiAgICAgIHRoaXMuYWRqdXN0bWVudEpvdXJuYWwuaXNfZHJhZnQgPSB0aGlzLnJlY29uY2lsZS5pc19kcmFmdDsKICAgICAgdGhpcy5hZGp1c3RtZW50Sm91cm5hbC5jcmVhdGVkX2J5ID0gdGhpcy5yZWNvbmNpbGUuY3JlYXRlZF9ieTsKICAgICAgdGhpcy5hZGp1c3RtZW50Sm91cm5hbC5tb2RpZmllZF9ieSA9IHRoaXMucmVjb25jaWxlLm1vZGlmaWVkX2J5OyAvLyBBZGp1c3RtZW50IEVudHJpZXMKCiAgICAgIHRoaXMuYWRqdXN0bWVudEVudHJpZXMgPSBlbnRyaWVzOwogICAgfSwKICAgIC8vIFNocmluayBEYXRhCiAgICBzaHJpbmtEYXRhOiBmdW5jdGlvbiBzaHJpbmtEYXRhKCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmJhbmhqaU1hdGNoZWRUeG5EUy5rZW5kb1dpZGdldCgpOyAvLyBEYXRlCgogICAgICB0aGlzLnJlY29uY2lsZS5kYXRlID0gSGVscGVyLnRvSVNPRGF0ZSh0aGlzLnJlY29uY2lsZS5kYXRlKTsKICAgICAgdGhpcy5yZWNvbmNpbGUuYmFua19zdGF0ZW1lbnRfdXVpZCA9IHRoaXMuYmFua1N0YXRlbWVudC51dWlkOyAvLyBSZWNvbmNpbGUgRW50cmllcwoKICAgICAgdmFyIGVudHJ5VXVpZExpc3QgPSBbXTsKICAgICAgZHMuZGF0YSgpLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgZW50cnlVdWlkTGlzdC5wdXNoKHZhbHVlLmVudHJ5X3V1aWQpOwogICAgICB9KTsKICAgICAgdGhpcy5yZWNvbmNpbGUucmVjb25jaWxlX2VudHJpZXMgPSBlbnRyeVV1aWRMaXN0OyAvLyBVc2VyCgogICAgICBpZiAodGhpcy5pc0VkaXQpIHsKICAgICAgICB0aGlzLnJlY29uY2lsZS5tb2RpZmllZF9ieSA9IHRoaXMudXNlcjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnJlY29uY2lsZS5jcmVhdGVkX2J5ID0gdGhpcy51c2VyOwogICAgICB9CiAgICB9LAogICAgLy8gVmFsaWRhdGluZwogICAgdmFsaWRhdGVGb3JtOiBmdW5jdGlvbiB2YWxpZGF0ZUZvcm0oKSB7CiAgICAgIHZhciByZXN1bHQgPSB0cnVlLAogICAgICAgICAgbXNnID0gJycsCiAgICAgICAgICByYyA9IHRoaXMucmVjb25jaWxlLAogICAgICAgICAgZHMgPSB0aGlzLiRyZWZzLmJhbmhqaU1hdGNoZWRUeG5EUy5rZW5kb1dpZGdldCgpOyAvLyBNYXRjaGVkIFRyYW5zYWN0aW9ucwoKICAgICAgaWYgKGRzLnRvdGFsKCkgPT09IDApIHsKICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgICBtc2cgKz0gJzxwPlBsZWFzZSBhZGQgYSB0cmFuc2FjdGlvbi48L3A+JzsKICAgICAgfSAvLyBBZGp1c3RtZW50IEFjY291bnQKCgogICAgICBpZiAocmMudmFyaWFuY2VfYW1vdW50ICE9PSAwKSB7CiAgICAgICAgaWYgKHRoaXMucmVjb25jaWxlLmFkanVzdG1lbnRfYWNjb3VudC51dWlkID09PSAnJykgewogICAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgICAgICBtc2cgKz0gJzxwPlBsZWFzZSBzZWxlY3QgYWRqdXN0bWVudCBhY2NvdW50LjwvcD4nOwogICAgICAgIH0KICAgICAgfSAvLyBTaG93IEFsZXJ0CgoKICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBtc2c7CiAgICAgIHRoaXMuYWxlcnQgPSBmYWxzZTsKCiAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7CiAgICAgICAgdGhpcy5hbGVydCA9IHRydWU7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgLy8gQWxsIFNhdmVzCiAgICBvblNhdmVPcHRpb25DbGljazogZnVuY3Rpb24gb25TYXZlT3B0aW9uQ2xpY2sobW9kZSkgewogICAgICBpZiAodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkgJiYgdGhpcy52YWxpZGF0ZUZvcm0oKSkgewogICAgICAgIHRoaXMuc2F2ZU1vZGUgPSBtb2RlOwogICAgICAgIHRoaXMuc2F2ZSgpOwogICAgICB9CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JywKICAgICAgICB0ZXh0OiAiWW91IHdvbid0IGJlIGFibGUgdG8gcmV2ZXJ0IHRoaXMhIiwKICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjNGQ0ODQ4JywKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyMzMDg1ZDYnLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnWWVzLCBkaXNjYXJkIGl0IScKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgX3RoaXM2LmNsZWFyKCk7CgogICAgICAgICAgX3RoaXM2LiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICAvLyBSZXNldCBGb3JtCiAgICAgIC8vIHRoaXMuJHJlZnMuZm9ybS5yZXNldCgpOwogICAgICB0aGlzLmJhbmhqaVR4bkFtb3VudCA9IDA7CiAgICAgIHRoaXMuYmFuaGppTWF0Y2hlZFR4bnMgPSBbXTsKICAgICAgdGhpcy5yZWNvbmNpbGUgPSBuZXcgUmVjb25jaWxlTW9kZWwoKTsKICAgICAgdGhpcy5yZWNvbmNpbGUuYWRqdXN0bWVudF9hY2NvdW50ID0gbmV3IEFjY291bnRNb2RlbCgpOwogICAgICB0aGlzLmFkanVzdG1lbnRKb3VybmFsID0gbmV3IEpvdXJuYWxNb2RlbCgpOwogICAgICB0aGlzLmFkanVzdG1lbnRFbnRyaWVzID0gW107CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuYmFuaGppTWF0Y2hlZFR4bkRTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIGRzLmRhdGEoW10pOyAvLyBOZXcgRGVmYXVsdCBEYXRhCgogICAgICB0aGlzLnNldERlZmF1bHREYXRhKCk7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOyAvLyBTaHJpbmsgRGF0YQoKICAgICAgdGhpcy5zaHJpbmtEYXRhKCk7IC8vIEFkanVzdG1lbnQgSm91cm5hbAoKICAgICAgaWYgKHRoaXMucmVjb25jaWxlLnZhcmlhbmNlX2Ftb3VudCAhPT0gMCkgewogICAgICAgIHRoaXMuYWRkSm91cm5hbCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWRqdXN0bWVudEpvdXJuYWwgPSBuZXcgSm91cm5hbE1vZGVsKCk7CiAgICAgICAgdGhpcy5hZGp1c3RtZW50RW50cmllcyA9IFtdOwogICAgICB9IC8vIFN5bmMgRGF0YQoKCiAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICByZWNvbmNpbGVIYW5kbGVyLnNhdmUoewogICAgICAgIHJlY29uY2lsZTogbmV3IFJlY29uY2lsZU1vZGVsKHRoaXMucmVjb25jaWxlKSwKICAgICAgICBhZGp1c3RtZW50X2pvdXJuYWw6IG5ldyBKb3VybmFsTW9kZWwodGhpcy5hZGp1c3RtZW50Sm91cm5hbCksCiAgICAgICAgYWRqdXN0bWVudF9lbnRyaWVzOiB0aGlzLmFkanVzdG1lbnRFbnRyaWVzCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgc2VsZi5yZXNwb25zZVN0YXR1cyhyZXNwb25zZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHNlbGYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICBIZWxwZXIuYWxlcnRFcnJvck1zZyhlcnJvcik7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gUmVzcG9uc2UgU3RhdHVzCiAgICByZXNwb25zZVN0YXR1czogZnVuY3Rpb24gcmVzcG9uc2VTdGF0dXMocmVzcG9uc2UpIHsKICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgLyogU2F2ZSBDbG9zZSBvciBEZWxldGUgQWN0aW9uICovCiAgICAgICAgaWYgKHRoaXMuc2F2ZU1vZGUgPT09IFNhdmVPcHRpb24uU0FWRUNMT1NFIHx8IHRoaXMuc2F2ZU1vZGUgPT09IFNhdmVPcHRpb24uREVMRVRFKSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0KICAgICAgICAvKiBSZXNldCBEYXRhICovCgoKICAgICAgICB0aGlzLmNsZWFyKCk7CiAgICAgICAgLyogQWxlcnQgU3VjY2VzcyAqLwoKICAgICAgICB0aGlzLiRzbm90aWZ5LnN1Y2Nlc3MoaTE4bi50KCJzdWNjZXNzZnVsIikpOwogICAgICB9IGVsc2UgewogICAgICAgIC8qIEFsZXJ0IEVycm9yICovCiAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcihpMThuLnQoImVycm9yX3NvbWV0aGluZ193cm9uZyIpKTsKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGluaXRCYW5rU3RhdGVtZW50OiAiaW5pdGlhbERhdGEiCiAgfSwKICBjb21wdXRlZDogbWFwU3RhdGUoewogICAgYmFua1RyYW5zYWN0aW9uTWFwcGluZ3M6IGZ1bmN0aW9uIGJhbmtUcmFuc2FjdGlvbk1hcHBpbmdzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5iYW5raW5nLmJhbmtNYXBwaW5nczsKICAgIH0sCiAgICBiYW5rQWNjb3VudHM6IGZ1bmN0aW9uIGJhbmtBY2NvdW50cyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYmFua2luZy5iYW5rQWNjb3VudHM7CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZERhdGEoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRpYWxEYXRhKCk7CiAgfQp9Ow=="},{"version":3,"sources":["BankStatementReconciliation.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-container>\n        <v-card\n         elevation=\"0\"\n         class=\"pa-4\"\n         style=\"position:relative;\"\n         color=\"white\"\n        >\n            <h2>{{$t('bank_statement_reconciliation')}}</h2>\n            <v-icon \n                onclick=\"window.history.go(-1); return false;\" \n                style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                class=\"float-right\"\n            >close</v-icon>\n\n            <v-divider/>\n            <v-card-text style=\"min-height: 850px; background-color: #F8F8F9; color: #333;\">\n                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                    <v-row>\n                        <!-- From Bank -->\n                        <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                            <v-card outlined dense color=\"grayBg\" class=\"no_border\" v-if=\"bankStatement\">\n                                <v-card outlined dense color=\"third\" class=\"pa-3 no_border\">\n                                    <v-row>\n                                        <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                            <h3 class=\"white--text\">{{$t('from_bank')}}</h3>\n                                        </v-col>\n                                        <v-col sm=\"6\" cols=\"12\" class=\"py-0 text-right\">\n                                            <h3 class=\"white--text\">{{ Number(bankStatement.amount).toLocaleString() }} {{ bankStatement.currency }}</h3>\n                                        </v-col>\n                                    </v-row>\n                                </v-card>\n                                <v-row>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"px-6\">\n                                        <div>\n                                            {{ bankStatement.statement_date }}\n                                            {{ bankStatement.transaction_type }}\n                                        </div>\n                                        <div>\n                                            {{ bankStatement.reference }}\n                                            Amount\n                                            {{ Number(bankStatement.amount).toLocaleString() }} {{ bankStatement.currency }}\n                                        </div>\n                                        <div style=\"font-size: x-small;\">\n                                            {{ bankStatement.details }}\n                                        </div>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                        </v-col>\n\n                        <!-- From BanhJi -->\n                        <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                            <v-card outlined dense color=\"grayBg\" class=\"no_border\">\n                                <v-card outlined dense color=\"third\" class=\"pa-3 no_border\">\n                                    <v-row>\n                                        <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                            <h3 class=\"white--text\">{{$t('from_banhji')}}</h3>\n                                        </v-col>\n                                        <v-col sm=\"6\" cols=\"12\" class=\"py-0 text-right\">\n                                            <h3 class=\"white--text\">{{ Number(banhjiTxnAmount).toLocaleString() }}</h3>\n                                        </v-col>\n                                    </v-row>\n                                </v-card>\n                                <v-row>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"px-6\">\n                                        <kendo-datasource ref=\"banhjiMatchedTxnDS\"\n                                            :change=\"onBanhjiMatchedTxnDSChanges\"\n                                            :data=\"banhjiMatchedTxns\"\n                                            :page-size='20'\n                                            :schema-model-fields=\"schemaFields\">\n                                        </kendo-datasource>\n                                        \n                                        <kendo-grid id=\"banhjiMatchedTxnGrid\"\n                                                ref=\"banhjiMatchedTxnGrid\"\n                                                class=\"grid-center mb-3\"\n                                                :data-source-ref=\"'banhjiMatchedTxnDS'\"\n                                                :noRecords=\"true\">\n                                            <kendo-grid-column \n                                                :field=\"'entry_uuid'\"\n                                                :title=\"'&nbsp;'\"\n                                                :template=\"rowTmpl\"\n                                                :width=\"200\" />\n                                            <kendo-grid-column\n                                                :command=\"{ iconClass: 'k-icon k-i-trash', text: 'DEL', click: removeRow, class: 'btn-plus' }\"\n                                                :title=\"'&nbsp;'\"\n                                                :width=\"75\"\n                                            />\n                                        </kendo-grid>\n\n                                        <div class=\"float-right\">\n                                            <v-btn color=\"primary\"\n                                                class=\"white--text text-capitalize\"\n                                                @click=\"findBestMatch\" small>\n                                                    {{$t('find_best_match')}}\n                                            </v-btn>\n\n                                            <v-btn color=\"primary\"\n                                                class=\"white--text\"\n                                                @click=\"loadBanhjiTransaction\" small>\n                                                <v-icon>refresh</v-icon>\n                                            </v-btn>\n                                        </div>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                        </v-col>\n\n                        <!-- Variance -->\n                        <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                            <v-card outlined dense color=\"grayBg\" class=\"no_border\">\n                                <v-card outlined dense color=\"third\" class=\"pa-3 no_border\">\n                                    <v-row>\n                                        <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                            <h3 class=\"white--text\">{{$t('variance')}}</h3>\n                                        </v-col>\n                                        <v-col sm=\"6\" cols=\"12\" class=\"py-0 text-right\">\n                                            <h3 class=\"white--text\">{{ Number(reconcile.variance_amount).toLocaleString() }}</h3>\n                                        </v-col>\n                                    </v-row>\n                                </v-card>\n                                <v-row>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"px-6\" v-if=\"reconcile.variance_amount !== 0\">\n                                        <label class=\"label\">{{$t('adjustment_account')}}</label>\n                                        <app-adjustment-account-dropdownlist\n                                            :initAccount=\"reconcile.adjustment_account\"\n                                            @emitAccount=\"reconcile.adjustment_account = $event\"\n                                        />\n                                    </v-col>\n\n                                    <!-- Reconcile Info -->\n                                    <v-col sm=\"12\" cols=\"12\" class=\"px-6\">\n                                        <label class=\"label\">{{$t('date')}}</label>\n                                        <app-datepicker :initialDate=\"reconcile.date\"\n                                                        @emitDate=\"reconcile.date = $event\"\n                                                        @onChanged=\"getExchangeRate\" />\n\n                                        <label class=\"label\">{{$t('number')}}</label>\n                                        <v-row>\n                                            <v-col sm=\"10\" cols=\"10\" class=\"pr-0\">\n                                                <v-text-field class=\"\"\n                                                                v-model=\"reconcile.number\"\n                                                                outlined\n                                                                readonly\n                                                                required/>\n                                            </v-col>\n                                            <v-col sm=\"2\" cols=\"2\" class=\"pl-0\">\n                                                <v-icon color=\"black\" size=\"30\" class=\"border_qrcode\"\n                                                        @click=\"generateNumber\">mdi-qrcode\n                                                </v-icon>\n                                            </v-col>\n                                        </v-row>\n\n                                        <v-alert type=\"warning\"\n                                                v-model=\"alert\"\n                                                dismissible>\n                                            <span style=\"font-size: small;\" v-html=\"errorMessage\"/>\n                                        </v-alert>\n                                    \n                                        <v-btn color=\"primary\"\n                                            class=\"white--text float-right text-capitalize\"\n                                            @click=\"onSaveOptionClick(SaveOption.SAVECLOSE)\" small>\n                                                {{$t('reconcile')}}\n                                        </v-btn>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                        </v-col>\n                        \n                        <!-- Search BanhJi Transaction Grid -->\n                        <v-col sm=\"12\" cols=\"12\">\n                            <kendo-datasource ref=\"banhjiTransactionDS\"\n                                :data=\"banhjiTransactions\"\n                                :page-size='20'\n                                :schema-model-fields=\"schemaFields\">\n                            </kendo-datasource>\n\n                            <kendo-grid id=\"banhjiTransactionGrid\"\n                                ref=\"banhjiTransactionGrid\"\n                                :data-source-ref=\"'banhjiTransactionDS'\"\n                                :pageable=\"true\"\n                                :filterable-mode=\"'row'\"\n                                :noRecords=\"true\"\n                                :scrollable=\"true\"\n                                :pageable-numeric=\"false\"\n                                :pageable-previous-next=\"false\"\n                                :pageable-messages-display=\"'Showing {2} data items'\">\n                                <kendo-grid-column \n                                    :field=\"'journal_date'\"\n                                    :title=\"$t('date')\"\n                                    :template=\"dateTemplate\"\n                                    :width=\"150\" />\n                                <kendo-grid-column \n                                    :field=\"'journal_type'\"\n                                    :title=\"$t('type')\"\n                                    :width=\"150\" />\n                                <kendo-grid-column \n                                    :field=\"'journal_number'\"\n                                    :title=\"$t('number')\"\n                                    :width=\"150\" />\n                                <kendo-grid-column \n                                    :field=\"'description'\"\n                                    :title=\"$t('description')\"\n                                    :filterable-cell-operator=\"'contains'\"\n                                    :filterable-cell-suggestion-operator=\"'contains'\" />\n                                <kendo-grid-column \n                                    :field=\"'amount'\"\n                                    :title=\"$t('amount')\"\n                                    :format=\"'{0:n}'\"\n                                    :width=\"150\"\n                                    :filterable-cell-operator=\"'gte'\" />\n                                <kendo-grid-column\n                                    :command=\"{ text: 'Add', click: onAddBanhjiTxnClick, class: 'btn-plus' }\"\n                                    :title=\"'&nbsp;'\"\n                                    :width=\"80\"\n                                />\n                            </kendo-grid>\n                        </v-col>\n                    </v-row>\n                </v-form>\n            </v-card-text>\n\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"false\"\n                :myLoading=\"true\"\n                type=\"loading\"\n            />\n        </v-card>\n    </v-container>\n</template>\n<script>\n    import kendo from \"@progress/kendo-ui\";\n    import Helper from \"@/helper.js\";\n    import { i18n } from '@/i18n';\n    import { \n        BankAccountModel, \n        BankStatementModel, \n        ReconcileModel, \n        AccountModel, \n        JournalModel, \n        JournalEntryModel,\n        CurrencyModel,\n        ExchangeRateModel,\n    } from \"@/scripts/model/AppModels\";\n    \n    /* Store */\n    import store from \"@/store\"\n    const institute = store.state.institute.institute\n    import { mapState } from 'vuex';\n\n    const {\n        reconcileHandler,\n        journalHandler,\n    } = require(\"@/scripts/AppHandlers\");\n    const { EntityType, SaveOption } = require(\"@/scripts/default_setup/Collections\");\n\n    export default {\n        name: \"BankStatementReconciliation\",\n        components: {\n            \"LoadingMe\": () => import('@/components/Loading'),\n            \"app-datepicker\": () => import('@/components/custom_templates/DatePickerComponent'),\n            \"app-adjustment-account-dropdownlist\": () => import('@/components/dropdownlist/Account'),\n        },\n        props: {\n            initBankStatement: {\n                type: BankStatementModel,\n            },\n        },\n        data () {\n            return {\n                /* Obj */\n                bankAccount         : new BankAccountModel(),\n                reconcile           : new ReconcileModel(),\n                adjustmentJournal   : new JournalModel(),\n                adjustmentEntries   : [],\n                // Form validation\n                valid: true,\n                isEdit: false,\n                alert: false,\n                errorMessage: '',\n                Helper              : Helper,\n                user: Helper.getUser(),\n                SaveOption: SaveOption,\n                // Other\n                exchangeRate        : new ExchangeRateModel(institute.baseCurrency),\n                bankStatement       : new BankStatementModel(),\n                banhjiTxnAmount     : 0,\n                banhjiTransactions  : [],\n                banhjiMatchedTxns   : [],\n                // Kendo\n                schemaFields: {\n                    journal_date    : { type: \"date\" },\n                    journal_type    : { type: \"string\" },\n                    journal_number  : { type: \"string\" },\n                    description     : { type: \"string\" },\n                    amount          : { type: \"number\" }\n                },\n                // LoadingMe\n                showLoading: false,\n            }\n        },\n        methods: {\n            /* Initial Data */\n            initialData(){\n                this.bankStatement = Object.assign({}, this.initBankStatement);\n                \n                this.setDefaultData();\n                this.loadBanhjiTransaction();\n            },\n            async loadData () {\n                this.showLoading = true;\n                \n                // Call List\n                await this.$store.dispatch('banking/getBankMappings');\n\n                // Call Bank Account\n                await this.$store.dispatch('banking/getBankAccounts');\n\n                this.showLoading = false;\n            },\n            /* Set default data */\n            setDefaultData() {\n                this.reconcile = new ReconcileModel({\n                    type: EntityType.BANK_RECONCILIATION_BANK_FEEDS, \n                })\n                \n                // Generate Number\n                this.generateNumber();\n\n                // Get Exchange Rate\n                this.getExchangeRate();\n            },\n            // Number\n            async generateNumber() {\n                if (!this.isEdit) {\n                    let num = await Helper.generateAccountingNumber(this.reconcile.type, this.reconcile.date);\n\n                    this.reconcile.number = num.number;\n                    this.reconcile.prefix_format = num.prefix_format;\n                }\n            },\n            // Get Exchange Rate\n            async getExchangeRate() {\n                if(this.reconcile.date && this.bankAccount.currency.code !== ''){\n                    this.exchangeRate = await Helper.getLastExchangeRateByDate(this.reconcile.date, this.bankAccount.currency.code);\n                }else{\n                    this.exchangeRate = new ExchangeRateModel(institute.baseCurrency);\n                }\n            },\n            /* Load BanhJi Transaction */\n            async loadBanhjiTransaction () {\n                this.showLoading = true;\n\n                /* Clear */\n                let ds = this.$refs.banhjiTransactionDS.kendoWidget();\n                ds.filter([]);\n                ds.data([]);\n                \n                /* Find bank account by uuid */\n                this.bankAccount = this.bankAccounts.find(i=>i.uuid === this.bankStatement.bank_acc_uuid);\n\n                /* Load journal entry detail by account uuid */\n                let currentFiscalDate = Helper.getFiscalDateByDate(new Date());\n                let sdate = kendo.toString(new Date(currentFiscalDate.start_date), 'yyyy-MM-dd') + 'T00:00:00.000Z',\n                    edate = kendo.toString(new Date(), 'yyyy-MM-dd') + 'T23:59:59.999Z';\n                \n                let statements = await journalHandler.getEntryDetailByAccount(this.bankAccount.account.uuid, {\n                    params: {\n                        start_date \t: sdate,\n                        end_date \t: edate,\n                    }\n                });\n\n                this.banhjiTransactions = statements.entries_detail.filter(i=>i.is_reconciled !== 1);\n\n                this.showLoading = false;\n            },\n            /* Grid Row Template */\n            rowTmpl (dataItem) {\n                let str = `<div>\n                                ${ Helper.dateFormat(dataItem.journal_date) }\n                                ${ dataItem.journal_number }\n                            </div>\n                            <div>\n                                Amount\n                                ${ Number(dataItem.amount).toLocaleString() } ${ dataItem.currency.code }\n                            </div>\n                            <div style=\"font-size: x-small;\">\n                                ${ dataItem.description }\n                            </div>`\n\n                return str\n            },\n            dateTemplate(dataItem){\n                return Helper.dateFormat(dataItem.journal_date);\n            },\n            onBanhjiMatchedTxnDSChanges () {\n                let bs = this.bankStatement,\n                    ds = this.$refs.banhjiMatchedTxnDS.kendoWidget(),\n                    total = 0;\n\n                ds.data().forEach(value => {\n                    total += value.amount;\n                })\n\n                this.reconcile.variance_amount = bs.amount - total;\n                this.banhjiTxnAmount = total;\n            },\n            /* On Grid Change */\n\t\t\tonAddBanhjiTxnClick (e) {\n                let grid = this.$refs.banhjiTransactionGrid.kendoWidget(),\n                    item = grid.dataItem(kendo.jQuery(e.target).closest(\"tr\"));\n                \n                this.addBanhjiTransaction(item);\n            },\n            /* Add Banhji Transaction */\n            addBanhjiTransaction (item) {\n                let grid = this.$refs.banhjiMatchedTxnGrid.kendoWidget(),\n\t\t\t\t\tds = grid.dataSource;\n                \n                let existingItem = ds.data().filter(value => value.entry_uuid === item.entry_uuid);\n                if(existingItem.length === 0){\n                    ds.add(item);\n                }\n            },\n            // Remove Row\n\t\t\tremoveRow (e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tlet grid = this.$refs.banhjiMatchedTxnGrid.kendoWidget(),\n\t\t\t\t\tds = grid.dataSource,\n\t\t\t\t\titem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n\t\t\t\t\n\t\t\t\tds.remove(item);\n            },\n            /* Find Best Match Transaction */\n            findBestMatch () {\n                // let self = this;\n                let btm = this.bankTransactionMappings.find(value => value.bank_uuid === this.bankAccount.bank.uuid);\n                \n                let filters = [];\n                btm.criteria.forEach(element => {\n                    let statementValue = \"\",\n                        journalFieldName = \"\";\n                    \n                    if(element.field2 === \"statement_date\"){/* Date */\n                        journalFieldName = \"journal_date\";\n                        statementValue = this.bankStatement[\"statement_date\"];\n                    }else if(element.field2 === \"bank_ref\"){/* Number */\n                        journalFieldName = \"journal_number\";\n                        statementValue = this.bankStatement[\"bank_ref\"];\n                    }else if(element.field2 === \"debit\"){/* Debit */\n                        journalFieldName = \"amount\";\n                        statementValue = Math.abs(this.bankStatement[\"amount\"]);\n                    }else if(element.field2 === \"credit\"){/* Credit */\n                        journalFieldName = \"amount\";\n                        statementValue = Math.abs(this.bankStatement[\"amount\"]) * -1;\n                    }else if(element.field2 === \"currency\"){/* Currency */\n                        journalFieldName = \"currency.code\";\n                        statementValue = this.bankStatement[\"currency\"];\n                    }else if(element.field2 === \"details\"){/* Detail */\n                        journalFieldName = \"description\";\n                        statementValue = element.value;\n                    }\n\n                    filters.push({\n                        \"field\"     : journalFieldName,\n                        \"operator\"  : element.operator,\n                        \"value\"     : statementValue,\n                    })\n                })\n\n                let ds = this.$refs.banhjiTransactionDS.kendoWidget();\n                ds.filter({\n                    logic: \"or\",\n                    filters: filters\n                });\n            },\n            // Add Journal\n            addJournal() {\n                let entries = [],\n                    debitAccount = this.bankAccount.account,\n                    creditAccount = this.reconcile.adjustment_account,\n                    amount = Math.abs(this.reconcile.variance_amount);\n\n                // Variance > 0\n                if (this.reconcile.variance_amount > 0) {\n                    debitAccount = this.reconcile.adjustment_account\n                    creditAccount = this.bankAccount.account\n                }\n\n                // Debit Side\n                entries.push(new JournalEntryModel({\n                    account: debitAccount,\n                    description: this.reconcile.description,\n                    currency: new CurrencyModel(this.bankAccount.currency),\n                    amount: amount,\n                    exchange_rate_uuid: this.exchangeRate.id,\n                    exchange_rate: this.exchangeRate.rate,\n                }))\n\n                // Credit Side\n                entries.push(new JournalEntryModel({\n                    account: creditAccount,\n                    description: this.reconcile.description,\n                    currency: new CurrencyModel(this.bankAccount.currency),\n                    amount: amount * -1, // Credit side is negative\n                    exchange_rate_uuid: this.exchangeRate.id,\n                    exchange_rate: this.exchangeRate.rate,\n                }))\n\n                // Adjustment Journal\n                this.adjustmentJournal.number = this.reconcile.number;\n                this.adjustmentJournal.description = this.reconcile.description;\n                this.adjustmentJournal.journal_date = Helper.toISODate(this.reconcile.date);\n                this.adjustmentJournal.journal_type = EntityType.ADJUSTMENT;\n                this.adjustmentJournal.transaction_type = this.reconcile.type;\n                this.adjustmentJournal.prefix_format = this.reconcile.prefix_format;\n                this.adjustmentJournal.is_draft = this.reconcile.is_draft;\n                this.adjustmentJournal.created_by = this.reconcile.created_by;\n                this.adjustmentJournal.modified_by = this.reconcile.modified_by;\n\n                // Adjustment Entries\n                this.adjustmentEntries = entries;\n            },\n            // Shrink Data\n            shrinkData() {\n                let ds = this.$refs.banhjiMatchedTxnDS.kendoWidget();\n\n                // Date\n                this.reconcile.date = Helper.toISODate(this.reconcile.date);\n                this.reconcile.bank_statement_uuid = this.bankStatement.uuid;\n\n                // Reconcile Entries\n                let entryUuidList = [];\n                ds.data().forEach(value => {\n                    entryUuidList.push(value.entry_uuid);\n                });\n                this.reconcile.reconcile_entries = entryUuidList;\n\n                // User\n                if (this.isEdit) {\n                    this.reconcile.modified_by = this.user;\n                } else {\n                    this.reconcile.created_by = this.user;\n                }\n            },\n            // Validating\n            validateForm() {\n                let result = true, msg = '',\n                    rc = this.reconcile,\n                    ds = this.$refs.banhjiMatchedTxnDS.kendoWidget();\n\n                // Matched Transactions\n                if (ds.total() === 0) {\n                    result = false;\n                    msg += '<p>Please add a transaction.</p>';\n                }\n\n                // Adjustment Account\n                if (rc.variance_amount !== 0) {\n                    if (this.reconcile.adjustment_account.uuid === '') {\n                        result = false;\n                        msg += '<p>Please select adjustment account.</p>';\n                    }\n                }\n\n                // Show Alert\n                this.errorMessage = msg;\n                this.alert = false;\n                if (result === false) {\n                    this.alert = true;\n                }\n\n                return result;\n            },\n            // All Saves\n            onSaveOptionClick(mode) {\n\t\t\t\tif (this.$refs.form.validate() && this.validateForm()) {\n\t\t\t\t\tthis.saveMode = mode;\n\t\t\t\t\tthis.save();\n\t\t\t\t}\n\t\t\t},\n            cancel() {\n                this.$swal({\n                    title: 'Are you sure?',\n                    text: \"You won't be able to revert this!\",\n                    icon: 'warning',\n                    showCancelButton: true,\n                    confirmButtonColor: '#4d4848',\n                    cancelButtonColor: '#3085d6',\n                    confirmButtonText: 'Yes, discard it!'\n                }).then((result) => {\n                    if (result.value) {\n                        this.clear();\n                        this.$router.go(-1);\n                    }\n                })\n            },\n            clear() {\n                // Reset Form\n                // this.$refs.form.reset();\n\n                this.banhjiTxnAmount = 0;\n                this.banhjiMatchedTxns = [];\n\n                this.reconcile = new ReconcileModel();\n                this.reconcile.adjustment_account = new AccountModel();\n                this.adjustmentJournal = new JournalModel();\n                this.adjustmentEntries = [];\n\n                let ds = this.$refs.banhjiMatchedTxnDS.kendoWidget();\n                ds.data([]);\n\n                // New Default Data\n                this.setDefaultData();\n            },\n            save() {\n                let self = this;\n\n                // Shrink Data\n                this.shrinkData();\n\n                // Adjustment Journal\n                if (this.reconcile.variance_amount !== 0) {\n                    this.addJournal();\n                } else {\n                    this.adjustmentJournal = new JournalModel();\n                    this.adjustmentEntries = [];\n                }\n\n                // Sync Data\n                this.showLoading = true;\n                reconcileHandler.save({\n                    reconcile: new ReconcileModel(this.reconcile),\n                    adjustment_journal: new JournalModel(this.adjustmentJournal),\n                    adjustment_entries: this.adjustmentEntries,\n                })\n                .then(function (response) {\n                    self.responseStatus(response);\n                })\n                .catch(function (error) {\n                    self.showLoading = false;\n                    Helper.alertErrorMsg(error);\n                })\n                .finally(()=>{\n                    self.showLoading = false;\n                });\n            },\n            // Response Status\n            responseStatus(response) {\n                if (response.status === 200) {\n                    /* Save Close or Delete Action */\n                    if (this.saveMode === SaveOption.SAVECLOSE || this.saveMode === SaveOption.DELETE) {\n                        this.$router.go(-1);\n                    }\n                    \n                    /* Reset Data */\n                    this.clear();\n\n                    /* Alert Success */\n                    this.$snotify.success(i18n.t(\"successful\"));\n                } else {\n                    /* Alert Error */\n                    this.$snotify.error(i18n.t(\"error_something_wrong\"));\n                }\n            },\n        },\n        watch: {\n            initBankStatement: \"initialData\"\n        },\n        computed: mapState({\n            bankTransactionMappings: state => state.banking.bankMappings,\n            bankAccounts: state => state.banking.bankAccounts,\n        }),\n        created() {\n            this.loadData();\n        },\n        mounted() {\n            this.initialData();\n        },\n    }\n</script>\n<style scoped>\n    @media (min-width: 1264px) {\n        .container {\n            max-width: 1080px !important;\n        }\n    }\n</style>"],"sourceRoot":"src/views/banking/banking"}]}