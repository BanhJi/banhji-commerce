{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/customers/SaleReturn.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/customers/SaleReturn.vue","mtime":1642155812665},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktY29tbWVyY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWNvbW1lcmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1jb21tZXJjZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbWFjb3MvRGVza3RvcC9iYW5oamktMC4yL2JhbmhqaS1jb21tZXJjZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL21hY29zL0Rlc2t0b3AvYmFuaGppLTAuMi9iYW5oamktY29tbWVyY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCnZhciBfZGVmYXVsdEl0ZW07CgppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5wYWQtc3RhcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIGltcG9ydCBrZW5kbyBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tdWknCmltcG9ydCB7IGkxOG4gfSBmcm9tICJAL2kxOG4iOwppbXBvcnQgTG9hZGluZ01lIGZyb20gIkAvY29tcG9uZW50cy9Mb2FkaW5nIjsKaW1wb3J0IERhdGVQaWNrZXJDb21wb25lbnQgZnJvbSAiQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvRGF0ZVBpY2tlckNvbXBvbmVudCI7CmltcG9ydCBDcmVkaXRNZW1vTW9kZWwgZnJvbSAiQC9zY3JpcHRzL3NhbGVfcmV0dXJuL21vZGVsL0NyZWRpdE1lbW8iOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKaW1wb3J0IHsgdXVpZCB9IGZyb20gInZ1ZS11dWlkIjsKaW1wb3J0IFNhbGVGb3JtQ29udGVudE1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9TYWxlRm9ybUNvbnRlbnQiOwppbXBvcnQgeyBEcm9wRG93bkxpc3QgfSBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdnVlLWRyb3Bkb3ducyI7CmltcG9ydCBJdGVtTGluZU1vZGVsIGZyb20gIkAvc2NyaXB0cy9zYWxlX3JldHVybi9tb2RlbC9JdGVtTGluZSI7IC8vIGltcG9ydCBBY2NvdW50TGluZU1vZGVsIGZyb20gIkAvc2NyaXB0cy9zYWxlX3JldHVybi9tb2RlbC9BY2NvdW50TGluZSI7CgppbXBvcnQgQXBwbHlUb0xpbmVNb2RlbCBmcm9tICJAL3NjcmlwdHMvc2FsZV9yZXR1cm4vbW9kZWwvQXBwbHlUb0xpbmUiOwppbXBvcnQgRGVwb3NpdExpbmVNb2RlbCBmcm9tICJAL3NjcmlwdHMvc2FsZV9yZXR1cm4vbW9kZWwvRGVwb3NpdExpbmUiOwppbXBvcnQgeyBkYXRhU3RvcmUsIFNob3dSZXNvdXJjZSB9IGZyb20gIkAvb2JzZXJ2YWJsZS9zdG9yZSI7CmltcG9ydCBQYXltZW50T3B0aW9uRWRpdG9yIGZyb20gIkAvc2NyaXB0cy9rZW5kb19lZGl0b3IvUGF5bWVudE9wdGlvbkVkaXRvciI7CnZhciBkZWZhdWx0SXRlbSA9IChfZGVmYXVsdEl0ZW0gPSB7fSwgX2RlZmluZVByb3BlcnR5KF9kZWZhdWx0SXRlbSwgIm51bWJlck5hbWUiLCAiU2VsZWN0IGN1c3RvbWVyLi4uIiksIF9kZWZpbmVQcm9wZXJ0eShfZGVmYXVsdEl0ZW0sICJpZCIsIG51bGwpLCBfZGVmYXVsdEl0ZW0pOwoKdmFyIGN1c3RvbWVySGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jdXN0b21lckhhbmRsZXIiKTsKCnZhciBwcmVmaXhIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3ByZWZpeEhhbmRsZXIiKTsKCnZhciBlbXB0eUl0ZW0gPSBfZGVmaW5lUHJvcGVydHkoe30sICJudW1iZXJOYW1lIiwgImxvYWRpbmcgLi4uIik7Cgp2YXIgYmlsbGluZ0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaW52b2ljZS9oYW5kbGVyL2JpbGxpbmdIYW5kbGVyIik7Cgp2YXIgc2FsZUZvcm1Db250ZW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zYWxlRm9ybUNvbnRlbnRIYW5kbGVyIik7Cgp2YXIgZW1wbG95ZWVIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2VtcGxveWVlSGFuZGxlciIpOwoKdmFyIGxvY2F0aW9uSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9sb2NhdGlvbkhhbmRsZXIiKTsKCnZhciBwcm9kdWN0VmFyaWFudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJvZHVjdFZhcmlhbnRIYW5kbGVyIik7Cgp2YXIgZGlzY291bnRJdGVtSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9kaXNjb3VudEl0ZW1IYW5kbGVyIik7Cgp2YXIgYWNjb3VudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaGFuZGxlci9hY2NvdW50aW5nL2FjY291bnQiKTsKCnZhciB1b21QcmljZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvdW9tUHJpY2VIYW5kbGVyIik7Cgp2YXIgc2V0dGluZ3NIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NldHRpbmdzSGFuZGxlciIpOwoKdmFyIHByb2plY3RIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3Byb2plY3RIYW5kbGVyIik7Cgp2YXIgcHJpY2VMZXZlbEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJpY2VMZXZlbEhhbmRsZXIiKTsKCnZhciBzZXR0aW5nSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zZXR0aW5nSGFuZGxlciIpOwoKdmFyIHBheW1lbnRUZXJtSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wYXltZW50VGVybUhhbmRsZXIiKTsKCnZhciBjdXJyZW5jeUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY3VycmVuY3kvaGFuZGxlci9jdXJyZW5jeUhhbmRsZXIiKTsKCnZhciBzYWxlVW5pdEl0ZW1IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NhbGVVbml0SXRlbUhhbmRsZXIiKTsKCnZhciBwYXltZW50T3B0aW9uSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wYXltZW50T3B0aW9uSGFuZGxlciIpOwoKaW1wb3J0IFNhbGVEZXBvc2l0SXRlbUxpbmVNb2RlbCBmcm9tICJAL3NjcmlwdHMvc2FsZV9kZXBvc2l0L21vZGVsL0l0ZW1MaW5lIjsKaW1wb3J0IG90aGVyQ2hhcmdlSGFuZGxlciBmcm9tICJAL3NjcmlwdHMvb3RoZXJDaGFyZ2VIYW5kbGVyIjsKaW1wb3J0IE90aGVyQ2hhcmdlTW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL090aGVyQ2hhcmdlIjsKaW1wb3J0IEhlbHBlciBmcm9tICJAL2hlbHBlciI7CnZhciBzYWxlRm9ybUNvbnRlbnRNb2RlbCA9IG5ldyBTYWxlRm9ybUNvbnRlbnRNb2RlbCh7fSk7CnZhciBpdGVtTGluZU1vZGVsID0gbmV3IEl0ZW1MaW5lTW9kZWwoe30pOyAvLyBjb25zdCBhY2NvdW50TGluZU1vZGVsID0gbmV3IEFjY291bnRMaW5lTW9kZWwoe30pCgp2YXIgYXBwbHlUb0xpbmVNb2RlbCA9IG5ldyBBcHBseVRvTGluZU1vZGVsKHt9KTsKdmFyIGRlcG9zaXRMaW5lTW9kZWwgPSBuZXcgRGVwb3NpdExpbmVNb2RlbCh7fSk7CnZhciAkID0ga2VuZG8ualF1ZXJ5Owp2YXIgaXRlbUxpbmVQcmVmaXggPSAibGluLSI7CnZhciB0ZXh0RmllbGQgPSAibnVtYmVyTmFtZSI7CnZhciBjcmVkaXRNZW1vTW9kZWwgPSBuZXcgQ3JlZGl0TWVtb01vZGVsKHt9KTsKdmFyIHNhbGVEZXBvc2l0SXRlbUxpbmVNb2RlbCA9IG5ldyBTYWxlRGVwb3NpdEl0ZW1MaW5lTW9kZWwoe30pOwp2YXIgT1BUSU9OX1RZUEUgPSAiQ3VzdG9tZXIiOwp2YXIgc3RyT3B0aW9uRmlsdGVyID0gIj9vcHRpb25UeXBlPSIgKyBPUFRJT05fVFlQRTsKdmFyIERJU0NPVU5UX1RZUEUgPSAiP3R5cGU9U2FsZSI7Cgp2YXIgY29va2llSlMgPSByZXF1aXJlKCJAL2Nvb2tpZS5qcyIpOwoKdmFyIGNvb2tpZSA9IGNvb2tpZUpTLmdldENvb2tpZSgpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNyZWRpdE1lbW8iLAogIHByb3BzOiBbImlkIl0sCiAgY29tcG9uZW50czogewogICAgTG9hZGluZ01lOiBMb2FkaW5nTWUsCiAgICAiYXBwLWRhdGVwaWNrZXIiOiBEYXRlUGlja2VyQ29tcG9uZW50LAogICAgZHJvcGRvd25saXN0OiBEcm9wRG93bkxpc3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0xvYWRpbmc6IDAsCiAgICAgIFBheW1lbnRPcHRpb25FZGl0b3I6IFBheW1lbnRPcHRpb25FZGl0b3IsCiAgICAgIGNyZWRpdE1lbW86IGNyZWRpdE1lbW9Nb2RlbCwKICAgICAgc2FsZUZvcm1Db250ZW50OiBzYWxlRm9ybUNvbnRlbnRNb2RlbCwKICAgICAgaXRlbUxpbmU6IGl0ZW1MaW5lTW9kZWwsCiAgICAgIC8vIGFjY291bnRMaW5lOiBhY2NvdW50TGluZU1vZGVsLAogICAgICBhcHBseVRvTGluZTogYXBwbHlUb0xpbmVNb2RlbCwKICAgICAgZGVwb3NpdExpbmU6IGRlcG9zaXRMaW5lTW9kZWwsCiAgICAgIHNhbGVEZXBvc2l0TGluZTogc2FsZURlcG9zaXRJdGVtTGluZU1vZGVsLAogICAgICBjdXN0b21lckxpc3Q6IFtdLAogICAgICBjYXNoUmVmdW5kTGluZXM6IFtdLAogICAgICBpdGVtTGluZXM6IFtdLAogICAgICB0YXhMaXN0VG90YWw6IFtdLAogICAgICBvdGhlckNoYXJnZUxpc3Q6IFtdLAogICAgICBjdXN0b21lcjoge30sCiAgICAgIGRlZmF1bHRJdGVtOiBkZWZhdWx0SXRlbSwKICAgICAgZGF0YUl0ZW1LZXk6ICJpZCIsCiAgICAgIHRleHRGaWVsZDogIm51bWJlck5hbWUiLAogICAgICBmaWx0ZXI6ICIiLAogICAgICBjdXNCYXNlVXJsOiBjdXN0b21lckhhbmRsZXIuc2VhcmNodjEoKSwKICAgICAgZW1wQmFzZVVybDogZW1wbG95ZWVIYW5kbGVyLnNlYXJjaCgpLAogICAgICBsb2dnZWRVc2VyOiB7CiAgICAgICAgaWQ6IGNvb2tpZS5jcmVhdG9yLAogICAgICAgIG5hbWU6IGNvb2tpZS5lbWFpbAogICAgICB9LAogICAgICBlbXBsb3llZXM6IFtdLAogICAgICBtRW1wbG95ZWU6IHt9LAogICAgICBjdXN0b21lclByb2plY3RzOiBbXSwKICAgICAgcHJpY2VMZXZlbDogW10sCiAgICAgIGxvY2F0aW9uczogW10sCiAgICAgIG90aGVyVGF4OiBbXSwKICAgICAgdmF0VGF4OiBbXSwKICAgICAgc3BlY2lmaWNUYXg6IFtdLAogICAgICBwdWJsaWNMaWdodGluZ1RheDogW10sCiAgICAgIHNhbGVVbml0SXRlbUxpc3Q6IFtdLAogICAgICBjdXN0b21lckRpc2NvdW50SXRlbTogW10sCiAgICAgIGN1c3RvbWVyT3RoZXJDaGFyZ2VJdGVtOiBbXSwKICAgICAgY3VzdG9tZXJTYWxlVW5pdDogW10sCiAgICAgIHRyYW5zYWN0aW9uVHlwZTogW10sCiAgICAgIHNlZ21lbnRzOiBbXSwKICAgICAgZXhjaGFuZ2VSYXRlOiBbXSwKICAgICAgY3VycmVuY3lDb2RlOiAiIiwKICAgICAgdHJhbnNhY3Rpb25SYXRlOiAxLAogICAgICBhY2NvdW50TGluZXM6IFtdLAogICAgICB0cmFuc2FjdGlvblJhdGVEYXRlOiAiIiwKICAgICAgYWNjb3VudHM6IFtdLAogICAgICBkZXBvc2l0TGluZXM6IFtdLAogICAgICBvZmZzZXRMaXN0OiBbXSwKICAgICAgb2Zmc2V0SW52b2ljZXM6IFtdLAogICAgICBvZmZzZXRJbnZvaWNlTGlzdDogW10sCiAgICAgIG9mZnNldEludm9pY2U6IHt9LAogICAgICBkZWNpbWFsRm9ybWF0OiAibjIiLAogICAgICAvLyBMb2FkaW5nTWUKICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgICBiaWxsX2RhdGU6ICIiLAogICAgICBhbGVydDogZmFsc2UsCiAgICAgIHZhbGlkOiB0cnVlLAogICAgICBzdXBwbGllcnM6IFtdLAogICAgICBqb3VybmFsX3R5cGVzOiBbXSwKICAgICAgc3VwcGxpZXJzX2l0ZW06IFtdLAogICAgICBwYXltZW50TWV0aG9kOiBbXSwKICAgICAgZXhwZW5zZTogWyJFcXVhbCIsICJ3ZWlnaHRlZCJdLAogICAgICB0cmFuc2FjdGlvbkRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgICB0ZW1wbGF0ZXM6IFt7CiAgICAgICAgdGl0bGU6ICJEcmFmdCIKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAiT3BlbiIKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAiUGFydGlhbGx5IENsb3NlZCIKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAiQ2xvc2VkIgogICAgICB9XSwKICAgICAgaXNIaWRlQmFyOiBmYWxzZSwKICAgICAgZGlhbG9nVGF4OiBmYWxzZSwKICAgICAgYmFzZUN1cnJlbmN5Q29kZTogIiIsCiAgICAgIGFjY0Nhc2g6IFtdLAogICAgICBhY2NEZXBvc2l0OiBbXSwKICAgICAgYWNjRGVwb3NpdHM6IFtdLAogICAgICBqUmF3OiBbXSwKICAgICAgalJhdzE6IFtdLAogICAgICBqUmF3MjogW10sCiAgICAgIGpSYXczOiBbXSwKICAgICAgalJhdzQ6IFtdLAogICAgICBqUmF3NTogW10sCiAgICAgIHRheExpc3REZXRhaWw6IFtdLAogICAgICBnYWluTG9zc0FjYzoge30sCiAgICAgIG90aGVyUmV2ZW51ZUFjYzoge30sCiAgICAgIHZhcmlhbmNlQWNjczogW10sCiAgICAgIHJlZkZyb206IFtdLAogICAgICByZWZUbzogW10sCiAgICAgIGlzUHJpY2VMZXZlbENoYW5nZWQ6IGZhbHNlLAogICAgICBjcjogMCwKICAgICAgZHI6IDAKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZGlzYWJsZWRNZTogZnVuY3Rpb24gZGlzYWJsZWRNZSgpIHsKICAgICAgcmV0dXJuICEhdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgfSwKICAgIC8vICAgICAgICAgJCgiI2dldEluZm9CdXR0b24iKS5iaW5kKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgIC8vCiAgICAvLyAgICAgdmFyIGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkMSIpLmRhdGEoImtlbmRvR3JpZCIpOwogICAgLy8gICAgIHZhciByb3cgPSAkKCJpbnB1dDpjaGVja2VkIiwgZ3JpZC50Ym9keSkuY2xvc2VzdCgidHIiKTsKICAgIC8vICAgICB2YXIgaXRlbSA9IGdyaWQuZGF0YUl0ZW0ocm93KTsKICAgIC8vICAgICBhbGVydCAoSlNPTi5zdHJpbmdpZnkoaXRlbSkpOwogICAgLy8gfSk7CiAgICByYWRpb0J1dHRvbjogZnVuY3Rpb24gcmFkaW9CdXR0b24oKSB7CiAgICAgIHJldHVybiAiPGlucHV0IHR5cGU9XCJyYWRpb1wiIGNsYXNzPVwiZGV0YWlsR3JpZFJvd1NlbGVjdG9yXCIgdGl0bGU9XCJTZWxlY3QgTGluZXNcIiBuYW1lPVwicmFkaW9MaW5lU2VsZWN0b3JcIiAvPiI7CiAgICB9LAogICAgYW1vdW50SGVhZGVyVGVtcGxhdGU6IGZ1bmN0aW9uIGFtb3VudEhlYWRlclRlbXBsYXRlKCkgewogICAgICBpZiAodGhpcy5jdXN0b21lcikgewogICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmhhc093blByb3BlcnR5KCJiYXNlQ3VycmVuY3kiKSkgewogICAgICAgICAgdmFyIGJhc2VDdXJyZW5jeSA9IHRoaXMuY3VzdG9tZXIuYmFzZUN1cnJlbmN5OwoKICAgICAgICAgIGlmIChiYXNlQ3VycmVuY3kuaGFzT3duUHJvcGVydHkoImNvZGUiKSkgewogICAgICAgICAgICByZXR1cm4gIkFtb3VudCAoIiArIGJhc2VDdXJyZW5jeS5jb2RlICsgIikiOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuICJBbW91bnQiOwogICAgfSwKICAgIGFtb3VudExpbmVIZWFkZXJUZW1wbGF0ZTogZnVuY3Rpb24gYW1vdW50TGluZUhlYWRlclRlbXBsYXRlKCkgewogICAgICBpZiAodGhpcy5jdXJyZW5jeUNvZGUpIHsKICAgICAgICByZXR1cm4gIkFtb3VudCAoIiArIHRoaXMuY3VycmVuY3lDb2RlICsgIikiOwogICAgICB9CgogICAgICByZXR1cm4gIkFtb3VudCI7CiAgICB9LAogICAgaGlkZGVuQnV0dG9uOiBmdW5jdGlvbiBoaWRkZW5CdXR0b24oKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHN0YXR1czogZnVuY3Rpb24gc3RhdHVzKF9zdGF0dXMpIHsKICAgICAgdmFyIHN0YXR1c1RleHQgPSAnJzsKCiAgICAgIHN3aXRjaCAoX3N0YXR1cykgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIHN0YXR1c1RleHQgPSAnT3Blbic7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgc3RhdHVzVGV4dCA9ICdQYXJ0aWFsbHkgUGFpZCc7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgc3RhdHVzVGV4dCA9ICdQYWlkJzsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBzdGF0dXNUZXh0ID0gJ1ZvaWQnOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIHJldHVybiBzdGF0dXNUZXh0OwogICAgfSwKICAgIG9uUHJpY2VMZXZlbENoYW5nZTogZnVuY3Rpb24gb25QcmljZUxldmVsQ2hhbmdlKCkgewogICAgICB0aGlzLmlzUHJpY2VMZXZlbENoYW5nZWQgPSB0cnVlOwogICAgICB0aGlzLmxvYWRUcmFuc2FjdGlvblJhdGUoKTsKICAgICAgdGhpcy5jbGVhclVPTUl0ZW0oKTsKICAgIH0sCiAgICBjbGVhclVPTUl0ZW06IGZ1bmN0aW9uIGNsZWFyVU9NSXRlbSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRzID0gX3RoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwogICAgICAgICAgICAgICAgZHMuZGF0YSgpLm1hcChmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICBuLnNldCgndW9tJywge30pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpcy5pc1ByaWNlTGV2ZWxDaGFuZ2VkID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBxb2hUZW1wbGF0ZTogZnVuY3Rpb24gcW9oVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGJ1b20gPSBkYXRhSXRlbS5idW9tIHx8IHt9OwogICAgICB2YXIgcW9oID0gZGF0YUl0ZW0ucW9oIHx8IDA7CgogICAgICBpZiAoYnVvbS5oYXNPd25Qcm9wZXJ0eSgibmFtZSIpKSB7CiAgICAgICAgcmV0dXJuIHFvaCArICIgIiArIGJ1b20ubmFtZTsKICAgICAgfQoKICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIGZvcm1hdFZhcmlhbmNlOiBmdW5jdGlvbiBmb3JtYXRWYXJpYW5jZShudW0pIHsKICAgICAgaWYgKG51bSkgewogICAgICAgIHZhciB2YXJpYW5jZU51bWJlciA9IHRoaXMubnVtYmVyVG9TdHJpbmcobnVtKTsKICAgICAgICByZXR1cm4gdmFyaWFuY2VOdW1iZXI7IC8vICAgaWYgKHZhcmlhbmNlTnVtYmVyKSB7CiAgICAgICAgLy8gICAgIGNvbnN0IHN0ckRpZ2l0ID0gdmFyaWFuY2VOdW1iZXIuc3BsaXQoJy4nKQogICAgICAgIC8vICAgICBjb25zdCBoZWFkID0gc3RyRGlnaXRbMF0KICAgICAgICAvLyAgICAgY29uc3QgcmlnaHRIZWFkID0gc3RyRGlnaXRbMV0KICAgICAgICAvLyAgICAgY29uc3QgbnVtcyA9IHRoaXMuY291bnRaZXJvcyhyaWdodEhlYWQpCiAgICAgICAgLy8gICAgIGNvbnN0IHN1YnN0cmluZ1JpZ2h0ID0gcmlnaHRIZWFkLnN1YnN0cmluZygwLCBudW1zICsgMSkKICAgICAgICAvLyAgICAgcmV0dXJuIGhlYWQgKyAnLicgKyBzdWJzdHJpbmdSaWdodAogICAgICAgIC8vICAgfQogICAgICB9IC8vIHJldHVybiAwCgogICAgfSwKICAgIGNvdW50WmVyb3M6IGZ1bmN0aW9uIGNvdW50WmVyb3MobnVtKSB7CiAgICAgIGlmIChudW0pIHsKICAgICAgICB2YXIgc3BsaXR0ZWQgPSBudW0uc3BsaXQoIiIpOwogICAgICAgIHZhciBpID0gMDsKCiAgICAgICAgd2hpbGUgKHNwbGl0dGVkLnNoaWZ0KCkgPT0gMCkgewogICAgICAgICAgaSArPSAxOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGk7CiAgICAgIH0KCiAgICAgIHJldHVybiAwOwogICAgfSwKICAgIG51bWJlclRvU3RyaW5nOiBmdW5jdGlvbiBudW1iZXJUb1N0cmluZyhudW0pIHsKICAgICAgaWYgKG51bSkgewogICAgICAgIHZhciBudW1TdHIgPSBTdHJpbmcobnVtKTsKCiAgICAgICAgaWYgKE1hdGguYWJzKG51bSkgPCAxLjApIHsKICAgICAgICAgIHZhciBlID0gcGFyc2VJbnQobnVtLnRvU3RyaW5nKCkuc3BsaXQoImUtIilbMV0pOwoKICAgICAgICAgIGlmIChlKSB7CiAgICAgICAgICAgIHZhciBuZWdhdGl2ZSA9IG51bSA8IDA7CiAgICAgICAgICAgIGlmIChuZWdhdGl2ZSkgbnVtICo9IC0xOwogICAgICAgICAgICBudW0gKj0gTWF0aC5wb3coMTAsIGUgLSAxKTsKICAgICAgICAgICAgbnVtU3RyID0gIjAuIiArIG5ldyBBcnJheShlKS5qb2luKCIwIikgKyBudW0udG9TdHJpbmcoKS5zdWJzdHJpbmcoMik7CiAgICAgICAgICAgIGlmIChuZWdhdGl2ZSkgbnVtU3RyID0gIi0iICsgbnVtU3RyOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgX2UgPSBwYXJzZUludChudW0udG9TdHJpbmcoKS5zcGxpdCgiKyIpWzFdKTsKCiAgICAgICAgICBpZiAoX2UgPiAyMCkgewogICAgICAgICAgICBfZSAtPSAyMDsKICAgICAgICAgICAgbnVtIC89IE1hdGgucG93KDEwLCBfZSk7CiAgICAgICAgICAgIG51bVN0ciA9IG51bS50b1N0cmluZygpICsgbmV3IEFycmF5KF9lICsgMSkuam9pbigiMCIpOwogICAgICAgICAgfQogICAgICAgIH0gLy8gY29uc3QgemVyb3MgPSB0aGlzLm51bWJlck9mWmVyb3MobnVtU3RyKQoKCiAgICAgICAgcmV0dXJuIG51bVN0cjsgLy9wYXJzZUZsb2F0KG51bVN0cikudG9GaXhlZCh6ZXJvcyArIDEpCiAgICAgIH0KICAgIH0sCiAgICBzaG93V2FyaW5nTWVzc2FnZTogZnVuY3Rpb24gc2hvd1dhcmluZ01lc3NhZ2UodGl0bGUsIHRleHQsIGNvbmZpcm1CdXR0b25UZXh0KSB7CiAgICAgIHRoaXMuJHN3YWwoewogICAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgICB0ZXh0OiB0ZXh0LAogICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBjb25maXJtQnV0dG9uVGV4dAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coIjEiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uVmFyaWFuY2VBY2NDaGFuZ2VkOiBmdW5jdGlvbiBvblZhcmlhbmNlQWNjQ2hhbmdlZCgpIHsKICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlKCk7CiAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZUFwcGx5VG8oKTsKICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlRGVwb3NpdCgpOwogICAgICB0aGlzLmF1dG9DYWxjdWxhdGVDYXNoUmVmdW5kKCk7CiAgICAgIHRoaXMuY2FsY3VsYXRlQW1vdW50KCk7CiAgICB9LAogICAgc2hyaW5rRGF0YTogZnVuY3Rpb24gc2hyaW5rRGF0YSgpIHsKICAgICAgdGhpcy5qUmF3ID0gW107CiAgICAgIHZhciBvYmogPSB0aGlzLmpSYXcuY29uY2F0KHRoaXMualJhdzEsIHRoaXMualJhdzIsIHRoaXMualJhdzMsIHRoaXMualJhdzQsIHRoaXMualJhdzUpOwogICAgICB2YXIgdW5pcXVlcyA9IHRoaXMucmVtb3ZlRHVwbGljYXRlKG9iaik7CiAgICAgIC8qWy4uLm5ldyBTZXQoYWNjb3VudElkLm1hcChpID0+IHsKICAgICAgIHJldHVybiB7CiAgICAgICAgICAgaWRfOiBpLmlkXywKICAgICAgICAgICBpZDogaS5pZCwKICAgICAgICAgICB0eXBlOiBpLnR5cGUKICAgICAgIH0KICAgICAgfSkpXSovCgogICAgICB1bmlxdWVzLmZvckVhY2goZnVuY3Rpb24gKG4pIHsKICAgICAgICB2YXIgZm91bmQgPSBvYmouZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICByZXR1cm4gbS5pZCA9PT0gbi5pZDsKICAgICAgICB9KTsKICAgICAgICB2YXIgYW1vdW50ID0gMCwKICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQgPSAwOwogICAgICAgIGZvdW5kLmZvckVhY2goZnVuY3Rpb24gKHopIHsKICAgICAgICAgIGFtb3VudCArPSBwYXJzZUZsb2F0KHouYW1vdW50IHx8IDApOwogICAgICAgICAgZXhjaGFuZ2VBbW91bnQgKz0gcGFyc2VGbG9hdCh6LmV4Y2hhbmdlQW1vdW50IHx8IDApOwogICAgICAgIH0pOwogICAgICAgIG4uZXhjaGFuZ2VBbW91bnQgPSBwYXJzZUZsb2F0KGV4Y2hhbmdlQW1vdW50KTsgLy90aGlzLm51bWJlckZvcm1hdChhbW91bnQpCgogICAgICAgIG4uYW1vdW50ID0gcGFyc2VGbG9hdChhbW91bnQpOwogICAgICB9KTsKICAgICAgdGhpcy5qUmF3ID0gdW5pcXVlczsKICAgICAgdmFyIGRyID0gMCwKICAgICAgICAgIGNyID0gMDsKICAgICAgdGhpcy5qUmF3LmZvckVhY2goZnVuY3Rpb24gKGopIHsKICAgICAgICBzd2l0Y2ggKGoudHlwZSkgewogICAgICAgICAgY2FzZSAiY3IiOgogICAgICAgICAgICBjciArPSBwYXJzZUZsb2F0KGouYW1vdW50KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAiZHIiOgogICAgICAgICAgICBkciArPSBwYXJzZUZsb2F0KGouYW1vdW50KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5kciA9IGRyOwogICAgICB0aGlzLmNyID0gY3I7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygiZHI9IiwgZHIsICJjcj0iLCBjciwgImRyK2NyID0gIiwgZHIgKyBjcik7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh0aGlzLmpSYXcpLCAidW5pcXVlcyIsIHRoaXMuY3JlZGl0TWVtbyk7CiAgICB9LAogICAgb2Zmc2V0SW52b2ljZUNoYW5nZWQ6IGZ1bmN0aW9uIG9mZnNldEludm9pY2VDaGFuZ2VkKCkgewogICAgICAvL3RvZG86IGFkZCBpbnZvaWNlIHRvIGxpbmUKICAgICAgaWYgKHRoaXMub2Zmc2V0SW52b2ljZSkgewogICAgICAgIHZhciB0eG5JZCA9IHRoaXMub2Zmc2V0SW52b2ljZS5pZCB8fCB7fTsKICAgICAgICB0aGlzLmNyZWRpdE1lbW8ubG9jYXRpb24gPSB0aGlzLm9mZnNldEludm9pY2UubG9jYXRpb24gfHwge307CiAgICAgICAgdGhpcy5jcmVkaXRNZW1vLnNlZ21lbnQgPSB0aGlzLm9mZnNldEludm9pY2Uuc2VnbWVudCB8fCB7fTsKICAgICAgICB0aGlzLmNyZWRpdE1lbW8ucHJvamVjdCA9IHRoaXMub2Zmc2V0SW52b2ljZS5wcm9qZWN0IHx8IHt9OwogICAgICAgIHRoaXMub2Zmc2V0TGlzdCA9IFtdOwoKICAgICAgICBpZiAodHhuSWQpIHsKICAgICAgICAgIHRoaXMub2Zmc2V0TGlzdCA9IHRoaXMub2Zmc2V0SW52b2ljZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgIHJldHVybiBvLmlkID09PSB0eG5JZDsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5yZWZGcm9tLnB1c2goewogICAgICAgICAgICBpZDogdGhpcy5vZmZzZXRJbnZvaWNlLmlkIHx8ICcnLAogICAgICAgICAgICByZWZlcmVuY2U6IHRoaXMub2Zmc2V0SW52b2ljZS5yZWZlcmVuY2VObyB8fCAnJywKICAgICAgICAgICAgdHlwZTogJ0ludm9pY2UnCiAgICAgICAgICB9KTsKICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygncmVmRicsIHRoaXMucmVmRnJvbSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcHJpY2VUZW1wbGF0ZTogZnVuY3Rpb24gcHJpY2VUZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICBpZiAoZGF0YUl0ZW0pIHsKICAgICAgICBpZiAoZGF0YUl0ZW0uaGFzT3duUHJvcGVydHkoInByaWNlIikpIHsKICAgICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhkYXRhSXRlbS5wcmljZSB8fCAwLCBkYXRhSXRlbS5kZWNpbWFsRm9ybWF0KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiAwOwogICAgfSwKICAgIGFtdFRlbXBsYXRlOiBmdW5jdGlvbiBhbXRUZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICBpZiAoZGF0YUl0ZW0pIHsKICAgICAgICBpZiAoZGF0YUl0ZW0uaGFzT3duUHJvcGVydHkoImFtb3VudCIpKSB7CiAgICAgICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcoZGF0YUl0ZW0uYW1vdW50IHx8IDAsIGRhdGFJdGVtLmRlY2ltYWxGb3JtYXQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIDA7CiAgICB9LAogICAgSGVscDogZnVuY3Rpb24gSGVscChrZXlfc2VhcmNoKSB7CiAgICAgIFNob3dSZXNvdXJjZShrZXlfc2VhcmNoKTsKICAgIH0sCiAgICBtZXRob2RUZW1wbGF0ZTogZnVuY3Rpb24gbWV0aG9kVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIG1ldGhvZCA9IGRhdGFJdGVtLnBheW1lbnRPcHRpb247CgogICAgICBpZiAobWV0aG9kKSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChtZXRob2QuYmFua0FjY291bnROYW1lIHx8ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIGFtb3VudFRlbXBsYXRlOiBmdW5jdGlvbiBhbW91bnRUZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgYW10ID0gZGF0YUl0ZW0uYW1vdW50OwoKICAgICAgaWYgKGFtdCkgewogICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhwYXJzZUZsb2F0KGFtdCksICIiLmNvbmNhdCh0aGlzLmRlY2ltYWxGb3JtYXQpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgfSwKICAgIG1ldGhvZERyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBtZXRob2REcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9Y29kZSMgLSAjPSBuYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS1TZWxlY3QtLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLnBheW1lbnRNZXRob2QKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBudW1iZXJGb3JtYXQ6IGZ1bmN0aW9uIG51bWJlckZvcm1hdCh2YWx1ZSkgewogICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcodmFsdWUsICIiLmNvbmNhdCh0aGlzLmRlY2ltYWxGb3JtYXQpKTsKICAgIH0sCiAgICBvbkRlcG9zaXRMaW5lRFNDaGFuZ2U6IGZ1bmN0aW9uIG9uRGVwb3NpdExpbmVEU0NoYW5nZShlKSB7CiAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgdmFyIGRhdGFSb3cgPSBlLml0ZW1zWzBdOwoKICAgICAgICBzd2l0Y2ggKGUuZmllbGQpIHsKICAgICAgICAgIGNhc2UgImFtb3VudCI6CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIGRhdGFSb3cuYW1vdW50KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGUoKTsKICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGVBcHBseVRvKCk7CiAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlRGVwb3NpdCgpOwogICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZUNhc2hSZWZ1bmQoKTsKICAgICAgICB0aGlzLmNhbGN1bGF0ZUFtb3VudCgpOwogICAgICB9CiAgICB9LAogICAgb25BcHBseVRvTGluZUNoYW5nZTogZnVuY3Rpb24gb25BcHBseVRvTGluZUNoYW5nZShlKSB7CiAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgdmFyIGRhdGFSb3cgPSBlLml0ZW1zWzBdLAogICAgICAgICAgICBvZmZzZXQgPSAwLAogICAgICAgICAgICBhbW91bnQgPSAwOwoKICAgICAgICBzd2l0Y2ggKGUuZmllbGQpIHsKICAgICAgICAgIGNhc2UgInBhaWRBbW91bnQiOgogICAgICAgICAgICBhbW91bnQgPSBwYXJzZUZsb2F0KGRhdGFSb3cuYW1vdW50KTsKICAgICAgICAgICAgb2Zmc2V0ID0gcGFyc2VGbG9hdChkYXRhUm93LnBhaWRBbW91bnQpOwoKICAgICAgICAgICAgaWYgKG9mZnNldCA+IGFtb3VudCkgewogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJwYWlkQW1vdW50IiwgYW1vdW50KTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgicGFpZEFtb3VudFRvYmFzZSIsIGFtb3VudCAqIGRhdGFSb3cudHhuUmF0ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInBhaWRBbW91bnRUb2Jhc2UiLCBkYXRhUm93LnBhaWRBbW91bnQgKiBkYXRhUm93LnR4blJhdGUpOwogICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJwYWlkQW1vdW50VHhuIiwgb2Zmc2V0ICogcGFyc2VGbG9hdChkYXRhUm93LnR4blJhdGUpKTsKICAgICAgICAgICAgfSAvLyB3aW5kb3cuY29uc29sZS5sb2coZGF0YVJvdy5wYWlkQW1vdW50ICogMSAvIGRhdGFSb3cucmF0ZVRvYmFzZSwgJ0FQUExZIFJPJykKCgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZUFwcGx5VG8oKTsKICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGVEZXBvc2l0KCk7CiAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlQ2FzaFJlZnVuZCgpOwogICAgICAgIHRoaXMuY2FsY3VsYXRlQW1vdW50KCk7CiAgICAgIH0KICAgIH0sCiAgICBvbkNhc2hSZWZ1bmRDaGFuZ2U6IGZ1bmN0aW9uIG9uQ2FzaFJlZnVuZENoYW5nZShlKSB7CiAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgdmFyIGRhdGFSb3cgPSBlLml0ZW1zWzBdLAogICAgICAgICAgICBwT3B0aW9uID0ge307CgogICAgICAgIHN3aXRjaCAoZS5maWVsZCkgewogICAgICAgICAgY2FzZSAicGF5bWVudE9wdGlvbiI6CiAgICAgICAgICAgIHBPcHRpb24gPSBkYXRhUm93LnBheW1lbnRPcHRpb24gfHwge307CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhY2NvdW50IiwgcE9wdGlvbi5hY2NvdW50IHx8IHt9KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoZS5maWVsZCkgewogICAgICAgIC8vIHRoaXMuYXV0b0NhbGN1bGF0ZUNhc2hSZWZ1bmQoKQogICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZUFwcGx5VG8oKTsKICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGVEZXBvc2l0KCk7CiAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlQ2FzaFJlZnVuZCgpOwogICAgICAgIHRoaXMuY2FsY3VsYXRlQW1vdW50KCk7CiAgICAgIH0KICAgIH0sCiAgICBub3dUaW1lczogZnVuY3Rpb24gbm93VGltZXMoKSB7CiAgICAgIHZhciBwZXJmRGF0YSA9IHdpbmRvdy5wZXJmb3JtYW5jZS50aW1pbmc7CiAgICAgIHZhciBwYWdlTG9hZFRpbWUgPSBwZXJmRGF0YS5sb2FkRXZlbnRFbmQgLSBwZXJmRGF0YS5uYXZpZ2F0aW9uU3RhcnQ7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhwYWdlTG9hZFRpbWUsICItLSIpOwogICAgfSwKICAgIG9uRW1wbG95ZWVDaGFuZ2VkOiBmdW5jdGlvbiBvbkVtcGxveWVlQ2hhbmdlZChldmVudCkgewogICAgICB2YXIgdmFsdWUgPSBldmVudC52YWx1ZTsKCiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZVt0ZXh0RmllbGRdID09PSBlbXB0eUl0ZW1bdGV4dEZpZWxkXSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5tRW1wbG95ZWUgPSB2YWx1ZTsKICAgICAgdGhpcy5jcmVkaXRNZW1vLmVtcGxveWVlID0gdmFsdWU7CiAgICB9LAogICAgYWZ0ZXJGZXRjaF86IGZ1bmN0aW9uIGFmdGVyRmV0Y2hfKGpzb24pIHsKICAgICAgdGhpcy5lbXBsb3llZXMgPSBqc29uLmRhdGE7CiAgICB9LAogICAgb25FbXBsb3llZUZpbHRlckNoYW5nZWQ6IGZ1bmN0aW9uIG9uRW1wbG95ZWVGaWx0ZXJDaGFuZ2VkKGV2ZW50KSB7CiAgICAgIHZhciBmaWx0ZXIgPSBldmVudC5maWx0ZXIudmFsdWU7CiAgICAgIHRoaXMucmVxdWVzdERhdGFfKDAsIGZpbHRlciwgdGhpcy5lbXBCYXNlVXJsKTsKICAgICAgdGhpcy5maWx0ZXJfID0gZmlsdGVyOwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVEaXNjb3VudDogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZURpc2NvdW50KGRpc2NvdW50SXRlbSwgc3ViVG90YWwpIHsKICAgICAgaWYgKGRpc2NvdW50SXRlbSkgewogICAgICAgIHZhciBuYXR1cmUgPSBkaXNjb3VudEl0ZW0ubmF0dXJlIHx8ICcnOwogICAgICAgIHZhciBhbW91bnQgPSBkaXNjb3VudEl0ZW0uYW1vdW50IHx8IDA7CgogICAgICAgIGlmIChuYXR1cmUgPT09ICdBbW91bnQnKSB7CiAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChhbW91bnQpOwogICAgICAgIH0gZWxzZSBpZiAobmF0dXJlID09PSAnUGVyY2VudGFnZScpIHsKICAgICAgICAgIHJldHVybiBzdWJUb3RhbCAqIChwYXJzZUZsb2F0KGFtb3VudCkgLyAxMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlVGF4OiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlVGF4KHRheCwgYW1vdW50KSB7CiAgICAgIGlmICh0YXgpIHsKICAgICAgICB2YXIgZm9ybXVsYSA9IHRheC5mb3JtdWxhOwogICAgICAgIHZhciBpbkFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB2YXIgbkFtdCA9IGtlbmRvLnBhcnNlRmxvYXQoYW1vdW50KTsKICAgICAgICB2YXIgdGF4QmFzZSA9IGtlbmRvLnBhcnNlRmxvYXQodGF4LnRheEJhc2UpIC8gMTAwOwogICAgICAgIHZhciByYXRlID0ga2VuZG8ucGFyc2VGbG9hdCh0YXgucmF0ZSkgLyAxMDA7CiAgICAgICAgdmFyIHRvdGFsID0gZXZhbChmb3JtdWxhKTsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coaW5BbXQsIG5BbXQsIHRheEJhc2UsIHJhdGUsIGZvcm11bGEsIHRvdGFsKTsKICAgICAgICByZXR1cm4gdG90YWw7CiAgICAgIH0gLy8gcmV0dXJuIDAKCiAgICB9LAogICAgbG9hZFRyYW5zYWN0aW9uUmF0ZTogZnVuY3Rpb24gbG9hZFRyYW5zYWN0aW9uUmF0ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKF90aGlzMi50cmFuc2FjdGlvbkRhdGUpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcHJpY2VMZXZlbCA9IF90aGlzMi5jcmVkaXRNZW1vLnByaWNlTGV2ZWw7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSAiIjsKICAgICAgICAgICAgICAgICAgICBfdGhpczIub2Zmc2V0SW52b2ljZXMgPSBbXTsKICAgICAgICAgICAgICAgICAgICBfdGhpczIub2Zmc2V0TGlzdCA9IFtdOwoKICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2VMZXZlbCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHByaWNlTGV2ZWwuaGFzT3duUHJvcGVydHkoImN1cnJlbmN5IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmNyZWRpdE1lbW8uY3VycmVuY3kgPSBwcmljZUxldmVsLmN1cnJlbmN5OwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByaWNlTGV2ZWwuY3VycmVuY3kuaGFzT3duUHJvcGVydHkoImNvZGUiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBwcmljZUxldmVsLmN1cnJlbmN5LmNvZGU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPT0gdW5kZWZpbmVkIHx8IGNvZGUgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5SGFuZGxlci5nZXRMYXN0RXhjaGFuZ2VSYXRlQnlEYXRlKGRhdGUsIGNvZGUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmV4Y2hhbmdlUmF0ZSA9IHJlcy5kYXRhLmRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuY3VycmVuY3lDb2RlID0gX3RoaXMyLmV4Y2hhbmdlUmF0ZS5jb2RlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnRyYW5zYWN0aW9uUmF0ZSA9IF90aGlzMi5leGNoYW5nZVJhdGUucmF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5jcmVkaXRNZW1vLnR4blJhdGUgPSBfdGhpczIuZXhjaGFuZ2VSYXRlLnJhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudHJhbnNhY3Rpb25SYXRlRGF0ZSA9IF90aGlzMi5leGNoYW5nZVJhdGUuZWZmZWN0aXZlRGF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5jcmVkaXRNZW1vLmV4Y2hhbmdlUmF0ZSA9IF90aGlzMi5leGNoYW5nZVJhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygndGhpcy5jdXN0b21lcicsIF90aGlzMi5jdXN0b21lcik7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5jdXN0b21lcikgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2VhcmNoSW52b2ljZSgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaXNMb2FkaW5nID0gMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDUwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUGF5bWVudFRlcm06IGZ1bmN0aW9uIGxvYWRQYXltZW50VGVybSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBwYXltZW50VGVybUhhbmRsZXIuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5wYXltZW50VGVybXMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczMucGF5bWVudFRlcm1zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmNyZWRpdE1lbW8ucGF5bWVudFRlcm0gPSBfdGhpczMucGF5bWVudFRlcm1zWzBdOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZXJyb3JNZXNzYWdlOiBmdW5jdGlvbiBlcnJvck1lc3NhZ2UoKSB7fSwKICAgIGxvYWRUYXg6IGZ1bmN0aW9uIGxvYWRUYXgoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ0hhbmRsZXIuZ2V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczQudGF4ID0gcmVzOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXM0Lm90aGVyVGF4ID0gX3RoaXM0LnRheC5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChtLnRheFR5cGUudHlwZUlkID09PSA3IHx8IG0udGF4VHlwZS50eXBlSWQgPT09IDEwKSAmJiBtLnRyYW5zYWN0aW9uVHlwZSA9PT0gIlNhbGUiOwogICAgICAgICAgICAgICAgICAgICAgfSk7IC8vIHZhbHVhYmxlIHRheAoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5zcGVjaWZpY1RheCA9IF90aGlzNC50YXguZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAobS50YXhUeXBlLnR5cGVJZCA9PT0gOCB8fCBtLnRheFR5cGUudHlwZUlkID09PSAxMCkgJiYgbS50cmFuc2FjdGlvblR5cGUgPT09ICJTYWxlIjsKICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyB2YWx1YWJsZSB0YXgKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczQucHVibGljTGlnaHRpbmdUYXggPSBfdGhpczQudGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG0udGF4VHlwZS50eXBlSWQgPT09IDkgfHwgbS50YXhUeXBlLnR5cGVJZCA9PT0gMTApICYmIG0udHJhbnNhY3Rpb25UeXBlID09PSAiU2FsZSI7CiAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gdmFsdWFibGUgdGF4CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnZhdFRheCA9IF90aGlzNC50YXguZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAobS50YXhUeXBlLnR5cGVJZCA9PT0gMSB8fCBtLnRheFR5cGUudHlwZUlkID09PSA4IHx8IG0udGF4VHlwZS50eXBlSWQgPT09IDEwKSAmJiBtLnRyYW5zYWN0aW9uVHlwZSA9PT0gIlNhbGUiOwogICAgICAgICAgICAgICAgICAgICAgfSk7IC8vIHZhbHVhYmxlIHRheAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZExvY2F0aW9uOiBmdW5jdGlvbiBsb2FkTG9jYXRpb24oKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIHJvbGVUeXBlLCByb2xlRGF0YSwgbG9jYXRpb24sIGxvY2F0aW9uRGVmYXVsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM1LmxvY2F0aW9ucyA9IFtdOwogICAgICAgICAgICAgICAgcm9sZVR5cGUgPSBkYXRhU3RvcmUucm9sZVR5cGUgfHwgMDsKCiAgICAgICAgICAgICAgICBpZiAocm9sZVR5cGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgaWYgKGRhdGFTdG9yZS5yb2xlRGF0YSkgewogICAgICAgICAgICAgICAgICAgIHJvbGVEYXRhID0gZGF0YVN0b3JlLnJvbGVEYXRhIHx8IFtdOwogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gcm9sZURhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdG0udHlwZSA9PT0gJ2xvY2F0aW9uJzsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbkRlZmF1bHQgPSBsb2NhdGlvbi5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmlzRGVmYXVsdCA9PT0gMTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBfdGhpczUubG9jYXRpb25zID0gbG9jYXRpb247CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczUuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkIHx8IF90aGlzNS4kcm91dGUucGFyYW1zLmlkID09PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uRGVmYXVsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5jcmVkaXRNZW1vLmxvY2F0aW9uID0gbG9jYXRpb25EZWZhdWx0WzBdOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyb2xlVHlwZSA9PT0gMSkgewogICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5sb2NhdGlvbnMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uSGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUubG9jYXRpb25zID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFByb2plY3RCeUN1c3RvbWVyOiBmdW5jdGlvbiBsb2FkUHJvamVjdEJ5Q3VzdG9tZXIoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIHJvbGVUeXBlLCByb2xlRGF0YSwgcHJvamVjdCwgcHJvamVjdERlZmF1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNi5jdXN0b21lclByb2plY3RzID0gW107CiAgICAgICAgICAgICAgICByb2xlVHlwZSA9IGRhdGFTdG9yZS5yb2xlVHlwZSB8fCAwOwoKICAgICAgICAgICAgICAgIGlmIChyb2xlVHlwZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICBpZiAoZGF0YVN0b3JlLnJvbGVEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgcm9sZURhdGEgPSBkYXRhU3RvcmUucm9sZURhdGEgfHwgW107CiAgICAgICAgICAgICAgICAgICAgcHJvamVjdCA9IHJvbGVEYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRtKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRtLnR5cGUgPT09ICdwcm9qZWN0JzsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBwcm9qZWN0LmZvckVhY2goZnVuY3Rpb24gKGspIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXN0b21lcnMgPSBrLmN1c3RvbWVycyB8fCBbXTsKICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9DdXN0b21lciA9IGN1c3RvbWVycy5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4uY3VzdG9tZXIuaWQgPT09IF90aGlzNi5jdXN0b21lci5pZDsKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9DdXN0b21lci5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5jdXN0b21lclByb2plY3RzLnB1c2goayk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczYuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkIHx8IF90aGlzNi4kcm91dGUucGFyYW1zLmlkID09PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgcHJvamVjdERlZmF1bHQgPSBfdGhpczYuY3VzdG9tZXJQcm9qZWN0cy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uaXNEZWZhdWx0ID09PSAxOwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2plY3REZWZhdWx0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmNyZWRpdE1lbW8ucHJvamVjdCA9IHByb2plY3REZWZhdWx0WzBdOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyb2xlVHlwZSA9PT0gMSkgewogICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RIYW5kbGVyLmdldEJ5Q3VzdG9tZXIoX3RoaXM2LmN1c3RvbWVyLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5jdXN0b21lclByb2plY3RzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFNlZ21lbnQ6IGZ1bmN0aW9uIGxvYWRTZWdtZW50KCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciByb2xlVHlwZSwgcm9sZURhdGEsIHNlZ21lbnQsIHNlZ21lbnREZWZhdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczcuc2VnbWVudHMgPSBbXTsKICAgICAgICAgICAgICAgIHJvbGVUeXBlID0gZGF0YVN0b3JlLnJvbGVUeXBlIHx8IDA7CgogICAgICAgICAgICAgICAgaWYgKHJvbGVUeXBlID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIGlmIChkYXRhU3RvcmUucm9sZURhdGEpIHsKICAgICAgICAgICAgICAgICAgICByb2xlRGF0YSA9IGRhdGFTdG9yZS5yb2xlRGF0YSB8fCBbXTsKICAgICAgICAgICAgICAgICAgICBzZWdtZW50ID0gcm9sZURhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdG0udHlwZSA9PT0gJ3NlZ21lbnQnOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHNlZ21lbnREZWZhdWx0ID0gc2VnbWVudC5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmlzRGVmYXVsdCA9PT0gMTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBfdGhpczcuc2VnbWVudHMgPSBzZWdtZW50OwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM3LiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCB8fCBfdGhpczcuJHJvdXRlLnBhcmFtcy5pZCA9PT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWdtZW50RGVmYXVsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5jcmVkaXRNZW1vLnNlZ21lbnQgPSBzZWdtZW50RGVmYXVsdFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sZVR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuc2VnbWVudHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzSGFuZGxlci5nZXRTZWcoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5zZWdtZW50cyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRBY2NvdW50OiBmdW5jdGlvbiBsb2FkQWNjb3VudCgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBhY2NvdW50SGFuZGxlci5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LmFjY0Nhc2ggPSByZXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmFjY291bnRfdHlwZS5udW1iZXIgPD0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbF9uYW1lOiBpdGVtLmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaXRlbS5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0ZW0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuaGppQWNjQ29kZTogaXRlbS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9jb2RlOiBpdGVtLmdyb3VwX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdGVtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2NvZGU6IGl0ZW0udHlwZV9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IGl0ZW0uYWNjb3VudF90eXBlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5hY2NEZXBvc2l0cyA9IHJlcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYWNjb3VudF90eXBlLm51bWJlciA9PT0gMjA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxfbmFtZTogaXRlbS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGl0ZW0ubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc190YXhhYmxlOiBpdGVtLmlzX3RheGFibGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmhqaUFjY0NvZGU6IGl0ZW0uYmFuaGppQWNjQ29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfY29kZTogaXRlbS5ncm91cF9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfYWNjb3VudDogaXRlbS5wYXJlbnRfYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9jb2RlOiBpdGVtLnR5cGVfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudF90eXBlOiBpdGVtLmFjY291bnRfdHlwZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczgudmFyaWFuY2VBY2NzID0gcmVzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5hY2NvdW50X3R5cGUubnVtYmVyID49IDMzICYmIG0uYWNjb3VudF90eXBlLm51bWJlciA8PSA0ODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbF9uYW1lOiBpdGVtLmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaXRlbS5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0ZW0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuaGppQWNjQ29kZTogaXRlbS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9jb2RlOiBpdGVtLmdyb3VwX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdGVtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2NvZGU6IGl0ZW0udHlwZV9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IGl0ZW0uYWNjb3VudF90eXBlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyB0aGlzLmFjY291bnRzID0gYXdhaXQgUHJvbWlzZS5hbGwocmVzLm1hcChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBudW1iZXI6IGl0ZW0ubnVtYmVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9KSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgICAgICAgICAgICAgICAgICB9KSkoKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgNTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQcmljZUxldmVsOiBmdW5jdGlvbiBsb2FkUHJpY2VMZXZlbCgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBzdHJGaWx0ZXIgPSAnP25hdHVyZT1zYWxlJzsKICAgICAgICAgICAgICAgICAgICBwcmljZUxldmVsSGFuZGxlci5nZXQoc3RyRmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5wcmljZUxldmVsID0gcmVzOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczkucHJpY2VMZXZlbC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5jcmVkaXRNZW1vLnByaWNlTGV2ZWwgPSBfdGhpczkucHJpY2VMZXZlbFswXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwgNTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZERpc2NvdW50SXRlbTogZnVuY3Rpb24gbG9hZERpc2NvdW50SXRlbSgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEl0ZW1IYW5kbGVyLmxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5zcGVjaWZpY0Rpc2NvdW50SXRlbSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDUwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRTYWxlRm9ybUNvbnRlbnQ6IGZ1bmN0aW9uIGxvYWRTYWxlRm9ybUNvbnRlbnQoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgc2FsZUZvcm1Db250ZW50SGFuZGxlci5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczExLnNhbGVGb3JtQ29udGVudCA9IGRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5kZWNpbWFsRm9ybWF0ID0gIm4iICsgZGF0YVswXS5kZWNpbWFsIHx8ICJuMiI7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEuYWRkUm93KCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEuYWRkUm93RGVwb3NpdCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczExLmFkZFJvd0Nhc2hSZWZ1bmQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBpbml0RGF0YTogZnVuY3Rpb24gaW5pdERhdGEoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTIuJHJvdXRlLnBhcmFtcy5pZCAhPT0gdW5kZWZpbmVkKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTIubG9hZFZpZXdDcmVkaXRNZW1vKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdGF4TWFwcGluZzogZnVuY3Rpb24gdGF4TWFwcGluZyhvYmpUYXgsIHRheCkgewogICAgICB2YXIgdGF4SWQgPSB0YXguaWQgfHwgJyc7CiAgICAgIHZhciB0YXhfID0gb2JqVGF4LmZpbHRlcihmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiB0LmlkID09PSB0YXhJZDsKICAgICAgfSlbMF07CiAgICAgIHJldHVybiB0YXhfIHx8IHsKICAgICAgICBpZDogJycsCiAgICAgICAgZGVmYXVsdFRheDogJycKICAgICAgfTsKICAgIH0sCiAgICBkYXRhU291cmNlQ2hhbmdlZDogZnVuY3Rpb24gZGF0YVNvdXJjZUNoYW5nZWQoZSkgewogICAgICBpZiAoZS5maWVsZCkgewogICAgICAgIHZhciBkYXRhUm93ID0gZS5pdGVtc1swXSwKICAgICAgICAgICAgYnVvbSA9IHt9LAogICAgICAgICAgICB2VGF4ID0ge30sCiAgICAgICAgICAgIHNwVGF4ID0ge30sCiAgICAgICAgICAgIG90VGF4ID0ge30sCiAgICAgICAgICAgIHBsVGF4ID0ge30sCiAgICAgICAgICAgIGNvbnZlcnNpb25SYXRlID0gMSwKICAgICAgICAgICAgd2FjID0gMCwKICAgICAgICAgICAgcW9oID0gMCwKICAgICAgICAgICAgYW1vdW50ID0gMCwKICAgICAgICAgICAgeEFtb3VudCA9IDAsCiAgICAgICAgICAgIHByaWNlID0gMDsKCiAgICAgICAgc3dpdGNoIChlLmZpZWxkKSB7CiAgICAgICAgICBjYXNlICJpdGVtIjoKICAgICAgICAgICAgLy8gdGhpcy5hdHRyaWJ1dGVfID0gdGhpcy5hdHRyaWJ1dGVzLmZpbHRlcihtID0+IG0udHlwZS5pZCA9PT0gZGF0YVJvdy52YXJpYW50LmlkKQogICAgICAgICAgICBkYXRhUm93LnNldCgiZGVzY3JpcHRpb24iLCBkYXRhUm93Lml0ZW0uZGVzY3JpcHRpb24pOwogICAgICAgICAgICBidW9tID0gZGF0YVJvdy5pdGVtLnVvbSB8fCB7fTsKICAgICAgICAgICAgZGF0YVJvdy5zZXQoImJ1b20iLCBidW9tKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAicHJpY2UiOgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGFtb3VudCA9IHBhcnNlRmxvYXQoZGF0YVJvdy5wcmljZSkgKiBwYXJzZUZsb2F0KGRhdGFSb3cucXR5KTsKICAgICAgICAgICAgICB4QW1vdW50ID0gYW1vdW50ICogcGFyc2VGbG9hdCh0aGlzLmNyZWRpdE1lbW8udHhuUmF0ZSk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInByaWNlIiwgcGFyc2VGbG9hdChkYXRhUm93LnByaWNlKSk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIGFtb3VudCk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlQW1vdW50IiwgeEFtb3VudCk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZygncHJpY2UnLGRhdGFSb3cucHJpY2UpCiAgICAgICAgICAgIH0gY2F0Y2ggKF91bnVzZWQpIHsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgicHJpY2UiLCAwKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgMCk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlQW1vdW50IiwgMCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgInVvbSI6CiAgICAgICAgICAgIGlmICh0aGlzLmlzUHJpY2VMZXZlbENoYW5nZWQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGJ1b20gPSBkYXRhUm93LnVvbS5idW9tIHx8IHt9OwogICAgICAgICAgICAgICAgYnVvbSA9IGRhdGFSb3cudW9tLmJ1b20gfHwge307CiAgICAgICAgICAgICAgICBxb2ggPSBkYXRhUm93LnVvbS5xb2ggfHwgMDsKICAgICAgICAgICAgICAgIGNvbnZlcnNpb25SYXRlID0gZGF0YVJvdy51b20uY29udmVyc2lvblJhdGUgfHwgMTsKICAgICAgICAgICAgICAgIHdhYyA9IGRhdGFSb3cudW9tLndhYyB8fCAwOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImJ1b20iLCBidW9tKTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJ3YWMiLCB3YWMpOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInFvaCIsIHFvaCk7CiAgICAgICAgICAgICAgICAvKiB0b2RvOiBtYXBwaW5nIHRheCBvYmplY3QgKi8KCiAgICAgICAgICAgICAgICB2VGF4ID0gdGhpcy50YXhNYXBwaW5nKHRoaXMudmF0VGF4LCBkYXRhUm93LnVvbS52YXRUYXggfHwge30pOwogICAgICAgICAgICAgICAgb3RUYXggPSB0aGlzLnRheE1hcHBpbmcodGhpcy5vdGhlclRheCwgZGF0YVJvdy51b20ub3RoZXJUYXggfHwge30pOwogICAgICAgICAgICAgICAgc3BUYXggPSB0aGlzLnRheE1hcHBpbmcodGhpcy5zcGVjaWZpY1RheCwgZGF0YVJvdy51b20uc3BlY2lmaWNUYXggfHwge30pOwogICAgICAgICAgICAgICAgcGxUYXggPSB0aGlzLnRheE1hcHBpbmcodGhpcy5wdWJsaWNMaWdodGluZ1RheCwgZGF0YVJvdy51b20ucHVibGljTGlnaHRpbmdUYXggfHwge30pOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInZhdFRheCIsIHZUYXgpOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInNwZWNpZmljVGF4Iiwgb3RUYXgpOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoIm90aGVyVGF4Iiwgc3BUYXgpOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInB1YmxpY0xpZ2h0aW5nVGF4IiwgcGxUYXgpOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNvbnZlcnNpb25SYXRlIiwgcGFyc2VGbG9hdChjb252ZXJzaW9uUmF0ZSkpOyAvLyBkYXRhUm93LnNldCgncHJpY2UnLCBwYXJzZUZsb2F0KGRhdGFSb3cudW9tLnByaWNlKSkKICAgICAgICAgICAgICAgIC8vIGRhdGFSb3cuc2V0KCdhbW91bnQnLCBwYXJzZUZsb2F0KGRhdGFSb3cudW9tLnByaWNlKSAqIHBhcnNlRmxvYXQoZGF0YVJvdy5xdHkpKQoKICAgICAgICAgICAgICAgIGlmIChkYXRhUm93LnVvbSkgewogICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coZGF0YVJvdywgImRhdGFSb3ciKTsKICAgICAgICAgICAgICAgICAgYW1vdW50ID0gcGFyc2VGbG9hdChkYXRhUm93LnVvbS5wcmljZSkgKiBwYXJzZUZsb2F0KGRhdGFSb3cucXR5KTsKICAgICAgICAgICAgICAgICAgeEFtb3VudCA9IGFtb3VudCAqIHBhcnNlRmxvYXQodGhpcy5jcmVkaXRNZW1vLnR4blJhdGUpOwogICAgICAgICAgICAgICAgICBwcmljZSA9IHBhcnNlRmxvYXQoZGF0YVJvdy51b20ucHJpY2UpOwogICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgicHJpY2UiLCBwcmljZSk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJhbW91bnQiLCBhbW91bnQpOwogICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZXhjaGFuZ2VBbW91bnQiLCB4QW1vdW50KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhkYXRhUm93LCAiZGF0YVJvdy0tIik7CiAgICAgICAgICAgICAgICAgIGFtb3VudCA9IHBhcnNlRmxvYXQoZGF0YVJvdy5wcmljZSkgKiBwYXJzZUZsb2F0KGRhdGFSb3cucXR5KTsKICAgICAgICAgICAgICAgICAgeEFtb3VudCA9IGFtb3VudCAqIHBhcnNlRmxvYXQodGhpcy5jcmVkaXRNZW1vLnR4blJhdGUpOwogICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgicHJpY2UiLCBwYXJzZUZsb2F0KGRhdGFSb3cucHJpY2UpKTsKICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImFtb3VudCIsIGFtb3VudCk7CiAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJleGNoYW5nZUFtb3VudCIsIHhBbW91bnQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gY2F0Y2ggKF91bnVzZWQyKSB7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYnVvbSIsIHt9KTsKICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjb252ZXJzaW9uUmF0ZSIsIDEpOwogICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoInByaWNlIiwgMCk7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgMCk7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgicW9oIiwgMCk7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgid2FjIiwgMCk7CiAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZXhjaGFuZ2VBbW91bnQiLCAwKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgInF0eSI6CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgYW1vdW50ID0gcGFyc2VGbG9hdChkYXRhUm93LnByaWNlKSAqIHBhcnNlRmxvYXQoZGF0YVJvdy5xdHkpOwogICAgICAgICAgICAgIHhBbW91bnQgPSBhbW91bnQgKiBwYXJzZUZsb2F0KHRoaXMuY3JlZGl0TWVtby50eG5SYXRlKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgicHJpY2UiLCBwYXJzZUZsb2F0KGRhdGFSb3cucHJpY2UpKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgYW1vdW50KTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiZXhjaGFuZ2VBbW91bnQiLCB4QW1vdW50KTsKICAgICAgICAgICAgfSBjYXRjaCAoX3VudXNlZDMpIHsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgicHJpY2UiLCAwKTsKICAgICAgICAgICAgICBkYXRhUm93LnNldCgiYW1vdW50IiwgMCk7CiAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoImV4Y2hhbmdlQW1vdW50IiwgMCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgIm90aGVyVGF4IjoKICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCItLSIsIGRhdGFSb3cpCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgaWYgKGUuZmllbGQpIHsKICAgICAgICAgIHRoaXMuYXV0b0NhbGN1bGF0ZSgpOwogICAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlQXBwbHlUbygpOwogICAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlRGVwb3NpdCgpOwogICAgICAgICAgdGhpcy5hdXRvQ2FsY3VsYXRlQ2FzaFJlZnVuZCgpOwogICAgICAgICAgdGhpcy5jYWxjdWxhdGVBbW91bnQoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBvbkFjY291bnRMaW5lRFNDaGFuZ2VkOiBmdW5jdGlvbiBvbkFjY291bnRMaW5lRFNDaGFuZ2VkKGUpIHsKICAgICAgaWYgKGUuZmllbGQpIHsKICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGVBY2NvdW50TGluZSgpOwogICAgICB9CiAgICB9LAogICAgYXV0b0NhbGN1bGF0ZTogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZSgpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBzdWJUb3RhbCA9IDAsCiAgICAgICAgICB0b3RhbFRheCA9IDAsCiAgICAgICAgICBkaXNjb3VudFRvdGFsID0gMCwKICAgICAgICAgIG90aGVyQ2hhcmdlVG90YWwgPSAwLAogICAgICAgICAgc3BUYXggPSAwLAogICAgICAgICAgcGx0YXggPSAwLAogICAgICAgICAgb3RoZXJUYXggPSAwLAogICAgICAgICAgdmF0VGF4ID0gMCwKICAgICAgICAgIHRheExpc3QgPSBbXSwKICAgICAgICAgIGRpc2NvdW50SXRlbSA9IFtdLAogICAgICAgICAgb3RoZXJDaGFyZ2VJdGVtID0gW10sCiAgICAgICAgICB0YXhMaXN0RGV0YWlsID0gW10sCiAgICAgICAgICBvdGhlckNoYXJnZUxpbmUgPSBbXSwKICAgICAgICAgIHNhbGVVbml0ID0gW10sCiAgICAgICAgICBpbmNsdXNpdmVUYXggPSAwLAogICAgICAgICAgd2l0aGhvbGRpbmdUYXhBbW91bnQgPSAwLAogICAgICAgICAgaXRlbVN1YnRvdGFsID0gMCwKICAgICAgICAgIHR4bkl0bVN1YnRvdGFsID0gMCwKICAgICAgICAgIHNlcnZpY2VTdWJ0b3RhbCA9IDAsCiAgICAgICAgICBpdGVtRGlzY291bnQgPSAwLAogICAgICAgICAgc2VydmljZURpc2NvdW50ID0gMCwKICAgICAgICAgIHR4bkRpc2NvdW50ID0gMDsKICAgICAgdmFyIG5hdHVyZSA9ICIiLAogICAgICAgICAgY3VycmVuY3kgPSB0aGlzLmNyZWRpdE1lbW8uY3VycmVuY3ksCiAgICAgICAgICBjdXJyZW5jeUNvZGUgPSB0aGlzLmNyZWRpdE1lbW8uY3VycmVuY3kgPyB0aGlzLmNyZWRpdE1lbW8uY3VycmVuY3kuY29kZSA6ICIiOwogICAgICB0aGlzLmpSYXcxID0gW107IC8vIGNvbnN0IHJvd3MgPSBkcy5kYXRhKCkuZmlsdGVyKG0gPT4gcGFyc2VGbG9hdChtLmFtb3VudCkgPiAwKQogICAgICAvLyBpZiAocm93cykgewoKICAgICAgZHMuZGF0YSgpLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdmFyIG1vZGlmaWVyUHJpY2UgPSAwLAogICAgICAgICAgICBpbmNUYXggPSAwLAogICAgICAgICAgICB3aFRheEFtb3VudCA9IDAsCiAgICAgICAgICAgIHRheFR5cGVJZCA9IDA7CgogICAgICAgIGlmICh2YWx1ZS5tb2RpZmllcikgewogICAgICAgICAgbW9kaWZpZXJQcmljZSA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUubW9kaWZpZXIucHJpY2UpOwogICAgICAgIH0gLy8gc3ViVG90YWwgKz0gKGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSArIG1vZGlmaWVyUHJpY2UpCgoKICAgICAgICB2YXIgZGlzY291bnQgPSAwLAogICAgICAgICAgICBvdGhlckNoYXJnZSA9IDA7CiAgICAgICAgdmFyIG90aGVyQ2hhcmdlRmllbGQgPSB2YWx1ZS5vdGhlckNoYXJnZUl0ZW0gfHwge307CiAgICAgICAgdmFyIG90aGVyQ2hhcmdlRmllbGRBY2MgPSBvdGhlckNoYXJnZUZpZWxkLmFjY291bnQgfHwge307CiAgICAgICAgdmFyIG90aGVyQ2hhcmdlRmllbGRBY2NJZCA9IG90aGVyQ2hhcmdlRmllbGRBY2MudXVpZCB8fCAnJzsKCiAgICAgICAgaWYgKHZhbHVlLm90aGVyQ2hhcmdlSXRlbSkgewogICAgICAgICAgdmFyIF9zdWJUb3RhbCA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucHJpY2UpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdHkpOwoKICAgICAgICAgIG90aGVyQ2hhcmdlID0gX3RoaXMxMy5hdXRvQ2FsY3VsYXRlRGlzY291bnQob3RoZXJDaGFyZ2VGaWVsZCwgX3N1YlRvdGFsKTsKICAgICAgICAgIHZhbHVlWyJvdGhlckNoYXJnZUFtb3VudCJdID0gb3RoZXJDaGFyZ2U7CiAgICAgICAgICB2YWx1ZVsib3RoZXJDaGFyZ2VFeGNoYW5nZUFtb3VudCJdID0gb3RoZXJDaGFyZ2UgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTMuY3JlZGl0TWVtby50eG5SYXRlKTsKCiAgICAgICAgICBpZiAodmFsdWUub3RoZXJDaGFyZ2VJdGVtLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgIG90aGVyQ2hhcmdlSXRlbS5wdXNoKHZhbHVlLm90aGVyQ2hhcmdlSXRlbSk7CiAgICAgICAgICAgIG90aGVyQ2hhcmdlTGluZS5wdXNoKHsKICAgICAgICAgICAgICBpZDogdmFsdWUub3RoZXJDaGFyZ2VJdGVtLmlkLAogICAgICAgICAgICAgIG5hbWU6IHZhbHVlLm90aGVyQ2hhcmdlSXRlbS5uYW1lLAogICAgICAgICAgICAgIGFtb3VudDogb3RoZXJDaGFyZ2UsCiAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IG90aGVyQ2hhcmdlICogcGFyc2VGbG9hdChfdGhpczEzLmNyZWRpdE1lbW8udHhuUmF0ZSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgb3RoZXJDaGFyZ2VUb3RhbCArPSBvdGhlckNoYXJnZSB8fCAwOwoKICAgICAgICAgIGlmIChvdGhlckNoYXJnZSAqIC0xID4gMCkgewogICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAob3RoZXJDaGFyZ2VGaWVsZEFjYykgewogICAgICAgICAgICBpZiAob3RoZXJDaGFyZ2VGaWVsZEFjY0lkICE9PSAnJykgewogICAgICAgICAgICAgIF90aGlzMTMualJhdy5wdXNoKHsKICAgICAgICAgICAgICAgIGlkOiBvdGhlckNoYXJnZUZpZWxkQWNjSWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIk90aGVyIENoYXJnZSIsCiAgICAgICAgICAgICAgICBhY2NvdW50OiBvdGhlckNoYXJnZUZpZWxkQWNjLAogICAgICAgICAgICAgICAgYWNjb3VudElkOiBvdGhlckNoYXJnZUZpZWxkQWNjSWQsCiAgICAgICAgICAgICAgICBhbW91bnQ6IG90aGVyQ2hhcmdlICogLTEsCiAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogb3RoZXJDaGFyZ2UgKiAtMSAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMy5jcmVkaXRNZW1vLnR4blJhdGUpLAogICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgdHlwZUFzOiAib3RoZXJDaGFyZ2UiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh2YWx1ZS5kaXNjb3VudEl0ZW0pIHsKICAgICAgICAgIHZhciBkaXNJdGVtRmllbGQgPSB2YWx1ZS5kaXNjb3VudEl0ZW07CiAgICAgICAgICB2YXIgc3ViVG8gPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLnByaWNlKSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucXR5KTsKICAgICAgICAgIGRpc2NvdW50ID0gX3RoaXMxMy5hdXRvQ2FsY3VsYXRlRGlzY291bnQodmFsdWUuZGlzY291bnRJdGVtLCBzdWJUbyk7CiAgICAgICAgICB2YWx1ZVsiZGlzY291bnRBbW91bnQiXSA9IGRpc2NvdW50OwogICAgICAgICAgdmFsdWVbImRpc2NvdW50RXhjaGFuZ2VBbW91bnQiXSA9IGRpc2NvdW50ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczEzLmNyZWRpdE1lbW8udHhuUmF0ZSk7CgogICAgICAgICAgaWYgKHZhbHVlLmRpc2NvdW50SXRlbS5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICBkaXNjb3VudEl0ZW0ucHVzaCh2YWx1ZS5kaXNjb3VudEl0ZW0pOwogICAgICAgICAgfQoKICAgICAgICAgIGRpc2NvdW50VG90YWwgKz0gZGlzY291bnQgPyBkaXNjb3VudCA6IDA7CgogICAgICAgICAgaWYgKGRpc2NvdW50ICogLTEgPiAwKSB7CiAgICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChkaXNJdGVtRmllbGQuYWNjb3VudCkgewogICAgICAgICAgICBpZiAoZGlzSXRlbUZpZWxkLmFjY291bnQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICBfdGhpczEzLmpSYXcxLnB1c2goewogICAgICAgICAgICAgICAgaWQ6IGRpc0l0ZW1GaWVsZC5hY2NvdW50LmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwodmFsdWUpLAogICAgICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjdXJyZW5jeUNvZGUsCiAgICAgICAgICAgICAgICBjdXJyZW5jeTogY3VycmVuY3ksCiAgICAgICAgICAgICAgICBtZW1vUmF0ZToga2VuZG8ucGFyc2VGbG9hdChfdGhpczEzLmNyZWRpdE1lbW8udHhuUmF0ZSksCiAgICAgICAgICAgICAgICBsYXN0WFJhdGU6IF90aGlzMTMuY3JlZGl0TWVtby5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIkRpc2NvdW50IiwKICAgICAgICAgICAgICAgIGFjY291bnQ6IGRpc0l0ZW1GaWVsZC5hY2NvdW50LAogICAgICAgICAgICAgICAgYWNjb3VudElkOiBkaXNJdGVtRmllbGQuYWNjb3VudC5pZCwKICAgICAgICAgICAgICAgIGFtb3VudDogZGlzY291bnQgKiAtMSwKICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBkaXNjb3VudCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMy5jcmVkaXRNZW1vLnR4blJhdGUpICogLTEsCiAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICB0eXBlQXM6ICJkaXNjb3VudCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlLnNhbGVVbml0KSB7CiAgICAgICAgICBpZiAodmFsdWUuc2FsZVVuaXQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgc2FsZVVuaXQucHVzaCh2YWx1ZS5zYWxlVW5pdCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUuc3BlY2lmaWNUYXgpIHsKICAgICAgICAgIHNwVGF4ID0gX3RoaXMxMy5hdXRvQ2FsY3VsYXRlVGF4KHZhbHVlLnNwZWNpZmljVGF4LCBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCkgLSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50KSk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZygnc3AgJywgZGlzY291bnQpCgogICAgICAgICAgc3BUYXggPSBrZW5kby5wYXJzZUZsb2F0KHNwVGF4KSA/IGtlbmRvLnBhcnNlRmxvYXQoc3BUYXgpIDogMDsKICAgICAgICAgIHZhciB0YXggPSB2YWx1ZS5zcGVjaWZpY1RheDsKICAgICAgICAgIHZhciBiYXNlQW1vdW50ID0gdGF4LmJhc2VBbW91bnQ7CgogICAgICAgICAgaWYgKGJhc2VBbW91bnQpIHsKICAgICAgICAgICAgaWYgKGJhc2VBbW91bnQudG9Mb3dlckNhc2UoKSA9PT0gImluY2x1c2l2ZSIpIHsKICAgICAgICAgICAgICBpbmNsdXNpdmVUYXggKz0gc3BUYXg7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUuc3BlY2lmaWNUYXguaGFzT3duUHJvcGVydHkoInRheFR5cGUiKSkgewogICAgICAgICAgICB0YXhMaXN0LnB1c2goewogICAgICAgICAgICAgIG5hbWU6IHZhbHVlLnNwZWNpZmljVGF4LnRheFR5cGUubmFtZSwKICAgICAgICAgICAgICBhbW91bnQ6IHNwVGF4LAogICAgICAgICAgICAgIGlkOiB2YWx1ZS5zcGVjaWZpY1RheC50YXhUeXBlLmlkCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgdGF4XyA9IHZhbHVlLnNwZWNpZmljVGF4IHx8IHt9OwogICAgICAgICAgICB0YXhfWyd0YXhBbW91bnRfJ10gPSBzcFRheDsKICAgICAgICAgICAgdGF4X1snYW1vdW50J10gPSB2YWx1ZS5hbW91bnQgfHwgMDsKICAgICAgICAgICAgdGF4X1snZGlzY291bnQnXSA9IGRpc2NvdW50IHx8IDA7CiAgICAgICAgICAgIHRheF9bJ3R4blJhdGUnXSA9IF90aGlzMTMuY3JlZGl0TWVtby50eG5SYXRlIHx8IDE7CiAgICAgICAgICAgIHRheExpc3REZXRhaWwucHVzaCh0YXhfKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc3BUYXggPiAwKSB7CiAgICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBzcGVjaWZpY1RheEZpZWxkID0gdmFsdWUuc3BlY2lmaWNUYXg7CgogICAgICAgICAgaWYgKHNwZWNpZmljVGF4RmllbGQuYWNjb3VudCkgewogICAgICAgICAgICBpZiAoc3BlY2lmaWNUYXhGaWVsZC5hY2NvdW50Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgX3RoaXMxMy5qUmF3MS5wdXNoKHsKICAgICAgICAgICAgICAgIGlkOiBzcGVjaWZpY1RheEZpZWxkLmFjY291bnQuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICBtZW1vUmF0ZToga2VuZG8ucGFyc2VGbG9hdChfdGhpczEzLmNyZWRpdE1lbW8udHhuUmF0ZSksCiAgICAgICAgICAgICAgICBsYXN0WFJhdGU6IF90aGlzMTMuY3JlZGl0TWVtby5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGN1cnJlbmN5Q29kZSwKICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSwKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAiVGF4IiwKICAgICAgICAgICAgICAgIGFjY291bnQ6IHNwZWNpZmljVGF4RmllbGQuYWNjb3VudCwKICAgICAgICAgICAgICAgIGFjY291bnRJZDogc3BlY2lmaWNUYXhGaWVsZC5hY2NvdW50LmlkLAogICAgICAgICAgICAgICAgYW1vdW50OiBzcFRheCwKICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBzcFRheCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMy5jcmVkaXRNZW1vLnR4blJhdGUpLAogICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgdHlwZUFzOiAidGF4IgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUucHVibGljTGlnaHRpbmdUYXgpIHsKICAgICAgICAgIHBsdGF4ID0gX3RoaXMxMy5hdXRvQ2FsY3VsYXRlVGF4KHZhbHVlLnB1YmxpY0xpZ2h0aW5nVGF4LCBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCkgLSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50KSk7CiAgICAgICAgICBwbHRheCA9IGtlbmRvLnBhcnNlRmxvYXQocGx0YXgpID8ga2VuZG8ucGFyc2VGbG9hdChwbHRheCkgOiAwOwogICAgICAgICAgdmFyIF90YXggPSB2YWx1ZS5wdWJsaWNMaWdodGluZ1RheDsKICAgICAgICAgIHZhciBfYmFzZUFtb3VudCA9IF90YXguYmFzZUFtb3VudDsKCiAgICAgICAgICBpZiAoX2Jhc2VBbW91bnQpIHsKICAgICAgICAgICAgaWYgKF9iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCkgPT09ICJpbmNsdXNpdmUiKSB7CiAgICAgICAgICAgICAgaW5jbHVzaXZlVGF4ICs9IHBsdGF4OwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHZhbHVlLnB1YmxpY0xpZ2h0aW5nVGF4Lmhhc093blByb3BlcnR5KCJ0YXhUeXBlIikpIHsKICAgICAgICAgICAgdGF4TGlzdC5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiB2YWx1ZS5wdWJsaWNMaWdodGluZ1RheC50YXhUeXBlLm5hbWUsCiAgICAgICAgICAgICAgYW1vdW50OiBwbHRheCwKICAgICAgICAgICAgICBpZDogdmFsdWUucHVibGljTGlnaHRpbmdUYXgudGF4VHlwZS5pZAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHZhciBfdGF4XyA9IHZhbHVlLnB1YmxpY0xpZ2h0aW5nVGF4IHx8IHt9OwoKICAgICAgICAgICAgX3RheF9bJ3RheEFtb3VudF8nXSA9IHBsdGF4OwogICAgICAgICAgICBfdGF4X1snYW1vdW50J10gPSB2YWx1ZS5hbW91bnQgfHwgMDsKICAgICAgICAgICAgX3RheF9bJ2Rpc2NvdW50J10gPSBkaXNjb3VudCB8fCAwOwogICAgICAgICAgICBfdGF4X1sndHhuUmF0ZSddID0gX3RoaXMxMy5jcmVkaXRNZW1vLnR4blJhdGUgfHwgMTsKICAgICAgICAgICAgdGF4TGlzdERldGFpbC5wdXNoKF90YXhfKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocGx0YXggPiAwKSB7CiAgICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBQTFRheEZpZWxkID0gdmFsdWUucHVibGljTGlnaHRpbmdUYXg7CgogICAgICAgICAgaWYgKFBMVGF4RmllbGQuYWNjb3VudCkgewogICAgICAgICAgICBpZiAoUExUYXhGaWVsZC5hY2NvdW50Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgX3RoaXMxMy5qUmF3MS5wdXNoKHsKICAgICAgICAgICAgICAgIGlkOiBQTFRheEZpZWxkLmFjY291bnQuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICBtZW1vUmF0ZToga2VuZG8ucGFyc2VGbG9hdChfdGhpczEzLmNyZWRpdE1lbW8udHhuUmF0ZSksCiAgICAgICAgICAgICAgICBsYXN0WFJhdGU6IF90aGlzMTMuY3JlZGl0TWVtby5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGN1cnJlbmN5Q29kZSwKICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSwKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAiVGF4IiwKICAgICAgICAgICAgICAgIGFjY291bnQ6IFBMVGF4RmllbGQuYWNjb3VudCwKICAgICAgICAgICAgICAgIGFjY291bnRJZDogUExUYXhGaWVsZC5hY2NvdW50LmlkLAogICAgICAgICAgICAgICAgYW1vdW50OiBwbHRheCwKICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBwbHRheCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMy5jcmVkaXRNZW1vLnR4blJhdGUpLAogICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgdHlwZUFzOiAidGF4IgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUub3RoZXJUYXgpIHsKICAgICAgICAgIG90aGVyVGF4ID0gX3RoaXMxMy5hdXRvQ2FsY3VsYXRlVGF4KHZhbHVlLm90aGVyVGF4LCBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCkgLSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50KSk7CiAgICAgICAgICBvdGhlclRheCA9IGtlbmRvLnBhcnNlRmxvYXQob3RoZXJUYXgpID8ga2VuZG8ucGFyc2VGbG9hdChvdGhlclRheCkgOiAwOwogICAgICAgICAgdmFyIF90YXgyID0gdmFsdWUub3RoZXJUYXg7CiAgICAgICAgICB2YXIgX2Jhc2VBbW91bnQyID0gX3RheDIuYmFzZUFtb3VudDsKCiAgICAgICAgICBpZiAoX2Jhc2VBbW91bnQyKSB7CiAgICAgICAgICAgIGlmIChfYmFzZUFtb3VudDIudG9Mb3dlckNhc2UoKSA9PT0gImluY2x1c2l2ZSIpIHsKICAgICAgICAgICAgICBpbmNsdXNpdmVUYXggKz0gb3RoZXJUYXg7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUub3RoZXJUYXguaGFzT3duUHJvcGVydHkoInRheFR5cGUiKSkgewogICAgICAgICAgICB0YXhMaXN0LnB1c2goewogICAgICAgICAgICAgIG5hbWU6IHZhbHVlLm90aGVyVGF4LnRheFR5cGUubmFtZSwKICAgICAgICAgICAgICBhbW91bnQ6IG90aGVyVGF4LAogICAgICAgICAgICAgIGlkOiB2YWx1ZS5vdGhlclRheC50YXhUeXBlLmlkCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgdmFyIF90YXhfMiA9IHZhbHVlLm90aGVyVGF4IHx8IHt9OwoKICAgICAgICAgICAgX3RheF8yWyd0YXhBbW91bnRfJ10gPSBvdGhlclRheDsKICAgICAgICAgICAgX3RheF8yWydhbW91bnQnXSA9IHZhbHVlLmFtb3VudCB8fCAwOwogICAgICAgICAgICBfdGF4XzJbJ2Rpc2NvdW50J10gPSBkaXNjb3VudCB8fCAwOwogICAgICAgICAgICBfdGF4XzJbJ3R4blJhdGUnXSA9IF90aGlzMTMuY3JlZGl0TWVtby50eG5SYXRlIHx8IDE7CiAgICAgICAgICAgIHRheExpc3REZXRhaWwucHVzaChfdGF4XzIpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChvdGhlclRheCA+IDApIHsKICAgICAgICAgICAgbmF0dXJlID0gImRyIjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIG90aGVyVGF4RmllbGQgPSB2YWx1ZS5vdGhlclRheDsKCiAgICAgICAgICBpZiAob3RoZXJUYXhGaWVsZC5hY2NvdW50KSB7CiAgICAgICAgICAgIGlmIChvdGhlclRheEZpZWxkLmFjY291bnQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICBfdGhpczEzLmpSYXcxLnB1c2goewogICAgICAgICAgICAgICAgaWQ6IG90aGVyVGF4RmllbGQuYWNjb3VudC5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgIG1lbW9SYXRlOiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTMuY3JlZGl0TWVtby50eG5SYXRlKSwKICAgICAgICAgICAgICAgIGxhc3RYUmF0ZTogX3RoaXMxMy5jcmVkaXRNZW1vLmV4Y2hhbmdlUmF0ZSwKICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICJUYXgiLAogICAgICAgICAgICAgICAgYWNjb3VudDogb3RoZXJUYXhGaWVsZC5hY2NvdW50LAogICAgICAgICAgICAgICAgYWNjb3VudElkOiBvdGhlclRheEZpZWxkLmFjY291bnQuaWQsCiAgICAgICAgICAgICAgICBhbW91bnQ6IG90aGVyVGF4LAogICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IG90aGVyVGF4ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczEzLmNyZWRpdE1lbW8udHhuUmF0ZSksCiAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICB0eXBlQXM6ICJ0YXgiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh2YWx1ZS52YXRUYXgpIHsKICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygnVmF0IFRheCcsIHZhbHVlLnZhdFRheCkKICAgICAgICAgIHZhciBfYW10ID0ga2VuZG8ucGFyc2VGbG9hdChzcFRheCA/IHNwVGF4IDogMCkgKyBrZW5kby5wYXJzZUZsb2F0KHBsdGF4ID8gcGx0YXggOiAwKSArIGtlbmRvLnBhcnNlRmxvYXQob3RoZXJUYXggPyBvdGhlclRheCA6IDApICsgKGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50ID8gdmFsdWUuYW1vdW50IDogMCkgLSAoZGlzY291bnQgPyBkaXNjb3VudCA6IDApKTsKCiAgICAgICAgICB2YXRUYXggPSBfdGhpczEzLmF1dG9DYWxjdWxhdGVUYXgodmFsdWUudmF0VGF4LCBfYW10KTsKICAgICAgICAgIHZhdFRheCA9IGtlbmRvLnBhcnNlRmxvYXQodmF0VGF4KSA/IGtlbmRvLnBhcnNlRmxvYXQodmF0VGF4KSA6IDA7CiAgICAgICAgICB2YWx1ZVsidmF0VGF4QW1vdW50Il0gPSB2YXRUYXg7CiAgICAgICAgICB2YWx1ZVsidmF0VGF4RXhjaGFuZ2VBbW91bnQiXSA9IHZhdFRheCAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMy5jcmVkaXRNZW1vLnR4blJhdGUpOwogICAgICAgICAgdmFyIF90YXgzID0gdmFsdWUudmF0VGF4OwogICAgICAgICAgdmFyIF9iYXNlQW1vdW50MyA9IF90YXgzLmJhc2VBbW91bnQ7CgogICAgICAgICAgaWYgKF9iYXNlQW1vdW50MykgewogICAgICAgICAgICBpZiAoX2Jhc2VBbW91bnQzLnRvTG93ZXJDYXNlKCkgPT09ICJpbmNsdXNpdmUiKSB7CiAgICAgICAgICAgICAgaW5jbHVzaXZlVGF4ICs9IHZhdFRheDsKICAgICAgICAgICAgICBpbmNUYXggPSBzcFRheDsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmICh2YWx1ZS52YXRUYXguaGFzT3duUHJvcGVydHkoInRheFR5cGUiKSkgewogICAgICAgICAgICB0YXhMaXN0LnB1c2goewogICAgICAgICAgICAgIG5hbWU6IHZhbHVlLnZhdFRheC50YXhUeXBlLm5hbWUsCiAgICAgICAgICAgICAgYW1vdW50OiB2YXRUYXgsCiAgICAgICAgICAgICAgaWQ6IHZhbHVlLnZhdFRheC50YXhUeXBlLmlkCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgdmF0VGF4XyA9IHZhbHVlLnZhdFRheCB8fCB7fTsKICAgICAgICAgICAgdmF0VGF4X1sndGF4QW1vdW50XyddID0gdmF0VGF4OwogICAgICAgICAgICB2YXRUYXhfWydhbW91bnQnXSA9IHZhbHVlLmFtb3VudCB8fCAwOwogICAgICAgICAgICB2YXRUYXhfWydkaXNjb3VudCddID0gZGlzY291bnQgfHwgMDsKICAgICAgICAgICAgdmF0VGF4X1sndHhuUmF0ZSddID0gX3RoaXMxMy5jcmVkaXRNZW1vLnR4blJhdGUgfHwgMTsKICAgICAgICAgICAgdmF0VGF4X1snaXNWYXQnXSA9IDE7CiAgICAgICAgICAgIHZhdFRheF8uZGV0YWlsID0gewogICAgICAgICAgICAgIHNwZWNpZmljVGF4OiB7fSwKICAgICAgICAgICAgICBwdWJsaWNMaWdodGluZ1RheDoge30sCiAgICAgICAgICAgICAgb3RoZXJUYXg6IHt9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRheExpc3REZXRhaWwucHVzaCh2YXRUYXhfKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmFsdWUudmF0VGF4Lmhhc093blByb3BlcnR5KCJ0YXhUeXBlIikpIHsKICAgICAgICAgICAgdmFyIHRheFR5cGUgPSB2YWx1ZS52YXRUYXgudGF4VHlwZSB8fCB7fTsKICAgICAgICAgICAgdGF4VHlwZUlkID0gdGF4VHlwZS50eXBlSWQgfHwgMDsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgdGF4QW1vdW50ID0gdmF0VGF4OwoKICAgICAgICAgIGlmICh0YXhUeXBlSWQgPT09IDIpIHsKICAgICAgICAgICAgd2l0aGhvbGRpbmdUYXhBbW91bnQgKz0gdmF0VGF4OwogICAgICAgICAgICB3aFRheEFtb3VudCA9IHZhdFRheDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodGF4QW1vdW50ID4gMCkgewogICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodmF0VGF4ID4gMCkgewogICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmF0dXJlID0gImNyIjsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgdmF0VGF4RmllbGQgPSB2YWx1ZS52YXRUYXg7CgogICAgICAgICAgaWYgKHZhdFRheEZpZWxkLmFjY291bnQpIHsKICAgICAgICAgICAgaWYgKHZhdFRheEZpZWxkLmFjY291bnQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICBfdGhpczEzLmpSYXcxLnB1c2goewogICAgICAgICAgICAgICAgaWQ6IHZhdFRheEZpZWxkLmFjY291bnQuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICBtZW1vUmF0ZToga2VuZG8ucGFyc2VGbG9hdChfdGhpczEzLmNyZWRpdE1lbW8udHhuUmF0ZSksCiAgICAgICAgICAgICAgICBsYXN0WFJhdGU6IF90aGlzMTMuY3JlZGl0TWVtby5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGN1cnJlbmN5Q29kZSwKICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSwKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAiVGF4IiwKICAgICAgICAgICAgICAgIGFjY291bnQ6IHZhdFRheEZpZWxkLmFjY291bnQsCiAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IHZhdFRheEZpZWxkLmFjY291bnQuaWQsCiAgICAgICAgICAgICAgICBhbW91bnQ6IHZhdFRheCwKICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiB2YXRUYXggKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTMuY3JlZGl0TWVtby50eG5SYXRlKSwKICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgIHR5cGVBczogInRheCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdG90YWxUYXggKz0ga2VuZG8ucGFyc2VGbG9hdChzcFRheCA/IHNwVGF4IDogMCkgKyBrZW5kby5wYXJzZUZsb2F0KHBsdGF4ID8gcGx0YXggOiAwKSArIGtlbmRvLnBhcnNlRmxvYXQob3RoZXJUYXggPyBvdGhlclRheCA6IDApICsga2VuZG8ucGFyc2VGbG9hdCh2YXRUYXggPyB2YXRUYXggOiAwKTsKICAgICAgICBzdWJUb3RhbCArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCkgKyBtb2RpZmllclByaWNlIC0gaW5jVGF4OwogICAgICAgIHZhciBhbXQgPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCkgKyBtb2RpZmllclByaWNlIC0gaW5jVGF4ICsgd2hUYXhBbW91bnQ7CiAgICAgICAgdmFyIHhBbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KGFtdCkgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTMuY3JlZGl0TWVtby50eG5SYXRlKTsKICAgICAgICB2YXIgaXRlbSA9IHZhbHVlLml0ZW07CiAgICAgICAgdmFyIGl0bVR5cGUgPSBpdGVtLnR5cGUgfHwgIiI7CgogICAgICAgIGlmIChpdG1UeXBlID09PSAiVmFyaWFudCIpIHsKICAgICAgICAgIGl0ZW1TdWJ0b3RhbCArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmNvc3QpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdHkpOwogICAgICAgICAgaXRlbURpc2NvdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQoZGlzY291bnQpOwogICAgICAgIH0gZWxzZSBpZiAoaXRtVHlwZSA9PT0gIlNlcnZpY2UiKSB7CiAgICAgICAgICBzZXJ2aWNlU3VidG90YWwgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5jb3N0KSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucXR5KTsKICAgICAgICAgIGl0ZW1EaXNjb3VudCArPSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdHhuSXRtU3VidG90YWwgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5jb3N0KSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucXR5KTsKICAgICAgICAgIGl0ZW1EaXNjb3VudCArPSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50KTsKICAgICAgICB9CgogICAgICAgIHZhciB3YWMgPSBwYXJzZUZsb2F0KHZhbHVlLndhYyB8fCAwKTsKICAgICAgICB2YXIgcXR5ID0gcGFyc2VGbG9hdCh2YWx1ZS5xdHkgfHwgMSk7CgogICAgICAgIGlmIChhbXQgPiAwKSB7CiAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgIH0KCiAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICJTZXJ2aWNlIikgewogICAgICAgICAgICB2YXIgaW5jb21lQWNjID0gaXRlbS5pbmNvbWVBY2M7CgogICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgiaW5jb21lQWNjIikpIHsKICAgICAgICAgICAgICBpZiAoaXRlbS5pbmNvbWVBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgIF90aGlzMTMualJhdzEucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBpbmNvbWVBY2MuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgICAgbWVtb1JhdGU6IGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMy5jcmVkaXRNZW1vLnR4blJhdGUpLAogICAgICAgICAgICAgICAgICBsYXN0WFJhdGU6IF90aGlzMTMuY3JlZGl0TWVtby5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgICAgICBjdXJyZW5jeTogY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBfdGhpczEzLmNyZWRpdE1lbW8uam91cm5hbE5vdGUsCiAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGluY29tZUFjYywKICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBpbmNvbWVBY2MuaWQsCiAgICAgICAgICAgICAgICAgIGFtb3VudDogYW10LAogICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogeEFtb3VudCwKICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICB0eXBlQXM6ICJpdGVtIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgiZGVmZXJyZWRJbmNvbWVBY2MiKSkgewogICAgICAgICAgICAgIGlmIChpdGVtLmRlZmVycmVkSW5jb21lQWNjLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICB2YXIgZGVmZXJyZWRJbkFjYyA9IGl0ZW0uZGVmZXJyZWRJbmNvbWVBY2M7CgogICAgICAgICAgICAgICAgX3RoaXMxMy5qUmF3MS5wdXNoKHsKICAgICAgICAgICAgICAgICAgaWQ6IGRlZmVycmVkSW5BY2MuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgICAgbWVtb1JhdGU6IGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMy5jcmVkaXRNZW1vLnR4blJhdGUpLAogICAgICAgICAgICAgICAgICBsYXN0WFJhdGU6IF90aGlzMTMuY3JlZGl0TWVtby5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgICAgICBjdXJyZW5jeTogY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBfdGhpczEzLmNyZWRpdE1lbW8uam91cm5hbE5vdGUsCiAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGRlZmVycmVkSW5BY2MsCiAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogZGVmZXJyZWRJbkFjYy5pZCwKICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbXQsCiAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiB4QW1vdW50LAogICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgIHR5cGVBczogIml0ZW0iCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAiVmFyaWFudCIpIHsKICAgICAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoImluY29tZUFjYyIpKSB7CiAgICAgICAgICAgICAgaWYgKGl0ZW0uaW5jb21lQWNjLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICB2YXIgX2luY29tZUFjYyA9IGl0ZW0uaW5jb21lQWNjOwoKICAgICAgICAgICAgICAgIF90aGlzMTMualJhdzEucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBfaW5jb21lQWNjLmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgIG1lbW9SYXRlOiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTMuY3JlZGl0TWVtby50eG5SYXRlKSwKICAgICAgICAgICAgICAgICAgbGFzdFhSYXRlOiBfdGhpczEzLmNyZWRpdE1lbW8uZXhjaGFuZ2VSYXRlLAogICAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGN1cnJlbmN5Q29kZSwKICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogX3RoaXMxMy5jcmVkaXRNZW1vLmpvdXJuYWxOb3RlLAogICAgICAgICAgICAgICAgICBhY2NvdW50OiBpdGVtLmluY29tZUFjYywKICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBpdGVtLmluY29tZUFjYy5pZCwKICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbXQsCiAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiB4QW1vdW50LAogICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgIHR5cGVBczogIml0ZW0iCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCJpbnZlbnRvcnlBY2MiKSkgewogICAgICAgICAgICAgIG5hdHVyZSA9ICJjciI7CgogICAgICAgICAgICAgIGlmIChpdGVtLmludmVudG9yeUFjYy5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgdmFyIGludmVudG9yeUFjYyA9IGl0ZW0uaW52ZW50b3J5QWNjOwoKICAgICAgICAgICAgICAgIF90aGlzMTMualJhdzEucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBpbnZlbnRvcnlBY2MuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKHZhbHVlKSwKICAgICAgICAgICAgICAgICAgbWVtb1JhdGU6IGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxMy5jcmVkaXRNZW1vLnR4blJhdGUpLAogICAgICAgICAgICAgICAgICBsYXN0WFJhdGU6IF90aGlzMTMuY3JlZGl0TWVtby5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgICAgICBjdXJyZW5jeTogY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBfdGhpczEzLmNyZWRpdE1lbW8uam91cm5hbE5vdGUsCiAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGl0ZW0uaW52ZW50b3J5QWNjLAogICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGl0ZW0uaW52ZW50b3J5QWNjLmlkLAogICAgICAgICAgICAgICAgICBhbW91bnQ6IHF0eSAqIHdhYyAqIC0xLAogICAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogcXR5ICogd2FjICogLTEsCiAgICAgICAgICAgICAgICAgIC8veEFtb3VudCwKICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICB0eXBlQXM6ICJpdGVtIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgiY29zdE9mR29vZHNTb2xkQWNjIikpIHsKICAgICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwoKICAgICAgICAgICAgICBpZiAoaXRlbS5jb3N0T2ZHb29kc1NvbGRBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgIHZhciBjb3N0T2ZHb29kc1NvbGRBY2MgPSBpdGVtLmNvc3RPZkdvb2RzU29sZEFjYzsKCiAgICAgICAgICAgICAgICBfdGhpczEzLmpSYXcxLnB1c2goewogICAgICAgICAgICAgICAgICBpZDogY29zdE9mR29vZHNTb2xkQWNjLmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCh2YWx1ZSksCiAgICAgICAgICAgICAgICAgIG1lbW9SYXRlOiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTMuY3JlZGl0TWVtby50eG5SYXRlKSwKICAgICAgICAgICAgICAgICAgbGFzdFhSYXRlOiBfdGhpczEzLmNyZWRpdE1lbW8uZXhjaGFuZ2VSYXRlLAogICAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGN1cnJlbmN5Q29kZSwKICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogX3RoaXMxMy5jcmVkaXRNZW1vLmpvdXJuYWxOb3RlLAogICAgICAgICAgICAgICAgICBhY2NvdW50OiBpdGVtLmNvc3RPZkdvb2RzU29sZEFjYywKICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBpdGVtLmNvc3RPZkdvb2RzU29sZEFjYy5pZCwKICAgICAgICAgICAgICAgICAgYW1vdW50OiBxdHkgKiB3YWMsCiAgICAgICAgICAgICAgICAgIC8vIHF0eSphdmdfY29zdCAsCiAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBxdHkgKiB3YWMsCiAgICAgICAgICAgICAgICAgIC8veEFtb3VudCwKICAgICAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgICAgICB0eXBlQXM6ICJpdGVtIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gIkZpeGVkIEFzc2V0IikgewogICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgiYXNzZXRBY2MiKSkgewogICAgICAgICAgICAgIGlmIChpdGVtLmFzc2V0QWNjLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICB2YXIgYXNzZXRBY2MgPSBpdGVtLmFzc2V0QWNjOwoKICAgICAgICAgICAgICAgIF90aGlzMTMualJhdzEucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBhc3NldEFjYy5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwodmFsdWUpLAogICAgICAgICAgICAgICAgICBtZW1vUmF0ZToga2VuZG8ucGFyc2VGbG9hdChfdGhpczEzLmNyZWRpdE1lbW8udHhuUmF0ZSksCiAgICAgICAgICAgICAgICAgIGxhc3RYUmF0ZTogX3RoaXMxMy5jcmVkaXRNZW1vLmV4Y2hhbmdlUmF0ZSwKICAgICAgICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjdXJyZW5jeUNvZGUsCiAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzMTMuY3JlZGl0TWVtby5qb3VybmFsTm90ZSwKICAgICAgICAgICAgICAgICAgYWNjb3VudDogaXRlbS5hc3NldEFjYywKICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBpdGVtLmFzc2V0QWNjLmlkLAogICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtdCwKICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IHhBbW91bnQsCiAgICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgICAgdHlwZUFzOiAiaXRlbSIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICJUcmFuc2FjdGlvbiBJdGVtIikgewogICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgiYWNjb3VudCIpKSB7CiAgICAgICAgICAgICAgaWYgKGl0ZW0uYWNjb3VudC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgX3RoaXMxMy5qUmF3MS5wdXNoKHsKICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uYWNjb3VudC5pZCArICItIiArIG5hdHVyZSwKICAgICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwodmFsdWUpLAogICAgICAgICAgICAgICAgICBtZW1vUmF0ZToga2VuZG8ucGFyc2VGbG9hdChfdGhpczEzLmNyZWRpdE1lbW8udHhuUmF0ZSksCiAgICAgICAgICAgICAgICAgIGxhc3RYUmF0ZTogX3RoaXMxMy5jcmVkaXRNZW1vLmV4Y2hhbmdlUmF0ZSwKICAgICAgICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjdXJyZW5jeUNvZGUsCiAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzMTMuY3JlZGl0TWVtby5qb3VybmFsTm90ZSwKICAgICAgICAgICAgICAgICAgYWNjb3VudDogaXRlbS5hY2NvdW50LAogICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGl0ZW0uYWNjb3VudC5pZCwKICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbXQsCiAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiB4QW1vdW50LAogICAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICAgIHR5cGVBczogIml0ZW0iCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IC8vaW5jbHVkZSBUYXggQW1vdW50CgoKICAgICAgICB2YXIgYW1vdW50Tm9kaXNjb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucHJpY2UpICoga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5xdHkpIC0gZGlzY291bnQ7CiAgICAgICAgdmFyIGluY2x1ZGVUYXhBbW91bnQgPSBhbW91bnROb2Rpc2NvdW50ICsgdmF0VGF4ICsgcGx0YXggKyBzcFRheCArIG90aGVyVGF4OwogICAgICAgIHZhbHVlWyJpbmNsdWRlVGF4QW1vdW50Il0gPSBpbmNsdWRlVGF4QW1vdW50OwogICAgICAgIHZhbHVlWyJpbmNsdWRlVGF4RXhjaGFuZ2VBbW91bnQiXSA9IGluY2x1ZGVUYXhBbW91bnQgKiBrZW5kby5wYXJzZUZsb2F0KF90aGlzMTMuY3JlZGl0TWVtby50eG5SYXRlKTsKICAgICAgfSk7IC8vIH0KCiAgICAgIHRoaXMuY3JlZGl0TWVtby5pdGVtU3VidG90YWwgPSBpdGVtU3VidG90YWw7CiAgICAgIHRoaXMuY3JlZGl0TWVtby5pbmNsdXNpdmVUYXhBbW91bnQgPSBpbmNsdXNpdmVUYXg7CiAgICAgIHRoaXMuY3JlZGl0TWVtby5leGNoYW5nZUl0ZW1TdWJ0b3RhbCA9IGl0ZW1TdWJ0b3RhbCAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy5jcmVkaXRNZW1vLnR4blJhdGUpOwogICAgICB0aGlzLmNyZWRpdE1lbW8uc2VydmljZVN1YnRvdGFsID0gc2VydmljZVN1YnRvdGFsOwogICAgICB0aGlzLmNyZWRpdE1lbW8uZXhjaGFuZ2VTZXJ2aWNlU3VidG90YWwgPSBzZXJ2aWNlU3VidG90YWwgKiBrZW5kby5wYXJzZUZsb2F0KHRoaXMuY3JlZGl0TWVtby50eG5SYXRlKTsKICAgICAgdGhpcy5jcmVkaXRNZW1vLnR4bkl0bVN1YnRvdGFsID0gdHhuSXRtU3VidG90YWw7CiAgICAgIHRoaXMuY3JlZGl0TWVtby5leGNoYW5nZVR4bkl0bVN1YnRvdGFsID0gdHhuSXRtU3VidG90YWwgKiBrZW5kby5wYXJzZUZsb2F0KHRoaXMuY3JlZGl0TWVtby50eG5SYXRlKTsKICAgICAgdGhpcy5jcmVkaXRNZW1vLml0ZW1EaXNjb3VudCA9IGl0ZW1EaXNjb3VudDsKICAgICAgdGhpcy5jcmVkaXRNZW1vLmV4Y2hhbmdlSXRlbURpc2NvdW50ID0gaXRlbURpc2NvdW50ICoga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmNyZWRpdE1lbW8udHhuUmF0ZSk7CiAgICAgIHRoaXMuY3JlZGl0TWVtby5zZXJ2aWNlRGlzY291bnQgPSBzZXJ2aWNlRGlzY291bnQ7CiAgICAgIHRoaXMuY3JlZGl0TWVtby5leGNoYW5nZVNlcnZpY2VEaXNjb3VudCA9IHNlcnZpY2VEaXNjb3VudCAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy5jcmVkaXRNZW1vLnR4blJhdGUpOwogICAgICB0aGlzLmNyZWRpdE1lbW8udHhuSXRtRGlzY291bnQgPSB0eG5EaXNjb3VudDsKICAgICAgdGhpcy5jcmVkaXRNZW1vLmV4Y2hhbmdlVHhuSXRtRGlzY291bnQgPSB0eG5EaXNjb3VudCAqIGtlbmRvLnBhcnNlRmxvYXQodGhpcy5jcmVkaXRNZW1vLnR4blJhdGUpOyAvLyB3aW5kb3cuY29uc29sZS5sb2coc3BUYXgsIHBsdGF4LCBvdGhlclRheCwgdmF0VGF4KQoKICAgICAgdmFyIHRvdGFsID0ga2VuZG8ucGFyc2VGbG9hdChzdWJUb3RhbCkgLSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50VG90YWwpICsga2VuZG8ucGFyc2VGbG9hdCh0b3RhbFRheCk7CiAgICAgIHRoaXMuY3JlZGl0TWVtby53aXRoaG9sZGluZ1RheEFtb3VudCA9IHdpdGhob2xkaW5nVGF4QW1vdW50OwogICAgICB0aGlzLmNyZWRpdE1lbW8uaXRlbUxpbmVTdWJUb3RhbCA9IHN1YlRvdGFsOwogICAgICB0aGlzLmNyZWRpdE1lbW8uaXRlbUxpbmVUYXhBbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KHRvdGFsVGF4KTsKICAgICAgdGhpcy5jcmVkaXRNZW1vLml0ZW1MaW5lRGlzY291bnRBbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50VG90YWwpOwogICAgICB0aGlzLmNyZWRpdE1lbW8ub3RoZXJDaGFyZ2VUb3RhbCA9IGtlbmRvLnBhcnNlRmxvYXQob3RoZXJDaGFyZ2VUb3RhbCk7CiAgICAgIHRoaXMuY3JlZGl0TWVtby5pdGVtTGluZUFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodG90YWwpIC0gcGFyc2VGbG9hdCh3aXRoaG9sZGluZ1RheEFtb3VudCkgKyBrZW5kby5wYXJzZUZsb2F0KG90aGVyQ2hhcmdlVG90YWwpOyAvLyB0aGlzLmF1dG9DYWxjdWxhdGVUYXhCeVR5cGUodGF4TGlzdCkKCiAgICAgIHRoaXMuY3VzdG9tZXJEaXNjb3VudEl0ZW0gPSB0aGlzLnJlbW92ZUR1cGxpY2F0ZShkaXNjb3VudEl0ZW0pOwogICAgICB0aGlzLmN1c3RvbWVyU2FsZVVuaXQgPSB0aGlzLnJlbW92ZUR1cGxpY2F0ZShzYWxlVW5pdCk7CiAgICAgIHRoaXMudGF4TGlzdERldGFpbCA9IHRheExpc3REZXRhaWw7CiAgICAgIHRoaXMuY3JlZGl0TWVtby5pdGVtTGluZUV4Y2hhbmdlQW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmNyZWRpdE1lbW8uaXRlbUxpbmVBbW91bnQpICoga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmNyZWRpdE1lbW8udHhuUmF0ZSk7CiAgICAgIHRoaXMuc2hyaW5rRGlzY291bnRJdGVtKGRpc2NvdW50SXRlbSk7CiAgICAgIHZhciB1bmlxdWVPdGhlckNoYXJnZSA9IHRoaXMucmVtb3ZlRHVwbGljYXRlKG90aGVyQ2hhcmdlSXRlbSk7CiAgICAgIHRoaXMuc2hyaW5rT3RoZXJDaGFyZ2VJdGVtKHVuaXF1ZU90aGVyQ2hhcmdlLCBvdGhlckNoYXJnZUxpbmUpOwogICAgICB0aGlzLmF1dG9DYWxjdWxhdGVUYXhEZXRhaWwoKTsgLy8gdGhpcy5jcmVkaXRNZW1vLmFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodGhpcy5jcmVkaXRNZW1vLml0ZW1MaW5lQW1vdW50KQogICAgICAvLyB0aGlzLmNyZWRpdE1lbW8udmFyaWFuY2UgPSBrZW5kby5wYXJzZUZsb2F0KHRoaXMuY3JlZGl0TWVtby5pdGVtTGluZUFtb3VudCkKICAgICAgLy8gdGhpcy5jYWxjdWxhdGVBbW91bnQoKQogICAgfSwKICAgIHNocmlua0Rpc2NvdW50SXRlbTogZnVuY3Rpb24gc2hyaW5rRGlzY291bnRJdGVtKGRpc2NvdW50SXRlbSkgewogICAgICB2YXIgdW5pcXVlRGlzY291bnRJdGVtcyA9IFtdOwogICAgICB2YXIgdW5pcXVlID0gdGhpcy5yZW1vdmVEdXBsaWNhdGUoZGlzY291bnRJdGVtKTsKICAgICAgdW5pcXVlLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICB2YXIgZm91bmQgPSBkaXNjb3VudEl0ZW0uZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICByZXR1cm4gbi5pZCA9PT0gbS5pZDsKICAgICAgICB9KTsKICAgICAgICB2YXIgYW1vdW50ID0gMCwKICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQgPSAwOwogICAgICAgIGZvdW5kLm1hcChmdW5jdGlvbiAobykgewogICAgICAgICAgYW1vdW50ICs9IG8uYW1vdW50IHx8IDA7CiAgICAgICAgfSk7CiAgICAgICAgZm91bmQubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICBleGNoYW5nZUFtb3VudCArPSBvLmV4Y2hhbmdlQW1vdW50IHx8IDA7CiAgICAgICAgfSk7CiAgICAgICAgdW5pcXVlRGlzY291bnRJdGVtcy5wdXNoKHsKICAgICAgICAgIGlkOiBtLmlkLAogICAgICAgICAgbmFtZTogbS5uYW1lLAogICAgICAgICAgYW1vdW50OiBhbW91bnQsCiAgICAgICAgICBleGNoYW5nZUFtb3VudDogZXhjaGFuZ2VBbW91bnQKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMuY3VzdG9tZXJEaXNjb3VudEl0ZW0gPSB1bmlxdWVEaXNjb3VudEl0ZW1zOwogICAgICB0aGlzLmNyZWRpdE1lbW8uY3VzdG9tZXJEaXNjb3VudEl0ZW0gPSB1bmlxdWVEaXNjb3VudEl0ZW1zOwogICAgICB3aW5kb3cuY29uc29sZS5sb2codW5pcXVlRGlzY291bnRJdGVtcywgInVuaXF1ZURpc2NvdW50SXRlbXMiKTsKICAgIH0sCiAgICBhdXRvQ2FsY3VsYXRlQXBwbHlUbzogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZUFwcGx5VG8oKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuYXBwbHlUb0xpbmVEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgY29udmVydGVkQW1vdW50ID0gMCwKICAgICAgICAgIGFtb3VudCA9IDA7CiAgICAgIHRoaXMualJhdzUgPSBbXTsKICAgICAgdmFyIHR4blJhdGUgPSAxLAogICAgICAgICAgY3VycmVuY3kgPSB0aGlzLmNyZWRpdE1lbW8uY3VycmVuY3ksCiAgICAgICAgICBjdXJyZW5jeUNvZGUgPSB0aGlzLmNyZWRpdE1lbW8uY3VycmVuY3kgPyB0aGlzLmNyZWRpdE1lbW8uY3VycmVuY3kuY29kZSA6ICIiOwogICAgICBkcy5kYXRhKCkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICB2YXIgb2Zmc2V0QW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5wYWlkQW1vdW50ID8gdmFsdWUucGFpZEFtb3VudCA6IDApOwoKICAgICAgICBpZiAob2Zmc2V0QW1vdW50ID4gMCkgewogICAgICAgICAgYW1vdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUucGFpZEFtb3VudCk7CiAgICAgICAgICBjb252ZXJ0ZWRBbW91bnQgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5wYWlkQW1vdW50KSAqIGtlbmRvLnBhcnNlRmxvYXQodmFsdWUudHhuUmF0ZSk7CiAgICAgICAgICB0eG5SYXRlID0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS50eG5SYXRlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmNyZWRpdE1lbW8uYXBwbHlUb0V4Y2hhbmdlQW1vdW50ID0gY29udmVydGVkQW1vdW50OwogICAgICB0aGlzLmNyZWRpdE1lbW8uYXBwbHlUb0Ftb3VudCA9IGFtb3VudDsgLy90b2RvOiBBUgoKICAgICAgdmFyIHJlY2VpdmFibGVBY2MgPSB0aGlzLmN1c3RvbWVyLnJlY2VpdmFibGVBY2MgfHwge307CiAgICAgIHZhciBuYXR1cmUgPSAiIjsKCiAgICAgIGlmICh0aGlzLmNyZWRpdE1lbW8uaXRlbUxpbmVBbW91bnQgKiAtMSA+IDApIHsKICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICB9IGVsc2UgewogICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgIH0KCiAgICAgIGlmIChyZWNlaXZhYmxlQWNjKSB7CiAgICAgICAgaWYgKHJlY2VpdmFibGVBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgIHRoaXMualJhdzUucHVzaCh7CiAgICAgICAgICAgIGlkOiByZWNlaXZhYmxlQWNjLmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICBsaW5lOiBuZXcgSXRlbUxpbmVNb2RlbCgpLAogICAgICAgICAgICBtZW1vUmF0ZTogdHhuUmF0ZSwKICAgICAgICAgICAgbGFzdFhSYXRlOiB0aGlzLmNyZWRpdE1lbW8uZXhjaGFuZ2VSYXRlLAogICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGN1cnJlbmN5Q29kZSwKICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5jcmVkaXRNZW1vLnRyYW5zYWN0aW9uTm90ZSwKICAgICAgICAgICAgYWNjb3VudDogcmVjZWl2YWJsZUFjYywKICAgICAgICAgICAgYWNjb3VudElkOiByZWNlaXZhYmxlQWNjLmlkLAogICAgICAgICAgICBleGNoYW5nZUFtb3VudDogdGhpcy5jcmVkaXRNZW1vLmFwcGx5VG9FeGNoYW5nZUFtb3VudCAqIC0xLAogICAgICAgICAgICBhbW91bnQ6IHRoaXMuY3JlZGl0TWVtby5hcHBseVRvQW1vdW50ICogLTEsCiAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgdHlwZUFzOiAiYXIiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gLy8gdGhpcy5jYWxjdWxhdGVBbW91bnQoKQoKICAgIH0sCiAgICBjYWxjdWxhdGVBbW91bnQ6IGZ1bmN0aW9uIGNhbGN1bGF0ZUFtb3VudCgpIHsKICAgICAgdmFyIG9mZnNldFhBbW91bnQgPSAwLAogICAgICAgICAgb2Zmc2V0QW1vdW50ID0gMDsgLy8gYXBwbHl0b19hbW91bnQgKyBkZXBvc2l0ICsgY2FzaCByZWZ1bmQKCiAgICAgIHZhciBhcHBseVRvRXhjaGFuZ2VBbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KHRoaXMuY3JlZGl0TWVtby5hcHBseVRvRXhjaGFuZ2VBbW91bnQpOwogICAgICB2YXIgZXhjaGFuZ2VEZXBvc2l0QW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmNyZWRpdE1lbW8uZXhjaGFuZ2VEZXBvc2l0RGVkdWN0aW9uKTsKICAgICAgdmFyIGV4Y2hhbmdlUmVmdW5kQW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmNyZWRpdE1lbW8uZXhjaGFuZ2VSZWZ1bmRBbW91bnQpOwogICAgICB2YXIgYXBwbHlUb0Ftb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodGhpcy5jcmVkaXRNZW1vLmFwcGx5VG9BbW91bnQpOwogICAgICB2YXIgZGVwb3NpdEFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQodGhpcy5jcmVkaXRNZW1vLmRlcG9zaXRBbW91bnQpOwogICAgICB2YXIgcmVmdW5kQW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmNyZWRpdE1lbW8ucmVmdW5kQW1vdW50KTsKICAgICAgdmFyIGl0ZW1MaW5lRXhjaGFuZ2UgPSBrZW5kby5wYXJzZUZsb2F0KHRoaXMuY3JlZGl0TWVtby5pdGVtTGluZUV4Y2hhbmdlQW1vdW50KTsKICAgICAgdmFyIGl0ZW1MaW5lQW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmNyZWRpdE1lbW8uaXRlbUxpbmVBbW91bnQpOwogICAgICBvZmZzZXRYQW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdChhcHBseVRvRXhjaGFuZ2VBbW91bnQgKyBleGNoYW5nZURlcG9zaXRBbW91bnQgKyBleGNoYW5nZVJlZnVuZEFtb3VudCk7CiAgICAgIG9mZnNldEFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQoYXBwbHlUb0Ftb3VudCArIGRlcG9zaXRBbW91bnQgKyByZWZ1bmRBbW91bnQpOwogICAgICB0aGlzLmNyZWRpdE1lbW8uYW1vdW50ID0gb2Zmc2V0QW1vdW50OwogICAgICB0aGlzLmNyZWRpdE1lbW8uZXhjaGFuZ2VBbW91bnQgPSBvZmZzZXRYQW1vdW50OwogICAgICB0aGlzLmNyZWRpdE1lbW8uZXhjaGFuZ2VWYXJpYW5jZSA9IGl0ZW1MaW5lRXhjaGFuZ2UgLSBvZmZzZXRYQW1vdW50OwogICAgICB0aGlzLmNyZWRpdE1lbW8udmFyaWFuY2UgPSBpdGVtTGluZUFtb3VudCAtIG9mZnNldEFtb3VudDsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJ2YXJpYW5jZSIsIHRoaXMuY3JlZGl0TWVtby52YXJpYW5jZSwgJ2V4Y2hhbmdlVmFyaWFuY2UnLCB0aGlzLmNyZWRpdE1lbW8uZXhjaGFuZ2VWYXJpYW5jZSk7IC8vIGlmIChvZmZzZXRBbW91bnQgPiBpdGVtTGluZUFtb3VudCkgewogICAgICAvLyAgIHRoaXMuc2hvd1dhcmluZ01lc3NhZ2UoJ0NyZWRpdCBNZW1vJywgJ1JldHVybiBhbW91bnQgYW5kIE9mZnNldCBhbW91bnQgbXVzdCBiZSBlcXVhbCEnLCAnT0snKQogICAgICAvLyAgIC8vIHJldHVybgogICAgICAvLyB9CgogICAgICB0aGlzLmpSYXc0ID0gW107CiAgICAgIHZhciBjdXJyZW5jeSA9IHRoaXMuY3JlZGl0TWVtby5jdXJyZW5jeSwKICAgICAgICAgIGN1cnJlbmN5Q29kZSA9IHRoaXMuY3JlZGl0TWVtby5jdXJyZW5jeSA/IHRoaXMuY3JlZGl0TWVtby5jdXJyZW5jeS5jb2RlIDogIiI7IC8vIHdpbmRvdy5jb25zb2xlLmxvZyhvZmZzZXRBbW91bnQsICdvZmZzZXRBbW91bnQnKQoKICAgICAgaWYgKHRoaXMuY3JlZGl0TWVtby5leGNoYW5nZVZhcmlhbmNlICE9PSAwKSB7CiAgICAgICAgdGhpcy5qUmF3NCA9IFtdOwogICAgICAgIHZhciBuYXR1cmUgPSAiIjsKCiAgICAgICAgaWYgKHRoaXMuY3JlZGl0TWVtby52YXJpYW5jZUFjYykgewogICAgICAgICAgaWYgKHRoaXMuY3JlZGl0TWVtby5leGNoYW5nZVZhcmlhbmNlICogLTEgPiAwKSB7CiAgICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciB2YXJpYW5jZUFjYyA9IHRoaXMuY3JlZGl0TWVtby52YXJpYW5jZUFjYzsKCiAgICAgICAgICBpZiAodmFyaWFuY2VBY2MuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgdGhpcy5qUmF3NC5wdXNoKHsKICAgICAgICAgICAgICBpZDogdmFyaWFuY2VBY2MuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwoKSwKICAgICAgICAgICAgICBtZW1vUmF0ZTogdGhpcy5jcmVkaXRNZW1vLnR4blJhdGUsCiAgICAgICAgICAgICAgbGFzdFhSYXRlOiB0aGlzLmNyZWRpdE1lbW8uZXhjaGFuZ2VSYXRlLAogICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSwKICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIlZhcmlhbmNlIiwKICAgICAgICAgICAgICBhY2NvdW50OiB2YXJpYW5jZUFjYywKICAgICAgICAgICAgICBhY2NvdW50SWQ6IHZhcmlhbmNlQWNjLmlkLAogICAgICAgICAgICAgIGFtb3VudDogdGhpcy5jcmVkaXRNZW1vLnZhcmlhbmNlICogLTEsCiAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IHRoaXMuY3JlZGl0TWVtby5leGNoYW5nZVZhcmlhbmNlICogLTEsCiAgICAgICAgICAgICAgdHlwZTogbmF0dXJlLAogICAgICAgICAgICAgIHR5cGVBczogIkdhaW5Mb3NzIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuc2hyaW5rRGF0YSgpOwogICAgICByZXR1cm4gb2Zmc2V0QW1vdW50OwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVEZXBvc2l0OiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlRGVwb3NpdCgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5kZXBvc2l0TGluZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBhbW91bnQgPSAwLAogICAgICAgICAgY29udmVydGVkQW1vdW50ID0gMDsKICAgICAgdmFyIG5hdHVyZSA9ICIiOwogICAgICB0aGlzLmpSYXcyID0gW107CiAgICAgIHZhciBjdXJyZW5jeSA9IHRoaXMuY3JlZGl0TWVtby5jdXJyZW5jeSwKICAgICAgICAgIGN1cnJlbmN5Q29kZSA9IHRoaXMuY3JlZGl0TWVtby5jdXJyZW5jeSA/IHRoaXMuY3JlZGl0TWVtby5jdXJyZW5jeS5jb2RlIDogIiI7CiAgICAgIGRzLmRhdGEoKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHZhciBkZXNjcmlwdGlvbiA9ICIiOwoKICAgICAgICBpZiAodmFsdWUuYW1vdW50KSB7CiAgICAgICAgICBhbW91bnQgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQpOwogICAgICAgICAgY29udmVydGVkQW1vdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxNC5jcmVkaXRNZW1vLnR4blJhdGUpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlLmRlc2NyaXB0aW9uKSB7CiAgICAgICAgICBkZXNjcmlwdGlvbiA9IHZhbHVlLmRlc2NyaXB0aW9uIHx8ICIiOwogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlLmFjY291bnQpIHsKICAgICAgICAgIHZhciBhY2NvdW50ID0gdmFsdWUuYWNjb3VudDsKCiAgICAgICAgICBpZiAoYWNjb3VudCkgewogICAgICAgICAgICBpZiAoYWNjb3VudC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgIGlmIChhbW91bnQgKiAtMSA+IDApIHsKICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJkciI7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG5hdHVyZSA9ICJjciI7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpczE0LmpSYXcyLnB1c2goewogICAgICAgICAgICAgICAgaWQ6IGFjY291bnQuaWQgKyAiLSIgKyBuYXR1cmUsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIkRlcG9zaXQgIiArIGRlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgbGluZTogbmV3IEl0ZW1MaW5lTW9kZWwoKSwKICAgICAgICAgICAgICAgIG1lbW9SYXRlOiBfdGhpczE0LmNyZWRpdE1lbW8udHhuUmF0ZSwKICAgICAgICAgICAgICAgIGxhc3RYUmF0ZTogX3RoaXMxNC5jcmVkaXRNZW1vLmV4Y2hhbmdlUmF0ZSwKICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lDb2RlLAogICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgICAgIGFjY291bnRJZDogYWNjb3VudC5pZCwKICAgICAgICAgICAgICAgIGFtb3VudDogYW1vdW50ICogLTEsCiAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogYW1vdW50ICoga2VuZG8ucGFyc2VGbG9hdChfdGhpczE0LmNyZWRpdE1lbW8udHhuUmF0ZSkgKiAtMSwKICAgICAgICAgICAgICAgIHR5cGU6IG5hdHVyZSwKICAgICAgICAgICAgICAgIHR5cGVBczogImRlcG9zaXQiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmNyZWRpdE1lbW8uZGVwb3NpdEFtb3VudCA9IGFtb3VudDsKICAgICAgdGhpcy5jcmVkaXRNZW1vLmV4Y2hhbmdlRGVwb3NpdERlZHVjdGlvbiA9IGNvbnZlcnRlZEFtb3VudDsgLy8gdGhpcy5jYWxjdWxhdGVBbW91bnQoKQogICAgfSwKICAgIGNoZWNrQW1vdW50OiBmdW5jdGlvbiBjaGVja0Ftb3VudChhbW91bnRSZXR1cm4sIG9mZnNldEFtb3VudCkgewogICAgICByZXR1cm4gb2Zmc2V0QW1vdW50ID4gYW1vdW50UmV0dXJuOwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVDYXNoUmVmdW5kOiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlQ2FzaFJlZnVuZCgpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5jYXNoUmVmdW5kRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGFtb3VudCA9IDAsCiAgICAgICAgICBleGNoYW5nZUFtb3VudCA9IDA7CiAgICAgIHZhciBuYXR1cmUgPSAiIjsKICAgICAgdGhpcy5qUmF3MyA9IFtdOwogICAgICB2YXIgY3VycmVuY3kgPSB0aGlzLmNyZWRpdE1lbW8uY3VycmVuY3ksCiAgICAgICAgICBjdXJyZW5jeUNvZGUgPSB0aGlzLmNyZWRpdE1lbW8uY3VycmVuY3kgPyB0aGlzLmNyZWRpdE1lbW8uY3VycmVuY3kuY29kZSA6ICIiOwogICAgICBkcy5kYXRhKCkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICB2YXIgZGVzY3JpcHRpb24gPSAiIjsKCiAgICAgICAgaWYgKHZhbHVlLmFtb3VudCkgewogICAgICAgICAgYW1vdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KTsKICAgICAgICAgIGV4Y2hhbmdlQW1vdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KSAqIGtlbmRvLnBhcnNlRmxvYXQoX3RoaXMxNS5jcmVkaXRNZW1vLnR4blJhdGUpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlLmRlc2NyaXB0aW9uKSB7CiAgICAgICAgICBkZXNjcmlwdGlvbiA9IHZhbHVlLmRlc2NyaXB0aW9uIHx8ICIiOwogICAgICAgIH0gLy90b2RvOiBDYXNoIEFjY291bnQKCgogICAgICAgIGlmICh2YWx1ZS5hY2NvdW50KSB7CiAgICAgICAgICB2YXIgYWNjb3VudCA9IHZhbHVlLmFjY291bnQ7CgogICAgICAgICAgaWYgKGFjY291bnQpIHsKICAgICAgICAgICAgaWYgKGFjY291bnQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICBpZiAoYW1vdW50ICogLTEgPiAwKSB7CiAgICAgICAgICAgICAgICBuYXR1cmUgPSAiZHIiOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBuYXR1cmUgPSAiY3IiOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX3RoaXMxNS5qUmF3My5wdXNoKHsKICAgICAgICAgICAgICAgIGlkOiBhY2NvdW50LmlkICsgIi0iICsgbmF0dXJlLAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICJEZXBvc2l0ICIgKyBkZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgIGxpbmU6IG5ldyBJdGVtTGluZU1vZGVsKCksCiAgICAgICAgICAgICAgICBtZW1vUmF0ZTogX3RoaXMxNS5jcmVkaXRNZW1vLnR4blJhdGUsCiAgICAgICAgICAgICAgICBsYXN0WFJhdGU6IF90aGlzMTUuY3JlZGl0TWVtby5leGNoYW5nZVJhdGUsCiAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGN1cnJlbmN5Q29kZSwKICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSwKICAgICAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGFjY291bnQuaWQsCiAgICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDoga2VuZG8ucGFyc2VGbG9hdChfdGhpczE1LmNyZWRpdE1lbW8udHhuUmF0ZSkgKiBhbW91bnQgKiAtMSwKICAgICAgICAgICAgICAgIGFtb3VudDogYW1vdW50ICogLTEsCiAgICAgICAgICAgICAgICB0eXBlOiBuYXR1cmUsCiAgICAgICAgICAgICAgICB0eXBlQXM6ICJDYXNoQWNjb3VudCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuY3JlZGl0TWVtby5yZWZ1bmRBbW91bnQgPSBhbW91bnQ7CiAgICAgIHRoaXMuY3JlZGl0TWVtby5leGNoYW5nZVJlZnVuZEFtb3VudCA9IGV4Y2hhbmdlQW1vdW50OyAvLyB0aGlzLmNhbGN1bGF0ZUFtb3VudCgpCiAgICB9LAogICAgYXV0b0NhbGN1bGF0ZUFjY291bnRMaW5lOiBmdW5jdGlvbiBhdXRvQ2FsY3VsYXRlQWNjb3VudExpbmUoKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuYWNjb3VudExpbmVEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgc3ViVG90YWwgPSAwLAogICAgICAgICAgdG90YWxUYXggPSAwLAogICAgICAgICAgZGlzY291bnRUb3RhbCA9IDAsCiAgICAgICAgICB2YXRUYXggPSAwLAogICAgICAgICAgdGF4TGlzdCA9IFtdLAogICAgICAgICAgZGlzY291bnRJdGVtID0gW107CiAgICAgIGRzLmRhdGEoKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIGlmICh2YWx1ZS5hbW91bnQpIHsKICAgICAgICAgIHN1YlRvdGFsICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KTsKICAgICAgICB9CgogICAgICAgIHZhciBkaXNjb3VudCA9IDA7CgogICAgICAgIGlmICh2YWx1ZS5kaXNjb3VudEl0ZW0pIHsKICAgICAgICAgIHZhciBzdWJUbyA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50ID8gdmFsdWUuYW1vdW50IDogMCk7CiAgICAgICAgICBkaXNjb3VudCA9IF90aGlzMTYuYXV0b0NhbGN1bGF0ZURpc2NvdW50KHZhbHVlLmRpc2NvdW50SXRlbSwgc3ViVG8pOwoKICAgICAgICAgIGlmICh2YWx1ZS5kaXNjb3VudEl0ZW0uaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgZGlzY291bnRJdGVtLnB1c2godmFsdWUuZGlzY291bnRJdGVtKTsKICAgICAgICAgIH0KCiAgICAgICAgICBkaXNjb3VudFRvdGFsICs9IGRpc2NvdW50ID8gZGlzY291bnQgOiAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlLnZhdFRheCkgewogICAgICAgICAgdmFyIGFtdCA9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50ID8gdmFsdWUuYW1vdW50IDogMCkgLSAoZGlzY291bnQgPyBkaXNjb3VudCA6IDApOwogICAgICAgICAgdmF0VGF4ID0gX3RoaXMxNi5hdXRvQ2FsY3VsYXRlVGF4KHZhbHVlLnZhdFRheCwgYW10KTsKICAgICAgICAgIHZhdFRheCA9IGtlbmRvLnBhcnNlRmxvYXQodmF0VGF4KSA/IGtlbmRvLnBhcnNlRmxvYXQodmF0VGF4KSA6IDA7CgogICAgICAgICAgaWYgKHZhbHVlLnZhdFRheC5oYXNPd25Qcm9wZXJ0eSgidGF4VHlwZSIpKSB7CiAgICAgICAgICAgIHRheExpc3QucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogdmFsdWUudmF0VGF4LnRheFR5cGUubmFtZSwKICAgICAgICAgICAgICBhbW91bnQ6IHZhdFRheCwKICAgICAgICAgICAgICBpZDogdmFsdWUudmF0VGF4LnRheFR5cGUuaWQKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0b3RhbFRheCArPSBrZW5kby5wYXJzZUZsb2F0KHZhdFRheCA/IHZhdFRheCA6IDApOwogICAgICB9KTsKICAgICAgdmFyIGFtb3VudCA9IHRoaXMuY3JlZGl0TWVtby5pdGVtTGluZUFtb3VudDsKICAgICAgdmFyIHRheEFtb3VudCA9IHRoaXMuY3JlZGl0TWVtby5pdGVtTGluZVRheEFtb3VudDsKICAgICAgdmFyIGRpc2NvdW50ID0gdGhpcy5jcmVkaXRNZW1vLml0ZW1MaW5lRGlzY291bnRBbW91bnQ7IC8vIGNvbnN0IHN1YlRvdGFsID0gdGhpcy5jcmVkaXRNZW1vLml0ZW1MaW5lU3ViVG90YWwKCiAgICAgIHRoaXMuY3JlZGl0TWVtby5hY2NvdW50TGluZUFtb3VudCA9IGtlbmRvLnBhcnNlRmxvYXQoc3ViVG90YWwpIC0ga2VuZG8ucGFyc2VGbG9hdChkaXNjb3VudFRvdGFsKSArIGtlbmRvLnBhcnNlRmxvYXQodG90YWxUYXgpOwogICAgICB0aGlzLmNyZWRpdE1lbW8uYWNjb3VudExpbmVUYXhBbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KHRvdGFsVGF4KTsKICAgICAgdGhpcy5jcmVkaXRNZW1vLmFjY291bnRMaW5lRGlzY291bnRBbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50VG90YWwpOwogICAgICB0aGlzLmNyZWRpdE1lbW8uYW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdChhbW91bnQpICsga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmNyZWRpdE1lbW8uYWNjb3VudExpbmVBbW91bnQpOwogICAgICB0aGlzLmNyZWRpdE1lbW8udGF4QW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh0YXhBbW91bnQpICsga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmNyZWRpdE1lbW8uYWNjb3VudExpbmVUYXhBbW91bnQpOwogICAgICB0aGlzLmNyZWRpdE1lbW8uZGlzY291bnQgPSBrZW5kby5wYXJzZUZsb2F0KGRpc2NvdW50KSArIGtlbmRvLnBhcnNlRmxvYXQodGhpcy5jcmVkaXRNZW1vLmFjY291bnRMaW5lRGlzY291bnRBbW91bnQpOyAvLyB0aGlzLmF1dG9DYWxjdWxhdGVUYXhCeVR5cGUodGF4TGlzdCkKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKHRoaXMuY3JlZGl0TWVtby5hY2NvdW50TGluZUFtb3VudCwgdGhpcy5jcmVkaXRNZW1vLmFjY291bnRMaW5lVGF4QW1vdW50LCB0aGlzLmNyZWRpdE1lbW8uYWNjb3VudExpbmVEaXNjb3VudEFtb3VudCwgJy0tJykKICAgIH0sCiAgICByZW1vdmVEdXBsaWNhdGU6IGZ1bmN0aW9uIHJlbW92ZUR1cGxpY2F0ZShhcnJheSkgewogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgIHZhciBtYXAgPSBuZXcgTWFwKCk7CgogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYXJyYXkpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgIGlmICghbWFwLmhhcyhpdGVtLmlkKSkgewogICAgICAgICAgICBtYXAuc2V0KGl0ZW0uaWQsIHRydWUpOyAvLyBzZXQgYW55IHZhbHVlIHRvIE1hcAoKICAgICAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgYXV0b0NhbGN1bGF0ZVRheEJ5VHlwZTogZnVuY3Rpb24gYXV0b0NhbGN1bGF0ZVRheEJ5VHlwZSh0YXgpIHsKICAgICAgLy8gcmV0dXJuIGJ5IGEga2V5CiAgICAgIHZhciBncm91cEFsbCA9IGZ1bmN0aW9uIGdyb3VwQWxsKGxpc3QpIHsKICAgICAgICByZXR1cm4gbGlzdC5yZWR1Y2UoZnVuY3Rpb24gKHRheCwgaXRlbSkgewogICAgICAgICAgdmFyIHRheEFtb3VudCA9IHRheFtpdGVtLm5hbWVdIHx8IDA7CiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdGF4LCBfZGVmaW5lUHJvcGVydHkoe30sIGl0ZW0ubmFtZSwgdGF4QW1vdW50ICsgcGFyc2VGbG9hdChpdGVtLmFtb3VudCkpKTsKICAgICAgICB9LCB7fSk7CiAgICAgIH07CgogICAgICB0aGlzLnRheExpc3RUb3RhbCA9IGdyb3VwQWxsKHRheCk7CiAgICB9LAogICAgbG9hZEVtcGxveWVlQ2VudGVyOiBmdW5jdGlvbiBsb2FkRW1wbG95ZWVDZW50ZXIoKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5lbXBsb3llZXMgPSBbXTsKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUhhbmRsZXIuY2VudGVyKHVuZGVmaW5lZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTcuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5lbXBsb3llZXMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTcuZW1wbG95ZWVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE3LmNyZWRpdE1lbW8uZW1wbG95ZWUgPSBfdGhpczE3LmVtcGxveWVlc1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgNTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFByZWZpeDogZnVuY3Rpb24gbG9hZFByZWZpeCgpIHsKICAgICAgdmFyIF90aGlzMTggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBwcmVmaXhIYW5kbGVyLmdldCgic2FsZSByZXR1cm4iKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOC5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE4LnRyYW5zYWN0aW9uVHlwZSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxOC50cmFuc2FjdGlvblR5cGUubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTguY3JlZGl0TWVtby50cmFuc2FjdGlvblR5cGUgPSBfdGhpczE4LnRyYW5zYWN0aW9uVHlwZVswXTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTguJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE4LmdlbmVyYXRlTnVtYmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDUwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRTYWxlVW5pdEl0ZW1zOiBmdW5jdGlvbiBsb2FkU2FsZVVuaXRJdGVtcygpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBzYWxlVW5pdEl0ZW1IYW5kbGVyLmxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIF90aGlzMTkuc2FsZVVuaXRJdGVtTGlzdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0sIDUwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uRmlsdGVyQ2hhbmdlOiBmdW5jdGlvbiBvbkZpbHRlckNoYW5nZShldmVudCkgewogICAgICB2YXIgZmlsdGVyID0gZXZlbnQuZmlsdGVyLnZhbHVlOwogICAgICB0aGlzLnJlcXVlc3REYXRhKDAsIGZpbHRlciwgdGhpcy5jdXNCYXNlVXJsKTsKICAgICAgdGhpcy5maWx0ZXIgPSBmaWx0ZXI7CiAgICB9LAogICAgcmVxdWVzdERhdGE6IGZ1bmN0aW9uIHJlcXVlc3REYXRhKHNraXAsIGZpbHRlciwgYmFzZVVybCkgewogICAgICB2YXIgdXJsID0gYmFzZVVybCArICI/ZmlsdGVyPSIuY29uY2F0KGZpbHRlcik7CiAgICAgIGZldGNoKHVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICB9KS50aGVuKHRoaXMuYWZ0ZXJGZXRjaCk7CiAgICB9LAogICAgYWZ0ZXJGZXRjaDogZnVuY3Rpb24gYWZ0ZXJGZXRjaChqc29uKSB7CiAgICAgIHRoaXMuY3VzdG9tZXJMaXN0ID0ganNvbi5kYXRhOwogICAgfSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkgewogICAgICB2YXIgdmFsdWUgPSBldmVudC52YWx1ZTsKCiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZVsibnVtYmVyTmFtZSJdID09PSBlbXB0eUl0ZW1bIm51bWJlck5hbWUiXSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5pc0xvYWRpbmcgPSAwOwoKICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgdGhpcy5jdXN0b21lciA9IHZhbHVlOwogICAgICAgIHZhciBzYWxlRGVwb3NpdEFjYyA9IHZhbHVlLmhhc093blByb3BlcnR5KCJzYWxlRGVwb3NpdEFjYyIpID8gdmFsdWUuc2FsZURlcG9zaXRBY2MgOiB7fTsKICAgICAgICB0aGlzLmNyZWRpdE1lbW8uY3VzdG9tZXIgPSB2YWx1ZTsKICAgICAgICB0aGlzLmNyZWRpdE1lbW8ucHJpY2VMZXZlbCA9IHZhbHVlLmhhc093blByb3BlcnR5KCJwcmljZUxldmVsIikgPyB2YWx1ZS5wcmljZUxldmVsIDoge307CiAgICAgICAgdGhpcy5kZWNpbWFsRm9ybWF0ID0gdmFsdWUuZGVjaW1hbEZvcm1hdDsKCiAgICAgICAgaWYgKHZhbHVlLmJhc2VDdXJyZW5jeSkgewogICAgICAgICAgdGhpcy5iYXNlQ3VycmVuY3lDb2RlID0gdmFsdWUuYmFzZUN1cnJlbmN5Lmhhc093blByb3BlcnR5KCJjb2RlIikgPyB2YWx1ZS5iYXNlQ3VycmVuY3kuY29kZSA6ICIiOwogICAgICAgICAgdGhpcy5hY2NEZXBvc2l0ID0gdGhpcy5hY2NEZXBvc2l0cy5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgcmV0dXJuIG8uaWQgPT09IHNhbGVEZXBvc2l0QWNjLmlkOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmxvYWRUcmFuc2FjdGlvblJhdGUoKTsKICAgICAgICB0aGlzLmxvYWRQcm9qZWN0QnlDdXN0b21lcigpOyAvLyB0aGlzLnNlYXJjaEludm9pY2UoKTsKICAgICAgfQogICAgfSwKICAgIGhpZGVTbWFsbFNpZGViYXI6IGZ1bmN0aW9uIGhpZGVTbWFsbFNpZGViYXIoKSB7CiAgICAgIHRoaXMuaXNIaWRlQmFyID0gIXRoaXMuaXNIaWRlQmFyOwogICAgfSwKICAgIGdlbmVyYXRlTnVtYmVyOiBmdW5jdGlvbiBnZW5lcmF0ZU51bWJlcigpIHsKICAgICAgdmFyIF90aGlzMjAgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgIHZhciB0cmFuRGF0ZSA9IG5ldyBEYXRlKHRoaXMudHJhbnNhY3Rpb25EYXRlKTsKICAgICAgICB2YXIgdHJhbkRhdGVJbnZvaWNlID0gbmV3IERhdGUodGhpcy5jcmVkaXRNZW1vLnRyYW5zYWN0aW9uRGF0ZSk7CiAgICAgICAgdmFyIHRyYW5EYXRlTSA9IHRyYW5EYXRlLmdldEZ1bGxZZWFyKCkgKyB0cmFuRGF0ZS5nZXRNb250aCgpOwogICAgICAgIHZhciB0cmFuRGF0ZUludm9pY2VNID0gdHJhbkRhdGVJbnZvaWNlLmdldEZ1bGxZZWFyKCkgKyB0cmFuRGF0ZUludm9pY2UuZ2V0TW9udGgoKTsKCiAgICAgICAgaWYgKHRyYW5EYXRlTSA9PT0gdHJhbkRhdGVJbnZvaWNlTSkgewogICAgICAgICAgdGhpcy5jcmVkaXRNZW1vLnJlZmVyZW5jZU5vID0gdGhpcy5yZWZlcmVuY2VObzsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnRyYW5zYWN0aW9uRGF0ZSAhPT0gIiIgJiYgdGhpcy50cmFuc2FjdGlvblR5cGUubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgYWJicjogdGhpcy5jcmVkaXRNZW1vLnRyYW5zYWN0aW9uVHlwZS5hYmJyLAogICAgICAgICAgc3RydWN0dXJlOiB0aGlzLmNyZWRpdE1lbW8udHJhbnNhY3Rpb25UeXBlLnN0cnVjdHVyZSwKICAgICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogdGhpcy50cmFuc2FjdGlvbkRhdGUsCiAgICAgICAgICBwcmVmaXhTZXBhcmF0b3I6IHRoaXMuY3JlZGl0TWVtby50cmFuc2FjdGlvblR5cGUucHJlZml4U2VwYXJhdG9yIHx8ICcnLAogICAgICAgICAgbnVtYmVyU2VwYXJhdG9yOiB0aGlzLmNyZWRpdE1lbW8udHJhbnNhY3Rpb25UeXBlLm51bWJlclNlcGFyYXRvciB8fCAnJywKICAgICAgICAgIGZvcm1hdDogdGhpcy5jcmVkaXRNZW1vLnRyYW5zYWN0aW9uVHlwZS5mb3JtYXQgfHwgNSwKICAgICAgICAgIHNlcXVjZW5jaW5nOiB0aGlzLmNyZWRpdE1lbW8udHJhbnNhY3Rpb25UeXBlLnNlcXVjZW5jaW5nLAogICAgICAgICAgdHlwZTogIkNyZWRpdCBNZW1vIiwKICAgICAgICAgIGVudGl0eTogMQogICAgICAgIH07CiAgICAgICAgYmlsbGluZ0hhbmRsZXIubGFzdE51bWJlcihkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIHZhciByZXMgPSByZXNwb25zZS5kYXRhLmRhdGE7CgogICAgICAgICAgICB2YXIgbGFzdE51bWJlciA9IF90aGlzMjAuemVyb1BhZChwYXJzZUludChyZXMubGFzdE51bWJlciksIF90aGlzMjAuY3JlZGl0TWVtby50cmFuc2FjdGlvblR5cGUuZm9ybWF0KTsKCiAgICAgICAgICAgIHZhciBudW1iZXIgPSByZXMuc3VmZml4ICsgX3RoaXMyMC5jcmVkaXRNZW1vLnRyYW5zYWN0aW9uVHlwZS5udW1iZXJTZXBhcmF0b3IgKyBsYXN0TnVtYmVyOwogICAgICAgICAgICBfdGhpczIwLmNyZWRpdE1lbW8ubnVtYmVyID0gbnVtYmVyOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBfdGhpczIwLmVycm9ycy5wdXNoKGUpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgemVyb1BhZDogZnVuY3Rpb24gemVyb1BhZChudW0sIHBsYWNlcykgewogICAgICByZXR1cm4gU3RyaW5nKG51bSkucGFkU3RhcnQocGxhY2VzLCAiMCIpOwogICAgfSwKICAgIHN1ZmZpeDogZnVuY3Rpb24gc3VmZml4KHRyYW5zYWN0aW9uRGF0ZSkgewogICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcobmV3IERhdGUodHJhbnNhY3Rpb25EYXRlKSwgInl5bW0iKTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdmFyIF90aGlzMjEgPSB0aGlzOwoKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgdGl0bGU6IGkxOG4udCgibXNnX3RpdGxlX3dhcm5pbmciKSwKICAgICAgICB0ZXh0OiBpMThuLnQoIm1zZ19kaXNjYXJkIiksCiAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCJjYW5jZWwiKSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoImRpc2NhcmQiKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHRDYW4pIHsKICAgICAgICBpZiAocmVzdWx0Q2FuLnZhbHVlKSB7CiAgICAgICAgICBfdGhpczIxLmNsZWFyKCk7CgogICAgICAgICAgX3RoaXMyMS4kcm91dGVyLmdvKC0xKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZVJvdzogZnVuY3Rpb24gcmVtb3ZlUm93KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRJdGVtTGluZSIpLmRhdGEoImtlbmRvR3JpZCIpLAogICAgICAgICAgZGF0YVNvdXJjZSA9IGdyaWQuZGF0YVNvdXJjZSwKICAgICAgICAgIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CgogICAgICBpZiAoZGF0YVNvdXJjZS50b3RhbCgpID4gMSkgewogICAgICAgIGRhdGFTb3VyY2UucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgICB0aGlzLmF1dG9DYWxjdWxhdGUoKTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZVJvd0FjYzogZnVuY3Rpb24gcmVtb3ZlUm93QWNjKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgZ3JpZCA9ICQoIiMiKS5kYXRhKCJrZW5kb0dyaWQiKSwKICAgICAgICAgIGRhdGFTb3VyY2UgPSBncmlkLmRhdGFTb3VyY2UsCiAgICAgICAgICBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwoKICAgICAgaWYgKGRhdGFTb3VyY2UudG90YWwoKSA+IDEpIHsKICAgICAgICBkYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7CiAgICAgIH0KICAgIH0sCiAgICB2YXRUZW1wbGF0ZTogZnVuY3Rpb24gdmF0VGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIHZhdCA9IGRhdGFJdGVtLnZhdFRheDsKCiAgICAgIGlmICh2YXQpIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KHZhdC5kZWZhdWx0VGF4ID8gdmF0LmRlZmF1bHRUYXggOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBhY2NvdW50VGVtcGxhdGU6IGZ1bmN0aW9uIGFjY291bnRUZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgYWNjb3VudCA9IGRhdGFJdGVtLmFjY291bnQ7CgogICAgICBpZiAoYWNjb3VudCkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQoYWNjb3VudC5uYW1lID8gYWNjb3VudC5uYW1lIDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgaXRlbVRlbXBsYXRlOiBmdW5jdGlvbiBpdGVtVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGl0ZW0gPSBkYXRhSXRlbS5pdGVtOwoKICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KGl0ZW0ubmFtZSA/IGl0ZW0ubmFtZSA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIFVPTVRlbXBsYXRlOiBmdW5jdGlvbiBVT01UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICB2YXIgdW9tID0gZGF0YUl0ZW0udW9tOwogICAgICB2YXIgY29kZSA9IHVvbS5jb2RlIHx8ICcnOwoKICAgICAgaWYgKHVvbSkgewogICAgICAgIHJldHVybiAiPHNwYW4+Ii5jb25jYXQodW9tLnVvbSA/IGNvZGUgOiAiIiwgIjwvc3Bhbj4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBzYWxlVW5pdFRlbXBsYXRlOiBmdW5jdGlvbiBzYWxlVW5pdFRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHZhciBzYWxlVW5pdCA9IGRhdGFJdGVtLnNhbGVVbml0OwoKICAgICAgaWYgKHNhbGVVbml0KSB7CiAgICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChzYWxlVW5pdC5uYW1lID8gc2FsZVVuaXQubmFtZSA6ICIiLCAiPC9zcGFuPiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIGVtcEltcGw6IGZ1bmN0aW9uIGVtcEltcGwoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGVtcElkcyA9IFtdOwogICAgICBkYXRhSXRlbS5lbXBsb3llZS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgZW1wSWRzLnB1c2gobS5maXJzdE5hbWUgKyAiIC0gIiArIG0ubGFzdE5hbWUpOwogICAgICB9KTsgLy8gd2luZG93LmNvbnNvbGUubG9nKGVtcElkcy5qb2luKCcsICcpKQoKICAgICAgcmV0dXJuICI8c3Bhbj4iLmNvbmNhdChlbXBJZHMuam9pbigiLCAiKSwgIjwvc3Bhbj4iKTsKICAgIH0sCiAgICBkaXNjb3VudEl0ZW1UZW1wbGF0ZTogZnVuY3Rpb24gZGlzY291bnRJdGVtVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGRpc2NvdW50SXRlbSA9IGRhdGFJdGVtLmRpc2NvdW50SXRlbTsKCiAgICAgIGlmIChkaXNjb3VudEl0ZW0pIHsKICAgICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KGRpc2NvdW50SXRlbS5jb2RlID8gZGlzY291bnRJdGVtLmNvZGUgOiAiIiwgIiAtICIpLmNvbmNhdChkaXNjb3VudEl0ZW0ubmFtZSA/IGRpc2NvdW50SXRlbS5uYW1lIDogIiIsICI8L3NwYW4+Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgSXRlbURyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBJdGVtRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJjb250YWlucyIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGhlYWRlclRlbXBsYXRlOiAnPGRpdiBjbGFzcz0iZHJvcGRvd24taGVhZGVyIGstd2lkZ2V0IGstaGVhZGVyIj4nICsgIjxzcGFuPkl0ZW1zIDwvc3Bhbj4iICsgIjxzcGFuPjwvc3Bhbj4iICsgIjwvZGl2PiIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogcHJvZHVjdFZhcmlhbnRIYW5kbGVyLml0ZW1TZWFyY2hVUkwoJz9yZVVzZWQ9MicpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbmFtZTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNrdTogewogICAgICAgICAgICAgICAgICB0eXBlOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgfSAvLyBkYXRhOiB0aGlzLnZhcmlhbnRzCgogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIE90aGVyQ2hhcmdlRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIE90aGVyQ2hhcmdlRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLVNlbGVjdC0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIGRhdGE6IHRoaXMub3RoZXJDaGFyZ2VMaXN0CiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgVU9NRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIFVPTURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogImNvZGUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAidW9tQ29udmVydElkIiwKICAgICAgICBjYXNjYWRlRnJvbTogIml0ZW0iLAogICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1jb2RlIHx8IGBObyBQcmljZSBMZXZlbGAjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIC8vIHVybDogdW9tUHJpY2VIYW5kbGVyLmdldFVSTChvcHRpb25zLm1vZGVsLml0ZW0uaWQsIHRoaXMuY3JlZGl0TWVtby5wcmljZUxldmVsLmlkLCBvcHRpb25zLm1vZGVsLml0ZW0udHlwZSksCiAgICAgICAgICAgICAgdXJsOiB1b21QcmljZUhhbmRsZXIudW9tUHJpY2VCeVByaWNlTGV2ZWxVUkwoImlkPSIgKyBvcHRpb25zLm1vZGVsLml0ZW0uaWQgKyAiJnBsSWQ9IiArIHRoaXMuY3JlZGl0TWVtby5wcmljZUxldmVsLmlkICsgIiZkYXRlPSIgKyB0aGlzLnRyYW5zYWN0aW9uRGF0ZSkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIgogICAgICAgICAgfSwKICAgICAgICAgIHNjaGVtYTogewogICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgICAgIGZpZWxkczogewogICAgICAgICAgICAgICAgaWQ6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN0cmluZyIKICAgICAgICAgICAgICAgIH0gLy8gbmFtZToge3R5cGU6ICJzdHJpbmcifSwKICAgICAgICAgICAgICAgIC8vIHNrdToge3R5cGU6ICJzdHJpbmcifSwKCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIGRhdGE6IHRoaXMudmFyaWFudHMKCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9LAogICAgRGlzY291bnRJdGVtRHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIERpc2NvdW50SXRlbURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIGNhc2NhZGVGcm9tOiAiaXRlbSIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWNvZGUjIC0gIz1uYW1lIzwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgc2VydmVyRmlsdGVyaW5nOiB0cnVlLAogICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICB1cmw6IGRpc2NvdW50SXRlbUhhbmRsZXIuZ2V0VVJMKERJU0NPVU5UX1RZUEUpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9IC8vIG5hbWU6IHt0eXBlOiAic3RyaW5nIn0sCiAgICAgICAgICAgICAgICAvLyBza3U6IHt0eXBlOiAic3RyaW5nIn0sCgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFNwZWNpZmljVGF4RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIFNwZWNpZmljVGF4RHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAiZGVmYXVsdFRheCIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWRlZmF1bHRUYXgjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLnNwZWNpZmljVGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICBpZiAob3B0aW9ucy5tb2RlbC5oYXNPd25Qcm9wZXJ0eSgidmF0VGF4IikpIHsKICAgICAgICAgICAgICB2YXIgdmF0ID0gb3B0aW9ucy5tb2RlbC52YXRUYXg7CgogICAgICAgICAgICAgIGlmICh2YXQpIHsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gbnVsbCB8fCBvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gIm51bGwiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSBvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFB1YmxpY0xpZ2h0aW5nVGF4RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIFB1YmxpY0xpZ2h0aW5nVGF4RHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAiZGVmYXVsdFRheCIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWRlZmF1bHRUYXgjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLnB1YmxpY0xpZ2h0aW5nVGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICBpZiAob3B0aW9ucy5tb2RlbC5oYXNPd25Qcm9wZXJ0eSgidmF0VGF4IikpIHsKICAgICAgICAgICAgICB2YXIgdmF0ID0gb3B0aW9ucy5tb2RlbC52YXRUYXg7CgogICAgICAgICAgICAgIGlmICh2YXQpIHsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gbnVsbCAmJiBvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gIm51bGwiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSBvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIE90aGVyVGF4RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIE90aGVyVGF4RHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAiZGVmYXVsdFRheCIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWRlZmF1bHRUYXgjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLm90aGVyVGF4LmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgICAgICAgICBpZiAob3B0aW9ucy5tb2RlbC5oYXNPd25Qcm9wZXJ0eSgidmF0VGF4IikpIHsKICAgICAgICAgICAgICB2YXIgdmF0ID0gb3B0aW9ucy5tb2RlbC52YXRUYXg7CgogICAgICAgICAgICAgIGlmICh2YXQpIHsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gbnVsbCAmJiBvcHRpb25zLm1vZGVsLnZhdFRheCAhPT0gIm51bGwiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uYmFzZUFtb3VudC50b0xvd2VyQ2FzZSgpID09PSBvcHRpb25zLm1vZGVsLnZhdFRheC5iYXNlQW1vdW50LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIFZhdFRheERyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBWYXRUYXhEcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJkZWZhdWx0VGF4IiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9ZGVmYXVsdFRheCM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tU2VsZWN0LS0iLAogICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgZGF0YTogdGhpcy52YXRUYXgKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBBY2NvdW50RHJvcERvd25FZGl0b3I6IGZ1bmN0aW9uIEFjY291bnREcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bnVtYmVyIyAtICM9bmFtZSMgPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLVNlbGVjdC0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIGRhdGE6IHRoaXMuYWNjb3VudHMKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBBY2NvdW50RHJvcERvd25FZGl0b3JSZWZ1bmQ6IGZ1bmN0aW9uIEFjY291bnREcm9wRG93bkVkaXRvclJlZnVuZChjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykuYXBwZW5kVG8oY29udGFpbmVyKS5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgIGhlaWdodDogNDAwLAogICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bnVtYmVyIyAtICM9bmFtZSMgPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLVNlbGVjdC0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIGRhdGE6IHRoaXMuYWNjQ2FzaAogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIEFjY291bnREcm9wRG93bkVkaXRvckRlcG9zaXQ6IGZ1bmN0aW9uIEFjY291bnREcm9wRG93bkVkaXRvckRlcG9zaXQoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW51bWJlciMgLSAjPW5hbWUjIDwvc3Bhbj4iLAogICAgICAgIG9wdGlvbkxhYmVsOiAiLS1TZWxlY3QtLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBkYXRhOiB0aGlzLmFjY0RlcG9zaXQKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBTYWxlVW5pdERyb3BEb3duRWRpdG9yOiBmdW5jdGlvbiBTYWxlVW5pdERyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKS5hcHBlbmRUbyhjb250YWluZXIpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1jb2RlIyAtICM9bmFtZSM8L3NwYW4+IiwKICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgIGRhdGE6IHRoaXMuc2FsZVVuaXRJdGVtTGlzdAogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIEFtb3VudEVkaXRvcjogZnVuY3Rpb24gQW1vdW50RWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBkYXRhLWJpbmQ9InZhbHVlOicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpLmFwcGVuZFRvKGNvbnRhaW5lcikua2VuZG9OdW1lcmljVGV4dEJveCh7CiAgICAgICAgZGVjaW1hbHM6IDMwLAogICAgICAgIGZvcm1hdDogIiIuY29uY2F0KHRoaXMuZGVjaW1hbEZvcm1hdCkKICAgICAgfSk7CiAgICB9LAogICAgcm93TnVtYmVyVG1wbDogZnVuY3Rpb24gcm93TnVtYmVyVG1wbChkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgcm93TnVtYmVyVG1wbEFjYzogZnVuY3Rpb24gcm93TnVtYmVyVG1wbEFjYyhkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmFjY291bnRMaW5lRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgcm93TnVtYmVyVG1wbERlcG9zaXQ6IGZ1bmN0aW9uIHJvd051bWJlclRtcGxEZXBvc2l0KGRhdGFJdGVtKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuZGVwb3NpdExpbmVEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKICAgICAgcmV0dXJuIGluZGV4ICsgMTsKICAgIH0sCiAgICByb3dOdW1iZXJUbXBsQXBwbHk6IGZ1bmN0aW9uIHJvd051bWJlclRtcGxBcHBseShkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmFwcGx5VG9MaW5lRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgYWRkUm93T2Zmc2V0SW52b2ljZTogZnVuY3Rpb24gYWRkUm93T2Zmc2V0SW52b2ljZSgpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5hcHBseVRvTGluZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICB0b3RhbCA9IGRzLnRvdGFsKCk7CiAgICAgIGRzLmluc2VydCh0b3RhbCwgdGhpcy5hcHBseVRvTGluZSk7CiAgICB9LAogICAgYWRkUm93OiBmdW5jdGlvbiBhZGRSb3coKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgdG90YWwgPSBkcy50b3RhbCgpOwogICAgICB0aGlzLml0ZW1MaW5lLmlkID0gaXRlbUxpbmVQcmVmaXggKyB1dWlkLnYxKCk7CiAgICAgIHRoaXMuaXRlbUxpbmUuZGVjaW1hbEZvcm1hdCA9IHRoaXMuZGVjaW1hbEZvcm1hdDsKICAgICAgZHMuaW5zZXJ0KHRvdGFsLCB0aGlzLml0ZW1MaW5lKTsgLy8gdGhpcy5pdGVtTGluZXMucHVzaCh0aGlzLml0ZW1MaW5lKQogICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coJ2l0ZW0gTGluZScsIHRoaXMuaXRlbUxpbmUpCiAgICB9LAogICAgYWRkUm93QWNjOiBmdW5jdGlvbiBhZGRSb3dBY2MoKSB7Ly8gbGV0IGRzID0gdGhpcy4kcmVmcy5hY2NvdW50TGluZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgIC8vICAgICB0b3RhbCA9IGRzLnRvdGFsKCkKICAgICAgLy8gdGhpcy5hY2NvdW50TGluZS5pZCA9IGl0ZW1MaW5lUHJlZml4ICsgdXVpZC52MSgpCiAgICAgIC8vIGRzLmluc2VydCh0b3RhbCwgdGhpcy5hY2NvdW50TGluZSkKICAgIH0sCiAgICBhZGRSb3dEZXBvc2l0OiBmdW5jdGlvbiBhZGRSb3dEZXBvc2l0KCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmRlcG9zaXRMaW5lRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHRvdGFsID0gZHMudG90YWwoKTsKICAgICAgdGhpcy5kZXBvc2l0TGluZS5pZCA9IGl0ZW1MaW5lUHJlZml4ICsgdXVpZC52MSgpOwogICAgICB0aGlzLmRlcG9zaXRMaW5lLmRlY2ltYWxGb3JtYXQgPSB0aGlzLmRlY2ltYWxGb3JtYXQ7CiAgICAgIGRzLmluc2VydCh0b3RhbCwgdGhpcy5kZXBvc2l0TGluZSk7CiAgICB9LAogICAgYWRkUm93Q2FzaFJlZnVuZDogZnVuY3Rpb24gYWRkUm93Q2FzaFJlZnVuZCgpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5jYXNoUmVmdW5kRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHRvdGFsID0gZHMudG90YWwoKTsKICAgICAgdGhpcy5zYWxlRGVwb3NpdExpbmUuaWQgPSBpdGVtTGluZVByZWZpeCArIHV1aWQudjEoKTsKICAgICAgdGhpcy5zYWxlRGVwb3NpdExpbmUuZGVjaW1hbEZvcm1hdCA9IHRoaXMuZGVjaW1hbEZvcm1hdDsKICAgICAgdGhpcy5zYWxlRGVwb3NpdExpbmUub3B0aW9uVHlwZSA9IE9QVElPTl9UWVBFOwogICAgICBkcy5pbnNlcnQodG90YWwsIHRoaXMuc2FsZURlcG9zaXRMaW5lKTsKICAgIH0sCiAgICBsb2FkT3RoZXJBY2NvdW50OiBmdW5jdGlvbiBsb2FkT3RoZXJBY2NvdW50KCkgewogICAgICB2YXIgX3RoaXMyMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTcoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHNldHRpbmdzSGFuZGxlci5nZXRPdGhlckFjY291bnQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMi5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbiAobykgewogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvLmJhbmhqaUFjY0NvZGUgPT09ICI3NDAwMTAiOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIyLmdhaW5Mb3NzQWNjID0gZGF0YVswXS5hY2NvdW50OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YV8gPSByZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gby5iYW5oamlBY2NDb2RlID09PSAiNzQwMDQwIjsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YV8ubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjIub3RoZXJSZXZlbnVlQWNjID0gZGF0YV9bMF0uYWNjb3VudDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMi5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgUHVyY2hhc2VEaXNjb3VudEl0ZW1FZGl0b3I6IGZ1bmN0aW9uIFB1cmNoYXNlRGlzY291bnRJdGVtRWRpdG9yKCkge30sCiAgICBzZWFyY2hJbnZvaWNlOiBmdW5jdGlvbiBzZWFyY2hJbnZvaWNlKCkgewogICAgICB2YXIgX3RoaXMyMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTgoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOCQoX2NvbnRleHQxOCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge307CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdmFyIHByaWNlTGV2ZWwgPSBfdGhpczIzLmNyZWRpdE1lbW8ucHJpY2VMZXZlbDsKICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9ICIiOwoKICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2VMZXZlbC5oYXNPd25Qcm9wZXJ0eSgiY3VycmVuY3kiKSkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5jcmVkaXRNZW1vLmN1cnJlbmN5ID0gcHJpY2VMZXZlbC5jdXJyZW5jeTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2VMZXZlbC5jdXJyZW5jeS5oYXNPd25Qcm9wZXJ0eSgiY29kZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBwcmljZUxldmVsLmN1cnJlbmN5LmNvZGU7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiBfdGhpczIzLmN1c3RvbWVyLmlkLAogICAgICAgICAgICAgICAgICAgICAgdHlwZTogImN1c3RvbWVyIiwKICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogMywKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogX3RoaXMyMy50cmFuc2FjdGlvbkRhdGUsCiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogY29kZQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5vZmZzZXRJbnZvaWNlcyA9IFtdOwogICAgICAgICAgICAgICAgICAgIF90aGlzMjMuaXNMb2FkaW5nID0gMTsKICAgICAgICAgICAgICAgICAgICBfdGhpczIzLnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5zZWFyY2goZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gcmVzLmRhdGEuZGF0YTsgLy8gY29uc3QgcmVzdWx0ID0gcmVzLmRhdGEucmVzdWx0CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5pc0xvYWRpbmcgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5zaG93TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1bmlxdWVJZHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5vZmZzZXRJbnZvaWNlTGlzdCA9IHJlc3BvbnNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5vZmZzZXRJbnZvaWNlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlSWRzLnB1c2goby5pZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVuaXF1ZSA9IF90b0NvbnN1bWFibGVBcnJheShuZXcgU2V0KHVuaXF1ZUlkcykpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5vZmZzZXRJbnZvaWNlcyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWUuZm9yRWFjaChmdW5jdGlvbiAodHhuSWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBfdGhpczIzLm9mZnNldEludm9pY2VMaXN0LmZpbHRlcihmdW5jdGlvbiAoaikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGouaWQgPT09IHR4bklkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZC5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIzLm9mZnNldEludm9pY2VzLnB1c2goayk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyBjb25zdCB1bmlxdWUgPSBbLi4ubmV3IFNldCh0aGlzLm9mZnNldEludm9pY2VMaXN0Lm1hcChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgcmVmZXJlbmNlTm86IGl0ZW0ucmVmZXJlbmNlTm8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSkpXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmF1dG9DYWxjdWxhdGUoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmFkZFJvd09mZnNldEludm9pY2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5pc0xvYWRpbmcgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjMuaXNMb2FkaW5nID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIzLmlzTG9hZGluZyA9IDA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUGF5bWVudE9wdGlvbjogZnVuY3Rpb24gbG9hZFBheW1lbnRPcHRpb24oKSB7CiAgICAgIHZhciBfdGhpczI0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyNC5wYXltZW50TWV0aG9kID0gW107CiAgICAgICAgICAgICAgICAgICAgcGF5bWVudE9wdGlvbkhhbmRsZXIubGlzdChzdHJPcHRpb25GaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI0LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjQucGF5bWVudE1ldGhvZCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczI0LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvblNhdmVDbG9zZTogZnVuY3Rpb24gb25TYXZlQ2xvc2Uoc2F2ZSkgewogICAgICB2YXIgX3RoaXMyNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjAoKSB7CiAgICAgICAgdmFyIGxEUywgZGF0YVZhbGlkYXRlLCBpdG1MaW5lUjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczI1LiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczI1LiRyZWZzLmZvcm0udmFsaWRhdGUoKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBsRFMgPSBfdGhpczI1LiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKTsKICAgICAgICAgICAgICAgIGRhdGFWYWxpZGF0ZSA9IDA7CiAgICAgICAgICAgICAgICBpdG1MaW5lUiA9IGxEUy5kYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBuLmFtb3VudCA+IDA7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnaXRtTGluZVInLCBpdG1MaW5lUik7CgogICAgICAgICAgICAgICAgaWYgKCEoaXRtTGluZVIubGVuZ3RoID4gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGl0bUxpbmVSLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgewogICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaXRlbS5pZCA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlLnVvbS51b20uaWQgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZS5pdGVtLmlkID09PSAiIiB8fCB2YWx1ZS51b20udW9tLmlkID09PSAiIikgewogICAgICAgICAgICAgICAgICAgIF90aGlzMjUuJHNub3RpZnkuZXJyb3IoIlBsZWFzZSBzZWxlY3QgcmV0dXJuIGl0ZW0gYXQgcm93ICIgKyAoaW5kZXggKyAxKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZGF0YVZhbGlkYXRlICs9IDE7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChpdG1MaW5lUi5sZW5ndGggPT09IGRhdGFWYWxpZGF0ZSkgewogICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoX3RoaXMyNS5jcmVkaXRNZW1vLnByaWNlTGV2ZWwpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyNS5kciAhPT0gMCAmJiBfdGhpczI1LmNyICE9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coX3RoaXMyNS5jcmVkaXRNZW1vLnByaWNlTGV2ZWwsICJwcmljZSBsZXZlbCIpOwogICAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNBdXRvR2VuZXJhdGUgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXRBbW91bnQgPSBwYXJzZUZsb2F0KF90aGlzMjUuY3JlZGl0TWVtby5hcHBseVRvQW1vdW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUxpbmVBbW91bnQgPSBwYXJzZUZsb2F0KF90aGlzMjUuY3JlZGl0TWVtby5pdGVtTGluZUFtb3VudCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhcmlhbmNlID0gcGFyc2VGbG9hdChfdGhpczI1LmNyZWRpdE1lbW8udmFyaWFuY2UpOyAvLyBjb25zdCBsRFMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFMua2VuZG9XaWRnZXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGl0bUxpbmVSID0gbERTLmRhdGEoKS5maWx0ZXIobiA9PiBuLmFtb3VudCA+IDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgYXBwbHlUb0RTID0gdGhpcy4kcmVmcy5hcHBseVRvTGluZURTLmtlbmRvV2lkZ2V0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBhcHBseVRvTGluZVIgPSBhcHBseVRvRFMuZGF0YSgpLmZpbHRlcihuID0+IG4ucGFpZEFtb3VudCA+IDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZGVwb3NpdExpbmVEUyA9IHRoaXMuJHJlZnMuZGVwb3NpdExpbmVEUy5rZW5kb1dpZGdldCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZGVwb3NpdExpbmVSID0gZGVwb3NpdExpbmVEUy5kYXRhKCkuZmlsdGVyKG4gPT4gbi5hbW91bnQgPiAwKQoKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9EZXBvc2l0QWNjID0gMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9DYXNoQWNjb3VudCA9IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vVmFyaWFuY2VBY2MgPSAwOyAvLyBpZiAoaXRtTGluZVIubGVuZ3RoID4gMCAmJiBkZXBvc2l0TGluZVIubGVuZ3RoID4gMCAmJiBhcHBseVRvTGluZVIubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIC8vdG9kbzogY2hlY2sgb2Zmc2V0IGFtb3VudAoKICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coIm9mZnNldEFtb3VudCIsIG9mZnNldEFtb3VudCwgIml0ZW1MaW5lQW1vdW50IiwgaXRlbUxpbmVBbW91bnQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0QW1vdW50ID4gaXRlbUxpbmVBbW91bnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuc2hvd1dhcmluZ01lc3NhZ2UoIkNyZWRpdCBNZW1vIiwgIlJldHVybiBhbW91bnQgYW5kIE9mZnNldCBhbW91bnQgbXVzdCBiZSBlcXVhbCEiLCAiT0siKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSAvL3RvZG86IGNoZWNrIGN1c3RvbWVyIGNyZWRpdCBjYXNlIGFtb3VudD4wIGFuZCB1bnNlbGVjdGVkIGFjY291bnQKCgogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkcyA9IF90aGlzMjUuJHJlZnMuZGVwb3NpdExpbmVEUy5rZW5kb1dpZGdldCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93cyA9IGRzLmRhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuLmFtb3VudCA+IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY2NvdW50ID0gaXRtLmFjY291bnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhY2NvdW50Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuc2hvd1dhcmluZ01lc3NhZ2UoIkNyZWRpdCBNZW1vIiwgIlBsZWFzZSBzZWxlY3QgZGVwb3NpdCBhY2NvdW50IiwgIk9LIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub0RlcG9zaXRBY2MgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IC8vdG9kbzogY2hlY2sgQ2FzaCByZWZ1bmQgY2FzZSBhbW91bnQ+MCBhbmQgdW5zZWxlY3RlZCBhY2NvdW50CgogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkc1JlZnVuZCA9IF90aGlzMjUuJHJlZnMuY2FzaFJlZnVuZERTLmtlbmRvV2lkZ2V0KCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MgPSBkc1JlZnVuZC5kYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi5hbW91bnQgPiAwOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MuZm9yRWFjaChmdW5jdGlvbiAoaXRtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWNjb3VudCA9IGl0bS5hY2NvdW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYWNjb3VudC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LnNob3dXYXJpbmdNZXNzYWdlKCJDcmVkaXQgTWVtbyIsICJQbGVhc2Ugc2VsZWN0IGNhc2ggYWNjb3VudCIsICJPSyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9DYXNoQWNjb3VudCA9IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy90b2RvOiBjaGVjayB2YXJpYW5jZSBhY2NvdW50CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJpYW5jZSAhPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhcmlhbmNlQWNjID0gX3RoaXMyNS5jcmVkaXRNZW1vLnZhcmlhbmNlQWNjOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmFyaWFuY2VBY2MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKCF2YXJpYW5jZS5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LnNob3dXYXJpbmdNZXNzYWdlKCJDcmVkaXQgTWVtbyIsICJQbGVhc2Ugc2VsZWN0IHZhcmlhbmNlIGFjY291bnQiLCAiT0siKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vVmFyaWFuY2VBY2MgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub1ZhcmlhbmNlQWNjID09PSAwICYmIG5vRGVwb3NpdEFjYyA9PT0gMCAmJiBub0Nhc2hBY2NvdW50ID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyNS4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuRGF0ZSA9IG5ldyBEYXRlKF90aGlzMjUudHJhbnNhY3Rpb25EYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5EYXRlSW52b2ljZSA9IG5ldyBEYXRlKF90aGlzMjUuY3JlZGl0TWVtby50cmFuc2FjdGlvbkRhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbkRhdGVNID0gdHJhbkRhdGUuZ2V0RnVsbFllYXIoKSArIHRyYW5EYXRlLmdldE1vbnRoKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuRGF0ZUludm9pY2VNID0gdHJhbkRhdGVJbnZvaWNlLmdldEZ1bGxZZWFyKCkgKyB0cmFuRGF0ZUludm9pY2UuZ2V0TW9udGgoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFuRGF0ZU0gPT09IHRyYW5EYXRlSW52b2ljZU0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F1dG9HZW5lcmF0ZSA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUxpbmVEUyA9IF90aGlzMjUuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcHBseVRvTGluZURTID0gX3RoaXMyNS4kcmVmcy5hcHBseVRvTGluZURTLmtlbmRvV2lkZ2V0KCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhc2hSZWZ1bmREUyA9IF90aGlzMjUuJHJlZnMuY2FzaFJlZnVuZERTLmtlbmRvV2lkZ2V0KCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlcG9zaXRMaW5lRFMgPSBfdGhpczI1LiRyZWZzLmRlcG9zaXRMaW5lRFMua2VuZG9XaWRnZXQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUxpbmVSID0gaXRlbUxpbmVEUy5kYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvLmFtb3VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3RoZXJDaGFyZ2UgPSBuZXcgT3RoZXJDaGFyZ2VNb2RlbChuLm90aGVyQ2hhcmdlSXRlbSB8fCB7fSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5bJ290aGVyQ2hhcmdlSXRlbSddID0gb3RoZXJDaGFyZ2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSXRlbUxpbmVNb2RlbChuKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFwcGx5VG9MaW5lUiA9IGFwcGx5VG9MaW5lRFMuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAobykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gby5wYWlkQW1vdW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQXBwbHlUb0xpbmVNb2RlbChuKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlcG9zaXRMaW5lUiA9IGRlcG9zaXRMaW5lRFMuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAobykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gby5hbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXBvc2l0TGluZU1vZGVsKG4pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FzaFJlZnVuZFIgPSBjYXNoUmVmdW5kRFMuZGF0YSgpLmZpbHRlcihmdW5jdGlvbiAobykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gby5hbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIG4pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzMjUuY3JlZGl0TWVtby5pZCA/IF90aGlzMjUuY3JlZGl0TWVtby5pZCA6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiQ3JlZGl0IE1lbW8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBfdGhpczI1LmNyZWRpdE1lbW8udXVpZCA/IF90aGlzMjUuY3JlZGl0TWVtby51dWlkIDogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvdXJuYWxfdXVpZDogX3RoaXMyNS5jcmVkaXRNZW1vLmpvdXJuYWxfdXVpZCA/IF90aGlzMjUuY3JlZGl0TWVtby5qb3VybmFsX3V1aWQgOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBfdGhpczI1LmNyZWRpdE1lbW8ubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYmJyOiBfdGhpczI1LmNyZWRpdE1lbW8udHJhbnNhY3Rpb25UeXBlLmFiYnIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogX3RoaXMyNS50cmFuc2FjdGlvbkRhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uRGF0ZVRaOiBIZWxwZXIudG9JU09EYXRlKF90aGlzMjUudHJhbnNhY3Rpb25EYXRlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXI6IF90aGlzMjUuY3VzdG9tZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uVHlwZTogX3RoaXMyNS5jcmVkaXRNZW1vLnRyYW5zYWN0aW9uVHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IF90aGlzMjUuY3JlZGl0TWVtby5jdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHhuUmF0ZTogX3RoaXMyNS5jcmVkaXRNZW1vLnR4blJhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGU6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBfdGhpczI1LmNyZWRpdE1lbW8uZXhjaGFuZ2VBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlUmF0ZTogX3RoaXMyNS5jcmVkaXRNZW1vLmV4Y2hhbmdlUmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBfdGhpczI1LmNyZWRpdE1lbW8uYW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW5jZTogX3RoaXMyNS5jcmVkaXRNZW1vLnZhcmlhbmNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZUxldmVsOiBfdGhpczI1LmNyZWRpdE1lbW8ucHJpY2VMZXZlbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUxpbmU6IGl0ZW1MaW5lUiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwb3NpdExpbmU6IGRlcG9zaXRMaW5lUiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzaFJlZnVuZExpbmU6IGNhc2hSZWZ1bmRSLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseVRvTGluZTogYXBwbHlUb0xpbmVSLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50OiBfdGhpczI1LmNyZWRpdE1lbW8uc2VnbWVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IF90aGlzMjUuY3JlZGl0TWVtby5sb2NhdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogX3RoaXMyNS5jcmVkaXRNZW1vLnByb2plY3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlOiBfdGhpczI1LmNyZWRpdE1lbW8uZW1wbG95ZWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uTm90ZTogX3RoaXMyNS5jcmVkaXRNZW1vLnRyYW5zYWN0aW9uTm90ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgam91cm5hbE5vdGU6IF90aGlzMjUuY3JlZGl0TWVtby5qb3VybmFsTm90ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUxpbmVBbW91bnQ6IF90aGlzMjUuY3JlZGl0TWVtby5pdGVtTGluZUFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUxpbmVFeGNoYW5nZUFtb3VudDogX3RoaXMyNS5jcmVkaXRNZW1vLml0ZW1MaW5lRXhjaGFuZ2VBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1MaW5lRGlzY291bnRBbW91bnQ6IF90aGlzMjUuY3JlZGl0TWVtby5pdGVtTGluZURpc2NvdW50QW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtTGluZVRheEFtb3VudDogX3RoaXMyNS5jcmVkaXRNZW1vLml0ZW1MaW5lVGF4QW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtTGluZVN1YlRvdGFsOiBfdGhpczI1LmNyZWRpdE1lbW8uaXRlbUxpbmVTdWJUb3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlUb0Ftb3VudDogX3RoaXMyNS5jcmVkaXRNZW1vLmFwcGx5VG9BbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5VG9FeGNoYW5nZUFtb3VudDogX3RoaXMyNS5jcmVkaXRNZW1vLmFwcGx5VG9FeGNoYW5nZUFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwb3NpdERlZHVjdGlvbjogX3RoaXMyNS5jcmVkaXRNZW1vLmRlcG9zaXREZWR1Y3Rpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcG9zaXRBbW91bnQ6IF90aGlzMjUuY3JlZGl0TWVtby5kZXBvc2l0QW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZURlcG9zaXREZWR1Y3Rpb246IF90aGlzMjUuY3JlZGl0TWVtby5leGNoYW5nZURlcG9zaXREZWR1Y3Rpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnVuZEFtb3VudDogX3RoaXMyNS5jcmVkaXRNZW1vLnJlZnVuZEFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFuY2VBY2M6IF90aGlzMjUuY3JlZGl0TWVtby52YXJpYW5jZUFjYywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZU9wdGlvbjogX3RoaXMyNS5jcmVkaXRNZW1vLnNhdmVPcHRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwcm92ZWRCeTogX3RoaXMyNS5jcmVkaXRNZW1vLmFwcHJvdmVkQnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1UZW1wbGF0ZToge30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogX3RoaXMyNS5jcmVkaXRNZW1vLmNyZWF0ZWRBdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBfdGhpczI1LmNyZWRpdE1lbW8ucmVhc29uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZWRVc2VyOiBfdGhpczI1LmxvZ2dlZFVzZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXV0b0dlbmVyYXRlOiBpc0F1dG9HZW5lcmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalJhdzogX3RoaXMyNS5qUmF3LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtU3VidG90YWw6IF90aGlzMjUuY3JlZGl0TWVtby5pdGVtU3VidG90YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlSXRlbVN1YnRvdGFsOiBfdGhpczI1LmNyZWRpdE1lbW8uZXhjaGFuZ2VJdGVtU3VidG90YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VTdWJ0b3RhbDogX3RoaXMyNS5jcmVkaXRNZW1vLnNlcnZpY2VTdWJ0b3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VTZXJ2aWNlU3VidG90YWw6IF90aGlzMjUuY3JlZGl0TWVtby5leGNoYW5nZVNlcnZpY2VTdWJ0b3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHhuSXRtU3VidG90YWw6IF90aGlzMjUuY3JlZGl0TWVtby50eG5JdG1TdWJ0b3RhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VUeG5JdG1TdWJ0b3RhbDogX3RoaXMyNS5jcmVkaXRNZW1vLmV4Y2hhbmdlVHhuSXRtU3VidG90YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1EaXNjb3VudDogX3RoaXMyNS5jcmVkaXRNZW1vLml0ZW1EaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VJdGVtRGlzY291bnQ6IF90aGlzMjUuY3JlZGl0TWVtby5leGNoYW5nZUl0ZW1EaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZURpc2NvdW50OiBfdGhpczI1LmNyZWRpdE1lbW8uc2VydmljZURpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVNlcnZpY2VEaXNjb3VudDogX3RoaXMyNS5jcmVkaXRNZW1vLmV4Y2hhbmdlU2VydmljZURpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eG5JdG1EaXNjb3VudDogX3RoaXMyNS5jcmVkaXRNZW1vLnR4bkl0bURpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVR4bkl0bURpc2NvdW50OiBfdGhpczI1LmNyZWRpdE1lbW8uZXhjaGFuZ2VUeG5JdG1EaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmRnJvbTogX3RoaXMyNS5jcmVkaXRNZW1vLnJlZkZyb20gfHwgW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZlRvOiBfdGhpczI1LmNyZWRpdE1lbW8ucmVmVG8gfHwgW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbGVUYXhEZXRhaWw6IF90aGlzMjUuY3JlZGl0TWVtby5zYWxlVGF4RGV0YWlsIHx8IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lck90aGVyQ2hhcmdlSXRlbTogX3RoaXMyNS5jcmVkaXRNZW1vLmN1c3RvbWVyT3RoZXJDaGFyZ2VJdGVtIHx8IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lckRpc2NvdW50SXRlbTogX3RoaXMyNS5jcmVkaXRNZW1vLmN1c3RvbWVyRGlzY291bnRJdGVtIHx8IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVZhcmlhbmNlOiBfdGhpczI1LmNyZWRpdE1lbW8uZXhjaGFuZ2VWYXJpYW5jZSB8fCAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25UeXBlOiBfdGhpczI1LiRyb3V0ZS5wYXJhbXMuaWQgPyBfdGhpczI1LiRyb3V0ZS5xdWVyeS50eXBlIDogIm5ldyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhkYXRhLCAiYXBwbHlUb0xpbmVSIiwgYXBwbHlUb0xpbmVSKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygiYXBwbHlUb0xpbmVSIiwgSlNPTi5zdHJpbmdpZnkoYXBwbHlUb0xpbmVSKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZGF0YSksICJkYXRhIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5jcmVhdGVDcmVkaXRNZW1vKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNS4kc25vdGlmeS5zdWNjZXNzKCJTdWNjZXNzZnVsbHkiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNhdmUgPT0gJ25ldycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuY2xlYXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNS5jbGVhcigpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuJHNub3RpZnkuZXJyb3IoIlNvbWV0aGluZyB3ZW50IHdyb25nIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LmVycm9ycy5wdXNoKGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNS5zaG93V2FyaW5nTWVzc2FnZSgiQ3JlZGl0IE1lbW8iLCAiUGxlYXNlIGNoZWNrIGJlZm9yZSBzYXZlIiwgIk9LIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzMjUuc2hvd1dhcmluZ01lc3NhZ2UoIkNyZWRpdCBNZW1vIiwgIlBsZWFzZSBjaGVjayBiZWZvcmUgc2F2ZSIsICJPSyIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF90aGlzMjUuJHNub3RpZnkuZXJyb3IoIlBsZWFzZSBzZWxlY3QgcmV0dXJuIGl0ZW0gIik7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIwKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFZpZXdDcmVkaXRNZW1vOiBmdW5jdGlvbiBsb2FkVmlld0NyZWRpdE1lbW8oKSB7CiAgICAgIHZhciBfdGhpczI2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIxJChfY29udGV4dDIxKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjEucHJldiA9IF9jb250ZXh0MjEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI2LiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjYuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckZpbHRlciA9ICI/aWQ9IiArIF90aGlzMjYuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLmNyZWRpdE1lbW9MaXN0KHN0ckZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI2LnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNhbGVSZXR1cm4gPSByZXMuZGF0YS5kYXRhWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjYuY3JlZGl0TWVtbyA9IHNhbGVSZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNi5pdGVtTGluZXMgPSBzYWxlUmV0dXJuLml0ZW1MaW5lOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjYub2Zmc2V0SW52b2ljZXMgPSBzYWxlUmV0dXJuLmFwcGx5VG9MaW5lOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjYuY2FzaFJlZnVuZExpbmVzID0gc2FsZVJldHVybi5jYXNoUmVmdW5kTGluZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI2LmRlcG9zaXRMaW5lcyA9IHNhbGVSZXR1cm4uZGVwb3NpdExpbmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNi5jdXN0b21lciA9IF90aGlzMjYuY3JlZGl0TWVtby5jdXN0b21lcjsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI2Lm1FbXBsb3llZSA9IF90aGlzMjYuY3JlZGl0TWVtby5lbXBsb3llZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI2LnRyYW5zYWN0aW9uRGF0ZSA9IF90aGlzMjYuY3JlZGl0TWVtby50cmFuc2FjdGlvbkRhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNi5iYXNlQ3VycmVuY3lDb2RlID0gc2FsZVJldHVybi5iYXNlQ3VycmVuY3lDb2RlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjYuY3VzdG9tZXJEaXNjb3VudEl0ZW0gPSBfdGhpczI2LmNyZWRpdE1lbW8uY3VzdG9tZXJEaXNjb3VudEl0ZW0gfHwgW107CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI2LmNhc2hSZWZ1bmRMaW5lcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjYuc2FsZURlcG9zaXRMaW5lLmlkID0gaXRlbUxpbmVQcmVmaXggKyB1dWlkLnYxKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNi5jYXNoUmVmdW5kTGluZXMucHVzaChfdGhpczI2LnNhbGVEZXBvc2l0TGluZSk7IC8vIHRoaXMuYWRkUm93Q2FzaFJlZnVuZCgpCgogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjYuZGVwb3NpdExpbmVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNi5zYWxlRGVwb3NpdExpbmUuaWQgPSBpdGVtTGluZVByZWZpeCArIHV1aWQudjEoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI2LmRlcG9zaXRMaW5lcy5wdXNoKF90aGlzMjYuc2FsZURlcG9zaXRMaW5lKTsgLy8gdGhpcy5hZGRSb3dEZXBvc2l0KCkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgICAgey8vIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgNTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIxKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB3aW5kb3cuaGlzdG9yeS5nbygtMSk7CiAgICB9LAogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgIHZhciBpdGVtTGluZURTID0gdGhpcy4kcmVmcy5pdGVtTGluZURTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIGl0ZW1MaW5lRFMuZGF0YShbXSk7CiAgICAgIHZhciBjYXNoUmVmdW5kRFMgPSB0aGlzLiRyZWZzLmNhc2hSZWZ1bmREUy5rZW5kb1dpZGdldCgpOwogICAgICBjYXNoUmVmdW5kRFMuZGF0YShbXSk7CiAgICAgIHZhciBkZXBvc2l0TGluZURTID0gdGhpcy4kcmVmcy5kZXBvc2l0TGluZURTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIGRlcG9zaXRMaW5lRFMuZGF0YShbXSk7CiAgICAgIHZhciBhcHBseVRvTGluZURTID0gdGhpcy4kcmVmcy5hcHBseVRvTGluZURTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIGFwcGx5VG9MaW5lRFMuZGF0YShbXSk7CiAgICAgIHRoaXMub2Zmc2V0SW52b2ljZSA9IHt9OwogICAgICB0aGlzLm9mZnNldEludm9pY2VzID0gW107CiAgICAgIHZhciBjdXNUeXBlID0gdGhpcy5jcmVkaXRNZW1vLnRyYW5zYWN0aW9uVHlwZTsKICAgICAgdGhpcy5jdXN0b21lciA9IHt9OwogICAgICB0aGlzLmNyZWRpdE1lbW8gPSBuZXcgQ3JlZGl0TWVtb01vZGVsKCk7CiAgICAgIHRoaXMuY3JlZGl0TWVtby50cmFuc2FjdGlvblR5cGUgPSBjdXNUeXBlOwogICAgICB0aGlzLmFkZFJvdygpOwogICAgfSwKICAgIGF1dG9DYWxjdWxhdGVUYXhEZXRhaWw6IGZ1bmN0aW9uIGF1dG9DYWxjdWxhdGVUYXhEZXRhaWwoKSB7CiAgICAgIHZhciBfdGhpczI3ID0gdGhpczsKCiAgICAgIHZhciBpZHMgPSBbXTsKICAgICAgdGhpcy50YXhMaXN0RGV0YWlsLmZvckVhY2goZnVuY3Rpb24gKG4pIHsKICAgICAgICBpZHMucHVzaChuLmlkIHx8ICcnKTsKICAgICAgfSk7CgogICAgICB2YXIgdW5pcXVlID0gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQoaWRzKSk7CgogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgIHVuaXF1ZS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgdmFyIGFtb3VudCA9IDAsCiAgICAgICAgICAgIHJvdyA9IHt9LAogICAgICAgICAgICBkaXNjb3VudCA9IDAsCiAgICAgICAgICAgIHhEaXNjb3VudCA9IDAsCiAgICAgICAgICAgIHhBbW91bnQgPSAwLAogICAgICAgICAgICB0YXhBbW91bnQgPSAwLAogICAgICAgICAgICB4VGF4QW1vdW50ID0gMDsKICAgICAgICB2YXIgdGF4RGV0YWlsID0gW10sCiAgICAgICAgICAgIGlzVmF0ID0gMDsKCiAgICAgICAgdmFyIGZvdW5kID0gX3RoaXMyNy50YXhMaXN0RGV0YWlsLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgcmV0dXJuIG4uaWQgPT09IG07CiAgICAgICAgfSk7IC8vIHdpbmRvdy5jb25zb2xlLmxvZygndGF4TGlzdERldGFpbGlkcycsIGZvdW5kKQoKCiAgICAgICAgZm91bmQuZm9yRWFjaChmdW5jdGlvbiAoaykgewogICAgICAgICAgcm93ID0gazsKCiAgICAgICAgICBpZiAoay5pc1ZhdCA9PT0gMSkgewogICAgICAgICAgICBpc1ZhdCA9IDE7CiAgICAgICAgICAgIHZhciBkZXRhaWxfID0gay5kZXRhaWwgfHwge307CiAgICAgICAgICAgIHRheERldGFpbC5wdXNoKGRldGFpbF8pOwogICAgICAgICAgfQoKICAgICAgICAgIHRheEFtb3VudCArPSBrLnRheEFtb3VudF8gfHwgMDsKICAgICAgICAgIHhUYXhBbW91bnQgKz0gKGsudGF4QW1vdW50XyB8fCAwKSAqIChrLnR4blJhdGUgfHwgMSk7CiAgICAgICAgICBhbW91bnQgKz0gay5hbW91bnQgfHwgMDsKICAgICAgICAgIHhBbW91bnQgKz0gKGsuYW1vdW50IHx8IDApICogKGsudHhuUmF0ZSB8fCAxKTsKICAgICAgICAgIGRpc2NvdW50ICs9IGsuZGlzY291bnQgfHwgMDsKICAgICAgICAgIHhEaXNjb3VudCArPSAoay5kaXNjb3VudCB8fCAwKSAqIChrLnR4blJhdGUgfHwgMSk7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHNwVGF4QW10ID0gMCwKICAgICAgICAgICAgc3BYVGF4QW10ID0gMCwKICAgICAgICAgICAgcGxUYXhBbXQgPSAwLAogICAgICAgICAgICBwbFhUYXhBbXQgPSAwLAogICAgICAgICAgICBvdFRheEFtdCA9IDAsCiAgICAgICAgICAgIG90WFRheEFtdCA9IDAsCiAgICAgICAgICAgIHNwVGF4TmFtZSA9ICcnLAogICAgICAgICAgICBwbFRheE5hbWUgPSAnJywKICAgICAgICAgICAgb3RUYXhOYW1lID0gJycsCiAgICAgICAgICAgIHNwVGF4TmFtZUxvY2FsZSA9ICcnLAogICAgICAgICAgICBwbFRheE5hbWVMb2NhbGUgPSAnJywKICAgICAgICAgICAgb3RUYXhOYW1lTG9jYWxlID0gJycsCiAgICAgICAgICAgIHNwQWNjSWQgPSAnJywKICAgICAgICAgICAgcGxBY2NJZCA9ICcnLAogICAgICAgICAgICBvdEFjY0lkID0gJycsCiAgICAgICAgICAgIHNwUmF0ZSA9ICcnLAogICAgICAgICAgICBwbFJhdGUgPSAnJywKICAgICAgICAgICAgb3RSYXRlID0gJyc7CiAgICAgICAgdGF4RGV0YWlsLmZvckVhY2goZnVuY3Rpb24gKG4pIHsKICAgICAgICAgIHZhciBzcFRheCA9IG4uc3BlY2lmaWNUYXggfHwge307CiAgICAgICAgICB2YXIgcGxUYXggPSBuLnB1YmxpY0xpZ2h0aW5nVGF4IHx8IHt9OwogICAgICAgICAgdmFyIG90aGVyVGF4ID0gbi5vdGhlclRheCB8fCB7fTsKCiAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoc3BUYXgpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgc3BUYXhBbXQgKz0gc3BUYXgudGF4QW1vdW50XyB8fCAwOwogICAgICAgICAgICBzcFhUYXhBbXQgKz0gKHNwVGF4LnRheEFtb3VudF8gfHwgMCkgKiAoc3BUYXgudGF4UmF0ZSB8fCAxKTsKICAgICAgICAgICAgc3BUYXhOYW1lID0gc3BUYXguZGVmYXVsdFRheCB8fCAnJzsKICAgICAgICAgICAgc3BUYXhOYW1lTG9jYWxlID0gc3BUYXguZGVmYXVsdFRheExvY2FsZSB8fCAnJzsKICAgICAgICAgICAgc3BBY2NJZCA9IHNwVGF4LmFjY291bnQgPyBzcFRheC5hY2NvdW50LmlkIDogJyc7CiAgICAgICAgICAgIHNwUmF0ZSA9IHNwVGF4LnJhdGUgfHwgMTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoT2JqZWN0LmtleXMocGxUYXgpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgcGxUYXhBbXQgKz0gcGxUYXgudGF4QW1vdW50XyB8fCAwOwogICAgICAgICAgICBwbFhUYXhBbXQgKz0gKHBsVGF4LnRheEFtb3VudF8gfHwgMCkgKiAocGxUYXgudGF4UmF0ZSB8fCAxKTsKICAgICAgICAgICAgcGxUYXhOYW1lID0gcGxUYXguZGVmYXVsdFRheCB8fCAnJzsKICAgICAgICAgICAgcGxUYXhOYW1lTG9jYWxlID0gcGxUYXguZGVmYXVsdFRheExvY2FsZSB8fCAnJzsKICAgICAgICAgICAgcGxBY2NJZCA9IHBsVGF4LmFjY291bnQgPyBwbFRheC5hY2NvdW50LmlkIDogJyc7CiAgICAgICAgICAgIHBsUmF0ZSA9IHBsVGF4LnJhdGUgfHwgMTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoT2JqZWN0LmtleXMob3RoZXJUYXgpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgb3RUYXhBbXQgKz0gb3RoZXJUYXgudGF4QW1vdW50XyB8fCAwOwogICAgICAgICAgICBvdFhUYXhBbXQgKz0gKG90aGVyVGF4LnRheEFtb3VudF8gfHwgMCkgKiAocGxUYXgudGF4UmF0ZSB8fCAxKTsKICAgICAgICAgICAgb3RUYXhOYW1lID0gb3RoZXJUYXguZGVmYXVsdFRheCB8fCAnJzsKICAgICAgICAgICAgb3RUYXhOYW1lTG9jYWxlID0gb3RoZXJUYXguZGVmYXVsdFRheExvY2FsZSB8fCAnJzsKICAgICAgICAgICAgb3RBY2NJZCA9IG90aGVyVGF4LmFjY291bnQgPyBvdGhlclRheC5hY2NvdW50LmlkIDogJyc7CiAgICAgICAgICAgIG90UmF0ZSA9IG90aGVyVGF4LnJhdGUgfHwgMTsKICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgaWYgKGlzVmF0ID09PSAxKSB7CiAgICAgICAgICByb3cuZGV0YWlsID0gewogICAgICAgICAgICBzcGVjaWZpY1RheDogewogICAgICAgICAgICAgIG5hbWU6IHNwVGF4TmFtZSwKICAgICAgICAgICAgICBuYW1lTG9jYWxlOiBzcFRheE5hbWVMb2NhbGUsCiAgICAgICAgICAgICAgYW1vdW50OiBzcFRheEFtdCwKICAgICAgICAgICAgICBleGNoYW5nZUFtb3VudDogc3BYVGF4QW10LAogICAgICAgICAgICAgIGFjY291bnRJZDogc3BBY2NJZCwKICAgICAgICAgICAgICByYXRlOiBzcFJhdGUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHVibGljTGlnaHRpbmdUYXg6IHsKICAgICAgICAgICAgICBuYW1lOiBwbFRheE5hbWUsCiAgICAgICAgICAgICAgbmFtZUxvY2FsZTogcGxUYXhOYW1lTG9jYWxlLAogICAgICAgICAgICAgIGFtb3VudDogcGxUYXhBbXQsCiAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IHBsWFRheEFtdCwKICAgICAgICAgICAgICBhY2NvdW50SWQ6IHBsQWNjSWQsCiAgICAgICAgICAgICAgcmF0ZTogcGxSYXRlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG90aGVyVGF4OiB7CiAgICAgICAgICAgICAgbmFtZTogb3RUYXhOYW1lLAogICAgICAgICAgICAgIG5hbWVMb2NhbGU6IG90VGF4TmFtZUxvY2FsZSwKICAgICAgICAgICAgICBhbW91bnQ6IG90VGF4QW10LAogICAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50OiBvdFhUYXhBbXQsCiAgICAgICAgICAgICAgYWNjb3VudElkOiBvdEFjY0lkLAogICAgICAgICAgICAgIHJhdGU6IG90UmF0ZQogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByb3cuZGV0YWlsID0ge307CiAgICAgICAgfQoKICAgICAgICByb3dbJ2Ftb3VudCddID0gYW1vdW50OwogICAgICAgIHJvd1snZXhjaGFuZ2VBbW91bnQnXSA9IHhBbW91bnQ7CiAgICAgICAgcm93Wyd0YXhBbW91bnQnXSA9IHRheEFtb3VudDsKICAgICAgICByb3dbJ2V4Y2hhbmdlVGF4QW1vdW50J10gPSB4VGF4QW1vdW50OwogICAgICAgIHJvd1snZGlzY291bnQnXSA9IGRpc2NvdW50OwogICAgICAgIHJvd1snZXhjaGFuZ2VEaXNjb3VudCddID0geERpc2NvdW50OwogICAgICAgIHJvd1snY3VycmVuY3knXSA9IF90aGlzMjcuY3JlZGl0TWVtby5leGNoYW5nZVJhdGUgfHwge307CiAgICAgICAgcmVzdWx0LnB1c2gocm93KTsKICAgICAgICB0YXhEZXRhaWwgPSBbXTsKICAgICAgfSk7CiAgICAgIHRoaXMuY3JlZGl0TWVtby5zYWxlVGF4RGV0YWlsID0gcmVzdWx0OwogICAgICB3aW5kb3cuY29uc29sZS5sb2coJ2NyZWRpdE1lbW8uc2FsZVRheERldGFpbCcsIHJlc3VsdCk7CiAgICB9LAogICAgbG9hZE90aGVyQ2hhcmdlOiBmdW5jdGlvbiBsb2FkT3RoZXJDaGFyZ2UoKSB7CiAgICAgIHZhciBfdGhpczI4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIyJChfY29udGV4dDIyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjIucHJldiA9IF9jb250ZXh0MjIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgb3RoZXJDaGFyZ2VIYW5kbGVyLmxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyOC5vdGhlckNoYXJnZUxpc3QgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzaHJpbmtPdGhlckNoYXJnZUl0ZW06IGZ1bmN0aW9uIHNocmlua090aGVyQ2hhcmdlSXRlbShvdGhlckNoYXJnZUl0ZW0sIG90aGVyQ2hhcmdlTGluZSkgewogICAgICB2YXIgaXRlbXMgPSBbXTsKICAgICAgdmFyIHVuaXF1ZSA9IHRoaXMucmVtb3ZlRHVwbGljYXRlKG90aGVyQ2hhcmdlSXRlbSk7CiAgICAgIHVuaXF1ZS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgdmFyIGZvdW5kID0gb3RoZXJDaGFyZ2VMaW5lLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgcmV0dXJuIG4uaWQgPT09IG0uaWQ7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGFtb3VudCA9IDAsCiAgICAgICAgICAgIGV4Y2hhbmdlQW1vdW50ID0gMDsKICAgICAgICBmb3VuZC5tYXAoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgIGFtb3VudCArPSBvLmFtb3VudDsKICAgICAgICB9KTsKICAgICAgICBmb3VuZC5tYXAoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgIGV4Y2hhbmdlQW1vdW50ICs9IG8uZXhjaGFuZ2VBbW91bnQ7CiAgICAgICAgfSk7CiAgICAgICAgaXRlbXMucHVzaCh7CiAgICAgICAgICBpZDogbS5pZCwKICAgICAgICAgIG5hbWU6IG0ubmFtZSwKICAgICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IGV4Y2hhbmdlQW1vdW50CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLmN1c3RvbWVyT3RoZXJDaGFyZ2VJdGVtID0gaXRlbXM7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaWQ6IGZ1bmN0aW9uIGlkKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmNsZWFyKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5sb2FkVmlld0NyZWRpdE1lbW8oKTsKICAgICAgfQogICAgfSAvLyBjYWxsIGFnYWluIHRoZSBtZXRob2QgaWYgdGhlIHJvdXRlIGNoYW5nZXMKCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkVGF4KCk7CiAgICB0aGlzLmxvYWRTYWxlVW5pdEl0ZW1zKCk7CiAgICB0aGlzLmxvYWRQcmVmaXgoKTsKICAgIHRoaXMubG9hZFNlZ21lbnQoKTsKICAgIHRoaXMubG9hZExvY2F0aW9uKCk7CiAgICB0aGlzLmxvYWRQYXltZW50T3B0aW9uKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX21vdW50ZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMygpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMyQoX2NvbnRleHQyMykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjMucHJldiA9IF9jb250ZXh0MjMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkT3RoZXJBY2NvdW50KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RGF0YSgwLCB0aGlzLmZpbHRlciwgdGhpcy5jdXNCYXNlVXJsKTsgLy8gYXdhaXQgdGhpcy5sb2FkRGlzY291bnRJdGVtKCkKCiAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkRW1wbG95ZWVDZW50ZXIoKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRQYXltZW50VGVybSgpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZEFjY291bnQoKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSAxMTsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkUHJpY2VMZXZlbCgpOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSAxMzsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkT3RoZXJDaGFyZ2UoKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZFNhbGVGb3JtQ29udGVudCgpOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSAxNzsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbml0RGF0YSgpOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICB0aGlzLm5vd1RpbWVzKCk7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyMywgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgcmV0dXJuIF9tb3VudGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIG1vdW50ZWQ7CiAgfSgpCn07"},{"version":3,"sources":["SaleReturn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\"\n                    >\n                        <v-row>\n                            <v-col\n                                class=\"bigSide py-0\"\n                                sm=\"8\"\n                                cols=\"12\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_big_bar_class: isHideBar }\"\n                            >\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">{{ $t(\"credit_memo\") }}</h2>\n                                        <v-icon\n                                            v-if=\"isHideBar\"\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                        <span\n                                            style=\"transition: .3s ease-in; z-index:10;\"\n                                            :class=\"{\n                        iconArrow: !isHideBar,\n                        iconArrowHide: isHideBar,\n                      }\"\n                                        >\n\n                                            <v-icon\n                                                size=\"22\"\n                                                class=\"arr_icon\"\n                                                @click=\"hideSmallSidebar\"\n                                                v-if=\"isHideBar\">mdi-chevron-left-circle\n                                            </v-icon>\n                                            <v-icon\n                                                size=\"22\"\n                                                class=\"arr_icon\"\n                                                @click=\"hideSmallSidebar\"\n                                                v-if=\"!isHideBar\">mdi-chevron-right-circle\n                                            </v-icon>\n                    </span>\n                                    </v-card>\n                                    <v-card outlined dense class=\"px-3 rounded-4 no_border\" color=\"grayBg\">\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pt-4 pl-4\">\n                                                <label class=\"label  mb-0 mt-1\">{{\n                                                        $t(\"customer\")\n                                                    }}</label>\n                                                <v-col\n                                                    sm=\"12\"\n                                                    cols=\"12\"\n                                                    class=\"kendo_dropdown_custom pa-0 mt-1 pb-4\"\n                                                >\n                                                    <dropdownlist\n                                                        :data-items=\"customerList\"\n                                                        @change=\"onChange\"\n                                                        :value=\"customer\"\n                                                        :data-item-key=\"dataItemKey\"\n                                                        :text-field=\"textField\"\n                                                        :default-item=\"defaultItem\"\n                                                        :filterable=\"true\"\n                                                        @filterchange=\"onFilterChange\"\n                                                    >\n                                                    </dropdownlist>\n                                                </v-col>\n                                                <label class=\"label mb-0\">{{\n                                                        $t(\"reason_credit_note\")\n                                                    }}</label>\n                                                <v-textarea\n                                                    class=\"mt-1\"\n                                                    outlined\n                                                    :rules=\"[(v) => !!v || 'Reason is required']\"\n                                                    v-model=\"creditMemo.reason\"\n                                                    no-resize\n                                                    height=\"40px\"\n                                                />\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pt-4 pr-4\">\n                                                <label class=\"label  mb-0\">{{ $t(\"date\") }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"transactionDate\"\n                                                    :disabled=\"disabledMe\"\n                                                    @onChanged=\"onPriceLevelChange\"\n                                                    @emitDate=\"transactionDate = $event\"\n                                                />\n                                                <label class=\"label mb-0\">{{\n                                                        $t(\"price_level\")\n                                                    }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    v-model=\"creditMemo.priceLevel\"\n                                                    :items=\"priceLevel\"\n                                                    item-value=\"id\"\n                                                    @change=\"onPriceLevelChange\"\n                                                    item-text=\"name\"\n                                                    return-object\n                                                    placeholder=\"Price Level\"\n                                                    tage=\"Default Price Level\"\n                                                    outlined\n                                                />\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pt-4 pr-4\">\n                                                <label class=\"label mb-0 mt-1\">{{\n                                                        $t(\"number\")\n                                                    }}</label>\n                                                <v-row class=\"mt-1 mr-0\">\n                                                    <v-col sm=\"3\" cols=\"3\" class=\"py-0 pr-0\">\n                                                        <div class=\"code_text text-bold\">\n                                                            {{ creditMemo.transactionType.abbr }}\n                                                        </div>\n                                                    </v-col>\n                                                    <v-col sm=\"7\" cols=\"7\" class=\"py-0 pl-0 pr-1\">\n                                                        <v-text-field\n                                                            class=\" custom-border \"\n                                                            v-model=\"creditMemo.number\"\n                                                            :disabled=\"true\"\n                                                            outlined\n                                                            :rules=\"[(v) => !!v || 'Number is required']\"\n                                                            required\n                                                        />\n                                                    </v-col>\n                                                    <v-col sm=\"2\" cols=\"2\" class=\"py-0 px-0\">\n                                                        <v-icon\n                                                            color=\"black\"\n                                                            size=\"30\"\n                                                            class=\"border_qrcode\"\n                                                            @click=\"generateNumber\"\n                                                        >mdi-qrcode\n                                                        </v-icon>\n                                                    </v-col>\n                                                </v-row>\n                                                <div class=\"d-flex justify-space-between\">\n                                                    <div>\n                                                        <p class=\"label mb-0\">{{ $t(\"currency\") }}</p>\n                                                        <p class=\"label mb-0 pt-3\">{{ currencyCode }}</p>\n                                                    </div>\n                                                    <div class=\"pl-3\">\n                                                        <p class=\"label mb-0 text-right\">\n                                                            {{ $t(\"rate\") }}\n                                                        </p>\n                                                        <v-text-field\n                                                            class=\"mt-1\"\n                                                            type=\"number\"\n                                                            v-model=\"creditMemo.txnRate\"\n                                                            outlined\n                                                            min=\"0.000000001\"\n                                                            step=\"0.5\"\n                                                            :rules=\"[\n                                (v) => !!v || 'Number is required',\n                                (v) =>\n                                  v > 0 || 'Number must be greater than 0!',\n                              ]\"\n                                                            required\n                                                        />\n                                                    </div>\n                                                </div>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-row class=\"pt-3\" style=\"background-color: #fff;\">\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                            <kendo-datasource\n                                                ref=\"itemLineDS\"\n                                                :data=\"itemLines\"\n                                                :change=\"dataSourceChanged\"\n                                            />\n                                            <kendo-grid\n                                                id=\"gridItemLine\"\n                                                class=\"grid-function\"\n                                                :data-source-ref=\"'itemLineDS'\"\n                                                :sortable=\"false\"\n                                                :column-menu=\"true\"\n                                                :editable=\"true\"\n                                                :noRecords=\"true\"\n                                                :scrollable-virtual=\"true\"\n                                            >\n                                                <kendo-grid-column\n                                                    :command=\"{\n                            iconClass: 'k-icon k-i-trash',\n                            text: ' ',\n                            click: removeRow,\n                            class: 'btn-plus',\n                          }\"\n                                                    :title=\"''\"\n                                                    :width=\"63\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :title=\"$t('no.')\"\n                                                    :width=\"53\"\n                                                    :column-menu=\"false\"\n                                                    :template=\"rowNumberTmpl\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5;',\n                            class: 'text-products',\n                          }\"\n                                                    :attributes=\"{\n                            style: 'text-align: products',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'item'\"\n                                                    :title=\"$t('item')\"\n                                                    :template=\"itemTemplate\"\n                                                    :editor=\"ItemDropDownEditor\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'description'\"\n                                                    :title=\"$t('description')\"\n                                                    :template=\"'<span>#=description#</span>'\"\n                                                    :hidden=\"true\"\n                                                    :width=\"160\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'qoh'\"\n                                                    :title=\"$t('on_hand')\"\n                                                    :template=\"qohTemplate\"\n                                                    :width=\"170\"\n                                                    :editable=\"\n                            () => {\n                              return false;\n                            }\n                          \"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'qty'\"\n                                                    :title=\"$t('qty')\"\n                                                    :template=\"'<span>#=qty#</span>'\"\n                                                    :width=\"80\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: right; ' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'uom'\"\n                                                    :title=\"$t('uom')\"\n                                                    :width=\"100\"\n                                                    :template=\"UOMTemplate\"\n                                                    :editor=\"UOMDropDownEditor\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{\n                            style: 'text-align: left',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'price'\"\n                                                    :title=\"$t('price')\"\n                                                    :width=\"200\"\n                                                    :template=\"priceTemplate\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'amount'\"\n                                                    :title=\"$t('amount')\"\n                                                    :headerTemplate=\"amountLineHeaderTemplate\"\n                                                    :width=\"200\"\n                                                    :editor=\"AmountEditor\"\n                                                    :template=\"amtTemplate\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{\n                            style: 'text-align: right',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'discountItem'\"\n                                                    :title=\"$t('discount_item')\"\n                                                    :width=\"200\"\n                                                    :template=\"discountItemTemplate\"\n                                                    :editor=\"DiscountItemDropDownEditor\"\n                                                    :hidden=\"true\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{\n                            style: 'text-align: left',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'vatTax'\"\n                                                    :title=\"$t('vat')\"\n                                                    :width=\"200\"\n                                                    :template=\"vatTemplate\"\n                                                    :editor=\"VatTaxDropDownEditor\"\n                                                    :hidden=\"true\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'specificTax'\"\n                                                    :title=\"$t('specific_tax')\"\n                                                    :width=\"200\"\n                                                    :template=\"\n                            '<span>#=specificTax.defaultTax?specificTax.defaultTax:``#</span>'\n                          \"\n                                                    :editor=\"SpecificTaxDropDownEditor\"\n                                                    :hidden=\"true\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'otherTax'\"\n                                                    :title=\"$t('other_tax')\"\n                                                    :width=\"200\"\n                                                    :template=\"\n                            '<span>#=otherTax.defaultTax?otherTax.defaultTax:``#</span>'\n                          \"\n                                                    :editor=\"OtherTaxDropDownEditor\"\n                                                    :hidden=\"true\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'publicLightingTax'\"\n                                                    :title=\"$t('pl_tax')\"\n                                                    :width=\"200\"\n                                                    :template=\"\n                            '<span>#=publicLightingTax.defaultTax?publicLightingTax.defaultTax:``#</span>'\n                          \"\n                                                    :editor=\"PublicLightingTaxDropDownEditor\"\n                                                    :hidden=\"true\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'otherChargeItem'\"\n                                                    :title=\"$t('other_charge')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"true\"\n                                                    :template=\"'<span>#=otherChargeItem.name || ``#'\"\n                                                    :editor=\"OtherChargeDropDownEditor\"\n                                                    :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'saleUnit'\"\n                                                    :title=\"$t('sale_unit')\"\n                                                    :width=\"200\"\n                                                    :template=\"saleUnitTemplate\"\n                                                    :editor=\"SaleUnitDropDownEditor\"\n                                                    :hidden=\"true\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                            </kendo-grid>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <v-row>\n                                                <v-col sm=\"7\" cols=\"12\" class=\"py-0\">\n                                                    <v-btn\n                                                        class=\"float-left btn_plus mr-2\"\n                                                        @click=\"addRow\"\n                                                    >\n                                                        <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                                    </v-btn>\n                                                </v-col>\n                                                <v-col sm=\"5\" cols=\"12\" class=\"py-0\">\n                                                    <v-simple-table>\n                                                        <template v-slot:default>\n                                                            <tbody>\n                                                            <tr hidden=\"true\">\n                                                                <td class=\"text-left\">\n                                                                    {{ $t(\"subtotal\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    {{ numberFormat(creditMemo.subTotal) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr hidden=\"true\">\n                                                                <td class=\"text-left\">\n                                                                    {{ $t(\"discount\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    ({{ numberFormat(creditMemo.discount) }})\n                                                                </td>\n                                                            </tr>\n                                                            <tr hidden=\"true\">\n                                                                <td class=\"text-left\">\n                                                                    {{ $t(\"total_tax\") }}\n                                                                </td>\n\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">\n                                                                    {{ numberFormat(creditMemo.taxAmount) }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left text-uppercase\">\n                                                                    {{ $t(\"total\") }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td\n                                                                    class=\"text-right primary--text text-bold\"\n                                                                >\n                                                                    {{\n                                                                        numberFormat(\n                                                                            creditMemo.itemLineExchangeAmount\n                                                                        )\n                                                                    }}\n                                                                </td>\n                                                            </tr>\n                                                            </tbody>\n                                                        </template>\n                                                    </v-simple-table>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                                <h3 class=\"mb-0 text-uppercase color_grey mb-3\">\n                                                    {{ $t(\"apply_to\") }}\n                                                </h3>\n                                                <label class=\"label font_14\">{{\n                                                        $t(\"invoice_to_be_offset\")\n                                                    }}</label>\n                                                <v-select\n                                                    class=\" mt-1\"\n                                                    v-model=\"offsetInvoice\"\n                                                    :items=\"offsetInvoices\"\n                                                    @change=\"offsetInvoiceChanged\"\n                                                    :item-text=\"(item) => `${item.referenceNo} - ${status(item.status)}`\"\n                                                    item-value=\"id\"\n                                                    return-object\n                                                    tage=\"Offset Invoice\"\n                                                    placeholder=\"Offset Invoice\"\n                                                    :loading=\"isLoading === 1\"\n                                                    :rules=\"[(v) => !!v || 'is required']\"\n                                                    outlined\n                                                />\n                                                <kendo-datasource\n                                                    ref=\"applyToLineDS\"\n                                                    :data=\"offsetList\"\n                                                    :change=\"onApplyToLineChange\"/>\n                                                <kendo-grid\n                                                    id=\"gridApplyTo\"\n                                                    ref=\"gridApplyTo\"\n                                                    class=\"grid-function\"\n                                                    :data-source-ref=\"'applyToLineDS'\"\n                                                    :sortable=\"false\"\n                                                    :filterable=\"false\"\n                                                    :column-menu=\"true\"\n                                                    :editable=\"true\"\n                                                    :noRecords=\"true\"\n                                                    :scrollable-virtual=\"true\"\n                                                >\n                                                    <!--                                                    <kendo-grid-norecords>-->\n                                                    <!--                                                        <div class=\"k-loading-mask customPosition\"><span-->\n                                                    <!--                                                            class='k-loading-text'></span>-->\n                                                    <!--                                                            <div class='k-loading-image'/>-->\n                                                    <!--                                                            <div class='k-loading-color'/>-->\n                                                    <!--                                                        </div>-->\n                                                    <!--                                                    </kendo-grid-norecords>-->\n                                                    <kendo-grid-column\n                                                        :title=\"$t('no')\"\n                                                        :template=\"rowNumberTmplApply\"\n                                                        :width=\"55\"\n                                                        :editable=\"\n                              () => {\n                                return false;\n                              }\n                            \"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5;',\n                              class: 'text-products',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: left' }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'referenceNo'\"\n                                                        :title=\"$t('number')\"\n                                                        :width=\"200\"\n                                                        :editable=\"\n                              () => {\n                                return false;\n                              }\n                            \"\n                                                        :template=\"'<span>#=referenceNo||``#</span>'\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'paymentCode'\"\n                                                        :title=\"$t('prc')\"\n                                                        :editable=\"\n                              () => {\n                                return false;\n                              }\n                            \"\n                                                        :width=\"200\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'currencyCode'\"\n                                                        :title=\"$t('currency')\"\n                                                        :width=\"200\"\n                                                        :editable=\"\n                              () => {\n                                return false;\n                              }\n                            \"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: right' }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'amount'\"\n                                                        :title=\"$t('amount')\"\n                                                        :width=\"200\"\n                                                        :template=\"\n                              '<span>#=kendo.toString(amount || 0, decimalFormat)#</span>'\n                            \"\n                                                        :editable=\"\n                              () => {\n                                return false;\n                              }\n                            \"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: right' }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'txnRate'\"\n                                                        :title=\"$t('rate')\"\n                                                        :width=\"200\"\n                                                        :hidden=\"true\"\n                                                        :editable=\"\n                              () => {\n                                return false;\n                              }\n                            \"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: right' }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'paidAmount'\"\n                                                        :title=\"$t('offset_amount')\"\n                                                        :editor=\"AmountEditor\"\n                                                        :width=\"200\"\n                                                        :template=\"\n                              '<span>#=kendo.toString(paidAmount || 0, decimalFormat)#</span>'\n                            \"\n                                                        :editable=\"\n                              () => {\n                                return true;\n                              }\n                            \"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: right' }\"\n                                                    />\n                                                </kendo-grid>\n                                                <v-row>\n                                                    <v-col sm=\"7\" cols=\"7\" class=\"pt-0\"></v-col>\n                                                    <v-col sm=\"5\" cols=\"5\" class=\"pt-0\">\n                                                        <v-simple-table>\n                                                            <template v-slot:default>\n                                                                <tbody>\n                                                                <tr>\n                                                                    <td class=\"text-left text-uppercase\">\n                                                                        {{ $t(\"total\") }}\n                                                                    </td>\n                                                                    <td class=\"text-center\">:</td>\n                                                                    <td\n                                                                        class=\"text-right primary--text text-bold\"\n                                                                    >\n                                                                        {{\n                                                                            numberFormat(\n                                                                                creditMemo.applyToExchangeAmount\n                                                                            )\n                                                                        }}\n                                                                    </td>\n                                                                </tr>\n                                                                </tbody>\n                                                            </template>\n                                                        </v-simple-table>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                                <h3 class=\"mb-0 text-uppercase color_grey mb-3\">\n                                                    {{ $t(\"customer_credit\") }}\n                                                </h3>\n                                                <kendo-datasource\n                                                    ref=\"depositLineDS\"\n                                                    :data=\"depositLines\"\n                                                    :change=\"onDepositLineDSChange\"\n                                                />\n                                                <kendo-grid\n                                                    id=\"gridDeposit\"\n                                                    ref=\"gridDeposit\"\n                                                    class=\"grid-function\"\n                                                    :data-source-ref=\"'depositLineDS'\"\n                                                    :sortable=\"false\"\n                                                    :filterable=\"false\"\n                                                    :column-menu=\"true\"\n                                                    :editable=\"true\"\n                                                    :noRecords=\"true\"\n                                                    :scrollable-virtual=\"true\"\n                                                >\n                                                    <kendo-grid-column\n                                                        :field=\"'account'\"\n                                                        :title=\"$t('account')\"\n                                                        :width=\"200\"\n                                                        :editable=\"()=>{ return true}\"\n                                                        :editor=\"AccountDropDownEditorDeposit\"\n                                                        :template=\"'<span>#=account.name||``#</span>'\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'description'\"\n                                                        :title=\"$t('description')\"\n                                                        :width=\"200\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'amount'\"\n                                                        :title=\"$t('amount')\"\n                                                        :width=\"200\"\n                                                        :headerTemplate=\"amountLineHeaderTemplate\"\n                                                        :editor=\"AmountEditor\"\n                                                        :template=\"amountTemplate\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{ style: 'text-align: right' }\"\n                                                    />\n                                                </kendo-grid>\n                                            </v-col>\n\n                                            <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                                <h3 class=\"mb-0 text-uppercase color_grey mb-3\">\n                                                    {{ $t(\"cash_refund\") }}\n                                                </h3>\n                                                <kendo-datasource\n                                                    ref=\"cashRefundDS\"\n                                                    :change=\"onCashRefundChange\"\n                                                    :data=\"cashRefundLines\"\n                                                />\n                                                <kendo-grid\n                                                    id=\"gridCashRefund\"\n                                                    class=\"grid-function\"\n                                                    :data-source-ref=\"'cashRefundDS'\"\n                                                    :sortable=\"false\"\n                                                    :filterable=\"false\"\n                                                    :column-menu=\"true\"\n                                                    :editable=\"true\"\n                                                    :scrollable-virtual=\"true\">\n                                                    <kendo-grid-column\n                                                        :field=\"'paymentOption'\"\n                                                        :title=\"$t('payment_option')\"\n                                                        :width=\"250\"\n                                                        :template=\"methodTemplate\"\n                                                        :editor=\"PaymentOptionEditor\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'account'\"\n                                                        :title=\"$t('account')\"\n                                                        :width=\"200\"\n                                                        :template=\"accountTemplate\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'description'\"\n                                                        :title=\"$t('description')\"\n                                                        :width=\"200\"\n                                                        :template=\"'<span>#=description#</span>'\"\n                                                        :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'refNo'\"\n                                                        :title=\"$t('payment_ref')\"\n                                                        :width=\"200\"\n                                                        :hidden=\"true\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{\n                              style: 'text-align: right',\n                            }\"\n                                                    />\n                                                    <kendo-grid-column\n                                                        :field=\"'amount'\"\n                                                        :title=\"$t('amount')\"\n                                                        :headerTemplate=\"amountLineHeaderTemplate\"\n                                                        :width=\"200\"\n                                                        :template=\"amountTemplate\"\n                                                        :editor=\"AmountEditor\"\n                                                        :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                                                        :attributes=\"{\n                              style: 'text-align: right',\n                            }\"\n                                                    />\n                                                </kendo-grid>\n                                            </v-col>\n                                        </v-col>\n                                    </v-row>\n                                    <v-row class=\"pt-3\" style=\"background-color: #fff;\">\n                                        <!--                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">-->\n                                        <!--                                            <kendo-datasource-->\n                                        <!--                                                ref=\"accountLineDS\"-->\n                                        <!--                                                :data=\"accountLines\"-->\n                                        <!--                                                :change=\"onAccountLineDSChanged\"/>-->\n                                        <!--                                            <kendo-grid-->\n                                        <!--                                                id=\"gridAccountLine\"-->\n                                        <!--                                                ref=\"gridAccountLine\"-->\n                                        <!--                                                class=\"grid-function\"-->\n                                        <!--                                                :data-source-ref=\"'accountLineDS'\"-->\n                                        <!--                                                :sortable=\"false\"-->\n                                        <!--                                                :filterable=\"false\"-->\n                                        <!--                                                :column-menu=\"true\"-->\n                                        <!--                                                :editable=\"true\"-->\n                                        <!--                                                :noRecords=\"true\"-->\n                                        <!--                                                :scrollable-virtual=\"true\">-->\n                                        <!--                                                <kendo-grid-column-->\n                                        <!--                                                    :title=\"$t('no.')\"-->\n                                        <!--                                                    :template=\"rowNumberTmplAcc\"-->\n                                        <!--                                                    :width=\"55\"-->\n                                        <!--                                                    :column-menu=\"false\"-->\n                                        <!--                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5;',class: 'text-products', }\"-->\n                                        <!--                                                    :attributes=\"{  style: 'text-align: products', }\"/>-->\n                                        <!--                                                <kendo-grid-column-->\n                                        <!--                                                    :field=\"'account'\"-->\n                                        <!--                                                    :title=\"$t('account')\"-->\n                                        <!--                                                    :width=\"200\"-->\n                                        <!--                                                    :template=\"accountTemplate\"-->\n                                        <!--                                                    :editor=\"AccountDropDownEditor\"-->\n                                        <!--                                                    :headerAttributes=\"{  style: 'background-color: #EDF1F5', }\"/>-->\n                                        <!--                                                <kendo-grid-column-->\n                                        <!--                                                    :field=\"'description'\"-->\n                                        <!--                                                    :title=\"$t('description')\"-->\n                                        <!--                                                    :width=\"200\"-->\n                                        <!--                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5', }\"/>-->\n                                        <!--                                                <kendo-grid-column-->\n                                        <!--                                                    :field=\"'amount'\"-->\n                                        <!--                                                    :title=\"$t('amount')\"-->\n                                        <!--                                                    :format=\"'{0:n}'\"-->\n                                        <!--                                                    :width=\"150\"-->\n                                        <!--                                                    :editor=\"AmountEditor\"-->\n                                        <!--                                                    :headerAttributes=\"{ style: 'text-align: right; background-color: #EDF1F5', }\"-->\n                                        <!--                                                    :attributes=\"{ style: 'text-align: right',  }\"/>-->\n                                        <!--                                                <kendo-grid-column-->\n                                        <!--                                                    :field=\"'discountItem'\"-->\n                                        <!--                                                    :title=\"$t('discount')\"-->\n                                        <!--                                                    :template=\"'<span>#=discountItem.name||``#</span>'\"-->\n                                        <!--                                                    :editor=\"DiscountItemDropDownEditor\"-->\n                                        <!--                                                    :width=\"150\"-->\n                                        <!--                                                    :headerAttributes=\"{ style: 'text-align: right; background-color: #EDF1F5',  }\"-->\n                                        <!--                                                    :attributes=\"{  style: 'text-align: right',  }\"/>-->\n                                        <!--                                                <kendo-grid-column-->\n                                        <!--                                                    :field=\"'vatTax'\"-->\n                                        <!--                                                    :title=\"$t('tax')\"-->\n                                        <!--                                                    :template=\"'<span>#=vatTax.defaultTax||``#</span>'\"-->\n                                        <!--                                                    :editor=\"VatTaxDropDownEditor\"-->\n                                        <!--                                                    :width=\"150\"-->\n                                        <!--                                                    :headerAttributes=\"{ style:'text-align: right; background-color: #EDF1F5', }\"-->\n                                        <!--                                                    :attributes=\"{  style: 'text-align: right', }\"/>-->\n                                        <!--                                                <kendo-grid-column-->\n                                        <!--                                                    :command=\"{ iconClass: 'k-icon k-i-trash', text: 'Delete', click: removeRowAcc, class: 'btn-plus', }\"-->\n                                        <!--                                                    :title=\"$t('action')\"-->\n                                        <!--                                                    :width=\"100\"-->\n                                        <!--                                                    :headerAttributes=\"{ style:'text-align: right; background-color: #EDF1F5', }\"/>-->\n                                        <!--                                            </kendo-grid>-->\n                                        <!--                                        </v-col>-->\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                            <v-row>\n                                                <!--                                                <v-col sm=\"9\" cols=\"12\" class=\"\">-->\n                                                <!--                                                    <v-btn class=\"float-left btn_plus mr-2 rounded-0\"-->\n                                                <!--                                                           @click=\"addRowAcc\">-->\n                                                <!--                                                        <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>-->\n                                                <!--                                                    </v-btn>-->\n                                                <!--                                                    &lt;!&ndash;                                                    <v-btn class=\"float-left add_account mr-2 rounded-0 white&#45;&#45;text\"&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                           to=\"add_item\">&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                        {{ $t('add_account') }}&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                    </v-btn>&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                    <v-btn&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                        class=\"float-left add_account mr-2  rounded-0 btn_save_draft\">&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                        {{ $t('sub_total') }}&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                    </v-btn>&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                    <template>&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                        <v-file-input class=\"mt-0 pt-0 \" sm=\"3\" cols=\"6\"&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                      v-model=\"files\"&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                      :placeholder=\"$t('attachment')\"&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                      multiple&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                      prepend-icon=\"mdi-paperclip\"&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                        >&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                            <template v-slot:selection=\"{ text }\">&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                <v-chip&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                    small&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                    label&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                    color=\"primary\"&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                >&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                    {{ text }}&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                                </v-chip>&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                            </template>&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                        </v-file-input>&ndash;&gt;-->\n                                                <!--                                                    &lt;!&ndash;                                                    </template>&ndash;&gt;-->\n                                                <!--                                                </v-col>-->\n\n                                                <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                    <v-row>\n                                                        <v-col sm=\"6\" cols=\"6\" class=\"pt-0\">\n                                                            <v-card class=\"no-boxshadow pa-3\" color=\"grayBg\">\n                                                                <v-row>\n                                                                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                                        <label>{{ $t(\"message_on_memo\") }}</label>\n                                                                        <v-textarea\n                                                                            class=\"mt-1\"\n                                                                            v-model=\"creditMemo.transactionNote\"\n                                                                            outlined\n                                                                            no-resize\n                                                                            height=\"70px\"\n                                                                            tage=\"Memo Message\"\n                                                                            placeholder=\"This will appear on the Credit Memo\"\n                                                                        />\n                                                                        <label>{{\n                                                                                $t(\"message_for_journal\")\n                                                                            }}</label>\n                                                                        <v-textarea\n                                                                            class=\"mt-1\"\n                                                                            v-model=\"creditMemo.journalNote\"\n                                                                            outlined\n                                                                            no-resize\n                                                                            height=\"70px\"\n                                                                            tage=\"Message on Order\"\n                                                                            placeholder=\"This will appear on the journal\"\n                                                                        />\n                                                                    </v-col>\n                                                                </v-row>\n                                                            </v-card>\n                                                        </v-col>\n                                                        <v-col sm=\"6\" cols=\"6\" class=\"pt-0\">\n                                                            <v-simple-table>\n                                                                <template v-slot:default>\n                                                                    <tbody>\n                                                                    <tr>\n                                                                        <td class=\"text-left\">\n                                                                            {{ $t(\"amount_return\") }} ({{\n                                                                                currencyCode\n                                                                            }})\n                                                                        </td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">\n                                                                            {{\n                                                                                numberFormat(\n                                                                                    creditMemo.itemLineAmount\n                                                                                )\n                                                                            }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    <tr>\n                                                                        <td class=\"text-left\">\n                                                                            {{ $t(\"offset_amount\") }} ({{\n                                                                                currencyCode\n                                                                            }})\n                                                                        </td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">\n                                                                            {{ numberFormat(creditMemo.amount) }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    <tr>\n                                                                        <td class=\"text-left\">\n                                                                            {{ $t(\"amount_return\") }} ({{\n                                                                                baseCurrencyCode\n                                                                            }})\n                                                                        </td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">\n                                                                            {{\n                                                                                numberFormat(\n                                                                                    creditMemo.itemLineExchangeAmount\n                                                                                )\n                                                                            }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    <tr>\n                                                                        <td class=\"text-left\">\n                                                                            {{ $t(\"offset_amount\") }} ({{\n                                                                                baseCurrencyCode\n                                                                            }})\n                                                                        </td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">\n                                                                            {{\n                                                                                numberFormat(\n                                                                                    creditMemo.exchangeAmount\n                                                                                )\n                                                                            }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    <tr>\n                                                                        <td class=\"text-left\">\n                                                                            {{ $t(\"variance\") }}\n                                                                            <v-select\n                                                                                class=\"mt-1\"\n                                                                                v-model=\"creditMemo.varianceAcc\"\n                                                                                :items=\"varianceAccs\"\n                                                                                item-value=\"id\"\n                                                                                :item-text=\"\n                                            (item) =>\n                                              `${item.number} - ${item.name}`\n                                          \"\n                                                                                @change=\"onVarianceAccChanged\"\n                                                                                return-object\n                                                                                tage=\"variance account\"\n                                                                                placeholder=\"account\"\n                                                                                clearable\n                                                                                outlined=\"\"\n                                                                            />\n                                                                        </td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">\n                                                                            {{\n                                                                                numberFormat(creditMemo.exchangeVariance)\n                                                                            }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    <tr hidden>\n                                                                        <td class=\"text-left\">{{ $t(\"dr\") }}</td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">\n                                                                            {{ numberFormat(dr) }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    <tr hidden>\n                                                                        <td class=\"text-left\">{{ $t(\"cr\") }}</td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">\n                                                                            {{ numberFormat(cr) }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    </tbody>\n                                                                </template>\n                                                            </v-simple-table>\n                                                        </v-col>\n                                                    </v-row>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n\n                                    <v-divider/>\n\n                                    <v-card outlined dense class=\"no_border function_footer\">\n                                        <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                                            <span v-html=\"errorMessage\"/>\n                                        </v-alert>\n                                        <v-menu>\n                                            <template v-slot:activator=\"{ on }\">\n                                                <v-btn\n                                                    class=\"mr-2  float-left select_template rounded-0\"\n                                                    v-on=\"on\"\n                                                >\n                                                    {{ $t(\"select_template\") }}\n                                                    <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                                </v-btn>\n                                            </template>\n                                            <v-list>\n                                                <v-list-item\n                                                    v-for=\"(item, index) in templates\"\n                                                    :key=\"index\"\n                                                >\n                                                    <v-list-item-title>{{\n                                                            item.title\n                                                        }}\n                                                    </v-list-item-title>\n                                                </v-list-item>\n                                            </v-list>\n                                        </v-menu>\n                                        <v-btn\n                                            color=\"primary\"\n                                            outlined\n                                            class=\"float-left  black--text text-capitalize\"\n                                            @click=\"cancel\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <!--                    <v-menu>-->\n                                        <!--                      <template v-slot:activator=\"{ on }\">-->\n                                        <!--                        <v-btn color=\"primary\"-->\n                                        <!--                               class=\"ml-2  float-right white&#45;&#45;text text-capitalize\" v-on=\"on\">-->\n                                        <!--                          {{ $t('save_option') }}-->\n                                        <!--                          <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>-->\n                                        <!--                        </v-btn>-->\n                                        <!--                      </template>-->\n                                        <!--                      <v-list rounded>-->\n                                        <!--                        <v-list-item-group>-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title>-->\n                                        <!--                                {{ $t('save_new') }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                          <v-list-item>-->\n                                        <!--                            <v-list-item-content>-->\n                                        <!--                              <v-list-item-title>{{ $t('save_draft') }}-->\n                                        <!--                              </v-list-item-title>-->\n                                        <!--                            </v-list-item-content>-->\n                                        <!--                          </v-list-item>-->\n                                        <!--                        </v-list-item-group>-->\n                                        <!--                      </v-list>-->\n                                        <!--                    </v-menu>-->\n                                        <v-btn\n                                            color=\"primary\"\n                                            @click=\"onSaveClose('close')\"\n                                            class=\"float-right  white--text text-capitalize\">{{ $t(\"save_close\") }}\n                                        </v-btn>\n                                        <v-btn color=\"secondary\"\n                                               style=\"margin-right: 10px !important\"\n                                               class=\"white--text float-right text-capitalize\"\n                                               @click=\"onSaveClose('new')\" :hidden=\"hiddenButton\">{{ $t(\"save_new\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-form>\n                            </v-col>\n\n                            <v-col\n                                class=\"smallSide\"\n                                sm=\"4\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_small_bar_class: isHideBar }\"\n                            >\n                                <h3\n                                    style=\"color: #b3b5bc; font-size:20px;\"\n                                    v-if=\"!isHideBar\"\n                                    class=\"text-uppercase float-right mt-n3\"\n                                >\n                  <span class=\"pointer\" @click=\"Help('credit memo')\">\n                    {{ $t(\"help\") }}\n                  </span>\n                                    <v-icon\n                                        @click=\"cancel()\"\n                                        style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                        class=\"float-right mt-n1\"\n                                    >close\n                                    </v-icon>\n                                </h3>\n\n                                <div\n                                    v-if=\"!isHideBar\"\n                                    class=\"small_sidebar rounded-4 mt-8 px-4 pt-4 grayBg\"\n                                >\n                                    <v-card outlined dense class=\"pa-3 no_border my_card rounded-4 white--text\"\n                                            color=\"primary\" height=\"60px\">\n                                        <h3 class=\"text-left font_13 flex-1 text-uppercase\">{{\n                                                $t('offset_amount')\n                                            }}</h3>\n                                        <h3 class=\"text-right flex-1 font_20 niradei_heavy\">\n                                            {{ numberFormat(creditMemo.exchangeAmount) }}</h3>\n                                    </v-card>\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-5\">\n                                            <!-- <h4 class=\"text-uppercase mb-1\">{{ $t('analysis') }}</h4> -->\n                                            <label class=\"label mb-0\">{{ $t(\"segment\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"creditMemo.segment\"\n                                                :items=\"segments\"\n                                                item-value=\"id\"\n                                                :disabled=\"true\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                return-object\n                                                tage=\"sub Of\"\n                                                placeholder=\"Sub Of\"\n                                                outlined=\"\"\n                                            />\n                                            <label class=\"label mb-0\">{{ $t(\"location\") }}</label>\n                                            <v-select\n                                                class=\"mt-1\"\n                                                v-model=\"creditMemo.location\"\n                                                :items=\"locations\"\n                                                item-value=\"id\"\n                                                :disabled=\"true\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                return-object\n                                                tage=\"Location\"\n                                                placeholder=\"bu/location\"\n                                                outlined=\"\"\n                                            />\n                                            <label class=\"label font_14\">{{ $t(\"project\") }}</label>\n                                            <v-select\n                                                class=\" mt-1\"\n                                                v-model=\"creditMemo.project\"\n                                                :items=\"customerProjects\"\n                                                :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                item-value=\"id\"\n                                                :disabled=\"true\"\n                                                tage=\"Customer Project\"\n                                                placeholder=\"project\"\n                                                outlined\n                                            />\n                                            <label class=\"label font_14\">{{ $t(\"employee\") }}</label>\n                                            <v-col\n                                                sm=\"12\"\n                                                cols=\"12\"\n                                                class=\"kendo_dropdown_custom pl-0 pb-3 pt-0\"\n                                            >\n                                                <dropdownlist\n                                                    :data-items=\"employees\"\n                                                    @change=\"onEmployeeChanged\"\n                                                    :value=\"mEmployee\"\n                                                    :data-item-key=\"'id'\"\n                                                    :text-field=\"'name'\"\n                                                    :default-item=\"defaultItem\"\n                                                    :filterable=\"true\"\n                                                    @filterchange=\"onEmployeeFilterChanged\"\n                                                >\n                                                </dropdownlist>\n                                            </v-col>\n                                        </v-col>\n                                    </v-row>\n                                    <v-divider class=\"mb-3\"/>\n                                    <!--                                    <v-card class=\"pa-3 mb-2 no-boxshadow\"-->\n                                    <!--                                            style=\"min-height: 70px; background-color: #ffffff !important;\">-->\n                                    <!--                                        &lt;!&ndash;                                        <h3 class=\"text-uppercase mb-2 font_18\">{{ $t('offset_amount') }}</h3>&ndash;&gt;-->\n                                    <!--                                        &lt;!&ndash;                                        <h3 class=\"text-bold float-right\" style=\"font-size: 22px\">200</h3>&ndash;&gt;-->\n                                    <!--                                    </v-card>-->\n                                    <!--                                    <v-row>-->\n                                    <!--                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">-->\n                                    <!--                                            <label-->\n                                    <!--                                                class=\"label text-bold text-uppercase font_14\">{{-->\n                                    <!--                                                    $t('invoice_to_offset')-->\n                                    <!--                                                }}</label>-->\n                                    <!--                                            <v-select class=\" mt-1\"-->\n                                    <!--                                                      :items=\"transaction\"-->\n                                    <!--                                                      :rules=\"[v => !!v || 'Payble Account is required']\"-->\n                                    <!--                                                      return-object-->\n                                    <!--                                                      tage=\"Invoice to Offset\"-->\n                                    <!--                                                      outlined-->\n                                    <!--                                            >-->\n                                    <!--                                                <template v-slot:item=\"{ item }\">-->\n                                    <!--                                                    <p class=\"d-block text-center\">{{ item.id }}. {{ item.name }}</p>-->\n                                    <!--                                                    <br>-->\n                                    <!--                                                    <div class=\"item_list d-flex\">-->\n                                    <!--                                                        <span>-->\n                                    <!--                                                            {{ item.no }}-->\n                                    <!--                                                        </span>-->\n                                    <!--                                                        <v-btn>Add</v-btn>-->\n                                    <!--                                                    </div>-->\n                                    <!--                                                </template>-->\n                                    <!--                                            </v-select>-->\n\n                                    <!--                                            <v-row>-->\n                                    <!--                                                <v-col sm=\"9\" cols=\"9\" class=\"py-1 pr-0\">-->\n                                    <!--                                                    <v-card outlined-->\n                                    <!--                                                            class=\"px-3 py-1 text-white no-boxshadow no_border justify-left d-flex\"-->\n                                    <!--                                                            style=\"background-color: #92d050; height: 30px\">-->\n                                    <!--                                                        <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>-->\n                                    <!--                                                        <p class=\"mb-0\" style=\"width: 100%\">-->\n                                    <!--                                                            <span class=\"pl-3 float-left\">No. 00224</span>-->\n                                    <!--                                                            <span class=\"float-right\">2,500.00</span>-->\n                                    <!--                                                        </p>-->\n                                    <!--                                                    </v-card>-->\n                                    <!--                                                </v-col>-->\n                                    <!--                                                <v-col sm=\"3\" cols=\"3\" class=\"py-1  pl-1\">-->\n                                    <!--                                                    <v-btn-->\n                                    <!--                                                        class=\"text-white text-bold rounded-0 float-right text-uppercase\"-->\n                                    <!--                                                        style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\">-->\n                                    <!--                                                        {{ $t('add') }}-->\n                                    <!--                                                    </v-btn>-->\n                                    <!--                                                </v-col>-->\n                                    <!--                                            </v-row>-->\n                                    <!--                                            <v-row>-->\n                                    <!--                                                <v-col sm=\"9\" cols=\"9\" class=\"py-1 pr-0\">-->\n                                    <!--                                                    <v-card outlined-->\n                                    <!--                                                            class=\"px-3 py-1 text-white no-boxshadow no_border justify-left d-flex\"-->\n                                    <!--                                                            style=\"background-color: #92d050; height: 30px\">-->\n                                    <!--                                                        <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>-->\n                                    <!--                                                        <p class=\"mb-0\" style=\"width: 100%\">-->\n                                    <!--                                                            <span class=\"pl-3 float-left\">No. 00224</span>-->\n                                    <!--                                                            <span class=\"float-right\">2,500.00</span>-->\n                                    <!--                                                        </p>-->\n                                    <!--                                                    </v-card>-->\n                                    <!--                                                </v-col>-->\n                                    <!--                                                <v-col sm=\"3\" cols=\"3\" class=\"py-1  pl-1\">-->\n                                    <!--                                                    <v-btn-->\n                                    <!--                                                        class=\"text-white text-bold rounded-0 float-right text-uppercase\"-->\n                                    <!--                                                        style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\">-->\n                                    <!--                                                        {{ $t('add') }}-->\n                                    <!--                                                    </v-btn>-->\n                                    <!--                                                </v-col>-->\n                                    <!--                                            </v-row>-->\n                                    <!--                                            <v-row>-->\n                                    <!--                                                <v-col sm=\"9\" cols=\"9\" class=\"py-1 pr-0\">-->\n                                    <!--                                                    <v-card outlined-->\n                                    <!--                                                            class=\"px-3 py-1 text-white no-boxshadow no_border justify-left d-flex\"-->\n                                    <!--                                                            style=\"background-color: #92d050; height: 30px\">-->\n                                    <!--                                                        <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>-->\n                                    <!--                                                        <p class=\"mb-0\" style=\"width: 100%\">-->\n                                    <!--                                                            <span class=\"pl-3 float-left\">No. 00224</span>-->\n                                    <!--                                                            <span class=\"float-right\">2,500.00</span>-->\n                                    <!--                                                        </p>-->\n                                    <!--                                                    </v-card>-->\n                                    <!--                                                </v-col>-->\n                                    <!--                                                <v-col sm=\"3\" cols=\"3\" class=\"py-1  pl-1\">-->\n                                    <!--                                                    <v-btn-->\n                                    <!--                                                        class=\"text-white text-bold rounded-0 float-right text-uppercase\"-->\n                                    <!--                                                        style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\">-->\n                                    <!--                                                        {{ $t('add') }}-->\n                                    <!--                                                    </v-btn>-->\n                                    <!--                                                </v-col>-->\n                                    <!--                                            </v-row>-->\n                                    <!--                                            <v-row>-->\n                                    <!--                                                <v-col sm=\"9\" cols=\"9\" class=\"py-1 pr-0\">-->\n                                    <!--                                                    <v-card outlined-->\n                                    <!--                                                            class=\"px-3 py-1 text-white no-boxshadow no_border justify-left d-flex\"-->\n                                    <!--                                                            style=\"background-color: #92d050; height: 30px\">-->\n                                    <!--                                                        <input type=\"checkbox\" class=\"checkbox_inv float-left\"/>-->\n                                    <!--                                                        <p class=\"mb-0\" style=\"width: 100%\">-->\n                                    <!--                                                            <span class=\"pl-3 float-left\">No. 00224</span>-->\n                                    <!--                                                            <span class=\"float-right\">2,500.00</span>-->\n                                    <!--                                                        </p>-->\n                                    <!--                                                    </v-card>-->\n                                    <!--                                                </v-col>-->\n                                    <!--                                                <v-col sm=\"3\" cols=\"3\" class=\"py-1  pl-1\">-->\n                                    <!--                                                    <v-btn-->\n                                    <!--                                                        class=\"text-white text-bold rounded-0 float-right text-uppercase\"-->\n                                    <!--                                                        style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\">-->\n                                    <!--                                                        {{ $t('add') }}-->\n                                    <!--                                                    </v-btn>-->\n                                    <!--                                                </v-col>-->\n                                    <!--                                            </v-row>-->\n                                    <!--                                        </v-col>-->\n                                    <!--                                    </v-row>-->\n\n                                    <!--                                    <h4 class=\"mb-2 text-uppercase\">{{ $t('add_to_deposit') }}</h4>-->\n                                    <!--                                    <label class=\"label font_14\">{{ $t('sale_channel') }}</label>-->\n                                    <!--                                    <v-select class=\" mt-1\"-->\n                                    <!--                                              :items=\"suppliers\"-->\n                                    <!--                                              :rules=\"[v => !!v || 'Payble Account is required']\"-->\n                                    <!--                                              return-object-->\n                                    <!--                                              tage=\"Add to Deposit\"-->\n                                    <!--                                              outlined-->\n                                    <!--                                    />-->\n                                    <!--                                    <label class=\"label font_14\">{{ $t('deposit_amount') }}</label>-->\n                                    <!--                                    <v-text-field class=\" mt-1 mb-16\"-->\n                                    <!--                                                  tage=\"Deposit Amount\"-->\n                                    <!--                                                  outlined-->\n                                    <!--                                    />-->\n\n                                    <p class=\"mb-0 detial_smallside_p font_14\">\n                                        {{ $t(\"sale_return_funct_desc\") }}\n                                    </p>\n                                </div>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"false\"\n                :myLoading=\"true\"\n            />\n            <v-dialog v-model=\"dialogTax\" max-width=\"450px\">\n                <v-card>\n                    <div class=\"modal_header\">\n                        <v-card-title>{{ $t(\"tax_list\") }}</v-card-title>\n                        <v-icon class=\"btn_close\" @click=\"dialogTax = false\">close</v-icon>\n                    </div>\n                    <v-card-text class=\"modal_text_content\">\n                        <v-row>\n                            <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                <v-simple-table>\n                                    <template v-slot:default>\n                                        <tbody>\n                                        <tr\n                                            v-for=\"(value, name) in taxListTotal\"\n                                            v-bind:key=\"name\"\n                                        >\n                                            <td class=\"text-left\" width=\"180px\">{{ name }}</td>\n                                            <td class=\"text-center\">:</td>\n                                            <td class=\"text-right\">\n                                                {{ numberFormat(value) }}\n                                            </td>\n                                        </tr>\n                                        <tr>\n                                            <td class=\"text-left\" width=\"180px\">\n                                                {{ $t(\"total\") }}\n                                            </td>\n                                            <td class=\"text-center\">:</td>\n                                            <td class=\"text-right\">\n                                                {{ numberFormat(creditMemo.taxAmount) }}\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </template>\n                                </v-simple-table>\n                            </v-col>\n                        </v-row>\n                    </v-card-text>\n                    <v-divider/>\n                </v-card>\n            </v-dialog>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n// import kendo from '@progress/kendo-ui'\nimport {i18n} from \"@/i18n\";\nimport LoadingMe from \"@/components/Loading\";\nimport DatePickerComponent from \"@/components/custom_templates/DatePickerComponent\";\nimport CreditMemoModel from \"@/scripts/sale_return/model/CreditMemo\";\nimport kendo from \"@progress/kendo-ui\";\nimport {uuid} from \"vue-uuid\";\nimport SaleFormContentModel from \"@/scripts/model/SaleFormContent\";\nimport {DropDownList} from \"@progress/kendo-vue-dropdowns\";\nimport ItemLineModel from \"@/scripts/sale_return/model/ItemLine\";\n// import AccountLineModel from \"@/scripts/sale_return/model/AccountLine\";\nimport ApplyToLineModel from \"@/scripts/sale_return/model/ApplyToLine\";\nimport DepositLineModel from \"@/scripts/sale_return/model/DepositLine\";\nimport {dataStore, ShowResource} from \"@/observable/store\";\nimport PaymentOptionEditor from \"@/scripts/kendo_editor/PaymentOptionEditor\";\n\nconst defaultItem = {[\"numberName\"]: \"Select customer...\", [\"id\"]: null};\nconst customerHandler = require(\"@/scripts/customerHandler\");\nconst prefixHandler = require(\"@/scripts/prefixHandler\");\nconst emptyItem = {[\"numberName\"]: \"loading ...\"};\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\nconst saleFormContentHandler = require(\"@/scripts/saleFormContentHandler\");\nconst employeeHandler = require(\"@/scripts/employeeHandler\");\nconst locationHandler = require(\"@/scripts/locationHandler\");\nconst productVariantHandler = require(\"@/scripts/productVariantHandler\");\nconst discountItemHandler = require(\"@/scripts/discountItemHandler\");\nconst accountHandler = require(\"@/scripts/handler/accounting/account\");\nconst uomPriceHandler = require(\"@/scripts/uomPriceHandler\");\nconst settingsHandler = require(\"@/scripts/settingsHandler\");\nconst projectHandler = require(\"@/scripts/projectHandler\");\nconst priceLevelHandler = require(\"@/scripts/priceLevelHandler\");\nconst settingHandler = require(\"@/scripts/settingHandler\");\nconst paymentTermHandler = require(\"@/scripts/paymentTermHandler\");\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\");\nconst saleUnitItemHandler = require(\"@/scripts/saleUnitItemHandler\");\nconst paymentOptionHandler = require(\"@/scripts/paymentOptionHandler\");\n\nimport SaleDepositItemLineModel from \"@/scripts/sale_deposit/model/ItemLine\";\nimport otherChargeHandler from \"@/scripts/otherChargeHandler\";\nimport OtherChargeModel from \"@/scripts/model/OtherCharge\";\nimport Helper from \"@/helper\";\n\nconst saleFormContentModel = new SaleFormContentModel({});\nconst itemLineModel = new ItemLineModel({});\n// const accountLineModel = new AccountLineModel({})\nconst applyToLineModel = new ApplyToLineModel({});\nconst depositLineModel = new DepositLineModel({});\nconst $ = kendo.jQuery\nconst itemLinePrefix = \"lin-\";\nconst textField = \"numberName\";\n\nconst creditMemoModel = new CreditMemoModel({});\nconst saleDepositItemLineModel = new SaleDepositItemLineModel({});\nconst OPTION_TYPE = \"Customer\";\nconst strOptionFilter = \"?optionType=\" + OPTION_TYPE;\nconst DISCOUNT_TYPE = \"?type=Sale\";\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\nexport default {\n    name: \"CreditMemo\",\n    props: [\"id\"],\n    components: {\n        LoadingMe: LoadingMe,\n        \"app-datepicker\": DatePickerComponent,\n        dropdownlist: DropDownList,\n    },\n    data: () => ({\n        isLoading: 0,\n        PaymentOptionEditor: PaymentOptionEditor,\n        creditMemo: creditMemoModel,\n        saleFormContent: saleFormContentModel,\n        itemLine: itemLineModel,\n        // accountLine: accountLineModel,\n        applyToLine: applyToLineModel,\n        depositLine: depositLineModel,\n        saleDepositLine: saleDepositItemLineModel,\n\n        customerList: [],\n        cashRefundLines: [],\n        itemLines: [],\n        taxListTotal: [],\n        otherChargeList: [],\n        customer: {},\n        defaultItem: defaultItem,\n        dataItemKey: \"id\",\n        textField: \"numberName\",\n        filter: \"\",\n        cusBaseUrl: customerHandler.searchv1(),\n        empBaseUrl: employeeHandler.search(),\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email,\n        },\n        employees: [],\n        mEmployee: {},\n        customerProjects: [],\n        priceLevel: [],\n        locations: [],\n        otherTax: [],\n        vatTax: [],\n        specificTax: [],\n        publicLightingTax: [],\n        saleUnitItemList: [],\n        customerDiscountItem: [],\n        customerOtherChargeItem: [],\n        customerSaleUnit: [],\n        transactionType: [],\n        segments: [],\n        exchangeRate: [],\n        currencyCode: \"\",\n        transactionRate: 1,\n        accountLines: [],\n        transactionRateDate: \"\",\n        accounts: [],\n        depositLines: [],\n        offsetList: [],\n        offsetInvoices: [],\n        offsetInvoiceList: [],\n        offsetInvoice: {},\n        decimalFormat: \"n2\",\n        // LoadingMe\n        showLoading: false,\n        bill_date: \"\",\n        alert: false,\n        valid: true,\n        suppliers: [],\n        journal_types: [],\n        suppliers_item: [],\n        paymentMethod: [],\n        expense: [\"Equal\", \"weighted\"],\n        transactionDate: new Date().toISOString().substr(0, 10),\n        templates: [\n            {title: \"Draft\"},\n            {title: \"Open\"},\n            {title: \"Partially Closed\"},\n            {title: \"Closed\"},\n        ],\n        isHideBar: false,\n        dialogTax: false,\n        baseCurrencyCode: \"\",\n        accCash: [],\n        accDeposit: [],\n        accDeposits: [],\n        jRaw: [],\n        jRaw1: [],\n        jRaw2: [],\n        jRaw3: [],\n        jRaw4: [],\n        jRaw5: [],\n        taxListDetail: [],\n        gainLossAcc: {},\n        otherRevenueAcc: {},\n        varianceAccs: [],\n        refFrom: [],\n        refTo: [],\n        isPriceLevelChanged: false,\n        cr: 0,\n        dr: 0,\n    }),\n    computed: {\n        disabledMe() {\n            return !!this.$route.params.id;\n        },\n        //         $(\"#getInfoButton\").bind(\"click\", function () {\n        //\n        //     var grid = kendo.jQuery(\"#grid1\").data(\"kendoGrid\");\n        //     var row = $(\"input:checked\", grid.tbody).closest(\"tr\");\n        //     var item = grid.dataItem(row);\n        //     alert (JSON.stringify(item));\n        // });\n        radioButton() {\n            return `<input type=\"radio\" class=\"detailGridRowSelector\" title=\"Select Lines\" name=\"radioLineSelector\" />`;\n        },\n        amountHeaderTemplate() {\n            if (this.customer) {\n                if (this.customer.hasOwnProperty(\"baseCurrency\")) {\n                    const baseCurrency = this.customer.baseCurrency;\n                    if (baseCurrency.hasOwnProperty(\"code\")) {\n                        return \"Amount (\" + baseCurrency.code + \")\";\n                    }\n                }\n            }\n            return \"Amount\";\n        },\n        amountLineHeaderTemplate() {\n            if (this.currencyCode) {\n                return \"Amount (\" + this.currencyCode + \")\";\n            }\n            return \"Amount\";\n        },\n        hiddenButton() {\n            if (this.$route.params.id) {\n                return true\n            } else {\n                return false\n            }\n        }\n    },\n    methods: {\n        status(status) {\n            let statusText = ''\n            switch (status) {\n                case 1:\n                    statusText = 'Open'\n                    break\n                case 2:\n                    statusText = 'Partially Paid'\n                    break\n                case 3:\n                    statusText = 'Paid'\n                    break\n                case 4:\n                    statusText = 'Void'\n                    break\n            }\n            return statusText\n        },\n        onPriceLevelChange() {\n            this.isPriceLevelChanged = true\n            this.loadTransactionRate()\n            this.clearUOMItem()\n        },\n        async clearUOMItem() {\n            let ds = this.$refs.itemLineDS.kendoWidget()\n            ds.data().map(n => {\n                n.set('uom', {})\n            })\n            this.isPriceLevelChanged = false\n        },\n        qohTemplate(dataItem) {\n            const buom = dataItem.buom || {};\n            const qoh = dataItem.qoh || 0;\n            if (buom.hasOwnProperty(\"name\")) {\n                return qoh + ` ` + buom.name;\n            }\n            return ``;\n        },\n        formatVariance(num) {\n            if (num) {\n                const varianceNumber = this.numberToString(num);\n                return varianceNumber;\n                //   if (varianceNumber) {\n                //     const strDigit = varianceNumber.split('.')\n                //     const head = strDigit[0]\n                //     const rightHead = strDigit[1]\n                //     const nums = this.countZeros(rightHead)\n                //     const substringRight = rightHead.substring(0, nums + 1)\n                //     return head + '.' + substringRight\n                //   }\n            }\n            // return 0\n        },\n        countZeros(num) {\n            if (num) {\n                let splitted = num.split(\"\");\n                let i = 0;\n                while (splitted.shift() == 0) {\n                    i += 1;\n                }\n                return i;\n            }\n            return 0;\n        },\n        numberToString(num) {\n            if (num) {\n                let numStr = String(num);\n                if (Math.abs(num) < 1.0) {\n                    let e = parseInt(num.toString().split(\"e-\")[1]);\n                    if (e) {\n                        let negative = num < 0;\n                        if (negative) num *= -1;\n                        num *= Math.pow(10, e - 1);\n                        numStr =\n                            \"0.\" + new Array(e).join(\"0\") + num.toString().substring(2);\n                        if (negative) numStr = \"-\" + numStr;\n                    }\n                } else {\n                    let e = parseInt(num.toString().split(\"+\")[1]);\n                    if (e > 20) {\n                        e -= 20;\n                        num /= Math.pow(10, e);\n                        numStr = num.toString() + new Array(e + 1).join(\"0\");\n                    }\n                }\n                // const zeros = this.numberOfZeros(numStr)\n                return numStr; //parseFloat(numStr).toFixed(zeros + 1)\n            }\n        },\n        showWaringMessage(title, text, confirmButtonText) {\n            this.$swal({\n                title: title,\n                text: text,\n                icon: \"warning\",\n                showCancelButton: false,\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: confirmButtonText,\n            }).then((result) => {\n                if (result.value) {\n                    window.console.log(\"1\");\n                }\n            });\n        },\n        onVarianceAccChanged() {\n            this.autoCalculate();\n            this.autoCalculateApplyTo();\n            this.autoCalculateDeposit();\n            this.autoCalculateCashRefund();\n            this.calculateAmount();\n        },\n        shrinkData() {\n            this.jRaw = [];\n            const obj = this.jRaw.concat(\n                this.jRaw1,\n                this.jRaw2,\n                this.jRaw3,\n                this.jRaw4,\n                this.jRaw5\n            );\n            const uniques = this.removeDuplicate(\n                obj\n            ); /*[...new Set(accountId.map(i => {\n                return {\n                    id_: i.id_,\n                    id: i.id,\n                    type: i.type\n                }\n            }))]*/\n\n            uniques.forEach((n) => {\n                const found = obj.filter((m) => m.id === n.id);\n                let amount = 0,\n                    exchangeAmount = 0;\n                found.forEach((z) => {\n                    amount += parseFloat(z.amount || 0);\n                    exchangeAmount += parseFloat(z.exchangeAmount || 0);\n                });\n                n.exchangeAmount = parseFloat(exchangeAmount); //this.numberFormat(amount)\n                n.amount = parseFloat(amount);\n            });\n            this.jRaw = uniques;\n            let dr = 0,\n                cr = 0;\n            this.jRaw.forEach((j) => {\n                switch (j.type) {\n                    case \"cr\":\n                        cr += parseFloat(j.amount);\n                        break;\n                    case \"dr\":\n                        dr += parseFloat(j.amount);\n                        break;\n                    default:\n                        break;\n                }\n            });\n            this.dr = dr;\n            this.cr = cr;\n            window.console.log(\"dr=\", dr, \"cr=\", cr, \"dr+cr = \", dr + cr);\n            window.console.log(JSON.stringify(this.jRaw), \"uniques\", this.creditMemo);\n        },\n        offsetInvoiceChanged() {\n            //todo: add invoice to line\n            if (this.offsetInvoice) {\n                const txnId = this.offsetInvoice.id || {};\n                this.creditMemo.location = this.offsetInvoice.location || {};\n                this.creditMemo.segment = this.offsetInvoice.segment || {};\n                this.creditMemo.project = this.offsetInvoice.project || {};\n                this.offsetList = [];\n                if (txnId) {\n                    this.offsetList = this.offsetInvoiceList.filter(\n                        (o) => o.id === txnId\n                    );\n                    this.refFrom.push({\n                        id: this.offsetInvoice.id || '',\n                        reference: this.offsetInvoice.referenceNo || '',\n                        type: 'Invoice'\n                    })\n                    window.console.log('refF', this.refFrom)\n                }\n            }\n        },\n        priceTemplate(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty(\"price\")) {\n                    return kendo.toString(dataItem.price || 0, dataItem.decimalFormat);\n                }\n            }\n            return 0;\n        },\n        amtTemplate(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty(\"amount\")) {\n                    return kendo.toString(dataItem.amount || 0, dataItem.decimalFormat);\n                }\n            }\n            return 0;\n        },\n        Help(key_search) {\n            ShowResource(key_search);\n        },\n        methodTemplate(dataItem) {\n            const method = dataItem.paymentOption;\n            if (method) {\n                return `<span>${method.bankAccountName || ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        amountTemplate(dataItem) {\n            const amt = dataItem.amount;\n            if (amt) {\n                return kendo.toString(parseFloat(amt), `${this.decimalFormat}`);\n            } else {\n                return 0;\n            }\n        },\n        methodDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=code# - #= name#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.paymentMethod,\n                    }),\n                });\n        },\n        numberFormat(value) {\n            return kendo.toString(value, `${this.decimalFormat}`);\n        },\n        onDepositLineDSChange(e) {\n            if (e.field) {\n                let dataRow = e.items[0];\n                switch (e.field) {\n                    case \"amount\":\n                        dataRow.set(\"exchangeAmount\", dataRow.amount);\n                        break;\n                    default:\n                        break;\n                }\n                this.autoCalculate();\n                this.autoCalculateApplyTo();\n                this.autoCalculateDeposit();\n                this.autoCalculateCashRefund();\n                this.calculateAmount();\n            }\n        },\n        onApplyToLineChange(e) {\n            if (e.field) {\n                let dataRow = e.items[0],\n                    offset = 0,\n                    amount = 0;\n                switch (e.field) {\n                    case \"paidAmount\":\n                        amount = parseFloat(dataRow.amount);\n                        offset = parseFloat(dataRow.paidAmount);\n                        if (offset > amount) {\n                            dataRow.set(\"paidAmount\", amount);\n                            dataRow.set(\"paidAmountTobase\", amount * dataRow.txnRate);\n                        } else {\n                            dataRow.set(\n                                \"paidAmountTobase\",\n                                dataRow.paidAmount * dataRow.txnRate\n                            );\n                            dataRow.set(\n                                \"paidAmountTxn\",\n                                offset * parseFloat(dataRow.txnRate)\n                            );\n                        }\n                        // window.console.log(dataRow.paidAmount * 1 / dataRow.rateTobase, 'APPLY RO')\n                        break;\n                    default:\n                        break;\n                }\n                this.autoCalculate();\n                this.autoCalculateApplyTo();\n                this.autoCalculateDeposit();\n                this.autoCalculateCashRefund();\n                this.calculateAmount();\n            }\n        },\n        onCashRefundChange(e) {\n            if (e.field) {\n                let dataRow = e.items[0], pOption = {}\n                switch (e.field) {\n                    case \"paymentOption\":\n                        pOption = dataRow.paymentOption || {}\n                        dataRow.set(\"account\", pOption.account || {});\n                        break;\n                    default:\n                        break;\n                }\n            }\n            if (e.field) {\n                // this.autoCalculateCashRefund()\n                this.autoCalculate();\n                this.autoCalculateApplyTo();\n                this.autoCalculateDeposit();\n                this.autoCalculateCashRefund();\n                this.calculateAmount();\n            }\n        },\n        nowTimes() {\n            const perfData = window.performance.timing;\n            const pageLoadTime = perfData.loadEventEnd - perfData.navigationStart;\n            window.console.log(pageLoadTime, \"--\");\n        },\n        onEmployeeChanged(event) {\n            const value = event.value;\n            if (value && value[textField] === emptyItem[textField]) {\n                return;\n            }\n            this.mEmployee = value;\n            this.creditMemo.employee = value;\n        },\n        afterFetch_(json) {\n            this.employees = json.data;\n        },\n        onEmployeeFilterChanged(event) {\n            const filter = event.filter.value;\n            this.requestData_(0, filter, this.empBaseUrl);\n            this.filter_ = filter;\n        },\n        autoCalculateDiscount(discountItem, subTotal) {\n            if (discountItem) {\n                const nature = discountItem.nature || ''\n                const amount = discountItem.amount || 0\n                if (nature === 'Amount') {\n                    return parseFloat(amount)\n                } else if (nature === 'Percentage') {\n                    return (subTotal * (parseFloat(amount) / 100))\n                } else {\n                    return 0\n                }\n            } else {\n                return 0\n            }\n        },\n        autoCalculateTax(tax, amount) {\n            if (tax) {\n                var formula = tax.formula;\n                var inAmt = kendo.parseFloat(amount);\n                var nAmt = kendo.parseFloat(amount);\n                var taxBase = kendo.parseFloat(tax.taxBase) / 100;\n                var rate = kendo.parseFloat(tax.rate) / 100;\n                var total = eval(formula);\n                window.console.log(inAmt, nAmt, taxBase, rate, formula, total);\n                return total;\n            }\n            // return 0\n        },\n        async loadTransactionRate() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const date = new Date(this.transactionDate)\n                        .toISOString()\n                        .substr(0, 10);\n                    const priceLevel = this.creditMemo.priceLevel;\n                    let code = \"\";\n                    this.offsetInvoices = [];\n                    this.offsetList = [];\n                    if (priceLevel) {\n                        if (priceLevel.hasOwnProperty(\"currency\")) {\n                            this.creditMemo.currency = priceLevel.currency;\n                            if (priceLevel.currency.hasOwnProperty(\"code\")) {\n                                code = priceLevel.currency.code;\n                            }\n                        }\n                        if (code !== undefined || code !== \"\") {\n                            this.showLoading = true;\n                            currencyHandler\n                                .getLastExchangeRateByDate(date, code)\n                                .then((res) => {\n                                    if (res.data.statusCode === 200) {\n                                        this.showLoading = false;\n                                        this.exchangeRate = res.data.data[0];\n                                        this.currencyCode = this.exchangeRate.code;\n                                        this.transactionRate = this.exchangeRate.rate;\n                                        this.creditMemo.txnRate = this.exchangeRate.rate;\n                                        this.transactionRateDate = this.exchangeRate.effectiveDate;\n                                        this.creditMemo.exchangeRate = this.exchangeRate;\n                                        this.showLoading = false;\n                                    }\n                                });\n                        }\n                        window.console.log('this.customer', this.customer)\n                        if (this.customer) {\n                            this.searchInvoice();\n                        }\n                    } else {\n                        this.isLoading = 0\n                    }\n                }, 50);\n            });\n        },\n        async loadPaymentTerm() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    paymentTermHandler.getAll().then((res) => {\n                        this.showLoading = false;\n                        this.paymentTerms = res.data.data;\n                        if (this.paymentTerms.length > 0) {\n                            this.creditMemo.paymentTerm = this.paymentTerms[0];\n                        }\n                    });\n                }, 50);\n            });\n        },\n        errorMessage() {\n        },\n        async loadTax() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    settingHandler.get().then((res) => {\n                        this.tax = res;\n                        this.otherTax = this.tax.filter(\n                            (m) =>\n                                (m.taxType.typeId === 7 || m.taxType.typeId === 10) &&\n                                m.transactionType === \"Sale\"\n                        ); // valuable tax\n                        this.specificTax = this.tax.filter(\n                            (m) =>\n                                (m.taxType.typeId === 8 || m.taxType.typeId === 10) &&\n                                m.transactionType === \"Sale\"\n                        ); // valuable tax\n                        this.publicLightingTax = this.tax.filter(\n                            (m) =>\n                                (m.taxType.typeId === 9 || m.taxType.typeId === 10) &&\n                                m.transactionType === \"Sale\"\n                        ); // valuable tax\n                        this.vatTax = this.tax.filter(\n                            (m) =>\n                                (m.taxType.typeId === 1 ||\n                                    m.taxType.typeId === 8 ||\n                                    m.taxType.typeId === 10) &&\n                                m.transactionType === \"Sale\"\n                        ); // valuable tax\n                    });\n                }, 50);\n            });\n        },\n        async loadLocation() {\n            this.locations = []\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const location = roleData.filter(itm => itm.type === 'location')\n                    const locationDefault = location.filter(m => m.isDefault === 1)\n                    this.locations = location\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        if (locationDefault.length > 0) {\n                            this.creditMemo.location = locationDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.locations = [];\n                        locationHandler\n                            .list()\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.locations = res.data.data;\n                                }\n                            })\n                    }, 10);\n                });\n            }\n\n\n        },\n        async loadProjectByCustomer() {\n            this.customerProjects = []\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const project = roleData.filter(itm => itm.type === 'project')\n                    project.forEach(k => {\n                        const customers = k.customers || []\n                        const proCustomer = customers.filter(n => n.customer.id === this.customer.id)\n                        if (proCustomer.length > 0) {\n                            this.customerProjects.push(k)\n                        }\n                    })\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        const projectDefault = this.customerProjects.filter(m => m.isDefault === 1)\n                        if (projectDefault.length > 0) {\n                            this.creditMemo.project = projectDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        projectHandler\n                            .getByCustomer(this.customer.id)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.customerProjects = res.data.data;\n                                }\n                            })\n                    }, 10);\n                });\n            }\n        },\n        async loadSegment() {\n            this.segments = []\n            const roleType = dataStore.roleType || 0\n            if (roleType === 0) {\n                if (dataStore.roleData) {\n                    const roleData = dataStore.roleData || []\n                    const segment = roleData.filter(itm => itm.type === 'segment')\n                    const segmentDefault = segment.filter(m => m.isDefault === 1)\n                    this.segments = segment\n                    if (this.$route.params.id === undefined || this.$route.params.id === '') {\n                        if (segmentDefault.length > 0) {\n                            this.creditMemo.segment = segmentDefault[0];\n                        }\n                    }\n                }\n            } else if (roleType === 1) {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.segments = [];\n                        settingsHandler\n                            .getSeg()\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.segments = res.data.data;\n                                }\n                            })\n                    }, 10);\n                });\n            }\n        },\n        async loadAccount() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    accountHandler.getAll().then((res) => {\n                        (async () => {\n                            this.accCash = res.data\n                                .filter((m) => m.account_type.number <= 5)\n                                .map((item) => {\n                                    return {\n                                        id: item.uuid,\n                                        uuid: item.uuid,\n                                        name: item.name,\n                                        local_name: item.local_name,\n                                        number: item.number,\n                                        is_taxable: item.is_taxable,\n                                        banhjiAccCode: item.banhjiAccCode,\n                                        group_code: item.group_code,\n                                        parent_account: item.parent_account,\n                                        type_code: item.type_code,\n                                        account_type: item.account_type,\n                                    };\n                                });\n\n                            this.accDeposits = res.data\n                                .filter((m) => m.account_type.number === 20)\n                                .map((item) => {\n                                    return {\n                                        id: item.uuid,\n                                        uuid: item.uuid,\n                                        name: item.name,\n                                        local_name: item.local_name,\n                                        number: item.number,\n                                        is_taxable: item.is_taxable,\n                                        banhjiAccCode: item.banhjiAccCode,\n                                        group_code: item.group_code,\n                                        parent_account: item.parent_account,\n                                        type_code: item.type_code,\n                                        account_type: item.account_type,\n                                    };\n                                });\n                            this.varianceAccs = res.data\n                                .filter(\n                                    (m) =>\n                                        m.account_type.number >= 33 && m.account_type.number <= 48\n                                )\n                                .map((item) => {\n                                    return {\n                                        id: item.uuid,\n                                        uuid: item.uuid,\n                                        name: item.name,\n                                        local_name: item.local_name,\n                                        number: item.number,\n                                        is_taxable: item.is_taxable,\n                                        banhjiAccCode: item.banhjiAccCode,\n                                        group_code: item.group_code,\n                                        parent_account: item.parent_account,\n                                        type_code: item.type_code,\n                                        account_type: item.account_type,\n                                    };\n                                });\n                            // this.accounts = await Promise.all(res.map(item => {\n                            //     return {\n                            //         id: item.uuid,\n                            //         name: item.name,\n                            //         number: item.number\n                            //     }\n                            // }));\n                        })();\n                    });\n                }, 50);\n            });\n        },\n        async loadPriceLevel() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = '?nature=sale'\n                    priceLevelHandler.get(strFilter).then((res) => {\n                        this.priceLevel = res;\n                        if (this.priceLevel.length > 0) {\n                            this.creditMemo.priceLevel = this.priceLevel[0];\n                        }\n                    });\n                }, 50);\n            });\n        },\n        async loadDiscountItem() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    discountItemHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.specificDiscountItem = res.data.data;\n                        }\n                    });\n                }, 50);\n            });\n        },\n        async loadSaleFormContent() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    saleFormContentHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            const data = res.data.data;\n                            if (data.length > 0) {\n                                this.saleFormContent = data[0];\n                                this.decimalFormat = \"n\" + data[0].decimal || \"n2\";\n                                this.addRow();\n                                this.addRowDeposit();\n                                this.addRowCashRefund();\n                            }\n                        }\n                    });\n                }, 50);\n            });\n        },\n        async initData() {\n            if (this.$route.params.id !== undefined) {\n                await this.loadViewCreditMemo();\n            }\n            // else {\n            //     this.addRowDeposit()\n            //     this.addRowCashRefund()\n            // }\n        },\n        taxMapping(objTax, tax) {\n            const taxId = tax.id || ''\n            const tax_ = objTax.filter(t => t.id === taxId)[0]\n            return tax_ || {\n                id: '',\n                defaultTax: ''\n            }\n        },\n        dataSourceChanged(e) {\n            if (e.field) {\n                let dataRow = e.items[0],\n                    buom = {}, vTax = {}, spTax = {}, otTax = {}, plTax = {},\n                    conversionRate = 1,\n                    wac = 0,\n                    qoh = 0,\n                    amount = 0,\n                    xAmount = 0,\n                    price = 0;\n                switch (e.field) {\n                    case \"item\":\n                        // this.attribute_ = this.attributes.filter(m => m.type.id === dataRow.variant.id)\n                        dataRow.set(\"description\", dataRow.item.description);\n                        buom = dataRow.item.uom || {};\n                        dataRow.set(\"buom\", buom);\n                        break;\n                    case \"price\":\n                        try {\n                            amount = parseFloat(dataRow.price) * parseFloat(dataRow.qty);\n                            xAmount = amount * parseFloat(this.creditMemo.txnRate);\n                            dataRow.set(\"price\", parseFloat(dataRow.price));\n                            dataRow.set(\"amount\", amount);\n                            dataRow.set(\"exchangeAmount\", xAmount);\n                            // window.console.log('price',dataRow.price)\n                        } catch {\n                            dataRow.set(\"price\", 0);\n                            dataRow.set(\"amount\", 0);\n                            dataRow.set(\"exchangeAmount\", 0);\n                        }\n                        break;\n                    case \"uom\":\n                        if (this.isPriceLevelChanged === false) {\n                            try {\n                                buom = dataRow.uom.buom || {};\n                                buom = dataRow.uom.buom || {};\n                                qoh = dataRow.uom.qoh || 0;\n                                conversionRate = dataRow.uom.conversionRate || 1;\n                                wac = dataRow.uom.wac || 0;\n                                dataRow.set(\"buom\", buom);\n                                dataRow.set(\"wac\", wac);\n                                dataRow.set(\"qoh\", qoh);\n                                /* todo: mapping tax object */\n                                vTax = this.taxMapping(this.vatTax, dataRow.uom.vatTax || {})\n                                otTax = this.taxMapping(this.otherTax, dataRow.uom.otherTax || {})\n                                spTax = this.taxMapping(this.specificTax, dataRow.uom.specificTax || {})\n                                plTax = this.taxMapping(this.publicLightingTax, dataRow.uom.publicLightingTax || {})\n\n                                dataRow.set(\"vatTax\", vTax);\n                                dataRow.set(\"specificTax\", otTax);\n                                dataRow.set(\"otherTax\", spTax);\n                                dataRow.set(\"publicLightingTax\", plTax);\n                                dataRow.set(\"conversionRate\", parseFloat(conversionRate));\n\n                                // dataRow.set('price', parseFloat(dataRow.uom.price))\n                                // dataRow.set('amount', parseFloat(dataRow.uom.price) * parseFloat(dataRow.qty))\n                                if (dataRow.uom) {\n                                    window.console.log(dataRow, \"dataRow\");\n                                    amount =\n                                        parseFloat(dataRow.uom.price) * parseFloat(dataRow.qty);\n                                    xAmount = amount * parseFloat(this.creditMemo.txnRate);\n                                    price = parseFloat(dataRow.uom.price);\n\n                                    dataRow.set(\"price\", price);\n                                    dataRow.set(\"amount\", amount);\n                                    dataRow.set(\"exchangeAmount\", xAmount);\n                                } else {\n                                    window.console.log(dataRow, \"dataRow--\");\n                                    amount = parseFloat(dataRow.price) * parseFloat(dataRow.qty);\n                                    xAmount = amount * parseFloat(this.creditMemo.txnRate);\n\n                                    dataRow.set(\"price\", parseFloat(dataRow.price));\n                                    dataRow.set(\"amount\", amount);\n                                    dataRow.set(\"exchangeAmount\", xAmount);\n                                }\n                            } catch {\n                                dataRow.set(\"buom\", {});\n                                dataRow.set(\"conversionRate\", 1);\n                                dataRow.set(\"price\", 0);\n                                dataRow.set(\"amount\", 0);\n                                dataRow.set(\"qoh\", 0);\n                                dataRow.set(\"wac\", 0);\n                                dataRow.set(\"exchangeAmount\", 0);\n                            }\n                        }\n                        break;\n                    case \"qty\":\n                        try {\n                            amount = parseFloat(dataRow.price) * parseFloat(dataRow.qty);\n                            xAmount = amount * parseFloat(this.creditMemo.txnRate);\n\n                            dataRow.set(\"price\", parseFloat(dataRow.price));\n                            dataRow.set(\"amount\", amount);\n                            dataRow.set(\"exchangeAmount\", xAmount);\n                        } catch {\n                            dataRow.set(\"price\", 0);\n                            dataRow.set(\"amount\", 0);\n                            dataRow.set(\"exchangeAmount\", 0);\n                        }\n                        break;\n                    case \"otherTax\":\n                        // window.console.log(\"--\", dataRow)\n                        break;\n                    default:\n                        break;\n                }\n                if (e.field) {\n                    this.autoCalculate();\n                    this.autoCalculateApplyTo();\n                    this.autoCalculateDeposit();\n                    this.autoCalculateCashRefund();\n                    this.calculateAmount();\n                }\n            }\n        },\n        onAccountLineDSChanged(e) {\n            if (e.field) {\n                this.autoCalculateAccountLine();\n            }\n        },\n        autoCalculate() {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                subTotal = 0,\n                totalTax = 0,\n                discountTotal = 0,\n                otherChargeTotal = 0,\n                spTax = 0,\n                pltax = 0,\n                otherTax = 0,\n                vatTax = 0,\n                taxList = [],\n                discountItem = [],\n                otherChargeItem = [],\n                taxListDetail = [],\n                otherChargeLine = [],\n                saleUnit = [],\n                inclusiveTax = 0,\n                withholdingTaxAmount = 0,\n                itemSubtotal = 0,\n                txnItmSubtotal = 0,\n                serviceSubtotal = 0,\n                itemDiscount = 0,\n                serviceDiscount = 0,\n                txnDiscount = 0;\n            let nature = \"\",\n                currency = this.creditMemo.currency,\n                currencyCode = this.creditMemo.currency\n                    ? this.creditMemo.currency.code\n                    : \"\";\n            this.jRaw1 = [];\n            // const rows = ds.data().filter(m => parseFloat(m.amount) > 0)\n            // if (rows) {\n\n            ds.data().forEach((value) => {\n                let modifierPrice = 0, incTax = 0, whTaxAmount = 0, taxTypeId = 0;\n                if (value.modifier) {\n                    modifierPrice = kendo.parseFloat(value.modifier.price);\n                }\n\n                // subTotal += (kendo.parseFloat(value.amount) + modifierPrice)\n                let discount = 0, otherCharge = 0\n                const otherChargeField = value.otherChargeItem || {};\n                const otherChargeFieldAcc = otherChargeField.account || {};\n                const otherChargeFieldAccId = otherChargeFieldAcc.uuid || ''\n                if (value.otherChargeItem) {\n                    const subTotal = kendo.parseFloat(value.price) * kendo.parseFloat(value.qty);\n                    otherCharge = this.autoCalculateDiscount(otherChargeField, subTotal)\n                    value[\"otherChargeAmount\"] = otherCharge;\n                    value[\"otherChargeExchangeAmount\"] = otherCharge * kendo.parseFloat(this.creditMemo.txnRate);\n                    if (value.otherChargeItem.hasOwnProperty(\"id\")) {\n                        otherChargeItem.push(value.otherChargeItem);\n                        otherChargeLine.push({\n                            id: value.otherChargeItem.id,\n                            name: value.otherChargeItem.name,\n                            amount: otherCharge,\n                            exchangeAmount: otherCharge * parseFloat(this.creditMemo.txnRate),\n                        });\n                    }\n                    otherChargeTotal += (otherCharge || 0);\n                    if (otherCharge * -1 > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    if (otherChargeFieldAcc) {\n                        if (otherChargeFieldAccId !== '') {\n                            this.jRaw.push({\n                                id: otherChargeFieldAccId + \"-\" + nature,\n                                description: \"Other Charge\",\n                                account: otherChargeFieldAcc,\n                                accountId: otherChargeFieldAccId,\n                                amount: otherCharge * -1,\n                                exchangeAmount: otherCharge * -1 * kendo.parseFloat(this.creditMemo.txnRate),\n                                type: nature,\n                                typeAs: \"otherCharge\",\n                            });\n                        }\n                    }\n                }\n                if (value.discountItem) {\n                    const disItemField = value.discountItem;\n                    let subTo =\n                        kendo.parseFloat(value.price) * kendo.parseFloat(value.qty);\n                    discount = this.autoCalculateDiscount(value.discountItem, subTo);\n                    value[\"discountAmount\"] = discount;\n                    value[\"discountExchangeAmount\"] =\n                        discount * kendo.parseFloat(this.creditMemo.txnRate);\n                    if (value.discountItem.hasOwnProperty(\"id\")) {\n                        discountItem.push(value.discountItem);\n                    }\n                    discountTotal += discount ? discount : 0;\n                    if (discount * -1 > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    if (disItemField.account) {\n                        if (disItemField.account.hasOwnProperty(\"id\")) {\n                            this.jRaw1.push({\n                                id: disItemField.account.id + \"-\" + nature,\n                                line: new ItemLineModel(value),\n                                currencyCode: currencyCode,\n                                currency: currency,\n                                memoRate: kendo.parseFloat(this.creditMemo.txnRate),\n                                lastXRate: this.creditMemo.exchangeRate,\n                                description: \"Discount\",\n                                account: disItemField.account,\n                                accountId: disItemField.account.id,\n                                amount: discount * -1,\n                                exchangeAmount:\n                                    discount * kendo.parseFloat(this.creditMemo.txnRate) * -1,\n                                type: nature,\n                                typeAs: \"discount\",\n                            });\n                        }\n                    }\n                }\n                if (value.saleUnit) {\n                    if (value.saleUnit.hasOwnProperty(\"id\")) {\n                        saleUnit.push(value.saleUnit);\n                    }\n                }\n                if (value.specificTax) {\n                    spTax = this.autoCalculateTax(\n                        value.specificTax,\n                        kendo.parseFloat(value.amount) - kendo.parseFloat(discount)\n                    );\n                    // window.console.log('sp ', discount)\n                    spTax = kendo.parseFloat(spTax) ? kendo.parseFloat(spTax) : 0;\n                    const tax = value.specificTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += spTax;\n                        }\n                    }\n                    if (value.specificTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.specificTax.taxType.name,\n                            amount: spTax,\n                            id: value.specificTax.taxType.id,\n                        });\n                        const tax_ = value.specificTax || {}\n                        tax_['taxAmount_'] = spTax\n                        tax_['amount'] = value.amount || 0\n                        tax_['discount'] = discount || 0\n                        tax_['txnRate'] = this.creditMemo.txnRate || 1\n                        taxListDetail.push(tax_);\n                    }\n                    if (spTax > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    const specificTaxField = value.specificTax;\n                    if (specificTaxField.account) {\n                        if (specificTaxField.account.hasOwnProperty(\"id\")) {\n                            this.jRaw1.push({\n                                id: specificTaxField.account.id + \"-\" + nature,\n                                line: new ItemLineModel(value),\n                                memoRate: kendo.parseFloat(this.creditMemo.txnRate),\n                                lastXRate: this.creditMemo.exchangeRate,\n                                currencyCode: currencyCode,\n                                currency: currency,\n                                description: \"Tax\",\n                                account: specificTaxField.account,\n                                accountId: specificTaxField.account.id,\n                                amount: spTax,\n                                exchangeAmount:\n                                    spTax * kendo.parseFloat(this.creditMemo.txnRate),\n                                type: nature,\n                                typeAs: \"tax\",\n                            });\n                        }\n                    }\n                }\n                if (value.publicLightingTax) {\n                    pltax = this.autoCalculateTax(\n                        value.publicLightingTax,\n                        kendo.parseFloat(value.amount) - kendo.parseFloat(discount)\n                    );\n                    pltax = kendo.parseFloat(pltax) ? kendo.parseFloat(pltax) : 0;\n                    const tax = value.publicLightingTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += pltax;\n                        }\n                    }\n                    if (value.publicLightingTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.publicLightingTax.taxType.name,\n                            amount: pltax,\n                            id: value.publicLightingTax.taxType.id,\n                        });\n                        const tax_ = value.publicLightingTax || {}\n                        tax_['taxAmount_'] = pltax\n                        tax_['amount'] = value.amount || 0\n                        tax_['discount'] = discount || 0\n                        tax_['txnRate'] = this.creditMemo.txnRate || 1\n                        taxListDetail.push(tax_);\n                    }\n                    if (pltax > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    const PLTaxField = value.publicLightingTax;\n                    if (PLTaxField.account) {\n                        if (PLTaxField.account.hasOwnProperty(\"id\")) {\n                            this.jRaw1.push({\n                                id: PLTaxField.account.id + \"-\" + nature,\n                                line: new ItemLineModel(value),\n                                memoRate: kendo.parseFloat(this.creditMemo.txnRate),\n                                lastXRate: this.creditMemo.exchangeRate,\n                                currencyCode: currencyCode,\n                                currency: currency,\n                                description: \"Tax\",\n                                account: PLTaxField.account,\n                                accountId: PLTaxField.account.id,\n                                amount: pltax,\n                                exchangeAmount:\n                                    pltax * kendo.parseFloat(this.creditMemo.txnRate),\n                                type: nature,\n                                typeAs: \"tax\",\n                            });\n                        }\n                    }\n                }\n                if (value.otherTax) {\n                    otherTax = this.autoCalculateTax(\n                        value.otherTax,\n                        kendo.parseFloat(value.amount) - kendo.parseFloat(discount)\n                    );\n                    otherTax = kendo.parseFloat(otherTax)\n                        ? kendo.parseFloat(otherTax)\n                        : 0;\n                    const tax = value.otherTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += otherTax;\n                        }\n                    }\n                    if (value.otherTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.otherTax.taxType.name,\n                            amount: otherTax,\n                            id: value.otherTax.taxType.id,\n                        });\n                        const tax_ = value.otherTax || {}\n                        tax_['taxAmount_'] = otherTax\n                        tax_['amount'] = value.amount || 0\n                        tax_['discount'] = discount || 0\n                        tax_['txnRate'] = this.creditMemo.txnRate || 1\n                        taxListDetail.push(tax_);\n                    }\n                    if (otherTax > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    const otherTaxField = value.otherTax;\n                    if (otherTaxField.account) {\n                        if (otherTaxField.account.hasOwnProperty(\"id\")) {\n                            this.jRaw1.push({\n                                id: otherTaxField.account.id + \"-\" + nature,\n                                line: new ItemLineModel(value),\n                                memoRate: kendo.parseFloat(this.creditMemo.txnRate),\n                                lastXRate: this.creditMemo.exchangeRate,\n                                currencyCode: currencyCode,\n                                currency: currency,\n                                description: \"Tax\",\n                                account: otherTaxField.account,\n                                accountId: otherTaxField.account.id,\n                                amount: otherTax,\n                                exchangeAmount:\n                                    otherTax * kendo.parseFloat(this.creditMemo.txnRate),\n                                type: nature,\n                                typeAs: \"tax\",\n                            });\n                        }\n                    }\n                }\n\n                if (value.vatTax) {\n                    // window.console.log('Vat Tax', value.vatTax)\n                    let amt =\n                        kendo.parseFloat(spTax ? spTax : 0) +\n                        kendo.parseFloat(pltax ? pltax : 0) +\n                        kendo.parseFloat(otherTax ? otherTax : 0) +\n                        (kendo.parseFloat(value.amount ? value.amount : 0) -\n                            (discount ? discount : 0));\n                    vatTax = this.autoCalculateTax(value.vatTax, amt);\n                    vatTax = kendo.parseFloat(vatTax) ? kendo.parseFloat(vatTax) : 0;\n                    value[\"vatTaxAmount\"] = vatTax;\n                    value[\"vatTaxExchangeAmount\"] =\n                        vatTax * kendo.parseFloat(this.creditMemo.txnRate);\n                    const tax = value.vatTax;\n                    const baseAmount = tax.baseAmount;\n                    if (baseAmount) {\n                        if (baseAmount.toLowerCase() === \"inclusive\") {\n                            inclusiveTax += vatTax;\n                            incTax = spTax;\n                        }\n                    }\n                    if (value.vatTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.vatTax.taxType.name,\n                            amount: vatTax,\n                            id: value.vatTax.taxType.id,\n                        });\n                        const vatTax_ = value.vatTax || {}\n                        vatTax_['taxAmount_'] = vatTax\n                        vatTax_['amount'] = value.amount || 0\n                        vatTax_['discount'] = discount || 0\n                        vatTax_['txnRate'] = this.creditMemo.txnRate || 1\n                        vatTax_['isVat'] = 1\n                        vatTax_.detail = {\n                            specificTax: {},\n                            publicLightingTax: {},\n                            otherTax: {},\n                        }\n                        taxListDetail.push(vatTax_);\n                    }\n                    if (value.vatTax.hasOwnProperty(\"taxType\")) {\n                        const taxType = value.vatTax.taxType || {};\n                        taxTypeId = taxType.typeId || 0;\n                    }\n                    let taxAmount = vatTax;\n                    if (taxTypeId === 2) {\n                        withholdingTaxAmount += vatTax;\n                        whTaxAmount = vatTax;\n                    }\n                    if (taxAmount > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    if (vatTax > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    const vatTaxField = value.vatTax;\n                    if (vatTaxField.account) {\n                        if (vatTaxField.account.hasOwnProperty(\"id\")) {\n                            this.jRaw1.push({\n                                id: vatTaxField.account.id + \"-\" + nature,\n                                line: new ItemLineModel(value),\n                                memoRate: kendo.parseFloat(this.creditMemo.txnRate),\n                                lastXRate: this.creditMemo.exchangeRate,\n                                currencyCode: currencyCode,\n                                currency: currency,\n                                description: \"Tax\",\n                                account: vatTaxField.account,\n                                accountId: vatTaxField.account.id,\n                                amount: vatTax,\n                                exchangeAmount:\n                                    vatTax * kendo.parseFloat(this.creditMemo.txnRate),\n                                type: nature,\n                                typeAs: \"tax\",\n                            });\n                        }\n                    }\n                }\n                totalTax +=\n                    kendo.parseFloat(spTax ? spTax : 0) +\n                    kendo.parseFloat(pltax ? pltax : 0) +\n                    kendo.parseFloat(otherTax ? otherTax : 0) +\n                    kendo.parseFloat(vatTax ? vatTax : 0);\n                subTotal +=\n                    kendo.parseFloat(value.amount) + modifierPrice - incTax;\n                const amt =\n                    kendo.parseFloat(value.amount) + modifierPrice - incTax + whTaxAmount;\n                const xAmount =\n                    kendo.parseFloat(amt) * kendo.parseFloat(this.creditMemo.txnRate);\n                const item = value.item;\n                const itmType = item.type || \"\";\n                if (itmType === \"Variant\") {\n                    itemSubtotal +=\n                        kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    itemDiscount += kendo.parseFloat(discount);\n                } else if (itmType === \"Service\") {\n                    serviceSubtotal +=\n                        kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    itemDiscount += kendo.parseFloat(discount);\n                } else {\n                    txnItmSubtotal +=\n                        kendo.parseFloat(value.cost) * kendo.parseFloat(value.qty);\n                    itemDiscount += kendo.parseFloat(discount);\n                }\n                const wac = parseFloat(value.wac || 0)\n                const qty = parseFloat(value.qty || 1)\n                if (amt > 0) {\n                    nature = \"dr\";\n                } else {\n                    nature = \"cr\";\n                }\n                if (item) {\n                    if (item.type === \"Service\") {\n                        let incomeAcc = item.incomeAcc;\n                        if (item.hasOwnProperty(\"incomeAcc\")) {\n                            if (item.incomeAcc.hasOwnProperty(\"id\")) {\n                                this.jRaw1.push({\n                                    id: incomeAcc.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    memoRate: kendo.parseFloat(this.creditMemo.txnRate),\n                                    lastXRate: this.creditMemo.exchangeRate,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    description: this.creditMemo.journalNote,\n                                    account: incomeAcc,\n                                    accountId: incomeAcc.id,\n                                    amount: amt,\n                                    exchangeAmount: xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                        if (item.hasOwnProperty(\"deferredIncomeAcc\")) {\n                            if (item.deferredIncomeAcc.hasOwnProperty(\"id\")) {\n                                let deferredInAcc = item.deferredIncomeAcc;\n                                this.jRaw1.push({\n                                    id: deferredInAcc.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    memoRate: kendo.parseFloat(this.creditMemo.txnRate),\n                                    lastXRate: this.creditMemo.exchangeRate,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    description: this.creditMemo.journalNote,\n                                    account: deferredInAcc,\n                                    accountId: deferredInAcc.id,\n                                    amount: amt,\n                                    exchangeAmount: xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                    } else if (item.type === \"Variant\") {\n                        if (item.hasOwnProperty(\"incomeAcc\")) {\n                            if (item.incomeAcc.hasOwnProperty(\"id\")) {\n                                let incomeAcc = item.incomeAcc;\n                                this.jRaw1.push({\n                                    id: incomeAcc.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    memoRate: kendo.parseFloat(this.creditMemo.txnRate),\n                                    lastXRate: this.creditMemo.exchangeRate,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    description: this.creditMemo.journalNote,\n                                    account: item.incomeAcc,\n                                    accountId: item.incomeAcc.id,\n                                    amount: amt,\n                                    exchangeAmount: xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                        if (item.hasOwnProperty(\"inventoryAcc\")) {\n                            nature = \"cr\";\n                            if (item.inventoryAcc.hasOwnProperty(\"id\")) {\n                                let inventoryAcc = item.inventoryAcc;\n                                this.jRaw1.push({\n                                    id: inventoryAcc.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    memoRate: kendo.parseFloat(this.creditMemo.txnRate),\n                                    lastXRate: this.creditMemo.exchangeRate,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    description: this.creditMemo.journalNote,\n                                    account: item.inventoryAcc,\n                                    accountId: item.inventoryAcc.id,\n                                    amount: (qty * wac) * -1,\n                                    exchangeAmount: (qty * wac) * -1, //xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                        if (item.hasOwnProperty(\"costOfGoodsSoldAcc\")) {\n                            nature = \"dr\";\n                            if (item.costOfGoodsSoldAcc.hasOwnProperty(\"id\")) {\n                                let costOfGoodsSoldAcc = item.costOfGoodsSoldAcc;\n                                this.jRaw1.push({\n                                    id: costOfGoodsSoldAcc.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    memoRate: kendo.parseFloat(this.creditMemo.txnRate),\n                                    lastXRate: this.creditMemo.exchangeRate,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    description: this.creditMemo.journalNote,\n                                    account: item.costOfGoodsSoldAcc,\n                                    accountId: item.costOfGoodsSoldAcc.id,\n                                    amount: qty * wac, // qty*avg_cost ,\n                                    exchangeAmount: qty * wac, //xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                    } else if (item.type === \"Fixed Asset\") {\n                        if (item.hasOwnProperty(\"assetAcc\")) {\n                            if (item.assetAcc.hasOwnProperty(\"id\")) {\n                                let assetAcc = item.assetAcc;\n                                this.jRaw1.push({\n                                    id: assetAcc.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    memoRate: kendo.parseFloat(this.creditMemo.txnRate),\n                                    lastXRate: this.creditMemo.exchangeRate,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    description: this.creditMemo.journalNote,\n                                    account: item.assetAcc,\n                                    accountId: item.assetAcc.id,\n                                    amount: amt,\n                                    exchangeAmount: xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                    } else if (item.type === \"Transaction Item\") {\n                        if (item.hasOwnProperty(\"account\")) {\n                            if (item.account.hasOwnProperty(\"id\")) {\n                                this.jRaw1.push({\n                                    id: item.account.id + \"-\" + nature,\n                                    line: new ItemLineModel(value),\n                                    memoRate: kendo.parseFloat(this.creditMemo.txnRate),\n                                    lastXRate: this.creditMemo.exchangeRate,\n                                    currencyCode: currencyCode,\n                                    currency: currency,\n                                    description: this.creditMemo.journalNote,\n                                    account: item.account,\n                                    accountId: item.account.id,\n                                    amount: amt,\n                                    exchangeAmount: xAmount,\n                                    type: nature,\n                                    typeAs: \"item\",\n                                });\n                            }\n                        }\n                    }\n                }\n                //include Tax Amount\n                const amountNodiscount = kendo.parseFloat(value.price) * kendo.parseFloat(value.qty) - discount;\n                const includeTaxAmount = amountNodiscount + vatTax + pltax + spTax + otherTax;\n                value[\"includeTaxAmount\"] = includeTaxAmount;\n                value[\"includeTaxExchangeAmount\"] = includeTaxAmount * kendo.parseFloat(this.creditMemo.txnRate);\n            });\n            // }\n\n            this.creditMemo.itemSubtotal = itemSubtotal;\n            this.creditMemo.inclusiveTaxAmount = inclusiveTax;\n            this.creditMemo.exchangeItemSubtotal =\n                itemSubtotal * kendo.parseFloat(this.creditMemo.txnRate);\n            this.creditMemo.serviceSubtotal = serviceSubtotal;\n            this.creditMemo.exchangeServiceSubtotal =\n                serviceSubtotal * kendo.parseFloat(this.creditMemo.txnRate);\n            this.creditMemo.txnItmSubtotal = txnItmSubtotal;\n            this.creditMemo.exchangeTxnItmSubtotal =\n                txnItmSubtotal * kendo.parseFloat(this.creditMemo.txnRate);\n            this.creditMemo.itemDiscount = itemDiscount;\n            this.creditMemo.exchangeItemDiscount =\n                itemDiscount * kendo.parseFloat(this.creditMemo.txnRate);\n            this.creditMemo.serviceDiscount = serviceDiscount;\n            this.creditMemo.exchangeServiceDiscount =\n                serviceDiscount * kendo.parseFloat(this.creditMemo.txnRate);\n            this.creditMemo.txnItmDiscount = txnDiscount;\n            this.creditMemo.exchangeTxnItmDiscount =\n                txnDiscount * kendo.parseFloat(this.creditMemo.txnRate);\n\n            // window.console.log(spTax, pltax, otherTax, vatTax)\n            let total =\n                kendo.parseFloat(subTotal) -\n                kendo.parseFloat(discountTotal) +\n                kendo.parseFloat(totalTax)\n            this.creditMemo.withholdingTaxAmount = withholdingTaxAmount\n            this.creditMemo.itemLineSubTotal = subTotal;\n            this.creditMemo.itemLineTaxAmount = kendo.parseFloat(totalTax);\n            this.creditMemo.itemLineDiscountAmount = kendo.parseFloat(discountTotal);\n            this.creditMemo.otherChargeTotal = kendo.parseFloat(otherChargeTotal);\n            this.creditMemo.itemLineAmount = kendo.parseFloat(total) - parseFloat(withholdingTaxAmount) + kendo.parseFloat(otherChargeTotal);\n            // this.autoCalculateTaxByType(taxList)\n            this.customerDiscountItem = this.removeDuplicate(discountItem);\n            this.customerSaleUnit = this.removeDuplicate(saleUnit);\n            this.taxListDetail = taxListDetail\n            this.creditMemo.itemLineExchangeAmount =\n                kendo.parseFloat(this.creditMemo.itemLineAmount) *\n                kendo.parseFloat(this.creditMemo.txnRate);\n            this.shrinkDiscountItem(discountItem);\n\n            const uniqueOtherCharge = this.removeDuplicate(otherChargeItem);\n            this.shrinkOtherChargeItem(uniqueOtherCharge, otherChargeLine);\n\n            this.autoCalculateTaxDetail();\n            // this.creditMemo.amount = kendo.parseFloat(this.creditMemo.itemLineAmount)\n            // this.creditMemo.variance = kendo.parseFloat(this.creditMemo.itemLineAmount)\n            // this.calculateAmount()\n        },\n        shrinkDiscountItem(discountItem) {\n            let uniqueDiscountItems = [];\n            const unique = this.removeDuplicate(discountItem);\n            unique.forEach((m) => {\n                const found = discountItem.filter((n) => n.id === m.id);\n                let amount = 0,\n                    exchangeAmount = 0;\n                found.map((o) => {\n                    amount += o.amount || 0;\n                });\n                found.map((o) => {\n                    exchangeAmount += o.exchangeAmount || 0;\n                });\n                uniqueDiscountItems.push({\n                    id: m.id,\n                    name: m.name,\n                    amount: amount,\n                    exchangeAmount: exchangeAmount,\n                });\n            });\n            this.customerDiscountItem = uniqueDiscountItems;\n            this.creditMemo.customerDiscountItem = uniqueDiscountItems;\n            window.console.log(uniqueDiscountItems, \"uniqueDiscountItems\");\n        },\n        autoCalculateApplyTo() {\n            let ds = this.$refs.applyToLineDS.kendoWidget(),\n                convertedAmount = 0,\n                amount = 0;\n            this.jRaw5 = [];\n            let txnRate = 1,\n                currency = this.creditMemo.currency,\n                currencyCode = this.creditMemo.currency\n                    ? this.creditMemo.currency.code\n                    : \"\";\n            ds.data().forEach((value) => {\n                const offsetAmount = kendo.parseFloat(\n                    value.paidAmount ? value.paidAmount : 0\n                );\n                if (offsetAmount > 0) {\n                    amount += kendo.parseFloat(value.paidAmount);\n                    convertedAmount +=\n                        kendo.parseFloat(value.paidAmount) *\n                        kendo.parseFloat(value.txnRate);\n                    txnRate = kendo.parseFloat(value.txnRate);\n                }\n            });\n            this.creditMemo.applyToExchangeAmount = convertedAmount;\n            this.creditMemo.applyToAmount = amount;\n            //todo: AR\n            const receivableAcc = this.customer.receivableAcc || {};\n            let nature = \"\";\n            if (this.creditMemo.itemLineAmount * -1 > 0) {\n                nature = \"dr\";\n            } else {\n                nature = \"cr\";\n            }\n            if (receivableAcc) {\n                if (receivableAcc.hasOwnProperty(\"id\")) {\n                    this.jRaw5.push({\n                        id: receivableAcc.id + \"-\" + nature,\n                        line: new ItemLineModel(),\n                        memoRate: txnRate,\n                        lastXRate: this.creditMemo.exchangeRate,\n                        currencyCode: currencyCode,\n                        currency: currency,\n                        description: this.creditMemo.transactionNote,\n                        account: receivableAcc,\n                        accountId: receivableAcc.id,\n                        exchangeAmount: this.creditMemo.applyToExchangeAmount * -1,\n                        amount: this.creditMemo.applyToAmount * -1,\n                        type: nature,\n                        typeAs: \"ar\",\n                    });\n                }\n            }\n            // this.calculateAmount()\n        },\n        calculateAmount() {\n            let offsetXAmount = 0,\n                offsetAmount = 0; // applyto_amount + deposit + cash refund\n            const applyToExchangeAmount = kendo.parseFloat(\n                this.creditMemo.applyToExchangeAmount\n            );\n            const exchangeDepositAmount = kendo.parseFloat(\n                this.creditMemo.exchangeDepositDeduction\n            );\n            const exchangeRefundAmount = kendo.parseFloat(\n                this.creditMemo.exchangeRefundAmount\n            );\n\n            const applyToAmount = kendo.parseFloat(this.creditMemo.applyToAmount);\n            const depositAmount = kendo.parseFloat(this.creditMemo.depositAmount);\n            const refundAmount = kendo.parseFloat(this.creditMemo.refundAmount);\n\n            const itemLineExchange = kendo.parseFloat(this.creditMemo.itemLineExchangeAmount);\n            const itemLineAmount = kendo.parseFloat(this.creditMemo.itemLineAmount)\n\n            offsetXAmount = kendo.parseFloat(applyToExchangeAmount + exchangeDepositAmount + exchangeRefundAmount);\n            offsetAmount = kendo.parseFloat(applyToAmount + depositAmount + refundAmount);\n\n            this.creditMemo.amount = offsetAmount;\n            this.creditMemo.exchangeAmount = offsetXAmount;\n            this.creditMemo.exchangeVariance = itemLineExchange - offsetXAmount;\n            this.creditMemo.variance = itemLineAmount - offsetAmount;\n            window.console.log(\"variance\", this.creditMemo.variance, 'exchangeVariance', this.creditMemo.exchangeVariance);\n            // if (offsetAmount > itemLineAmount) {\n            //   this.showWaringMessage('Credit Memo', 'Return amount and Offset amount must be equal!', 'OK')\n            //   // return\n            // }\n\n            this.jRaw4 = [];\n            let currency = this.creditMemo.currency,\n                currencyCode = this.creditMemo.currency\n                    ? this.creditMemo.currency.code\n                    : \"\";\n            // window.console.log(offsetAmount, 'offsetAmount')\n            if (this.creditMemo.exchangeVariance !== 0) {\n                this.jRaw4 = [];\n                let nature = \"\";\n                if (this.creditMemo.varianceAcc) {\n                    if (this.creditMemo.exchangeVariance * -1 > 0) {\n                        nature = \"dr\";\n                    } else {\n                        nature = \"cr\";\n                    }\n                    const varianceAcc = this.creditMemo.varianceAcc;\n                    if (varianceAcc.hasOwnProperty(\"id\")) {\n                        this.jRaw4.push({\n                            id: varianceAcc.id + \"-\" + nature,\n                            line: new ItemLineModel(),\n                            memoRate: this.creditMemo.txnRate,\n                            lastXRate: this.creditMemo.exchangeRate,\n                            currencyCode: currencyCode,\n                            currency: currency,\n                            description: \"Variance\",\n                            account: varianceAcc,\n                            accountId: varianceAcc.id,\n                            amount: this.creditMemo.variance * -1,\n                            exchangeAmount: this.creditMemo.exchangeVariance * -1,\n                            type: nature,\n                            typeAs: \"GainLoss\",\n                        });\n                    }\n                }\n            }\n            this.shrinkData();\n            return offsetAmount;\n        },\n        autoCalculateDeposit() {\n            let ds = this.$refs.depositLineDS.kendoWidget(),\n                amount = 0,\n                convertedAmount = 0;\n            let nature = \"\";\n            this.jRaw2 = [];\n            let currency = this.creditMemo.currency,\n                currencyCode = this.creditMemo.currency\n                    ? this.creditMemo.currency.code\n                    : \"\";\n            ds.data().forEach((value) => {\n                let description = \"\";\n                if (value.amount) {\n                    amount += kendo.parseFloat(value.amount);\n                    convertedAmount +=\n                        kendo.parseFloat(value.amount) *\n                        kendo.parseFloat(this.creditMemo.txnRate);\n                }\n                if (value.description) {\n                    description = value.description || \"\";\n                }\n                if (value.account) {\n                    const account = value.account;\n                    if (account) {\n                        if (account.hasOwnProperty(\"id\")) {\n                            if (amount * -1 > 0) {\n                                nature = \"dr\";\n                            } else {\n                                nature = \"cr\";\n                            }\n                            this.jRaw2.push({\n                                id: account.id + \"-\" + nature,\n                                description: \"Deposit \" + description,\n                                line: new ItemLineModel(),\n                                memoRate: this.creditMemo.txnRate,\n                                lastXRate: this.creditMemo.exchangeRate,\n                                currencyCode: currencyCode,\n                                currency: currency,\n                                account: account,\n                                accountId: account.id,\n                                amount: amount * -1,\n                                exchangeAmount:\n                                    amount * kendo.parseFloat(this.creditMemo.txnRate) * -1,\n                                type: nature,\n                                typeAs: \"deposit\",\n                            });\n                        }\n                    }\n                }\n            });\n\n            this.creditMemo.depositAmount = amount;\n            this.creditMemo.exchangeDepositDeduction = convertedAmount;\n            // this.calculateAmount()\n        },\n        checkAmount(amountReturn, offsetAmount) {\n            return offsetAmount > amountReturn;\n        },\n        autoCalculateCashRefund() {\n            let ds = this.$refs.cashRefundDS.kendoWidget(),\n                amount = 0,\n                exchangeAmount = 0;\n            let nature = \"\";\n            this.jRaw3 = [];\n            let currency = this.creditMemo.currency,\n                currencyCode = this.creditMemo.currency\n                    ? this.creditMemo.currency.code\n                    : \"\";\n            ds.data().forEach((value) => {\n                let description = \"\";\n                if (value.amount) {\n                    amount += kendo.parseFloat(value.amount);\n                    exchangeAmount +=\n                        kendo.parseFloat(value.amount) *\n                        kendo.parseFloat(this.creditMemo.txnRate);\n                }\n                if (value.description) {\n                    description = value.description || \"\";\n                }\n                //todo: Cash Account\n                if (value.account) {\n                    const account = value.account;\n                    if (account) {\n                        if (account.hasOwnProperty(\"id\")) {\n                            if (amount * -1 > 0) {\n                                nature = \"dr\";\n                            } else {\n                                nature = \"cr\";\n                            }\n                            this.jRaw3.push({\n                                id: account.id + \"-\" + nature,\n                                description: \"Deposit \" + description,\n                                line: new ItemLineModel(),\n                                memoRate: this.creditMemo.txnRate,\n                                lastXRate: this.creditMemo.exchangeRate,\n                                currencyCode: currencyCode,\n                                currency: currency,\n                                account: account,\n                                accountId: account.id,\n                                exchangeAmount:\n                                    kendo.parseFloat(this.creditMemo.txnRate) * amount * -1,\n                                amount: amount * -1,\n                                type: nature,\n                                typeAs: \"CashAccount\",\n                            });\n                        }\n                    }\n                }\n            });\n            this.creditMemo.refundAmount = amount;\n            this.creditMemo.exchangeRefundAmount = exchangeAmount;\n            // this.calculateAmount()\n        },\n        autoCalculateAccountLine() {\n            let ds = this.$refs.accountLineDS.kendoWidget(),\n                subTotal = 0,\n                totalTax = 0,\n                discountTotal = 0,\n                vatTax = 0,\n                taxList = [],\n                discountItem = [];\n\n            ds.data().forEach((value) => {\n                if (value.amount) {\n                    subTotal += kendo.parseFloat(value.amount);\n                }\n\n                let discount = 0;\n                if (value.discountItem) {\n                    let subTo = kendo.parseFloat(value.amount ? value.amount : 0);\n                    discount = this.autoCalculateDiscount(value.discountItem, subTo);\n                    if (value.discountItem.hasOwnProperty(\"id\")) {\n                        discountItem.push(value.discountItem);\n                    }\n                    discountTotal += discount ? discount : 0;\n                }\n                if (value.vatTax) {\n                    let amt =\n                        kendo.parseFloat(value.amount ? value.amount : 0) -\n                        (discount ? discount : 0);\n                    vatTax = this.autoCalculateTax(value.vatTax, amt);\n                    vatTax = kendo.parseFloat(vatTax) ? kendo.parseFloat(vatTax) : 0;\n                    if (value.vatTax.hasOwnProperty(\"taxType\")) {\n                        taxList.push({\n                            name: value.vatTax.taxType.name,\n                            amount: vatTax,\n                            id: value.vatTax.taxType.id,\n                        });\n                    }\n                }\n                totalTax += kendo.parseFloat(vatTax ? vatTax : 0);\n            });\n            const amount = this.creditMemo.itemLineAmount;\n            const taxAmount = this.creditMemo.itemLineTaxAmount;\n            const discount = this.creditMemo.itemLineDiscountAmount;\n            // const subTotal = this.creditMemo.itemLineSubTotal\n\n            this.creditMemo.accountLineAmount =\n                kendo.parseFloat(subTotal) -\n                kendo.parseFloat(discountTotal) +\n                kendo.parseFloat(totalTax);\n            this.creditMemo.accountLineTaxAmount = kendo.parseFloat(totalTax);\n            this.creditMemo.accountLineDiscountAmount = kendo.parseFloat(\n                discountTotal\n            );\n\n            this.creditMemo.amount =\n                kendo.parseFloat(amount) +\n                kendo.parseFloat(this.creditMemo.accountLineAmount);\n            this.creditMemo.taxAmount =\n                kendo.parseFloat(taxAmount) +\n                kendo.parseFloat(this.creditMemo.accountLineTaxAmount);\n            this.creditMemo.discount =\n                kendo.parseFloat(discount) +\n                kendo.parseFloat(this.creditMemo.accountLineDiscountAmount);\n            // this.autoCalculateTaxByType(taxList)\n            // window.console.log(this.creditMemo.accountLineAmount, this.creditMemo.accountLineTaxAmount, this.creditMemo.accountLineDiscountAmount, '--')\n        },\n        removeDuplicate(array) {\n            const result = [];\n            const map = new Map();\n            for (const item of array) {\n                if (!map.has(item.id)) {\n                    map.set(item.id, true); // set any value to Map\n                    result.push(item);\n                }\n            }\n            return result;\n        },\n        autoCalculateTaxByType(tax) {\n            // return by a key\n            const groupAll = (list) =>\n                list.reduce((tax, item) => {\n                    const taxAmount = tax[item.name] || 0;\n                    return Object.assign({}, tax, {\n                        [item.name]: taxAmount + parseFloat(item.amount),\n                    });\n                }, {});\n            this.taxListTotal = groupAll(tax);\n        },\n        async loadEmployeeCenter() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.employees = [];\n                    employeeHandler\n                        .center(undefined)\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.employees = res.data.data;\n                                if (this.employees.length > 0) {\n                                    this.creditMemo.employee = this.employees[0];\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 50);\n            });\n        },\n        async loadPrefix() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    prefixHandler.get(\"sale return\").then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.transactionType = res.data.data;\n                            if (this.transactionType.length > 0) {\n                                this.creditMemo.transactionType = this.transactionType[0];\n                                if (this.$route.params.id === undefined) {\n                                    this.generateNumber();\n                                }\n                            }\n                        }\n                    });\n                }, 50);\n            });\n        },\n        async loadSaleUnitItems() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    saleUnitItemHandler.list().then((res) => {\n                        if (res.data.statusCode === 200)\n                            this.saleUnitItemList = res.data.data;\n                    });\n                }, 50);\n            });\n        },\n        onFilterChange(event) {\n            const filter = event.filter.value;\n            this.requestData(0, filter, this.cusBaseUrl);\n            this.filter = filter;\n        },\n        requestData(skip, filter, baseUrl) {\n            const url = baseUrl + `?filter=${filter}`;\n            fetch(url)\n                .then((response) => {\n                    return response.json();\n                })\n                .then(this.afterFetch);\n        },\n        afterFetch(json) {\n            this.customerList = json.data;\n        },\n        onChange(event) {\n            const value = event.value;\n            if (value && value[\"numberName\"] === emptyItem[\"numberName\"]) {\n                return;\n            }\n            this.isLoading = 0\n            if (value) {\n                this.customer = value;\n                const saleDepositAcc = value.hasOwnProperty(\"saleDepositAcc\")\n                    ? value.saleDepositAcc\n                    : {};\n                this.creditMemo.customer = value;\n                this.creditMemo.priceLevel = value.hasOwnProperty(\"priceLevel\")\n                    ? value.priceLevel\n                    : {};\n                this.decimalFormat = value.decimalFormat;\n                if (value.baseCurrency) {\n                    this.baseCurrencyCode = value.baseCurrency.hasOwnProperty(\"code\")\n                        ? value.baseCurrency.code\n                        : \"\";\n                    this.accDeposit = this.accDeposits.filter(\n                        (o) => o.id === saleDepositAcc.id\n                    );\n                }\n\n                this.loadTransactionRate();\n                this.loadProjectByCustomer();\n                // this.searchInvoice();\n            }\n        },\n        hideSmallSidebar() {\n            this.isHideBar = !this.isHideBar;\n        },\n        generateNumber() {\n            if (this.$route.params.id) {\n                const tranDate = new Date(this.transactionDate);\n                const tranDateInvoice = new Date(this.creditMemo.transactionDate);\n                const tranDateM = tranDate.getFullYear() + tranDate.getMonth();\n                const tranDateInvoiceM =\n                    tranDateInvoice.getFullYear() + tranDateInvoice.getMonth();\n                if (tranDateM === tranDateInvoiceM) {\n                    this.creditMemo.referenceNo = this.referenceNo;\n                    return;\n                }\n            }\n\n            if (this.transactionDate !== \"\" && this.transactionType.length > 0) {\n                let data = {\n                    abbr: this.creditMemo.transactionType.abbr,\n                    structure: this.creditMemo.transactionType.structure,\n                    transactionDate: this.transactionDate,\n                    prefixSeparator: this.creditMemo.transactionType.prefixSeparator || '',\n                    numberSeparator: this.creditMemo.transactionType.numberSeparator || '',\n                    format: this.creditMemo.transactionType.format || 5,\n                    sequcencing: this.creditMemo.transactionType.sequcencing,\n                    type: \"Credit Memo\",\n                    entity: 1,\n                };\n                billingHandler\n                    .lastNumber(data)\n                    .then((response) => {\n                        if (response.data.statusCode === 200) {\n                            const res = response.data.data;\n                            const lastNumber = this.zeroPad(\n                                parseInt(res.lastNumber),\n                                this.creditMemo.transactionType.format\n                            );\n                            const number =\n                                res.suffix +\n                                this.creditMemo.transactionType.numberSeparator +\n                                lastNumber;\n                            this.creditMemo.number = number;\n                        }\n                    })\n                    .catch((e) => {\n                        this.errors.push(e);\n                    });\n            }\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, \"0\");\n        },\n        suffix(transactionDate) {\n            return kendo.toString(new Date(transactionDate), `yymm`);\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((resultCan) => {\n                if (resultCan.value) {\n                    this.clear();\n                    this.$router.go(-1);\n                }\n            });\n        },\n        removeRow(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#gridItemLine\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n                this.autoCalculate();\n            }\n        },\n        removeRowAcc(e) {\n            e.preventDefault();\n            const grid = $(\"#\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n            }\n        },\n        vatTemplate(dataItem) {\n            const vat = dataItem.vatTax;\n            if (vat) {\n                return `<span>${vat.defaultTax ? vat.defaultTax : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        accountTemplate(dataItem) {\n            const account = dataItem.account;\n            if (account) {\n                return `<span>${account.name ? account.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        itemTemplate(dataItem) {\n            const item = dataItem.item;\n            if (item) {\n                return `<span>${item.name ? item.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        UOMTemplate(dataItem) {\n            const uom = dataItem.uom;\n            const code = uom.code || ''\n            if (uom) {\n                return `<span>${uom.uom ? code : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        saleUnitTemplate(dataItem) {\n            const saleUnit = dataItem.saleUnit;\n            if (saleUnit) {\n                return `<span>${saleUnit.name ? saleUnit.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        empImpl(dataItem) {\n            let empIds = [];\n            dataItem.employee.forEach((m) => {\n                empIds.push(m.firstName + \" - \" + m.lastName);\n            });\n            // window.console.log(empIds.join(', '))\n            return `<span>${empIds.join(\", \")}</span>`;\n        },\n        discountItemTemplate(dataItem) {\n            const discountItem = dataItem.discountItem;\n            if (discountItem) {\n                return `<span>${discountItem.code ? discountItem.code : ``} - ${\n                    discountItem.name ? discountItem.name : ``\n                }</span>`;\n            } else {\n                return ``;\n            }\n        },\n        ItemDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate:\n                        '<div class=\"dropdown-header k-widget k-header\">' +\n                        \"<span>Items </span>\" +\n                        \"<span></span>\" +\n                        \"</div>\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: productVariantHandler.itemSearchURL('?reUsed=2'),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                        // data: this.variants\n                    }),\n                });\n        },\n        OtherChargeDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.otherChargeList,\n                    }),\n                });\n        },\n        UOMDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"code\",\n                    dataValueField: \"uomConvertId\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=code || `No Price Level`#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                // url: uomPriceHandler.getURL(options.model.item.id, this.creditMemo.priceLevel.id, options.model.item.type),\n                                url: uomPriceHandler.uomPriceByPriceLevelURL(\n                                    \"id=\" +\n                                    options.model.item.id +\n                                    \"&plId=\" +\n                                    this.creditMemo.priceLevel.id +\n                                    \"&date=\" +\n                                    this.transactionDate\n                                ),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    // name: {type: \"string\"},\n                                    // sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                        // data: this.variants\n                    }),\n                });\n        },\n        DiscountItemDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=code# - #=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: discountItemHandler.getURL(DISCOUNT_TYPE),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    // name: {type: \"string\"},\n                                    // sku: {type: \"string\"},\n                                },\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            },\n                        },\n                    }),\n                });\n        },\n        SpecificTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.specificTax.filter((m) => {\n                            if (options.model.hasOwnProperty(\"vatTax\")) {\n                                const vat = options.model.vatTax;\n                                if (vat) {\n                                    if (\n                                        options.model.vatTax !== null ||\n                                        options.model.vatTax !== \"null\"\n                                    ) {\n                                        if (options.model.vatTax.baseAmount) {\n                                            return (\n                                                m.baseAmount.toLowerCase() ===\n                                                options.model.vatTax.baseAmount.toLowerCase()\n                                            );\n                                        } else {\n                                            return m;\n                                        }\n                                    }\n                                } else {\n                                    return m;\n                                }\n                            }\n                        }),\n                    }),\n                });\n        },\n        PublicLightingTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.publicLightingTax.filter((m) => {\n                            if (options.model.hasOwnProperty(\"vatTax\")) {\n                                const vat = options.model.vatTax;\n                                if (vat) {\n                                    if (\n                                        options.model.vatTax !== null &&\n                                        options.model.vatTax !== \"null\"\n                                    ) {\n                                        if (options.model.vatTax.baseAmount) {\n                                            return (\n                                                m.baseAmount.toLowerCase() ===\n                                                options.model.vatTax.baseAmount.toLowerCase()\n                                            );\n                                        } else {\n                                            return m;\n                                        }\n                                    }\n                                } else {\n                                    return m;\n                                }\n                            }\n                        }),\n                    }),\n                });\n        },\n        OtherTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.otherTax.filter((m) => {\n                            if (options.model.hasOwnProperty(\"vatTax\")) {\n                                const vat = options.model.vatTax;\n                                if (vat) {\n                                    if (\n                                        options.model.vatTax !== null &&\n                                        options.model.vatTax !== \"null\"\n                                    ) {\n                                        if (options.model.vatTax.baseAmount) {\n                                            return (\n                                                m.baseAmount.toLowerCase() ===\n                                                options.model.vatTax.baseAmount.toLowerCase()\n                                            );\n                                        } else {\n                                            return m;\n                                        }\n                                    }\n                                } else {\n                                    return m;\n                                }\n                            }\n                        }),\n                    }),\n                });\n        },\n        VatTaxDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.vatTax,\n                    }),\n                });\n        },\n        AccountDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=number# - #=name# </span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.accounts,\n                    }),\n                });\n        },\n        AccountDropDownEditorRefund(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=number# - #=name# </span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.accCash,\n                    }),\n                });\n        },\n        AccountDropDownEditorDeposit(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=number# - #=name# </span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.accDeposit,\n                    }),\n                });\n        },\n        SaleUnitDropDownEditor(container, options) {\n            kendo\n                .jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=code# - #=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.saleUnitItemList,\n                    }),\n                });\n        },\n        AmountEditor(container, options) {\n            kendo\n                .jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoNumericTextBox({\n                    decimals: 30,\n                    format: `${this.decimalFormat}`,\n                });\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        rowNumberTmplAcc(dataItem) {\n            let ds = this.$refs.accountLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        rowNumberTmplDeposit(dataItem) {\n            let ds = this.$refs.depositLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        rowNumberTmplApply(dataItem) {\n            let ds = this.$refs.applyToLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        addRowOffsetInvoice() {\n            let ds = this.$refs.applyToLineDS.kendoWidget(),\n                total = ds.total();\n            ds.insert(total, this.applyToLine);\n        },\n        addRow() {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                total = ds.total();\n            this.itemLine.id = itemLinePrefix + uuid.v1();\n            this.itemLine.decimalFormat = this.decimalFormat;\n            ds.insert(total, this.itemLine);\n            // this.itemLines.push(this.itemLine)\n            // window.console.log('item Line', this.itemLine)\n        },\n        addRowAcc() {\n            // let ds = this.$refs.accountLineDS.kendoWidget(),\n            //     total = ds.total()\n            // this.accountLine.id = itemLinePrefix + uuid.v1()\n            // ds.insert(total, this.accountLine)\n        },\n        addRowDeposit() {\n            let ds = this.$refs.depositLineDS.kendoWidget(),\n                total = ds.total();\n            this.depositLine.id = itemLinePrefix + uuid.v1();\n            this.depositLine.decimalFormat = this.decimalFormat;\n            ds.insert(total, this.depositLine);\n        },\n        addRowCashRefund() {\n            let ds = this.$refs.cashRefundDS.kendoWidget(),\n                total = ds.total();\n            this.saleDepositLine.id = itemLinePrefix + uuid.v1();\n            this.saleDepositLine.decimalFormat = this.decimalFormat;\n            this.saleDepositLine.optionType = OPTION_TYPE\n            ds.insert(total, this.saleDepositLine);\n        },\n        async loadOtherAccount() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    settingsHandler\n                        .getOtherAccount()\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                const response = res.data.data;\n                                const data = response.filter(\n                                    (o) => o.banhjiAccCode === \"740010\"\n                                );\n                                if (data.length > 0) {\n                                    this.gainLossAcc = data[0].account;\n                                }\n                                const data_ = response.filter(\n                                    (o) => o.banhjiAccCode === \"740040\"\n                                );\n                                if (data_.length > 0) {\n                                    this.otherRevenueAcc = data_[0].account;\n                                }\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        PurchaseDiscountItemEditor() {\n        },\n        async searchInvoice() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    let data = {};\n                    this.showLoading = true;\n                    const priceLevel = this.creditMemo.priceLevel;\n                    let code = \"\";\n                    if (priceLevel.hasOwnProperty(\"currency\")) {\n                        this.creditMemo.currency = priceLevel.currency;\n                        if (priceLevel.currency.hasOwnProperty(\"code\")) {\n                            code = priceLevel.currency.code;\n                        }\n                    }\n                    data = {\n                        search: this.customer.id,\n                        type: \"customer\",\n                        status: 3,\n                        transactionDate: this.transactionDate,\n                        currency: code,\n                    };\n                    this.offsetInvoices = [];\n                    this.isLoading = 1\n                    this.showLoading = true;\n                    if (code !== \"\") {\n                        try {\n                            billingHandler.search(data).then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    const response = res.data.data;\n                                    // const result = res.data.result\n                                    this.isLoading = 0\n                                    this.showLoading = false;\n                                    if (response.length > 0) {\n                                        let uniqueIds = [];\n                                        this.offsetInvoiceList = response;\n                                        this.offsetInvoiceList.forEach((o) => {\n                                            uniqueIds.push(o.id);\n                                        });\n                                        const unique = [...new Set(uniqueIds)];\n                                        this.offsetInvoices = [];\n                                        unique.forEach((txnId) => {\n                                            const found = this.offsetInvoiceList.filter(\n                                                (j) => j.id === txnId\n                                            );\n                                            found.forEach((k) => {\n                                                this.offsetInvoices.push(k);\n                                            });\n                                        });\n                                        // const unique = [...new Set(this.offsetInvoiceList.map(item => {\n                                        //     return {\n                                        //         id: item.id,\n                                        //         referenceNo: item.referenceNo\n                                        //     }\n                                        // }))]\n                                        // this.autoCalculate()\n                                        // this.addRowOffsetInvoice()\n                                    } else {\n                                        this.isLoading = 0\n                                    }\n                                }\n                            });\n                        } catch (e) {\n                            this.isLoading = 0\n                            this.showLoading = false;\n                        }\n                    } else {\n                        this.isLoading = 0\n                    }\n                }, 50);\n            });\n        },\n        async loadPaymentOption() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.paymentMethod = [];\n                    paymentOptionHandler\n                        .list(strOptionFilter)\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.paymentMethod = res.data.data;\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 50);\n            });\n        },\n        async onSaveClose(save) {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate();\n                return;\n            }\n\n            const lDS = this.$refs.itemLineDS.kendoWidget();\n            let dataValidate = 0;\n            const itmLineR = lDS.data().filter((n) => n.amount > 0);\n            window.console.log('itmLineR', itmLineR)\n            if (itmLineR.length > 0) {\n                itmLineR.forEach((value, index) => {\n                    if (\n                        value.item.id === undefined ||\n                        value.uom.uom.id === undefined ||\n                        value.item.id === \"\" ||\n                        value.uom.uom.id === \"\"\n                    ) {\n                        this.$snotify.error(\n                            \"Please select return item at row \" + (index + 1)\n                        );\n                    } else {\n                        dataValidate += 1;\n                    }\n                });\n                if (itmLineR.length === dataValidate) {\n                    if (Object.keys(this.creditMemo.priceLevel).length > 0) {\n                        if (this.dr !== 0 && this.cr !== 0) {\n                            window.console.log(this.creditMemo.priceLevel, \"price level\");\n                            new Promise((resolve) => {\n                                setTimeout(() => {\n                                    resolve(\"resolved\");\n                                    let isAutoGenerate = 1;\n                                    const offsetAmount = parseFloat(\n                                        this.creditMemo.applyToAmount\n                                    );\n                                    const itemLineAmount = parseFloat(\n                                        this.creditMemo.itemLineAmount\n                                    );\n                                    const variance = parseFloat(this.creditMemo.variance);\n                                    // const lDS = this.$refs.itemLineDS.kendoWidget()\n                                    // const itmLineR = lDS.data().filter(n => n.amount > 0)\n                                    // const applyToDS = this.$refs.applyToLineDS.kendoWidget()\n                                    // const applyToLineR = applyToDS.data().filter(n => n.paidAmount > 0)\n                                    // const depositLineDS = this.$refs.depositLineDS.kendoWidget()\n                                    // const depositLineR = depositLineDS.data().filter(n => n.amount > 0)\n                                    let noDepositAcc = 0,\n                                        noCashAccount = 0,\n                                        noVarianceAcc = 0;\n                                    // if (itmLineR.length > 0 && depositLineR.length > 0 && applyToLineR.length > 0) {\n\n                                    //todo: check offset amount\n                                    window.console.log(\n                                        \"offsetAmount\",\n                                        offsetAmount,\n                                        \"itemLineAmount\",\n                                        itemLineAmount\n                                    );\n                                    if (offsetAmount > itemLineAmount) {\n                                        this.showWaringMessage(\n                                            \"Credit Memo\",\n                                            \"Return amount and Offset amount must be equal!\",\n                                            \"OK\"\n                                        );\n                                        return;\n                                    }\n                                    //todo: check customer credit case amount>0 and unselected account\n                                    let ds = this.$refs.depositLineDS.kendoWidget();\n                                    let rows = ds.data().filter((n) => n.amount > 0);\n                                    rows.forEach((itm) => {\n                                        const account = itm.account;\n                                        if (!account.hasOwnProperty(\"id\")) {\n                                            this.showWaringMessage(\n                                                \"Credit Memo\",\n                                                \"Please select deposit account\",\n                                                \"OK\"\n                                            );\n                                            noDepositAcc = 1;\n                                            return;\n                                        }\n                                    });\n                                    //todo: check Cash refund case amount>0 and unselected account\n                                    let dsRefund = this.$refs.cashRefundDS.kendoWidget();\n                                    rows = dsRefund.data().filter((n) => n.amount > 0);\n                                    rows.forEach((itm) => {\n                                        const account = itm.account;\n                                        if (!account.hasOwnProperty(\"id\")) {\n                                            this.showWaringMessage(\n                                                \"Credit Memo\",\n                                                \"Please select cash account\",\n                                                \"OK\"\n                                            );\n                                            noCashAccount = 1;\n                                            return;\n                                        }\n                                    });\n                                    //todo: check variance account\n                                    if (variance !== 0) {\n                                        const varianceAcc = this.creditMemo.varianceAcc;\n                                        if (!varianceAcc) {\n                                            // if (!variance.hasOwnProperty('id')) {\n                                            this.showWaringMessage(\n                                                \"Credit Memo\",\n                                                \"Please select variance account\",\n                                                \"OK\"\n                                            );\n                                            noVarianceAcc = 1;\n                                            return;\n                                            // }\n                                        }\n                                    }\n                                    if (\n                                        noVarianceAcc === 0 &&\n                                        noDepositAcc === 0 &&\n                                        noCashAccount === 0\n                                    ) {\n                                        if (this.$route.params.id) {\n                                            const tranDate = new Date(this.transactionDate);\n                                            const tranDateInvoice = new Date(\n                                                this.creditMemo.transactionDate\n                                            );\n                                            const tranDateM =\n                                                tranDate.getFullYear() + tranDate.getMonth();\n                                            const tranDateInvoiceM =\n                                                tranDateInvoice.getFullYear() +\n                                                tranDateInvoice.getMonth();\n                                            if (tranDateM === tranDateInvoiceM) {\n                                                isAutoGenerate = 0;\n                                            }\n                                        }\n                                        let itemLineDS = this.$refs.itemLineDS.kendoWidget();\n                                        let applyToLineDS = this.$refs.applyToLineDS.kendoWidget();\n                                        let cashRefundDS = this.$refs.cashRefundDS.kendoWidget();\n                                        let depositLineDS = this.$refs.depositLineDS.kendoWidget();\n                                        const itemLineR = itemLineDS\n                                            .data()\n                                            .filter((o) => o.amount)\n                                            .map((n) => {\n                                                const otherCharge = new OtherChargeModel(n.otherChargeItem || {})\n                                                n['otherChargeItem'] = otherCharge\n                                                return new ItemLineModel(n);\n                                            });\n                                        const applyToLineR = applyToLineDS\n                                            .data()\n                                            .filter((o) => o.paidAmount)\n                                            .map((n) => {\n                                                return new ApplyToLineModel(n);\n                                            });\n                                        const depositLineR = depositLineDS\n                                            .data()\n                                            .filter((o) => o.amount)\n                                            .map((n) => {\n                                                return new DepositLineModel(n);\n                                            });\n                                        const cashRefundR = cashRefundDS\n                                            .data()\n                                            .filter((o) => o.amount)\n                                            .map((n) => {\n                                                return {...n};\n                                            });\n                                        let data = {\n                                            id: this.creditMemo.id ? this.creditMemo.id : \"\",\n                                            type: \"Credit Memo\",\n                                            uuid: this.creditMemo.uuid ? this.creditMemo.uuid : \"\",\n                                            journal_uuid: this.creditMemo.journal_uuid\n                                                ? this.creditMemo.journal_uuid\n                                                : \"\",\n                                            number: this.creditMemo.number,\n                                            abbr: this.creditMemo.transactionType.abbr,\n                                            transactionDate: this.transactionDate,\n                                            transactionDateTZ: Helper.toISODate(this.transactionDate),\n                                            customer: this.customer,\n                                            transactionType: this.creditMemo.transactionType,\n                                            currency: this.creditMemo.currency,\n                                            txnRate: this.creditMemo.txnRate,\n                                            rate: 1,\n                                            exchangeAmount: this.creditMemo.exchangeAmount,\n                                            exchangeRate: this.creditMemo.exchangeRate,\n                                            amount: this.creditMemo.amount,\n                                            variance: this.creditMemo.variance,\n                                            priceLevel: this.creditMemo.priceLevel,\n\n                                            itemLine: itemLineR,\n                                            depositLine: depositLineR,\n                                            cashRefundLine: cashRefundR,\n                                            applyToLine: applyToLineR,\n\n                                            segment: this.creditMemo.segment,\n                                            location: this.creditMemo.location,\n                                            project: this.creditMemo.project,\n                                            employee: this.creditMemo.employee,\n                                            transactionNote: this.creditMemo.transactionNote,\n                                            journalNote: this.creditMemo.journalNote,\n\n                                            itemLineAmount: this.creditMemo.itemLineAmount,\n                                            itemLineExchangeAmount: this.creditMemo\n                                                .itemLineExchangeAmount,\n                                            itemLineDiscountAmount: this.creditMemo\n                                                .itemLineDiscountAmount,\n                                            itemLineTaxAmount: this.creditMemo.itemLineTaxAmount,\n                                            itemLineSubTotal: this.creditMemo.itemLineSubTotal,\n\n                                            applyToAmount: this.creditMemo.applyToAmount,\n                                            applyToExchangeAmount: this.creditMemo\n                                                .applyToExchangeAmount,\n                                            depositDeduction: this.creditMemo.depositDeduction,\n                                            depositAmount: this.creditMemo.depositAmount,\n                                            exchangeDepositDeduction: this.creditMemo\n                                                .exchangeDepositDeduction,\n                                            refundAmount: this.creditMemo.refundAmount,\n                                            varianceAcc: this.creditMemo.varianceAcc,\n\n                                            saveOption: this.creditMemo.saveOption,\n                                            status: 1,\n                                            approvedBy: this.creditMemo.approvedBy,\n                                            formTemplate: {},\n                                            createdAt: this.creditMemo.createdAt,\n                                            reason: this.creditMemo.reason,\n                                            loggedUser: this.loggedUser,\n                                            isAutoGenerate: isAutoGenerate,\n                                            jRaw: this.jRaw,\n                                            itemSubtotal: this.creditMemo.itemSubtotal,\n                                            exchangeItemSubtotal: this.creditMemo\n                                                .exchangeItemSubtotal,\n                                            serviceSubtotal: this.creditMemo.serviceSubtotal,\n                                            exchangeServiceSubtotal: this.creditMemo\n                                                .exchangeServiceSubtotal,\n                                            txnItmSubtotal: this.creditMemo.txnItmSubtotal,\n                                            exchangeTxnItmSubtotal: this.creditMemo\n                                                .exchangeTxnItmSubtotal,\n                                            itemDiscount: this.creditMemo.itemDiscount,\n                                            exchangeItemDiscount: this.creditMemo\n                                                .exchangeItemDiscount,\n                                            serviceDiscount: this.creditMemo.serviceDiscount,\n                                            exchangeServiceDiscount: this.creditMemo\n                                                .exchangeServiceDiscount,\n                                            txnItmDiscount: this.creditMemo.txnItmDiscount,\n                                            exchangeTxnItmDiscount: this.creditMemo\n                                                .exchangeTxnItmDiscount,\n                                            refFrom: this.creditMemo.refFrom || [],\n                                            refTo: this.creditMemo.refTo || [],\n                                            saleTaxDetail: this.creditMemo.saleTaxDetail || [],\n                                            customerOtherChargeItem: this.creditMemo.customerOtherChargeItem || [],\n                                            customerDiscountItem: this.creditMemo.customerDiscountItem || [],\n                                            exchangeVariance: this.creditMemo.exchangeVariance || 0,\n                                            actionType: this.$route.params.id\n                                                ? this.$route.query.type\n                                                : \"new\",\n                                        };\n                                        this.showLoading = true;\n                                        window.console.log(data, \"applyToLineR\", applyToLineR);\n                                        window.console.log(\n                                            \"applyToLineR\",\n                                            JSON.stringify(applyToLineR)\n                                        );\n                                        window.console.log(JSON.stringify(data), \"data\");\n                                        billingHandler\n                                            .createCreditMemo(data)\n                                            .then((response) => {\n                                                if (response.data.statusCode === 201) {\n                                                    this.showLoading = false;\n                                                    this.$snotify.success(\"Successfully\");\n                                                    if (save == 'new') {\n                                                        this.clear()\n                                                    } else {\n                                                        this.clear();\n                                                        this.close();\n                                                    }\n                                                }\n                                            })\n                                            .catch((e) => {\n                                                this.showLoading = false;\n                                                this.$snotify.error(\"Something went wrong\");\n                                                this.errors.push(e);\n                                            });\n                                    }\n                                }, 10);\n                            });\n                        } else {\n                            this.showWaringMessage(\n                                \"Credit Memo\",\n                                \"Please check before save\",\n                                \"OK\"\n                            );\n                        }\n                    } else {\n                        this.showWaringMessage(\n                            \"Credit Memo\",\n                            \"Please check before save\",\n                            \"OK\"\n                        );\n                    }\n                }\n            } else {\n                this.$snotify.error(\"Please select return item \");\n                return;\n            }\n        },\n        async loadViewCreditMemo() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (this.$route.params.id) {\n                        this.showLoading = true;\n                        const strFilter = \"?id=\" + this.$route.params.id;\n                        billingHandler\n                            .creditMemoList(strFilter)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    const saleReturn = res.data.data[0];\n                                    this.creditMemo = saleReturn;\n                                    this.itemLines = saleReturn.itemLine;\n                                    this.offsetInvoices = saleReturn.applyToLine;\n                                    this.cashRefundLines = saleReturn.cashRefundLine;\n                                    this.depositLines = saleReturn.depositLine;\n                                    this.customer = this.creditMemo.customer;\n                                    this.mEmployee = this.creditMemo.employee;\n                                    this.transactionDate = this.creditMemo.transactionDate;\n                                    this.baseCurrencyCode = saleReturn.baseCurrencyCode;\n                                    this.customerDiscountItem = this.creditMemo.customerDiscountItem || [];\n\n                                    if (this.cashRefundLines.length === 0) {\n                                        this.saleDepositLine.id = itemLinePrefix + uuid.v1();\n                                        this.cashRefundLines.push(this.saleDepositLine);\n                                        // this.addRowCashRefund()\n                                    }\n                                    if (this.depositLines.length === 0) {\n                                        this.saleDepositLine.id = itemLinePrefix + uuid.v1();\n                                        this.depositLines.push(this.saleDepositLine);\n                                        // this.addRowDeposit()\n                                    }\n                                }\n                            })\n                            .catch();\n                        {\n                            // this.showLoading = false\n                        }\n                    }\n                }, 50);\n            });\n        },\n        close() {\n            window.history.go(-1);\n        },\n        clear() {\n            this.showLoading = false;\n            let itemLineDS = this.$refs.itemLineDS.kendoWidget();\n            itemLineDS.data([]);\n            let cashRefundDS = this.$refs.cashRefundDS.kendoWidget();\n            cashRefundDS.data([]);\n            let depositLineDS = this.$refs.depositLineDS.kendoWidget();\n            depositLineDS.data([]);\n            let applyToLineDS = this.$refs.applyToLineDS.kendoWidget();\n            applyToLineDS.data([]);\n            this.offsetInvoice = {}\n            this.offsetInvoices = [];\n            const cusType = this.creditMemo.transactionType\n            this.customer = {}\n            this.creditMemo = new CreditMemoModel()\n            this.creditMemo.transactionType = cusType\n            this.addRow()\n\n        },\n        autoCalculateTaxDetail() {\n            let ids = []\n            this.taxListDetail.forEach(n => {\n                ids.push(n.id || '')\n            })\n            const unique = [...new Set(ids)]\n            let result = []\n            unique.forEach(m => {\n                let amount = 0, row = {}, discount = 0, xDiscount = 0, xAmount = 0, taxAmount = 0, xTaxAmount = 0\n                let taxDetail = [], isVat = 0\n                const found = this.taxListDetail.filter(n => n.id === m)\n                // window.console.log('taxListDetailids', found)\n                found.forEach(k => {\n                    row = k\n                    if (k.isVat === 1) {\n                        isVat = 1\n                        const detail_ = k.detail || {}\n                        taxDetail.push(detail_)\n\n                    }\n                    taxAmount += k.taxAmount_ || 0\n                    xTaxAmount += (k.taxAmount_ || 0) * (k.txnRate || 1)\n                    amount += (k.amount || 0)\n                    xAmount += (k.amount || 0) * (k.txnRate || 1)\n                    discount += (k.discount || 0)\n                    xDiscount += (k.discount || 0) * (k.txnRate || 1)\n                })\n                let spTaxAmt = 0, spXTaxAmt = 0, plTaxAmt = 0, plXTaxAmt = 0, otTaxAmt = 0, otXTaxAmt = 0,\n                    spTaxName = '', plTaxName = '', otTaxName = '',\n                    spTaxNameLocale = '', plTaxNameLocale = '', otTaxNameLocale = '',\n                    spAccId = '', plAccId = '', otAccId = '',\n                    spRate = '', plRate = '', otRate = ''\n                taxDetail.forEach(n => {\n                    const spTax = n.specificTax || {}\n                    const plTax = n.publicLightingTax || {}\n                    const otherTax = n.otherTax || {}\n                    if (Object.keys(spTax).length > 0) {\n                        spTaxAmt += (spTax.taxAmount_ || 0)\n                        spXTaxAmt += ((spTax.taxAmount_ || 0) * (spTax.taxRate || 1))\n                        spTaxName = spTax.defaultTax || ''\n                        spTaxNameLocale = spTax.defaultTaxLocale || ''\n                        spAccId = spTax.account ? spTax.account.id : ''\n                        spRate = spTax.rate || 1\n                    }\n                    if (Object.keys(plTax).length > 0) {\n                        plTaxAmt += (plTax.taxAmount_ || 0)\n                        plXTaxAmt += ((plTax.taxAmount_ || 0) * (plTax.taxRate || 1))\n                        plTaxName = plTax.defaultTax || ''\n                        plTaxNameLocale = plTax.defaultTaxLocale || ''\n                        plAccId = plTax.account ? plTax.account.id : ''\n                        plRate = plTax.rate || 1\n                    }\n                    if (Object.keys(otherTax).length > 0) {\n                        otTaxAmt += (otherTax.taxAmount_ || 0)\n                        otXTaxAmt += ((otherTax.taxAmount_ || 0) * (plTax.taxRate || 1))\n                        otTaxName = otherTax.defaultTax || ''\n                        otTaxNameLocale = otherTax.defaultTaxLocale || ''\n                        otAccId = otherTax.account ? otherTax.account.id : ''\n                        otRate = otherTax.rate || 1\n                    }\n                })\n                if (isVat === 1) {\n                    row.detail = {\n                        specificTax: {\n                            name: spTaxName,\n                            nameLocale: spTaxNameLocale,\n                            amount: spTaxAmt,\n                            exchangeAmount: spXTaxAmt,\n                            accountId: spAccId,\n                            rate: spRate,\n                        },\n                        publicLightingTax: {\n                            name: plTaxName,\n                            nameLocale: plTaxNameLocale,\n                            amount: plTaxAmt,\n                            exchangeAmount: plXTaxAmt,\n                            accountId: plAccId,\n                            rate: plRate,\n                        },\n                        otherTax: {\n                            name: otTaxName,\n                            nameLocale: otTaxNameLocale,\n                            amount: otTaxAmt,\n                            exchangeAmount: otXTaxAmt,\n                            accountId: otAccId,\n                            rate: otRate,\n                        }\n                    }\n                } else {\n                    row.detail = {}\n                }\n\n                row['amount'] = amount\n                row['exchangeAmount'] = xAmount\n                row['taxAmount'] = taxAmount\n                row['exchangeTaxAmount'] = xTaxAmount\n                row['discount'] = discount\n                row['exchangeDiscount'] = xDiscount\n                row['currency'] = this.creditMemo.exchangeRate || {}\n                result.push(row)\n                taxDetail = []\n            })\n            this.creditMemo.saleTaxDetail = result\n            window.console.log('creditMemo.saleTaxDetail', result)\n        },\n        async loadOtherCharge() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    otherChargeHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.otherChargeList = res.data.data;\n                        }\n                    });\n                }, 10);\n            });\n        },\n        shrinkOtherChargeItem(otherChargeItem, otherChargeLine) {\n            let items = [];\n            const unique = this.removeDuplicate(otherChargeItem);\n            unique.forEach((m) => {\n                const found = otherChargeLine.filter((n) => n.id === m.id);\n                let amount = 0, exchangeAmount = 0;\n                found.map((o) => {\n                    amount += o.amount;\n                });\n                found.map((o) => {\n                    exchangeAmount += o.exchangeAmount;\n                });\n                items.push({\n                    id: m.id,\n                    name: m.name,\n                    amount: amount,\n                    exchangeAmount: exchangeAmount,\n                });\n            });\n            this.customerOtherChargeItem = items;\n        },\n    },\n    watch: {\n        id() {\n            if (this.$route.params.id === undefined) {\n                this.clear();\n            } else {\n                this.loadViewCreditMemo();\n            }\n        },\n        // call again the method if the route changes\n    },\n    created() {\n        this.loadTax();\n        this.loadSaleUnitItems();\n        this.loadPrefix();\n        this.loadSegment();\n        this.loadLocation();\n        this.loadPaymentOption();\n    },\n    mounted: async function () {\n        await this.loadOtherAccount();\n        this.requestData(0, this.filter, this.cusBaseUrl);\n        // await this.loadDiscountItem()\n        await this.loadEmployeeCenter();\n        await this.loadPaymentTerm();\n        await this.loadAccount();\n        await this.loadPriceLevel();\n        await this.loadOtherCharge();\n        // await this.loadOtherCharge()\n        await this.loadSaleFormContent();\n        await this.initData();\n        this.nowTimes();\n    },\n};\n</script>\n\n<style scoped>\n.function_wrapper {\n    box-shadow: none !important;\n}\n\n.v-application--is-ltr .v-text-field .v-input__append-inner {\n    marn-top: 0 !important;\n}\n\n.v-input__slot {\n    background-color: #fff !important;\n}\n\n.function_content .label {\n    margin-bottom: 10px;\n    display: inline-block;\n}\n\n.border_radius10 {\n    border-radius: 10px !important;\n    background-color: #f2f2f2;\n}\n\n.pa-3.v-card h4 {\n    font-size: 18px;\n    color: #333;\n}\n\n.pa-3.v-card p {\n    font-size: 12px;\n    color: #b5b5b5;\n}\n\n.attachment_file {\n    background-color: #efeded;\n    border-radius: 0 !important;\n}\n\n.attachment_table.v-data-table table {\n    border: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.attachment_table table tr th {\n    border-left: thin solid rgba(0, 0, 0, 0.12);\n    height: 35px;\n    border-right: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.block_debit,\n.block_credit {\n    border-bottom: 1px solid #fff;\n}\n\n.block_debit p.number,\n.block_credit p.number {\n    font-size: 25px;\n    color: #7f7f7f;\n}\n\n.block_debit h5,\n.block_credit h5,\n.block_difference h5 {\n    text-transform: uppercase;\n    color: #7f7f7f;\n    font-size: 15px;\n    font-weight: normal;\n}\n\n.block_difference h5 {\n    font-size: 18px;\n}\n\n.block_difference h5 span {\n    font-size: 15px;\n}\n\n.custom_grid table th:last-child {\n    text-align: right !important;\n}\n\n.primary--text {\n    color: #03b154;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        max-width: 1250px;\n    }\n}\n\n@media (max-width: 576px) {\n    .pt-6.col-sm-5.col-12 {\n        padding-top: 0 !important;\n    }\n\n    .code_text {\n        width: 100%;\n    }\n\n    .phone_no_pt {\n        padding-top: 0 !important;\n    }\n\n    .select_template,\n    .save_option {\n        margin-bottom: 10px;\n    }\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: 0.5s ease-in;\n    flex: 0 0 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n.info_add {\n    background-color: #ffffff;\n}\n\n.small_sidebar {\n    height: 98%;\n    position: relative;\n    padding: 12px;\n    background-color: #edf1f5;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.color_grey {\n    color: #808080;\n}\n\n.card_green {\n    min-height: 70px;\n    background-color: #00b050 !important;\n    color: #ffffff;\n}\n\n.lb_bold {\n    font-size: 12px;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 10px;\n}\n\n.card_background {\n    background-color: #edf1f5;\n    min-height: 120px;\n}\n\n.deposite_input {\n    width: 100px;\n}\n\n.btn_save_draft {\n    color: #ffffff;\n    background-color: #00b0f0 !important;\n    text-transform: capitalize;\n}\n\n.save_option {\n    background-color: #203864 !important;\n}\n\n.btn_add_small {\n    height: 27px !important;\n    min-width: 25px !important;\n    font-size: 10px;\n    padding: 0 22px !important;\n    background-color: #00b050 !important;\n    color: #ffffff;\n    border-radius: 0 !important;\n}\n\n.list_site_inv {\n    background-color: #92d050;\n    color: #ffffff;\n    font-size: 12px;\n}\n\n.list_site_exp {\n    background-color: #c5e0b4;\n    color: #000000;\n    font-size: 12px;\n    line-height: 16px;\n    min-height: 40px;\n}\n\n.checkbox_inv {\n    padding: 2px;\n    margin-top: 3px;\n    margin-right: 2px;\n}\n\n.exp_select {\n    font-size: 12px !important;\n}\n\n.my_card h3 {\n    display: block !important;\n}\n</style>\n"],"sourceRoot":"src/views/customers"}]}