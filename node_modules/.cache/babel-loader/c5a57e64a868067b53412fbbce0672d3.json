{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/share_funding/FundReceipt.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/share_funding/FundReceipt.vue","mtime":1638499443326},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/babel.config.js","mtime":1638499442885},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNvcy9EZXNrdG9wL2JhbmhqaS0wLjIvYmFuaGppLWFjY291bnRpbmctd2ViLW1vZHVsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgaTE4biB9IGZyb20gIkAvaTE4biI7CmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwppbXBvcnQgSGVscGVyIGZyb20gIkAvaGVscGVyLmpzIjsKaW1wb3J0IHsgSm91cm5hbE1vZGVsLCBKb3VybmFsRW50cnlNb2RlbCwgQWNjb3VudE1vZGVsLCBDbGFzc01vZGVsLCBDdXJyZW5jeU1vZGVsLCBFeGNoYW5nZVJhdGVNb2RlbCwgTG9jYXRpb25Nb2RlbCwgUHJvamVjdE1vZGVsLCBTZWdtZW50TW9kZWwsIENvbnRhY3RNb2RlbCB9IGZyb20gIkAvc2NyaXB0cy9tb2RlbC9BcHBNb2RlbHMiOwppbXBvcnQgQ3VzdG9tZXJNb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQ3VzdG9tZXIiOwovKiBFZGl0b3JzICovCgppbXBvcnQgQ2FzaFJlY2VpcHRBY2NvdW50RWRpdG9yIGZyb20gIkAvc2NyaXB0cy9rZW5kb19lZGl0b3IvQ2FzaEFjY291bnQiOwppbXBvcnQgUmVsYXRlZEV4cGVuc2VBY2NvdW50RWRpdG9yIGZyb20gIkAvc2NyaXB0cy9rZW5kb19lZGl0b3IvUmVsYXRlZEV4cGVuc2VBY2NvdW50IjsKaW1wb3J0IFJldmVudWVEZWZmZXJlZEdyYW50QWNjb3VudEVkaXRvciBmcm9tICJAL3NjcmlwdHMva2VuZG9fZWRpdG9yL1JldmVudWVEZWZmZXJlZEdyYW50QWNjb3VudCI7CmltcG9ydCBDbGFzc0VkaXRvciBmcm9tICJAL3NjcmlwdHMva2VuZG9fZWRpdG9yL0NsYXp6IjsKLyogU3RvcmUgKi8KCmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsKdmFyIGluc3RpdHV0ZSA9IHN0b3JlLnN0YXRlLmluc3RpdHV0ZS5pbnN0aXR1dGU7Cgp2YXIgam91cm5hbEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvam91cm5hbEhhbmRsZXIiKTsKCnZhciBBY2NvdW50VHlwZUNvZGUgPSByZXF1aXJlKCJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9BY2NvdW50VHlwZUNvZGUiKTsKCmltcG9ydCB7IFNob3dSZXNvdXJjZSB9IGZyb20gIkAvb2JzZXJ2YWJsZS9zdG9yZSI7Cgp2YXIgX3JlcXVpcmUgPSByZXF1aXJlKCJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9Db2xsZWN0aW9ucyIpLAogICAgRW50aXR5VHlwZSA9IF9yZXF1aXJlLkVudGl0eVR5cGUsCiAgICBTYXZlT3B0aW9uID0gX3JlcXVpcmUuU2F2ZU9wdGlvbjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRnVuZFJlY2VpcHQiLAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmdNZTogZnVuY3Rpb24gTG9hZGluZ01lKCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvTG9hZGluZyIpOwogICAgfSwKICAgICJhcHAtZGF0ZXBpY2tlciI6IGZ1bmN0aW9uIGFwcERhdGVwaWNrZXIoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL0RhdGVQaWNrZXJDb21wb25lbnQiKTsKICAgIH0sCiAgICAiYXBwLWN1cnJlbmN5LWRyb3Bkb3dubGlzdCI6IGZ1bmN0aW9uIGFwcEN1cnJlbmN5RHJvcGRvd25saXN0KCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L0N1cnJlbmN5Iik7CiAgICB9LAogICAgImFwcC1kb25vci1kcm9wZG93bmxpc3QiOiBmdW5jdGlvbiBhcHBEb25vckRyb3Bkb3dubGlzdCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL2Ryb3Bkb3dubGlzdC9Eb25vciIpOwogICAgfSwKICAgICJhcHAtZnVuZC1jYXRlZ29yeS1kcm9wZG93bmxpc3QiOiBmdW5jdGlvbiBhcHBGdW5kQ2F0ZWdvcnlEcm9wZG93bmxpc3QoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvRnVuZENhdGVnb3J5Iik7CiAgICB9LAogICAgImFwcC1zZWdtZW50LWRyb3Bkb3dubGlzdCI6IGZ1bmN0aW9uIGFwcFNlZ21lbnREcm9wZG93bmxpc3QoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvU2VnbWVudCIpOwogICAgfSwKICAgICJhcHAtcHJvamVjdC1kcm9wZG93bmxpc3QiOiBmdW5jdGlvbiBhcHBQcm9qZWN0RHJvcGRvd25saXN0KCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L1Byb2plY3QiKTsKICAgIH0sCiAgICAiYXBwLWxvY2F0aW9uLWRyb3Bkb3dubGlzdCI6IGZ1bmN0aW9uIGFwcExvY2F0aW9uRHJvcGRvd25saXN0KCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L0xvY2F0aW9uIik7CiAgICB9CiAgfSwKICBwcm9wczogewogICAgaW5pdEpvdXJuYWw6IHsKICAgICAgdHlwZTogSm91cm5hbE1vZGVsCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLyogT2JqICovCiAgICAgIGZ1bmRDYXRlZ29yeTogbnVsbCwKICAgICAgam91cm5hbDogbmV3IEpvdXJuYWxNb2RlbCgpLAogICAgICBjdXJyZW5jeTogbmV3IEN1cnJlbmN5TW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSksCiAgICAgIGV4Y2hhbmdlUmF0ZTogbmV3IEV4Y2hhbmdlUmF0ZU1vZGVsKGluc3RpdHV0ZS5iYXNlQ3VycmVuY3kpLAogICAgICBqb3VybmFsRW50cmllczogW10sCiAgICAgIGNhc2hSZWNlaXB0RW50cmllczogW10sCiAgICAgIHJlbGF0ZWRFeHBlbnNlRW50cmllczogW10sCiAgICAgIHJldmVudWVEZWZmZXJlZEdyYW50RW50cmllczogW10sCiAgICAgIGRvbm9yOiBuZXcgQ29udGFjdE1vZGVsKCksCiAgICAgIGxvY2F0aW9uOiBuZXcgTG9jYXRpb25Nb2RlbCgpLAogICAgICBwcm9qZWN0OiBuZXcgUHJvamVjdE1vZGVsKCksCiAgICAgIHNlZ21lbnQ6IG5ldyBTZWdtZW50TW9kZWwoKSwKICAgICAgLy8gQWNjb3VudHMKICAgICAgYWNjb3VudHM6IFtdLAogICAgICBjYXNoUmVjaWVwdEFjY291bnRzOiBbXSwKICAgICAgcmVsYXRlZEV4cGVuc2VBY2NvdW50czogW10sCiAgICAgIHJldmVudWVEZWZmZXJlZEdyYW50QWNjb3VudHM6IFtdLAogICAgICAvLyBFZGl0b3JzCiAgICAgIENhc2hSZWNlaXB0QWNjb3VudEVkaXRvcjogQ2FzaFJlY2VpcHRBY2NvdW50RWRpdG9yLAogICAgICBSZWxhdGVkRXhwZW5zZUFjY291bnRFZGl0b3I6IFJlbGF0ZWRFeHBlbnNlQWNjb3VudEVkaXRvciwKICAgICAgUmV2ZW51ZURlZmZlcmVkR3JhbnRBY2NvdW50RWRpdG9yOiBSZXZlbnVlRGVmZmVyZWRHcmFudEFjY291bnRFZGl0b3IsCiAgICAgIENsYXNzRWRpdG9yOiBDbGFzc0VkaXRvciwKICAgICAgLy8gT3RoZXIKICAgICAgdG90YWxEcjogMCwKICAgICAgdG90YWxDcjogMCwKICAgICAgdGVtcGxhdGVzOiBbXSwKICAgICAgdXNlcjogSGVscGVyLmdldFVzZXIoKSwKICAgICAgLy8gRm9ybSB2YWxpZGF0aW9uCiAgICAgIHZhbGlkOiB0cnVlLAogICAgICBpc0VkaXQ6IGZhbHNlLAogICAgICBhbGVydDogZmFsc2UsCiAgICAgIGVycm9yTWVzc2FnZTogIiIsCiAgICAgIHNhdmVNb2RlOiAiIiwKICAgICAgU2F2ZU9wdGlvbjogU2F2ZU9wdGlvbiwKICAgICAgLy8gTG9hZGluZ01lCiAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgLy8gZnVuY2lvbgogICAgICBpc0hpZGVCYXI6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgSGlkZVNtYWxsU2lkZUJhcjogZnVuY3Rpb24gSGlkZVNtYWxsU2lkZUJhcigpIHsKICAgICAgdGhpcy5pc0hpZGVCYXIgPSAhdGhpcy5pc0hpZGVCYXI7CiAgICB9LAogICAgSGVscDogZnVuY3Rpb24gSGVscChrZXlfc2VhcmNoKSB7CiAgICAgIFNob3dSZXNvdXJjZShrZXlfc2VhcmNoKTsKICAgIH0sCiAgICAvLyBJbml0aWFsIERhdGEKICAgIGluaXRpYWxEYXRhOiBmdW5jdGlvbiBpbml0aWFsRGF0YSgpIHsKICAgICAgaWYgKHRoaXMuaW5pdEpvdXJuYWwpIHsKICAgICAgICAvLyBFZGl0IE1vZGUKICAgICAgICB0aGlzLmpvdXJuYWwgPSB0aGlzLmluaXRKb3VybmFsOwogICAgICAgIHRoaXMuYmluZERhdGEoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBCcmFuZCBOZXcgTW9kZQogICAgICAgIHRoaXMuc2V0RGVmYXVsdERhdGEoKTsKICAgICAgfQogICAgfSwKICAgIC8vIFNldCBkZWZhdWx0IGRhdGEKICAgIHNldERlZmF1bHREYXRhOiBmdW5jdGlvbiBzZXREZWZhdWx0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGxvY2F0aW9ucywgc2VnbWVudHMsIGluZGV4OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8vIEJyYW5kIE5ldyBNb2RlCiAgICAgICAgICAgICAgICBfdGhpcy5pc0VkaXQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzLmpvdXJuYWwgPSBuZXcgSm91cm5hbE1vZGVsKHsKICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25fdHlwZTogRW50aXR5VHlwZS5GVU5EX1JFQ0VJUFQsCiAgICAgICAgICAgICAgICAgIGpvdXJuYWxfZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgLyogRGVmYXVsdCBTaWRlYmFyICovCgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCJsb2NhdGlvbnMvZ2V0TGlzdCIpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBsb2NhdGlvbnMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMubG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlbChsb2NhdGlvbnNbMF0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZWdtZW50cy9nZXRMaXN0Iik7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHNlZ21lbnRzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLnNlZ21lbnQgPSBuZXcgU2VnbWVudE1vZGVsKHNlZ21lbnRzLmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuaXNTeXN0ZW0gPT09IDE7CiAgICAgICAgICAgICAgICB9KSk7IC8vIEdlbmVyYXRlIE51bWJlcgoKICAgICAgICAgICAgICAgIF90aGlzLmdlbmVyYXRlTnVtYmVyKCk7IC8vIEFkZCB0d28gZGVmYXVsdCByb3dzCgoKICAgICAgICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IDI7IGluZGV4KyspIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkUm93Q2FzaFJlY2VpcHQoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmFkZFJvd1JlbGF0ZWRFeHBlbnNlKCk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5hZGRSb3dSZXZlbnVlRGVmZmVyZWRHcmFudCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIEJpbmQgZGF0YSBmcm9tIHByb3AgZm9yIGVkaXQgbW9kZQogICAgYmluZERhdGE6IGZ1bmN0aW9uIGJpbmREYXRhKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciB0b3RhbERyLCB0b3RhbENyLCBjYXNoUmVjZWlwdEVudHJpZXMsIHJlbGF0ZWRFeHBlbnNlRW50cmllcywgcmV2ZW51ZURlZmZlcmVkR3JhbnRFbnRyaWVzLCBjbGFzc2VzLCBsb2NhdGlvbnMsIHNlZ21lbnRzLCBwcm9qZWN0czsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gRWRpdCBNb2RlCiAgICAgICAgICAgICAgICBfdGhpczIuaXNFZGl0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHRvdGFsRHIgPSAwLCB0b3RhbENyID0gMCwgY2FzaFJlY2VpcHRFbnRyaWVzID0gW10sIHJlbGF0ZWRFeHBlbnNlRW50cmllcyA9IFtdLCByZXZlbnVlRGVmZmVyZWRHcmFudEVudHJpZXMgPSBbXTsgLy8gRG9ub3IKCiAgICAgICAgICAgICAgICBfdGhpczIuZG9ub3IgPSBuZXcgQ3VzdG9tZXJNb2RlbChfdGhpczIuam91cm5hbC5qb3VybmFsX2VudHJpZXNbMF0ucHJpbWFyeV9jb250YWN0KTsKICAgICAgICAgICAgICAgIC8qIENsYXNzZXMgKi8KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgiY2xhc3Nlcy9nZXRMaXN0Iik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIC8vIEN1cnJlbmN5CiAgICAgICAgICAgICAgICBfdGhpczIuY3VycmVuY3kgPSBuZXcgQ3VycmVuY3lNb2RlbChfdGhpczIuam91cm5hbC5qb3VybmFsX2VudHJpZXNbMF0uY3VycmVuY3kpOwogICAgICAgICAgICAgICAgX3RoaXMyLmV4Y2hhbmdlUmF0ZSA9IG5ldyBFeGNoYW5nZVJhdGVNb2RlbChfdGhpczIuam91cm5hbC5qb3VybmFsX2VudHJpZXNbMF0uY3VycmVuY3kpOwogICAgICAgICAgICAgICAgX3RoaXMyLmV4Y2hhbmdlUmF0ZS5pZCA9IF90aGlzMi5qb3VybmFsLmpvdXJuYWxfZW50cmllc1swXS5leGNoYW5nZV9yYXRlX3V1aWQ7CiAgICAgICAgICAgICAgICBfdGhpczIuZXhjaGFuZ2VSYXRlLnJhdGUgPSBfdGhpczIuam91cm5hbC5qb3VybmFsX2VudHJpZXNbMF0uZXhjaGFuZ2VfcmF0ZTsKCiAgICAgICAgICAgICAgICBfdGhpczIuam91cm5hbC5qb3VybmFsX2VudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgdmFyIGplID0gbmV3IEpvdXJuYWxFbnRyeU1vZGVsKHZhbHVlKTsKCiAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5hbW91bnQgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gRHIgc2lkZQogICAgICAgICAgICAgICAgICAgIGlmICh+QWNjb3VudFR5cGVDb2RlLkNBU0hfQUNDT1VOVFMuaW5kZXhPZih2YWx1ZS5hY2NvdW50LmFjY291bnRfdHlwZS5udW1iZXIpKSB7CiAgICAgICAgICAgICAgICAgICAgICBjYXNoUmVjZWlwdEVudHJpZXMucHVzaChqZSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIENsYXNzZXMKICAgICAgICAgICAgICAgICAgICAgIGplLmNsYXNzMSA9IG5ldyBDbGFzc01vZGVsKGNsYXNzZXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gdmFsdWUuY2xhc3NfMV91dWlkOwogICAgICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgICAgICAgamUuY2xhc3MyID0gbmV3IENsYXNzTW9kZWwoY2xhc3Nlcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmlkID09PSB2YWx1ZS5jbGFzc18yX3V1aWQ7CiAgICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAgICAgICBqZS5jbGFzczMgPSBuZXcgQ2xhc3NNb2RlbChjbGFzc2VzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IHZhbHVlLmNsYXNzXzNfdXVpZDsKICAgICAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgICAgICAgIGplLmNsYXNzNCA9IG5ldyBDbGFzc01vZGVsKGNsYXNzZXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gdmFsdWUuY2xhc3NfNF91dWlkOwogICAgICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgICAgICAgamUuY2xhc3M1ID0gbmV3IENsYXNzTW9kZWwoY2xhc3Nlcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmlkID09PSB2YWx1ZS5jbGFzc181X3V1aWQ7CiAgICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkRXhwZW5zZUVudHJpZXMucHVzaChqZSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB0b3RhbERyICs9IHZhbHVlLmFtb3VudDsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyBDciBzaWRlCiAgICAgICAgICAgICAgICAgICAgamUuYW1vdW50ID0gdmFsdWUuYW1vdW50ICogLTE7CiAgICAgICAgICAgICAgICAgICAgcmV2ZW51ZURlZmZlcmVkR3JhbnRFbnRyaWVzLnB1c2goamUpOwogICAgICAgICAgICAgICAgICAgIHRvdGFsQ3IgKz0gamUuYW1vdW50OwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsgLy8gU2lkZWJhcgoKCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goImxvY2F0aW9ucy9nZXRMaXN0Iik7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBsb2NhdGlvbnMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5sb2NhdGlvbiA9IG5ldyBMb2NhdGlvbk1vZGVsKGxvY2F0aW9ucy5maW5kKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpLmlkID09PSBfdGhpczIuam91cm5hbC5sb2NhdGlvbl91dWlkOwogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCJzZWdtZW50cy9nZXRMaXN0Iik7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBzZWdtZW50cyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMyLnNlZ21lbnQgPSBuZXcgU2VnbWVudE1vZGVsKHNlZ21lbnRzLmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuaWQgPT09IF90aGlzMi5qb3VybmFsLnNlZ21lbnRfdXVpZDsKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgicHJvamVjdHMvZ2V0TGlzdCIpOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgcHJvamVjdHMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5wcm9qZWN0ID0gbmV3IFByb2plY3RNb2RlbChwcm9qZWN0cy5maW5kKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpLmlkID09PSBfdGhpczIuam91cm5hbC5wcm9qZWN0X3V1aWQ7CiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICBfdGhpczIudG90YWxEciA9IHRvdGFsRHI7CiAgICAgICAgICAgICAgICBfdGhpczIudG90YWxDciA9IHRvdGFsQ3I7CiAgICAgICAgICAgICAgICBfdGhpczIuY2FzaFJlY2VpcHRFbnRyaWVzID0gY2FzaFJlY2VpcHRFbnRyaWVzOwogICAgICAgICAgICAgICAgX3RoaXMyLnJlbGF0ZWRFeHBlbnNlRW50cmllcyA9IHJlbGF0ZWRFeHBlbnNlRW50cmllczsKICAgICAgICAgICAgICAgIF90aGlzMi5yZXZlbnVlRGVmZmVyZWRHcmFudEVudHJpZXMgPSByZXZlbnVlRGVmZmVyZWRHcmFudEVudHJpZXM7CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBOdW1iZXIKICAgIGdlbmVyYXRlTnVtYmVyOiBmdW5jdGlvbiBnZW5lcmF0ZU51bWJlcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgbnVtOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLmlzRWRpdCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBIZWxwZXIuZ2VuZXJhdGVBY2NvdW50aW5nTnVtYmVyKF90aGlzMy5qb3VybmFsLnRyYW5zYWN0aW9uX3R5cGUsIF90aGlzMy5qb3VybmFsLmpvdXJuYWxfZGF0ZSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIG51bSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMzLmpvdXJuYWwubnVtYmVyID0gbnVtLm51bWJlcjsKICAgICAgICAgICAgICAgIF90aGlzMy5qb3VybmFsLnByZWZpeF9mb3JtYXQgPSBudW0ucHJlZml4X2Zvcm1hdDsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8gR2V0IEV4Y2hhbmdlIFJhdGUKICAgIGdldEV4Y2hhbmdlUmF0ZTogZnVuY3Rpb24gZ2V0RXhjaGFuZ2VSYXRlKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczQuam91cm5hbC5qb3VybmFsX2RhdGUgJiYgX3RoaXM0LmN1cnJlbmN5LmNvZGUgIT09ICIiKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBIZWxwZXIuZ2V0TGFzdEV4Y2hhbmdlUmF0ZUJ5RGF0ZShfdGhpczQuam91cm5hbC5qb3VybmFsX2RhdGUsIF90aGlzNC5jdXJyZW5jeS5jb2RlKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3RoaXM0LmV4Y2hhbmdlUmF0ZSA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzNC5leGNoYW5nZVJhdGUgPSBuZXcgRXhjaGFuZ2VSYXRlTW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKiBPbiBEYXRlIENoYW5lcyAqLwogICAgb25EYXRlQ2hhbmdlczogZnVuY3Rpb24gb25EYXRlQ2hhbmdlcygpIHsKICAgICAgdGhpcy5nZXRFeGNoYW5nZVJhdGUoKTsKICAgICAgdGhpcy5nZW5lcmF0ZU51bWJlcigpOwogICAgfSwKCiAgICAvKiBLZW5kbyAqLwogICAgLy8gRGF0YVNvdXJjZSBDaGFuZ2VzCiAgICBvbkNoYW5nZUNhc2hSZWNlaXB0RFM6IGZ1bmN0aW9uIG9uQ2hhbmdlQ2FzaFJlY2VpcHREUyhlKSB7CiAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgdmFyIGRhdGFSb3cgPSBlLml0ZW1zWzBdOwoKICAgICAgICBpZiAoZS5maWVsZCA9PT0gImFjY291bnQiKSB7CiAgICAgICAgICB0aGlzLmFkZEV4dHJhUm93Q2FzaFJlY2VpcHQoZGF0YVJvdy51aWQpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5kYXRhU291cmNlQXV0b0NhbGN1bGF0ZSgpOwogICAgICB9CiAgICB9LAogICAgb25DaGFuZ2VSZWxhdGVkRXhwZW5zZURTOiBmdW5jdGlvbiBvbkNoYW5nZVJlbGF0ZWRFeHBlbnNlRFMoZSkgewogICAgICBpZiAoZS5maWVsZCkgewogICAgICAgIHZhciBkYXRhUm93ID0gZS5pdGVtc1swXTsKCiAgICAgICAgaWYgKGUuZmllbGQgPT09ICJhY2NvdW50IikgewogICAgICAgICAgdGhpcy5hZGRFeHRyYVJvd1JlbGF0ZWRFeHBlbnNlKGRhdGFSb3cudWlkKTsKICAgICAgICB9IGVsc2UgaWYgKGUuZmllbGQgPT09ICJjbGFzczEiKSB7CiAgICAgICAgICBpZiAoZGF0YVJvdy5jbGFzczEgIT09IG51bGwpIHsKICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNsYXNzXzFfdXVpZCIsIGRhdGFSb3cuY2xhc3MxLmlkKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFNldCBkZWZhdWx0IHdoZW4gZGVzZWxlY3QKICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNsYXNzXzFfdXVpZCIsICIiKTsKICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNsYXNzMSIsIG5ldyBDbGFzc01vZGVsKCkpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZS5maWVsZCA9PT0gImNsYXNzMiIpIHsKICAgICAgICAgIGlmIChkYXRhUm93LmNsYXNzMiAhPT0gbnVsbCkgewogICAgICAgICAgICBkYXRhUm93LnNldCgiY2xhc3NfMl91dWlkIiwgZGF0YVJvdy5jbGFzczIuaWQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gU2V0IGRlZmF1bHQgd2hlbiBkZXNlbGVjdAogICAgICAgICAgICBkYXRhUm93LnNldCgiY2xhc3NfMl91dWlkIiwgIiIpOwogICAgICAgICAgICBkYXRhUm93LnNldCgiY2xhc3MyIiwgbmV3IENsYXNzTW9kZWwoKSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChlLmZpZWxkID09PSAiY2xhc3MzIikgewogICAgICAgICAgaWYgKGRhdGFSb3cuY2xhc3MzICE9PSBudWxsKSB7CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzc18zX3V1aWQiLCBkYXRhUm93LmNsYXNzMy5pZCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBTZXQgZGVmYXVsdCB3aGVuIGRlc2VsZWN0CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzc18zX3V1aWQiLCAiIik7CiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCJjbGFzczMiLCBuZXcgQ2xhc3NNb2RlbCgpKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGUuZmllbGQgPT09ICJjbGFzczQiKSB7CiAgICAgICAgICBpZiAoZGF0YVJvdy5jbGFzczQgIT09IG51bGwpIHsKICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNsYXNzXzRfdXVpZCIsIGRhdGFSb3cuY2xhc3M0LmlkKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFNldCBkZWZhdWx0IHdoZW4gZGVzZWxlY3QKICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNsYXNzXzRfdXVpZCIsICIiKTsKICAgICAgICAgICAgZGF0YVJvdy5zZXQoImNsYXNzNCIsIG5ldyBDbGFzc01vZGVsKCkpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZS5maWVsZCA9PT0gImNsYXNzNSIpIHsKICAgICAgICAgIGlmIChkYXRhUm93LmNsYXNzNSAhPT0gbnVsbCkgewogICAgICAgICAgICBkYXRhUm93LnNldCgiY2xhc3NfNV91dWlkIiwgZGF0YVJvdy5jbGFzczUuaWQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gU2V0IGRlZmF1bHQgd2hlbiBkZXNlbGVjdAogICAgICAgICAgICBkYXRhUm93LnNldCgiY2xhc3NfNV91dWlkIiwgIiIpOwogICAgICAgICAgICBkYXRhUm93LnNldCgiY2xhc3M1IiwgbmV3IENsYXNzTW9kZWwoKSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLmRhdGFTb3VyY2VBdXRvQ2FsY3VsYXRlKCk7CiAgICAgIH0KICAgIH0sCiAgICBvbkNoYW5nZVJldmVudWVEZWZmZXJlZEdyYW50RFM6IGZ1bmN0aW9uIG9uQ2hhbmdlUmV2ZW51ZURlZmZlcmVkR3JhbnREUyhlKSB7CiAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgdmFyIGRhdGFSb3cgPSBlLml0ZW1zWzBdOwoKICAgICAgICBpZiAoZS5maWVsZCA9PT0gImFjY291bnQiKSB7CiAgICAgICAgICB0aGlzLmFkZEV4dHJhUm93UmV2ZW51ZURlZmZlcmVkR3JhbnQoZGF0YVJvdy51aWQpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5kYXRhU291cmNlQXV0b0NhbGN1bGF0ZSgpOwogICAgICB9CiAgICB9LAogICAgLy8gQXV0byBDYWxjdWxhdGUgSW4gRGF0YVNvdXJjZQogICAgZGF0YVNvdXJjZUF1dG9DYWxjdWxhdGU6IGZ1bmN0aW9uIGRhdGFTb3VyY2VBdXRvQ2FsY3VsYXRlKCkgewogICAgICB2YXIgY2FzaFJlY2VpcHREUyA9IHRoaXMuJHJlZnMuY2FzaFJlY2VpcHREUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgcmVsYXRlZEV4cGVuc2VEUyA9IHRoaXMuJHJlZnMucmVsYXRlZEV4cGVuc2VEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgcmV2ZW51ZURlZmZlcmVkR3JhbnREUyA9IHRoaXMuJHJlZnMucmV2ZW51ZURlZmZlcmVkR3JhbnREUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgdG90YWxEciA9IDAsCiAgICAgICAgICB0b3RhbENyID0gMDsgLy8gU3VtCgogICAgICBjYXNoUmVjZWlwdERTLmRhdGEoKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHRvdGFsRHIgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQpOwogICAgICB9KTsKICAgICAgcmVsYXRlZEV4cGVuc2VEUy5kYXRhKCkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICB0b3RhbERyICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KTsKICAgICAgfSk7CiAgICAgIHJldmVudWVEZWZmZXJlZEdyYW50RFMuZGF0YSgpLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdG90YWxDciArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCk7CiAgICAgIH0pOwogICAgICB0aGlzLnRvdGFsRHIgPSB0b3RhbERyOwogICAgICB0aGlzLnRvdGFsQ3IgPSB0b3RhbENyOwogICAgfSwKICAgIC8vIFJvdyBOdW1iZXIgVGVtcGxhdGUKICAgIHJvd051bWJlckNhc2hSZWNlaXB0OiBmdW5jdGlvbiByb3dOdW1iZXJDYXNoUmVjZWlwdChkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmNhc2hSZWNlaXB0RFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgcm93TnVtYmVyUmVsYXRlZEV4cGVuc2U6IGZ1bmN0aW9uIHJvd051bWJlclJlbGF0ZWRFeHBlbnNlKGRhdGFJdGVtKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMucmVsYXRlZEV4cGVuc2VEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKICAgICAgcmV0dXJuIGluZGV4ICsgMTsKICAgIH0sCiAgICByb3dOdW1iZXJSZXZlbnVlRGVmZmVyZWRHcmFudDogZnVuY3Rpb24gcm93TnVtYmVyUmV2ZW51ZURlZmZlcmVkR3JhbnQoZGF0YUl0ZW0pIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5yZXZlbnVlRGVmZmVyZWRHcmFudERTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIC8vIEFkZCBOZXcgUm93CiAgICBhZGRSb3dDYXNoUmVjZWlwdDogZnVuY3Rpb24gYWRkUm93Q2FzaFJlY2VpcHQoKSB7CiAgICAgIHZhciBkcyA9IHRoaXMuJHJlZnMuY2FzaFJlY2VpcHREUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgbGFzdCA9IGRzLnRvdGFsKCksCiAgICAgICAgICBqZSA9IG5ldyBKb3VybmFsRW50cnlNb2RlbCgpOwogICAgICBkcy5pbnNlcnQobGFzdCwgamUpOwogICAgfSwKICAgIGFkZFJvd1JlbGF0ZWRFeHBlbnNlOiBmdW5jdGlvbiBhZGRSb3dSZWxhdGVkRXhwZW5zZSgpIHsKICAgICAgdmFyIGRzID0gdGhpcy4kcmVmcy5yZWxhdGVkRXhwZW5zZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBsYXN0ID0gZHMudG90YWwoKSwKICAgICAgICAgIGplID0gbmV3IEpvdXJuYWxFbnRyeU1vZGVsKCk7IC8vIENsYXNzZXMKCiAgICAgIGplLmNsYXNzMSA9IG5ldyBDbGFzc01vZGVsKCk7CiAgICAgIGplLmNsYXNzMiA9IG5ldyBDbGFzc01vZGVsKCk7CiAgICAgIGplLmNsYXNzMyA9IG5ldyBDbGFzc01vZGVsKCk7CiAgICAgIGplLmNsYXNzNCA9IG5ldyBDbGFzc01vZGVsKCk7CiAgICAgIGplLmNsYXNzNSA9IG5ldyBDbGFzc01vZGVsKCk7CiAgICAgIGRzLmluc2VydChsYXN0LCBqZSk7CiAgICB9LAogICAgYWRkUm93UmV2ZW51ZURlZmZlcmVkR3JhbnQ6IGZ1bmN0aW9uIGFkZFJvd1JldmVudWVEZWZmZXJlZEdyYW50KCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLnJldmVudWVEZWZmZXJlZEdyYW50RFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGxhc3QgPSBkcy50b3RhbCgpLAogICAgICAgICAgamUgPSBuZXcgSm91cm5hbEVudHJ5TW9kZWwoKTsKICAgICAgZHMuaW5zZXJ0KGxhc3QsIGplKTsKICAgIH0sCiAgICAvLyBBZGQgRXh0cmEgUm93CiAgICBhZGRFeHRyYVJvd0Nhc2hSZWNlaXB0OiBmdW5jdGlvbiBhZGRFeHRyYVJvd0Nhc2hSZWNlaXB0KHVpZCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmNhc2hSZWNlaXB0RFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHRvdGFsID0gZHMudG90YWwoKSwKICAgICAgICAgIHJvdyA9IGRzLmdldEJ5VWlkKHVpZCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2Yocm93KTsKCiAgICAgIGlmIChpbmRleCA9PSB0b3RhbCAtIDEpIHsKICAgICAgICB0aGlzLmFkZFJvd0Nhc2hSZWNlaXB0KCk7CiAgICAgIH0KICAgIH0sCiAgICBhZGRFeHRyYVJvd1JlbGF0ZWRFeHBlbnNlOiBmdW5jdGlvbiBhZGRFeHRyYVJvd1JlbGF0ZWRFeHBlbnNlKHVpZCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLnJlbGF0ZWRFeHBlbnNlRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHRvdGFsID0gZHMudG90YWwoKSwKICAgICAgICAgIHJvdyA9IGRzLmdldEJ5VWlkKHVpZCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2Yocm93KTsKCiAgICAgIGlmIChpbmRleCA9PSB0b3RhbCAtIDEpIHsKICAgICAgICB0aGlzLmFkZFJvd1JlbGF0ZWRFeHBlbnNlKCk7CiAgICAgIH0KICAgIH0sCiAgICBhZGRFeHRyYVJvd1JldmVudWVEZWZmZXJlZEdyYW50OiBmdW5jdGlvbiBhZGRFeHRyYVJvd1JldmVudWVEZWZmZXJlZEdyYW50KHVpZCkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLnJldmVudWVEZWZmZXJlZEdyYW50RFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIHRvdGFsID0gZHMudG90YWwoKSwKICAgICAgICAgIHJvdyA9IGRzLmdldEJ5VWlkKHVpZCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2Yocm93KTsKCiAgICAgIGlmIChpbmRleCA9PSB0b3RhbCAtIDEpIHsKICAgICAgICB0aGlzLmFkZFJvd1JldmVudWVEZWZmZXJlZEdyYW50KCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyBSZW1vdmUgUm93CiAgICByZW1vdmVSb3dDYXNoUmVjZWlwdDogZnVuY3Rpb24gcmVtb3ZlUm93Q2FzaFJlY2VpcHQoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBncmlkID0gdGhpcy4kcmVmcy5jYXNoUmVjZWlwdEdyaWQua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGRzID0gZ3JpZC5kYXRhU291cmNlLAogICAgICAgICAgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKGtlbmRvLmpRdWVyeShlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwoKICAgICAgaWYgKGRzLmRhdGEoKS5sZW5ndGggPiAyKSB7CiAgICAgICAgZHMucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZVJvd1JlbGF0ZWRFeHBlbnNlOiBmdW5jdGlvbiByZW1vdmVSb3dSZWxhdGVkRXhwZW5zZShlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGdyaWQgPSB0aGlzLiRyZWZzLnJlbGF0ZWRFeHBlbnNlR3JpZC5rZW5kb1dpZGdldCgpLAogICAgICAgICAgZHMgPSBncmlkLmRhdGFTb3VyY2UsCiAgICAgICAgICBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oa2VuZG8ualF1ZXJ5KGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CgogICAgICBpZiAoZHMudG90YWwoKSA+IDIpIHsKICAgICAgICBkcy5yZW1vdmUoZGF0YUl0ZW0pOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlUm93UmV2ZW51ZURlZmZlcmVkR3JhbnQ6IGZ1bmN0aW9uIHJlbW92ZVJvd1JldmVudWVEZWZmZXJlZEdyYW50KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgZ3JpZCA9IHRoaXMuJHJlZnMucmV2ZW51ZURlZmZlcmVkR3JhbnRHcmlkLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBkcyA9IGdyaWQuZGF0YVNvdXJjZSwKICAgICAgICAgIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbShrZW5kby5qUXVlcnkoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKCiAgICAgIGlmIChkcy50b3RhbCgpID4gMikgewogICAgICAgIGRzLnJlbW92ZShkYXRhSXRlbSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyBTaHJpbmsgRGF0YQogICAgc2hyaW5rRGF0YTogZnVuY3Rpb24gc2hyaW5rRGF0YSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICAvLyBKb3VybmFsIERhdGUKICAgICAgdGhpcy5qb3VybmFsLmpvdXJuYWxfZGF0ZSA9IEhlbHBlci50b0lTT0RhdGUodGhpcy5qb3VybmFsLmpvdXJuYWxfZGF0ZSk7CiAgICAgIC8qIEpvdXJuYWwgVHlwZSAqLwoKICAgICAgdGhpcy5qb3VybmFsLmpvdXJuYWxfdHlwZSA9IHRoaXMuZnVuZENhdGVnb3J5Lm5hbWU7CiAgICAgIC8qIFByb2plY3QgU2VnbWVudCBMb2NhdGlvbiAqLwoKICAgICAgdGhpcy5qb3VybmFsLnByb2plY3RfdXVpZCA9IHRoaXMucHJvamVjdC5pZDsKICAgICAgdGhpcy5qb3VybmFsLnNlZ21lbnRfdXVpZCA9IHRoaXMuc2VnbWVudC5pZDsKICAgICAgdGhpcy5qb3VybmFsLmxvY2F0aW9uX3V1aWQgPSB0aGlzLmxvY2F0aW9uLmlkOyAvLyBVc2VyCgogICAgICBpZiAodGhpcy5pc0VkaXQpIHsKICAgICAgICB0aGlzLmpvdXJuYWwubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5qb3VybmFsLmNyZWF0ZWRfYnkgPSB0aGlzLnVzZXI7CiAgICAgIH0KCiAgICAgIHZhciBlbnRyaWVzID0gW10sCiAgICAgICAgICBjYXNoUmVjZWlwdERTID0gdGhpcy4kcmVmcy5jYXNoUmVjZWlwdERTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICByZWxhdGVkRXhwZW5zZURTID0gdGhpcy4kcmVmcy5yZWxhdGVkRXhwZW5zZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICByZXZlbnVlRGVmZmVyZWRHcmFudERTID0gdGhpcy4kcmVmcy5yZXZlbnVlRGVmZmVyZWRHcmFudERTLmtlbmRvV2lkZ2V0KCk7IC8vIENhc2ggUmVjZWlwdCBBY2NvdW50cyBvbiBEcgoKICAgICAgY2FzaFJlY2VpcHREUy5kYXRhKCkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAvLyBGaWx0ZXIgc2VsZWN0ZWQgYWNjb3VudAogICAgICAgIGlmICh2YWx1ZS5hY2NvdW50Lm51bWJlciAhPT0gIiIgJiYgdmFsdWUuYW1vdW50ID4gMCkgewogICAgICAgICAgLy8gQWNjb3VudAogICAgICAgICAgdmFsdWUuc2V0KCJhY2NvdW50IiwgbmV3IEFjY291bnRNb2RlbCh2YWx1ZS5hY2NvdW50KSk7CiAgICAgICAgICB2YWx1ZS5zZXQoImFjY291bnRfdXVpZCIsIHZhbHVlLmFjY291bnQudXVpZCk7IC8vIENvbnRhY3QKCiAgICAgICAgICB2YWx1ZS5zZXQoInByaW1hcnlfY29udGFjdCIsIG5ldyBDb250YWN0TW9kZWwoX3RoaXM1LmRvbm9yKSk7IC8vIEN1cnJlbmN5CgogICAgICAgICAgdmFsdWUuc2V0KCJjdXJyZW5jeSIsIG5ldyBDdXJyZW5jeU1vZGVsKF90aGlzNS5jdXJyZW5jeSkpOwogICAgICAgICAgdmFsdWUuc2V0KCJleGNoYW5nZV9yYXRlX3V1aWQiLCBfdGhpczUuZXhjaGFuZ2VSYXRlLmlkKTsKICAgICAgICAgIHZhbHVlLnNldCgiZXhjaGFuZ2VfcmF0ZSIsIF90aGlzNS5leGNoYW5nZVJhdGUucmF0ZSk7CiAgICAgICAgICBlbnRyaWVzLnB1c2gobmV3IEpvdXJuYWxFbnRyeU1vZGVsKHZhbHVlKSk7CiAgICAgICAgfQogICAgICB9KTsgLy8gUmVsYXRlZCBFeHBlbnNlIEFjY291bnRzIG9uIERyCgogICAgICByZWxhdGVkRXhwZW5zZURTLmRhdGEoKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIC8vIEZpbHRlciBzZWxlY3RlZCBhY2NvdW50CiAgICAgICAgaWYgKHZhbHVlLmFjY291bnQubnVtYmVyICE9PSAiIiAmJiB2YWx1ZS5hbW91bnQgPiAwKSB7CiAgICAgICAgICAvLyBBY2NvdW50CiAgICAgICAgICB2YWx1ZS5zZXQoImFjY291bnQiLCBuZXcgQWNjb3VudE1vZGVsKHZhbHVlLmFjY291bnQpKTsKICAgICAgICAgIHZhbHVlLnNldCgiYWNjb3VudF91dWlkIiwgdmFsdWUuYWNjb3VudC51dWlkKTsgLy8gQ29udGFjdAoKICAgICAgICAgIHZhbHVlLnNldCgicHJpbWFyeV9jb250YWN0IiwgbmV3IENvbnRhY3RNb2RlbChfdGhpczUuZG9ub3IpKTsgLy8gQ3VycmVuY3kKCiAgICAgICAgICB2YWx1ZS5zZXQoImN1cnJlbmN5IiwgbmV3IEN1cnJlbmN5TW9kZWwoX3RoaXM1LmN1cnJlbmN5KSk7CiAgICAgICAgICB2YWx1ZS5zZXQoImV4Y2hhbmdlX3JhdGVfdXVpZCIsIF90aGlzNS5leGNoYW5nZVJhdGUuaWQpOwogICAgICAgICAgdmFsdWUuc2V0KCJleGNoYW5nZV9yYXRlIiwgX3RoaXM1LmV4Y2hhbmdlUmF0ZS5yYXRlKTsKICAgICAgICAgIGVudHJpZXMucHVzaChuZXcgSm91cm5hbEVudHJ5TW9kZWwodmFsdWUpKTsKICAgICAgICB9CiAgICAgIH0pOyAvLyBSZXZlbnVlIERlZmZlcmVkIEdyYW50IEFjY291bnQgb24gQ3IKCiAgICAgIHJldmVudWVEZWZmZXJlZEdyYW50RFMuZGF0YSgpLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgLy8gRmlsdGVyIHNlbGVjdGVkIGFjY291bnQKICAgICAgICBpZiAodmFsdWUuYWNjb3VudC5udW1iZXIgIT09ICIiICYmIHZhbHVlLmFtb3VudCA+IDApIHsKICAgICAgICAgIC8vIEFjY291bnQKICAgICAgICAgIHZhbHVlLnNldCgiYWNjb3VudCIsIG5ldyBBY2NvdW50TW9kZWwodmFsdWUuYWNjb3VudCkpOwogICAgICAgICAgdmFsdWUuc2V0KCJhY2NvdW50X3V1aWQiLCB2YWx1ZS5hY2NvdW50LnV1aWQpOyAvLyBDb250YWN0CgogICAgICAgICAgdmFsdWUuc2V0KCJwcmltYXJ5X2NvbnRhY3QiLCBuZXcgQ29udGFjdE1vZGVsKF90aGlzNS5kb25vcikpOyAvLyBDdXJyZW5jeQoKICAgICAgICAgIHZhbHVlLnNldCgiY3VycmVuY3kiLCBuZXcgQ3VycmVuY3lNb2RlbChfdGhpczUuY3VycmVuY3kpKTsKICAgICAgICAgIHZhbHVlLnNldCgiYW1vdW50IiwgdmFsdWUuYW1vdW50ICogLTEpOyAvLyBDcmVkaXQgc2lkZSBpcyBuZWdhdGl2ZQoKICAgICAgICAgIHZhbHVlLnNldCgiZXhjaGFuZ2VfcmF0ZV91dWlkIiwgX3RoaXM1LmV4Y2hhbmdlUmF0ZS5pZCk7CiAgICAgICAgICB2YWx1ZS5zZXQoImV4Y2hhbmdlX3JhdGUiLCBfdGhpczUuZXhjaGFuZ2VSYXRlLnJhdGUpOwogICAgICAgICAgZW50cmllcy5wdXNoKG5ldyBKb3VybmFsRW50cnlNb2RlbCh2YWx1ZSkpOwogICAgICAgIH0KICAgICAgfSk7IC8vIEpvdXJuYWwgRW50cmllcwoKICAgICAgdGhpcy5qb3VybmFsLmpvdXJuYWxfZW50cmllcyA9IGVudHJpZXM7CiAgICB9LAogICAgLy8gVmFsaWRhdGluZwogICAgdmFsaWRhdGVGb3JtOiBmdW5jdGlvbiB2YWxpZGF0ZUZvcm0oKSB7CiAgICAgIHZhciByZXN1bHQgPSB0cnVlLAogICAgICAgICAgbXNnID0gIiIsCiAgICAgICAgICBjYXNoUmVjZWlwdERTID0gdGhpcy4kcmVmcy5jYXNoUmVjZWlwdERTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICByZWxhdGVkRXhwZW5zZURTID0gdGhpcy4kcmVmcy5yZWxhdGVkRXhwZW5zZURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICByZXZlbnVlRGVmZmVyZWRHcmFudERTID0gdGhpcy4kcmVmcy5yZXZlbnVlRGVmZmVyZWRHcmFudERTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBjb3VudEVtcHR5Q2FzaFJlY2VpcHQgPSAwLAogICAgICAgICAgY291bnRFbXB0eVJldmVudWVEZWZmZXJlZEdyYW50ID0gMDsgLy8gRG9ub3IKCiAgICAgIGlmICh0aGlzLmRvbm9yLmlkID09PSAiIikgewogICAgICAgIG1zZyArPSAiPHA+Ii5jb25jYXQoaTE4bi50KCJkb25vcl9pc19yZXF1aXJlZCIpLCAiPC9wPiIpOwogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICB9IC8vIFByb2plY3QKCgogICAgICBpZiAodGhpcy5wcm9qZWN0LmlkID09PSAiIikgewogICAgICAgIG1zZyArPSAiPHA+Ii5jb25jYXQoaTE4bi50KCJwcm9qZWN0X2lzX3JlcXVpcmVkIiksICI8L3A+Iik7CiAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgIH0gLy8gU2VnbWVudAoKCiAgICAgIGlmICh0aGlzLnNlZ21lbnQuaWQgPT09ICIiKSB7CiAgICAgICAgbXNnICs9ICI8cD4iLmNvbmNhdChpMThuLnQoInNlZ21lbnRfaXNfcmVxdWlyZWQiKSwgIjwvcD4iKTsKICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgfSAvLyBMb2NhdGlvbgoKCiAgICAgIGlmICh0aGlzLmxvY2F0aW9uLmlkID09PSAiIikgewogICAgICAgIG1zZyArPSAiPHA+Ii5jb25jYXQoaTE4bi50KCJsb2NhdGlvbl9pc19yZXF1aXJlZCIpLCAiPC9wPiIpOwogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICB9IC8vIENhc2ggUmVjZWlwdAoKCiAgICAgIGNhc2hSZWNlaXB0RFMuZGF0YSgpLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgewogICAgICAgIC8vIE5vIGFjY291bnQKICAgICAgICBpZiAodmFsdWUuYWNjb3VudC5uYW1lID09PSAiIiAmJiB2YWx1ZS5hbW91bnQgPiAwKSB7CiAgICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgICAgIG1zZyArPSAiPHA+Ii5jb25jYXQoaTE4bi50KCJwbGVhc2Vfc2VsZWN0X2Nhc2hfcmVjZWlwdF9hY2NvdW50X2F0X3Jvd19udW1iZXIiKSwgIiAiKS5jb25jYXQoaW5kZXggKyAxLCAiPC9wPiIpOwogICAgICAgIH0gLy8gTm8gYW1vdW50CgoKICAgICAgICBpZiAodmFsdWUuYWNjb3VudC5uYW1lICE9PSAiIiAmJiB2YWx1ZS5hbW91bnQgPT09IDApIHsKICAgICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICAgICAgbXNnICs9ICI8cD4iLmNvbmNhdCh2YWx1ZS5hY2NvdW50Lm5hbWUsICIgIikuY29uY2F0KGkxOG4udCgiaGFzX25vX2Ftb3VudCIpLCAiPC9wPiIpOwogICAgICAgIH0gLy8gQ291bnQgRnJvbSBBY2NvdW50cwoKCiAgICAgICAgaWYgKHZhbHVlLmFjY291bnQubmFtZSAhPT0gIiIgJiYgdmFsdWUuYW1vdW50ID4gMCkgewogICAgICAgICAgY291bnRFbXB0eUNhc2hSZWNlaXB0Kys7CiAgICAgICAgfQogICAgICB9KTsgLy8gRW1wdHkgUm93IEZyb20gQWNjb3VudHMKCiAgICAgIGlmIChjb3VudEVtcHR5Q2FzaFJlY2VpcHQgPT09IDApIHsKICAgICAgICBtc2cgKz0gIjxwPiIuY29uY2F0KGkxOG4udCgicGxlYXNlX3NlbGVjdF9jYXNoX3JlY2VpcHRfYWNjb3VudCIpLCAiPC9wPiIpOwogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICB9IC8vIFJlbGF0ZWQgRXhwZW5zZQoKCiAgICAgIHJlbGF0ZWRFeHBlbnNlRFMuZGF0YSgpLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgewogICAgICAgIC8vIE5vIGFjY291bnQKICAgICAgICBpZiAodmFsdWUuYWNjb3VudC5uYW1lID09PSAiIiAmJiB2YWx1ZS5hbW91bnQgPiAwKSB7CiAgICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgICAgIG1zZyArPSAiPHA+Ii5jb25jYXQoaTE4bi50KCJwbGVhc2Vfc2VsZWN0X3JlbGF0ZWRfZXhwZW5zZV9hY2NvdW50X2F0X3Jvd19udW1iZXIiKSwgIiAiKS5jb25jYXQoaW5kZXggKyAxLCAiPC9wPiIpOwogICAgICAgIH0gLy8gTm8gYW1vdW50CgoKICAgICAgICBpZiAodmFsdWUuYWNjb3VudC5uYW1lICE9PSAiIiAmJiB2YWx1ZS5hbW91bnQgPT09IDApIHsKICAgICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICAgICAgbXNnICs9ICI8cD4iLmNvbmNhdCh2YWx1ZS5hY2NvdW50Lm5hbWUsICIgIikuY29uY2F0KGkxOG4udCgiaGFzX25vX2Ftb3VudCIpLCAiPC9wPiIpOwogICAgICAgIH0KICAgICAgfSk7IC8vIFJlbGF0ZWQgRXhwZW5zZQoKICAgICAgcmV2ZW51ZURlZmZlcmVkR3JhbnREUy5kYXRhKCkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgLy8gTm8gYWNjb3VudAogICAgICAgIGlmICh2YWx1ZS5hY2NvdW50Lm5hbWUgPT09ICIiICYmIHZhbHVlLmFtb3VudCA+IDApIHsKICAgICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICAgICAgbXNnICs9ICI8cD4iLmNvbmNhdChpMThuLnQoInBsZWFzZV9zZWxlY3RfcmV2ZW51ZV9kZWZmZXJlZF9ncmFudF9hY2NvdW50X2F0X3Jvd19udW1iZXIiKSwgIiAiKS5jb25jYXQoaW5kZXggKyAxLCAiPC9wPiIpOwogICAgICAgIH0gLy8gTm8gYW1vdW50CgoKICAgICAgICBpZiAodmFsdWUuYWNjb3VudC5uYW1lICE9PSAiIiAmJiB2YWx1ZS5hbW91bnQgPT09IDApIHsKICAgICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICAgICAgbXNnICs9ICI8cD4iLmNvbmNhdCh2YWx1ZS5hY2NvdW50Lm5hbWUsICIgIikuY29uY2F0KGkxOG4udCgiaGFzX25vX2Ftb3VudCIpLCAiPC9wPiIpOwogICAgICAgIH0gLy8gQ291bnQgVG8gQWNjb3VudHMKCgogICAgICAgIGlmICh2YWx1ZS5hY2NvdW50Lm5hbWUgIT09ICIiICYmIHZhbHVlLmFtb3VudCA+IDApIHsKICAgICAgICAgIGNvdW50RW1wdHlSZXZlbnVlRGVmZmVyZWRHcmFudCsrOwogICAgICAgIH0KICAgICAgfSk7IC8vIEVtcHR5IFJvdyBUbwoKICAgICAgaWYgKGNvdW50RW1wdHlSZXZlbnVlRGVmZmVyZWRHcmFudCA9PT0gMCkgewogICAgICAgIG1zZyArPSAiPHA+Ii5jb25jYXQoaTE4bi50KCJwbGVhc2Vfc2VsZWN0X3JldmVudWVfZGVmZmVyZWRfZ3JhbnRfYWNjb3VudCIpLCAiPC9wPiIpOwogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICB9IC8vIEFsbCB0b3RhbHMKCgogICAgICBpZiAoa2VuZG8ucGFyc2VGbG9hdCh0aGlzLnRvdGFsRHIpICE9PSBrZW5kby5wYXJzZUZsb2F0KHRoaXMudG90YWxDcikpIHsKICAgICAgICBtc2cgKz0gIjxwPiIuY29uY2F0KGkxOG4udCgidG90YWxfZHJfYW5kX3RvdGFsX2NyX2FyZV9ub3RfYmFsYW5jZSIpLCAiPC9wPiIpOwogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICB9IC8vIFNob3cgQWxlcnQKCgogICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IG1zZzsKICAgICAgdGhpcy5hbGVydCA9IGZhbHNlOwoKICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHsKICAgICAgICB0aGlzLmFsZXJ0ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICAvLyBBbGwgU2F2ZXMKICAgIG9uU2F2ZU9wdGlvbkNsaWNrOiBmdW5jdGlvbiBvblNhdmVPcHRpb25DbGljayhtb2RlKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIGlzVmFsaWRDbG9zaW5nRGF0ZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXM2LiRyZWZzLmZvcm0udmFsaWRhdGUoKSAmJiBfdGhpczYudmFsaWRhdGVGb3JtKCkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIEhlbHBlci52YWxpZGF0ZUNsb3NpbmdEYXRlKF90aGlzNi5qb3VybmFsLmpvdXJuYWxfZGF0ZSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGlzVmFsaWRDbG9zaW5nRGF0ZSA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkQ2xvc2luZ0RhdGUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnNhdmVNb2RlID0gbW9kZTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNi5zYXZlKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHRoaXMuJHN3YWwoewogICAgICAgIHRpdGxlOiBpMThuLnQoIm1zZ190aXRsZV93YXJuaW5nIiksCiAgICAgICAgdGV4dDogaTE4bi50KCJtc2dfZGlzY2FyZCIpLAogICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IGkxOG4udCgiY2FuY2VsIiksCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjRUQxQTNBIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogaTE4bi50KCJkaXNjYXJkIikKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgX3RoaXM3LmNsZWFyKCk7CgogICAgICAgICAgX3RoaXM3LnNldERlZmF1bHREYXRhKCk7CgogICAgICAgICAgX3RoaXM3LiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICB0aGlzLmlzRWRpdCA9IGZhbHNlOwogICAgICB0aGlzLnNhdmVNb2RlID0gIiI7CiAgICAgIHRoaXMuY3VycmVuY3kgPSBuZXcgQ3VycmVuY3lNb2RlbChpbnN0aXR1dGUuYmFzZUN1cnJlbmN5KTsKICAgICAgdGhpcy5leGNoYW5nZVJhdGUgPSBuZXcgRXhjaGFuZ2VSYXRlTW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSk7CiAgICAgIHRoaXMuZG9ub3IgPSBuZXcgQ29udGFjdE1vZGVsKCk7CiAgICAgIHRoaXMuc2VnbWVudCA9IG5ldyBTZWdtZW50TW9kZWwoKTsKICAgICAgdGhpcy5wcm9qZWN0ID0gbmV3IFByb2plY3RNb2RlbCgpOwogICAgICB0aGlzLmxvY2F0aW9uID0gbmV3IExvY2F0aW9uTW9kZWwoKTsKICAgICAgdmFyIGNhc2hSZWNlaXB0RFMgPSB0aGlzLiRyZWZzLmNhc2hSZWNlaXB0RFMua2VuZG9XaWRnZXQoKTsKICAgICAgY2FzaFJlY2VpcHREUy5kYXRhKFtdKTsKICAgICAgdmFyIHJlbGF0ZWRFeHBlbnNlRFMgPSB0aGlzLiRyZWZzLnJlbGF0ZWRFeHBlbnNlRFMua2VuZG9XaWRnZXQoKTsKICAgICAgcmVsYXRlZEV4cGVuc2VEUy5kYXRhKFtdKTsKICAgICAgdmFyIHJldmVudWVEZWZmZXJlZEdyYW50RFMgPSB0aGlzLiRyZWZzLnJldmVudWVEZWZmZXJlZEdyYW50RFMua2VuZG9XaWRnZXQoKTsKICAgICAgcmV2ZW51ZURlZmZlcmVkR3JhbnREUy5kYXRhKFtdKTsKICAgIH0sCiAgICBjb25maXJtRGVsZXRlOiBmdW5jdGlvbiBjb25maXJtRGVsZXRlKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHRoaXMuJHN3YWwoewogICAgICAgIHRpdGxlOiBpMThuLnQoImFyZV95b3Vfc3VyZV95b3Vfd2FudF90b19kZWxldGVfaXQiKSwKICAgICAgICB0ZXh0OiBpMThuLnQoInlvdV93b250X2JlX2FibGVfdG9fcmV2ZXJ0X3RoaXMiKSwKICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzIgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICBfdGhpczguc2F2ZU1vZGUgPSBTYXZlT3B0aW9uLkRFTEVURTsKICAgICAgICAgIC8qIE1hcmsgYXMgZGVsZXRlZCAqLwoKICAgICAgICAgIF90aGlzOC5qb3VybmFsLmlzX2RlbGV0ZWQgPSAxOwogICAgICAgICAgLyogVXBkYXRlIEpvdXJuYWwgU3RhdHVzICovCgogICAgICAgICAgX3RoaXM4LnNhdmUoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsgLy8gRHJhZnQgTW9kZQoKICAgICAgaWYgKHRoaXMuc2F2ZU1vZGUgPT09IFNhdmVPcHRpb24uU0FWRURSQUZUKSB7CiAgICAgICAgdGhpcy5qb3VybmFsLmlzX2RyYWZ0ID0gMTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmpvdXJuYWwuaXNfZHJhZnQgPSAwOwogICAgICB9IC8vIFNocmluayBEYXRhCgoKICAgICAgdGhpcy5zaHJpbmtEYXRhKCk7IC8vIFN5bmMgRGF0YQoKICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgIGpvdXJuYWxIYW5kbGVyLnNhdmUobmV3IEpvdXJuYWxNb2RlbCh0aGlzLmpvdXJuYWwpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZSkgewogICAgICAgICAgc2VsZi5yZXNwb25zZVN0YXR1cyhyZXNwb25zZSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBzZWxmLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgSGVscGVyLmFsZXJ0RXJyb3JNc2coZXJyb3IpOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBzZWxmLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIFJlc3BvbnNlIFN0YXR1cwogICAgcmVzcG9uc2VTdGF0dXM6IGZ1bmN0aW9uIHJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlKSB7CiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgIGlmICh0aGlzLnNhdmVNb2RlID09PSBTYXZlT3B0aW9uLlNBVkVDTE9TRSB8fCB0aGlzLnNhdmVNb2RlID09PSBTYXZlT3B0aW9uLkRFTEVURSkgewogICAgICAgICAgLyogU2F2ZSBDbG9zZSBvciBEZWxldGUgKi8KICAgICAgICAgIGlmICh0aGlzLmlzRWRpdCkgewogICAgICAgICAgICB0aGlzLmdvQmFja1RvVmlld1BhZ2UoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5jbGVhcigpOwogICAgICAgICAgdGhpcy5zZXREZWZhdWx0RGF0YSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvKiBTYXZlIE5ldyAqLwogICAgICAgICAgdGhpcy5jbGVhcigpOwogICAgICAgICAgdGhpcy5zZXREZWZhdWx0RGF0YSgpOwogICAgICAgIH0KICAgICAgICAvKiBBbGVydCBTdWNjZXNzICovCgoKICAgICAgICB0aGlzLiRzbm90aWZ5LnN1Y2Nlc3MoaTE4bi50KCJzdWNjZXNzZnVsIikpOwogICAgICB9IGVsc2UgewogICAgICAgIC8qIEFsZXJ0IEVycm9yICovCiAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcihpMThuLnQoImVycm9yX3NvbWV0aGluZ193cm9uZyIpKTsKICAgICAgfQogICAgfSwKICAgIC8vIEdvIGJhY2sgdG8gdmlldyBwYWdlIGFmdGVyIGVkaXQgbW9kZQogICAgZ2V0Sm91cm5hbDogZnVuY3Rpb24gZ2V0Sm91cm5hbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuam91cm5hbDsKICAgIH0sCiAgICBnb0JhY2tUb1ZpZXdQYWdlOiBmdW5jdGlvbiBnb0JhY2tUb1ZpZXdQYWdlKCkgewogICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgbmFtZTogIkZ1bmQgUmVjZWlwdCBWaWV3IiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGluaXRKb3VybmFsOiB0aGlzLmdldEpvdXJuYWwoKQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaW5pdEpvdXJuYWw6IGZ1bmN0aW9uIGluaXRKb3VybmFsKCkgewogICAgICB0aGlzLmluaXRpYWxEYXRhKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8vIEluaXRpYWwgRGF0YQogICAgdGhpcy5pbml0aWFsRGF0YSgpOwogIH0KfTs="},{"version":3,"sources":["FundReceipt.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <v-row>\n        <v-col cols=\"12\" sm=\"12\">\n          <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n            <v-card\n              outlined\n              dense\n              class=\"pa-4 no_border rounded-sm\"\n              color=\"white\"\n            >\n              <v-row>\n                <v-col\n                  class=\"bigSide pr-2 py-0\"\n                  sm=\"8\"\n                  cols=\"12\"\n                  style=\"transition: 0.3s ease-in\"\n                  :class=\"{ hide_big_bar_class: isHideBar }\"\n                >\n                  <v-card outlined dense class=\"no_border\">\n                    <h2 class=\"mb-0\">{{ $t(\"fund_receipt\") }}</h2>\n                    <v-icon\n                      v-if=\"isHideBar\"\n                      onclick=\"window.history.go(-1); return false;\"\n                      style=\"cursor: pointer; color: #333; font-size: 40px\"\n                      class=\"float-right\"\n                      >close\n                    </v-icon>\n                    <span\n                      style=\"transition: 0.3s ease-in; z-index: 10\"\n                      :class=\"{\n                        iconArrow: !isHideBar,\n                        iconArrowHide: isHideBar,\n                      }\"\n                    >\n                      <v-icon\n                        size=\"22\"\n                        class=\"arr_icon\"\n                        @click=\"HideSmallSideBar\"\n                        v-if=\"isHideBar\"\n                        >mdi-chevron-left-circle\n                      </v-icon>\n                      <v-icon\n                        size=\"22\"\n                        class=\"arr_icon\"\n                        @click=\"HideSmallSideBar\"\n                        v-if=\"!isHideBar\"\n                        >mdi-chevron-right-circle\n                      </v-icon>\n                    </span>\n                  </v-card>\n                  <v-card outlined dense class=\"px-3 no_border\" color=\"grayBg\">\n                    <v-row class=\"\">\n                      <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                        <label class=\"label\">{{ $t(\"donor\") }}</label>\n                        <app-donor-dropdownlist\n                          :initDonor=\"donor\"\n                          @emitDonor=\"donor = $event\"\n                          @onChanged=\"getExchangeRate\"\n                        />\n\n                        <label class=\"label\">{{ $t(\"date\") }}</label>\n                        <app-datepicker\n                          :initialDate=\"journal.journal_date\"\n                          @emitDate=\"journal.journal_date = $event\"\n                          @onChanged=\"onDateChanges\"\n                        />\n                        <label class=\"label\">{{ $t(\"number\") }}</label>\n                        <v-row>\n                          <v-col sm=\"10\" cols=\"10\" class=\"pb-0 pr-0 pt-1\">\n                            <v-text-field\n                              v-model=\"journal.number\"\n                              outlined\n                              :rules=\"[(v) => !!v || 'Number is required']\"\n                              readonly\n                              required\n                            />\n                          </v-col>\n                          <v-col sm=\"2\" cols=\"2\" class=\"pb-0 pl-1 pt-1\">\n                            <v-icon\n                              color=\"black\"\n                              size=\"30\"\n                              class=\"border_qrcode\"\n                              @click=\"generateNumber\"\n                              >mdi-qrcode</v-icon\n                            >\n                          </v-col>\n                        </v-row>\n                        <label class=\"label\">{{ $t(\"currency\") }}</label>\n                        <app-currency-dropdownlist\n                          :initCurrency=\"currency\"\n                          @emitCurrency=\"currency = $event\"\n                          @onChanged=\"getExchangeRate\"\n                        />\n                      </v-col>\n\n                      <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                        <label class=\"label\">{{ $t(\"fund_categories\") }}</label>\n                        <app-fund-category-dropdownlist\n                          :initFundCategory=\"fundCategory\"\n                          @emitFundCategory=\"fundCategory = $event\"\n                        />\n\n                        <label class=\"label\">{{ $t(\"contract\") }}</label>\n                        <v-text-field outlined class=\"mt-1\" />\n\n                        <label class=\"label\">{{ $t(\"description\") }}</label>\n                        <v-textarea\n                          class=\"mt-1\"\n                          height=\"120px\"\n                          no-resize\n                          v-model=\"journal.description\"\n                          outlined\n                          rows=\"4\"\n                          :placeholder=\"$t('transaction_purpose')\"\n                        />\n                      </v-col>\n                    </v-row>\n                  </v-card>\n\n                  <v-card outlined dense class=\"no_border\" color=\"white\">\n                    <!-- Grid 1 -->\n                    <v-row\n                      style=\"\n                        background-color: rgb(255, 255, 255);\n                        width: 100%;\n                        margin: 0 auto 0px;\n                      \"\n                    >\n                      <v-col sm=\"12\" cols=\"12\" class=\"pb-3 pa-0\">\n                        <h2 class=\"mb-0 font_18\">{{ $t(\"cash_receipt\") }}</h2>\n                        <kendo-datasource\n                          ref=\"cashReceiptDS\"\n                          :data=\"cashReceiptEntries\"\n                          :change=\"onChangeCashReceiptDS\"\n                        />\n\n                        <kendo-grid\n                          id=\"cashReceiptGrid\"\n                          ref=\"cashReceiptGrid\"\n                          class=\"grid-function\"\n                          :data-source-ref=\"'cashReceiptDS'\"\n                          :sortable=\"false\"\n                          :filterable=\"false\"\n                          :column-menu=\"true\"\n                          :editable=\"true\"\n                          :scrollable-virtual=\"true\"\n                        >\n                          <kendo-grid-column\n                            :title=\"$t('no.')\"\n                            :template=\"rowNumberCashReceipt\"\n                            :width=\"45\"\n                            :column-menu=\"false\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5;',\n                              class: 'text-products',\n                            }\"\n                            :attributes=\"{\n                              style: 'text-align: products',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'account'\"\n                            :title=\"$t('account')\"\n                            :width=\"200\"\n                            :template=\"'<span>#=account.name#</span>'\"\n                            :editor=\"CashReceiptAccountEditor\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"''\"\n                            :hidden=\"\n                              !this.$store.state.accounting.secondaryAccount\n                            \"\n                            :title=\"$t('s_account')\"\n                            :width=\"200\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'description'\"\n                            :title=\"$t('description')\"\n                            :width=\"200\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'ref_number'\"\n                            :title=\"$t('reference_no')\"\n                            :width=\"160\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'amount'\"\n                            :title=\"$t('amount')\"\n                            :format=\"'{0:n}'\"\n                            :width=\"150\"\n                            :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                            :attributes=\"{ style: 'text-align: right; ' }\"\n                          />\n                          <kendo-grid-column\n                            :command=\"{\n                              iconClass: 'k-icon k-i-trash',\n                              text: 'Delete',\n                              click: removeRowCashReceipt,\n                              class: 'btn-plus',\n                            }\"\n                            :title=\"'&nbsp;'\"\n                            :width=\"100\"\n                            :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                          />\n                        </kendo-grid>\n                        <v-row style=\"background-color: #fff\">\n                          <v-col sm=\"1\" cols=\"12\" class=\"pb-0\">\n                            <v-btn\n                              class=\"float-left ml-0 rounded-0 btn_plus\"\n                              @click=\"addRowCashReceipt\"\n                            >\n                              <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                            </v-btn>\n                          </v-col>\n                        </v-row>\n                      </v-col>\n                    </v-row>\n                    <!-- Grid 2 -->\n                    <v-row>\n                      <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                        <h2 class=\"mb-0 font_18\">\n                          {{ $t(\"related_expense\") }}\n                        </h2>\n                        <kendo-datasource\n                          ref=\"relatedExpenseDS\"\n                          :data=\"relatedExpenseEntries\"\n                          :change=\"onChangeRelatedExpenseDS\"\n                        />\n\n                        <kendo-grid\n                          id=\"relatedExpenseGrid\"\n                          ref=\"relatedExpenseGrid\"\n                          class=\"grid-function\"\n                          :data-source-ref=\"'relatedExpenseDS'\"\n                          :sortable=\"false\"\n                          :filterable=\"false\"\n                          :column-menu=\"true\"\n                          :editable=\"true\"\n                          :scrollable-virtual=\"true\"\n                        >\n                          <kendo-grid-column\n                            :title=\"$t('no.')\"\n                            :template=\"rowNumberRelatedExpense\"\n                            :width=\"45\"\n                            :column-menu=\"false\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5;',\n                              class: 'text-products',\n                            }\"\n                            :attributes=\"{\n                              style: 'text-align: products',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'account'\"\n                            :title=\"$t('account')\"\n                            :width=\"200\"\n                            :template=\"'<span>#=account.name#</span>'\"\n                            :editor=\"RelatedExpenseAccountEditor\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"''\"\n                            :hidden=\"\n                              !this.$store.state.accounting.secondaryAccount\n                            \"\n                            :title=\"$t('s_account')\"\n                            :width=\"200\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'description'\"\n                            :title=\"$t('description')\"\n                            :width=\"200\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'ref_number'\"\n                            :title=\"$t('reference_no')\"\n                            :width=\"160\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'amount'\"\n                            :title=\"$t('amount')\"\n                            :format=\"'{0:n}'\"\n                            :width=\"150\"\n                            :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                            :attributes=\"{ style: 'text-align: right; ' }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'class1'\"\n                            :title=\"$t('class_1')\"\n                            :template=\"'<span>#=class1.name#</span>'\"\n                            :width=\"200\"\n                            :editor=\"ClassEditor.class1\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'class2'\"\n                            :title=\"$t('class_2')\"\n                            :template=\"'<span>#=class2.name#</span>'\"\n                            :width=\"200\"\n                            :hidden=\"true\"\n                            :editor=\"ClassEditor.class2\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'class3'\"\n                            :title=\"$t('class_3')\"\n                            :template=\"'<span>#=class3.name#</span>'\"\n                            :hidden=\"true\"\n                            :width=\"200\"\n                            :editor=\"ClassEditor.class3\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'class4'\"\n                            :title=\"$t('class_4')\"\n                            :template=\"'<span>#=class4.name#</span>'\"\n                            :hidden=\"true\"\n                            :width=\"200\"\n                            :editor=\"ClassEditor.class4\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'class5'\"\n                            :title=\"$t('class_5')\"\n                            :template=\"'<span>#=class5.name#</span>'\"\n                            :hidden=\"true\"\n                            :width=\"200\"\n                            :editor=\"ClassEditor.class5\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :command=\"{\n                              iconClass: 'k-icon k-i-trash',\n                              text: 'Delete',\n                              click: removeRowRelatedExpense,\n                              class: 'btn-plus',\n                            }\"\n                            :title=\"'&nbsp;'\"\n                            :width=\"100\"\n                            :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                          />\n                        </kendo-grid>\n                        <v-row style=\"background-color: #fff\">\n                          <v-col sm=\"1\" cols=\"12\" class=\"pb-0\">\n                            <v-btn\n                              class=\"float-left ml-0 rounded-0 btn_plus\"\n                              @click=\"addRowRelatedExpense\"\n                            >\n                              <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                            </v-btn>\n                          </v-col>\n                        </v-row>\n                      </v-col>\n                    </v-row>\n                    <!-- Grid 3 -->\n                    <v-row>\n                      <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                        <h2 class=\"mb-0 font_18\">\n                          {{ $t(\"revenue_deferred_grant\") }}\n                        </h2>\n                        <kendo-datasource\n                          ref=\"revenueDefferedGrantDS\"\n                          :data=\"revenueDefferedGrantEntries\"\n                          :change=\"onChangeRevenueDefferedGrantDS\"\n                        />\n\n                        <kendo-grid\n                          id=\"revenueDefferedGrantGrid\"\n                          ref=\"revenueDefferedGrantGrid\"\n                          class=\"grid-function\"\n                          :data-source-ref=\"'revenueDefferedGrantDS'\"\n                          :sortable=\"false\"\n                          :filterable=\"false\"\n                          :column-menu=\"true\"\n                          :editable=\"true\"\n                          :scrollable-virtual=\"true\"\n                        >\n                          <kendo-grid-column\n                            :title=\"$t('no.')\"\n                            :template=\"rowNumberRevenueDefferedGrant\"\n                            :width=\"45\"\n                            :column-menu=\"false\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5;',\n                              class: 'text-products',\n                            }\"\n                            :attributes=\"{\n                              style: 'text-align: products',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'account'\"\n                            :title=\"$t('account')\"\n                            :width=\"200\"\n                            :template=\"'<span>#=account.name#</span>'\"\n                            :editor=\"RevenueDefferedGrantAccountEditor\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"''\"\n                            :hidden=\"\n                              !this.$store.state.accounting.secondaryAccount\n                            \"\n                            :title=\"$t('s_account')\"\n                            :width=\"200\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'description'\"\n                            :title=\"$t('description')\"\n                            :width=\"200\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'ref_number'\"\n                            :title=\"$t('reference_no')\"\n                            :width=\"160\"\n                            :headerAttributes=\"{\n                              style: 'background-color: #EDF1F5',\n                            }\"\n                          />\n                          <kendo-grid-column\n                            :field=\"'amount'\"\n                            :title=\"$t('amount')\"\n                            :format=\"'{0:n}'\"\n                            :width=\"150\"\n                            :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                            :attributes=\"{ style: 'text-align: right; ' }\"\n                          />\n                          <kendo-grid-column\n                            :command=\"{\n                              iconClass: 'k-icon k-i-trash',\n                              text: 'Delete',\n                              click: removeRowRevenueDefferedGrant,\n                              class: 'btn-plus',\n                            }\"\n                            :title=\"'&nbsp;'\"\n                            :width=\"100\"\n                            :headerAttributes=\"{\n                              style:\n                                'text-align: right; background-color: #EDF1F5',\n                            }\"\n                          />\n                        </kendo-grid>\n                        <v-row style=\"background-color: #fff\">\n                          <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                            <v-btn\n                              class=\"float-left ml-0 rounded-0 btn_plus\"\n                              @click=\"addRowRevenueDefferedGrant\"\n                            >\n                              <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                            </v-btn>\n                          </v-col>\n                          <v-col sm=\"4\" cols=\"12\" class=\"pb-0 pt-5\">\n                            <p>\n                              <span class=\"float-left\">{{\n                                $t(\"cash_receipt_and_related_expense\")\n                              }}</span>\n                              <span class=\"float-right text-bold\">{{\n                                Number(totalDr).toLocaleString()\n                              }}</span>\n                            </p>\n                          </v-col>\n                          <v-col sm=\"4\" cols=\"12\" class=\"pb-0 pt-5\">\n                            <p>\n                              <span class=\"float-left\">{{\n                                $t(\"revenue_deffered_grant\")\n                              }}</span>\n                              <span class=\"float-right text-bold\">{{\n                                Number(totalCr).toLocaleString()\n                              }}</span>\n                            </p>\n                          </v-col>\n                        </v-row>\n                      </v-col>\n                    </v-row>\n\n                    <v-divider />\n\n                    <v-card outlined dense class=\"no_border function_footer\">\n                      <!-- Warning Message -->\n                      <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                        <span v-html=\"errorMessage\" />\n                      </v-alert>\n\n                      <v-menu>\n                        <template v-slot:activator=\"{ on }\">\n                          <v-btn\n                            color=\"black\"\n                            outlined\n                            class=\"mr-2 text-capitalize black--text float-left\"\n                            v-on=\"on\"\n                          >\n                            {{ $t(\"select_template\") }}\n                            <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                          </v-btn>\n                        </template>\n                        <v-list>\n                          <v-list-item\n                            v-for=\"(item, index) in templates\"\n                            :key=\"index\"\n                          >\n                            <v-list-item-title>{{\n                              item.title\n                            }}</v-list-item-title>\n                          </v-list-item>\n                        </v-list>\n                      </v-menu>\n                      <v-btn\n                        color=\"black\"\n                        class=\"text-capitalize white--text float-left\"\n                        @click=\"cancel\"\n                        >{{ $t(\"cancel\") }}</v-btn\n                      >\n                      <v-btn\n                        color=\"primary\"\n                        class=\"ml-2 text-capitalize white--text\"\n                        v-if=\"isEdit\"\n                        @click=\"confirmDelete\"\n                        >{{ $t(\"delete\") }}\n                      </v-btn>\n                      <v-menu>\n                        <template v-slot:activator=\"{ on }\">\n                          <v-btn\n                            color=\"primary\"\n                            class=\"ml-2 float-right text-capitalize white--text\"\n                            v-on=\"on\"\n                          >\n                            {{ $t(\"save_option\") }}\n                            <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                          </v-btn>\n                        </template>\n                        <v-list rounded>\n                          <v-list-item-group>\n                            <v-list-item v-if=\"!isEdit\">\n                              <v-list-item-content>\n                                <v-list-item-title\n                                  @click=\"onSaveOptionClick(SaveOption.SAVENEW)\"\n                                  >{{ $t(\"save_new\") }}</v-list-item-title\n                                >\n                              </v-list-item-content>\n                            </v-list-item>\n                            <v-list-item>\n                              <v-list-item-content>\n                                <v-list-item-title\n                                  @click=\"\n                                    onSaveOptionClick(SaveOption.SAVEPRINT)\n                                  \"\n                                  >{{ $t(\"save_print\") }}</v-list-item-title\n                                >\n                              </v-list-item-content>\n                            </v-list-item>\n                            <v-list-item>\n                              <v-list-item-content>\n                                <v-list-item-title\n                                  @click=\"\n                                    onSaveOptionClick(SaveOption.SAVEDRAFT)\n                                  \"\n                                  >{{ $t(\"save_draft\") }}</v-list-item-title\n                                >\n                              </v-list-item-content>\n                            </v-list-item>\n                          </v-list-item-group>\n                        </v-list>\n                      </v-menu>\n                      <v-btn\n                        color=\"secondary\"\n                        class=\"float-right white--text text-capitalize\"\n                        @click=\"onSaveOptionClick(SaveOption.SAVECLOSE)\"\n                        >{{ $t(\"save_close\") }}</v-btn\n                      >\n                    </v-card>\n                  </v-card>\n                </v-col>\n                <v-col\n                  class=\"smallSide pl-2\"\n                  sm=\"4\"\n                  style=\"transition: 0.3s ease-in\"\n                  :class=\"{ hide_small_bar_class: isHideBar }\"\n                >\n                  <h3\n                    style=\"color: #b3b5bc; font-size: 20px\"\n                    v-if=\"!isHideBar\"\n                    class=\"text-uppercase float-right mt-n3\"\n                  >\n                    <span class=\"pointer\" @click=\"Help('fund receipt')\">\n                      {{ $t(\"help\") }}\n                    </span>\n                    <v-icon\n                      @click=\"cancel()\"\n                      style=\"cursor: pointer; color: #333; font-size: 40px\"\n                      class=\"float-right mt-n1\"\n                      >close\n                    </v-icon>\n                  </h3>\n\n                  <div v-if=\"!isHideBar\" class=\"small_sidebar mt-8 px-4 grayBg\">\n                    <v-card\n                      class=\"pa-3 no-boxshadow d-flex flex-column\"\n                      color=\"primary\"\n                      size=\"60px\"\n                      style=\"margin-bottom: 2px\"\n                    >\n                      <h3\n                        class=\"text-white text-uppercase justify-start font_13\"\n                      >\n                        {{ $t(\"amount\") }}\n                      </h3>\n                      <h3\n                        class=\"\n                          text-bold\n                          justify-end\n                          niradei_heavy\n                          font_22\n                          text-white\n                        \"\n                      >\n                        {{ Number(totalDr).toLocaleString() }}\n                      </h3>\n                    </v-card>\n                    <!-- content -->\n                    <v-row>\n                      <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                        <label class=\"label\">{{ $t(\"segment\") }}</label>\n                        <app-segment-dropdownlist\n                          :initSegment=\"segment\"\n                          @emitSegment=\"segment = $event\"\n                        />\n\n                        <label class=\"label\">{{ $t(\"location\") }}</label>\n                        <app-location-dropdownlist\n                          :initLocation=\"location\"\n                          @emitLocation=\"location = $event\"\n                        />\n                        <label class=\"label\">{{ $t(\"project\") }}</label>\n                        <app-project-dropdownlist\n                          :initProject=\"project\"\n                          @emitProject=\"project = $event\"\n                        />\n                      </v-col>\n                    </v-row>\n                  </div>\n                </v-col>\n              </v-row>\n            </v-card>\n          </v-form>\n        </v-col>\n      </v-row>\n      <LoadingMe\n        type=\"loading\"\n        :isLoading=\"showLoading\"\n        :fullPage=\"true\"\n        :myLoading=\"true\"\n      />\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport { i18n } from \"@/i18n\";\nimport kendo from \"@progress/kendo-ui\";\nimport Helper from \"@/helper.js\";\nimport {\n  JournalModel,\n  JournalEntryModel,\n  AccountModel,\n  ClassModel,\n  CurrencyModel,\n  ExchangeRateModel,\n  LocationModel,\n  ProjectModel,\n  SegmentModel,\n  ContactModel,\n} from \"@/scripts/model/AppModels\";\nimport CustomerModel from \"@/scripts/model/Customer\";\n\n/* Editors */\nimport CashReceiptAccountEditor from \"@/scripts/kendo_editor/CashAccount\";\nimport RelatedExpenseAccountEditor from \"@/scripts/kendo_editor/RelatedExpenseAccount\";\nimport RevenueDefferedGrantAccountEditor from \"@/scripts/kendo_editor/RevenueDefferedGrantAccount\";\nimport ClassEditor from \"@/scripts/kendo_editor/Clazz\";\n\n/* Store */\nimport store from \"@/store\";\nconst institute = store.state.institute.institute;\n\nconst journalHandler = require(\"@/scripts/journalHandler\");\nconst AccountTypeCode = require(\"@/scripts/default_setup/AccountTypeCode\");\nimport { ShowResource } from \"@/observable/store\";\n\nconst {\n  EntityType,\n  SaveOption,\n} = require(\"@/scripts/default_setup/Collections\");\n\nexport default {\n  name: \"FundReceipt\",\n  components: {\n    LoadingMe: () => import(\"@/components/Loading\"),\n    \"app-datepicker\": () =>\n      import(\"@/components/custom_templates/DatePickerComponent\"),\n    \"app-currency-dropdownlist\": () =>\n      import(\"@/components/dropdownlist/Currency\"),\n    \"app-donor-dropdownlist\": () => import(\"@/components/dropdownlist/Donor\"),\n    \"app-fund-category-dropdownlist\": () =>\n      import(\"@/components/dropdownlist/FundCategory\"),\n    \"app-segment-dropdownlist\": () =>\n      import(\"@/components/dropdownlist/Segment\"),\n    \"app-project-dropdownlist\": () =>\n      import(\"@/components/dropdownlist/Project\"),\n    \"app-location-dropdownlist\": () =>\n      import(\"@/components/dropdownlist/Location\"),\n  },\n  props: {\n    initJournal: {\n      type: JournalModel,\n    },\n  },\n  data: () => ({\n    /* Obj */\n    fundCategory: null,\n    journal: new JournalModel(),\n    currency: new CurrencyModel(institute.baseCurrency),\n    exchangeRate: new ExchangeRateModel(institute.baseCurrency),\n    journalEntries: [],\n    cashReceiptEntries: [],\n    relatedExpenseEntries: [],\n    revenueDefferedGrantEntries: [],\n    donor: new ContactModel(),\n    location: new LocationModel(),\n    project: new ProjectModel(),\n    segment: new SegmentModel(),\n    // Accounts\n    accounts: [],\n    cashRecieptAccounts: [],\n    relatedExpenseAccounts: [],\n    revenueDefferedGrantAccounts: [],\n    // Editors\n    CashReceiptAccountEditor: CashReceiptAccountEditor,\n    RelatedExpenseAccountEditor: RelatedExpenseAccountEditor,\n    RevenueDefferedGrantAccountEditor: RevenueDefferedGrantAccountEditor,\n    ClassEditor: ClassEditor,\n    // Other\n    totalDr: 0,\n    totalCr: 0,\n    templates: [],\n    user: Helper.getUser(),\n    // Form validation\n    valid: true,\n    isEdit: false,\n    alert: false,\n    errorMessage: \"\",\n    saveMode: \"\",\n    SaveOption: SaveOption,\n    // LoadingMe\n    showLoading: false,\n    // funcion\n    isHideBar: false,\n  }),\n  methods: {\n    HideSmallSideBar() {\n      this.isHideBar = !this.isHideBar;\n    },\n    Help(key_search) {\n      ShowResource(key_search);\n    },\n    // Initial Data\n    initialData() {\n      if (this.initJournal) {\n        // Edit Mode\n        this.journal = this.initJournal;\n        this.bindData();\n      } else {\n        // Brand New Mode\n        this.setDefaultData();\n      }\n    },\n    // Set default data\n    async setDefaultData() {\n      // Brand New Mode\n      this.isEdit = false;\n\n      this.journal = new JournalModel({\n        transaction_type: EntityType.FUND_RECEIPT,\n        journal_date: new Date().toISOString().substr(0, 10),\n      });\n\n      /* Default Sidebar */\n      let locations = await this.$store.dispatch(\"locations/getList\");\n      this.location = new LocationModel(locations[0]);\n\n      let segments = await this.$store.dispatch(\"segments/getList\");\n      this.segment = new SegmentModel(segments.find((i) => i.isSystem === 1));\n\n      // Generate Number\n      this.generateNumber();\n\n      // Add two default rows\n      for (let index = 0; index < 2; index++) {\n        this.addRowCashReceipt();\n        this.addRowRelatedExpense();\n        this.addRowRevenueDefferedGrant();\n      }\n    },\n    // Bind data from prop for edit mode\n    async bindData() {\n      // Edit Mode\n      this.isEdit = true;\n\n      let totalDr = 0,\n        totalCr = 0,\n        cashReceiptEntries = [],\n        relatedExpenseEntries = [],\n        revenueDefferedGrantEntries = [];\n\n      // Donor\n      this.donor = new CustomerModel(\n        this.journal.journal_entries[0].primary_contact\n      );\n\n      /* Classes */\n      let classes = await this.$store.dispatch(\"classes/getList\");\n\n      // Currency\n      this.currency = new CurrencyModel(\n        this.journal.journal_entries[0].currency\n      );\n      this.exchangeRate = new ExchangeRateModel(\n        this.journal.journal_entries[0].currency\n      );\n      this.exchangeRate.id = this.journal.journal_entries[0].exchange_rate_uuid;\n      this.exchangeRate.rate = this.journal.journal_entries[0].exchange_rate;\n\n      this.journal.journal_entries.forEach((value) => {\n        let je = new JournalEntryModel(value);\n\n        if (value.amount > 0) {\n          // Dr side\n          if (\n            ~AccountTypeCode.CASH_ACCOUNTS.indexOf(\n              value.account.account_type.number\n            )\n          ) {\n            cashReceiptEntries.push(je);\n          } else {\n            // Classes\n            je.class1 = new ClassModel(\n              classes.find((item) => item.id === value.class_1_uuid)\n            );\n            je.class2 = new ClassModel(\n              classes.find((item) => item.id === value.class_2_uuid)\n            );\n            je.class3 = new ClassModel(\n              classes.find((item) => item.id === value.class_3_uuid)\n            );\n            je.class4 = new ClassModel(\n              classes.find((item) => item.id === value.class_4_uuid)\n            );\n            je.class5 = new ClassModel(\n              classes.find((item) => item.id === value.class_5_uuid)\n            );\n\n            relatedExpenseEntries.push(je);\n          }\n          totalDr += value.amount;\n        } else {\n          // Cr side\n          je.amount = value.amount * -1;\n          revenueDefferedGrantEntries.push(je);\n          totalCr += je.amount;\n        }\n      });\n\n      // Sidebar\n      let locations = await this.$store.dispatch(\"locations/getList\");\n      this.location = new LocationModel(\n        locations.find((i) => i.id === this.journal.location_uuid)\n      );\n\n      let segments = await this.$store.dispatch(\"segments/getList\");\n      this.segment = new SegmentModel(\n        segments.find((i) => i.id === this.journal.segment_uuid)\n      );\n\n      let projects = await this.$store.dispatch(\"projects/getList\");\n      this.project = new ProjectModel(\n        projects.find((i) => i.id === this.journal.project_uuid)\n      );\n\n      this.totalDr = totalDr;\n      this.totalCr = totalCr;\n\n      this.cashReceiptEntries = cashReceiptEntries;\n      this.relatedExpenseEntries = relatedExpenseEntries;\n      this.revenueDefferedGrantEntries = revenueDefferedGrantEntries;\n    },\n    // Number\n    async generateNumber() {\n      if (!this.isEdit) {\n        let num = await Helper.generateAccountingNumber(\n          this.journal.transaction_type,\n          this.journal.journal_date\n        );\n\n        this.journal.number = num.number;\n        this.journal.prefix_format = num.prefix_format;\n      }\n    },\n    // Get Exchange Rate\n    async getExchangeRate() {\n      if (this.journal.journal_date && this.currency.code !== \"\") {\n        this.exchangeRate = await Helper.getLastExchangeRateByDate(\n          this.journal.journal_date,\n          this.currency.code\n        );\n      } else {\n        this.exchangeRate = new ExchangeRateModel(institute.baseCurrency);\n      }\n    },\n    /* On Date Chanes */\n    onDateChanges() {\n      this.getExchangeRate();\n      this.generateNumber();\n    },\n    /* Kendo */\n    // DataSource Changes\n    onChangeCashReceiptDS(e) {\n      if (e.field) {\n        let dataRow = e.items[0];\n\n        if (e.field === \"account\") {\n          this.addExtraRowCashReceipt(dataRow.uid);\n        }\n\n        this.dataSourceAutoCalculate();\n      }\n    },\n    onChangeRelatedExpenseDS(e) {\n      if (e.field) {\n        let dataRow = e.items[0];\n\n        if (e.field === \"account\") {\n          this.addExtraRowRelatedExpense(dataRow.uid);\n        } else if (e.field === \"class1\") {\n          if (dataRow.class1 !== null) {\n            dataRow.set(\"class_1_uuid\", dataRow.class1.id);\n          } else {\n            // Set default when deselect\n            dataRow.set(\"class_1_uuid\", \"\");\n            dataRow.set(\"class1\", new ClassModel());\n          }\n        } else if (e.field === \"class2\") {\n          if (dataRow.class2 !== null) {\n            dataRow.set(\"class_2_uuid\", dataRow.class2.id);\n          } else {\n            // Set default when deselect\n            dataRow.set(\"class_2_uuid\", \"\");\n            dataRow.set(\"class2\", new ClassModel());\n          }\n        } else if (e.field === \"class3\") {\n          if (dataRow.class3 !== null) {\n            dataRow.set(\"class_3_uuid\", dataRow.class3.id);\n          } else {\n            // Set default when deselect\n            dataRow.set(\"class_3_uuid\", \"\");\n            dataRow.set(\"class3\", new ClassModel());\n          }\n        } else if (e.field === \"class4\") {\n          if (dataRow.class4 !== null) {\n            dataRow.set(\"class_4_uuid\", dataRow.class4.id);\n          } else {\n            // Set default when deselect\n            dataRow.set(\"class_4_uuid\", \"\");\n            dataRow.set(\"class4\", new ClassModel());\n          }\n        } else if (e.field === \"class5\") {\n          if (dataRow.class5 !== null) {\n            dataRow.set(\"class_5_uuid\", dataRow.class5.id);\n          } else {\n            // Set default when deselect\n            dataRow.set(\"class_5_uuid\", \"\");\n            dataRow.set(\"class5\", new ClassModel());\n          }\n        }\n\n        this.dataSourceAutoCalculate();\n      }\n    },\n    onChangeRevenueDefferedGrantDS(e) {\n      if (e.field) {\n        let dataRow = e.items[0];\n\n        if (e.field === \"account\") {\n          this.addExtraRowRevenueDefferedGrant(dataRow.uid);\n        }\n\n        this.dataSourceAutoCalculate();\n      }\n    },\n    // Auto Calculate In DataSource\n    dataSourceAutoCalculate() {\n      let cashReceiptDS = this.$refs.cashReceiptDS.kendoWidget(),\n        relatedExpenseDS = this.$refs.relatedExpenseDS.kendoWidget(),\n        revenueDefferedGrantDS =\n          this.$refs.revenueDefferedGrantDS.kendoWidget(),\n        totalDr = 0,\n        totalCr = 0;\n\n      // Sum\n      cashReceiptDS.data().forEach((value) => {\n        totalDr += kendo.parseFloat(value.amount);\n      });\n      relatedExpenseDS.data().forEach((value) => {\n        totalDr += kendo.parseFloat(value.amount);\n      });\n      revenueDefferedGrantDS.data().forEach((value) => {\n        totalCr += kendo.parseFloat(value.amount);\n      });\n\n      this.totalDr = totalDr;\n      this.totalCr = totalCr;\n    },\n    // Row Number Template\n    rowNumberCashReceipt(dataItem) {\n      let ds = this.$refs.cashReceiptDS.kendoWidget(),\n        index = ds.indexOf(dataItem);\n\n      return index + 1;\n    },\n    rowNumberRelatedExpense(dataItem) {\n      let ds = this.$refs.relatedExpenseDS.kendoWidget(),\n        index = ds.indexOf(dataItem);\n\n      return index + 1;\n    },\n    rowNumberRevenueDefferedGrant(dataItem) {\n      let ds = this.$refs.revenueDefferedGrantDS.kendoWidget(),\n        index = ds.indexOf(dataItem);\n\n      return index + 1;\n    },\n    // Add New Row\n    addRowCashReceipt() {\n      let ds = this.$refs.cashReceiptDS.kendoWidget(),\n        last = ds.total(),\n        je = new JournalEntryModel();\n\n      ds.insert(last, je);\n    },\n    addRowRelatedExpense() {\n      let ds = this.$refs.relatedExpenseDS.kendoWidget(),\n        last = ds.total(),\n        je = new JournalEntryModel();\n\n      // Classes\n      je.class1 = new ClassModel();\n      je.class2 = new ClassModel();\n      je.class3 = new ClassModel();\n      je.class4 = new ClassModel();\n      je.class5 = new ClassModel();\n\n      ds.insert(last, je);\n    },\n    addRowRevenueDefferedGrant() {\n      let ds = this.$refs.revenueDefferedGrantDS.kendoWidget(),\n        last = ds.total(),\n        je = new JournalEntryModel();\n\n      ds.insert(last, je);\n    },\n    // Add Extra Row\n    addExtraRowCashReceipt(uid) {\n      let ds = this.$refs.cashReceiptDS.kendoWidget(),\n        total = ds.total(),\n        row = ds.getByUid(uid),\n        index = ds.indexOf(row);\n\n      if (index == total - 1) {\n        this.addRowCashReceipt();\n      }\n    },\n    addExtraRowRelatedExpense(uid) {\n      let ds = this.$refs.relatedExpenseDS.kendoWidget(),\n        total = ds.total(),\n        row = ds.getByUid(uid),\n        index = ds.indexOf(row);\n\n      if (index == total - 1) {\n        this.addRowRelatedExpense();\n      }\n    },\n    addExtraRowRevenueDefferedGrant(uid) {\n      let ds = this.$refs.revenueDefferedGrantDS.kendoWidget(),\n        total = ds.total(),\n        row = ds.getByUid(uid),\n        index = ds.indexOf(row);\n\n      if (index == total - 1) {\n        this.addRowRevenueDefferedGrant();\n      }\n    },\n    // Remove Row\n    removeRowCashReceipt(e) {\n      e.preventDefault();\n\n      let grid = this.$refs.cashReceiptGrid.kendoWidget(),\n        ds = grid.dataSource,\n        dataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n\n      if (ds.data().length > 2) {\n        ds.remove(dataItem);\n      }\n    },\n    removeRowRelatedExpense(e) {\n      e.preventDefault();\n\n      let grid = this.$refs.relatedExpenseGrid.kendoWidget(),\n        ds = grid.dataSource,\n        dataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n\n      if (ds.total() > 2) {\n        ds.remove(dataItem);\n      }\n    },\n    removeRowRevenueDefferedGrant(e) {\n      e.preventDefault();\n\n      let grid = this.$refs.revenueDefferedGrantGrid.kendoWidget(),\n        ds = grid.dataSource,\n        dataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n\n      if (ds.total() > 2) {\n        ds.remove(dataItem);\n      }\n    },\n    // Shrink Data\n    shrinkData() {\n      // Journal Date\n      this.journal.journal_date = Helper.toISODate(this.journal.journal_date);\n\n      /* Journal Type */\n      this.journal.journal_type = this.fundCategory.name;\n\n      /* Project Segment Location */\n      this.journal.project_uuid = this.project.id;\n      this.journal.segment_uuid = this.segment.id;\n      this.journal.location_uuid = this.location.id;\n\n      // User\n      if (this.isEdit) {\n        this.journal.modified_by = this.user;\n      } else {\n        this.journal.created_by = this.user;\n      }\n\n      let entries = [],\n        cashReceiptDS = this.$refs.cashReceiptDS.kendoWidget(),\n        relatedExpenseDS = this.$refs.relatedExpenseDS.kendoWidget(),\n        revenueDefferedGrantDS =\n          this.$refs.revenueDefferedGrantDS.kendoWidget();\n\n      // Cash Receipt Accounts on Dr\n      cashReceiptDS.data().forEach((value) => {\n        // Filter selected account\n        if (value.account.number !== \"\" && value.amount > 0) {\n          // Account\n          value.set(\"account\", new AccountModel(value.account));\n          value.set(\"account_uuid\", value.account.uuid);\n\n          // Contact\n          value.set(\"primary_contact\", new ContactModel(this.donor));\n\n          // Currency\n          value.set(\"currency\", new CurrencyModel(this.currency));\n          value.set(\"exchange_rate_uuid\", this.exchangeRate.id);\n          value.set(\"exchange_rate\", this.exchangeRate.rate);\n\n          entries.push(new JournalEntryModel(value));\n        }\n      });\n\n      // Related Expense Accounts on Dr\n      relatedExpenseDS.data().forEach((value) => {\n        // Filter selected account\n        if (value.account.number !== \"\" && value.amount > 0) {\n          // Account\n          value.set(\"account\", new AccountModel(value.account));\n          value.set(\"account_uuid\", value.account.uuid);\n\n          // Contact\n          value.set(\"primary_contact\", new ContactModel(this.donor));\n\n          // Currency\n          value.set(\"currency\", new CurrencyModel(this.currency));\n          value.set(\"exchange_rate_uuid\", this.exchangeRate.id);\n          value.set(\"exchange_rate\", this.exchangeRate.rate);\n\n          entries.push(new JournalEntryModel(value));\n        }\n      });\n\n      // Revenue Deffered Grant Account on Cr\n      revenueDefferedGrantDS.data().forEach((value) => {\n        // Filter selected account\n        if (value.account.number !== \"\" && value.amount > 0) {\n          // Account\n          value.set(\"account\", new AccountModel(value.account));\n          value.set(\"account_uuid\", value.account.uuid);\n\n          // Contact\n          value.set(\"primary_contact\", new ContactModel(this.donor));\n\n          // Currency\n          value.set(\"currency\", new CurrencyModel(this.currency));\n          value.set(\"amount\", value.amount * -1); // Credit side is negative\n          value.set(\"exchange_rate_uuid\", this.exchangeRate.id);\n          value.set(\"exchange_rate\", this.exchangeRate.rate);\n\n          entries.push(new JournalEntryModel(value));\n        }\n      });\n\n      // Journal Entries\n      this.journal.journal_entries = entries;\n    },\n    // Validating\n    validateForm() {\n      let result = true,\n        msg = \"\",\n        cashReceiptDS = this.$refs.cashReceiptDS.kendoWidget(),\n        relatedExpenseDS = this.$refs.relatedExpenseDS.kendoWidget(),\n        revenueDefferedGrantDS =\n          this.$refs.revenueDefferedGrantDS.kendoWidget(),\n        countEmptyCashReceipt = 0,\n        countEmptyRevenueDefferedGrant = 0;\n\n      // Donor\n      if (this.donor.id === \"\") {\n        msg += `<p>${i18n.t(\"donor_is_required\")}</p>`;\n        result = false;\n      }\n\n      // Project\n      if (this.project.id === \"\") {\n        msg += `<p>${i18n.t(\"project_is_required\")}</p>`;\n        result = false;\n      }\n\n      // Segment\n      if (this.segment.id === \"\") {\n        msg += `<p>${i18n.t(\"segment_is_required\")}</p>`;\n        result = false;\n      }\n\n      // Location\n      if (this.location.id === \"\") {\n        msg += `<p>${i18n.t(\"location_is_required\")}</p>`;\n        result = false;\n      }\n\n      // Cash Receipt\n      cashReceiptDS.data().forEach((value, index) => {\n        // No account\n        if (value.account.name === \"\" && value.amount > 0) {\n          result = false;\n          msg += `<p>${i18n.t(\n            \"please_select_cash_receipt_account_at_row_number\"\n          )} ${index + 1}</p>`;\n        }\n\n        // No amount\n        if (value.account.name !== \"\" && value.amount === 0) {\n          result = false;\n          msg += `<p>${value.account.name} ${i18n.t(\"has_no_amount\")}</p>`;\n        }\n\n        // Count From Accounts\n        if (value.account.name !== \"\" && value.amount > 0) {\n          countEmptyCashReceipt++;\n        }\n      });\n\n      // Empty Row From Accounts\n      if (countEmptyCashReceipt === 0) {\n        msg += `<p>${i18n.t(\"please_select_cash_receipt_account\")}</p>`;\n        result = false;\n      }\n\n      // Related Expense\n      relatedExpenseDS.data().forEach((value, index) => {\n        // No account\n        if (value.account.name === \"\" && value.amount > 0) {\n          result = false;\n          msg += `<p>${i18n.t(\n            \"please_select_related_expense_account_at_row_number\"\n          )} ${index + 1}</p>`;\n        }\n\n        // No amount\n        if (value.account.name !== \"\" && value.amount === 0) {\n          result = false;\n          msg += `<p>${value.account.name} ${i18n.t(\"has_no_amount\")}</p>`;\n        }\n      });\n\n      // Related Expense\n      revenueDefferedGrantDS.data().forEach((value, index) => {\n        // No account\n        if (value.account.name === \"\" && value.amount > 0) {\n          result = false;\n          msg += `<p>${i18n.t(\n            \"please_select_revenue_deffered_grant_account_at_row_number\"\n          )} ${index + 1}</p>`;\n        }\n\n        // No amount\n        if (value.account.name !== \"\" && value.amount === 0) {\n          result = false;\n          msg += `<p>${value.account.name} ${i18n.t(\"has_no_amount\")}</p>`;\n        }\n\n        // Count To Accounts\n        if (value.account.name !== \"\" && value.amount > 0) {\n          countEmptyRevenueDefferedGrant++;\n        }\n      });\n\n      // Empty Row To\n      if (countEmptyRevenueDefferedGrant === 0) {\n        msg += `<p>${i18n.t(\n          \"please_select_revenue_deffered_grant_account\"\n        )}</p>`;\n        result = false;\n      }\n\n      // All totals\n      if (kendo.parseFloat(this.totalDr) !== kendo.parseFloat(this.totalCr)) {\n        msg += `<p>${i18n.t(\"total_dr_and_total_cr_are_not_balance\")}</p>`;\n        result = false;\n      }\n\n      // Show Alert\n      this.errorMessage = msg;\n      this.alert = false;\n      if (result === false) {\n        this.alert = true;\n      }\n\n      return result;\n    },\n    // All Saves\n    async onSaveOptionClick(mode) {\n      if (this.$refs.form.validate() && this.validateForm()) {\n        let isValidClosingDate = await Helper.validateClosingDate(\n          this.journal.journal_date\n        );\n        if (isValidClosingDate) {\n          this.saveMode = mode;\n          this.save();\n        }\n      }\n    },\n    cancel() {\n      this.$swal({\n        title: i18n.t(\"msg_title_warning\"),\n        text: i18n.t(\"msg_discard\"),\n        icon: \"warning\",\n        showCancelButton: true,\n        cancelButtonText: i18n.t(\"cancel\"),\n        confirmButtonColor: \"#4d4848\",\n        cancelButtonColor: \"#ED1A3A\",\n        confirmButtonText: i18n.t(\"discard\"),\n      }).then((result) => {\n        if (result.value) {\n          this.clear();\n          this.setDefaultData();\n          this.$router.go(-1);\n        }\n      });\n    },\n    clear() {\n      this.isEdit = false;\n      this.saveMode = \"\";\n\n      this.currency = new CurrencyModel(institute.baseCurrency);\n      this.exchangeRate = new ExchangeRateModel(institute.baseCurrency);\n\n      this.donor = new ContactModel();\n      this.segment = new SegmentModel();\n      this.project = new ProjectModel();\n      this.location = new LocationModel();\n\n      let cashReceiptDS = this.$refs.cashReceiptDS.kendoWidget();\n      cashReceiptDS.data([]);\n      let relatedExpenseDS = this.$refs.relatedExpenseDS.kendoWidget();\n      relatedExpenseDS.data([]);\n      let revenueDefferedGrantDS =\n        this.$refs.revenueDefferedGrantDS.kendoWidget();\n      revenueDefferedGrantDS.data([]);\n    },\n    confirmDelete() {\n      this.$swal({\n        title: i18n.t(\"are_you_sure_you_want_to_delete_it\"),\n        text: i18n.t(\"you_wont_be_able_to_revert_this\"),\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#4d4848\",\n        cancelButtonColor: \"#ED1A3A\",\n        confirmButtonText: \"Yes\",\n      }).then((result) => {\n        if (result.value) {\n          this.saveMode = SaveOption.DELETE;\n\n          /* Mark as deleted */\n          this.journal.is_deleted = 1;\n\n          /* Update Journal Status */\n          this.save();\n        }\n      });\n    },\n    save() {\n      let self = this;\n\n      // Draft Mode\n      if (this.saveMode === SaveOption.SAVEDRAFT) {\n        this.journal.is_draft = 1;\n      } else {\n        this.journal.is_draft = 0;\n      }\n\n      // Shrink Data\n      this.shrinkData();\n\n      // Sync Data\n      this.showLoading = true;\n      journalHandler\n        .save(new JournalModel(this.journal))\n        .then((response) => {\n          if (response) {\n            self.responseStatus(response);\n          }\n        })\n        .catch((error) => {\n          self.showLoading = false;\n          Helper.alertErrorMsg(error);\n        })\n        .finally(() => {\n          self.showLoading = false;\n        });\n    },\n    // Response Status\n    responseStatus(response) {\n      if (response.status === 200) {\n        if (\n          this.saveMode === SaveOption.SAVECLOSE ||\n          this.saveMode === SaveOption.DELETE\n        ) {\n          /* Save Close or Delete */\n          if (this.isEdit) {\n            this.goBackToViewPage();\n          } else {\n            this.$router.go(-1);\n          }\n\n          this.clear();\n          this.setDefaultData();\n        } else {\n          /* Save New */\n          this.clear();\n          this.setDefaultData();\n        }\n\n        /* Alert Success */\n        this.$snotify.success(i18n.t(\"successful\"));\n      } else {\n        /* Alert Error */\n        this.$snotify.error(i18n.t(\"error_something_wrong\"));\n      }\n    },\n    // Go back to view page after edit mode\n    getJournal() {\n      return this.journal;\n    },\n    goBackToViewPage() {\n      this.$router.replace({\n        name: \"Fund Receipt View\",\n        params: { initJournal: this.getJournal() },\n      });\n    },\n  },\n  watch: {\n    initJournal() {\n      this.initialData();\n    },\n  },\n  created() {},\n  mounted() {\n    // Initial Data\n    this.initialData();\n  },\n};\n</script>\n\n<style scoped>\n.hide_small_bar_class {\n  max-width: 0;\n  transition: 0.5s ease-in;\n  flex: 0 0 0;\n  padding: 0;\n}\n\n.hide_big_bar_class {\n  max-width: 100%;\n  transition: 0.5s ease-in;\n  flex: 0 0 100%;\n}\n\n.info_add {\n  background-color: #ffffff;\n}\n\n.small_sidebar {\n  height: 98%;\n  position: relative;\n  padding: 12px;\n  background-color: #edf1f5;\n}\n\n.iconArrow {\n  right: -35px;\n  position: absolute;\n  bottom: -10px;\n}\n\n.iconArrowHide {\n  position: absolute;\n  right: -7px;\n  bottom: -10px;\n}\n\n@media (min-width: 1264px) {\n  .container {\n    max-width: 1185px;\n    /* max-width: 1080px !important; */\n  }\n}\n\n@media (max-width: 576px) {\n  .mb-6 {\n    margin-bottom: 0 !important;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/share_funding"}]}