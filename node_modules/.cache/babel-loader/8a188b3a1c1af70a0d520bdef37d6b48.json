{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/insightnpo/FundReceiptTypePieChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/insightnpo/FundReceiptTypePieChart.vue","mtime":1639364469139},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIGltcG9ydCBrZW5kbyBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tdWknOwppbXBvcnQgeyBpMThuIH0gZnJvbSAiQC9pMThuIjsKaW1wb3J0IHsgQ2hhcnQgfSBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tY2hhcnRzLXZ1ZS13cmFwcGVyIjsKCnZhciBKb3VybmFsSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9qb3VybmFsSGFuZGxlciIpOwoKdmFyIEVudGl0eVR5cGUgPSByZXF1aXJlKCJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9FbnRpdHlUeXBlIik7Cgp2YXIgQWNjb3VudFR5cGVDb2RlID0gcmVxdWlyZSgiQC9zY3JpcHRzL2RlZmF1bHRfc2V0dXAvQWNjb3VudFR5cGVDb2RlIik7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZ1bmRSZWNlaXB0R3JhcGgiLAogIGNvbXBvbmVudHM6IHsKICAgIGNoYXJ0OiBDaGFydCwKICAgIExvYWRpbmdNZTogZnVuY3Rpb24gTG9hZGluZ01lKCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvTG9hZGluZyIpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRyYW5zYWN0aW9uczogW10sCiAgICAgIHBpZURhdGE6IFtdLAogICAgICB0b3RhbDogMCwKICAgICAgc2VyaWVzOiBbewogICAgICAgIGZpZWxkOiAidmFsdWUiLAogICAgICAgIGF1dG9GaXQ6IHRydWUsCiAgICAgICAgY2F0ZWdvcnlGaWVsZDogImNhdGVnb3J5IgogICAgICB9XSwKICAgICAgbGFiZWxUZW1wbGF0ZTogIiAjPSBrZW5kby5mb3JtYXQoJ3swOlB9JywgcGVyY2VudGFnZSkjIiwKICAgICAgdG9vbHRpcFRlbXBsYXRlOiAiIz0gY2F0ZWdvcnkgIyA6ICM9IGtlbmRvLnRvU3RyaW5nKHZhbHVlLCAnbicpICMgKCM9IGtlbmRvLmZvcm1hdCgnezA6UH0nLCBwZXJjZW50YWdlKSAjKSIsCiAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgY2hhcnRBcmVhOiB7CiAgICAgICAgYmFja2dyb3VuZDogInRyYW5zcGFyZW50IiwKICAgICAgICBtYXJnaW46IDEwLAogICAgICAgIGhlaWdodDogMjAwCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgIEpvdXJuYWxIYW5kbGVyLmdldEpvdXJuYWxCeVRyYW5zYWN0aW9uVHlwZShFbnRpdHlUeXBlLkZVTkRfUkVDRUlQVCwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgYXNfb2ZfZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCkgKyAiVDIzOjU5OjU5Ljk5OVoiCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICBfdGhpcy50cmFuc2FjdGlvbnMgPSByZXMuZGF0YTsKCiAgICAgICAgICBfdGhpcy5iaW5kRGF0YSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kc25vdGlmeS5lcnJvcihpMThuLnQoImVycm9yX3NvbWV0aGluZ193cm9uZyIpKTsKICAgICAgICB9CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGJpbmREYXRhOiBmdW5jdGlvbiBiaW5kRGF0YSgpIHsKICAgICAgdmFyIGcgPSB7fTsKICAgICAgdmFyIHRvdGFsXyA9IDA7CiAgICAgIHZhciBjb2xvcnMgPSBbIiNjODAwMDAiLCAiIzY0MjgyOCIsICIjZjQ0MzM2IiwgIiM1MjJEMkRGRiIsICIjZDg1NjA0IiwgIiNFRDFBM0EiLCAiIzdhNDE0MSIsICIjZTg4ZDE0IiwgIiNmMWFhNDUiXTsKICAgICAgdmFyIGluZGV4ID0gMDsKICAgICAgdGhpcy50cmFuc2FjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAvKiBGaWx0ZXIgUmV2ZW51ZSBBY2NvdW50cyAqLwogICAgICAgIGlmICh2YWx1ZS5hY2NvdW50LnR5cGVfY29kZSA9PT0gQWNjb3VudFR5cGVDb2RlLlJFVkVOVUUpIHsKICAgICAgICAgIGlmIChnW3ZhbHVlLmpvdXJuYWwuam91cm5hbF90eXBlXSkgewogICAgICAgICAgICBnW3ZhbHVlLmpvdXJuYWwuam91cm5hbF90eXBlXS52YWx1ZSArPSB2YWx1ZS5hbW91bnQgKiAtMTsKICAgICAgICAgICAgdG90YWxfICs9IHZhbHVlLmFtb3VudCAqIC0xOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZ1t2YWx1ZS5qb3VybmFsLmpvdXJuYWxfdHlwZV0gPSB7CiAgICAgICAgICAgICAgY2F0ZWdvcnk6IHZhbHVlLmpvdXJuYWwuam91cm5hbF90eXBlLAogICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZS5hbW91bnQgKiAtMSwKICAgICAgICAgICAgICBjb2xvcjogY29sb3JzW2luZGV4XQogICAgICAgICAgICB9OwogICAgICAgICAgICB0b3RhbF8gKz0gdmFsdWUuYW1vdW50ICogLTE7CiAgICAgICAgICB9CgogICAgICAgICAgaW5kZXggKz0gMTsKCiAgICAgICAgICBpZiAoaW5kZXggPiBjb2xvcnMubGVuZ3RoKSB7CiAgICAgICAgICAgIGluZGV4ID0gMDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnRvdGFsID0gdG90YWxfOwogICAgICB3aW5kb3cuY29uc29sZS5sb2coZyk7CiAgICAgIC8qIEJpbmQgZGF0YSAqLwoKICAgICAgdGhpcy5waWVEYXRhID0gT2JqZWN0LnZhbHVlcyhnKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRpYWxpemUoKTsKICB9Cn07"},{"version":3,"sources":["FundReceiptTypePieChart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <LoadingMe\n      :isLoading=\"showLoading\"\n      :fullPage=\"false\"\n      :myLoading=\"true\"\n      :type=\"'loading'\"\n    />\n\n    <h2\n      style=\"line-height: 22px\"\n      class=\"primary--text niradei_black mb-1 pa-0 text-right col-sm-12\"\n    >\n      {{ Number(total).toLocaleString() }}\n    </h2>\n\n    <chart\n      ref=\"chart\"\n      :data-source=\"pieData\"\n      :chart-area-background=\"''\"\n      :legend-visible=\"false\"\n      :series-defaults-type=\"'pie'\"\n      :series=\"series\"\n      :series-defaults-labels-visible=\"true\"\n      :series-defaults-labels-position=\"'outsideEnd'\"\n      :series-defaults-labels-background=\"'transparent'\"\n      :series-defaults-labels-template=\"labelTemplate\"\n      :tooltip-visible=\"true\"\n      :tooltip-template=\"tooltipTemplate\"\n      :chartArea=\"chartArea\"\n      fit\n      :theme=\"'sass'\"\n    />\n  </div>\n</template>\n\n<script>\n// import kendo from '@progress/kendo-ui';\nimport { i18n } from \"@/i18n\";\nimport { Chart } from \"@progress/kendo-charts-vue-wrapper\";\n\nconst JournalHandler = require(\"@/scripts/journalHandler\");\nconst EntityType = require(\"@/scripts/default_setup/EntityType\");\nconst AccountTypeCode = require(\"@/scripts/default_setup/AccountTypeCode\");\n\nexport default {\n  name: \"FundReceiptGraph\",\n  components: {\n    chart: Chart,\n    LoadingMe: () => import(`@/components/Loading`),\n  },\n  data: function () {\n    return {\n      transactions: [],\n      pieData: [],\n      total: 0,\n      series: [\n        {\n          field: \"value\",\n          autoFit: true,\n          categoryField: \"category\",\n        },\n      ],\n      labelTemplate: \" #= kendo.format('{0:P}', percentage)#\",\n      tooltipTemplate:\n        \"#= category # : #= kendo.toString(value, 'n') # (#= kendo.format('{0:P}', percentage) #)\",\n      showLoading: false,\n      chartArea: {\n        background: \"transparent\",\n        margin: 10,\n        height: 200,\n      },\n    };\n  },\n  methods: {\n    initialize() {\n      this.showLoading = true;\n      JournalHandler.getJournalByTransactionType(EntityType.FUND_RECEIPT, {\n        params: {\n          as_of_date: new Date().toISOString().substr(0, 10) + \"T23:59:59.999Z\",\n        },\n      })\n        .then((res) => {\n          if (res) {\n            this.transactions = res.data;\n            this.bindData();\n          } else {\n            this.$snotify.error(i18n.t(\"error_something_wrong\"));\n          }\n        })\n        .finally(() => {\n          this.showLoading = false;\n        });\n    },\n    bindData() {\n      let g = {};\n      let total_ = 0;\n      const colors = [\n        \"#c80000\",\n        \"#642828\",\n        \"#f44336\",\n        \"#522D2DFF\",\n        \"#d85604\",\n        \"#ED1A3A\",\n        \"#7a4141\",\n        \"#e88d14\",\n        \"#f1aa45\",\n      ];\n      let index = 0;\n      this.transactions.forEach((value) => {\n        /* Filter Revenue Accounts */\n        if (value.account.type_code === AccountTypeCode.REVENUE) {\n          if (g[value.journal.journal_type]) {\n            g[value.journal.journal_type].value += value.amount * -1;\n            total_ += value.amount * -1;\n          } else {\n            g[value.journal.journal_type] = {\n              category: value.journal.journal_type,\n              value: value.amount * -1,\n              color: colors[index],\n            };\n            total_ += value.amount * -1;\n          }\n          index += 1;\n          if (index > colors.length) {\n            index = 0;\n          }\n        }\n      });\n      this.total = total_;\n\n      window.console.log(g);\n      /* Bind data */\n      this.pieData = Object.values(g);\n    },\n  },\n  mounted() {\n    this.initialize();\n  },\n};\n</script>"],"sourceRoot":"src/views/customers/insightnpo"}]}