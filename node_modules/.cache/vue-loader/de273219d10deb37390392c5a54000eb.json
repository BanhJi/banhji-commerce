{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/components/dropdownlist/ProjectListItemGroup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/components/dropdownlist/ProjectListItemGroup.vue","mtime":1640595536764},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdQcm9qZWN0TGlzdEl0ZW1Hcm91cCcsCiAgICBwcm9wczogewogICAgICAgIGluaXRQcm9qZWN0OiB7CiAgICAgICAgICAgIHR5cGU6IEFycmF5LAogICAgICAgIH0sCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzZWxlY3RlZFByb2plY3RzOiBbXSwKICAgICAgICAgICAgbG9hZGluZzogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGFzeW5jIGxvYWREYXRhICgpIHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENhbGwgTGlzdAogICAgICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncHJvamVjdHMvZ2V0TGlzdCcpCgogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9LAogICAgICAgIGVtaXRQcm9qZWN0KCkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCdlbWl0UHJvamVjdCcsIHRoaXMuc2VsZWN0ZWRQcm9qZWN0cyk7CiAgICAgICAgfSwKICAgICAgICB0b2dnbGUoKSB7CiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmxpa2VzQWxsRnJ1aXQpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvamVjdHMgPSBbXTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGlkcyA9IFtdOwogICAgICAgICAgICAgICAgICAgIHRoaXMucHJvamVjdHMuZm9yRWFjaCh2YWx1ZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkcy5wdXNoKHZhbHVlLmlkKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvamVjdHMgPSBpZHM7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmVtaXRQcm9qZWN0KCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgIH0sCiAgICB3YXRjaDogewogICAgICAgIGluaXRQcm9qZWN0KCkgewogICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvamVjdHMgPSB0aGlzLmluaXRQcm9qZWN0OwogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcFN0YXRlKHsKICAgICAgICAgICAgcHJvamVjdHM6IHN0YXRlID0+IHN0YXRlLnByb2plY3RzLmxpc3QKICAgICAgICB9KSwKICAgICAgICBsaWtlc0FsbEZydWl0KCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFByb2plY3RzLmxlbmd0aCA9PT0gdGhpcy5wcm9qZWN0cy5sZW5ndGgKICAgICAgICB9LAogICAgICAgIGxpa2VzU29tZUZydWl0KCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFByb2plY3RzLmxlbmd0aCA+IDAgJiYgIXRoaXMubGlrZXNBbGxGcnVpdAogICAgICAgIH0sCiAgICAgICAgaWNvbigpIHsKICAgICAgICAgICAgaWYgKHRoaXMubGlrZXNBbGxGcnVpdCkgcmV0dXJuICdtZGktY2xvc2UtYm94JwogICAgICAgICAgICBpZiAodGhpcy5saWtlc1NvbWVGcnVpdCkgcmV0dXJuICdtZGktbWludXMtYm94JwogICAgICAgICAgICByZXR1cm4gJ21kaS1jaGVja2JveC1ibGFuay1vdXRsaW5lJwogICAgICAgIH0sCiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLmxvYWREYXRhKCk7CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICAvKiBJbml0aWFsIFNlZ21lbnQgKi8KICAgICAgICB0aGlzLnNlbGVjdGVkUHJvamVjdHMgPSB0aGlzLmluaXRQcm9qZWN0OwogICAgfQp9Cg=="},{"version":3,"sources":["ProjectListItemGroup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProjectListItemGroup.vue","sourceRoot":"src/components/dropdownlist","sourcesContent":["<template>\n    <div>\n        <v-select\n            :loading=\"loading\"\n            v-model=\"selectedProjects\"\n            :items=\"projects\"\n            item-text=\"name\"\n            item-value=\"id\"\n            @change=\"emitProject\"\n            placeholder=\"Select Projects\"\n            multiple\n            class=\"mt-1\"\n            style=\"height: 50px !important;\"\n            outlined\n        >\n            <template v-slot:prepend-item>\n                <v-list-item\n                    ripple\n                    @click=\"toggle\"\n                >\n                    <v-list-item-action>\n                        <v-icon :color=\"selectedProjects.length > 0 ? 'indigo darken-4' : ''\">\n                            {{ icon }}\n                        </v-icon>\n                    </v-list-item-action>\n                    <v-list-item-content>\n                        <v-list-item-title>\n                            Select All\n                        </v-list-item-title>\n                    </v-list-item-content>\n                </v-list-item>\n                <v-divider class=\"mt-2\"></v-divider>\n            </template>\n\n            <template v-slot:selection=\"{ item, index }\">\n                <v-chip v-if=\"index === 0\">\n                    <span>{{ item.name }}</span>\n                </v-chip>\n                <span v-if=\"index === 1\" class=\"font_14\">\n                    (+{{ selectedProjects.length - 1 }} others)\n                </span>\n            </template>\n\n        </v-select>\n    </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nexport default {\n    name: 'ProjectListItemGroup',\n    props: {\n        initProject: {\n            type: Array,\n        },\n    },\n    data() {\n        return {\n            selectedProjects: [],\n            loading: false\n        }\n    },\n    methods: {\n        async loadData () {\n            this.loading = true;\n            \n            // Call List\n            await this.$store.dispatch('projects/getList')\n\n            this.loading = false;\n        },\n        emitProject() {\n            this.$emit('emitProject', this.selectedProjects);\n        },\n        toggle() {\n            this.$nextTick(() => {\n                if (this.likesAllFruit) {\n                    this.selectedProjects = [];\n                } else {\n                    let ids = [];\n                    this.projects.forEach(value => {\n                        ids.push(value.id);\n                    });\n                    this.selectedProjects = ids;\n                }\n                this.emitProject();\n            })\n        },\n    },\n    watch: {\n        initProject() {\n            this.selectedProjects = this.initProject;\n        }\n    },\n    computed: {\n        ...mapState({\n            projects: state => state.projects.list\n        }),\n        likesAllFruit() {\n            return this.selectedProjects.length === this.projects.length\n        },\n        likesSomeFruit() {\n            return this.selectedProjects.length > 0 && !this.likesAllFruit\n        },\n        icon() {\n            if (this.likesAllFruit) return 'mdi-close-box'\n            if (this.likesSomeFruit) return 'mdi-minus-box'\n            return 'mdi-checkbox-blank-outline'\n        },\n    },\n    created() {\n        this.loadData();\n    },\n    mounted() {\n        /* Initial Segment */\n        this.selectedProjects = this.initProject;\n    }\n}\n</script>"]}]}