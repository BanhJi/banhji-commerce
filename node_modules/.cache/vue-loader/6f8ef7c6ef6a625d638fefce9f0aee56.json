{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products_services/service/services_items/Transactions.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products_services/service/services_items/Transactions.vue","mtime":1643017019354},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZWFyY2hEYXRlQ29tcG9uZW50IGZyb20gIkAvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL1NlYXJjaERhdGUiOwppbXBvcnQgTGlua1RlbXBsYXRlIGZyb20gIkAvY29tcG9uZW50cy9rZW5kb190ZW1wbGF0ZXMvTGlua1RlbXBsYXRlIjsKCmNvbnN0IGl0ZW1IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3Byb2R1Y3RWYXJpYW50SGFuZGxlciIpCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJTZXJ2aWNlVHJhbnNhY3Rpb25zIiwKICAgIHByb3BzOiB7CiAgICAgICAgc2VydmljZToge30KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIGlkKCkgewogICAgICAgICAgICBpZiAodGhpcy5zZXJ2aWNlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLmlkCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJycKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgTG9hZGluZ01lOiAoKSA9PiBpbXBvcnQoYEAvY29tcG9uZW50cy9Mb2FkaW5nYCksCiAgICAgICAgJ2FwcC1zZWFyY2hkYXRlJzogU2VhcmNoRGF0ZUNvbXBvbmVudCwKICAgIH0sCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgICBtRGF0ZVNvcnRlcjogJ1RvZGF5JywKICAgICAgICBzdGFydERhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgICAgIGVuZERhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgICAgIGRhdGVTb3J0ZXJzOiBbJ1RvZGF5JywgJ1RoaXMgV2VlaycsICdUaGlzIE1vbnRoJywgJ1RoaXMgWWVhciddLAogICAgICAgIGlzTG9hZGVkOiBmYWxzZSwKICAgICAgICBpbnZlbnRvcnlMaXN0OiBbXQogICAgfSksCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgc2VhcmNoVHJhbnNhY3Rpb24oKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gdGhpcy5zdGFydERhdGUKICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmREYXRlID0gdGhpcy5lbmREYXRlCiAgICAgICAgICAgICAgICAgICAgbGV0IHN0ckZpbHRlciA9ICc/c3RhcnQ9JyArIHN0YXJ0RGF0ZSArICcmZW5kPScgKyBlbmREYXRlICsgJyZpdGVtPTEnCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaWQgIT09IHVuZGVmaW5lZCB8fCB0aGlzLmlkICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0ckZpbHRlciA9ICc/c3RhcnQ9JyArIHN0YXJ0RGF0ZSArICcmZW5kPScgKyBlbmREYXRlICsgJyZpZD0nICsgdGhpcy5pZCArICcmaXRlbT0xJwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvLyBiaWxsaW5nSGFuZGxlci5pbnZlbnRvcnlMaXN0QnlGdW5jdGlvbihzdHJGaWx0ZXIpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICBpdGVtSGFuZGxlci50eG5JdGVtKHN0ckZpbHRlcikudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludmVudG9yeUxpc3QgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICB9LCAxMCkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHJlZmVyZW5jZVRlbXBsYXRlKGRhdGEpIHsKICAgICAgICAgICAgbGV0IHVybCA9IGAjYAogICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnSW52b2ljZScpIHsKICAgICAgICAgICAgICAgIHVybCA9IGBpbnZvaWNlX3ZpZXcvJHtkYXRhLmlkfWAKICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdTYWxlIFF1b3RlJykgewogICAgICAgICAgICAgICAgdXJsID0gYHNhbGVfcXVvdGVfdmlldy8ke2RhdGEuaWR9YAogICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ0RlbGF5ZWQgSW52b2ljZScpIHsKICAgICAgICAgICAgICAgIHVybCA9IGBkZWxheWVkX2ludm9pY2Vfdmlldy8ke2RhdGEuaWR9YAogICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ1NhbGUgT3JkZXInKSB7CiAgICAgICAgICAgICAgICB1cmwgPSBgc2FsZV9vcmRlcl92aWV3LyR7ZGF0YS5pZH1gCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnUHVyY2hhc2UgT3JkZXInKSB7CiAgICAgICAgICAgICAgICB1cmwgPSBgcHVyY2hhc2Vfb3JkZXJfdmlldy8ke2RhdGEuaWR9YAogICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ0NyZWRpdCBNZW1vJykgewogICAgICAgICAgICAgICAgdXJsID0gYHNhbGVfcmV0dXJuX3ZpZXcvJHtkYXRhLmlkfWAKICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdEZWJpdCBNZW1vJykgewogICAgICAgICAgICAgICAgdXJsID0gYHB1cmNoYXNlX3JldHVybl92aWV3LyR7ZGF0YS5pZH1gCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnSW52ZW50b3J5IEFkanVzdG1lbnQnKSB7CiAgICAgICAgICAgICAgICB1cmwgPSBgaW52ZW50b3J5X2FkanVzdG1lbnRfdmlldy8ke2RhdGEuaWR9YAogICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ1B1cmNoYXNlJykgewogICAgICAgICAgICAgICAgdXJsID0gYGNyZWRpdF9wdXJjaGFzZV92aWV3LyR7ZGF0YS5pZH1gCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnUHJvZHVjdGlvbiBPcmRlcicpIHsKICAgICAgICAgICAgICAgIHVybCA9IGBwcm9kdWN0aW9uX29yZGVyX3ZpZXcvJHtkYXRhLmlkfWAKICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdQcm9kdWN0aW9uJykgewogICAgICAgICAgICAgICAgdXJsID0gYHByb2R1Y3Rpb24vJHtkYXRhLmlkfWAKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbGV0IGFyZ3MgPSB7CiAgICAgICAgICAgICAgICB0ZXh0OiBkYXRhLnR4bk51bWJlciwKICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgdGVtcGxhdGU6IExpbmtUZW1wbGF0ZSwKICAgICAgICAgICAgICAgIHRlbXBsYXRlQXJnczogYXJncwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgIH0sCiAgICBhc3luYyBtb3VudGVkKCkgewogICAgICAgIGF3YWl0IHRoaXMuc2VhcmNoVHJhbnNhY3Rpb24oKQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgJ2lkJzogJ3NlYXJjaFRyYW5zYWN0aW9uJwogICAgfSwKfTsK"},{"version":3,"sources":["Transactions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Transactions.vue","sourceRoot":"src/views/products_services/service/services_items","sourcesContent":["<template>\n    <v-row>\n        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n            <v-card color=\"white\" class=\"pl-2 no_border\" elevation=\"0\">\n                <!--                <h2 class=\"mb-0\">{{ $t('services_sale_transactions') }}</h2>-->\n                <v-row>\n                    <v-col sm=\"9\" cols=\"12\" class=\"py-0\">\n                        <app-searchdate :initStartDate=\"startDate\" @emitStartDate=\"startDate = $event\"\n                                        :initEndDate=\"endDate\" @emitEndDate=\"endDate = $event\"/>\n                    </v-col>\n\n                    <v-col sm=\"1\" cols=\"12\" class=\"py-0 mt-1\">\n                        <v-btn class=\"btn_search\" style=\"background-color: rgb(237, 241, 245)\"\n                               @click=\"searchTransaction\">\n                            <i class=\"b-search\" style=\"font-size: 18px; color:#fff !important;\"/>\n                        </v-btn>\n                    </v-col>\n\n                </v-row>\n                <v-row>\n                    <v-col sm=\"12\" cols=\"12\">\n                        <template>\n                            <LoadingMe\n                                :isLoading=\"showLoading\"\n                                :fullPage=\"false\"\n                                type=\"loading\"\n                                :myLoading=\"true\">\n\n                            </LoadingMe>\n                            <kendo-datasource ref=\"productTxnDS\"\n                                              :data=\"inventoryList\"/>\n                            <kendo-grid id=\"gridProductTXN\" class=\"grid-function\"\n                                        :data-source-ref=\"'productTxnDS'\"\n                                        :sortable=\"false\"\n                                        :groupable=\"false\"\n                                        :filterable=\"false\"\n                                        :column-menu=\"true\"\n                                        :editable=\"false\"\n                                        :style=\"{width: '100%'}\"\n                                        :noRecords=\"true\"\n                                        :scrollable-virtual=\"true\"\n                            >\n                                <kendo-grid-column\n                                    :field=\"'type'\"\n                                    :title=\"$t('type')\"\n                                    :template=\"'<span>#=type#</span>'\"\n                                    :width=\"150\"\n                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'\n                                                }\"/>\n                                <kendo-grid-column\n                                    :field=\"'txnDate'\"\n                                    :title=\"$t('date')\"\n                                    :template=\"'<span>#=kendo.toString(new Date(txnDate), dateFormat)#</span>'\"\n                                    :width=\"120\"\n                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'\n                                                }\"/>\n                                <kendo-grid-column\n                                    :field=\"'name'\"\n                                    :title=\"$t('supplier')\"\n                                    :template=\"'<span>#=name#</span>'\"\n                                    :width=\"200\"\n                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'\n                                                }\"/>\n                                <kendo-grid-column\n                                    :field=\"'txnNumber'\"\n                                    :title=\"$t('reference_no')\"\n                                    :template=\"referenceTemplate\"\n                                    :width=\"150\"\n                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'\n                                                }\"/>\n\n                                <kendo-grid-column\n                                    :field=\"'uom'\"\n                                    :title=\"$t('txn_uom')\"\n                                    :template=\"'<span>#=uom.uom.name || ``#</span>'\"\n                                    :width=\"150\"\n                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'\n                                                }\"/>\n                                <kendo-grid-column\n                                    :field=\"'qty'\"\n                                    :title=\"$t('qty')\"\n                                    :template=\"'<span>#=kendo.toString(qty, decimalFormat)#</span>'\"\n                                    :width=\"100\"\n                                    :attributes=\"{style: 'text-align: right'}\"\n                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'\n                                                }\"/>\n                                <kendo-grid-column\n                                    :field=\"'costOrPrice'\"\n                                    :title=\"$t('price')\"\n                                    :template=\"'<span>#=kendo.toString(costOrPrice, decimalFormat)#</span>'\"\n                                    :width=\"100\"\n                                    :attributes=\"{style: 'text-align: right'}\"\n                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'\n                                                }\"/>\n                                <kendo-grid-column\n                                    :field=\"'additionalCost'\"\n                                    :title=\"$t('addlc')\"\n                                    :template=\"'<span>#=kendo.toString(additionalCost, decimalFormat)#</span>'\"\n                                    :width=\"180\"\n                                    :hidden=\"true\"\n                                    :attributes=\"{style: 'text-align: right'}\"\n                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'\n                                                }\"/>\n                                <kendo-grid-column\n                                    :field=\"'exchangeAmount'\"\n                                    :title=\"$t('amount')\"\n                                    :template=\"'<span>#=kendo.toString(exchangeAmount, decimalFormat)#</span>'\"\n                                    :width=\"180\"\n                                    :attributes=\"{style: 'text-align: right'}\"\n                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'\n                                                }\"/>\n\n                            </kendo-grid>\n                        </template>\n                    </v-col>\n                </v-row>\n            </v-card>\n        </v-col>\n    </v-row>\n</template>\n<script>\nimport SearchDateComponent from \"@/components/custom_templates/SearchDate\";\nimport LinkTemplate from \"@/components/kendo_templates/LinkTemplate\";\n\nconst itemHandler = require(\"@/scripts/productVariantHandler\")\nexport default {\n    name: \"ServiceTransactions\",\n    props: {\n        service: {}\n    },\n    computed: {\n        id() {\n            if (this.service) {\n                return this.service.id\n            } else {\n                return ''\n            }\n        }\n    },\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n        'app-searchdate': SearchDateComponent,\n    },\n    data: () => ({\n        showLoading: false,\n        mDateSorter: 'Today',\n        startDate: new Date().toISOString().substr(0, 10),\n        endDate: new Date().toISOString().substr(0, 10),\n        dateSorters: ['Today', 'This Week', 'This Month', 'This Year'],\n        isLoaded: false,\n        inventoryList: []\n    }),\n    methods: {\n        async searchTransaction() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.showLoading = true\n                    const startDate = this.startDate\n                    const endDate = this.endDate\n                    let strFilter = '?start=' + startDate + '&end=' + endDate + '&item=1'\n                    if (this.id !== undefined || this.id !== null) {\n                        strFilter = '?start=' + startDate + '&end=' + endDate + '&id=' + this.id + '&item=1'\n                    }\n                    // billingHandler.inventoryListByFunction(strFilter).then(res => {\n                    itemHandler.txnItem(strFilter).then(res => {\n                        if (res.data.statusCode === 200) {\n                            this.inventoryList = res.data.data\n                        }\n                        this.showLoading = false\n                    })\n\n                }, 10)\n            })\n        },\n        referenceTemplate(data) {\n            let url = `#`\n            if (data.type === 'Invoice') {\n                url = `invoice_view/${data.id}`\n            } else if (data.type === 'Sale Quote') {\n                url = `sale_quote_view/${data.id}`\n            } else if (data.type === 'Delayed Invoice') {\n                url = `delayed_invoice_view/${data.id}`\n            } else if (data.type === 'Sale Order') {\n                url = `sale_order_view/${data.id}`\n            } else if (data.type === 'Purchase Order') {\n                url = `purchase_order_view/${data.id}`\n            } else if (data.type === 'Credit Memo') {\n                url = `sale_return_view/${data.id}`\n            } else if (data.type === 'Debit Memo') {\n                url = `purchase_return_view/${data.id}`\n            } else if (data.type === 'Inventory Adjustment') {\n                url = `inventory_adjustment_view/${data.id}`\n            } else if (data.type === 'Purchase') {\n                url = `credit_purchase_view/${data.id}`\n            } else if (data.type === 'Production Order') {\n                url = `production_order_view/${data.id}`\n            } else if (data.type === 'Production') {\n                url = `production/${data.id}`\n            }\n\n            let args = {\n                text: data.txnNumber,\n                url: url,\n                data: data,\n            }\n            return {\n                template: LinkTemplate,\n                templateArgs: args\n            }\n        },\n    },\n    async mounted() {\n        await this.searchTransaction()\n    },\n    watch: {\n        'id': 'searchTransaction'\n    },\n};\n</script>\n<style scoped>\n</style>\n"]}]}