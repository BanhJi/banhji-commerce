{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/suppliers/Purchases.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/suppliers/Purchases.vue","mtime":1638499443346},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBrZW5kbyBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tdWknCmltcG9ydCB7aTE4bn0gZnJvbSAnQC9pMThuJwppbXBvcnQgTG9hZGluZ01lIGZyb20gJ0AvY29tcG9uZW50cy9Mb2FkaW5nJwppbXBvcnQgRGF0ZVBpY2tlckNvbXBvbmVudCBmcm9tICdAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9EYXRlUGlja2VyQ29tcG9uZW50JwoKLyogU3RvcmUgKi8KaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiCmNvbnN0IGluc3RpdHV0ZSA9IHN0b3JlLnN0YXRlLmluc3RpdHV0ZS5pbnN0aXR1dGUKCmNvbnN0IGFjY291bnRUeXBlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9oYW5kbGVyL2FjY291bnRpbmcvYWNjb3VudFR5cGUuanMiKQpjb25zdCBhY2NvdW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9oYW5kbGVyL2FjY291bnRpbmcvYWNjb3VudC5qcyIpCmNvbnN0IGpvdXJuYWxIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2pvdXJuYWxIYW5kbGVyLmpzIikKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJDYXNoIiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBMb2FkaW5nTWUsCiAgICAgICAgJ2FwcC1kYXRlcGlja2VyJzogRGF0ZVBpY2tlckNvbXBvbmVudCwKICAgIH0sCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIC8vIFNlYXJjaCB0cmFuc2FjdGlvbiBkYXRlcwogICAgICAgIHN0YXJ0X2RhdGU6ICIiLAogICAgICAgIGVuZF9kYXRlOiAiIiwKICAgICAgICBkYXRlU29ydGVyczogWydUb2RheScsICdUaGlzIFdlZWsnLCAnVGhpcyBNb250aCcsICdUaGlzIFllYXInXSwKICAgICAgICBqb3VybmFsX2VudHJpZXM6IFtdLAogICAgICAgIC8vIENPQSBzaWRlYmFyCiAgICAgICAgc2VhcmNoVGV4dDogJycsCiAgICAgICAgYWNjb3VudHM6IFtdLAogICAgICAgIGFjY291bnRzX2JrOiBbXSwKICAgICAgICBhY2NvdW50X3R5cGVzOiBbXSwKICAgICAgICAvLyBBY2NvdW50IGluZm9ybWF0aW9uCiAgICAgICAgYWNjb3VudDogW10sCiAgICAgICAgZmlsZXM6IFtdLAogICAgICAgIGF0dGFjaG1lbnRzOiBbXSwKICAgICAgICBiYWxhbmNlOiAwLAogICAgICAgIGJhY2tkYXRlZDogMCwKICAgICAgICBmb3J3YXJkZWQ6IDAsCiAgICAgICAgLy8gTG9hZGluZ01lCiAgICAgICAgY29tcGVsZXRMb2FkaW5nOiBmYWxzZSwKICAgICAgICBpc0xvYWRlZDogZmFsc2UsCiAgICAgICAgLy8gS2VuZG8gZGF0YVNvdXJjZQogICAgICAgIHNjaGVtYURlZmluaXRpb246IHsKICAgICAgICAgICAgbW9kZWw6IHtpZDogImlkIn0KICAgICAgICB9LAogICAgICAgIC8qIFNvcnQgYnkgYWNjb3VudCBudW1iZXIgKi8KICAgICAgICBzb3J0RGVmaW5pdGlvbjoge2ZpZWxkOiAibnVtYmVyIn0sCiAgICAgICAgLy8gR3JvdXAgb3JkZXIgYnkgYWNjb3VudF90eXBlX2lkIGFzYwogICAgICAgIGdyb3VwRGVmaW5pdGlvbjogewogICAgICAgICAgICBmaWVsZDogImFjY291bnRfdHlwZS5uYW1lIiwKICAgICAgICAgICAgY29tcGFyZTogZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgICAgIGlmIChhLml0ZW1zWzBdLm51bWJlciA9PT0gYi5pdGVtc1swXS5udW1iZXIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYS5pdGVtc1swXS5udW1iZXIgPiBiLml0ZW1zWzBdLm51bWJlcikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfSksCiAgICBtZXRob2RzOiB7CiAgICAgICAgLyogRGF0ZSBmb3JtYXQgKi8KICAgICAgICBkYXRlRm9ybWF0KHRoZURhdGUpIHsKICAgICAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKHRoZURhdGUpLCBpbnN0aXR1dGUuZGF0ZUZvcm1hdCkKICAgICAgICB9LAogICAgICAgIC8vIE9uIFNvcnRlciBDaGFuZ2VzCiAgICAgICAgb25Tb3J0ZXJDaGFuZ2VzKHZhbCkgewogICAgICAgICAgICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpCgogICAgICAgICAgICBzd2l0Y2ggKHZhbCkgewogICAgICAgICAgICAgICAgY2FzZSAiVG9kYXkiOgogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRfZGF0ZSA9IGtlbmRvLnRvU3RyaW5nKHRvZGF5LCAneXl5eS1NTS1kZCcpCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRfZGF0ZSA9IGtlbmRvLnRvU3RyaW5nKHRvZGF5LCAneXl5eS1NTS1kZCcpCgogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBjYXNlICJUaGlzIFdlZWsiOgogICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdCA9IHRvZGF5LmdldERhdGUoKSAtIHRvZGF5LmdldERheSgpLAogICAgICAgICAgICAgICAgICAgICAgICBsYXN0ID0gZmlyc3QgKyA2OwoKICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0X2RhdGUgPSBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh0b2RheS5zZXREYXRlKGZpcnN0KSksICd5eXl5LU1NLWRkJykKICAgICAgICAgICAgICAgICAgICB0b2RheSA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZF9kYXRlID0ga2VuZG8udG9TdHJpbmcobmV3IERhdGUodG9kYXkuc2V0RGF0ZShsYXN0KSksICd5eXl5LU1NLWRkJykKCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGNhc2UgIlRoaXMgTW9udGgiOgogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRfZGF0ZSA9IGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIDEpLCAneXl5eS1NTS1kZCcpCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRfZGF0ZSA9IGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIDMxKSwgJ3l5eXktTU0tZGQnKQoKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgY2FzZSAiVGhpcyBZZWFyIjoKICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0X2RhdGUgPSBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCAwLCAxKSwgJ3l5eXktTU0tZGQnKQogICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kX2RhdGUgPSBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCAxMSwgMzEpLCAneXl5eS1NTS1kZCcpCgogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRfZGF0ZSA9ICIiOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kX2RhdGUgPSAiIjsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8gU2VhcmNoIFRyYW5zYWN0aW9uCiAgICAgICAgc2VhcmNoVHJhbnNhY3Rpb24oKSB7CiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcywKICAgICAgICAgICAgICAgIGFjY291bnQgPSB0aGlzLmFjY291bnQsCiAgICAgICAgICAgICAgICBzZGF0ZSA9IHRoaXMuc3RhcnRfZGF0ZSwKICAgICAgICAgICAgICAgIGVkYXRlID0gdGhpcy5lbmRfZGF0ZTsKCiAgICAgICAgICAgIGlmIChhY2NvdW50LmlkKSB7CiAgICAgICAgICAgICAgICBpZiAoc2RhdGUgJiYgZWRhdGUpIHsKICAgICAgICAgICAgICAgICAgICBzZGF0ZSA9IGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKHNkYXRlKSwgJ3l5eXktTU0tZGQnKSArICdUMDA6MDA6MDAuMDAwWicKCiAgICAgICAgICAgICAgICAgICAgZWRhdGUgPSBuZXcgRGF0ZShlZGF0ZSkKICAgICAgICAgICAgICAgICAgICBlZGF0ZSA9IGtlbmRvLnRvU3RyaW5nKGVkYXRlLCAneXl5eS1NTS1kZCcpICsgJ1QyMzo1OTo1OS45OTlaJwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzZGF0ZSA9IDAKICAgICAgICAgICAgICAgICAgICBlZGF0ZSA9IDAKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgdGhpcy5jb21wZWxldExvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICBqb3VybmFsSGFuZGxlci5nZXRFbnRyeURldGFpbEJ5QWNjb3VudCh7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRfdXVpZDogYWNjb3VudC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRfZGF0ZTogc2RhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZF9kYXRlOiBlZGF0ZSwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFsYW5jZSA9IGtlbmRvLnRvU3RyaW5nKHJlcy5iYWxhbmNlLCAnbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tkYXRlZCA9IGtlbmRvLnRvU3RyaW5nKHJlcy5iYWNrX2RhdGVfdHJhbnNhY3Rpb24sICduJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9yd2FyZGVkID0ga2VuZG8udG9TdHJpbmcocmVzLmZ1dHVyZV9kYXRlX3RyYW5zYWN0aW9uLCAnbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpvdXJuYWxfZW50cmllcyA9IHJlcy5lbnRyaWVzX2RldGFpbAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcGVsZXRMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvLyBPbiBBY2NvdW50IFR5cGUgQ2hhbmdlcwogICAgICAgIGFzeW5jIG9uQWNjb3VudFR5cGVDaGFuZ2VzKGFjY291bnRUeXBlTnVtYmVyKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKQoKICAgICAgICAgICAgICAgIGlmIChhY2NvdW50VHlwZU51bWJlciA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2NvdW50cyA9IHRoaXMuYWNjb3VudHNfYmsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2NvdW50cyA9IHRoaXMuYWNjb3VudHNfYmsuZmlsdGVyKAogICAgICAgICAgICAgICAgICAgICAgICBtID0+IG0uYWNjb3VudF90eXBlX251bWJlciA9PT0gYWNjb3VudFR5cGVOdW1iZXIKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvLyBPbiBTZWFyY2ggQ2hhbmdlcwogICAgICAgIGFzeW5jIG9uU2VhcmNoQ2hhbmdlcyhzZWFyY2hUZXh0KSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKQoKICAgICAgICAgICAgICAgIGlmIChzZWFyY2hUZXh0ICE9PSAnJykgewogICAgICAgICAgICAgICAgICAgIHRoaXMuYWNjb3VudHMgPSB0aGlzLmFjY291bnRzX2JrLmZpbHRlcigKICAgICAgICAgICAgICAgICAgICAgICAgbSA9PiAobS5udW1iZXIudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaFRleHQpID4gLTEgfHwgbS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2hUZXh0KSA+IC0xKQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuYWNjb3VudHMgPSB0aGlzLmFjY291bnRzX2JrCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvLyBPbiBDaGFuZ2UgaXRlbSBzZWxlY3Rpb24KICAgICAgICBvbkNPQUdyaWRDaGFuZ2UoKSB7CiAgICAgICAgICAgIGxldCBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZENPQSIpLmRhdGEoImtlbmRvR3JpZCIpCiAgICAgICAgICAgIGxldCBzZWxlY3RlZEl0ZW0gPSBncmlkLmRhdGFJdGVtKGdyaWQuc2VsZWN0KCkpCgogICAgICAgICAgICBpZiAodGhpcy5hY2NvdW50LmlkICE9PSBzZWxlY3RlZEl0ZW0uaWQpIHsKICAgICAgICAgICAgICAgIHRoaXMuYWNjb3VudCA9IHNlbGVjdGVkSXRlbQogICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hUcmFuc2FjdGlvbigpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIEdvIFRvIEVkaXQgUGFnZQogICAgICAgIGdvRWRpdCgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuYWNjb3VudC5pZCkgewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICdBY2NvdW50JywgcGFyYW1zOiB7aWQ6IHRoaXMuYWNjb3VudC5pZH19KQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIC8vIENhbGwgQWNjb3VudCBUeXBlIExpc3QKICAgICAgICBhY2NvdW50VHlwZUhhbmRsZXIuZ2V0QWxsKCkKICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuYWNjb3VudF90eXBlcyA9IHJlcy5kYXRhLmZpbHRlcihpdGVtID0+IGl0ZW0ubnVtYmVyID09IDEgfHwgaXRlbS5udW1iZXIgPT0gNSkgLy8gRmlsdGVyIENhc2ggQWNjb3VudCBUeXBlIFsxLDVdCiAgICAgICAgICAgIH0pCgogICAgICAgIC8vIENhbGwgQWNjb3VudCBMaXN0CiAgICAgICAgYWNjb3VudEhhbmRsZXIuZ2V0TGlzdEJ5UGFyZW50KCkKICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgYWNjdHMgPSByZXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5hY2NvdW50X3R5cGUubnVtYmVyID09IDEgfHwgaXRlbS5hY2NvdW50X3R5cGUubnVtYmVyID09IDUpIC8vIEZpbHRlciBDYXNoIEFjY291bnQgWzEsNV0KICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY291bnRzID0gYWNjdHMKICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY291bnRzX2JrID0gYWNjdHMKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBlbGV0TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBoZWFkZXJzKCkgewogICAgICAgICAgICByZXR1cm4gWwogICAgICAgICAgICAgICAge3RleHQ6IGkxOG4udCgnZGF0ZScpLCB2YWx1ZTogJ2pvdXJuYWxfZGF0ZSd9LAogICAgICAgICAgICAgICAge3RleHQ6IGkxOG4udCgndHlwZScpLCB2YWx1ZTogJ2pvdXJuYWxfdHlwZSd9LAogICAgICAgICAgICAgICAge3RleHQ6IGkxOG4udCgnbnVtYmVyJyksIHZhbHVlOiAnam91cm5hbF9udW1iZXInfSwKICAgICAgICAgICAgICAgIHt0ZXh0OiBpMThuLnQoJ2Rlc2NyaXB0aW9uJyksIHZhbHVlOiAnZGVzY3JpcHRpb24nfSwKICAgICAgICAgICAgICAgIHt0ZXh0OiBpMThuLnQoJ2RlYml0JyksIHZhbHVlOiAnZHInfSwKICAgICAgICAgICAgICAgIHt0ZXh0OiBpMThuLnQoJ2NyZWRpdCcpLCB2YWx1ZTogJ2NyJ30sCiAgICAgICAgICAgIF0KICAgICAgICB9LAogICAgfSwKfTsK"},{"version":3,"sources":["Purchases.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Purchases.vue","sourceRoot":"src/views/suppliers","sourcesContent":["<template>\n    <v-row>\n        <v-col cols=\"12\" sm=\"12\">\n\n            <!-- loading -->\n            <LoadingMe\n                    :isLoading=\"compeletLoading\"\n                    :fullPage=\"false\"\n                    :myLoading=\"true\"/>\n            <v-row>\n                <v-col class=\"pb-0\" cols=\"\">\n                    <v-card outlined dense class=\"pa-3 no_border\" color=\"primary\" min-height=\"88px\">\n                        <p class=\"white--text mb-0 text-uppercase\">{{$t('total_purchases')}}</p>\n                        <h3 class=\"white--text mt-5 text-right\">$1,000,00</h3>\n                    </v-card>\n                </v-col>\n                <v-col class=\"pb-0\" cols=\"\">\n                    <v-card outlined dense class=\"pa-3 no_border\" color=\"primary\" min-height=\"88px\">\n                        <p class=\"white--text mb-0 text-uppercase\">{{$t('suppliers')}}</p>\n                        <h3 class=\"white--text mt-5 text-right\">$1,000,00</h3>\n                    </v-card>\n                </v-col>\n                <v-col class=\"pb-0\" cols=\"\">\n                    <v-card outlined dense class=\"pa-3 no_border\" color=\"primary\" min-height=\"88px\">\n                        <p class=\"white--text mb-0 text-uppercase\">{{$t('supplier_balance')}}</p>\n                        <h3 class=\"white--text mt-5 text-right\">$1,000,00</h3>\n                    </v-card>\n                </v-col>\n                <v-col class=\"pb-0\" cols=\"\">\n                    <v-card outlined dense class=\"pa-3 no_border\" color=\"primary\" min-height=\"88px\">\n                        <p class=\"white--text mb-0 text-uppercase\">{{$t('open_order')}}</p>\n                        <h3 class=\"white--text mt-5 text-right\">$1,000,00</h3>\n                    </v-card>\n                </v-col>\n                <v-col class=\"pb-0\" cols=\"\">\n                    <v-card outlined dense class=\"pa-3 no_border\" color=\"third\" min-height=\"88px\">\n                        <p class=\"white--text mb-0 text-uppercase\">{{$t('credit_card_balance')}}</p>\n                        <h3 class=\"white--text mt-5 text-right\">1,000</h3>\n                    </v-card>\n                </v-col>\n            </v-row>\n\n            <v-row class=\"\">\n                <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                    <v-select class=\"mt-1\"\n                              :items=\"dateSorters\"\n                              @change=\"onSorterChanges\"\n                              clearable\n                              outlined\n                              placeholder=\"ALL\"\n                    />\n                </v-col>\n\n                <v-col sm=\"3\" cols=\"12\" class=\"pb-0\">\n                    <app-datepicker :initialDate=\"start_date\" @emitDate=\"start_date = $event\"/>\n                </v-col>\n\n                <v-col sm=\"3\" cols=\"12\" class=\"pb-0\">\n                    <app-datepicker :initialDate=\"end_date\" @emitDate=\"end_date = $event\"/>\n                </v-col>\n\n                <v-col sm=\"1\" cols=\"1\" class=\"pb-0 mt-1\">\n                    <v-btn color=\"primary white--text\" @click=\"searchTransaction\">\n                        <i class=\"b-search\" style=\"font-size: 18px; color:#fff\"/>\n                    </v-btn>\n                </v-col>\n            </v-row>\n\n            <row>\n                <template>\n                    <v-simple-table class=\"attachment_table\">\n                        <template v-slot:default>\n                            <thead>\n                            <tr>\n                                <th>{{$t('date')}} </th>\n                                <th>{{$t('name')}} </th>\n                                <th>{{$t('type')}} </th>\n                                <th>{{$t('reference')}} </th>\n                                <th>{{$t('amount')}} </th>\n                                <th>{{$t('status')}} </th>\n                                <th>{{$t('action')}} </th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            <tr>\n                                <td>01</td>\n                                <td>JB00009</td>\n                                <td>15/July/2020</td>\n                                <td>VARIANCE</td>\n                                <td>15/July/2020</td>\n                                <td>VARIANCE</td>\n                                <td class=\"text-center\">80%</td>\n                            </tr>\n                            </tbody>\n                        </template>\n                    </v-simple-table>\n                </template>\n            </row>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\n    import kendo from '@progress/kendo-ui'\n    import {i18n} from '@/i18n'\n    import LoadingMe from '@/components/Loading'\n    import DatePickerComponent from '@/components/custom_templates/DatePickerComponent'\n\n    /* Store */\n    import store from \"@/store\"\n    const institute = store.state.institute.institute\n\n    const accountTypeHandler = require(\"@/scripts/handler/accounting/accountType.js\")\n    const accountHandler = require(\"@/scripts/handler/accounting/account.js\")\n    const journalHandler = require(\"@/scripts/journalHandler.js\")\n\n    export default {\n        name: \"Cash\",\n        components: {\n            LoadingMe,\n            'app-datepicker': DatePickerComponent,\n        },\n        data: () => ({\n            // Search transaction dates\n            start_date: \"\",\n            end_date: \"\",\n            dateSorters: ['Today', 'This Week', 'This Month', 'This Year'],\n            journal_entries: [],\n            // COA sidebar\n            searchText: '',\n            accounts: [],\n            accounts_bk: [],\n            account_types: [],\n            // Account information\n            account: [],\n            files: [],\n            attachments: [],\n            balance: 0,\n            backdated: 0,\n            forwarded: 0,\n            // LoadingMe\n            compeletLoading: false,\n            isLoaded: false,\n            // Kendo dataSource\n            schemaDefinition: {\n                model: {id: \"id\"}\n            },\n            /* Sort by account number */\n            sortDefinition: {field: \"number\"},\n            // Group order by account_type_id asc\n            groupDefinition: {\n                field: \"account_type.name\",\n                compare: function (a, b) {\n                    if (a.items[0].number === b.items[0].number) {\n                        return 0;\n                    } else if (a.items[0].number > b.items[0].number) {\n                        return 1;\n                    } else {\n                        return -1;\n                    }\n                }\n            },\n        }),\n        methods: {\n            /* Date format */\n            dateFormat(theDate) {\n                return kendo.toString(new Date(theDate), institute.dateFormat)\n            },\n            // On Sorter Changes\n            onSorterChanges(val) {\n                let today = new Date()\n\n                switch (val) {\n                    case \"Today\":\n                        this.start_date = kendo.toString(today, 'yyyy-MM-dd')\n                        this.end_date = kendo.toString(today, 'yyyy-MM-dd')\n\n                        break\n                    case \"This Week\":\n                        var first = today.getDate() - today.getDay(),\n                            last = first + 6;\n\n                        this.start_date = kendo.toString(new Date(today.setDate(first)), 'yyyy-MM-dd')\n                        today = new Date()\n                        this.end_date = kendo.toString(new Date(today.setDate(last)), 'yyyy-MM-dd')\n\n                        break\n                    case \"This Month\":\n                        this.start_date = kendo.toString(new Date(today.getFullYear(), today.getMonth(), 1), 'yyyy-MM-dd')\n                        this.end_date = kendo.toString(new Date(today.getFullYear(), today.getMonth(), 31), 'yyyy-MM-dd')\n\n                        break\n                    case \"This Year\":\n                        this.start_date = kendo.toString(new Date(today.getFullYear(), 0, 1), 'yyyy-MM-dd')\n                        this.end_date = kendo.toString(new Date(today.getFullYear(), 11, 31), 'yyyy-MM-dd')\n\n                        break\n                    default:\n                        this.start_date = \"\";\n                        this.end_date = \"\";\n                }\n            },\n            // Search Transaction\n            searchTransaction() {\n                let self = this,\n                    account = this.account,\n                    sdate = this.start_date,\n                    edate = this.end_date;\n\n                if (account.id) {\n                    if (sdate && edate) {\n                        sdate = kendo.toString(new Date(sdate), 'yyyy-MM-dd') + 'T00:00:00.000Z'\n\n                        edate = new Date(edate)\n                        edate = kendo.toString(edate, 'yyyy-MM-dd') + 'T23:59:59.999Z'\n                    } else {\n                        sdate = 0\n                        edate = 0\n                    }\n\n                    this.isLoaded = true\n                    this.compeletLoading = true\n                    journalHandler.getEntryDetailByAccount({\n                        params: {\n                            account_uuid: account.id,\n                            start_date: sdate,\n                            end_date: edate,\n                        }\n                    })\n                        .then(res => {\n                            if (res) {\n                                this.balance = kendo.toString(res.balance, 'n')\n                                this.backdated = kendo.toString(res.back_date_transaction, 'n')\n                                this.forwarded = kendo.toString(res.future_date_transaction, 'n')\n                                this.journal_entries = res.entries_detail\n                            }\n                        })\n                        .finally(function () {\n                            self.compeletLoading = false\n                        })\n                }\n            },\n            // On Account Type Changes\n            async onAccountTypeChanges(accountTypeNumber) {\n                new Promise(resolve => {\n                    resolve('resolved')\n\n                    if (accountTypeNumber === undefined) {\n                        this.accounts = this.accounts_bk\n                    } else {\n                        this.accounts = this.accounts_bk.filter(\n                            m => m.account_type_number === accountTypeNumber\n                        )\n                    }\n                })\n            },\n            // On Search Changes\n            async onSearchChanges(searchText) {\n                new Promise(resolve => {\n                    resolve('resolved')\n\n                    if (searchText !== '') {\n                        this.accounts = this.accounts_bk.filter(\n                            m => (m.number.toLowerCase().indexOf(searchText) > -1 || m.name.toLowerCase().indexOf(searchText) > -1)\n                        );\n                    } else {\n                        this.accounts = this.accounts_bk\n                    }\n                })\n            },\n            // On Change item selection\n            onCOAGridChange() {\n                let grid = kendo.jQuery(\"#gridCOA\").data(\"kendoGrid\")\n                let selectedItem = grid.dataItem(grid.select())\n\n                if (this.account.id !== selectedItem.id) {\n                    this.account = selectedItem\n                    this.searchTransaction()\n                }\n            },\n            // Go To Edit Page\n            goEdit() {\n                if (this.account.id) {\n                    this.$router.push({name: 'Account', params: {id: this.account.id}})\n                }\n            },\n        },\n        mounted() {\n            // Call Account Type List\n            accountTypeHandler.getAll()\n                .then(res => {\n                    this.account_types = res.data.filter(item => item.number == 1 || item.number == 5) // Filter Cash Account Type [1,5]\n                })\n\n            // Call Account List\n            accountHandler.getListByParent()\n                .then(res => {\n                    if (res) {\n                        let accts = res.filter(item => item.account_type.number == 1 || item.account_type.number == 5) // Filter Cash Account [1,5]\n                        this.accounts = accts\n                        this.accounts_bk = accts\n                        this.compeletLoading = false\n                    }\n                })\n        },\n        computed: {\n            headers() {\n                return [\n                    {text: i18n.t('date'), value: 'journal_date'},\n                    {text: i18n.t('type'), value: 'journal_type'},\n                    {text: i18n.t('number'), value: 'journal_number'},\n                    {text: i18n.t('description'), value: 'description'},\n                    {text: i18n.t('debit'), value: 'dr'},\n                    {text: i18n.t('credit'), value: 'cr'},\n                ]\n            },\n        },\n    };\n</script>\n<style scoped>\n    .purchases {\n        position: relative;\n        width: 100%;\n        background-color: #fff;\n        padding: 20px 20px 5px;\n    }\n\n    .report_filter {\n        background-color: #edf1f5;\n        padding: 0 20px 0px 20px;\n    }\n\n    .report_block .v-card.third {\n        background-color: #00b050;\n        border: none;\n        box-shadow: none;\n        color: #ffffff;\n        float: left;\n        width: 100%;\n    }\n\n    .report_block .v-card.third p.text {\n        text-align: left;\n        font-size: 17px;\n    }\n\n    .report_block .v-card.third p.number {\n        text-align: center;\n        font-size: 25px;\n        font-weight: 700;\n        margin-bottom: 0;\n    }\n\n    .dv_mt {\n        margin-top: 20px;\n    }\n\n    .report_block .left_card p:nth-child(2) {\n        width: 100%;\n        font-size: 19px;\n        font-family: \"Niradei-Bold\", serif;\n        padding: 7px 0 0 0;\n        text-align: right;\n    }\n\n    .attachment_table table tr th {\n        height: 55px !important;\n    }\n\n    @media (max-width: 576px) {\n        .dv_mt,\n        .dv_mt8 {\n            margin-top: 0;\n        }\n\n        .purchases {\n            margin-top: 0;\n        }\n    }\n    .b-search:before{\n        color: #fff !important;\n    }\n\n</style>"]}]}