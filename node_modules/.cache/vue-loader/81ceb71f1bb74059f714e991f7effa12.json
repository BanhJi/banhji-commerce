{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/customer/customer_credit_term/credit_limit_term/CreditLimitTerm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/customer/customer_credit_term/credit_limit_term/CreditLimitTerm.vue","mtime":1638499443202},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBEYXRlUGlja2VyQ29tcG9uZW50IGZyb20gIkAvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL0RhdGVQaWNrZXJDb21wb25lbnQiOwppbXBvcnQgQ3VzdG9tZXJNb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQ3VzdG9tZXIiOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKaW1wb3J0IExpbmtUZW1wbGF0ZSBmcm9tICJAL2NvbXBvbmVudHMva2VuZG9fdGVtcGxhdGVzL0xpbmtUZW1wbGF0ZSI7CmltcG9ydCB7IGRhdGFTdG9yZSB9IGZyb20gIkAvb2JzZXJ2YWJsZS9zdG9yZSI7Cgpjb25zdCBjdXN0b21lck1vZGVsID0gbmV3IEN1c3RvbWVyTW9kZWwoe30pOwovLyBjb25zdCAkID0gcmVxdWlyZSgianF1ZXJ5IikKY29uc3QgY3VzdG9tZXJUeXBlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jdXN0b21lclR5cGVIYW5kbGVyIik7CmNvbnN0IGN1c3RvbWVyR3JvdXBIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2N1c3RvbWVyR3JvdXBIYW5kbGVyIik7CmNvbnN0IGN1c3RvbWVySGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jdXN0b21lckhhbmRsZXIiKTsKLy8gY29uc3QgYmlsbGluZ0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaW52b2ljZS9oYW5kbGVyL2JpbGxpbmdIYW5kbGVyIik7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkN1c3RvbWVyQ2VudGVyIiwKICBwcm9wczogWyJpZCJdLAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmdNZTogKCkgPT4gaW1wb3J0KGBAL2NvbXBvbmVudHMvTG9hZGluZ2ApLAogICAgLy8gImFwcC1kYXRlcGlja2VyIjogRGF0ZVBpY2tlckNvbXBvbmVudCwKICAgIENyZWRpdExpbWl0OiAoKSA9PiBpbXBvcnQoJy4vQ3JlZHRMaW1pdCcpLAogICAgUGF5bWVudFRlcm06ICgpID0+IGltcG9ydCgnLi9QYXltZW50VGVybScpCiAgfSwKICBkYXRhOiAoKSA9PiAoewogICAgY3JlZGl0TGltaXRpdGVtOiBbXSwKICAgIHBheW1lbnRJdGVtOiBbXSwKICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgIHNob3dMb2FkaW5nVHhuOiBmYWxzZSwKICAgIHNob3dMb2FkaW5nQXRjaDogZmFsc2UsCiAgICBpbmZvOiB7fSwKICAgIGN1c3RvbWVyczogW10sCiAgICBzdGFydF9kYXRlOiAiIiwKICAgIGVuZF9kYXRlOiAiIiwKICAgIGN1c3RvbWVyVHlwZXM6IFtdLAogICAgbUN1c3RvbWVyVHlwZToge30sCiAgICBoZWFkZXJzOiBbXSwKICAgIGN1c3RvbWVyR3JvdXBzOiBbXSwKICAgIG1DdXN0b21lckdyb3VwOiB7fSwKICAgIGpvdXJuYWxfZW50cmllczogW10sCiAgICBmb3J3YXJkZWQ6ICIiLAogICAgZmlsZXM6IFtdLAogICAgc2VhcmNoOiAiIiwKICAgIGN1c3RvbWVyOiBjdXN0b21lck1vZGVsLAogICAgc2NoZW1hRGVmaW5pdGlvbjogewogICAgICBtb2RlbDoge2lkOiAiaWQifSwKICAgIH0sCiAgICBncm91cERlZmluaXRpb246IHsKICAgICAgZmllbGQ6ICJ0eXBlIiwKICAgIH0sCiAgICB0eG5MaXN0OiBbXSwKICAgIHN0YXJ0RGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICBlbmREYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwKICAgIGRhdGVTb3J0ZXJzOiBbIlRvZGF5IiwgIlRoaXMgV2VlayIsICJUaGlzIE1vbnRoIiwgIlRoaXMgWWVhciJdLAogICAgbURhdGVTb3J0ZXI6ICJUb2RheSIsCiAgICBydWxlczogWwogICAgICAoZmlsZXMpID0+CiAgICAgICAgICAhZmlsZXMgfHwKICAgICAgICAgICFmaWxlcy5zb21lKChmaWxlKSA9PiBmaWxlLnNpemUgPiA1ICogMTAyNCAqIDEwMjQpIHx8CiAgICAgICAgICAiQXZhdGFyIHNpemUgc2hvdWxkIGJlIGxlc3MgdGhhbiA1IE1CISIsCiAgICBdLAogICAgYXR0YWNobWVudExpc3Q6IFtdLAogICAgaW1nRmlsZTogIiIsCiAgICBzcmM6ICIiLAogICAgZmlsZV86IHt9LAogICAgZmlsZURlc2M6ICIiLAogICAgZmlsZVNpemU6IDAsCiAgICBmaWxlVHlwZTogIiIsCiAgICBmaWxlTmFtZTogIiIsCiAgfSksCiAgbWV0aG9kczogewogICAgdHJhbnNhY3Rpb25EYXRlKGRhdGFJdGVtKSB7CiAgICAgIGNvbnN0IHR4bkRhdGUgPSBkYXRhSXRlbS50cmFuc2FjdGlvbkRhdGU7CiAgICAgIGNvbnN0IGRhdGVGb3JtYXQgPSBkYXRhSXRlbS5kYXRlRm9ybWF0OwogICAgICBpZiAodHhuRGF0ZSkgewogICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh0eG5EYXRlKSwgZGF0ZUZvcm1hdCk7CiAgICAgIH0KICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIHJlZmVyZW5jZVRlbXBsYXRlKGRhdGEpIHsKICAgICAgbGV0IHVybCA9ICIiOwogICAgICBpZiAoZGF0YS50eXBlID09PSAiSW52b2ljZSIpIHsKICAgICAgICB1cmwgPSBgaW52b2ljZV92aWV3LyR7ZGF0YS50eG5JZH1gOwogICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gIlNhbGUgRGVwb3NpdCIpIHsKICAgICAgICB1cmwgPSBgc2FsZV9kZXBvc2l0X3ZpZXcvJHtkYXRhLnR4bklkfWA7CiAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAiUHVyY2hhc2UiKSB7CiAgICAgICAgdXJsID0gYHB1cmNoYXNlX3ZpZXcvJHtkYXRhLnR4bklkfWA7CiAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAiU2FsZSBRdW90ZSIpIHsKICAgICAgICB1cmwgPSBgc2FsZV9xdW90ZV92aWV3LyR7ZGF0YS50eG5JZH1gOwogICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gIkNhc2ggUmVjZWlwdCIpIHsKICAgICAgICB1cmwgPSBgY2FzaF9yZWNlaXB0X3ZpZXcvJHtkYXRhLnR4bklkfWA7CiAgICAgIH0KICAgICAgbGV0IGFyZ3MgPSB7CiAgICAgICAgdGV4dDogZGF0YS5yZWZlcmVuY2VObywKICAgICAgICB1cmw6IHVybCwKICAgICAgICBkYXRhOiBkYXRhLAogICAgICB9OwogICAgICByZXR1cm4gewogICAgICAgIHRlbXBsYXRlOiBMaW5rVGVtcGxhdGUsCiAgICAgICAgdGVtcGxhdGVBcmdzOiBhcmdzLAogICAgICB9OwogICAgfSwKICAgIHR4blN0YXR1cyhkYXRhSXRlbSkgewogICAgICBjb25zdCBzdGF0dXMgPSBkYXRhSXRlbS5zdGF0dXMgfHwgMTsKICAgICAgbGV0IHN0YXR1c1RleHQgPSAiIjsKICAgICAgc3dpdGNoIChzdGF0dXMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBzdGF0dXNUZXh0ID0gIk9QRU4iOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAyOgogICAgICAgICAgc3RhdHVzVGV4dCA9ICJQQVJUSUFMTFkgUEFJRCI7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDM6CiAgICAgICAgICBzdGF0dXNUZXh0ID0gIlBBSUQiOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA0OgogICAgICAgICAgc3RhdHVzVGV4dCA9ICJWT0lEIjsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIHJldHVybiBzdGF0dXNUZXh0OwogICAgfSwKICAgIC8vIGFzeW5jIHNlYXJjaFRyYW5zYWN0aW9uKCkgewogICAgLy8gICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgLy8gICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgLy8gICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgIC8vICAgICAgIGNvbnN0IGlkID0gdGhpcy5jdXN0b21lci5pZCB8fCAiIjsKICAgIC8vICAgICAgIGlmIChpZCkgewogICAgLy8gICAgICAgICB0aGlzLnNob3dMb2FkaW5nVHhuID0gdHJ1ZTsKICAgIC8vICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gdGhpcy5zdGFydERhdGU7CiAgICAvLyAgICAgICAgIGNvbnN0IGVuZERhdGUgPSB0aGlzLmVuZERhdGU7CiAgICAvLwogICAgLy8gICAgICAgICBpZiAoaWQpIHsKICAgIC8vICAgICAgICAgICBjb25zdCBzdHJGaWx0ZXIgPQogICAgLy8gICAgICAgICAgICAgICAiP3N0YXJ0PSIgKyBzdGFydERhdGUgKyAiJmVuZD0iICsgZW5kRGF0ZSArICImaWQ9IiArIGlkOwogICAgLy8gICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLmN1c3RvbWVyVHhuKHN0ckZpbHRlcikudGhlbigocmVzKSA9PiB7CiAgICAvLyAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmdUeG4gPSBmYWxzZTsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy50eG5MaXN0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXMuZGF0YS5kYXRhKSk7CiAgICAvLyAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgfSk7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgIH0KICAgIC8vICAgICB9LCAxMCk7CiAgICAvLyAgIH0pOwogICAgLy8gfSwKICAgIG9uU29ydGVyQ2hhbmdlcyh2YWwpIHsKICAgICAgbGV0IHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgc3dpdGNoICh2YWwpIHsKICAgICAgICBjYXNlICJUb2RheSI6CiAgICAgICAgICB0aGlzLnN0YXJ0RGF0ZSA9IGtlbmRvLnRvU3RyaW5nKHRvZGF5LCAieXl5eS1NTS1kZCIpOwogICAgICAgICAgdGhpcy5lbmREYXRlID0ga2VuZG8udG9TdHJpbmcodG9kYXksICJ5eXl5LU1NLWRkIik7CgogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAiVGhpcyBXZWVrIjoKICAgICAgICAgIHZhciBmaXJzdCA9IHRvZGF5LmdldERhdGUoKSAtIHRvZGF5LmdldERheSgpLAogICAgICAgICAgICAgIGxhc3QgPSBmaXJzdCArIDY7CgogICAgICAgICAgdGhpcy5zdGFydERhdGUgPSBrZW5kby50b1N0cmluZygKICAgICAgICAgICAgICBuZXcgRGF0ZSh0b2RheS5zZXREYXRlKGZpcnN0KSksCiAgICAgICAgICAgICAgInl5eXktTU0tZGQiCiAgICAgICAgICApOwogICAgICAgICAgICB0b2RheSA9IG5ldyBEYXRlKCkKICAgICAgICAgIHRoaXMuZW5kRGF0ZSA9IGtlbmRvLnRvU3RyaW5nKAogICAgICAgICAgICAgIG5ldyBEYXRlKHRvZGF5LnNldERhdGUobGFzdCkpLAogICAgICAgICAgICAgICJ5eXl5LU1NLWRkIgogICAgICAgICAgKTsKCiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJUaGlzIE1vbnRoIjoKICAgICAgICAgIHRoaXMuc3RhcnREYXRlID0ga2VuZG8udG9TdHJpbmcoCiAgICAgICAgICAgICAgbmV3IERhdGUodG9kYXkuZ2V0RnVsbFllYXIoKSwgdG9kYXkuZ2V0TW9udGgoKSwgMSksCiAgICAgICAgICAgICAgInl5eXktTU0tZGQiCiAgICAgICAgICApOwogICAgICAgICAgdGhpcy5lbmREYXRlID0ga2VuZG8udG9TdHJpbmcoCiAgICAgICAgICAgICAgbmV3IERhdGUodG9kYXkuZ2V0RnVsbFllYXIoKSwgdG9kYXkuZ2V0TW9udGgoKSwgMzEpLAogICAgICAgICAgICAgICJ5eXl5LU1NLWRkIgogICAgICAgICAgKTsKCiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJUaGlzIFllYXIiOgogICAgICAgICAgdGhpcy5zdGFydERhdGUgPSBrZW5kby50b1N0cmluZygKICAgICAgICAgICAgICBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCAwLCAxKSwKICAgICAgICAgICAgICAieXl5eS1NTS1kZCIKICAgICAgICAgICk7CiAgICAgICAgICB0aGlzLmVuZERhdGUgPSBrZW5kby50b1N0cmluZygKICAgICAgICAgICAgICBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCAxMSwgMzEpLAogICAgICAgICAgICAgICJ5eXl5LU1NLWRkIgogICAgICAgICAgKTsKCiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhpcy5zdGFydERhdGUgPSAiIjsKICAgICAgICAgIHRoaXMuZW5kRGF0ZSA9ICIiOwogICAgICB9CiAgICB9LAogICAgcm93TnVtYmVyVG1wbChkYXRhSXRlbSkgewogICAgICBsZXQgZHMgPSB0aGlzLiRyZWZzLnRyYW5zYWN0aW9uRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgb25DdXN0b21lclR5cGVDaGFuZ2VkKHNlYXJjaCkgewogICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5sb2FkQ3VzdG9tZXJDZW50ZXIoc2VhcmNoKTsKICAgIH0sCiAgICBhc3luYyBsb2FkQ3VzdG9tZXJHcm91cCgpIHsKICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICBjdXN0b21lckdyb3VwSGFuZGxlci5nZXQoKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmN1c3RvbWVyR3JvdXBzID0gcmVzOwogICAgICAgICAgICBpZiAodGhpcy5jdXN0b21lckdyb3Vwcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgdGhpcy5tQ3VzdG9tZXJHcm91cCA9IHRoaXMuY3VzdG9tZXJHcm91cHNbMF07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5sb2FkQ3VzdG9tZXJDZW50ZXIoIiIpOwogICAgICAgICAgfSk7CiAgICAgICAgfSwgMTApOwogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBjdXN0b21lckluZm8oKSB7CiAgICAgIHRoaXMuJGVtaXQoIm9uVXBkYXRlIiwgdGhpcy5jdXN0b21lcik7CiAgICB9LAogICAgYXN5bmMgb25DaGFuZ2VkKCkgewogICAgICBsZXQgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRDdXN0b21lcnMiKS5kYXRhKCJrZW5kb0dyaWQiKTsKICAgICAgbGV0IHNlbGVjdGVkSXRlbSA9IGdyaWQuZGF0YUl0ZW0oZ3JpZC5zZWxlY3QoKSk7CiAgICAgIHRoaXMuY3VzdG9tZXIgPSBzZWxlY3RlZEl0ZW07CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLmN1c3RvbWVyLCAibUN1c3RvbWVyIik7CiAgICAgIHRoaXMuJGVtaXQoIm9uVXBkYXRlIiwgc2VsZWN0ZWRJdGVtKTsKICAgIH0sCiAgICBhc3luYyBsb2FkQ3VzdG9tZXJUeXBlKCkgewogICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgIGN1c3RvbWVyVHlwZUhhbmRsZXIuZ2V0KCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJUeXBlcyA9IHJlczsKICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXJUeXBlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgdGhpcy5tQ3VzdG9tZXJUeXBlID0gdGhpcy5jdXN0b21lclR5cGVzWzBdOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9LCAxMCk7CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGxvYWRDdXN0b21lckNlbnRlcihzZWFyY2gpIHsKICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICB0aGlzLmN1c3RvbWVycyA9IFtdOwogICAgICAgICAgbGV0IGdyb3VwSWQgPSB1bmRlZmluZWQ7CiAgICAgICAgICBsZXQgY3VzdG9tZXJUeXBlSWQgPSB1bmRlZmluZWQ7CiAgICAgICAgICBpZiAodGhpcy5tQ3VzdG9tZXJHcm91cCkgewogICAgICAgICAgICBncm91cElkID0gdGhpcy5tQ3VzdG9tZXJHcm91cC5oYXNPd25Qcm9wZXJ0eSgiaWQiKQogICAgICAgICAgICAgICAgPyB0aGlzLm1DdXN0b21lckdyb3VwLmlkCiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLm1DdXN0b21lclR5cGUpIHsKICAgICAgICAgICAgY3VzdG9tZXJUeXBlSWQgPSB0aGlzLm1DdXN0b21lclR5cGUuaGFzT3duUHJvcGVydHkoImlkIikKICAgICAgICAgICAgICAgID8gdGhpcy5tQ3VzdG9tZXJUeXBlLmlkCiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDsKICAgICAgICAgIH0KICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygidGhpcy5tQ3VzdG9tZXJHcm91cCIsdGhpcy5tQ3VzdG9tZXJHcm91cCkKICAgICAgICAgIC8vIGNvbnN0IHN0ckZpbHRlciA9ICc/aXNfZG9ub3I9dHJ1ZScKICAgICAgICAgIGxldCBzdHJGaWx0ZXIgPSAiP2lzX2Rvbm9yPWZhbHNlIjsKICAgICAgICAgIGlmKHRoaXMuYXBwVHlwZSA9PT0gJ25wbycpewogICAgICAgICAgICBzdHJGaWx0ZXIgID0gIj9pc19kb25vcj10cnVlIjsKICAgICAgICAgIH0KICAgICAgICAgIGN1c3RvbWVySGFuZGxlcgogICAgICAgICAgICAgIC5jZW50ZXIoY3VzdG9tZXJUeXBlSWQsIGdyb3VwSWQsIHNlYXJjaCwgc3RyRmlsdGVyKQogICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICB9LCAxMCk7CiAgICAgIH0pOwogICAgfSwKCiAgICBjYWxsYmFjaygpIHsKICAgICAgaWYgKAogICAgICAgICAgdGhpcy4kcm91dGUucGFyYW1zICE9PSBudWxsICYmCiAgICAgICAgICB0aGlzLiRyb3V0ZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImRhdGEiKQogICAgICApIHsKICAgICAgICBjb25zdCBjdXN0b21lciA9IHRoaXMuJHJvdXRlLnBhcmFtcy5kYXRhOwogICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jdXN0b21lcnMuZmluZEluZGV4KChpdGVtKSA9PiB7CiAgICAgICAgICByZXR1cm4gY3VzdG9tZXIuaWQgPT09IGl0ZW0uaWQ7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKGluZGV4IDwgMCkgewogICAgICAgICAgdGhpcy5jdXN0b21lcnMucHVzaChjdXN0b21lcik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY3VzdG9tZXJzLnNwbGljZShpbmRleCwgMSwgY3VzdG9tZXIpOwogICAgICAgIH0KICAgICAgfQogICAgICB3aW5kb3cuY29uc29sZS5sb2coImltIGNoYW5nZWQiLCB0aGlzLiRyb3V0ZS5wYXJhbXMpOwogICAgfSwKICAgIC8vIGFzeW5jIGxvYWRBdHRhY2htZW50KCkgewogICAgLy8gICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgLy8gICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgLy8gICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgIC8vICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgIC8vICAgICAgICAgdGhpcy5zaG93TG9hZGluZ0F0Y2ggPSB0cnVlOwogICAgLy8gICAgICAgICBjb25zdCBzdHJGaWx0ZXIgPSAiP2lkPSIgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAvLyAgICAgICAgIGJpbGxpbmdIYW5kbGVyLmF0dGFjaG1lbnRMaXN0KHN0ckZpbHRlcikudGhlbigocmVzKSA9PiB7CiAgICAvLyAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgLy8gICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZ0F0Y2ggPSBmYWxzZTsKICAgIC8vICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudExpc3QgPSByZXMuZGF0YS5kYXRhOwogICAgLy8gICAgICAgICAgIH0KICAgIC8vICAgICAgICAgfSk7CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfSwgMTApOwogICAgLy8gICB9KTsKICAgIC8vIH0sCiAgfSwKICBhc3luYyBtb3VudGVkKCkgewogICAgYXdhaXQgdGhpcy5sb2FkQ3VzdG9tZXJUeXBlKCk7CiAgICBhd2FpdCB0aGlzLmxvYWRDdXN0b21lckdyb3VwKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgYXBwVHlwZSgpIHsKICAgICAgcmV0dXJuIGRhdGFTdG9yZS5wcm9kdWN0VHlwZTsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiAiY2FsbGJhY2siLAogIH0sCn07Cg=="},{"version":3,"sources":["CreditLimitTerm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreditLimitTerm.vue","sourceRoot":"src/views/customers/customer/customer_credit_term/credit_limit_term","sourcesContent":["<template>\n  <v-row>\n    <v-col class=\"pr-4 pb-0\" sm=\"4\" cols=\"12\">\n      <v-card\n          outlined\n          dense\n          class=\"pa-3 no_border mb-md-4 mb-xs-0\"\n          height=\"180px\"\n          color=\"grayBg\">\n        <v-text-field\n            v-model=\"search\"\n            @change=\"onCustomerTypeChanged(search)\"\n            outlined\n            @click:clear=\"onCustomerTypeChanged('')\"\n            :placeholder=\"$t('search')\"\n            append-icon=\"search\"\n            clearable\n        />\n        <v-select\n            :items=\"customerTypes\"\n            @change=\"onCustomerTypeChanged('')\"\n            item-value=\"id\"\n            item-text=\"name\"\n            v-model=\"mCustomerType\"\n            return-object\n            :placeholder=\"$t('customer_type')\"\n            clearable\n            outlined\n        />\n        <v-select\n            :items=\"customerGroups\"\n            @change=\"onCustomerTypeChanged('')\"\n            item-value=\"id\"\n            item-text=\"name\"\n            return-object\n            v-model=\"mCustomerGroup\"\n            :placeholder=\"$t('customer_group')\"\n            clearable\n            outlined\n        />\n      </v-card>\n      <v-card\n          outlined\n          dense\n          class=\"pa-3 no_border hidden-sm-and-down\"\n          color=\"grayBg\"\n      >\n        <LoadingMe\n            :isLoading=\"showLoading\"\n            :fullPage=\"false\"\n            type=\"loading\"\n            :myLoading=\"true\"\n        />\n        <kendo-datasource\n            ref=\"customerDS\"\n            :data=\"customers\"\n            :schema=\"schemaDefinition\"\n        />\n\n        <kendo-grid\n            id=\"gridCustomers\"\n            class=\"grid-center center_heigth\"\n            :change=\"onChanged\"\n            :data-source-ref=\"'customerDS'\"\n            :selectable=\"true\"\n            :persistSelection=\"true\"\n            :noRecords=\"true\"\n            :scrollable=\"true\"\n            :height=\"535\"\n            :pageable-numeric=\"false\"\n            :pageable-previous-next=\"false\"\n            :pageable-messages-display=\"'Showing {2} data items'\"\n        >\n          <kendo-grid-column\n              :field=\"'name'\"\n              :attributes=\"{ class: 'tb_name_td' }\"\n              :title=\"'name'\"\n              :hidden=\"true\"\n              :group-header-template=\"'#=value#'\"\n          />\n          <kendo-grid-column\n              :field=\"'name'\"\n              :title=\"'&nbsp;'\"\n              :template=\"'<span>#= customerType.abbr#-#=number# - #=name#</span>'\"\n          />\n        </kendo-grid>\n      </v-card>\n    </v-col>\n    <v-col class=\"pt-3 pb-0\" sm=\"8\" cols=\"12\">\n      <v-row>\n        <v-col sm=\"12\" cols=\"12\" class=\"tab_txn_att pt-0 pl-0\">\n          <v-tabs>\n            <v-tab>\n              <span class=\"text-upercase\">\n                {{ $t(\"credit_limit\") }}\n              </span>\n            </v-tab>\n            <v-tab>\n              <span class=\"text-upercase\">\n                {{ $t(\"payment_term\") }}\n              </span>\n            </v-tab>\n\n            <!-- Credit Limit -->\n            <v-tab-item>\n              <CreditLimit :customer=\"customer\"/>\n            </v-tab-item>\n\n            <!-- Payment term -->\n            <v-tab-item>\n              <PaymentTerm :customer=\"customer\"/>\n            </v-tab-item>\n          </v-tabs>\n        </v-col>\n      </v-row>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\n// import DatePickerComponent from \"@/components/custom_templates/DatePickerComponent\";\nimport CustomerModel from \"@/scripts/model/Customer\";\nimport kendo from \"@progress/kendo-ui\";\nimport LinkTemplate from \"@/components/kendo_templates/LinkTemplate\";\nimport { dataStore } from \"@/observable/store\";\n\nconst customerModel = new CustomerModel({});\n// const $ = require(\"jquery\")\nconst customerTypeHandler = require(\"@/scripts/customerTypeHandler\");\nconst customerGroupHandler = require(\"@/scripts/customerGroupHandler\");\nconst customerHandler = require(\"@/scripts/customerHandler\");\n// const billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\n\nexport default {\n  name: \"CustomerCenter\",\n  props: [\"id\"],\n  components: {\n    LoadingMe: () => import(`@/components/Loading`),\n    // \"app-datepicker\": DatePickerComponent,\n    CreditLimit: () => import('./CredtLimit'),\n    PaymentTerm: () => import('./PaymentTerm')\n  },\n  data: () => ({\n    creditLimititem: [],\n    paymentItem: [],\n    showLoading: false,\n    showLoadingTxn: false,\n    showLoadingAtch: false,\n    info: {},\n    customers: [],\n    start_date: \"\",\n    end_date: \"\",\n    customerTypes: [],\n    mCustomerType: {},\n    headers: [],\n    customerGroups: [],\n    mCustomerGroup: {},\n    journal_entries: [],\n    forwarded: \"\",\n    files: [],\n    search: \"\",\n    customer: customerModel,\n    schemaDefinition: {\n      model: {id: \"id\"},\n    },\n    groupDefinition: {\n      field: \"type\",\n    },\n    txnList: [],\n    startDate: new Date().toISOString().substr(0, 10),\n    endDate: new Date().toISOString().substr(0, 10),\n    dateSorters: [\"Today\", \"This Week\", \"This Month\", \"This Year\"],\n    mDateSorter: \"Today\",\n    rules: [\n      (files) =>\n          !files ||\n          !files.some((file) => file.size > 5 * 1024 * 1024) ||\n          \"Avatar size should be less than 5 MB!\",\n    ],\n    attachmentList: [],\n    imgFile: \"\",\n    src: \"\",\n    file_: {},\n    fileDesc: \"\",\n    fileSize: 0,\n    fileType: \"\",\n    fileName: \"\",\n  }),\n  methods: {\n    transactionDate(dataItem) {\n      const txnDate = dataItem.transactionDate;\n      const dateFormat = dataItem.dateFormat;\n      if (txnDate) {\n        return kendo.toString(new Date(txnDate), dateFormat);\n      }\n      return \"\";\n    },\n    referenceTemplate(data) {\n      let url = \"\";\n      if (data.type === \"Invoice\") {\n        url = `invoice_view/${data.txnId}`;\n      } else if (data.type === \"Sale Deposit\") {\n        url = `sale_deposit_view/${data.txnId}`;\n      } else if (data.type === \"Purchase\") {\n        url = `purchase_view/${data.txnId}`;\n      } else if (data.type === \"Sale Quote\") {\n        url = `sale_quote_view/${data.txnId}`;\n      } else if (data.type === \"Cash Receipt\") {\n        url = `cash_receipt_view/${data.txnId}`;\n      }\n      let args = {\n        text: data.referenceNo,\n        url: url,\n        data: data,\n      };\n      return {\n        template: LinkTemplate,\n        templateArgs: args,\n      };\n    },\n    txnStatus(dataItem) {\n      const status = dataItem.status || 1;\n      let statusText = \"\";\n      switch (status) {\n        case 1:\n          statusText = \"OPEN\";\n          break;\n        case 2:\n          statusText = \"PARTIALLY PAID\";\n          break;\n        case 3:\n          statusText = \"PAID\";\n          break;\n        case 4:\n          statusText = \"VOID\";\n          break;\n      }\n      return statusText;\n    },\n    // async searchTransaction() {\n    //   new Promise((resolve) => {\n    //     setTimeout(() => {\n    //       resolve(\"resolved\");\n    //       const id = this.customer.id || \"\";\n    //       if (id) {\n    //         this.showLoadingTxn = true;\n    //         const startDate = this.startDate;\n    //         const endDate = this.endDate;\n    //\n    //         if (id) {\n    //           const strFilter =\n    //               \"?start=\" + startDate + \"&end=\" + endDate + \"&id=\" + id;\n    //           billingHandler.customerTxn(strFilter).then((res) => {\n    //             if (res.data.statusCode === 200) {\n    //               this.showLoadingTxn = false;\n    //               this.txnList = JSON.parse(JSON.stringify(res.data.data));\n    //             }\n    //           });\n    //         }\n    //       }\n    //     }, 10);\n    //   });\n    // },\n    onSorterChanges(val) {\n      let today = new Date();\n      switch (val) {\n        case \"Today\":\n          this.startDate = kendo.toString(today, \"yyyy-MM-dd\");\n          this.endDate = kendo.toString(today, \"yyyy-MM-dd\");\n\n          break;\n        case \"This Week\":\n          var first = today.getDate() - today.getDay(),\n              last = first + 6;\n\n          this.startDate = kendo.toString(\n              new Date(today.setDate(first)),\n              \"yyyy-MM-dd\"\n          );\n            today = new Date()\n          this.endDate = kendo.toString(\n              new Date(today.setDate(last)),\n              \"yyyy-MM-dd\"\n          );\n\n          break;\n        case \"This Month\":\n          this.startDate = kendo.toString(\n              new Date(today.getFullYear(), today.getMonth(), 1),\n              \"yyyy-MM-dd\"\n          );\n          this.endDate = kendo.toString(\n              new Date(today.getFullYear(), today.getMonth(), 31),\n              \"yyyy-MM-dd\"\n          );\n\n          break;\n        case \"This Year\":\n          this.startDate = kendo.toString(\n              new Date(today.getFullYear(), 0, 1),\n              \"yyyy-MM-dd\"\n          );\n          this.endDate = kendo.toString(\n              new Date(today.getFullYear(), 11, 31),\n              \"yyyy-MM-dd\"\n          );\n\n          break;\n        default:\n          this.startDate = \"\";\n          this.endDate = \"\";\n      }\n    },\n    rowNumberTmpl(dataItem) {\n      let ds = this.$refs.transactionDS.kendoWidget(),\n          index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    onCustomerTypeChanged(search) {\n      this.showLoading = true;\n      this.loadCustomerCenter(search);\n    },\n    async loadCustomerGroup() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          customerGroupHandler.get().then((res) => {\n            this.showLoading = false;\n            this.customerGroups = res;\n            if (this.customerGroups.length > 0) {\n              this.mCustomerGroup = this.customerGroups[0];\n            }\n            this.loadCustomerCenter(\"\");\n          });\n        }, 10);\n      });\n    },\n    async customerInfo() {\n      this.$emit(\"onUpdate\", this.customer);\n    },\n    async onChanged() {\n      let grid = kendo.jQuery(\"#gridCustomers\").data(\"kendoGrid\");\n      let selectedItem = grid.dataItem(grid.select());\n      this.customer = selectedItem;\n      window.console.log(this.customer, \"mCustomer\");\n      this.$emit(\"onUpdate\", selectedItem);\n    },\n    async loadCustomerType() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          customerTypeHandler.get().then((res) => {\n            this.customerTypes = res;\n            if (this.customerTypes.length > 0) {\n              this.mCustomerType = this.customerTypes[0];\n            }\n          });\n        }, 10);\n      });\n    },\n    async loadCustomerCenter(search) {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          this.customers = [];\n          let groupId = undefined;\n          let customerTypeId = undefined;\n          if (this.mCustomerGroup) {\n            groupId = this.mCustomerGroup.hasOwnProperty(\"id\")\n                ? this.mCustomerGroup.id\n                : undefined;\n          }\n          if (this.mCustomerType) {\n            customerTypeId = this.mCustomerType.hasOwnProperty(\"id\")\n                ? this.mCustomerType.id\n                : undefined;\n          }\n          // window.console.log(\"this.mCustomerGroup\",this.mCustomerGroup)\n          // const strFilter = '?is_donor=true'\n          let strFilter = \"?is_donor=false\";\n          if(this.appType === 'npo'){\n            strFilter  = \"?is_donor=true\";\n          }\n          customerHandler\n              .center(customerTypeId, groupId, search, strFilter)\n              .then((res) => {\n                this.showLoading = true;\n                if (res.data.statusCode === 200) {\n                  this.showLoading = false;\n                  this.customers = res.data.data;\n                } else {\n                  this.showLoading = false;\n                }\n              });\n        }, 10);\n      });\n    },\n\n    callback() {\n      if (\n          this.$route.params !== null &&\n          this.$route.params.hasOwnProperty(\"data\")\n      ) {\n        const customer = this.$route.params.data;\n        const index = this.customers.findIndex((item) => {\n          return customer.id === item.id;\n        });\n        if (index < 0) {\n          this.customers.push(customer);\n        } else {\n          this.customers.splice(index, 1, customer);\n        }\n      }\n      window.console.log(\"im changed\", this.$route.params);\n    },\n    // async loadAttachment() {\n    //   new Promise((resolve) => {\n    //     setTimeout(() => {\n    //       resolve(\"resolved\");\n    //       if (this.$route.params.hasOwnProperty(\"id\")) {\n    //         this.showLoadingAtch = true;\n    //         const strFilter = \"?id=\" + this.$route.params.id;\n    //         billingHandler.attachmentList(strFilter).then((res) => {\n    //           if (res.data.statusCode === 200) {\n    //             this.showLoadingAtch = false;\n    //             this.attachmentList = res.data.data;\n    //           }\n    //         });\n    //       }\n    //     }, 10);\n    //   });\n    // },\n  },\n  async mounted() {\n    await this.loadCustomerType();\n    await this.loadCustomerGroup();\n  },\n  computed: {\n    appType() {\n      return dataStore.productType;\n    },\n  },\n  watch: {\n    $route: \"callback\",\n  },\n};\n</script>\n<style scoped>\n@media (max-width: 576px) {\n  .v-tab {\n    min-width: auto !important;\n  }\n\n  .paddingLeft {\n    margin-left: 15px;\n  }\n}\n\n.grid-center.center_heigth {\n  height: 356px !important;\n}\n</style>\n"]}]}