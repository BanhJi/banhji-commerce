{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/warehouses/operations/ShelvingOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/warehouses/operations/ShelvingOrder.vue","mtime":1638499443294},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBrZW5kbyBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tdWknCmltcG9ydCBMb2FkaW5nTWUgZnJvbSAnQC9jb21wb25lbnRzL0xvYWRpbmcnCmltcG9ydCBEYXRlUGlja2VyQ29tcG9uZW50IGZyb20gJ0AvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL0RhdGVQaWNrZXJDb21wb25lbnQnCmltcG9ydCBTaGVsdmluZ09yZGVyIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9TaGVsdmluZ09yZGVyIjsKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CmltcG9ydCBNb250aE9mUGlja2VyIGZyb20gIkAvY29tcG9uZW50cy9rZW5kb190ZW1wbGF0ZXMvTW9udGhPZlBpY2tlciI7CmNvbnN0ICQgPSByZXF1aXJlKCJqcXVlcnkiKQpjb25zdCBwcmVmaXhIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3ByZWZpeEhhbmRsZXIiKQpjb25zdCBiaWxsaW5nSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9pbnZvaWNlL2hhbmRsZXIvYmlsbGluZ0hhbmRsZXIiKQpjb25zdCBzZXR0aW5nc0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2V0dGluZ3NIYW5kbGVyIikKY29uc3Qgc2FsZUNoYW5uZWxIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NhbGVDaGFubmVsSGFuZGxlciIpCmNvbnN0IHdhcmVob3VzZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvd2FyZWhvdXNlSGFuZGxlciIpCmNvbnN0IGxvY2F0aW9uSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9sb2NhdGlvbkhhbmRsZXIiKQpjb25zdCBwcm9qZWN0SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcm9qZWN0SGFuZGxlciIpCmNvbnN0IHVvbUNvbnZlcnNpb25IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3VvbUNvbnZlcnNpb25IYW5kbGVyIikKY29uc3QgcHJvZHVjdFZhcmlhbnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3Byb2R1Y3RWYXJpYW50SGFuZGxlciIpCmNvbnN0IHNoZWx2aW5nT3JkZXJIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NoZWx2aW5nT3JkZXJIYW5kbGVyIikKY29uc3Qgc2hlbHZpbmdPcmRlciA9IG5ldyBTaGVsdmluZ09yZGVyKHt9KQoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIlNoZWx2aW5nT3JkZXIiLAogICAgY29tcG9uZW50czogewogICAgICAgICdMb2FkaW5nTWUnOiBMb2FkaW5nTWUsCiAgICAgICAgJ2FwcC1kYXRlcGlja2VyJzogRGF0ZVBpY2tlckNvbXBvbmVudCwKICAgICAgICAiYXBwLW1vbnRocGlja2VyIjogTW9udGhPZlBpY2tlciwKICAgIH0sCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIGlzRWRpdDogZmFsc2UsCiAgICAgICAgLy8gTG9hZGluZ01lCiAgICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgICAgIGxvYWRpbmdBbGVydDogZmFsc2UsCiAgICAgICAgbG9hZGluZ0NvbG9yQWxlcnQ6ICcnLAogICAgICAgIGxvYWRpbmdUZXh0QWxlcnQ6ICcnLAogICAgICAgIGJpbGxfZGF0ZTogJycsCiAgICAgICAgYWxlcnQ6IGZhbHNlLAogICAgICAgIGRlcG9zaXRlOiAxMDAwLAogICAgICAgIGZpbGVzOiBbXSwKICAgICAgICAvLyBGb3JtIHZhbGlkYXRpb24KICAgICAgICB2YWxpZDogdHJ1ZSwKCiAgICAgICAgam91cm5hbF90eXBlczogW10sCiAgICAgICAgc3VwcGxpZXJzX2l0ZW06IFtdLAogICAgICAgIGV4cGVuc2U6IFsKICAgICAgICAgICAgJ0VxdWFsJywKICAgICAgICAgICAgJ3dlaWdodGVkJwogICAgICAgIF0sCiAgICAgICAgam91cm5hbF9kYXRlOiAiIiwKICAgICAgICB0ZW1wbGF0ZXM6IFsKICAgICAgICAgICAge3RpdGxlOiAnRHJhZnQnfSwKICAgICAgICAgICAge3RpdGxlOiAnT3Blbid9LAogICAgICAgICAgICB7dGl0bGU6ICdQYXJ0aWFsbHkgQ2xvc2VkJ30sCiAgICAgICAgICAgIHt0aXRsZTogJ0Nsb3NlZCd9LAogICAgICAgIF0sCiAgICAgICAgY29sX2V4cGFuZDogOSwKICAgICAgICBjb2xfaGlkZTogMywKICAgICAgICBpc0hpZGVCYXI6IGZhbHNlLAogICAgICAgIHN1cHBsaWVyczogWyJTdXBwbGllcnMiLCAiQ3VzdG9tZXIiLCAiRW1wbG95ZWUiXSwKICAgICAgICB0cmFuc2FjdGlvbjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogIjEyIiwKICAgICAgICAgICAgICAgIG5hbWU6ICJQdXJjaGFzZSBPcmRlciIsCiAgICAgICAgICAgICAgICBubzogIk5vLjAwMjQiLAogICAgICAgICAgICAgICAgcHJpY2U6ICIyLDUwMDAwIiwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWQ6ICIxNCIsCiAgICAgICAgICAgICAgICBuYW1lOiAiR29kZCBSZWNpcHQgTm90ZSIsCiAgICAgICAgICAgICAgICBubzogIk5vLjAwMjQiLAogICAgICAgICAgICAgICAgcHJpY2U6ICIyLDUwMDAwIiwKICAgICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgaXRlbV9zdXBwbGllcnM6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZTogIlN1YnRvdGFsIiwKICAgICAgICAgICAgICAgIHZhbHVlOiAiMTAwMDAuMDAiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICJTdWJ0b3RhbCIsCiAgICAgICAgICAgICAgICB2YWx1ZTogIjEwMDAwLjAwIgogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiAiU3VidG90YWwiLAogICAgICAgICAgICAgICAgdmFsdWU6ICIxMDAwMC4wMCIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZTogIlN1YnRvdGFsIiwKICAgICAgICAgICAgICAgIHZhbHVlOiAiMTAwMDAuMDAiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICJTdWJ0b3RhbCIsCiAgICAgICAgICAgICAgICB2YWx1ZTogIjEwMDAwLjAwIgogICAgICAgICAgICB9LAogICAgICAgIF0sCgogICAgICAgIHNhbGVDaGFubmVsTGlzdDogW10sCiAgICAgICAgcHJvamVjdHM6IFtdLAogICAgICAgIGxvY2F0aW9uczogW10sCiAgICAgICAgc2VnbWVudHM6IFtdLAogICAgICAgIHpvbmVzOiBbXSwKICAgICAgICByYWNrczogW10sCiAgICAgICAgYmluczogW10sCiAgICAgICAgbGV2ZWxzOiBbXSwKICAgICAgICBzZWN0aW9uczogW10sCiAgICAgICAgd2FyZWhvdXNlczogW10sCiAgICAgICAgYmluOiB7fSwKICAgICAgICBpdGVtTGluZXM6IFtdLAogICAgICAgIGl0ZW1XYXJlaG91c2U6IFtdLAogICAgICAgIHNoZWx2aW5nT3JkZXI6IHNoZWx2aW5nT3JkZXIKICAgIH0pLAogICAgbWV0aG9kczogewogICAgICAgIGRhdGFTb3VyY2VDaGFuZ2VkKGUpIHsKICAgICAgICAgICAgaWYgKGUuZmllbGQpIHsKICAgICAgICAgICAgICAgIGxldCBkYXRhUm93ID0gZS5pdGVtc1swXQogICAgICAgICAgICAgICAgc3dpdGNoIChlLmZpZWxkKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gY2FzZSAidW9tIjoKICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKGRhdGFSb3cudW9tLCdyb3ctdW9tJykKICAgICAgICAgICAgICAgICAgICAvLyAgICAgZGF0YVJvdy5zZXQoJ2Nvc3QnLCBwYXJzZUZsb2F0KGRhdGFSb3cudW9tLnByaWNlKSkKICAgICAgICAgICAgICAgICAgICAvLyAgICAgd2luZG93LmNvbnNvbGUubG9nKGRhdGFSb3cueWllbGRfcXR5KQogICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAoZGF0YVJvdy55aWVsZF9xdHkgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgZGF0YVJvdy5zZXQoJ2Nvc3QnLCBwYXJzZUZsb2F0KGRhdGFSb3cudW9tLnByaWNlKSAqIHBhcnNlRmxvYXQoZGF0YVJvdy55aWVsZF9xdHkpKQogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5jb3N0RlAgPSBkYXRhUm93LmNvc3QKICAgICAgICAgICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vICAgICBicmVhawogICAgICAgICAgICAgICAgICAgIGNhc2UgIml0ZW0iOgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1XYXJlaG91c2UuZm9yRWFjaChpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhUm93Lml0ZW0uaWQgPT09IGkuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgnem9uZScsIGkuem9uZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgnc2VjdGlvbicsIGkuc2VjdGlvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgncmFjaycsIGkucmFjaykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgnbGV2ZWwnLCBpLmxldmVsKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCdiaW4nLCBpLmJpbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgncXR5JywgaS5xdHkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgIGNhc2UgInpvbmUiOgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRTZWN0aW9uKGRhdGFSb3cuem9uZSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFSb3cuem9uZS5pZCAhPT0gdW5kZWZpbmVkIHx8IGRhdGFSb3cuc2VjdGlvbi5pZCAhPT0gdW5kZWZpbmVkIHx8IGRhdGFSb3cucmFjay5pZCAhPT0gdW5kZWZpbmVkIHx8IGRhdGFSb3cubGV2ZWwuaWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkQmluKGRhdGFSb3cpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93LnNldCgnYmluJywgdGhpcy5iaW4pCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCItLSIsIGRhdGFSb3cpCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgY2FzZSAic2VjdGlvbiI6CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFJhY2soZGF0YVJvdy5zZWN0aW9uKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVJvdy56b25lLmlkICE9PSB1bmRlZmluZWQgfHwgZGF0YVJvdy5zZWN0aW9uLmlkICE9PSB1bmRlZmluZWQgfHwgZGF0YVJvdy5yYWNrLmlkICE9PSB1bmRlZmluZWQgfHwgZGF0YVJvdy5sZXZlbC5pZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRCaW4oZGF0YVJvdykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCdiaW4nLCB0aGlzLmJpbikKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coIi0tIiwgZGF0YVJvdykKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICBjYXNlICJyYWNrIjoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkTGV2ZWwoZGF0YVJvdy5yYWNrKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVJvdy56b25lLmlkICE9PSB1bmRlZmluZWQgfHwgZGF0YVJvdy5zZWN0aW9uLmlkICE9PSB1bmRlZmluZWQgfHwgZGF0YVJvdy5yYWNrLmlkICE9PSB1bmRlZmluZWQgfHwgZGF0YVJvdy5sZXZlbC5pZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRCaW4oZGF0YVJvdykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3cuc2V0KCdiaW4nLCB0aGlzLmJpbikKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coIi0tIiwgZGF0YVJvdykKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICBjYXNlICJsZXZlbCI6CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhUm93LnpvbmUuaWQgIT09IHVuZGVmaW5lZCB8fCBkYXRhUm93LnNlY3Rpb24uaWQgIT09IHVuZGVmaW5lZCB8fCBkYXRhUm93LnJhY2suaWQgIT09IHVuZGVmaW5lZCB8fCBkYXRhUm93LmxldmVsLmlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZEJpbihkYXRhUm93KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMuYmluKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVJvdy5zZXQoJ2JpbicsIHRoaXMuYmluKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5hdXRvQ2FsY3VsYXRlKCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcm93TnVtYmVyKGRhdGFJdGVtKSB7CiAgICAgICAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMuZGF0YVNvdXJjZS5rZW5kb1dpZGdldCgpLAogICAgICAgICAgICAgICAgaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKICAgICAgICAgICAgcmV0dXJuIGluZGV4ICsgMTsKICAgICAgICB9LAogICAgICAgIFVPTURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICAgICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKQogICAgICAgICAgICAgICAgLmFwcGVuZFRvKGNvbnRhaW5lcikKICAgICAgICAgICAgICAgIC5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgICAgICAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGhlaWdodDogNDAwLAogICAgICAgICAgICAgICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgICAgICAgICAgICAgIGRhdGFUZXh0RmllbGQ6ICJ0b1VPTS5uYW1lIiwKICAgICAgICAgICAgICAgICAgICBkYXRhVmFsdWVGaWVsZDogInRvVU9NLmlkIiwKICAgICAgICAgICAgICAgICAgICBjYXNjYWRlRnJvbTogIml0ZW0iLAogICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz10b1VPTS5uYW1lIzwvc3Bhbj4iLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgICAgICAgICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdW9tQ29udmVyc2lvbkhhbmRsZXIuZ2V0VXJsKG9wdGlvbnMubW9kZWwuaXRlbS5pZCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDoge3R5cGU6ICJzdHJpbmcifSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmFtZToge3R5cGU6ICJzdHJpbmcifSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2t1OiB7dHlwZTogInN0cmluZyJ9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAvLyBkYXRhOiB0aGlzLnZhcmlhbnRzCiAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgVU9NVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgICAgICAgY29uc3QgdW9tID0gZGF0YUl0ZW0udW9tCiAgICAgICAgICAgIGlmICh1b20pIHsKICAgICAgICAgICAgICAgIHJldHVybiBgPHNwYW4+JHt1b20udG9VT00gPyB1b20udG9VT00ubmFtZSA6IGBgfTwvc3Bhbj5gCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYGAKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgQmluRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgICAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpCiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oY29udGFpbmVyKQogICAgICAgICAgICAgICAgLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICAgICAgICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgICAgICAgICAgICAgZmlsdGVyOiAic3RhcnRzd2l0aCIsCiAgICAgICAgICAgICAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgICAgICAgICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgICAgICAgICAgICAgIGNhc2NhZGVGcm9tOiAiaXRlbSIsCiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgICAgICAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgICAgICAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuYmlucywKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIEJpblRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgICAgICAgIGNvbnN0IGJpbiA9IGRhdGFJdGVtLmJpbgogICAgICAgICAgICBpZiAoYmluKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYDxzcGFuPiR7YmluLm5hbWUgPyBiaW4ubmFtZSA6IGBgfTwvc3Bhbj5gCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYGAKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgUmFja0Ryb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICAgICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKQogICAgICAgICAgICAgICAgLmFwcGVuZFRvKGNvbnRhaW5lcikKICAgICAgICAgICAgICAgIC5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgICAgICAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGhlaWdodDogNDAwLAogICAgICAgICAgICAgICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgICAgICAgICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICAgICAgICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICAgICAgICAgICAgICBjYXNjYWRlRnJvbTogIml0ZW0iLAogICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1uYW1lIzwvc3Bhbj4iLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgICAgICAgICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLnJhY2tzLAogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgUmFja1RlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgICAgICAgIGNvbnN0IHJhY2sgPSBkYXRhSXRlbS5yYWNrCiAgICAgICAgICAgIGlmIChyYWNrKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYDxzcGFuPiR7cmFjay5uYW1lID8gcmFjay5uYW1lIDogYGB9PC9zcGFuPmAKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBgYAogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBMZXZlbERyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICAgICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKQogICAgICAgICAgICAgICAgLmFwcGVuZFRvKGNvbnRhaW5lcikKICAgICAgICAgICAgICAgIC5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgICAgICAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGhlaWdodDogNDAwLAogICAgICAgICAgICAgICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgICAgICAgICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICAgICAgICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICAgICAgICAgICAgICBjYXNjYWRlRnJvbTogIml0ZW0iLAogICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1uYW1lIzwvc3Bhbj4iLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgICAgICAgICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLmxldmVscywKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIExldmVsVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgICAgICAgY29uc3QgbGV2ZWwgPSBkYXRhSXRlbS5sZXZlbAogICAgICAgICAgICBpZiAobGV2ZWwpIHsKICAgICAgICAgICAgICAgIHJldHVybiBgPHNwYW4+JHtsZXZlbC5uYW1lID8gbGV2ZWwubmFtZSA6IGBgfTwvc3Bhbj5gCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYGAKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgWm9uZURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICAgICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKQogICAgICAgICAgICAgICAgLmFwcGVuZFRvKGNvbnRhaW5lcikKICAgICAgICAgICAgICAgIC5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgICAgICAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGhlaWdodDogNDAwLAogICAgICAgICAgICAgICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgICAgICAgICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICAgICAgICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICAgICAgICAgICAgICBjYXNjYWRlRnJvbTogIml0ZW0iLAogICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1uYW1lIzwvc3Bhbj4iLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgICAgICAgICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLnpvbmVzLAogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgWm9uZVRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgICAgICAgIGNvbnN0IHpvbmUgPSBkYXRhSXRlbS56b25lCiAgICAgICAgICAgIGlmICh6b25lKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYDxzcGFuPiR7em9uZS5uYW1lID8gem9uZS5uYW1lIDogYGB9PC9zcGFuPmAKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBgYAogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBTZWN0aW9uVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGRhdGFJdGVtLnNlY3Rpb24KICAgICAgICAgICAgaWYgKHNlY3Rpb24pIHsKICAgICAgICAgICAgICAgIHJldHVybiBgPHNwYW4+JHtzZWN0aW9uLm5hbWUgPyBzZWN0aW9uLm5hbWUgOiBgYH08L3NwYW4+YAogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGBgCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIFNlY3Rpb25Ecm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAgICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykKICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhjb250YWluZXIpCiAgICAgICAgICAgICAgICAua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgICAgICAgICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICAgICAgICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICAgICAgICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgICAgICAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgICAgICAgICAgICAgY2FzY2FkZUZyb206ICJpdGVtIiwKICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bmFtZSM8L3NwYW4+IiwKICAgICAgICAgICAgICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICAgICAgICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdGhpcy5zZWN0aW9ucywKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIEl0ZW1Ecm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAgICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykKICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhjb250YWluZXIpCiAgICAgICAgICAgICAgICAua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgICAgICAgICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICAgICAgICAgICAgICBmaWx0ZXI6ICJjb250YWlucyIsCiAgICAgICAgICAgICAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgICAgICAgICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgICAgICAgICAgICAgIGhlYWRlclRlbXBsYXRlOiAnPGRpdiBjbGFzcz0iZHJvcGRvd24taGVhZGVyIGstd2lkZ2V0IGstaGVhZGVyIj4nICsKICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuPkl0ZW1zIDwvc3Bhbj4nICsKICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuPjwvc3Bhbj4nICsKICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicsCiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgICAgICAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgICAgICAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckZpbHRlcmluZzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwcm9kdWN0VmFyaWFudEhhbmRsZXIuaXRlbVNlYXJjaFVSTCgpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHt0eXBlOiAic3RyaW5nIn0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHt0eXBlOiAic3RyaW5nIn0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNrdToge3R5cGU6ICJzdHJpbmcifSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAvLyBkYXRhOiB0aGlzLnZhcmlhbnRzCiAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYWRkUm93KCkgewogICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgIGl0ZW06IHtuYW1lOiAnJ30sCiAgICAgICAgICAgICAgICBxdHk6IDAsCiAgICAgICAgICAgICAgICB1b206IHt9LAogICAgICAgICAgICAgICAgc2VjdGlvbjoge25hbWU6ICcnfSwKICAgICAgICAgICAgICAgIHJhY2s6IHtuYW1lOiAnJ30sCiAgICAgICAgICAgICAgICBsZXZlbDoge25hbWU6ICcnfSwKICAgICAgICAgICAgICAgIHpvbmU6IHtuYW1lOiAnJ30sCiAgICAgICAgICAgICAgICBiaW46IHtuYW1lOiAnJ30KICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgZHMgPSB0aGlzLiRyZWZzLmRhdGFTb3VyY2Uua2VuZG9XaWRnZXQoKSwKICAgICAgICAgICAgICAgIHRvdGFsID0gZHMudG90YWwoKTsKICAgICAgICAgICAgZHMuaW5zZXJ0KHRvdGFsLCBkYXRhKQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZFNlZ21lbnQoKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2VnbWVudHMgPSBbXQogICAgICAgICAgICAgICAgICAgIHNldHRpbmdzSGFuZGxlci5nZXRTZWcoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VnbWVudHMgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWdtZW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGVsdmluZ09yZGVyLnNlZ21lbnQgPSB0aGlzLnNlZ21lbnRzWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnNlZ21lbnRMaXN0ID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgMzAwKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZExvY2F0aW9uKCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJykKICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2F0aW9ucyA9IFtdCiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25IYW5kbGVyLmxpc3QoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb25zID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubG9jYXRpb25zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoZWx2aW5nT3JkZXIubG9jYXRpb24gPSB0aGlzLmxvY2F0aW9uc1swXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgMzAwKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZFNhbGVDaGFubmVsKCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICAgICAgICAgICAgc2FsZUNoYW5uZWxIYW5kbGVyLmdldCgpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYWxlQ2hhbm5lbExpc3QgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zYWxlQ2hhbm5lbExpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hlbHZpbmdPcmRlci5zYWxlQ2hhbm5lbCA9IHRoaXMuc2FsZUNoYW5uZWxMaXN0WzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZFpvbmUoKSB7CiAgICAgICAgICAgIHdhcmVob3VzZUhhbmRsZXIuZ2V0Wm9uQWxsKCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgICAgICAgICAgIHJlcy5mb3JFYWNoKGkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaS53aC5pZCA9PT0gdGhpcy5zaGVsdmluZ09yZGVyLndhcmVob3VzZS5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy56b25lcy5wdXNoKGkpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuem9uZXMgPSByZXMKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnpvbmVMaXN0ID0gcmVzCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBhc3luYyBsb2FkUHJvamVjdHMoKSB7CiAgICAgICAgICAgIGF3YWl0IHByb2plY3RIYW5kbGVyLmxpc3QoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnByb2plY3RzID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvamVjdHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hlbHZpbmdPcmRlci5wcm9qZWN0ID0gdGhpcy5wcm9qZWN0c1swXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgb25sb2FkV2FyZWhvdXNlKCkgewogICAgICAgICAgICBhd2FpdCB3YXJlaG91c2VIYW5kbGVyLmdldFdhcmVob3VzZVNldHRpbmdBbGwoKS50aGVuKGFzeW5jIHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLndhcmVob3VzZXMgPSByZXMKICAgICAgICAgICAgICAgIGlmICh0aGlzLndhcmVob3VzZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hlbHZpbmdPcmRlci53YXJlaG91c2UgPSB0aGlzLndhcmVob3VzZXNbMF0KICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRab25lKCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAoKICAgICAgICBhc3luYyBsb2FkU2VjdGlvbihkYXRhKSB7CiAgICAgICAgICAgIGF3YWl0IHdhcmVob3VzZUhhbmRsZXIuZ2V0U2VjdGlvblNldHRpbmdBbGwoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzLmZvckVhY2goaSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpLmhhc093blByb3BlcnR5KCd6b25lJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpLnpvbmUuaWQgPT09IGRhdGEuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY3Rpb25zLnB1c2goaSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5zZWN0aW9ucyA9IHJlcwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZFJhY2soZGF0YSkgewogICAgICAgICAgICBhd2FpdCB3YXJlaG91c2VIYW5kbGVyLmdldFJhY2tTZXR0aW5nQWxsKCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgICAgICAgICAgIHJlcy5mb3JFYWNoKGkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaS5oYXNPd25Qcm9wZXJ0eSgnc2VjdGlvbicpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaS5zZWN0aW9uLmlkID09PSBkYXRhLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYWNrcy5wdXNoKGkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMucmFja3MgPSByZXMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRMZXZlbChkYXRhKSB7CiAgICAgICAgICAgIGF3YWl0IHdhcmVob3VzZUhhbmRsZXIuZ2V0TGV2ZWxTZXR0aW5nQWxsKCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgICAgICAgICAgIHJlcy5mb3JFYWNoKGkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaS5oYXNPd25Qcm9wZXJ0eSgncmFjaycpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaS5yYWNrLmlkID09PSBkYXRhLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbHMucHVzaChpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmxldmVscyA9IHJlcwogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubGV2ZWxzID0gcmVzCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBhc3luYyBsb2FkQmluKGRhdGEpIHsKICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGRhdGEsICdkYXRhJykKICAgICAgICAgICAgYXdhaXQgd2FyZWhvdXNlSGFuZGxlci5nZXRCaW4oKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICByZXMuZm9yRWFjaChpID0+IHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coaS5yYWNrLmlkID09PSBkYXRhLnJhY2suaWQsIGkuc2VjdGlvbi5pZCA9PT0gZGF0YS5zZWN0aW9uLmlkLCBpLmxldmVsLmlkID09PSBkYXRhLmxldmVsLmlkKQogICAgICAgICAgICAgICAgICAgIGlmIChpLnJhY2suaWQgPT09IGRhdGEucmFjay5pZCAmJiBpLnNlY3Rpb24uaWQgPT09IGRhdGEuc2VjdGlvbi5pZCAmJiBpLmxldmVsLmlkID09PSBkYXRhLmxldmVsLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmluID0gaQogICAgICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coaSwnYmluJykKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgdGhpcy5iaW5zID0gcmVzCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBhc3luYyBsb2FkSXRlbVdhcmVob3VzZSgpIHsKICAgICAgICAgICAgYXdhaXQgd2FyZWhvdXNlSGFuZGxlci5nZXRJdGVtKCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy5pdGVtV2FyZWhvdXNlID0gcmVzCiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2codGhpcy5pdGVtV2FyZWhvdXNlKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZFByZWZpeCgpIHsKICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUKICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIHByZWZpeEhhbmRsZXIuZ2V0KCdzaGVsdmluZyBvcmRlcicpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uVHlwZXMgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2FjdGlvblR5cGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoZWx2aW5nT3JkZXIudHJhbnNhY3Rpb25UeXBlID0gdGhpcy50cmFuc2FjdGlvblR5cGVzWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVOdW1iZXIoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgYXdhaXQgdGhpcy5vbmxvYWRXYXJlaG91c2UoKQogICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRTYWxlQ2hhbm5lbCgpCiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZExvY2F0aW9uKCkKICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkUHJvamVjdHMoKQogICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRTZWdtZW50KCkKICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkSXRlbVdhcmVob3VzZSgpCiAgICAgICAgICAgIC8vIGF3YWl0IHRoaXMubG9hZEJpbigpCiAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgIH0sCiAgICAgICAgZ2VuZXJhdGVOdW1iZXIoKSB7CiAgICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICAgICAgYWJicjogdGhpcy5zaGVsdmluZ09yZGVyLnRyYW5zYWN0aW9uVHlwZS5hYmJyLAogICAgICAgICAgICAgICAgc3RydWN0dXJlOiB0aGlzLnNoZWx2aW5nT3JkZXIudHJhbnNhY3Rpb25UeXBlLnN0cnVjdHVyZSwKICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogdGhpcy5zaGVsdmluZ09yZGVyLmRhdGUsCiAgICAgICAgICAgICAgICBzZXF1Y2VuY2luZzogdGhpcy5zaGVsdmluZ09yZGVyLnRyYW5zYWN0aW9uVHlwZS5zZXF1Y2VuY2luZywKICAgICAgICAgICAgICAgIHR5cGU6ICdTaGVsdmluZyBPcmRlcicsCiAgICAgICAgICAgICAgICBlbnRpdHk6IDIsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5zaGVsdmluZ09yZGVyLmFiYnIgPSBkYXRhLmFiYnIKICAgICAgICAgICAgdGhpcy5zaGVsdmluZ09yZGVyLnN0cnVjdHVyZSA9IGRhdGEuc3RydWN0dXJlCiAgICAgICAgICAgIHRoaXMuc2hlbHZpbmdPcmRlci5zZXF1Y2VuY2luZyA9IGRhdGEuc2VxdWNlbmNpbmcKICAgICAgICAgICAgdGhpcy5zaGVsdmluZ09yZGVyLnR5cGUgPSBkYXRhLnR5cGUKICAgICAgICAgICAgdGhpcy5zaGVsdmluZ09yZGVyLnRyYW5zYWN0aW9uRGF0ZSA9IGRhdGEudHJhbnNhY3Rpb25EYXRlCiAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLmxhc3ROdW1iZXIoZGF0YSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSByZXNwb25zZS5kYXRhLmRhdGEKICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TnVtYmVyID0gdGhpcy56ZXJvUGFkKHBhcnNlSW50KHJlcy5sYXN0TnVtYmVyKSwgdGhpcy5zaGVsdmluZ09yZGVyLnRyYW5zYWN0aW9uVHlwZS5mb3JtYXQpCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGVsdmluZ09yZGVyLm51bWJlciA9IHJlcy5zdWZmaXggKyB0aGlzLnNoZWx2aW5nT3JkZXIudHJhbnNhY3Rpb25UeXBlLm51bWJlclNlcGFyYXRvciArIGxhc3ROdW1iZXIKICAgICAgICAgICAgICAgICAgICB0aGlzLnNoZWx2aW5nT3JkZXIubGFzdE51bWJlciA9IHJlcy5zdWZmaXggKyBsYXN0TnVtYmVyCiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMuc2hlbHZpbmdPcmRlci5udW1iZXIsICdib20nKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZSkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHplcm9QYWQobnVtLCBwbGFjZXMpIHsKICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhudW0pLnBhZFN0YXJ0KHBsYWNlcywgJzAnKQogICAgICAgIH0sCiAgICAgICAgc3VmZml4KHRyYW5zYWN0aW9uRGF0ZSkgewogICAgICAgICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcobmV3IERhdGUodHJhbnNhY3Rpb25EYXRlKSwgYHl5bW1gKQogICAgICAgIH0sCgogICAgICAgIGFzeW5jIGdldERhdGFTb3VyY2UoKSB7CiAgICAgICAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMuZGF0YVNvdXJjZS5rZW5kb1dpZGdldCgpCiAgICAgICAgICAgIGxldCBkYXRhUm93ID0gZHMuZGF0YSgpCiAgICAgICAgICAgIHRoaXMuaXRlbUxpbmVzID0gW10KCiAgICAgICAgICAgIGRhdGFSb3cuZm9yRWFjaChpID0+IHsKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhpLCAnaXRlbScpCiAgICAgICAgICAgICAgICB0aGlzLml0ZW1MaW5lcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBpZDogaS5pZCwKICAgICAgICAgICAgICAgICAgICBpdGVtOiBpLml0ZW0sCiAgICAgICAgICAgICAgICAgICAgcXR5OiBpLnF0eSwKICAgICAgICAgICAgICAgICAgICB1b206IGkudW9tLAogICAgICAgICAgICAgICAgICAgIHNlY3Rpb246IGkuc2VjdGlvbiwKICAgICAgICAgICAgICAgICAgICByYWNrOiBpLnJhY2ssCiAgICAgICAgICAgICAgICAgICAgbGV2ZWw6IGkubGV2ZWwsCiAgICAgICAgICAgICAgICAgICAgem9uZTogaS56b25lLAogICAgICAgICAgICAgICAgICAgIGJpbjogaS5iaW4sCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgc2F2ZVByaW50KCkgewoKICAgICAgICB9LAogICAgICAgIGFzeW5jIHNhdmVOZXcoKSB7CiAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0RGF0YVNvdXJjZSgpCiAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5pdGVtTGluZXMKICAgICAgICAgICAgbGV0IGl0ZW1zID0gW10KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBpdGVtW2ldWydpdGVtJ10ucXR5ID0gaXRlbVtpXVsncXR5J10KICAgICAgICAgICAgICAgIGl0ZW1baV1bJ2l0ZW0nXS5zZWN0aW9uID0gaXRlbVtpXVsnc2VjdGlvbiddCiAgICAgICAgICAgICAgICBpdGVtW2ldWydpdGVtJ10ucmFjayA9IGl0ZW1baV1bJ3JhY2snXQogICAgICAgICAgICAgICAgaXRlbVtpXVsnaXRlbSddLmxldmVsID0gaXRlbVtpXVsnbGV2ZWwnXQogICAgICAgICAgICAgICAgaXRlbVtpXVsnaXRlbSddLnpvbmUgPSBpdGVtW2ldWyd6b25lJ10KICAgICAgICAgICAgICAgIGl0ZW1baV1bJ2l0ZW0nXS5iaW4gPSBpdGVtW2ldWydiaW4nXQogICAgICAgICAgICAgICAgaXRlbVtpXVsnaXRlbSddLndhcmVob3VzZSA9IHRoaXMuc2hlbHZpbmdPcmRlci53YXJlaG91c2UKICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbVtpXVsnaXRlbSddKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGF3YWl0IHdhcmVob3VzZUhhbmRsZXIuc2F2ZUl0ZW0oaXRlbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMuc2hlbHZpbmdPcmRlci5pdGVtTGluZXMgPSB0aGlzLml0ZW1MaW5lcwogICAgICAgICAgICBzaGVsdmluZ09yZGVySGFuZGxlci5zYXZlKHRoaXMuc2hlbHZpbmdPcmRlcikudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgdGhpcy5jYW5jZWwoKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgc2F2ZUNsb3NlKCkgewoKICAgICAgICB9LAogICAgICAgIHJlbW92ZVJvdyhlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgY29uc3QgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWQiKS5kYXRhKCJrZW5kb0dyaWQiKSwKICAgICAgICAgICAgICAgIGRhdGFTb3VyY2UgPSBncmlkLmRhdGFTb3VyY2UsCiAgICAgICAgICAgICAgICBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwoKICAgICAgICAgICAgaWYgKGRhdGFTb3VyY2UudG90YWwoKSA+IDEpIHsKICAgICAgICAgICAgICAgIGRhdGFTb3VyY2UucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZXJyb3JNZXNzYWdlKCkgewoKICAgICAgICB9LAogICAgICAgIGFjY291bnREcm9wRG93bkVkaXRvcigpIHsKICAgICAgICB9LAogICAgICAgIGNhbmNlbCgpIHsKICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkuZ28oLTEpCiAgICAgICAgICAgIHRoaXMuc2hlbHZpbmdPcmRlciA9IHNoZWx2aW5nT3JkZXIKICAgICAgICB9LAogICAgICAgIGhpZGVfc21hbGxzaXRlYmFyKCkgewogICAgICAgICAgICBpZiAoIXRoaXMuaXNIaWRlQmFyKSB7CiAgICAgICAgICAgICAgICAvLyB0aGlzLmNvbF9leHBhbmQgPSAxMgogICAgICAgICAgICAgICAgLy8gdGhpcy5jb2xfaGlkZSA9IDAKICAgICAgICAgICAgICAgIHRoaXMuaXNIaWRlQmFyID0gdHJ1ZQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gdGhpcy5jb2xfZXhwYW5kID0gOQogICAgICAgICAgICAgICAgLy8gdGhpcy5jb2xfaGlkZSA9IDMKICAgICAgICAgICAgICAgIHRoaXMuaXNIaWRlQmFyID0gZmFsc2UKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICB3YXRjaDogewogICAgICAgIC8vIGNhbGwgYWdhaW4gdGhlIG1ldGhvZCBpZiB0aGUgcm91dGUgY2hhbmdlcwoKICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIC8vIGZldGNoIHRoZSBkYXRhIHdoZW4gdGhlIHZpZXcgaXMgY3JlYXRlZCBhbmQgdGhlIGRhdGEgaXMKICAgICAgICAvLyBhbHJlYWR5IGJlaW5nIG9ic2VydmVkCiAgICAgICAgLy8gdGhpcy5sb2FkT2JqKCkKICAgIH0sCiAgICBhc3luYyBtb3VudGVkKCkgewogICAgICAgIGF3YWl0IHRoaXMubG9hZFByZWZpeCgpCiAgICB9LAp9Owo="},{"version":3,"sources":["ShelvingOrder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ShelvingOrder.vue","sourceRoot":"src/views/products/warehouses/operations","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card outlined dense class=\"pa-4 no_border rounded-sm\" color=\"white\">\n                        <v-row>\n                            <v-col class=\"bigSide py-0\" sm=\"8\" cols=\"12\" style=\"transition: .3s ease-in;\"\n                                   :class=\"{'hide_big_bar_class':isHideBar}\">\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">{{ $t('shelving_order') }}</h2>\n                                        <v-icon v-if=\"isHideBar\"\n                                                @click=\"cancel\"\n                                                style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                                class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                        <span style=\"transition: .3s ease-in; z-index:10;\"\n                                              :class=\"{'iconArrow': !isHideBar,'iconArrowHide': isHideBar }\">\n                                            <v-icon size=\"22\"\n                                                    class=\"arr_icon\"\n                                                    @click=\"hide_smallsitebar\"\n                                                    v-if=\"isHideBar\"> mdi-chevron-left-circle\n                                            </v-icon>\n                                            <v-icon size=\"22\"\n                                                    class=\"arr_icon\"\n                                                    @click=\"hide_smallsitebar\"\n                                                    v-if=\"!isHideBar\"> mdi-chevron-right-circle\n                                            </v-icon>\n\t\t\t\t\t\t\t\t\t\t</span>\n                                    </v-card>\n\n                                    <v-card outlined dense class=\"px-3 no_border mb-3\" color=\"grayBg\">\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label  mb-0\">{{ $t('date') }}</label>\n                                                <app-datepicker :initialDate=\"shelvingOrder.date\"\n                                                                @emitDate=\"shelvingOrder.date = $event\"/>\n\n\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label mb-0\">{{ $t('number') }}</label>\n                                                <v-row class=\"mt-1 mr-0\">\n                                                    <v-col sm=\"3\" cols=\"3\" class=\"pt-0 pr-0\">\n                                                        <div class=\"code_text text-bold\">{{ shelvingOrder.abbr }}</div>\n                                                    </v-col>\n                                                    <v-col sm=\"7\" cols=\"7\" class=\"pt-0 pl-0 pr-1\">\n                                                        <v-text-field class=\" custom-border \"\n                                                                      v-model=\"shelvingOrder.number\"\n                                                                      outlined\n                                                                      disabled\n                                                                      :rules=\"[v => !!v || 'Number is required']\"\n                                                                      required/>\n                                                    </v-col>\n                                                    <v-col sm=\"2\" cols=\"2\" class=\"pt-0 px-0\">\n                                                        <v-icon color=\"black\" size=\"30\" class=\"border_qrcode\"\n                                                                @click=\"generateNumber\">mdi-qrcode\n                                                        </v-icon>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label  mb-0\">{{ $t('warehouse') }}</label>\n                                                <v-select class=\"mt-1\"\n                                                          :items=\"warehouses\"\n                                                          item-text=\"name\"\n                                                          item-value=\"id\"\n                                                          @change=\"loadZone\"\n                                                          v-model=\"shelvingOrder.warehouse\"\n                                                          :rules=\"[v => !!v || 'Warehouse is required']\"\n                                                          return-object\n                                                          tage=\"Warehouse\"\n                                                          outlined\n                                                />\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-row color=\"white\">\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                            <kendo-datasource ref=\"dataSource\"\n                                                              :change=\"dataSourceChanged\"\n                                                              :data=\"shelvingOrder.itemLines\"\n                                            />\n                                            <kendo-grid id=\"grid\" class=\"grid-function\"\n                                                        :data-source-ref=\"'dataSource'\"\n                                                        :sortable=\"false\"\n                                                        :filterable=\"false\"\n                                                        :column-menu=\"true\"\n                                                        :editable=\"true\"\n                                                        :scrollable-virtual=\"true\"\n                                            >\n                                                <kendo-grid-column\n                                                    :title=\"$t('no.')\"\n                                                    :template=\"rowNumber\"\n                                                    :width=\"55\"\n                                                    :column-menu=\"false\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5;',\n                                                                    class: 'text-variants'\n                                                                }\"\n                                                    :attributes=\"{\n                                                                    style: 'text-align: variants'\n                                                                }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'item'\"\n                                                    :title=\"$t('items')\"\n                                                    :width=\"200\"\n                                                    :template=\"'<span>#=item.name#</span>'\"\n                                                    :editor=\"ItemDropDownEditor\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'qty'\"\n                                                    :title=\"$t('qty')\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'uom'\"\n                                                    :title=\"$t('uom')\"\n                                                    :template=\"UOMTemplate\"\n                                                    :editor=\"UOMDropDownEditor\"\n                                                    :width=\"160\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'zone'\"\n                                                    :title=\"$t('zone')\"\n                                                    :template=\"ZoneTemplate\"\n                                                    :editor=\"ZoneDropDownEditor\"\n                                                    :format=\"'{0:n}'\"\n                                                    :width=\"150\"\n                                                    :headerAttributes=\"{\n                                                                        style: 'text-align: right; background-color: #EDF1F5'\n                                                                    }\"\n                                                    :attributes=\"{\n                                                                        style: 'text-align: right'\n                                                                    }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'section'\"\n                                                    :title=\"$t('section')\"\n                                                    :template=\"SectionTemplate\"\n                                                    :editor=\"SectionDropDownEditor\"\n                                                    :format=\"'{0:n}'\"\n                                                    :width=\"150\"\n                                                    :headerAttributes=\"{\n                                                                        style: 'text-align: right; background-color: #EDF1F5'\n                                                                    }\"\n                                                    :attributes=\"{\n                                                                        style: 'text-align: right'\n                                                                    }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'rack'\"\n                                                    :title=\"$t('rack')\"\n                                                    :template=\"RackTemplate\"\n                                                    :editor=\"RackDropDownEditor\"\n                                                    :format=\"'{0:n}'\"\n                                                    :width=\"150\"\n                                                    :headerAttributes=\"{\n                                                                        style: 'text-align: right; background-color: #EDF1F5'\n                                                                    }\"\n                                                    :attributes=\"{\n                                                                        style: 'text-align: right'\n                                                                    }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'level'\"\n                                                    :title=\"$t('level')\"\n                                                    :template=\"LevelTemplate\"\n                                                    :editor=\"LevelDropDownEditor\"\n                                                    :format=\"'{0:n}'\"\n                                                    :width=\"150\"\n                                                    :headerAttributes=\"{\n                                                                        style: 'text-align: right; background-color: #EDF1F5'\n                                                                    }\"\n                                                    :attributes=\"{\n                                                                        style: 'text-align: right'\n                                                                    }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'bin'\"\n                                                    :title=\"$t('bin_location')\"\n                                                    :template=\"BinTemplate\"\n                                                    :editor=\"BinDropDownEditor\"\n                                                    :format=\"'{0:n}'\"\n                                                    :width=\"150\"\n                                                    :headerAttributes=\"{\n                                                                        style: 'text-align: right; background-color: #EDF1F5'\n                                                                    }\"\n                                                    :attributes=\"{\n                                                                        style: 'text-align: right'\n                                                                    }\"/>\n\n                                                <kendo-grid-column\n                                                    :command=\"{ iconClass: 'k-icon k-i-trash', text: 'Delete', click: removeRow, class: 'btn-plus' }\"\n                                                    :title=\"'&nbsp;'\"\n                                                    :width=\"100\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'text-align: right; background-color: #EDF1F5'\n                                                                }\"\n                                                />\n                                            </kendo-grid>\n\n                                        </v-col>\n                                        <v-col cols=\"12\">\n                                            <v-btn color=\"primary\" class=\"float-left rounded-0 white--text mr-2\"\n                                                   @click=\"addRow\">\n                                                <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                            </v-btn>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\">\n                                            <v-row>\n                                                <v-col sm=\"5\" cols=\"12\" class=\"pt-0\">\n                                                    <template>\n                                                        <v-file-input class=\"mt-0 pt-0 \" sm=\"3\" cols=\"6\"\n                                                                      v-model=\"files\"\n                                                                      :placeholder=\"$t('attachment')\"\n                                                                      multiple\n                                                                      prepend-icon=\"mdi-paperclip\"\n                                                        >\n                                                            <template v-slot:selection=\"{ text }\">\n                                                                <v-chip\n                                                                    small\n                                                                    label\n                                                                    color=\"primary\"\n                                                                >\n                                                                    {{ text }}\n                                                                </v-chip>\n                                                            </template>\n                                                        </v-file-input>\n                                                    </template>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n                                    <v-divider/>\n                                    <v-card outlined dense class=\"no_border function_footer\">\n                                        <v-menu>\n                                            <template v-slot:activator=\"{ on }\">\n                                                <v-btn\n                                                    color=\"black\"\n                                                    outlined\n                                                    class=\"mr-2 text-capitalize  black--text float-left\"\n                                                    v-on=\"on\"\n                                                >\n                                                    {{ $t(\"select_template\") }}\n                                                    <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                                </v-btn>\n                                            </template>\n                                            <v-list>\n                                                <v-list-item\n                                                    v-for=\"(item, index) in templates\"\n                                                    :key=\"index\"\n                                                >\n                                                    <v-list-item-title>{{ item.title }}</v-list-item-title>\n                                                </v-list-item>\n                                            </v-list>\n                                        </v-menu>\n                                        <v-btn\n                                            @click=\"cancel\"\n                                            color=\"black\"\n                                            class=\"text-capitalize  white--text float-left\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <v-menu>\n                                            <template v-slot:activator=\"{ on }\">\n                                                <v-btn\n                                                    color=\"primary\"\n                                                    class=\"ml-2 float-right text-capitalize  white--text\"\n                                                    v-on=\"on\"\n                                                >\n                                                    {{ $t(\"save_option\") }}\n                                                    <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                                </v-btn>\n                                            </template>\n                                            <v-list rounded>\n                                                <v-list-item-group>\n                                                    <v-list-item>\n                                                        <v-list-item-content>\n                                                            <v-list-item-title>\n                                                                {{ $t(\"save_new\") }}\n                                                            </v-list-item-title>\n                                                        </v-list-item-content>\n                                                    </v-list-item>\n                                                    <v-list-item>\n                                                        <v-list-item-content>\n                                                            <v-list-item-title\n                                                            >{{ $t(\"save_print\") }}\n                                                            </v-list-item-title>\n                                                        </v-list-item-content>\n                                                    </v-list-item>\n                                                </v-list-item-group>\n                                            </v-list>\n                                        </v-menu>\n                                        <v-btn\n                                            @click=\"saveNew\"\n                                            color=\"primary\"\n                                            class=\"float-right white--text text-capitalize \"\n                                        >\n                                            {{ $t(\"save_draft\") }}\n                                        </v-btn>\n                                    </v-card>\n                                </v-form>\n                            </v-col>\n                            <v-col class=\"smallSide\" sm=\"4\" style=\"transition: .3s ease-in;\"\n                                   :class=\"{'hide_small_bar_class':isHideBar}\">\n                                <h3 style=\"color: #b3b5bc; font-size:20px;\" v-if=\"!isHideBar\"\n                                    class=\"text-uppercase float-right mt-n3\">Help\n                                    <v-icon\n                                        onclick=\"window.history.go(-1); return false;\"\n                                        style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                        class=\"float-right mt-n1\"\n                                    >close\n                                    </v-icon>\n                                </h3>\n\n                                <v-card outlined dense v-if=\"!isHideBar\" class=\"small_sidebar mt-9 no_border\"\n                                        color=\"grayBg\">\n                                    <v-row>\n                                        <v-col sm=\"12\" cols=\"12\">\n                                            <h4 class=\"mb-2 text-uppercase\">{{ $t('analysis') }}</h4>\n                                            <v-row>\n                                                <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n<!--                                                    <label class=\"label mb-0\">{{ $t('segment') }}</label>-->\n<!--                                                    <v-select class=\"mt-2\"-->\n<!--                                                              v-model=\"shelvingOrder.segment\"-->\n<!--                                                              :items=\"segments\"-->\n<!--                                                              item-value=\"id\"-->\n<!--                                                              :item-text=\"item =>`${item.code} - ${item.name}`\"-->\n<!--                                                              return-object-->\n<!--                                                              tage=\"sub Of\"-->\n<!--                                                              placeholder=\"Sub Of\"-->\n<!--                                                              outlined=\"\"/>-->\n                                                    <label class=\"label mb-0\">{{ $t('location') }}</label>\n                                                    <v-select class=\"mt-2\"\n                                                              v-model=\"shelvingOrder.location\"\n                                                              :items=\"locations\"\n                                                              item-value=\"id\"\n                                                              :item-text=\"item =>`${item.code} - ${item.name}`\"\n                                                              return-object\n                                                              tage=\"Location\"\n                                                              placeholder=\"bu/location\"\n                                                              outlined=\"\"/>\n                                                    <label class=\"label mb-0 font_14\">{{ $t('sale_channel') }}</label>\n                                                    <v-select class=\" my-2\"\n                                                              v-model=\"shelvingOrder.saleChannel\"\n                                                              :items=\"saleChannelList\"\n                                                              item-value=\"id\"\n                                                              item-text=\"name\"\n                                                              return-object\n                                                              tage=\"Sale Channel\"\n                                                              placeholder=\"Channel\"\n                                                              outlined\n                                                    />\n<!--                                                    <label class=\"label\">{{ $t(\"project\") }}</label>-->\n<!--                                                    <v-select-->\n<!--                                                        class=\"mt-1\"-->\n<!--                                                        v-model=\"shelvingOrder.project\"-->\n<!--                                                        :items=\"projects\"-->\n<!--                                                        :item-text=\"item =>`${item.code} - ${item.name}`\"-->\n<!--                                                        item-value=\"id\"-->\n<!--                                                        tage=\"Project\"-->\n<!--                                                        outlined-->\n<!--                                                    />-->\n                                                    <label class=\"label\">{{ $t(\"for_month_of\") }}</label>\n                                                    <app-monthpicker\n                                                        :initMonthOf=\"shelvingOrder.monthOf\"\n                                                        @emitMonthOf=\"shelvingOrder.monthOf = $event\"\n                                                    />\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n\n                                    <p class=\"mb-0 detial_smallside_p font_14\" style=\"margin-top: 20%;\">\n                                        {{ $t('shelving_order_desc') }}</p>\n                                </v-card>\n                            </v-col>\n                        </v-row>\n\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"true\"\n                :myLoading=\"true\"\n                :alertMessage=\"loadingAlert\"\n                :color=\"loadingColorAlert\"\n                :alertText=\"loadingTextAlert\"/>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n// import kendo from '@progress/kendo-ui'\nimport LoadingMe from '@/components/Loading'\nimport DatePickerComponent from '@/components/custom_templates/DatePickerComponent'\nimport ShelvingOrder from \"@/scripts/model/ShelvingOrder\";\nimport kendo from \"@progress/kendo-ui\";\nimport MonthOfPicker from \"@/components/kendo_templates/MonthOfPicker\";\nconst $ = require(\"jquery\")\nconst prefixHandler = require(\"@/scripts/prefixHandler\")\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\")\nconst settingsHandler = require(\"@/scripts/settingsHandler\")\nconst saleChannelHandler = require(\"@/scripts/saleChannelHandler\")\nconst warehouseHandler = require(\"@/scripts/warehouseHandler\")\nconst locationHandler = require(\"@/scripts/locationHandler\")\nconst projectHandler = require(\"@/scripts/projectHandler\")\nconst uomConversionHandler = require(\"@/scripts/uomConversionHandler\")\nconst productVariantHandler = require(\"@/scripts/productVariantHandler\")\nconst shelvingOrderHandler = require(\"@/scripts/shelvingOrderHandler\")\nconst shelvingOrder = new ShelvingOrder({})\n\nexport default {\n    name: \"ShelvingOrder\",\n    components: {\n        'LoadingMe': LoadingMe,\n        'app-datepicker': DatePickerComponent,\n        \"app-monthpicker\": MonthOfPicker,\n    },\n    data: () => ({\n        isEdit: false,\n        // LoadingMe\n        showLoading: false,\n        loadingAlert: false,\n        loadingColorAlert: '',\n        loadingTextAlert: '',\n        bill_date: '',\n        alert: false,\n        deposite: 1000,\n        files: [],\n        // Form validation\n        valid: true,\n\n        journal_types: [],\n        suppliers_item: [],\n        expense: [\n            'Equal',\n            'weighted'\n        ],\n        journal_date: \"\",\n        templates: [\n            {title: 'Draft'},\n            {title: 'Open'},\n            {title: 'Partially Closed'},\n            {title: 'Closed'},\n        ],\n        col_expand: 9,\n        col_hide: 3,\n        isHideBar: false,\n        suppliers: [\"Suppliers\", \"Customer\", \"Employee\"],\n        transaction: [\n            {\n                id: \"12\",\n                name: \"Purchase Order\",\n                no: \"No.0024\",\n                price: \"2,50000\",\n            },\n            {\n                id: \"14\",\n                name: \"Godd Recipt Note\",\n                no: \"No.0024\",\n                price: \"2,50000\",\n            }\n        ],\n        item_suppliers: [\n            {\n                name: \"Subtotal\",\n                value: \"10000.00\"\n            },\n            {\n                name: \"Subtotal\",\n                value: \"10000.00\"\n            },\n            {\n                name: \"Subtotal\",\n                value: \"10000.00\"\n            },\n            {\n                name: \"Subtotal\",\n                value: \"10000.00\"\n            },\n            {\n                name: \"Subtotal\",\n                value: \"10000.00\"\n            },\n        ],\n\n        saleChannelList: [],\n        projects: [],\n        locations: [],\n        segments: [],\n        zones: [],\n        racks: [],\n        bins: [],\n        levels: [],\n        sections: [],\n        warehouses: [],\n        bin: {},\n        itemLines: [],\n        itemWarehouse: [],\n        shelvingOrder: shelvingOrder\n    }),\n    methods: {\n        dataSourceChanged(e) {\n            if (e.field) {\n                let dataRow = e.items[0]\n                switch (e.field) {\n                    // case \"uom\":\n                    //     // window.console.log(dataRow.uom,'row-uom')\n                    //     dataRow.set('cost', parseFloat(dataRow.uom.price))\n                    //     window.console.log(dataRow.yield_qty)\n                    //     if (dataRow.yield_qty !== undefined) {\n                    //         dataRow.set('cost', parseFloat(dataRow.uom.price) * parseFloat(dataRow.yield_qty))\n                    //         this.costFP = dataRow.cost\n                    //     }\n                    //     break\n                    case \"item\":\n                        this.itemWarehouse.forEach(i => {\n                            if (dataRow.item.id === i.id) {\n                                dataRow.set('zone', i.zone)\n                                dataRow.set('section', i.section)\n                                dataRow.set('rack', i.rack)\n                                dataRow.set('level', i.level)\n                                dataRow.set('bin', i.bin)\n                                dataRow.set('qty', i.qty)\n                            }\n                        })\n\n                        break\n                    case \"zone\":\n                        this.loadSection(dataRow.zone)\n                        if (dataRow.zone.id !== undefined || dataRow.section.id !== undefined || dataRow.rack.id !== undefined || dataRow.level.id !== undefined) {\n                            this.loadBin(dataRow)\n                            dataRow.set('bin', this.bin)\n                        }\n                        window.console.log(\"--\", dataRow)\n                        break\n                    case \"section\":\n                        this.loadRack(dataRow.section)\n                        if (dataRow.zone.id !== undefined || dataRow.section.id !== undefined || dataRow.rack.id !== undefined || dataRow.level.id !== undefined) {\n                            this.loadBin(dataRow)\n                            dataRow.set('bin', this.bin)\n                        }\n                        window.console.log(\"--\", dataRow)\n                        break\n                    case \"rack\":\n                        this.loadLevel(dataRow.rack)\n                        if (dataRow.zone.id !== undefined || dataRow.section.id !== undefined || dataRow.rack.id !== undefined || dataRow.level.id !== undefined) {\n                            this.loadBin(dataRow)\n                            dataRow.set('bin', this.bin)\n                        }\n                        window.console.log(\"--\", dataRow)\n                        break\n                    case \"level\":\n                        if (dataRow.zone.id !== undefined || dataRow.section.id !== undefined || dataRow.rack.id !== undefined || dataRow.level.id !== undefined) {\n                            this.loadBin(dataRow)\n                            window.console.log(this.bin)\n                            dataRow.set('bin', this.bin)\n                        }\n                        break\n                    default:\n                        break\n                }\n                if (e.field) {\n                    // this.autoCalculate()\n                }\n            }\n        },\n        rowNumber(dataItem) {\n            let ds = this.$refs.dataSource.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        UOMDropDownEditor(container, options) {\n            kendo.jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"toUOM.name\",\n                    dataValueField: \"toUOM.id\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=toUOM.name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: uomConversionHandler.getUrl(options.model.item.id),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    // name: {type: \"string\"},\n                                    // sku: {type: \"string\"},\n                                }\n                            },\n                            data: function (response) {\n                                return response.data\n                            },\n                            total: function (response) {\n                                return response.data.count\n                            }\n                        },\n                        // data: this.variants\n                    }),\n                })\n        },\n        UOMTemplate(dataItem) {\n            const uom = dataItem.uom\n            if (uom) {\n                return `<span>${uom.toUOM ? uom.toUOM.name : ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        BinDropDownEditor(container, options) {\n            kendo.jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.bins,\n                    })\n                })\n        },\n        BinTemplate(dataItem) {\n            const bin = dataItem.bin\n            if (bin) {\n                return `<span>${bin.name ? bin.name : ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        RackDropDownEditor(container, options) {\n            kendo.jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.racks,\n                    })\n                })\n        },\n        RackTemplate(dataItem) {\n            const rack = dataItem.rack\n            if (rack) {\n                return `<span>${rack.name ? rack.name : ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        LevelDropDownEditor(container, options) {\n            kendo.jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.levels,\n                    })\n                })\n        },\n        LevelTemplate(dataItem) {\n            const level = dataItem.level\n            if (level) {\n                return `<span>${level.name ? level.name : ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        ZoneDropDownEditor(container, options) {\n            kendo.jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.zones,\n                    })\n                })\n        },\n        ZoneTemplate(dataItem) {\n            const zone = dataItem.zone\n            if (zone) {\n                return `<span>${zone.name ? zone.name : ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        SectionTemplate(dataItem) {\n            const section = dataItem.section\n            if (section) {\n                return `<span>${section.name ? section.name : ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        SectionDropDownEditor(container, options) {\n            kendo.jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    cascadeFrom: \"item\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.sections,\n                    })\n                })\n        },\n        ItemDropDownEditor(container, options) {\n            kendo.jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"id\",\n                    headerTemplate: '<div class=\"dropdown-header k-widget k-header\">' +\n                        '<span>Items </span>' +\n                        '<span></span>' +\n                        '</div>',\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        serverFiltering: true,\n                        transport: {\n                            read: {\n                                url: productVariantHandler.itemSearchURL(),\n                            },\n                            dataType: \"json\",\n                        },\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: {type: \"string\"},\n                                    name: {type: \"string\"},\n                                    sku: {type: \"string\"},\n                                }\n                            },\n                            data: function (response) {\n                                return response.data;\n                            },\n                            total: function (response) {\n                                return response.data.count;\n                            }\n                        },\n                        // data: this.variants\n                    }),\n                })\n        },\n        addRow() {\n            let data = {\n                item: {name: ''},\n                qty: 0,\n                uom: {},\n                section: {name: ''},\n                rack: {name: ''},\n                level: {name: ''},\n                zone: {name: ''},\n                bin: {name: ''}\n            }\n            let ds = this.$refs.dataSource.kendoWidget(),\n                total = ds.total();\n            ds.insert(total, data)\n        },\n        async loadSegment() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.segments = []\n                    settingsHandler.getSeg().then(res => {\n                        if (res.data.statusCode === 200) {\n                            this.segments = res.data.data\n                            if (this.segments.length > 0) {\n                                this.shelvingOrder.segment = this.segments[0]\n                            }\n                            // this.segmentList = res.data.data\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 300)\n            })\n        },\n        async loadLocation() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.locations = []\n                    locationHandler.list().then(res => {\n                        if (res.data.statusCode === 200) {\n                            this.locations = res.data.data\n                            if (this.locations.length > 0) {\n                                this.shelvingOrder.location = this.locations[0]\n                            }\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 300)\n            })\n        },\n        async loadSaleChannel() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    saleChannelHandler.get().then(res => {\n                        if (res.data.statusCode === 200) {\n                            this.saleChannelList = res.data.data\n                            if (this.saleChannelList.length > 0) {\n                                this.shelvingOrder.saleChannel = this.saleChannelList[0]\n                            }\n                        } else {\n                            this.showLoading = false\n                        }\n                    })\n                }, 300);\n            })\n        },\n        async loadZone() {\n            warehouseHandler.getZonAll().then(res => {\n                if (res) {\n                    res.forEach(i => {\n                        if (i.wh.id === this.shelvingOrder.warehouse.id) {\n                            this.zones.push(i)\n                        }\n                    })\n                    // this.zones = res\n                    // this.zoneList = res\n                }\n            })\n        },\n        async loadProjects() {\n            await projectHandler.list().then(res => {\n                this.projects = res.data.data\n                if (this.projects.length > 0) {\n                    this.shelvingOrder.project = this.projects[0]\n                }\n            })\n        },\n        async onloadWarehouse() {\n            await warehouseHandler.getWarehouseSettingAll().then(async res => {\n                this.warehouses = res\n                if (this.warehouses.length > 0) {\n                    this.shelvingOrder.warehouse = this.warehouses[0]\n                    await this.loadZone()\n                }\n            })\n        },\n\n        async loadSection(data) {\n            await warehouseHandler.getSectionSettingAll().then(res => {\n                if (res) {\n                    res.forEach(i => {\n                        if (i.hasOwnProperty('zone')) {\n                            if (i.zone.id === data.id) {\n                                this.sections.push(i)\n                            }\n                        }\n                    })\n                    // this.sections = res\n                }\n            })\n        },\n        async loadRack(data) {\n            await warehouseHandler.getRackSettingAll().then(res => {\n                if (res) {\n                    res.forEach(i => {\n                        if (i.hasOwnProperty('section')) {\n                            if (i.section.id === data.id) {\n                                this.racks.push(i)\n                            }\n                        }\n                    })\n                    // this.racks = res\n                }\n            })\n        },\n        async loadLevel(data) {\n            await warehouseHandler.getLevelSettingAll().then(res => {\n                if (res) {\n                    res.forEach(i => {\n                        if (i.hasOwnProperty('rack')) {\n                            if (i.rack.id === data.id) {\n                                this.levels.push(i)\n                            }\n                        }\n                    })\n                    // this.levels = res\n                    // this.levels = res\n                }\n            })\n        },\n        async loadBin(data) {\n            window.console.log(data, 'data')\n            await warehouseHandler.getBin().then(res => {\n                res.forEach(i => {\n                    window.console.log(i.rack.id === data.rack.id, i.section.id === data.section.id, i.level.id === data.level.id)\n                    if (i.rack.id === data.rack.id && i.section.id === data.section.id && i.level.id === data.level.id) {\n                        this.bin = i\n                        // window.console.log(i,'bin')\n                    }\n                })\n                this.bins = res\n            })\n        },\n        async loadItemWarehouse() {\n            await warehouseHandler.getItem().then(res => {\n                this.itemWarehouse = res\n                window.console.log(this.itemWarehouse)\n            })\n        },\n        async loadPrefix() {\n            this.showLoading = true\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    prefixHandler.get('shelving order').then(res => {\n                        if (res.data.statusCode === 200) {\n                            // this.showLoading = false\n                            this.transactionTypes = res.data.data\n                            if (this.transactionTypes.length > 0) {\n                                this.shelvingOrder.transactionType = this.transactionTypes[0]\n                                if (this.$route.params.id === undefined) {\n                                    this.generateNumber()\n                                }\n                            }\n                        }\n\n                    })\n                }, 300);\n            })\n            await this.onloadWarehouse()\n            await this.loadSaleChannel()\n            await this.loadLocation()\n            await this.loadProjects()\n            await this.loadSegment()\n            await this.loadItemWarehouse()\n            // await this.loadBin()\n            this.showLoading = false\n        },\n        generateNumber() {\n            let data = {\n                abbr: this.shelvingOrder.transactionType.abbr,\n                structure: this.shelvingOrder.transactionType.structure,\n                transactionDate: this.shelvingOrder.date,\n                sequcencing: this.shelvingOrder.transactionType.sequcencing,\n                type: 'Shelving Order',\n                entity: 2,\n            }\n            this.shelvingOrder.abbr = data.abbr\n            this.shelvingOrder.structure = data.structure\n            this.shelvingOrder.sequcencing = data.sequcencing\n            this.shelvingOrder.type = data.type\n            this.shelvingOrder.transactionDate = data.transactionDate\n            billingHandler.lastNumber(data).then(response => {\n                if (response.data.statusCode === 200) {\n                    const res = response.data.data\n                    const lastNumber = this.zeroPad(parseInt(res.lastNumber), this.shelvingOrder.transactionType.format)\n                    this.shelvingOrder.number = res.suffix + this.shelvingOrder.transactionType.numberSeparator + lastNumber\n                    this.shelvingOrder.lastNumber = res.suffix + lastNumber\n                    window.console.log(this.shelvingOrder.number, 'bom')\n                }\n            }).catch(e => {\n                this.errors.push(e)\n            })\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, '0')\n        },\n        suffix(transactionDate) {\n            return kendo.toString(new Date(transactionDate), `yymm`)\n        },\n\n        async getDataSource() {\n            let ds = this.$refs.dataSource.kendoWidget()\n            let dataRow = ds.data()\n            this.itemLines = []\n\n            dataRow.forEach(i => {\n                window.console.log(i, 'item')\n                this.itemLines.push({\n                    id: i.id,\n                    item: i.item,\n                    qty: i.qty,\n                    uom: i.uom,\n                    section: i.section,\n                    rack: i.rack,\n                    level: i.level,\n                    zone: i.zone,\n                    bin: i.bin,\n                })\n            })\n        },\n        savePrint() {\n\n        },\n        async saveNew() {\n            this.showLoading = true\n            await this.getDataSource()\n            let item = this.itemLines\n            let items = []\n            for (let i = 0; i < item.length; i++) {\n                item[i]['item'].qty = item[i]['qty']\n                item[i]['item'].section = item[i]['section']\n                item[i]['item'].rack = item[i]['rack']\n                item[i]['item'].level = item[i]['level']\n                item[i]['item'].zone = item[i]['zone']\n                item[i]['item'].bin = item[i]['bin']\n                item[i]['item'].warehouse = this.shelvingOrder.warehouse\n                items.push(item[i]['item'])\n            }\n            await warehouseHandler.saveItem(items).then(res => {\n                window.console.log(res)\n            })\n            this.shelvingOrder.itemLines = this.itemLines\n            shelvingOrderHandler.save(this.shelvingOrder).then(res => {\n                window.console.log(res)\n                this.showLoading = false\n                this.cancel()\n            })\n        },\n        saveClose() {\n\n        },\n        removeRow(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n            }\n        },\n        errorMessage() {\n\n        },\n        accountDropDownEditor() {\n        },\n        cancel() {\n            window.history.go(-1)\n            this.shelvingOrder = shelvingOrder\n        },\n        hide_smallsitebar() {\n            if (!this.isHideBar) {\n                // this.col_expand = 12\n                // this.col_hide = 0\n                this.isHideBar = true\n            } else {\n                // this.col_expand = 9\n                // this.col_hide = 3\n                this.isHideBar = false\n            }\n        }\n    },\n    watch: {\n        // call again the method if the route changes\n\n    },\n    created() {\n        // fetch the data when the view is created and the data is\n        // already being observed\n        // this.loadObj()\n    },\n    async mounted() {\n        await this.loadPrefix()\n    },\n};\n</script>\n\n<style scoped>\n.function_wrapper {\n    box-shadow: none !important;\n}\n\n.v-application--is-ltr .v-text-field .v-input__append-inner {\n    margin-top: 0 !important;\n}\n\n.v-input__slot {\n    background-color: #fff !important;\n}\n\n.function_content .label {\n    margin-bottom: 10px;\n    display: inline-block;\n}\n\n.border_radius10 {\n    border-radius: 10px !important;\n    background-color: #F2F2F2;\n}\n\n.pa-3.v-card h4 {\n    font-size: 18px;\n    color: #333;\n}\n\n.pa-3.v-card p {\n    font-size: 12px;\n    color: #B5B5B5;\n}\n\n.custom_grid table th:last-child {\n    text-align: right !important;\n}\n\n.color_green {\n    color: #03b154;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        max-width: 1250px;\n    }\n}\n\n@media (max-width: 576px) {\n    .pt-6.col-sm-5.col-12 {\n        padding-top: 0 !important;\n    }\n\n    .code_text {\n        width: 100%;\n    }\n\n    .phone_no_pt {\n        padding-top: 0 !important;\n    }\n\n    .select_template,\n    .save_option {\n        margin-bottom: 10px;\n    }\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: .5s ease-in;\n    flex: 0 0 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: .5s ease-in;\n    flex: 0 0 100%;\n}\n\n.info_add {\n    background-color: #ffffff;\n}\n\n.small_sidebar {\n    height: 96%;\n    position: relative;\n    padding: 12px;\n    background-color: #EDF1F5;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.color_grey {\n    color: #808080;\n}\n\n.card_green {\n    min-height: 70px;\n    background-color: #00b050 !important;\n    color: #ffffff;\n}\n\n.lb_bold {\n    font-size: 12px;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 10px;\n}\n\n.card_background {\n    background-color: #EDF1F5;\n    min-height: 120px;\n}\n\n.deposite_input {\n    width: 100px;\n}\n\n.btn_save_draft {\n    color: #ffffff;\n    background-color: #00b0f0 !important;\n    text-transform: capitalize;\n}\n\n.save_option {\n    background-color: #203864 !important;\n}\n\n.btn_add_small {\n    height: 27px !important;\n    min-width: 25px !important;\n    font-size: 10px;\n    padding: 0 22px !important;\n    background-color: #00b050 !important;\n    color: #ffffff;\n    border-radius: 0 !important;\n}\n\n.list_site_inv {\n    background-color: #92d050;\n    color: #ffffff;\n    font-size: 12px;\n}\n\n.list_site_exp {\n    background-color: #c5e0b4;\n    color: #000000;\n    font-size: 12px;\n    line-height: 16px;\n    min-height: 40px;\n}\n\n.checkbox_inv {\n    padding: 2px;\n    margin-top: 3px;\n    margin-right: 2px;\n}\n\n.exp_select {\n    font-size: 12px !important;\n}\n\n.v-data-table__wrapper td {\n    border-bottom: 1px solid #808080;\n    border-top: 1px solid #808080;\n}\n\n</style>\n"]}]}