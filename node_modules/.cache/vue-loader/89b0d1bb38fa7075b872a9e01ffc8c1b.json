{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/services_projects/projects/Project.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/services_projects/projects/Project.vue","mtime":1638499443305},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7aTE4bn0gZnJvbSAnQC9pMThuJzsKaW1wb3J0IERhdGVQaWNrZXJDb21wb25lbnQgZnJvbSAnQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvRGF0ZVBpY2tlckNvbXBvbmVudCcKaW1wb3J0IFNlcnZpY2VQcm9qZWN0IGZyb20gIkAvc2NyaXB0cy9zZXJ2aWNlL21vZGVsL3Byb2plY3QiOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKaW1wb3J0IHtkYXRhU3RvcmV9IGZyb20gIkAvb2JzZXJ2YWJsZS9zdG9yZSI7Cgpjb25zdCAkID0gcmVxdWlyZSgianF1ZXJ5IikKY29uc3QgY3VzdG9tZXJIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2N1c3RvbWVySGFuZGxlciIpCmNvbnN0IHNhbGVPcmRlckhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvdHJhbnNhY3Rpb25IYW5kbGVyIikKY29uc3QgcHJvamVjdEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJvamVjdEhhbmRsZXIiKQpjb25zdCBzYWxlRm9ybUNvbnRlbnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NhbGVGb3JtQ29udGVudEhhbmRsZXIiKQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQcm9qZWN0IiwKICBwcm9wczogWyJpZCJdLAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmdNZTogKCkgPT4gaW1wb3J0KGBAL2NvbXBvbmVudHMvTG9hZGluZ2ApLAogICAgJ2FwcC1kYXRlcGlja2VyJzogRGF0ZVBpY2tlckNvbXBvbmVudCwKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICB0ZW1wbGF0ZTogW10sCiAgICBzdGFydGluZ0RhdGU6ICcnLAogICAgZW5kaW5nRGF0ZTogJycsCiAgICB2YWxpZDogdHJ1ZSwKICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgIGN1c3RvbWVyTGlzdDogW10sCiAgICBjdXN0b21lcnM6IFtdLAogICAgY3VzdG9tZXI6IHt9LAogICAgZmlsdGVyOiAnJywKICAgIHNhbGVPcmRlcnM6IFtdLAogICAgc2FsZUZvcm1Db250ZW50OiB7fSwKICAgIHByb2plY3Q6IG5ldyBTZXJ2aWNlUHJvamVjdCh7fSkKCiAgfSksCiAgbWV0aG9kczogewogICAgYW1vdW50Rm9ybWF0KHZhbHVlKSB7CiAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhwYXJzZUZsb2F0KHZhbHVlLmFtb3VudCksIGBuJHt0aGlzLnNhbGVGb3JtQ29udGVudC5kZWNpbWFsfWApCiAgICB9LAogICAgYXN5bmMgbG9hZFNhbGVGb3JtQ29udGVudCgpIHsKICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgc2FsZUZvcm1Db250ZW50SGFuZGxlci5saXN0KCkudGhlbihyZXMgPT4gewogICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhLmRhdGEKICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNhbGVGb3JtQ29udGVudCA9IGRhdGFbMF0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfSwgMTApCiAgICAgIH0pCiAgICB9LAogICAgcmVtb3ZlUm93KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBjb25zdCBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZEN1c3RvbWVycyIpLmRhdGEoImtlbmRvR3JpZCIpLAogICAgICAgIGRhdGFTb3VyY2UgPSBncmlkLmRhdGFTb3VyY2UsCiAgICAgICAgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKCQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKICAgICAgaWYgKGRhdGFTb3VyY2UudG90YWwoKSA+IDEpIHsKICAgICAgICBkYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBpbml0RGF0YSgpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgYXdhaXQgdGhpcy5sb2FkU2luZ2xlUHJvamVjdCgpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXdhaXQgdGhpcy5jbGVhcigpCiAgICAgIH0KICAgIH0sCiAgICBvblVwZGF0ZSgpIHsKICAgICAgdGhpcy4kZW1pdCgib25VcGRhdGUiLCB0aGlzLnByb2plY3QpOwogICAgfSwKICAgIGRhdGFTb3VyY2VDaGFuZ2VkKGUpIHsKICAgICAgaWYgKGUuZmllbGQpIHsKICAgICAgICBsZXQgZGF0YVJvdyA9IGUuaXRlbXNbMF0KICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coZS5maWVsZCkKICAgICAgICBzd2l0Y2ggKGUuZmllbGQpIHsKICAgICAgICAgIGNhc2UgImN1c3RvbWVyIjoKICAgICAgICAgICAgLy8gdGhpcy5vbmxvYWRTYWxlT3JkZXIoZGF0YVJvdy5jdXN0b21lcikKICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGRhdGFSb3cpCiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICBjYXNlICJzYWxlT3JkZXIiOgogICAgICAgICAgICBkYXRhUm93LnNldCgnYW1vdW50JywgZGF0YVJvdy5zYWxlT3JkZXIuZXhjaGFuZ2VBbW91bnQpCiAgICAgICAgICAgIGRhdGFSb3cuc2V0KCdkZWNpbWFsRm9ybWF0JywgZGF0YVJvdy5zYWxlT3JkZXIuZGVjaW1hbEZvcm1hdCkKICAgICAgICAgICAgYnJlYWsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXN5bmMgb25sb2FkU2FsZU9yZGVyKHZhbHVlKSB7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgICJtZXRob2QiOiAiYnlfY3VzdG9tZXIiLAogICAgICAgICJjdXN0b21lciI6IHZhbHVlLmlkLAogICAgICAgICJ0eXBlIjogJ1NhbGUgT3JkZXInLAogICAgICB9CiAgICAgIGF3YWl0IHNhbGVPcmRlckhhbmRsZXIuc2VhcmNoKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnNhbGVPcmRlcnMgPSByZXMuZGF0YS5kYXRhCiAgICAgIH0pCiAgICB9LAogICAgcm93TnVtYmVyKGRhdGFJdGVtKSB7CiAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMuY3VzdG9tZXJzRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgYXN5bmMgYWRkUm93KCkgewogICAgICBsZXQgZHMgPSB0aGlzLiRyZWZzLmN1c3RvbWVyc0RTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICB0b3RhbCA9IGRzLnRvdGFsKCk7CiAgICAgIC8vIGlmICh0b3RhbCA8IDEpIHsKICAgICAgYXdhaXQgZHMuaW5zZXJ0KHRvdGFsLCB7CiAgICAgICAgY3VzdG9tZXI6IHsKICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgbnVtYmVyOiAnJywKICAgICAgICB9LAogICAgICAgIHNhbGVPcmRlcjogewogICAgICAgICAgbnVtYmVyOiAnJwogICAgICAgIH0sCiAgICAgICAgYW1vdW50OiAwLAogICAgICAgIGRlY2ltYWxGb3JtYXQ6ICduJyArIHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwKICAgICAgfSkKICAgICAgLy8gfQogICAgfSwKICAgIFNhbGVPcmRlckRyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKQogICAgICAgICAgLmFwcGVuZFRvKGNvbnRhaW5lcikKICAgICAgICAgIC5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgICAgIGhlaWdodDogNDAwLAogICAgICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICAgICAgZGF0YVRleHRGaWVsZDogInJlZmVyZW5jZU5vIiwKICAgICAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgICAgIGNhc2NhZGVGcm9tOiAiaXRlbSIsCiAgICAgICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz1yZWZlcmVuY2VObyM8L3NwYW4+IiwKICAgICAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgICAgIHNlcnZlckZpbHRlcmluZzogdHJ1ZSwKICAgICAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICAgICAgdXJsOiBzYWxlT3JkZXJIYW5kbGVyLnNlYXJjaFVSTCgnP2lkPScgKyBvcHRpb25zLm1vZGVsLmN1c3RvbWVyLmlkICsgJyZ0eXBlPVNhbGUgT3JkZXInKSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBkYXRhVHlwZTogImpzb24iLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgc2NoZW1hOiB7CiAgICAgICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgICAgICBpZDogImlkIiwKICAgICAgICAgICAgICAgICAgZmllbGRzOiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IHt0eXBlOiAic3RyaW5nIn0sCiAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VBbW91bnQ6IHt0eXBlOiAic3RyaW5nIn0sCiAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlTm86IHt0eXBlOiAic3RyaW5nIn0sCiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiB7dHlwZTogInN0cmluZyJ9LAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSkKICAgICAgICAgIH0pCiAgICB9LAogICAgY3VzdG9tZXJEcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgcmVxdWlyZWQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykKICAgICAgLmFwcGVuZFRvKGNvbnRhaW5lcikKICAgICAgLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICBhdXRvQmluZDogdHJ1ZSwKICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgZmlsdGVyOiAiY29udGFpbnMiLAogICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICBoZWFkZXJUZW1wbGF0ZTogJzxkaXYgY2xhc3M9ImRyb3Bkb3duLWhlYWRlciBrLXdpZGdldCBrLWhlYWRlciI+JyArCiAgICAgICAgICAgICc8c3Bhbj5DdXN0b21lcnMgPC9zcGFuPicgKwogICAgICAgICAgICAnPHNwYW4+IDwvc3Bhbj4nICsKICAgICAgICAgICAgJzwvZGl2PicsCiAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW51bWJlciMgLSAjPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICBzZXJ2ZXJGaWx0ZXJpbmc6IHRydWUsCiAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgIHVybDogY3VzdG9tZXJIYW5kbGVyLnNlYXJjaCgpLAogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhVHlwZTogImpzb24iLAogICAgICAgICAgfSwKICAgICAgICAgIHNjaGVtYTogewogICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgIGlkOiAiaWQiLAogICAgICAgICAgICAgIGZpZWxkczogewogICAgICAgICAgICAgICAgaWQ6IHt0eXBlOiAic3RyaW5nIn0sCiAgICAgICAgICAgICAgICB0eXBlOiB7dHlwZTogInN0cmluZyJ9LAogICAgICAgICAgICAgICAgbnVtYmVyOiB7dHlwZTogInN0cmluZyJ9LAogICAgICAgICAgICAgICAgYmlsbGluZ1R5cGU6IHt0eXBlOiAic3RyaW5nIn0sCiAgICAgICAgICAgICAgICBjb25zdW1lcklkOiB7dHlwZTogInN0cmluZyJ9LAogICAgICAgICAgICAgICAgdGF4SWQ6IHt0eXBlOiAic3RyaW5nIn0sCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG90YWw6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgICAvLyBkYXRhOiB0aGlzLnZhcmlhbnRzCiAgICAgICAgfSksCiAgICAgIH0pCiAgICB9LAogICAgY2FuY2VsKCkgewogICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgIHRpdGxlOiBpMThuLnQoJ21zZ190aXRsZV93YXJuaW5nJyksCiAgICAgICAgICB0ZXh0OiBpMThuLnQoJ21zZ19kaXNjYXJkJyksCiAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCdjYW5jZWwnKSwKICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiM0ZDQ4NDgiLAogICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjRUQxQTNBIiwKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoJ2Rpc2NhcmQnKSwKICAgICAgfSkudGhlbigocmVzdWx0Q2VuKSA9PiB7CiAgICAgICAgICBpZiAocmVzdWx0Q2VuLnZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMuY2xlYXIoKQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgY2xlYXIoKSB7CiAgICAgIHRoaXMucHJvamVjdCA9IG5ldyBTZXJ2aWNlUHJvamVjdCh7fSkKICAgICAgdGhpcy5jdXN0b21lcnMgPSBbXQogICAgICBsZXQgZHMgPSB0aGlzLiRyZWZzLmN1c3RvbWVyc0RTLmtlbmRvV2lkZ2V0KCk7CiAgICAgIHRoaXMuY3VzdG9tZXJMaXN0ID0gZHMuZGF0YShbXSk7CiAgICAgIHRoaXMuYWRkUm93KCkKCiAgICB9LAogICAgYXN5bmMgb25TYXZlQ2xvc2UoaXNTYXZlKSB7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygxKQogICAgICBpZiAoIXRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMuY3VzdG9tZXJzRFMua2VuZG9XaWRnZXQoKTsKICAgICAgbGV0IGQxID0gZHMuZGF0YSgpCiAgICAgIGxldCBkYXRhVmFsaWRhdGUgPSAwCiAgICAgIGQxLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4gewogICAgICAgIGlmKHZhbHVlLmN1c3RvbWVyID09IHVuZGVmaW5lZCB8fCB2YWx1ZS5jdXN0b21lci5pZCA9PSB1bmRlZmluZWQgfHwgdmFsdWUuY3VzdG9tZXIuaWQgID09ICcnIHx8IHZhbHVlLmN1c3RvbWVyLmlkID09IG51bGwgfHwgdmFsdWUuc2FsZU9yZGVyID09IHVuZGVmaW5lZCB8fCB2YWx1ZS5zYWxlT3JkZXIuaWQgPT0gdW5kZWZpbmVkIHx8IHZhbHVlLnNhbGVPcmRlci5pZCAgPT0gJycgfHwgdmFsdWUuc2FsZU9yZGVyLmlkID09IG51bGwpewogICAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcignUGxlYXNlIGNoZWNrIHVzdG9tZXIgb3IgU2FsZSBPcmRlciAgb24gcm93ICcgKyAoaW5kZXggKyAxKSkKICAgICAgICB9ZWxzZXsKICAgICAgICAgIGRhdGFWYWxpZGF0ZSAgKz0gMQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGlmKGQxLmxlbmd0aCAgPT0gZGF0YVZhbGlkYXRlKXsKICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgIGxldCBjdXN0b21lckRTID0gdGhpcy4kcmVmcy5jdXN0b21lcnNEUy5rZW5kb1dpZGdldCgpCiAgICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICAgIGlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgICAgICAgbmFtZTogdGhpcy5wcm9qZWN0Lm5hbWUsCiAgICAgICAgICAgICAgY29kZTogdGhpcy5wcm9qZWN0LmNvZGUsCiAgICAgICAgICAgICAgc3RhcnREYXRlOiB0aGlzLnByb2plY3Quc3RhcnREYXRlLAogICAgICAgICAgICAgIGVuZERhdGU6IHRoaXMucHJvamVjdC5lbmREYXRlLAogICAgICAgICAgICAgIHN0YXR1czogMSwKICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5wcm9qZWN0LmRlc2NyaXB0aW9uLAogICAgICAgICAgICAgIGN1c3RvbWVyczogY3VzdG9tZXJEUy5kYXRhKCksCiAgICAgICAgICAgICAgdHlwZTogdGhpcy4kcm91dGUucGFyYW1zLmlkID8gdGhpcy4kcm91dGUucXVlcnkudHlwZSA6ICduZXcnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgcHJvamVjdEhhbmRsZXIuY3JlYXRlKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICAgIGlmKGlzU2F2ZSA9PSAnbmV3Jyl7CiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCkKICAgICAgICAgICAgICB9ZWxzZSBpZihpc1NhdmUgPT0gJ2Nsb3NlJyl7CiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCkKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5LmVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZycpCiAgICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChlKQogICAgICAgICAgICB9KQogICAgICAgICAgfSkKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgYXN5bmMgbG9hZFNpbmdsZVByb2plY3QoKSB7CiAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKQogICAgICAgICAgcHJvamVjdEhhbmRsZXIuZ2V0KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgIHRoaXMucHJvamVjdCA9IHJlc3BvbnNlLmRhdGEuZGF0YVswXQogICAgICAgICAgICAgIGlmICh0aGlzLnByb2plY3QuaGFzT3duUHJvcGVydHkoJ2N1c3RvbWVycycpKSB7CiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWVyTGlzdCA9IHRoaXMucHJvamVjdC5jdXN0b21lcnMKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgICAgICB0aGlzLiRzbm90aWZ5LmVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZycpCiAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZSkKICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkU2FsZUZvcm1Db250ZW50KCkKICB9LAogIGFzeW5jIG1vdW50ZWQoKSB7CiAgICBhd2FpdCB0aGlzLmluaXREYXRhKCkKCiAgICAvLyB0aGlzLnJlcXVlc3REYXRhKDAsICcnLCBjdXN0b21lckhhbmRsZXIuc2VhcmNoKCkpCiAgfSwKICB3YXRjaDogewogICAgYXN5bmMgaWQoKSB7CiAgICAgIC8vIHRoaXMucHJvZHVjdCA9IHRoaXMuc2VsZWN0ZWRQcm9kdWN0CiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLmlkLCAnd2F0Y2gnKQogICAgICBpZiAodGhpcy5pZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgYXdhaXQgdGhpcy5sb2FkU2luZ2xlUHJvamVjdCgpCiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuY2xlYXIoKQogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgYXBwVHlwZSgpIHsKICAgICAgICByZXR1cm4gZGF0YVN0b3JlLnByb2R1Y3RUeXBlOwogICAgfSwKICAgIGhpZGRlbkJ1dHRvbigpewogICAgICBpZih0aGlzLiRyb3V0ZS5xdWVyeS50eXBlID09ImVkaXQiKXsKICAgICAgICByZXR1cm4gdHJ1ZQogICAgICB9ZWxzZXsKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["Project.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Project.vue","sourceRoot":"src/views/services_projects/projects","sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <v-row>\n        <v-col cols=\"12\" sm=\"12\">\n          <v-card outlined dense class=\"pa-4 no_border rounded-sm\" color=\"white\">\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n              <v-card outlined dense class=\"no_border\">\n                <h2 class=\"mb-0\">{{ $t('project') }}</h2>\n                <v-icon\n                    @click=\"cancel()\"\n                    style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                    class=\"float-right\"\n                >close\n                </v-icon>\n              </v-card>\n              <v-card outlined dense class=\"px-3 no_border mb-3\" color=\"white\">\n                <v-row class=\"bkgrey\">\n                  <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                    <label class=\"label\">{{ $t(\"project_code\") }}*</label>\n                    <v-text-field\n                      class=\"mt-1\" \n                      v-model=\"project.code\"\n                      :rules=\"[v => !!v || $t('is_required')]\"\n                      outlined/>\n                    <label class=\"label\">{{ $t(\"project_name\") }}*</label>\n                    <v-text-field \n                      v-model=\"project.name\" \n                      class=\"mt-1\" outlined\n                      :rules=\"[v => !!v || $t('is_required')]\"/>\n                  </v-col>\n                  <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                    <label class=\"label\">{{ $t(\"starting_date\") }}*</label>\n                    <app-datepicker :initialDate=\"project.startDate\"\n                      @emitDate=\"project.startDate = $event\"/>\n                    <label class=\"label\">{{ $t(\"ending_date\") }}*</label>\n                    <app-datepicker :initialDate=\"project.endDate\"\n                      @emitDate=\"project.endDate = $event\"/>\n                  </v-col>\n                  <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                    <label class=\"label\">{{ $t(\"description\") }}</label>\n                    <v-textarea v-model=\"project.description\" class=\"mt-1\" no-resize height=\"120px\"\n                      outlined\n                      rows=\"5\"/>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col sm=\"12\" cols=\"12\" class=\"py-2\">\n                    <p class=\"mb-0\" v-if=\"appType != 'npo'\">\n                      {{ $t('this_project_customer') }}\n                    </p>\n                    <p v-else class=\"mb-0\">\n                      {{ $t('this_project_donor') }}\n                    </p>\n                  </v-col>\n                  <v-col sm=\"12\" cols=\"12\">\n                    <kendo-datasource ref=\"customersDS\"\n                      :change=\"dataSourceChanged\"\n                      :data=\"customerList\"/>\n                    <kendo-grid id=\"gridCustomers\" class=\"grid-function\"\n                      :data-source-ref=\"'customersDS'\"\n                      :editable=\"true\"\n                      :scrollable-virtual=\"true\">\n                      <kendo-grid-column\n                        :field=\"'no'\"\n                        :title=\"$t('no')\"\n                        :template=\"rowNumber\"\n                        :width=\"45\"\n                        :column-menu=\"false\"\n                        :headerAttributes=\"{ style: 'background-color: #EDF1F5;', class: 'text-center'\t}\"\n                        :attributes=\"{style: 'text-align: center'}\"/>\n                      <kendo-grid-column\n                        :field=\"'customer'\"\n                        :title=\" appType != 'npo' ? $t('customer'): $t('donor') \"\n                        :width=\"150\"\n                        :template=\"'<span>#=customer.number# - #=customer.name#</span>'\"\n                        :editor=\"customerDropDownEditor\"\n                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                      <kendo-grid-column\n                        :field=\"'saleOrder'\"\n                        :title=\" appType != 'npo' ? $t('sale_order') : $t('contract') \"\n                        :width=\"150\"\n                        :template=\"'<span>#=saleOrder.referenceNo || ``#</span>'\"\n                        :editor=\"SaleOrderDropDownEditor\"\n                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                      <kendo-grid-column\n                        :field=\"'amount'\"\n                        :title=\"$t('amount')\"\n                        :width=\"150\"\n                        :editable=\"()=>{ return false}\"\n                        :template=\"amountFormat\"\n                        :attributes=\"{style: 'text-align: right'}\"\n                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                      <kendo-grid-column\n                        :field=\"''\"\n                        :title=\"$t('action')\"\n                        :width=\"70\"\n                        :command=\"[{ iconClass: 'k-icon k-i-trash', text: 'Delete', click: removeRow }]\"\n                        :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"/>\n                    </kendo-grid>\n                  </v-col>\n                  <v-col sm=\"5\" cols=\"12\" class=\"pt-0 px-4\">\n                    <v-btn color=\"primary\" class=\"float-left btn_plus rounded-0 mr-2\" @click=\"addRow\">\n                      <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                    </v-btn>\n                  </v-col>\n                </v-row>\n              </v-card>\n              <v-divider class=\"mt-4\"/>\n              <v-card outlined dense class=\"no_border function_footer\">\n                <v-btn color=\"black\" class=\"text-capitalize  white--text float-left\"\n                  @click=\"cancel\">{{ $t('cancel') }}\n                </v-btn>\n                <v-btn @click=\"onSaveClose('close')\" color=\"primary\"\n                  class=\" float-right text-capitalize  white--text\">\n                  {{ $t('save_close') }}\n                </v-btn>\n                <v-btn color=\"secondary\"\n                    style=\"margin-right: 10px !important\"\n                    class=\"white--text float-right text-capitalize\"\n                    @click=\"onSaveClose('new')\" :hidden=\"hiddenButton\">{{ $t(\"save_new\") }}\n                </v-btn>\n              </v-card>\n            </v-form>\n          </v-card>\n        </v-col>\n      </v-row>\n      <LoadingMe\n          :isLoading=\"showLoading\"\n          :fullPage=\"false\"\n          :myLoading=\"true\"/>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport {i18n} from '@/i18n';\nimport DatePickerComponent from '@/components/custom_templates/DatePickerComponent'\nimport ServiceProject from \"@/scripts/service/model/project\";\nimport kendo from \"@progress/kendo-ui\";\nimport {dataStore} from \"@/observable/store\";\n\nconst $ = require(\"jquery\")\nconst customerHandler = require(\"@/scripts/customerHandler\")\nconst saleOrderHandler = require(\"@/scripts/transactionHandler\")\nconst projectHandler = require(\"@/scripts/projectHandler\")\nconst saleFormContentHandler = require(\"@/scripts/saleFormContentHandler\")\n\nexport default {\n  name: \"Project\",\n  props: [\"id\"],\n  components: {\n    LoadingMe: () => import(`@/components/Loading`),\n    'app-datepicker': DatePickerComponent,\n  },\n  data: () => ({\n    template: [],\n    startingDate: '',\n    endingDate: '',\n    valid: true,\n    showLoading: false,\n    customerList: [],\n    customers: [],\n    customer: {},\n    filter: '',\n    saleOrders: [],\n    saleFormContent: {},\n    project: new ServiceProject({})\n\n  }),\n  methods: {\n    amountFormat(value) {\n      return kendo.toString(parseFloat(value.amount), `n${this.saleFormContent.decimal}`)\n    },\n    async loadSaleFormContent() {\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved');\n          saleFormContentHandler.list().then(res => {\n            if (res.data.statusCode === 200) {\n              const data = res.data.data\n              if (data.length > 0) {\n                this.saleFormContent = data[0]\n              }\n            }\n          })\n        }, 10)\n      })\n    },\n    removeRow(e) {\n      e.preventDefault();\n      const grid = kendo.jQuery(\"#gridCustomers\").data(\"kendoGrid\"),\n        dataSource = grid.dataSource,\n        dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n      if (dataSource.total() > 1) {\n        dataSource.remove(dataItem);\n      }\n    },\n    async initData() {\n      if (this.$route.params.id !== undefined) {\n        await this.loadSingleProject()\n      } else {\n        await this.clear()\n      }\n    },\n    onUpdate() {\n      this.$emit(\"onUpdate\", this.project);\n    },\n    dataSourceChanged(e) {\n      if (e.field) {\n        let dataRow = e.items[0]\n        // window.console.log(e.field)\n        switch (e.field) {\n          case \"customer\":\n            // this.onloadSaleOrder(dataRow.customer)\n            window.console.log(dataRow)\n            break\n          case \"saleOrder\":\n            dataRow.set('amount', dataRow.saleOrder.exchangeAmount)\n            dataRow.set('decimalFormat', dataRow.saleOrder.decimalFormat)\n            break\n          default:\n            break\n        }\n      }\n    },\n    async onloadSaleOrder(value) {\n      let data = {\n        \"method\": \"by_customer\",\n        \"customer\": value.id,\n        \"type\": 'Sale Order',\n      }\n      await saleOrderHandler.search(data).then(res => {\n        this.saleOrders = res.data.data\n      })\n    },\n    rowNumber(dataItem) {\n      let ds = this.$refs.customersDS.kendoWidget(),\n          index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    async addRow() {\n      let ds = this.$refs.customersDS.kendoWidget(),\n          total = ds.total();\n      // if (total < 1) {\n      await ds.insert(total, {\n        customer: {\n          name: '',\n          number: '',\n        },\n        saleOrder: {\n          number: ''\n        },\n        amount: 0,\n        decimalFormat: 'n' + this.saleFormContent.decimal\n      })\n      // }\n    },\n    SaleOrderDropDownEditor(container, options) {\n      kendo.jQuery('<input name=\"' + options.field + '\"/>')\n          .appendTo(container)\n          .kendoDropDownList({\n            autoBind: true,\n            autoWidth: true,\n            height: 400,\n            filter: \"startswith\",\n            dataTextField: \"referenceNo\",\n            dataValueField: \"id\",\n            cascadeFrom: \"item\",\n            template: \"<span>#=referenceNo#</span>\",\n            optionLabel: \"--- Select ---\",\n            dataSource: new kendo.data.DataSource({\n              serverFiltering: true,\n              transport: {\n                read: {\n                  url: saleOrderHandler.searchURL('?id=' + options.model.customer.id + '&type=Sale Order'),\n                },\n                dataType: \"json\",\n              },\n              schema: {\n                model: {\n                  id: \"id\",\n                  fields: {\n                    id: {type: \"string\"},\n                    exchangeAmount: {type: \"string\"},\n                    referenceNo: {type: \"string\"},\n                    amount: {type: \"string\"},\n                  }\n                },\n                data: function (response) {\n                  return response.data;\n                },\n                total: function (response) {\n                  return response.data.count;\n                }\n              },\n            })\n          })\n    },\n    customerDropDownEditor(container, options) {\n      kendo.jQuery('<input required name=\"' + options.field + '\"/>')\n      .appendTo(container)\n      .kendoDropDownList({\n        autoBind: true,\n        autoWidth: true,\n        height: 400,\n        filter: \"contains\",\n        dataTextField: \"name\",\n        dataValueField: \"id\",\n        headerTemplate: '<div class=\"dropdown-header k-widget k-header\">' +\n            '<span>Customers </span>' +\n            '<span> </span>' +\n            '</div>',\n        template: \"<span>#=number# - #=name#</span>\",\n        optionLabel: \"--- Select ---\",\n        dataSource: new kendo.data.DataSource({\n          serverFiltering: true,\n          transport: {\n            read: {\n              url: customerHandler.search(),\n            },\n            dataType: \"json\",\n          },\n          schema: {\n            model: {\n              id: \"id\",\n              fields: {\n                id: {type: \"string\"},\n                type: {type: \"string\"},\n                number: {type: \"string\"},\n                billingType: {type: \"string\"},\n                consumerId: {type: \"string\"},\n                taxId: {type: \"string\"},\n              }\n            },\n            data: function (response) {\n              return response.data;\n            },\n            total: function (response) {\n              return response.data.count;\n            }\n          },\n            // data: this.variants\n        }),\n      })\n    },\n    cancel() {\n      this.$swal({\n          title: i18n.t('msg_title_warning'),\n          text: i18n.t('msg_discard'),\n          icon: \"warning\",\n          showCancelButton: true,\n          cancelButtonText: i18n.t('cancel'),\n          confirmButtonColor: \"#4d4848\",\n          cancelButtonColor: \"#ED1A3A\",\n          confirmButtonText: i18n.t('discard'),\n      }).then((resultCen) => {\n          if (resultCen.value) {\n            this.clear()\n            this.$router.go(-1);\n            return false\n          }\n      });\n    },\n    async clear() {\n      this.project = new ServiceProject({})\n      this.customers = []\n      let ds = this.$refs.customersDS.kendoWidget();\n      this.customerList = ds.data([]);\n      this.addRow()\n\n    },\n    async onSaveClose(isSave) {\n      window.console.log(1)\n      if (!this.$refs.form.validate()) {\n        this.$refs.form.validate();\n        return;\n      }\n      let ds = this.$refs.customersDS.kendoWidget();\n      let d1 = ds.data()\n      let dataValidate = 0\n      d1.forEach((value, index) => {\n        if(value.customer == undefined || value.customer.id == undefined || value.customer.id  == '' || value.customer.id == null || value.saleOrder == undefined || value.saleOrder.id == undefined || value.saleOrder.id  == '' || value.saleOrder.id == null){\n          this.$snotify.error('Please check ustomer or Sale Order  on row ' + (index + 1))\n        }else{\n          dataValidate  += 1\n        }\n      });\n      if(d1.length  == dataValidate){\n        new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(\"resolved\");\n            let customerDS = this.$refs.customersDS.kendoWidget()\n            let data = {\n              id: this.$route.params.id,\n              name: this.project.name,\n              code: this.project.code,\n              startDate: this.project.startDate,\n              endDate: this.project.endDate,\n              status: 1,\n              description: this.project.description,\n              customers: customerDS.data(),\n              type: this.$route.params.id ? this.$route.query.type : 'new'\n            }\n            projectHandler.create(data).then(res => {\n              window.console.log(res)\n              if(isSave == 'new'){\n                this.clear()\n              }else if(isSave == 'close'){\n                this.clear()\n                this.$router.go(-1);\n              }\n            }).catch(e => {\n              this.$snotify.error('Something went wrong')\n              this.errors.push(e)\n            })\n          })\n        })\n      }\n    },\n    async loadSingleProject() {\n      this.showLoading = true\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved')\n          projectHandler.get(this.$route.params.id).then(response => {\n            if (response.data.statusCode === 200) {\n              this.project = response.data.data[0]\n              if (this.project.hasOwnProperty('customers')) {\n                this.customerList = this.project.customers\n              }\n              this.showLoading = false\n            }\n          }).catch(e => {\n            this.$snotify.error('Something went wrong')\n            this.errors.push(e)\n          })\n        })\n      })\n    },\n  },\n  created() {\n    this.loadSaleFormContent()\n  },\n  async mounted() {\n    await this.initData()\n\n    // this.requestData(0, '', customerHandler.search())\n  },\n  watch: {\n    async id() {\n      // this.product = this.selectedProduct\n      // window.console.log(this.id, 'watch')\n      if (this.id !== undefined) {\n        await this.loadSingleProject()\n      }else{\n        this.clear()\n      }\n    }\n  },\n  computed: {\n    appType() {\n        return dataStore.productType;\n    },\n    hiddenButton(){\n      if(this.$route.query.type ==\"edit\"){\n        return true\n      }else{\n        return false\n      }\n    }\n  },\n};\n</script>\n\n<style scoped>\n@media (min-width: 1264px) {\n  .container {\n    max-width: 1080px !important;\n  }\n}\n\n.k-dropdown {\n  width: 100%;\n  margin-top: 3px;\n}\n\n.bkgrey {\n  background: #F8F8F9;\n}\n</style>\n"]}]}