{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/accounting/insight/Performance.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/accounting/insight/Performance.vue","mtime":1638499443099},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBrZW5kbyBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tdWknOwovLyBpbXBvcnQge2kxOG59IGZyb20gJ0AvaTE4bicKaW1wb3J0IEhlbHBlciBmcm9tICJAL2hlbHBlci5qcyI7Cgpjb25zdCBpbmNvbWVTdGF0ZW1lbnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2hhbmRsZXIvYWNjb3VudGluZy9pbmNvbWVTdGF0ZW1lbnRIYW5kbGVyIik7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlBlcmZvcm1hbmNlIiwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nTWU6ICgpID0+IGltcG9ydCgiQC9jb21wb25lbnRzL0xvYWRpbmciKSwKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBpbmNvbWU6IDAsCiAgICBleHBlbnNlOiAwLAogICAgbmV0SW5jb21lOiAwLAogICAgLy8gTG9hZGluZ01lCiAgICBzaG93TG9hZGluZzogZmFsc2UsCiAgfSksCiAgbWV0aG9kczogewogICAgYXN5bmMgbG9hZERhdGEoKSB7CiAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwoKICAgICAgdGhpcy5pbmNvbWUgPSAwOwogICAgICB0aGlzLmV4cGVuc2UgPSAwOwogICAgICB0aGlzLm5ldEluY29tZSA9IDA7CgogICAgICAvKiBHZXQgQ3VycmVudCBGaXNjYWwgRGF0ZSAqLwogICAgICBsZXQgY3VycmVuY3lGaXNjYWxEYXRlID0gSGVscGVyLmdldEZpc2NhbERhdGVCeURhdGUobmV3IERhdGUoKSk7CgogICAgICAvKiBCdWRnZXQgKi8KICAgICAgbGV0IHN0YXRlbWVudHMgPSBhd2FpdCBpbmNvbWVTdGF0ZW1lbnRIYW5kbGVyLmdldEluY29tZVN0YXRlbWVudCh7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBzdGFydF9kYXRlOiBjdXJyZW5jeUZpc2NhbERhdGUuc3RhcnRfZGF0ZSArICJUMDA6MDA6MDAuMDAwWiIsCiAgICAgICAgICBlbmRfZGF0ZTogY3VycmVuY3lGaXNjYWxEYXRlLmVuZF9kYXRlICsgIlQyMzo1OTo1OS45OTlaIiwKICAgICAgICAgIGdyb3VwX2J5OiAiMSIsCiAgICAgICAgfSwKICAgICAgfSk7CgogICAgICBsZXQgaW5jb21lVHlwZUlkcyA9IFszMiwgNDBdLAogICAgICAgIGV4cGVuc2VUeXBlSWRzID0gWzMzLCAzNCwgMzUsIDM2LCAzNywgMzgsIDM5LCA0MSwgNDJdLAogICAgICAgIGluY29tZSA9IDAsCiAgICAgICAgZXhwZW5zZSA9IDA7CgogICAgICBzdGF0ZW1lbnRzLmRhdGEuZm9yRWFjaCgodmFsdWUpID0+IHsKICAgICAgICAvKiBTdW0gSW5jb21lcyAqLwogICAgICAgIGlmICh+aW5jb21lVHlwZUlkcy5pbmRleE9mKHZhbHVlLmFjY291bnRfdHlwZV9udW1iZXIpKSB7CiAgICAgICAgICBpbmNvbWUgKz0gdmFsdWUuYmFsYW5jZTsKICAgICAgICB9CgogICAgICAgIC8qIFN1bSBFeHBlbnNlcyAqLwogICAgICAgIGlmICh+ZXhwZW5zZVR5cGVJZHMuaW5kZXhPZih2YWx1ZS5hY2NvdW50X3R5cGVfbnVtYmVyKSkgewogICAgICAgICAgZXhwZW5zZSArPSB2YWx1ZS5iYWxhbmNlOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICB0aGlzLmluY29tZSA9IGluY29tZTsKICAgICAgdGhpcy5leHBlbnNlID0gZXhwZW5zZTsKICAgICAgdGhpcy5uZXRJbmNvbWUgPSBpbmNvbWUgLSBleHBlbnNlOwoKICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxvYWREYXRhKCk7CiAgfSwKfTsK"},{"version":3,"sources":["Performance.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Performance.vue","sourceRoot":"src/views/accounting/insight","sourcesContent":["<template>\n  <div>\n    <v-simple-table>\n      <template>\n        <tbody>\n          <tr>\n            <td class=\"text-left pl-0\">\n              <span class=\"niradei_medium font_14 grey--text\">\n                {{ $t(\"income\") }}\n              </span>\n            </td>\n            <td class=\"text-right pr-0\">\n              <span class=\"font_18 dark_grey\">\n                {{ Number(income).toLocaleString() }}\n              </span>\n            </td>\n          </tr>\n          <tr>\n            <td class=\"text-left pl-0\">\n              <span class=\"niradei_medium font_14 grey--text\">\n                {{ $t(\"expense\") }}\n              </span>\n            </td>\n            <td class=\"text-right pr-0\">\n              <span class=\"font_18 dark_grey\">\n                {{ Number(expense).toLocaleString() }}\n              </span>\n            </td>\n          </tr>\n          <tr>\n            <td class=\"text-left pl-0\">\n              <span class=\"niradei_heavy font_14 dark_grey\">\n                {{ $t(\"net_income\") }}\n              </span>\n            </td>\n            <td class=\"text-right pr-0\">\n              <span class=\"niradei_heavy font_18 dark_grey\">\n                {{ Number(netIncome).toLocaleString() }}\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </template>\n    </v-simple-table>\n\n    <LoadingMe\n      type=\"loading\"\n      :isLoading=\"showLoading\"\n      :myLoading=\"true\"\n      :fullPage=\"false\"\n    />\n  </div>\n</template>\n\n<script>\n// import kendo from '@progress/kendo-ui';\n// import {i18n} from '@/i18n'\nimport Helper from \"@/helper.js\";\n\nconst incomeStatementHandler = require(\"@/scripts/handler/accounting/incomeStatementHandler\");\n\nexport default {\n  name: \"Performance\",\n  components: {\n    LoadingMe: () => import(\"@/components/Loading\"),\n  },\n  data: () => ({\n    income: 0,\n    expense: 0,\n    netIncome: 0,\n    // LoadingMe\n    showLoading: false,\n  }),\n  methods: {\n    async loadData() {\n      this.showLoading = true;\n\n      this.income = 0;\n      this.expense = 0;\n      this.netIncome = 0;\n\n      /* Get Current Fiscal Date */\n      let currencyFiscalDate = Helper.getFiscalDateByDate(new Date());\n\n      /* Budget */\n      let statements = await incomeStatementHandler.getIncomeStatement({\n        params: {\n          start_date: currencyFiscalDate.start_date + \"T00:00:00.000Z\",\n          end_date: currencyFiscalDate.end_date + \"T23:59:59.999Z\",\n          group_by: \"1\",\n        },\n      });\n\n      let incomeTypeIds = [32, 40],\n        expenseTypeIds = [33, 34, 35, 36, 37, 38, 39, 41, 42],\n        income = 0,\n        expense = 0;\n\n      statements.data.forEach((value) => {\n        /* Sum Incomes */\n        if (~incomeTypeIds.indexOf(value.account_type_number)) {\n          income += value.balance;\n        }\n\n        /* Sum Expenses */\n        if (~expenseTypeIds.indexOf(value.account_type_number)) {\n          expense += value.balance;\n        }\n      });\n\n      this.income = income;\n      this.expense = expense;\n      this.netIncome = income - expense;\n\n      this.showLoading = false;\n    },\n  },\n  mounted() {\n    this.loadData();\n  },\n};\n</script>\n\n<style scoped>\n.theme--light.v-data-table {\n  background-color: transparent !important;\n}\n.v-data-table > .v-data-table__wrapper > table > tbody > tr > td {\n  height: 32px !important;\n  border-bottom: thin solid rgba(0, 0, 0, 0.12);\n}\n.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > tbody\n  > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n  background-color: transparent !important;\n}\n</style>\n"]}]}