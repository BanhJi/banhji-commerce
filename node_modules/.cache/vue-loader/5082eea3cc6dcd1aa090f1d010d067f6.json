{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/pricing_management/Report.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/pricing_management/Report.vue","mtime":1638499443207},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMb2FkaW5nTWUgZnJvbSAiQC9jb21wb25lbnRzL0xvYWRpbmciOwppbXBvcnQgRGF0ZVBpY2tlckNvbXBvbmVudCBmcm9tICJAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9EYXRlUGlja2VyQ29tcG9uZW50IjsKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CmltcG9ydCBMaW5rVGVtcGxhdGUgZnJvbSAiQC9jb21wb25lbnRzL2tlbmRvX3RlbXBsYXRlcy9MaW5rVGVtcGxhdGUiOwoKY29uc3QgZGlzY291bnRJdGVtSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9kaXNjb3VudEl0ZW1IYW5kbGVyIikKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUHJpY2VMZXZlbFJlcG9ydCIsCiAgY29tcG9uZW50czogewogICAgTG9hZGluZ01lLAogICAgImFwcC1kYXRlcGlja2VyIjogRGF0ZVBpY2tlckNvbXBvbmVudCwKICAgIC8vIEJhbmtDb25uZWN0aW9uLAogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIHN0YXJ0RGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICBlbmREYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwKICAgIGRhdGVTb3J0ZXJzOiBbIlRvZGF5IiwgIlRoaXMgV2VlayIsICJUaGlzIE1vbnRoIiwgIlRoaXMgWWVhciJdLAogICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgaXNMb2FkZWQ6IGZhbHNlLAogICAgbURhdGVTb3J0ZXI6ICdUb2RheScsCiAgICBwcmljZUxldmVsVHhuOiBbXSwKICAgIGdyb3VwOiB7ZmllbGQ6ICduYW1lJ30sCiAgfSksCiAgbWV0aG9kczogewogICAgb25Tb3J0ZXJDaGFuZ2VzKHZhbCkgewogICAgICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpCiAgICAgIHN3aXRjaCAodmFsKSB7CiAgICAgICAgY2FzZSAiVG9kYXkiOgogICAgICAgICAgdGhpcy5zdGFydERhdGUgPSBrZW5kby50b1N0cmluZyh0b2RheSwgJ3l5eXktTU0tZGQnKQogICAgICAgICAgdGhpcy5lbmREYXRlID0ga2VuZG8udG9TdHJpbmcodG9kYXksICd5eXl5LU1NLWRkJykKCiAgICAgICAgICBicmVhawogICAgICAgIGNhc2UgIlRoaXMgV2VlayI6CiAgICAgICAgICB2YXIgZmlyc3QgPSB0b2RheS5nZXREYXRlKCkgLSB0b2RheS5nZXREYXkoKSwKICAgICAgICAgICAgICBsYXN0ID0gZmlyc3QgKyA2CgogICAgICAgICAgdGhpcy5zdGFydERhdGUgPSBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh0b2RheS5zZXREYXRlKGZpcnN0KSksICd5eXl5LU1NLWRkJykKICAgICAgICAgICAgdG9kYXkgPSBuZXcgRGF0ZSgpCiAgICAgICAgICB0aGlzLmVuZERhdGUgPSBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh0b2RheS5zZXREYXRlKGxhc3QpKSwgJ3l5eXktTU0tZGQnKQoKICAgICAgICAgIGJyZWFrCiAgICAgICAgY2FzZSAiVGhpcyBNb250aCI6CiAgICAgICAgICB0aGlzLnN0YXJ0RGF0ZSA9IGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIDEpLCAneXl5eS1NTS1kZCcpCiAgICAgICAgICB0aGlzLmVuZERhdGUgPSBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpLCAzMSksICd5eXl5LU1NLWRkJykKCiAgICAgICAgICBicmVhawogICAgICAgIGNhc2UgIlRoaXMgWWVhciI6CiAgICAgICAgICB0aGlzLnN0YXJ0RGF0ZSA9IGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCksIDAsIDEpLCAneXl5eS1NTS1kZCcpCiAgICAgICAgICB0aGlzLmVuZERhdGUgPSBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCAxMSwgMzEpLCAneXl5eS1NTS1kZCcpCgogICAgICAgICAgYnJlYWsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhpcy5zdGFydERhdGUgPSAiIgogICAgICAgICAgdGhpcy5lbmREYXRlID0gIiIKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHNlYXJjaFRyYW5zYWN0aW9uKCkgewogICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gdGhpcy5zdGFydERhdGUKICAgICAgICAgIGNvbnN0IGVuZERhdGUgPSB0aGlzLmVuZERhdGUKICAgICAgICAgIGxldCBzdHJGaWx0ZXIgPSAnP3N0YXJ0PSZlbmQ9JwogICAgICAgICAgaWYgKHN0YXJ0RGF0ZSAhPT0gJycgJiYgZW5kRGF0ZSAhPT0gJycpIHsKICAgICAgICAgICAgc3RyRmlsdGVyID0gJz9zdGFydD0nICsgc3RhcnREYXRlICsgJyZlbmQ9JyArIGVuZERhdGUKICAgICAgICAgIH0KICAgICAgICAgIGRpc2NvdW50SXRlbUhhbmRsZXIucHJpY2VMZXZlbFJlcG9ydChzdHJGaWx0ZXIpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgIHRoaXMucHJpY2VMZXZlbFR4biA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEuZGF0YSkpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfSwgMTApOwogICAgICB9KQogICAgfSwKICAgIHJlZmVyZW5jZVRlbXBsYXRlKGRhdGEpIHsKICAgICAgbGV0IHVybCA9ICcnCiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdJbnZvaWNlJykgewogICAgICAgIHVybCA9IGBpbnZvaWNlX3ZpZXcvJHtkYXRhLnR4bklkfWAKICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdTYWxlIERlcG9zaXQnKSB7CiAgICAgICAgdXJsID0gYHNhbGVfZGVwb3NpdF92aWV3LyR7ZGF0YS50eG5JZH1gCiAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnUHVyY2hhc2UnKSB7CiAgICAgICAgdXJsID0gYHB1cmNoYXNlX3ZpZXcvJHtkYXRhLnR4bklkfWAKICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdTYWxlIFF1b3RlJykgewogICAgICAgIHVybCA9IGBzYWxlX3F1b3RlX3ZpZXcvJHtkYXRhLnR4bklkfWAKICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdDYXNoIFJlY2VpcHQnKSB7CiAgICAgICAgdXJsID0gYGNhc2hfcmVjZWlwdF92aWV3LyR7ZGF0YS50eG5JZH1gCiAgICAgIH0KICAgICAgbGV0IGFyZ3MgPSB7CiAgICAgICAgdGV4dDogZGF0YS5yZWZlcmVuY2VObywKICAgICAgICB1cmw6IHVybCwKICAgICAgICBkYXRhOiBkYXRhLAogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgdGVtcGxhdGU6IExpbmtUZW1wbGF0ZSwKICAgICAgICB0ZW1wbGF0ZUFyZ3M6IGFyZ3MKICAgICAgfQogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgfSwKICBjb21wdXRlZDoge30sCn07Cg=="},{"version":3,"sources":["Report.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Report.vue","sourceRoot":"src/views/customers/pricing_management","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"\">\n      <v-card color=\"white\" class=\"pl-4 no_border\" elevation=\"0\">\n        <h2 class=\"mb-1 font_20\">{{ $t(\"price_level_report\") }}</h2>\n        <!-- loading -->\n        <LoadingMe\n            :isLoading=\"showLoading\"\n            :fullPage=\"false\"\n            type=\"loading\"\n            :myLoading=\"true\"\n        >\n        </LoadingMe>\n\n        <v-row class=\"\">\n          <v-col sm=\"3\" cols=\"12\" class=\"pb-0\">\n            <v-select\n                class=\"mt-1\"\n                :items=\"dateSorters\"\n                v-model=\"mDateSorter\"\n                @change=\"onSorterChanges\"\n                clearable\n                outlined\n                placeholder=\"ALL\"\n            />\n          </v-col>\n\n          <v-col sm=\"3\" cols=\"12\" class=\"pb-0\">\n            <app-datepicker\n                :initialDate=\"startDate\"\n                @emitDate=\"startDate = $event\"\n            />\n          </v-col>\n\n          <v-col sm=\"3\" cols=\"12\" class=\"pb-0\">\n            <app-datepicker\n                :initialDate=\"endDate\"\n                @emitDate=\"endDate = $event\"\n            />\n          </v-col>\n\n          <v-col sm=\"1\" cols=\"1\" class=\"pb-0 pt-4\" @click=\"searchTransaction\">\n            <v-btn color=\"primary white--text\">\n              <i class=\"b-search\" style=\"font-size: 18px; color:#fff !important;\"/>\n            </v-btn>\n          </v-col>\n          <!-- <v-col sm=\"2\" cols=\"12\" class=\"py-0\">\n            <v-btn icon color=\"black\" class=\"bg-none float-right ml-2\">\n              <v-icon class=\"font_34\">fa fa-file-excel</v-icon>\n            </v-btn>\n            <v-btn icon color=\"black\" class=\"bg-none float-right ml-2\">\n              <v-icon class=\"font_34\">fa fa-print</v-icon>\n            </v-btn>\n          </v-col> -->\n        </v-row>\n\n        <v-row>\n          <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n            <template>\n              <kendo-datasource ref=\"discountItemDS\"\n                                :group=\"group\"\n                                :data=\"priceLevelTxn\"/>\n              <kendo-grid id=\"gridDiscountItem\" class=\"grid-function\"\n                          :data-source-ref=\"'discountItemDS'\"\n                          :editable=\"false\"\n                          :groupable=\"true\"\n                          :scrollable-virtual=\"true\">\n                <kendo-grid-column\n                    :field=\"'name'\"\n                    :title=\"$t('name')\"\n                    :attributes=\"{class:'tb_name_td'}\"\n                    :width=\"200\"\n                    :template=\"'<span>#=name#</span>'\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                <kendo-grid-column\n                    :field=\"'customer'\"\n                    :title=\"$t('customer')\"\n                    :width=\"200\"\n                    :template=\"'<span>#=customer#</span>'\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                <kendo-grid-column\n                    :field=\"'referenceNo'\"\n                    :title=\"$t('invoice_no')\"\n                    :width=\"150\"\n                    :template=\"referenceTemplate\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                <kendo-grid-column\n                    :field=\"'exchangeAmount'\"\n                    :title=\"$t('invoice_amount')\"\n                    :width=\"180\"\n                    :template=\"'<span>#= kendo.toString(exchangeAmount, decimalFormat)#</span>'\"\n                    :attributes=\"{style: 'text-align: right'}\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                <kendo-grid-column\n                    :field=\"'paymentTerm'\"\n                    :title=\"$t('payment_term')\"\n                    :template=\"'<span>#=paymentTerm#</span>'\"\n                    :attributes=\"{style: 'text-align: left'}\"\n                    :width=\"180\"\n                    :headerAttributes=\"{style: 'text-left: right; background-color: #EDF1F5'}\"/>\n<!--                <kendo-grid-column-->\n<!--                    :field=\"'priceLevel'\"-->\n<!--                    :title=\"$t('price_level')\"-->\n<!--                    :template=\"'<span>#=priceLevel#</span>'\"-->\n<!--                    :attributes=\"{style: 'text-align: left'}\"-->\n<!--                    :width=\"180\"-->\n<!--                    :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>-->\n              </kendo-grid>\n            </template>\n          </v-col>\n        </v-row>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport LoadingMe from \"@/components/Loading\";\nimport DatePickerComponent from \"@/components/custom_templates/DatePickerComponent\";\nimport kendo from \"@progress/kendo-ui\";\nimport LinkTemplate from \"@/components/kendo_templates/LinkTemplate\";\n\nconst discountItemHandler = require(\"@/scripts/discountItemHandler\")\n\nexport default {\n  name: \"PriceLevelReport\",\n  components: {\n    LoadingMe,\n    \"app-datepicker\": DatePickerComponent,\n    // BankConnection,\n  },\n  data: () => ({\n    startDate: new Date().toISOString().substr(0, 10),\n    endDate: new Date().toISOString().substr(0, 10),\n    dateSorters: [\"Today\", \"This Week\", \"This Month\", \"This Year\"],\n    showLoading: false,\n    isLoaded: false,\n    mDateSorter: 'Today',\n    priceLevelTxn: [],\n    group: {field: 'name'},\n  }),\n  methods: {\n    onSorterChanges(val) {\n      let today = new Date()\n      switch (val) {\n        case \"Today\":\n          this.startDate = kendo.toString(today, 'yyyy-MM-dd')\n          this.endDate = kendo.toString(today, 'yyyy-MM-dd')\n\n          break\n        case \"This Week\":\n          var first = today.getDate() - today.getDay(),\n              last = first + 6\n\n          this.startDate = kendo.toString(new Date(today.setDate(first)), 'yyyy-MM-dd')\n            today = new Date()\n          this.endDate = kendo.toString(new Date(today.setDate(last)), 'yyyy-MM-dd')\n\n          break\n        case \"This Month\":\n          this.startDate = kendo.toString(new Date(today.getFullYear(), today.getMonth(), 1), 'yyyy-MM-dd')\n          this.endDate = kendo.toString(new Date(today.getFullYear(), today.getMonth(), 31), 'yyyy-MM-dd')\n\n          break\n        case \"This Year\":\n          this.startDate = kendo.toString(new Date(today.getFullYear(), 0, 1), 'yyyy-MM-dd')\n          this.endDate = kendo.toString(new Date(today.getFullYear(), 11, 31), 'yyyy-MM-dd')\n\n          break\n        default:\n          this.startDate = \"\"\n          this.endDate = \"\"\n      }\n    },\n    async searchTransaction() {\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved');\n          this.showLoading = true\n          const startDate = this.startDate\n          const endDate = this.endDate\n          let strFilter = '?start=&end='\n          if (startDate !== '' && endDate !== '') {\n            strFilter = '?start=' + startDate + '&end=' + endDate\n          }\n          discountItemHandler.priceLevelReport(strFilter).then(res => {\n            if (res.data.statusCode === 200) {\n              this.showLoading = false\n              this.priceLevelTxn = JSON.parse(JSON.stringify(res.data.data))\n            }\n          })\n        }, 10);\n      })\n    },\n    referenceTemplate(data) {\n      let url = ''\n      if (data.type === 'Invoice') {\n        url = `invoice_view/${data.txnId}`\n      } else if (data.type === 'Sale Deposit') {\n        url = `sale_deposit_view/${data.txnId}`\n      } else if (data.type === 'Purchase') {\n        url = `purchase_view/${data.txnId}`\n      } else if (data.type === 'Sale Quote') {\n        url = `sale_quote_view/${data.txnId}`\n      } else if (data.type === 'Cash Receipt') {\n        url = `cash_receipt_view/${data.txnId}`\n      }\n      let args = {\n        text: data.referenceNo,\n        url: url,\n        data: data,\n      }\n      return {\n        template: LinkTemplate,\n        templateArgs: args\n      }\n    },\n  },\n  mounted() {\n  },\n  computed: {},\n};\n</script>\n<style scoped></style>\n"]}]}