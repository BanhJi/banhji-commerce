{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/receivables/late_fees/LateFee.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/receivables/late_fees/LateFee.vue","mtime":1638499443209},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMYXRlRmVlTW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL0xhdGVGZWUiOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKaW1wb3J0IGN1cnJlbmN5SGFuZGxlciBmcm9tICJAL3NjcmlwdHMvY3VycmVuY3kvaGFuZGxlci9jdXJyZW5jeUhhbmRsZXIiOwppbXBvcnQgQWNjb3VudE1hcHBpbmdNb2RlbCBmcm9tICJAL3NjcmlwdHMvYWNjb3VudC1tYXAvQWNjb3VudCI7CmltcG9ydCB7IEN1cnJlbmN5TW9kZWwgfSBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQXBwTW9kZWxzIjsKCmNvbnN0ICQgPSBrZW5kby5qUXVlcnk7CmNvbnN0IGFjY291bnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2hhbmRsZXIvYWNjb3VudGluZy9hY2NvdW50Iik7CmNvbnN0IGxhdGVGZWVIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2xhdGVGZWVIYW5kbGVyIik7CmNvbnN0IGxhdGVGZWVNb2RlbCA9IG5ldyBMYXRlRmVlTW9kZWwoe30pOwoKY29uc3QgY3VycmVuY3lUeXBlID0gewogIEZVTkNUSU9OQUxfQ1VSUkVOQ1k6ICJmdW4tYyIsCiAgVFJBTlNBQ1RJT05fQ1VSUkVOQ1k6ICJ0eG4tYyIsCiAgUkVQT1JUSU5HX0NVUlJFTkNZOiAicnB0LWMiLAogIFRBWF9FWENIQU5HRV9DVVJSRU5DWTogInRheC1jIiwKfTsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmdNZTogKCkgPT4gaW1wb3J0KGBAL2NvbXBvbmVudHMvTG9hZGluZ2ApLAogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIG5hdHVyZXM6IFsiQW1vdW50IiwgIlBlcmNlbnRhZ2UiXSwKICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgIGRpYWxvZ00zOiBmYWxzZSwKICAgIGxhdGVGZWVMaXN0OiBbXSwKICAgIGFjY291bnQ6IFtdLAogICAgY3VycmVuY2llczogW10sCiAgICBtQWNjb3VudDoge30sCiAgICBsYXRlRmVlOiBsYXRlRmVlTW9kZWwsCiAgICBzY2hlbWFEZWZpbml0aW9uOiB7CiAgICAgIG1vZGVsOiB7CiAgICAgICAgaWQ6ICJpZCIsCiAgICAgIH0sCiAgICB9LAogICAgdmFsaWQ6IHRydWUsCiAgfSksCiAgcHJvcHM6IHt9LAogIG1ldGhvZHM6IHsKICAgIHJvd051bWJlclRtcGwoZGF0YUl0ZW0pIHsKICAgICAgbGV0IGRzID0gdGhpcy4kcmVmcy5sYXRlRmVlRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIGFzeW5jIGxvYWRBY2NvdW50KCkgewogICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgIGFjY291bnRIYW5kbGVyLmdldEFsbCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuYWNjb3VudCA9IHJlcy5kYXRhLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgdXVpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgbG9jYWxfbmFtZTogaXRlbS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgbnVtYmVyOiBpdGVtLm51bWJlciwKICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0ZW0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgIGJhbmhqaUFjY0NvZGU6IGl0ZW0uYmFuaGppQWNjQ29kZSwKICAgICAgICAgICAgICAgIGdyb3VwX2NvZGU6IGl0ZW0uZ3JvdXBfY29kZSwKICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdGVtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgdHlwZV9jb2RlOiBpdGVtLnR5cGVfY29kZSwKICAgICAgICAgICAgICAgIGFjY291bnRfdHlwZTogaXRlbS5hY2NvdW50X3R5cGUsCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmICh0aGlzLmFjY291bnQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIHRoaXMubUFjY291bnQgPSB0aGlzLmFjY291bnRbMF07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gY29uc3Qgb3RoZXJSZXZlbnVlID0gcmVzLmZpbHRlcihtID0+IG0uYmFuaGppQWNjQ29kZSA9PT0gJzc0MDA0MCcpLm1hcChpdG0gPT4gewogICAgICAgICAgICAvLyAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLy8gICAgICAgICBpZDogaXRtLnV1aWQsCiAgICAgICAgICAgIC8vICAgICAgICAgdXVpZDogaXRtLnV1aWQsCiAgICAgICAgICAgIC8vICAgICAgICAgbmFtZTogaXRtLm5hbWUsCiAgICAgICAgICAgIC8vICAgICAgICAgbG9jYWxfbmFtZTogaXRtLmxvY2FsX25hbWUsCiAgICAgICAgICAgIC8vICAgICAgICAgbnVtYmVyOiBpdG0ubnVtYmVyLAogICAgICAgICAgICAvLyAgICAgICAgIGlzX3RheGFibGU6IGl0bS5pc190YXhhYmxlLAogICAgICAgICAgICAvLyAgICAgICAgIGJhbmhqaUFjY0NvZGU6IGl0bS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAvLyAgICAgICAgIGdyb3VwX2NvZGU6IGl0bS5ncm91cF9jb2RlLAogICAgICAgICAgICAvLyAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdG0ucGFyZW50X2FjY291bnQsCiAgICAgICAgICAgIC8vICAgICAgICAgdHlwZV9jb2RlOiBpdG0udHlwZV9jb2RlLAogICAgICAgICAgICAvLyAgICAgICAgIGFjY291bnRfdHlwZTogaXRtLmFjY291bnRfdHlwZQogICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAvLyB9KQogICAgICAgICAgICAvLyBjb25zdCBnYWluTG9zcyA9IHJlcy5maWx0ZXIobSA9PiBtLmJhbmhqaUFjY0NvZGUgPT09ICc3NDAwMTAnKS5tYXAoaXRtID0+IHsKICAgICAgICAgICAgLy8gICAgIHJldHVybiB7CiAgICAgICAgICAgIC8vICAgICAgICAgaWQ6IGl0bS51dWlkLAogICAgICAgICAgICAvLyAgICAgICAgIHV1aWQ6IGl0bS51dWlkLAogICAgICAgICAgICAvLyAgICAgICAgIG5hbWU6IGl0bS5uYW1lLAogICAgICAgICAgICAvLyAgICAgICAgIGxvY2FsX25hbWU6IGl0bS5sb2NhbF9uYW1lLAogICAgICAgICAgICAvLyAgICAgICAgIG51bWJlcjogaXRtLm51bWJlciwKICAgICAgICAgICAgLy8gICAgICAgICBpc190YXhhYmxlOiBpdG0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgLy8gICAgICAgICBiYW5oamlBY2NDb2RlOiBpdG0uYmFuaGppQWNjQ29kZSwKICAgICAgICAgICAgLy8gICAgICAgICBncm91cF9jb2RlOiBpdG0uZ3JvdXBfY29kZSwKICAgICAgICAgICAgLy8gICAgICAgICBwYXJlbnRfYWNjb3VudDogaXRtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAvLyAgICAgICAgIHR5cGVfY29kZTogaXRtLnR5cGVfY29kZSwKICAgICAgICAgICAgLy8gICAgICAgICBhY2NvdW50X3R5cGU6IGl0bS5hY2NvdW50X3R5cGUKICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgLy8gfSkKICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCdvdGhlclJldmVudWUnLCBKU09OLnN0cmluZ2lmeShvdGhlclJldmVudWUpLCAnZ2Fpbkxvc3MnLCBKU09OLnN0cmluZ2lmeShnYWluTG9zcykpCiAgICAgICAgICB9KTsKICAgICAgICB9LCAxMDApOwogICAgICB9KTsKICAgIH0sCiAgICBjYW5jZWwoKSB7CiAgICAgIHRoaXMuZGlhbG9nTTMgPSBmYWxzZTsKICAgIH0sCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy5kaWFsb2dNMyA9IGZhbHNlOwogICAgfSwKICAgIG5ld0NsaWNrKCkgewogICAgICB0aGlzLmxhdGVGZWUgPSB7fTsKICAgICAgdGhpcy5tQWNjb3VudCA9IHt9OwogICAgICB0aGlzLmRpYWxvZ00zID0gdHJ1ZTsKICAgIH0sCiAgICBnb0VkaXQoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGxldCBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZExhdGVGZWUiKS5kYXRhKCJrZW5kb0dyaWQiKTsKICAgICAgbGV0IGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CiAgICAgIHRoaXMubGF0ZUZlZSA9IGRhdGFJdGVtOwogICAgICB3aW5kb3cuY29uc29sZS5sb2coImRhdGFJdGVtLS0iLCBkYXRhSXRlbSk7CiAgICAgIC8vIHRoaXMubUFjY291bnQgPSBkYXRhSXRlbS5hY2NvdW50OwogICAgICB0aGlzLmRpYWxvZ00zID0gdHJ1ZTsKICAgIH0sCiAgICBhc3luYyBvblNhdmVDbG9zZSgpIHsKICAgICAgaWYgKCF0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICBpZDogdGhpcy5sYXRlRmVlLmlkLAogICAgICAgICAgICBuYW1lOiB0aGlzLmxhdGVGZWUubmFtZSwKICAgICAgICAgICAgY29kZTogdGhpcy5sYXRlRmVlLmNvZGUsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmxhdGVGZWUuZGVzY3JpcHRpb24sCiAgICAgICAgICAgIGFjY291bnQ6IG5ldyBBY2NvdW50TWFwcGluZ01vZGVsKHRoaXMubUFjY291bnQpLAogICAgICAgICAgICBhbW91bnQ6IHRoaXMubGF0ZUZlZS5hbW91bnQsCiAgICAgICAgICAgIG5hdHVyZTogdGhpcy5sYXRlRmVlLm5hdHVyZSwKICAgICAgICAgICAgY3VycmVuY3k6IG5ldyBDdXJyZW5jeU1vZGVsKHRoaXMubGF0ZUZlZS5jdXJyZW5jeSkgfHwge30sCiAgICAgICAgICAgIHN0YXR1czogMSwKICAgICAgICAgICAgdHlwZTogdGhpcy5sYXRlRmVlLmlkID8gImVkaXQiIDogIm5ldyIsCiAgICAgICAgICB9OwogICAgICAgICAgbGF0ZUZlZUhhbmRsZXIKICAgICAgICAgICAgLmNyZWF0ZShkYXRhKQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDEpIHsKICAgICAgICAgICAgICAgIHRoaXMubG9hZERhdGEoKTsKICAgICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuc3VjY2VzcygiU3VjY2VzcyIpOwogICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcigiU29tZXRoaW5nIHdlbnQgd3JvbmciKTsKICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKGUpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgbG9hZERhdGEoKSB7CiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICBsYXRlRmVlSGFuZGxlci5saXN0KCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy5sYXRlRmVlTGlzdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9LCAxMCk7CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGxvYWRDdXJyZW5jeSgpIHsKICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIGN1cnJlbmN5SGFuZGxlcgogICAgICAgICAgICAubGlzdChjdXJyZW5jeVR5cGUuRlVOQ1RJT05BTF9DVVJSRU5DWSkKICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbmNpZXMgPSByZXNwb25zZS5kYXRhLmRhdGEuZmlsdGVyKAogICAgICAgICAgICAgICAgICAobykgPT4gby51c2VkID09PSAxCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSwgMTApOwogICAgICB9KTsKICAgIH0sCiAgICBleGNlbEV4cG9ydDogZnVuY3Rpb24gKGUpIHsKICAgICAgLy8gY29uc3QgcGl2b3QgPSB0aGlzLiRyZWZzLmdyaWRUcmFuc2FjdGlvbkRTLmtlbmRvV2lkZ2V0KCkKICAgICAgLy8gcGl2b3Quc2F2ZUFzRXhjZWwoKQogICAgICB3aW5kb3cuY29uc29sZS5sb2coZS5kYXRhKTsKICAgIH0sCiAgICBpbml0VG9vbGJhcih0aGF0KSB7CiAgICAgIGxldCBncmlkID0gJCgiI2dyaWRMYXRlRmVlIikuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgIGxldCBncmlkRWxlbWVudCA9IGdyaWQuZWxlbWVudDsKICAgICAgbGV0IHRvb2xiYXJFbGVtZW50ID0gZ3JpZEVsZW1lbnQuZmluZCgiLmstZ3JpZC10b29sYmFyIik7CiAgICAgIHRvb2xiYXJFbGVtZW50Lm9uKCJjbGljayIsICIuay1wYWdlci1yZWZyZXNoIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgb25SZWxvYWREYXRhKHRoYXQpOwogICAgICB9KTsKICAgICAgdG9vbGJhckVsZW1lbnQub24oImNsaWNrIiwgIi5rLXBhZ2VyLWV4Y2VsIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgb25FeHBvcnRFeGNlbCh0aGF0KTsKICAgICAgfSk7CgogICAgICBmdW5jdGlvbiBvblJlbG9hZERhdGEodGhhdCkgewogICAgICAgIHRoYXQubG9hZERhdGEoKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gb25FeHBvcnRFeGNlbCh0aGF0KSB7CiAgICAgICAgdGhhdC5leHBvcnRUb0V4Y2VsKCk7CiAgICAgIH0KICAgIH0sCiAgICB0b29sYmFyVGVtcGxhdGU6IGZ1bmN0aW9uICgpIHsKICAgICAgY29uc3QgdGVtcGxhdGVIdG1sID0KICAgICAgICAiPHNwYW4+IiArCiAgICAgICAgJzxhIGNsYXNzPSJrLXBhZ2VyLWV4Y2VsIGstbGluayBrLWJ1dHRvbiBleGNlbCIgdGl0bGU9IkV4cG9ydCB0byBFeGNlbCI+IDxzcGFuIGNsYXNzPSJrLWljb24gay1pLWV4Y2VsIj48L3NwYW4+RXhwb3J0IHRvIGV4Y2VsIDwvYT4nICsKICAgICAgICAiPC9zcGFuPjxzcGFuPiZuYnNwOyZuYnNwOzwvc3Bhbj4iICsKICAgICAgICAnPHNwYW4gc3R5bGU9InBvc2l0aW9uOmFic29sdXRlOyByaWdodDo1cHgiPicgKwogICAgICAgICI8L3NwYW4+IiArCiAgICAgICAgIjxzcGFuPiIgKwogICAgICAgICc8YSBjbGFzcz0iay1wYWdlci1yZWZyZXNoIGstbGluayBrLWJ1dHRvbiByZWxvYWQiIHRpdGxlPSJSZWZyZXNoIj48c3BhbiBjbGFzcz0iay1pY29uIGstaS1yZWxvYWQiPjwvc3Bhbj4gUmVmcmVzaCA8L2E+JyArCiAgICAgICAgIjwvc3Bhbj4iOwoKICAgICAgcmV0dXJuIGtlbmRvLnRlbXBsYXRlKHRlbXBsYXRlSHRtbCk7CiAgICB9LAogICAgZXhwb3J0VG9FeGNlbCgpIHsKICAgICAgY29uc3QgZ3JpZCA9ICQoIiNncmlkTGF0ZUZlZSIpLmRhdGEoImtlbmRvR3JpZCIpOwogICAgICBncmlkLnNhdmVBc0V4Y2VsKCk7CiAgICB9LAogIH0sCiAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgYXdhaXQgdGhpcy5sb2FkRGF0YSgpOwogICAgYXdhaXQgdGhpcy5sb2FkQ3VycmVuY3koKTsKICAgIGF3YWl0IHRoaXMuaW5pdFRvb2xiYXIodGhpcyk7CiAgfSwKICBjcmVhdGVkOiBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICBhd2FpdCB0aGlzLmxvYWRBY2NvdW50KCk7CiAgfSwKfTsK"},{"version":3,"sources":["LateFee.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyRA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LateFee.vue","sourceRoot":"src/views/customers/receivables/late_fees","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"grayBg px-6\">\n      <v-card color=\"white\" class=\"no_border pa-3\" elevation=\"0\">\n        <v-row class=\"\">\n          <v-col sm=\"10\" cols=\"12\" class=\"py-0\">\n            <h2 class=\"mb-0 font_20\">{{ $t(\"late_fee\") }}</h2>\n            <p>{{ $t(\"late_fee_desc\") }}</p>\n          </v-col>\n          <v-col sm=\"2\" cols=\"12\" class=\"py-0\">\n            <v-dialog v-model=\"dialogM3\" max-width=\"600px\">\n              <template v-slot:activator=\"{ on }\">\n                <v-btn\n                  @click=\"newClick\"\n                  color=\"primary\"\n                  class=\"white--text float-right text-capitalize\"\n                  v-on=\"on\"\n                >\n                  {{ $t(\"new_late_fee\") }}\n                </v-btn>\n              </template>\n              <v-card>\n                <div class=\"modal_header\">\n                  <v-card-title class=\"flex-1\">{{\n                    $t(\"late_fee\")\n                  }}</v-card-title>\n                  <v-icon @click=\"dialogM3 = false\">close</v-icon>\n                </div>\n                <v-card-text class=\"modal_text_content\">\n                  <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                    <v-row>\n                      <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                        <label>{{ $t(\"code\") }}</label>\n                        <v-text-field\n                          class=\"mt-1\"\n                          v-model=\"lateFee.code\"\n                          :rules=\"[(v) => !!v || $t('is_required')]\"\n                          outlined\n                          clearable\n                        />\n                        <label>{{ $t(\"name\") }}</label>\n                        <v-text-field\n                          class=\"mt-1\"\n                          v-model=\"lateFee.name\"\n                          outlined\n                          :rules=\"[(v) => !!v || $t('is_required')]\"\n                          clearable\n                        />\n\n                        <div v-if=\"lateFee.nature === 'Amount'\">\n                          <label class=\"label\">{{ $t(\"amount\") }}</label>\n                          <v-text-field\n                            class=\"mt-1 flex-1\"\n                            v-model=\"lateFee.amount\"\n                            outlined\n                            :rules=\"[(v) => !!v || $t('is_required')]\"\n                            clearable\n                          />\n                        </div>\n                        <div v-else>\n                          <label class=\"label\">{{ $t(\"percentage\") }}</label>\n                          <v-text-field\n                            class=\"mt-1\"\n                            v-model=\"lateFee.amount\"\n                            outlined\n                            :rules=\"[(v) => !!v || $t('is_required')]\"\n                            clearable\n                          />\n                        </div>\n                        <label class=\"label mb-0\">{{ $t(\"uom\") }}</label>\n                        <v-select class=\"mt-1\" outlined clearable />\n                      </v-col>\n                      <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                        <label class=\"label\">{{ $t(\"nature\") }}</label>\n                        <v-select\n                          tag=\"natureSelector\"\n                          v-model=\"lateFee.nature\"\n                          :items=\"natures\"\n                          :rules=\"[(v) => !!v || $t('is_required')]\"\n                          class=\"mt-1\"\n                          outlined\n                          clearable\n                        />\n                        <label class=\"label mb-0\">{{ $t(\"method\") }}</label>\n                        <v-select class=\"mt-1\" outlined clearable />\n                        <label class=\"label mb-0\">{{ $t(\"currency\") }}</label>\n                        <v-select\n                          class=\"mt-1\"\n                          outlined\n                          tage=\"Currency\"\n                          v-model=\"lateFee.currency\"\n                          :items=\"currencies\"\n                          :rules=\"[(v) => !!v || $t('is_required')]\"\n                          item-value=\"id\"\n                          :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                          return-object\n                          clearable\n                        />\n                        <label class=\"label\">{{ $t(\"account\") }}</label>\n                        <v-select\n                          class=\"mt-1\"\n                          outlined\n                          tage=\"amountSelector\"\n                          v-model=\"mAccount\"\n                          :items=\"account\"\n                          item-value=\"id\"\n                          :rules=\"[(v) => !!v['id'] || $t('is_required')]\"\n                          :item-text=\"(item) => `${item.number} - ${this.$store.state.accounting.accountLanguage ==='English' ? item.name : item.local_name}`\"\n                          return-object\n                          clearable\n                        />\n                      </v-col>\n\n                      <!-- <v-col\n                        sm=\"6\"\n                        cols=\"12\"\n                        class=\"py-0\"\n                        v-if=\"lateFee.nature === 'Amount'\"\n                      >\n                        <v-row class=\"mt-5\">\n                          <v-col sm=\"7\" cols=\"12\" class=\"py-0\">\n                      \n                          </v-col>\n                          <v-col sm=\"5\" cols=\"12\" class=\"pl-0\">\n                            <label>{{ $t(\"amount\") }}</label>\n                          </v-col>\n                        </v-row>\n                      </v-col>\n   \n                      <v-col\n                        sm=\"6\"\n                        cols=\"12\"\n                        class=\"py-0\"\n                        v-else-if=\"lateFee.nature !== 'Amount'\"\n                      >\n                      </v-col> -->\n                \n                      <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                        <label>{{ $t(\"description\") }}</label>\n                        <v-textarea\n                          rows=\"4\"\n                          no-resize\n                          height=\"70px\"\n                          class=\"mt-1\"\n                          v-model=\"lateFee.description\"\n                          outlined\n                          clearable\n                        />\n                      </v-col>\n                    </v-row>\n                  </v-form>\n                </v-card-text>\n                <v-card-actions class=\"modal_footer\">\n                  <v-row>\n                    <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-left\">\n                      <v-btn\n                        color=\"primary\"\n                        outlined\n                        class=\"text-capitalize black--text float-left\"\n                        @click=\"dialogM3 = false\"\n                        >{{ $t(\"cancel\") }}\n                      </v-btn>\n                    </v-col>\n                    <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-right\">\n                      <v-btn\n                        @click=\"onSaveClose\"\n                        color=\"primary\"\n                        class=\"px-3 white--text text-capitalize\"\n                        >{{ $t(\"save_close\") }}\n                      </v-btn>\n                    </v-col>\n                  </v-row>\n                </v-card-actions>\n              </v-card>\n            </v-dialog>\n          </v-col>\n        </v-row>\n\n        <v-row class=\"\">\n          <v-col sm=\"12\" cols=\"12\">\n            <LoadingMe\n              :isLoading=\"showLoading\"\n              :fullPage=\"false\"\n              type=\"loading\"\n              :myLoading=\"true\"\n            />\n            <template>\n              <kendo-datasource ref=\"lateFeeDS\" :data=\"lateFeeList\" />\n              <kendo-grid\n                id=\"gridLateFee\"\n                class=\"grid-function\"\n                :data-source-ref=\"'lateFeeDS'\"\n                :editable=\"false\"\n                :toolbar=\"toolbarTemplate\"\n                :excel-export=\"excelExport\"\n                :excel-file-name=\"'lateFeeList.xlsx'\"\n                :excel-filterable=\"true\"\n                :scrollable-virtual=\"true\"\n              >\n                <kendo-grid-column\n                  :field=\"'no'\"\n                  :title=\"$t('no')\"\n                  :template=\"rowNumberTmpl\"\n                  :width=\"80\"\n                  :column-menu=\"false\"\n                  :headerAttributes=\"{\n                    style: 'background-color: #EDF1F5;',\n                    class: 'text-center',\n                  }\"\n                  :attributes=\"{ style: 'text-align: center' }\"\n                />\n                <kendo-grid-column\n                  :field=\"'code'\"\n                  :title=\"$t('code')\"\n                  :width=\"100\"\n                  :template=\"'<span>#=code#</span>'\"\n                  :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                />\n                <kendo-grid-column\n                  :field=\"'name'\"\n                  :title=\"$t('name')\"\n                  :attributes=\"{ class: 'tb_name_td' }\"\n                  :width=\"150\"\n                  :template=\"'<span>#=name#</span>'\"\n                  :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                />\n                <kendo-grid-column\n                  :field=\"'amount'\"\n                  :title=\"$t('amount')\"\n                  :width=\"150\"\n                  :template=\"'<span>#=amount#</span>'\"\n                  :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                />\n                <kendo-grid-column\n                  :field=\"'account'\"\n                  :title=\"$t('account')\"\n                  :width=\"150\"\n                  :template=\"'<span>#=account.name#</span>'\"\n                  :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                />\n                <kendo-grid-column\n                  :field=\"'nature'\"\n                  :title=\"$t('nature')\"\n                  :width=\"100\"\n                  :template=\"'<span>#=nature#</span>'\"\n                  :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                />\n                <kendo-grid-column\n                  :field=\"'currency'\"\n                  :title=\"$t('currency')\"\n                  :width=\"150\"\n                  :template=\"'<span>#=currency.code || ``#</span>'\"\n                  :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                />\n                <kendo-grid-column\n                  :field=\"'description'\"\n                  :title=\"$t('description')\"\n                  :width=\"150\"\n                  :template=\"'<span>#=description#</span>'\"\n                  :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                />\n                <kendo-grid-column\n                  :field=\"''\"\n                  :title=\"$t(' ')\"\n                  :width=\"80\"\n                  :command=\"[\n                    { iconClass: 'k-icon k-i-edit', text: ' ', click: goEdit },\n                  ]\"\n                  :headerAttributes=\"{\n                    style: 'text-align: right; background-color: #EDF1F5',\n                  }\"\n                />\n              </kendo-grid>\n            </template>\n          </v-col>\n        </v-row>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n<script>\nimport LateFeeModel from \"@/scripts/model/LateFee\";\nimport kendo from \"@progress/kendo-ui\";\nimport currencyHandler from \"@/scripts/currency/handler/currencyHandler\";\nimport AccountMappingModel from \"@/scripts/account-map/Account\";\nimport { CurrencyModel } from \"@/scripts/model/AppModels\";\n\nconst $ = kendo.jQuery;\nconst accountHandler = require(\"@/scripts/handler/accounting/account\");\nconst lateFeeHandler = require(\"@/scripts/lateFeeHandler\");\nconst lateFeeModel = new LateFeeModel({});\n\nconst currencyType = {\n  FUNCTIONAL_CURRENCY: \"fun-c\",\n  TRANSACTION_CURRENCY: \"txn-c\",\n  REPORTING_CURRENCY: \"rpt-c\",\n  TAX_EXCHANGE_CURRENCY: \"tax-c\",\n};\nexport default {\n  components: {\n    LoadingMe: () => import(`@/components/Loading`),\n  },\n  data: () => ({\n    natures: [\"Amount\", \"Percentage\"],\n    showLoading: false,\n    dialogM3: false,\n    lateFeeList: [],\n    account: [],\n    currencies: [],\n    mAccount: {},\n    lateFee: lateFeeModel,\n    schemaDefinition: {\n      model: {\n        id: \"id\",\n      },\n    },\n    valid: true,\n  }),\n  props: {},\n  methods: {\n    rowNumberTmpl(dataItem) {\n      let ds = this.$refs.lateFeeDS.kendoWidget(),\n        index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    async loadAccount() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          accountHandler.getAll().then((res) => {\n            this.showLoading = false;\n            this.account = res.data.map((item) => {\n              return {\n                id: item.uuid,\n                uuid: item.uuid,\n                name: item.name,\n                local_name: item.local_name,\n                number: item.number,\n                is_taxable: item.is_taxable,\n                banhjiAccCode: item.banhjiAccCode,\n                group_code: item.group_code,\n                parent_account: item.parent_account,\n                type_code: item.type_code,\n                account_type: item.account_type,\n              };\n            });\n            if (this.account.length > 0) {\n              this.mAccount = this.account[0];\n            }\n            // const otherRevenue = res.filter(m => m.banhjiAccCode === '740040').map(itm => {\n            //     return {\n            //         id: itm.uuid,\n            //         uuid: itm.uuid,\n            //         name: itm.name,\n            //         local_name: itm.local_name,\n            //         number: itm.number,\n            //         is_taxable: itm.is_taxable,\n            //         banhjiAccCode: itm.banhjiAccCode,\n            //         group_code: itm.group_code,\n            //         parent_account: itm.parent_account,\n            //         type_code: itm.type_code,\n            //         account_type: itm.account_type\n            //     }\n            // })\n            // const gainLoss = res.filter(m => m.banhjiAccCode === '740010').map(itm => {\n            //     return {\n            //         id: itm.uuid,\n            //         uuid: itm.uuid,\n            //         name: itm.name,\n            //         local_name: itm.local_name,\n            //         number: itm.number,\n            //         is_taxable: itm.is_taxable,\n            //         banhjiAccCode: itm.banhjiAccCode,\n            //         group_code: itm.group_code,\n            //         parent_account: itm.parent_account,\n            //         type_code: itm.type_code,\n            //         account_type: itm.account_type\n            //     }\n            // })\n            // window.console.log('otherRevenue', JSON.stringify(otherRevenue), 'gainLoss', JSON.stringify(gainLoss))\n          });\n        }, 100);\n      });\n    },\n    cancel() {\n      this.dialogM3 = false;\n    },\n    close() {\n      this.dialogM3 = false;\n    },\n    newClick() {\n      this.lateFee = {};\n      this.mAccount = {};\n      this.dialogM3 = true;\n    },\n    goEdit(e) {\n      e.preventDefault();\n      let grid = kendo.jQuery(\"#gridLateFee\").data(\"kendoGrid\");\n      let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n      this.lateFee = dataItem;\n      window.console.log(\"dataItem--\", dataItem);\n      // this.mAccount = dataItem.account;\n      this.dialogM3 = true;\n    },\n    async onSaveClose() {\n      if (!this.$refs.form.validate()) {\n        this.$refs.form.validate();\n        return;\n      }\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          let data = {\n            id: this.lateFee.id,\n            name: this.lateFee.name,\n            code: this.lateFee.code,\n            description: this.lateFee.description,\n            account: new AccountMappingModel(this.mAccount),\n            amount: this.lateFee.amount,\n            nature: this.lateFee.nature,\n            currency: new CurrencyModel(this.lateFee.currency) || {},\n            status: 1,\n            type: this.lateFee.id ? \"edit\" : \"new\",\n          };\n          lateFeeHandler\n            .create(data)\n            .then((response) => {\n              if (response.data.statusCode === 201) {\n                this.loadData();\n                this.$snotify.success(\"Success\");\n                this.close();\n              }\n            })\n            .catch((e) => {\n              this.$snotify.error(\"Something went wrong\");\n              this.errors.push(e);\n            });\n        });\n      });\n    },\n    async loadData() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          this.showLoading = true;\n          lateFeeHandler.list().then((res) => {\n            if (res.data.statusCode === 200) {\n              this.showLoading = false;\n              this.lateFeeList = res.data.data;\n            } else {\n              this.showLoading = false;\n            }\n          });\n        }, 10);\n      });\n    },\n    async loadCurrency() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          this.showLoading = true;\n          currencyHandler\n            .list(currencyType.FUNCTIONAL_CURRENCY)\n            .then((response) => {\n              if (response.data.statusCode === 200) {\n                this.currencies = response.data.data.filter(\n                  (o) => o.used === 1\n                );\n              }\n            });\n        }, 10);\n      });\n    },\n    excelExport: function (e) {\n      // const pivot = this.$refs.gridTransactionDS.kendoWidget()\n      // pivot.saveAsExcel()\n      window.console.log(e.data);\n    },\n    initToolbar(that) {\n      let grid = $(\"#gridLateFee\").data(\"kendoGrid\");\n      let gridElement = grid.element;\n      let toolbarElement = gridElement.find(\".k-grid-toolbar\");\n      toolbarElement.on(\"click\", \".k-pager-refresh\", function (e) {\n        e.preventDefault();\n        onReloadData(that);\n      });\n      toolbarElement.on(\"click\", \".k-pager-excel\", function (e) {\n        e.preventDefault();\n        onExportExcel(that);\n      });\n\n      function onReloadData(that) {\n        that.loadData();\n      }\n\n      function onExportExcel(that) {\n        that.exportToExcel();\n      }\n    },\n    toolbarTemplate: function () {\n      const templateHtml =\n        \"<span>\" +\n        '<a class=\"k-pager-excel k-link k-button excel\" title=\"Export to Excel\"> <span class=\"k-icon k-i-excel\"></span>Export to excel </a>' +\n        \"</span><span>&nbsp;&nbsp;</span>\" +\n        '<span style=\"position:absolute; right:5px\">' +\n        \"</span>\" +\n        \"<span>\" +\n        '<a class=\"k-pager-refresh k-link k-button reload\" title=\"Refresh\"><span class=\"k-icon k-i-reload\"></span> Refresh </a>' +\n        \"</span>\";\n\n      return kendo.template(templateHtml);\n    },\n    exportToExcel() {\n      const grid = $(\"#gridLateFee\").data(\"kendoGrid\");\n      grid.saveAsExcel();\n    },\n  },\n  mounted: async function () {\n    await this.loadData();\n    await this.loadCurrency();\n    await this.initToolbar(this);\n  },\n  created: async function () {\n    await this.loadAccount();\n  },\n};\n</script>\n\n<style scoped>\n.function_footer {\n  padding: 15px;\n  display: inline-block;\n}\n\np {\n  color: rgba(0, 0, 0, 0.87);\n}\n\n.actionBtn {\n  height: 47.2px !important;\n}\n\n.text_tip {\n  font-size: 9px;\n  line-height: 10px;\n}\n\n@media (max-width: 576px) {\n}\n</style>\n"]}]}