{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/employee/EmploymentHistory.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/employee/EmploymentHistory.vue","mtime":1640595536835},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBFbXBsb3ltZW50UmVjb3JkIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9FbXBsb3ltZW50UmVjb3JkIjsKaW1wb3J0IERhdGVQaWNrZXJDb21wb25lbnQgZnJvbSAnQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvRGF0ZVBpY2tlckNvbXBvbmVudCc7CmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwpjb25zdCBjdXJyZW5jeUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY3VycmVuY3kvaGFuZGxlci9jdXJyZW5jeUhhbmRsZXIiKSAgIApjb25zdCBhY2NvdW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9oYW5kbGVyL2FjY291bnRpbmcvYWNjb3VudCIpICAgICAKY29uc3QgbG9jYXRpb25IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2xvY2F0aW9uSGFuZGxlciIpCmNvbnN0IHBheXJvbGxIYW5kbGVyICA9IHJlcXVpcmUoJ0Avc2NyaXB0cy9wYXlyb2xsSGFuZGxlcicpCmNvbnN0IGVtcGxveWVlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9lbXBsb3llZUhhbmRsZXIiKQpjb25zdCBzZXR0aW5nc0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2V0dGluZ3NIYW5kbGVyIikKY29uc3QgZW1wbG95bWVudE1vZGVsID0gbmV3IEVtcGxveW1lbnRSZWNvcmQoe30pCmNvbnN0IGNvb2tpZUpTID0gcmVxdWlyZSgiQC9jb29raWUuanMiKTsKY29uc3QgY29va2llID0gY29va2llSlMuZ2V0Q29va2llKCk7CmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJBZGRFbXBsb3ltZW50UmVjb3JkIiwKICAgIHByb3BzOiBbJ2lkJ10sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgTG9hZGluZ01lOiAoKSA9PiBpbXBvcnQoYEAvY29tcG9uZW50cy9Mb2FkaW5nYCksCiAgICAgICAgJ2FwcC1kYXRlcGlja2VyJzogRGF0ZVBpY2tlckNvbXBvbmVudCwKICAgIH0sCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIHRlbXBsYXRlczogW10sCiAgICAgICAgc2hvd0xvYWRpbmc6IHRydWUsCiAgICAgICAgY29tcGVsZXRMb2FkaW5nOiBmYWxzZSwKICAgICAgICBwb3NpdGlvbjogW10sCiAgICAgICAgbG9jYXRpb246IFtdLAogICAgICAgIHNlZ21lbnRMaXN0OiBbXSwKICAgICAgICByZWNvcmREYXRlOiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSgpLCAneXl5eS1NTS1kZCcpLAogICAgICAgIGVtcGxveWVlOiB7fSwKICAgICAgICBlbXBsb3ltZW50X2lkOicnLCAKICAgICAgICBlbXBsb3ltZW50UmVjb3JkOiBlbXBsb3ltZW50TW9kZWwsCiAgICAgICAgYXBwbHlPdmVydGltZTogZmFsc2UsCiAgICAgICAgQmVuZWZpdGVMaXN0OltdLAogICAgICAgIGNvbXBvbmVudFR5cGU6IFtdLAogICAgICAgIGxvY2F0aW9uU2VsZWN0ZWQ6ICcnLAogICAgICAgIHNlZ21lbnRTZWxlY3RlZDogJycsCiAgICAgICAgc2VnbWVudHM6ICAgJycsCiAgICAgICAgc2VnbWVudDogICAgW10sCiAgICAgICAgbmF0dXJlUmVjb3JkU2VsZWN0ZWQ6IHtpZDogIm5ld19lbXBsb3ltZW50IiwgbmFtZTogIk5ldyBFbXBsb3ltZW50In0sCiAgICAgICAgbmF0dXJlQ29udHJhY3RTZWxlY3RlZDoge2lkOiAiZml4ZWRfZHVyYXRpb25fY29udHJhY3QiLCBuYW1lOiAiRml4ZWQgRHVyYXRpb24gQ29udHJhY3QifSwKICAgICAgICBjdXJyZW5jeVNlbGVjdGVkOiAgICcnLAogICAgICAgIHdvcmtEYXlTZWxlY3RlZDonJywKICAgICAgICBwb3NpdGlvblNlbGVjdGVkOiAnJywKICAgICAgICBzYWxhcnlUeXBlU2VsZWN0ZWQ6ICdNb250aGx5JywKICAgICAgICBuYXR1cmVTYWxhcnlTZWxlY3RlZDoge2lkOiAiZ3Jvc3NfYW1vdW50IiwgbmFtZTogIkdyb3NzIEFtb3VudCJ9LAogICAgICAgIHN0YXJ0aW5nVGltZVNlbGVjdGVkOiAnJywKICAgICAgICBlbXBsb3llZU5hbWU6ICcnLAogICAgICAgIGN1cnJlbmN5TGlzdDogW10sCiAgICAgICAgc2FsYXJ5VHlwZTpbCiAgICAgICAgICAgICdIb3VybHknLAogICAgICAgICAgICAnTW9udGhseScKICAgICAgICBdLAogICAgICAgIHNhbGFyeVBlcjogJ3BlciBNb250aCcsCiAgICAgICAgbmF0dXJlU2FsYXJ5OlsKICAgICAgICAgICAge2lkOiAiZ3Jvc3NfYW1vdW50IiwgbmFtZTogIkdyb3NzIEFtb3VudCJ9LAogICAgICAgICAgICB7aWQ6ICJuZXRfYW1vdW50IiwgbmFtZTogIk5ldCBBbW91bnQifQogICAgICAgIF0sCiAgICAgICAgbmF0dXJlQ29udHJhY3Q6WwogICAgICAgICAgICB7aWQ6ICJmaXhlZF9kdXJhdGlvbl9jb250cmFjdCIsIG5hbWU6ICJGaXhlZCBEdXJhdGlvbiBDb250cmFjdCJ9LAogICAgICAgICAgICB7aWQ6ICJ1bmRldGVybWluZWRfZHVyYXRpb25fY29udHJhY3QiLCBuYW1lOiAiVW5kZXRlcm1pbmVkIER1cmF0aW9uIENvbnRyYWN0In0sCiAgICAgICAgICAgIHtpZDogImNvbnRyYWN0ZCIsIG5hbWU6ICJDb250cmFjdGVkIn0KICAgICAgICBdLAogICAgICAgIG5hdHVyZVJlY29yZDpbCiAgICAgICAgICAgIHtpZDogIm5ld19lbXBsb3ltZW50IiwgbmFtZTogIk5ldyBFbXBsb3ltZW50In0sCiAgICAgICAgICAgIHtpZDogInByb21vdGlvbiIsIG5hbWU6ICJQcm9tb3Rpb24ifSwKICAgICAgICAgICAge2lkOiAic2FsYXJ5X2luY3JlYXNlIiwgbmFtZTogIlNhbGFyeSBJbmNyZWFzZSJ9LAogICAgICAgICAgICB7aWQ6ICJyZXNpZ25hdGlvIiwgbmFtZTogIlJlc2lnbnRpb24ifQogICAgICAgIF0sCiAgICAgICAgd29ya0RheTpbCiAgICAgICAgICAgIHtpZDogIjEiLCBuYW1lOiAiTW9uZGF5In0sCiAgICAgICAgICAgIHtpZDogIjIiLCBuYW1lOiAiVHVyc2RheSJ9LAogICAgICAgICAgICB7aWQ6ICIzIiwgbmFtZTogIldlZG5lc2RheSJ9LAogICAgICAgICAgICB7aWQ6ICI0IiwgbmFtZTogIlRodXJzZGF5In0sCiAgICAgICAgICAgIHtpZDogIjUiLCBuYW1lOiAiRnJpZGF5In0sCiAgICAgICAgICAgIHtpZDogIjYiLCBuYW1lOiAiU2F0dXJkYXkifSwKICAgICAgICAgICAge2lkOiAiNyIsIG5hbWU6ICJTdW5kYXkifQogICAgICAgIF0sCiAgICAgICAgc3RhcnRpbmdUaW1lOlsKICAgICAgICAgICAge2lkOiAxLCBuYW1lOiAiMTowMCJ9LAogICAgICAgICAgICB7aWQ6IDIsIG5hbWU6ICIyOjAwIn0sCiAgICAgICAgICAgIHtpZDogMywgbmFtZTogIjM6MDAifSwKICAgICAgICAgICAge2lkOiA0LCBuYW1lOiAiNDowMCJ9LAogICAgICAgICAgICB7aWQ6IDUsIG5hbWU6ICI1OjAwIn0sCiAgICAgICAgICAgIHtpZDogNiwgbmFtZTogIjY6MDAifSwKICAgICAgICAgICAge2lkOiA3LCBuYW1lOiAiNzowMCJ9LAogICAgICAgICAgICB7aWQ6IDgsIG5hbWU6ICI4OjAwIn0sCiAgICAgICAgICAgIHtpZDogOSwgbmFtZTogIjk6MDAifSwKICAgICAgICAgICAge2lkOiAxMCwgbmFtZTogIjEwOjAwIn0sCiAgICAgICAgICAgIHtpZDogMTEsIG5hbWU6ICIxMTowMCJ9LAogICAgICAgICAgICB7aWQ6IDEyLCBuYW1lOiAiMTI6MDAifSwKICAgICAgICAgICAge2lkOiAxMywgbmFtZTogIjEzOjAwIn0sCiAgICAgICAgICAgIHtpZDogMTQsIG5hbWU6ICIxNDowMCJ9LAogICAgICAgICAgICB7aWQ6IDE1LCBuYW1lOiAiMTU6MDAifSwKICAgICAgICAgICAge2lkOiAxNiwgbmFtZTogIjE2OjAwIn0sCiAgICAgICAgICAgIHtpZDogMTcsIG5hbWU6ICIxNzowMCJ9LAogICAgICAgICAgICB7aWQ6IDE4LCBuYW1lOiAiMTg6MDAifSwKICAgICAgICAgICAge2lkOiAxOSwgbmFtZTogIjE5OjAwIn0sCiAgICAgICAgICAgIHtpZDogMjAsIG5hbWU6ICIyMDowMCJ9LAogICAgICAgICAgICB7aWQ6IDIxLCBuYW1lOiAiMjE6MDAifSwKICAgICAgICAgICAge2lkOiAyMiwgbmFtZTogIjIyOjAwIn0sCiAgICAgICAgICAgIHtpZDogMjMsIG5hbWU6ICIyMzowMCJ9LAogICAgICAgICAgICB7aWQ6IDI0LCBuYW1lOiAiMjQ6MDAifSwKICAgICAgICBdLAogICAgICAgIHNjaGVtYU1vZGVsRmllbGRzOiB7CiAgICAgICAgICAgIHNlZ21lbnQ6IHsgZWRpdGFibGU6IHRydWUgfSwKICAgICAgICAgICAgYW1vdW50OiB7IHR5cGU6ICdudW1iZXInfSwKICAgICAgICAgICAgcGVyY2VudGFnZTogeyB0eXBlOiAnbnVtYmVyJywgdmFsaWRhdGlvbjogeyByZXF1aXJlZDogdHJ1ZSwgbWluOiAwICwgbWF4OiAxMDAsIGRlZmF1bHRWYWx1ZTogMTAwfX0KICAgICAgICB9LAogICAgICAgIHBlcmNlbnRhZ2U6IDAsCiAgICAgICAgbUFjY1NhbGFyeToge30sCiAgICAgICAgbVNlZ21lbnRzOiB7fSwKICAgICAgICBhY2NTYWxhcmllczogW10sCiAgICAgICAgc2VnbWVudEFSOiBbXSwKICAgICAgICBsb2dnZWRVc2VyOiB7CiAgICAgICAgICAgIGlkOiBjb29raWUuY3JlYXRvciwKICAgICAgICAgICAgbmFtZTogY29va2llLmVtYWlsCiAgICAgICAgfSwKICAgICAgICBncm91cDogIiIsCiAgICAgICAgZ3JvdXBzOiBbXSwKICAgIH0pLAogICAgbWV0aG9kczogewogICAgICAgIGFkZFJvdygpIHsKICAgICAgICAgICAgbGV0IGRzID0gdGhpcy4kcmVmcy5kYXRhU291cmNlLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICAgICAgICB0b3RhbCA9IGRzLnRvdGFsKCk7CiAgICAgICAgICAgIGRzLmluc2VydCh0b3RhbCwgewogICAgICAgICAgICAgICAgc2VnbWVudDogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICItLSBTZWxlY3QgLS0iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY29tcG9uZW50OiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIi0tIFNlbGVjdCAtLSIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBhbW91bnQ6IDAKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHJlbW92ZUJlbmlmaXQoZSkgewogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGNvbnN0IGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkQmVuZWZpdCIpLmRhdGEoImtlbmRvR3JpZCIpLAogICAgICAgICAgICAgICAgZGF0YVNvdXJjZSA9IGdyaWQuZGF0YVNvdXJjZSwKICAgICAgICAgICAgICAgIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbShrZW5kby5qUXVlcnkoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKICAgICAgICAgICAgaWYgKGRhdGFTb3VyY2UudG90YWwoKSA+IDEpIHsKICAgICAgICAgICAgICAgIGRhdGFTb3VyY2UucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYWRkU2VnbWVudCgpewogICAgICAgICAgICBsZXQgZHNTZWdtZW50ID0gdGhpcy4kcmVmcy5kYXRhU291cmNlU2VnbWVudC5rZW5kb1dpZGdldCgpLAogICAgICAgICAgICB0b3RhbFMgPSBkc1NlZ21lbnQudG90YWwoKTsKICAgICAgICAgICAgZHNTZWdtZW50Lmluc2VydCh0b3RhbFMsIHsKICAgICAgICAgICAgICAgIGNvbXBvbmVudDogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICAgICAgIHRoaXMubVNlZ21lbnRzLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgaWQ6ICAgICAgICAgdGhpcy5tU2VnbWVudHMuaWQsCiAgICAgICAgICAgICAgICAgICAgY29kZTogICAgICAgdGhpcy5tU2VnbWVudHMuY29kZSwKICAgICAgICAgICAgICAgICAgICBzdWJPZjogICAgICB0aGlzLm1TZWdtZW50cy5zdWJPZiwKICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6ICB0aGlzLm1TZWdtZW50cy5jcmVhdGVkQXQKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzYWxhcnlBY2NvdW50OiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogICAgICAgICAgIHRoaXMubUFjY1NhbGFyeS5uYW1lLAogICAgICAgICAgICAgICAgICAgIGlkOiAgICAgICAgICAgICB0aGlzLm1BY2NTYWxhcnkuaWQsCiAgICAgICAgICAgICAgICAgICAgYWNjb3VudF90eXBlOiAgIHRoaXMubUFjY1NhbGFyeS5hY2NvdW50X3R5cGUsCiAgICAgICAgICAgICAgICAgICAgYmFuaGppQWNjQ29kZTogIHRoaXMubUFjY1NhbGFyeS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgIGdyb3VwX2NvZGU6ICAgICB0aGlzLm1BY2NTYWxhcnkuZ3JvdXBfY29kZSwKICAgICAgICAgICAgICAgICAgICBpc190YXhhYmxlOiAgICAgdGhpcy5tQWNjU2FsYXJ5LmlzX3RheGFibGUsCiAgICAgICAgICAgICAgICAgICAgbG9jYWxfbmFtZTogICAgIHRoaXMubUFjY1NhbGFyeS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICAgIG51bWJlcjogICAgICAgICB0aGlzLm1BY2NTYWxhcnkubnVtYmVyLAogICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiB0aGlzLm1BY2NTYWxhcnkucGFyZW50X2FjY291bnQsCiAgICAgICAgICAgICAgICAgICAgdHlwZV9jb2RlOiAgICAgIHRoaXMubUFjY1NhbGFyeS50eXBlX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgdXVpZDogICAgICAgICAgIHRoaXMubUFjY1NhbGFyeS51dWlkCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcGVyY2VudGFnZTogMTAwCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICByZW1vdmVTZWdtZW50KGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBjb25zdCBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZFNlZ21lbnQiKS5kYXRhKCJrZW5kb0dyaWQiKSwKICAgICAgICAgICAgICAgIGRhdGFTb3VyY2UgPSBncmlkLmRhdGFTb3VyY2UsCiAgICAgICAgICAgICAgICBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oa2VuZG8ualF1ZXJ5KGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CiAgICAgICAgICAgIGlmIChkYXRhU291cmNlLnRvdGFsKCkgPiAxKSB7CiAgICAgICAgICAgICAgICBkYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRTZWdtZW50KCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJykKICAgICAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRzID0gW10KICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc0hhbmRsZXIuZ2V0U2VnKCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRzID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VnbWVudHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubVNlZ21lbnRzID0gdGhpcy5zZWdtZW50c1swXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkU2VnbWVudCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMzAwKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZEN1cnJlbmN5KCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJykKICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeUhhbmRsZXIuZ2V0QWxsKCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbmN5TGlzdCA9IHJlcy5kYXRhLmRhdGEKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMzAwKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZFBvc2l0aW9uKCl7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBwYXlyb2xsSGFuZGxlci5nZXRQb3NpdGlvbigpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHJlcwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZExvY2F0aW9uKCkgewogICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uSGFuZGxlci5saXN0KCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZihyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvbiA9IHJlcy5kYXRhLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZENvbXBvbmVudCgpIHsKICAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBwYXlyb2xsSGFuZGxlci5nZXRDb21wb25lbnQoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50VHlwZSA9IHJlcy5kYXRhLmRhdGEuZmlsdGVyKG0gPT4gbS5jb21wb1R5cGUubmFtZSA9PT0gJ0JlbmVmaXRzJykKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRBY2NvdW50KCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICAgICAgICAgICAgYWNjb3VudEhhbmRsZXIuZ2V0QWxsKCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgLy9SZWNlaXZhYmxlIEFjY291bnQKICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzLmRhdGEubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY1NhbGFyaWVzID0gcmVzLmRhdGEuZmlsdGVyKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0gPT4gbS5hY2NvdW50X3R5cGUubnVtYmVyID09PSAxMiB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uYWNjb3VudF90eXBlLm51bWJlciA9PT0gMzMgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLmFjY291bnRfdHlwZS5udW1iZXIgPT09IDM0IHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5hY2NvdW50X3R5cGUubnVtYmVyID09PSAzNSB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uYWNjb3VudF90eXBlLm51bWJlciA9PT0gMzYgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLmFjY291bnRfdHlwZS5udW1iZXIgPT09IDM3IHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5hY2NvdW50X3R5cGUubnVtYmVyID09PSAzOCB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uYWNjb3VudF90eXBlLm51bWJlciA9PT0gMzkgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLmFjY291bnRfdHlwZS5udW1iZXIgPT09IDQwIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5hY2NvdW50X3R5cGUubnVtYmVyID09PSA0MSB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uYWNjb3VudF90eXBlLm51bWJlciA9PT0gNDIgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLmFjY291bnRfdHlwZS5udW1iZXIgPT09IDQzIHx8ICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5hY2NvdW50X3R5cGUubnVtYmVyID09PSA0NCkubWFwKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbF9uYW1lOiBpdGVtLmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaXRlbS5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0ZW0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuaGppQWNjQ29kZTogaXRlbS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9jb2RlOiBpdGVtLmdyb3VwX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdGVtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2NvZGU6IGl0ZW0udHlwZV9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IGl0ZW0uYWNjb3VudF90eXBlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjY1NhbGFyaWVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWNjb3VudERlZmF1bHQgPSAgdGhpcy5hY2NTYWxhcmllcy5maWx0ZXIobiA9PiBuLm5hbWUgPT0iU2FsYXJ5IikubWFwKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6IGl0ZW0ubG9jYWxfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaXRlbS5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc190YXhhYmxlOiBpdGVtLmlzX3RheGFibGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5oamlBY2NDb2RlOiBpdGVtLmJhbmhqaUFjY0NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9jb2RlOiBpdGVtLmdyb3VwX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfYWNjb3VudDogaXRlbS5wYXJlbnRfYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfY29kZTogaXRlbS50eXBlX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IGl0ZW0uYWNjb3VudF90eXBlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGFjY291bnREZWZhdWx0Lmxlbmd0aCA+IDApewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1BY2NTYWxhcnkgPSBhY2NvdW50RGVmYXVsdFswXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1BY2NTYWxhcnkgPSB0aGlzLmFjY1NhbGFyaWVzWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFNpbmdsZUVtcGxveWVlKCkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHNlZ21lbnRCZW5lZml0ZURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucyl7CiAgICAgICAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IHJlcXVpcmVkIG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpCiAgICAgICAgICAgIC5hcHBlbmRUbyhjb250YWluZXIpCiAgICAgICAgICAgIC5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgICAgICAgICBhdXRvQmluZDogZmFsc2UsCiAgICAgICAgICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICAgICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICAgICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAibmFtZSIsCiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bmFtZSM8L3NwYW4+IiwKICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgICAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICAgICAgZGF0YTogdGhpcy5zZWdtZW50cywKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBiZW5lZml0RHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgICAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IHJlcXVpcmVkIG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpCiAgICAgICAgICAgIC5hcHBlbmRUbyhjb250YWluZXIpCiAgICAgICAgICAgIC5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgICAgICAgICBhdXRvQmluZDogZmFsc2UsCiAgICAgICAgICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICAgICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICAgICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAibmFtZSIsCiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bmFtZSM8L3NwYW4+IiwKICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgICAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICAgICAgZGF0YTogdGhpcy5jb21wb25lbnRUeXBlLAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHNlZ21lbnREcm9wRG93bkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpewogICAgICAgICAgICBrZW5kby5qUXVlcnkoJzxpbnB1dCByZXF1aXJlZCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKQogICAgICAgICAgICAuYXBwZW5kVG8oY29udGFpbmVyKQogICAgICAgICAgICAua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgICAgICAgICAgYXV0b0JpbmQ6IGZhbHNlLAogICAgICAgICAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgICAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgICAgICAgICBkYXRhVmFsdWVGaWVsZDogIm5hbWUiLAogICAgICAgICAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICAgICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuc2VnbWVudHMsCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYWNjb3VudERyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucyl7CiAgICAgICAgICAgIGtlbmRvLmpRdWVyeSgnPGlucHV0IHJlcXVpcmVkIG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpCiAgICAgICAgICAgIC5hcHBlbmRUbyhjb250YWluZXIpCiAgICAgICAgICAgIC5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgICAgICAgICBhdXRvQmluZDogZmFsc2UsCiAgICAgICAgICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICAgICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICAgICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAibmFtZSIsCiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bmFtZSM8L3NwYW4+IiwKICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgICAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICAgICAgZGF0YTogdGhpcy5hY2NTYWxhcmllcywKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBhc3luYyBvblNhdmVDbG9zZSgpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBiYVNhbGFyeSAgICA9IHRoaXMuZW1wbG95bWVudFJlY29yZC5zYWxhcnkKICAgICAgICAgICAgbGV0IHNlZ21lbnREUyA9IHRoaXMuJHJlZnMuZGF0YVNvdXJjZVNlZ21lbnQua2VuZG9XaWRnZXQoKQogICAgICAgICAgICBsZXQgc2VnbWVudCA9IHNlZ21lbnREUy5kYXRhKCkKICAgICAgICAgICAgaWYoc2VnbWVudC5sZW5ndGggPiAwICl7CiAgICAgICAgICAgICAgICBsZXQgc2VnbWVudEFSID0gW10KICAgICAgICAgICAgICAgIGxldCBzZWdtZW50U2FsYXJ5ID0gMAogICAgICAgICAgICAgICAgbGV0IHRvdGFsUGVyY2VudGFnZSA9IDAKICAgICAgICAgICAgICAgIHNlZ21lbnQubWFwKGluZGV4ID0+IHsKICAgICAgICAgICAgICAgICAgICBzZWdtZW50U2FsYXJ5ID0gIChiYVNhbGFyeSAqIGluZGV4LnBlcmNlbnRhZ2UpLyAxMDAKICAgICAgICAgICAgICAgICAgICB0b3RhbFBlcmNlbnRhZ2UgKz0gcGFyc2VGbG9hdChpbmRleC5wZXJjZW50YWdlKQogICAgICAgICAgICAgICAgICAgIHNlZ21lbnRBUi5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgc2FsYXJ5QWNjb3VudDogICAgICBpbmRleC5zYWxhcnlBY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICAgICAgICAgIGluZGV4LmNvbXBvbmVudCwKICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZTogICAgICAgICBwYXJzZUZsb2F0KGluZGV4LnBlcmNlbnRhZ2UpLAogICAgICAgICAgICAgICAgICAgICAgICBTYWxhcnk6ICAgICAgICAgICAgIHNlZ21lbnRTYWxhcnkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIGlmKHRvdGFsUGVyY2VudGFnZSA+IDEwMCB8fCB0b3RhbFBlcmNlbnRhZ2UgPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcignUGxlYXNlIENoZWNrIFNlZ21lbnQgcGVyY2VudGFnZSBhZ2FpbicpCiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRBUiA9IHNlZ21lbnRBUgogICAgICAgICAgICAgICAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMuZGF0YVNvdXJjZS5rZW5kb1dpZGdldCgpIAogICAgICAgICAgICAgICAgICAgIGxldCBkYXRhU291cmNlID1kcy5kYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5iZW5lZml0ID0gZGF0YVNvdXJjZS5tYXAoaW5kZXg9PnsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogIGluZGV4LmNvbXBvbmVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnQ6ICAgIGluZGV4LnNlZ21lbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICAgICBpbmRleC5hbW91bnQKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gbmV3IEVtcGxveW1lbnRSZWNvcmQoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtcGxveW1lbnRSZWNvcmQuaWQgPyB0aGlzLmVtcGxveW1lbnRSZWNvcmQuaWQgOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZTogICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogICAgICAgICAgICAgICAgICAgICB0aGlzLmVtcGxveWVlLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUlkOiAgICAgICAgICAgICB0aGlzLmVtcGxveWVlLmVtcGxveWVlSWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOiAgICAgICAgICAgICAgIHRoaXMuZW1wbG95ZWUubGFzdE5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogICAgICAgICAgICAgIHRoaXMuZW1wbG95ZWUuZmlyc3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5kZXI6ICAgICAgICAgICAgICAgICB0aGlzLmVtcGxveWVlLmdlbmRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuazogICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICAgICAgICAgICAgICAgICB0aGlzLmVtcGxveWVlLmJhbmsuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5rTmFtZTogICAgICAgICAgIHRoaXMuZW1wbG95ZWUuYmFuay5iYW5rTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6ICAgICAgICAgICAgICAgdGhpcy5lbXBsb3llZS5iYW5rLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwb3VzZUdlbmRlcjogICAgICAgICAgIHRoaXMuZW1wbG95ZWUuc3BvdXNlR2VuZGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXR1cmVFbXBsb3llZTogICAgICAgICB0aGlzLmVtcGxveWVlLm5hdHVyZUVtcGxveWVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub09mQ2hpbGRyZW46ICAgICAgICAgICB0aGlzLmVtcGxveWVlLm5vT2ZDaGlsZHJlbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFua0FjY291bnQ6ICAgICAgICAgICAgdGhpcy5lbXBsb3llZS5iYW5rQWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudE1ldGhvZDogICAgICAgICAgdGhpcy5lbXBsb3llZS5wYXltZW50TWV0aG9kLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcG91c2VOYXR1cmVFbXBsb3llZTogICB0aGlzLmVtcGxveWVlLnNwb3VzZU5hdHVyZUVtcGxveWVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlyb2xsTGlhYmlsaXRpZTogICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiAgICAgICAgICAgICAgIHRoaXMuZW1wbG95ZWUucGF5cm9sbExpYWJpbGl0aWUudXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6ICAgICAgICAgdGhpcy5lbXBsb3llZS5wYXlyb2xsTGlhYmlsaXRpZS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9jb2RlOiAgICAgICAgICB0aGlzLmVtcGxveWVlLnBheXJvbGxMaWFiaWxpdGllLnR5cGVfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICAgICAgICAgICAgICAgdGhpcy5lbXBsb3llZS5wYXlyb2xsTGlhYmlsaXRpZS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiAgICAgICAgICAgICB0aGlzLmVtcGxveWVlLnBheXJvbGxMaWFiaWxpdGllLm51bWJlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxhcnlBY2M6ICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiAgICAgICAgICAgICAgIHRoaXMuZW1wbG95ZWUucGF5cm9sbExpYWJpbGl0aWUudXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6ICAgICAgICAgdGhpcy5lbXBsb3llZS5wYXlyb2xsTGlhYmlsaXRpZS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9jb2RlOiAgICAgICAgICB0aGlzLmVtcGxveWVlLnBheXJvbGxMaWFiaWxpdGllLnR5cGVfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICAgICAgICAgICAgICAgdGhpcy5lbXBsb3llZS5wYXlyb2xsTGlhYmlsaXRpZS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiAgICAgICAgICAgICB0aGlzLmVtcGxveWVlLnBheXJvbGxMaWFiaWxpdGllLm51bWJlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiAgICAgICAgICAgICB0aGlzLnJlY29yZERhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246ICAgICAgICAgdGhpcy5sb2NhdGlvblNlbGVjdGVkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdHVyZVJlY29yZDogICAgIHRoaXMubmF0dXJlUmVjb3JkU2VsZWN0ZWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0dXJlQ29udHJhY3Q6ICAgdGhpcy5uYXR1cmVDb250cmFjdFNlbGVjdGVkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAgICAgICAgIHRoaXMucG9zaXRpb25TZWxlY3RlZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBhcnRtZW50OiAgICAgICB0aGlzLnBvc2l0aW9uU2VsZWN0ZWQuZGVwYXJ0bWVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxhcnlUeXBlOiAgICAgICB0aGlzLnNhbGFyeVR5cGVTZWxlY3RlZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXR1cmVTYWxhcnk6ICAgICB0aGlzLm5hdHVyZVNhbGFyeVNlbGVjdGVkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiAgICAgICAgIHRoaXMuY3VycmVuY3lTZWxlY3RlZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxhcnk6ICAgICAgICAgICB0aGlzLmVtcGxveW1lbnRSZWNvcmQuc2FsYXJ5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogICAgICAgICAgIDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVuZWZpdDogICAgICAgICAgdGhpcy5iZW5lZml0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnQ6ICAgICAgICAgIHRoaXMuc2VnbWVudEFSLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtEYXk6ICAgICAgICAgIHRoaXMud29ya0RheVNlbGVjdGVkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveW1lbnRJZDogICAgIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydGluZ1RpbWU6ICAgICB0aGlzLnN0YXJ0aW5nVGltZVNlbGVjdGVkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5T3ZlcnRpbWU6ICAgIHRoaXMuYXBwbHlPdmVydGltZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cDogICAgICAgICAgICB0aGlzLmdyb3VwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlZFVzZXI6ICAgICAgIHRoaXMubG9nZ2VkVXNlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnZGF0YScsIGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUhhbmRsZXIuY3JlYXRlRW1wbG95bWVudChkYXRhKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5zdWNjZXNzKCdTdWNjZXNzJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHJlc3BvbnNlLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKHJlc3VsdC5lbXBsb3llZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5LmVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjYW5jZWwoKXsKICAgICAgICAgICAgdGhpcy5jbGVhcigpCiAgICAgICAgfSwKICAgICAgICBpc0VkaXQoKXt9LAogICAgICAgIGFzeW5jIGxvYWRTaW5nbGVFbXBsb3llZSgpIHsKICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVIYW5kbGVyLmdldCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVzLmRhdGEuZGF0YVswXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKDEyMTIxMjEscmVzdWx0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtcGxveWVlID0gcmVzdWx0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbXBsb3llZU5hbWUgPSByZXN1bHQuZW1wbG95ZWVJZCArJy0nK3Jlc3VsdC5maXJzdE5hbWUgKyAnICcgKyByZXN1bHQubGFzdE5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLiRyb3V0ZS5xdWVyeS50eXBlID09ICdlZGl0Jyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygxLHRoaXMuJHJvdXRlLnF1ZXJ5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEVtcGxveW1lbnQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coMix0aGlzLiRyb3V0ZS5xdWVyeSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkU2VnbWVudCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUm93KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGFzeW5jIGdldEVtcGxveW1lbnQoKXsKICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVIYW5kbGVyLmdldEVtcGxveW1lbnRCeUVtcGxveWVlKHRoaXMuJHJvdXRlLnBhcmFtcy5yZWNvcmRfaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbXBsb3ltZW50U2luZ2xlID0gcmVzLmRhdGEuZGF0YVswXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5lbXBsb3ltZW50U2luZ2xlKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdHVyZVJlY29yZFNlbGVjdGVkICAgPSB0aGlzLmVtcGxveW1lbnRTaW5nbGUubmF0dXJlUmVjb3JkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXR1cmVDb250cmFjdFNlbGVjdGVkID0gdGhpcy5lbXBsb3ltZW50U2luZ2xlLm5hdHVyZUNvbnRyYWN0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvblNlbGVjdGVkICAgICAgID0gdGhpcy5lbXBsb3ltZW50U2luZ2xlLmxvY2F0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvblNlbGVjdGVkICAgICAgID0gdGhpcy5lbXBsb3ltZW50U2luZ2xlLnBvc2l0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXR1cmVTYWxhcnlTZWxlY3RlZCAgID0gdGhpcy5lbXBsb3ltZW50U2luZ2xlLm5hdHVyZVNhbGFyeQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2FsYXJ5VHlwZVNlbGVjdGVkICAgICA9IHRoaXMuZW1wbG95bWVudFNpbmdsZS5zYWxhcnlUeXBlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW5jeVNlbGVjdGVkICAgICAgID0gdGhpcy5lbXBsb3ltZW50U2luZ2xlLmN1cnJlbmN5CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbXBsb3ltZW50UmVjb3JkICAgICAgID0gdGhpcy5lbXBsb3ltZW50U2luZ2xlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JrRGF5U2VsZWN0ZWQgICAgICAgID0gdGhpcy5lbXBsb3ltZW50U2luZ2xlLndvcmtEYXkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0aW5nVGltZVNlbGVjdGVkICAgPSB0aGlzLmVtcGxveW1lbnRTaW5nbGUuc3RhcnRpbmdUaW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseU92ZXJ0aW1lICAgICAgICAgID0gdGhpcy5lbXBsb3ltZW50U2luZ2xlLmFwcGx5T3ZlcnRpbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29yZERhdGUgICAgICAgICAgICAgPSB0aGlzLmVtcGxveW1lbnRTaW5nbGUuZGF0ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQmVuZWZpdGVMaXN0ICAgICAgICAgICA9IHRoaXMuZW1wbG95bWVudFNpbmdsZS5iZW5lZml0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWdtZW50TGlzdCAgICAgICAgICAgID0gdGhpcy5lbXBsb3ltZW50U2luZ2xlLnNlZ21lbnQgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXAgICAgICAgICAgICAgICAgICA9IHRoaXMuZW1wbG95bWVudFNpbmdsZS5ncm91cCAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVNhbGFyeVR5cGUoKSAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgICAgICAgICAgICA9IGZhbHNlIAogICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy8gYXN5bmMgbG9hZEVtcGxveW1lbnRSZWNvcmQoKXsKICAgICAgICAvLyAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgLy8gICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAvLyAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgLy8gICAgICAgICAgICAgZW1wbG95ZWVIYW5kbGVyLmdldEVtcGxveW1lbnRMaXN0QnlFbXBsb3llZSh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuZW1wbG95bWVudExpc3QgPSByZXMKICAgICAgICAvLyAgICAgICAgICAgICAgICAgaWYodGhpcy5lbXBsb3ltZW50TGlzdCl7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLmVtcGxveW1lbnRPbGQgPSB0aGlzLmVtcGxveW1lbnRMaXN0LmZpbHRlcihtID0+IG0uc3RhdHVzID09PSAxKQogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbXBsb3ltZW50X2lkID0gdGhpcy5lbXBsb3ltZW50T2xkWzBdLmlkCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICB9KQogICAgICAgIC8vICAgICAgICAgfSwgMzAwKTsKICAgICAgICAvLyAgICAgfSkKICAgICAgICAvLyB9LAogICAgICAgIGNsb3NlKGRhdGEpewogICAgICAgICAgICB0aGlzLmNsZWFyKCkKICAgICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5xdWVyeSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5nbygtMSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnUGF5cm9sbCcsIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY2xlYXIoKXsKICAgICAgICAgICAgdGhpcy5uYXR1cmVSZWNvcmRTZWxlY3RlZCAgID0ge2lkOiAibmV3X2VtcGxveW1lbnQiLCBuYW1lOiAiTmV3IEVtcGxveW1lbnQifSwKICAgICAgICAgICAgdGhpcy5uYXR1cmVDb250cmFjdFNlbGVjdGVkID0ge2lkOiAiZml4ZWRfZHVyYXRpb25fY29udHJhY3QiLCBuYW1lOiAiRml4ZWQgRHVyYXRpb24gQ29udHJhY3QifSwKICAgICAgICAgICAgdGhpcy5sb2NhdGlvblNlbGVjdGVkICAgICAgID0ge30KICAgICAgICAgICAgdGhpcy5uYXR1cmVTYWxhcnlTZWxlY3RlZCAgID0ge2lkOiAiZ3Jvc3NfYW1vdW50IiwgbmFtZTogIkdyb3NzIEFtb3VudCJ9CiAgICAgICAgICAgIHRoaXMuc2FsYXJ5VHlwZVNlbGVjdGVkICAgICA9ICdNb250aGx5JwogICAgICAgICAgICB0aGlzLmVtcGxveW1lbnRSZWNvcmQgICAgICAgPSB7fQogICAgICAgICAgICB0aGlzLndvcmtEYXlTZWxlY3RlZCAgICAgICAgPSB7fQogICAgICAgICAgICB0aGlzLnN0YXJ0aW5nVGltZVNlbGVjdGVkICAgPSB7fQogICAgICAgICAgICB0aGlzLnBvc2l0aW9uU2VsZWN0ZWQgICAgICAgPSB7fQogICAgICAgICAgICB0aGlzLmFwcGx5T3ZlcnRpbWUgICAgICAgICAgPSBmYWxzZQogICAgICAgICAgICB0aGlzLnJlY29yZERhdGUgICAgICAgICAgICAgPSBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSgpLCAneXl5eS1NTS1kZCcpCiAgICAgICAgICAgIHRoaXMuQmVuZWZpdGVMaXN0ICAgICAgICAgICA9IFtdCiAgICAgICAgICAgIHRoaXMuc2VnbWVudExpc3QgICAgICAgICAgICA9IFtdCiAgICAgICAgICAgIHRoaXMuZ3JvdXAgICAgICAgICAgICAgICAgICA9ICcnCiAgICAgICAgfSwKICAgICAgICBjaGFuZ2VTYWxhcnlUeXBlKCl7CiAgICAgICAgICAgIGlmKHRoaXMuc2FsYXJ5VHlwZVNlbGVjdGVkID09ICdIb3VybHknKXsKICAgICAgICAgICAgICAgIHRoaXMuc2FsYXJ5UGVyID0gJ3BlciBIb3VyJwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuc2FsYXJ5UGVyID0gJ3BlciBNb250aCcKICAgICAgICAgICAgfQogICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coMSwgdGhpcy5zYWxhcnlUeXBlU2VsZWN0ZWQpCiAgICAgICAgfSwKICAgICAgICBhc3luYyBsb2FkR3JvdXAoKXsKICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgcGF5cm9sbEhhbmRsZXIuZ2V0R3JvdXAoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlcy5kYXRhLmxlbmd0aCA+IDApewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ncm91cHMgPSByZXMuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICB9LAogICAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICAgIGF3YWl0IHRoaXMubG9hZFBvc2l0aW9uKCkKICAgICAgICBhd2FpdCB0aGlzLmxvYWRMb2NhdGlvbigpCiAgICAgICAgYXdhaXQgdGhpcy5sb2FkQ29tcG9uZW50KCkKICAgICAgICBhd2FpdCB0aGlzLmxvYWRDdXJyZW5jeSgpCiAgICAgICAgYXdhaXQgdGhpcy5sb2FkQWNjb3VudCgpCiAgICAgICAgYXdhaXQgdGhpcy5sb2FkR3JvdXAoKQogICAgICAgIC8vIGF3YWl0IHRoaXMubG9hZFNpbmdsZUVtcGxveWVlKCkKICAgIH0sCiAgICB3YXRjaDogewogICAgICAgICckcm91dGUnOiAnbG9hZEFjY291bnQnCiAgICB9Cn0KCg=="},{"version":3,"sources":["EmploymentHistory.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EmploymentHistory.vue","sourceRoot":"src/views/payroll/employee","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col cols=\"12\" sm=\"12\">\n                    <v-card outlined dense class=\"pa-4 no_border rounded-sm\" color=\"white\">\n                        <v-form ref=\"form\" lazy-validation>\n                            <v-card outlined dense class=\"no_border\">\n                                <h2 class=\"mb-0\">{{ $t('employment_history') }}</h2>\n                                <v-icon\n                                    @click=\"close()\"\n                                    style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                    class=\"float-right\">close\n                                </v-icon>\n                            </v-card>\n                            <v-card outlined dense class=\"px-3 no_border\" color=\"grayBg\" height=\"173px\">\n                                <v-row>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label\">{{ $t('employee_name') }}</label>\n                                        <v-text-field class=\"mt-1\"\n                                            outlined\n                                            v-model=\"employeeName\"\n                                            tage=\"Employee Name\"\n                                            readonly\n                                            required/>\n                                        <label class=\"label\">{{ $t('nature_of_the_record') }}</label>\n                                        <v-select class=\"mt-1\"\n                                            outlined\n                                            :items=\"natureRecord\"\n                                            item-text=\"name\"\n                                            item-value=\"id\"\n                                            v-model=\"natureRecordSelected\"\n                                            tage=\"Nature of the Record\"\n                                            :rules=\"[v => !!v || $t('bank_name_require')]\"\n                                            return-object/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label\">{{$t('date')}}</label>\n                                        <app-datepicker :initialDate=\"recordDate\"\n                                            @emitDate=\"recordDate = $event\"/>\n                                        <label class=\"label\">{{ $t('business_unit_branch') }}</label>\n                                        <v-select class=\"mt-1\"\n                                            outlined\n                                            :items=\"location\"\n                                            item-text=\"name\"\n                                            item-value=\"id\"\n                                            v-model=\"locationSelected\"\n                                            tage=\"Business Unit/Branch\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            return-object/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label\">{{ $t('nature_of_the_contract') }}</label>\n                                        <v-select class=\"mt-1\"\n                                            outlined\n                                            :items=\"natureContract\"\n                                            item-text=\"name\"\n                                            item-value=\"id\"\n                                            v-model=\"natureContractSelected\"\n                                            tage=\"Nature of the Contract\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            return-object/>\n                                        <label class=\"label\">{{ $t('position') }}</label>\n                                        <v-select class=\"mt-1\"\n                                            outlined\n                                            :items=\"position\"\n                                            item-text=\"name\"\n                                            item-value=\"id\"\n                                            v-model=\"positionSelected\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            tage=\"Position\"\n                                            return-object/>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                            <v-card outlined dense class=\"px-3\" color=\"white\">\n                                <v-row>\n                                    <v-col class=\"pb-0\" sm=\"3\" cols=\"12\">\n                                        <v-row class=\"border_grey\">\n                                            <v-col sm=\"12\" cols=\"12\" class=\"my_box_min_heihgt pa-0\">\n                                                <h2 class=\"mb-2 font_20 \">\n                                                    {{ $t(\"salary_information\") }}\n                                                </h2>\n                                                <p class=\"mb-3\">{{$t('salary_information_desc')}}</p>\n                                                <v-row>\n                                                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                        <label class=\"label\">{{ $t('salary_type') }}</label>\n                                                         <v-select class=\"mt-1\"\n                                                            outlined\n                                                            :items=\"salaryType\"\n                                                            v-model=\"salaryTypeSelected\"\n                                                            @change=\"changeSalaryType\"\n                                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                            tage=\"Salary Type\"/>\n                                                        <label class=\"label mb-0\">{{ $t('salary') }} {{salaryPer}}</label>\n                                                        <v-text-field class=\"mt-1\"\n                                                            outlined\n                                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                            v-model=\"employmentRecord.salary\"/>\n                                                        <label class=\"label mb-0\">{{ $t('nature') }}</label>\n                                                        <v-select class=\"mt-1\"\n                                                            outlined\n                                                            :items=\"natureSalary\"\n                                                            item-text=\"name\"\n                                                            item-value=\"id\"\n                                                            v-model=\"natureSalarySelected\"\n                                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                            tage=\"Nature Of Salary\"\n                                                            return-object/>\n                                                        <label class=\"label mb-0\">{{ $t('salary_currency') }}</label>\n                                                        <v-select class=\"mt-1\"\n                                                            outlined\n                                                            :items=\"currencyList\"\n                                                            item-text=\"name\"\n                                                            item-value=\"id\"\n                                                            v-model=\"currencySelected\"\n                                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                            tage=\"currencySelector\"\n                                                            return-object/>\n                                                        <label class=\"label mb-0\">{{ $t('employee_group') }}</label>\n                                                        <v-select class=\"mt-1\"\n                                                            outlined\n                                                            :items=\"groups\"\n                                                            :item-text=\"item =>`${item.groupCode} - ${item.groupName}`\"\n                                                            item-value=\"id\"\n                                                            v-model=\"group\"\n                                                            clearable\n                                                            tage=\"currencySelector\"/>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                    <v-col class=\"pb-0\" sm=\"6\" cols=\"12\">\n                                        <v-row class=\"border_grey\">\n                                            <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                <h2 class=\"mb-2 font_20 \">\n                                                    {{ $t(\"Segment\") }}\n                                                </h2>\n                                                <v-row>\n                                                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                        <kendo-datasource ref=\"dataSourceSegment\"\n                                                            :schema-model-fields=\"schemaModelFields\"\n                                                            :data=\"segmentList\"/>\n                                                        <kendo-grid id=\"gridSegment\" class=\"grid-function\"\n                                                                :data-source-ref=\"'dataSourceSegment'\"\n                                                                :editable=\"true\"\n                                                                :navigatable=\"true\"\n                                                                :scrollable-virtual=\"true\">\n                                                            <kendo-grid-column\n                                                                :field=\"'salaryAccount'\"\n                                                                :title=\"$t('account')\"\n                                                                :width=\"100\"\n                                                                :template=\"'<span>#=salaryAccount.name#</span>'\"\n                                                                :editor=\"accountDropDownEditor\"\n                                                                :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                                            <kendo-grid-column\n                                                                :field=\"'component'\"\n                                                                :title=\"$t('segment')\"\n                                                                :width=\"100\"\n                                                                :template=\"'<span>#=component.name#</span>'\"\n                                                                :editor=\"segmentDropDownEditor\"\n                                                                :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                                            <kendo-grid-column\n                                                                :field=\"'percentage'\"\n                                                                :title=\"$t('percentage')\"\n                                                                :width=\"100\"\n                                                                :template=\"'<span>#= percentage# %</span>'\"\n                                                                :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                                                :attributes=\"{style: 'text-align: right;'}\"/>\n                                                             <kendo-grid-column\n                                                                :width=\"60\"\n                                                                :command=\"{ iconClass: 'k-icon k-i-trash', text: ' ', click: removeSegment, class: 'btn-plus' }\"\n                                                                :title=\"$t('action')\"\n                                                                :headerAttributes=\"{style: 'text-align: center; background-color: #EDF1F5'}\"\n                                                                :attributes=\"{style: 'text-align: center'}\"/>\n                                                        </kendo-grid>\n                                                        <v-btn color=\"primary\"\n                                                                class=\"float-left rounded-0 white--text mt-3\"\n                                                                @click=\"addSegment\">\n                                                            <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                                        </v-btn>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                        <v-row class=\"border_grey\">\n                                            <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                <h2 class=\"mb-2 font_20 \">\n                                                    {{ $t(\"employee_benefits\") }}\n                                                </h2>\n                                                <v-row>\n                                                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                        <kendo-datasource ref=\"dataSource\"\n                                                            :data=\"BenefiteList\"/>\n                                                        <kendo-grid id=\"gridBenefit\" class=\"grid-function\"\n                                                                    :data-source-ref=\"'dataSource'\"\n                                                                    :editable=\"true\"\n                                                                    :scrollable-virtual=\"true\">\n                                                            <!-- <kendo-grid-column\n                                                                :field=\"'segment'\"\n                                                                :title=\"$t('segment')\"\n                                                                :width=\"100\"\n                                                                :template=\"'<span>#=segment.name#</span>'\"\n                                                                :editor=\"segmentBenefiteDropDownEditor\"\n                                                                :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/> -->\n                                                            <kendo-grid-column\n                                                                :field=\"'component'\"\n                                                                :title=\"$t('benefits')\"\n                                                                :width=\"100\"\n                                                                :template=\"'<span>#=component.name#</span>'\"\n                                                                :editor=\"benefitDropDownEditor\"\n                                                                :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                                            <kendo-grid-column\n                                                                :field=\"'amount'\"\n                                                                :title=\"$t('amount')\"\n                                                                :width=\"100\"\n                                                                :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"/>\n                                                             <kendo-grid-column\n                                                                :width=\"60\"\n                                                                :command=\"{ iconClass: 'k-icon k-i-trash', text: ' ', click: removeBenifit, class: 'btn-plus' }\"\n                                                                :title=\"$t('action')\"\n                                                                :headerAttributes=\"{style: 'text-align: center; background-color: #EDF1F5'}\"\n                                                                :attributes=\"{style: 'text-align: center'}\"/>\n                                                        </kendo-grid>\n                                                        <v-btn color=\"primary\"\n                                                                class=\"float-left rounded-0 white--text mt-3\"\n                                                                @click=\"addRow\">\n                                                            <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                                        </v-btn>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                    <v-col class=\"pb-0\" sm=\"3\" cols=\"12\">\n                                        <v-row class=\"border_grey\">\n                                            <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                <h2 class=\"mb-2 font_20 \">\n                                                    {{ $t(\"attachment\") }}\n                                                </h2>\n                                                <p class=\"mb-3\">{{$t('related_document_to')}}</p>\n                                                <v-row>\n                                                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                        <v-file-input\n                                                            accept=\"image/*\"\n                                                            label=\"Attachment\"/>\n                                                    </v-col>\n                                                </v-row>\n                                                <v-row>\n                                                    <v-col sm=\"12\" cols=\"12\">\n                                                         <label class=\"label\">{{$t('workday_start_on')}}</label>\n                                                        <v-select\n                                                            outlined\n                                                            :items=\"workDay\"\n                                                            item-text=\"name\"\n                                                            item-value=\"id\"\n                                                            tage=\"Workday Start on\"\n                                                            v-model=\"workDaySelected\"\n                                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                            return-object/>\n                                                    </v-col>\n                                                    <v-col sm=\"12\" cols=\"12\">\n                                                        <label class=\"label\">{{$t('starting_time')}}</label>\n                                                        <v-select\n                                                            outlined\n                                                            :items=\"startingTime\"\n                                                            item-text=\"name\"\n                                                            item-value=\"id\"\n                                                            v-model=\"startingTimeSelected\"\n                                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                            tage=\"Starting time\"/>\n                                                    </v-col>\n                                                    <v-col sm=\"8\" cols=\"12\" style=\"margin:auto; margin-top: -5px;\">\n                                                        <label class=\"label\">{{$t('applying_overtime')}}</label>\n                                                    </v-col>   \n                                                    <v-col sm=\"3\" cols=\"12\" style=\"margin:auto; margin-top: -25px;\">\n                                                        <v-checkbox\n                                                            v-model=\"applyOvertime\">\n                                                        </v-checkbox>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                            <v-divider/>\n                            <v-card outlined dense class=\"no_border function_footer\">\n                                <v-menu>\n                                    <template v-slot:activator=\"{ on }\">\n                                        <v-btn  outlined class=\"mr-2 text-capitalize  black--text float-left\" v-on=\"on\">\n                                            {{$t('select_template')}}\n                                            <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                        </v-btn>\n                                    </template>\n                                    <v-list>\n                                        <v-list-item v-for=\"(item, index) in templates\" :key=\"index\">\n                                            <v-list-item-title>{{ item.title }}</v-list-item-title>\n                                        </v-list-item>\n                                    </v-list>\n                                </v-menu>\n                                <v-btn color=\"black\"  class=\"text-capitalize  white--text float-left\" @click=\"cancel\">{{$t('cancel')}}</v-btn>\n                                <v-btn color=\"primary\" class=\"float-right white--text text-capitalize \" @click=\"onSaveClose\">\n                                    {{$t('save_print')}}\n                                </v-btn>\n                            </v-card>\n                        </v-form>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"true\"\n                :myLoading=\"true\"/>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n    import EmploymentRecord from \"@/scripts/model/EmploymentRecord\";\n    import DatePickerComponent from '@/components/custom_templates/DatePickerComponent';\n    import kendo from \"@progress/kendo-ui\";\n    const currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\")   \n    const accountHandler = require(\"@/scripts/handler/accounting/account\")     \n    const locationHandler = require(\"@/scripts/locationHandler\")\n    const payrollHandler  = require('@/scripts/payrollHandler')\n    const employeeHandler = require(\"@/scripts/employeeHandler\")\n    const settingsHandler = require(\"@/scripts/settingsHandler\")\n    const employmentModel = new EmploymentRecord({})\n    const cookieJS = require(\"@/cookie.js\");\n    const cookie = cookieJS.getCookie();\n    export default {\n        name: \"AddEmploymentRecord\",\n        props: ['id'],\n        components: {\n            LoadingMe: () => import(`@/components/Loading`),\n            'app-datepicker': DatePickerComponent,\n        },\n        data: () => ({\n            templates: [],\n            showLoading: true,\n            compeletLoading: false,\n            position: [],\n            location: [],\n            segmentList: [],\n            recordDate: kendo.toString(new Date(), 'yyyy-MM-dd'),\n            employee: {},\n            employment_id:'', \n            employmentRecord: employmentModel,\n            applyOvertime: false,\n            BenefiteList:[],\n            componentType: [],\n            locationSelected: '',\n            segmentSelected: '',\n            segments:   '',\n            segment:    [],\n            natureRecordSelected: {id: \"new_employment\", name: \"New Employment\"},\n            natureContractSelected: {id: \"fixed_duration_contract\", name: \"Fixed Duration Contract\"},\n            currencySelected:   '',\n            workDaySelected:'',\n            positionSelected: '',\n            salaryTypeSelected: 'Monthly',\n            natureSalarySelected: {id: \"gross_amount\", name: \"Gross Amount\"},\n            startingTimeSelected: '',\n            employeeName: '',\n            currencyList: [],\n            salaryType:[\n                'Hourly',\n                'Monthly'\n            ],\n            salaryPer: 'per Month',\n            natureSalary:[\n                {id: \"gross_amount\", name: \"Gross Amount\"},\n                {id: \"net_amount\", name: \"Net Amount\"}\n            ],\n            natureContract:[\n                {id: \"fixed_duration_contract\", name: \"Fixed Duration Contract\"},\n                {id: \"undetermined_duration_contract\", name: \"Undetermined Duration Contract\"},\n                {id: \"contractd\", name: \"Contracted\"}\n            ],\n            natureRecord:[\n                {id: \"new_employment\", name: \"New Employment\"},\n                {id: \"promotion\", name: \"Promotion\"},\n                {id: \"salary_increase\", name: \"Salary Increase\"},\n                {id: \"resignatio\", name: \"Resigntion\"}\n            ],\n            workDay:[\n                {id: \"1\", name: \"Monday\"},\n                {id: \"2\", name: \"Tursday\"},\n                {id: \"3\", name: \"Wednesday\"},\n                {id: \"4\", name: \"Thursday\"},\n                {id: \"5\", name: \"Friday\"},\n                {id: \"6\", name: \"Saturday\"},\n                {id: \"7\", name: \"Sunday\"}\n            ],\n            startingTime:[\n                {id: 1, name: \"1:00\"},\n                {id: 2, name: \"2:00\"},\n                {id: 3, name: \"3:00\"},\n                {id: 4, name: \"4:00\"},\n                {id: 5, name: \"5:00\"},\n                {id: 6, name: \"6:00\"},\n                {id: 7, name: \"7:00\"},\n                {id: 8, name: \"8:00\"},\n                {id: 9, name: \"9:00\"},\n                {id: 10, name: \"10:00\"},\n                {id: 11, name: \"11:00\"},\n                {id: 12, name: \"12:00\"},\n                {id: 13, name: \"13:00\"},\n                {id: 14, name: \"14:00\"},\n                {id: 15, name: \"15:00\"},\n                {id: 16, name: \"16:00\"},\n                {id: 17, name: \"17:00\"},\n                {id: 18, name: \"18:00\"},\n                {id: 19, name: \"19:00\"},\n                {id: 20, name: \"20:00\"},\n                {id: 21, name: \"21:00\"},\n                {id: 22, name: \"22:00\"},\n                {id: 23, name: \"23:00\"},\n                {id: 24, name: \"24:00\"},\n            ],\n            schemaModelFields: {\n                segment: { editable: true },\n                amount: { type: 'number'},\n                percentage: { type: 'number', validation: { required: true, min: 0 , max: 100, defaultValue: 100}}\n            },\n            percentage: 0,\n            mAccSalary: {},\n            mSegments: {},\n            accSalaries: [],\n            segmentAR: [],\n            loggedUser: {\n                id: cookie.creator,\n                name: cookie.email\n            },\n            group: \"\",\n            groups: [],\n        }),\n        methods: {\n            addRow() {\n                let ds = this.$refs.dataSource.kendoWidget(),\n                    total = ds.total();\n                ds.insert(total, {\n                    segment: {\n                        name: \"-- Select --\"\n                    },\n                    component: {\n                        name: \"-- Select --\"\n                    },\n                    amount: 0\n                })\n            },\n            removeBenifit(e) {\n                e.preventDefault();\n                const grid = kendo.jQuery(\"#gridBenefit\").data(\"kendoGrid\"),\n                    dataSource = grid.dataSource,\n                    dataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n                if (dataSource.total() > 1) {\n                    dataSource.remove(dataItem);\n                }\n            },\n            addSegment(){\n                let dsSegment = this.$refs.dataSourceSegment.kendoWidget(),\n                totalS = dsSegment.total();\n                dsSegment.insert(totalS, {\n                    component: {\n                        name:       this.mSegments.name,\n                        id:         this.mSegments.id,\n                        code:       this.mSegments.code,\n                        subOf:      this.mSegments.subOf,\n                        createdAt:  this.mSegments.createdAt\n                    },\n                    salaryAccount: {\n                        name:           this.mAccSalary.name,\n                        id:             this.mAccSalary.id,\n                        account_type:   this.mAccSalary.account_type,\n                        banhjiAccCode:  this.mAccSalary.banhjiAccCode,\n                        group_code:     this.mAccSalary.group_code,\n                        is_taxable:     this.mAccSalary.is_taxable,\n                        local_name:     this.mAccSalary.local_name,\n                        number:         this.mAccSalary.number,\n                        parent_account: this.mAccSalary.parent_account,\n                        type_code:      this.mAccSalary.type_code,\n                        uuid:           this.mAccSalary.uuid\n                    },\n                    percentage: 100\n                })\n            },\n            removeSegment(e) {\n                e.preventDefault();\n                const grid = kendo.jQuery(\"#gridSegment\").data(\"kendoGrid\"),\n                    dataSource = grid.dataSource,\n                    dataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n                if (dataSource.total() > 1) {\n                    dataSource.remove(dataItem);\n                }\n            },\n            async loadSegment() {\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved')\n                        this.segments = []\n                        settingsHandler.getSeg().then(res => {\n                            this.showLoading = true\n                            if (res.data.statusCode === 200) {\n                                this.segments = res.data.data\n                                if (this.segments.length > 0) {\n                                    this.mSegments = this.segments[0]\n                                    this.addSegment()\n                                    this.showLoading = false\n                                }\n                            }\n                        })\n                    }, 300)\n                })\n            },\n            async loadCurrency() {\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved')\n                        currencyHandler.getAll().then(res => {\n                            this.currencyList = res.data.data\n                        })\n                    }, 300)\n                })\n            },\n            async loadPosition(){\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        payrollHandler.getPosition().then(res => {\n                            this.position = res\n                        })\n                    }, 300);\n                })\n            },\n            async loadLocation() {\n                 new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        locationHandler.list().then(res => {\n                            if(res.data.statusCode === 200){\n                                this.location = res.data.data\n                            }\n                        })\n                    }, 300);\n                })\n            },\n            async loadComponent() {\n                 new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        payrollHandler.getComponent().then(res => {\n                            this.componentType = res.data.data.filter(m => m.compoType.name === 'Benefits')\n                        })\n                    }, 300);\n                })\n            },\n            async loadAccount() {\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        accountHandler.getAll().then(res => {\n                            this.showLoading = false\n                            //Receivable Account\n                            if(res.data.length > 0){\n                                this.accSalaries = res.data.filter(\n                                    m => m.account_type.number === 12 ||\n                                    m.account_type.number === 33 ||\n                                    m.account_type.number === 34 ||\n                                    m.account_type.number === 35 ||\n                                    m.account_type.number === 36 ||\n                                    m.account_type.number === 37 ||\n                                    m.account_type.number === 38 ||\n                                    m.account_type.number === 39 ||\n                                    m.account_type.number === 40 ||\n                                    m.account_type.number === 41 ||\n                                    m.account_type.number === 42 ||\n                                    m.account_type.number === 43 ||      \n                                    m.account_type.number === 44).map(item => {\n                                    return {\n                                        id: item.uuid,\n                                        uuid: item.uuid,\n                                        name: item.name,\n                                        local_name: item.local_name,\n                                        number: item.number,\n                                        is_taxable: item.is_taxable,\n                                        banhjiAccCode: item.banhjiAccCode,\n                                        group_code: item.group_code,\n                                        parent_account: item.parent_account,\n                                        type_code: item.type_code,\n                                        account_type: item.account_type\n                                    }\n                                })\n                                if (this.accSalaries.length > 0) {\n                                    let accountDefault =  this.accSalaries.filter(n => n.name ==\"Salary\").map(item => {\n                                        return {\n                                            id: item.uuid,\n                                            uuid: item.uuid,\n                                            name: item.name,\n                                            local_name: item.local_name,\n                                            number: item.number,\n                                            is_taxable: item.is_taxable,\n                                            banhjiAccCode: item.banhjiAccCode,\n                                            group_code: item.group_code,\n                                            parent_account: item.parent_account,\n                                            type_code: item.type_code,\n                                            account_type: item.account_type\n                                        }\n                                    })\n                                    if(accountDefault.length > 0){\n                                        this.mAccSalary = accountDefault[0]\n                                    }else{\n                                        this.mAccSalary = this.accSalaries[0]\n                                    }\n                                }\n                            }\n                            this.loadSingleEmployee()\n                        })\n                    }, 300);\n                })\n            },\n            segmentBenefiteDropDownEditor(container, options){\n                kendo.jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: false,\n                    autoWidth: true,\n                    height: 400,\n                    dataTextField: \"name\",\n                    dataValueField: \"name\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.segments,\n                    })\n                })\n            },\n            benefitDropDownEditor(container, options) {\n                kendo.jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: false,\n                    autoWidth: true,\n                    height: 400,\n                    dataTextField: \"name\",\n                    dataValueField: \"name\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.componentType,\n                    })\n                })\n            },\n            segmentDropDownEditor(container, options){\n                kendo.jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: false,\n                    autoWidth: true,\n                    height: 400,\n                    dataTextField: \"name\",\n                    dataValueField: \"name\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.segments,\n                    })\n                })\n            },\n            accountDropDownEditor(container, options){\n                kendo.jQuery('<input required name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: false,\n                    autoWidth: true,\n                    height: 400,\n                    dataTextField: \"name\",\n                    dataValueField: \"name\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.accSalaries,\n                    })\n                })\n            },\n            async onSaveClose() {\n                if (!this.$refs.form.validate()) {\n                    this.$refs.form.validate()\n                    return\n                }\n                let baSalary    = this.employmentRecord.salary\n                let segmentDS = this.$refs.dataSourceSegment.kendoWidget()\n                let segment = segmentDS.data()\n                if(segment.length > 0 ){\n                    let segmentAR = []\n                    let segmentSalary = 0\n                    let totalPercentage = 0\n                    segment.map(index => {\n                        segmentSalary =  (baSalary * index.percentage)/ 100\n                        totalPercentage += parseFloat(index.percentage)\n                        segmentAR.push({\n                            salaryAccount:      index.salaryAccount,\n                            component:          index.component,\n                            percentage:         parseFloat(index.percentage),\n                            Salary:             segmentSalary\n                        })\n                    })\n                    if(totalPercentage > 100 || totalPercentage == 0){\n                        this.$snotify.error('Please Check Segment percentage again')\n                    }else{\n                        this.segmentAR = segmentAR\n                        let ds = this.$refs.dataSource.kendoWidget() \n                        let dataSource =ds.data();\n                        this.benefit = dataSource.map(index=>{\n                            return {\n                                component:  index.component,\n                                segment:    index.segment,\n                                amount:     index.amount\n                            }\n                        })\n                        new Promise(resolve => {\n                            setTimeout(() => {\n                                resolve('resolved');\n                                let data = new EmploymentRecord({\n                                    id:                         this.employmentRecord.id ? this.employmentRecord.id : '',\n                                    employee:                   {\n                                        id:                     this.employee.id,\n                                        employeeId:             this.employee.employeeId,\n                                        lastName:               this.employee.lastName,\n                                        firstName:              this.employee.firstName,\n                                        gender:                 this.employee.gender,\n                                        bank:                   {\n                                            id:                 this.employee.bank.id,\n                                            bankName:           this.employee.bank.bankName,\n                                            uuid:               this.employee.bank.uuid,\n                                        },\n                                        spouseGender:           this.employee.spouseGender,\n                                        natureEmployee:         this.employee.natureEmployee,\n                                        noOfChildren:           this.employee.noOfChildren,\n                                        bankAccount:            this.employee.bankAccount,\n                                        paymentMethod:          this.employee.paymentMethod,\n                                        spouseNatureEmployee:   this.employee.spouseNatureEmployee,\n                                        payrollLiabilitie:      {\n                                            uuid:               this.employee.payrollLiabilitie.uuid,\n                                            local_name:         this.employee.payrollLiabilitie.local_name,\n                                            type_code:          this.employee.payrollLiabilitie.type_code,\n                                            name:               this.employee.payrollLiabilitie.name,\n                                            number:             this.employee.payrollLiabilitie.number\n                                        },\n                                        salaryAcc:              {\n                                            uuid:               this.employee.payrollLiabilitie.uuid,\n                                            local_name:         this.employee.payrollLiabilitie.local_name,\n                                            type_code:          this.employee.payrollLiabilitie.type_code,\n                                            name:               this.employee.payrollLiabilitie.name,\n                                            number:             this.employee.payrollLiabilitie.number\n                                        }\n                                    },\n                                    date:             this.recordDate,\n                                    location:         this.locationSelected,\n                                    natureRecord:     this.natureRecordSelected,\n                                    natureContract:   this.natureContractSelected,\n                                    position:         this.positionSelected,\n                                    department:       this.positionSelected.department,\n                                    salaryType:       this.salaryTypeSelected,\n                                    natureSalary:     this.natureSalarySelected,\n                                    currency:         this.currencySelected,\n                                    salary:           this.employmentRecord.salary,\n                                    status:           1,\n                                    benefit:          this.benefit,\n                                    segment:          this.segmentAR,\n                                    workDay:          this.workDaySelected,\n                                    employmentId:     this.$route.params.id,\n                                    startingTime:     this.startingTimeSelected,\n                                    applyOvertime:    this.applyOvertime,\n                                    group:            this.group,\n                                    loggedUser:       this.loggedUser\n                                })\n                                window.console.log('data', data)\n                                employeeHandler.createEmployment(data).then(response => {\n                                    if (response.data.statusCode === 201) {\n                                        this.$snotify.success('Success')\n                                        let result = response.data.data\n                                        this.close(result.employee)\n                                    }\n                                }).catch(e => {\n                                    this.$snotify.error('Something went wrong')\n                                    this.errors.push(e)\n                                })\n                            }, 300);\n                        })\n                    }\n                }\n            },\n            cancel(){\n                this.clear()\n            },\n            isEdit(){},\n            async loadSingleEmployee() {\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        this.showLoading = true\n                        employeeHandler.get(this.$route.params.id).then(res => {\n                            this.showLoading = true                          \n                            if (res.data.statusCode === 200) {\n                                let result = res.data.data[0]\n                                window.console.log(1212121,result)\n                                if(result){\n                                    this.employee = result\n                                    this.employeeName = result.employeeId +'-'+result.firstName + ' ' + result.lastName\n                                    if(this.$route.query.type == 'edit'){\n                                        window.console.log(1,this.$route.query)\n                                        this.getEmployment()\n                                    }else{\n                                        window.console.log(2,this.$route.query)\n                                        this.loadSegment()\n                                        this.addRow()\n                                    }\n                                }\n                            }\n                        })\n                    }, 300);\n                })\n            },\n            async getEmployment(){\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        this.showLoading = true\n                        employeeHandler.getEmploymentByEmployee(this.$route.params.record_id).then(res => {\n                            this.showLoading = true\n                            if (res.data.statusCode === 200) {\n                                this.employmentSingle = res.data.data[0]\n                                if(this.employmentSingle){\n                                    this.natureRecordSelected   = this.employmentSingle.natureRecord\n                                    this.natureContractSelected = this.employmentSingle.natureContract\n                                    this.locationSelected       = this.employmentSingle.location\n                                    this.positionSelected       = this.employmentSingle.position\n                                    this.natureSalarySelected   = this.employmentSingle.natureSalary\n                                    this.salaryTypeSelected     = this.employmentSingle.salaryType\n                                    this.currencySelected       = this.employmentSingle.currency\n                                    this.employmentRecord       = this.employmentSingle\n                                    this.workDaySelected        = this.employmentSingle.workDay\n                                    this.startingTimeSelected   = this.employmentSingle.startingTime\n                                    this.applyOvertime          = this.employmentSingle.applyOvertime\n                                    this.recordDate             = this.employmentSingle.date\n                                    this.BenefiteList           = this.employmentSingle.benefit\n                                    this.segmentList            = this.employmentSingle.segment  \n                                    this.group                  = this.employmentSingle.group  \n                                }\n                                this.changeSalaryType()    \n                                this.showLoading            = false \n                            }             \n                        })\n                    }, 300);\n                })\n            },\n            // async loadEmploymentRecord(){\n            //     new Promise(resolve => {\n            //         setTimeout(() => {\n            //             resolve('resolved');\n            //             this.showLoading = true\n            //             employeeHandler.getEmploymentListByEmployee(this.$route.params.id).then(res => {\n            //                 this.showLoading = false\n            //                 this.employmentList = res\n            //                 if(this.employmentList){\n            //                     this.employmentOld = this.employmentList.filter(m => m.status === 1)\n            //                     this.employment_id = this.employmentOld[0].id\n            //                 }\n            //             })\n            //         }, 300);\n            //     })\n            // },\n            close(data){\n                this.clear()\n                if (this.$route.params.query !== undefined) {\n                    window.history.go(-1)\n                } else {\n                    this.$router.push({\n                        name: 'Payroll', params: {\n                            data: data\n                        }\n                    })\n                }\n            },\n            clear(){\n                this.natureRecordSelected   = {id: \"new_employment\", name: \"New Employment\"},\n                this.natureContractSelected = {id: \"fixed_duration_contract\", name: \"Fixed Duration Contract\"},\n                this.locationSelected       = {}\n                this.natureSalarySelected   = {id: \"gross_amount\", name: \"Gross Amount\"}\n                this.salaryTypeSelected     = 'Monthly'\n                this.employmentRecord       = {}\n                this.workDaySelected        = {}\n                this.startingTimeSelected   = {}\n                this.positionSelected       = {}\n                this.applyOvertime          = false\n                this.recordDate             = kendo.toString(new Date(), 'yyyy-MM-dd')\n                this.BenefiteList           = []\n                this.segmentList            = []\n                this.group                  = ''\n            },\n            changeSalaryType(){\n                if(this.salaryTypeSelected == 'Hourly'){\n                    this.salaryPer = 'per Hour'\n                }else{\n                    this.salaryPer = 'per Month'\n                }\n                window.console.log(1, this.salaryTypeSelected)\n            },\n            async loadGroup(){\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        this.showLoading = true\n                        payrollHandler.getGroup().then(res => {\n                            if(res.data.length > 0){\n                                this.groups = res.data\n                            }\n                            this.showLoading = false\n                        })\n                    }, 300);\n                })\n            },\n        },\n        mounted: async function () {\n            await this.loadPosition()\n            await this.loadLocation()\n            await this.loadComponent()\n            await this.loadCurrency()\n            await this.loadAccount()\n            await this.loadGroup()\n            // await this.loadSingleEmployee()\n        },\n        watch: {\n            '$route': 'loadAccount'\n        }\n    }\n\n</script>\n<style scoped>\n    .small_sidebar {\n        height: 97%;\n        position: relative;\n        padding: 12px;\n    }\n    .hide_small_bar_class {\n        max-width: 0;\n        transition: .5s ease-in;\n        flex: 0 0 0;\n        padding: 0;\n    }\n\n    .hide_big_bar_class {\n        max-width: 100%;\n        transition: .5s ease-in;\n        flex: 0 0 100%;\n    }\n    .iconArrow {\n        right: -35px;\n        position: absolute;\n        bottom: -10px;\n    }\n    .iconArrowHide {\n        position: absolute;\n        right: -7px;\n        bottom: -10px;\n    }\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper){\n        background-color: transparent !important;\n    }\n    .detial_smallside_p{\n        position: absolute;\n        bottom: 10px;\n    }   \n    .k-scrollbar .k-scrollbar-vertical .k-grid-header{\n        width: 0px!important;\n        padding-right: 16px!important;\n        \n    }\n</style>"]}]}