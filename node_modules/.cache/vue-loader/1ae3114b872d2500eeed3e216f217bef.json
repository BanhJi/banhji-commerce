{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/Product.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/Product.vue","mtime":1638499443267},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGkxOG4gfSBmcm9tICJAL2kxOG4iOwppbXBvcnQgUHJvZHVjdE1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9Qcm9kdWN0cyI7CmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwppbXBvcnQgVmFyaWFudE1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9WYXJpYW50cyI7Cgpjb25zdCAkID0ga2VuZG8ualF1ZXJ5OwoKY29uc3QgYWNjb3VudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaGFuZGxlci9hY2NvdW50aW5nL2FjY291bnQiKTsKY29uc3QgY2F0ZWdvcnlIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2NhdGVnb3J5SGFuZGxlciIpOwpjb25zdCBncm91cEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvZ3JvdXBIYW5kbGVyIik7CmNvbnN0IHN1Ykdyb3VwSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zdWJHcm91cEhhbmRsZXIiKTsKY29uc3QgdW9tSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy91b21IYW5kbGVyIik7CmNvbnN0IHdhcmVob3VzZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvd2FyZWhvdXNlSGFuZGxlciIpOwpjb25zdCBzZXR0aW5nSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zZXR0aW5nSGFuZGxlciIpOwpjb25zdCBwcm9kdWN0SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcm9kdWN0SGFuZGxlciIpOwpjb25zdCB2YXJpYW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy92YXJpYW50VHlwZUhhbmRsZXIiKTsKY29uc3QgcHJpY2VMZXZlbEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJpY2VMZXZlbEhhbmRsZXIiKTsKLy8gY29uc3QgYXR0cmlidXRlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9hdHRyaWJ1dGVIYW5kbGVyIikKY29uc3QgdmFyaWFudE1vZGVsID0gbmV3IFZhcmlhbnRNb2RlbCh7fSk7CgpsZXQgcHJvZHVjdE1vZGVsID0gbmV3IFByb2R1Y3RNb2RlbCh7fSk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRkUHJvZHVjdCIsCiAgcHJvcHM6IFsiaWQiXSwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nTWU6ICgpID0+IGltcG9ydChgQC9jb21wb25lbnRzL0xvYWRpbmdgKSwKICB9LAogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dMb2FkaW5nOiB0cnVlLAogICAgICBhY2NMb2FkaW5nOiBmYWxzZSwKICAgICAgdmFsaWQ6ICIiLAogICAgICBpbmNvbWVBY2M6ICIiLAogICAgICBtQWNjSW52ZW50b3J5OiAiIiwKICAgICAgbUNhdGVnb3J5OiAiIiwKICAgICAgbUdyb3VwOiAiIiwKICAgICAgbUZvcm1UZW1wbGF0ZTogIiIsCiAgICAgIGZvcm1UZW1wbGF0ZTogWwogICAgICAgIHsKICAgICAgICAgIGlkOiAiZnRwLWMzNWNiZTQ2LTFjNWUtMTFlYi1hZGMxLTAyNDJhYzEyMDAwMiIsCiAgICAgICAgICBuYW1lOiAiRm9ybSBBIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGlkOiAiZnRwLWMzNWNjMDYyLTFjNWUtMTFlYi1hZGMxLTAyNDJhYzEyMDAwMiIsCiAgICAgICAgICBuYW1lOiAiRm9ybSBCIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGlkOiAiZnRwLWMzNWNjMmVjLTFjNWUtMTFlYi1hZGMxLTAyNDJhYzEyMDAwMiIsCiAgICAgICAgICBuYW1lOiAiRm9ybSBDIiwKICAgICAgICB9LAogICAgICBdLAogICAgICBtQWNjQ29zdE9mR29vZFNvbGQ6ICIiLAogICAgICBhY2NSZXZlbnVlOiBbXSwKICAgICAgYWNjSW52ZW50b3J5OiBbXSwKICAgICAgYWNjQ29zdE9mR29vZFNvbGQ6IFtdLAogICAgICBjYXRlZ29yaWVzOiBbXSwKICAgICAgZ3JvdXBzOiBbXSwKICAgICAgZ3JvdXA6IFtdLAogICAgICBzdWJHcm91cDogW10sCiAgICAgIHVvbTogW10sCiAgICAgIHRheDogW10sCiAgICAgIHNwZWNpZmljVGF4OiBbXSwKICAgICAgdmF0OiBbXSwKICAgICAgbVN1Ykdyb3VwOiB7fSwKICAgICAgc3ViR3JvdXBzOiBbXSwKICAgICAgd2FyZUhvdXNlczogW10sCiAgICAgIG1VT006IHt9LAogICAgICBtV2FyZUhvdXNlOiB7fSwKICAgICAgbVNwZWNpZmljVGF4OiB7fSwKICAgICAgbU90aGVyVGF4OiB7fSwKICAgICAgb3RoZXJUYXg6IFtdLAogICAgICBtRGVmYXVsdFRheDoge30sCiAgICAgIHB1cmNoYXNlVGF4OiBbXSwKICAgICAgbVB1cmNoYXNlVGF4OiB7fSwKICAgICAgbVNlcmlhbE9yQmF0Y2g6IDAsCiAgICAgIHZhcmlhbnRUeXBlczogW10sCiAgICAgIHZhcmlhbnQ6IHZhcmlhbnRNb2RlbCwKICAgICAgdmFyTGlzdHM6IFtdLAogICAgICBwcm9kdWN0OiBwcm9kdWN0TW9kZWwsCiAgICAgIHByb2R1Y3RWYXJpYW50OiB7fSwKICAgICAgdmFyaWFudElkOiAiIiwKICAgICAgcHJpY2VMZXZlbDogW10sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgbG9hZFByaWNlTGV2ZWwoKSB7CiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgcHJpY2VMZXZlbEhhbmRsZXIuZ2V0KCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXMgfHwgW107CiAgICAgICAgICAgIHRoaXMucHJpY2VMZXZlbCA9IGRhdGEuZmlsdGVyKChuKSA9PiBuLnR5cGUubmFtZSA9PT0gIlN0YW5kYXJkIik7CiAgICAgICAgICAgIGlmICh0aGlzLnByaWNlTGV2ZWwubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIHRoaXMucHJvZHVjdC5wcmljZUxldmVsID0gdGhpcy5wcmljZUxldmVsWzBdOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9LCAxMCk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRDYXRlZ29yeUFjY291bnRBbmRUYXgoKSB7CiAgICAgIHRoaXMubU90aGVyVGF4ID0gdGhpcy5tQ2F0ZWdvcnkudGF4Lmhhc093blByb3BlcnR5KCJvdGhlclRheCIpCiAgICAgICAgPyB0aGlzLm1DYXRlZ29yeS50YXgub3RoZXJUYXgKICAgICAgICA6IHt9OwogICAgICB0aGlzLm1TcGVjaWZpY1RheCA9IHRoaXMubUNhdGVnb3J5LnRheC5oYXNPd25Qcm9wZXJ0eSgic3BlY2lmaWNUYXgiKQogICAgICAgID8gdGhpcy5tQ2F0ZWdvcnkudGF4LnNwZWNpZmljVGF4CiAgICAgICAgOiB7fTsKICAgICAgdGhpcy5tRGVmYXVsdFRheCA9IHRoaXMubUNhdGVnb3J5LnRheC5oYXNPd25Qcm9wZXJ0eSgiZGVmYXVsdFRheCIpCiAgICAgICAgPyB0aGlzLm1DYXRlZ29yeS50YXguZGVmYXVsdFRheAogICAgICAgIDoge307CiAgICAgIHRoaXMubVB1cmNoYXNlVGF4ID0gdGhpcy5tQ2F0ZWdvcnkudGF4Lmhhc093blByb3BlcnR5KCJwdXJjaGFzZVRheCIpCiAgICAgICAgPyB0aGlzLm1DYXRlZ29yeS50YXgucHVyY2hhc2VUYXgKICAgICAgICA6IHt9OwogICAgICB0aGlzLmluY29tZUFjYyA9IHRoaXMubUNhdGVnb3J5LmFjY291bnQuaGFzT3duUHJvcGVydHkoImluY29tZUFjYyIpCiAgICAgICAgPyB0aGlzLm1DYXRlZ29yeS5hY2NvdW50LmluY29tZUFjYwogICAgICAgIDoge307CiAgICAgIHRoaXMubUFjY0ludmVudG9yeSA9IHRoaXMubUNhdGVnb3J5LmFjY291bnQuaGFzT3duUHJvcGVydHkoImludmVudG9yeUFjYyIpCiAgICAgICAgPyB0aGlzLm1DYXRlZ29yeS5hY2NvdW50LmludmVudG9yeUFjYwogICAgICAgIDoge307CiAgICAgIHRoaXMubUFjY0Nvc3RPZkdvb2RTb2xkID0gdGhpcy5tQ2F0ZWdvcnkuYWNjb3VudC5oYXNPd25Qcm9wZXJ0eSgKICAgICAgICAiY29zdE9mR29vZHNTb2xkQWNjIgogICAgICApCiAgICAgICAgPyB0aGlzLm1DYXRlZ29yeS5hY2NvdW50LmNvc3RPZkdvb2RzU29sZEFjYwogICAgICAgIDoge307CiAgICB9LAogICAgYXN5bmMgaW5pdERhdGEoKSB7CiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygnbWUnLCB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGF3YWl0IHRoaXMubG9hZFNpbmdsZVByb2R1Y3QoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBsZXQgZHMgPSB0aGlzLiRyZWZzLmRhdGFTb3VyY2Uua2VuZG9XaWRnZXQoKTsKICAgICAgICBkcy5kYXRhKFtdKTsKICAgICAgICB0aGlzLmFkZFJvdygpOwogICAgICB9CiAgICB9LAogICAgYWRkUm93KCkgewogICAgICBsZXQgZHMgPSB0aGlzLiRyZWZzLmRhdGFTb3VyY2Uua2VuZG9XaWRnZXQoKSwKICAgICAgICB0b3RhbCA9IGRzLnRvdGFsKCk7CiAgICAgIGRzLmluc2VydCh0b3RhbCwgewogICAgICAgIHZhcmlhbnQ6IHRoaXMudmFyaWFudCwKICAgICAgfSk7CiAgICB9LAogICAgLy8gUm93IE51bWJlciBUZW1wbGF0ZQogICAgcm93TnVtYmVyVG1wbChkYXRhSXRlbSkgewogICAgICB2YXIgZHMgPSB0aGlzLiRyZWZzLmRhdGFTb3VyY2Uua2VuZG9XaWRnZXQoKSwKICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIC8vIEdyaWQgQ3VzdG9tIEVkaXRvcgogICAgYXR0cmlidXRlRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvCiAgICAgICAgLmpRdWVyeSgnPGlucHV0IHJlcXVpcmVkIG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpCiAgICAgICAgLmFwcGVuZFRvKGNvbnRhaW5lcikKICAgICAgICAua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgICAgYXV0b0JpbmQ6IGZhbHNlLAogICAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgICBmaWx0ZXI6ICJzdGFydHN3aXRoIiwKICAgICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPWNvZGUjIC0gIz1uYW1lIzwvc3Bhbj4iLAogICAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgICAgZGF0YTogdGhpcy52YXJpYW50VHlwZXMsCiAgICAgICAgICB9KSwKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyBSZW1vdmUgUm93CiAgICByZW1vdmVSb3coZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CgogICAgICB2YXIgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWQiKS5kYXRhKCJrZW5kb0dyaWQiKSwKICAgICAgICBkYXRhU291cmNlID0gZ3JpZC5kYXRhU291cmNlLAogICAgICAgIGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CgogICAgICBpZiAoZGF0YVNvdXJjZS50b3RhbCgpID4gMSkgewogICAgICAgIGRhdGFTb3VyY2UucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgfQogICAgfSwKICAgIG9uQ2hhbmdlKCkge30sCiAgICBhc3luYyBvbkVkaXRDbGljayh2YWx1ZSkgewogICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgIHRoaXMucHJvZHVjdCA9IHZhbHVlOwogICAgICAgIH0sIDEwKTsKICAgICAgfSk7CiAgICB9LAogICAgb25OZXdDbGljaygpIHsKICAgICAgdGhpcy5wcm9kdWN0LmlkID0gIiI7CiAgICAgIHRoaXMuY2xlYXIoKTsKICAgIH0sCiAgICBjbG9zZShkYXRhKSB7CiAgICAgIHdpbmRvdy5oaXN0b3J5LmdvKC0xKTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKGRhdGEsICItLWRhdGEiKTsKICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goewogICAgICAvLyAgIG5hbWU6ICdQcm9kdWN0cycsIHBhcmFtczogewogICAgICAvLyAgICAgZGF0YTogZGF0YQogICAgICAvLyAgIH0KICAgICAgLy8gfSkKICAgIH0sCiAgICBjbGVhcigpIHsKICAgICAgdGhpcy5wcm9kdWN0ID0ge307CiAgICB9LAogICAgYXN5bmMgb25TYXZlQ2xvc2UoKSB7CiAgICAgIGlmICghdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgbGV0IHZhcmlhbnRzID0gW107CiAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMuZGF0YVNvdXJjZS5rZW5kb1dpZGdldCgpOwogICAgICBsZXQgZGF0YVZhbGlkYXRlID0gMDsKICAgICAgZHMuZGF0YSgpLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4gewogICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyh2YWx1ZSkKICAgICAgICBpZiAoCiAgICAgICAgICB2YWx1ZS52YXJpYW50ID09IHVuZGVmaW5lZCB8fAogICAgICAgICAgdmFsdWUudmFyaWFudC5pZCA9PSB1bmRlZmluZWQgfHwKICAgICAgICAgIHZhbHVlLnZhcmlhbnQuaWQgPT0gbnVsbCB8fAogICAgICAgICAgdmFsdWUudmFyaWFudC5pZCA9PSAiIgogICAgICAgICkgewogICAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcigiUGxlYXNlIGNoZWNrIFZhcmlhbnRzIG9uIHJvdyAiICsgKGluZGV4ICsgMSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkYXRhVmFsaWRhdGUgKz0gMTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBsZXQgdmFyaWFudEFSID0gZHMuZGF0YSgpOwogICAgICBpZiAodmFyaWFudEFSLmxlbmd0aCA9PSBkYXRhVmFsaWRhdGUpIHsKICAgICAgICBjb25zdCB2YXJpYW50ID0gZHMuZGF0YSgpOwogICAgICAgIHZhcmlhbnQuZm9yRWFjaCgoaSkgPT4gewogICAgICAgICAgdmFyaWFudHMucHVzaCh7CiAgICAgICAgICAgIHZhcmlhbnQ6IGkudmFyaWFudCwKICAgICAgICAgICAgdWlkOiBpLnVpZCwKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgLy8gaWYgKHRoaXMucHJvZHVjdC5pZCA9PT0gJycgfHwgdGhpcy5wcm9kdWN0LmlkID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA/IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA6ICIiLAogICAgICAgICAgICAgIG5hbWU6IHRoaXMucHJvZHVjdC5uYW1lLAogICAgICAgICAgICAgIHNrdTogdGhpcy5wcm9kdWN0LnNrdSwKICAgICAgICAgICAgICBzYWxlRGVzY3JpcHRpb246IHRoaXMucHJvZHVjdC5zYWxlRGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgcHVyY2hhc2VEZXNjcmlwdGlvbjogdGhpcy5wcm9kdWN0LnB1cmNoYXNlRGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgcHJpY2U6IHRoaXMucHJvZHVjdC5wcmljZSwKICAgICAgICAgICAgICBjb3N0OiB0aGlzLnByb2R1Y3QuY29zdCwKICAgICAgICAgICAgICByZU9yZGVyUVRZOiB0aGlzLnByb2R1Y3QucmVPcmRlclFUWSwKICAgICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5tQ2F0ZWdvcnksCiAgICAgICAgICAgICAgcHJpY2VMZXZlbDogdGhpcy5wcm9kdWN0LnByaWNlTGV2ZWwsCiAgICAgICAgICAgICAgZ3JvdXA6IHRoaXMubUdyb3VwLAogICAgICAgICAgICAgIHN1Ykdyb3VwOiB0aGlzLm1TdWJHcm91cCwKICAgICAgICAgICAgICB1b206IHRoaXMubVVPTSwKICAgICAgICAgICAgICB3YXJlaG91c2U6IHRoaXMubVdhcmVIb3VzZSwKICAgICAgICAgICAgICBpbnZlbnRvcnlBY2M6IHRoaXMubUFjY0ludmVudG9yeSwKICAgICAgICAgICAgICBpbmNvbWVBY2M6IHRoaXMuaW5jb21lQWNjLAogICAgICAgICAgICAgIGNvc3RPZkdvb2RzU29sZEFjYzogdGhpcy5tQWNjQ29zdE9mR29vZFNvbGQsCiAgICAgICAgICAgICAgZGVmYXVsdFRheDogdGhpcy5tRGVmYXVsdFRheCwKICAgICAgICAgICAgICBwdXJjaGFzZVRheDogdGhpcy5tUHVyY2hhc2VUYXgsCiAgICAgICAgICAgICAgc3BlY2lmaWNUYXg6IHRoaXMubVNwZWNpZmljVGF4LAogICAgICAgICAgICAgIG90aGVyVGF4OiB0aGlzLm1PdGhlclRheCwKICAgICAgICAgICAgICBmb3JtVGVtcGxhdGU6IHRoaXMubUZvcm1UZW1wbGF0ZSwKICAgICAgICAgICAgICB2YXJpYW50OiB2YXJpYW50cywKICAgICAgICAgICAgICB2YXJpYW50SWQ6IHRoaXMudmFyaWFudElkLAogICAgICAgICAgICAgIGNhbkJlU29sZDogdGhpcy5wcm9kdWN0LmNhbkJlU29sZCwKICAgICAgICAgICAgICBjYW5CZVByb2R1Y2U6IHRoaXMucHJvZHVjdC5jYW5CZVByb2R1Y2UsCiAgICAgICAgICAgICAgY2FuQmVSZW50OiB0aGlzLnByb2R1Y3QuY2FuQmVSZW50LAogICAgICAgICAgICAgIGNhbkJlUHVyY2hhc2U6IHRoaXMucHJvZHVjdC5jYW5CZVB1cmNoYXNlLAogICAgICAgICAgICAgIGlzRmF2b3JpdGU6IHRoaXMucHJvZHVjdC5pc0Zhdm9yaXRlLAogICAgICAgICAgICAgIGJhdGNoT3JTZXJpYWw6IHRoaXMucHJvZHVjdC5iYXRjaE9yU2VyaWFsLAogICAgICAgICAgICAgIC8vIGJhdGNoVHJhY2tlZDogdGhpcy5tU2VyaWFsT3JCYXRjaCA9PSAxID8gdGhpcy5wcm9kdWN0LmJhdGNoVHJhY2tlZCA6IDAsCiAgICAgICAgICAgICAgLy8gaXNTZXJpYWxOdW1iZXI6IHRoaXMubVNlcmlhbE9yQmF0Y2ggPT0gMiA/IHRoaXMucHJvZHVjdC5pc1NlcmlhbE51bWJlciA6IDAsCiAgICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnByb2R1Y3Quc3RhdHVzIHx8IDEsCiAgICAgICAgICAgICAgZGVsZXRlZDogdGhpcy5wcm9kdWN0LmRlbGV0ZWQgfHwgMCwKICAgICAgICAgICAgICB0eXBlOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPyB0aGlzLiRyb3V0ZS5xdWVyeS50eXBlIDogIm5ldyIsCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHByb2R1Y3RIYW5kbGVyCiAgICAgICAgICAgICAgLmNyZWF0ZShkYXRhKQogICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICAgIC8vIHRoaXMubG9hZFNhbGVVQygpCiAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2xlYXIoKQogICAgICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5LnN1Y2Nlc3MoIlN1Y2Nlc3MiKTsKICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZShyZXNwb25zZS5kYXRhLmRhdGEpOwogICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcigiU29tZXRoaW5nIHdlbnQgd3JvbmciKTsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LCAxMCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBvbkNhdGVnb3J5Q2hhbmdlZCgpIHsKICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2codGhpcy5tQ2F0ZWdvcnkpCiAgICAgICAgICB0aGlzLm1Hcm91cCA9ICIiOwogICAgICAgICAgdGhpcy5tU3ViR3JvdXAgPSAiIjsKCiAgICAgICAgICB0aGlzLmdyb3VwID0gdGhpcy5ncm91cHMuZmlsdGVyKAogICAgICAgICAgICAobSkgPT4gbS5jYXRlZ29yeS5pZCA9PT0gdGhpcy5tQ2F0ZWdvcnkuaWQKICAgICAgICAgICk7CiAgICAgICAgICBpZiAodGhpcy5ncm91cC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHRoaXMubUdyb3VwID0gdGhpcy5ncm91cFswXTsKICAgICAgICAgICAgdGhpcy5zdWJHcm91cCA9IHRoaXMuc3ViR3JvdXBzLmZpbHRlcigKICAgICAgICAgICAgICAobSkgPT4gbS5ncm91cC5pZCA9PT0gdGhpcy5ncm91cFswXS5pZAogICAgICAgICAgICApOwogICAgICAgICAgICBpZiAodGhpcy5zdWJHcm91cC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgdGhpcy5tU3ViR3JvdXAgPSB0aGlzLnN1Ykdyb3VwWzBdOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmxvYWRDYXRlZ29yeUFjY291bnRBbmRUYXgoKTsKICAgICAgICB9LCAxMCk7CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGxvYWRBY2NvdW50KCkgewogICAgICB0aGlzLmFjY0xvYWRpbmcgPSB0cnVlOwogICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgIGFjY291bnRIYW5kbGVyLmdldEFsbCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuYWNjUmV2ZW51ZSA9IHJlcy5kYXRhCiAgICAgICAgICAgICAgLmZpbHRlcigobSkgPT4gbS5hY2NvdW50X3R5cGUubnVtYmVyID09PSAzMikKICAgICAgICAgICAgICAubWFwKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICBpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICB1dWlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgbG9jYWxfbmFtZTogaXRlbS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICBudW1iZXI6IGl0ZW0ubnVtYmVyLAogICAgICAgICAgICAgICAgICBpc190YXhhYmxlOiBpdGVtLmlzX3RheGFibGUsCiAgICAgICAgICAgICAgICAgIGJhbmhqaUFjY0NvZGU6IGl0ZW0uYmFuaGppQWNjQ29kZSwKICAgICAgICAgICAgICAgICAgZ3JvdXBfY29kZTogaXRlbS5ncm91cF9jb2RlLAogICAgICAgICAgICAgICAgICBwYXJlbnRfYWNjb3VudDogaXRlbS5wYXJlbnRfYWNjb3VudCwKICAgICAgICAgICAgICAgICAgdHlwZV9jb2RlOiBpdGVtLnR5cGVfY29kZSwKICAgICAgICAgICAgICAgICAgYWNjb3VudF90eXBlOiBpdGVtLmFjY291bnRfdHlwZSwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmICh0aGlzLmFjY1JldmVudWUubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIHRoaXMuaW5jb21lQWNjID0gdGhpcy5hY2NSZXZlbnVlWzBdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuYWNjSW52ZW50b3J5ID0gcmVzLmRhdGEKICAgICAgICAgICAgICAuZmlsdGVyKChtKSA9PiBtLmFjY291bnRfdHlwZS5udW1iZXIgPT09IDgpCiAgICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgdXVpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6IGl0ZW0ubG9jYWxfbmFtZSwKICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpdGVtLm51bWJlciwKICAgICAgICAgICAgICAgICAgaXNfdGF4YWJsZTogaXRlbS5pc190YXhhYmxlLAogICAgICAgICAgICAgICAgICBiYW5oamlBY2NDb2RlOiBpdGVtLmJhbmhqaUFjY0NvZGUsCiAgICAgICAgICAgICAgICAgIGdyb3VwX2NvZGU6IGl0ZW0uZ3JvdXBfY29kZSwKICAgICAgICAgICAgICAgICAgcGFyZW50X2FjY291bnQ6IGl0ZW0ucGFyZW50X2FjY291bnQsCiAgICAgICAgICAgICAgICAgIHR5cGVfY29kZTogaXRlbS50eXBlX2NvZGUsCiAgICAgICAgICAgICAgICAgIGFjY291bnRfdHlwZTogaXRlbS5hY2NvdW50X3R5cGUsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAodGhpcy5hY2NJbnZlbnRvcnkubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIHRoaXMubUFjY0ludmVudG9yeSA9IHRoaXMuYWNjSW52ZW50b3J5WzBdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuYWNjQ29zdE9mR29vZFNvbGQgPSByZXMuZGF0YQogICAgICAgICAgICAgIC5maWx0ZXIoKG0pID0+IG0uYWNjb3VudF90eXBlLm51bWJlciA9PT0gMzMpCiAgICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgdXVpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6IGl0ZW0ubG9jYWxfbmFtZSwKICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpdGVtLm51bWJlciwKICAgICAgICAgICAgICAgICAgaXNfdGF4YWJsZTogaXRlbS5pc190YXhhYmxlLAogICAgICAgICAgICAgICAgICBiYW5oamlBY2NDb2RlOiBpdGVtLmJhbmhqaUFjY0NvZGUsCiAgICAgICAgICAgICAgICAgIGdyb3VwX2NvZGU6IGl0ZW0uZ3JvdXBfY29kZSwKICAgICAgICAgICAgICAgICAgcGFyZW50X2FjY291bnQ6IGl0ZW0ucGFyZW50X2FjY291bnQsCiAgICAgICAgICAgICAgICAgIHR5cGVfY29kZTogaXRlbS50eXBlX2NvZGUsCiAgICAgICAgICAgICAgICAgIGFjY291bnRfdHlwZTogaXRlbS5hY2NvdW50X3R5cGUsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAodGhpcy5hY2NDb3N0T2ZHb29kU29sZC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgdGhpcy5tQWNjQ29zdE9mR29vZFNvbGQgPSB0aGlzLmFjY0Nvc3RPZkdvb2RTb2xkWzBdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuYWNjTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgfSk7CiAgICAgICAgfSwgMTApOwogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBsb2FkQ2F0ZWdvcnkoKSB7CiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgY2F0ZWdvcnlIYW5kbGVyLmdldCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcmllcyA9IHJlczsKICAgICAgICAgICAgdGhpcy5jYXRlZ29yaWVzID0gdGhpcy5jYXRlZ29yaWVzLmZpbHRlcigKICAgICAgICAgICAgICAobSkgPT4gbS5oYXNPd25Qcm9wZXJ0eSgidHlwZSIpICYmIG0udHlwZS5uYW1lID09PSAiUHJvZHVjdCIKICAgICAgICAgICAgKTsKICAgICAgICAgICAgLy8gaWYgKHRoaXMuY2F0ZWdvcmllcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIC8vICAgdGhpcy5tQ2F0ZWdvcnkgPSB0aGlzLmNhdGVnb3JpZXNbMF0KICAgICAgICAgICAgLy8gICB0aGlzLm9uQ2F0ZWdvcnlDaGFuZ2VkKCkKICAgICAgICAgICAgLy8gfQogICAgICAgICAgfSk7CiAgICAgICAgfSwgMTApOwogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBsb2FkR3JvdXAoKSB7CiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgZ3JvdXBIYW5kbGVyLmdldCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuZ3JvdXBzID0gcmVzOwogICAgICAgICAgfSk7CiAgICAgICAgfSwgMTApOwogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBsb2FkU3ViR3JvdXAoKSB7CiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgc3ViR3JvdXBIYW5kbGVyLmdldCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuc3ViR3JvdXBzID0gcmVzOwogICAgICAgICAgfSk7CiAgICAgICAgfSwgMTApOwogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBza3VHZW5lcmF0b3IoKSB7CiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLm1DYXRlZ29yeSB8fCB7fTsKICAgICAgICAgIGNvbnN0IGdyb3VwID0gdGhpcy5tR3JvdXAgfHwge307CiAgICAgICAgICBjb25zdCBzR3JvdXAgPSB0aGlzLm1TdWJHcm91cCB8fCB7fTsKICAgICAgICAgIGxldCBjYXRlQWJiciA9ICIiLAogICAgICAgICAgICBncm91cEFiYnIgPSAiIiwKICAgICAgICAgICAgc0dyb3VwQWJiciA9ICIiLAogICAgICAgICAgICBza3VDb2RlID0gIiI7CiAgICAgICAgICBpZiAoY2F0ZWdvcnkuaWQpIHsKICAgICAgICAgICAgY2F0ZUFiYnIgPSBjYXRlZ29yeS5hYmJyIHx8ICIiOwogICAgICAgICAgICBza3VDb2RlICs9IHNrdUNvZGUgKyBjYXRlQWJiciArICIvIjsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChncm91cC5pZCkgewogICAgICAgICAgICBncm91cEFiYnIgPSBncm91cC5hYmJyIHx8ICIiOwogICAgICAgICAgICBza3VDb2RlICs9IHNrdUNvZGUgKyBncm91cEFiYnIgKyAiLyI7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoc0dyb3VwLmlkKSB7CiAgICAgICAgICAgIHNHcm91cEFiYnIgPSBzR3JvdXAuYWJiciB8fCAiIjsKICAgICAgICAgICAgc2t1Q29kZSArPSBza3VDb2RlICsgc0dyb3VwQWJiciArICIvIjsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLnByb2R1Y3QubmFtZSkgewogICAgICAgICAgICB0aGlzLnByb2R1Y3Quc2t1ID0KICAgICAgICAgICAgICBza3VDb2RlICsgdGhpcy5wcm9kdWN0Lm5hbWUudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgMyk7CiAgICAgICAgICB9CiAgICAgICAgfSwgMTApOwogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBsb2FkVU9NKCkgewogICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgIHVvbUhhbmRsZXIuZ2V0KCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy51b20gPSByZXM7CiAgICAgICAgICAgIGlmICh0aGlzLnVvbS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgdGhpcy5tVU9NID0gdGhpcy51b21bMF07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0sIDEwKTsKICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgbG9hZFdhcmVIb3VzZXMoKSB7CiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgd2FyZWhvdXNlSGFuZGxlci5nZXRXYXJlaG91c2VTZXR0aW5nQWxsKCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy53YXJlSG91c2VzID0gcmVzOwogICAgICAgICAgICBpZiAodGhpcy53YXJlSG91c2VzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICB0aGlzLm1XYXJlSG91c2UgPSB0aGlzLndhcmVIb3VzZXNbMF07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0sIDEwKTsKICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgbG9hZFZhcmlhbnRzKCkgewogICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgIHZhcmlhbnRIYW5kbGVyLmdldCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMudmFyaWFudFR5cGVzID0gcmVzOwogICAgICAgICAgICBpZiAodGhpcy52YXJpYW50VHlwZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIHRoaXMuaW5pdERhdGEoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSwgMTApOwogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBsb2FkVGF4KCkgewogICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgIHNldHRpbmdIYW5kbGVyLmdldCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMudGF4ID0gcmVzOwogICAgICAgICAgICBsZXQgc3QgPSB0aGlzLnRheC5maWx0ZXIoKG0pID0+IG0udGF4VHlwZS50eXBlSWQgPT09IDgpOyAvLyB2YWx1YWJsZSB0YXgKICAgICAgICAgICAgdGhpcy5zcGVjaWZpY1RheCA9IHN0OyAvLyBzcGVjaWFsIHRheAoKICAgICAgICAgICAgbGV0IHZBVCA9IHRoaXMudGF4LmZpbHRlcigKICAgICAgICAgICAgICAobSkgPT4gbS50YXhUeXBlLnR5cGVJZCA9PT0gMSAmJiBtLnRyYW5zYWN0aW9uVHlwZSA9PT0gIlNhbGUiCiAgICAgICAgICAgICk7IC8vIHZhbHVhYmxlIHRheAogICAgICAgICAgICB0aGlzLnZhdCA9IHZBVDsgLy8gdmFsdWFibGUgdGF4CgogICAgICAgICAgICBsZXQgb3RUYXggPSB0aGlzLnRheC5maWx0ZXIoKG0pID0+IG0udGF4VHlwZS50eXBlSWQgPT09IDcpOyAvLyB2YWx1YWJsZSB0YXgKICAgICAgICAgICAgdGhpcy5vdGhlclRheCA9IG90VGF4OyAvLyB2YWx1YWJsZSB0YXgKCiAgICAgICAgICAgIHRoaXMucHVyY2hhc2VUYXggPSB0aGlzLnRheC5maWx0ZXIoCiAgICAgICAgICAgICAgKG0pID0+IG0udGF4VHlwZS50eXBlSWQgPT09IDEgJiYgbS50cmFuc2FjdGlvblR5cGUgPT09ICJQdXJjaGFzZSIKICAgICAgICAgICAgKTsgLy8gdmFsdWFibGUgdGF4CiAgICAgICAgICAgIGlmICh0aGlzLnNwZWNpZmljVGF4Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICB0aGlzLm1TcGVjaWZpY1RheCA9IHRoaXMuc3BlY2lmaWNUYXhbMF07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMudmF0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICB0aGlzLm1EZWZhdWx0VGF4ID0gdGhpcy52YXRbMF07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMub3RoZXJUYXgubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIHRoaXMubU90aGVyVGF4ID0gdGhpcy5vdGhlclRheFswXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5wdXJjaGFzZVRheC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgdGhpcy5tUHVyY2hhc2VUYXggPSB0aGlzLnB1cmNoYXNlVGF4WzBdOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9LCAxMCk7CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGxvYWRTaW5nbGVQcm9kdWN0KCkgewogICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgcHJvZHVjdEhhbmRsZXIuZ2V0T25lKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5wcm9kdWN0ID0gcmVzOwogICAgICAgICAgICBpZiAodGhpcy5wcm9kdWN0LmlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICB0aGlzLm1DYXRlZ29yeSA9IHRoaXMucHJvZHVjdC5jYXRlZ29yeTsKICAgICAgICAgICAgICB0aGlzLm1Hcm91cCA9IHRoaXMucHJvZHVjdC5ncm91cDsKICAgICAgICAgICAgICB0aGlzLm1TdWJHcm91cCA9IHRoaXMucHJvZHVjdC5zdWJHcm91cDsKICAgICAgICAgICAgICB0aGlzLm1VT00gPSB0aGlzLnByb2R1Y3QudW9tOwogICAgICAgICAgICAgIHRoaXMubUFjY0Nvc3RPZkdvb2RTb2xkID0gdGhpcy5wcm9kdWN0LmNvc3RPZkdvb2RzU29sZEFjYzsKICAgICAgICAgICAgICB0aGlzLm1BY2NJbnZlbnRvcnkgPSB0aGlzLnByb2R1Y3QuaW52ZW50b3J5QWNjOwogICAgICAgICAgICAgIHRoaXMuaW5jb21lQWNjID0gdGhpcy5wcm9kdWN0LmluY29tZUFjYzsKICAgICAgICAgICAgICB0aGlzLm1TcGVjaWZpY1RheCA9IHRoaXMucHJvZHVjdC5zcGVjaWZpY1RheDsKICAgICAgICAgICAgICB0aGlzLm1TZXJpYWxPckJhdGNoID0KICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdC5pc1NlcmlhbE51bWJlciA+IDAKICAgICAgICAgICAgICAgICAgPyB0aGlzLnByb2R1Y3QuaXNTZXJpYWxOdW1iZXIKICAgICAgICAgICAgICAgICAgOiB0aGlzLnByb2R1Y3QuYmF0Y2hUcmFja2VkOwogICAgICAgICAgICAgIHRoaXMubU90aGVyVGF4ID0gdGhpcy5wcm9kdWN0Lm90aGVyVGF4OwogICAgICAgICAgICAgIHRoaXMubURlZmF1bHRUYXggPSB0aGlzLnByb2R1Y3QuZGVmYXVsdFRheDsKICAgICAgICAgICAgICB0aGlzLm1QdXJjaGFzZVRheCA9IHRoaXMucHJvZHVjdC5wdXJjaGFzZVRheDsKICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RWYXJpYW50ID0gdGhpcy5wcm9kdWN0LnZhcmlhbnQ7CiAgICAgICAgICAgICAgdGhpcy5tV2FyZUhvdXNlID0gdGhpcy5wcm9kdWN0LndhcmVob3VzZTsKICAgICAgICAgICAgICB0aGlzLnZhckxpc3RzID0gW107CiAgICAgICAgICAgICAgdGhpcy52YXJpYW50SWQgPSB0aGlzLnByb2R1Y3QudmFyaWFudC5pZDsKICAgICAgICAgICAgICB0aGlzLnByb2R1Y3QudmFyaWFudC52YXJpYW50LmZvckVhY2goKG0pID0+IHsKICAgICAgICAgICAgICAgIHRoaXMudmFyTGlzdHMucHVzaCh7CiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiBtLnZhcmlhbnQubmFtZSwKICAgICAgICAgICAgICAgICAgICBpZDogbS52YXJpYW50LmlkLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IG0udmFyaWFudC5jb2RlLAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0sIDEwKTsKICAgICAgfSk7CiAgICB9LAogICAgY2FuY2VsKCkgewogICAgICB0aGlzLiRzd2FsKHsKICAgICAgICB0aXRsZTogaTE4bi50KCJtc2dfdGl0bGVfd2FybmluZyIpLAogICAgICAgIHRleHQ6IGkxOG4udCgibXNnX2Rpc2NhcmQiKSwKICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBpMThuLnQoImNhbmNlbCIpLAogICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiM0ZDQ4NDgiLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI0VEMUEzQSIsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IGkxOG4udCgiZGlzY2FyZCIpLAogICAgICB9KS50aGVuKChyZXN1bHRDZW4pID0+IHsKICAgICAgICBpZiAocmVzdWx0Q2VuLnZhbHVlKSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogIH0sCiAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgYXdhaXQgdGhpcy5sb2FkVU9NKCk7CiAgICBhd2FpdCB0aGlzLmxvYWRXYXJlSG91c2VzKCk7CiAgICBhd2FpdCB0aGlzLmxvYWRUYXgoKTsKICAgIGF3YWl0IHRoaXMubG9hZFZhcmlhbnRzKCk7CiAgICBhd2FpdCB0aGlzLmxvYWRQcmljZUxldmVsKCk7CiAgfSwKICBjb21wdXRlZDoge30sCiAgY3JlYXRlZDogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgYXdhaXQgdGhpcy5sb2FkQWNjb3VudCgpOwogICAgYXdhaXQgdGhpcy5sb2FkQ2F0ZWdvcnkoKTsKICAgIGF3YWl0IHRoaXMubG9hZEdyb3VwKCk7CiAgICBhd2FpdCB0aGlzLmxvYWRTdWJHcm91cCgpOwogIH0sCiAgd2F0Y2g6IHsKICAgIGlkKCkgewogICAgICAvLyB0aGlzLnByb2R1Y3QgPSB0aGlzLnNlbGVjdGVkUHJvZHVjdAogICAgICB3aW5kb3cuY29uc29sZS5sb2codGhpcy5pZCwgIndhdGNoIik7CiAgICAgIGlmICh0aGlzLmlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmxvYWRTaW5nbGVQcm9kdWN0KCk7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Product.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4gBA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Product.vue","sourceRoot":"src/views/products","sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <v-row>\n        <v-col cols=\"12\" sm=\"12\">\n          <v-card\n            outlined\n            dense\n            class=\"pa-4 no_border rounded-sm\"\n            color=\"white\"\n          >\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n              <v-card outlined dense class=\"no_border\">\n                <h2 class=\"mb-0\">{{ $t(\"product\") }}</h2>\n                <v-icon\n                  @click=\"cancel()\"\n                  style=\"cursor: pointer; color: #333; font-size: 40px\"\n                  class=\"float-right\"\n                  >close\n                </v-icon>\n              </v-card>\n              <v-card outlined dense class=\"px-4 no_border\" color=\"grayBg\">\n                <v-row>\n                  <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                    <label class=\"label mb-0\">{{\n                      $t(\"product_category\")\n                    }}</label>\n                    <v-select\n                      class=\"mt-1\"\n                      :placeholder=\"$t('category')\"\n                      outlined\n                      tage=\"Product Category\"\n                      v-model=\"mCategory\"\n                      :items=\"categories\"\n                      item-value=\"id\"\n                      :item-text=\"(item) => `${item.abbr} - ${item.name}`\"\n                      @change=\"onCategoryChanged\"\n                      return-object\n                      :rules=\"[(v) => !!v['id'] || 'is required']\"\n                      required\n                    />\n                    <label class=\"label mb-0\">{{ $t(\"product_group\") }}</label>\n                    <v-select\n                      class=\"mt-1\"\n                      :placeholder=\"$t('select_group')\"\n                      outlined\n                      tage=\"Product Group\"\n                      v-model=\"mGroup\"\n                      :items=\"group\"\n                      item-value=\"id\"\n                      :item-text=\"(item) => `${item.abbr} - ${item.name}`\"\n                      return-object\n                      clearable\n                      required\n                    />\n                  \n                  </v-col>\n                  <v-col sm=\"4\" cols=\"12\" class=\"pl-0\">\n                    <label class=\"label mb-0\">{{ $t(\"sub_group\") }}</label>\n                    <v-select\n                      class=\"mt-1\"\n                      :placeholder=\"$t('select_sub_group')\"\n                      outlined\n                      tage=\"Sub Group\"\n                      v-model=\"mSubGroup\"\n                      :items=\"subGroup\"\n                      item-value=\"id\"\n                      :item-text=\"(item) => `${item.abbr} - ${item.name}`\"\n                      clearable\n                      required\n                    />\n                    <label class=\"label mb-0\">{{ $t(\"product_name\") }}</label>\n                    <v-text-field\n                      class=\"mt-1\"\n                      :placeholder=\"$t('name')\"\n                      outlined\n                      v-model=\"product.name\"\n                      :rules=\"[(v) => !!v || 'is required']\"\n                      required\n                    />\n                  </v-col>\n                  <v-col sm=\"4\" cols=\"12\" class=\"my_checkbox\">\n                    <label class=\"label mb-0 mt-1 mx-1\">{{ $t(\"sku\") }}</label>\n                    <div class=\"d-flex\">\n                      <v-text-field\n                        class=\"mt-1 flex-1\"\n                        v-model=\"product.sku\"\n                        outlined\n                        :rules=\"[(v) => !!v || 'is required']\"\n                        required\n                      />\n                      <v-icon\n                        color=\"black\"\n                        size=\"30\"\n                        class=\"border_qrcode ml-2 mt-1\"\n                        >mdi-qrcode\n                      </v-icon>\n                    </div>\n                    <h2 class=\"font_12 mt-0\">{{ $t(\"how_this_product\") }}</h2>\n                    <v-row>\n                      <v-col sm=\"12\" cols=\"12\" class=\"my_radio pl-0 d-flex py-0\">\n                        <div>\n                          <input\n                            id=\"radio1\"\n                            name=\"radio\"\n                            type=\"radio\"\n                            value=\"1\"\n                            v-model=\"product.batchOrSerial\"\n                          />\n                          <label for=\"radio1\">{{ $t(\"batch_tracked\") }}</label>\n                        </div>\n                        <div>\n                          <input\n                            id=\"radio2\"\n                            name=\"radio\"\n                            type=\"radio\"\n                            value=\"2\"\n                            v-model=\"product.batchOrSerial\"\n                          />\n                          <label for=\"radio2\">{{ $t(\"serial_number\") }}</label>\n\n                        </div>\n                      </v-col>\n                    </v-row>\n                  </v-col>\n                </v-row>\n              </v-card>\n              <h2 class=\"font_18 mb-0 mt-2\">\n                {{ $t(\"transaction_description\") }}\n              </h2>\n              <v-card outlined dense class=\"px-4 mb-4 rounded-0\" height=\"188px\">\n                <v-row>\n                  <v-col sm=\"6\" cols=\"12\">\n                    <h2 class=\"font_16 mb-0\">\n                      {{ $t(\"purchased_description\") }}\n                    </h2>\n                    <p class=\"grayBg---text mb-2\">\n                      {{ $t(\"purchase_description_detail\") }}\n                    </p>\n                    <v-textarea\n                      v-model=\"product.saleDescription\"\n                      outlined\n                      no-resize\n                      height=\"100px\"\n                      rows=\"3\"\n                    />\n                  </v-col>\n                  <v-col sm=\"6\" cols=\"12\">\n                    <h2 class=\"font_16 mb-0\">{{ $t(\"sale_description\") }}</h2>\n                    <p class=\"grayBg---text mb-2\">\n                      {{ $t(\"sale_description_detail\") }}\n                    </p>\n                    <v-textarea\n                      v-model=\"product.purchaseDescription\"\n                      outlined\n                      no-resize\n                      height=\"100px\"\n                      rows=\"3\"\n                    />\n                  </v-col>\n                </v-row>\n              </v-card>\n              <h2 class=\"font_18 mb-0 mt-0\">\n                {{ $t(\"product_info\") }}\n              </h2>\n              <v-card outlined dense class=\"px-4 rounded-0\">\n                <v-row>\n                  <v-col cols=\"12\">\n                    <p class=\"grayBg---text mb-0\">\n                      {{ $t(\"def_info_product\") }}\n                    </p>\n                  </v-col>\n                  <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                    <v-row>\n                      <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                        <label>{{ $t(\"uom\") }}</label>\n                      </v-col>\n                      <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                        <v-select\n                          :placeholder=\"$t('uom')\"\n                          outlined\n                          tage=\"UOM\"\n                          :rules=\"[(v) => !!v || 'Number is required']\"\n                          v-model=\"mUOM\"\n                          :items=\"uom\"\n                          item-value=\"id\"\n                          :item-text=\"(item) => `${item.name}`\"\n                          return-object\n                          required\n                        />\n                      </v-col>\n                    </v-row>\n                    <v-row>\n                      <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                        <label>{{ $t(\"price_level\") }}</label>\n                      </v-col>\n                      <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                        <v-select\n                          :placeholder=\"$t('price_level')\"\n                          outlined\n                          tage=\"price level\"\n                          :rules=\"[(v) => !!v || 'Number is required']\"\n                          v-model=\"product.priceLevel\"\n                          :items=\"priceLevel\"\n                          item-value=\"id\"\n                          item-text=\"name\"\n                          return-object\n                          required\n                        />\n                      </v-col>\n                    </v-row>\n                  </v-col>\n                  <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                    <v-row>\n                      <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                        <label>{{ $t(\"selling_price\") }}</label>\n                      </v-col>\n                      <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                        <v-text-field\n                          outlined\n                          :rules=\"[(v) => !!v || 'Number is required']\"\n                          type=\"number\"\n                          v-model=\"product.price\"\n                          required\n                        />\n                      </v-col>\n                    </v-row>\n                    <v-row>\n                      <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                        <label>{{ $t(\"warehouse\") }}</label>\n                      </v-col>\n                      <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                        <v-select\n                          :placeholder=\"$t('default_warehouse')\"\n                          outlined\n                          tage=\"Default Warehouse\"\n                          v-model=\"mWareHouse\"\n                          :items=\"wareHouses\"\n                          item-value=\"id\"\n                          :item-text=\"(item) => `${item.name}`\"\n                          return-object\n                          clearable\n                          required\n                        />\n                      </v-col>\n                    </v-row>\n                    <!-- <v-row>\n                                          <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                            <label>{{ $t('initial_cost_per_unit') }}</label>\n                                          </v-col>\n                                          <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                                            <v-text-field outlined\n                                                          :rules=\"[v => !!v || 'Number is required']\"\n                                                          v-model=\"product.cost\"\n                                                          type=\"number\"\n                                                          required/>\n                                          </v-col>\n                                        </v-row> -->\n                  </v-col>\n                  <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                    <v-row>\n                      <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                        <label>{{ $t(\"recorder_qty\") }}</label>\n                      </v-col>\n                      <v-col sm=\"8\" cols=\"12\" class=\"pl-0 py-0\">\n                        <v-text-field\n                          outlined\n                          v-model=\"product.reOrderQTY\"\n                          type=\"number\"\n                        />\n                      </v-col>\n                    </v-row>\n                  </v-col>\n                </v-row>\n              </v-card>\n              <v-card outlined dense class=\"no_border my-1\">\n                <v-row>\n                  <v-col sm=\"7\" cols=\"12\">\n                    <v-card\n                      outlined\n                      dense\n                      class=\"px-4 rounded-0\"\n                      height=\"428px\"\n                    >\n                      <v-row>\n                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                          <h2 class=\"font_18 mb-0\">{{ $t(\"account_tax\") }}</h2>\n                          <p class=\"mb-0 mb-1 color_grey\">\n                            {{ $t(\"account_tax_prod_desc\") }}\n                          </p>\n                        </v-col>\n                        <v-col sm=\"6\" cols=\"12\">\n                          <label class=\"label\">{{ $t(\"inventory\") }}</label>\n                          <v-select\n                            class=\"mt-1\"\n                            :placeholder=\"$t('select_inventory')\"\n                            tage=\"Inventory\"\n                            :loading=\"accLoading\"\n                            v-model=\"mAccInventory\"\n                            :items=\"accInventory\"\n                            item-value=\"id\"\n                            :item-text=\"\n                              (item) => `${item.number} - ${item.name}`\n                            \"\n                            :rules=\"[(v) => !!v['id'] || 'Number is required']\"\n                            return-object\n                            outlined\n                          />\n                          <label class=\"label\">{{\n                            $t(\"cost_of_goods_sold\")\n                          }}</label>\n                          <v-select\n                            class=\"mt-1\"\n                            :placeholder=\"$t('select_goods')\"\n                            tage=\"Cost of Goods Sold\"\n                            v-model=\"mAccCostOfGoodSold\"\n                            :loading=\"accLoading\"\n                            :items=\"accCostOfGoodSold\"\n                            item-value=\"id\"\n                            :item-text=\"\n                              (item) => `${item.number} - ${item.name}`\n                            \"\n                            :rules=\"[(v) => !!v['id'] || 'Number is required']\"\n                            return-object\n                            outlined\n                          />\n                          <label class=\"label\">{{ $t(\"revenue\") }}</label>\n                          <v-select\n                            class=\"mt-1\"\n                            :placeholder=\"$t('revenue')\"\n                            tage=\"Revenue\"\n                            v-model=\"incomeAcc\"\n                            :loading=\"accLoading\"\n                            :items=\"accRevenue\"\n                            item-value=\"id\"\n                            :item-text=\"\n                              (item) => `${item.number} - ${item.name}`\n                            \"\n                            :rules=\"[(v) => !!v['id'] || 'Number is required']\"\n                            return-object\n                            outlined\n                          />\n                          <label class=\"label\">{{ $t(\"default_tax\") }}</label>\n                          <v-select\n                            class=\"mt-1\"\n                            tage=\"Default Tax\"\n                            v-model=\"mDefaultTax\"\n                            :items=\"vat\"\n                            item-value=\"id\"\n                            item-text=\"defaultTax\"\n                            return-object\n                            outlined\n                          />\n                        </v-col>\n                        <v-col sm=\"6\" cols=\"12\">\n                          <label class=\"label\">{{ $t(\"sale_tax\") }}</label>\n                          <v-select\n                            class=\"mt-1\"\n                            tage=\"Default Tax\"\n                            v-model=\"mPurchaseTax\"\n                            :items=\"purchaseTax\"\n                            item-value=\"id\"\n                            item-text=\"defaultTax\"\n                            return-object\n                            outlined\n                          />\n                          <label class=\"label\">{{ $t(\"purchase_tax\") }}</label>\n                          <v-select\n                            class=\"mt-1\"\n                            tage=\"Default Tax\"\n                            v-model=\"mPurchaseTax\"\n                            :items=\"purchaseTax\"\n                            item-value=\"id\"\n                            item-text=\"defaultTax\"\n                            return-object\n                            outlined\n                          />\n                          <label class=\"label\">{{ $t(\"specific_tax\") }}</label>\n                          <v-select\n                            class=\"mt-1\"\n                            tage=\"Special Tax\"\n                            v-model=\"mSpecificTax\"\n                            :items=\"specificTax\"\n                            item-value=\"id\"\n                            item-text=\"defaultTax\"\n                            return-object\n                            outlined\n                          />\n                          <label class=\"label\">{{ $t(\"other_tax\") }}</label>\n                          <v-select\n                            class=\"mt-1\"\n                            tage=\"Special Tax\"\n                            v-model=\"mOtherTax\"\n                            :items=\"otherTax\"\n                            item-value=\"id\"\n                            item-text=\"defaultTax\"\n                            return-object\n                            outlined\n                          />\n                        </v-col>\n                      </v-row>\n                    </v-card>\n                  </v-col>\n                  <v-col sm=\"5\" cols=\"12\" class=\"pl-1\">\n                    <v-card outlined dense class=\"px-4 rounded-0\">\n                      <v-row>\n                        <v-col cols=\"12\" sm=\"12\">\n                          <h2 class=\"font_18 mb-0\">\n                            {{ $t(\"product_variants\") }}\n                          </h2>\n                          <p class=\"mb-0 color_grey\">\n                            {{ $t(\"add_funct_prod_variants_desc\") }}\n                          </p>\n                        </v-col>\n                        <v-col sm=\"12\" cols=\"12\" class=\"pt-2\">\n                          <kendo-datasource ref=\"dataSource\" :data=\"varLists\" />\n                          <kendo-grid\n                            id=\"grid\"\n                            class=\"grid-function\"\n                            :data-source-ref=\"'dataSource'\"\n                            :sortable=\"false\"\n                            :filterable=\"false\"\n                            :column-menu=\"true\"\n                            :navigatable=\"true\"\n                            :editable=\"true\"\n                            :scrollable-virtual=\"true\"\n                          >\n                            <kendo-grid-column\n                              :title=\"$t('no.')\"\n                              :template=\"rowNumberTmpl\"\n                              :width=\"45\"\n                              :column-menu=\"false\"\n                              :headerAttributes=\"{\n                                style: 'background-color: #EDF1F5;',\n                                class: 'text-center',\n                              }\"\n                              :attributes=\"{ style: 'text-align: center' }\"\n                            />\n                            <kendo-grid-column\n                              :field=\"'variant'\"\n                              :title=\"$t('variant')\"\n                              :width=\"190\"\n                              :template=\"'<span>#=variant.name#</span>'\"\n                              :editor=\"attributeDropDownEditor\"\n                              :headerAttributes=\"{\n                                style: 'background-color: #EDF1F5',\n                              }\"\n                            />\n                            <kendo-grid-column\n                              :command=\"{\n                                iconClass: 'k-icon k-i-trash',\n                                text: 'Delete',\n                                click: removeRow,\n                                class: 'btn-plus',\n                              }\"\n                              :title=\"$t('action')\"\n                              :width=\"100\"\n                              :headerAttributes=\"{\n                                style:\n                                  'text-align: right; background-color: #EDF1F5',\n                              }\"\n                            />\n                          </kendo-grid>\n                          <v-btn\n                            color=\"primary\"\n                            class=\"\n                              float-left\n                              rounded-4\n                              ml-0\n                              btn_plus\n                              white--text\n                              mt-3\n                            \"\n                            @click=\"addRow\"\n                          >\n                            <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                          </v-btn>\n                        </v-col>\n                      </v-row>\n                    </v-card>\n                  </v-col>\n                </v-row>\n              </v-card>\n              <v-card outlined dense class=\"no_border function_footer\">\n                <v-btn\n                  color=\"black\"\n                  @click=\"cancel\"\n                  outlined\n                  class=\"text-capitalize black--text float-left\"\n                  >{{ $t(\"cancel\") }}\n                </v-btn>\n                <!--                                <v-menu>-->\n                <!--                                    <template v-slot:activator=\"{ on }\">-->\n                <!--                                        <v-btn-->\n                <!--                                            class=\"ml-2 float-right black&#45;&#45;text text-capitalize\"-->\n                <!--                                            v-on=\"on\"-->\n                <!--                                        >-->\n                <!--                                            {{ $t(\"save_option\") }}-->\n                <!--                                            <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>-->\n                <!--                                        </v-btn>-->\n                <!--                                    </template>-->\n                <!--                                </v-menu>-->\n                <v-btn\n                  class=\"float-right white--text\"\n                  color=\"primary\"\n                  @click=\"onSaveClose\"\n                  >{{ $t(\"save_close\") }}\n                </v-btn>\n                <LoadingMe\n                  :isLoading=\"showLoading\"\n                  :fullPage=\"false\"\n                  type=\"loading\"\n                  :myLoading=\"true\"\n                />\n              </v-card>\n            </v-form>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport { i18n } from \"@/i18n\";\nimport ProductModel from \"@/scripts/model/Products\";\nimport kendo from \"@progress/kendo-ui\";\nimport VariantModel from \"@/scripts/model/Variants\";\n\nconst $ = kendo.jQuery;\n\nconst accountHandler = require(\"@/scripts/handler/accounting/account\");\nconst categoryHandler = require(\"@/scripts/categoryHandler\");\nconst groupHandler = require(\"@/scripts/groupHandler\");\nconst subGroupHandler = require(\"@/scripts/subGroupHandler\");\nconst uomHandler = require(\"@/scripts/uomHandler\");\nconst warehouseHandler = require(\"@/scripts/warehouseHandler\");\nconst settingHandler = require(\"@/scripts/settingHandler\");\nconst productHandler = require(\"@/scripts/productHandler\");\nconst variantHandler = require(\"@/scripts/variantTypeHandler\");\nconst priceLevelHandler = require(\"@/scripts/priceLevelHandler\");\n// const attributeHandler = require(\"@/scripts/attributeHandler\")\nconst variantModel = new VariantModel({});\n\nlet productModel = new ProductModel({});\nexport default {\n  name: \"AddProduct\",\n  props: [\"id\"],\n  components: {\n    LoadingMe: () => import(`@/components/Loading`),\n  },\n  data: function () {\n    return {\n      showLoading: true,\n      accLoading: false,\n      valid: \"\",\n      incomeAcc: \"\",\n      mAccInventory: \"\",\n      mCategory: \"\",\n      mGroup: \"\",\n      mFormTemplate: \"\",\n      formTemplate: [\n        {\n          id: \"ftp-c35cbe46-1c5e-11eb-adc1-0242ac120002\",\n          name: \"Form A\",\n        },\n        {\n          id: \"ftp-c35cc062-1c5e-11eb-adc1-0242ac120002\",\n          name: \"Form B\",\n        },\n        {\n          id: \"ftp-c35cc2ec-1c5e-11eb-adc1-0242ac120002\",\n          name: \"Form C\",\n        },\n      ],\n      mAccCostOfGoodSold: \"\",\n      accRevenue: [],\n      accInventory: [],\n      accCostOfGoodSold: [],\n      categories: [],\n      groups: [],\n      group: [],\n      subGroup: [],\n      uom: [],\n      tax: [],\n      specificTax: [],\n      vat: [],\n      mSubGroup: {},\n      subGroups: [],\n      wareHouses: [],\n      mUOM: {},\n      mWareHouse: {},\n      mSpecificTax: {},\n      mOtherTax: {},\n      otherTax: [],\n      mDefaultTax: {},\n      purchaseTax: [],\n      mPurchaseTax: {},\n      mSerialOrBatch: 0,\n      variantTypes: [],\n      variant: variantModel,\n      varLists: [],\n      product: productModel,\n      productVariant: {},\n      variantId: \"\",\n      priceLevel: [],\n    };\n  },\n  methods: {\n    async loadPriceLevel() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          priceLevelHandler.get().then((res) => {\n            const data = res || [];\n            this.priceLevel = data.filter((n) => n.type.name === \"Standard\");\n            if (this.priceLevel.length > 0) {\n              this.product.priceLevel = this.priceLevel[0];\n            }\n          });\n        }, 10);\n      });\n    },\n    loadCategoryAccountAndTax() {\n      this.mOtherTax = this.mCategory.tax.hasOwnProperty(\"otherTax\")\n        ? this.mCategory.tax.otherTax\n        : {};\n      this.mSpecificTax = this.mCategory.tax.hasOwnProperty(\"specificTax\")\n        ? this.mCategory.tax.specificTax\n        : {};\n      this.mDefaultTax = this.mCategory.tax.hasOwnProperty(\"defaultTax\")\n        ? this.mCategory.tax.defaultTax\n        : {};\n      this.mPurchaseTax = this.mCategory.tax.hasOwnProperty(\"purchaseTax\")\n        ? this.mCategory.tax.purchaseTax\n        : {};\n      this.incomeAcc = this.mCategory.account.hasOwnProperty(\"incomeAcc\")\n        ? this.mCategory.account.incomeAcc\n        : {};\n      this.mAccInventory = this.mCategory.account.hasOwnProperty(\"inventoryAcc\")\n        ? this.mCategory.account.inventoryAcc\n        : {};\n      this.mAccCostOfGoodSold = this.mCategory.account.hasOwnProperty(\n        \"costOfGoodsSoldAcc\"\n      )\n        ? this.mCategory.account.costOfGoodsSoldAcc\n        : {};\n    },\n    async initData() {\n      // window.console.log('me', this.$route.params.id)\n      if (this.$route.params.id !== undefined) {\n        await this.loadSingleProduct();\n      } else {\n        let ds = this.$refs.dataSource.kendoWidget();\n        ds.data([]);\n        this.addRow();\n      }\n    },\n    addRow() {\n      let ds = this.$refs.dataSource.kendoWidget(),\n        total = ds.total();\n      ds.insert(total, {\n        variant: this.variant,\n      });\n    },\n    // Row Number Template\n    rowNumberTmpl(dataItem) {\n      var ds = this.$refs.dataSource.kendoWidget(),\n        index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    // Grid Custom Editor\n    attributeDropDownEditor(container, options) {\n      kendo\n        .jQuery('<input required name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: false,\n          autoWidth: true,\n          height: 400,\n          filter: \"startswith\",\n          dataTextField: \"name\",\n          dataValueField: \"id\",\n          template: \"<span>#=code# - #=name#</span>\",\n          optionLabel: \"--- Select ---\",\n          dataSource: new kendo.data.DataSource({\n            data: this.variantTypes,\n          }),\n        });\n    },\n    // Remove Row\n    removeRow(e) {\n      e.preventDefault();\n\n      var grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\"),\n        dataSource = grid.dataSource,\n        dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n      if (dataSource.total() > 1) {\n        dataSource.remove(dataItem);\n      }\n    },\n    onChange() {},\n    async onEditClick(value) {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          this.product = value;\n        }, 10);\n      });\n    },\n    onNewClick() {\n      this.product.id = \"\";\n      this.clear();\n    },\n    close(data) {\n      window.history.go(-1);\n      window.console.log(data, \"--data\");\n      // this.$router.push({\n      //   name: 'Products', params: {\n      //     data: data\n      //   }\n      // })\n    },\n    clear() {\n      this.product = {};\n    },\n    async onSaveClose() {\n      if (!this.$refs.form.validate()) {\n        this.$refs.form.validate();\n        return;\n      }\n      let variants = [];\n      let ds = this.$refs.dataSource.kendoWidget();\n      let dataValidate = 0;\n      ds.data().forEach((value, index) => {\n        // window.console.log(value)\n        if (\n          value.variant == undefined ||\n          value.variant.id == undefined ||\n          value.variant.id == null ||\n          value.variant.id == \"\"\n        ) {\n          this.$snotify.error(\"Please check Variants on row \" + (index + 1));\n        } else {\n          dataValidate += 1;\n        }\n      });\n      let variantAR = ds.data();\n      if (variantAR.length == dataValidate) {\n        const variant = ds.data();\n        variant.forEach((i) => {\n          variants.push({\n            variant: i.variant,\n            uid: i.uid,\n          });\n        });\n        new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(\"resolved\");\n            // if (this.product.id === '' || this.product.id === undefined) {\n            let data = {\n              id: this.$route.params.id ? this.$route.params.id : \"\",\n              name: this.product.name,\n              sku: this.product.sku,\n              saleDescription: this.product.saleDescription,\n              purchaseDescription: this.product.purchaseDescription,\n              price: this.product.price,\n              cost: this.product.cost,\n              reOrderQTY: this.product.reOrderQTY,\n              category: this.mCategory,\n              priceLevel: this.product.priceLevel,\n              group: this.mGroup,\n              subGroup: this.mSubGroup,\n              uom: this.mUOM,\n              warehouse: this.mWareHouse,\n              inventoryAcc: this.mAccInventory,\n              incomeAcc: this.incomeAcc,\n              costOfGoodsSoldAcc: this.mAccCostOfGoodSold,\n              defaultTax: this.mDefaultTax,\n              purchaseTax: this.mPurchaseTax,\n              specificTax: this.mSpecificTax,\n              otherTax: this.mOtherTax,\n              formTemplate: this.mFormTemplate,\n              variant: variants,\n              variantId: this.variantId,\n              canBeSold: this.product.canBeSold,\n              canBeProduce: this.product.canBeProduce,\n              canBeRent: this.product.canBeRent,\n              canBePurchase: this.product.canBePurchase,\n              isFavorite: this.product.isFavorite,\n              batchOrSerial: this.product.batchOrSerial,\n              // batchTracked: this.mSerialOrBatch == 1 ? this.product.batchTracked : 0,\n              // isSerialNumber: this.mSerialOrBatch == 2 ? this.product.isSerialNumber : 0,\n              status: this.product.status || 1,\n              deleted: this.product.deleted || 0,\n              type: this.$route.params.id ? this.$route.query.type : \"new\",\n            };\n            productHandler\n              .create(data)\n              .then((response) => {\n                if (response.data.statusCode === 201) {\n                  // this.loadSaleUC()\n                  // this.clear()\n                  this.$snotify.success(\"Success\");\n                  this.close(response.data.data);\n                  this.$refs.form.reset();\n                }\n              })\n              .catch((e) => {\n                this.$snotify.error(\"Something went wrong\");\n                this.errors.push(e);\n              });\n          }, 10);\n        });\n      }\n    },\n    async onCategoryChanged() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          // window.console.log(this.mCategory)\n          this.mGroup = \"\";\n          this.mSubGroup = \"\";\n\n          this.group = this.groups.filter(\n            (m) => m.category.id === this.mCategory.id\n          );\n          if (this.group.length > 0) {\n            this.mGroup = this.group[0];\n            this.subGroup = this.subGroups.filter(\n              (m) => m.group.id === this.group[0].id\n            );\n            if (this.subGroup.length > 0) {\n              this.mSubGroup = this.subGroup[0];\n            }\n          }\n          this.loadCategoryAccountAndTax();\n        }, 10);\n      });\n    },\n    async loadAccount() {\n      this.accLoading = true;\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          accountHandler.getAll().then((res) => {\n            this.showLoading = false;\n            this.accRevenue = res.data\n              .filter((m) => m.account_type.number === 32)\n              .map((item) => {\n                return {\n                  id: item.uuid,\n                  uuid: item.uuid,\n                  name: item.name,\n                  local_name: item.local_name,\n                  number: item.number,\n                  is_taxable: item.is_taxable,\n                  banhjiAccCode: item.banhjiAccCode,\n                  group_code: item.group_code,\n                  parent_account: item.parent_account,\n                  type_code: item.type_code,\n                  account_type: item.account_type,\n                };\n              });\n            if (this.accRevenue.length > 0) {\n              this.incomeAcc = this.accRevenue[0];\n            }\n            this.accInventory = res.data\n              .filter((m) => m.account_type.number === 8)\n              .map((item) => {\n                return {\n                  id: item.uuid,\n                  uuid: item.uuid,\n                  name: item.name,\n                  local_name: item.local_name,\n                  number: item.number,\n                  is_taxable: item.is_taxable,\n                  banhjiAccCode: item.banhjiAccCode,\n                  group_code: item.group_code,\n                  parent_account: item.parent_account,\n                  type_code: item.type_code,\n                  account_type: item.account_type,\n                };\n              });\n            if (this.accInventory.length > 0) {\n              this.mAccInventory = this.accInventory[0];\n            }\n            this.accCostOfGoodSold = res.data\n              .filter((m) => m.account_type.number === 33)\n              .map((item) => {\n                return {\n                  id: item.uuid,\n                  uuid: item.uuid,\n                  name: item.name,\n                  local_name: item.local_name,\n                  number: item.number,\n                  is_taxable: item.is_taxable,\n                  banhjiAccCode: item.banhjiAccCode,\n                  group_code: item.group_code,\n                  parent_account: item.parent_account,\n                  type_code: item.type_code,\n                  account_type: item.account_type,\n                };\n              });\n            if (this.accCostOfGoodSold.length > 0) {\n              this.mAccCostOfGoodSold = this.accCostOfGoodSold[0];\n            }\n            this.accLoading = false;\n          });\n        }, 10);\n      });\n    },\n    async loadCategory() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          categoryHandler.get().then((res) => {\n            this.showLoading = false;\n            this.categories = res;\n            this.categories = this.categories.filter(\n              (m) => m.hasOwnProperty(\"type\") && m.type.name === \"Product\"\n            );\n            // if (this.categories.length > 0) {\n            //   this.mCategory = this.categories[0]\n            //   this.onCategoryChanged()\n            // }\n          });\n        }, 10);\n      });\n    },\n    async loadGroup() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          groupHandler.get().then((res) => {\n            this.showLoading = false;\n            this.groups = res;\n          });\n        }, 10);\n      });\n    },\n    async loadSubGroup() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          subGroupHandler.get().then((res) => {\n            this.showLoading = false;\n            this.subGroups = res;\n          });\n        }, 10);\n      });\n    },\n    async skuGenerator() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          const category = this.mCategory || {};\n          const group = this.mGroup || {};\n          const sGroup = this.mSubGroup || {};\n          let cateAbbr = \"\",\n            groupAbbr = \"\",\n            sGroupAbbr = \"\",\n            skuCode = \"\";\n          if (category.id) {\n            cateAbbr = category.abbr || \"\";\n            skuCode += skuCode + cateAbbr + \"/\";\n          }\n          if (group.id) {\n            groupAbbr = group.abbr || \"\";\n            skuCode += skuCode + groupAbbr + \"/\";\n          }\n          if (sGroup.id) {\n            sGroupAbbr = sGroup.abbr || \"\";\n            skuCode += skuCode + sGroupAbbr + \"/\";\n          }\n          if (this.product.name) {\n            this.product.sku =\n              skuCode + this.product.name.toString().substring(0, 3);\n          }\n        }, 10);\n      });\n    },\n    async loadUOM() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          uomHandler.get().then((res) => {\n            this.showLoading = false;\n            this.uom = res;\n            if (this.uom.length > 0) {\n              this.mUOM = this.uom[0];\n            }\n          });\n        }, 10);\n      });\n    },\n    async loadWareHouses() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          warehouseHandler.getWarehouseSettingAll().then((res) => {\n            this.showLoading = false;\n            this.wareHouses = res;\n            if (this.wareHouses.length > 0) {\n              this.mWareHouse = this.wareHouses[0];\n            }\n          });\n        }, 10);\n      });\n    },\n    async loadVariants() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          variantHandler.get().then((res) => {\n            this.showLoading = false;\n            this.variantTypes = res;\n            if (this.variantTypes.length > 0) {\n              this.initData();\n            }\n          });\n        }, 10);\n      });\n    },\n    async loadTax() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          settingHandler.get().then((res) => {\n            this.showLoading = false;\n            this.tax = res;\n            let st = this.tax.filter((m) => m.taxType.typeId === 8); // valuable tax\n            this.specificTax = st; // special tax\n\n            let vAT = this.tax.filter(\n              (m) => m.taxType.typeId === 1 && m.transactionType === \"Sale\"\n            ); // valuable tax\n            this.vat = vAT; // valuable tax\n\n            let otTax = this.tax.filter((m) => m.taxType.typeId === 7); // valuable tax\n            this.otherTax = otTax; // valuable tax\n\n            this.purchaseTax = this.tax.filter(\n              (m) => m.taxType.typeId === 1 && m.transactionType === \"Purchase\"\n            ); // valuable tax\n            if (this.specificTax.length > 0) {\n              this.mSpecificTax = this.specificTax[0];\n            }\n            if (this.vat.length > 0) {\n              this.mDefaultTax = this.vat[0];\n            }\n            if (this.otherTax.length > 0) {\n              this.mOtherTax = this.otherTax[0];\n            }\n            if (this.purchaseTax.length > 0) {\n              this.mPurchaseTax = this.purchaseTax[0];\n            }\n          });\n        }, 10);\n      });\n    },\n    async loadSingleProduct() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          this.showLoading = true;\n          productHandler.getOne(this.$route.params.id).then((res) => {\n            this.showLoading = false;\n            this.product = res;\n            if (this.product.id !== undefined) {\n              this.mCategory = this.product.category;\n              this.mGroup = this.product.group;\n              this.mSubGroup = this.product.subGroup;\n              this.mUOM = this.product.uom;\n              this.mAccCostOfGoodSold = this.product.costOfGoodsSoldAcc;\n              this.mAccInventory = this.product.inventoryAcc;\n              this.incomeAcc = this.product.incomeAcc;\n              this.mSpecificTax = this.product.specificTax;\n              this.mSerialOrBatch =\n                this.product.isSerialNumber > 0\n                  ? this.product.isSerialNumber\n                  : this.product.batchTracked;\n              this.mOtherTax = this.product.otherTax;\n              this.mDefaultTax = this.product.defaultTax;\n              this.mPurchaseTax = this.product.purchaseTax;\n              this.productVariant = this.product.variant;\n              this.mWareHouse = this.product.warehouse;\n              this.varLists = [];\n              this.variantId = this.product.variant.id;\n              this.product.variant.variant.forEach((m) => {\n                this.varLists.push({\n                  variant: {\n                    name: m.variant.name,\n                    id: m.variant.id,\n                    code: m.variant.code,\n                  },\n                });\n              });\n            }\n          });\n        }, 10);\n      });\n    },\n    cancel() {\n      this.$swal({\n        title: i18n.t(\"msg_title_warning\"),\n        text: i18n.t(\"msg_discard\"),\n        icon: \"warning\",\n        showCancelButton: true,\n        cancelButtonText: i18n.t(\"cancel\"),\n        confirmButtonColor: \"#4d4848\",\n        cancelButtonColor: \"#ED1A3A\",\n        confirmButtonText: i18n.t(\"discard\"),\n      }).then((resultCen) => {\n        if (resultCen.value) {\n          this.$router.go(-1);\n        }\n      });\n    },\n  },\n  mounted: async function () {\n    await this.loadUOM();\n    await this.loadWareHouses();\n    await this.loadTax();\n    await this.loadVariants();\n    await this.loadPriceLevel();\n  },\n  computed: {},\n  created: async function () {\n    await this.loadAccount();\n    await this.loadCategory();\n    await this.loadGroup();\n    await this.loadSubGroup();\n  },\n  watch: {\n    id() {\n      // this.product = this.selectedProduct\n      window.console.log(this.id, \"watch\");\n      if (this.id !== undefined) {\n        this.loadSingleProduct();\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.function_content {\n  padding: 0 25px 25px;\n  border-bottom: 0;\n  background-color: #fff !important;\n}\n\n@media (min-width: 1264px) {\n  .container {\n    /* max-width: 1185px; */\n    max-width: 1080px !important;\n  }\n}\n\n.grayBg {\n  background-color: #f8f8f9;\n}\n\n@media (max-width: 576px) {\n  .mb-6 {\n    margin-bottom: 0 !important;\n  }\n}\n\n.section2 {\n  border: 1px solid #d6d7d8;\n}\n\n.border_grey {\n  border: 1px solid #d6d7d8;\n}\n\n.attachment_table {\n  width: 100%;\n}\np {\n    font-size: 15px;\n    font-family: 'Niradei-Light' !important;\n}\n\n.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > tbody\n  > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n  background-color: transparent !important;\n}\n</style>\n"]}]}