{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/components/dropdownlist/ProductCategoryDropDownList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/components/dropdownlist/ProductCategoryDropDownList.vue","mtime":1638931253145},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwppbXBvcnQgQ2F0ZWdvcnlNb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQ2F0ZWdvcmllcyI7Cgpjb25zdCBhcGlVcmwgPSByZXF1aXJlKCdAL2FwaS9wcm9kdWN0Jyk7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnQ2F0ZWdvcnlEcm9wRG93bkxpc3QnLAogICAgY29tcG9uZW50czoge30sCiAgICBwcm9wczogewogICAgICAgIGluaXRDYXRlZ29yeTogewogICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgfSwKICAgICAgICBpbml0TW9kZWw6IHsKICAgICAgICAgICAgdHlwZTogT2JqZWN0CiAgICAgICAgfQogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY2F0ZWdvcnk6IG5ldyBDYXRlZ29yeU1vZGVsKHt9KSwKICAgICAgICAgICAgc2VsZWN0VmFsdWU6IHt9LAogICAgICAgICAgICBjYXRlZ29yeUxpc3Q6IFtdLAogICAgICAgICAgICB0eXBlOiAnJywKICAgICAgICAgICAgdXJsOiBhcGlVcmwuY2F0ZWdvcnlfZ2V0LAogICAgICAgICAgICBpZDogJ2RkbFByb2R1Y3RfJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApCiAgICAgICAgfQogICAgfSwKICAgIC8vIGNvbXB1dGVkOiBtYXBTdGF0ZSh7CiAgICAvLyAgICAgc2VnbWVudHM6IHN0YXRlID0+IHN0YXRlLnNlZ21lbnRzLmFsbAogICAgLy8gfSksCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgb25DaGFuZ2UoZXYpIHsKICAgICAgICAgICAgaWYgKGV2KSB7CiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZEluZGV4ID0gZXYuc2VuZGVyLnNlbGVjdCgpOwogICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtID0gZXYuc2VuZGVyLmRhdGFJdGVtKHNlbGVjdGVkSW5kZXgpLnRvSlNPTigpOwogICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeSA9IG5ldyBDYXRlZ29yeU1vZGVsKHNlbGVjdGVkSXRlbSk7CiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdvbkNoYW5nZScsIHRoaXMuY2F0ZWdvcnkpOwogICAgICAgICAgICAgICAgLy8gYXdhaXQgdGhpcy5zZWxlY3RJdGVtKHRoaXMuaW5pdE1vZGVsKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBiaW5kRGF0YSh1cmwpIHsKICAgICAgICAgICAga2VuZG8ualF1ZXJ5KCcjJyArIHRoaXMuaWQpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICAgICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICAgICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgICAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogImpzb24iLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogImlkIgogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiAocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IHJlcyA9IHJlc3BvbnNlLmRhdGEuZmlsdGVyKHJvdyA9PiByb3cudHlwZS5uYW1lID09PSAiUHJvZHVjdCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAocmVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBjb25zdCByb3cgPSByZXNbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyB0aGlzLmNhdGVnb3J5ID0gcm93CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gY29uc3QgZHJvcElkID0ga2VuZG8ualF1ZXJ5KCcjJyArIHRoaXMuaWQpLmRhdGEoImtlbmRvRHJvcERvd25MaXN0Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gZHJvcElkLnZhbHVlKHJvdyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuc2VsZWN0SXRlbShyb3cpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCcgdGhpcy5jYXRlZ29yeSA9IHJvdycsIHRoaXMuY2F0ZWdvcnkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEl0ZW0oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuZmlsdGVyKHJvdyA9PiByb3cudHlwZS5uYW1lID09PSAiUHJvZHVjdCIpCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAvLyBncm91cDoge30vL3tmaWVsZDogJ3R5cGUubmFtZSd9CiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIC8vIGRhdGFCb3VuZDogdGhpcy5vbkRhdGFCb3VuZCwKICAgICAgICAgICAgICAgIGNoYW5nZTogdGhpcy5vbkNoYW5nZSwKICAgICAgICAgICAgICAgIGZpbHRlcjogJ2NvbnRhaW5zJywKICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsOiAnLS0gU2VsZWN0IC0tJwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8gdGhpcy5zZWxlY3RJdGVtKCkKICAgICAgICB9LAogICAgICAgIGFzeW5jIHNlbGVjdEl0ZW0oKSB7CiAgICAgICAgICAgIC8vIGRvIHN0dWZmCiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnc2VsZWN0SXRlbScsIHRoaXMuaW5pdE1vZGVsKQogICAgICAgICAgICBpZiAodGhpcy5pbml0TW9kZWwpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy5pbml0TW9kZWwuaWQgfHwgJycKICAgICAgICAgICAgICAgIGlmIChpZCAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkcm9wSWQgPSBrZW5kby5qUXVlcnkoJyMnICsgdGhpcy5pZCkuZGF0YSgia2VuZG9Ecm9wRG93bkxpc3QiKQogICAgICAgICAgICAgICAgICAgIGRyb3BJZC52YWx1ZShpZCkKICAgICAgICAgICAgICAgICAgICAvLyBkcm9wSWQudHJpZ2dlcigiY2hhbmdlIikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgb25EYXRhQm91bmQoKSB7CiAgICAgICAgICAgIC8vIC8vIGRvIHN0dWZmCiAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygnb25EYXRhQm91bmQnLCB0aGlzLmluaXRNb2RlbCkKICAgICAgICAgICAgLy8gaWYgKHRoaXMuaW5pdE1vZGVsKSB7CiAgICAgICAgICAgIC8vICAgICBjb25zdCBpZCA9IHRoaXMuaW5pdE1vZGVsLmlkIHx8ICcnCiAgICAgICAgICAgIC8vICAgICBpZiAoaWQgIT09ICcnKSB7CiAgICAgICAgICAgIC8vICAgICAgICAgY29uc3QgZHJvcElkID0ga2VuZG8ualF1ZXJ5KCcjJyArIHRoaXMuaWQpLmRhdGEoImtlbmRvRHJvcERvd25MaXN0IikKICAgICAgICAgICAgLy8gICAgICAgICBkcm9wSWQudmFsdWUoaWQpCiAgICAgICAgICAgIC8vICAgICAgICAgZHJvcElkLnRyaWdnZXIoImNoYW5nZSIpCiAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgIC8vIH0KICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICBpbml0Q2F0ZWdvcnkoKSB7CiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnkgPSB0aGlzLmluaXRDYXRlZ29yeTsKICAgICAgICB9LAogICAgICAgIGluaXRNb2RlbCgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0VmFsdWUpIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0VmFsdWUgPSB0aGlzLmluaXRNb2RlbDsKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0SXRlbSgpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfSwKICAgIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICAgICAgLy8gdGhpcy5sb2FkRGF0YSh0aGlzLnVybCk7CiAgICB9LAogICAgYXN5bmMgbW91bnRlZCgpIHsKICAgICAgICAvKiBJbml0aWFsIG9iaiAqLwogICAgICAgIHRoaXMuYmluZERhdGEodGhpcy51cmwpOwogICAgICAgIHRoaXMuY2F0ZWdvcnkgPSB0aGlzLmluaXRDYXRlZ29yeTsKICAgICAgICB0aGlzLnNlbGVjdFZhbHVlID0gdGhpcy5pbml0TW9kZWw7CiAgICAgICAgLy8gdGhpcy50eXBlID0gdGhpcy5pbml0VHlwZTsKICAgICAgICAvLyB0aGlzLiRlbWl0KCdvbkNoYW5nZScsIHRoaXMucG1PcHRpb24pOwogICAgICAgIC8vIGNyZWF0ZSBEcm9wRG93bkxpc3QgZnJvbSBpbnB1dCBIVE1MIGVsZW1lbnQKICAgICAgICAvLyBhd2FpdCB0aGlzLmxvYWREYXRhKCcnLCB0aGlzLnN1cEJhc2VVcmwpOwogICAgfQp9Cg=="},{"version":3,"sources":["ProductCategoryDropDownList.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProductCategoryDropDownList.vue","sourceRoot":"src/components/dropdownlist","sourcesContent":["<template>\n    <div>\n        <input :id=\"id\" style=\"width: 100%; margin-top: 4px\"/>\n    </div>\n</template>\n\n<script>\nimport kendo from \"@progress/kendo-ui\";\nimport CategoryModel from \"@/scripts/model/Categories\";\n\nconst apiUrl = require('@/api/product');\n\nexport default {\n    name: 'CategoryDropDownList',\n    components: {},\n    props: {\n        initCategory: {\n            type: Object,\n        },\n        initModel: {\n            type: Object\n        }\n    },\n    data() {\n        return {\n            category: new CategoryModel({}),\n            selectValue: {},\n            categoryList: [],\n            type: '',\n            url: apiUrl.category_get,\n            id: 'ddlProduct_' + Math.floor(Math.random() * 1000)\n        }\n    },\n    // computed: mapState({\n    //     segments: state => state.segments.all\n    // }),\n    methods: {\n        async onChange(ev) {\n            if (ev) {\n                const selectedIndex = ev.sender.select();\n                const selectedItem = ev.sender.dataItem(selectedIndex).toJSON();\n                this.category = new CategoryModel(selectedItem);\n                this.$emit('onChange', this.category);\n                // await this.selectItem(this.initModel)\n            }\n        },\n        bindData(url) {\n            kendo.jQuery('#' + this.id).kendoDropDownList({\n                dataTextField: \"name\",\n                dataValueField: \"id\",\n                dataSource: new kendo.data.DataSource({\n                    transport: {\n                        read: {\n                            url: url,\n                        },\n                        dataType: \"json\",\n                    },\n                    schema: {\n                        model: {\n                            id: \"id\"\n                        },\n                        data: (response) => {\n                            // const res = response.data.filter(row => row.type.name === \"Product\")\n                            // if (res.length > 0) {\n                            //     const row = res[0]\n                            //     // this.category = row\n                            //     // const dropId = kendo.jQuery('#' + this.id).data(\"kendoDropDownList\");\n                            //     // dropId.value(row);\n                            //\n                            //     this.selectItem(row)\n                            //     // window.console.log(' this.category = row', this.category)\n                            // }\n                            this.selectItem()\n                            return response.data.filter(row => row.type.name === \"Product\")\n                        },\n                    },\n                    // group: {}//{field: 'type.name'}\n                }),\n                // dataBound: this.onDataBound,\n                change: this.onChange,\n                filter: 'contains',\n                optionLabel: '-- Select --'\n            });\n            // this.selectItem()\n        },\n        async selectItem() {\n            // do stuff\n            window.console.log('selectItem', this.initModel)\n            if (this.initModel) {\n                const id = this.initModel.id || ''\n                if (id !== '') {\n                    const dropId = kendo.jQuery('#' + this.id).data(\"kendoDropDownList\")\n                    dropId.value(id)\n                    // dropId.trigger(\"change\")\n                }\n            }\n        },\n        async onDataBound() {\n            // // do stuff\n            // window.console.log('onDataBound', this.initModel)\n            // if (this.initModel) {\n            //     const id = this.initModel.id || ''\n            //     if (id !== '') {\n            //         const dropId = kendo.jQuery('#' + this.id).data(\"kendoDropDownList\")\n            //         dropId.value(id)\n            //         dropId.trigger(\"change\")\n            //     }\n            // }\n        }\n    },\n    watch: {\n        initCategory() {\n            this.category = this.initCategory;\n        },\n        initModel() {\n            if (this.selectValue) {\n                this.selectValue = this.initModel;\n                this.selectItem()\n            }\n        },\n    },\n    async created() {\n        // this.loadData(this.url);\n    },\n    async mounted() {\n        /* Initial obj */\n        this.bindData(this.url);\n        this.category = this.initCategory;\n        this.selectValue = this.initModel;\n        // this.type = this.initType;\n        // this.$emit('onChange', this.pmOption);\n        // create DropDownList from input HTML element\n        // await this.loadData('', this.supBaseUrl);\n    }\n}\n</script>"]}]}