{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/services_projects/items/services_items/Uom.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/services_projects/items/services_items/Uom.vue","mtime":1638499443305},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgVU9NQ29udmVyc2lvbiBmcm9tICJAL3NjcmlwdHMvbW9kZWwvVU9NQ29udmVyc2lvbiIKCmNvbnN0IHVvbUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvdW9tSGFuZGxlciIpCmNvbnN0IHVvbVNlcnZpY2VDb252ZXJzaW9uSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy91b21TZXJ2aWNlQ29udmVyc2lvbkhhbmRsZXIiKQpjb25zdCAkID0gcmVxdWlyZSgianF1ZXJ5IikKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CgpsZXQgdW9tQ29udmVyc2lvbk1vZGVsID0gbmV3IFVPTUNvbnZlcnNpb24oe30pCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgc2VydmljZToge30KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmdNZTogKCkgPT4gaW1wb3J0KGBAL2NvbXBvbmVudHMvTG9hZGluZ2ApCiAgfSwKICBkYXRhOiAoKSA9PiAoewogICAgZGlhbG9nbTI6IGZhbHNlLAogICAgdW9tOiBbXSwKICAgIHVvbXM6IFtdLAogICAgbVVPTToge30sCiAgICBtQmFzZVVPTToge30sCiAgICB1b21TZXJ2aWNlQ29udmVyc2lvbjogW10sCiAgICB1b21OYW1lOiAnJywKICAgIGdyaWRTY2hlbWE6IHsKICAgICAgbW9kZWw6IHsKICAgICAgICBpZDogImlkIgogICAgICB9CiAgICB9LAogICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgdW9tQ29udmVyc2lvbjogdW9tQ29udmVyc2lvbk1vZGVsCiAgfSksCiAgbWV0aG9kczogewogICAgZGF0YUJvdW5kOiBmdW5jdGlvbiAoZSkgewogICAgICBjb25zdCBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZFNlcnZpY2VVT00iKS5kYXRhKCJrZW5kb0dyaWQiKQogICAgICBjb25zdCBpdGVtcyA9IGUuc2VuZGVyLml0ZW1zKCkKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKGl0ZW1zKQogICAgICBpdGVtcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBsZXQgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKHRoaXMpOwogICAgICAgICQoInRyW2RhdGEtdWlkPSciICsgZGF0YUl0ZW0udWlkICsgIiddIikuZmluZCgiLmlzU3lzdGVtIikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoZGF0YUl0ZW0uaXNTeXN0ZW0gPT09IDApIHsKICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnay1zdGF0ZS1kaXNhYmxlZCcpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICBjbG9zZSgpIHsKICAgICAgLy8gd2luZG93Lmhpc3RvcnkuZ28oLTEpCiAgICAgIHRoaXMuZGlhbG9nbTIgPSBmYWxzZQogICAgfSwKICAgIG5ld0NsaWNrKCkgewogICAgICAvLyB0aGlzLnVvbSA9IHRoaXMudW9tcy5maWx0ZXIoaXRlbSA9PiB7CiAgICAgIC8vICAgICByZXR1cm4gaXRlbS5jYXRlZ29yeS5pZCA9PT0gdGhpcy5zZXJ2aWNlLnVvbS5jYXRlZ29yeS5pZAogICAgICAvLyB9KQogICAgICB0aGlzLnVvbUNvbnZlcnNpb24gPSB7fQogICAgICB0aGlzLm1VT00gPSB7fQogICAgfSwKICAgIG9uVU9NQ2hhbmdlZCgpIHsKICAgICAgdGhpcy51b20gPSB0aGlzLnVvbXMuZmlsdGVyKGl0ZW0gPT4gewogICAgICAgIHJldHVybiBpdGVtLmNhdGVnb3J5LmlkID09PSB0aGlzLmJhc2VVT00uY2F0ZWdvcnkuaWQgJiYgaXRlbS5pZCAhPT0gdGhpcy5iYXNlVU9NLmlkCiAgICAgIH0pCiAgICB9LAogICAgYXN5bmMgbG9hZFVPTSgpIHsKICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpCiAgICAgICAgICBpZiAodGhpcy5zZXJ2aWNlKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnNlcnZpY2UuaGFzT3duUHJvcGVydHkoJ3VvbScpKSB7CiAgICAgICAgICAgICAgdW9tSGFuZGxlci5nZXQoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnVvbXMgPSByZXMKICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICB0aGlzLnVvbSA9IHRoaXMudW9tcy5maWx0ZXIoaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5jYXRlZ29yeS5pZCA9PT0gdGhpcy5iYXNlVU9NLmNhdGVnb3J5LmlkICYmIGl0ZW0uaWQgIT09IHRoaXMuYmFzZVVPTS5pZAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgMzAwKQogICAgICB9KQogICAgfSwKICAgIGFzeW5jIGxvYWRVT01TZXJ2aWNlQ29udmVyc2lvbigpIHsKICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpCiAgICAgICAgICBpZiAodGhpcy5zZXJ2aWNlKSB7CiAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnByb2R1Y3QpCiAgICAgICAgICAgIGlmICh0aGlzLnNlcnZpY2UuaGFzT3duUHJvcGVydHkoJ3VvbScpKSB7CiAgICAgICAgICAgICAgdW9tU2VydmljZUNvbnZlcnNpb25IYW5kbGVyLmdldCh0aGlzLnNlcnZpY2VJZCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy51b21TZXJ2aWNlQ29udmVyc2lvbiA9IHJlcwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCAzMDApCiAgICAgIH0pCiAgICB9LAogICAgYXN5bmMgZ29FZGl0KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBsZXQgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRTZXJ2aWNlVU9NIikuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgIGxldCBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwogICAgICB0aGlzLnVvbUNvbnZlcnNpb24gPSBkYXRhSXRlbQogICAgICB0aGlzLm1VT00gPSBkYXRhSXRlbS50b1VPTQogICAgICB0aGlzLmRpYWxvZ20yID0gdHJ1ZQogICAgICB3aW5kb3cuY29uc29sZS5sb2coZGF0YUl0ZW0sICd2YWwnKQogICAgfSwKICAgIGFzeW5jIG9uU2F2ZUNsb3NlKCkgewogICAgICAvLyBpZiAoIXRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgIC8vICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkKICAgICAgLy8gICByZXR1cm4KICAgICAgLy8gfQogICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgImlkIjogdGhpcy51b21Db252ZXJzaW9uLmlkLAogICAgICAgICAgICAic2VydmljZUlkIjogdGhpcy5zZXJ2aWNlSWQsCiAgICAgICAgICAgICJmcm9tVU9NIjogdGhpcy5iYXNlVU9NLAogICAgICAgICAgICAidG9VT00iOiB0aGlzLm1VT00sCiAgICAgICAgICAgICJyYXRlIjogdGhpcy51b21Db252ZXJzaW9uLnJhdGUsCiAgICAgICAgICAgICJza2lwIjogdGhpcy51b21TZXJ2aWNlQ29udmVyc2lvbi5sZW5ndGggPiAwCiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgdW9tU2VydmljZUNvbnZlcnNpb25IYW5kbGVyLmNyZWF0ZSh0aGlzLnNlcnZpY2VJZCwgZGF0YSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMSkgewogICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgIGxldCByZXMgPSByZXNwb25zZS5kYXRhLmRhdGEKICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMudW9tU2VydmljZUNvbnZlcnNpb24uZmluZEluZGV4KGl0ZW0gPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIChyZXMuaWQgPT09IGl0ZW0uaWQpCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLnVvbVNlcnZpY2VDb252ZXJzaW9uLnB1c2gocmVzKQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnVvbVNlcnZpY2VDb252ZXJzaW9uLnNwbGljZShpbmRleCwgMSwgcmVzKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyB0aGlzLnVvbVNlcnZpY2VDb252ZXJzaW9uLnB1c2gocmVzcG9uc2UuZGF0YS5kYXRhKQogICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuc3VjY2VzcygnU3VjY2VzcycpCiAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgICAgICB0aGlzLiRzbm90aWZ5LmVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZycpCiAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKGUpCiAgICAgICAgICB9KQogICAgICAgIH0sIDUwKTsKICAgICAgfSkKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgc2VydmljZSgpIHsKICAgICAgaWYgKHRoaXMuc2VydmljZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUKICAgICAgICB0aGlzLmxvYWRVT01TZXJ2aWNlQ29udmVyc2lvbigpCiAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgIH0KICAgIH0sCiAgICAvLyAnJHJvdXRlJzogJ2xvYWRVT01Db252ZXJzaW9uJwogIH0sCiAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgYXdhaXQgdGhpcy5sb2FkVU9NKCkKICAgIGF3YWl0IHRoaXMubG9hZFVPTVNlcnZpY2VDb252ZXJzaW9uKCkKICB9LAogIGNvbXB1dGVkOiB7CiAgICBiYXNlVU9NTmFtZSgpIHsKICAgICAgaWYgKHRoaXMuc2VydmljZSkgewogICAgICAgIGlmICh0aGlzLnNlcnZpY2UuaGFzT3duUHJvcGVydHkoJ3VvbScpKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLnVvbS5uYW1lCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiAnJwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJycKICAgICAgfQogICAgfSwKICAgIGJhc2VVT00oKSB7CiAgICAgIGlmICh0aGlzLnNlcnZpY2UpIHsKICAgICAgICBpZiAodGhpcy5zZXJ2aWNlLmhhc093blByb3BlcnR5KCd1b20nKSkgewogICAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZS51b20KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHt9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB7fQogICAgICB9CiAgICB9LAogICAgc2VydmljZUlkKCkgewogICAgICBpZiAodGhpcy5zZXJ2aWNlKSB7CiAgICAgICAgaWYgKHRoaXMuc2VydmljZS5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkgewogICAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZS5pZAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gJycKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICcnCiAgICAgIH0KICAgIH0sCiAgICBjb252ZXJzaW9uVU9NKCkgewogICAgICBpZiAodGhpcy5tVU9NKSB7CiAgICAgICAgcmV0dXJuICcxICcgKyB0aGlzLm1VT00ubmFtZSArICcgPSAnICsgKDEgLyB0aGlzLnVvbUNvbnZlcnNpb24ucmF0ZSkgKyAnICcgKyB0aGlzLmJhc2VVT01OYW1lCiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICcnCiAgICAgIH0KICAgIH0KICB9LAp9Cg=="},{"version":3,"sources":["Uom.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Uom.vue","sourceRoot":"src/views/services_projects/items/services_items","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n      <h2 class=\"float-left font_18\">{{ $t('unit_of_measure') }}</h2>\n      <v-dialog v-model=\"dialogm2\" max-width=\"600px\">\n        <template v-slot:activator=\"{ on }\">\n          <v-btn color=\"primary\" class=\"btn_create_new float-right \" v-on=\"on\"\n                 @click=\"newClick\">\n            {{ $t('new_uom') }}\n          </v-btn>\n        </template>\n        <v-card>\n          <div class=\"modal_header\">\n            <v-card-title>{{ $t('service_uom') }}</v-card-title>\n            <v-icon  @click=\"dialogm2 = false\">close</v-icon>\n          </div>\n          <v-card-text class=\"modal_text_content\">\n            <v-row>\n              <v-col sm=\"6\" cols=\"12\">\n\n                <p>{{$t('base')}} UOM </p>\n                <p class=\"text-bold\"> {{ baseUOMName }}</p>\n                <p>{{$t('the_conversion_uom')}}</p>\n\n              </v-col>\n              <v-col sm=\"6\" cols=\"12\">\n                <label class=\"label\">{{ $t('new_uom') }}</label>\n                <p class=\"text_tip\">{{ $t('1_day_base_uom') }}</p>\n                <v-select class=\"\"\n                          tage=\"UOM\"\n                          v-model=\"mUOM\"\n                          :items=\"uom\"\n                          item-value=\"id\"\n                          item-text=\"name\"\n                          @change=\"onUOMChanged\"\n                          return-object\n                          outlined/>\n\n                <label>{{ $t('rate') }}</label>\n                <v-text-field class=\" my-2\"\n                              outlined\n                              v-model=\"uomConversion.rate\"\n                              type=\"number\"\n                              tage=\"rate\"\n                              clearable/>\n                <p class=\"text_tip\">{{ $t('conversion_rate') }}</p>\n                <label> {{ conversionUOM }}</label>\n              </v-col>\n\n            </v-row>\n          </v-card-text>\n          <v-card-actions class=\"modal_footer\">\n            <v-row>\n              <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-left\">\n                <v-btn color=\"black\" outlined\n                       class=\" text-capitalize  black--text float-left\"\n                       @click=\"dialogm2 = false\">{{ $t('cancel') }}\n                </v-btn>\n              </v-col>\n              <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-right\">\n                <v-btn color=\"primary\" class=\"px-3  white--text text-capitalize\"\n                       @click=\"onSaveClose\">\n                  {{ $t('save_close') }}\n                </v-btn>\n              </v-col>\n            </v-row>\n          </v-card-actions>\n\n        </v-card>\n      </v-dialog>\n    </v-col>\n    <v-col sm=\"12\" clos=\"12\" class=\"pt-0\">\n      <LoadingMe\n          :isLoading=\"showLoading\"\n          :fullPage=\"false\"\n          type=\"loading\"\n          :myLoading=\"true\">\n\n      </LoadingMe>\n      <kendo-datasource ref=\"dataSource\"\n                        :data=\"uomServiceConversion\"\n                        :schema=\"gridSchema\"/>\n      <kendo-grid id=\"gridServiceUOM\"\n                  class=\"grid-function\"\n                  v-on:databound=\"dataBound\"\n                  :data-source-ref=\"'dataSource'\"\n                  :style=\"{width: '100%'}\"\n                  :noRecords=\"true\"\n                  :pageable-numeric=\"false\"\n                  :pageable-previous-next=\"false\"\n                  :pageable-messages-display=\"'Showing {2} data items'\"\n                  :scrollable-virtual=\"true\">\n        <kendo-grid-column\n            :field=\"'toUOM'\"\n            :title=\"$t('uom')\"\n            :width=\"100\"\n            :template=\"'<span>#=toUOM.name#</span>'\"\n            :groupHeaderColumnTemplate=\"'#=value#'\"\n            :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n        <kendo-grid-column\n            :field=\"'rate'\"\n            :title=\"$t('rate')\"\n            :width=\"100\"\n            :template=\"'<span>#=rate#</span>'\"\n            :attributes=\"{ style: 'text-align: right; ' }\"\n            :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n        <kendo-grid-column\n            :field=\"'conversionRate'\"\n            :title=\"$t('conversion_rate')\"\n            :attributes=\"{ style: 'text-align: right; ' }\"\n            :template=\"'<span>#=conversionRate#</span>'\"\n            :width=\"150\"\n            :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n        <kendo-grid-column\n            :field=\"''\"\n            :title=\"$t('action')\"\n            :width=\"70\"\n            :command=\"[{ text: $t('edit'), click: goEdit, className: 'k-state-disabled isSystem' }]\"\n            :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n      </kendo-grid>\n    </v-col>\n  </v-row>\n</template>\n<script>\n\nimport UOMConversion from \"@/scripts/model/UOMConversion\"\n\nconst uomHandler = require(\"@/scripts/uomHandler\")\nconst uomServiceConversionHandler = require(\"@/scripts/uomServiceConversionHandler\")\nconst $ = require(\"jquery\")\nimport kendo from \"@progress/kendo-ui\";\n\nlet uomConversionModel = new UOMConversion({})\nexport default {\n  props: {\n    service: {}\n  },\n  components: {\n    LoadingMe: () => import(`@/components/Loading`)\n  },\n  data: () => ({\n    dialogm2: false,\n    uom: [],\n    uoms: [],\n    mUOM: {},\n    mBaseUOM: {},\n    uomServiceConversion: [],\n    uomName: '',\n    gridSchema: {\n      model: {\n        id: \"id\"\n      }\n    },\n    showLoading: false,\n    uomConversion: uomConversionModel\n  }),\n  methods: {\n    dataBound: function (e) {\n      const grid = kendo.jQuery(\"#gridServiceUOM\").data(\"kendoGrid\")\n      const items = e.sender.items()\n      // window.console.log(items)\n      items.each(function () {\n        let dataItem = grid.dataItem(this);\n        $(\"tr[data-uid='\" + dataItem.uid + \"']\").find(\".isSystem\").each(function () {\n          if (dataItem.isSystem === 0) {\n            $(this).removeClass('k-state-disabled')\n          }\n        })\n      })\n    },\n    close() {\n      // window.history.go(-1)\n      this.dialogm2 = false\n    },\n    newClick() {\n      // this.uom = this.uoms.filter(item => {\n      //     return item.category.id === this.service.uom.category.id\n      // })\n      this.uomConversion = {}\n      this.mUOM = {}\n    },\n    onUOMChanged() {\n      this.uom = this.uoms.filter(item => {\n        return item.category.id === this.baseUOM.category.id && item.id !== this.baseUOM.id\n      })\n    },\n    async loadUOM() {\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved')\n          if (this.service) {\n            if (this.service.hasOwnProperty('uom')) {\n              uomHandler.get().then(res => {\n                this.uoms = res\n                this.showLoading = true\n                this.uom = this.uoms.filter(item => {\n                  this.showLoading = false\n                  return item.category.id === this.baseUOM.category.id && item.id !== this.baseUOM.id\n                })\n              })\n            }\n          }\n        }, 300)\n      })\n    },\n    async loadUOMServiceConversion() {\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved')\n          if (this.service) {\n            // window.console.log(this.product)\n            if (this.service.hasOwnProperty('uom')) {\n              uomServiceConversionHandler.get(this.serviceId).then(res => {\n                this.uomServiceConversion = res\n              })\n            }\n          }\n        }, 300)\n      })\n    },\n    async goEdit(e) {\n      e.preventDefault();\n      let grid = kendo.jQuery(\"#gridServiceUOM\").data(\"kendoGrid\");\n      let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n      this.uomConversion = dataItem\n      this.mUOM = dataItem.toUOM\n      this.dialogm2 = true\n      window.console.log(dataItem, 'val')\n    },\n    async onSaveClose() {\n      // if (!this.$refs.form.validate()) {\n      //   this.$refs.form.validate()\n      //   return\n      // }\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved');\n          let data = {\n            \"id\": this.uomConversion.id,\n            \"serviceId\": this.serviceId,\n            \"fromUOM\": this.baseUOM,\n            \"toUOM\": this.mUOM,\n            \"rate\": this.uomConversion.rate,\n            \"skip\": this.uomServiceConversion.length > 0\n          }\n          this.showLoading = true\n          uomServiceConversionHandler.create(this.serviceId, data).then(response => {\n            if (response.data.statusCode === 201) {\n              this.showLoading = false\n              let res = response.data.data\n              const index = this.uomServiceConversion.findIndex(item => {\n                return (res.id === item.id)\n              })\n              if (index < 0) {\n                this.uomServiceConversion.push(res)\n              } else {\n                this.uomServiceConversion.splice(index, 1, res)\n              }\n              // this.uomServiceConversion.push(response.data.data)\n              this.$snotify.success('Success')\n              this.close()\n            }\n          }).catch(e => {\n            this.$snotify.error('Something went wrong')\n            this.showLoading = false\n            this.errors.push(e)\n          })\n        }, 50);\n      })\n    },\n  },\n  watch: {\n    service() {\n      if (this.service !== undefined) {\n        this.showLoading = true\n        this.loadUOMServiceConversion()\n        this.showLoading = false\n      }\n    },\n    // '$route': 'loadUOMConversion'\n  },\n  mounted: async function () {\n    await this.loadUOM()\n    await this.loadUOMServiceConversion()\n  },\n  computed: {\n    baseUOMName() {\n      if (this.service) {\n        if (this.service.hasOwnProperty('uom')) {\n          return this.service.uom.name\n        } else {\n          return ''\n        }\n      } else {\n        return ''\n      }\n    },\n    baseUOM() {\n      if (this.service) {\n        if (this.service.hasOwnProperty('uom')) {\n          return this.service.uom\n        } else {\n          return {}\n        }\n      } else {\n        return {}\n      }\n    },\n    serviceId() {\n      if (this.service) {\n        if (this.service.hasOwnProperty('id')) {\n          return this.service.id\n        } else {\n          return ''\n        }\n      } else {\n        return ''\n      }\n    },\n    conversionUOM() {\n      if (this.mUOM) {\n        return '1 ' + this.mUOM.name + ' = ' + (1 / this.uomConversion.rate) + ' ' + this.baseUOMName\n      } else {\n        return ''\n      }\n    }\n  },\n}\n</script>\n"]}]}