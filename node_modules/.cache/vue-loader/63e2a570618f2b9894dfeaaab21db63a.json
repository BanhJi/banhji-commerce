{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/settings/currency/ReportingExchangeRate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/settings/currency/ReportingExchangeRate.vue","mtime":1638499443317},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBSZXBvcnRpbmdDdXJyZW5jeU1vZGVsIGZyb20gIkAvc2NyaXB0cy9jdXJyZW5jeS9tb2RlbC9SZXBvcnRpbmdDdXJyZW5jeSI7CmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwppbXBvcnQgSGVscGVyIGZyb20gIkAvaGVscGVyIjsKCmNvbnN0IGN1cnJlbmN5SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jdXJyZW5jeS9oYW5kbGVyL2N1cnJlbmN5SGFuZGxlciIpOwpjb25zdCByZXBvcnRpbmdDdXJyZW5jeU1vZGVsID0gbmV3IFJlcG9ydGluZ0N1cnJlbmN5TW9kZWwoe30pOwpjb25zdCAkID0ga2VuZG8ualF1ZXJ5OwovKiBDb29raWUgKi8KY29uc3QgY29va2llSlMgPSByZXF1aXJlKCJAL2Nvb2tpZS5qcyIpOwpjb25zdCB7aW5zdGl0dXRlSWR9ID0gY29va2llSlMuZ2V0Q29va2llKCk7Cgpjb25zdCBpbnN0aXR1dGVIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2luc3RpdHV0ZUhhbmRsZXIiKTsKY29uc3QgY3VycmVuY3lUeXBlID0gewogICAgRlVOQ1RJT05BTF9DVVJSRU5DWTogImZ1bi1jIiwKICAgIFRSQU5TQUNUSU9OX0NVUlJFTkNZOiAidHhuLWMiLAogICAgUkVQT1JUSU5HX0NVUlJFTkNZOiAicnB0LWMiLAogICAgVEFYX0VYQ0hBTkdFX0NVUlJFTkNZOiAidGF4LWMiLAp9OwoKaW1wb3J0IEpTWmlwIGZyb20gImpzemlwIjsKCndpbmRvdy5KU1ppcCA9IEpTWmlwOwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiUmVwb3J0aW5nQ3VycmVuY3kiLAogICAgY29tcG9uZW50czogewogICAgICAgICJhcHAtZGF0ZXBpY2tlciI6ICgpID0+IGltcG9ydChgQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvRGF0ZVBpY2tlckNvbXBvbmVudGApLAogICAgICAgIExvYWRpbmdNZTogKCkgPT4gaW1wb3J0KGBAL2NvbXBvbmVudHMvTG9hZGluZ2ApLAogICAgfSwKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgICBzaG93TG9hZGluZzogdHJ1ZSwKICAgICAgICBsb2FkaW5nQWxlcnQ6IGZhbHNlLAogICAgICAgIGxvYWRpbmdDb2xvckFsZXJ0OiAiIiwKICAgICAgICBsb2FkaW5nVGV4dEFsZXJ0OiAiIiwKICAgICAgICBjdXJyZW5jeUxpc3Q6IFtdLAogICAgICAgIHJwdFBlcmlvZHM6IFtdLAogICAgICAgIHJwdEN1cnJlbmN5TGlzdDogW10sCiAgICAgICAgZnVuY0N1cnJlbmN5TGlzdDogW10sCiAgICAgICAgbUN1cnJlbmN5OiB7fSwKICAgICAgICBjb21wYW55OiB7fSwKICAgICAgICB0eG5EYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwKICAgICAgICBtWWVhcjoge30sCiAgICAgICAgZmlzY2FsRGF0ZXM6IFtdLAogICAgICAgIHJlcG9ydGluZ0N1cnJlbmN5OiByZXBvcnRpbmdDdXJyZW5jeU1vZGVsLAogICAgICAgIGRhdGVGb3JtYXQ6IHJlcG9ydGluZ0N1cnJlbmN5TW9kZWwuZGF0ZUZvcm1hdCwKICAgICAgICByZXBvcnRpbmdQZXJpb2RUeXBlczogWyJNb250aGx5IiwgIlF1YXJ0ZXJseSIsICJTZW1pLUFubnVhbGx5IiwgIkFubnVhbGx5Il0sCiAgICAgICAgbVBlcmlvZDogIk1vbnRobHkiLAogICAgICAgIGJ0bkRpc2FibGVkOiBmYWxzZQogICAgfSksCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgbG9hZEluc3RpdHV0ZUluZm8oKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpbnN0aXR1dGVIYW5kbGVyLmdldE9uZUNvbXBhbnkoaW5zdGl0dXRlSWQpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBhbnkgPSByZXM7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmZCA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb21wYW55Lmhhc093blByb3BlcnR5KCJmaXNjYWxEYXRlIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkID0gdGhpcy5jb21wYW55LmZpc2NhbERhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpc2NhbERhdGVzID0gZmQubWFwKChuKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG4udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiBuLnN0YXJ0X2RhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6IG5ldyBEYXRlKG4uc3RhcnRfZGF0ZSkuZ2V0RnVsbFllYXIoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5maXNjYWxEYXRlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tWWVhciA9IHRoaXMuZmlzY2FsRGF0ZXMuZmlsdGVyKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobSkgPT4gbS55ZWFyID09PSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZEN1cnJlbmN5RGF0YSh0eXBlKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5SGFuZGxlcgogICAgICAgICAgICAgICAgICAgICAgICAubGlzdCh0eXBlKQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gY3VycmVuY3lUeXBlLkZVTkNUSU9OQUxfQ1VSUkVOQ1kpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mdW5jQ3VycmVuY3lMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gY3VycmVuY3lUeXBlLlJFUE9SVElOR19DVVJSRU5DWSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbmN5TGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIG9uU2F2ZUNsb3NlKCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0aW5nQ3VycmVuY3kucmF0ZSAmJgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1DdXJyZW5jeS5jb2RlICYmCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHhuRGF0ZQogICAgICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJpb2QgPSB0aGlzLnJlcG9ydGluZ0N1cnJlbmN5LnBlcmlvZCB8fCB7fQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5ZWFyID0gdGhpcy5tWWVhciB8fCB7fQoKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5yZXBvcnRpbmdDdXJyZW5jeS5pZCA/IHRoaXMucmVwb3J0aW5nQ3VycmVuY3kuaWQgOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGN1cnJlbmN5VHlwZS5SRVBPUlRJTkdfQ1VSUkVOQ1ksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm1DdXJyZW5jeS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogdGhpcy5tQ3VycmVuY3kuY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbDogdGhpcy5tQ3VycmVuY3kuc3ltYm9sLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkRGF0ZTogdGhpcy50eG5EYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkRGF0ZVRaOiBIZWxwZXIudG9JU09EYXRlKHRoaXMudHhuRGF0ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHllYXIuaWQgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiB5ZWFyLnN0YXJ0RGF0ZSB8fCAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyOiB5ZWFyLnllYXIgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlkOiB5ZWFyLnVpZCB8fCAnJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmlvZFR5cGU6IHRoaXMubVBlcmlvZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmlvZDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBwZXJpb2QuaWQgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogcGVyaW9kLmNvZGUgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcGVyaW9kLm5hbWUgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiBwZXJpb2Quc3RhcnREYXRlIHx8ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZERhdGU6IHBlcmlvZC5lbmREYXRlIHx8ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpc2NhbERhdGU6IHBlcmlvZC5maXNjYWxEYXRlIHx8ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpZDogcGVyaW9kLnVpZCB8fCAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMucmVwb3J0aW5nQ3VycmVuY3kuc291cmNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiTWFudWFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGU6IHRoaXMucmVwb3J0aW5nQ3VycmVuY3kucmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbE5hdGl2ZTogdGhpcy5tQ3VycmVuY3kuc3ltYm9sTmF0aXZlLAogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ0bkRpc2FibGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeUhhbmRsZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jcmVhdGUoZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ0bkRpc2FibGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5LnN1Y2Nlc3MoIlN1Y2Nlc3NmdWxseSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRDdXJyZW5jeURhdGEoY3VycmVuY3lUeXBlLlJFUE9SVElOR19DVVJSRU5DWSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idG5EaXNhYmxlZCA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ0bkRpc2FibGVkID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5LmVycm9yKCJTb21ldGhpbmcgd2VudCB3cm9uZyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgY2FuY2VsKCkgewogICAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgY2xlYXIoKSB7CiAgICAgICAgICAgIHRoaXMuYnRuRGlzYWJsZWQgPSBmYWxzZQogICAgICAgICAgICB0aGlzLnJlcG9ydGluZ0N1cnJlbmN5ID0ge307CiAgICAgICAgICAgIHRoaXMubG9hZEN1cnJlbmN5RGF0YShjdXJyZW5jeVR5cGUuRlVOQ1RJT05BTF9DVVJSRU5DWSkKICAgICAgICB9LAogICAgICAgIGdvRWRpdChlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgdGhpcy5idG5EaXNhYmxlZCA9IGZhbHNlCiAgICAgICAgICAgIGxldCBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZFJlcG9ydGluZ0N1cnJlbmN5IikuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgICAgICAgIGxldCBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwogICAgICAgICAgICB0aGlzLnJlcG9ydGluZ0N1cnJlbmN5ID0gZGF0YUl0ZW07CiAgICAgICAgICAgIHRoaXMubUN1cnJlbmN5ID0gZGF0YUl0ZW07CiAgICAgICAgICAgIHRoaXMudHhuRGF0ZSA9IGRhdGFJdGVtLnJlY29yZERhdGU7CgogICAgICAgICAgICB0aGlzLm1ZZWFyID0gZGF0YUl0ZW0ueWVhcjsKICAgICAgICAgICAgdGhpcy5sb2FkUmVwb3J0aW5nUGVyaW9kKCk7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZTsKICAgICAgICB9LAogICAgICAgIGZvcm1hdFJlY29yZERhdGUoZGF0YUl0ZW0pIHsKICAgICAgICAgICAgaWYgKGRhdGFJdGVtLmhhc093blByb3BlcnR5KCJyZWNvcmREYXRlIikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZygKICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZShkYXRhSXRlbS5yZWNvcmREYXRlKSwKICAgICAgICAgICAgICAgICAgICBgJHt0aGlzLmRhdGVGb3JtYXR9YAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgfSwKICAgICAgICBmb3JZZWFyKGRhdGFJdGVtKSB7CiAgICAgICAgICAgIGlmIChkYXRhSXRlbS5oYXNPd25Qcm9wZXJ0eSgieWVhciIpKSB7CiAgICAgICAgICAgICAgICBpZiAoZGF0YUl0ZW0ueWVhci5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhSXRlbS55ZWFyLnllYXI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0sCiAgICAgICAgcGVyaW9kKGRhdGFJdGVtKSB7CiAgICAgICAgICAgIGlmIChkYXRhSXRlbS5oYXNPd25Qcm9wZXJ0eSgicGVyaW9kIikpIHsKICAgICAgICAgICAgICAgIGlmIChkYXRhSXRlbS5wZXJpb2QuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YUl0ZW0ucGVyaW9kLmNvZGUgKyAiLyIgKyBkYXRhSXRlbS5wZXJpb2QubmFtZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgfSwKICAgICAgICBmb3JtYXRDcmVhdGVkQXQoZGF0YUl0ZW0pIHsKICAgICAgICAgICAgaWYgKGRhdGFJdGVtLmhhc093blByb3BlcnR5KCJjcmVhdGVkQXQiKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKAogICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKGRhdGFJdGVtLmNyZWF0ZWRBdCksCiAgICAgICAgICAgICAgICAgICAgYCR7dGhpcy5kYXRlRm9ybWF0fWAKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZFJlcG9ydGluZ1BlcmlvZCgpIHsKICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lIYW5kbGVyCiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBvcnRpbmdQZXJpb2QodGhpcy5tUGVyaW9kLCB0aGlzLm1ZZWFyLnN0YXJ0RGF0ZSkKICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJwdFBlcmlvZHMgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgZXhjZWxFeHBvcnQ6IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIC8vIGNvbnN0IHBpdm90ID0gdGhpcy4kcmVmcy5ncmlkVHJhbnNhY3Rpb25EUy5rZW5kb1dpZGdldCgpCiAgICAgICAgICAgIC8vIHBpdm90LnNhdmVBc0V4Y2VsKCkKICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGUuZGF0YSk7CiAgICAgICAgfSwKICAgICAgICBpbml0VG9vbGJhcih0aGF0KSB7CiAgICAgICAgICAgIGxldCBncmlkID0gJCgiI2dyaWRSZXBvcnRpbmdDdXJyZW5jeSIpLmRhdGEoImtlbmRvR3JpZCIpOwogICAgICAgICAgICBsZXQgZ3JpZEVsZW1lbnQgPSBncmlkLmVsZW1lbnQ7CiAgICAgICAgICAgIGxldCB0b29sYmFyRWxlbWVudCA9IGdyaWRFbGVtZW50LmZpbmQoIi5rLWdyaWQtdG9vbGJhciIpOwogICAgICAgICAgICB0b29sYmFyRWxlbWVudC5vbigiY2xpY2siLCAiLmstcGFnZXItcmVmcmVzaCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBvblJlbG9hZERhdGEodGhhdCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0b29sYmFyRWxlbWVudC5vbigiY2xpY2siLCAiLmstcGFnZXItZXhjZWwiLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgb25FeHBvcnRFeGNlbCh0aGF0KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBmdW5jdGlvbiBvblJlbG9hZERhdGEodGhhdCkgewogICAgICAgICAgICAgICAgdGhhdC5sb2FkQ3VycmVuY3lEYXRhKGN1cnJlbmN5VHlwZS5SRVBPUlRJTkdfQ1VSUkVOQ1kpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBvbkV4cG9ydEV4Y2VsKHRoYXQpIHsKICAgICAgICAgICAgICAgIHRoYXQuZXhwb3J0VG9FeGNlbCgpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB0b29sYmFyVGVtcGxhdGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVIdG1sID0KICAgICAgICAgICAgICAgICc8c3Bhbj4nICsKICAgICAgICAgICAgICAgICc8YSBjbGFzcz0iay1wYWdlci1leGNlbCBrLWxpbmsgay1idXR0b24gZXhjZWwiIHRpdGxlPSJFeHBvcnQgdG8gRXhjZWwiPiA8c3BhbiBjbGFzcz0iay1pY29uIGstaS1leGNlbCI+PC9zcGFuPkV4cG9ydCB0byBleGNlbCA8L2E+JyArCiAgICAgICAgICAgICAgICAnPC9zcGFuPjxzcGFuPiZuYnNwOyZuYnNwOzwvc3Bhbj4nICsKICAgICAgICAgICAgICAgICc8c3BhbiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7IHJpZ2h0OjVweCI+JyArCiAgICAgICAgICAgICAgICAnPC9zcGFuPicgKwogICAgICAgICAgICAgICAgJzxzcGFuPicgKwogICAgICAgICAgICAgICAgJzxhIGNsYXNzPSJrLXBhZ2VyLXJlZnJlc2ggay1saW5rIGstYnV0dG9uIHJlbG9hZCIgdGl0bGU9IlJlZnJlc2giPjxzcGFuIGNsYXNzPSJrLWljb24gay1pLXJlbG9hZCI+PC9zcGFuPiBSZWZyZXNoIDwvYT4nICsKICAgICAgICAgICAgICAgICc8L3NwYW4+JwoKICAgICAgICAgICAgcmV0dXJuIGtlbmRvLnRlbXBsYXRlKHRlbXBsYXRlSHRtbCkKICAgICAgICB9LAogICAgICAgIGV4cG9ydFRvRXhjZWwoKSB7CiAgICAgICAgICAgIGNvbnN0IGdyaWQgPSAkKCIjZ3JpZFJlcG9ydGluZ0N1cnJlbmN5IikuZGF0YSgia2VuZG9HcmlkIikKICAgICAgICAgICAgZ3JpZC5zYXZlQXNFeGNlbCgpCiAgICAgICAgfSwKICAgIH0sCiAgICBtb3VudGVkOiBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgICAgYXdhaXQgdGhpcy5sb2FkSW5zdGl0dXRlSW5mbygpOwogICAgICAgIGF3YWl0IHRoaXMubG9hZEN1cnJlbmN5RGF0YShjdXJyZW5jeVR5cGUuRlVOQ1RJT05BTF9DVVJSRU5DWSk7CiAgICAgICAgYXdhaXQgdGhpcy5sb2FkQ3VycmVuY3lEYXRhKGN1cnJlbmN5VHlwZS5SRVBPUlRJTkdfQ1VSUkVOQ1kpOwogICAgICAgIGF3YWl0IHRoaXMubG9hZFJlcG9ydGluZ1BlcmlvZCgpOwogICAgICAgIGF3YWl0IHRoaXMuaW5pdFRvb2xiYXIodGhpcyk7CiAgICB9LAp9Owo="},{"version":3,"sources":["ReportingExchangeRate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgRA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReportingExchangeRate.vue","sourceRoot":"src/views/settings/currency","sourcesContent":["<template>\n    <v-row>\n        <v-col sm=\"12\" cols=\"12\" class=\"grayBg px-3\">\n            <v-card color=\"white\" class=\"pa-3 no_border\" elevation=\"0\">\n                <v-row class=\"\">\n                    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                        <template>\n                            <v-dialog v-model=\"dialog\" max-width=\"500px\">\n                                <template v-slot:activator=\"{ on, attrs }\">\n                                    <v-btn\n                                        color=\"primary\"\n                                        class=\" text-capitalize white--text float-right\"\n                                        @click=\"clear\"\n                                        v-bind=\"attrs\"\n                                        v-on=\"on\"\n                                    >\n                                        <v-icon size=\"15\" class=\"ma-1 mr-2\">mdi-plus</v-icon>\n                                        {{ $t(\"new\") }}\n                                    </v-btn>\n                                </template>\n\n                                <v-card>\n                                    <div class=\"modal_header\">\n                                        <v-card-title\n                                        >{{ $t(\"reporting_exchange_rate\") }}\n                                        </v-card-title>\n                                        <v-icon @click=\"dialog = false\">\n                                            close\n                                        </v-icon>\n                                    </div>\n                                    <v-card-text class=\"modal_text_content\">\n                                        <v-row>\n                                            <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{ $t(\"record_date\") }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"reportingCurrency.recordDate\"\n                                                    @emitDate=\"txnDate = $event\"\n                                                />\n                                            </v-col>\n                                            <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{ $t(\"for_year\") }}</label>\n\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :items=\"fiscalDates\"\n                                                    v-model=\"mYear\"\n                                                    item-text=\"year\"\n                                                    item-value=\"id\"\n                                                    @change=\"loadReportingPeriod\"\n                                                    return-object\n                                                    outlined\n                                                >\n                                                </v-select>\n                                            </v-col>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                <label class=\"label\">{{ $t(\"currency\") }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :items=\"funcCurrencyList\"\n                                                    v-model=\"mCurrency\"\n                                                    item-value=\"code\"\n                                                    :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                    return-object\n                                                    outlined\n                                                >\n                                                </v-select>\n                                            </v-col>\n\n                                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                <label class=\"label\">{{ $t(\"rate\") }}</label>\n                                                <v-text-field\n                                                    class=\"mt-1\"\n                                                    v-model=\"reportingCurrency.rate\"\n                                                    outlined\n                                                />\n                                            </v-col>\n                                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                <label class=\"label\">{{ $t(\"source\") }}</label>\n                                                <v-text-field\n                                                    class=\"mt-1\"\n                                                    v-model=\"reportingCurrency.source\"\n                                                    outlined\n                                                    placeholder=\"\"\n                                                />\n                                            </v-col>\n\n                                            <v-col sm=\"12\" cols=\"12\" class=\" py-0\">\n                                                <label class=\"label\">{{\n                                                        $t(\"for_report_period\")\n                                                    }}</label>\n                                                <v-row>\n                                                    <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            :items=\"reportingPeriodTypes\"\n                                                            @change=\"loadReportingPeriod\"\n                                                            v-model=\"mPeriod\"\n                                                            return-object\n                                                            outlined\n                                                        >\n                                                        </v-select>\n                                                    </v-col>\n                                                    <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                        <v-select\n                                                            class=\"mt-1\"\n                                                            :items=\"rptPeriods\"\n                                                            v-model=\"reportingCurrency.period\"\n                                                            item-value=\"id\"\n                                                            :item-text=\"\n                                (item) => `${item.code} - ${item.name}`\n                              \"\n                                                            return-object\n                                                            outlined\n                                                        />\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card-text>\n                                    <v-divider/>\n                                    <v-card-actions class=\"modal_footer\">\n                                        <v-row>\n                                            <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-left\">\n                                                <v-btn\n                                                    color=\"primary\"\n                                                    outlined\n                                                    class=\" text-capitalize  black--text float-left\"\n                                                    @click=\"dialog = false\"\n                                                >{{ $t(\"cancel\") }}\n                                                </v-btn>\n                                            </v-col>\n                                            <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-right\">\n                                                <v-btn\n                                                    color=\"primary\"\n                                                    class=\"px-3  white--text text-capitalize\"\n                                                    @click=\"onSaveClose\"\n                                                    :disabled=\"btnDisabled\"\n                                                >\n                                                    {{ $t(\"save_close\") }}\n                                                </v-btn>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card-actions>\n                                </v-card>\n                            </v-dialog>\n                        </template>\n                    </v-col>\n\n                    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                        <LoadingMe\n                            :isLoading=\"showLoading\"\n                            :fullPage=\"false\"\n                            :myLoading=\"true\"\n                            type=\"loading\"\n                        />\n                        <kendo-datasource ref=\"rptDS\" :data=\"currencyList\"/>\n\n                        <kendo-grid\n                            id=\"gridReportingCurrency\"\n                            class=\"grid-function\"\n                            :data-source-ref=\"'rptDS'\"\n                            :sortable=\"false\"\n                            :filterable=\"false\"\n                            :column-menu=\"true\"\n                            :editable=\"false\"\n                            :resizable=\"true\"\n                            :toolbar=\"toolbarTemplate\"\n                            :excel-export=\"excelExport\"\n                            :excel-file-name=\"'ReportingCurrency.xlsx'\"\n                            :excel-filterable=\"true\"\n                            :scrollable-virtual=\"true\"\n                        >\n                            <kendo-grid-column\n                                :field=\"'createdAt'\"\n                                :title=\"$t('date')\"\n                                :template=\"formatCreatedAt\"\n                                :column-menu=\"false\"\n                                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5;',\n                  class: 'text-products',\n                }\"\n                                :attributes=\"{\n                  style: 'text-align: products',\n                }\"\n                            />\n                            <kendo-grid-column\n                                :field=\"'recordDate'\"\n                                :title=\"$t('record_date')\"\n                                :template=\"formatRecordDate\"\n                                :column-menu=\"false\"\n                                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5;',\n                  class: 'text-products',\n                }\"\n                                :attributes=\"{\n                  style: 'text-align: products',\n                }\"\n                            />\n                            <kendo-grid-column\n                                :field=\"'code'\"\n                                :title=\"$t('code')\"\n                                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n                            />\n                            <kendo-grid-column\n                                :field=\"'rate'\"\n                                :title=\"$t('rate')\"\n                                :headerAttributes=\"{ style: ' background-color: #EDF1F5' }\"\n                                :attributes=\"{ style: '' }\"\n                            />\n                            <kendo-grid-column\n                                :field=\"'name'\"\n                                :attributes=\"{ class: 'tb_name_td' }\"\n                                :title=\"$t('name')\"\n                                :hidden=\"true\"\n                                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n                            />\n                            <kendo-grid-column\n                                :field=\"'year'\"\n                                :title=\"$t('year')\"\n                                :template=\"forYear\"\n                                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n                            />\n                            <kendo-grid-column\n                                :field=\"'period'\"\n                                :title=\"$t('period')\"\n                                :template=\"period\"\n                                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n                            />\n                            <kendo-grid-column\n                                :field=\"'periodType'\"\n                                :title=\"$t('period_type')\"\n                                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n                            />\n                            <kendo-grid-column\n                                :field=\"'source'\"\n                                :title=\"$t('sources')\"\n                                :hidden=\"true\"\n                                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n                            />\n                            <kendo-grid-column\n                                :command=\"{\n                  iconClass: 'k-icon k-i-edit',\n                  text: ' ',\n                  class: 'btn-plus',\n                  click: goEdit,\n                }\"\n                                :title=\"$t('action')\"\n                                :headerAttributes=\"{\n                  style: 'text-align: right; background-color: #EDF1F5',\n                }\"\n                            />\n                        </kendo-grid>\n                    </v-col>\n                </v-row>\n            </v-card>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\nimport ReportingCurrencyModel from \"@/scripts/currency/model/ReportingCurrency\";\nimport kendo from \"@progress/kendo-ui\";\nimport Helper from \"@/helper\";\n\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\");\nconst reportingCurrencyModel = new ReportingCurrencyModel({});\nconst $ = kendo.jQuery;\n/* Cookie */\nconst cookieJS = require(\"@/cookie.js\");\nconst {instituteId} = cookieJS.getCookie();\n\nconst instituteHandler = require(\"@/scripts/instituteHandler\");\nconst currencyType = {\n    FUNCTIONAL_CURRENCY: \"fun-c\",\n    TRANSACTION_CURRENCY: \"txn-c\",\n    REPORTING_CURRENCY: \"rpt-c\",\n    TAX_EXCHANGE_CURRENCY: \"tax-c\",\n};\n\nimport JSZip from \"jszip\";\n\nwindow.JSZip = JSZip;\nexport default {\n    name: \"ReportingCurrency\",\n    components: {\n        \"app-datepicker\": () => import(`@/components/custom_templates/DatePickerComponent`),\n        LoadingMe: () => import(`@/components/Loading`),\n    },\n    data: () => ({\n        dialog: false,\n        showLoading: true,\n        loadingAlert: false,\n        loadingColorAlert: \"\",\n        loadingTextAlert: \"\",\n        currencyList: [],\n        rptPeriods: [],\n        rptCurrencyList: [],\n        funcCurrencyList: [],\n        mCurrency: {},\n        company: {},\n        txnDate: new Date().toISOString().substr(0, 10),\n        mYear: {},\n        fiscalDates: [],\n        reportingCurrency: reportingCurrencyModel,\n        dateFormat: reportingCurrencyModel.dateFormat,\n        reportingPeriodTypes: [\"Monthly\", \"Quarterly\", \"Semi-Annually\", \"Annually\"],\n        mPeriod: \"Monthly\",\n        btnDisabled: false\n    }),\n    methods: {\n        async loadInstituteInfo() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    instituteHandler.getOneCompany(instituteId).then((res) => {\n                        this.company = res;\n                        let fd = [];\n                        if (this.company.hasOwnProperty(\"fiscalDate\")) {\n                            fd = this.company.fiscalDate;\n                            this.fiscalDates = fd.map((n) => {\n                                return {\n                                    id: n.uuid,\n                                    startDate: n.start_date,\n                                    year: new Date(n.start_date).getFullYear(),\n                                };\n                            });\n                            if (this.fiscalDates.length > 0) {\n                                this.mYear = this.fiscalDates.filter(\n                                    (m) => m.year === new Date().getFullYear()\n                                )[0];\n                            }\n                        }\n                    });\n                    resolve(\"resolved\");\n                }, 200);\n            });\n        },\n        async loadCurrencyData(type) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    currencyHandler\n                        .list(type)\n                        .then((response) => {\n                            if (response.data.statusCode === 200) {\n                                this.showLoading = false;\n                                if (type === currencyType.FUNCTIONAL_CURRENCY) {\n                                    this.funcCurrencyList = response.data.data;\n                                } else if (type === currencyType.REPORTING_CURRENCY) {\n                                    this.currencyList = response.data.data;\n                                }\n                            } else {\n                                this.showLoading = false;\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async onSaveClose() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (\n                        this.reportingCurrency.rate &&\n                        this.mCurrency.code &&\n                        this.txnDate\n                    ) {\n                        const period = this.reportingCurrency.period || {}\n                        const year = this.mYear || {}\n\n                        let data = {\n                            id: this.reportingCurrency.id ? this.reportingCurrency.id : \"\",\n                            type: currencyType.REPORTING_CURRENCY,\n                            name: this.mCurrency.name,\n                            code: this.mCurrency.code,\n                            symbol: this.mCurrency.symbol,\n                            recordDate: this.txnDate,\n                            recordDateTZ: Helper.toISODate(this.txnDate),\n                            year: {\n                                id: year.id || '',\n                                startDate: year.startDate || '',\n                                year: year.year || '',\n                                uid: year.uid || ''\n                            },\n                            periodType: this.mPeriod,\n                            period: {\n                                id: period.id || '',\n                                code: period.code || '',\n                                name: period.name || '',\n                                startDate: period.startDate || '',\n                                endDate: period.endDate || '',\n                                fiscalDate: period.fiscalDate || '',\n                                uid: period.uid || '',\n                            },\n                            source: this.reportingCurrency.source,\n                            method: \"Manual\",\n                            rate: this.reportingCurrency.rate,\n                            symbolNative: this.mCurrency.symbolNative,\n                        };\n                        window.console.log('data', data)\n                        this.btnDisabled = true\n                        this.showLoading = true\n                        currencyHandler\n                            .create(data)\n                            .then((response) => {\n                                if (response.data.statusCode === 201) {\n                                    this.btnDisabled = true\n                                    this.showLoading = true\n                                    this.$snotify.success(\"Successfully\");\n                                    this.cancel();\n                                    this.loadCurrencyData(currencyType.REPORTING_CURRENCY);\n                                } else {\n                                    this.btnDisabled = false\n                                    this.showLoading = false\n                                }\n                            })\n                            .catch((e) => {\n                                this.btnDisabled = false\n                                this.showLoading = false\n                                this.$snotify.error(\"Something went wrong\");\n                                this.errors.push(e);\n                            });\n                    }\n                }, 10);\n            });\n        },\n        cancel() {\n            this.dialog = false;\n        },\n        clear() {\n            this.btnDisabled = false\n            this.reportingCurrency = {};\n            this.loadCurrencyData(currencyType.FUNCTIONAL_CURRENCY)\n        },\n        goEdit(e) {\n            e.preventDefault();\n            this.btnDisabled = false\n            let grid = kendo.jQuery(\"#gridReportingCurrency\").data(\"kendoGrid\");\n            let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n            this.reportingCurrency = dataItem;\n            this.mCurrency = dataItem;\n            this.txnDate = dataItem.recordDate;\n\n            this.mYear = dataItem.year;\n            this.loadReportingPeriod();\n            this.dialog = true;\n        },\n        formatRecordDate(dataItem) {\n            if (dataItem.hasOwnProperty(\"recordDate\")) {\n                return kendo.toString(\n                    new Date(dataItem.recordDate),\n                    `${this.dateFormat}`\n                );\n            }\n            return \"\";\n        },\n        forYear(dataItem) {\n            if (dataItem.hasOwnProperty(\"year\")) {\n                if (dataItem.year.hasOwnProperty(\"id\")) {\n                    return dataItem.year.year;\n                }\n            }\n            return \"\";\n        },\n        period(dataItem) {\n            if (dataItem.hasOwnProperty(\"period\")) {\n                if (dataItem.period.hasOwnProperty(\"id\")) {\n                    return dataItem.period.code + \"/\" + dataItem.period.name;\n                }\n            }\n            return \"\";\n        },\n        formatCreatedAt(dataItem) {\n            if (dataItem.hasOwnProperty(\"createdAt\")) {\n                return kendo.toString(\n                    new Date(dataItem.createdAt),\n                    `${this.dateFormat}`\n                );\n            }\n            return \"\";\n        },\n        async loadReportingPeriod() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    currencyHandler\n                        .reportingPeriod(this.mPeriod, this.mYear.startDate)\n                        .then((response) => {\n                            if (response.data.statusCode === 200) {\n                                this.rptPeriods = response.data.data;\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n\n        excelExport: function (e) {\n            // const pivot = this.$refs.gridTransactionDS.kendoWidget()\n            // pivot.saveAsExcel()\n            window.console.log(e.data);\n        },\n        initToolbar(that) {\n            let grid = $(\"#gridReportingCurrency\").data(\"kendoGrid\");\n            let gridElement = grid.element;\n            let toolbarElement = gridElement.find(\".k-grid-toolbar\");\n            toolbarElement.on(\"click\", \".k-pager-refresh\", function (e) {\n                e.preventDefault();\n                onReloadData(that);\n            });\n            toolbarElement.on(\"click\", \".k-pager-excel\", function (e) {\n                e.preventDefault();\n                onExportExcel(that);\n            });\n\n            function onReloadData(that) {\n                that.loadCurrencyData(currencyType.REPORTING_CURRENCY);\n            }\n\n            function onExportExcel(that) {\n                that.exportToExcel();\n            }\n        },\n        toolbarTemplate: function () {\n            const templateHtml =\n                '<span>' +\n                '<a class=\"k-pager-excel k-link k-button excel\" title=\"Export to Excel\"> <span class=\"k-icon k-i-excel\"></span>Export to excel </a>' +\n                '</span><span>&nbsp;&nbsp;</span>' +\n                '<span style=\"position:absolute; right:5px\">' +\n                '</span>' +\n                '<span>' +\n                '<a class=\"k-pager-refresh k-link k-button reload\" title=\"Refresh\"><span class=\"k-icon k-i-reload\"></span> Refresh </a>' +\n                '</span>'\n\n            return kendo.template(templateHtml)\n        },\n        exportToExcel() {\n            const grid = $(\"#gridReportingCurrency\").data(\"kendoGrid\")\n            grid.saveAsExcel()\n        },\n    },\n    mounted: async function () {\n        await this.loadInstituteInfo();\n        await this.loadCurrencyData(currencyType.FUNCTIONAL_CURRENCY);\n        await this.loadCurrencyData(currencyType.REPORTING_CURRENCY);\n        await this.loadReportingPeriod();\n        await this.initToolbar(this);\n    },\n};\n</script>\n<style scoped></style>\n"]}]}