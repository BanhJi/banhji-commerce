{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/banking/settings/BankFieldMappings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/banking/settings/BankFieldMappings.vue","mtime":1638499443133},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCB7aTE4bn0gZnJvbSAnQC9pMThuJwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKLy8gaW1wb3J0IEhlbHBlciBmcm9tICJAL2hlbHBlci5qcyI7CmltcG9ydCB7CglCYW5rVHJhbnNhY3Rpb25NYXBwaW5nTW9kZWwsCglCYW5rTW9kZWwsCn0gZnJvbSAiQC9zY3JpcHRzL21vZGVsL0FwcE1vZGVscyI7CgovKiBTdG9yZSAqLwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7Cgpjb25zdCB7IEJhbmtNYXBwaW5nVHlwZSB9ID0gcmVxdWlyZSgiQC9zY3JpcHRzL2RlZmF1bHRfc2V0dXAvQ29sbGVjdGlvbnMiKTsKCmV4cG9ydCBkZWZhdWx0IHsKCWNvbXBvbmVudHM6IHsKCQkiTG9hZGluZ01lIjogKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvTG9hZGluZycpLAoJfSwKCWRhdGE6ICgpID0+ICh7CgkJLy8gT2JqCgkJYmFua1RyYW5zYWN0aW9uTWFwcGluZ3M6IFtdLAoJCS8qIExvZGluZ01lICovCgkJc2hvd0xvYWRpbmc6IGZhbHNlLAoJfSksCgltZXRob2RzOiB7CgkJLy8gTG9hZCBkYXRhCgkJYXN5bmMgbG9hZERhdGEoKSB7CgkJCXRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwoKCQkJLyogUmVzZXQgKi8KCQkJc3RvcmUuc3RhdGUuYmFua2luZy5iYW5rTWFwcGluZ0xvYWRlZCA9IGZhbHNlOwoKCQkJbGV0IGJhbmtzID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2JhbmtpbmcvZ2V0QmFua3MnKTsKCQkJCgkJCS8qIENhbGwgQmFuayBNYXBwaW5nIExpc3QgKi8KCQkJbGV0IGJhbmtNYXBwaW5ncyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdiYW5raW5nL2dldEJhbmtNYXBwaW5ncycpOwoKCQkJbGV0IGJhbmtNYXBwaW5nTGlzdCA9IFtdOwoJCQliYW5rTWFwcGluZ3MuZm9yRWFjaCh2YWx1ZSA9PiB7CgkJCQlpZih2YWx1ZS50eXBlID09PSBCYW5rTWFwcGluZ1R5cGUuRVhDRUxfTUFQUElORyl7CgkJCQkJbGV0IGJhbmtNYXBwaW5nID0gbmV3IEJhbmtUcmFuc2FjdGlvbk1hcHBpbmdNb2RlbCh2YWx1ZSk7CgkJCQkJYmFua01hcHBpbmcuYmFuayA9IG5ldyBCYW5rTW9kZWwoYmFua3MuZmluZChpPT5pLnV1aWQgPT09IHZhbHVlLmJhbmtfdXVpZCkpOwoKCQkJCQliYW5rTWFwcGluZ0xpc3QucHVzaChiYW5rTWFwcGluZyk7CgkJCQl9CgkJCX0pOwoKCQkJdGhpcy5iYW5rVHJhbnNhY3Rpb25NYXBwaW5ncyA9IGJhbmtNYXBwaW5nTGlzdDsKCQkJCgkJCXRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCQl9LAoJCWNyaXRlcmlhVG1wbChkKSB7CgkJCWxldCBzdHIgPSAiIjsKCQkJZC5jcml0ZXJpYS5mb3JFYWNoKChyb3cpID0+IHsKCQkJCXN0ciArPSBgPHAgc3R5bGU9J2NvbG9yOmJsdWUnPlske3Jvdy5maWVsZH0sICR7cm93LmZpZWxkMn1dPC9wPmA7CgkJCX0pOwoKCQkJcmV0dXJuIHN0cjsKCQl9LAoJCS8vIE9uIEVkaXQgQ2xpY2sKCQlvbkVkaXRDbGljayhlKSB7CgkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJbGV0IGdyaWQgPSB0aGlzLiRyZWZzLmJhbmtUcmFuc2FjdGlvbk1hcHBpbmdHcmlkLmtlbmRvV2lkZ2V0KCksCgkJCQlkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oa2VuZG8ualF1ZXJ5KGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CgkJCQkKCQkJdGhpcy4kcm91dGVyLnB1c2goewoJCQkJbmFtZTogIkJhbmsgRmllbGQgTWFwcGluZyIsCgkJCQlwYXJhbXM6IHsgaW5pdEJhbmtUcmFuc2FjdGlvbk1hcHBpbmc6IG5ldyBCYW5rVHJhbnNhY3Rpb25NYXBwaW5nTW9kZWwoZGF0YUl0ZW0pIH0sCgkJCX0pOwoJCX0sCgl9LAoJd2F0Y2g6ewoJCSRyb3V0ZSAodG8sIGZyb20pewoJCQlpZihmcm9tLm5hbWUgPT09ICJCYW5rIEZpZWxkIE1hcHBpbmciKXsKCQkJCXRoaXMubG9hZERhdGEoKTsKCQkJfQoJCX0KCX0sCgljcmVhdGVkKCkgewoJCS8vIExvYWQgRGF0YQoJCXRoaXMubG9hZERhdGEoKTsKCX0sCn07Cg=="},{"version":3,"sources":["BankFieldMappings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BankFieldMappings.vue","sourceRoot":"src/views/banking/settings","sourcesContent":["<template>\n\t<v-row class=\"\">\n\t\t<v-col sm=\"9\" cols=\"12\" class=\"pt-0\">\n\t\t\t<h2 class=\"font_20 mb-0\">{{ $t(\"bank_field_mapping\") }}</h2>\n\t\t\t<p class=\"mb-0\">\n\t\t\t\t{{ $t(\"bank_field_desc\") }}\n\t\t\t</p>\n\t\t</v-col>\n\n\t\t<v-col sm=\"3\" cols=\"12\" class=\"pt-0 d-flex\">\n\t\t\t<v-btn to=\"bank_field_mapping\" color=\"primary\" class=\"white--text\">{{$t('create_new')}}</v-btn>\n\t\t\t<v-btn @click=\"loadData\" color=\"primary\" class=\"ml-5\">\n\t\t\t\t<v-icon>refresh</v-icon>\n\t\t\t</v-btn>\n\t\t</v-col>\n\n\t\t<v-col sm=\"12\" cols=\"12\">\n\t\t\t<kendo-datasource\n\t\t\t\tref=\"bankTransactionRuleDS\"\n\t\t\t\t:data=\"bankTransactionMappings\"\n\t\t\t\t:page-size=\"5\"\n\t\t\t/>\n\n\t\t\t<kendo-grid\n\t\t\t\tid=\"bankTransactionMappingGrid\"\n\t\t\t\tref=\"bankTransactionMappingGrid\"\n\t\t\t\t:data-source-ref=\"'bankTransactionRuleDS'\"\n\t\t\t\t:noRecords=\"true\"\n\t\t\t\t:sortable=\"true\"\n\t\t\t\t:filterable=\"true\"\n\t\t\t\t:column-menu=\"true\"\n\t\t\t\t:scrollable-virtual=\"true\"\n\t\t\t\t:navigatable=\"true\"\n\t\t\t\t:pageable-always-visible=\"false\"\n\t\t\t\t:pageable-page-sizes=\"[5, 10, 20, 100]\"\n\t\t\t>\n\t\t\t\t<kendo-grid-column\n\t\t\t\t\t:field=\"'name'\"\n\t\t\t\t\t:attributes=\"{ class: 'tb_name_td' }\"\n\t\t\t\t\t:title=\"$t('name')\"\n\t\t\t\t/>\n\t\t\t\t<kendo-grid-column\n\t\t\t\t\t:field=\"'bank.name'\"\n\t\t\t\t\t:attributes=\"{ class: 'tb_name_td' }\"\n\t\t\t\t\t:title=\"$t('financial_institution')\"\n\t\t\t\t/>\n\t\t\t\t<kendo-grid-column\n\t\t\t\t\t:field=\"'criteria'\"\n\t\t\t\t\t:title=\"$t('mapping_fields')\"\n\t\t\t\t\t:template=\"criteriaTmpl\"\n\t\t\t\t/>\n\t\t\t\t<kendo-grid-column\n\t\t\t\t\t:command=\"{\n\t\t\t\t\t\ticonClass: 'fas fa-edit',\n\t\t\t\t\t\ttext: $t('edit'),\n\t\t\t\t\t\tclick: onEditClick,\n\t\t\t\t\t}\"\n\t\t\t\t\t:title=\"$t('action')\"\n\t\t\t\t\t:width=\"100\"\n\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\tstyle: 'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t}\"\n\t\t\t\t/>\n\t\t\t</kendo-grid>\n\n\t\t\t<LoadingMe \n\t\t\t\t:isLoading=\"showLoading\" \n\t\t\t\t:fullPage=\"false\" \n\t\t\t\ttype=\"loading\"\n\t\t\t\t:myLoading=\"true\" />\n\t\t</v-col>\n\t</v-row>\n</template>\n\n<script>\n// import {i18n} from '@/i18n'\nimport kendo from \"@progress/kendo-ui\";\n// import Helper from \"@/helper.js\";\nimport {\n\tBankTransactionMappingModel,\n\tBankModel,\n} from \"@/scripts/model/AppModels\";\n\n/* Store */\nimport store from \"@/store\";\n\nconst { BankMappingType } = require(\"@/scripts/default_setup/Collections\");\n\nexport default {\n\tcomponents: {\n\t\t\"LoadingMe\": () => import('@/components/Loading'),\n\t},\n\tdata: () => ({\n\t\t// Obj\n\t\tbankTransactionMappings: [],\n\t\t/* LodingMe */\n\t\tshowLoading: false,\n\t}),\n\tmethods: {\n\t\t// Load data\n\t\tasync loadData() {\n\t\t\tthis.showLoading = true;\n\n\t\t\t/* Reset */\n\t\t\tstore.state.banking.bankMappingLoaded = false;\n\n\t\t\tlet banks = await this.$store.dispatch('banking/getBanks');\n\t\t\t\n\t\t\t/* Call Bank Mapping List */\n\t\t\tlet bankMappings = await this.$store.dispatch('banking/getBankMappings');\n\n\t\t\tlet bankMappingList = [];\n\t\t\tbankMappings.forEach(value => {\n\t\t\t\tif(value.type === BankMappingType.EXCEL_MAPPING){\n\t\t\t\t\tlet bankMapping = new BankTransactionMappingModel(value);\n\t\t\t\t\tbankMapping.bank = new BankModel(banks.find(i=>i.uuid === value.bank_uuid));\n\n\t\t\t\t\tbankMappingList.push(bankMapping);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bankTransactionMappings = bankMappingList;\n\t\t\t\n\t\t\tthis.showLoading = false;\n\t\t},\n\t\tcriteriaTmpl(d) {\n\t\t\tlet str = \"\";\n\t\t\td.criteria.forEach((row) => {\n\t\t\t\tstr += `<p style='color:blue'>[${row.field}, ${row.field2}]</p>`;\n\t\t\t});\n\n\t\t\treturn str;\n\t\t},\n\t\t// On Edit Click\n\t\tonEditClick(e) {\n\t\t\te.preventDefault();\n\t\t\tlet grid = this.$refs.bankTransactionMappingGrid.kendoWidget(),\n\t\t\t\tdataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n\t\t\t\t\n\t\t\tthis.$router.push({\n\t\t\t\tname: \"Bank Field Mapping\",\n\t\t\t\tparams: { initBankTransactionMapping: new BankTransactionMappingModel(dataItem) },\n\t\t\t});\n\t\t},\n\t},\n\twatch:{\n\t\t$route (to, from){\n\t\t\tif(from.name === \"Bank Field Mapping\"){\n\t\t\t\tthis.loadData();\n\t\t\t}\n\t\t}\n\t},\n\tcreated() {\n\t\t// Load Data\n\t\tthis.loadData();\n\t},\n};\n</script>\n\n<style scoped>\n.acc_group header {\n\theight: 10px !important;\n}\n\ntable.acc_group tr td {\n\tborder-bottom: 1px solid #ccc;\n\tpadding: 8px;\n\tvertical-align: middle;\n}\n\ntable.acc_group tr td:first-child {\n\tfont-weight: 700;\n}\n\ntable.acc_group tr td:last-child {\n\ttext-align: center;\n}\n\n.v-card__actions .v-btn.v-btn {\n\tpadding: 0 16px;\n}\n\n.exchange-table.theme--light.v-data-table\n\t> .v-data-table__wrapper\n\t> table\n\t> thead\n\t> tr\n\t> th {\n\tfont-family: \"Niradei-Bold\", serif;\n\tcolor: #000 !important;\n\tborder-top: 1px solid #000 !important;\n\tborder-bottom: 1px solid #000 !important;\n\tfont-size: 15px !important;\n}\n\n.exchange-table.theme--light.v-data-table\n\t> .v-data-table__wrapper\n\t> table\n\t> thead\n\t> tr\n\t> td {\n\tcolor: #000 !important;\n\tpadding: 5px !important;\n}\n\n.exchange-table.theme--light.v-data-table\n\t> .v-data-table__wrapper\n\t> table\n\t> tbody\n\t> tr:last-child\n\ttd {\n\tborder-bottom: 1px solid #000 !important;\n}\n\n.function_footer {\n\tpadding: 15px;\n\tdisplay: inline-block;\n}\n\n@media (max-width: 576px) {\n}\n</style>\n"]}]}