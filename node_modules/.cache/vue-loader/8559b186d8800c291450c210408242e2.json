{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/accounting/Account.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/accounting/Account.vue","mtime":1638499443079},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgICBpbXBvcnQgSGVscGVyIGZyb20gIkAvaGVscGVyLmpzIjsKICAgIGltcG9ydCB7aTE4bn0gZnJvbSAnQC9pMThuJzsKICAgIGltcG9ydCBBY2NvdW50TW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL0FjY291bnQuanMiOwogICAgaW1wb3J0IEFjY291bnRHcm91cE1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9BY2NvdW50R3JvdXAuanMiOwoKICAgIC8qIFN0b3JlICovCiAgICBpbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CgogICAgY29uc3QgYWNjb3VudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaGFuZGxlci9hY2NvdW50aW5nL2FjY291bnQiKTsKICAgIGNvbnN0IHsgU2F2ZU9wdGlvbiB9ID0gcmVxdWlyZSgiQC9zY3JpcHRzL2RlZmF1bHRfc2V0dXAvQ29sbGVjdGlvbnMiKTsKCiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgbmFtZTogIkFjY291bnQiLAogICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIGluaXRBY2NvdW50OiB7CiAgICAgICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICBjb21wb25lbnRzOiB7CiAgICAgICAgICAgICJMb2FkaW5nTWUiOiAoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9Mb2FkaW5nJyksCiAgICAgICAgICAgICJhcHAtYWNjb3VudC10eXBlLWRyb3Bkb3dubGlzdCI6ICgpID0+IGltcG9ydCgnQC9jb21wb25lbnRzL2Ryb3Bkb3dubGlzdC9BY2NvdW50VHlwZScpLAogICAgICAgICAgICAiYXBwLWFjY291bnQtZ3JvdXAtZHJvcGRvd25saXN0IjogKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L0FjY291bnRHcm91cCcpLAogICAgICAgICAgICAiYXBwLXBhcmVudC1hY2NvdW50LWRyb3Bkb3dubGlzdCI6ICgpID0+IGltcG9ydCgnQC9jb21wb25lbnRzL2Ryb3Bkb3dubGlzdC9QYXJlbnRBY2NvdW50JyksCiAgICAgICAgICAgICJhcHAtc3RhdHVzLWRyb3Bkb3dubGlzdCI6ICgpID0+IGltcG9ydCgnQC9jb21wb25lbnRzL2tlbmRvX3RlbXBsYXRlcy9TdGF0dXNEcm9wRG93bkxpc3QnKSwKICAgICAgICB9LAogICAgICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgICAgIC8vT2JqCiAgICAgICAgICAgIG51bWJlciA6ICIiLAogICAgICAgICAgICBhY2NvdW50ICAgICAgICAgOiBuZXcgQWNjb3VudE1vZGVsKCksCiAgICAgICAgICAgIHRheGVzICAgICAgICAgICA6IFtdLAogICAgICAgICAgICAvLyBGb3JtIHZhbGlkYXRpb24KICAgICAgICAgICAgdmFsaWQgICAgICAgICAgIDogdHJ1ZSwKICAgICAgICAgICAgaXNFZGl0ICAgICAgICAgIDogZmFsc2UsCiAgICAgICAgICAgIGFsZXJ0ICAgICAgICAgICA6IGZhbHNlLAogICAgICAgICAgICBlcnJvck1lc3NhZ2UgICAgOiAiIiwKICAgICAgICAgICAgc2F2ZU1vZGUgICAgICAgIDogJycsCiAgICAgICAgICAgIFNhdmVPcHRpb24gICAgICA6IFNhdmVPcHRpb24sCiAgICAgICAgICAgIHVzZXIgICAgICAgICAgICA6IEhlbHBlci5nZXRVc2VyKCksCiAgICAgICAgICAgIC8vIExvYWRpbmdNZQogICAgICAgICAgICBzaG93TG9hZGluZyAgICAgOiBmYWxzZSwKICAgICAgICB9KSwKICAgICAgICBtZXRob2RzOiB7CiAgICAgICAgICAgIC8vIFNldCBEZWZhdWx0IERhdGEKICAgICAgICAgICAgaW5pdGlhbERhdGEgKCkgewogICAgICAgICAgICAgICAgaWYodGhpcy5pbml0QWNjb3VudCl7IC8vIEVkaXQgTW9kZQogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNFZGl0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY291bnQgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmluaXRBY2NvdW50KTsKICAgICAgICAgICAgICAgICAgICB0aGlzLm51bWJlciA9IHRoaXMuYWNjb3VudC5udW1iZXI7CiAgICAgICAgICAgICAgICB9ZWxzZXsgLy8gQnJhbmQgTmV3CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0VkaXQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNldERlZmF1bHREYXRhKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qIFNldCBkZWZhdWx0IGRhdGEgKi8KICAgICAgICAgICAgc2V0RGVmYXVsdERhdGEoKXsKICAgICAgICAgICAgICAgIHRoaXMuYWNjb3VudCA9IE9iamVjdC5hc3NpZ24oe30sIG5ldyBBY2NvdW50TW9kZWwoewogICAgICAgICAgICAgICAgICAgIHN0YXR1cyA6IDEKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy8gTnVtYmVyCiAgICAgICAgICAgIGFzeW5jIGdlbmVyYXRlTnVtYmVyKCkgewogICAgICAgICAgICAgICAgbGV0IG51bWJlciA9ICIiOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAodGhpcy5hY2NvdW50LmFjY291bnRfdHlwZS51dWlkICE9PSAnJykgewogICAgICAgICAgICAgICAgICAgIG51bWJlciA9IHRoaXMuYWNjb3VudC5hY2NvdW50X3R5cGUubmF0dXJlX2NvZGU7CiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5hY2NvdW50LmFjY291bnRfdHlwZS5jb2RlIDwgMTApewogICAgICAgICAgICAgICAgICAgICAgICBudW1iZXIgPSsgIjAiICsgdGhpcy5hY2NvdW50LmFjY291bnRfdHlwZS5jb2RlLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlciA9KyB0aGlzLmFjY291bnQuYWNjb3VudF90eXBlLmNvZGUudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBsZXQgYmlnTnVtYmVyID0gYXdhaXQgSGVscGVyLmdldE1heE51bWJlck9mQWNjb3VudCh0aGlzLmFjY291bnQudHlwZV9jb2RlKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZihiaWdOdW1iZXIgPT09ICcnKXsKICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyICs9ICIwMDAiOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBudW1iZXIgPSBiaWdOdW1iZXI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMubnVtYmVyID0gbnVtYmVyOwogICAgICAgICAgICB9LAogICAgICAgICAgICAvLyBPbiBBY2NvdW50IFR5cGUgQ2hhbmdlcwogICAgICAgICAgICBvbkFjY291bnRUeXBlQ2hhbmdlcyAoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmFjY291bnQudHlwZV9jb2RlID0gdGhpcy5hY2NvdW50LmFjY291bnRfdHlwZS5jb2RlOwogICAgICAgICAgICAgICAgdGhpcy5hY2NvdW50LmFjY291bnRfZ3JvdXAgPSBuZXcgQWNjb3VudEdyb3VwTW9kZWwoKTsKICAgICAgICAgICAgICAgIHRoaXMuYWNjb3VudC5wYXJlbnRfYWNjb3VudCA9IG5ldyBBY2NvdW50TW9kZWwoKTsKICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVOdW1iZXIoKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy8gU2hyaW5rIERhdGEKICAgICAgICAgICAgc2hyaW5rRGF0YSgpIHsKICAgICAgICAgICAgICAgIC8vIE51bWJlcgogICAgICAgICAgICAgICAgdGhpcy5hY2NvdW50Lm51bWJlciA9IHRoaXMubnVtYmVyOwoKICAgICAgICAgICAgICAgIC8vIEdyb3VwIENvZGUKICAgICAgICAgICAgICAgIHRoaXMuYWNjb3VudC5ncm91cF9jb2RlID0gdGhpcy5hY2NvdW50LmFjY291bnRfZ3JvdXAuY29kZTsKCiAgICAgICAgICAgICAgICAvLyBVc2VyCiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0VkaXQpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY291bnQubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuYWNjb3VudC5jcmVhdGVkX2J5ID0gdGhpcy51c2VyOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAvLyBWYWxpZGF0aW5nCiAgICAgICAgICAgIHZhbGlkYXRlRm9ybSgpIHsKICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB0cnVlLCBtc2cgPSAiIjsKCiAgICAgICAgICAgICAgICAvLyBBY2NvdW50IFR5cGUKICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjY291bnQuYWNjb3VudF90eXBlLnV1aWQgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgbXNnICs9IGA8cD4ke2kxOG4udCgiQWNjb3VudCBUeXBlIGlzIHJlcXVpcmVkLiIpfTwvcD5gOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIEFjY291bnQgR3JvdXAKICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjY291bnQuYWNjb3VudF9ncm91cC5jb2RlID09PSAnJykgewogICAgICAgICAgICAgICAgICAgIG1zZyArPSBgPHA+JHtpMThuLnQoIkFjY291bnQgR3JvdXAgaXMgcmVxdWlyZWQuIil9PC9wPmA7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gQ2hlY2sgQWNjb3VudCBOdW1iZXIKICAgICAgICAgICAgICAgIGlmICh0aGlzLm51bWJlciAhPT0gJycgJiYgdGhpcy5udW1iZXIgIT09IHRoaXMuYWNjb3VudC5udW1iZXIpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgbnVtYmVyID0gc3RvcmUuc3RhdGUuYWNjb3VudGluZy5hY2NvdW50cy5maW5kKGkgPT4gaS5udW1iZXIgPT09IHRoaXMubnVtYmVyKTsKICAgICAgICAgICAgICAgICAgICBpZihudW1iZXIpewogICAgICAgICAgICAgICAgICAgICAgICBtc2cgKz0gYDxwPiR7aTE4bi50KCJBY2NvdW50IE51bWJlciBpcyB1bmF2YWlsYWJsZS4iKX08L3A+YDsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBTaG93IEFsZXJ0CiAgICAgICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IG1zZzsKICAgICAgICAgICAgICAgIHRoaXMuYWxlcnQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGVydCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy8gQWxsIFNhdmVzCiAgICAgICAgICAgIG9uU2F2ZU9wdGlvbkNsaWNrIChtb2RlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkgJiYgdGhpcy52YWxpZGF0ZUZvcm0oKSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZU1vZGUgPSBtb2RlOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZSgpOwoJCQkJfQoJCQl9LAogICAgICAgICAgICBjYW5jZWwoKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLAogICAgICAgICAgICAgICAgICAgIHRleHQ6ICJZb3Ugd29uJ3QgYmUgYWJsZSB0byByZXZlcnQgdGhpcyEiLAogICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyM0ZDQ4NDgnLAogICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI0VEMUEzQScsCiAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMsIGRpc2NhcmQgaXQhJwogICAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2xlYXIgKCkgewoJCQkJLy8gUmVzZXQgRm9ybQogICAgICAgICAgICAgICAgdGhpcy5zYXZlTW9kZSA9ICcnOwogICAgICAgICAgICAgICAgdGhpcy5udW1iZXIgPSAnJzsKCiAgICAgICAgICAgICAgICB0aGlzLnNldERlZmF1bHREYXRhKCk7CgkJCX0sCiAgICAgICAgICAgIGNvbmZpcm1EZWxldGUoKSB7CiAgICAgICAgICAgICAgICBpZih0aGlzLmFjY291bnQuaXNfaW5fdXNlZCA9PT0gMCl7LyogQ2hlY2sgaWYgaW4gdXNlICovCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpMThuLnQoImFyZV95b3Vfc3VyZV95b3Vfd2FudF90b19kZWxldGVfaXQiKSwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogaTE4bi50KCJ5b3Vfd29udF9iZV9hYmxlX3RvX3JldmVydF90aGlzIiksCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzRkNDg0OCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI0VEMUEzQScsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnWWVzJwogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVNb2RlID0gU2F2ZU9wdGlvbi5ERUxFVEU7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogTWFyayBhcyBkZWxldGVkICovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY291bnQuaXNfZGVsZXRlZCA9IDE7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogVXBkYXRlIEFjY291bnQgKi8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIEhlbHBlci5hbGVydEVycm9yTXNnKGkxOG4udCgiY2FudF9kZWxldGVfYmVjYXVzZV9pdF9pc19pbl91c2UiKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNhdmUoKSB7CiAgICAgICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CgogICAgICAgICAgICAgICAgLy8gU2hyaW5rIERhdGEKICAgICAgICAgICAgICAgIHRoaXMuc2hyaW5rRGF0YSgpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIC8vIFN5bmMgRGF0YQogICAgICAgICAgICAgICAgYWNjb3VudEhhbmRsZXIuc2F2ZSh0aGlzLmFjY291bnQpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIFVwZGF0ZSBWdWV4IERhdGEgKi8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhY2NvdW50ID0gbmV3IEFjY291bnRNb2RlbChyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnQuYWNjb3VudF9ncm91cCA9IG5ldyBBY2NvdW50R3JvdXBNb2RlbChzdG9yZS5zdGF0ZS5hY2NvdW50aW5nLmdyb3Vwcy5maW5kKGkgPT4gaS5jb2RlID09PSBhY2NvdW50Lmdyb3VwX2NvZGUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhY2NvdW50aW5nL3NhdmVBY2NvdW50JywgYWNjb3VudCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXNwb25zZVN0YXR1cyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcihpMThuLnQoImVycm9yX3NvbWV0aGluZ193cm9uZyIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vIFJlc3BvbnNlIFN0YXR1cwogICAgICAgICAgICByZXNwb25zZVN0YXR1cyhyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2F2ZU1vZGUgPT09IFNhdmVPcHRpb24uU0FWRUNMT1NFIHx8IHRoaXMuc2F2ZU1vZGUgPT09IFNhdmVPcHRpb24uREVMRVRFKSB7IC8qIFNhdmUgQ2xvc2Ugb3IgRGVsZXRlICovCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7CgogICAgICAgICAgICAgICAgICAgIC8qIEFsZXJ0IFN1Y2Nlc3MgKi8KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5LnN1Y2Nlc3MoaTE4bi50KCJzdWNjZXNzZnVsIikpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvKiBBbGVydCBFcnJvciAqLwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuZXJyb3IoaTE4bi50KCJlcnJvcl9zb21ldGhpbmdfd3JvbmciKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICB3YXRjaDogewogICAgICAgICAgICBpbml0QWNjb3VudDogImluaXRpYWxEYXRhIiwKICAgICAgICB9LAogICAgICAgIG1vdW50ZWQoKSB7CiAgICAgICAgICAgIC8vIEluaXRpYWwgRGF0YQogICAgICAgICAgICB0aGlzLmluaXRpYWxEYXRhKCk7CiAgICAgICAgfQogICAgfTsK"},{"version":3,"sources":["Account.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Account.vue","sourceRoot":"src/views/accounting","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col cols=\"12\" sm=\"12\">\n                    <v-card outlined dense class=\"pa-4 no_border rounded-sm\" color=\"white\">\n                        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                            <v-card outlined dense class=\"no_border\">\n                                <h2 class=\"mb-0\">{{$t('add_account')}}</h2>\n                                <v-icon\n                                        onclick=\"window.history.go(-1); return false;\"\n                                        style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                        class=\"float-right\"\n                                >close\n                                </v-icon>\n                            </v-card>\n\n                            <v-card outlined dense class=\"no_border px-4 mb-4\" color=\"grayBg\">\n                                <v-row>\n                                    <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label\">{{$t('account_type')}}</label>\n                                        <app-account-type-dropdownlist \n                                            :initAccountType=\"account.account_type\" \n                                            @emitAccountType=\"account.account_type = $event\" \n                                            @onChanged=\"onAccountTypeChanges\"/>\n\n                                        <label class=\"label\">{{$t('account_group')}}</label>\n                                        <app-account-group-dropdownlist \n                                            :initAccountGroup=\"account.account_group\" \n                                            @emitAccountGroup=\"account.account_group = $event\" \n                                            :initAccountTypeCode=\"account.type_code\" />\n\n                                        <label class=\"label\">{{$t('sub_account')}}</label>\n                                        <app-parent-account-dropdownlist \n                                            :initParentAccount=\"account.parent_account\" \n                                            @emitParentAccount=\"account.parent_account = $event\" \n                                            :initAccountTypeCode=\"account.type_code\"\n                                            @onChanged=\"generateNumber\" />\n\n                                        <v-textarea\n                                            v-model=\"account.account_type.description\"\n                                            height=\"210px\"\n                                            rows=\"10\"\n                                            readonly \n                                            no-resize\n                                            outlined\n                                        />\n\n                                    </v-col>\n                                    <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label\">{{$t('account_number')}}</label>\n                                        <v-text-field\n                                            :rules=\"[v => !!v || $t('number_required')]\"\n                                            v-model=\"number\"\n                                            outlined\n                                            required\n                                        />\n\n                                        <label class=\"label\">{{$t('account_name')}}</label>\n                                        <v-text-field class=\"mt-1\"\n                                                      :rules=\"[v => !!v || $t('acc_name_required')]\"\n                                                      v-model=\"account.name\"\n                                                      outlined\n                                                      tage=\"Account Name\"\n                                                      required\n                                        />\n\n                                        <label class=\"label\">{{$t('local_name')}}</label>\n                                        <v-text-field class=\"mt-1\"\n                                                      v-model=\"account.local_name\"\n                                                      outlined\n                                                      tage=\"Local Name\"\n                                        />\n\n                                        <label class=\"label\">{{$t('description')}}</label>\n                                        <v-textarea class=\"mt-1\" no-resize height=\"120px\"\n                                                    v-model=\"account.description\"\n                                                    outlined\n                                                    rows=\"4\"\n                                        />\n\n                                        <label class=\"label\">{{$t('status')}}</label>\n                                        <app-status-dropdownlist \n                                            :initStatus=\"account.status\" \n                                            @emitStatus=\"account.status = $event\" />\n\n                                        <!-- <v-checkbox class=\"ma-0\"\n                                                    v-model=\"account.is_taxable\"\n                                                    :label=\"$t('taxable')\"\n                                                    false-value=\"0\"\n                                                    true-value=\"1\"\n                                        /> -->\n\n                                        <div v-if=\"account.is_taxable\">\n                                            <v-select class=\" mt-1\"\n                                                      :items=\"taxes\"\n                                                      no-data-text=\"No data found.\"\n                                                      return-object\n                                                      clearable\n                                                      outlined\n                                            />\n                                        </div>\n\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n\n                            <v-divider/>\n\n                            <!-- Footer -->\n                            <v-alert\n                                type=\"warning\"\n                                v-model=\"alert\"\n                                dismissible\n                            >\n                                <span v-html=\"errorMessage\"/>\n                            </v-alert>\n                            <v-card outlined dense class=\"no_border function_footer\">\n                                <v-btn color=\"primary\"\n                                        outlined\n                                       class=\"text-capitalize  black--text float-left\" @click=\"cancel\">{{$t('cancel')}}</v-btn>\n                                <v-btn color=\"primary\"\n                                       class=\"ml-2 text-capitalize  white--text\" v-if=\"isEdit\" @click=\"confirmDelete\">{{$t('delete')}}\n                                </v-btn>\n                                <v-btn color=\"secondary\"\n                                       class=\"ml-2 float-right text-capitalize  white--text\" @click=\"onSaveOptionClick(SaveOption.SAVECLOSE)\">{{$t('save_close')}}\n                                </v-btn>\n                                <v-btn color=\"primary\"\n                                       class=\"float-right white--text text-capitalize \" v-if=\"!isEdit\" @click=\"onSaveOptionClick(SaveOption.SAVENEW)\">\n                                        {{$t('save_new')}}\n                                </v-btn>\n                            </v-card>\n                        </v-form>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe \n                :isLoading=\"showLoading\" \n                :fullPage=\"false\" \n                type=\"loading\"\n                :myLoading=\"true\" />\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n    import Helper from \"@/helper.js\";\n    import {i18n} from '@/i18n';\n    import AccountModel from \"@/scripts/model/Account.js\";\n    import AccountGroupModel from \"@/scripts/model/AccountGroup.js\";\n\n    /* Store */\n    import store from '@/store';\n\n    const accountHandler = require(\"@/scripts/handler/accounting/account\");\n    const { SaveOption } = require(\"@/scripts/default_setup/Collections\");\n\n    export default {\n        name: \"Account\",\n        props: {\n            initAccount: {\n                type: Object,\n            },\n        },\n        components: {\n            \"LoadingMe\": () => import('@/components/Loading'),\n            \"app-account-type-dropdownlist\": () => import('@/components/dropdownlist/AccountType'),\n            \"app-account-group-dropdownlist\": () => import('@/components/dropdownlist/AccountGroup'),\n            \"app-parent-account-dropdownlist\": () => import('@/components/dropdownlist/ParentAccount'),\n            \"app-status-dropdownlist\": () => import('@/components/kendo_templates/StatusDropDownList'),\n        },\n        data: () => ({\n            //Obj\n            number : \"\",\n            account         : new AccountModel(),\n            taxes           : [],\n            // Form validation\n            valid           : true,\n            isEdit          : false,\n            alert           : false,\n            errorMessage    : \"\",\n            saveMode        : '',\n            SaveOption      : SaveOption,\n            user            : Helper.getUser(),\n            // LoadingMe\n            showLoading     : false,\n        }),\n        methods: {\n            // Set Default Data\n            initialData () {\n                if(this.initAccount){ // Edit Mode\n                    this.isEdit = true;\n                    this.account = Object.assign({}, this.initAccount);\n                    this.number = this.account.number;\n                }else{ // Brand New\n                    this.isEdit = false;\n                    this.setDefaultData();\n                }\n            },\n            /* Set default data */\n            setDefaultData(){\n                this.account = Object.assign({}, new AccountModel({\n                    status : 1\n                }));\n            },\n            // Number\n            async generateNumber() {\n                let number = \"\";\n                \n                if (this.account.account_type.uuid !== '') {\n                    number = this.account.account_type.nature_code;\n                    if(this.account.account_type.code < 10){\n                        number =+ \"0\" + this.account.account_type.code.toString();\n                    }else{\n                        number =+ this.account.account_type.code.toString();\n                    }\n                \n                    let bigNumber = await Helper.getMaxNumberOfAccount(this.account.type_code);\n                    \n                    if(bigNumber === ''){\n                        number += \"000\";\n                    }else{\n                        number = bigNumber;\n                    }\n                }\n\n                this.number = number;\n            },\n            // On Account Type Changes\n            onAccountTypeChanges () {\n                this.account.type_code = this.account.account_type.code;\n                this.account.account_group = new AccountGroupModel();\n                this.account.parent_account = new AccountModel();\n                this.generateNumber();\n            },\n            // Shrink Data\n            shrinkData() {\n                // Number\n                this.account.number = this.number;\n\n                // Group Code\n                this.account.group_code = this.account.account_group.code;\n\n                // User\n                if (this.isEdit) {\n                    this.account.modified_by = this.user;\n                } else {\n                    this.account.created_by = this.user;\n                }\n            },\n            // Validating\n            validateForm() {\n                let result = true, msg = \"\";\n\n                // Account Type\n                if (this.account.account_type.uuid === '') {\n                    msg += `<p>${i18n.t(\"Account Type is required.\")}</p>`;\n                    result = false;\n                }\n\n                // Account Group\n                if (this.account.account_group.code === '') {\n                    msg += `<p>${i18n.t(\"Account Group is required.\")}</p>`;\n                    result = false;\n                }\n\n                // Check Account Number\n                if (this.number !== '' && this.number !== this.account.number) {\n                    let number = store.state.accounting.accounts.find(i => i.number === this.number);\n                    if(number){\n                        msg += `<p>${i18n.t(\"Account Number is unavailable.\")}</p>`;\n                        result = false;\n                    }\n                }\n                \n                // Show Alert\n                this.errorMessage = msg;\n                this.alert = false;\n                if (result === false) {\n                    this.alert = true;\n                }\n\n                return result;\n            },\n            // All Saves\n            onSaveOptionClick (mode) {\n                if (this.$refs.form.validate() && this.validateForm()) {\n                    this.saveMode = mode;\n                    this.save();\n\t\t\t\t}\n\t\t\t},\n            cancel() {\n                this.$swal({\n                    title: 'Are you sure?',\n                    text: \"You won't be able to revert this!\",\n                    icon: 'warning',\n                    showCancelButton: true,\n                    confirmButtonColor: '#4d4848',\n                    cancelButtonColor: '#ED1A3A',\n                    confirmButtonText: 'Yes, discard it!'\n                }).then((result) => {\n                    if (result.value) {\n                        this.clear();\n                        this.$router.go(-1);\n                    }\n                })\n            },\n            clear () {\n\t\t\t\t// Reset Form\n                this.saveMode = '';\n                this.number = '';\n\n                this.setDefaultData();\n\t\t\t},\n            confirmDelete() {\n                if(this.account.is_in_used === 0){/* Check if in use */\n                    this.$swal({\n                        title: i18n.t(\"are_you_sure_you_want_to_delete_it\"),\n                        text: i18n.t(\"you_wont_be_able_to_revert_this\"),\n                        icon: \"warning\",\n                        showCancelButton: true,\n                        confirmButtonColor: '#4d4848',\n                        cancelButtonColor: '#ED1A3A',\n                        confirmButtonText: 'Yes'\n                    }).then((result) => {\n                        if (result.value) {\n                            this.saveMode = SaveOption.DELETE;\n\n                            /* Mark as deleted */\n                            this.account.is_deleted = 1;\n\n                            /* Update Account */\n                            this.save();\n                        }\n                    })\n                }else{\n                    Helper.alertErrorMsg(i18n.t(\"cant_delete_because_it_is_in_use\"));\n                }\n            },\n            save() {\n                let self = this;\n\n                // Shrink Data\n                this.shrinkData();\n                \n                this.showLoading = true;\n                // Sync Data\n                accountHandler.save(this.account)\n                    .then((response) => {\n                        if(response){\n                            /* Update Vuex Data */\n                            let account = new AccountModel(response.data);\n                            account.account_group = new AccountGroupModel(store.state.accounting.groups.find(i => i.code === account.group_code));\n                            this.$store.dispatch('accounting/saveAccount', account);\n\n                            self.responseStatus(response);\n                        }else{\n                            this.$snotify.error(i18n.t(\"error_something_wrong\"));\n                        }\n                    })\n                    .catch((error) => {\n                        this.showLoading = false;\n                        this.$snotify.error(error);\n                    })\n                    .finally(() => {\n                        this.showLoading = false;\n                    });\n            },\n            // Response Status\n            responseStatus(response) {\n                if (response.status === 200) {\n                    if (this.saveMode === SaveOption.SAVECLOSE || this.saveMode === SaveOption.DELETE) { /* Save Close or Delete */\n                        this.$router.go(-1);\n                    }\n\n                    this.clear();\n\n                    /* Alert Success */\n                    this.$snotify.success(i18n.t(\"successful\"));\n                } else {\n                    /* Alert Error */\n                    this.$snotify.error(i18n.t(\"error_something_wrong\"));\n                }\n            },\n        },\n        watch: {\n            initAccount: \"initialData\",\n        },\n        mounted() {\n            // Initial Data\n            this.initialData();\n        }\n    };\n</script>\n\n<style scoped>\n    @media (min-width: 1264px) {\n        .container {\n            /* max-width: 1185px; */\n            max-width: 1080px !important;\n        }\n    }\n</style>"]}]}