{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/compliance/monthly_tax/new_tax_return/review/Withholdingtax.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/compliance/monthly_tax/new_tax_return/review/Withholdingtax.vue","mtime":1638499443169},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpjb25zdCB3aXRoaG9sZGluZ0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY29tcGxpYW5jZS9oYW5kbGVyL3dpdGhob2xkaW5nVGF4SGFuZGxlciIpCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgd2l0aGhvbGRpbmdzOiBbXSwKICAgICAgICBhbW91bnQ6IDAsCiAgICB9KSwKICAgIHByb3BzOiBbJ3dpdGhob2xkaW5nJ10sCiAgICB3YXRjaDogeyd3aXRoaG9sZGluZ1NQJzogJ29ubG9hZFdpdGhob2xkaW5nJ30sCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgb25sb2FkV2l0aGhvbGRpbmcoKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aXRoaG9sZGluZ1NQLmxlbmd0aCA8PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoaG9sZGluZ0hhbmRsZXIuZ2V0QnlNcklkKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkudGhlbihhc3luYyByZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndpdGhob2xkaW5ncyA9IHJlcy5kYXRhLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCd3aXRoaG9sZGluZycsIHRoaXMud2l0aGhvbGRpbmdzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApCiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aXRoaG9sZGluZ3MgPSB0aGlzLndpdGhob2xkaW5nU1AKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAzMDApCiAgICAgICAgICAgIH0pCgogICAgICAgIH0sCiAgICAgICAgYXN5bmMgZ2V0QW1vdW50UmVzaWRlbnQoYW1vdW50KSB7CiAgICAgICAgICAgIHRoaXMuYW1vdW50ICs9IGFtb3VudAogICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coYW1vdW50LCAnZ2V0IGFtb3VudCByZXNpZGVudCcpCiAgICAgICAgICAgIGF3YWl0IHRoaXMub25VcGRhdGUoKQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgZ2V0QW1vdW50Tm9uUmVzaWRlbnQoYW1vdW50KSB7CiAgICAgICAgICAgIHRoaXMuYW1vdW50ICs9IGFtb3VudAogICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coYW1vdW50LCAnZ2V0IGFtb3VudCBub24gcmVzaWRlbnQnKQogICAgICAgICAgICBhd2FpdCB0aGlzLm9uVXBkYXRlKCkKICAgICAgICB9LAogICAgICAgIGFzeW5jIG9uVXBkYXRlKCkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCdnZXRBbW91bnRXaXRoaG9sZGluZ1RheCcsIHRoaXMuYW1vdW50KQogICAgICAgIH0sCiAgICB9LAogICAgYXN5bmMgbW91bnRlZCgpIHsKICAgICAgICBhd2FpdCB0aGlzLm9ubG9hZFdpdGhob2xkaW5nKCkKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIHdpdGhob2xkaW5nU1AoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLndpdGhob2xkaW5nICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndpdGhob2xkaW5nCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gW10KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgUmVzaWRlbnQ6ICgpID0+IGltcG9ydCgnLi93aXRoaG9sZGluZ3RheC9SZXNpZGVudCcpLAogICAgICAgIE5vUmVzaWRlbnQ6ICgpID0+IGltcG9ydCgnLi93aXRoaG9sZGluZ3RheC9Ob1Jlc2lkZW50JyksCiAgICB9LAp9Owo="},{"version":3,"sources":["Withholdingtax.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Withholdingtax.vue","sourceRoot":"src/views/compliance/monthly_tax/new_tax_return/review","sourcesContent":["<template>\n    <v-row>\n        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n            <v-tabs>\n                <v-tab>\n                    <span class=\"hidden-sm-and-up\">\n                        <v-icon left>mdi-pen</v-icon>\n                    </span>\n                    <span class=\"hidden-sm-and-down text-capitalize\">\n                        {{ $t('resident') }}\n                    </span>\n                </v-tab>\n                <v-tab>\n                    <span class=\"hidden-sm-and-up\">\n                        <v-icon left>mdi-pen</v-icon>\n                    </span>\n                    <span class=\"hidden-sm-and-down text-capitalize\">\n                        {{ $t('non_resident') }}\n                    </span>\n                </v-tab>\n                <v-tab-item>\n                    <v-row>\n                        <v-col style=\"background: #fff\" sm=\"12\" cols=\"12\" class=\"pt-0\">\n                            <Resident :withholding=\"withholdings\" @getAmountResident=\"getAmountResident\"/>\n                        </v-col>\n                    </v-row>\n                </v-tab-item>\n                <v-tab-item>\n                    <v-row>\n                        <v-col style=\"background: #fff\" sm=\"12\" cols=\"12\" class=\"pt-0\">\n                            <NoResident :withholding=\"withholdings\" @getAmountNonResident=\"getAmountNonResident\"/>\n                        </v-col>\n                    </v-row>\n                </v-tab-item>\n            </v-tabs>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\n\nconst withholdingHandler = require(\"@/scripts/compliance/handler/withholdingTaxHandler\")\nexport default {\n    data: () => ({\n        withholdings: [],\n        amount: 0,\n    }),\n    props: ['withholding'],\n    watch: {'withholdingSP': 'onloadWithholding'},\n    methods: {\n        async onloadWithholding() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    if (this.withholdingSP.length <= 0) {\n                        new Promise(resolve => {\n                            setTimeout(() => {\n                                resolve('resolved');\n                                withholdingHandler.getByMrId(this.$route.params.id).then(async res => {\n                                    this.withholdings = res.data.data\n                                    window.console.log('withholding', this.withholdings)\n                                })\n                            }, 100)\n                        })\n                    } else {\n                        this.withholdings = this.withholdingSP\n                    }\n                }, 300)\n            })\n\n        },\n        async getAmountResident(amount) {\n            this.amount += amount\n            window.console.log(amount, 'get amount resident')\n            await this.onUpdate()\n        },\n        async getAmountNonResident(amount) {\n            this.amount += amount\n            window.console.log(amount, 'get amount non resident')\n            await this.onUpdate()\n        },\n        async onUpdate() {\n            this.$emit('getAmountWithholdingTax', this.amount)\n        },\n    },\n    async mounted() {\n        await this.onloadWithholding()\n    },\n    computed: {\n        withholdingSP() {\n            if (this.withholding !== undefined) {\n                return this.withholding\n            } else {\n                return []\n            }\n        }\n    },\n    components: {\n        Resident: () => import('./withholdingtax/Resident'),\n        NoResident: () => import('./withholdingtax/NoResident'),\n    },\n};\n</script>\n\n<style scoped>\n.v-tab--active {\n    background-color: #E5EFFA;\n    color: #000;\n}\n\n.v-tab {\n    min-width: 30px;\n    font-size: 17px;\n    text-transform: capitalize;\n}\n\n.theme--light.v-tabs >>> .v-tabs-bar {\n    border-bottom: 1px solid #ddd !important;\n}\n</style>\n"]}]}