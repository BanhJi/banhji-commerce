{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/payment/Payment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/payment/Payment.vue","mtime":1638499443258},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiCmNvbnN0IHBheXJvbGxIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3BheXJvbGxIYW5kbGVyIikKY29uc3QgZW1wbG95ZWVIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2VtcGxveWVlSGFuZGxlciIpCmNvbnN0IHNldHRpbmdzSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zZXR0aW5nc0hhbmRsZXIiKQpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiUGF5bWVudCIsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgLy8gTG9hZGluZ01lOiAoKSA9PiBpbXBvcnQoYEAvY29tcG9uZW50cy9Mb2FkaW5nYCkKICAgIH0sCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgIHNlYXJjaDogbnVsbCwKICAgICAgICBzZWxlY3Q6IG51bGwsCiAgICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgICAgIGRpYWxvZ20yOiBmYWxzZSwKICAgICAgICBjaGFuZ01vbnRoT2Y6IHRydWUsCiAgICAgICAgcGF5cm9sbHM6IFtdLAogICAgICAgIGVtcGxveWVlczpbXSwKICAgICAgICBpdGVtczogW10sCiAgICAgICAgaXNfbW9udGg6IGZhbHNlLAogICAgICAgIGlzX21vbnRoX3NlYXJjaDogZmFsc2UsCiAgICAgICAgbW9udGhPZjogJycsCiAgICAgICAgbW9udGhPZlNlYXJjaDogJycsCiAgICAgICAgcGF5cm9sbFNlbGVjdGVkOiAnJywKICAgICAgICBjYXNoQWNjb3VudFNlbGVjdGVkOiB7fSwKICAgICAgICBlbXBsb3llZVNlbGVjdDogJycsCiAgICAgICAgcGF5TnVtYmVyOiB7fSwKICAgICAgICBwcmVmaXg6JycsCiAgICAgICAgbnVtYmVyOiAnJywKICAgICAgICByZXN1bHQ6e30sCiAgICAgICAgY2FzaEFjY291bnQ6W3sKICAgICAgICAgICAgaWQ6ICdjYXNoX3BheW1lbnQnLAogICAgICAgICAgICBuYW1lOiAnQ2FzaCBQYXltZW50JwogICAgICAgIH0sewogICAgICAgICAgICBpZDogJ2JhbmtfcGF5bWVudCcsCiAgICAgICAgICAgIG5hbWU6ICdCYW5rIFBheW1lbnQnCiAgICAgICAgfV0sCiAgICAgICAgdHJhbnNhY3Rpb246IHsKICAgICAgICAgICAgZ3Jvc3NTYWxhcnk6IDAsCiAgICAgICAgICAgIGRlZHVjdGlvbjogMCwKICAgICAgICAgICAgdGF4U2FsYXJ5VVM6IDAsCiAgICAgICAgICAgIHRvdGFsQmVuZWZpdDogMCwKICAgICAgICAgICAgbmV0U2FsYXJ5OiAgMCwKICAgICAgICAgICAgdGF4QmVuZWZpdDogMCwKICAgICAgICAgICAgbmV0UGF5OiAwCiAgICAgICAgfSwKICAgICAgICBhbW91bnRQYXk6IDAsCiAgICAgICAgcGF5bWVudHM6IFtdLAogICAgfSksCiAgICBtZXRob2RzOiB7CiAgICAgICAgbnVtYmVyRm9ybWF0KHZhbHVlKXsKICAgICAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKCBrZW5kby5wYXJzZUZsb2F0KHZhbHVlKSwiYzIiKQogICAgICAgIH0sCiAgICAgICAgbW9udGhPZkNoYW5nKCl7CiAgICAgICAgICAgIGxldCBwYXJhbSA9ICB7CiAgICAgICAgICAgICAgICAnbW9udGhPZic6ICAgICAgdGhpcy5tb250aE9mU2VhcmNoICsgJy0wMScsCiAgICAgICAgICAgICAgICAnc2VsZWN0VGltZSc6ICAgdGhpcy5uYXR1cmVJbnB1dFNlbGVjdGVkLAogICAgICAgICAgICAgICAgJ2VtcGxveWVlX2lkJzogIHRoaXMuZW1wbG95ZWVTZWxlY3QsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpCiAgICAgICAgICAgICAgICAgICAgcGF5cm9sbEhhbmRsZXIuZ2V0UGF5cm9sbExpc3QocGFyYW0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBheXJvbGxzID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ01vbnRoT2YgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgMzAwKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgcGF5cm9sbE51bWJlckNoYW5nKCl7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKQogICAgICAgICAgICAgICAgICAgIHBheXJvbGxIYW5kbGVyLmdldFRyYW5zYWN0aW9uKHRoaXMuZW1wbG95ZWVTZWxlY3QsIHRoaXMucGF5cm9sbFNlbGVjdGVkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHJlcy5kYXRhLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb24gPSByZXN1bHRbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW1vdW50UGF5ID0gdGhpcy50cmFuc2FjdGlvbi5uZXRQYXkgKyAodGhpcy50cmFuc2FjdGlvbi50b3RhbEJlbmVmaXQtIHRoaXMudHJhbnNhY3Rpb24udGF4QmVuZWZpdCkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDMwMCkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGxvYWRQcmVmaXhlcygpIHsKICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIHNldHRpbmdzSGFuZGxlci5nZXRQcmVmaXhlcygpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHJlcy5kYXRhLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJlZml4TGlzdCA9IHJlc3VsdC5maWx0ZXIocCA9PiBwLnR5cGUgPT0ncGF5X3NsaXAnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVmaXggPSB0aGlzLnByZWZpeExpc3RbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF5TnVtYmVyID0gdGhpcy5wcmVmaXgKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9LCAzMDApCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBnZW5lcmF0ZU51bWJlcigpIHsKICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICBhYmJyOiB0aGlzLnBheU51bWJlci5hYmJyLAogICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3R1cmU6IHRoaXMucGF5TnVtYmVyLnN0cnVjdHVyZSwKICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhPZjogJzIwMjEtMDEtMDEnLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGF5X3NsaXAnLAogICAgICAgICAgICAgICAgICAgICAgICBwa0lkOiAncHNuLScKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcGF5cm9sbEhhbmRsZXIuZ2V0UHJlZml4TnVtYmVyKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TnVtYmVyID0gdGhpcy56ZXJvUGFkKHBhcnNlSW50KHJlc3VsdC5sYXN0TnVtYmVyKSwgdGhpcy5wYXlOdW1iZXIuZm9ybWF0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtYmVyID0gcmVzdWx0LnN1ZmZpeCArIHRoaXMucGF5TnVtYmVyLm51bWJlclNlcGFyYXRvciArIGxhc3ROdW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdE51bWJlciA9IGxhc3ROdW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubnVtYmVyID0gbnVtYmVyCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHplcm9QYWQobnVtLCBwbGFjZXMpIHsKICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhudW0pLnBhZFN0YXJ0KHBsYWNlcywgJzAnKQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZEVtcGxveWVlKCl7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKQogICAgICAgICAgICAgICAgICAgIGVtcGxveWVlSGFuZGxlci5jZW50ZXIoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbXBsb3llZXMgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAzMDApCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBjbG9zZSgpIHsKICAgICAgICAgICAgdGhpcy5kaWFsb2dtMiA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMucGF5cm9sbFNlbGVjdGVkID0gJycKICAgICAgICAgICAgdGhpcy5lbXBsb3llZVNlbGVjdCA9ICcnCiAgICAgICAgICAgIHRoaXMubW9udGhPZlNlYXJjaCA9ICcnCiAgICAgICAgfSwKICAgICAgICBlbXBsb3llZUZpbHRlcihpdGVtLCBxdWVyeVRleHQpewogICAgICAgICAgICBjb25zdCB0ZXh0T25lID0gaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkKICAgICAgICAgICAgY29uc3QgdGV4dFR3byA9IGl0ZW0uZW1wbG95ZWVJZC50b0xvd2VyQ2FzZSgpCiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFRleHQgPSBxdWVyeVRleHQudG9Mb3dlckNhc2UoKQogICAgICAgICAgICByZXR1cm4gdGV4dE9uZS5pbmRleE9mKHNlYXJjaFRleHQpID4gLTEgfHwKICAgICAgICAgICAgdGV4dFR3by5pbmRleE9mKHNlYXJjaFRleHQpID4gLTEKICAgICAgICB9LAogICAgICAgIG9uU2F2ZUNsb3NlKCl7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgInBheXJvbGxfaWQiOiAgICAgICAgICAgdGhpcy5wYXlyb2xsU2VsZWN0ZWQsCiAgICAgICAgICAgICAgICAgICAgICAgICJtb250aE9mIjogICAgICAgICAgICAgIHRoaXMubW9udGhPZlNlYXJjaCArICctMDEnLAogICAgICAgICAgICAgICAgICAgICAgICAiZW1wbG95ZWVfaWQiOiAgICAgICAgICB0aGlzLmVtcGxveWVlU2VsZWN0LAogICAgICAgICAgICAgICAgICAgICAgICAiZW1wbG95ZWVzIjogICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAiYW1vdW50UGF5IjogICAgICAgICAgICBwYXJzZUludCh0aGlzLmFtb3VudFBheSksCiAgICAgICAgICAgICAgICAgICAgICAgICJudW1iZXIiOiAgICAgICAgICAgICAgIHRoaXMubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAicGF5TnVtYmVyIjogICAgICAgICAgICB0aGlzLnBheU51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgInJlZmVyZW5jZU51bWJlciI6ICAgICAgdGhpcy5wYXlOdW1iZXIuYWJicit0aGlzLnBheU51bWJlci5udW1iZXJTZXBhcmF0b3IgKyB0aGlzLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAgICAgICAgICAgICAgICAgInBheV9zbGlwIiwKICAgICAgICAgICAgICAgICAgICAgICAgImFiYnIiOiAgICAgICAgICAgICAgICAgdGhpcy5wYXlOdW1iZXIuYWJiciwKICAgICAgICAgICAgICAgICAgICAgICAgIm5ldFBheSI6ICAgICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvbi5uZXRQYXksCiAgICAgICAgICAgICAgICAgICAgICAgICJtZXRob2QiOiAgICAgICAgICAgICAgICJjYXNoX3BheW1lbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAibGFzdE51bWJlciI6ICAgICAgICAgICB0aGlzLmxhc3ROdW1iZXIsCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBwYXlyb2xsSGFuZGxlci5jcmVhdGVQYXltZW50KGRhdGEpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuc3VjY2VzcygnU3VjY2VzcycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCkgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuZXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nJykKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChlKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGFkZE5ld1BheW1lbnQoKXsKICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZU51bWJlcigpCiAgICAgICAgfSwKICAgICAgICBsb2FkUGF5bWVudCgpewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJykKICAgICAgICAgICAgICAgICAgICBwYXlyb2xsSGFuZGxlci5nZXRQYXltZW50KCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF5bWVudHMgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAzMDApCiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5sb2FkRW1wbG95ZWUoKQogICAgICAgIHRoaXMubG9hZFByZWZpeGVzKCkKICAgICAgICB0aGlzLmxvYWRQYXltZW50KCkKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgZGlhbG9nbTIodmFsKSB7CiAgICAgICAgICAgIHZhbCB8fCB0aGlzLmNsb3NlKCkKICAgICAgICAgICAgdGhpcy5sb2FkUGF5bWVudCgpCiAgICAgICAgfSwKICAgICAgICAKICAgIH0sCn07Cg=="},{"version":3,"sources":["Payment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Payment.vue","sourceRoot":"src/views/payroll/payment","sourcesContent":["<template>\n    <v-row>\n        <v-col cols=\"12\" sm=\"12\" class=\"py-0\">\n            <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                <h2 class=\"mb-0 font_20\">{{$t('payment')}}</h2>\n                <v-dialog v-model=\"dialogm2\" max-width=\"600px\" eager>\n                    <template v-slot:activator=\"{ on }\">\n                         <v-menu\n                            nudge-bottom=\"4\"\n                            bottom\n                            offset-y\n                            origin=\"bottom top\"\n                            transition=\"scroll-y-reverse-transition\">\n                            <template v-slot:activator=\"{ on }\">\n                            <span class=\"hidden-sm-and-up\">\n                                <div class=\"dropdown_transactions\">\n                                    <v-icon v-on=\"on\" left>mdi-attachment</v-icon>\n                                    <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                </div>\n                            </span>\n                                <span class=\"hidden-sm-and-down\">\n                                <v-btn color=\"lightGreen\" v-on=\"on\"\n                                    class=\"dropdown_transactions white--text float-right text-capitalize\">\n                                    {{$t('create_new')}}\n                                    <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                </v-btn>\n                            </span>\n                            </template>\n                            <v-list>\n                                <v-list-item v-on=\"on\" @click=\"addNewPayment\">\n                                    <v-list-item-title>{{$t('cash_payment')}}</v-list-item-title>\n                                </v-list-item>\n                                <v-list-item v-on=\"on\" @click=\"addNewPayment\">\n                                    <v-list-item-title>{{$t('bank_payment')}}</v-list-item-title>\n                                </v-list-item>\n                            </v-list>\n                        </v-menu>\n                    </template>\n                    <v-card>\n                        <div class=\"modal_header\">\n                        <v-card-title>{{$t('Cash Payment')}}</v-card-title>\n                        <v-icon class=\"btn_close\" @click=\"dialogm2 = false\">close</v-icon>\n                        </div>\n                        <v-card-text class=\"modal_text_content\">\n                            <v-form ref=\"form\">\n                                <v-row>\n                                    <v-col style=\"line-height: 0px;\" sm=\"6\" cosl=\"12\">\n                                        <label>{{ $t('Employee') }}</label>\n                                        <v-autocomplete\n                                            v-model=\"employeeSelect\"\n                                            style=\"padding-top: 0px\"\n                                            :items=\"employees\"\n                                            item-value=\"id\"\n                                            :filter=\"employeeFilter\"\n                                            item-text=\"name\"\n                                            :search-input.sync=\"search\"\n                                            hide-no-data\n                                            hide-selected\n                                            placeholder=\"Start typing to Search\"\n                                            prepend-icon=\"mdi-database-search\"\n                                        />\n                                    </v-col>\n                                    <v-col style=\"line-height: 0px;\" sm=\"6\" cosl=\"12\">\n                                        <label>{{ $t('payslip') }}</label>\n                                        <v-row class=\"my-3 mr-0\">\n                                            <v-col sm=\"3\" cols=\"3\" class=\"pt-0 pr-0\">\n                                                <div style=\"line-height: 20px;\" class=\"code_text text-bold\">{{\n                                                    prefix.abbr}}\n                                                </div>\n                                            </v-col>\n                                            <v-col sm=\"7\" cols=\"7\" class=\"pt-0 pl-0 pr-1\">\n                                                <v-text-field class=\" custom-border \"\n                                                    v-model=\"number\"\n                                                    outlined\n                                                    :rules=\"[v => !!v || 'Number is required']\"\n                                                    required/>\n                                            </v-col>\n                                            <v-col sm=\"2\" cols=\"2\" class=\"pt-0 px-0\">\n                                                <v-icon color=\"black\" size=\"30\" class=\"border_qrcode\"\n                                                        @click=\"generateNumber\">mdi-qrcode\n                                                </v-icon>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                    <v-col style=\"line-height: 0px;\" sm=\"6\" cosl=\"12\">\n                                        <label class=\"label\">{{$t('for_the_month_of')}}</label>\n                                        <v-menu\n                                            v-model=\"is_month_search\"\n                                            :close-on-content-click=\"false\"\n                                            :nudge-right=\"40\"\n                                            lazy\n                                            transition=\"scale-transition\"\n                                            offset-y\n                                            full-width>\n                                            <template v-slot:activator=\"{ on }\">\n                                            <v-text-field class=\"pt-0\"\n                                                v-model=\"monthOfSearch\"\n                                                prepend-icon=\"event\"\n                                                v-on=\"on\"/>\n                                            </template>\n                                            <v-date-picker\n                                            v-model=\"monthOfSearch\"\n                                            @change=\"monthOfChang\"\n                                            type=\"month\"\n                                            no-title @input=\"is_month_search = false\">\n                                            </v-date-picker>\n                                        </v-menu>\n                                    </v-col>\n                                    <v-col style=\"line-height: 0px;\" sm=\"6\" cosl=\"12\">\n                                        <label>{{ $t('payroll_number') }}</label>\n                                        <v-select\n                                            class=\" my-2\"\n                                            outlined\n                                            :items=\"payrolls\"\n                                            filter=\"true\"\n                                            item-value=\"id\"\n                                            item-text=\"referenceNumber\"\n                                            v-model=\"payrollSelected\"\n                                            :disabled=\"changMonthOf\"\n                                            @change=\"payrollNumberChang\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            tage=\"unitOfMeasureSelector\"\n                                        />\n                                    </v-col>\n                                </v-row>\n                            </v-form>\n                        </v-card-text>\n                        <v-card-text style=\"padding: 0px; height: 260px; background-color: #fff; color: #333;\">\n                            <template>\n                                <v-simple-table class=\"attachment_table\">\n                                    <template v-slot:default>\n                                        <tbody style=\"width: 100%\">\n                                            <tr>\n                                                <td style=\"padding-left: 30px; height: 40px;\"><span> Salary</span></td>\n                                                <td style=\"text-align: right; height: 40px;\">{{numberFormat(transaction.grossSalary)}}</td>\n                                            </tr>\n                                            <tr>\n                                                <td style=\"padding-left: 30px; height: 40px;\"><span>Deduction</span></td>\n                                                <td style=\"text-align: right; height: 40px;\">{{numberFormat(transaction.deduction * -1)}}</td>\n                                            </tr>\n                                            <tr>\n                                                <td style=\"padding-left: 30px; height: 40px;\"><span>Tax Salary</span></td>\n                                                <td style=\"text-align: right; height: 40px;\">{{numberFormat(transaction.taxSalaryUS * -1)}}</td>\n                                            </tr>\n                                            <tr>\n                                                <td style=\"padding-left: 30px; height: 40px;\"><span>Benefit</span></td>\n                                                <td style=\"text-align: right; height: 40px;\">{{numberFormat(transaction.totalBenefit- transaction.taxBenefit)}}</td>\n                                            </tr>\n                                            <tr>\n                                                <td style=\"padding-left: 30px; height: 40px;\"><span>Net Salary</span></td>\n                                                <td style=\"text-align: right; height: 40px;\">{{numberFormat(transaction.netSalary +(transaction.totalBenefit- transaction.taxBenefit))}}</td>\n                                            </tr>\n                                        </tbody>\n                                        <tfoot>\n                                            <tr>\n                                                <td style=\"padding-left: 30px; height: 40px;\"><span>Net Pay</span></td>\n                                                <td style=\"text-align: right; height: 40px; padding: 0px\">\n                                                    <v-text-field class=\"mt-1\"\n                                                        type=\"number\"\n                                                        outlined\n                                                        tage=\"Name\"\n                                                        v-model=\"amountPay\"\n                                                        placeholder=\"\"/>\n                                                    <!-- {{numberFormat(transaction.netPay + (transaction.totalBenefit- transaction.taxBenefit))}} -->\n                                                </td>\n                                            </tr>\n                                        </tfoot>\n                                    </template>\n                                </v-simple-table>\n                            </template>\n                        </v-card-text>\n                        <v-divider/>\n                        <v-card-actions class=\"modal_footer\">\n                            <v-row>\n                                <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-left\">\n                                    <v-btn color=\"primary\" outlined class=\" text-capitalize  black--text float-left\" @click=\"dialogm2 = false\">{{$t('cancel')}}</v-btn>\n                                </v-col>\n                                <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-right\">\n                                    <v-btn color=\"primary\" class=\" white--text text-capitalize\" @click=\"onSaveClose\">{{$t('save_close')}}\n                                    </v-btn>\n                                </v-col>\n                            </v-row>\n                        </v-card-actions>\n                    </v-card>\n                </v-dialog>\n            </v-col>\n            <div class=\"reports_table\">\n                <kendo-datasource ref=\"dataSource\"\n                    :data=\"payments\"/>\n                    <kendo-grid id=\"grid\" class=\"grid-function\"\n                        :data-source-ref=\"'dataSource'\"\n                        :editable=\"false\"\n                        :scrollable-virtual=\"true\">\n                    <kendo-grid-column\n                        :width=\"150\"\n                        :field=\"'employees'\"\n                        :title=\"$t('employee')\"\n                        :template=\"'<span>#= employees.employeeName#</span>'\"\n                        :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                        :attributes=\"{ style: 'text-align: center'}\"/>\n                    <kendo-grid-column\n                        :width=\"200\"\n                        :field=\"'referenceNumber'\"\n                        :title=\"$t('reference_number')\"\n                        :template=\"'<span>#= referenceNumber#</span>'\"\n                        :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                        :attributes=\"{ style: 'text-align: center'}\"/>\n                    <kendo-grid-column\n                        :width=\"120\"\n                        :field=\"'monthOf'\"\n                        :title=\"$t('month_of')\"\n                        :template=\"'<span>#= monthOf#</span>'\"\n                        :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                    <kendo-grid-column\n                        :width=\"120\"\n                        :field=\"'netPay'\"\n                        :title=\"$t('net_pay')\"\n                        :template=\"'<span>#= kendo.toString(netPay,`c2`)#</span>'\"\n                        :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                    <kendo-grid-column\n                        :width=\"120\"\n                        :field=\"'amountPay'\"\n                        :title=\"$t('amount_pay')\"\n                        :template=\"'<span>#= kendo.toString(amountPay,`c2`)#</span>'\"\n                        :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                    <kendo-grid-column\n                        :width=\"120\"\n                        :field=\"'createdAt'\"\n                        :title=\"$t('created')\"\n                        :template=\"'<span>#= kendo.toString(new Date(created), `yyyy-MM-dd` )#</span>'\"\n                        :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                    <kendo-grid-column\n                        :width=\"150\"\n                        :field=\"'method'\"\n                        :title=\"$t('method')\"\n                        :template=\"'<span>#= method #</span>'\"\n                        :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                    </kendo-grid>\n            </div>\n        </v-col>\n        <!-- <LoadingMe :isLoading=\"showLoading\" :fullPage=\"true\" :myLoading=\"true\"/> -->\n    </v-row>\n</template>\n\n<script>\n    import kendo from \"@progress/kendo-ui\"\n    const payrollHandler = require(\"@/scripts/payrollHandler\")\n    const employeeHandler = require(\"@/scripts/employeeHandler\")\n    const settingsHandler = require(\"@/scripts/settingsHandler\")\n    export default {\n        name: \"Payment\",\n        components: {\n            // LoadingMe: () => import(`@/components/Loading`)\n        },\n        data: () => ({\n            loading: false,\n            search: null,\n            select: null,\n            showLoading: false,\n            dialogm2: false,\n            changMonthOf: true,\n            payrolls: [],\n            employees:[],\n            items: [],\n            is_month: false,\n            is_month_search: false,\n            monthOf: '',\n            monthOfSearch: '',\n            payrollSelected: '',\n            cashAccountSelected: {},\n            employeeSelect: '',\n            payNumber: {},\n            prefix:'',\n            number: '',\n            result:{},\n            cashAccount:[{\n                id: 'cash_payment',\n                name: 'Cash Payment'\n            },{\n                id: 'bank_payment',\n                name: 'Bank Payment'\n            }],\n            transaction: {\n                grossSalary: 0,\n                deduction: 0,\n                taxSalaryUS: 0,\n                totalBenefit: 0,\n                netSalary:  0,\n                taxBenefit: 0,\n                netPay: 0\n            },\n            amountPay: 0,\n            payments: [],\n        }),\n        methods: {\n            numberFormat(value){\n                return kendo.toString( kendo.parseFloat(value),\"c2\")\n            },\n            monthOfChang(){\n                let param =  {\n                    'monthOf':      this.monthOfSearch + '-01',\n                    'selectTime':   this.natureInputSelected,\n                    'employee_id':  this.employeeSelect,\n                }\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved')\n                        payrollHandler.getPayrollList(param).then(res => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false\n                                this.payrolls = res.data.data\n                                this.changMonthOf = false\n                            }\n                        }).catch()\n                        {\n                            this.showLoading = false\n                        }\n                    }, 300)\n                })\n            },\n            payrollNumberChang(){\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved')\n                        payrollHandler.getTransaction(this.employeeSelect, this.payrollSelected).then(res => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false\n                                let result = res.data.data\n                                this.transaction = result[0]\n                                this.amountPay = this.transaction.netPay + (this.transaction.totalBenefit- this.transaction.taxBenefit)\n                            }\n                        }).catch()\n                        {\n                            this.showLoading = false\n                        }\n                    }, 300)\n                })\n            },\n            loadPrefixes() {\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        settingsHandler.getPrefixes().then(res => {\n                            if (res.data.statusCode === 200) {\n                                let result = res.data.data\n                                this.prefixList = result.filter(p => p.type =='pay_slip')\n                                this.prefix = this.prefixList[0]\n                                this.payNumber = this.prefix\n                            }\n                        })\n                    }, 300)\n                })\n            },\n            generateNumber() {\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        let data = {\n                            abbr: this.payNumber.abbr,\n                            structure: this.payNumber.structure,\n                            monthOf: '2021-01-01',\n                            type: 'pay_slip',\n                            pkId: 'psn-'\n                        }\n                        payrollHandler.getPrefixNumber(data).then(res => {\n                            this.showLoading = true;\n                            if(res.data.statusCode === 200){\n                                const result = res.data.data\n                                const lastNumber = this.zeroPad(parseInt(result.lastNumber), this.payNumber.format)\n                                const number = result.suffix + this.payNumber.numberSeparator + lastNumber\n                                this.lastNumber = lastNumber\n                                this.number = number\n                            }\n                        })\n                    }, 300);\n                })\n            },\n            zeroPad(num, places) {\n                return String(num).padStart(places, '0')\n            },\n            async loadEmployee(){\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved')\n                        employeeHandler.center().then(res => {\n                            this.showLoading = true\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false\n                                this.employees = res.data.data\n                            }\n                        }).catch()\n                        {\n                            this.showLoading = false\n                        }\n                    }, 300)\n                })\n            },\n            close() {\n                this.dialogm2 = false\n                this.payrollSelected = ''\n                this.employeeSelect = ''\n                this.monthOfSearch = ''\n            },\n            employeeFilter(item, queryText){\n                const textOne = item.name.toLowerCase()\n                const textTwo = item.employeeId.toLowerCase()\n                const searchText = queryText.toLowerCase()\n                return textOne.indexOf(searchText) > -1 ||\n                textTwo.indexOf(searchText) > -1\n            },\n            onSaveClose(){\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        let data = {\n                            \"payroll_id\":           this.payrollSelected,\n                            \"monthOf\":              this.monthOfSearch + '-01',\n                            \"employee_id\":          this.employeeSelect,\n                            \"employees\":            this.transaction,\n                            \"amountPay\":            parseInt(this.amountPay),\n                            \"number\":               this.number,\n                            \"payNumber\":            this.payNumber,\n                            \"referenceNumber\":      this.payNumber.abbr+this.payNumber.numberSeparator + this.number,\n                            \"type\":                 \"pay_slip\",\n                            \"abbr\":                 this.payNumber.abbr,\n                            \"netPay\":               this.transaction.netPay,\n                            \"method\":               \"cash_payment\",\n                            \"lastNumber\":           this.lastNumber,\n                        };\n                        payrollHandler.createPayment(data).then(response => {\n                            if (response.data.statusCode === 201) {\n                                this.$snotify.success('Success')\n                                this.close()        \n                            }\n                        }).catch(e => {\n                            this.$snotify.error('Something went wrong')\n                            this.errors.push(e)\n                            this.close()\n                        })\n                    }, 300);\n                })\n            },\n            addNewPayment(){\n                this.generateNumber()\n            },\n            loadPayment(){\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved')\n                        payrollHandler.getPayment().then(res => {\n                            this.showLoading = true\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false\n                                this.payments = res.data.data\n                            }\n                        }).catch()\n                        {\n                            this.showLoading = false\n                        }\n                    }, 300)\n                })\n            }\n        },\n        mounted() {\n            this.loadEmployee()\n            this.loadPrefixes()\n            this.loadPayment()\n        },\n        computed: {\n        },\n        watch: {\n            dialogm2(val) {\n                val || this.close()\n                this.loadPayment()\n            },\n            \n        },\n    };\n</script>\n<style scoped>\n</style>"]}]}