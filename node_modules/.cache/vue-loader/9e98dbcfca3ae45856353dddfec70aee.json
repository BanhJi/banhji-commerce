{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/production/bill_of_material/BillOfMaterials.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/production/bill_of_material/BillOfMaterials.vue","mtime":1638499443283},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgTGlua1RlbXBsYXRlIGZyb20gIkAvY29tcG9uZW50cy9rZW5kb190ZW1wbGF0ZXMvTGlua1RlbXBsYXRlIjsKCmNvbnN0IGJvbUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvYm9tSGFuZGxlciIpCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICAnYXBwLXNlYXJjaGRhdGUnOiAoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL1NlYXJjaERhdGUnKSwKICAgIExvYWRpbmdNZTogKCkgPT4gaW1wb3J0KCJAL2NvbXBvbmVudHMvTG9hZGluZyIpCiAgfSwKICBkYXRhOiAoKSA9PiAoewogICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgbURhdGVTb3J0ZXI6ICdUb2RheScsCiAgICBzdGFydERhdGU6ICcnLAogICAgZW5kRGF0ZTogJycsCiAgICBkYXRlU29ydGVyczogWydUb2RheScsICdUaGlzIFdlZWsnLCAnVGhpcyBNb250aCcsICdUaGlzIFllYXInXSwKICAgIGJvbUxpc3Q6IFtdLAogIH0pLAogIHByb3BzOiBbJ2RhdGFCb20nXSwKICBtZXRob2RzOiB7CiAgICByZWZlcmVuY2VUZW1wbGF0ZShkYXRhKSB7CiAgICAgIGxldCB1cmwgPSBgYm9tX3ZpZXcvJHtkYXRhLmlkfWAKICAgICAgbGV0IGFyZ3MgPSB7CiAgICAgICAgdGV4dDogZGF0YS5yZWZlcmVuY2VObywKICAgICAgICB1cmw6IHVybCwKICAgICAgICBkYXRhOiBkYXRhLAogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgdGVtcGxhdGU6IExpbmtUZW1wbGF0ZSwKICAgICAgICB0ZW1wbGF0ZUFyZ3M6IGFyZ3MKICAgICAgfQogICAgfSwKICAgIHJvd051bWJlck9QKGRhdGFJdGVtKSB7CiAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMuYm9tRFMua2VuZG9XaWRnZXQoKSwKICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgaXRlbVRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgaXRlbSA9IGRhdGFJdGVtCiAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBgPHNwYW4+JHtpdGVtLml0ZW1OYW1lID8gaXRlbS5pdGVtTmFtZSA6IGBgfTwvc3Bhbj5gCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBgYAogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJldHVybiAnJwogICAgICB9CiAgICB9LAogICAgQk9NVHlwZVRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIGNvbnN0IGJUeXBlID0gZGF0YUl0ZW0udHlwZUJvbQogICAgICBpZiAoYlR5cGUpIHsKICAgICAgICByZXR1cm4gYDxzcGFuPiR7YlR5cGUubmFtZSA/IGJUeXBlLm5hbWUgOiBgYH08L3NwYW4+YAogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBgYAogICAgICB9CiAgICB9LAogICAgVU9NVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgY29uc3QgdW9tID0gZGF0YUl0ZW0uYnVvbQogICAgICBpZiAodW9tKSB7CiAgICAgICAgcmV0dXJuIGA8c3Bhbj4ke3VvbS5uYW1lID8gdW9tLm5hbWUgOiBgYH08L3NwYW4+YAogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBgYAogICAgICB9CiAgICB9LAogICAgc3RhdHVzVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgY29uc3Qgc3RhdHVzID0gZGF0YUl0ZW0uc3RhdHVzCiAgICAgIGxldCBzdGF0dXNUZXh0ID0gJycKICAgICAgc3dpdGNoIChzdGF0dXMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBzdGF0dXNUZXh0ID0gJ09wZW4nCiAgICAgICAgICBicmVhawogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHN0YXR1c1RleHQgPSAnVXNlZCcKICAgICAgICAgIGJyZWFrCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgc3RhdHVzVGV4dCA9ICdDbG9zZWQnCiAgICAgICAgICBicmVhawogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBicmVhawogICAgICB9CiAgICAgIHJldHVybiBzdGF0dXNUZXh0CiAgICB9LAogICAgYXN5bmMgbG9hZEJPTSgpIHsKICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUKICAgICAgbGV0IHN0ckZpbHRlciA9ICcnCgogICAgICBpZiAodGhpcy5zdGFydERhdGUgIT09ICcnICYmIHRoaXMuZW5kRGF0ZSAhPT0gJycpIHsKICAgICAgICBzdHJGaWx0ZXIgPSAnP3N0YXJ0PScgKyB0aGlzLnN0YXJ0RGF0ZSArICcmZW5kPScgKyB0aGlzLmVuZERhdGUKICAgICAgfQogICAgICB3aW5kb3cuY29uc29sZS5sb2coc3RyRmlsdGVyLCAndGhpcy5zdGFydERhdGUnKQogICAgICBhd2FpdCBib21IYW5kbGVyLmdldEFsbChzdHJGaWx0ZXIpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmJvbUxpc3QgPSByZXMKICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgIH0sCiAgICBvblVwZGF0ZSgpIHsKICAgICAgaWYgKHRoaXMuZGF0YUJvbSkgewogICAgICAgIHRoaXMuYm9tTGlzdC5wdXNoKHRoaXMuZGF0YUJvbSkKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsnYm9tRGF0YSc6ICdvblVwZGF0ZSd9LAogIGFzeW5jIG1vdW50ZWQoKSB7CiAgICBhd2FpdCB0aGlzLmxvYWRCT00oKQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGJvbURhdGEoKSB7CiAgICAgIGlmICh0aGlzLmRhdGFCb20pIHsKICAgICAgICByZXR1cm4gdGhpcy5kYXRhQm9tCiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHt9CiAgICAgIH0KICAgIH0KICB9LAp9Owo="},{"version":3,"sources":["BillOfMaterials.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BillOfMaterials.vue","sourceRoot":"src/views/products/production/bill_of_material","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n      <v-row>\n        <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n          <h2 class=\"mb-0 font_20\">{{ $t('bill_of_material') }}</h2>\n        </v-col>\n        <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n          <v-btn to=\"bom\" color=\"primary\" class=\" white--text float-right text-capitalize\">\n            {{ $t('new_bom') }}\n          </v-btn>\n        </v-col>\n\n      </v-row>\n      <v-row class=\"mt-0\">\n        <v-col sm=\"12\" cols=\"12\" class=\"\">\n          <v-row class=\"\">\n            <v-col sm=\"10\" cols=\"12\" class=\"py-0\">\n              <app-searchdate :initStartDate=\"startDate\" @emitStartDate=\"startDate = $event\"\n                              :initEndDate=\"endDate\" @emitEndDate=\"endDate = $event\"/>\n            </v-col>\n            <v-col sm=\"1\" cols=\"12\" class=\"pt-1\">\n              <v-btn class=\"btn_search\" style=\"background-color: rgb(237, 241, 245)\" @click=\"loadBOM\">\n                 <i class=\"b-search\" style=\"font-size: 18px; color:#fff !important;\"/>\n              </v-btn>\n            </v-col>\n          </v-row>\n        </v-col>\n      </v-row>\n\n\n      <v-row class=\"\">\n        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n          <template>\n            <kendo-datasource ref=\"bomDS\"\n                              :data=\"bomList\"\n            />\n            <kendo-grid id=\"gridBOM\" class=\"grid-function\"\n                        :data-source-ref=\"'bomDS'\"\n                        :sortable=\"false\"\n                        :filterable=\"false\"\n                        :column-menu=\"true\"\n                        :editable=\"false\"\n                        :scrollable-virtual=\"true\"\n            >\n              <kendo-grid-column\n                  :template=\"rowNumberOP\"\n                  :title=\"$t('no.')\"\n                  :width=\"55\"\n                  :column-menu=\"false\"\n                  :headerAttributes=\"{\n                                                        style: 'background-color: #EDF1F5;',\n                                                        class: 'text-variants'\n                                                    }\"\n                  :attributes=\"{\n                                                        style: 'text-align: variants'\n                                                    }\"/>\n              <kendo-grid-column :field=\"'referenceNo'\"\n                                 :title=\"$t('bom_number')\"\n                                 :width=\"160\"\n                                 :template=\"referenceTemplate\"\n                                 :headerAttributes=\"{\n                                                        style: 'background-color: #EDF1F5'\n                                                    }\"/>\n              <kendo-grid-column :field=\"'itemName'\"\n                                 :title=\"$t('item')\"\n                                 :width=\"200\"\n                                 :template=\"itemTemplate\"\n                                 :headerAttributes=\"{\n                                                        style: 'background-color: #EDF1F5'\n                                                    }\"/>\n              <kendo-grid-column :field=\"'typeBom'\"\n                                 :title=\"$t('bom_type')\"\n                                 :width=\"150\"\n                                 :template=\"BOMTypeTemplate\"\n                                 :headerAttributes=\"{\n                                                        style: 'background-color: #EDF1F5'\n                                                    }\"/>\n              <kendo-grid-column :field=\"'buom'\"\n                                 :title=\"$t('base_uom')\"\n                                 :width=\"150\"\n                                 :template=\"UOMTemplate\"\n                                 :editable=\"()=>{ return false}\"\n                                 :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                 :attributes=\"{style: 'text-align: right; '}\"/>\n              <kendo-grid-column :field=\"'status'\"\n                                 :title=\"$t('status')\"\n                                 :width=\"150\"\n                                 :template=\"statusTemplate\"\n                                 :headerAttributes=\"{\n                                                            style: 'text-align: right; background-color: #EDF1F5'\n                                                        }\"\n                                 :attributes=\"{\n                                                            style: 'text-align: right'\n                                                        }\"/>\n            </kendo-grid>\n          </template>\n        </v-col>\n      </v-row>\n    </v-col>\n    <LoadingMe\n        :isLoading=\"showLoading\"\n        :fullPage=\"false\"\n        type=\"loading\"\n        :myLoading=\"true\"\n    />\n  </v-row>\n</template>\n<script>\n\nimport LinkTemplate from \"@/components/kendo_templates/LinkTemplate\";\n\nconst bomHandler = require(\"@/scripts/bomHandler\")\nexport default {\n  components: {\n    'app-searchdate': () => import('@/components/custom_templates/SearchDate'),\n    LoadingMe: () => import(\"@/components/Loading\")\n  },\n  data: () => ({\n    showLoading: false,\n    mDateSorter: 'Today',\n    startDate: '',\n    endDate: '',\n    dateSorters: ['Today', 'This Week', 'This Month', 'This Year'],\n    bomList: [],\n  }),\n  props: ['dataBom'],\n  methods: {\n    referenceTemplate(data) {\n      let url = `bom_view/${data.id}`\n      let args = {\n        text: data.referenceNo,\n        url: url,\n        data: data,\n      }\n      return {\n        template: LinkTemplate,\n        templateArgs: args\n      }\n    },\n    rowNumberOP(dataItem) {\n      let ds = this.$refs.bomDS.kendoWidget(),\n          index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    itemTemplate(dataItem) {\n      try {\n        const item = dataItem\n        if (item) {\n          return `<span>${item.itemName ? item.itemName : ``}</span>`\n        } else {\n          return ``\n        }\n      } catch (e) {\n        return ''\n      }\n    },\n    BOMTypeTemplate(dataItem) {\n      const bType = dataItem.typeBom\n      if (bType) {\n        return `<span>${bType.name ? bType.name : ``}</span>`\n      } else {\n        return ``\n      }\n    },\n    UOMTemplate(dataItem) {\n      const uom = dataItem.buom\n      if (uom) {\n        return `<span>${uom.name ? uom.name : ``}</span>`\n      } else {\n        return ``\n      }\n    },\n    statusTemplate(dataItem) {\n      const status = dataItem.status\n      let statusText = ''\n      switch (status) {\n        case 1:\n          statusText = 'Open'\n          break\n        case 2:\n          statusText = 'Used'\n          break\n        case 3:\n          statusText = 'Closed'\n          break\n        default:\n          break\n      }\n      return statusText\n    },\n    async loadBOM() {\n      this.showLoading = true\n      let strFilter = ''\n\n      if (this.startDate !== '' && this.endDate !== '') {\n        strFilter = '?start=' + this.startDate + '&end=' + this.endDate\n      }\n      window.console.log(strFilter, 'this.startDate')\n      await bomHandler.getAll(strFilter).then(res => {\n        this.bomList = res\n        this.showLoading = false\n      })\n    },\n    onUpdate() {\n      if (this.dataBom) {\n        this.bomList.push(this.dataBom)\n      }\n    }\n  },\n  watch: {'bomData': 'onUpdate'},\n  async mounted() {\n    await this.loadBOM()\n  },\n  computed: {\n    bomData() {\n      if (this.dataBom) {\n        return this.dataBom\n      } else {\n        return {}\n      }\n    }\n  },\n};\n</script>\n\n<style scoped>\n\n.function_footer {\n  padding: 15px;\n  display: inline-block;\n}\n\np {\n  color: rgba(0, 0, 0, 0.87);\n}\n\n.actionBtn {\n  height: 47.2px !important;\n}\n\n.text_tip {\n  font-size: 9px;\n  line-height: 10px;\n}\n\n@media (max-width: 576px) {\n}\n</style>\n"]}]}