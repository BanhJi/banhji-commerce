{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/suppliers/suppliers/vendor_credit_term/credit_limit_term/PaymentTerm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/suppliers/suppliers/vendor_credit_term/credit_limit_term/PaymentTerm.vue","mtime":1638499443365},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYXltZW50VGVybU1vZGVsIGZyb20gIkAvc2NyaXB0cy9wYXltZW50dGVybS9tb2RlbC9QYXltZW50VGVybSI7CmltcG9ydCBUZXJtTW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL1BheW1lbnRUZXJtIjsKaW1wb3J0IHBheW1lbnRUZXJtSGFuZGxlciBmcm9tICJAL3NjcmlwdHMvcGF5bWVudHRlcm0vaGFuZGxlci9wYXltZW50VGVybUhhbmRsZXIiOwppbXBvcnQgc2V0dGluZ0hhbmRsZXIgZnJvbSAiQC9zY3JpcHRzL3NldHRpbmdzSGFuZGxlciI7CmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwppbXBvcnQgJCBmcm9tICJqcXVlcnkiOwovLyBjb25zdCBjcmVkaXRMaW1pdEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY3JlZGl0TGltaXQvaGFuZGxlci9jcmVkaXRMaW1pdEhhbmRsZXIiKTsKY29uc3QgcGF5bWVudFRlcm1Nb2RlbCA9IG5ldyBQYXltZW50VGVybU1vZGVsKHt9KTsKCmNvbnN0IGNvb2tpZUpTID0gcmVxdWlyZSgiQC9jb29raWUuanMiKTsKY29uc3QgY29va2llID0gY29va2llSlMuZ2V0Q29va2llKCk7CmNvbnN0IFRZUEUgPSAiVmVuZG9yIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQYXltZW50VGVybSIsCiAgcHJvcHM6IFsidmVuZG9yIl0sCiAgZGF0YTogKCkgPT4gKHsKICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgIHBheW1lbnRJdGVtOiBbXSwKICAgIHRlcm1zOiBbXSwKICAgIGRpYWxvZzogZmFsc2UsCiAgICB2YWxpZDogdHJ1ZSwKICAgIHBheW1lbnRUZXJtOiBwYXltZW50VGVybU1vZGVsLAogICAgbG9nZ2VkVXNlcjogewogICAgICBpZDogY29va2llLmNyZWF0b3IsCiAgICAgIG5hbWU6IGNvb2tpZS5lbWFpbCwKICAgIH0sCiAgICBkaXNhYmxlZDogZmFsc2UsCiAgfSksCiAgY29tcG9uZW50czogewogICAgImFwcC1kYXRlcGlja2VyIjogKCkgPT4KICAgICAgaW1wb3J0KCJAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9EYXRlUGlja2VyQ29tcG9uZW50IiksCiAgICBMb2FkaW5nTWU6ICgpID0+IGltcG9ydChgQC9jb21wb25lbnRzL0xvYWRpbmdgKSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICB2ZW5kb3JOYW1lKCkgewogICAgICBpZiAodGhpcy52ZW5kb3IpIHsKICAgICAgICBjb25zdCBjdXMgPSB0aGlzLnZlbmRvciB8fCB7fTsKICAgICAgICBjb25zdCBpZCA9IGN1cy5pZCB8fCAiIjsKICAgICAgICBpZiAoaWQpIHsKICAgICAgICAgIHRoaXMubG9hZFBheW1lbnRUZXJtTGlzdCgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpcy52ZW5kb3IubmFtZSB8fCAiIjsKICAgICAgfQogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgdmVuZG9ySWQoKSB7CiAgICAgIGlmICh0aGlzLnZlbmRvcikgewogICAgICAgIGNvbnN0IHN1cCA9IHRoaXMudmVuZG9yIHx8IHt9OwogICAgICAgIGNvbnN0IGlkID0gc3VwLmlkIHx8ICIiOwogICAgICAgIGlmIChpZCkgewogICAgICAgICAgcmV0dXJuIHRoaXMudmVuZG9yLmlkIHx8ICIiOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gIiI7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgb25OZXcoKSB7CiAgICAgIHRoaXMucGF5bWVudFRlcm0uaWQgPSAiIjsKICAgICAgdGhpcy5wYXltZW50VGVybS50ZXJtID0gbmV3IFRlcm1Nb2RlbCh7fSk7CiAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgIH0sCiAgICBnb0VkaXRfKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBsZXQgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRWZW5kb3JUZXJtcyIpLmRhdGEoImtlbmRvR3JpZCIpOwogICAgICBsZXQgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKCQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKICAgICAgdGhpcy5wYXltZW50VGVybSA9IG5ldyBQYXltZW50VGVybU1vZGVsKGRhdGFJdGVtKTsKICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgICB3aW5kb3cuY29uc29sZS5sb2codGhpcy5wYXltZW50VGVybSwgImdyaWRWZW5kb3JUZXJtcyIpOwogICAgfSwKICAgIHJvd051bWJlclRtcGwoZGF0YUl0ZW0pIHsKICAgICAgbGV0IGRzID0gdGhpcy4kcmVmcy52ZW5kb3JUZXJtSXRlbURTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKICAgICAgcmV0dXJuIGluZGV4ICsgMTsKICAgIH0sCiAgICBhc3luYyBsb2FkUGF5bWVudFRlcm1MaXN0KCkgewogICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgIGlmICh0aGlzLnZlbmRvcklkKSB7CiAgICAgICAgICAgIGNvbnN0IHN0ckZpbHRlciA9ICI/aWQ9IiArIHRoaXMudmVuZG9ySWQgKyAiJnR5cGU9IiArIFRZUEU7CiAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICBwYXltZW50VGVybUhhbmRsZXIuZ2V0KHN0ckZpbHRlcikudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgdGhpcy5wYXltZW50SXRlbSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0sIDEwKTsKICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgbG9hZFBheW1lbnQoKSB7CiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgY29uc3Qgc3RyRmlsdGVyID0gIj90eXBlPXBtdC1zdXBwbGllciI7CiAgICAgICAgICBzZXR0aW5nSGFuZGxlci5nZXRQYXltZW50VGVybShzdHJGaWx0ZXIpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgdGhpcy50ZXJtcyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0sIDEwKTsKICAgICAgfSk7CiAgICB9LAogICAgb25TYXZlQ2xvc2UoKSB7CiAgICAgIC8vIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAvLyAgIHJldHVybgogICAgICAvLyB9CiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygnKHRoaXMudmVuZG9ySWQnLCAodGhpcy52ZW5kb3JJZCkpCiAgICAgIGlmICh0aGlzLnZlbmRvcklkKSB7CiAgICAgICAgY29uc3QgdmVuZG9yXyA9IHsKICAgICAgICAgIGlkOiB0aGlzLnZlbmRvci5pZCB8fCAiIiwKICAgICAgICAgIG5hbWU6IHRoaXMudmVuZG9yLm5hbWUgfHwgIiIsCiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5wYXltZW50VGVybVsidmVuZG9ySWQiXSA9IHRoaXMudmVuZG9ySWQ7CiAgICAgICAgdGhpcy5wYXltZW50VGVybVsidmVuZG9yIl0gPSB2ZW5kb3JfOwogICAgICAgIHRoaXMucGF5bWVudFRlcm1bInRlcm0iXSA9IG5ldyBUZXJtTW9kZWwodGhpcy5wYXltZW50VGVybS50ZXJtKTsKICAgICAgICB0aGlzLnBheW1lbnRUZXJtWyJkZWxldGVkIl0gPSAwOwogICAgICAgIHRoaXMucGF5bWVudFRlcm1bInR5cGUiXSA9IFRZUEU7CiAgICAgICAgdGhpcy5wYXltZW50VGVybVsibG9nZ2VkVXNlciJdID0gdGhpcy5sb2dnZWRVc2VyOwogICAgICAgIHRoaXMucGF5bWVudFRlcm1bImVmZmVjdGl2ZURhdGUiXSA9IG5ldyBEYXRlKAogICAgICAgICAgdGhpcy5wYXltZW50VGVybS5lZmZlY3RpdmVEYXRlXwogICAgICAgICkKICAgICAgICAgIC50b0lTT1N0cmluZygpCiAgICAgICAgICAuc3Vic3RyKDAsIDEwKTsKICAgICAgICB0aGlzLnBheW1lbnRUZXJtWyJlZmZlY3RpdmVEYXRlXyJdID0gbmV3IERhdGUoCiAgICAgICAgICB0aGlzLnBheW1lbnRUZXJtLmVmZmVjdGl2ZURhdGVfCiAgICAgICAgKS50b0pTT04oKTsKICAgICAgICAvLyB0aGlzLmNyZWRpdExpbWl0WydhY3Rpb25UeXBlJ10gPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPyB0aGlzLiRyb3V0ZS5xdWVyeS50eXBlIDogJ25ldycKCiAgICAgICAgLy8gdGhpcy5zaG93TG9hZGluZyA9IHRydWUKICAgICAgICB0aGlzLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coIih0aGlzLnBheW1lbnRUZXJtIiwgdGhpcy5wYXltZW50VGVybSk7CiAgICAgICAgcGF5bWVudFRlcm1IYW5kbGVyCiAgICAgICAgICAuY3JlYXRlKHRoaXMucGF5bWVudFRlcm0pCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgIC8vIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuc3VjY2VzcygiU3VjY2Vzc2Z1bGx5Iik7CiAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpOwogICAgICAgICAgICAgIHRoaXMubG9hZFBheW1lbnRUZXJtTGlzdCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgLy8gdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuZXJyb3IoIlNvbWV0aGluZyB3ZW50IHdyb25nIik7CiAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZSk7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICB9LAogIG1vdW50ZWQ6IGFzeW5jIGZ1bmN0aW9uKCkgewogICAgYXdhaXQgdGhpcy5sb2FkUGF5bWVudCgpOwogIH0sCn07Cg=="},{"version":3,"sources":["PaymentTerm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PaymentTerm.vue","sourceRoot":"src/views/suppliers/suppliers/vendor_credit_term/credit_limit_term","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"grayBg px-6\">\n      <v-card color=\"white\" class=\"pa-3 no_border\" elevation=\"0\">\n        <v-row>\n          <v-col cols=\"12\">\n            <v-btn @click=\"onNew\" color=\"primary float-right white--text\">\n              {{ $t(\"new\") }}\n            </v-btn>\n          </v-col>\n        </v-row>\n\n        <LoadingMe\n          :isLoading=\"showLoading\"\n          :fullPage=\"false\"\n          type=\"loading\"\n          :myLoading=\"true\"\n        />\n        <kendo-datasource ref=\"vendorTermItemDS\" :data=\"paymentItem\" />\n        <kendo-grid\n          id=\"gridVendorTerms\"\n          class=\"grid-function\"\n          :data-source-ref=\"'vendorTermItemDS'\"\n          :sortable=\"false\"\n          :column-menu=\"true\"\n          :editable=\"false\"\n          :noRecords=\"true\"\n          :scrollable-virtual=\"true\"\n        >\n          <kendo-grid-column\n            :title=\"$t('no.')\"\n            :width=\"55\"\n            :column-menu=\"false\"\n            :template=\"rowNumberTmpl\"\n            :headerAttributes=\"{\n              style: 'background-color: #EDF1F5;',\n              class: 'text-products',\n            }\"\n            :attributes=\"{\n              style: 'text-align: products',\n            }\"\n          />\n\n          <kendo-grid-column\n            :field=\"'term.name'\"\n            :title=\"$t('term')\"\n            :width=\"200\"\n            :headerAttributes=\"{\n              style: 'background-color: #EDF1F5',\n            }\"\n          />\n          <kendo-grid-column\n            :field=\"'effectiveDate'\"\n            :title=\"$t('date')\"\n            :template=\"\n              '<span>#=kendo.toString(new Date(effectiveDate), dateFormat)#</span>'\n            \"\n            :width=\"200\"\n            :headerAttributes=\"{\n              style: 'background-color: #EDF1F5',\n            }\"\n          />\n          <kendo-grid-column\n            :command=\"{\n              iconClass: 'k-icon k-i-edit',\n              text: ' ',\n              click: goEdit_,\n              class: 'btn-plus',\n            }\"\n            :title=\"''\"\n            :width=\"80\"\n            :headerAttributes=\"{\n              style: 'text-align: left; background-color: #EDF1F5',\n            }\"\n          />\n        </kendo-grid>\n      </v-card>\n      <v-dialog v-model=\"dialog\" max-width=\"600px\">\n        <v-card>\n          <div class=\"modal_header\">\n            <v-card-title>{{ $t(\"payment_term\") }}</v-card-title>\n            <v-icon class=\"\" @click=\"dialog = false\">close</v-icon>\n          </div>\n          <v-card-text class=\"modal_text_content\">\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n              <v-row>\n                <v-col sm=\"6\" cols=\"12\" class=\"\">\n                  <label class=\"label\">{{ $t(\"supplier\") }}</label>\n                  <p>{{ vendorName }}</p>\n                </v-col>\n\n                <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                  <label class=\"label\">{{ $t(\"effective_date\") }}</label>\n                  <app-datepicker\n                    :initialDate=\"paymentTerm.effectiveDate_\"\n                    @emitDate=\"paymentTerm.effectiveDate_ = $event\"\n                  />\n                  <label class=\"label\">{{ $t(\"new_term\") }}</label>\n                  <v-select\n                    class=\"mt-1\"\n                    :items=\"terms\"\n                    item-value=\"id\"\n                    item-text=\"name\"\n                    v-model=\"paymentTerm.term\"\n                    :rules=\"[(v) => !!v || 'term is required']\"\n                    return-object\n                    outlined\n                  />\n                </v-col>\n              </v-row>\n            </v-form>\n          </v-card-text>\n          <v-card-actions class=\"modal_footer\">\n            <v-row>\n              <v-col sm=\"6\" cols=\"6\" class=\"py-0\">\n                <v-btn\n                  color=\"black\"\n                  outlined\n                  class=\" text-capitalize  black--text float-left\"\n                  @click=\"dialog = false\"\n                  >{{ $t(\"cancel\") }}\n                </v-btn>\n              </v-col>\n              <v-col sm=\"6\" cols=\"6\" class=\"py-0\">\n                <v-btn\n                  color=\"primary\"\n                  :disabled=\"disabled\"\n                  class=\"white--text text-capitalize float-right\"\n                  @click.native=\"onSaveClose\"\n                >\n                  {{ $t(\"save_close\") }}\n                </v-btn>\n              </v-col>\n            </v-row>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-col>\n  </v-row>\n</template>\n<script>\nimport PaymentTermModel from \"@/scripts/paymentterm/model/PaymentTerm\";\nimport TermModel from \"@/scripts/model/PaymentTerm\";\nimport paymentTermHandler from \"@/scripts/paymentterm/handler/paymentTermHandler\";\nimport settingHandler from \"@/scripts/settingsHandler\";\nimport kendo from \"@progress/kendo-ui\";\nimport $ from \"jquery\";\n// const creditLimitHandler = require(\"@/scripts/creditLimit/handler/creditLimitHandler\");\nconst paymentTermModel = new PaymentTermModel({});\n\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\nconst TYPE = \"Vendor\";\nexport default {\n  name: \"PaymentTerm\",\n  props: [\"vendor\"],\n  data: () => ({\n    showLoading: false,\n    paymentItem: [],\n    terms: [],\n    dialog: false,\n    valid: true,\n    paymentTerm: paymentTermModel,\n    loggedUser: {\n      id: cookie.creator,\n      name: cookie.email,\n    },\n    disabled: false,\n  }),\n  components: {\n    \"app-datepicker\": () =>\n      import(\"@/components/custom_templates/DatePickerComponent\"),\n    LoadingMe: () => import(`@/components/Loading`),\n  },\n  computed: {\n    vendorName() {\n      if (this.vendor) {\n        const cus = this.vendor || {};\n        const id = cus.id || \"\";\n        if (id) {\n          this.loadPaymentTermList();\n        }\n        return this.vendor.name || \"\";\n      }\n      return \"\";\n    },\n    vendorId() {\n      if (this.vendor) {\n        const sup = this.vendor || {};\n        const id = sup.id || \"\";\n        if (id) {\n          return this.vendor.id || \"\";\n        }\n      }\n      return \"\";\n    },\n  },\n  methods: {\n    onNew() {\n      this.paymentTerm.id = \"\";\n      this.paymentTerm.term = new TermModel({});\n      this.dialog = true;\n    },\n    close() {\n      this.dialog = false;\n    },\n    goEdit_(e) {\n      e.preventDefault();\n      let grid = kendo.jQuery(\"#gridVendorTerms\").data(\"kendoGrid\");\n      let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n      this.paymentTerm = new PaymentTermModel(dataItem);\n      this.dialog = true;\n      window.console.log(this.paymentTerm, \"gridVendorTerms\");\n    },\n    rowNumberTmpl(dataItem) {\n      let ds = this.$refs.vendorTermItemDS.kendoWidget(),\n        index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    async loadPaymentTermList() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          if (this.vendorId) {\n            const strFilter = \"?id=\" + this.vendorId + \"&type=\" + TYPE;\n            this.showLoading = true;\n            paymentTermHandler.get(strFilter).then((res) => {\n              if (res.data.statusCode === 200) {\n                this.paymentItem = res.data.data;\n                this.showLoading = false;\n              } else {\n                this.showLoading = false;\n              }\n            });\n          }\n        }, 10);\n      });\n    },\n    async loadPayment() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          const strFilter = \"?type=pmt-supplier\";\n          settingHandler.getPaymentTerm(strFilter).then((res) => {\n            if (res.data.statusCode === 200) {\n              this.terms = res.data.data;\n            }\n          });\n        }, 10);\n      });\n    },\n    onSaveClose() {\n      // if (this.$refs.form.validate()) {\n      //   return\n      // }\n      // window.console.log('(this.vendorId', (this.vendorId))\n      if (this.vendorId) {\n        const vendor_ = {\n          id: this.vendor.id || \"\",\n          name: this.vendor.name || \"\",\n        };\n\n        this.paymentTerm[\"vendorId\"] = this.vendorId;\n        this.paymentTerm[\"vendor\"] = vendor_;\n        this.paymentTerm[\"term\"] = new TermModel(this.paymentTerm.term);\n        this.paymentTerm[\"deleted\"] = 0;\n        this.paymentTerm[\"type\"] = TYPE;\n        this.paymentTerm[\"loggedUser\"] = this.loggedUser;\n        this.paymentTerm[\"effectiveDate\"] = new Date(\n          this.paymentTerm.effectiveDate_\n        )\n          .toISOString()\n          .substr(0, 10);\n        this.paymentTerm[\"effectiveDate_\"] = new Date(\n          this.paymentTerm.effectiveDate_\n        ).toJSON();\n        // this.creditLimit['actionType'] = this.$route.params.id ? this.$route.query.type : 'new'\n\n        // this.showLoading = true\n        this.disabled = true;\n        window.console.log(\"(this.paymentTerm\", this.paymentTerm);\n        paymentTermHandler\n          .create(this.paymentTerm)\n          .then((response) => {\n            if (response.data.statusCode === 201) {\n              this.disabled = false;\n              // this.showLoading = false\n              this.$snotify.success(\"Successfully\");\n              this.close();\n              this.loadPaymentTermList();\n            }\n          })\n          .catch((e) => {\n            this.disabled = false;\n            // this.showLoading = false\n            this.$snotify.error(\"Something went wrong\");\n            this.errors.push(e);\n          });\n      }\n    },\n  },\n  mounted: async function() {\n    await this.loadPayment();\n  },\n};\n</script>\n"]}]}