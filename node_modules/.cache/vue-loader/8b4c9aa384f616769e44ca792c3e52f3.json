{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/settings/currency/TxnExchangeRate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/settings/currency/TxnExchangeRate.vue","mtime":1638499443317},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUeG5DdXJyZW5jeU1vZGVsIGZyb20gIkAvc2NyaXB0cy9jdXJyZW5jeS9tb2RlbC9UeG5DdXJyZW5jeSI7CmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwppbXBvcnQgSGVscGVyIGZyb20gIkAvaGVscGVyIjsKCmNvbnN0IGN1cnJlbmN5SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jdXJyZW5jeS9oYW5kbGVyL2N1cnJlbmN5SGFuZGxlciIpOwpjb25zdCB0eG5DdXJyZW5jeU1vZGVsID0gbmV3IFR4bkN1cnJlbmN5TW9kZWwoe30pOwpjb25zdCAkID0ga2VuZG8ualF1ZXJ5OwoKaW1wb3J0IEpTWmlwIGZyb20gImpzemlwIjsKCndpbmRvdy5KU1ppcCA9IEpTWmlwOwpjb25zdCBjdXJyZW5jeVR5cGUgPSB7CiAgICBGVU5DVElPTkFMX0NVUlJFTkNZOiAiZnVuLWMiLAogICAgVFJBTlNBQ1RJT05fQ1VSUkVOQ1k6ICJ0eG4tYyIsCiAgICBSRVBPUlRJTkdfQ1VSUkVOQ1k6ICJycHQtYyIsCiAgICBUQVhfRVhDSEFOR0VfQ1VSUkVOQ1k6ICJ0YXgtYyIsCn07CmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJUcmFuc2FjdGlvbkN1cnJlbmN5IiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICAiYXBwLWRhdGVwaWNrZXIiOiAoKSA9PiBpbXBvcnQoYEAvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL0RhdGVQaWNrZXJDb21wb25lbnRgKSwKICAgICAgICBMb2FkaW5nTWU6ICgpID0+IGltcG9ydChgQC9jb21wb25lbnRzL0xvYWRpbmdgKSwKICAgIH0sCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgICAgc2hvd0xvYWRpbmc6IHRydWUsCiAgICAgICAgbG9hZGluZ0FsZXJ0OiBmYWxzZSwKICAgICAgICBsb2FkaW5nQ29sb3JBbGVydDogIiIsCiAgICAgICAgbG9hZGluZ1RleHRBbGVydDogIiIsCiAgICAgICAgY3VycmVuY3lMaXN0OiBbXSwKICAgICAgICB0eG5DdXJyZW5jeUxpc3Q6IFtdLAogICAgICAgIGZ1bmNDdXJyZW5jeUxpc3Q6IFtdLAogICAgICAgIG1DdXJyZW5jeToge30sCiAgICAgICAgdHhuRGF0ZTogIiIsCiAgICAgICAgdHhuQ3VycmVuY3k6IHR4bkN1cnJlbmN5TW9kZWwsCiAgICAgICAgZGF0ZUZvcm1hdDogdHhuQ3VycmVuY3lNb2RlbC5kYXRlRm9ybWF0LAogICAgICAgIGJ0bkRpc2FibGVkOiBmYWxzZQogICAgfSksCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgbG9hZEN1cnJlbmN5RGF0YSh0eXBlKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5SGFuZGxlcgogICAgICAgICAgICAgICAgICAgICAgICAubGlzdCh0eXBlKQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBjdXJyZW5jeVR5cGUuRlVOQ1RJT05BTF9DVVJSRU5DWSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZ1bmNDdXJyZW5jeUxpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBjdXJyZW5jeVR5cGUuVFJBTlNBQ1RJT05fQ1VSUkVOQ1kpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW5jeUxpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKTsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgb25TYXZlQ2xvc2UoKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnR4bkN1cnJlbmN5LnJhdGUgJiYgdGhpcy5tQ3VycmVuY3kuY29kZSAmJiB0aGlzLnR4bkRhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy50eG5DdXJyZW5jeS5pZCA/IHRoaXMudHhuQ3VycmVuY3kuaWQgOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGN1cnJlbmN5VHlwZS5UUkFOU0FDVElPTl9DVVJSRU5DWSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubUN1cnJlbmN5Lm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiB0aGlzLm1DdXJyZW5jeS5jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sOiB0aGlzLm1DdXJyZW5jeS5zeW1ib2wsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVEYXRlOiB0aGlzLnR4bkRhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVEYXRlVFo6IEhlbHBlci50b0lTT0RhdGUodGhpcy50eG5EYXRlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogdGhpcy50eG5DdXJyZW5jeS5zb3VyY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJNYW51YWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0ZTogdGhpcy50eG5DdXJyZW5jeS5yYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sTmF0aXZlOiB0aGlzLm1DdXJyZW5jeS5zeW1ib2xOYXRpdmUsCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnRuRGlzYWJsZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5SGFuZGxlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNyZWF0ZShkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnRuRGlzYWJsZWQgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5zdWNjZXNzKCJTdWNjZXNzZnVsbHkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkQ3VycmVuY3lEYXRhKGN1cnJlbmN5VHlwZS5UUkFOU0FDVElPTl9DVVJSRU5DWSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idG5EaXNhYmxlZCA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ0bkRpc2FibGVkID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5LmVycm9yKCJTb21ldGhpbmcgd2VudCB3cm9uZyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgY2FuY2VsKCkgewogICAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgY2xlYXIoKSB7CiAgICAgICAgICAgIHRoaXMuYnRuRGlzYWJsZWQgPSBmYWxzZQogICAgICAgICAgICB0aGlzLnR4bkN1cnJlbmN5ID0ge307CiAgICAgICAgICAgIHRoaXMubG9hZEN1cnJlbmN5RGF0YShjdXJyZW5jeVR5cGUuRlVOQ1RJT05BTF9DVVJSRU5DWSkKICAgICAgICB9LAogICAgICAgIGdvRWRpdChlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgbGV0IGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkVHhuQ3VycmVuY3kiKS5kYXRhKCJrZW5kb0dyaWQiKTsKICAgICAgICAgICAgbGV0IGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CiAgICAgICAgICAgIHRoaXMudHhuQ3VycmVuY3kgPSBkYXRhSXRlbTsKICAgICAgICAgICAgdGhpcy5tQ3VycmVuY3kgPSBkYXRhSXRlbTsKICAgICAgICAgICAgdGhpcy50eG5EYXRlID0gZGF0YUl0ZW0uZWZmZWN0aXZlRGF0ZTsKICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgICAgIH0sCiAgICAgICAgZm9ybWF0RWZmZWN0aXZlRGF0ZShkYXRhSXRlbSkgewogICAgICAgICAgICBpZiAoZGF0YUl0ZW0uaGFzT3duUHJvcGVydHkoImVmZmVjdGl2ZURhdGUiKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKAogICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKGRhdGFJdGVtLmVmZmVjdGl2ZURhdGUpLAogICAgICAgICAgICAgICAgICAgIGAke3RoaXMuZGF0ZUZvcm1hdH1gCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9LAogICAgICAgIGZvcm1hdENyZWF0ZWRBdChkYXRhSXRlbSkgewogICAgICAgICAgICBpZiAoZGF0YUl0ZW0uaGFzT3duUHJvcGVydHkoImNyZWF0ZWRBdCIpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcoCiAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoZGF0YUl0ZW0uY3JlYXRlZEF0KSwKICAgICAgICAgICAgICAgICAgICBgJHt0aGlzLmRhdGVGb3JtYXR9YAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgfSwKCiAgICAgICAgZXhjZWxFeHBvcnQ6IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIC8vIGNvbnN0IHBpdm90ID0gdGhpcy4kcmVmcy5ncmlkVHJhbnNhY3Rpb25EUy5rZW5kb1dpZGdldCgpCiAgICAgICAgICAgIC8vIHBpdm90LnNhdmVBc0V4Y2VsKCkKICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGUuZGF0YSk7CiAgICAgICAgfSwKICAgICAgICBpbml0VG9vbGJhcih0aGF0KSB7CiAgICAgICAgICAgIGxldCBncmlkID0gJCgiI2dyaWRUeG5DdXJyZW5jeSIpLmRhdGEoImtlbmRvR3JpZCIpOwogICAgICAgICAgICBsZXQgZ3JpZEVsZW1lbnQgPSBncmlkLmVsZW1lbnQ7CiAgICAgICAgICAgIGxldCB0b29sYmFyRWxlbWVudCA9IGdyaWRFbGVtZW50LmZpbmQoIi5rLWdyaWQtdG9vbGJhciIpOwogICAgICAgICAgICB0b29sYmFyRWxlbWVudC5vbigiY2xpY2siLCAiLmstcGFnZXItcmVmcmVzaCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBvblJlbG9hZERhdGEodGhhdCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0b29sYmFyRWxlbWVudC5vbigiY2xpY2siLCAiLmstcGFnZXItZXhjZWwiLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgb25FeHBvcnRFeGNlbCh0aGF0KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBmdW5jdGlvbiBvblJlbG9hZERhdGEodGhhdCkgewogICAgICAgICAgICAgICAgdGhhdC5sb2FkQ3VycmVuY3lEYXRhKGN1cnJlbmN5VHlwZS5UUkFOU0FDVElPTl9DVVJSRU5DWSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIG9uRXhwb3J0RXhjZWwodGhhdCkgewogICAgICAgICAgICAgICAgdGhhdC5leHBvcnRUb0V4Y2VsKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHRvb2xiYXJUZW1wbGF0ZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZUh0bWwgPQogICAgICAgICAgICAgICAgJzxzcGFuPicgKwogICAgICAgICAgICAgICAgJzxhIGNsYXNzPSJrLXBhZ2VyLWV4Y2VsIGstbGluayBrLWJ1dHRvbiBleGNlbCIgdGl0bGU9IkV4cG9ydCB0byBFeGNlbCI+IDxzcGFuIGNsYXNzPSJrLWljb24gay1pLWV4Y2VsIj48L3NwYW4+RXhwb3J0IHRvIGV4Y2VsIDwvYT4nICsKICAgICAgICAgICAgICAgICc8L3NwYW4+PHNwYW4+Jm5ic3A7Jm5ic3A7PC9zcGFuPicgKwogICAgICAgICAgICAgICAgJzxzcGFuIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTsgcmlnaHQ6NXB4Ij4nICsKICAgICAgICAgICAgICAgICc8L3NwYW4+JyArCiAgICAgICAgICAgICAgICAnPHNwYW4+JyArCiAgICAgICAgICAgICAgICAnPGEgY2xhc3M9ImstcGFnZXItcmVmcmVzaCBrLWxpbmsgay1idXR0b24gcmVsb2FkIiB0aXRsZT0iUmVmcmVzaCI+PHNwYW4gY2xhc3M9ImstaWNvbiBrLWktcmVsb2FkIj48L3NwYW4+IFJlZnJlc2ggPC9hPicgKwogICAgICAgICAgICAgICAgJzwvc3Bhbj4nCgogICAgICAgICAgICByZXR1cm4ga2VuZG8udGVtcGxhdGUodGVtcGxhdGVIdG1sKQogICAgICAgIH0sCiAgICAgICAgZXhwb3J0VG9FeGNlbCgpIHsKICAgICAgICAgICAgY29uc3QgZ3JpZCA9ICQoIiNncmlkVHhuQ3VycmVuY3kiKS5kYXRhKCJrZW5kb0dyaWQiKQogICAgICAgICAgICBncmlkLnNhdmVBc0V4Y2VsKCkKICAgICAgICB9LAogICAgfSwKICAgIG1vdW50ZWQ6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgICBhd2FpdCB0aGlzLmxvYWRDdXJyZW5jeURhdGEoY3VycmVuY3lUeXBlLkZVTkNUSU9OQUxfQ1VSUkVOQ1kpOwogICAgICAgIGF3YWl0IHRoaXMubG9hZEN1cnJlbmN5RGF0YShjdXJyZW5jeVR5cGUuVFJBTlNBQ1RJT05fQ1VSUkVOQ1kpOwogICAgICAgIGF3YWl0IHRoaXMuaW5pdFRvb2xiYXIodGhpcykKICAgIH0sCn07Cg=="},{"version":3,"sources":["TxnExchangeRate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2NA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TxnExchangeRate.vue","sourceRoot":"src/views/settings/currency","sourcesContent":["<template>\n    <v-row>\n        <v-col sm=\"12\" cols=\"12\" class=\"grayBg px-3 \">\n            <v-card color=\"white\" class=\"pa-3 no_border\" elevation=\"0\">\n                <v-row class=\"\">\n                    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                        <template>\n                            <v-dialog v-model=\"dialog\" max-width=\"500px\">\n                                <template v-slot:activator=\"{ on, attrs }\">\n                                    <v-btn\n                                        color=\"primary\"\n                                        class=\" text-capitalize white--text float-right\"\n                                        @click=\"clear\"\n                                        v-bind=\"attrs\"\n                                        v-on=\"on\">\n                                        <v-icon size=\"15\" class=\"ma-1 mr-2\">mdi-plus</v-icon>\n                                        {{ $t(\"new\") }}\n                                    </v-btn>\n                                </template>\n\n                                <v-card>\n                                    <div class=\"modal_header\">\n                                        <v-card-title\n                                        >{{ $t(\"transaction_exchange_rate\") }}\n                                        </v-card-title>\n                                        <v-icon @click=\"dialog = false\">\n                                            close\n                                        </v-icon>\n                                    </div>\n                                    <v-card-text class=\"modal_text_content\">\n                                        <v-row>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label \">{{\n                                                        $t(\"effective_rate_date\")\n                                                    }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"txnCurrency.effectiveDate\"\n                                                    @emitDate=\"txnDate = $event\"\n                                                />\n\n                                                <label class=\"label\">{{ $t(\"currency\") }}</label>\n                                                <p class=\"text_tip\">{{ $t(\"pls_select_currency\") }}</p>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :items=\"funcCurrencyList\"\n                                                    v-model=\"mCurrency\"\n                                                    item-value=\"code\"\n                                                    :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                    return-object\n                                                    outlined\n                                                >\n                                                </v-select>\n                                            </v-col>\n\n                                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                <label class=\"label\">{{ $t(\"rate\") }}</label>\n                                                <v-text-field\n                                                    outlined\n                                                    class=\"mt-1\"\n                                                    v-model=\"txnCurrency.rate\"\n                                                />\n                                            </v-col>\n                                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                <label class=\"label\">{{ $t(\"source\") }}</label>\n                                                <v-text-field\n                                                    outlined\n                                                    class=\"mt-1\"\n                                                    v-model=\"txnCurrency.source\"\n                                                    placeholder=\"\"\n                                                />\n                                            </v-col>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                <p>{{ $t(\"note_exc_rate\") }}</p>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card-text>\n\n                                    <v-card-actions class=\"modal_footer\">\n                                        <v-row>\n                                            <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-left\">\n                                                <v-btn\n                                                    color=\"primary\"\n                                                    outlined\n                                                    class=\" text-capitalize  black--text float-left\"\n                                                    @click=\"dialog = false\"\n                                                >{{ $t(\"cancel\") }}\n                                                </v-btn>\n                                            </v-col>\n                                            <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-right\">\n                                                <v-btn\n                                                    color=\"primary\"\n                                                    class=\"px-3  white--text text-capitalize\"\n                                                    :disabled=\"btnDisabled\"\n                                                    @click=\"onSaveClose\"\n                                                >\n                                                    {{ $t(\"save_close\") }}\n                                                </v-btn>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card-actions>\n                                </v-card>\n                            </v-dialog>\n                        </template>\n                    </v-col>\n\n                    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                        <LoadingMe\n                            :isLoading=\"showLoading\"\n                            :fullPage=\"false\"\n                            :myLoading=\"true\"\n                            type=\"loading\"\n                        />\n                        <kendo-datasource ref=\"dataSource\" :data=\"currencyList\"/>\n\n                        <kendo-grid\n                            id=\"gridTxnCurrency\"\n                            class=\"grid-function\"\n                            :data-source-ref=\"'dataSource'\"\n                            :sortable=\"false\"\n                            :filterable=\"false\"\n                            :column-menu=\"true\"\n                            :resizable=\"true\"\n                            :editable=\"false\"\n                            :toolbar=\"toolbarTemplate\"\n                            :excel-export=\"excelExport\"\n                            :excel-file-name=\"'TxnCurrency.xlsx'\"\n                            :excel-filterable=\"true\"\n                            :scrollable-virtual=\"true\"\n                        >\n                            <kendo-grid-column\n                                :field=\"'createdAt'\"\n                                :title=\"$t('date')\"\n                                :column-menu=\"false\"\n                                :template=\"formatCreatedAt\"\n                                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5;',\n                  class: 'text-products',\n                }\"\n                                :attributes=\"{\n                  style: 'text-align: products',\n                }\"\n                            />\n                            <kendo-grid-column\n                                :field=\"'effectiveDate'\"\n                                :title=\"$t('effective_date')\"\n                                :column-menu=\"false\"\n                                :template=\"formatEffectiveDate\"\n                                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5;',\n                  class: 'text-products',\n                }\"\n                                :attributes=\"{\n                  style: 'text-align: products',\n                }\"\n                            />\n                            <kendo-grid-column\n                                :field=\"'code'\"\n                                :title=\"$t('code')\"\n                                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n                            />\n                            <kendo-grid-column\n                                :field=\"'name'\"\n                                :attributes=\"{ class: 'tb_name_td' }\"\n                                :title=\"$t('name')\"\n                                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n                            />\n                            <kendo-grid-column\n                                :field=\"'symbol'\"\n                                :title=\"$t('symbol')\"\n                                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n                            />\n                            <kendo-grid-column\n                                :field=\"'rate'\"\n                                :title=\"$t('rate')\"\n                                :headerAttributes=\"{ style: ' background-color: #EDF1F5' }\"\n                                :attributes=\"{ style: '' }\"\n                            />\n                            <kendo-grid-column\n                                :field=\"'source'\"\n                                :title=\"$t('sources')\"\n                                :hidden=\"true\"\n                                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n                            />\n                            <kendo-grid-column\n                                :field=\"'method'\"\n                                :title=\"$t('method')\"\n                                :hidden=\"true\"\n                                :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                                :attributes=\"{ style: '' }\"\n                            />\n                            <kendo-grid-column\n                                :command=\"{\n                  iconClass: 'k-icon k-i-edit',\n                  text: ' ',\n                  class: 'btn-plus',\n                  click: goEdit,\n                }\"\n                                :title=\"$t('action')\"\n                                :headerAttributes=\"{\n                  style: 'text-align: right; background-color: #EDF1F5',\n                }\"\n                            />\n                        </kendo-grid>\n                    </v-col>\n                </v-row>\n            </v-card>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\nimport TxnCurrencyModel from \"@/scripts/currency/model/TxnCurrency\";\nimport kendo from \"@progress/kendo-ui\";\nimport Helper from \"@/helper\";\n\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\");\nconst txnCurrencyModel = new TxnCurrencyModel({});\nconst $ = kendo.jQuery;\n\nimport JSZip from \"jszip\";\n\nwindow.JSZip = JSZip;\nconst currencyType = {\n    FUNCTIONAL_CURRENCY: \"fun-c\",\n    TRANSACTION_CURRENCY: \"txn-c\",\n    REPORTING_CURRENCY: \"rpt-c\",\n    TAX_EXCHANGE_CURRENCY: \"tax-c\",\n};\nexport default {\n    name: \"TransactionCurrency\",\n    components: {\n        \"app-datepicker\": () => import(`@/components/custom_templates/DatePickerComponent`),\n        LoadingMe: () => import(`@/components/Loading`),\n    },\n    data: () => ({\n        dialog: false,\n        showLoading: true,\n        loadingAlert: false,\n        loadingColorAlert: \"\",\n        loadingTextAlert: \"\",\n        currencyList: [],\n        txnCurrencyList: [],\n        funcCurrencyList: [],\n        mCurrency: {},\n        txnDate: \"\",\n        txnCurrency: txnCurrencyModel,\n        dateFormat: txnCurrencyModel.dateFormat,\n        btnDisabled: false\n    }),\n    methods: {\n        async loadCurrencyData(type) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    currencyHandler\n                        .list(type)\n                        .then((response) => {\n                            if (response.data.statusCode === 200) {\n                                this.showLoading = false\n                                if (type === currencyType.FUNCTIONAL_CURRENCY) {\n                                    this.funcCurrencyList = response.data.data;\n                                } else if (type === currencyType.TRANSACTION_CURRENCY) {\n                                    this.currencyList = response.data.data;\n                                }\n\n                            } else {\n                                this.showLoading = false;\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        async onSaveClose() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (this.txnCurrency.rate && this.mCurrency.code && this.txnDate) {\n                        let data = {\n                            id: this.txnCurrency.id ? this.txnCurrency.id : \"\",\n                            type: currencyType.TRANSACTION_CURRENCY,\n                            name: this.mCurrency.name,\n                            code: this.mCurrency.code,\n                            symbol: this.mCurrency.symbol,\n                            effectiveDate: this.txnDate,\n                            effectiveDateTZ: Helper.toISODate(this.txnDate),\n                            source: this.txnCurrency.source,\n                            method: \"Manual\",\n                            rate: this.txnCurrency.rate,\n                            symbolNative: this.mCurrency.symbolNative,\n                        };\n                        this.btnDisabled = true\n                        this.showLoading = true\n                        currencyHandler\n                            .create(data)\n                            .then((response) => {\n                                if (response.data.statusCode === 201) {\n                                    this.btnDisabled = false\n                                    this.showLoading = false\n                                    this.$snotify.success(\"Successfully\");\n                                    this.cancel();\n                                    this.loadCurrencyData(currencyType.TRANSACTION_CURRENCY);\n                                } else {\n                                    this.btnDisabled = false\n                                    this.showLoading = false\n                                }\n                            })\n                            .catch((e) => {\n                                this.btnDisabled = false\n                                this.showLoading = false\n                                this.$snotify.error(\"Something went wrong\");\n                                this.errors.push(e);\n                            });\n                    }\n                }, 10);\n            });\n        },\n        cancel() {\n            this.dialog = false;\n        },\n        clear() {\n            this.btnDisabled = false\n            this.txnCurrency = {};\n            this.loadCurrencyData(currencyType.FUNCTIONAL_CURRENCY)\n        },\n        goEdit(e) {\n            e.preventDefault();\n            let grid = kendo.jQuery(\"#gridTxnCurrency\").data(\"kendoGrid\");\n            let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n            this.txnCurrency = dataItem;\n            this.mCurrency = dataItem;\n            this.txnDate = dataItem.effectiveDate;\n            this.dialog = true;\n        },\n        formatEffectiveDate(dataItem) {\n            if (dataItem.hasOwnProperty(\"effectiveDate\")) {\n                return kendo.toString(\n                    new Date(dataItem.effectiveDate),\n                    `${this.dateFormat}`\n                );\n            }\n            return \"\";\n        },\n        formatCreatedAt(dataItem) {\n            if (dataItem.hasOwnProperty(\"createdAt\")) {\n                return kendo.toString(\n                    new Date(dataItem.createdAt),\n                    `${this.dateFormat}`\n                );\n            }\n            return \"\";\n        },\n\n        excelExport: function (e) {\n            // const pivot = this.$refs.gridTransactionDS.kendoWidget()\n            // pivot.saveAsExcel()\n            window.console.log(e.data);\n        },\n        initToolbar(that) {\n            let grid = $(\"#gridTxnCurrency\").data(\"kendoGrid\");\n            let gridElement = grid.element;\n            let toolbarElement = gridElement.find(\".k-grid-toolbar\");\n            toolbarElement.on(\"click\", \".k-pager-refresh\", function (e) {\n                e.preventDefault();\n                onReloadData(that);\n            });\n            toolbarElement.on(\"click\", \".k-pager-excel\", function (e) {\n                e.preventDefault();\n                onExportExcel(that);\n            });\n\n            function onReloadData(that) {\n                that.loadCurrencyData(currencyType.TRANSACTION_CURRENCY);\n            }\n\n            function onExportExcel(that) {\n                that.exportToExcel();\n            }\n        },\n        toolbarTemplate: function () {\n            const templateHtml =\n                '<span>' +\n                '<a class=\"k-pager-excel k-link k-button excel\" title=\"Export to Excel\"> <span class=\"k-icon k-i-excel\"></span>Export to excel </a>' +\n                '</span><span>&nbsp;&nbsp;</span>' +\n                '<span style=\"position:absolute; right:5px\">' +\n                '</span>' +\n                '<span>' +\n                '<a class=\"k-pager-refresh k-link k-button reload\" title=\"Refresh\"><span class=\"k-icon k-i-reload\"></span> Refresh </a>' +\n                '</span>'\n\n            return kendo.template(templateHtml)\n        },\n        exportToExcel() {\n            const grid = $(\"#gridTxnCurrency\").data(\"kendoGrid\")\n            grid.saveAsExcel()\n        },\n    },\n    mounted: async function () {\n        await this.loadCurrencyData(currencyType.FUNCTIONAL_CURRENCY);\n        await this.loadCurrencyData(currencyType.TRANSACTION_CURRENCY);\n        await this.initToolbar(this)\n    },\n};\n</script>\n<style scoped></style>\n"]}]}