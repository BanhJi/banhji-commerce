{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/payroll/payment/cash_payment/CashPayment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/payroll/payment/cash_payment/CashPayment.vue","mtime":1641438291872},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7aTE4bn0gZnJvbSAnQC9pMThuJzsKaW1wb3J0IExvYWRpbmdNZSBmcm9tICJAL2NvbXBvbmVudHMvTG9hZGluZyI7CmltcG9ydCBEYXRlUGlja2VyQ29tcG9uZW50IGZyb20gJ0AvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL0RhdGVQaWNrZXJDb21wb25lbnQnCmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiCmltcG9ydCBIZWxwZXIgZnJvbSAiQC9oZWxwZXIuanMiOwppbXBvcnQge0pvdXJuYWxNb2RlbCwKICAgIEpvdXJuYWxFbnRyeU1vZGVsLAogICAgQWNjb3VudE1vZGVsLAogICAgQ3VycmVuY3lNb2RlbCx9IGZyb20gIkAvc2NyaXB0cy9tb2RlbC9BcHBNb2RlbHMiOwpjb25zdCB7IEVudGl0eVR5cGUsIH0gPSByZXF1aXJlKCJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9Db2xsZWN0aW9ucyIpOwpjb25zdCBlbXBsb3llZUhhbmRsZXIgICA9IHJlcXVpcmUoIkAvc2NyaXB0cy9lbXBsb3llZUhhbmRsZXIiKQpjb25zdCBwYXlyb2xsSGFuZGxlciAgICA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wYXlyb2xsSGFuZGxlciIpCmNvbnN0IHNldHRpbmdzSGFuZGxlciAgID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NldHRpbmdzSGFuZGxlciIpCmNvbnN0IHBheW1lbnRPcHRpb25IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3BheW1lbnRPcHRpb25IYW5kbGVyIik7CmNvbnN0IGNvb2tpZUpTID0gcmVxdWlyZSgiQC9jb29raWUuanMiKTsKY29uc3QgY29va2llID0gY29va2llSlMuZ2V0Q29va2llKCk7CmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJUYXNrIiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICAnTG9hZGluZ01lJzogTG9hZGluZ01lLAogICAgICAgICdhcHAtZGF0ZXBpY2tlcicgOiBEYXRlUGlja2VyQ29tcG9uZW50CiAgICB9LAogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICBzaG93TG9hZGluZzogZmFsc2UsCiAgICAgICAgdGVtcGxhdGU6IFtdLAogICAgICAgIHN0YXJ0X2RhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgICAgIGZpbGVzOiBbXSwKICAgICAgICB0ZW1wbGF0ZXM6IFtdLAogICAgICAgIHJlc3VsdDogIFtdLAogICAgICAgIHZhbGlkOiB0cnVlLAogICAgICAgIGVtcGxveWVlczogW10sCiAgICAgICAgZW1wbG95ZWVTZWxlY3Q6ICcnLAogICAgICAgIHNlYXJjaDogbnVsbCwKICAgICAgICB0b3RhbE5ldFBheTogMCwKICAgICAgICB0b3RhbEFtb3VudFBheTogMCwKICAgICAgICBwcmVmaXg6JycsCiAgICAgICAgbnVtYmVyOiAnJywKICAgICAgICBtZXNzYWdlT25QYXltZW50OiAnJywKICAgICAgICBtZXNzYWdlT25Kb3VybmFsOiAnJywKICAgICAgICBzZWxlY3RBY2NvdW50OiAnJywKICAgICAgICBhY2NvdW50czogW10sCiAgICAgICAgdHJhbnNhdGlvbnM6IFtdLAogICAgICAgIHBheW1lbnRPcHRpb246IFtdLAogICAgICAgIHJlc3VsdFBheTogW10sCiAgICAgICAgcmF3X2pvdXJuYWw6IFtdLAogICAgICAgIHJlc3VsdEFSOiBbXSwKICAgICAgICByZXN1bHRQYXltZW50OiBbXSwKICAgICAgICBwYXlyb2xsTGlhYmlsaXRpZToge30sCiAgICAgICAgcmVzdWx0Sm91cm5hbHM6IFtdLAogICAgICAgIHBheU51bWJlcjogIHt9LAogICAgICAgIGxvZ2dlZFVzZXI6IHsKICAgICAgICAgICAgaWQ6IGNvb2tpZS5jcmVhdG9yLAogICAgICAgICAgICBuYW1lOiBjb29raWUuZW1haWwKICAgICAgICB9LAogICAgICAgIHByZWZpeF9mb3JtYXQ6ICcnCiAgICB9KSwKICAgIG1ldGhvZHM6ewogICAgICAgIGFtb3VudEZvcm1hdCh2YWx1ZSl7CiAgICAgICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyh2YWx1ZSwnbjInKTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRFbXBsb3llZSgpewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJykKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUhhbmRsZXIuY2VudGVyKCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1wbG95ZWVzID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydF9kYXRlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDMwMCkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGVtcGxveWVlRmlsdGVyKGl0ZW0sIHF1ZXJ5VGV4dCl7CiAgICAgICAgICAgIGNvbnN0IHRleHRPbmUgPSBpdGVtLm5hbWUudG9Mb3dlckNhc2UoKQogICAgICAgICAgICBjb25zdCB0ZXh0VHdvID0gaXRlbS5lbXBsb3llZUlkLnRvTG93ZXJDYXNlKCkKICAgICAgICAgICAgY29uc3Qgc2VhcmNoVGV4dCA9IHF1ZXJ5VGV4dC50b0xvd2VyQ2FzZSgpCiAgICAgICAgICAgIHJldHVybiB0ZXh0T25lLmluZGV4T2Yoc2VhcmNoVGV4dCkgPiAtMSB8fAogICAgICAgICAgICB0ZXh0VHdvLmluZGV4T2Yoc2VhcmNoVGV4dCkgPiAtMQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgcGF5cm9sbFRhbnNhY3Rpb25zKCl7CiAgICAgICAgICAgIGxldCBwYXJhbSA9ewogICAgICAgICAgICAgICAgZW1wbG95ZWVVdWlkOiB0aGlzLmVtcGxveWVlU2VsZWN0LmlkCiAgICAgICAgICAgIH0KICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpCiAgICAgICAgICAgICAgICAgICAgcGF5cm9sbEhhbmRsZXIuZ2V0VHJhbnNhY3Rpb24ocGFyYW0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYXRpb25zID0gcmVzLmRhdGEuZGF0YSAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMudHJhbnNhdGlvbnMubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXlyb2xsTGlhYmlsaXRpZSA9IHRoaXMudHJhbnNhdGlvbnNbMF0ucGF5cm9sbExpYWJpbGl0aWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRSZXN1bHQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdERhdGEoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRBUiA9IFtdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDMwMCkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRSZXN1bHQoKXsKICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMudHJhbnNhdGlvbnMKICAgICAgICAgICAgbGV0IHJlc3VsdEFSID0gW10KICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSArKykgewogICAgICAgICAgICAgICAgcmVzdWx0W2ldLnNlZ21lbnQuZm9yRWFjaChpbmRleCA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGNhbGN1bGF0ZU5ldCAgICAgICAgPSAocmVzdWx0W2ldLmFtb3VudCAqIGluZGV4LnBlcmNlbnRhZ2UpLyAxMDAKICAgICAgICAgICAgICAgICAgICBsZXQgY2FsY3VsYXRlR3Jvc3MgICAgICA9IChyZXN1bHRbaV0uZ3Jvc3NTYWxhcnkgKiBpbmRleC5wZXJjZW50YWdlKS8gMTAwCiAgICAgICAgICAgICAgICAgICAgbGV0IGNhbGN1bGF0ZVRheEJlbmVmaXQgPSAoLTEgKiAocmVzdWx0W2ldLnRheEJlbmVmaXQgKiBpbmRleC5wZXJjZW50YWdlKS8gMTAwKSArIDAuMDcKICAgICAgICAgICAgICAgICAgICBsZXQgY2FsY3VsYXRlQmVuZWZpdCA9IChyZXN1bHRbaV0udG90YWxCZW5lZml0ICogaW5kZXgucGVyY2VudGFnZSkvIDEwMCAKICAgICAgICAgICAgICAgICAgICBsZXQgbmV0U2FsYXJ5ID0gY2FsY3VsYXRlTmV0IC0gY2FsY3VsYXRlQmVuZWZpdCArIGNhbGN1bGF0ZVRheEJlbmVmaXQKICAgICAgICAgICAgICAgICAgICByZXN1bHRBUi5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICAgICAgICAgICAgICAgICByZXN1bHRbaV0uaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogICAgICAgICAgICAgcmVzdWx0W2ldLmFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudENvZGU6ICAgICAgICByZXN1bHRbaV0ucGF5bWVudENvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoT2Y6ICAgICAgICAgICAgcmVzdWx0W2ldLm1vbnRoT2YsCiAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlSWQ6ICAgICAgICAgcmVzdWx0W2ldLmVtcGxveWVlSWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlTmFtZTogICAgICAgcmVzdWx0W2ldLmVtcGxveWVlTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246ICAgICAgICAgICByZXN1bHRbaV0ubG9jYXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgIG5hdHVyZUVtcGxveWVlOiAgICAgcmVzdWx0W2ldLm5hdHVyZUVtcGxveWVlLAogICAgICAgICAgICAgICAgICAgICAgICBzYWxhcnlUeXBlOiAgICAgICAgIHJlc3VsdFtpXS5zYWxhcnlUeXBlLAogICAgICAgICAgICAgICAgICAgICAgICBwYXlEYXRlOiAgICAgICAgICAgIHJlc3VsdFtpXS5wYXlEYXRlLAogICAgICAgICAgICAgICAgICAgICAgICBwYXlyb2xsSWQ6ICAgICAgICAgIHJlc3VsdFtpXS5wYXlyb2xsSWQsCiAgICAgICAgICAgICAgICAgICAgICAgIHNsaXBOdW1iZXI6ICAgICAgICAgcmVzdWx0W2ldLnNsaXBOdW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRPcHRpb246ICAgICAgcmVzdWx0W2ldLnBheW1lbnRPcHRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiAgICAgICAgICAgcmVzdWx0W2ldLmN1cnJlbmN5LAogICAgICAgICAgICAgICAgICAgICAgICBwYXlyb2xsTGlhYmlsaXRpZTogIHJlc3VsdFtpXS5wYXlyb2xsTGlhYmlsaXRpZSwKICAgICAgICAgICAgICAgICAgICAgICAgbmV0UGF5RnVsbDogICAgICAgICByZXN1bHRbaV0ubmV0UGF5LAogICAgICAgICAgICAgICAgICAgICAgICBncm9zc1NhbGFyeTogICAgICAgIGNhbGN1bGF0ZUdyb3NzLAogICAgICAgICAgICAgICAgICAgICAgICBuZXRQYXk6ICAgICAgICAgICAgIGNhbGN1bGF0ZU5ldCwKICAgICAgICAgICAgICAgICAgICAgICAgbmV0U2FsYXJ5OiAgICAgICAgICBuZXRTYWxhcnksCiAgICAgICAgICAgICAgICAgICAgICAgIHRheEJlbmVmaXQ6ICAgICAgICAgY2FsY3VsYXRlVGF4QmVuZWZpdCwKICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxCZW5lZml0OiAgICAgICBjYWxjdWxhdGVCZW5lZml0LAogICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiAgICAgICAgIGluZGV4LnBlcmNlbnRhZ2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhaWRBbW91bnQ6ICAgICAgICAgY2FsY3VsYXRlTmV0LAogICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50OiAgICAgICAgICAgIGluZGV4LmNvbXBvbmVudAogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMucmVzdWx0QVIgPSByZXN1bHRBUgogICAgICAgIH0sCiAgICAgICAgZW1wbG95ZWVDaGFuZ2UoKXsKICAgICAgICAgICAgdGhpcy5wYXlyb2xsVGFuc2FjdGlvbnMoKQogICAgICAgICAgICB0aGlzLmxhb2RQYXltZW50T3B0aW9uKCkKICAgICAgICB9LAogICAgICAgIHJlbW92ZVJvdyhlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgY29uc3QgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWQiKS5kYXRhKCJrZW5kb0dyaWQiKSwKICAgICAgICAgICAgICAgIGRhdGFTb3VyY2UgPSBncmlkLmRhdGFTb3VyY2UsCiAgICAgICAgICAgICAgICBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oa2VuZG8ualF1ZXJ5KGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CiAgICAgICAgICAgIGlmIChkYXRhU291cmNlLnRvdGFsKCkgPiAxKSB7CiAgICAgICAgICAgICAgICBkYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7CiAgICAgICAgICAgICAgICB0aGlzLmluaXREYXRhKCkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgaW5pdERhdGEoKXsKICAgICAgICAgICAgbGV0IGRzID0gdGhpcy4kcmVmcy5kYXRhU291cmNlUGF5bWVudC5rZW5kb1dpZGdldCgpOwogICAgICAgICAgICBsZXQgcmVzdWx0ID0gZHMuZGF0YSgpCiAgICAgICAgICAgIGxldCB0b3RhbGUgPSAwOwogICAgICAgICAgICBsZXQgdG90YWxOZXQgPSAwOwogICAgICAgICAgICByZXN1bHQuZm9yRWFjaChmdW5jdGlvbihyKXsKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnMTIzNDU2Nzg5JywgcikKICAgICAgICAgICAgICAgIGlmKHIucGFpZEFtb3VudCAmJiByLnBheW1lbnRPcHRpb24ubmFtZSAhPT0gJycpewogICAgICAgICAgICAgICAgICAgIHRvdGFsZSAgICAgICs9IHBhcnNlRmxvYXQoci5wYWlkQW1vdW50KQogICAgICAgICAgICAgICAgICAgIHRvdGFsTmV0ICAgICs9IHBhcnNlRmxvYXQoci5uZXRQYXkpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMudG90YWxBbW91bnRQYXkgPSB0b3RhbGUKICAgICAgICAgICAgdGhpcy50b3RhbE5ldFBheSAgICA9IHRvdGFsTmV0CiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlSm91cm5hbCgpCiAgICAgICAgfSwKICAgICAgICBsb2FkUHJlZml4ZXMoKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc0hhbmRsZXIuZ2V0UHJlZml4ZXMoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWZpeExpc3QgPSByZXN1bHQuZmlsdGVyKHAgPT4gcC50eXBlID09J3BheXJvbGxfcGF5bWVudCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWZpeCA9IHRoaXMucHJlZml4TGlzdFswXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXlOdW1iZXIgPSB0aGlzLnByZWZpeAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdE51bWJlciA9IHRoaXMuemVyb1BhZChwYXJzZUludCgwKSwgdGhpcy5wcmVmaXguZm9ybWF0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVmaXhfZm9ybWF0ID0gKHRoaXMucHJlZml4LmFiYnIgKyB0aGlzLnByZWZpeC5udW1iZXJTZXBhcmF0b3IgKyB0aGlzLnByZWZpeC5zdHJ1Y3R1cmUgKyB0aGlzLnByZWZpeC5udW1iZXJTZXBhcmF0b3IgKyBsYXN0TnVtYmVyICsgJ0AnICsgdGhpcy5wcmVmaXguc2VxdWNlbmNpbmcpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMzAwKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgZ2VuZXJhdGVOdW1iZXIoKSB7CiAgICAgICAgICAgIGlmKHRoaXMucmVzdWx0UGF5bWVudC5sZW5ndGggPT0gMCl7CiAgICAgICAgICAgICAgICBsZXQgc2VxdWNlbmNpbmcgPSAnJwogICAgICAgICAgICAgICAgaWYodGhpcy5wYXlOdW1iZXIuc2VxdWNlbmNpbmcgPT0iWWVhciIpewogICAgICAgICAgICAgICAgICAgIHNlcXVjZW5jaW5nID0ga2VuZG8udG9TdHJpbmcobmV3IERhdGUodGhpcy5zdGFydF9kYXRlKSwneXl5eScpCiAgICAgICAgICAgICAgICB9ZWxzZSBpZih0aGlzLnBheU51bWJlci5zZXF1Y2VuY2luZyA9PSJNb250aCIpewogICAgICAgICAgICAgICAgICAgIHNlcXVjZW5jaW5nID0ga2VuZG8udG9TdHJpbmcobmV3IERhdGUodGhpcy5zdGFydF9kYXRlKSwneXl5eU1NJykKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIHNlcXVjZW5jaW5nID0gJycKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFiYnI6ICAgICAgIHRoaXMucGF5TnVtYmVyLmFiYnIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3R1cmU6ICB0aGlzLnBheU51bWJlci5zdHJ1Y3R1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiAgICAgICBuZXcgRGF0ZSh0aGlzLnN0YXJ0X2RhdGUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogICAgICAgJ3BheXJvbGxfcGF5bWVudCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa0lkOiAgICAgICAncHBtLScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1Y2VuY2luZzogc2VxdWNlbmNpbmcKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBwYXlyb2xsSGFuZGxlci5nZXRQcmVmaXhOdW1iZXIoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdE51bWJlciA9IHRoaXMuemVyb1BhZChwYXJzZUludChyZXN1bHQubGFzdE51bWJlciksIHRoaXMucGF5TnVtYmVyLmZvcm1hdCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1iZXIgPSByZXN1bHQuc3VmZml4ICsgdGhpcy5wYXlOdW1iZXIubnVtYmVyU2VwYXJhdG9yICsgbGFzdE51bWJlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdE51bWJlciA9IGxhc3ROdW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm51bWJlciA9IG51bWJlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMubGFzdE51bWJlciA9IHRoaXMucmVzdWx0UGF5Lmxhc3ROdW1iZXIKICAgICAgICAgICAgICAgIHRoaXMubnVtYmVyID0gdGhpcy5yZXN1bHRQYXkubnVtYmVyCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHplcm9QYWQobnVtLCBwbGFjZXMpIHsKICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhudW0pLnBhZFN0YXJ0KHBsYWNlcywgJzAnKQogICAgICAgIH0sCiAgICAgICAgc2F2ZUNsb3NlKCl7CiAgICAgICAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMuZGF0YVNvdXJjZVBheW1lbnQua2VuZG9XaWRnZXQoKTsKICAgICAgICAgICAgbGV0IGQxID0gZHMuZGF0YSgpLmZpbHRlcihpID0+IGkucGF5bWVudE9wdGlvbi5uYW1lICE9PScnICYmIGkucGFpZEFtb3VudCA+IDApCiAgICAgICAgICAgIGlmKGQxLmxlbmd0aCA+IDApewogICAgICAgICAgICAgICAgdGhpcy5pbml0RGF0YSgpCiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZDEubWFwKG8gPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUlkOiAgICAgICAgIG8uZW1wbG95ZWVJZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZU5hbWU6ICAgICAgIG8uZW1wbG95ZWVOYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3NzU2FsYXJ5OiAgICAgICAgby5ncm9zc1NhbGFyeSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogICAgICAgICAgICAgICAgIG8uaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAgICAgICAgICAgICBvLmFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50Q29kZTogICAgICAgIG8ucGF5bWVudENvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5RGF0ZTogICAgICAgICAgICBvLnBheURhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246ICAgICAgICAgICBvLmxvY2F0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoT2Y6ICAgICAgICAgICAgby5tb250aE9mLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdHVyZUVtcGxveWVlOiAgICAgby5uYXR1cmVFbXBsb3llZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXRQYXk6ICAgICAgICAgICAgIG8ubmV0UGF5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldFNhbGFyeTogICAgICAgICAgby5uZXRTYWxhcnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFpZEFtb3VudDogICAgICAgICBvLnBhaWRBbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudE9wdGlvbjogICAgICBvLnBheW1lbnRPcHRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZTogICAgICAgICBvLnBlcmNlbnRhZ2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpcE51bWJlcjogICAgICAgICBvLnNsaXBOdW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsYXJ5VHlwZTogICAgICAgICBvLnNhbGFyeVR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICAgICAgICAgICBvLmN1cnJlbmN5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnQ6ICAgICAgICAgICAgby5zZWdtZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRheEJlbmVmaXQ6ICAgICAgICAgby50YXhCZW5lZml0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQmVuZWZpdDogICAgICAgby50b3RhbEJlbmVmaXQsICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlyb2xsTGlhYmlsaXRpZTogIG8ucGF5cm9sbExpYWJpbGl0aWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5cm9sbElkOiAgICAgICAgICBvLnBheXJvbGxJZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXRQYXlGdWxsOiAgICAgICAgIG8ubmV0UGF5RnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhlbHBlciA9IHt9OwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzUGF5ID0gcmVzdWx0LnJlZHVjZShmdW5jdGlvbihyLCBvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQga2V5ID0gby5wYXlyb2xsSWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighaGVscGVyW2tleV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwZXJba2V5XSA9IE9iamVjdC5hc3NpZ24oe30sIG8pOyAvLyBjcmVhdGUgYSBjb3B5IG9mIG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByLnB1c2goaGVscGVyW2tleV0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwZXJba2V5XS5hbW91bnQgKz0gby5hbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcjsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgW10pLm1hcChhID0+ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAgICAgICAgYS5hbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5cm9sbElkOiAgICAgYS5wYXlyb2xsSWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV0UGF5RnVsbDogICAgYS5uZXRQYXlGdWxsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50X2RhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0UGF5LmlkID8gdGhpcy5yZXN1bHRQYXkuaWQ6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkOiAgICAgICAgICAgICAga2VuZG8udG9TdHJpbmcobmV3IERhdGUodGhpcy5zdGFydF9kYXRlKSwneXl5eS1NTS1kZCcpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnRQYXk6ICAgICAgICAgICAgcGFyc2VGbG9hdCh0aGlzLnRvdGFsQW1vdW50UGF5KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV0UGF5OiAgICAgICAgICAgICAgIHBhcnNlRmxvYXQodGhpcy50b3RhbE5ldFBheSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc1BheTogICAgICAgICAgICAgICByZXNQYXksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogICAgICAgICAgICAgICB0aGlzLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5TnVtYmVyOiAgICAgICAgICAgIHRoaXMucGF5TnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VOdW1iZXI6ICAgICAgdGhpcy5wYXlOdW1iZXIuYWJicit0aGlzLnBheU51bWJlci5udW1iZXJTZXBhcmF0b3IgKyB0aGlzLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJicjogICAgICAgICAgICAgICAgIHRoaXMucGF5TnVtYmVyLmFiYnIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogICAgICAgICAgICAgICAicGF5cm9sbF9wYXltZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE51bWJlcjogICAgICAgICAgIHBhcnNlSW50KHRoaXMubGFzdE51bWJlciksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VPbkpvdXJuYWw6ICAgICB0aGlzLm1lc3NhZ2VPbkpvdXJuYWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VPblBheW1lbnQ6ICAgICB0aGlzLm1lc3NhZ2VPblBheW1lbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheXJvbGxMaWFiaWxpdGllOiAgICB0aGlzLnBheXJvbGxMaWFiaWxpdGllLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50bGluZTogICAgICAgICAgcmVzdWx0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZTogICAgICAgICAgICAgdGhpcy5lbXBsb3llZVNlbGVjdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd19qb3VybmFsOiAgICAgICAgICAgICAgdGhpcy5yYXdfam91cm5hbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZWRVc2VyOiAgICAgICAgICAgICAgIHRoaXMubG9nZ2VkVXNlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnZGF0YScsIGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlyb2xsSGFuZGxlci5jcmVhdGVQYXltZW50KGRhdGEpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKSAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5LmVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5LmVycm9yKCdQbGVhc2UgY2hlY2sgYWdhaW4nKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuZXJyb3IoJ1BsZWFzZSBjaGVjayBhZ2FpbicpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNhdmVOZXcoKXsKICAgICAgICAgICAgCiAgICAgICAgfSwKICAgICAgICBjbG9zZSgpewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgICAgICB0aGlzLmNsZWFyKCkKICAgICAgICB9LAogICAgICAgIGNsZWFyKCl7CiAgICAgICAgICAgIHRoaXMuZW1wbG95ZWVTZWxlY3QgPSAnJwogICAgICAgICAgICB0aGlzLnN0YXJ0X2RhdGUgPSAnJwogICAgICAgICAgICB0aGlzLnJlc3VsdEFSID0gW10KICAgICAgICAgICAgdGhpcy5tZXNzYWdlT25QYXltZW50ID0gJycKICAgICAgICAgICAgdGhpcy5tZXNzYWdlT25Kb3VybmFsID0gJycKICAgICAgICAgICAgdGhpcy50b3RhbE5ldFBheSA9IDAKICAgICAgICAgICAgdGhpcy5sb2FkUHJlZml4ZXMoKQogICAgICAgIH0sCiAgICAgICAgcGFpZEFtb3VudEVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAgICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgZGF0YS1iaW5kPSJ2YWx1ZTonICsgb3B0aW9ucy5maWVsZCArICciLz4nKQogICAgICAgICAgICAgICAgLmFwcGVuZFRvKGNvbnRhaW5lcikKICAgICAgICAgICAgICAgIC5rZW5kb051bWVyaWNUZXh0Qm94KHsKICAgICAgICAgICAgICAgICAgICBkZWNpbWFsczogMzAsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHBheW1lbnRPcHRpb25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKXsKICAgICAgICAgICAga2VuZG8ualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykKICAgICAgICAgICAgLmFwcGVuZFRvKGNvbnRhaW5lcikKICAgICAgICAgICAgLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICAgICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgICAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgICAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgICAgICAgICBmaWx0ZXI6ICJjb250YWlucyIsCiAgICAgICAgICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgICAgICAgICBkYXRhVmFsdWVGaWVsZDogIm5hbWUiLAogICAgICAgICAgICAgICAgdGVtcGxhdGU6ICI8c3Bhbj4jPW5hbWUjPC9zcGFuPiIsCiAgICAgICAgICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICAgICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMucGF5bWVudE9wdGlvbiwKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBkYXRhU291cmNlQ2hhbmdlZChlKSB7CiAgICAgICAgICAgIGlmIChlLmZpZWxkKSB7CiAgICAgICAgICAgICAgICB0aGlzLmluaXREYXRhKCkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY2FsY3VsYXRlSm91cm5hbCgpewogICAgICAgICAgICBsZXQgZHMgPSB0aGlzLiRyZWZzLmRhdGFTb3VyY2VQYXltZW50LmtlbmRvV2lkZ2V0KCk7CiAgICAgICAgICAgIGxldCBkYXRhU291cmNlID0gZHMuZGF0YSgpLm1hcChpPT57CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiAgICAgICAgICAgaS5jdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUlkOiAgICAgICAgIGkuZW1wbG95ZWVJZCwKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZU5hbWU6ICAgICAgIGkuZW1wbG95ZWVOYW1lLAogICAgICAgICAgICAgICAgICAgIGdyb3NzU2FsYXJ5OiAgICAgICAgaS5ncm9zc1NhbGFyeSwKICAgICAgICAgICAgICAgICAgICBpZDogICAgICAgICAgICAgICAgIGkuaWQsCiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246ICAgICAgICAgICBpLmxvY2F0aW9uLAogICAgICAgICAgICAgICAgICAgIG1vbnRoT2Y6ICAgICAgICAgICAgaS5tb250aE9mLAogICAgICAgICAgICAgICAgICAgIHBheW1lbnRDb2RlOiAgICAgICAgaS5wYXltZW50Q29kZSwKICAgICAgICAgICAgICAgICAgICBuYXR1cmVFbXBsb3llZTogICAgIGkubmF0dXJlRW1wbG95ZWUsCiAgICAgICAgICAgICAgICAgICAgbmV0UGF5OiAgICAgICAgICAgICBpLm5ldFBheSwKICAgICAgICAgICAgICAgICAgICBuZXRTYWxhcnk6ICAgICAgICAgIGkubmV0U2FsYXJ5LAogICAgICAgICAgICAgICAgICAgIHBhaWRBbW91bnQ6ICAgICAgICAgaS5wYWlkQW1vdW50LAogICAgICAgICAgICAgICAgICAgIHBheW1lbnRPcHRpb246ICAgICAgaS5wYXltZW50T3B0aW9uLAogICAgICAgICAgICAgICAgICAgIHBheXJvbGxMaWFiaWxpdGllOiAgaS5wYXlyb2xsTGlhYmlsaXRpZSwKICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiAgICAgICAgIGkucGVyY2VudGFnZSwKICAgICAgICAgICAgICAgICAgICBzbGlwTnVtYmVyOiAgICAgICAgIGkuc2xpcE51bWJlciwKICAgICAgICAgICAgICAgICAgICBzYWxhcnlUeXBlOiAgICAgICAgIGkuc2FsYXJ5VHlwZSwKICAgICAgICAgICAgICAgICAgICBzZWdtZW50OiAgICAgICAgICAgIGkuc2VnbWVudCwKICAgICAgICAgICAgICAgICAgICB0YXhCZW5lZml0OiAgICAgICAgIGkudGF4QmVuZWZpdCwKICAgICAgICAgICAgICAgICAgICB0b3RhbEJlbmVmaXQ6ICAgICAgIGkudG90YWxCZW5lZml0LAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICBsZXQgbGFzdFJlc3VsdCA9IHt9CiAgICAgICAgICAgIGxldCBsYXN0X3Jlc3VsdCA9IGRhdGFTb3VyY2UucmVkdWNlKGZ1bmN0aW9uKG0sIG4pIHsKICAgICAgICAgICAgICAgIGxldCBrZXkgPSBuLnBheW1lbnRPcHRpb24uY29kZSArIG4uc2VnbWVudC5uYW1lCiAgICAgICAgICAgICAgICBpZighbGFzdFJlc3VsdFtrZXldKSB7CiAgICAgICAgICAgICAgICAgICAgbGFzdFJlc3VsdFtrZXldID0gT2JqZWN0LmFzc2lnbih7fSwgbik7IC8vIGNyZWF0ZSBhIGNvcHkgb2YgbwogICAgICAgICAgICAgICAgICAgIG0ucHVzaChsYXN0UmVzdWx0W2tleV0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBsYXN0UmVzdWx0W2tleV0ucGFpZEFtb3VudCAgICAgICAgICArPSBuLnBhaWRBbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgbGFzdFJlc3VsdFtrZXldLnRvdGFsQmVuZWZpdCAgICAgICAgKz0gbi50b3RhbEJlbmVmaXQ7CiAgICAgICAgICAgICAgICAgICAgbGFzdFJlc3VsdFtrZXldLnRheEJlbmVmaXQgICAgICAgICAgKz0gbi50YXhCZW5lZml0OwogICAgICAgICAgICAgICAgICAgIGxhc3RSZXN1bHRba2V5XS5uZXRQYXkgICAgICAgICAgICAgICs9IG4ubmV0UGF5OwogICAgICAgICAgICAgICAgICAgIGxhc3RSZXN1bHRba2V5XS5uZXRTYWxhcnkgICAgICAgICAgICs9IG4ubmV0U2FsYXJ5OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgICAgaWYobGFzdF9yZXN1bHQubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICBsZXQgam91cm5hbEVudHJ5ID0gW10KICAgICAgICAgICAgICAgIGxhc3RfcmVzdWx0LmZvckVhY2goaXRlbT0+ewogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0ucGF5bWVudE9wdGlvbi5uYW1lICE9PSAnJyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZXNjcmlwdGlvbkQgPSBpdGVtLnBheW1lbnRPcHRpb24uYWNjb3VudAogICAgICAgICAgICAgICAgICAgICAgICBqb3VybmFsRW50cnkucHVzaCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBKb3VybmFsRW50cnlNb2RlbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGl0ZW0ucGF5cm9sbExpYWJpbGl0aWUubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiBuZXcgQWNjb3VudE1vZGVsKGl0ZW0ucGF5cm9sbExpYWJpbGl0aWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBuZXcgQ3VycmVuY3lNb2RlbChpdGVtLmN1cnJlbmN5KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZV9yYXRlOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogICAgICAgICAgIGl0ZW0ubmV0UGF5LC8vRHIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NfMV91dWlkOiAgICAgaXRlbS5zZWdtZW50LmlkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgIGpvdXJuYWxFbnRyeS5wdXNoKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEpvdXJuYWxFbnRyeU1vZGVsKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb25ELm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogbmV3IEFjY291bnRNb2RlbChkZXNjcmlwdGlvbkQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBuZXcgQ3VycmVuY3lNb2RlbChpdGVtLmN1cnJlbmN5KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZV9yYXRlOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogICAgICAgICAgIGl0ZW0ucGFpZEFtb3VudCAqIC0xLCAvL0NyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NfMV91dWlkOiAgICAgaXRlbS5zZWdtZW50LmlkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIGxldCBqb3VybmFscyA9IFtdCiAgICAgICAgICAgICAgICBsZXQgcHJlZml4X2Zvcm1hdCA9IHRoaXMucHJlZml4X2Zvcm1hdAogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdqb3VybmFsRW50cnknLGpvdXJuYWxFbnRyeSkKICAgICAgICAgICAgICAgIGxhc3RfcmVzdWx0LmZvckVhY2goaW5kZXg9PnsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ2l0ZW0nLGluZGV4KQogICAgICAgICAgICAgICAgICAgIGlmKGluZGV4LnBheW1lbnRPcHRpb24ubmFtZSAhPT0nJyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsaW5lID0gam91cm5hbEVudHJ5LmZpbHRlcihpPT5pLmNsYXNzXzFfdXVpZCA9PSBpbmRleC5zZWdtZW50LmlkKSAKICAgICAgICAgICAgICAgICAgICAgICAgam91cm5hbHMucHVzaChuZXcgSm91cm5hbE1vZGVsKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF5TnVtYmVyLmFiYnIrdGhpcy5wYXlOdW1iZXIubnVtYmVyU2VwYXJhdG9yICsgdGhpcy5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb3VybmFsX2RhdGU6ICAgICAgICAgICAgICAgICBuZXcgRGF0ZSh0aGlzLnN0YXJ0X2RhdGUpLC8vJzIwMjEtMDItMDEnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZF9kYXRlOiAgICAgICAgICAgICAgICAgbmV3IERhdGUodGhpcy5zdGFydF9kYXRlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoX29mOiAgICAgICAgICAgICAgICAgICAgIEhlbHBlci50b0lTT0RhdGUobmV3IERhdGUodGhpcy5zdGFydF9kYXRlKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCA3KSksLy8nMjAyMS0wMi0wMScsICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb3VybmFsX3R5cGU6ICAgICAgICAgICAgICAgICBFbnRpdHlUeXBlLkdFTkVSQUxfSk9VUk5BTCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uX3R5cGU6ICAgICAgICAgICAgICdQYXlyb2xsIFBheW1lbnQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudF91dWlkOiAgICAgICAgICAgICAgICAgaW5kZXguc2VnbWVudC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvdXJuYWxfZW50cmllczogICAgICAgICAgICAgIGxpbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlX2N1cnJlbmN5OiAgICAgICAgICAgICAgICBpbmRleC5jdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeF9mb3JtYXQ6ICAgICAgICAgICAgICAgIHByZWZpeF9mb3JtYXQKICAgICAgICAgICAgICAgICAgICAgICAgfSkpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIGxldCByZXN1bHRfam91cm5hbCA9IFtdCiAgICAgICAgICAgICAgICBsZXQgam91cm5hbFV1aWQgICAgID0gJycKICAgICAgICAgICAgICAgIGxldCBjcmVhdGVkX2RhdGUgICAgPSAnJwogICAgICAgICAgICAgICAgaWYodGhpcy5yZXN1bHRKb3VybmFscy5sZW5ndGggPiAwKXsKICAgICAgICAgICAgICAgICAgICBsZXQgak5hbCA9IHRoaXMucmVzdWx0Sm91cm5hbHMKICAgICAgICAgICAgICAgICAgICBqb3VybmFscy5mb3JFYWNoKHJlcyA9PnsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGpvdXJuYWxBUiA9ICBqTmFsLmZpbHRlcihuID0+IG4uc2VnbWVudF91dWlkID0gcmVzLnNlZ21lbnRfdXVpZCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYoam91cm5hbEFSLmxlbmd0aCA+IDApewogICAgICAgICAgICAgICAgICAgICAgICAgICAgam91cm5hbFV1aWQgPSBqb3VybmFsQVJbMF0udXVpZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZF9kYXRlID0gam91cm5hbEFSWzBdLmNyZWF0ZWRfZGF0ZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdF9qb3VybmFsLnB1c2gobmV3IEpvdXJuYWxNb2RlbCggewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogICAgICAgICAgICAgICAgICAgICAgICAgam91cm5hbFV1aWQgPyBqb3VybmFsVXVpZDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6ICAgICAgICAgICAgICAgICAgICAgICByZXMubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZF9kYXRlOiAgICAgICAgICAgICAgICAgY3JlYXRlZF9kYXRlID8gY3JlYXRlZF9kYXRlOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvdXJuYWxfZGF0ZTogICAgICAgICAgICAgICAgIHJlcy5qb3VybmFsX2RhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aF9vZjogICAgICAgICAgICAgICAgICAgICByZXMubW9udGhfb2YsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb3VybmFsX3R5cGU6ICAgICAgICAgICAgICAgICByZXMuam91cm5hbF90eXBlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25fdHlwZTogICAgICAgICAgICAgcmVzLnRyYW5zYWN0aW9uX3R5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50X3V1aWQ6ICAgICAgICAgICAgICAgICByZXMuc2VnbWVudF91dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4X2Zvcm1hdDogICAgICAgICAgICAgICAgcmVzLnByZWZpeF9mb3JtYXQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb3VybmFsX2VudHJpZXM6ICAgICAgICAgICAgICByZXMuam91cm5hbF9lbnRyaWVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZV9jdXJyZW5jeTogICAgICAgICAgICAgICAgcmVzLmJhc2VfY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgICAgICAgIH0pKQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXdfam91cm5hbCA9IHJlc3VsdF9qb3VybmFsCiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJhd19qb3VybmFsID0gam91cm5hbHMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnJlc3VsdF9qb3VybmFsKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBsYW9kUGF5bWVudE9wdGlvbigpewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyRmlsdGVyID0gJz9vcHRpb25UeXBlPVN1cHBsaWVyJwogICAgICAgICAgICAgICAgICAgIHBheW1lbnRPcHRpb25IYW5kbGVyLmxpc3Qoc3RyRmlsdGVyKQogICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlcyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0UGF5T3B0aW9uID0gcmVzLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF5bWVudE9wdGlvbiA9IHJlc3VsdFBheU9wdGlvbi5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZFNpbmdsZVBheW1lbnQoKXsKICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUKICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICBwYXlyb2xsSGFuZGxlci5nZXRQYXltZW50U2luZ2xlKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzLmRhdGEubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRQYXkgICAgICAgICAgPSAgcmVzLmRhdGFbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdFBheW1lbnQgICAgICA9ICByZXMuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0ICAgICAgICAgICAgID0gIHJlcy5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRBUiAgICAgICAgICAgPSB0aGlzLnJlc3VsdFBheS5wYXltZW50bGluZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnJlc3VsdEFSKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1wbG95ZWVTZWxlY3QgICAgID0gdGhpcy5yZXN1bHRQYXkuZW1wbG95ZWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0X2RhdGUgICAgICAgICA9IG5ldyBEYXRlKHRoaXMucmVzdWx0UGF5LmNyZWF0ZWQpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubnVtYmVyICAgICAgICAgICAgID0gdGhpcy5yZXN1bHRQYXkubnVtYmVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlT25QYXltZW50ICAgPSB0aGlzLnJlc3VsdFBheS5tZXNzYWdlT25QYXltZW50CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlT25Kb3VybmFsICAgPSB0aGlzLnJlc3VsdFBheS5tZXNzYWdlT25Kb3VybmFsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXlyb2xsTGlhYmlsaXRpZSAgPSB0aGlzLnJlc3VsdFBheS5wYXlyb2xsTGlhYmlsaXRpZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxOZXRQYXkgICAgICAgID0gcGFyc2VGbG9hdCh0aGlzLnJlc3VsdFBheS5hbW91bnRQYXkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkSm91cm5hbCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZU51bWJlcigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlTnVtYmVyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRFbXBsb3llZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAzMDApCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBhc3luYyBsb2FkSm91cm5hbCgpewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICAgICAgICAgICAgcGF5cm9sbEhhbmRsZXIuZ2V0UGF5cm9sbEpvdXJuYWwoIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRKb3VybmFscyA9IHJlcy5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMzAwKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgY2FuY2VsKCl7CiAgICAgICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6IGkxOG4udCgnbXNnX3RpdGxlX3dhcm5pbmcnKSwKICAgICAgICAgICAgICAgIHRleHQ6IGkxOG4udCgnbXNnX2Rpc2NhcmQnKSwKICAgICAgICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBpMThuLnQoJ2NhbmNlbCcpLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IGkxOG4udCgnZGlzY2FyZCcpLAogICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXIoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9LAogICAgYXN5bmMgbW91bnRlZCgpewogICAgICAgIGF3YWl0IHRoaXMuaW5pdERhdGEoKQogICAgICAgIGF3YWl0IHRoaXMubG9hZEVtcGxveWVlKCkKICAgICAgICBhd2FpdCB0aGlzLmxvYWRQcmVmaXhlcygpCiAgICAgICAgYXdhaXQgdGhpcy5sYW9kUGF5bWVudE9wdGlvbigpCiAgICAgICAgYXdhaXQgdGhpcy5sb2FkU2luZ2xlUGF5bWVudCgpCiAgICAgICAgYXdhaXQgdGhpcy5sb2FkSm91cm5hbCgpCiAgICB9LAogICAgd2F0Y2g6ewogICAgICAgICckcm91dGUnOiAnbG9hZFNpbmdsZVBheW1lbnQnCiAgICB9LCAgICAgICAgCn07Cg=="},{"version":3,"sources":["CashPayment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CashPayment.vue","sourceRoot":"src/views/payroll/payment/cash_payment","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col cols=\"12\" sm=\"12\">\n                    <v-card outlined dense class=\"pa-4 no_border rounded-sm\" color=\"white\">\n                        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                            <v-card outlined dense class=\"no_border\">\n                                <h2 class=\"mb-0\">{{ $t('cash_payment') }}</h2>\n                                <v-icon\n                                    @click=\"cancel()\"\n                                    style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                    class=\"float-right\"\n                                >close\n                                </v-icon>\n                            </v-card>\n                            <v-card outlined dense class=\"px-3 no_border mb-3\" color=\"white\">\n                                <v-row class=\"grayBg\">\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label\">{{ $t(\"employee\") }}</label>\n                                        <v-autocomplete\n                                            v-model=\"employeeSelect\"\n                                            style=\"padding-top: 0px\"\n                                            :items=\"employees\"\n                                            item-value=\"id\"\n                                            :filter=\"employeeFilter\"\n                                            item-text=\"name\"\n                                            :search-input.sync=\"search\"\n                                            hide-no-data\n                                            hide-selected\n                                            placeholder=\"Start typing to Search\"\n                                            @change=\"employeeChange\"\n                                            return-object\n                                            outlined\n                                            append-icon=\"mdi-database-search\"\n                                        />\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label\">{{ $t(\"date\") }}</label>\n                                        <app-datepicker :initialDate=\"start_date\"  @emitDate=\"start_date = $event\" hint=\"MM/DD/YYYY format\"/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label>{{ $t('payment_number') }}</label>\n                                        <v-row class=\"my-3 mr-0\">\n                                            <v-col sm=\"3\" cols=\"3\" class=\"pt-0 pr-0\">\n                                                <div style=\"line-height: 20px;\" class=\"code_text text-bold\">{{\n                                                    prefix.abbr}}\n                                                </div>\n                                            </v-col>\n                                            <v-col sm=\"7\" cols=\"7\" class=\"pt-0 pl-0 pr-1\">\n                                                <v-text-field class=\" custom-border \"\n                                                    v-model=\"number\"\n                                                    outlined\n                                                    :rules=\"[v => !!v || 'Number is required']\"\n                                                    required\n                                                    readonly/>\n                                            </v-col>\n                                            <v-col sm=\"2\" cols=\"2\" class=\"pt-0 px-0\">\n                                                <v-icon color=\"black\" size=\"30\" class=\"border_qrcode\"\n                                                        @click=\"generateNumber\">mdi-qrcode\n                                                </v-icon>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                </v-row>\n                                <v-row>\n                                    <v-col cols=\"12\">\n                                        <kendo-datasource ref=\"dataSourcePayment\"\n                                            :data=\"resultAR\"\n                                            :change=\"dataSourceChanged\"\n                                            />\n                                            <kendo-grid id=\"grid\" class=\"grid-function\"\n                                                :data-source-ref=\"'dataSourcePayment'\"\n                                                :sortable=\"false\"\n                                                :filterable=\"false\"\n                                                :column-menu=\"true\"\n                                                :editable=\"true\"\n                                                :scrollable-virtual=\"true\">\n                                                <kendo-grid-column\n                                                    :title=\"$t('month_of')\"\n                                                    :width=\"150\"\n                                                    :field=\"'monthOf'\"\n                                                    :column-menu=\"false\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :template=\"'<span>#=monthOf#</span>'\"\n                                                    :headerAttributes=\"{style: 'background-color: #EDF1F5;', class: 'text-products'}\"\n                                                    :attributes=\"{style: 'text-align: products'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'slipNumber'\"\n                                                    :title=\"$t('pay_slip')\"\n                                                    :width=\"150\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :template=\"'<span>#=slipNumber#</span>'\"\n                                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'paymentCode'\"\n                                                    :title=\"$t('payment_code')\"\n                                                    :width=\"170\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :template=\"'<span>#=paymentCode#</span>'\"\n                                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'payDate'\"\n                                                    :title=\"$t('pay_date')\"\n                                                    :width=\"170\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :template=\"'<span>#=payDate#</span>'\"\n                                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'totalBenefit'\"\n                                                    :title=\"$t('Benefit')\"\n                                                    :width=\"150\"\n                                                    :hidden=\"true\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :template=\"'<span>#=kendo.toString(totalBenefit, `n2`)#</span>'\"\n                                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: right; '}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'taxBenefit'\"\n                                                    :title=\"$t('tax_benefit')\"\n                                                    :width=\"150\"\n                                                    :hidden=\"true\"\n                                                    :format=\"'{0:#,##0.##;(#,##0.##)}'\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: right; '}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'amount'\"\n                                                    :title=\"$t('amount')\"\n                                                    :width=\"150\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :template=\"'<span>#=kendo.toString(amount, `n2`)#</span>'\"\n                                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: right; '}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'netSalary'\"\n                                                    :title=\"$t('net_salary')\"\n                                                    :width=\"150\"\n                                                    :hidden=\"true\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :template=\"'<span>#=kendo.toString(netSalary, `n2`)#</span>'\"\n                                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: right; '}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'currency'\"\n                                                    :title=\"$t('currency')\"\n                                                    :width=\"150\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :template=\"'<span>#=currency.code#</span>'\"\n                                                    :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5; text-align: center'}\"\n                                                    :attributes=\"{style: 'text-align: center; '}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'paidAmount'\"\n                                                    :title=\"$t('paid_amount')\"\n                                                    :width=\"200\"\n                                                    :lockable=\"false\"\n                                                    :template=\"'<span>#= kendo.toString(paidAmount,`n2`)#</span>'\"\n                                                    :editor=\"paidAmountEditor\"\n                                                    :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: right; '}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'paymentOption'\"\n                                                    :title=\"$t('payment_option')\"\n                                                    :width=\"200\"\n                                                    :lockable=\"false\"\n                                                    :editor=\"paymentOptionEditor\"\n                                                    :template=\"'<span>#= paymentOption.name#</span>'\"\n                                                    :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: right; '}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'segment'\"\n                                                    :title=\"$t('segment')\"\n                                                    :width=\"200\"\n                                                    :template=\"'<span>#= segment.name#</span>'\"\n                                                    :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: right; '}\"/>\n                                                <kendo-grid-column\n                                                    :width=\"100\"\n                                                    :command=\"{iconClass: 'k-icon k-i-trash', text: ' ', click: removeRow, class: 'btn-plus'}\"\n                                                    :title=\"$t('action')\"\n                                                    :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: center;'}\"/>\n                                            </kendo-grid>\n                                    </v-col>\n                                    <v-col cols=\"12\" class=\"py-0\">\n                                        <v-row>\n                                            <v-col md=\"4\" sm=\"5\" cols=\"12\" class=\"py-0\">\n                                                <v-file-input class=\"mt-0 pt-0 \"\n                                                    v-model=\"files\"\n                                                    :placeholder=\"$t('attachment')\"\n                                                    multiple\n                                                    prepend-icon=\"mdi-paperclip\">\n                                                    <template v-slot:selection=\"{ text }\">\n                                                        <v-chip\n                                                            small\n                                                            label\n                                                            color=\"primary\">\n                                                            {{ text }}\n                                                        </v-chip>\n                                                    </template>\n                                                </v-file-input>\n                                            </v-col>\n                                             <v-col md=\"4\" sm=\"2\" cols=\"12\" class=\"py-0\"></v-col>\n                                            <v-col md=\"4\" sm=\"5\" cols=\"12\" class=\"py-0\">\n                                                <v-simple-table>\n                                                    <template v-slot:default>\n                                                        <tbody>\n                                                            <tr>\n                                                                <td class=\"text-left text-uppercase pr-0\">{{\n                                                                    $t('total')\n                                                                    }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right primary--text text-bold\"\n                                                                    id=\"total\">\n                                                                    {{amountFormat(totalNetPay)}}\n                                                                </td>\n                                                            </tr>\n                                                        </tbody>\n                                                    </template>\n                                                </v-simple-table>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                    <v-col sm=\"6\" class=\"py-0\">\n                                        <v-row>\n                                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                <label>{{$t('message_on_payment')}}</label>\n                                                <v-textarea height=\"80px\"\n                                                    no-resize\n                                                    outlined\n                                                    rows=\"4\"\n                                                    v-model=\"messageOnPayment\"\n                                                />\n                                            </v-col>\n                                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                <label>{{$t('message_on_journal')}}</label>\n                                                <v-textarea height=\"80px\"\n                                                    v-model=\"messageOnJournal\"\n                                                    no-resize\n                                                    outlined\n                                                    rows=\"4\"\n                                                />\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                            <v-divider class=\"mt-4\"/>\n                            <v-card outlined dense class=\"no_border function_footer\">\n                                <v-menu>\n                                    <template v-slot:activator=\"{ on }\">\n                                        <v-btn color=\"black\" outlined class=\"mr-2 text-capitalize  black--text float-left\" v-on=\"on\">\n                                            {{$t('select_template')}}\n                                            <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                        </v-btn>\n                                    </template>\n                                    <v-list>\n                                        <v-list-item v-for=\"(item, index) in templates\" :key=\"index\">\n                                            <v-list-item-title>{{ item.title }}</v-list-item-title>\n                                        </v-list-item>\n                                    </v-list>\n                                </v-menu>\n                                <v-btn color=\"black\"  class=\"text-capitalize  white--text float-left\" @click=\"cancel\">{{$t('cancel')}}</v-btn>\n                                <!-- <v-menu>\n                                    <template v-slot:activator=\"{ on }\">\n                                        <v-btn class=\"ml-2 float-right text-capitalize  white--text\"\n                                                color=\"primary\" v-on=\"on\">\n                                            {{ $t('save_option') }}\n                                            <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                        </v-btn>\n                                    </template>\n                                    <v-list rounded>\n                                        <v-list-item-group>\n                                            <v-list-item>\n                                                <v-list-item-content>\n                                                    <v-list-item-title @click=\"saveNew\">\n                                                        {{ $t('save_new') }}\n                                                    </v-list-item-title>\n                                                </v-list-item-content>\n                                            </v-list-item>\n                                            <v-list-item>\n                                                <v-list-item-content>\n                                                    <v-list-item-title>{{\n                                                            $t('save_close')\n                                                        }}\n                                                    </v-list-item-title>\n                                                </v-list-item-content>\n                                            </v-list-item>\n                                        </v-list-item-group>\n                                    </v-list>\n                                </v-menu> -->\n                                <v-btn class=\"float-right text-capitalize  white--text\"\n                                        color=\"primary\" @click=\"saveClose\">\n                                    {{ $t('save_close') }}\n                                </v-btn>\n                            </v-card>\n                        </v-form>\n                        <LoadingMe\n                            :isLoading=\"showLoading\"\n                            :fullPage=\"false\"\n                            :myLoading=\"true\"\n                            type=\"loading\"\n                       />\n                    </v-card>\n                </v-col>\n            </v-row>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n    import {i18n} from '@/i18n';\n    import LoadingMe from \"@/components/Loading\";\n    import DatePickerComponent from '@/components/custom_templates/DatePickerComponent'\n    import kendo from \"@progress/kendo-ui\"\n    import Helper from \"@/helper.js\";\n    import {JournalModel,\n        JournalEntryModel,\n        AccountModel,\n        CurrencyModel,} from \"@/scripts/model/AppModels\";\n    const { EntityType, } = require(\"@/scripts/default_setup/Collections\");\n    const employeeHandler   = require(\"@/scripts/employeeHandler\")\n    const payrollHandler    = require(\"@/scripts/payrollHandler\")\n    const settingsHandler   = require(\"@/scripts/settingsHandler\")\n    const paymentOptionHandler = require(\"@/scripts/paymentOptionHandler\");\n    const cookieJS = require(\"@/cookie.js\");\n    const cookie = cookieJS.getCookie();\n    export default {\n        name: \"Task\",\n        components: {\n            'LoadingMe': LoadingMe,\n            'app-datepicker' : DatePickerComponent\n        },\n        data: () => ({\n            showLoading: false,\n            template: [],\n            start_date: new Date().toISOString().substr(0, 10),\n            files: [],\n            templates: [],\n            result:  [],\n            valid: true,\n            employees: [],\n            employeeSelect: '',\n            search: null,\n            totalNetPay: 0,\n            totalAmountPay: 0,\n            prefix:'',\n            number: '',\n            messageOnPayment: '',\n            messageOnJournal: '',\n            selectAccount: '',\n            accounts: [],\n            transations: [],\n            paymentOption: [],\n            resultPay: [],\n            raw_journal: [],\n            resultAR: [],\n            resultPayment: [],\n            payrollLiabilitie: {},\n            resultJournals: [],\n            payNumber:  {},\n            loggedUser: {\n                id: cookie.creator,\n                name: cookie.email\n            },\n            prefix_format: ''\n        }),\n        methods:{\n            amountFormat(value){\n                return kendo.toString(value,'n2');\n            },\n            async loadEmployee(){\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved')\n                        employeeHandler.center().then(res => {\n                            this.showLoading = true\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false\n                                this.employees = res.data.data\n                                this.start_date = new Date().toISOString().substr(0, 10)\n                            }\n                        }).catch()\n                        {\n                            this.showLoading = false\n                        }\n                    }, 300)\n                })\n            },\n            employeeFilter(item, queryText){\n                const textOne = item.name.toLowerCase()\n                const textTwo = item.employeeId.toLowerCase()\n                const searchText = queryText.toLowerCase()\n                return textOne.indexOf(searchText) > -1 ||\n                textTwo.indexOf(searchText) > -1\n            },\n            async payrollTansactions(){\n                let param ={\n                    employeeUuid: this.employeeSelect.id\n                }\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved')\n                        payrollHandler.getTransaction(param).then(res => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false\n                                this.transations = res.data.data \n                                if(this.transations.length > 0){\n                                    this.payrollLiabilitie = this.transations[0].payrollLiabilitie\n                                    this.loadResult()\n                                    this.initData()\n                                }else{\n                                    this.resultAR = []\n                                }                          \n                            }\n                        }).catch()\n                        {\n                            this.showLoading = false\n                        }\n                    }, 300)\n                })\n            },\n            async loadResult(){\n                let result = this.transations\n                let resultAR = []\n                 for (let i = 0; i < result.length; i ++) {\n                    result[i].segment.forEach(index => {\n                        let calculateNet        = (result[i].amount * index.percentage)/ 100\n                        let calculateGross      = (result[i].grossSalary * index.percentage)/ 100\n                        let calculateTaxBenefit = (-1 * (result[i].taxBenefit * index.percentage)/ 100) + 0.07\n                        let calculateBenefit = (result[i].totalBenefit * index.percentage)/ 100 \n                        let netSalary = calculateNet - calculateBenefit + calculateTaxBenefit\n                        resultAR.push({\n                            id:                 result[i].id,\n                            amount:             result[i].amount,\n                            paymentCode:        result[i].paymentCode,\n                            monthOf:            result[i].monthOf,\n                            employeeId:         result[i].employeeId,\n                            employeeName:       result[i].employeeName,\n                            location:           result[i].location,\n                            natureEmployee:     result[i].natureEmployee,\n                            salaryType:         result[i].salaryType,\n                            payDate:            result[i].payDate,\n                            payrollId:          result[i].payrollId,\n                            slipNumber:         result[i].slipNumber,\n                            paymentOption:      result[i].paymentOption,\n                            currency:           result[i].currency,\n                            payrollLiabilitie:  result[i].payrollLiabilitie,\n                            netPayFull:         result[i].netPay,\n                            grossSalary:        calculateGross,\n                            netPay:             calculateNet,\n                            netSalary:          netSalary,\n                            taxBenefit:         calculateTaxBenefit,\n                            totalBenefit:       calculateBenefit,\n                            percentage:         index.percentage,\n                            paidAmount:         calculateNet,\n                            segment:            index.component\n                        })\n                    })\n                }\n                this.resultAR = resultAR\n            },\n            employeeChange(){\n                this.payrollTansactions()\n                this.laodPaymentOption()\n            },\n            removeRow(e) {\n                e.preventDefault();\n                const grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\"),\n                    dataSource = grid.dataSource,\n                    dataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n                if (dataSource.total() > 1) {\n                    dataSource.remove(dataItem);\n                    this.initData()\n                }\n            },\n            async initData(){\n                let ds = this.$refs.dataSourcePayment.kendoWidget();\n                let result = ds.data()\n                let totale = 0;\n                let totalNet = 0;\n                result.forEach(function(r){\n                    window.console.log('123456789', r)\n                    if(r.paidAmount && r.paymentOption.name !== ''){\n                        totale      += parseFloat(r.paidAmount)\n                        totalNet    += parseFloat(r.netPay)\n                    }\n                })\n                this.totalAmountPay = totale\n                this.totalNetPay    = totalNet\n                this.calculateJournal()\n            },\n            loadPrefixes() {\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        settingsHandler.getPrefixes().then(res => {\n                            if (res.data.statusCode === 200) {\n                                let result = res.data.data\n                                this.prefixList = result.filter(p => p.type =='payroll_payment')\n                                this.prefix = this.prefixList[0]\n                                this.payNumber = this.prefix\n                                const lastNumber = this.zeroPad(parseInt(0), this.prefix.format)\n                                this.prefix_format = (this.prefix.abbr + this.prefix.numberSeparator + this.prefix.structure + this.prefix.numberSeparator + lastNumber + '@' + this.prefix.sequcencing)\n                            }\n                        })\n                    }, 300)\n                })\n            },\n            generateNumber() {\n                if(this.resultPayment.length == 0){\n                    let sequcencing = ''\n                    if(this.payNumber.sequcencing ==\"Year\"){\n                        sequcencing = kendo.toString(new Date(this.start_date),'yyyy')\n                    }else if(this.payNumber.sequcencing ==\"Month\"){\n                        sequcencing = kendo.toString(new Date(this.start_date),'yyyyMM')\n                    }else{\n                        sequcencing = ''\n                    }\n                    new Promise(resolve => {\n                        setTimeout(() => {\n                            resolve('resolved');\n                            let data = {\n                                abbr:       this.payNumber.abbr,\n                                structure:  this.payNumber.structure,\n                                date:       new Date(this.start_date),\n                                type:       'payroll_payment',\n                                pkId:       'ppm-',\n                                sequcencing: sequcencing\n                            }\n                            payrollHandler.getPrefixNumber(data).then(res => {\n                                this.showLoading = true;\n                                if(res.data.statusCode === 200){\n                                    this.showLoading = false;\n                                    const result = res.data.data\n                                    const lastNumber = this.zeroPad(parseInt(result.lastNumber), this.payNumber.format)\n                                    const number = result.suffix + this.payNumber.numberSeparator + lastNumber\n                                    this.lastNumber = lastNumber\n                                    this.number = number\n                                }\n                            })\n                        }, 300);\n                    })\n                }else{\n                    this.lastNumber = this.resultPay.lastNumber\n                    this.number = this.resultPay.number\n                }\n            },\n            zeroPad(num, places) {\n                return String(num).padStart(places, '0')\n            },\n            saveClose(){\n                let ds = this.$refs.dataSourcePayment.kendoWidget();\n                let d1 = ds.data().filter(i => i.paymentOption.name !=='' && i.paidAmount > 0)\n                if(d1.length > 0){\n                    this.initData()\n                    new Promise(resolve => {\n                        setTimeout(() => {\n                            resolve('resolved');\n                            const result = d1.map(o => {\n                                return {\n                                    employeeId:         o.employeeId,\n                                    employeeName:       o.employeeName,\n                                    grossSalary:        o.grossSalary,\n                                    id:                 o.id,\n                                    amount:             o.amount,\n                                    paymentCode:        o.paymentCode,\n                                    payDate:            o.payDate,\n                                    location:           o.location,\n                                    monthOf:            o.monthOf,\n                                    natureEmployee:     o.natureEmployee,\n                                    netPay:             o.netPay,\n                                    netSalary:          o.netSalary,\n                                    paidAmount:         o.paidAmount,\n                                    paymentOption:      o.paymentOption,\n                                    percentage:         o.percentage,\n                                    slipNumber:         o.slipNumber,\n                                    salaryType:         o.salaryType,\n                                    currency:           o.currency,\n                                    segment:            o.segment,\n                                    taxBenefit:         o.taxBenefit,\n                                    totalBenefit:       o.totalBenefit,  \n                                    payrollLiabilitie:  o.payrollLiabilitie,\n                                    payrollId:          o.payrollId,\n                                    netPayFull:         o.netPayFull,\n                                }\n                            })\n                            let helper = {};\n                            let resPay = result.reduce(function(r, o) {\n                                let key = o.payrollId;\n                                if(!helper[key]) {\n                                    helper[key] = Object.assign({}, o); // create a copy of o\n                                    r.push(helper[key]);\n                                } else {\n                                    helper[key].amount += o.amount;\n                                }\n                                return r;\n                            }, []).map(a =>{\n                                 return {\n                                    amount:        a.amount,\n                                    payrollId:     a.payrollId,\n                                    netPayFull:    a.netPayFull\n                                 }\n                            });\n                            if (result.length > 0) {\n                                let data = {\n                                    payment_data: {\n                                        id:                   this.resultPay.id ? this.resultPay.id: '',\n                                        created:              kendo.toString(new Date(this.start_date),'yyyy-MM-dd'),\n                                        amountPay:            parseFloat(this.totalAmountPay),\n                                        netPay:               parseFloat(this.totalNetPay),\n                                        resPay:               resPay,\n                                        number:               this.number,\n                                        payNumber:            this.payNumber,\n                                        referenceNumber:      this.payNumber.abbr+this.payNumber.numberSeparator + this.number,\n                                        abbr:                 this.payNumber.abbr,\n                                        method:               \"payroll_payment\",\n                                        lastNumber:           parseInt(this.lastNumber),\n                                        messageOnJournal:     this.messageOnJournal,\n                                        messageOnPayment:     this.messageOnPayment,\n                                        payrollLiabilitie:    this.payrollLiabilitie,\n                                        paymentline:          result,\n                                        employee:             this.employeeSelect,\n                                    },\n                                    raw_journal:              this.raw_journal,\n                                    loggedUser:               this.loggedUser\n                                }\n                                this.showLoading = true\n                                window.console.log('data', data)\n                                payrollHandler.createPayment(data).then(response => {\n                                    this.showLoading = true\n                                    if (response.data.statusCode === 201) {\n                                        this.close() \n                                    }\n                                }).catch(e => {\n                                    this.$snotify.error('Something went wrong')\n                                    this.showLoading = false\n                                    this.errors.push(e)\n                                    this.close()\n                                })\n                            }else{\n                                this.$snotify.error('Please check again')\n                            }\n                        }, 300);\n                    })\n                }else{\n                     this.$snotify.error('Please check again')\n                }\n            },\n            saveNew(){\n                \n            },\n            close(){\n                this.$router.go(-1);\n                this.clear()\n            },\n            clear(){\n                this.employeeSelect = ''\n                this.start_date = ''\n                this.resultAR = []\n                this.messageOnPayment = ''\n                this.messageOnJournal = ''\n                this.totalNetPay = 0\n                this.loadPrefixes()\n            },\n            paidAmountEditor(container, options) {\n                kendo.jQuery('<input data-bind=\"value:' + options.field + '\"/>')\n                    .appendTo(container)\n                    .kendoNumericTextBox({\n                        decimals: 30,\n                    });\n            },\n            paymentOptionEditor(container, options){\n                kendo.jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"contains\",\n                    dataTextField: \"name\",\n                    dataValueField: \"name\",\n                    template: \"<span>#=name#</span>\",\n                    optionLabel: \"--- Select ---\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.paymentOption,\n                    })\n                })\n            },\n            dataSourceChanged(e) {\n                if (e.field) {\n                    this.initData()\n                }\n            },\n            calculateJournal(){\n                let ds = this.$refs.dataSourcePayment.kendoWidget();\n                let dataSource = ds.data().map(i=>{\n                    return {\n                        currency:           i.currency,\n                        employeeId:         i.employeeId,\n                        employeeName:       i.employeeName,\n                        grossSalary:        i.grossSalary,\n                        id:                 i.id,\n                        location:           i.location,\n                        monthOf:            i.monthOf,\n                        paymentCode:        i.paymentCode,\n                        natureEmployee:     i.natureEmployee,\n                        netPay:             i.netPay,\n                        netSalary:          i.netSalary,\n                        paidAmount:         i.paidAmount,\n                        paymentOption:      i.paymentOption,\n                        payrollLiabilitie:  i.payrollLiabilitie,\n                        percentage:         i.percentage,\n                        slipNumber:         i.slipNumber,\n                        salaryType:         i.salaryType,\n                        segment:            i.segment,\n                        taxBenefit:         i.taxBenefit,\n                        totalBenefit:       i.totalBenefit,\n                    }\n                })\n                let lastResult = {}\n                let last_result = dataSource.reduce(function(m, n) {\n                    let key = n.paymentOption.code + n.segment.name\n                    if(!lastResult[key]) {\n                        lastResult[key] = Object.assign({}, n); // create a copy of o\n                        m.push(lastResult[key]);\n                    } else {\n                        lastResult[key].paidAmount          += n.paidAmount;\n                        lastResult[key].totalBenefit        += n.totalBenefit;\n                        lastResult[key].taxBenefit          += n.taxBenefit;\n                        lastResult[key].netPay              += n.netPay;\n                        lastResult[key].netSalary           += n.netSalary;\n                    }\n                    return m;\n                }, []);\n                if(last_result.length > 0){\n                    let journalEntry = []\n                    last_result.forEach(item=>{\n                        if(item.paymentOption.name !== ''){\n                            let descriptionD = item.paymentOption.account\n                            journalEntry.push(\n                                new JournalEntryModel({\n                                    description: item.payrollLiabilitie.name,\n                                    account: new AccountModel(item.payrollLiabilitie),\n                                    currency: new CurrencyModel(item.currency),\n                                    exchange_rate: 1,\n                                    amount:           item.netPay,//Dr,\n                                    class_1_uuid:     item.segment.id\n                                })\n                            )\n                            journalEntry.push(\n                                new JournalEntryModel({\n                                    description: descriptionD.name,\n                                    account: new AccountModel(descriptionD),\n                                    currency: new CurrencyModel(item.currency),\n                                    exchange_rate: 1,\n                                    amount:           item.paidAmount * -1, //Cr\n                                    class_1_uuid:     item.segment.id\n                                })\n                            )\n                        }\n                    })\n                    let journals = []\n                    let prefix_format = this.prefix_format\n                    window.console.log('journalEntry',journalEntry)\n                    last_result.forEach(index=>{\n                        window.console.log('item',index)\n                        if(index.paymentOption.name !==''){\n                            let line = journalEntry.filter(i=>i.class_1_uuid == index.segment.id) \n                            journals.push(new JournalModel({\n                                number:                       this.payNumber.abbr+this.payNumber.numberSeparator + this.number,\n                                journal_date:                 new Date(this.start_date),//'2021-02-01',\n                                created_date:                 new Date(this.start_date),\n                                month_of:                     Helper.toISODate(new Date(this.start_date).toISOString().substr(0, 7)),//'2021-02-01',   \n                                journal_type:                 EntityType.GENERAL_JOURNAL,\n                                transaction_type:             'Payroll Payment',\n                                segment_uuid:                 index.segment.id,\n                                journal_entries:              line,\n                                base_currency:                index.currency,\n                                prefix_format:                prefix_format\n                            }))\n                        }\n                    })\n                    let result_journal = []\n                    let journalUuid     = ''\n                    let created_date    = ''\n                    if(this.resultJournals.length > 0){\n                        let jNal = this.resultJournals\n                        journals.forEach(res =>{\n                            let journalAR =  jNal.filter(n => n.segment_uuid = res.segment_uuid)\n                            if(journalAR.length > 0){\n                                journalUuid = journalAR[0].uuid\n                                created_date = journalAR[0].created_date\n                            }\n                            result_journal.push(new JournalModel( {\n                                uuid:                         journalUuid ? journalUuid: '',\n                                number:                       res.number,\n                                created_date:                 created_date ? created_date: '',\n                                journal_date:                 res.journal_date,\n                                month_of:                     res.month_of,\n                                journal_type:                 res.journal_type,\n                                transaction_type:             res.transaction_type,\n                                segment_uuid:                 res.segment_uuid,\n                                prefix_format:                res.prefix_format,\n                                journal_entries:              res.journal_entries,\n                                base_currency:                res.base_currency,\n                            }))\n                        })\n                        this.raw_journal = result_journal\n                    }else{\n                        this.raw_journal = journals\n                    }\n                    // window.console.log(this.result_journal)\n                }\n            },\n            laodPaymentOption(){\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        const strFilter = '?optionType=Supplier'\n                        paymentOptionHandler.list(strFilter)\n                        .then(res => {\n                            if(res){\n                                let resultPayOption = res.data\n                                this.paymentOption = resultPayOption.data\n                                this.showLoading = false\n                            }\n                        })\n                    }, 300);\n                })\n            },\n            async loadSinglePayment(){\n                this.showLoading = true\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved')\n                        this.showLoading = true\n                        payrollHandler.getPaymentSingle(this.$route.params.id).then(res => {\n                            this.showLoading = true\n                            if (res.statusCode === 200) {\n                                if(res.data.length > 0){\n                                    this.resultPay          =  res.data[0]\n                                    this.resultPayment      =  res.data\n                                    this.result             =  res.data\n                                    this.resultAR           = this.resultPay.paymentline\n                                    window.console.log(this.resultAR)\n                                    this.employeeSelect     = this.resultPay.employee\n                                    this.start_date         = new Date(this.resultPay.created).toISOString().substr(0, 10)\n                                    this.number             = this.resultPay.number\n                                    this.messageOnPayment   = this.resultPay.messageOnPayment\n                                    this.messageOnJournal   = this.resultPay.messageOnJournal\n                                    this.payrollLiabilitie  = this.resultPay.payrollLiabilitie\n                                    this.totalNetPay        = parseFloat(this.resultPay.amountPay)\n                                    this.loadJournal()\n                                    this.generateNumber()\n                                    this.showLoading = false\n                                }else{\n                                    this.generateNumber()\n                                    this.loadEmployee()\n                                }\n                            }\n                        }).catch()\n                        {\n                            this.showLoading = false\n                        }\n                    }, 300)\n                })\n            },\n            async loadJournal(){\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        payrollHandler.getPayrollJournal( this.$route.params.id).then(res => {\n                            if (res.statusCode === 200) {\n                                this.resultJournals = res.data\n                            }\n                        })\n                    }, 300)\n                })\n            },\n            cancel(){\n                this.$swal({\n                    title: i18n.t('msg_title_warning'),\n                    text: i18n.t('msg_discard'),\n                    icon: \"warning\",\n                    showCancelButton: true,\n                    cancelButtonText: i18n.t('cancel'),\n                    confirmButtonColor: \"#4d4848\",\n                    cancelButtonColor: \"#ED1A3A\",\n                    confirmButtonText: i18n.t('discard'),\n                }).then((result) => {\n                    if (result.value) {\n                        this.$router.go(-1);\n                        this.clear()\n                    }\n                });\n            }\n        },\n        async mounted(){\n            await this.initData()\n            await this.loadEmployee()\n            await this.loadPrefixes()\n            await this.laodPaymentOption()\n            await this.loadSinglePayment()\n            await this.loadJournal()\n        },\n        watch:{\n            '$route': 'loadSinglePayment'\n        },        \n    };\n</script>\n\n<style scoped>\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:not(:last-child) > td:not(.v-data-table__mobile-row),\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:not(:last-child) > th:not(.v-data-table__mobile-row) {\n        border-bottom: thin solid #ddd;\n    }\n\n    .v-data-table > .v-data-table__wrapper > table > tbody > tr > td {\n        height: 32px !important;\n        border-bottom: thin solid rgba(0, 0, 0, 0.12) !important;\n        border-top: thin solid rgba(0, 0, 0, 0.12) !important;\n    }\n    .v-text-field__details{\n        display: none !important;\n    }\n\n@media (min-width: 1264px) {\n    .container {\n        max-width: 1080px !important;\n    }\n\n}\n\n.k-dropdown {\n    width: 100%;\n    margin-top: 3px;\n}\n</style>\n"]}]}