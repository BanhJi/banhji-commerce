{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/customer/CustomersInsight.vue?vue&type=style&index=0&id=5fcc7960&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/customer/CustomersInsight.vue","mtime":1638499443198},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudGhlbWUtLWxpZ2h0LnYtZGF0YS10YWJsZSB7CiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDsKfQoKLnYtZGF0YS10YWJsZSA+IC52LWRhdGEtdGFibGVfX3dyYXBwZXIgPiB0YWJsZSA+IHRib2R5ID4gdHIgPiB0ZCB7CiAgaGVpZ2h0OiAzMnB4ICFpbXBvcnRhbnQ7CiAgYm9yZGVyLWJvdHRvbTogdGhpbiBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMTIpICFpbXBvcnRhbnQ7Cn0KCi52LWRhdGEtdGFibGUgPiAudi1kYXRhLXRhYmxlX193cmFwcGVyID4gdGFibGUgPiB0Ym9keSA+IHRyOmZpcnN0LWNoaWxkID4gdGQgewogIGJvcmRlci10b3A6IHRoaW4gc29saWQgcmdiYSgwLCAwLCAwLCAwLjEyKSAhaW1wb3J0YW50Owp9CgoudGhlbWUtLWxpZ2h0LnYtZGF0YS10YWJsZSA+IC52LWRhdGEtdGFibGVfX3dyYXBwZXIgPiB0YWJsZSA+IHRib2R5ID4gdHI6aG92ZXI6bm90KC52LWRhdGEtdGFibGVfX2V4cGFuZGVkX19jb250ZW50KTpub3QoLnYtZGF0YS10YWJsZV9fZW1wdHktd3JhcHBlcikgewogIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7Cn0KCi5ib3JkZXItYm90dG9tIHsKICBib3JkZXItYm90dG9tOiB0aGluIHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMikgIWltcG9ydGFudDsKfQoKLmZvbnQtc21hbGwgewogIGZvbnQtc2l6ZTogMTJweDsKICBsaW5lLWhlaWdodDogMTVweDsKfQoKLmZvbnQtMjYgewogIGZvbnQtc2l6ZTogMjZweCAhaW1wb3J0YW50Owp9CgpAbWVkaWEgKG1heC13aWR0aDogNTc2cHgpIHsKCn0K"},{"version":3,"sources":["CustomersInsight.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwSA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA","file":"CustomersInsight.vue","sourceRoot":"src/views/customers/customer","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n      <v-card color=\"white\" class=\"pl-2 no_border\" elevation=\"0\">\n        <v-row>\n          <v-col class=\"py-0\" sm=\"12\" cols=\"12\">\n            <v-card outlined dense color=\"white\" class=\"no_border mb-4\">\n              <v-row>\n                <v-col sm=\"7\" cols=\"12\" class=\"pt-0\">\n                  <h3 class=\"text-left mb-0 font_20 line_24\">{{ $t('customers_balance_payments') }}</h3>\n                </v-col>\n              </v-row>\n              <chart ref=\"chart\"\n                     :legend-position=\"'bottom'\"\n                     :legend-visible=\"false\"\n                     :tooltip=\"tooltip\"\n                     :series=\"series_line\"\n                     :category-axis-categories=\"categories_line\"\n                     :value-axis=\"valueAxis_line\"\n                     :chartArea=\"chartArea\"\n                     :theme=\"'sass'\"\n              />\n            </v-card>\n          </v-col>\n        </v-row>\n\n        <v-row>\n          <v-col class=\"py-0 pr-md-2\" sm=\"4\" cols=\"12\">\n            <v-card outlined dense color=\"secondary\"\n                    class=\"niradei_bold pa-3 white--text mb-4 no_border d-flex justify-center align-center\"\n                    min-height=\"78\">\n              <v-row>\n                <h4 class=\"py-0 text-uppercase col-sm-12 col-md-7 font_13\">\n                  {{ $t('average_collection_days') }}\n                </h4>\n                <h6 class=\"align-self-center text-right py-0 font_20 col-sm-12 col-md-5\">100</h6>\n              </v-row>\n            </v-card>\n\n            <v-card outlined dense color=\"third\"\n                    class=\"niradei_bold pa-3 white--text mb-4 no_border d-flex justify-center align-center\"\n                    min-height=\"78\">\n              <v-row>\n                <h4 class=\"py-0 text-uppercase col-sm-12 col-md-7 font_13\">\n                  {{ $t('customers_over_credit_limit') }}\n                </h4>\n                <h6 class=\"align-self-center py-0 text-right font_20 col-sm-12 col-md-5\">1</h6>\n              </v-row>\n            </v-card>\n            <v-card outlined dense color=\"third\"\n                    class=\"niradei_bold pa-3 white--text no_border d-flex justify-center align-center \" min-height=\"78\">\n              <v-row>\n                <h4 class=\"py-0 text-uppercase col-sm-12 col-md-7 font_13\">\n                  {{ $t('customers_with_overdue_invoices') }}\n                </h4>\n                <h6 class=\"align-self-center py-0 text-right font_20 col-sm-12 col-md-5\">500</h6>\n              </v-row>\n            </v-card>\n          </v-col>\n          <v-col class=\"py-md-0 px-md-2\" sm=\"4\" cols=\"12\">\n            <v-card\n                outlined\n                dense\n                class=\"pa-4 no_border\"\n                min-height=\"268\"\n                color=\"grayBg\"\n            >\n              <h3 class=\"font_20\">{{ $t(\"expected_due\") }}</h3>\n              <p class=\"mb-0\">\n                {{ $t('as_of_today') }}\n              </p>\n              <h2 class=\"primary--text mb-0 pa-0 niradei_black mb-0 col-sm-12 text-right\">{{ expectedBalance }}</h2>\n              <template>\n                <v-simple-table class=\"mb-3\">\n                  <template>\n                    <tbody>\n                    <tr v-for=\"item in expectedDue\" :key=\"item.name\">\n                      <td class=\"text-left pl-0\">\n                                            <span class=\"niradei_medium font_14 grey--text\">\n                                                {{ item.name }}  {{ $t(item.locale) }}\n                                            </span>\n                      </td>\n                      <td class=\"text-right pr-0\">\n                                            <span class=\"niradei_heavy font_18 dark_grey\">\n                                                {{ numberFormat(item.value, item.decimalFormat) }}\n                                            </span>\n                      </td>\n                    </tr>\n                    <!--                    <tr>-->\n                    <!--                      <td class=\"text-left pl-0\">-->\n                    <!--                                            <span class=\"niradei_medium font_14 grey&#45;&#45;text\">-->\n                    <!--                                                1 â€“ 2 {{ $t(\"weeks\") }}-->\n                    <!--                                            </span>-->\n                    <!--                      </td>-->\n                    <!--                      <td class=\"text-right pr-0\">-->\n                    <!--                                            <span class=\"niradei_heavy font_18 dark_grey\">-->\n                    <!--                                                8,000-->\n                    <!--                                            </span>-->\n                    <!--                      </td>-->\n                    <!--                    </tr>-->\n                    <!--                    <tr>-->\n                    <!--                      <td class=\"text-left pl-0\">-->\n                    <!--                                            <span class=\"niradei_medium font_14 grey&#45;&#45;text\">-->\n                    <!--                                                > 2 {{ $t(\"weeks\") }}-->\n                    <!--                                            </span>-->\n                    <!--                      </td>-->\n                    <!--                      <td class=\"text-right pr-0\">-->\n                    <!--                                            <span class=\"niradei_heavy font_18 dark_grey\">-->\n                    <!--                                                2,000-->\n                    <!--                                            </span>-->\n                    <!--                      </td>-->\n                    <!--                    </tr>-->\n                    </tbody>\n                  </template>\n                </v-simple-table>\n              </template>\n              <v-row>\n                <v-col sm=\"6\" class=\"pr-0 py-0\">\n                  <v-btn to=\"receipt\" class=\"font_16 text-capitalize rounded-0 white--text\" color=\"primary\">\n                    + {{ $t('receipt') }}\n                  </v-btn>\n                </v-col>\n                <v-col sm=\"6\" class=\"pl-0 pb-0 text-right\">\n                  <router-link to=\"\" class=\"mb-0 niradei_bold font_16 primary--text text-right\">\n                    {{ $t('view_report') }}\n                  </router-link>\n                </v-col>\n              </v-row>\n            </v-card>\n          </v-col>\n          <v-col class=\"py-0 pl-md-2\" sm=\"4\" cols=\"12\">\n            <v-card\n                outlined\n                dense\n                color=\"grayBg\"\n                class=\"pa-4 no_border\"\n                min-height=\"268px\"\n            >\n              <h3 class=\"font_20\">{{ $t(\"total_customers\") }}</h3>\n              <p class=\"mb-0\">\n                {{ $t('as_of_today') }}\n              </p>\n              <h2 class=\"primary--text mb-0 pa-0 niradei_black mb-0 col-sm-12 text-right\">1,000</h2>\n              <template>\n                <v-simple-table class=\"mb-3\">\n                  <template>\n                    <tbody>\n                    <tr>\n                      <td class=\"text-left pl-0\">\n                                            <span class=\"niradei_medium font_14 grey--text text-capitalize\">\n                                                {{ $t('new') }}\n                                            </span>\n                      </td>\n                      <td class=\"text-right pr-0\">\n                                            <span class=\"niradei_heavy font_18 dark_grey\">\n                                                50\n                                            </span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td class=\"text-left pl-0\">\n                                            <span class=\"niradei_medium font_14 grey--text text-capitalize\">\n                                                {{ $t('overdue') }}\n                                            </span>\n                      </td>\n                      <td class=\"text-right pr-0\">\n                                            <span class=\"niradei_heavy font_18 dark_grey\">\n                                                100\n                                            </span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td class=\"text-left pl-0\">\n                                            <span class=\"niradei_medium font_14 grey--text text-capitalize\">\n                                                {{ $t('inactive') }}\n                                            </span>\n                      </td>\n                      <td class=\"text-right pr-0\">\n                                            <span class=\"niradei_heavy font_18 dark_grey\">\n                                                10\n                                            </span>\n                      </td>\n                    </tr>\n                    </tbody>\n                  </template>\n                </v-simple-table>\n              </template>\n              <v-row>\n                <v-col sm=\"6\" class=\"pr-0 py-0\">\n                  <v-btn to=\"\" class=\"font_16 text-capitalize rounded-0 white--text\" color=\"primary\">\n                    + {{ $t('new') }}\n                  </v-btn>\n                </v-col>\n                <v-col sm=\"6\" class=\"pl-0 pb-0 text-right\">\n                  <router-link to=\"\" class=\"mb-0 niradei_bold font_16 primary--text text-right\">\n                    {{ $t('view_report') }}\n                  </router-link>\n                </v-col>\n              </v-row>\n            </v-card>\n          </v-col>\n        </v-row>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport {i18n} from '@/i18n'\nimport {Chart} from \"@progress/kendo-charts-vue-wrapper\";\nimport kendo from \"@progress/kendo-ui\";\n\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\")\nexport default {\n  components: {\n    'chart': Chart\n  },\n  data: () => ({\n    tooltip: {\n      visible: true,\n      template: \"#= series.name #: #= value #\"\n    },\n    series_line: [\n      {\n        type: 'line',\n        name: 'Sale',\n        data: [4, 2, 6, 8, 2, 8],\n        color: \"#4d4848\"\n      },\n      {\n        type: 'line',\n        name: 'Purchase',\n        data: [1, 6, 9, 5, 4, 5],\n        color: \"#c80000\"\n      }\n    ],\n    categories_line: [\n      i18n.t(\"jan\"),\n      i18n.t(\"feb\"),\n      i18n.t(\"mar\"),\n      i18n.t(\"apr\"),\n      i18n.t(\"may\"),\n      i18n.t(\"jun\"),\n    ],\n    valueAxis_line: [{\n      max: 10,\n      // visible: false,\n      labels: {\n        format: \"{0}\"\n      }\n    }],\n    chartArea: {\n      background: \"transparent\",\n      height: 280,\n    },\n    asOf: new Date().toISOString().substr(0, 10),\n    expectedBalance: 0,\n    decimalFormat: 'n2',\n    lastUpdated: '',\n    expectedDue: [],\n\n  }),\n  computed: {},\n  mounted: async function () {\n    await this.loadExpectedDue()\n  },\n  methods: {\n    numberFormat(value, format) {\n      return kendo.toString(value, format)\n    },\n    async loadExpectedDue() {\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved')\n          let strFilter = ''\n          strFilter = '?asOf=' + this.asOf + '&type=expected_due'\n          // this.showLoading = true\n          billingHandler.wcpReceivableOverviewList(strFilter).then(res => {\n            if (res.data.statusCode === 200) {\n              const response = res.data.data[0]\n              this.expectedDue = response.lines\n              this.decimalFormat = response.decimalFormat\n              this.lastUpdated = response.lastUpdatedAt\n              const paymentTerm = response.paymentTermUsed\n              this.mostPaymentTermUsed = paymentTerm.name\n              this.expectedBalance = this.numberFormat(response.openBalance, response.decimalFormat)\n              // this.showLoading = false\n            }\n          })\n        }, 10)\n      })\n    },\n  },\n};\n</script>\n<style scoped>\n.theme--light.v-data-table {\n  background-color: transparent !important;\n}\n\n.v-data-table > .v-data-table__wrapper > table > tbody > tr > td {\n  height: 32px !important;\n  border-bottom: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n\n.v-data-table > .v-data-table__wrapper > table > tbody > tr:first-child > td {\n  border-top: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n\n.theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n  background-color: transparent !important;\n}\n\n.border-bottom {\n  border-bottom: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n\n.font-small {\n  font-size: 12px;\n  line-height: 15px;\n}\n\n.font-26 {\n  font-size: 26px !important;\n}\n\n@media (max-width: 576px) {\n\n}\n</style>"]}]}