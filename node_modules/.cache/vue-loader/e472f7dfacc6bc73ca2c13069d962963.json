{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/accounting/InvoiceLink.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/accounting/InvoiceLink.vue","mtime":1638499443083},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7aTE4bn0gZnJvbSAiQC9pMThuIjsKaW1wb3J0IHtRUkNvZGUsIEJhcmNvZGV9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1iYXJjb2Rlcy12dWUtd3JhcHBlcicKaW1wb3J0IGh0bWwycGRmIGZyb20gJ2h0bWwycGRmLmpzJwppbXBvcnQgU2FsZUZvcm1Db250ZW50TW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL1NhbGVGb3JtQ29udGVudCI7Cgpjb25zdCBzYWxlRm9ybUNvbnRlbnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NhbGVGb3JtQ29udGVudEhhbmRsZXIiKQppbXBvcnQgSW52b2ljZU1vZGVsIGZyb20gIkAvc2NyaXB0cy9pbnZvaWNlL21vZGVsL0ludm9pY2UiOwoKY29uc3Qgc2FsZUZvcm1Db250ZW50TW9kZWwgPSBuZXcgU2FsZUZvcm1Db250ZW50TW9kZWwoe30pCmNvbnN0IGludm9pY2VNb2RlbCA9IG5ldyBJbnZvaWNlTW9kZWwoe30pCmNvbnN0IGJpbGxpbmdIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2ludm9pY2UvaGFuZGxlci9iaWxsaW5nSGFuZGxlciIpCmltcG9ydCB7VHJhbnN9IGZyb20gJ0AvcGx1Z2lucy9UcmFuc2xhdGlvbicKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiSW52b2ljZSIsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgJ3FyY29kZSc6IFFSQ29kZSwKICAgICAgICAnYmFyY29kZSc6IEJhcmNvZGUsCiAgICAgICAgTG9hZGluZ01lOiAoKSA9PiBpbXBvcnQoYEAvY29tcG9uZW50cy9Mb2FkaW5nYCksCiAgICB9LAogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICBzaG93TG9hZGluZzogdHJ1ZSwKICAgICAgICBxckNvZGVWYWx1ZTogImZkaGRoZmQiLAogICAgICAgIGZsYWc6ICd1cy5qcGcnLAogICAgICAgIGxhbmd1YWdlOiAnZW5nbGlzaCcsCiAgICAgICAgbG9jYWxlOiAndXMnLAogICAgICAgIHNxclNpemU6IDUwLAogICAgICAgIHdpZGh0V2luZG93OiB3aW5kb3cuaW5uZXJXaWR0aCwKICAgICAgICBpbnZvaWNlX2RhdGE6IFtdLAogICAgICAgIGRhdGU6IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSwKICAgICAgICBpbnZvaWNlOiBpbnZvaWNlTW9kZWwsCiAgICAgICAgaXRlbUxpbmVzOiBpbnZvaWNlTW9kZWwsCiAgICAgICAgc2FsZUZvcm1Db250ZW50OiBzYWxlRm9ybUNvbnRlbnRNb2RlbCwKICAgICAgICBkYXRlRm9ybWF0OiBpbnZvaWNlTW9kZWwuZGF0ZUZvcm1hdCwKICAgICAgICBpbnZvaWNlU2NoZWR1bGVMaXN0OiBbXQogICAgfSksCiAgICBjb21wdXRlZDogewogICAgICAgIGxhbmcoKSB7CiAgICAgICAgICAgIHJldHVybiAiLyIgKyBpMThuLmxvY2FsZTsKICAgICAgICB9LAogICAgICAgIHNwZWNpZmljRGlzY291bnQoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UuaGFzT3duUHJvcGVydHkoJ3NwZWNpZmljRGlzY291bnRJdGVtJykpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlLnNwZWNpZmljRGlzY291bnRJdGVtLmhhc093blByb3BlcnR5KCdpZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmludm9pY2Uuc3BlY2lmaWNEaXNjb3VudEl0ZW0ubmFtZQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICcnCiAgICAgICAgfSwKICAgICAgICBpbnZvaWNlU3RhdHVzKCkgewogICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlLmhhc093blByb3BlcnR5KCdzdGF0dXMnKSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMuaW52b2ljZS5zdGF0dXMKICAgICAgICAgICAgICAgICAgICBsZXQgc3RhdHVzVGV4dCA9ICcnCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICdPUEVOJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICdDTE9TRUQnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0ID0gJ1ZPSUQnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzVGV4dAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAnJwogICAgICAgIH0sCiAgICAgICAgcGF5bWVudFRlcm0oKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UuaGFzT3duUHJvcGVydHkoJ3BheW1lbnRUZXJtJykpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlLnBheW1lbnRUZXJtLmhhc093blByb3BlcnR5KCdpZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmludm9pY2UucGF5bWVudFRlcm0ubmFtZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gJycKICAgICAgICB9LAogICAgICAgIGN1c3RvbWVyTmFtZSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuaW52b2ljZSkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuaW52b2ljZS5oYXNPd25Qcm9wZXJ0eSgnY3VzdG9tZXInKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UuY3VzdG9tZXIuaGFzT3duUHJvcGVydHkoJ2lkJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW52b2ljZS5jdXN0b21lci5uYW1lCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAnJwogICAgICAgIH0sCiAgICAgICAgY3JuKCkgewogICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlLmhhc093blByb3BlcnR5KCdjdXN0b21lcicpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW52b2ljZS5jdXN0b21lci5oYXNPd25Qcm9wZXJ0eSgnY3JuJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW52b2ljZS5jdXN0b21lci5jcm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICctJwogICAgICAgIH0sCiAgICAgICAgY3VycmVuY3koKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UuaGFzT3duUHJvcGVydHkoJ3ByaWNlTGV2ZWwnKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UucHJpY2VMZXZlbC5oYXNPd25Qcm9wZXJ0eSgnY3VycmVuY3knKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnZvaWNlLnByaWNlTGV2ZWwuY3VycmVuY3kuY29kZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gJycKICAgICAgICB9LAogICAgICAgIGJpbGxpbmdBZGRyZXNzKCkgewogICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlLmhhc093blByb3BlcnR5KCdiaWxsaW5nQWRkcmVzcycpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW52b2ljZS5iaWxsaW5nQWRkcmVzcy5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnZvaWNlLmJpbGxpbmdBZGRyZXNzLm5hbWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICcnCiAgICAgICAgfSwKICAgICAgICB0cmFuc2FjdGlvbk5vdGUoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UuaGFzT3duUHJvcGVydHkoJ3RyYW5zYWN0aW9uTm90ZScpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW52b2ljZS50cmFuc2FjdGlvbk5vdGUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gJycKICAgICAgICB9LAogICAgICAgIHZhdGluKCkgewogICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlLmhhc093blByb3BlcnR5KCd0YXhJZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW52b2ljZS50YXhJZAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAnLScKICAgICAgICB9LAogICAgICAgIGJhbmsoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UpIHsKICAgICAgICAgICAgICAgIGxldCBiYW5rcyA9IFtdCiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlLmhhc093blByb3BlcnR5KCdwYXltZW50T3B0aW9uV0JNb2JpbGUnKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UucGF5bWVudE9wdGlvbldCTW9iaWxlLmhhc093blByb3BlcnR5KCdiYW5rJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd0JhbmsgPSB0aGlzLmludm9pY2UucGF5bWVudE9wdGlvbldCTW9iaWxlLmJhbmsKICAgICAgICAgICAgICAgICAgICAgICAgd0JhbmsuZm9yRWFjaChtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdG0gPSBtLmJhbmsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdG0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdG0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYmJyOiBpdG0uYWJiciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogaXRtLmltYWdlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UuaGFzT3duUHJvcGVydHkoJ3BheW1lbnRPcHRpb25PbmxpbmUnKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UucGF5bWVudE9wdGlvbk9ubGluZS5oYXNPd25Qcm9wZXJ0eSgnYmFuaycpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9CYW5rID0gdGhpcy5pbnZvaWNlLnBheW1lbnRPcHRpb25PbmxpbmUuYmFuawogICAgICAgICAgICAgICAgICAgICAgICBvQmFuay5mb3JFYWNoKG0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0bSA9IG0uYmFuawogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFua3MucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0bS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0bS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFiYnI6IGl0bS5hYmJyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBpdG0uaW1hZ2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHRoaXMuaW52b2ljZS5oYXNPd25Qcm9wZXJ0eSgncGF5bWVudE9wdGlvbktIUVInKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UucGF5bWVudE9wdGlvbktIUVIuaGFzT3duUHJvcGVydHkoJ2JhbmsnKSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrSEJhbmsgPSB0aGlzLmludm9pY2UucGF5bWVudE9wdGlvbktIUVIuYmFuawogICAgICAgICAgICAgICAgICAgICAgICBrSEJhbmsuZm9yRWFjaChtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdG0gPSBtLmJhbmsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdG0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdG0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYmJyOiBpdG0uYWJiciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogaXRtLmltYWdlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnN0IGJhbmsgPSBbXQogICAgICAgICAgICAgICAgYmFua3MuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIGxldCBpID0gYmFuay5maW5kSW5kZXgoeCA9PiB4LmlkID09PSBpdGVtLmlkKQogICAgICAgICAgICAgICAgICAgIGlmIChpIDw9IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJhbmsucHVzaCh7aWQ6IGl0ZW0uaWQsIG5hbWU6IGl0ZW0ubmFtZSwgYWJicjogaXRlbS5hYmJyLCBpbWFnZTogaXRlbS5pbWFnZX0pCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyhbLi4ubmV3IFNldChiYW5rKV0sICctLS0nKQogICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5uZXcgU2V0KGJhbmspXQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBbXQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgbG9hZFBheW1lbnRTY2hlZHVsZUxpc3QoKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIuc2NoZWR1bGVMaXN0KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW52b2ljZVNjaGVkdWxlTGlzdCA9IHJlcy5kYXRhLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDMwMCkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRTYWxlRm9ybUNvbnRlbnQoKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBzYWxlRm9ybUNvbnRlbnRIYW5kbGVyLmxpc3QoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYWxlRm9ybUNvbnRlbnQgPSBkYXRhWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMzAwKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZExpbmtJbnZvaWNlKCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJykKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLiRyb3V0ZSwgJ2lkZCcpCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gdGhpcy4kcm91dGUucXVlcnkKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpbmtJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZAogICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVlcnlTdHJpbmcuaGFzT3duUHJvcGVydHkoJ2Zyb20nKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlua0lkID0gbGlua0lkICsgJ2Zyb209JyArIHF1ZXJ5U3RyaW5nLmZyb20KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nSGFuZGxlci5saW5rVmlldyhsaW5rSWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludm9pY2UgPSByZXMuZGF0YS5kYXRhWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKHRoaXMuaW52b2ljZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1MaW5lcyA9IHRoaXMuaW52b2ljZS5pdGVtTGluZXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB9LCAzMDApCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBjaGVja1dpZHRoKCkgewogICAgICAgICAgICBpZiAodGhpcy53aWRodFdpbmRvdyA8IDg0MCkgewogICAgICAgICAgICAgICAgdGhpcy5zcXJTaXplID0gOTAKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuc3FyU2l6ZSA9IDUwCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGdlbmVyYXRlUmVwb3J0KCkgewogICAgICAgICAgICB0aGlzLiRyZWZzLmh0bWwyUGRmLmdlbmVyYXRlUGRmKCkKICAgICAgICB9LAogICAgICAgIGdldEJhc2U2NEltYWdlKGltZykgewogICAgICAgICAgICB2YXIgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICAgICAgICBjLmhlaWdodCA9IGltZy5uYXR1cmFsSGVpZ2h0OwogICAgICAgICAgICBjLndpZHRoID0gaW1nLm5hdHVyYWxXaWR0aDsKICAgICAgICAgICAgdmFyIGN0eCA9IGMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIGMud2lkdGgsIGMuaGVpZ2h0KTsKICAgICAgICAgICAgdmFyIGJhc2U2NFN0cmluZyA9IGMudG9EYXRhVVJMKCk7CiAgICAgICAgICAgIHJldHVybiBiYXNlNjRTdHJpbmcKICAgICAgICB9LAogICAgICAgIFByaW50KCkgewogICAgICAgICAgICB2YXIgZGl2Q29udGVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW52b2ljZV9wcmludCIpLmlubmVySFRNTDsKICAgICAgICAgICAgdmFyIHdpbiA9IHdpbmRvdy5vcGVuKCcnLCAnaW52b2ljZScsICd3aWR0aD0xMjkwLjcsIGhlaWdodD04MDAnKTsKICAgICAgICAgICAgdmFyIGRvYyA9IHdpbi5kb2N1bWVudC5vcGVuKCk7CiAgICAgICAgICAgIHZhciBodG1sU3RhcnQgPSBgCiAgICAgICAgICAgICAgICA8aHRtbD4KICAgICAgICAgICAgICAgICAgICA8aGVhZGVyPgogICAgICAgICAgICAgICAgICAgICAgICA8bGluayBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL3Z1ZXRpZnlAMi54L2Rpc3QvdnVldGlmeS5taW4uY3NzIiByZWw9InN0eWxlc2hlZXQiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGluayByZWw9InByZWNvbm5lY3QiIGhyZWY9Imh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20iPgogICAgICAgICAgICAgICAgICAgICAgICA8bGluayBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PU5vdG8rU2FucytKUDp3Z2h0QDMwMDs0MDAmZGlzcGxheT1zd2FwIiByZWw9InN0eWxlc2hlZXQiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUgcmVsPSJzdHlsZXNoZWV0IiBtZWRpYT0icHJpbnQiPgogICAgICAgICAgICAgICAgICAgICAgICBAZm9udC1mYWNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogJ05pcmFkZWktUmVndWxhcic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250LWRpc3BsYXk6IHN3YXA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYzogbG9jYWwoJ05pcmFkZWknKSwgbG9jYWwoJ05pcmFkZWktUmVndWxhcicpLCB1cmwoJ0AvYXNzZXR0cy9zdHlsZXMvZm9udHMvTmlyYWRlaS1SZWd1bGFyLndvZmYyJykgZm9ybWF0KCd3b2ZmMicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBmb250LWZhY2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnTmlyYWRlaS1Cb2xkJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250LWRpc3BsYXk6IHN3YXA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYzogbG9jYWwoJ05pcmFkZWknKSwgbG9jYWwoJ05pcmFkZWktQm9sZCcpLCB1cmwoJ0AvYXNzZXR0cy9zdHlsZXMvZm9udHMvTmlyYWRlaS1Cb2xkLndvZmYyJykgZm9ybWF0KCd3b2ZmMicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC1wcmludC1jb2xvci1hZGp1c3Q6IGV4YWN0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnTm90byBTYW5zIEpQJywgc2Fucy1zZXJpZiAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50LWNvbG9yLWFkanVzdDogZXhhY3Q7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdOb3RvIFNhbnMgSlAnLCBzYW5zLXNlcmlmICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQtYm9sZHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9udF8xMCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9udF8xMSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9udF8xMiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9udF8xMyB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9udF8xNCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9udF8xNiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9udF8xOCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvbnRfMjAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvbnRfMjIgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjJweCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvbnRfMjQgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvbnRfMjYgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjZweCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvbnRfMjggewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjhweCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvbnRfMzAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMzBweCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvbnRfMzQgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMzRweCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHRfcmlnaHR7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dC1sZWZ0ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAcGFnZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogQTQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAbWVkaWEgcHJpbnQgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwsIGJvZHkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogJ05vdG8gU2FucyBKUCcsIHNhbnMtc2VyaWYgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAyMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMjA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyMWNtOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDI5LjdjbTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC1wcmludC1jb2xvci1hZGp1c3Q6IGV4YWN0ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50LWNvbG9yLWFkanVzdDogZXhhY3Q7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGFnZWJyZWFrIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXI6IGJvdGg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDMwbW07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2UtYnJlYWstYmVmb3JlOiBhbHdheXMgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZS1icmVhay1hZnRlcjogYWx3YXlzICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5iZ3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZTdlNmU2ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYnRuX2JvcmRlcnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjYzJiYWJhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW1lLS1saWdodC52LXNoZWV0LS1vdXRsaW5lZCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW52b2ljZXRleHR7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAzMnB4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZy10b3A6IDIycHg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICJOaXJhZGVpLUJvbGQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudi1kYXRhLXRhYmxlID4gLnYtZGF0YS10YWJsZV9fd3JhcHBlciA+IHRhYmxlID4gdGJvZHkgPiB0ciA+IHRkLCAudi1kYXRhLXRhYmxlID4gLnYtZGF0YS10YWJsZV9fd3JhcHBlciA+IHRhYmxlID4gdGhlYWQgPiB0ciA+IHRkLCAudi1kYXRhLXRhYmxlID4gLnYtZGF0YS10YWJsZV9fd3JhcHBlciA+IHRhYmxlID4gdGZvb3QgPiB0ciA+IHRkIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDM2cHggIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVtZS0tbGlnaHQudi1kYXRhLXRhYmxlID4gLnYtZGF0YS10YWJsZV9fd3JhcHBlciA+IHRhYmxlID4gdGhlYWQgPiB0ciA+IHRoIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzAwMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICJOaXJhZGVpLUJvbGQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAbWVkaWEobWF4LXdpZHRoOiA2MDBweCl7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5sb2dfc217CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogYXV0bzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDE2MHB4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAyMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc21fcHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNtX2NlbnRlcnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW52b2ljZV9pZF9zbWFsbHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmludm9pY2VfaWRfYmlnewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBtZWRpYShtaW4td2lkdGg6IDc2OXB4KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW52b2ljZV9pZF9zbWFsbHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmludm9pY2VfaWRfYmlnewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+CiAgICAgICAgICAgICAgICAgICAgPC9oZWFkZXI+CiAgICAgICAgICAgICAgICAgICAgPGJvZHk+CiAgICAgICAgICAgICAgICAgICAgPC9ib2R5PgogICAgICAgICAgICAgICAgPC9odG1sPgogICAgICAgICAgICBgCiAgICAgICAgICAgIGxldCBobXRsRW5kID0gJzwvZGl2PjwvYm9keT4nICsgJzwvaHRtbD4nOwogICAgICAgICAgICBkb2Mud3JpdGUoaHRtbFN0YXJ0ICsgZGl2Q29udGVudHMgKyBobXRsRW5kKTsKICAgICAgICAgICAgZG9jLmNsb3NlKCk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgd2luLnByaW50KCk7CiAgICAgICAgICAgICAgICB3aW4uY2xvc2UoKTsKICAgICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgfSwKICAgICAgICBzYXZlUGRmKCkgewogICAgICAgICAgICBjb25zdCBvcHRpb25zID0gewogICAgICAgICAgICAgICAgbWFyZ2luOiAwLjMsCiAgICAgICAgICAgICAgICBmaWxlbmFtZTogJ2ZpbGVuYW1lLnBkZicsCiAgICAgICAgICAgICAgICBpbWFnZTogewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdqcGVnJywKICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiAwLjk4CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgaHRtbDJjYW52YXM6IHsKICAgICAgICAgICAgICAgICAgICBzY2FsZTogMgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGpzUERGOiB7CiAgICAgICAgICAgICAgICAgICAgdW5pdDogJ2luJywKICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICdhNCcsCiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb246ICdwb3J0cmFpdCcKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgaW52b2ljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnZvaWNlJykuaW5uZXJIVE1MCiAgICAgICAgICAgIGh0bWwycGRmKCkuZnJvbShpbnZvaWNlKS5zZXQob3B0aW9ucykuc2F2ZSgpOwogICAgICAgIH0sCiAgICAgICAgc3dpdGNoTG9jYWxlKCkgewogICAgICAgICAgICBpZiAodGhpcy5sb2NhbGUgPT0gJ2VuJykgewogICAgICAgICAgICAgICAgdGhpcy5mbGFnID0gJ3VzLmpwZycKICAgICAgICAgICAgICAgIHRoaXMubG9jYWxlID0gJ2toJwogICAgICAgICAgICAgICAgdGhpcy5sYW5ndWFnZSA9ICJlbmdsaXNoIgogICAgICAgICAgICAgICAgbGV0IF9sb2NhbCA9IHRoaXMubG9jYWxlCiAgICAgICAgICAgICAgICBjb25zdCB0byA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHtwYXJhbXM6IHtsb2NhbGU6IF9sb2NhbH19KQogICAgICAgICAgICAgICAgcmV0dXJuIFRyYW5zLmNoYW5nZUxvY2FsZShfbG9jYWwpLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRvLmxvY2F0aW9uKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuZmxhZyA9ICdraC5qcGcnCiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsZSA9ICdlbicKICAgICAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2UgPSAia2htZXIiCiAgICAgICAgICAgICAgICBsZXQgX2xvY2FsID0gdGhpcy5sb2NhbGUKICAgICAgICAgICAgICAgIGNvbnN0IHRvID0gdGhpcy4kcm91dGVyLnJlc29sdmUoe3BhcmFtczoge2xvY2FsZTogX2xvY2FsfX0pCiAgICAgICAgICAgICAgICByZXR1cm4gVHJhbnMuY2hhbmdlTG9jYWxlKF9sb2NhbCkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2godG8ubG9jYXRpb24pCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzdGF0dXModmFsdWUpIHsKICAgICAgICAgICAgbGV0IHN0YXR1c1RleHQgPSAnJwogICAgICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7CiAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICdPUEVOJwogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICdDTE9TRUQnCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0ID0gJ1ZPSUQnCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gc3RhdHVzVGV4dAogICAgICAgIH0sCiAgICAgICAgbnVtYmVyRm9ybWF0KHZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyh2YWx1ZSwgYG4ke3RoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWx9YCkKICAgICAgICB9LAogICAgICAgIGZvcm1hdERhdGUodmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKHZhbHVlKSwgdGhpcy5kYXRlRm9ybWF0KQogICAgICAgIH0sCiAgICAgICAgcGF5bWVudENvZGUoY29kZSkgewogICAgICAgICAgICByZXR1cm4gY29kZS5yZXBsYWNlKCdwc2MtJywgJycpCiAgICAgICAgfSwKICAgICAgICByb3dOdW1iZXJUbXBsKGRhdGFJdGVtKSB7CiAgICAgICAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgICAgICAgaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKICAgICAgICAgICAgcmV0dXJuIGluZGV4ICsgMTsKICAgICAgICB9LAogICAgICAgIHJvd051bWJlclRtcGwxKGRhdGFJdGVtKSB7CiAgICAgICAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUzEua2VuZG9XaWRnZXQoKSwKICAgICAgICAgICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgICAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICAgICAgfSwKICAgICAgICB2YXRUZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICAgICAgICBjb25zdCB2YXQgPSBkYXRhSXRlbS52YXRUYXgKICAgICAgICAgICAgaWYgKHZhdCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGA8c3Bhbj4ke3ZhdC5kZWZhdWx0VGF4ID8gdmF0LmRlZmF1bHRUYXggOiBgYH08L3NwYW4+YAogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGBgCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGl0ZW1UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICAgICAgICBjb25zdCBpdGVtID0gZGF0YUl0ZW0uaXRlbQogICAgICAgICAgICBpZiAoaXRlbSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGA8c3Bhbj4ke2l0ZW0ubmFtZSA/IGl0ZW0ubmFtZSA6IGBgfTwvc3Bhbj5gCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYGAKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgVU9NVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgICAgICAgY29uc3QgdW9tID0gZGF0YUl0ZW0udW9tCiAgICAgICAgICAgIGlmICh1b20pIHsKICAgICAgICAgICAgICAgIHJldHVybiBgPHNwYW4+JHt1b20udW9tID8gdW9tLnVvbS50b1VPTS5uYW1lIDogYGB9PC9zcGFuPmAKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBgYAogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzYWxlVW5pdFRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgICAgICAgIGNvbnN0IHNhbGVVbml0ID0gZGF0YUl0ZW0uc2FsZVVuaXQKICAgICAgICAgICAgaWYgKHNhbGVVbml0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYDxzcGFuPiR7c2FsZVVuaXQubmFtZSA/IHNhbGVVbml0Lm5hbWUgOiBgYH08L3NwYW4+YAogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGBgCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGRpc2NvdW50SXRlbVRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgICAgICAgIGNvbnN0IGRpc2NvdW50SXRlbSA9IGRhdGFJdGVtLmRpc2NvdW50SXRlbQogICAgICAgICAgICBpZiAoZGlzY291bnRJdGVtKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYDxzcGFuPiR7ZGlzY291bnRJdGVtLmNvZGUgPyBkaXNjb3VudEl0ZW0uY29kZSA6IGBgfSAtICR7ZGlzY291bnRJdGVtLm5hbWUgPyBkaXNjb3VudEl0ZW0ubmFtZSA6IGBgfTwvc3Bhbj5gCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYGAKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZW1wSW1wbChkYXRhSXRlbSkgewogICAgICAgICAgICBsZXQgZW1wSWRzID0gW10KICAgICAgICAgICAgZGF0YUl0ZW0uZW1wbG95ZWUuZm9yRWFjaChtID0+IHsKICAgICAgICAgICAgICAgIGVtcElkcy5wdXNoKG0uZmlyc3ROYW1lICsgJyAtICcgKyBtLmxhc3ROYW1lKQogICAgICAgICAgICB9KQogICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coZW1wSWRzLmpvaW4oJywgJykpCiAgICAgICAgICAgIHJldHVybiBgPHNwYW4+JHtlbXBJZHMuam9pbignLCAnKX08L3NwYW4+YAogICAgICAgIH0sCiAgICAgICAgYW1vdW50Rm9ybWF0KHZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyh2YWx1ZS5hbW91bnQsIGBuJHt0aGlzLnNhbGVGb3JtQ29udGVudC5kZWNpbWFsfWApCiAgICAgICAgfSwKICAgICAgICBwcmljZUZvcm1hdCh2YWx1ZSkgewogICAgICAgICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcodmFsdWUucHJpY2UsIGBuJHt0aGlzLnNhbGVGb3JtQ29udGVudC5kZWNpbWFsfWApCiAgICAgICAgfSwKICAgICAgICBhdXRvQ2FsY3VsYXRlRGlzY291bnQoZGlzY291bnRJdGVtLCBzdWJUb3RhbCkgewogICAgICAgICAgICBpZiAoZGlzY291bnRJdGVtKSB7CiAgICAgICAgICAgICAgICBjb25zdCBuYXR1cmUgPSBkaXNjb3VudEl0ZW0ubmF0dXJlIHx8ICcnCiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnQgPSBkaXNjb3VudEl0ZW0uYW1vdW50IHx8IDAKICAgICAgICAgICAgICAgIGlmIChuYXR1cmUgPT09ICdBbW91bnQnKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoYW1vdW50KQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuYXR1cmUgPT09ICdQZXJjZW50YWdlJykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAoc3ViVG90YWwgKiAocGFyc2VGbG9hdChhbW91bnQpIC8gMTAwKSkKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIHJldHVybiAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgcmV0dXJuIDAKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgb3RoZXJDaGFyZ2Uob2JqKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IHRoaXMuYXV0b0NhbGN1bGF0ZURpc2NvdW50KG9iaiwgdGhpcy5pbnZvaWNlLnN1YlRvdGFsKQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubnVtYmVyRm9ybWF0KGFtb3VudCkKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gMAogICAgICAgIH0sCiAgICB9LAogICAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2hlY2tXaWR0aCgpCiAgICAgICAgYXdhaXQgdGhpcy5sb2FkU2FsZUZvcm1Db250ZW50KCkKICAgICAgICBhd2FpdCB0aGlzLmxvYWRMaW5rSW52b2ljZSgpCiAgICAgICAgYXdhaXQgdGhpcy5sb2FkUGF5bWVudFNjaGVkdWxlTGlzdCgpCiAgICB9Cn0K"},{"version":3,"sources":["InvoiceLink.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsmCA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InvoiceLink.vue","sourceRoot":"src/views/accounting","sourcesContent":["<template>\n    <v-app class=\"bg\">\n        <v-container class=\"pt-0\">\n            <v-row>\n\n                <v-col sm=\"12\" class=\"d-flex justify-center py-0\">\n                    <v-card\n                        outlined\n                        color=\"#e7e6e6\"\n                        dense\n                        class=\"a4_head no_border\"\n                    >\n                        <v-row>\n                            <v-col sm=\"6\" cols=\"12\" class=\"py-0 pt-0\">\n                                <v-btn small @click=\"Print\" class=\"btn_border mt mr-3 text-uppercase\">{{ $t('print') }}\n                                </v-btn>\n                                <v-btn small @click=\"savePdf\" color=\"btn_border mt text-uppercase\">{{\n                                        $t('download_pdf')\n                                    }}\n                                </v-btn>\n                                <v-btn small color=\"#E7E6E6\" @click=\"switchLocale\" class=\"mt-12 ml-1\">\n                                    <v-img height=\"20\" width=\"28\"\n                                           :src=\"require(`@/assets/images/${flag}`)\" alt=\"User\"\n                                    />\n                                    <span class=\"text-uppercase\">{{ $t(language) }}</span>\n                                </v-btn>\n                            </v-col>\n                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                <v-row>\n                                    <v-col sm=\"7\" class=\"pt-0\">\n                                        <p class=\"mt_60 mb-0 sm_sign_up\">\n                                            <router-link class=\"sign_up\" :to=\"lang+'/signup'\">Sign up</router-link>\n                                            to BanhJi Conntect to interact with this company\n                                        </p>\n                                    </v-col>\n                                    <v-col sm=\"5\" cols=\"12\" class=\"pt-0\">\n                                        <v-card color=\"primary\" dense outlined\n                                                class=\"btn_border text-center open_padding rounded-0\">\n                                            <p class=\"open\">{{ invoiceStatus }}</p>\n                                        </v-card>\n                                    </v-col>\n                                </v-row>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                </v-col>\n                <v-col sm=\"12\" class=\"d-flex justify-center pt-1\">\n                    <div\n                        style=\"background:#e7e6e6 \"\n                        id=\"invoice\"\n                        class=\"a4\"\n                    >\n                        <div style=\"background: #E7E6E6\">\n                            <div\n                                style=\"background: #fff\"\n                                class=\"pa-5\"\n                            >\n                                <v-row>\n                                    <v-col sm=\"7\" cols=\"12\" style=\"padding-right:0px; padding-top:0px\" class=\"sm_box1\">\n                                        <div class=\"first_card\" style=\" background:#e2f0d9; padding:12px\">\n                                            <p class=\"font_11\" style=\"margin-bottom: 8px\">This invoice is issued by</p>\n                                            <h3 class=\"font_20\" style=\"margin-bottom: 8px\">Banhji FinTech Co., Ltd</h3>\n                                            <p class=\"font_16\" style=\"margin-bottom: 8px\">(VAT TIN) K005-901903599</p>\n                                            <p class=\"font_12\" style=\"margin-bottom: 4px\">Address: Phnom Penh,\n                                                Cambodia</p>\n                                            <p class=\"font_12 \">Phone (Tel.)៖ +855 010/085 413 777 Email:\n                                                info@banhji.com</p>\n                                        </div>\n                                    </v-col>\n                                    <v-col sm=\"5\" cols=\"12\" style=\"padding-left:0px; padding-top:0px \" class=\" sm_box2\">\n                                        <v-row>\n                                            <v-col cols=\"12\" style=\"padding-top:0px; padding-bottom:0px\">\n                                                <div style=\"height:60px; background:green;  \">\n                                                    <p style=\"color:#fff;font-size:30px;font-weight:bold;padding-top:20px; padding-left: 12px;margin-bottom: 0px !important;\">\n                                                        INVOICE</p>\n                                                </div>\n                                            </v-col>\n                                            <v-col cols=\"12\" style=\"padding-top:0px; padding-bottom:0px\">\n                                                <div\n                                                    style=\"height:90px;background:#385622;padding-left:16px;padding-top:12px\"\n                                                    class=\"\">\n                                                    <p class=\"mb-2\" style=\"color:#fff\">Amount Due: </p>\n                                                    <h3 class=\"white--text\">{{ numberFormat(invoice.amountDue) }}</h3>\n                                                </div>\n                                            </v-col>\n                                        </v-row>\n\n                                    </v-col>\n                                </v-row>\n                                <v-row>\n                                    <v-col sm=\"7\" cols=\"12\" style=\"padding-top:0px; padding-bottom:0px\">\n                                        <p class=\"mb-1 text-uppercase\">bill to</p>\n                                        <h3 class=\"font_16\">Customer</h3>\n                                        <h3 class=\"font_16\">{{ customerName }}</h3>\n                                        <h3 class=\"font_16\">VATIN</h3>\n                                        <h3 class=\"font_16\">{{ vatin }}</h3>\n                                        <p class=\"mb-1 text-capitalize mt-3\">Billing Address</p>\n                                        <h3 class=\"font_16\">{{ billingAddress }}</h3>\n                                    </v-col>\n                                    <v-col sm=\"5\" cols=\"12\" style=\"padding-top:0px; padding-bottom:0px\">\n                                        <v-simple-table class=\"cash-balance mt-3\">\n                                            <template v-slot:default>\n                                                <tbody>\n                                                <tr>\n                                                    <td class=\"text-left font_16\">Number</td>\n                                                    <td class=\"text-right text-bold font_16\">{{ invoice.referenceNo }}\n                                                    </td>\n                                                </tr>\n                                                <tr>\n                                                    <td class=\"text-left font_16\">Date</td>\n                                                    <td class=\"text-right text-bold font_16\">\n                                                        {{ formatDate(invoice.transactionDate) }}\n                                                    </td>\n                                                </tr>\n                                                <tr>\n                                                    <td class=\"text-left font_16\">Due Date</td>\n                                                    <td class=\"text-right text-bold font_16\">\n                                                        {{ formatDate(invoice.dueDate) }}\n                                                    </td>\n                                                </tr>\n                                                <tr>\n                                                    <td class=\"text-left font_16\">Term</td>\n                                                    <td class=\"text-right text-bold font_16\">{{ paymentTerm }}</td>\n                                                </tr>\n                                                </tbody>\n                                            </template>\n                                        </v-simple-table>\n                                    </v-col>\n                                </v-row>\n                                <v-row>\n                                    <v-col cols=\"12\" class=\"py-0\">\n                                        <v-simple-table class=\"cash-balance mt-3\">\n                                            <LoadingMe\n                                                :isLoading=\"showLoading\"\n                                                :fullPage=\"false\"\n                                                :myLoading=\"true\"/>\n                                            <kendo-datasource ref=\"itemLineDS1\"\n                                                              :data=\"itemLines\"/>\n                                            <kendo-grid id=\"gridItemLine1\" class=\"grid-function\"\n                                                        :data-source-ref=\"'itemLineDS1'\"\n                                                        :sortable=\"false\"\n                                                        :column-menu=\"true\"\n                                                        :editable=\"false\"\n                                                        :scrollable-virtual=\"true\">\n                                                <kendo-grid-column\n                                                    :title=\"$t('no.')\"\n                                                    :width=\"55\"\n                                                    :column-menu=\"false\"\n                                                    :template=\"rowNumberTmpl1\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5;',\n                                                                    class: 'text-products'\n                                                                }\"\n                                                    :attributes=\"{\n                                                                    style: 'text-align: products'\n                                                                }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'serviceDate'\"\n                                                    :title=\"$t('date_from')\"\n                                                    :width=\"160\"\n                                                    :hidden=\"!saleFormContent.serviceDate\"\n                                                    :template=\"'<span>#= kendo.toString(new Date(serviceDate), dateFormat)#</span>'\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'serviceDateTo'\"\n                                                    :title=\"$t('date_to')\"\n                                                    :width=\"160\"\n                                                    :hidden=\"!saleFormContent.serviceDateTo\"\n                                                    :template=\"'<span>#= kendo.toString(new Date(serviceDateTo), dateFormat)#</span>'\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'item'\"\n                                                    :title=\"$t('item')\"\n                                                    :template=\"itemTemplate\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'description'\"\n                                                    :title=\"$t('description')\"\n                                                    :template=\"'<span>#=description#</span>'\"\n                                                    :width=\"160\"\n                                                    :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'qty'\"\n                                                    :title=\"$t('qty')\"\n                                                    :format=\"'{0:n}'\"\n                                                    :template=\"'<span>#=qty#</span>'\"\n                                                    :width=\"80\"\n                                                    :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"\n                                                    :attributes=\"{style: 'text-align: left; '}\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'uom'\"\n                                                    :title=\"$t('uom')\"\n                                                    :width=\"100\"\n                                                    :template=\"UOMTemplate\"\n                                                    :headerAttributes=\"{\n                                                                        style: 'text-align: left; background-color: #EDF1F5'\n                                                                    }\"\n                                                    :attributes=\"{\n                                                                        style: 'text-align: left'\n                                                                    }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'price'\"\n                                                    :title=\"$t('price')\"\n                                                    :format=\"'{0:n}'\"\n                                                    :width=\"100\"\n                                                    :template=\"priceFormat\"\n                                                    :headerAttributes=\"{\n                                                                        style: 'text-align: left; background-color: #EDF1F5'\n                                                                    }\"\n                                                    :attributes=\"{\n                                                                        style: 'text-align: left'\n                                                                    }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'amount'\"\n                                                    :title=\"$t('amount')\"\n                                                    :format=\"'{0:n}'\"\n                                                    :width=\"100\"\n                                                    :template=\"amountFormat\"\n                                                    :headerAttributes=\"{\n                                                                        style: 'text-align: left; background-color: #EDF1F5'\n                                                                    }\"\n                                                    :attributes=\"{\n                                                                        style: 'text-align: left'\n                                                                    }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'modifier'\"\n                                                    :title=\"$t('modifier')\"\n                                                    :format=\"'{0:n}'\"\n                                                    :width=\"150\"\n                                                    :hidden=\"!saleFormContent.modifier\"\n                                                    :template=\"'<span>#=modifier.name?modifier.name:``#</span>'\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5' }\"\n                                                    :attributes=\"{style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'discountItem'\"\n                                                    :title=\"$t('discount_item')\"\n                                                    :width=\"150\"\n                                                    :hidden=\"!saleFormContent.discountItem\"\n                                                    :template=\"discountItemTemplate\"\n                                                    :headerAttributes=\"{\n                                                                        style: 'text-align: left; background-color: #EDF1F5'\n                                                                    }\"\n                                                    :attributes=\"{\n                                                                        style: 'text-align: left'\n                                                                    }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'vatTax'\"\n                                                    :title=\"$t('vat')\"\n                                                    :width=\"150\"\n                                                    :template=\"vatTemplate\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5' }\"\n                                                    :attributes=\"{style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'specificTax'\"\n                                                    :title=\"$t('specificTax')\"\n                                                    :width=\"150\"\n                                                    :hidden=\"!saleFormContent.specificTax\"\n                                                    :template=\"'<span>#=specificTax.defaultTax?specificTax.defaultTax:``#</span>'\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5' }\"\n                                                    :attributes=\"{style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'otherTax'\"\n                                                    :title=\"$t('otherTax')\"\n                                                    :width=\"150\"\n                                                    :hidden=\"!saleFormContent.otherTax\"\n                                                    :template=\"'<span>#=otherTax.defaultTax?otherTax.defaultTax:``#</span>'\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5' }\"\n                                                    :attributes=\"{style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'publicLightingTax'\"\n                                                    :title=\"$t('pl_tax')\"\n                                                    :format=\"'{0:n}'\"\n                                                    :width=\"150\"\n                                                    :hidden=\"!saleFormContent.publicLightingTax\"\n                                                    :template=\"'<span>#=publicLightingTax.defaultTax?publicLightingTax.defaultTax:``#</span>'\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5' }\"\n                                                    :attributes=\"{style: 'text-align: left' }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'saleUnit'\"\n                                                    :title=\"$t('sale_unit')\"\n                                                    :width=\"150\"\n                                                    :hidden=\"!saleFormContent.saleUnit\"\n                                                    :template=\"saleUnitTemplate\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5' }\"\n                                                    :attributes=\"{style: 'text-align: left' }\"/>\n\n                                                <kendo-grid-column\n                                                    :field=\"'employee'\"\n                                                    :title=\"$t('employee')\"\n                                                    :width=\"150\"\n                                                    :hidden=\"!saleFormContent.employee\"\n                                                    :template=\"empImpl\"\n                                                    :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5' }\"\n                                                    :attributes=\"{style: 'text-align: left' }\"/>\n                                            </kendo-grid>\n                                        </v-simple-table>\n                                    </v-col>\n                                </v-row>\n                                <v-row class=\"mt-2\">\n                                    <v-col sm=\"7\" cols=\"12\" class=\"py-0\">\n                                        <p class=\"mb-2 font_16 text-capitalize\">Message on invoice</p>\n                                        <h3 class=\"font_16 text-bold\">{{ transactionNote }}</h3>\n                                    </v-col>\n                                    <v-col sm=\"5\" cols=\"12\" class=\"py-0\">\n                                        <v-simple-table class=\"cash-balance mt-3\">\n                                            <template v-slot:default>\n                                                <tbody>\n                                                <tr>\n                                                    <td class=\"text-left\">{{ $t('subtotal') }}</td>\n                                                    <td class=\"text-center\">:</td>\n                                                    <td class=\"text-right\">\n                                                        {{ numberFormat(invoice.subTotal) }}\n                                                    </td>\n                                                </tr>\n                                                <tr>\n                                                    <td class=\"text-left\">{{\n                                                            $t('general_discount')\n                                                        }}\n                                                    </td>\n                                                    <td class=\"text-center\">:</td>\n                                                    <td class=\"text-right\">\n                                                        ({{ numberFormat(invoice.discountTotal) }})\n                                                    </td>\n                                                </tr>\n                                                <!--                                                                    <tr>-->\n                                                <!--                                                                        <td class=\"text-left\">{{ $t('delivery') }}</td>-->\n                                                <!--                                                                        <td class=\"text-center\">:</td>-->\n                                                <!--                                                                        <td class=\"text-right\">1,0000.00</td>-->\n                                                <!--                                                                    </tr>-->\n                                                <tr>\n                                                    <td class=\"text-left\">{{ $t('total_tax') }}\n                                                        <v-btn @click=\"dialogTax=true\"\n                                                               class=\"text-white text-bold rounded-0 float-right text-uppercase\"\n                                                               style=\"height: 30px !important; background-color: rgb(0, 176, 80) !important\">\n                                                            {{ $t('tax') }}\n                                                        </v-btn>\n                                                    </td>\n                                                    <td class=\"text-center\">:</td>\n                                                    <td class=\"text-right\">\n                                                        {{ numberFormat(invoice.totalTaxAmount) }}\n                                                    </td>\n                                                </tr>\n                                                <tr>\n                                                    <td class=\"text-left\">{{ specificDiscount }}\n                                                    </td>\n                                                    <td class=\"text-center\">:</td>\n                                                    <td class=\"text-right\">\n                                                        {{\n                                                            numberFormat(invoice.specificDiscountTotal)\n                                                        }}\n                                                    </td>\n                                                </tr>\n                                                <tr v-for=\"item in invoice.otherCharge\"\n                                                    v-bind:key=\"item.id\">\n                                                    <td class=\"text-left text-uppercase\">\n                                                        {{ item.name }}\n                                                    </td>\n                                                    <td class=\"text-center\">:</td>\n                                                    <td class=\"text-right\">\n                                                        {{ otherCharge(item) }}\n                                                    </td>\n                                                </tr>\n                                                <tr>\n                                                    <td class=\"text-left text-uppercase\">\n                                                        {{ $t('total') }}\n                                                    </td>\n                                                    <td class=\"text-center\">:</td>\n                                                    <td class=\"text-right color_green text-bold\">\n                                                        {{ numberFormat(invoice.total) }}\n                                                    </td>\n                                                </tr>\n                                                <tr>\n                                                    <td class=\"text-left\">{{ $t('deposit') }} <span\n                                                        class=\"float-right color_green\">{{\n                                                            numberFormat(invoice.depositAmount)\n                                                        }}</span>\n                                                    </td>\n                                                    <td class=\"text-center\">:</td>\n                                                    <td class=\"text-right\">\n                                                        {{ numberFormat(invoice.depositDeduction) }}\n                                                    </td>\n                                                </tr>\n                                                <tr>\n                                                    <td class=\"text-left\">{{ $t('remaining') }}</td>\n                                                    <td class=\"text-center\">:</td>\n                                                    <td class=\"text-right color_green text-bold\">\n                                                        {{ numberFormat(invoice.remainingAmount) }}\n                                                    </td>\n                                                </tr>\n\n                                                </tbody>\n                                            </template>\n                                        </v-simple-table>\n                                    </v-col>\n                                </v-row>\n                            </div>\n                            <v-row>\n                                <v-col sm=\"12\" cols=\"12\">\n                                    <v-row>\n                                        <!-- <v-col sm=\"2\" cols=\"12\" class=\"pr-1 py-0\">\n                                            <img style=\"height: 60px\" class=\"log_sm\"\n                                                 src=\"@/assets/images/BanhJiPay.jpg\"/>\n                                        </v-col>\n                                        <v-col sm=\"10\" cols=\"12\" class=\" py-0\">\n                                            <p style=\"margin-bottom: 3px; border: 3px solid #1f3863; padding: 3px; font-family: 'Niradei-Black'; color: #1f3863; font-size: 16px;\">\n                                                CRN: {{ crn }}</p>\n                                            <p style=\"font-size: 12px; margin-bottom: 2px; !important;line-height: 13px;\">\n                                                These code can be paid via internet, mobile, and agent banking, of the\n                                                financial institutions show in this invoice. To use this OR Code, use\n                                                the reader in mobile banking app.</p>\n                                        </v-col> -->\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pr-1 py-0 flex_\">\n                                            <img style=\"height: 32px\" class=\"log_sm_pay\"\n                                                 src=\"@/assets/images/BanhJiPay.jpg\"/>\n                                            <p class=\"_sm_pay\"\n                                               style=\"width:300px;margin-left:10px; margin-bottom: 0px; border: 3px solid #1f3863; padding: 3px; font-family: 'Niradei-Black'; color: #1f3863; font-size: 16px;\">\n                                                CRN: {{ crn }}</p>\n                                            <p class=\"_sm_pay\"\n                                               style=\"font-size: 12px;margin-left:10px; margin-bottom: 0px; !important;line-height: 15px;\">\n                                                These code can be paid via internet, mobile, and agent banking, of the\n                                                financial institutions show in this invoice. To use this OR Code, use\n                                                the reader in mobile banking app.</p>\n                                        </v-col>\n                                        <v-col cols=\"12\" class=\"py-0 sm_box3\">\n                                            <div\n                                                style=\"background: #fff\"\n                                                class=\"px-5 py-0\">\n                                                <v-simple-table class=\"cash-balance mt-3 invoice_id_big\">\n                                                    <template v-slot:default>\n                                                        <thead>\n                                                        <tr>\n                                                            <th class=\"text-uppercase\">Code.</th>\n                                                            <th class=\"text-uppercase\">QR CODE</th>\n                                                            <th class=\"text-uppercase\">BARCODE</th>\n                                                            <th class=\"text-uppercase\">AMOUNT</th>\n                                                        </tr>\n                                                        </thead>\n                                                        <tbody>\n                                                        <tr v-for=\"item in invoiceScheduleList\"\n                                                            v-bind:key=\"item.paymentCode\">\n                                                            <td class=\"text-left font_16\">\n                                                                <h2 style=\"font-size: 20px !important; color: #00af50; margin-bottom: 0px !important\">\n                                                                    {{\n                                                                        paymentCode(item.paymentCode)\n                                                                    }}</h2>\n                                                            </td>\n                                                            <td style=\"padding: 0 6px !important;\"\n                                                                class=\"text-left text-bold font_16\">\n                                                                <qrcode :value=\"paymentCode(item.paymentCode)\"\n                                                                        :size=\"sqrSize\" :encoding=\"'UTF_8'\"></qrcode>\n                                                            </td>\n                                                            <td style=\"padding: 0 6px !important;\"\n                                                                class=\"text-left font_16\">\n                                                                <barcode :value=\"paymentCode(item.paymentCode)\"\n                                                                         :width=\"200\" :height=\"55\"/>\n                                                            </td>\n                                                            <td class=\"text-right text-bold font_16\">\n                                                                {{ numberFormat(item.amount) }}\n                                                            </td>\n                                                        </tr>\n                                                        </tbody>\n                                                    </template>\n                                                </v-simple-table>\n                                            </div>\n                                            <!--  -->\n                                            <v-simple-table class=\"cash-balance mt-3 invoice_id_small\">\n                                                <template v-slot:default>\n                                                    <thead>\n                                                    <tr>\n                                                        <th class=\"text-uppercase\">\n                                                            <span style=\"font-size: 20px !important;float:left;\">20000018</span>\n                                                            <span style=\"font-size: 20px !important; float:right;\"> $1,5656,556</span>\n                                                        </th>\n                                                    </tr>\n                                                    </thead>\n                                                    <tbody>\n                                                    <tr v-for=\"item in invoiceScheduleList\"\n                                                        v-bind:key=\"item.paymentCode\">\n                                                        <td class=\"text-left font_16\">\n                                                            <h2 style=\"font-size: 20px !important; color: #00af50; margin-bottom: 0px !important\">\n                                                                {{\n                                                                    paymentCode(item.paymentCode)\n                                                                }}</h2>\n                                                        </td>\n                                                        <td style=\"padding: 0 6px !important;\"\n                                                            class=\"text-left text-bold font_16\">\n                                                            <qrcode :value=\"'20000018'\" :size=\"sqrSize\"\n                                                                    :encoding=\"'UTF_8'\"></qrcode>\n                                                        </td>\n                                                        <td style=\"padding: 0 6px !important;\"\n                                                            class=\"text-left font_16\">\n                                                            <barcode :value=\"'20000018'\"\n                                                                     :width=\"200\"\n                                                                     :height=\"55\"/>\n                                                        </td>\n                                                        <td class=\"text-right text-bold font_16\">{{\n                                                                numberFormat(item.amount)\n                                                            }}\n                                                        </td>\n                                                    </tr>\n                                                    </tbody>\n                                                </template>\n                                            </v-simple-table>\n                                            <v-simple-table class=\"cash-balance mt-3 invoice_id_small\">\n                                                <template v-slot:default>\n                                                    <thead>\n                                                    <tr>\n                                                        <th class=\"text-uppercase\">\n                                                            <span style=\"font-size: 20px !important;float:left;\">20000018</span>\n                                                            <span style=\"font-size: 20px !important; float:right;\"> $1,5656,556</span>\n                                                        </th>\n                                                    </tr>\n                                                    </thead>\n                                                    <tbody>\n                                                    <tr v-for=\"item in invoiceScheduleList\"\n                                                        v-bind:key=\"item.paymentCode\">\n                                                        <td class=\"text-left font_16\">\n                                                            <h2 style=\"font-size: 20px !important; color: #00af50; margin-bottom: 0px !important\">\n                                                                {{\n                                                                    paymentCode(item.paymentCode)\n                                                                }}</h2>\n                                                        </td>\n                                                        <td style=\"padding: 0 6px !important;\"\n                                                            class=\"text-left text-bold font_16\">\n                                                            <qrcode :value=\"'20000018'\" :size=\"sqrSize\"\n                                                                    :encoding=\"'UTF_8'\"></qrcode>\n                                                        </td>\n                                                        <td style=\"padding: 0 6px !important;\"\n                                                            class=\"text-left font_16\">\n                                                            <barcode :value=\"'20000018'\"\n                                                                     :width=\"200\"\n                                                                     :height=\"55\"/>\n                                                        </td>\n                                                        <td class=\"text-right text-bold font_16\">{{\n                                                                numberFormat(item.amount)\n                                                            }}\n                                                        </td>\n                                                    </tr>\n                                                    </tbody>\n                                                </template>\n                                            </v-simple-table>\n                                        </v-col>\n                                    </v-row>\n                                </v-col>\n                                <v-col sm=\"12\" cols=\"12\">\n                                    <p class=\"font_16 mb-2\">The payment reference code and QR Code, can be used with the\n                                        following financial institutions:</p>\n                                    <div style=\"min-height:96px; background:#fff; padding:8px;\">\n                                        <v-row>\n                                            <v-col cols=\"3\" sm=\"2\" class=\"py-0 px-1\" v-for=\"b in bank\"\n                                                   v-bind:key=\"b.id\">\n                                                <img style=\"width:80px; margin:auto;  display: block;\" class=\"\"\n                                                     v-bind:src=\"b.image\"/>\n                                            </v-col>\n                                        </v-row>\n                                    </div>\n                                </v-col>\n                            </v-row>\n                        </div>\n                        <!-- <div  style=\"width: 100%;height: 6px; background: #1f224b;margin-top: 18px\"></div> -->\n                    </div>\n                    <!-- ==================== -->\n                    <!-- FOR PRINT -->\n                    <!-- ==================== -->\n                    <div\n                        style=\"background:#E7E6E6; display: none\"\n                        id=\"invoice_print\"\n                        class=\"a4\"\n                    >\n\n                        <div\n                            style=\"background: #fff\"\n                            class=\"pagebreak\"\n\n                        >\n                            <v-row>\n                                <v-col sm=\"7\" cols=\"7\"\n                                       style=\"padding-right:0px; padding-top:0px; padding-bottom: 12px; margin-bottom: 12px;\"\n                                       class=\"sm_box1\">\n                                    <div style=\"height:150px; background:#e2f0d9; padding:12px\">\n                                        <p class=\"font_11\" style=\"margin-bottom: 8px\">This invoice is issued by</p>\n                                        <h3 class=\"font_20\" style=\"margin-bottom: 8px\">Banhji FinTech Co., Ltd</h3>\n                                        <p class=\"font_16\" style=\"margin-bottom: 8px\">(VAT TIN) K005-901903599</p>\n                                        <p class=\"font_12\" style=\"margin-bottom: 4px\">Address: Phnom Penh, Cambodia</p>\n                                        <p class=\"font_12 \">Phone (Tel.)៖ +855 010/085 413 777 Email:\n                                            info@banhji.com</p>\n                                    </div>\n                                </v-col>\n                                <v-col sm=\"5\" cols=\"5\" style=\"padding-left:0px; padding-top:12px; margin-bottom: 12px\">\n                                    <v-row>\n                                        <v-col cols=\"12\" style=\"padding-top:0px; padding-bottom:0px\">\n                                            <div style=\"height:60px; background:green;  \">\n                                                <p style=\"color:#fff;font-size:30px;font-weight:bold;padding-top:20px; padding-left: 12px;margin-bottom: 0px !important;\">\n                                                    INVOICE</p>\n                                            </div>\n                                        </v-col>\n                                        <v-col cols=\"12\" style=\"padding-top:0px; padding-bottom:0px\">\n                                            <div\n                                                style=\"height:90px;background:#385622;padding-left:16px;padding-top:12px\"\n                                                class=\"\">\n                                                <p style=\"color:#fff\">{{ numberFormat(invoice.amountDue) }}</p>\n                                            </div>\n                                        </v-col>\n                                    </v-row>\n\n                                </v-col>\n                            </v-row>\n                            <v-row>\n                                <v-col sm=\"7\" cols=\"7\" style=\"padding-top:0px; padding-bottom:0px\">\n                                    <p class=\"text-uppercase\">bill to</p>\n                                    <h3 style=\"margin-bottom: 6px\" class=\"font_16\">Customer</h3>\n                                    <p class=\"text-capitalize mt-3\">Billing Address</p>\n                                    <h3 style=\"margin-bottom: 6px\" class=\"font_16\">No.07, Str 300, BKK 1, Phnom Penh,\n                                        Cambodia</h3>\n                                </v-col>\n                                <v-col sm=\"5\" cols=\"5\" style=\"padding-top:0px; padding-bottom:0px\">\n                                    <v-simple-table class=\"cash-balance mt-3\">\n                                        <template v-slot:default>\n                                            <tbody>\n                                            <tr>\n                                                <td class=\"text-left font_16\">Number</td>\n                                                <td class=\"text_right text-bold font_16\">{{ invoice.referenceNo }}</td>\n                                            </tr>\n                                            <tr>\n                                                <td class=\"text-left font_16\">Date</td>\n                                                <td class=\"text_right text-bold font_16\">\n                                                    {{ formatDate(invoice.invoiceDate) }}\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td class=\"text-left font_16\">Due Date</td>\n                                                <td class=\"text_right text-bold font_16\">\n                                                    {{ formatDate(invoice.dueDate) }}\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td class=\"text-left font_16\">Term</td>\n                                                <td class=\"text_right text-bold font_16\">{{ paymentTerm }}</td>\n                                            </tr>\n                                            </tbody>\n                                        </template>\n                                    </v-simple-table>\n                                </v-col>\n                            </v-row>\n                            <v-row>\n                                <v-col cols=\"12\" class=\"py-0\">\n                                    <v-simple-table class=\"cash-balance mt-3\">\n                                        <LoadingMe\n                                            :isLoading=\"showLoading\"\n                                            :fullPage=\"false\"\n                                            :myLoading=\"true\"/>\n                                        <kendo-datasource ref=\"itemLineDS\"\n                                                          :data=\"itemLines\"/>\n                                        <kendo-grid id=\"gridItemLine\" class=\"grid-function\"\n                                                    :data-source-ref=\"'itemLineDS'\"\n                                                    :sortable=\"false\"\n                                                    :column-menu=\"true\"\n                                                    :editable=\"false\"\n                                                    :scrollable-virtual=\"true\">\n                                            <kendo-grid-column\n                                                :title=\"$t('no.')\"\n                                                :width=\"55\"\n                                                :column-menu=\"false\"\n                                                :template=\"rowNumberTmpl\"\n                                                :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5;',\n                                                                    class: 'text-products'\n                                                                }\"\n                                                :attributes=\"{\n                                                                    style: 'text-align: products'\n                                                                }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'serviceDate'\"\n                                                :title=\"$t('date_from')\"\n                                                :width=\"160\"\n                                                :hidden=\"!saleFormContent.serviceDate\"\n                                                :template=\"'<span>#= kendo.toString(new Date(serviceDate), dateFormat)#</span>'\"\n                                                :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'serviceDateTo'\"\n                                                :title=\"$t('date_to')\"\n                                                :width=\"160\"\n                                                :hidden=\"!saleFormContent.serviceDateTo\"\n                                                :template=\"'<span>#= kendo.toString(new Date(serviceDateTo), dateFormat)#</span>'\"\n                                                :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'item'\"\n                                                :title=\"$t('item')\"\n                                                :template=\"itemTemplate\"\n                                                :width=\"200\"\n                                                :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'description'\"\n                                                :title=\"$t('description')\"\n                                                :template=\"'<span>#=description#</span>'\"\n                                                :width=\"160\"\n                                                :headerAttributes=\"{\n                                                                    style: 'background-color: #EDF1F5'\n                                                                }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'qty'\"\n                                                :title=\"$t('qty')\"\n                                                :format=\"'{0:n}'\"\n                                                :template=\"'<span>#=qty#</span>'\"\n                                                :width=\"80\"\n                                                :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"\n                                                :attributes=\"{style: 'text-align: left; '}\"/>\n                                            <kendo-grid-column\n                                                :field=\"'uom'\"\n                                                :title=\"$t('uom')\"\n                                                :width=\"100\"\n                                                :template=\"UOMTemplate\"\n                                                :headerAttributes=\"{\n                                                                        style: 'text-align: left; background-color: #EDF1F5'\n                                                                    }\"\n                                                :attributes=\"{\n                                                                        style: 'text-align: left'\n                                                                    }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'price'\"\n                                                :title=\"$t('price')\"\n                                                :format=\"'{0:n}'\"\n                                                :width=\"100\"\n                                                :template=\"priceFormat\"\n                                                :headerAttributes=\"{\n                                                                        style: 'text-align: left; background-color: #EDF1F5'\n                                                                    }\"\n                                                :attributes=\"{\n                                                                        style: 'text-align: left'\n                                                                    }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'amount'\"\n                                                :title=\"$t('amount')\"\n                                                :format=\"'{0:n}'\"\n                                                :width=\"100\"\n                                                :template=\"amountFormat\"\n                                                :headerAttributes=\"{\n                                                                        style: 'text-align: left; background-color: #EDF1F5'\n                                                                    }\"\n                                                :attributes=\"{\n                                                                        style: 'text-align: left'\n                                                                    }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'modifier'\"\n                                                :title=\"$t('modifier')\"\n                                                :format=\"'{0:n}'\"\n                                                :width=\"150\"\n                                                :hidden=\"!saleFormContent.modifier\"\n                                                :template=\"'<span>#=modifier.name?modifier.name:``#</span>'\"\n                                                :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5' }\"\n                                                :attributes=\"{style: 'text-align: left' }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'discountItem'\"\n                                                :title=\"$t('discount_item')\"\n                                                :width=\"150\"\n                                                :hidden=\"!saleFormContent.discountItem\"\n                                                :template=\"discountItemTemplate\"\n                                                :headerAttributes=\"{\n                                                                        style: 'text-align: left; background-color: #EDF1F5'\n                                                                    }\"\n                                                :attributes=\"{\n                                                                        style: 'text-align: left'\n                                                                    }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'vatTax'\"\n                                                :title=\"$t('vat')\"\n                                                :width=\"150\"\n                                                :template=\"vatTemplate\"\n                                                :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5' }\"\n                                                :attributes=\"{style: 'text-align: left' }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'specificTax'\"\n                                                :title=\"$t('specificTax')\"\n                                                :width=\"150\"\n                                                :hidden=\"!saleFormContent.specificTax\"\n                                                :template=\"'<span>#=specificTax.defaultTax?specificTax.defaultTax:``#</span>'\"\n                                                :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5' }\"\n                                                :attributes=\"{style: 'text-align: left' }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'otherTax'\"\n                                                :title=\"$t('otherTax')\"\n                                                :width=\"150\"\n                                                :hidden=\"!saleFormContent.otherTax\"\n                                                :template=\"'<span>#=otherTax.defaultTax?otherTax.defaultTax:``#</span>'\"\n                                                :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5' }\"\n                                                :attributes=\"{style: 'text-align: left' }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'publicLightingTax'\"\n                                                :title=\"$t('pl_tax')\"\n                                                :format=\"'{0:n}'\"\n                                                :width=\"150\"\n                                                :hidden=\"!saleFormContent.publicLightingTax\"\n                                                :template=\"'<span>#=publicLightingTax.defaultTax?publicLightingTax.defaultTax:``#</span>'\"\n                                                :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5' }\"\n                                                :attributes=\"{style: 'text-align: left' }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'saleUnit'\"\n                                                :title=\"$t('sale_unit')\"\n                                                :width=\"150\"\n                                                :hidden=\"!saleFormContent.saleUnit\"\n                                                :template=\"saleUnitTemplate\"\n                                                :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5' }\"\n                                                :attributes=\"{style: 'text-align: left' }\"/>\n\n                                            <kendo-grid-column\n                                                :field=\"'employee'\"\n                                                :title=\"$t('employee')\"\n                                                :width=\"150\"\n                                                :hidden=\"!saleFormContent.employee\"\n                                                :template=\"empImpl\"\n                                                :headerAttributes=\"{ style: 'text-align: left; background-color: #EDF1F5' }\"\n                                                :attributes=\"{style: 'text-align: left' }\"/>\n                                        </kendo-grid>\n                                    </v-simple-table>\n                                </v-col>\n                            </v-row>\n                            <v-row class=\"mt-2\">\n                                <v-col sm=\"7\" cols=\"7\" class=\"py-0\">\n                                    <p class=\"mb-2 font_16 text-capitalize\">Message on invoice</p>\n                                    <h3 class=\"font_16 text-bold\">{{ transactionNote }}</h3>\n                                </v-col>\n                                <v-col sm=\"5\" cols=\"5\" class=\"py-0\">\n                                    <v-simple-table class=\"cash-balance mt-3\">\n                                        <template v-slot:default>\n                                            <tbody>\n                                            <tr>\n                                                <td class=\"text-left font_16\">Subtotal</td>\n                                                <td>:</td>\n                                                <td class=\"text_right text-bold font_16\">10,000.00</td>\n                                            </tr>\n                                            <tr>\n                                                <td class=\"text-left font_16\">Discount</td>\n                                                <td>:</td>\n                                                <td class=\"text_right text-bold font_16\">(1,0000)</td>\n                                            </tr>\n                                            <tr>\n                                                <td class=\"text-left font_16\">Delivery</td>\n                                                <td>:</td>\n                                                <td class=\"text_right text-bold font_16\">1,000.00</td>\n                                            </tr>\n                                            <tr>\n                                                <td class=\"text-left font_16\">Total Tax</td>\n                                                <td>:</td>\n                                                <td class=\"text_right text-bold font_16\">1,000.00</td>\n                                            </tr>\n                                            <tr>\n                                                <td class=\"text-left font_16\">TOTAL</td>\n                                                <td>:</td>\n                                                <td class=\"text_right text-bold primary--text font_16\">11,000.00</td>\n                                            </tr>\n                                            <tr>\n                                                <td class=\"text-left font_16\">Deposit</td>\n                                                <td>:</td>\n                                                <td class=\"text_right text-bold font_16\">10,000.00</td>\n                                            </tr>\n                                            <tr>\n                                                <td class=\"text-left font_16\">Remaining</td>\n                                                <td>:</td>\n                                                <td class=\"text_right text-bold font_16\">10,000.00</td>\n                                            </tr>\n                                            </tbody>\n                                        </template>\n                                    </v-simple-table>\n                                </v-col>\n                            </v-row>\n                        </div>\n                        <v-row>\n                            <v-col sm=\"12\" cols=\"12\">\n                                <v-row>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"pr-1 py-0 flex_\">\n                                        <img style=\"height: 32px\" class=\"log_sm_pay\"\n                                             src=\"@/assets/images/BanhJiPay.jpg\"/>\n                                        <p class=\"_sm_pay\"\n                                           style=\"width:300px;margin-left:10px; margin-bottom: 0px; border: 3px solid #1f3863; padding: 3px; font-family: 'Niradei-Black'; color: #1f3863; font-size: 16px;\">\n                                            CRN: {{ crn }}</p>\n                                        <p class=\"_sm_pay\"\n                                           style=\"font-size: 12px;margin-left:10px; margin-bottom: 0px; !important;line-height: 15px;\">\n                                            These code can be paid via internet, mobile, and agent banking, of the\n                                            financial institutions show in this invoice. To use this OR Code, use the\n                                            reader in mobile banking app.</p>\n                                    </v-col>\n                                    <!-- <v-col cols=\"9\" class=\" py-0\">\n                                        <p class=\"font_18 sm_p mb-0 line_20\">You can make payment of this invoice based\n                                            on the following code:</p>\n                                    </v-col> -->\n                                    <v-col cols=\"12\" class=\"py-0 sm_box3\">\n                                        <div\n                                            style=\"background: #fff\"\n                                            class=\"px-5 py-0\"\n                                        >\n                                            <v-simple-table class=\"cash-balance mt-3 invoice_id_big\">\n                                                <template v-slot:default>\n                                                    <thead>\n                                                    <tr>\n                                                        <th style=\"text-align: left\" class=\"text-uppercase\">PAYMENT\n                                                            REF.\n                                                        </th>\n                                                        <th style=\"text-align: left\" class=\"text-uppercase\">QR CODE</th>\n                                                        <th style=\"text-align: left\" class=\"text-uppercase\">BARCODE</th>\n                                                        <th style=\"text-align: right\" class=\"text-uppercase\">AMOUNT</th>\n                                                    </tr>\n                                                    </thead>\n                                                    <tbody>\n                                                    <tr>\n                                                        <td class=\"text-left font_16\">\n                                                            <h2 style=\"font-size: 20px !important; color: #00af50; margin-bottom: 0px !important\">\n                                                                20000018</h2>\n                                                        </td>\n                                                        <td style=\"padding: 0 6px !important;\"\n                                                            class=\"text-right text-bold font_16\">\n                                                            <qrcode :value=\"'20000018'\" :size=\"sqrSize\"\n                                                                    :encoding=\"'UTF_8'\"></qrcode>\n                                                        </td>\n                                                        <td style=\"padding: 0 6px !important;\"\n                                                            class=\"text-left font_16\">\n                                                            <barcode :value=\"'20000018'\"\n                                                                     :width=\"300\"\n                                                                     :height=\"65\"/>\n                                                        </td>\n                                                        <td class=\"text_right text-bold font_16\">20560018</td>\n                                                    </tr>\n                                                    <tr>\n                                                        <td style=\"padding: 0 6px !important;\"\n                                                            class=\"text-left font_16\">\n                                                            <h2 style=\"font-size: 20px !important; color: #00af50; margin-bottom: 0px !important\">\n                                                                20099018</h2>\n                                                        </td>\n                                                        <td style=\"padding: 0 6px !important;\"\n                                                            class=\"text-right text-bold font_16\">\n                                                            <qrcode :value=\"'20099018'\" :size=\"sqrSize\"\n                                                                    :encoding=\"'UTF_8'\"></qrcode>\n                                                        </td>\n                                                        <td style=\"padding: 0 6px !important;\"\n                                                            class=\"text-left font_16\">\n                                                            <barcode :value=\"'20099018'\"\n                                                                     :width=\"300\"\n                                                                     :height=\"65\"/>\n                                                        </td>\n                                                        <td class=\"text_right text-bold font_16\">343443443$</td>\n                                                    </tr>\n                                                    <tr>\n                                                        <td class=\"text-left font_16\">\n                                                            <h2 style=\"font-size: 20px !important; color: #00af50;  margin-bottom: 0px !important\">\n                                                                20099018</h2>\n                                                        </td>\n                                                        <td style=\"padding: 0 6px !important;\"\n                                                            class=\"text-right text-bold font_16\">\n                                                            <qrcode :value=\"'20099018'\" :size=\"sqrSize\"\n                                                                    :encoding=\"'UTF_8'\"></qrcode>\n                                                        </td>\n                                                        <td style=\"padding: 0 6px !important;\"\n                                                            class=\"text-left font_16\">\n                                                            <barcode :value=\"'20099018'\"\n                                                                     :width=\"300\"\n                                                                     :height=\"65\"/>\n                                                        </td>\n                                                        <td class=\"text_right text-bold font_16\">43343434</td>\n                                                    </tr>\n                                                    <tr>\n                                                        <td class=\"text-left font_16\">\n                                                            <h2 style=\"font-size: 20px !important; color: #00af50;  margin-bottom: 0px !important\">\n                                                                20099018</h2>\n                                                        </td>\n                                                        <td style=\"padding: 0 6px !important;\"\n                                                            class=\"text-right text-bold font_16\">\n                                                            <qrcode :value=\"'20099018'\" :size=\"sqrSize\"\n                                                                    :encoding=\"'UTF_8'\"></qrcode>\n                                                        </td>\n                                                        <td style=\"padding: 0 6px !important;\"\n                                                            class=\"text-left font_16\">\n                                                            <barcode :value=\"'20099018'\"\n                                                                     :width=\"300\"\n                                                                     :height=\"65\"/>\n                                                        </td>\n                                                        <td class=\"text_right text-bold font_16\">43343434</td>\n                                                    </tr>\n                                                    <tr>\n                                                        <td class=\"text-left font_16\">\n                                                            <h2 style=\"font-size: 20px !important; color: #00af50;  margin-bottom: 0px !important\">\n                                                                20099018</h2>\n                                                        </td>\n                                                        <td style=\"padding: 0 6px !important;\"\n                                                            class=\"text-right text-bold font_16\">\n                                                            <qrcode :value=\"'20099018'\" :size=\"sqrSize\"\n                                                                    :encoding=\"'UTF_8'\"></qrcode>\n                                                        </td>\n                                                        <td style=\"padding: 0 6px !important;\"\n                                                            class=\"text-left font_16\">\n                                                            <barcode :value=\"'20099018'\"\n                                                                     :width=\"300\"\n                                                                     :height=\"65\"/>\n                                                        </td>\n                                                        <td class=\"text_right text-bold font_16\">43343434</td>\n                                                    </tr>\n                                                    </tbody>\n                                                </template>\n                                            </v-simple-table>\n                                        </div>\n                                        <!-- for small screen  -->\n                                        <v-simple-table class=\"cash-balance mt-3 invoice_id_small\">\n                                            <template v-slot:default>\n                                                <thead>\n                                                <tr>\n                                                    <th class=\"text-uppercase\">\n                                                        <span\n                                                            style=\"font-size: 20px !important;float:left;\">20000018</span>\n                                                        <span style=\"font-size: 20px !important; float:right;\"> $1,5656,556</span>\n                                                    </th>\n                                                </tr>\n                                                </thead>\n                                                <tbody>\n                                                <tr>\n                                                    <td class=\"text-left font_16\">\n                                                        <qrcode :value=\"'20000018'\" :size=\"sqrSize\"\n                                                                :encoding=\"'UTF_8'\"></qrcode>\n                                                        <barcode :value=\"'20000018'\"\n                                                                 :height=\"75\"/>\n                                                    </td>\n                                                </tr>\n                                                </tbody>\n                                            </template>\n                                        </v-simple-table>\n                                        <v-simple-table class=\"cash-balance mt-3 invoice_id_small\">\n                                            <template v-slot:default>\n                                                <thead>\n                                                <tr>\n                                                    <th class=\"text-uppercase\">\n                                                        <span\n                                                            style=\"font-size: 20px !important;float:left;\">20000018</span>\n                                                        <span style=\"font-size: 20px !important; float:right;\"> $1,5656,556</span>\n                                                    </th>\n                                                </tr>\n                                                </thead>\n                                                <tbody>\n                                                <tr>\n                                                    <td style=\"text-align: center\" class=\"text-left font_16\">\n                                                        <qrcode :value=\"'20000067'\" :size=\"sqrSize\"\n                                                                :encoding=\"'UTF_8'\"></qrcode>\n                                                        <barcode :value=\"'20000067'\"\n                                                                 :height=\"75\"/>\n                                                    </td>\n                                                </tr>\n                                                </tbody>\n                                            </template>\n                                        </v-simple-table>\n                                    </v-col>\n                                </v-row>\n                            </v-col>\n                            <v-col sm=\"12\" cols=\"12\">\n                                <p class=\"font_16\" style=\"margin-bottom: 12px;\">The payment reference code and QR Code,\n                                    can be used with the following financial institutions:</p>\n                                <div style=\"min-height:96px; background:#fff; padding:8px;\">\n                                    <v-row>\n                                        <v-col cols=\"2\" sm=\"2\" class=\"py-0 px-1\">\n                                            <img style=\"width:80px; margin:auto;  display: block;\" class=\"\"\n                                                 src=\"@/assets/images/amk.png\"/>\n                                        </v-col>\n                                        <v-col cols=\"2\" sm=\"2\" class=\"py-0 px-1\">\n                                            <img style=\"width:80px; margin:auto;  display: block;\" class=\"\"\n                                                 src=\"@/assets/images/wing.jpeg\"/>\n                                        </v-col>\n                                        <v-col cols=\"2\" sm=\"2\" class=\"py-0 px-1\">\n                                            <img style=\"width:80px; margin:auto;  display: block;\" class=\"\"\n                                                 src=\"@/assets/images/amret.png\"/>\n                                        </v-col>\n                                        <v-col cols=\"2\" sm=\"2\" class=\"py-0 px-1\">\n                                            <img style=\"width:80px; margin:auto;  display: block;\" class=\"\"\n                                                 src=\"@/assets/images/emoney.png\"/>\n                                        </v-col>\n                                        <v-col cols=\"2\" sm=\"2\" class=\"py-0 px-1\">\n                                            <img style=\"width:80px; margin:auto;  display: block;\" class=\"\"\n                                                 src=\"@/assets/images/emoney.png\"/>\n                                        </v-col>\n                                        <v-col cols=\"2\" sm=\"2\" class=\"py-0 px-1\">\n                                            <img style=\"width:80px; margin:auto;  display: block;\" class=\"\"\n                                                 src=\"@/assets/images/emoney.png\"/>\n                                        </v-col>\n                                    </v-row>\n                                </div>\n                            </v-col>\n                        </v-row>\n                    </div>\n                    <!-- end print section -->\n                </v-col>\n                <!-- Footer  -->\n                <v-col sm=\"12\" cols=\"12\" class=\"py-0 mt-6\">\n                    <v-card dense color=\"#e7e6e6\" outlined class=\"btn_border rounded-0\">\n                        <v-row>\n                            <v-col sm=\"12\" cols=\"12\" class=\"d-flex justify-center py-0\">\n                                <div class=\"d-flex\">\n                                    <p class=\"mb-0 mr-3 font_14 mt-2\">Powered by</p>\n                                    <img class=\"img_center\" width=\"120px\" src=\"@/assets/images/banhji-logo-r.png\"/>\n                                </div>\n                            </v-col>\n                            <v-col sm=\"12\" cols=\"12\" class=\"py-0 text-center\">\n                                <p class=\"mb-1 mt-2 font_14\">Manage your finance with BanhJi.\n                                    <router-link class=\"sign_up_now\" :to=\"lang+'/signup'\"> Sign Up Now</router-link>\n                                </p>\n                                <p class=\"font_14 grey--text mt-2\">{{ widhtWindow }} &#169; 2016-{{ date }} BanhJi\n                                    FinTech Co., Ltd. <a href=\"\" class=\"privacy_security\">Privacy Policy</a> • <a\n                                        class=\"privacy_security\" href=\"\">Security</a></p>\n                            </v-col>\n                        </v-row>\n\n                    </v-card>\n                </v-col>\n            </v-row>\n        </v-container>\n    </v-app>\n</template>\n<script>\nimport {i18n} from \"@/i18n\";\nimport {QRCode, Barcode} from '@progress/kendo-barcodes-vue-wrapper'\nimport html2pdf from 'html2pdf.js'\nimport SaleFormContentModel from \"@/scripts/model/SaleFormContent\";\n\nconst saleFormContentHandler = require(\"@/scripts/saleFormContentHandler\")\nimport InvoiceModel from \"@/scripts/invoice/model/Invoice\";\n\nconst saleFormContentModel = new SaleFormContentModel({})\nconst invoiceModel = new InvoiceModel({})\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\")\nimport {Trans} from '@/plugins/Translation'\nimport kendo from \"@progress/kendo-ui\";\n\nexport default {\n    name: \"Invoice\",\n    components: {\n        'qrcode': QRCode,\n        'barcode': Barcode,\n        LoadingMe: () => import(`@/components/Loading`),\n    },\n    data: () => ({\n        showLoading: true,\n        qrCodeValue: \"fdhdhfd\",\n        flag: 'us.jpg',\n        language: 'english',\n        locale: 'us',\n        sqrSize: 50,\n        widhtWindow: window.innerWidth,\n        invoice_data: [],\n        date: new Date().getFullYear(),\n        invoice: invoiceModel,\n        itemLines: invoiceModel,\n        saleFormContent: saleFormContentModel,\n        dateFormat: invoiceModel.dateFormat,\n        invoiceScheduleList: []\n    }),\n    computed: {\n        lang() {\n            return \"/\" + i18n.locale;\n        },\n        specificDiscount() {\n            if (this.invoice) {\n                if (this.invoice.hasOwnProperty('specificDiscountItem')) {\n                    if (this.invoice.specificDiscountItem.hasOwnProperty('id')) {\n                        return this.invoice.specificDiscountItem.name\n                    }\n\n                }\n            }\n            return ''\n        },\n        invoiceStatus() {\n            if (this.invoice) {\n                if (this.invoice.hasOwnProperty('status')) {\n                    const status = this.invoice.status\n                    let statusText = ''\n                    switch (status) {\n                        case 1:\n                            statusText = 'OPEN'\n                            break\n                        case 2:\n                            statusText = 'CLOSED'\n                            break\n                        case 4:\n                            statusText = 'VOID'\n                            break\n                    }\n                    return statusText\n                }\n            }\n            return ''\n        },\n        paymentTerm() {\n            if (this.invoice) {\n                if (this.invoice.hasOwnProperty('paymentTerm')) {\n                    if (this.invoice.paymentTerm.hasOwnProperty('id')) {\n                        return this.invoice.paymentTerm.name\n                    }\n                }\n            }\n            return ''\n        },\n        customerName() {\n            if (this.invoice) {\n                if (this.invoice.hasOwnProperty('customer')) {\n                    if (this.invoice.customer.hasOwnProperty('id')) {\n                        return this.invoice.customer.name\n                    }\n                }\n            }\n            return ''\n        },\n        crn() {\n            if (this.invoice) {\n                if (this.invoice.hasOwnProperty('customer')) {\n                    if (this.invoice.customer.hasOwnProperty('crn')) {\n                        return this.invoice.customer.crn\n                    }\n                }\n            }\n            return '-'\n        },\n        currency() {\n            if (this.invoice) {\n                if (this.invoice.hasOwnProperty('priceLevel')) {\n                    if (this.invoice.priceLevel.hasOwnProperty('currency')) {\n                        return this.invoice.priceLevel.currency.code\n                    }\n                }\n            }\n            return ''\n        },\n        billingAddress() {\n            if (this.invoice) {\n                if (this.invoice.hasOwnProperty('billingAddress')) {\n                    if (this.invoice.billingAddress.hasOwnProperty('id')) {\n                        return this.invoice.billingAddress.name\n                    }\n                }\n            }\n            return ''\n        },\n        transactionNote() {\n            if (this.invoice) {\n                if (this.invoice.hasOwnProperty('transactionNote')) {\n                    return this.invoice.transactionNote\n                }\n            }\n            return ''\n        },\n        vatin() {\n            if (this.invoice) {\n                if (this.invoice.hasOwnProperty('taxId')) {\n                    return this.invoice.taxId\n                }\n            }\n            return '-'\n        },\n        bank() {\n            if (this.invoice) {\n                let banks = []\n                if (this.invoice.hasOwnProperty('paymentOptionWBMobile')) {\n                    if (this.invoice.paymentOptionWBMobile.hasOwnProperty('bank')) {\n                        const wBank = this.invoice.paymentOptionWBMobile.bank\n                        wBank.forEach(m => {\n                            let itm = m.bank\n                            banks.push({\n                                id: itm.uuid,\n                                name: itm.name,\n                                abbr: itm.abbr,\n                                image: itm.image\n                            })\n                        })\n                    }\n                }\n                if (this.invoice.hasOwnProperty('paymentOptionOnline')) {\n                    if (this.invoice.paymentOptionOnline.hasOwnProperty('bank')) {\n                        const oBank = this.invoice.paymentOptionOnline.bank\n                        oBank.forEach(m => {\n                            let itm = m.bank\n                            banks.push({\n                                id: itm.uuid,\n                                name: itm.name,\n                                abbr: itm.abbr,\n                                image: itm.image\n                            })\n                        })\n                    }\n                }\n                if (this.invoice.hasOwnProperty('paymentOptionKHQR')) {\n                    if (this.invoice.paymentOptionKHQR.hasOwnProperty('bank')) {\n                        const kHBank = this.invoice.paymentOptionKHQR.bank\n                        kHBank.forEach(m => {\n                            let itm = m.bank\n                            banks.push({\n                                id: itm.uuid,\n                                name: itm.name,\n                                abbr: itm.abbr,\n                                image: itm.image\n                            })\n                        })\n                    }\n                }\n                const bank = []\n                banks.forEach(function (item) {\n                    let i = bank.findIndex(x => x.id === item.id)\n                    if (i <= -1) {\n                        bank.push({id: item.id, name: item.name, abbr: item.abbr, image: item.image})\n                    }\n                })\n                // window.console.log([...new Set(bank)], '---')\n                return [...new Set(bank)]\n            }\n            return []\n        }\n    },\n    methods: {\n        async loadPaymentScheduleList() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.showLoading = true\n                    billingHandler.scheduleList(this.$route.params.id).then(res => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false\n                            this.invoiceScheduleList = res.data.data\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 300)\n            })\n        },\n        async loadSaleFormContent() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    saleFormContentHandler.list().then(res => {\n                        if (res.data.statusCode === 200) {\n                            const data = res.data.data\n                            if (data.length > 0) {\n                                this.saleFormContent = data[0]\n                            }\n                        }\n                    })\n                }, 300)\n            })\n        },\n        async loadLinkInvoice() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    if (this.$route.params.id) {\n                        this.showLoading = true\n                        window.console.log(this.$route, 'idd')\n                        const queryString = this.$route.query\n                        let linkId = this.$route.params.id\n                        if (queryString.hasOwnProperty('from')) {\n                            linkId = linkId + 'from=' + queryString.from\n                        }\n                        billingHandler.linkView(linkId).then(res => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false\n                                this.invoice = res.data.data[0]\n                                // window.console.log(this.invoice)\n                                this.itemLines = this.invoice.itemLines\n                            }\n                        }).catch()\n                        {\n                            this.showLoading = false\n                        }\n                    }\n\n                }, 300)\n            })\n        },\n        checkWidth() {\n            if (this.widhtWindow < 840) {\n                this.sqrSize = 90\n            } else {\n                this.sqrSize = 50\n            }\n        },\n        generateReport() {\n            this.$refs.html2Pdf.generatePdf()\n        },\n        getBase64Image(img) {\n            var c = document.createElement('canvas');\n            c.height = img.naturalHeight;\n            c.width = img.naturalWidth;\n            var ctx = c.getContext('2d');\n            ctx.drawImage(img, 0, 0, c.width, c.height);\n            var base64String = c.toDataURL();\n            return base64String\n        },\n        Print() {\n            var divContents = document.getElementById(\"invoice_print\").innerHTML;\n            var win = window.open('', 'invoice', 'width=1290.7, height=800');\n            var doc = win.document.open();\n            var htmlStart = `\n                <html>\n                    <header>\n                        <link href=\"https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css\" rel=\"stylesheet\">\n                        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n                        <link href=\"https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400&display=swap\" rel=\"stylesheet\">\n                        <style rel=\"stylesheet\" media=\"print\">\n                        @font-face {\n                                font-family: 'Niradei-Regular';\n                                font-weight: 600;\n                                font-display: swap;\n                                font-style: normal;\n                                src: local('Niradei'), local('Niradei-Regular'), url('@/assetts/styles/fonts/Niradei-Regular.woff2') format('woff2');\n                            }\n\n                            @font-face {\n                                font-family: 'Niradei-Bold';\n                                font-weight: bold;\n                                font-display: swap;\n                                font-style: normal;\n                                src: local('Niradei'), local('Niradei-Bold'), url('@/assetts/styles/fonts/Niradei-Bold.woff2') format('woff2');\n                            }\n                            body {\n                                -webkit-print-color-adjust: exact;\n                                font-family: 'Noto Sans JP', sans-serif !important;\n                                print-color-adjust: exact;\n\n                             }\n                            p{\n                                font-family: 'Noto Sans JP', sans-serif !important;\n                            }\n\n                            .text-bold{\n                               font-weight: bold !important;\n                            }\n                            .font_10 {\n                                font-size: 10px !important;\n                            }\n                            .font_11 {\n                                font-size: 11px !important;\n                            }\n                            .font_12 {\n                                font-size: 12px !important;\n                            }\n                            .font_13 {\n                                font-size: 13px !important;\n                            }\n                            .font_14 {\n                                font-size: 14px !important;\n                            }\n                            .font_16 {\n                                font-size: 16px !important;\n                            }\n                            .font_18 {\n                                font-size: 18px !important;\n                            }\n\n                            .font_20 {\n                                font-size: 20px !important;\n                            }\n                            .font_22 {\n                                font-size: 22px !important;\n                            }\n                            .font_24 {\n                                font-size: 24px !important;\n                            }\n                            .font_26 {\n                                font-size: 26px !important;\n                            }\n                            .font_28 {\n                                font-size: 28px !important;\n                            }\n                            .font_30 {\n                                font-size: 30px !important;\n                            }\n                            .font_34 {\n                                font-size: 34px !important;\n                            }\n                            .text_right{\n                                text-align: right;\n                            }\n                            .text-left{\n                                text-align: left;\n                            }\n                            @page {\n                                size: A4;\n                            }\n                            @media print {\n                                html, body {\n                                    font-family: 'Noto Sans JP', sans-serif !important;\n                                    margin: 6;\n                                    margin-top: 20;\n                                    margin-bottom: 30;\n                                    margin-right: 20;\n                                    width: 21cm;\n                                    height: 29.7cm;\n                                    -webkit-print-color-adjust: exact !important;\n                                    print-color-adjust: exact;\n                                },\n                                .pagebreak {\n                                    clear: both;\n                                    margin-top: 30mm;\n                                    page-break-before: always !important;\n                                    page-break-after: always !important;\n                                }\n                            }\n\n                            .bg{\n                                background: #e7e6e6 !important;\n                            }\n                            .btn_border{\n                                border: 1px solid #c2baba\n                            }\n\n                            .theme--light.v-sheet--outlined {\n                                border: none !important;\n                            }\n                            .invoicetext{\n                                font-size: 32px;\n                                color: #fff;\n                                margin-top: 0;\n                                padding-top: 22px;\n                                padding-left: 10px;\n                                text-transform: uppercase;\n                                font-family: \"Niradei-Bold\"\n                            }\n                            .v-data-table > .v-data-table__wrapper > table > tbody > tr > td, .v-data-table > .v-data-table__wrapper > table > thead > tr > td, .v-data-table > .v-data-table__wrapper > table > tfoot > tr > td {\n                                height: 36px !important;\n                            }\n                            .theme--light.v-data-table > .v-data-table__wrapper > table > thead > tr > th {\n                                color: #000;\n                                font-size: 14px;\n                                font-family: \"Niradei-Bold\"\n                            }\n                            @media(max-width: 600px){\n\n                                .log_sm{\n                                    margin: auto;\n                                    width: 160px;\n                                    margin-top: 20px;\n                                }\n                                .sm_p{\n                                    text-align: left;\n                                }\n                                .sm_center{\n                                    text-align: center;\n                                }\n                                .invoice_id_small{\n                                    display: none;\n                                }\n                                .invoice_id_big{\n                                    display: block;\n                                }\n\n\n                            }\n                            @media(min-width: 769px){\n                                .invoice_id_small{\n                                    display: none;\n                                }\n                                .invoice_id_big{\n                                    display: block;\n                                }\n                            }\n                        </style>\n                    </header>\n                    <body>\n                    </body>\n                </html>\n            `\n            let hmtlEnd = '</div></body>' + '</html>';\n            doc.write(htmlStart + divContents + hmtlEnd);\n            doc.close();\n            setTimeout(function () {\n                win.print();\n                win.close();\n            }, 2000);\n        },\n        savePdf() {\n            const options = {\n                margin: 0.3,\n                filename: 'filename.pdf',\n                image: {\n                    type: 'jpeg',\n                    quality: 0.98\n                },\n                html2canvas: {\n                    scale: 2\n                },\n                jsPDF: {\n                    unit: 'in',\n                    format: 'a4',\n                    orientation: 'portrait'\n                }\n            }\n            var invoice = document.getElementById('invoice').innerHTML\n            html2pdf().from(invoice).set(options).save();\n        },\n        switchLocale() {\n            if (this.locale == 'en') {\n                this.flag = 'us.jpg'\n                this.locale = 'kh'\n                this.language = \"english\"\n                let _local = this.locale\n                const to = this.$router.resolve({params: {locale: _local}})\n                return Trans.changeLocale(_local).then(() => {\n                    this.$router.push(to.location)\n                })\n            } else {\n                this.flag = 'kh.jpg'\n                this.locale = 'en'\n                this.language = \"khmer\"\n                let _local = this.locale\n                const to = this.$router.resolve({params: {locale: _local}})\n                return Trans.changeLocale(_local).then(() => {\n                    this.$router.push(to.location)\n                })\n            }\n        },\n        status(value) {\n            let statusText = ''\n            switch (value) {\n                case 1:\n                    statusText = 'OPEN'\n                    break\n                case 2:\n                    statusText = 'CLOSED'\n                    break\n                case 4:\n                    statusText = 'VOID'\n                    break\n            }\n            return statusText\n        },\n        numberFormat(value) {\n            return kendo.toString(value, `n${this.saleFormContent.decimal}`)\n        },\n        formatDate(value) {\n            return kendo.toString(new Date(value), this.dateFormat)\n        },\n        paymentCode(code) {\n            return code.replace('psc-', '')\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        rowNumberTmpl1(dataItem) {\n            let ds = this.$refs.itemLineDS1.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        vatTemplate(dataItem) {\n            const vat = dataItem.vatTax\n            if (vat) {\n                return `<span>${vat.defaultTax ? vat.defaultTax : ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        itemTemplate(dataItem) {\n            const item = dataItem.item\n            if (item) {\n                return `<span>${item.name ? item.name : ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        UOMTemplate(dataItem) {\n            const uom = dataItem.uom\n            if (uom) {\n                return `<span>${uom.uom ? uom.uom.toUOM.name : ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        saleUnitTemplate(dataItem) {\n            const saleUnit = dataItem.saleUnit\n            if (saleUnit) {\n                return `<span>${saleUnit.name ? saleUnit.name : ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        discountItemTemplate(dataItem) {\n            const discountItem = dataItem.discountItem\n            if (discountItem) {\n                return `<span>${discountItem.code ? discountItem.code : ``} - ${discountItem.name ? discountItem.name : ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        empImpl(dataItem) {\n            let empIds = []\n            dataItem.employee.forEach(m => {\n                empIds.push(m.firstName + ' - ' + m.lastName)\n            })\n            // window.console.log(empIds.join(', '))\n            return `<span>${empIds.join(', ')}</span>`\n        },\n        amountFormat(value) {\n            return kendo.toString(value.amount, `n${this.saleFormContent.decimal}`)\n        },\n        priceFormat(value) {\n            return kendo.toString(value.price, `n${this.saleFormContent.decimal}`)\n        },\n        autoCalculateDiscount(discountItem, subTotal) {\n            if (discountItem) {\n                const nature = discountItem.nature || ''\n                const amount = discountItem.amount || 0\n                if (nature === 'Amount') {\n                    return parseFloat(amount)\n                } else if (nature === 'Percentage') {\n                    return (subTotal * (parseFloat(amount) / 100))\n                }else{\n                    return 0\n                }\n            }else{\n                return 0\n            }\n        },\n        otherCharge(obj) {\n            if (this.invoice) {\n                const amount = this.autoCalculateDiscount(obj, this.invoice.subTotal)\n                return this.numberFormat(amount)\n            }\n            return 0\n        },\n    },\n    mounted: async function () {\n        this.checkWidth()\n        await this.loadSaleFormContent()\n        await this.loadLinkInvoice()\n        await this.loadPaymentScheduleList()\n    }\n}\n</script>\n<style scoped>\n.a4 {\n    width: 21cm;\n    /* height: 29.7cm;  */\n    /* height: 28.7cm; */\n}\n\n.a4_head {\n    width: 21cm;\n}\n\n.first_card {\n    height: 150px;\n}\n\n.mt {\n    margin-top: 52px !important;\n}\n\n.bg {\n    background: #e7e6e6 !important;\n}\n\n.grey_text {\n    color: red;\n}\n\n.btn_border {\n    border: 1px solid #c2baba\n}\n\n.mt_60 {\n    margin-top: 52px;\n}\n\n.theme--light.v-sheet--outlined {\n    border: none !important;\n}\n\n.open {\n    font-size: 35px;\n    color: #fff;\n    margin-top: 6px;\n    text-transform: uppercase;\n    font-family: \"Niradei-Bold\"\n}\n\n.open_padding {\n    padding-top: 50px;\n    height: 90px;\n}\n\n.invoicetext {\n    font-size: 32px;\n    color: #fff;\n    margin-top: 0;\n    padding-top: 22px;\n    padding-left: 10px;\n    text-transform: uppercase;\n    font-family: \"Niradei-Bold\"\n}\n\n.sign_up {\n    font-family: \"Niradei-Bold\"\n}\n\n.sign_up_now {\n    font-family: \"Niradei-Bold\";\n    color: #0975c3 !important;\n}\n\n.privacy_security {\n    color: #596b7f !important;\n    font-family: \"Niradei-Bold\";\n    text-decoration: underline !important;\n}\n\n.v-data-table > .v-data-table__wrapper > table > tbody > tr > td, .v-data-table > .v-data-table__wrapper > table > thead > tr > td, .v-data-table > .v-data-table__wrapper > table > tfoot > tr > td {\n    height: 36px !important;\n}\n\n.theme--light.v-data-table > .v-data-table__wrapper > table > thead > tr > th {\n    color: #000;\n    font-size: 14px;\n    font-family: \"Niradei-Bold\"\n}\n\n.flex_ {\n    display: flex;\n}\n\n@media (max-width: 760px) {\n    .a4 {\n        width: 100%;\n        height: auto;\n    }\n\n    .first_card {\n        height: 172px;\n    }\n\n    .a4_head {\n        width: auto;\n    }\n\n    .open {\n        height: 50px !important;\n    }\n\n    .open_padding {\n        padding-top: 18px;\n        height: 60px;\n    }\n\n    .sm_box1 {\n        padding-right: 12px !important;\n    }\n\n    .sm_box2 {\n        padding-left: 12px !important;\n    }\n\n    .sm_box3 {\n        padding-right: 21px !important;\n    }\n\n    .log_sm {\n        margin: auto;\n        width: 160px;\n        margin-top: 20px;\n    }\n\n    .sm_p {\n        text-align: left;\n    }\n\n    .sm_center {\n        text-align: center;\n    }\n\n    .sm_sign_up {\n        margin-top: 20px;\n    }\n\n    .invoice_id_small {\n        display: block;\n    }\n\n    .invoice_id_big {\n        display: none;\n    }\n\n    .invoice_id_big_t {\n        display: none;\n    }\n\n    ._sm_pay {\n        margin-left: 0px !important;\n    }\n\n    .flex_ {\n        display: block;\n    }\n\n}\n\n@media (min-width: 769px) {\n    .invoice_id_small {\n        display: none;\n    }\n\n    .invoice_id_big {\n        display: block;\n    }\n}\n</style>"]}]}