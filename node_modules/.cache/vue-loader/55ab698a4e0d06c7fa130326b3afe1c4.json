{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/finances/insight/LoanAnalysis.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/finances/insight/LoanAnalysis.vue","mtime":1638499443234},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgkvLyBpbXBvcnQge2kxOG59IGZyb20gJ0AvaTE4bic7CglpbXBvcnQga2VuZG8gZnJvbSAnQHByb2dyZXNzL2tlbmRvLXVpJzsKCWNvbnN0IGZpbmFuY2lhbFJhdGlvSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9oYW5kbGVyL2FjY291bnRpbmcvZmluYW5jaWFsUmF0aW8uanMiKTsKCglleHBvcnQgZGVmYXVsdCB7CgkJY29tcG9uZW50czogewoJCQkiTG9hZGluZ01lIjogKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvTG9hZGluZycpLAoJCX0sCgkJZGF0YTogKCk9Pih7CiAgICAgICAgICAgIGxvYW5BbmFseXNpcyA6IFtdLAoJCQkvLyBMb2FkaW5nTWUKCQkJc2hvd0xvYWRpbmc6IGZhbHNlLAoJCX0pLAoJCW1ldGhvZHM6ICB7CgkJCS8vIFNlYXJjaAoJCQlhc3luYyBzZWFyY2ggKCkgewogICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgLyogU2V0IGRlZmF1bHQgKi8KICAgICAgICAgICAgICAgIHRoaXMubG9hbkFuYWx5c2lzID0gewogICAgICAgICAgICAgICAgICAgIGRlYnRfcmF0aW8gOiAwLAogICAgICAgICAgICAgICAgICAgIGdlYXJpbmdfcmF0aW8gOiAwLAogICAgICAgICAgICAgICAgICAgIGludGVyZXN0X2NvdmVyYWdlX3JhdGlvIDogMCwKICAgICAgICAgICAgICAgICAgICBkZWJ0X3NlcnZpY2VfY292ZXJhZ2UgOiAwLAogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBsZXQgYm0gPSBuZXcgRGF0ZSgpLAogICAgICAgICAgICAgICAgICAgIGJhc2VNb250aExhc3REYXkgPSBuZXcgRGF0ZShibS5nZXRGdWxsWWVhcigpLCBibS5nZXRNb250aCgpICsgMSwgMCk7CgogICAgICAgICAgICAgICAgLyogQWNjdW11bGF0ZWQgTW9udGggKi8KICAgICAgICAgICAgICAgIGxldCBhY2N1bXVsYXRlZE1vbnRocyA9IGF3YWl0IGZpbmFuY2lhbFJhdGlvSGFuZGxlci5nZXRSZXBvcnQoewogICAgICAgICAgICAgICAgICAgIHBhcmFtcyA6IHsKICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhfb2YgOiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSgpLCAneXl5eS1NTS1kZCcpICsgJ1QyMzo1OTo1OS45OTlaJywvLyBUb2RheSBNb250aCAodXNlIGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhcmVfbW9udGggOiBrZW5kby50b1N0cmluZyhiYXNlTW9udGhMYXN0RGF5LCAneXl5eS1NTS1kZCcpICsgJ1QyMzo1OTo1OS45OTlaJywvLyBTZWxlY3RlZCBCYXNlIE1vbnRoIChkb24ndCB1c2UgZGF0YSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB0aGlzLmxvYW5BbmFseXNpcyA9IHsKICAgICAgICAgICAgICAgICAgICBkZWJ0X3JhdGlvICAgICAgICAgICAgICA6IGFjY3VtdWxhdGVkTW9udGhzLmRhdGEubW90aF9vZi5kZWJ0UmF0aW8sCiAgICAgICAgICAgICAgICAgICAgZ2VhcmluZ19yYXRpbyAgICAgICAgICAgOiAwLAogICAgICAgICAgICAgICAgICAgIGludGVyZXN0X2NvdmVyYWdlX3JhdGlvIDogYWNjdW11bGF0ZWRNb250aHMuZGF0YS5tb3RoX29mLmludGVyZXN0Q292ZXJhdGVSYXRpb24sCiAgICAgICAgICAgICAgICAgICAgZGVidF9zZXJ2aWNlX2NvdmVyYWdlICAgOiBhY2N1bXVsYXRlZE1vbnRocy5kYXRhLm1vdGhfb2YuZGVidFNlcnZpY2VDb2VyYWdlUmF0aW8sCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CgkJCX0sCgkJfSwKICAgICAgICBtb3VudGVkKCl7CiAgICAgICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgICAgfQoJfQo="},{"version":3,"sources":["LoanAnalysis.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoanAnalysis.vue","sourceRoot":"src/views/finances/insight","sourcesContent":["<template>\n    <v-simple-table>\n        <template>\n            <tbody>\n                <tr>\n                    <td class=\"text-left pl-0\">\n                    <span class=\"niradei_medium font_14 grey--text\">\n                        {{ $t(\"debt_ratio\") }}\n                    </span>\n                    </td>\n                    <td class=\"text-right pr-0\">\n                    <span class=\"niradei_heavy font_18 dark_grey\">\n                        {{ Number(loanAnalysis.debt_ratio).toLocaleString() }} %\n                    </span>\n                    </td>\n                </tr>\n                <tr>\n                    <td class=\"text-left pl-0\">\n                    <span class=\"niradei_medium font_14 grey--text\">\n                        {{ $t(\"gearing_ratio\") }}\n                    </span>\n                    </td>\n                    <td class=\"text-right pr-0\">\n                    <span class=\"niradei_heavy font_18 dark_grey\">\n                        <!-- {{ Number(loanAnalysis.gearing_ratio).toLocaleString() }} -->\n                    </span>\n                    </td>\n                </tr>\n                <tr>\n                    <td class=\"text-left pl-0\">\n                    <span class=\"niradei_medium font_14 grey--text\">\n                        {{ $t(\"interest_coverage_ratio\") }} \n                    </span>\n                    </td>\n                    <td class=\"text-right pr-0\">\n                    <span class=\"niradei_heavy font_18 dark_grey\">\n                        {{ Number(loanAnalysis.interest_coverage_ratio).toLocaleString() }} Time\n                    </span>\n                    </td>\n                </tr>\n                <tr>\n                    <td class=\"text-left pl-0\">\n                    <span class=\"niradei_medium font_14 grey--text\">\n                        {{ $t(\"debt_service_coverage\") }}\n                    </span>\n                    </td>\n                    <td class=\"text-right pr-0\">\n                    <span class=\"niradei_heavy font_18 dark_grey\">\n                        {{ Number(loanAnalysis.debt_service_coverage).toLocaleString() }} Time\n                    </span>\n                    </td>\n                </tr>\n            </tbody>\n        </template>\n        <template slot=\"no-data\">\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"false\"\n                :myLoading=\"true\"\n                :type=\"'loading'\"\n            />\n        </template>\n    </v-simple-table>\n</template>\n\n<script>\n\t// import {i18n} from '@/i18n';\n\timport kendo from '@progress/kendo-ui';\n\tconst financialRatioHandler = require(\"@/scripts/handler/accounting/financialRatio.js\");\n\n\texport default {\n\t\tcomponents: {\n\t\t\t\"LoadingMe\": () => import('@/components/Loading'),\n\t\t},\n\t\tdata: ()=>({\n            loanAnalysis : [],\n\t\t\t// LoadingMe\n\t\t\tshowLoading: false,\n\t\t}),\n\t\tmethods:  {\n\t\t\t// Search\n\t\t\tasync search () {\n                this.showLoading = true;\n\n                /* Set default */\n                this.loanAnalysis = {\n                    debt_ratio : 0,\n                    gearing_ratio : 0,\n                    interest_coverage_ratio : 0,\n                    debt_service_coverage : 0,\n                };\n\n                let bm = new Date(),\n                    baseMonthLastDay = new Date(bm.getFullYear(), bm.getMonth() + 1, 0);\n\n                /* Accumulated Month */\n                let accumulatedMonths = await financialRatioHandler.getReport({\n                    params : {\n                        month_of : kendo.toString(new Date(), 'yyyy-MM-dd') + 'T23:59:59.999Z',// Today Month (use data)\n                        compare_month : kendo.toString(baseMonthLastDay, 'yyyy-MM-dd') + 'T23:59:59.999Z',// Selected Base Month (don't use data)\n                    }\n                })\n                \n                this.loanAnalysis = {\n                    debt_ratio              : accumulatedMonths.data.moth_of.debtRatio,\n                    gearing_ratio           : 0,\n                    interest_coverage_ratio : accumulatedMonths.data.moth_of.interestCoverateRation,\n                    debt_service_coverage   : accumulatedMonths.data.moth_of.debtServiceCoerageRatio,\n                };\n                \n                this.showLoading = false;\n\t\t\t},\n\t\t},\n        mounted(){\n            this.search();\n        }\n\t}\n</script>"]}]}