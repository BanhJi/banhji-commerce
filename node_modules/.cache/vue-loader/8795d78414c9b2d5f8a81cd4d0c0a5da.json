{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/pay_roll/payroll/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/pay_roll/payroll/Detail.vue","mtime":1638499443256},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMb2FkaW5nTWUgZnJvbSAiQC9jb21wb25lbnRzL0xvYWRpbmciOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIgpjb25zdCBwYXlyb2xsSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wYXlyb2xsSGFuZGxlciIpCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgc2hvd0xvYWRpbmc6IHRydWUsCiAgICAgICAgaXNfbW9udGg6IGZhbHNlLAogICAgICAgIGlzX3N0YXJ0X2RhdGU6IGZhbHNlLAogICAgICAgIGlzX2VuZF9kYXRlOiBmYWxzZSwKICAgICAgICBzdGFydF9kYXRlOiAiIiwKICAgICAgICBlbmRfZGF0ZTogIiIsCiAgICAgICAgZGF0YTogW10sCiAgICAgICAgcGF5cm9sbERldGFpbDogW10sCiAgICAgICAgc29ydDpbCiAgICAgICAgICAgIHsgZmllbGQ6ICdyZWZlcmVuY2VOdW1iZXInLCBkaXI6ICdhc2MnIH0KICAgICAgICBdLAogICAgICAgIHNlYXJjaDogewogICAgICAgICAgICBzdGFydF9kYXRlOiAiIiwKICAgICAgICAgICAgZW5kX2RhdGU6ICIiCiAgICAgICAgfSwKICAgIH0pLAogICAgcHJvcHM6IHt9LAogICAgbWV0aG9kczogewogICAgICAgIGxvYWRQYXlyb2xsRGV0YWlsKCl7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgcGF5cm9sbEhhbmRsZXIuZ2V0UGF5cm9sbERldGFpbCh0aGlzLnNlYXJjaCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF5cm9sbERldGFpbCA9IHJlcy5kYXRhLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDMwMCkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIG9uU2VhcmNoKCl7CiAgICAgICAgICAgIGxldCBzdGFydF9kYXRlID0gdGhpcy5zdGFydF9kYXRlCiAgICAgICAgICAgIGxldCBlbmRfZGF0ZSA9dGhpcy5lbmRfZGF0ZQogICAgICAgICAgICBpZihlbmRfZGF0ZSAmJiBzdGFydF9kYXRlKXsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoID0gewogICAgICAgICAgICAgICAgICAgICdzdGFydF9kYXRlJzoga2VuZG8udG9TdHJpbmcobmV3IERhdGUoc3RhcnRfZGF0ZSksJ3l5eXktTU0tZGQnKSwKICAgICAgICAgICAgICAgICAgICAnZW5kX2RhdGUnOiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZShlbmRfZGF0ZSksJ3l5eXktTU0tZGQnKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5sb2FkUGF5cm9sbERldGFpbCgpCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdGhpcy5zZWFyY2ggPSB7CiAgICAgICAgICAgICAgICAgICAgJ3N0YXJ0X2RhdGUnOiAnJywKICAgICAgICAgICAgICAgICAgICAnZW5kX2RhdGUnOiAnJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5sb2FkUGF5cm9sbERldGFpbCgpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgYXN5bmMgbW91bnRlZCgpIHsKICAgICAgICBhd2FpdCB0aGlzLmxvYWRQYXlyb2xsRGV0YWlsKCkKICAgIH0sCiAgICBjb21wdXRlZDoge30sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgJ0xvYWRpbmdNZSc6IExvYWRpbmdNZSwKICAgICAgICAnbW9udGgtcGlja2VyJyA6ICgpPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9Nb250aFBpY2tlcicpCiAgICB9LAogICAgd2F0Y2g6ewogICAgICAgICckcm91dGUnOiAnbG9hZFBheXJvbGxEZXRhaWwnCiAgICB9Cn07Cg=="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/payroll/pay_roll/payroll","sourcesContent":["<template>\n    <v-row class=\"\">\n        <v-col sm=\"12\" cols=\"12\" class=\"grayBg px-6\">\n            <v-card color=\"white\" class=\"pa-3 no_border\" elevation=\"0\">\n                <v-row>\n                    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                        <v-row>\n                            <v-col sm=\"4\" cols=\"12\" class=\"py-0 d-flex justify-space-between\">\n                                <label class=\"mt-3 mr-1\">{{$t('from')}}</label>\n                                <month-picker :initialMonth=\"start_date\" @emitMonth=\"start_date = $event\"/>\n                            </v-col>\n    \n                            <v-col sm=\"4\" cols=\"12\" class=\"py-0  d-flex justify-space-between\">\n                                <label class=\"mt-3 mr-1\">{{$t('to')}}</label>\n                                <month-picker :initialMonth=\"end_date\" @emitMonth=\"end_date = $event\" :min=\"start_date\"/>\n                            </v-col>\n                            <v-col sm=\"2\" cols=\"1\" class=\"py-1\">\n                                <v-btn color=\"primary white--text text-capitalize\" @click=\"onSearch\">\n                                    {{$t('search')}}\n                                </v-btn>\n                            </v-col>\n                        </v-row>\n                    </v-col>\n                </v-row>\n    \n                <v-row>\n                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                        <kendo-datasource ref=\"dataSource\"\n                            :data=\"payrollDetail\"\n                            :page-size='100'\n                            :sort=\"sort\"/>\n                            <kendo-grid id=\"grid\" class=\"grid-function\"\n                                :data-source-ref=\"'dataSource'\"\n                                :editable=\"false\"\n                                :scrollable-virtual=\"true\"\n                                :pageable=\"true\">\n                                <kendo-grid-column\n                                    :width=\"100\"\n                                    :field=\"'monthOf'\"\n                                    :title=\"$t('month_of')\"\n                                    :template=\"'<span>#= monthOf#</span>'\"\n                                    :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                <kendo-grid-column\n                                    :width=\"170\"\n                                    :field=\"'referenceNumber'\"\n                                    :title=\"$t('reference_number')\"\n                                    :template=\"'<span>#= referenceNumber#</span>'\"\n                                    :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                    :attributes=\"{ style: 'text-align: center'}\"/>\n                                <kendo-grid-column\n                                    :width=\"70\"\n                                    :field=\"'type'\"\n                                    :title=\"$t('type')\"\n                                    :template=\"'<span>#= type#</span>'\"\n                                    :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                    :attributes=\"{ style: 'text-align: center'}\"/>\n                                <kendo-grid-column\n                                    :width=\"120\"\n                                    :title=\"$t('employee_name')\"\n                                    :template=\"'<span>#= employeeName#</span>'\"\n                                    :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                <kendo-grid-column\n                                    :width=\"120\"\n                                    :title=\"$t('amount')\"\n                                    :template=\"'<span>#= kendo.toString(netSalary,`c2`)#</span>'\"\n                                    :headerAttributes=\"{style: 'background-color: #EDF1F5; text-align: right'}\"\n                                    :attributes=\"{style: 'text-align: right; padding-right: 20px;'}\"/>\n                            </kendo-grid>\n                        <LoadingMe\n                            :isLoading=\"showLoading\"\n                            :fullPage=\"false\"\n                            :myLoading=\"true\"\n                            type=\"loading\"\n                           />\n                    </v-col>\n                </v-row>\n            </v-card>\n        </v-col>\n    </v-row>\n</template>\n<script>\nimport LoadingMe from \"@/components/Loading\";\nimport kendo from \"@progress/kendo-ui\"\nconst payrollHandler = require(\"@/scripts/payrollHandler\")\nexport default {\n    data: () => ({\n        showLoading: true,\n        is_month: false,\n        is_start_date: false,\n        is_end_date: false,\n        start_date: \"\",\n        end_date: \"\",\n        data: [],\n        payrollDetail: [],\n        sort:[\n            { field: 'referenceNumber', dir: 'asc' }\n        ],\n        search: {\n            start_date: \"\",\n            end_date: \"\"\n        },\n    }),\n    props: {},\n    methods: {\n        loadPayrollDetail(){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.showLoading = true\n                    payrollHandler.getPayrollDetail(this.search).then(res => {\n                        this.showLoading = true\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false\n                            this.payrollDetail = res.data.data\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 300)\n            })\n        },\n        onSearch(){\n            let start_date = this.start_date\n            let end_date =this.end_date\n            if(end_date && start_date){\n                this.search = {\n                    'start_date': kendo.toString(new Date(start_date),'yyyy-MM-dd'),\n                    'end_date': kendo.toString(new Date(end_date),'yyyy-MM-dd')\n                }\n                this.loadPayrollDetail()\n            }else{\n                this.search = {\n                    'start_date': '',\n                    'end_date': ''\n                }\n                this.loadPayrollDetail()\n            }\n        }\n    },\n    async mounted() {\n        await this.loadPayrollDetail()\n    },\n    computed: {},\n    components: {\n        'LoadingMe': LoadingMe,\n        'month-picker' : ()=> import('@/components/custom_templates/MonthPicker')\n    },\n    watch:{\n        '$route': 'loadPayrollDetail'\n    }\n};\n</script>\n<style scoped>\n.acc_group header {\n    height: 10px !important;\n}\n\ntable.acc_group tr td {\n    border-bottom: 1px solid #ccc;\n    padding: 8px;\n    vertical-align: middle;\n}\n\ntable.acc_group tr td:first-child {\n    font-weight: 700;\n}\n\ntable.acc_group tr td:last-child {\n    text-align: center;\n}\n\n.v-card__actions .v-btn.v-btn {\n    padding: 0 16px;\n}\n\n.exchange-table.theme--light.v-data-table > .v-data-table__wrapper > table > thead > tr > th {\n    font-family: 'Niradei-Bold', serif;\n    color: #000 !important;\n    border-top: 1px solid #000 !important;\n    border-bottom: 1px solid #000 !important;\n    font-size: 15px !important;\n}\n\n.exchange-table.theme--light.v-data-table > .v-data-table__wrapper > table > thead > tr > td {\n    color: #000 !important;\n    padding: 5px !important;\n}\n\n.exchange-table.theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:last-child td {\n    border-bottom: 1px solid #000 !important;\n}\n\n.function_footer {\n    padding: 15px;\n    display: inline-block;\n}\n\np {\n    color: rgba(0, 0, 0, 0.87);\n}\n\n.actionBtn {\n    height: 47.2px !important;\n}\n\n.text_tip {\n    font-size: 9px;\n    line-height: 10px;\n}\n\n@media (max-width: 576px) {\n\n}\n</style>\n"]}]}