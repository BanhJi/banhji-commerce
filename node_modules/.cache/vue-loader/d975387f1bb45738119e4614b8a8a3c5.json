{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/finances/Insight.vue?vue&type=style&index=0&id=e6ca0348&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/finances/Insight.vue","mtime":1638499443230},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKdWwgewogIGxpc3Qtc3R5bGUtdHlwZTogc3F1YXJlICFpbXBvcnRhbnQ7Cn0KCi50aGVtZS0tbGlnaHQudi1kYXRhLXRhYmxlIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50Owp9Cgoudi1kYXRhLXRhYmxlID4gLnYtZGF0YS10YWJsZV9fd3JhcHBlciA+IHRhYmxlID4gdGJvZHkgPiB0ciA+IHRkIHsKICBoZWlnaHQ6IDMycHggIWltcG9ydGFudDsKICBib3JkZXItYm90dG9tOiB0aGluIHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMik7Cn0KCi50aGVtZS0tbGlnaHQudi1kYXRhLXRhYmxlCiAgPiAudi1kYXRhLXRhYmxlX193cmFwcGVyCiAgPiB0YWJsZQogID4gdGJvZHkKICA+IHRyOmhvdmVyOm5vdCgudi1kYXRhLXRhYmxlX19leHBhbmRlZF9fY29udGVudCk6bm90KC52LWRhdGEtdGFibGVfX2VtcHR5LXdyYXBwZXIpIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50Owp9CgoubGluZV8xOCB7CiAgbGluZS1oZWlnaHQ6IDE4cHggIWltcG9ydGFudDsKfQoKLyogLmNoYW5nZV9jb2xvcnsKICAgIGZpbHRlcjogaW52ZXJ0KDMzJSkgc2VwaWEoNzclKSBzYXR1cmF0ZSgyMzQ0JSkgaHVlLXJvdGF0ZSgxMzFkZWcpIGJyaWdodG5lc3MoMTA0JSkgY29udHJhc3QoMTAxJSk7Cn0gKi8K"},{"version":3,"sources":["Insight.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+nBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"Insight.vue","sourceRoot":"src/views/finances","sourcesContent":["<template>\n  <v-row>\n    <v-col class=\"pb-0 pt-4\" sm=\"12\" cols=\"12\">\n      <v-row>\n        <v-col class=\"pt-0 pb-md-2 pr-md-2\" sm=\"4\" cols=\"12\">\n          <div class=\"d-flex\">\n            <v-card\n              outlined\n              dense\n              color=\"primary\"\n              class=\"pa-2 mb-4 flex-1 no_border niradei_bold\"\n              min-height=\"62px\"\n            >\n              <v-row>\n                <h6 class=\"col-sm-12 col-md-5 font_34 white--text\">\n                  {{ activeLoanPayment }}\n                </h6>\n                <h4\n                  class=\" text-right flex_right white--text py-0 col-sm-12 col-md-7 font_16 text-uppercase\"\n                >\n                  <span  class=\"float-right\">{{\n                    $t(\"loan_to_be_repaid\")\n                  }}</span>\n                </h4>\n              </v-row>\n            </v-card>\n            <v-btn style=\"height:62px !important;\" color=\"primary\" class=\"ml-1\">\n              <v-icon @click=\"loadData()\" size=\"30\" color=\"white\"\n                >mdi-reload</v-icon\n              >\n            </v-btn>\n          </div>\n          <v-card\n            outlined\n            dense\n            class=\"pa-4 no_border\"\n            min-height=\"228\"\n            color=\"grayBg\"\n          >\n            <h3 class=\"font_20\" :class=\"{ line_34: this.$i18n.locale == 'kh' }\">\n              {{ $t(\"outstanding_loans\") }}\n            </h3>\n            <p class=\"mb-0\">\n              {{ $t(\"as_of_today\") }}\n            </p>\n            <h2\n              class=\"primary--text mb-0 pa-0 niradei_black mb-0 col-sm-12 text-right\"\n            >\n              {{ numberFormat(outstandingBalance) }}\n            </h2>\n            <template>\n              <v-simple-table class=\"mb-3\">\n                <template>\n                  <tbody>\n                    <tr>\n                      <td class=\"text-left pl-0\" style=\"width: 50%;\">\n                        <span class=\"niradei_medium font_14 grey--text\">\n                          {{ $t(\"no_of_loans\") }}\n                        </span>\n                      </td>\n                      <td class=\"text-right pr-0\">\n                        <span class=\"niradei_heavy font_18 dark_grey\">\n                          {{ activeLoan }}\n                        </span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td class=\"text-left pl-0\">\n                        <span class=\"niradei_medium font_14 grey--text\">\n                          {{ $t(\"average_interest_rate\") }}\n                        </span>\n                      </td>\n                      <td class=\"text-right pr-0\">\n                        <span class=\"niradei_heavy font_18 dark_grey\">\n                          {{ avgInterest }}\n                        </span>\n                      </td>\n                    </tr>\n                  </tbody>\n                </template>\n              </v-simple-table>\n            </template>\n            <v-row>\n              <v-col class=\"pl-0 py-0 text-right align-self-end\">\n                <router-link\n                  to=\"\"\n                  class=\"mb-0 niradei_bold font_16 primary--text text-right\"\n                  >{{ $t(\"view_report\") }}\n                </router-link>\n              </v-col>\n            </v-row>\n          </v-card>\n        </v-col>\n        <!-- <v-col class=\"pt-0 pb-md-2 px-md-2\" sm=\"4\" cols=\"12\">\n                  <v-card\n                    outlined\n                    dense\n                    color=\"third\"\n                    class=\"pa-3 mb-4 no_border niradei_bold \"\n                    min-height=\"65px\"\n                  >\n                    <v-row>\n                      <h6 class=\"white--text col-sm-12 col-md-5 font_34\">10</h6>\n                      <h4\n                        class=\"text-right col-md-7 white--text col-sm-12 py-0 font_16 text-uppercase\"\n                      >\n                        <span style=\"width: 70%;\" class=\"float-right\">{{\n                          $t(\"active_application\")\n                        }}</span>\n                      </h4>\n                    </v-row>\n                  </v-card>\n                  <v-card\n                    outlined\n                    dense\n                    class=\"pa-4 no_border\"\n                    min-height=\"228\"\n                    color=\"grayBg\"\n                  >\n                    <h3 class=\"font_20\" :class=\"{ line_34: this.$i18n.locale == 'kh' }\">\n                      {{ $t(\"available_credit\") }}\n                    </h3>\n                    <p class=\"mb-0\">\n                      {{ $t(\"as_of_today\") }}\n                    </p>\n                    <h2\n                      class=\"primary--text mb-0 pa-0 niradei_black mb-0 col-sm-12 text-right\"\n                    >\n                      150,000\n                    </h2>\n                    <template>\n                      <v-simple-table class=\"mb-3\">\n                        <template>\n                          <tbody>\n                            <tr>\n                              <td class=\"text-left pl-0\" style=\"width: 50%;\">\n                                <span class=\"niradei_medium font_14 grey--text\">\n                                  {{ $t(\"no_of_loans\") }}\n                                </span>\n                              </td>\n                              <td class=\"text-right pr-0\">\n                                <span class=\"niradei_heavy font_18 dark_grey\">\n                                  99\n                                </span>\n                              </td>\n                            </tr>\n                            <tr>\n                              <td class=\"text-left pl-0\">\n                                <span class=\"niradei_medium font_14 grey--text\">\n                                  {{ $t(\"average_interest_rate\") }}\n                                </span>\n                              </td>\n                              <td class=\"text-right pr-0\">\n                                <span class=\"niradei_heavy font_18 dark_grey\">\n                                  15%\n                                </span>\n                              </td>\n                            </tr>\n                          </tbody>\n                        </template>\n                      </v-simple-table>\n                    </template>\n                    <v-row>\n                      <v-col class=\"pl-0 py-0 text-right align-self-end\">\n                        <router-link\n                          to=\"\"\n                          class=\"mb-0 niradei_bold font_16 primary--text text-right\"\n                          >{{ $t(\"view_report\") }}</router-link\n                        >\n                      </v-col>\n                    </v-row>\n                  </v-card>\n                </v-col> -->\n        <v-col class=\"pt-0 pb-md-2 pl-md-2\" sm=\"8\" cols=\"12\">\n          <v-card\n            outlined\n            dense\n            color=\"grayBg\"\n            class=\"pa-4 no_border\"\n            min-height=\"307px\"\n          >\n            <v-row>\n              <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                <h3\n                  class=\"font_20\"\n                  :class=\"{ line_34: this.$i18n.locale == 'kh' }\"\n                >\n                  {{ $t(\"loan_balance_repayment\") }}\n                </h3>\n              </v-col>\n            </v-row>\n            <LoadingMe\n              :isLoading=\"showLoadingProductGraph\"\n              :fullPage=\"false\"\n              :myLoading=\"true\"\n              :type=\"'loading'\"\n            />\n            <!--                        <chart-->\n            <!--                            ref=\"chart\"-->\n            <!--                            :legend-position=\"'bottom'\"-->\n            <!--                            :legend-visible=\"false\"-->\n            <!--                            :tooltip=\"tooltip\"-->\n            <!--                            :data-item=\"seriesLine\"-->\n            <!--                            :chartArea=\"chartArea1\"-->\n            <!--                            :category-axis-categories=\"categories_line\"-->\n            <!--                            :value-axis=\"valueAxis_line\"-->\n            <!--                            :theme=\"'sass'\"-->\n            <!--                        />-->\n            <chart\n              ref=\"revenueChart\"\n              :legend-position=\"'bottom'\"\n              :legend-visible=\"false\"\n              :tooltip=\"tooltip\"\n              :series=\"seriesLine\"\n              :series-defaults-type=\"'line'\"\n              :series-defaults-style=\"'smooth'\"\n              :category-axis-categories=\"categoryAxis\"\n              :value-axis-labels-format=\"'{0}'\"\n              :chartArea=\"chartArea1\"\n              :theme=\"'sass'\"\n            />\n          </v-card>\n        </v-col>\n      </v-row>\n      <v-row class=\"mt-0\">\n        <v-col class=\"pb-0 pt-md-2 pr-md-2\" sm=\"8\" cols=\"12\">\n          <v-card\n            outlined\n            dense\n            class=\"pa-4 no_border\"\n            min-height=\"220px\"\n            color=\"grayBg\"\n          >\n            <v-row>\n              <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                <h3\n                  class=\"font_20\"\n                  :class=\"{ line_34: this.$i18n.locale == 'kh' }\"\n                >\n                  {{ $t(\"loan_analysis\") }}\n                </h3>\n                <p class=\"mb-3\">\n                  {{ $t(\"from_the_beginning_year\") }}\n                </p>\n                <LoanAnalysis />\n              </v-col>\n              <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                <!--                                <chart ref=\"revenueChart\"-->\n                <!--                                       :legend-position=\"'bottom'\"-->\n                <!--                                       :legend-visible=\"false\"-->\n                <!--                                       :tooltip=\"tooltip\"-->\n                <!--                                       :series=\"typeLoanSeries\"-->\n                <!--                                       -->\n                <!--                                       :series-defaults-style=\"'smooth'\"-->\n                <!--                                       :category-axis-categories=\"categoryAxis\"-->\n                <!--                                       :value-axis-labels-format=\"'{0}'\"-->\n                <!--                                       :chartArea=\"chartArea1\"-->\n                <!--                                       :theme=\"'sass'\"-->\n                <!--                                />-->\n                <chart\n                  ref=\"tLoan\"\n                  :legend-visible=\"false\"\n                  :series-defaults-type=\"'pie'\"\n                  :series-defaults-labels-visible=\"false\"\n                  :series=\"typeLoanSeries\"\n                  :tooltip-template=\"tooltipTemplate\"\n                  :chartArea=\"chartAreaChart\"\n                  :tooltip-visible=\"true\"\n                  :height=\"100\"\n                  :value-axis-labels-format=\"'{0}'\"\n                  :theme=\"'sass'\"\n                />\n                <p class=\"text-center mt-n5\">{{ $t(\"loan_by_types\") }}</p>\n              </v-col>\n            </v-row>\n          </v-card>\n        </v-col>\n        <v-col class=\"pb-0 pt-md-2 pl-md-2\" sm=\"4\" cols=\"12\">\n          <v-card\n            outlined\n            dense\n            color=\"grayBg\"\n            class=\"pa-4 no_border\"\n            min-height=\"239px\"\n          >\n            <div class=\"d-flex\">\n              <img\n                class=\"change_color\"\n                style=\"height:70px;\"\n                src=\"@/assets/images/clipboard.png\"\n              />\n\n              <h3\n                @click=\"tabActive\"\n                class=\"primary--text mt-1 font_20 pointer\"\n                style=\"line-height: 22px\"\n              >\n                {{ $t(\"what_know_before_loan\") }}:\n              </h3>\n            </div>\n\n            <div cols=\"12\" class=\"py-0 font_17\">\n              <ul style=\"padding: 0 25px\">\n                <li>{{ $t(\"what_know_before_loan_list1\") }}</li>\n                <li>{{ $t(\"what_know_before_loan_list2\") }}</li>\n                <li>{{ $t(\"what_know_before_loan_list3\") }}</li>\n              </ul>\n            </div>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport { i18n } from \"@/i18n\";\nimport { Chart } from \"@progress/kendo-charts-vue-wrapper\";\n\nconst loanHandler = require(\"@/scripts/financing/handler/loanHandler\");\nimport kendo from \"@progress/kendo-ui\";\n\nconst $ = kendo.jQuery;\nimport saleFormContentHandler from \"@/scripts/saleFormContentHandler\";\nimport Helper from \"@/helper\";\nimport { entityTypeHandler } from \"@/scripts/AppHandlers\";\nimport { EntityType } from \"@/scripts/default_setup/Collections\";\n\nexport default {\n  components: { \n    chart: Chart,\n    LoadingMe: () => import(`@/components/Loading`),\n    LoanAnalysis: () => import(`./insight/LoanAnalysis`)\n  },\n  data: () => ({\n    /* Obj */\n    activeLoanPayment: 0,\n    outstandingBalance: 0,\n    activeLoan: 0,\n    avgInterest: 0,\n    loanInfo: {},\n    labelTemplate: \"#= category # #= value #%\",\n    tooltipTemplate: \"#= category # : #= kendo.toString(value, `n2`)#\",\n    showLoadingProductGraph: false,\n    categories: [\n      \"Jan\",\n      \"Feb\",\n      \"Mar\",\n      \"Apr\",\n      \"May\",\n      \"Jun\",\n      \"Jul\",\n      \"Aug\",\n      \"Sep\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\",\n    ],\n    chartAreaChart: {\n      background: \"transparent\",\n      height: 190,\n    },\n    series_chart: [\n      {\n        type: \"pie\",\n        startAngle: 180,\n        data: [\n          {\n            category: i18n.t(\"credit_card\"),\n            value: 22,\n            color: \"#c80000\",\n          },\n          {\n            category: i18n.t(\"working_capital\"),\n            value: 45,\n            color: \"#f44336\",\n          },\n          {\n            category: i18n.t(\"investment\"),\n            value: 11,\n            color: \"#d85604\",\n          },\n          {\n            category: i18n.t(\"overdraft\"),\n            value: 22,\n            color: \"#e88d14\",\n          },\n        ],\n      },\n    ],\n    typeLoanSeries: [],\n    sale_serry: [\n      {\n        name: \"sale_cycle_days\",\n        value: 500,\n      },\n      {\n        name: \"cross_margin\",\n        value: \"50%\",\n      },\n      {\n        name: \"working_capital\",\n        value: \"40%\",\n      },\n    ],\n    // line chart area\n    seriesLine: [],\n    categoryAxis: [],\n    // seriesLine: [\n    //     {\n    //         type: \"line\",\n    //         name: i18n.t('loan_balance'),\n    //         data: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],\n    //         color: \"#ED1A3A\",\n    //         border: {\n    //             width: 0,\n    //         },\n    //     },\n    //     {\n    //         type: \"line\",\n    //         name: i18n.t('repayment'),\n    //         data: [12, 10, 9, 8, 7, 6, 7, 8, 9, 10, 11, 20],\n    //         color: \"#898C8F\",\n    //     },\n    // ],\n    categories_line: [\n      \"Jan\",\n      \"Feb\",\n      \"Mar\",\n      \"Apr\",\n      \"May\",\n      \"Jun\",\n      \"Jul\",\n      \"Aug\",\n      \"Sep\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\",\n    ],\n    chartArea1: {\n      background: \"transparent\",\n      height: 245,\n    },\n    valueAxis_line: [\n      {\n        max: 100,\n        // visible: false,\n        labels: {\n          format: \"{0}\",\n        },\n      },\n    ],\n    tooltip: {\n      visible: true,\n      template: \"#= series.name #: #= kendo.toString(value, `n2`) #\",\n    },\n    saleFormContent: {},\n  }),\n  methods: {\n    numberFormat(value) {\n      // window.console.log(this.saleFormContent.decimal,'nimol')\n      return kendo.toString(value, `n${this.saleFormContent.decimal}`);\n      // return value\n    },\n    tabActive() {\n      this.$emit(\"tabActive\", 2);\n    },\n    async refreshGrid() {\n      this.loadLoanBalance();\n      this.loadRepaymentLoan();\n      /* Set Current Fiscal Date */\n      let currencyFiscalDate = Helper.getFiscalDateByDate(new Date());\n\n      /* Set Fiscal Months */\n      let fiscalMonths = [],\n        sdate = new Date(currencyFiscalDate.start_date),\n        edate = new Date(currencyFiscalDate.end_date);\n      while (sdate <= edate) {\n        let currentMonth = sdate.getMonth() + 1;\n        fiscalMonths.push(\n          kendo.toString(\n            new Date(new Date().getFullYear() + \"-\" + currentMonth + \"-01\"),\n            \"MMM\"\n          )\n        );\n\n        // Next Month\n        sdate.setMonth(currentMonth);\n      }\n\n      /* Set Categories Axis */\n      this.categoryAxis = fiscalMonths;\n\n      /* Load loan balance */\n      let balance = await loanHandler.getBalanceMonthly();\n      let balAR = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n      balance.data.data.forEach((value) => {\n        let m = new Date(value.month).getMonth();\n        balAR[m] = value.amount;\n      });\n\n      /* Load repayment */\n      let re = await loanHandler.getRepaymentMonthly();\n      let reAR = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n      re.data.data.forEach((value) => {\n        let m = new Date(value.month).getMonth();\n        reAR[m] = value.amount;\n      });\n      this.seriesLine = [\n        {\n          name: i18n.t(\"loan_balance\"),\n          data: balAR,\n          color: \"#4d4848\",\n        },\n        {\n          name: i18n.t(\"actual\"),\n          data: reAR,\n          color: \"#c80000\",\n        },\n      ];\n      /* Refresh Chart */\n      let chartA = this.$refs.revenueChart.kendoWidget();\n      chartA.refresh();\n\n      /* get loan type */\n      let loanType = await entityTypeHandler.getByEntityType(EntityType.LOAN);\n      if (loanType.length > 0) {\n        let tAR = [];\n        let ind = 0;\n        loanType.forEach((value) => {\n          let b = balance.data.data.filter((obj) => {\n            return obj.typeId == value.uuid;\n          });\n          let bamt = 0;\n          if (b.length > 0) {\n            b.forEach((v) => {\n              bamt += parseFloat(v.amount);\n            });\n          }\n          let color = [\n            \"#c80000\",\n            \"#f44336\",\n            \"#d85604\",\n            \"#ED1A3A\",\n            \"#cc1e1e\",\n            \"#e88d14\",\n          ];\n          tAR[ind] = { category: value.name, value: bamt, color: color[ind] };\n          ind++;\n        });\n        if (tAR.length > 0) {\n          this.typeLoanSeries = [\n            {\n              type: \"pie\",\n              data: tAR,\n            },\n          ];\n\n          let chartB = this.$refs.tLoan.kendoWidget();\n          chartB.refresh();\n        }\n      }\n      setTimeout(() => {\n        let a = kendo.jQuery(\"#gridCollection\").data(\"kendoGrid\");\n        if (a != undefined) {\n          a.dataSource.read();\n        }\n        // window.console.log(this.seriesLine, 'chart')\n        // this.seriesLine[0].data[0] = 300\n        /* Bind Series */\n      }, 1000);\n    },\n    loadLoanBalance() {\n      loanHandler.summaryLoanBalance().then((res) => {\n        if (res.data) {\n          if (res.data.data.length > 0) {\n            let d = res.data.data[0];\n            this.activeLoan = d.approveLoan;\n            this.avgInterest = (d.interestRate / d.approveLoan).toFixed(2);\n            this.outstandingBalance = d.outstandingBalance;\n          }\n        }\n      });\n    },\n    async loadSaleFormContent() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          saleFormContentHandler.list().then((res) => {\n            if (res.data.statusCode === 200) {\n              const data = res.data.data;\n              if (data.length > 0) {\n                this.saleFormContent = data[0];\n                // window.console.log(data[0])\n              }\n            }\n          });\n        }, 10);\n      });\n    },\n    async loadRepaymentLoan() {\n      this.reportData = [];\n      this.showLoading = true;\n      const startDate = new Date().getFullYear() + \"-01-01\";\n      const endDate = kendo.toString(new Date(), \"yyyy-MM-dd\");\n      let strFilter = \"?start=\" + startDate + \"&end=\" + endDate;\n      loanHandler.loanRepaymentReport(strFilter).then((res) => {\n        if (res.data.data.length > 0) {\n          let d = res.data.data;\n          let loanAr = [];\n          let repaymentCount = 0;\n          $.each(d, function(i, v) {\n            if ($.inArray(v.loanId, loanAr) != -1) {\n              loanAr.push(v.loanId);\n            } else {\n              repaymentCount += 1;\n            }\n          });\n          this.activeLoanPayment = repaymentCount;\n        }\n        this.showLoading = false;\n      });\n    },\n    loadData() {\n      this.loadSaleFormContent();\n      this.refreshGrid();\n    },\n  },\n  mounted() {\n    this.loadSaleFormContent();\n    this.refreshGrid();\n  },\n  watch: {\n    $route: \"refreshGrid\",\n  },\n};\n</script>\n\n<style scoped>\nul {\n  list-style-type: square !important;\n}\n\n.theme--light.v-data-table {\n  background-color: transparent !important;\n}\n\n.v-data-table > .v-data-table__wrapper > table > tbody > tr > td {\n  height: 32px !important;\n  border-bottom: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > tbody\n  > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n  background-color: transparent !important;\n}\n\n.line_18 {\n  line-height: 18px !important;\n}\n\n/* .change_color{\n    filter: invert(33%) sepia(77%) saturate(2344%) hue-rotate(131deg) brightness(104%) contrast(101%);\n} */\n</style>\n"]}]}