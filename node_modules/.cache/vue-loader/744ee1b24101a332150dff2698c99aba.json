{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/payroll/employee/leave/leaveSummary.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/payroll/employee/leave/leaveSummary.vue","mtime":1638499443254},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMb2FkaW5nTWUgZnJvbSAiQC9jb21wb25lbnRzL0xvYWRpbmciOwpjb25zdCBlbXBsb3llZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvZW1wbG95ZWVIYW5kbGVyIik7CmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogKCkgPT4gKHsKICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgIHN0YXJ0X2RhdGU6ICIiLAogICAgZW5kX2RhdGU6ICIiLAogICAgcmVjb3JkTGlzdDogW10sCiAgICB0YWtlOiAxMCwKICAgIHNvcnQ6IFt7IGZpZWxkOiAiZW1wbG95ZWVJZCIsIGRpcjogImFzYyIgfV0sCiAgICBzZWFyY2g6ICIiLAogICAgbGVhdmVTdW1tYXJ5OiBbXSwKICAgIHBhcmFtczoge30sCiAgfSksCiAgcHJvcHM6IHt9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGxvYWRSZWNvcmQoKSB7CiAgICAgIGxldCBnZXRZZWFyID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5wYXJhbXMgPSB7CiAgICAgICAgeWVhcjogZ2V0WWVhci5nZXRGdWxsWWVhcigpLAogICAgICB9OwogICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgZW1wbG95ZWVIYW5kbGVyCiAgICAgICAgICAgIC5nZXRMZWF2ZVN1bW1hcnkodGhpcy5zZWFyY2gsIHRoaXMucGFyYW1zKQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgdGhpcy5sZWF2ZVN1bW1hcnkgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSwgMzAwKTsKICAgICAgfSk7CiAgICB9LAogICAgZ29WaWV3KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBsZXQgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWQiKS5kYXRhKCJrZW5kb0dyaWQiKTsKICAgICAgbGV0IGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbShrZW5kby5qUXVlcnkoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKGRhdGFJdGVtKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6CiAgICAgICAgICAiZW1wbG95bWVudF9oaXN0b3J5IiArIGAvJHtkYXRhSXRlbS5lbXBsb3llZS5pZH1gICsgYC8ke2RhdGFJdGVtLmlkfWAsCiAgICAgICAgcGFyYW1zOiB7IGlkOiBkYXRhSXRlbS5pZCB9LAogICAgICAgIHF1ZXJ5OiB7IHR5cGU6ICJlZGl0IiB9LAogICAgICB9KTsKICAgIH0sCiAgICBvblNlYXJjaCgpIHsKICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMubG9hZFJlY29yZCgpOwogICAgfSwKICB9LAogIGFzeW5jIG1vdW50ZWQoKSB7CiAgICBhd2FpdCB0aGlzLmxvYWRSZWNvcmQoKTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nTWU6IExvYWRpbmdNZSwKICB9LAp9Owo="},{"version":3,"sources":["leaveSummary.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"leaveSummary.vue","sourceRoot":"src/views/payroll/employee/leave","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"grayBg pl-6\">\n      <v-card color=\"white\" class=\"pa-3 no_border\" elevation=\"0\">\n      <v-row class=\"\">\n        <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n          <v-text-field\n            class=\"mt-1\"\n            clearable\n            :placeholder=\"$t('search_directory')\"\n            outlined\n            v-model=\"search\"\n          />\n        </v-col>\n        <v-col sm=\"2\" cols=\"12\" class=\"py-1\">\n          <v-btn\n            color=\"primary\"\n            class=\"white--text capitalize marginTopPhone\"\n            @click=\"onSearch\"\n          >\n            {{ $t(\"search\") }}\n          </v-btn>\n        </v-col>\n        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n          <LoadingMe\n            :isLoading=\"showLoading\"\n            :fullPage=\"false\"\n            :myLoading=\"true\"\n            type=\"loading\"\n          />\n          <kendo-datasource\n            ref=\"dataSource\"\n            :data=\"leaveSummary\"\n            :page-size=\"100\"\n            :sort=\"sort\"\n          />\n          <kendo-grid\n            id=\"grid\"\n            class=\"grid-function\"\n            :data-source-ref=\"'dataSource'\"\n            :scrollable-virtual=\"true\"\n            :column-menu=\"true\"\n            :pageable=\"true\"\n          >\n            <kendo-grid-column\n              :field=\"'employeeId'\"\n              :title=\"$t('employee_id')\"\n              :width=\"120\"\n              :template=\"'<span>#= employee.employeeId#</span>'\"\n              :headerAttributes=\"{\n                style: 'background-color: #EDF1F5',\n              }\"\n              :group-footer-template=\"'Count: #=count#'\"\n            />\n            <kendo-grid-column\n              :field=\"'employee'\"\n              :title=\"$t('employee')\"\n              :width=\"150\"\n              :template=\"\n                '<span>#= employee.firstName# - #= employee.lastName#</span>'\n              \"\n              :headerAttributes=\"{\n                style: 'background-color: #EDF1F5',\n              }\"\n            />\n            <kendo-grid-column\n              :field=\"'unpaid_leave_amount'\"\n              :title=\"$t('unpaid')\"\n              :width=\"100\"\n              :template=\"\n                '<span>#= unpaid_leave_amount ? unpaid_leave_amount: 0#</span>'\n              \"\n              :headerAttributes=\"{\n                style: 'background-color: #EDF1F5',\n              }\"\n            />\n            <kendo-grid-column\n              :field=\"'annual_leave_amount'\"\n              :title=\"$t('annual')\"\n              :width=\"100\"\n              :template=\"\n                '<span>#= annual_leave_amount ? annual_leave_amount: 0#</span>'\n              \"\n              :headerAttributes=\"{\n                style: 'background-color: #EDF1F5',\n              }\"\n            />\n            <kendo-grid-column\n              :field=\"'maternity_leave_amount'\"\n              :title=\"$t('maternity')\"\n              :width=\"100\"\n              :hidden=\"true\"\n              :template=\"\n                '<span>#= maternity_leave_amount ? maternity_leave_amount: 0#</span>'\n              \"\n              :headerAttributes=\"{\n                style: 'background-color: #EDF1F5',\n              }\"\n            />\n            <kendo-grid-column\n              :field=\"'paternity_leave_amount'\"\n              :title=\"$t('paternity')\"\n              :width=\"100\"\n              :hidden=\"true\"\n              :template=\"\n                '<span>#= paternity_leave_amount ? paternity_leave_amount: 0#</span>'\n              \"\n              :headerAttributes=\"{\n                style: 'background-color: #EDF1F5',\n              }\"\n            />\n            <kendo-grid-column\n              :field=\"'study_leave_amount'\"\n              :title=\"$t('study')\"\n              :width=\"100\"\n              :hidden=\"true\"\n              :template=\"\n                '<span>#= study_leave_amount ? study_leave_amount: 0#</span>'\n              \"\n              :headerAttributes=\"{\n                style: 'background-color: #EDF1F5',\n              }\"\n            />\n            <kendo-grid-column\n              :field=\"'conpensat_leave_amount'\"\n              :title=\"$t('conpensat')\"\n              :width=\"100\"\n              :hidden=\"true\"\n              :template=\"\n                '<span>#= conpensat_leave_amount ? conpensat_leave_amount: 0#</span>'\n              \"\n              :headerAttributes=\"{\n                style: 'background-color: #EDF1F5',\n              }\"\n            />\n            <kendo-grid-column\n              :field=\"'sick_leave_amount'\"\n              :title=\"$t('sick')\"\n              :width=\"100\"\n              :template=\"\n                '<span>#= sick_leave_amount ? sick_leave_amount: 0#</span>'\n              \"\n              :headerAttributes=\"{\n                style: 'background-color: #EDF1F5',\n              }\"\n            />\n            <kendo-grid-column\n              :field=\"'totalHours'\"\n              :title=\"$t('hours')\"\n              :width=\"100\"\n              :template=\"'<span>#= totalHours ? totalHours: 0#</span>'\"\n              :headerAttributes=\"{\n                style: 'background-color: #EDF1F5',\n              }\"\n            />\n            <kendo-grid-column\n              :field=\"'totalLeave'\"\n              :title=\"$t('total')\"\n              :width=\"100\"\n              :template=\"'<span>#= totalLeave ? totalLeave: 0#</span>'\"\n              :headerAttributes=\"{\n                style: 'background-color: #EDF1F5',\n              }\"\n            />\n          </kendo-grid>\n        </v-col>\n      </v-row>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n<script>\nimport LoadingMe from \"@/components/Loading\";\nconst employeeHandler = require(\"@/scripts/employeeHandler\");\nimport kendo from \"@progress/kendo-ui\";\nexport default {\n  data: () => ({\n    showLoading: false,\n    start_date: \"\",\n    end_date: \"\",\n    recordList: [],\n    take: 10,\n    sort: [{ field: \"employeeId\", dir: \"asc\" }],\n    search: \"\",\n    leaveSummary: [],\n    params: {},\n  }),\n  props: {},\n  methods: {\n    async loadRecord() {\n      let getYear = new Date();\n      this.params = {\n        year: getYear.getFullYear(),\n      };\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          this.showLoading = true;\n          employeeHandler\n            .getLeaveSummary(this.search, this.params)\n            .then((res) => {\n              this.showLoading = true;\n              if (res.data.statusCode === 200) {\n                this.leaveSummary = res.data.data;\n                this.showLoading = false;\n              }\n            });\n        }, 300);\n      });\n    },\n    goView(e) {\n      e.preventDefault();\n      let grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\");\n      let dataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n      window.console.log(dataItem);\n      this.$router.push({\n        path:\n          \"employment_history\" + `/${dataItem.employee.id}` + `/${dataItem.id}`,\n        params: { id: dataItem.id },\n        query: { type: \"edit\" },\n      });\n    },\n    onSearch() {\n      this.showLoading = true;\n      this.loadRecord();\n    },\n  },\n  async mounted() {\n    await this.loadRecord();\n  },\n  computed: {},\n  components: {\n    LoadingMe: LoadingMe,\n  },\n};\n</script>\n<style scoped>\n.acc_group header {\n  height: 10px !important;\n}\n\ntable.acc_group tr td {\n  border-bottom: 1px solid #ccc;\n  padding: 8px;\n  vertical-align: middle;\n}\n\ntable.acc_group tr td:first-child {\n  font-weight: 700;\n}\n\ntable.acc_group tr td:last-child {\n  text-align: center;\n}\n\n.v-card__actions .v-btn.v-btn {\n  padding: 0 16px;\n}\n\n.exchange-table.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > thead\n  > tr\n  > th {\n  font-family: \"Niradei-Bold\", serif;\n  color: #000 !important;\n  border-top: 1px solid #000 !important;\n  border-bottom: 1px solid #000 !important;\n  font-size: 15px !important;\n}\n\n.exchange-table.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > thead\n  > tr\n  > td {\n  color: #000 !important;\n  padding: 5px !important;\n}\n\n.exchange-table.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > tbody\n  > tr:last-child\n  td {\n  border-bottom: 1px solid #000 !important;\n}\n\n.function_footer {\n  padding: 15px;\n  display: inline-block;\n}\n\np {\n  color: rgba(0, 0, 0, 0.87);\n}\n\n.actionBtn {\n  height: 47.2px !important;\n}\n\n.text_tip {\n  font-size: 9px;\n  line-height: 10px;\n}\n\n@media (max-width: 576px) {\n  .marginTopPhone {\n    margin-top: -10px;\n  }\n}\n</style>\n"]}]}