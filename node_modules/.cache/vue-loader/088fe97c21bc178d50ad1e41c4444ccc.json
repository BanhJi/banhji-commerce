{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/payroll/payment/bank_payment/Confirm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/payroll/payment/bank_payment/Confirm.vue","mtime":1641438291872},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMb2FkaW5nTWUgZnJvbSAnQC9jb21wb25lbnRzL0xvYWRpbmcnCmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiCmltcG9ydCBIZWxwZXIgZnJvbSAiQC9oZWxwZXIuanMiOwppbXBvcnQge0pvdXJuYWxNb2RlbCwKICAgIEpvdXJuYWxFbnRyeU1vZGVsLAogICAgQWNjb3VudE1vZGVsLAoJQ3VycmVuY3lNb2RlbCx9IGZyb20gIkAvc2NyaXB0cy9tb2RlbC9BcHBNb2RlbHMiOwpjb25zdCB7IEVudGl0eVR5cGUsIH0gPSByZXF1aXJlKCJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9Db2xsZWN0aW9ucyIpOwpjb25zdCBwYXlyb2xsSGFuZGxlciAgICA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wYXlyb2xsSGFuZGxlciIpCmNvbnN0IHNldHRpbmdzSGFuZGxlciAgID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NldHRpbmdzSGFuZGxlciIpCmNvbnN0IGNvb2tpZUpTID0gcmVxdWlyZSgiQC9jb29raWUuanMiKTsKY29uc3QgY29va2llID0gY29va2llSlMuZ2V0Q29va2llKCk7CmV4cG9ydCBkZWZhdWx0KHsKICAgIHByb3BzOlsnYmF0Y2gnXSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc2hvd0xvYWRpbmc6ICAgIHRydWUsCiAgICAgICAgICAgIGJhdGNoUGF5bWVudDogICBbXSwKICAgICAgICAgICAgYmFuazogICAgICAgICAgIHt9ICwKICAgICAgICAgICAgYmFua0FjY291bnQ6ICAgIHt9LAogICAgICAgICAgICBiYW5rQWNjb3VudE51bWJlcjoge30sCiAgICAgICAgICAgIHN1ZmZpeDogICAgICAgICAnJywKICAgICAgICAgICAgYmF0Y2hzOiAgICAgICAgIFtdLAogICAgICAgICAgICByZXN1bHRKb3VybmFsczogW10sCiAgICAgICAgICAgIGxvZ2dlZFVzZXI6IHsKICAgICAgICAgICAgICAgIGlkOiBjb29raWUuY3JlYXRvciwKICAgICAgICAgICAgICAgIG5hbWU6IGNvb2tpZS5lbWFpbAogICAgICAgICAgICB9LAogICAgICAgICAgICBwcmVmaXhfZm9ybWF0OiAnJwogICAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgJ0xvYWRpbmdNZSc6IExvYWRpbmdNZSwKICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICBmb3JtYXQodmFsKXsKICAgICAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKHZhbCwnYzInKQogICAgICAgIH0sCiAgICAgICAgcmV0dXJuRGF0YShkYXRhKXsKICAgICAgICAgICAgdGhpcy4kZW1pdCgncmV0dXJuRGF0YScsIGRhdGEpCiAgICAgICAgfSwKICAgICAgICBsb2FkU3VjY2VzcyhkYXRhKXsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnaGVhZGxpbmUnLGRhdGEpCiAgICAgICAgfSwKICAgICAgICBsb2FkQmF0Y2hTaW5nbGUoKXsKICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpCiAgICAgICAgICAgICAgICAgICAgcGF5cm9sbEhhbmRsZXIuZ2V0QmF0Y2hTaW5nbGUodGhpcy4kcm91dGUucGFyYW1zLmlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVzLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hQYXltZW50ID0gcmVzdWx0WzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbmsgPSB0aGlzLmJhdGNoUGF5bWVudC5iYW5rCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbmtBY2NvdW50ID0gdGhpcy5iYXRjaFBheW1lbnQuYmFua0FjY291bnQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuYmFua0FjY291bnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFua0FjY291bnROdW1iZXIgID0gdGhpcy5iYW5rQWNjb3VudC5hY2NvdW50CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRCYXRjaEl0ZW0odGhpcy5iYXRjaFBheW1lbnQpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMzAwKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgbG9hZEJhdGNoSXRlbShyZXN1bHQpewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJykKICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIHBheXJvbGxIYW5kbGVyLmdldEJhdGNoSXRlbShyZXN1bHQuaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSByZXMuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXRjaHMgID0gcmVzdWx0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlTnVtYmVyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZEpvdXJuYWwoKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0sIDMwMCkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGNhbGN1bGF0ZUpvdXJuYWwoKXsKICAgICAgICAgICAgbGV0IGJhdGNocyAgICAgICAgICA9IHRoaXMuYmF0Y2hzCiAgICAgICAgICAgIGxldCBzZWdtZW50QVIgPSBbXQogICAgICAgICAgICBiYXRjaHMuZm9yRWFjaChvPT57CiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cobywnbycpCiAgICAgICAgICAgICAgICBjb25zdCBzZWdtZW50ICAgICAgICAgICA9IG8uc2VnbWVudAogICAgICAgICAgICAgICAgLy8gY29uc3QgYmVuZWZpdEFjY291bnQgICAgPSBvLmJlbmVmaXRBY2NvdW50CiAgICAgICAgICAgICAgICBzZWdtZW50LmZvckVhY2gobj0+IHsKICAgICAgICAgICAgICAgICAgICBuWydjdXJyZW5jeSddICAgICAgICAgICAgICAgPSBvLmN1cnJlbmN5LAogICAgICAgICAgICAgICAgICAgIG5bJ25ldFBheSddICAgICAgICAgICAgICAgICA9IG8ubmV0UGF5LAogICAgICAgICAgICAgICAgICAgIG5bJ2Ftb3VudFBheSddICAgICAgICAgICAgICA9IG8uYW1vdW50UGF5LAogICAgICAgICAgICAgICAgICAgIG5bJ3RheEJlbmVmaXQnXSAgICAgICAgICAgICA9IG8udGF4QmVuZWZpdCwKICAgICAgICAgICAgICAgICAgICBuWyd0YXhTYWxhcnlVUyddICAgICAgICAgICAgPSBvLnRheFNhbGFyeVVTLAogICAgICAgICAgICAgICAgICAgIG5bJ3RvdGFsQmVuZWZpdCddICAgICAgICAgICA9IG8udG90YWxCZW5lZml0LAogICAgICAgICAgICAgICAgICAgIG5bJ3BheXJvbGxMaWFiaWxpdGllJ10gICAgICA9IG8ucGF5cm9sbExpYWJpbGl0aWUsCiAgICAgICAgICAgICAgICAgICAgblsnYmVuZWZpdEFjY291bnQnXSAgICAgICAgID0gby5iZW5lZml0QWNjb3VudAogICAgICAgICAgICAgICAgICAgIHNlZ21lbnRBUi5wdXNoKG4pCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGxldCBoZWxwZXIgPSB7fQogICAgICAgICAgICBsZXQgcmVzdWx0U2VnbWVudCAgID0gc2VnbWVudEFSLnJlZHVjZShmdW5jdGlvbihyLCBvKXsKICAgICAgICAgICAgICAgIGxldCBrZXkgPSBvLmNvbXBvbmVudC5pZCArICctJyArIG8uY29tcG9uZW50Lm5hbWU7CiAgICAgICAgICAgICAgICBpZighaGVscGVyW2tleV0pIHsKICAgICAgICAgICAgICAgICAgICBoZWxwZXJba2V5XSA9IE9iamVjdC5hc3NpZ24oe30sIG8pOyAvLyBjcmVhdGUgYSBjb3B5IG9mIG8KICAgICAgICAgICAgICAgICAgICByLnB1c2goaGVscGVyW2tleV0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBoZWxwZXJba2V5XS5wZXJjZW50YWdlICAgICAgICAgICs9IHBhcnNlRmxvYXQoby5wZXJjZW50YWdlKTsKICAgICAgICAgICAgICAgICAgICBoZWxwZXJba2V5XS5zYWxhcnkgICAgICAgICAgICAgICs9IHBhcnNlRmxvYXQoby5zYWxhcnkpOwogICAgICAgICAgICAgICAgICAgIGhlbHBlcltrZXldLm5ldFBheSAgICAgICAgICAgICAgKz0gcGFyc2VGbG9hdChvLm5ldFBheSk7CiAgICAgICAgICAgICAgICAgICAgaGVscGVyW2tleV0uYW1vdW50UGF5ICAgICAgICAgICArPSBwYXJzZUZsb2F0KG8uYW1vdW50UGF5KTsKICAgICAgICAgICAgICAgICAgICBoZWxwZXJba2V5XS50YXhCZW5lZml0ICAgICAgICAgICs9IHBhcnNlRmxvYXQoby50YXhCZW5lZml0KTsKICAgICAgICAgICAgICAgICAgICBoZWxwZXJba2V5XS50YXhTYWxhcnkgICAgICAgICAgICs9IHBhcnNlRmxvYXQoby50YXhTYWxhcnkpOwogICAgICAgICAgICAgICAgICAgIGhlbHBlcltrZXldLnRvdGFsQmVuZWZpdCAgICAgICAgKz0gcGFyc2VGbG9hdChvLnRvdGFsQmVuZWZpdCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gcjsKICAgICAgICAgICAgfSxbXSk7CiAgICAgICAgICAgIGxldCBqb3VybmFscyAgICAgICAgPVtdOwogICAgICAgICAgICBsZXQgYmFua0FjY291bnQgICAgID0gdGhpcy5iYW5rQWNjb3VudAogICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coJ3RoaXMuYmFua0FjY291bnQnLHRoaXMuYmFua0FjY291bnQpCiAgICAgICAgICAgIHJlc3VsdFNlZ21lbnQuZm9yRWFjaChmdW5jdGlvbihwKXsKICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyhwLCdwYXlyb2xsTGlhYmlsaXRpZScpCiAgICAgICAgICAgICAgICBqb3VybmFscy5wdXNoKAogICAgICAgICAgICAgICAgICAgIG5ldyBKb3VybmFsRW50cnlNb2RlbCh7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAgICAgICAgICBwLnBheXJvbGxMaWFiaWxpdGllLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnQ6ICAgICAgICAgICAgICBuZXcgQWNjb3VudE1vZGVsKHAucGF5cm9sbExpYWJpbGl0aWUpLAogICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZV9yYXRlOiAgICAgICAgMSwKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICAgICAgICAgICAgIG5ldyBDdXJyZW5jeU1vZGVsKHAuY3VycmVuY3kpLAogICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICAgICAgICAgICAgICAgcC5hbW91bnRQYXksIC8vIERyCiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzXzFfdXVpZDogICAgICAgICBwLmNvbXBvbmVudC5pZAogICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgIG5ldyBKb3VybmFsRW50cnlNb2RlbCh7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAgICAgICAgICBiYW5rQWNjb3VudC5iYW5rTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogICAgICAgICAgICAgIG5ldyBBY2NvdW50TW9kZWwoYmFua0FjY291bnQuYWNjb3VudC5jaGFydEFjb3VudCksCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlX3JhdGU6ICAgICAgICAxLAogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogICAgICAgICAgICAgbmV3IEN1cnJlbmN5TW9kZWwocC5jdXJyZW5jeSksCiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogICAgICAgICAgICAgICBwLmFtb3VudFBheSAqIC0xLCAvLyBDcgogICAgICAgICAgICAgICAgICAgICAgICBjbGFzc18xX3V1aWQ6ICAgICAgICAgcC5jb21wb25lbnQuaWQKICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgdGhpcy5wYXlyb2xsQWNjb3VudCA9IHJlc3VsdFNlZ21lbnQKICAgICAgICAgICAgdGhpcy5qb3VybmFsTGluZSA9IGpvdXJuYWxzCiAgICAgICAgICAgIGlmKHRoaXMucGF5cm9sbEFjY291bnQgJiYgdGhpcy5qb3VybmFsTGluZSl7CiAgICAgICAgICAgICAgICB0aGlzLmpvdXJuYWwoKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBqb3VybmFsKCl7CiAgICAgICAgICAgIGxldCBwYXlyb2xsQWNjID0gIHRoaXMucGF5cm9sbEFjY291bnQKICAgICAgICAgICAgbGV0IGpvdXJuYWxzID0gdGhpcy5qb3VybmFsTGluZQogICAgICAgICAgICBsZXQgYmF0Y2hQYXltZW50ID0gdGhpcy5iYXRjaFBheW1lbnQKICAgICAgICAgICAgbGV0IGpvdXJuYWxfID0gW10KICAgICAgICAgICAgbGV0IHByZWZpeF9mb3JtYXQgPSB0aGlzLnByZWZpeF9mb3JtYXQKICAgICAgICAgICAgcGF5cm9sbEFjYy5mb3JFYWNoKGZ1bmN0aW9uKHBhKXsKICAgICAgICAgICAgICAgIGxldCBsaW5lID0gam91cm5hbHMuZmlsdGVyKHIgPT4gci5jbGFzc18xX3V1aWQgPT09IHBhLmNvbXBvbmVudC5pZCApIAogICAgICAgICAgICAgICAgam91cm5hbF8ucHVzaChuZXcgSm91cm5hbE1vZGVsKHsKICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogICAgICAgICAgICAgICAgICBwYS5wYXlyb2xsTGlhYmlsaXRpZS5uYW1lIHx8ICdQYXlyb2xsICYgRW1wbG95ZWUgQmVuZWZpdCBMaWFiaWxpdGllcycsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiAgICAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXltZW50LnJlZmVyZW5jZU51bWJlciwKICAgICAgICAgICAgICAgICAgICBqb3VybmFsX2RhdGU6ICAgICAgICAgICAgICAgICBIZWxwZXIudG9JU09EYXRlKG5ldyBEYXRlKCkpLAogICAgICAgICAgICAgICAgICAgIG1vbnRoX29mOiAgICAgICAgICAgICAgICAgICAgIEhlbHBlci50b0lTT0RhdGUobmV3IERhdGUoYmF0Y2hQYXltZW50Lm1vbnRoT2YpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDcpKSwvLycyMDIxLTAyLTAxJywgICAKICAgICAgICAgICAgICAgICAgICBqb3VybmFsX3R5cGU6ICAgICAgICAgICAgICAgICBFbnRpdHlUeXBlLkFVVE9fSk9VUk5BTCwKICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbl90eXBlOiAgICAgICAgICAgICAnUGF5cm9sbCBQYXltZW50JywKICAgICAgICAgICAgICAgICAgICByZWZlcnJhbF90cmFuc2FjdGlvbl91dWlkOiAgICBiYXRjaFBheW1lbnQuaWQsCiAgICAgICAgICAgICAgICAgICAgam91cm5hbF9lbnRyaWVzOiAgICAgICAgICAgICAgbGluZSwKICAgICAgICAgICAgICAgICAgICBzZWdtZW50X3V1aWQ6ICAgICAgICAgICAgICAgICBwYS5jb21wb25lbnQuaWQgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgcHJlZml4X2Zvcm1hdDogICAgICAgICAgICAgICAgcHJlZml4X2Zvcm1hdCB8fCAnJywKICAgICAgICAgICAgICAgICAgICBiYXNlX2N1cnJlbmN5OiAgICAgICAgICAgICAgICBwYS5jdXJyZW5jeQogICAgICAgICAgICAgICAgfSkpCiAgICAgICAgICAgIH0pCgogICAgICAgICAgICBsZXQgcmVzdWx0X2pvdXJuYWwgPSBbXQogICAgICAgICAgICBpZih0aGlzLnJlc3VsdEpvdXJuYWxzLmxlbmd0aCA+IDApewogICAgICAgICAgICAgICAgbGV0IGpOYWwgPSB0aGlzLnJlc3VsdEpvdXJuYWxzCiAgICAgICAgICAgICAgICBqb3VybmFsXy5mb3JFYWNoKHJlcyA9PnsKICAgICAgICAgICAgICAgICAgICBsZXQgam91cm5hbEFSID0gIGpOYWwuZmlsdGVyKG4gPT4gbi5zZWdtZW50X3V1aWQgPSByZXMuc2VnbWVudF91dWlkKQogICAgICAgICAgICAgICAgICAgIGxldCBqb3VybmFsVXVpZCA9IGpvdXJuYWxBUlswXS51dWlkCiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKDQsam91cm5hbFV1aWQpCiAgICAgICAgICAgICAgICAgICAgbGV0IGNyZWF0ZWRfZGF0ZSA9IGpvdXJuYWxBUlswXS5jcmVhdGVkX2RhdGUKICAgICAgICAgICAgICAgICAgICByZXN1bHRfam91cm5hbC5wdXNoKG5ldyBKb3VybmFsTW9kZWwoIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogICAgICAgICAgICAgICAgICAgICAgICAgam91cm5hbFV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogICAgICAgICAgICAgICAgICAgICAgIHJlcy5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRfZGF0ZTogICAgICAgICAgICAgICAgIGNyZWF0ZWRfZGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgam91cm5hbF9kYXRlOiAgICAgICAgICAgICAgICAgcmVzLmpvdXJuYWxfZGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhfb2Y6ICAgICAgICAgICAgICAgICAgICAgcmVzLm1vbnRoX29mLAogICAgICAgICAgICAgICAgICAgICAgICBqb3VybmFsX3R5cGU6ICAgICAgICAgICAgICAgICByZXMuam91cm5hbF90eXBlLAogICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbl90eXBlOiAgICAgICAgICAgICByZXMudHJhbnNhY3Rpb25fdHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudF91dWlkOiAgICAgICAgICAgICAgICAgcmVzLnNlZ21lbnRfdXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgam91cm5hbF9lbnRyaWVzOiAgICAgICAgICAgICAgcmVzLmpvdXJuYWxfZW50cmllcywKICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4X2Zvcm1hdDogICAgICAgICAgICAgICAgcmVzLnByZWZpeF9mb3JtYXQsCiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VfY3VycmVuY3k6ICAgICAgICAgICAgICAgIHJlcy5iYXNlX2N1cnJlbmN5LAogICAgICAgICAgICAgICAgICAgIH0pKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIHRoaXMuam91cm5hbF9kYXRhID0gcmVzdWx0X2pvdXJuYWwKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyg1LHRoaXMuam91cm5hbF9kYXRhKQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuam91cm5hbF9kYXRhID0gam91cm5hbF8KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2F2ZVNwZXRzKCl7CiAgICAgICAgICAgIGlmKHRoaXMuam91cm5hbF9kYXRhLmxlbmd0aCA+IDApewogICAgICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoT2Y6ICAgICAgICAgICAgdGhpcy5iYXRjaFBheW1lbnQubW9udGhPZiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6ICAgICAgICAgICAgdGhpcy5iYXRjaFBheW1lbnQuY3JlYXRlZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbms6ICAgICAgICAgICAgICAgdGhpcy5iYXRjaFBheW1lbnQuYmFuaywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtBY2NvdW50OiAgICAgICAgdGhpcy5iYXRjaFBheW1lbnQuYmFua0FjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWxhbmNlSW5CYW5oSmk6ICAgIHRoaXMuYmF0Y2hQYXltZW50LmJhbGFuY2VJbkJhbmhKaSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhdGNoSXRlbTogICAgICAgICAgdGhpcy5iYXRjaHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hQYXltZW50LmRhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXRjaEFtb3VudDogICAgICAgIHRoaXMuYmF0Y2hQYXltZW50LmJhdGNoQW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxCYXRjaDogICAgICAgICB0aGlzLmJhdGNoUGF5bWVudC50b3RhbEJhdGNoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50SW5Xb3JkOiAgICAgICB0aGlzLmJhdGNoUGF5bWVudC5hbW91bnRJbldvcmQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VQYXlyb2xsOiAgIHRoaXMuYmF0Y2hQYXltZW50LnJlZmVyZW5jZVBheXJvbGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtOiAgICAgICAgICAgICdkb25lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1ZmZpeDogICAgICAgICAgICAgdGhpcy5zdWZmaXgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlOdW1iZXI6ICAgICAgICAgIHRoaXMucGF5TnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJicjogICAgICAgICAgICAgICB0aGlzLnBheU51bWJlci5hYmJyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE51bWJlcjogICAgICAgICB0aGlzLmxhc3ROdW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwOiAgICAgICAgICAgICAgIDMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICAgICAgICAgICAgIDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdfam91cm5hbDogICAgICAgIHRoaXMuam91cm5hbF9kYXRhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VkVXNlcjogICAgICAgICB0aGlzLmxvZ2dlZFVzZXIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICBwYXlyb2xsSGFuZGxlci5jcmVhdGVCYXRjaFBheW1lbnQoZGF0YSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5LnN1Y2Nlc3MoJ1N1Y2Nlc3MnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFN1Y2Nlc3MocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuZXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZSkKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5LmVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZycpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNsb3NlKCl7CiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LmdvKC0yKQogICAgICAgIH0sCiAgICAgICAgemVyb1BhZChudW0sIHBsYWNlcykgewogICAgICAgICAgICByZXR1cm4gU3RyaW5nKG51bSkucGFkU3RhcnQocGxhY2VzLCAnMCcpCiAgICAgICAgfSwKICAgICAgICBsb2FkUHJlZml4ZXMoKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc0hhbmRsZXIuZ2V0UHJlZml4ZXMoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWZpeExpc3QgPSByZXN1bHQuZmlsdGVyKHAgPT4gcC50eXBlID09J3BheXJvbGxfcGF5bWVudCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWZpeCA9IHRoaXMucHJlZml4TGlzdFswXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXlOdW1iZXIgPSB0aGlzLnByZWZpeAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdE51bWJlciA9IHRoaXMuemVyb1BhZChwYXJzZUludCgwKSwgdGhpcy5wcmVmaXguZm9ybWF0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVmaXhfZm9ybWF0ID0gKHRoaXMucHJlZml4LmFiYnIgKyB0aGlzLnByZWZpeC5udW1iZXJTZXBhcmF0b3IgKyB0aGlzLnByZWZpeC5zdHJ1Y3R1cmUgKyB0aGlzLnByZWZpeC5udW1iZXJTZXBhcmF0b3IgKyBsYXN0TnVtYmVyICsgJ0AnICsgdGhpcy5wcmVmaXguc2VxdWNlbmNpbmcpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMzAwKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgZ2VuZXJhdGVOdW1iZXIoKSB7CiAgICAgICAgICAgIGxldCBzZXF1Y2VuY2luZyA9ICcnCiAgICAgICAgICAgIGlmKHRoaXMucGF5TnVtYmVyLnNlcXVjZW5jaW5nID09IlllYXIiKXsKICAgICAgICAgICAgICAgIHNlcXVjZW5jaW5nID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCA0KQogICAgICAgICAgICB9ZWxzZSBpZih0aGlzLnBheU51bWJlci5zZXF1Y2VuY2luZyA9PSJNb250aCIpewogICAgICAgICAgICAgICAgc2VxdWNlbmNpbmcgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDcpCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgc2VxdWNlbmNpbmcgPSAnJwogICAgICAgICAgICB9CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgYWJicjogICAgICAgICAgIHRoaXMucGF5TnVtYmVyLmFiYnIsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdHVyZTogICAgICB0aGlzLnBheU51bWJlci5zdHJ1Y3R1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6ICAgICAgICAgICBuZXcgRGF0ZSgpLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAgICAgICAgICAgJ3BheXJvbGxfcGF5bWVudCcsCiAgICAgICAgICAgICAgICAgICAgICAgIHBrSWQ6ICAgICAgICAgICAncHBtLScsCiAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVjZW5jaW5nOiAgICBzZXF1Y2VuY2luZwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBwYXlyb2xsSGFuZGxlci5nZXRQcmVmaXhOdW1iZXIoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlcy5kYXRhLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3ROdW1iZXIgPSB0aGlzLnplcm9QYWQocGFyc2VJbnQocmVzdWx0Lmxhc3ROdW1iZXIpLCB0aGlzLnBheU51bWJlci5mb3JtYXQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1ZmZpeCA9IHJlc3VsdC5zdWZmaXgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdE51bWJlciA9IGxhc3ROdW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgZ29CYWNrKCl7CiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LmdvKC0xKQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZEpvdXJuYWwoKXsKICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIHBheXJvbGxIYW5kbGVyLmdldFBheXJvbGxKb3VybmFsKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRKb3VybmFscyA9IHJlcy5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVKb3VybmFsKCkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMzAwKQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0sCiAgICBhc3luYyBtb3VudGVkKCl7CiAgICAgICAgYXdhaXQgdGhpcy5sb2FkQmF0Y2hTaW5nbGUoKQogICAgICAgIGF3YWl0IHRoaXMubG9hZFByZWZpeGVzKCkKICAgICAgICBhd2FpdCB0aGlzLmxvYWRKb3VybmFsKCkKICAgIH0sCiAgICB3YXRjaDp7CiAgICAgICAgYmF0Y2goKXsKICAgICAgICAgICBpZih0aGlzLmJhdGNoICE9PSB1bmRlZmluZWQpewogICAgICAgICAgICAgICAgdGhpcy5sb2FkQmF0Y2hTaW5nbGUoKQogICAgICAgICAgICAgICAgdGhpcy5sb2FkSm91cm5hbCgpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0pCg=="},{"version":3,"sources":["Confirm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Confirm.vue","sourceRoot":"src/views/payroll/payment/bank_payment","sourcesContent":["<template>\n    <v-row>\n        <v-col sm=\"12\">\n            <p class=\"font_16\">{{$t('please_make_another_review')}}</p>\n             <v-simple-table>\n                <template v-slot:default>\n                    <tbody>\n                    <tr>\n                        <td class=\"text-bold text-uppercase\">{{$t('financial_institutions')}}</td>\n                        <td>:</td>\n                        <td>{{ bank.bankName ? bank.bankName: ''}}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"text-bold text-uppercase\">{{$t('account_number')}}</td>\n                        <td>:</td>\n                        <td>{{ bankAccountNumber.account || ''}}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"text-bold text-uppercase\">{{$t('number_of_employees')}}</td>\n                        <td>:</td>\n                        <td>{{batchPayment.totalBatch}}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"green text-uppercase white--text text-bold\">{{$t('total_amount')}}</td>\n                        <td class=\"green\">:</td>\n                        <td class=\"green white--text text-right text-bold\">{{format(batchPayment.batchAmount)}}</td>\n                    </tr>\n                    </tbody>\n                </template>\n            </v-simple-table>\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"false\"\n                type=\"loading\"\n                :myLoading=\"true\"/>\n        </v-col>\n    </v-row>\n</template>\n<script>\nimport LoadingMe from '@/components/Loading'\nimport kendo from \"@progress/kendo-ui\"\nimport Helper from \"@/helper.js\";\nimport {JournalModel,\n    JournalEntryModel,\n    AccountModel,\n\tCurrencyModel,} from \"@/scripts/model/AppModels\";\nconst { EntityType, } = require(\"@/scripts/default_setup/Collections\");\nconst payrollHandler    = require(\"@/scripts/payrollHandler\")\nconst settingsHandler   = require(\"@/scripts/settingsHandler\")\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\nexport default({\n    props:['batch'],\n    data() {\n        return {\n            showLoading:    true,\n            batchPayment:   [],\n            bank:           {} ,\n            bankAccount:    {},\n            bankAccountNumber: {},\n            suffix:         '',\n            batchs:         [],\n            resultJournals: [],\n            loggedUser: {\n                id: cookie.creator,\n                name: cookie.email\n            },\n            prefix_format: ''\n        }\n    },\n    components: {\n        'LoadingMe': LoadingMe,\n    },\n    methods:{\n        format(val){\n            return kendo.toString(val,'c2')\n        },\n        returnData(data){\n            this.$emit('returnData', data)\n        },\n        loadSuccess(data){\n            this.$emit('headline',data)\n        },\n        loadBatchSingle(){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    payrollHandler.getBatchSingle(this.$route.params.id).then(res => {\n                        if (res.statusCode === 200) {\n                            let result = res.data\n                            this.batchPayment = result[0]\n                            this.bank = this.batchPayment.bank\n                            this.bankAccount = this.batchPayment.bankAccount\n                            if(this.bankAccount){\n                                this.bankAccountNumber  = this.bankAccount.account\n                            }\n                            this.loadBatchItem(this.batchPayment)\n                        }\n                    })\n                }, 300)\n            })\n        },\n        loadBatchItem(result){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.showLoading = true\n                    payrollHandler.getBatchItem(result.id).then(res => {\n                        this.showLoading = true\n                        if (res.statusCode === 200) {\n                            let result = res.data\n                            this.batchs  = result\n                            this.generateNumber()\n                            this.loadJournal()\n                        }\n                    })\n                }, 300)\n            })\n        },\n        calculateJournal(){\n            let batchs          = this.batchs\n            let segmentAR = []\n            batchs.forEach(o=>{\n                window.console.log(o,'o')\n                const segment           = o.segment\n                // const benefitAccount    = o.benefitAccount\n                segment.forEach(n=> {\n                    n['currency']               = o.currency,\n                    n['netPay']                 = o.netPay,\n                    n['amountPay']              = o.amountPay,\n                    n['taxBenefit']             = o.taxBenefit,\n                    n['taxSalaryUS']            = o.taxSalaryUS,\n                    n['totalBenefit']           = o.totalBenefit,\n                    n['payrollLiabilitie']      = o.payrollLiabilitie,\n                    n['benefitAccount']         = o.benefitAccount\n                    segmentAR.push(n)\n                })\n                \n            })\n            let helper = {}\n            let resultSegment   = segmentAR.reduce(function(r, o){\n                let key = o.component.id + '-' + o.component.name;\n                if(!helper[key]) {\n                    helper[key] = Object.assign({}, o); // create a copy of o\n                    r.push(helper[key]);\n                } else {\n                    helper[key].percentage          += parseFloat(o.percentage);\n                    helper[key].salary              += parseFloat(o.salary);\n                    helper[key].netPay              += parseFloat(o.netPay);\n                    helper[key].amountPay           += parseFloat(o.amountPay);\n                    helper[key].taxBenefit          += parseFloat(o.taxBenefit);\n                    helper[key].taxSalary           += parseFloat(o.taxSalary);\n                    helper[key].totalBenefit        += parseFloat(o.totalBenefit);\n                }\n                return r;\n            },[]);\n            let journals        =[];\n            let bankAccount     = this.bankAccount\n            // window.console.log('this.bankAccount',this.bankAccount)\n            resultSegment.forEach(function(p){\n                // window.console.log(p,'payrollLiabilitie')\n                journals.push(\n                    new JournalEntryModel({\n                        description:          p.payrollLiabilitie.name,\n                        account:              new AccountModel(p.payrollLiabilitie),\n                        exchange_rate:        1,\n                        currency:             new CurrencyModel(p.currency),\n                        amount:               p.amountPay, // Dr\n                        class_1_uuid:         p.component.id\n                    }),\n                    new JournalEntryModel({\n                        description:          bankAccount.bankName,\n                        account:              new AccountModel(bankAccount.account.chartAcount),\n                        exchange_rate:        1,\n                        currency:             new CurrencyModel(p.currency),\n                        amount:               p.amountPay * -1, // Cr\n                        class_1_uuid:         p.component.id\n                    }),\n                )\n            })\n            this.payrollAccount = resultSegment\n            this.journalLine = journals\n            if(this.payrollAccount && this.journalLine){\n                this.journal()\n            }\n        },\n        journal(){\n            let payrollAcc =  this.payrollAccount\n            let journals = this.journalLine\n            let batchPayment = this.batchPayment\n            let journal_ = []\n            let prefix_format = this.prefix_format\n            payrollAcc.forEach(function(pa){\n                let line = journals.filter(r => r.class_1_uuid === pa.component.id ) \n                journal_.push(new JournalModel({\n                    description:                  pa.payrollLiabilitie.name || 'Payroll & Employee Benefit Liabilities',\n                    number:                       batchPayment.referenceNumber,\n                    journal_date:                 Helper.toISODate(new Date()),\n                    month_of:                     Helper.toISODate(new Date(batchPayment.monthOf).toISOString().substr(0, 7)),//'2021-02-01',   \n                    journal_type:                 EntityType.AUTO_JOURNAL,\n                    transaction_type:             'Payroll Payment',\n                    referral_transaction_uuid:    batchPayment.id,\n                    journal_entries:              line,\n                    segment_uuid:                 pa.component.id || '',\n                    prefix_format:                prefix_format || '',\n                    base_currency:                pa.currency\n                }))\n            })\n\n            let result_journal = []\n            if(this.resultJournals.length > 0){\n                let jNal = this.resultJournals\n                journal_.forEach(res =>{\n                    let journalAR =  jNal.filter(n => n.segment_uuid = res.segment_uuid)\n                    let journalUuid = journalAR[0].uuid\n                    // window.console.log(4,journalUuid)\n                    let created_date = journalAR[0].created_date\n                    result_journal.push(new JournalModel( {\n                        uuid:                         journalUuid,\n                        number:                       res.number,\n                        created_date:                 created_date,\n                        journal_date:                 res.journal_date,\n                        month_of:                     res.month_of,\n                        journal_type:                 res.journal_type,\n                        transaction_type:             res.transaction_type,\n                        segment_uuid:                 res.segment_uuid,\n                        journal_entries:              res.journal_entries,\n                        prefix_format:                res.prefix_format,\n                        base_currency:                res.base_currency,\n                    }))\n                })\n                this.journal_data = result_journal\n                window.console.log(5,this.journal_data)\n            }else{\n                this.journal_data = journal_\n            }\n        },\n        saveSpets(){\n            if(this.journal_data.length > 0){\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        let data = {\n                            id:                 this.$route.params.id ? this.$route.params.id : '',\n                            monthOf:            this.batchPayment.monthOf,\n                            created:            this.batchPayment.created,\n                            bank:               this.batchPayment.bank,\n                            bankAccount:        this.batchPayment.bankAccount,\n                            balanceInBanhJi:    this.batchPayment.balanceInBanhJi,\n                            batchItem:          this.batchs,\n                            date:               this.batchPayment.date,\n                            batchAmount:        this.batchPayment.batchAmount,\n                            totalBatch:         this.batchPayment.totalBatch,\n                            amountInWord:       this.batchPayment.amountInWord,\n                            referencePayroll:   this.batchPayment.referencePayroll,\n                            confirm:            'done',\n                            suffix:             this.suffix,\n                            payNumber:          this.payNumber,\n                            abbr:               this.payNumber.abbr,\n                            lastNumber:         this.lastNumber,\n                            step:               3,\n                            status:             1,\n                            raw_journal:        this.journal_data,\n                            loggedUser:         this.loggedUser\n                        }\n                        window.console.log('data', data)\n                        payrollHandler.createBatchPayment(data).then(response => {\n                            if (response.data.statusCode === 201) {\n                                this.$snotify.success('Success')\n                                this.loadSuccess(response.data.statusCode)\n                                this.close()\n                            }\n                        }).catch(e => {\n                            this.$snotify.error('Something went wrong')\n                            this.errors.push(e)\n                        })\n                    }, 300);\n                })\n            }else{\n                this.$snotify.error('Something went wrong')\n            }\n        },\n        close(){\n            window.history.go(-2)\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, '0')\n        },\n        loadPrefixes() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    settingsHandler.getPrefixes().then(res => {\n                        if (res.data.statusCode === 200) {\n                            let result = res.data.data\n                            this.prefixList = result.filter(p => p.type =='payroll_payment')\n                            this.prefix = this.prefixList[0]\n                            this.payNumber = this.prefix\n                            const lastNumber = this.zeroPad(parseInt(0), this.prefix.format)\n                            this.prefix_format = (this.prefix.abbr + this.prefix.numberSeparator + this.prefix.structure + this.prefix.numberSeparator + lastNumber + '@' + this.prefix.sequcencing)\n                        }\n                    })\n                }, 300)\n            })\n        },\n        generateNumber() {\n            let sequcencing = ''\n            if(this.payNumber.sequcencing ==\"Year\"){\n                sequcencing = new Date().toISOString().substr(0, 4)\n            }else if(this.payNumber.sequcencing ==\"Month\"){\n                sequcencing = new Date().toISOString().substr(0, 7)\n            }else{\n                sequcencing = ''\n            }\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    let data = {\n                        abbr:           this.payNumber.abbr,\n                        structure:      this.payNumber.structure,\n                        date:           new Date(),\n                        type:           'payroll_payment',\n                        pkId:           'ppm-',\n                        sequcencing:    sequcencing\n                    }\n                    payrollHandler.getPrefixNumber(data).then(res => {\n                        this.showLoading = true;\n                        if(res.data.statusCode === 200){\n                            this.showLoading = false;\n                            const result = res.data.data\n                            const lastNumber = this.zeroPad(parseInt(result.lastNumber), this.payNumber.format)\n                            this.suffix = result.suffix\n                            this.lastNumber = lastNumber\n                        }\n                    })\n                }, 300);\n            })\n        },\n        goBack(){\n            window.history.go(-1)\n        },\n        async loadJournal(){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    payrollHandler.getPayrollJournal(this.$route.params.id).then(res => {\n                        if (res.statusCode === 200) {\n                            this.resultJournals = res.data\n                        }\n                        this.calculateJournal()\n                    })\n                }, 300)\n            })\n        }\n    },\n    async mounted(){\n        await this.loadBatchSingle()\n        await this.loadPrefixes()\n        await this.loadJournal()\n    },\n    watch:{\n        batch(){\n           if(this.batch !== undefined){\n                this.loadBatchSingle()\n                this.loadJournal()\n            }\n        }\n    }\n})\n</script>\n<style scoped>\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n        background-color: transparent !important;\n    }\n\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr.primary:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n        background-color: #f44336 !important;\n    }\n\n    .theme--light.v-data-table {\n        background-color: transparent !important;\n        border-top: thin solid #ddd;\n        border-bottom: thin solid #ddd;\n        border-radius: 0 !important;\n    }\n\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:not(:last-child) > td:not(.v-data-table__mobile-row),\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:not(:last-child) > th:not(.v-data-table__mobile-row) {\n        border-bottom: thin solid #ddd;\n    }\n\n    .v-data-table > .v-data-table__wrapper > table > tbody > tr > td {\n        height: 32px !important;\n        border-bottom: thin solid rgba(0, 0, 0, 0.12) !important;\n    }\n</style>\n"]}]}