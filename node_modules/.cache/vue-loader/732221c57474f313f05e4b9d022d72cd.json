{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/banking/banking/ReconciliationReport.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/banking/banking/ReconciliationReport.vue","mtime":1638499443123},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBrZW5kbyBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tdWknCi8vIGltcG9ydCB7IGkxOG4gfSBmcm9tICJAL2kxOG4iOwppbXBvcnQgSGVscGVyIGZyb20gIkAvaGVscGVyLmpzIjsKaW1wb3J0IFJlY29uY2lsZU1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9SZWNvbmNpbGUuanMiOwppbXBvcnQgRW50aXR5VHlwZSBmcm9tICJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9FbnRpdHlUeXBlLmpzIjsKCmNvbnN0IHsKCXJlY29uY2lsZUhhbmRsZXIsCn0gPSByZXF1aXJlKCJAL3NjcmlwdHMvQXBwSGFuZGxlcnMuanMiKTsKCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICJDYXNoQW5kQmFua1JlY29uY2lsaWF0aW9uIiwKCWNvbXBvbmVudHM6IHsKCQlMb2FkaW5nTWU6ICgpID0+IGltcG9ydCgiQC9jb21wb25lbnRzL0xvYWRpbmciKSwKCX0sCglkYXRhOiAoKSA9PiAoewoJCUhlbHBlcjogSGVscGVyLAoJCXJlY29uY2lsZUxpc3Q6IFtdLAoJCS8vIExvYWRpbmdNZQoJCXNob3dMb2FkaW5nOiBmYWxzZSwKCX0pLAoJbWV0aG9kczogewoJCXNlYXJjaCAoKSB7CiAgICAgICAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMucmVjb25jaWxlRFMua2VuZG9XaWRnZXQoKTsKICAgICAgICAgICAgZHMuZGF0YShbXSk7CgogICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgcmVjb25jaWxlSGFuZGxlci5nZXRBbGwoKQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29uY2lsZUxpc3QgPSByZXMuZGF0YS5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0udHlwZSAhPT0gRW50aXR5VHlwZS5DQVNIX1JFQ09OQ0lMSUFUSU9OKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAuZmluYWxseSgoKT0+ewogICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9KTsKCQl9LAogICAgICAgIHR5cGVUbXBsKGRhdGFJdGVtKXsKICAgICAgICAgICAgbGV0IHRleHQgPSAiIjsKICAgICAgICAgICAgc3dpdGNoIChkYXRhSXRlbS50eXBlKSB7CiAgICAgICAgICAgICAgICBjYXNlIEVudGl0eVR5cGUuQkFOS19SRUNPTkNJTElBVElPTl9NQU5VQUw6CiAgICAgICAgICAgICAgICAgICAgdGV4dCA9ICJCYW5rIE1hbnVhbCIKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgRW50aXR5VHlwZS5CQU5LX1JFQ09OQ0lMSUFUSU9OX0JBTktfRkVFRFM6CiAgICAgICAgICAgICAgICAgICAgdGV4dCA9ICJCYW5rIEZlZWQiCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIEVudGl0eVR5cGUuQ0FTSF9SRUNPTkNJTElBVElPTjoKICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gIkNhc2giCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHRleHQ7CiAgICAgICAgfSwKICAgICAgICBnb1ZpZXcgKGUpIHsKCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoKCQkJbGV0IGdyaWQgPSB0aGlzLiRyZWZzLnJlY29uY2lsZUdyaWQua2VuZG9XaWRnZXQoKSwKCQkJCWRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbShrZW5kby5qUXVlcnkoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKSwKCQkJCXJlY29uY2lsZSA9IG5ldyBSZWNvbmNpbGVNb2RlbChPYmplY3QuYXNzaWduKHt9LCBkYXRhSXRlbSkpOwoKCQkJaWYoZGF0YUl0ZW0udHlwZS50b0xvd2VyQ2FzZSgpID09PSBFbnRpdHlUeXBlLkJBTktfUkVDT05DSUxJQVRJT05fTUFOVUFMKXsKCQkJCXRoaXMuJHJvdXRlci5yZXBsYWNlKHtuYW1lOiAnQmFuayBSZWNvbmNpbGlhdGlvbiBWaWV3JywgcGFyYW1zOiB7IGluaXRSZWNvbmNpbGU6IHJlY29uY2lsZX19KQoJCQl9ZWxzZXsKCQkJCXRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogYCR7ZGF0YUl0ZW0udHlwZS50b0xvd2VyQ2FzZSgpfS92aWV3LyR7ZGF0YUl0ZW0udXVpZH1gIH0pOwoJCQl9CgkJfSwKCX0sCgltb3VudGVkKCkgewoJCXRoaXMuc2VhcmNoKCk7Cgl9LAp9Owo="},{"version":3,"sources":["ReconciliationReport.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReconciliationReport.vue","sourceRoot":"src/views/banking/banking","sourcesContent":["<template>\n    <v-row>\n        <v-col cols=\"12\" sm=\"12\" class=\"pt-3\">\n            <v-row>\n                <v-col sm=\"7\" class=\"py-0\">\n                    <h2 class=\"mb-3 font_20 float-left\">\n                        {{ $t(\"bank_reconciliation\") }}\n                    </h2>\n                    <p class=\"mb-0 float-left\">\n                        {{ $t(\"reconciliation_desc\") }}\n                    </p>\n                </v-col>\n                <v-col sm=\"5\" class=\"d-flex pt-2\">\n                    <v-btn\n                        to=\"bank_reconciliation\"\n                        color=\"primary\"\n                        dark\n                        class=\"white--text mb-2 mx-2\"\n                        @click=\"search\"\n                    >\n                        {{ $t(\"new_bank_reconciliation\") }}\n                    </v-btn>\n                    \n                    <v-btn\n                        color=\"primary\"\n                        dark\n                        class=\"mb-2 mx-2\"\n                        @click=\"search\"\n                    >\n                        <v-icon color=\"white\">mdi-reload</v-icon>\n                    </v-btn>\n                </v-col>\n              \n                <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                    <kendo-datasource \n                        ref=\"reconcileDS\"\n                        :data=\"reconcileList\"\n                        :sort-field=\"'date'\"\n                        :sort-dir=\"'desc'\"\n                        page=\"1\"\n                        page-size=\"10\" />\n\n                    <kendo-grid id=\"reconcileGrid\" \n                        ref=\"reconcileGrid\"\n                        :data-source-ref=\"'reconcileDS'\"\n                        :noRecords=\"true\"\n                        :sortable=\"true\"\n                        :pageable-page-sizes=\"true\"\n                        :pageable-button-count=\"5\">\n                        <kendo-grid-column \n                            :field=\"'number'\"\n                            :title=\"$t('number')\"\n                            :headerAttributes=\"{\n                                style: 'background-color: #fff',\n                            }\" />\n                        <kendo-grid-column \n                            :field=\"'type'\"\n                            :title=\"$t('type')\"\n                            :template=\"typeTmpl\"\n                            :headerAttributes=\"{\n                                style: 'background-color: #fff',\n                            }\" />\n                        <kendo-grid-column \n                            :field=\"'account'\"\n                            :title=\"$t('account')\"\n                            :template=\"'<span>#=account.number#</span> - <span>#=account.name#</span>'\"\n                            :headerAttributes=\"{\n                                style: 'background-color: #fff',\n                            }\" />\n                        <kendo-grid-column \n                            :field=\"'ending_balance_date'\"\n                            :title=\"$t('end_date')\"\n                            :template=\"'#=kendo.toString(new Date(date), `dd-MM-yyyy`)#'\"\n                            :headerAttributes=\"{\n                                style: 'text-align: center; background-color: #fff',\n                            }\"\n                            :attributes=\"{ style: 'text-align: center;' }\" />\n                        <kendo-grid-column \n                            :field=\"'variance_amount'\"\n                            :title=\"$t('variance')\"\n                            :format=\"'{0:n}'\"\n                            :headerAttributes=\"{\n                                style: 'text-align: right; background-color: #fff',\n                            }\"\n                            :attributes=\"{ style: 'text-align: right;' }\" />\n                        <kendo-grid-column \n                            :field=\"'opening_balance'\"\n                            :title=\"$t('beginning_balance')\"\n                            :format=\"'{0:n}'\"\n                            :headerAttributes=\"{\n                                style: 'text-align: right; background-color: #fff',\n                            }\"\n                            :attributes=\"{ style: 'text-align: right;' }\" />\n                        <kendo-grid-column \n                            :field=\"'ending_balance'\"\n                            :title=\"$t('ending_balance')\"\n                            :format=\"'{0:n}'\"\n                            :headerAttributes=\"{\n                                style: 'text-align: right; background-color: #fff',\n                            }\"\n                            :attributes=\"{ style: 'text-align: right;' }\" />\n                        <kendo-grid-column \n                            :command=\"{ text: 'View', click: goView }\"\n                            :title=\"'&nbsp;'\"\n                            :width=\"90\" />\n                    </kendo-grid>\n                    <LoadingMe\n                        :isLoading=\"showLoading\"\n                        :fullPage=\"false\"\n                        :myLoading=\"true\"\n                        type=\"loading\"\n                    />\n                </v-col>\n            </v-row>\n        </v-col>\n    </v-row>\n</template>\n<script>\nimport kendo from '@progress/kendo-ui'\n// import { i18n } from \"@/i18n\";\nimport Helper from \"@/helper.js\";\nimport ReconcileModel from \"@/scripts/model/Reconcile.js\";\nimport EntityType from \"@/scripts/default_setup/EntityType.js\";\n\nconst {\n\treconcileHandler,\n} = require(\"@/scripts/AppHandlers.js\");\n\nexport default {\n\tname: \"CashAndBankReconciliation\",\n\tcomponents: {\n\t\tLoadingMe: () => import(\"@/components/Loading\"),\n\t},\n\tdata: () => ({\n\t\tHelper: Helper,\n\t\treconcileList: [],\n\t\t// LoadingMe\n\t\tshowLoading: false,\n\t}),\n\tmethods: {\n\t\tsearch () {\n            let ds = this.$refs.reconcileDS.kendoWidget();\n            ds.data([]);\n\n            this.showLoading = true;\n            reconcileHandler.getAll()\n            .then((res) => {\n                if (res.data) {\n                    this.reconcileList = res.data.filter((item) => item.type !== EntityType.CASH_RECONCILIATION)\n                }\n            })\n            .finally(()=>{\n                this.showLoading = false;\n            });\n\t\t},\n        typeTmpl(dataItem){\n            let text = \"\";\n            switch (dataItem.type) {\n                case EntityType.BANK_RECONCILIATION_MANUAL:\n                    text = \"Bank Manual\"\n                    break;\n                case EntityType.BANK_RECONCILIATION_BANK_FEEDS:\n                    text = \"Bank Feed\"\n                    break;\n                case EntityType.CASH_RECONCILIATION:\n                    text = \"Cash\"\n                    break;\n            \n                default:\n                    break;\n            }\n\n            return text;\n        },\n        goView (e) {\n\t\t\te.preventDefault();\n\n\t\t\tlet grid = this.$refs.reconcileGrid.kendoWidget(),\n\t\t\t\tdataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\")),\n\t\t\t\treconcile = new ReconcileModel(Object.assign({}, dataItem));\n\n\t\t\tif(dataItem.type.toLowerCase() === EntityType.BANK_RECONCILIATION_MANUAL){\n\t\t\t\tthis.$router.replace({name: 'Bank Reconciliation View', params: { initReconcile: reconcile}})\n\t\t\t}else{\n\t\t\t\tthis.$router.push({ path: `${dataItem.type.toLowerCase()}/view/${dataItem.uuid}` });\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.search();\n\t},\n};\n</script>\n\n<style scoped>\n    .attachment_table.v-data-table > .v-data-table__wrapper > table > thead > tr > th, .attachment_table.v-data-table > .v-data-table__wrapper > table > tbody > tr > td {\n        border-right: none !important;\n    }\n   \n</style>"]}]}