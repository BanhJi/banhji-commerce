{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/production/bill_of_material/BillOfMaterials.vue?vue&type=style&index=0&id=8c5c8a8a&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/production/bill_of_material/BillOfMaterials.vue","mtime":1638499443283},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmZ1bmN0aW9uX2Zvb3RlciB7CiAgcGFkZGluZzogMTVweDsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cn0KCnAgewogIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuODcpOwp9CgouYWN0aW9uQnRuIHsKICBoZWlnaHQ6IDQ3LjJweCAhaW1wb3J0YW50Owp9CgoudGV4dF90aXAgewogIGZvbnQtc2l6ZTogOXB4OwogIGxpbmUtaGVpZ2h0OiAxMHB4Owp9CgpAbWVkaWEgKG1heC13aWR0aDogNTc2cHgpIHsKfQo="},{"version":3,"sources":["BillOfMaterials.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoOA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"BillOfMaterials.vue","sourceRoot":"src/views/products/production/bill_of_material","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n      <v-row>\n        <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n          <h2 class=\"mb-0 font_20\">{{ $t('bill_of_material') }}</h2>\n        </v-col>\n        <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n          <v-btn to=\"bom\" color=\"primary\" class=\" white--text float-right text-capitalize\">\n            {{ $t('new_bom') }}\n          </v-btn>\n        </v-col>\n\n      </v-row>\n      <v-row class=\"mt-0\">\n        <v-col sm=\"12\" cols=\"12\" class=\"\">\n          <v-row class=\"\">\n            <v-col sm=\"10\" cols=\"12\" class=\"py-0\">\n              <app-searchdate :initStartDate=\"startDate\" @emitStartDate=\"startDate = $event\"\n                              :initEndDate=\"endDate\" @emitEndDate=\"endDate = $event\"/>\n            </v-col>\n            <v-col sm=\"1\" cols=\"12\" class=\"pt-1\">\n              <v-btn class=\"btn_search\" style=\"background-color: rgb(237, 241, 245)\" @click=\"loadBOM\">\n                 <i class=\"b-search\" style=\"font-size: 18px; color:#fff !important;\"/>\n              </v-btn>\n            </v-col>\n          </v-row>\n        </v-col>\n      </v-row>\n\n\n      <v-row class=\"\">\n        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n          <template>\n            <kendo-datasource ref=\"bomDS\"\n                              :data=\"bomList\"\n            />\n            <kendo-grid id=\"gridBOM\" class=\"grid-function\"\n                        :data-source-ref=\"'bomDS'\"\n                        :sortable=\"false\"\n                        :filterable=\"false\"\n                        :column-menu=\"true\"\n                        :editable=\"false\"\n                        :scrollable-virtual=\"true\"\n            >\n              <kendo-grid-column\n                  :template=\"rowNumberOP\"\n                  :title=\"$t('no.')\"\n                  :width=\"55\"\n                  :column-menu=\"false\"\n                  :headerAttributes=\"{\n                                                        style: 'background-color: #EDF1F5;',\n                                                        class: 'text-variants'\n                                                    }\"\n                  :attributes=\"{\n                                                        style: 'text-align: variants'\n                                                    }\"/>\n              <kendo-grid-column :field=\"'referenceNo'\"\n                                 :title=\"$t('bom_number')\"\n                                 :width=\"160\"\n                                 :template=\"referenceTemplate\"\n                                 :headerAttributes=\"{\n                                                        style: 'background-color: #EDF1F5'\n                                                    }\"/>\n              <kendo-grid-column :field=\"'itemName'\"\n                                 :title=\"$t('item')\"\n                                 :width=\"200\"\n                                 :template=\"itemTemplate\"\n                                 :headerAttributes=\"{\n                                                        style: 'background-color: #EDF1F5'\n                                                    }\"/>\n              <kendo-grid-column :field=\"'typeBom'\"\n                                 :title=\"$t('bom_type')\"\n                                 :width=\"150\"\n                                 :template=\"BOMTypeTemplate\"\n                                 :headerAttributes=\"{\n                                                        style: 'background-color: #EDF1F5'\n                                                    }\"/>\n              <kendo-grid-column :field=\"'buom'\"\n                                 :title=\"$t('base_uom')\"\n                                 :width=\"150\"\n                                 :template=\"UOMTemplate\"\n                                 :editable=\"()=>{ return false}\"\n                                 :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                 :attributes=\"{style: 'text-align: right; '}\"/>\n              <kendo-grid-column :field=\"'status'\"\n                                 :title=\"$t('status')\"\n                                 :width=\"150\"\n                                 :template=\"statusTemplate\"\n                                 :headerAttributes=\"{\n                                                            style: 'text-align: right; background-color: #EDF1F5'\n                                                        }\"\n                                 :attributes=\"{\n                                                            style: 'text-align: right'\n                                                        }\"/>\n            </kendo-grid>\n          </template>\n        </v-col>\n      </v-row>\n    </v-col>\n    <LoadingMe\n        :isLoading=\"showLoading\"\n        :fullPage=\"false\"\n        type=\"loading\"\n        :myLoading=\"true\"\n    />\n  </v-row>\n</template>\n<script>\n\nimport LinkTemplate from \"@/components/kendo_templates/LinkTemplate\";\n\nconst bomHandler = require(\"@/scripts/bomHandler\")\nexport default {\n  components: {\n    'app-searchdate': () => import('@/components/custom_templates/SearchDate'),\n    LoadingMe: () => import(\"@/components/Loading\")\n  },\n  data: () => ({\n    showLoading: false,\n    mDateSorter: 'Today',\n    startDate: '',\n    endDate: '',\n    dateSorters: ['Today', 'This Week', 'This Month', 'This Year'],\n    bomList: [],\n  }),\n  props: ['dataBom'],\n  methods: {\n    referenceTemplate(data) {\n      let url = `bom_view/${data.id}`\n      let args = {\n        text: data.referenceNo,\n        url: url,\n        data: data,\n      }\n      return {\n        template: LinkTemplate,\n        templateArgs: args\n      }\n    },\n    rowNumberOP(dataItem) {\n      let ds = this.$refs.bomDS.kendoWidget(),\n          index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    itemTemplate(dataItem) {\n      try {\n        const item = dataItem\n        if (item) {\n          return `<span>${item.itemName ? item.itemName : ``}</span>`\n        } else {\n          return ``\n        }\n      } catch (e) {\n        return ''\n      }\n    },\n    BOMTypeTemplate(dataItem) {\n      const bType = dataItem.typeBom\n      if (bType) {\n        return `<span>${bType.name ? bType.name : ``}</span>`\n      } else {\n        return ``\n      }\n    },\n    UOMTemplate(dataItem) {\n      const uom = dataItem.buom\n      if (uom) {\n        return `<span>${uom.name ? uom.name : ``}</span>`\n      } else {\n        return ``\n      }\n    },\n    statusTemplate(dataItem) {\n      const status = dataItem.status\n      let statusText = ''\n      switch (status) {\n        case 1:\n          statusText = 'Open'\n          break\n        case 2:\n          statusText = 'Used'\n          break\n        case 3:\n          statusText = 'Closed'\n          break\n        default:\n          break\n      }\n      return statusText\n    },\n    async loadBOM() {\n      this.showLoading = true\n      let strFilter = ''\n\n      if (this.startDate !== '' && this.endDate !== '') {\n        strFilter = '?start=' + this.startDate + '&end=' + this.endDate\n      }\n      window.console.log(strFilter, 'this.startDate')\n      await bomHandler.getAll(strFilter).then(res => {\n        this.bomList = res\n        this.showLoading = false\n      })\n    },\n    onUpdate() {\n      if (this.dataBom) {\n        this.bomList.push(this.dataBom)\n      }\n    }\n  },\n  watch: {'bomData': 'onUpdate'},\n  async mounted() {\n    await this.loadBOM()\n  },\n  computed: {\n    bomData() {\n      if (this.dataBom) {\n        return this.dataBom\n      } else {\n        return {}\n      }\n    }\n  },\n};\n</script>\n\n<style scoped>\n\n.function_footer {\n  padding: 15px;\n  display: inline-block;\n}\n\np {\n  color: rgba(0, 0, 0, 0.87);\n}\n\n.actionBtn {\n  height: 47.2px !important;\n}\n\n.text_tip {\n  font-size: 9px;\n  line-height: 10px;\n}\n\n@media (max-width: 576px) {\n}\n</style>\n"]}]}