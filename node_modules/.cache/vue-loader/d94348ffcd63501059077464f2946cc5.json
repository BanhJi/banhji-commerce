{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/accounting/closing/CashBank.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/accounting/closing/CashBank.vue","mtime":1638499443090},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBrZW5kbyBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tdWknCi8vIGltcG9ydCB7IGkxOG4gfSBmcm9tICJAL2kxOG4iOwppbXBvcnQgSGVscGVyIGZyb20gIkAvaGVscGVyLmpzIjsKaW1wb3J0IFJlY29uY2lsZU1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9SZWNvbmNpbGUuanMiOwppbXBvcnQgRW50aXR5VHlwZSBmcm9tICJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9FbnRpdHlUeXBlLmpzIjsKCmNvbnN0IHsKCXJlY29uY2lsZUhhbmRsZXIsCn0gPSByZXF1aXJlKCJAL3NjcmlwdHMvQXBwSGFuZGxlcnMuanMiKTsKCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICJDYXNoQW5kQmFua1JlY29uY2lsaWF0aW9uIiwKCWNvbXBvbmVudHM6IHsKCQlMb2FkaW5nTWU6ICgpID0+IGltcG9ydCgiQC9jb21wb25lbnRzL0xvYWRpbmciKSwKCX0sCglkYXRhOiAoKSA9PiAoewoJCUhlbHBlcjogSGVscGVyLAoJCXJlY29uY2lsZUxpc3Q6IFtdLAoJCS8vIExvYWRpbmdNZQoJCXNob3dMb2FkaW5nOiBmYWxzZSwKCX0pLAoJbWV0aG9kczogewoJCXNlYXJjaCAoKSB7CiAgICAgICAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMucmVjb25jaWxlRFMua2VuZG9XaWRnZXQoKTsKICAgICAgICAgICAgZHMuZGF0YShbXSk7CgogICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgcmVjb25jaWxlSGFuZGxlci5nZXRBbGwoKQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29uY2lsZUxpc3QgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmZpbmFsbHkoKCk9PnsKICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSk7CgkJfSwKICAgICAgICB0eXBlVG1wbChkYXRhSXRlbSl7CiAgICAgICAgICAgIGxldCB0ZXh0ID0gIiI7CiAgICAgICAgICAgIHN3aXRjaCAoZGF0YUl0ZW0udHlwZSkgewogICAgICAgICAgICAgICAgY2FzZSBFbnRpdHlUeXBlLkJBTktfUkVDT05DSUxJQVRJT05fTUFOVUFMOgogICAgICAgICAgICAgICAgICAgIHRleHQgPSAiQmFuayBNYW51YWwiCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIEVudGl0eVR5cGUuQkFOS19SRUNPTkNJTElBVElPTl9CQU5LX0ZFRURTOgogICAgICAgICAgICAgICAgICAgIHRleHQgPSAiQmFuayBGZWVkIgogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBFbnRpdHlUeXBlLkNBU0hfUkVDT05DSUxJQVRJT046CiAgICAgICAgICAgICAgICAgICAgdGV4dCA9ICJDYXNoIgogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiB0ZXh0OwogICAgICAgIH0sCiAgICAgICAgYmFsYW5jZVRtcGwoZGF0YUl0ZW0pewogICAgICAgICAgICBsZXQgYW10ID0gZGF0YUl0ZW0uZW5kaW5nX2JhbGFuY2U7CiAgICAgICAgICAgIGlmKGRhdGFJdGVtLnR5cGUgPT09IEVudGl0eVR5cGUuQ0FTSF9SRUNPTkNJTElBVElPTil7CiAgICAgICAgICAgICAgICBhbXQgPSBkYXRhSXRlbS5hY3R1YWxfYW1vdW50OwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcoYW10LCAibiIpOwogICAgICAgIH0sCiAgICAgICAgZ29WaWV3IChlKSB7CgkJCWUucHJldmVudERlZmF1bHQoKTsKCgkJCWxldCBncmlkID0gdGhpcy4kcmVmcy5yZWNvbmNpbGVHcmlkLmtlbmRvV2lkZ2V0KCksCgkJCQlkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oa2VuZG8ualF1ZXJ5KGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSksCgkJCQlyZWNvbmNpbGUgPSBuZXcgUmVjb25jaWxlTW9kZWwoT2JqZWN0LmFzc2lnbih7fSwgZGF0YUl0ZW0pKTsKCgkJCWlmKGRhdGFJdGVtLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gRW50aXR5VHlwZS5CQU5LX1JFQ09OQ0lMSUFUSU9OX01BTlVBTCl7CgkJCQl0aGlzLiRyb3V0ZXIucmVwbGFjZSh7bmFtZTogJ0JhbmsgUmVjb25jaWxpYXRpb24gVmlldycsIHBhcmFtczogeyBpbml0UmVjb25jaWxlOiByZWNvbmNpbGV9fSkKCQkJfWVsc2V7CgkJCQl0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IGAke2RhdGFJdGVtLnR5cGUudG9Mb3dlckNhc2UoKX0vdmlldy8ke2RhdGFJdGVtLnV1aWR9YCB9KTsKCQkJfQoJCX0sCgl9LAoJbW91bnRlZCgpIHsKCQl0aGlzLnNlYXJjaCgpOwoJfSwKfTsK"},{"version":3,"sources":["CashBank.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgJA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CashBank.vue","sourceRoot":"src/views/accounting/closing","sourcesContent":["<template>\n    <v-row>\n        <v-col cols=\"12\" sm=\"12\" class=\"pt-3\">\n            <v-row>\n                <v-col sm=\"8\" class=\"py-0\">\n                    <h2 class=\"mb-3 font_20 float-left\">\n                        {{ $t(\"cash_bank_reconciliation\") }}\n                    </h2>\n                    <p class=\"mb-0 float-left\">\n                        {{ $t(\"reconciliation_desc\") }}\n                    </p>\n                </v-col>\n                <v-col sm=\"4\" class=\"d-flex pt-2\">\n                    <v-menu\n                            nudge-bottom=\"0\"\n                            bottom\n                            offset-y\n                            origin=\"bottom top\"\n                            transition=\"scroll-y-reverse-transition\"\n                    >\n                        <template v-slot:activator=\"{ on }\">\n                        <span class=\"hidden-sm-and-up\">\n                            <div class=\"\">\n                                <v-icon v-on=\"on\" left>mdi-attachment</v-icon>\n                                <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                            </div>\n                        </span>\n                            <span class=\"hidden-sm-and-down\">\n                            <v-btn color=\"primary\" v-on=\"on\"\n                                   class=\"mr-1 white--text float-right text-capitalize\">\n                                {{$t('new_reconciliation')}}\n                                <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                            </v-btn>\n                        </span>\n                        </template>\n\n                        <v-list>\n                            <v-list-item link route to=\"cash_reconciliation\">\n                                <v-list-item-title> {{$t('cash_reconciliation')}}</v-list-item-title>\n                            </v-list-item>\n                            <v-list-item link route to=\"bank_reconciliation\">\n                                <v-list-item-title> {{$t('bank_reconciliation_manual')}}</v-list-item-title>\n                            </v-list-item>\n<!--                            <v-list-item link route to=\"\">-->\n<!--                                <v-list-item-title> {{$t('bank_reconciliation_back_feeds')}}</v-list-item-title>-->\n<!--                            </v-list-item>-->\n                        </v-list>\n                    </v-menu>\n\n                    <!-- Refresh Button -->\n                    <v-btn\n                        color=\"primary\"\n                        dark\n                        class=\"mb-2 mx-2\"\n                        @click=\"search\"\n                    >\n                        <v-icon color=\"white\">mdi-reload</v-icon>\n                    </v-btn>\n                </v-col>\n              \n                <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                    <kendo-datasource \n                        ref=\"reconcileDS\"\n                        :data=\"reconcileList\"\n                        :sort-field=\"'date'\"\n                        :sort-dir=\"'desc'\"\n                        page=\"1\"\n                        page-size=\"10\" />\n\n                    <kendo-grid id=\"reconcileGrid\" \n                        ref=\"reconcileGrid\"\n                        :data-source-ref=\"'reconcileDS'\"\n                        :noRecords=\"true\"\n                        :sortable=\"true\"\n                        :pageable-page-sizes=\"true\"\n                        :pageable-button-count=\"5\">\n                        <kendo-grid-column \n                            :field=\"'number'\"\n                            :title=\"$t('number')\"\n                            :headerAttributes=\"{\n                                style: 'background-color: #fff',\n                            }\" />\n                        <kendo-grid-column \n                            :field=\"'type'\"\n                            :title=\"$t('type')\"\n                            :template=\"typeTmpl\"\n                            :headerAttributes=\"{\n                                style: 'background-color: #fff',\n                            }\" />\n                        <kendo-grid-column \n                            :field=\"'account'\"\n                            :title=\"$t('account')\"\n                            :template=\"'<span>#=account.number#</span> - <span>#=account.name#</span>'\"\n                            :headerAttributes=\"{\n                                style: 'background-color: #fff',\n                            }\" />\n                        <kendo-grid-column \n                            :field=\"'ending_balance_date'\"\n                            :title=\"$t('end_date')\"\n                            :template=\"'#=kendo.toString(new Date(date), `dd-MM-yyyy`)#'\"\n                            :headerAttributes=\"{\n                                style: 'text-align: center; background-color: #fff',\n                            }\"\n                            :attributes=\"{ style: 'text-align: center;' }\" />\n                        <kendo-grid-column \n                            :field=\"'variance_amount'\"\n                            :title=\"$t('variance')\"\n                            :format=\"'{0:n}'\"\n                            :headerAttributes=\"{\n                                style: 'text-align: right; background-color: #fff',\n                            }\"\n                            :attributes=\"{ style: 'text-align: right;' }\" />\n                        <kendo-grid-column \n                            :field=\"'opening_balance'\"\n                            :title=\"$t('beginning_balance')\"\n                            :format=\"'{0:n}'\"\n                            :headerAttributes=\"{\n                                style: 'text-align: right; background-color: #fff',\n                            }\"\n                            :attributes=\"{ style: 'text-align: right;' }\" />\n                        <kendo-grid-column\n                            :title=\"$t('ending_balance')\"\n                            :template=\"balanceTmpl\"\n                            :headerAttributes=\"{\n                                style: 'text-align: right; background-color: #fff',\n                            }\"\n                            :attributes=\"{ style: 'text-align: right;' }\" />\n                        <kendo-grid-column \n                            :command=\"{ text: 'View', click: goView }\"\n                            :title=\"'&nbsp;'\"\n                            :width=\"90\" />\n                    </kendo-grid>\n                    <LoadingMe\n                        :isLoading=\"showLoading\"\n                        :fullPage=\"false\"\n                        :myLoading=\"true\"\n                        type=\"loading\"\n                    />\n                </v-col>\n            </v-row>\n        </v-col>\n    </v-row>\n</template>\n<script>\nimport kendo from '@progress/kendo-ui'\n// import { i18n } from \"@/i18n\";\nimport Helper from \"@/helper.js\";\nimport ReconcileModel from \"@/scripts/model/Reconcile.js\";\nimport EntityType from \"@/scripts/default_setup/EntityType.js\";\n\nconst {\n\treconcileHandler,\n} = require(\"@/scripts/AppHandlers.js\");\n\nexport default {\n\tname: \"CashAndBankReconciliation\",\n\tcomponents: {\n\t\tLoadingMe: () => import(\"@/components/Loading\"),\n\t},\n\tdata: () => ({\n\t\tHelper: Helper,\n\t\treconcileList: [],\n\t\t// LoadingMe\n\t\tshowLoading: false,\n\t}),\n\tmethods: {\n\t\tsearch () {\n            let ds = this.$refs.reconcileDS.kendoWidget();\n            ds.data([]);\n\n            this.showLoading = true;\n            reconcileHandler.getAll()\n            .then((res) => {\n                if (res.data) {\n                    this.reconcileList = res.data;\n                }\n            })\n            .finally(()=>{\n                this.showLoading = false;\n            });\n\t\t},\n        typeTmpl(dataItem){\n            let text = \"\";\n            switch (dataItem.type) {\n                case EntityType.BANK_RECONCILIATION_MANUAL:\n                    text = \"Bank Manual\"\n                    break;\n                case EntityType.BANK_RECONCILIATION_BANK_FEEDS:\n                    text = \"Bank Feed\"\n                    break;\n                case EntityType.CASH_RECONCILIATION:\n                    text = \"Cash\"\n                    break;\n            \n                default:\n                    break;\n            }\n\n            return text;\n        },\n        balanceTmpl(dataItem){\n            let amt = dataItem.ending_balance;\n            if(dataItem.type === EntityType.CASH_RECONCILIATION){\n                amt = dataItem.actual_amount;\n            }\n\n            return kendo.toString(amt, \"n\");\n        },\n        goView (e) {\n\t\t\te.preventDefault();\n\n\t\t\tlet grid = this.$refs.reconcileGrid.kendoWidget(),\n\t\t\t\tdataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\")),\n\t\t\t\treconcile = new ReconcileModel(Object.assign({}, dataItem));\n\n\t\t\tif(dataItem.type.toLowerCase() === EntityType.BANK_RECONCILIATION_MANUAL){\n\t\t\t\tthis.$router.replace({name: 'Bank Reconciliation View', params: { initReconcile: reconcile}})\n\t\t\t}else{\n\t\t\t\tthis.$router.push({ path: `${dataItem.type.toLowerCase()}/view/${dataItem.uuid}` });\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.search();\n\t},\n};\n</script>\n\n<style scoped>\n    .attachment_table.v-data-table > .v-data-table__wrapper > table > thead > tr > th, .attachment_table.v-data-table > .v-data-table__wrapper > table > tbody > tr > td {\n        border-right: none !important;\n    }\n   \n</style>"]}]}