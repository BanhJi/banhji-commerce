{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/sales/sale_unit_items/Reports.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/sales/sale_unit_items/Reports.vue","mtime":1638499443225},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZWFyY2hEYXRlQ29tcG9uZW50IGZyb20gJ0AvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL1NlYXJjaERhdGUnCmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwoKY29uc3QgJCA9IGtlbmRvLmpRdWVyeQpjb25zdCBkaXNjb3VudEl0ZW1IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2Rpc2NvdW50SXRlbUhhbmRsZXIiKQppbXBvcnQgSlNaaXAgZnJvbSAianN6aXAiOwp3aW5kb3cuSlNaaXAgPSBKU1ppcDsKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICBzdGFydERhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgICAgIGVuZERhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgICAgIGRhdGVTb3J0ZXJzOiBbIlRvZGF5IiwgIlRoaXMgV2VlayIsICJUaGlzIE1vbnRoIiwgIlRoaXMgWWVhciJdLAogICAgICAgIHRyYW5zYWN0aW9uczogW10sCiAgICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgICAgIG1EYXRlU29ydGVyOiAnVG9kYXknLAogICAgICAgIGdyb3VwOiB7ZmllbGQ6ICduYW1lJ30sCiAgICB9KSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICAnYXBwLXNlYXJjaGRhdGUnOiBTZWFyY2hEYXRlQ29tcG9uZW50LAogICAgICAgIExvYWRpbmdNZTogKCkgPT4gaW1wb3J0KGBAL2NvbXBvbmVudHMvTG9hZGluZ2ApLAogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBhc3luYyBzZWFyY2hUcmFuc2FjdGlvbigpIHsKICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gdGhpcy5zdGFydERhdGUKICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmREYXRlID0gdGhpcy5lbmREYXRlCiAgICAgICAgICAgICAgICAgICAgbGV0IHN0ckZpbHRlciA9ICc/c3RhcnQ9JmVuZD0mdHlwZT1TYWxlJwogICAgICAgICAgICAgICAgICAgIGlmIChzdGFydERhdGUgIT09ICcnICYmIGVuZERhdGUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0ckZpbHRlciA9ICc/c3RhcnQ9JyArIHN0YXJ0RGF0ZSArICcmZW5kPScgKyBlbmREYXRlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGRpc2NvdW50SXRlbUhhbmRsZXIuc2FsZVVuaXRSZXBvcnQoc3RyRmlsdGVyKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvbnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhLmRhdGEpKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAoKICAgICAgICB0b29sYmFyVGVtcGxhdGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVIdG1sID0KICAgICAgICAgICAgICAgICc8c3Bhbj4nICsKICAgICAgICAgICAgICAgICc8YSBjbGFzcz0iay1wYWdlci1leGNlbCBrLWxpbmsgay1idXR0b24gZXhjZWwiIHRpdGxlPSJFeHBvcnQgdG8gRXhjZWwiPiA8c3BhbiBjbGFzcz0iay1pY29uIGstaS1leGNlbCI+PC9zcGFuPkV4cG9ydCB0byBleGNlbCA8L2E+JyArCiAgICAgICAgICAgICAgICAnPC9zcGFuPjxzcGFuPiZuYnNwOyZuYnNwOzwvc3Bhbj4nICsKICAgICAgICAgICAgICAgICc8c3BhbiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7IHJpZ2h0OjVweCI+JyArCiAgICAgICAgICAgICAgICAnPC9zcGFuPicKCiAgICAgICAgICAgIHJldHVybiBrZW5kby50ZW1wbGF0ZSh0ZW1wbGF0ZUh0bWwpCiAgICAgICAgfSwKICAgICAgICBleHBvcnRUb0V4Y2VsKCkgewogICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJzEnKQogICAgICAgICAgICBjb25zdCBncmlkID0gJCgiI2dyaWRTYWxlVW5pdEl0ZW1SZXBvcnQiKS5kYXRhKCJrZW5kb0dyaWQiKQogICAgICAgICAgICBncmlkLnNhdmVBc0V4Y2VsKCkKICAgICAgICB9LAogICAgICAgIGV4Y2VsRXhwb3J0OiBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAvLyBjb25zdCBwaXZvdCA9IHRoaXMuJHJlZnMuZ3JpZFRyYW5zYWN0aW9uRFMua2VuZG9XaWRnZXQoKQogICAgICAgICAgICAvLyBwaXZvdC5zYXZlQXNFeGNlbCgpCiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhlLmRhdGEpOwogICAgICAgIH0sCiAgICAgICAgaW5pdFRvb2xiYXIodGhhdCkgewogICAgICAgICAgICBsZXQgZ3JpZCA9ICQoIiNncmlkU2FsZVVuaXRJdGVtUmVwb3J0IikuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgICAgICAgIGxldCBncmlkRWxlbWVudCA9IGdyaWQuZWxlbWVudDsKICAgICAgICAgICAgbGV0IHRvb2xiYXJFbGVtZW50ID0gZ3JpZEVsZW1lbnQuZmluZCgiLmstZ3JpZC10b29sYmFyIik7CiAgICAgICAgICAgIHRvb2xiYXJFbGVtZW50Lm9uKCJjbGljayIsICIuay1wYWdlci1leGNlbCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBvbkV4cG9ydEV4Y2VsKHRoYXQpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGZ1bmN0aW9uIG9uRXhwb3J0RXhjZWwodGhhdCkgewogICAgICAgICAgICAgICAgdGhhdC5leHBvcnRUb0V4Y2VsKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKCiAgICB9LAogICAgY29tcHV0ZWQ6IHt9LAogICAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICAgIGF3YWl0IHRoaXMuaW5pdFRvb2xiYXIodGhpcykKICAgIH0KfTsK"},{"version":3,"sources":["Reports.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA","file":"Reports.vue","sourceRoot":"src/views/customers/sales/sale_unit_items","sourcesContent":["<template>\n    <v-row>\n        <v-col sm=\"12\" cols=\"12\" class=\"grayBg px-6\">\n            <v-card color=\"white\" class=\"pa-3 no_border\" elevation=\"0\">\n                <v-row>\n                    <v-col sm=\"9\" cols=\"12\" class=\"py-0\">\n                        <app-searchdate :initStartDate=\"startDate\" @emitStartDate=\"startDate = $event\"\n                                        :initEndDate=\"endDate\" @emitEndDate=\"endDate = $event\"/>\n                    </v-col>\n\n                    <v-col sm=\"1\" cols=\"12\" class=\"py-0 mt-1\">\n                        <v-btn class=\"btn_search\" style=\"background-color: rgb(237, 241, 245)\"\n                               @click=\"searchTransaction\">\n                            <i class=\"b-search\" style=\"font-size: 18px; color:#fff !important;\"/>\n                        </v-btn>\n                    </v-col>\n                    <!-- <v-col sm=\"2\" cols=\"12\" class=\"py-0 text-right\">\n                        <v-btn icon color=\"black\" class=\"bg-none float-right \">\n                            <v-icon class=\"font_34\">fa fa-file-excel</v-icon>\n                        </v-btn>\n\n                        <v-btn icon color=\"black\" class=\"bg-none float-right ml-2\">\n                            <v-icon class=\"font_34\">fa fa-print</v-icon>\n                        </v-btn>\n                    </v-col> -->\n                </v-row>\n                <v-row>\n                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                        <template>\n                            <LoadingMe\n                                :isLoading=\"showLoading\"\n                                :fullPage=\"false\"\n                                type=\"loading\"\n                                :myLoading=\"true\"/>\n                            <template>\n                                <kendo-datasource ref=\"saleUnitItemReportDS\"\n                                                  :group=\"group\"\n                                                  :data=\"transactions\"/>\n                                <kendo-grid id=\"gridSaleUnitItemReport\" class=\"grid-function\"\n                                            :data-source-ref=\"'saleUnitItemReportDS'\"\n                                            :editable=\"false\"\n                                            :groupable=\"true\"\n                                            :toolbar=\"toolbarTemplate\"\n                                            :excel-export=\"excelExport\"\n                                            :excel-file-name=\"'SaleUnitItemReport.xlsx'\"\n                                            :excel-filterable=\"true\"\n                                            :scrollable-virtual=\"true\">\n                                    <kendo-grid-column\n                                        :field=\"'name'\"\n                                        :title=\"$t('name')\"\n                                        :attributes=\"{class:'tb_name_td'}\"\n                                        :width=\"150\"\n                                        :template=\"'<span>#=name#</span>'\"\n                                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                    <kendo-grid-column\n                                        :field=\"'item.name'\"\n                                        :title=\"$t('item')\"\n                                        :width=\"150\"\n                                        :template=\"'<span>#=item.name || ``#</span>'\"\n                                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                    <kendo-grid-column\n                                        :field=\"'transactionDate'\"\n                                        :title=\"$t('transaction_date')\"\n                                        :width=\"180\"\n                                        :template=\"'<span>#=kendo.toString(new Date(transactionDate), dateFormat)#</span>'\"\n                                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                    <kendo-grid-column\n                                        :field=\"'exchangeAmount'\"\n                                        :title=\"$t('amount')\"\n                                        :width=\"180\"\n                                        :template=\"'<span>#= kendo.toString(exchangeAmount, decimalFormat)#</span>'\"\n                                        :attributes=\"{style: 'text-align: right'}\"\n                                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n\n                                    <kendo-grid-column\n                                        :field=\"'exchangeDiscount'\"\n                                        :title=\"$t('discount')\"\n                                        :width=\"180\"\n                                        :template=\"'<span>#= kendo.toString(exchangeDiscount, decimalFormat)#</span>'\"\n                                        :attributes=\"{style: 'text-align: right'}\"\n                                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                    <kendo-grid-column\n                                        :field=\"'transactionType.name'\"\n                                        :title=\"$t('type')\"\n                                        :template=\"'<span>#= transactionType.name #</span>'\"\n                                        :width=\"180\"\n                                        :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n                                </kendo-grid>\n                            </template>\n                        </template>\n                    </v-col>\n                </v-row>\n            </v-card>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\nimport SearchDateComponent from '@/components/custom_templates/SearchDate'\nimport kendo from \"@progress/kendo-ui\";\n\nconst $ = kendo.jQuery\nconst discountItemHandler = require(\"@/scripts/discountItemHandler\")\nimport JSZip from \"jszip\";\nwindow.JSZip = JSZip;\nexport default {\n    data: () => ({\n        startDate: new Date().toISOString().substr(0, 10),\n        endDate: new Date().toISOString().substr(0, 10),\n        dateSorters: [\"Today\", \"This Week\", \"This Month\", \"This Year\"],\n        transactions: [],\n        showLoading: false,\n        mDateSorter: 'Today',\n        group: {field: 'name'},\n    }),\n    components: {\n        'app-searchdate': SearchDateComponent,\n        LoadingMe: () => import(`@/components/Loading`),\n    },\n    methods: {\n        async searchTransaction() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    this.showLoading = true\n                    const startDate = this.startDate\n                    const endDate = this.endDate\n                    let strFilter = '?start=&end=&type=Sale'\n                    if (startDate !== '' && endDate !== '') {\n                        strFilter = '?start=' + startDate + '&end=' + endDate\n                    }\n                    discountItemHandler.saleUnitReport(strFilter).then(res => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false\n                            this.transactions = JSON.parse(JSON.stringify(res.data.data))\n                        }\n                    })\n                }, 10);\n            })\n        },\n\n        toolbarTemplate: function () {\n            const templateHtml =\n                '<span>' +\n                '<a class=\"k-pager-excel k-link k-button excel\" title=\"Export to Excel\"> <span class=\"k-icon k-i-excel\"></span>Export to excel </a>' +\n                '</span><span>&nbsp;&nbsp;</span>' +\n                '<span style=\"position:absolute; right:5px\">' +\n                '</span>'\n\n            return kendo.template(templateHtml)\n        },\n        exportToExcel() {\n            window.console.log('1')\n            const grid = $(\"#gridSaleUnitItemReport\").data(\"kendoGrid\")\n            grid.saveAsExcel()\n        },\n        excelExport: function (e) {\n            // const pivot = this.$refs.gridTransactionDS.kendoWidget()\n            // pivot.saveAsExcel()\n            window.console.log(e.data);\n        },\n        initToolbar(that) {\n            let grid = $(\"#gridSaleUnitItemReport\").data(\"kendoGrid\");\n            let gridElement = grid.element;\n            let toolbarElement = gridElement.find(\".k-grid-toolbar\");\n            toolbarElement.on(\"click\", \".k-pager-excel\", function (e) {\n                e.preventDefault();\n                onExportExcel(that);\n            });\n\n            function onExportExcel(that) {\n                that.exportToExcel();\n            }\n        },\n\n\n    },\n    computed: {},\n    mounted: async function () {\n        await this.initToolbar(this)\n    }\n};\n</script>\n<style scoped>\n.k-chart {\n    height: 180px;\n}\n\n.theme--light.v-data-table {\n    background-color: transparent !important;\n}\n\n.v-data-table > .v-data-table__wrapper > table > tbody > tr > td {\n    height: 32px !important;\n    border-bottom: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n\n.v-data-table > .v-data-table__wrapper > table > tbody > tr:first-child > td {\n    border-top: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n\n.theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n</style>\n"]}]}