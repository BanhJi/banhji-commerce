{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products_services/services_items/Service.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products_services/services_items/Service.vue","mtime":1643182942399},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZXJ2aWNlSXRlbSBmcm9tICJAL3NjcmlwdHMvbW9kZWwvU2VydmljZUl0ZW0iOwppbXBvcnQge2kxOG59IGZyb20gJ0AvaTE4bic7CgpsZXQgc2VydmljZUl0ZW0gPSBuZXcgU2VydmljZUl0ZW0oe30pOwoKY29uc3QgYWNjb3VudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaGFuZGxlci9hY2NvdW50aW5nL2FjY291bnQiKTsKY29uc3QgY2F0ZWdvcnlIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2NhdGVnb3J5SGFuZGxlciIpOwpjb25zdCBncm91cEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvZ3JvdXBIYW5kbGVyIik7CmNvbnN0IHN1Ykdyb3VwSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9zdWJHcm91cEhhbmRsZXIiKTsKY29uc3QgdW9tSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy91b21IYW5kbGVyIik7CmNvbnN0IHdhcmVob3VzZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvd2FyZWhvdXNlSGFuZGxlciIpOwpjb25zdCBzZXJ2aWNlSXRlbUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2VydmljZUl0ZW1IYW5kbGVyIik7CmNvbnN0IHNldHRpbmdIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NldHRpbmdIYW5kbGVyIik7CmNvbnN0IHByaWNlTGV2ZWxIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3ByaWNlTGV2ZWxIYW5kbGVyIikKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIkFkZFNlcnZpY2VJdGVtIiwKICAgIHByb3BzOiBbImlkIl0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgTG9hZGluZ01lOiAoKSA9PiBpbXBvcnQoYEAvY29tcG9uZW50cy9Mb2FkaW5nYCksCiAgICB9LAogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICBzaG93TG9hZGluZzogZmFsc2UsCiAgICAgICAgYWNjTG9hZGluZzogZmFsc2UsCiAgICAgICAgdmFsaWQ6ICIiLAogICAgICAgIG1BY2NJbnZlbnRvcnk6ICIiLAogICAgICAgIG1DYXRlZ29yeTogIiIsCiAgICAgICAgbUdyb3VwOiAiIiwKICAgICAgICBhY2NSZXZlbnVlOiBbXSwKICAgICAgICBtQWNjQ29zdE9mR29vZFNvbGQ6ICIiLAogICAgICAgIGFjY0ludmVudG9yeTogW10sCiAgICAgICAgYWNjQ29zdE9mR29vZFNvbGQ6IFtdLAogICAgICAgIGNhdGVnb3JpZXM6IFtdLAogICAgICAgIGdyb3VwczogW10sCiAgICAgICAgZ3JvdXA6IFtdLAogICAgICAgIHdhcmVIb3VzZXM6IFtdLAogICAgICAgIG1TdWJHcm91cDoge30sCiAgICAgICAgbUluY29tZUFjYzoge30sCiAgICAgICAgbVVPTToge30sCiAgICAgICAgbVB1cmNoYXNlVU9NOiB7fSwKICAgICAgICBtV2FyZUhvdXNlOiB7fSwKICAgICAgICBtU3BlY2lmaWNUYXg6IHt9LAogICAgICAgIGRlZmF1bHRUYXg6IHt9LAogICAgICAgIHB1cmNoYXNlVGF4OiBbXSwKICAgICAgICBtUHVyY2hhc2VUYXg6IHt9LAogICAgICAgIHN1Ykdyb3VwczogW10sCiAgICAgICAgc3ViR3JvdXA6IFtdLAogICAgICAgIHVvbTogW10sCiAgICAgICAgdGF4OiBbXSwKICAgICAgICBzcGVjaWZpY1RheDogW10sCiAgICAgICAgbU90aGVyVGF4OiB7fSwKICAgICAgICBvdGhlclRheDogW10sCiAgICAgICAgdmF0OiBbXSwKICAgICAgICBzZXJ2aWNlOiBzZXJ2aWNlSXRlbSwKICAgICAgICBpbWdGaWxlOiAiIiwKICAgICAgICBzcmM6ICIiLAogICAgICAgIGNvZGU6ICcnLAogICAgICAgIHByaWNlOiAwLAogICAgICAgIHByaWNlTGV2ZWw6IFtdLAogICAgICAgIGZpbGVTaXplUnVsZXM6IFsKICAgICAgICAgICAgKGZpbGVzKSA9PgogICAgICAgICAgICAgICAgIWZpbGVzIHx8CiAgICAgICAgICAgICAgICAhZmlsZXMuc29tZSgoZmlsZSkgPT4gZmlsZS5zaXplID4gMTAyNCAqIDEwMjQpIHx8CiAgICAgICAgICAgICAgICAiSW1hZ2Ugc2l6ZSBzaG91bGQgYmUgbGVzcyB0aGFuIDEgTUIhIiwKICAgICAgICBdLAogICAgICAgIGRpc2FibGVkOiB0cnVlLAogICAgICAgIGRpc2FibGVkUzogdHJ1ZQogICAgfSksCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXV0b1ByaWNlKCkgewogICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuc2VydmljZS52YWx1ZSB8fCAwCiAgICAgICAgICAgIGxldCBiYXNlID0gdGhpcy5zZXJ2aWNlLmJhc2UgfHwgMAogICAgICAgICAgICBsZXQgcHJpY2VfID0gKHZhbHVlICogYmFzZSkgLyAxMDAKICAgICAgICAgICAgaWYgKGJhc2UgPiAxMDApIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VydmljZS5iYXNlID0gMTAwCiAgICAgICAgICAgICAgICBiYXNlID0gMTAwCiAgICAgICAgICAgICAgICBwcmljZV8gPSAodmFsdWUgKiBiYXNlKSAvIDEwMAogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMucHJpY2UgPSBwcmljZV8KICAgICAgICAgICAgdGhpcy5zZXJ2aWNlLnByaWNlID0gcHJpY2VfCiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnNlcnZpY2UucHJpY2UsICdwcmljZScpCiAgICAgICAgICAgIHJldHVybiBwcmljZV8KICAgICAgICB9LAogICAgICAgIHByaWNlTGV2ZWxDaGFuZ2VkKCkgewogICAgICAgICAgICB0aGlzLmNvZGUgPSAnJwogICAgICAgICAgICBpZiAodGhpcy5zZXJ2aWNlLnByaWNlTGV2ZWwpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlcnZpY2UucHJpY2VMZXZlbC5oYXNPd25Qcm9wZXJ0eSgnY3VycmVuY3knKSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbmN5ID0gdGhpcy5zZXJ2aWNlLnByaWNlTGV2ZWwuY3VycmVuY3kKICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVuY3kuaGFzT3duUHJvcGVydHkoJ2NvZGUnKSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvZGUgPSAnKCcgKyBjdXJyZW5jeS5jb2RlICsgJyknCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5jb2RlID0gJycKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZFByaWNlTGV2ZWwoKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKQogICAgICAgICAgICAgICAgICAgIHByaWNlTGV2ZWxIYW5kbGVyLmdldCgpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmljZUxldmVsID0gcmVzCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByaWNlTGV2ZWwubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXJ2aWNlLnByaWNlTGV2ZWwgPSB0aGlzLnByaWNlTGV2ZWxbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJpY2VMZXZlbENoYW5nZWQoKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0sIDEwKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgb25VcGRhdGUoKSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoIm9uVXBkYXRlIiwgdGhpcy5zZXJ2aWNlKTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIG9uU2F2ZUNsb3NlKGlzU2F2ZSkgewogICAgICAgICAgICBpZiAoIXRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKQogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuc2VydmljZS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBza3U6IHRoaXMuc2VydmljZS5za3UsCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVJczogIlNlcnZpY2UiLAogICAgICAgICAgICAgICAgICAgICAgICB1b206IHRoaXMubVVPTSwKICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMubUNhdGVnb3J5IHx8IHt9LAogICAgICAgICAgICAgICAgICAgICAgICBncm91cDogdGhpcy5tR3JvdXAgfHwge30sCiAgICAgICAgICAgICAgICAgICAgICAgIHN1Ykdyb3VwOiB0aGlzLm1TdWJHcm91cCB8fCB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VMZXZlbDogdGhpcy5zZXJ2aWNlLnByaWNlTGV2ZWwsCiAgICAgICAgICAgICAgICAgICAgICAgIHNhbGVEZXNjcmlwdGlvbjogdGhpcy5zZXJ2aWNlLnNhbGVEZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgcHVyY2hhc2VEZXNjcmlwdGlvbjogdGhpcy5zZXJ2aWNlLnB1cmNoYXNlRGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgIHdhcmVob3VzZTogdGhpcy5tV2FyZUhvdXNlLAogICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogdGhpcy5zZXJ2aWNlLnByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICBiYXNlOiB0aGlzLnNlcnZpY2UuYmFzZSwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2VydmljZS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgaW5jb21lQWNjOiB0aGlzLm1JbmNvbWVBY2MsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvc3RPZkdvb2RzU29sZEFjYzogdGhpcy5tQWNjQ29zdE9mR29vZFNvbGQsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlZmF1bHRUYXg6IHRoaXMuZGVmYXVsdFRheCwKICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHVyY2hhc2VUYXg6IHRoaXMubVB1cmNoYXNlVGF4LAogICAgICAgICAgICAgICAgICAgICAgICAvLyBzcGVjaWZpY1RheDogdGhpcy5tU3BlY2lmaWNUYXgsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG90aGVyVGF4OiB0aGlzLm1PdGhlclRheCwKICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVTb2xkOiB0aGlzLnNlcnZpY2UuY2FuQmVTb2xkLAogICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVN1YkNvbnRyYWN0ZWQ6IHRoaXMuc2VydmljZS5jYW5CZVN1YkNvbnRyYWN0ZWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVsYXllZFJldmVudWU6IHRoaXMuc2VydmljZS5pc0RlbGF5ZWRSZXZlbnVlLAogICAgICAgICAgICAgICAgICAgICAgICBpc0NvbnNpZ25tZW50SXRlbTogdGhpcy5zZXJ2aWNlLmlzQ29uc2lnbm1lbnRJdGVtLAogICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVJlY3VycmluZ1N1YnNjcmliZWQ6IHRoaXMuc2VydmljZS5jYW5CZVJlY3VycmluZ1N1YnNjcmliZWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGlzTWV0ZXJlZFNlcnZpY2U6IHRoaXMuc2VydmljZS5pc01ldGVyZWRTZXJ2aWNlLAogICAgICAgICAgICAgICAgICAgICAgICBpc1RpbWVCb3VuZGVkOiB0aGlzLnNlcnZpY2UuaXNUaW1lQm91bmRlZCwKICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VzOiB0aGlzLnNlcnZpY2UuaW1hZ2VzLAogICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiB0aGlzLmltZ0ZpbGUsCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA/IHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGUgOiAibmV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgcmVVc2VkOiB0aGlzLnNlcnZpY2UucmVVc2VkCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coMCwgZGF0YSkKICAgICAgICAgICAgICAgICAgICBpZiAoaXNTYXZlID09ICduZXcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXIoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlSXRlbUhhbmRsZXIuY3JlYXRlKGRhdGEpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5pZCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5pZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaW1hZ2VzID0gcmVzcG9uc2UuZGF0YS5kYXRhLmltYWdlczsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuJGVtaXQoJ29uVXBkYXRlJywgZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuc3VjY2VzcygiU3VjY2VzcyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2F2ZSA9PSAnbmV3JykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXIoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1NhdmUgPT0gJ2Nsb3NlJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXIoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuZXJyb3IoIlNvbWV0aGluZyB3ZW50IHdyb25nIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIG9uRmlsZUNoYW5nZShlKSB7CiAgICAgICAgICAgIC8vIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgICAgICAgbGV0IGlucHV0ID0gZS50YXJnZXQ7CiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGF0IHlvdSBoYXZlIGEgZmlsZSBiZWZvcmUgYXR0ZW1wdGluZyB0byByZWFkIGl0CiAgICAgICAgICAgIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkgewogICAgICAgICAgICAgICAgaWYgKGlucHV0LmZpbGVzWzBdLnNpemUgPiAxMDI0ICogMTAyNCkgewogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICBhbGVydCgiRmlsZSB0b28gYmlnICg+IDFNQikiKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNyYyA9ICIiOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaW1nRmlsZSA9ICIiOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZmlsZXVwbG9hZC52YWx1ZSA9IG51bGw7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBGaWxlUmVhZGVyIHRvIHJlYWQgdGhpcyBpbWFnZSBhbmQgY29udmVydCB0byBiYXNlNjQgZm9ybWF0CiAgICAgICAgICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgLy8gRGVmaW5lIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcnVuLCB3aGVuIEZpbGVSZWFkZXIgZmluaXNoZXMgaXRzIGpvYgogICAgICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RlOiBhcnJvdyBmdW5jdGlvbiB1c2VkIGhlcmUsIHNvIHRoYXQgInRoaXMuaW1hZ2VEYXRhIiByZWZlcnMgdG8gdGhlIGltYWdlRGF0YSBvZiBWdWUgY29tcG9uZW50CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlYWQgaW1hZ2UgYXMgYmFzZTY0IGFuZCBzZXQgdG8gaW1hZ2VEYXRhCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1nRmlsZSA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IHRoZSByZWFkZXIgam9iIC0gcmVhZCBmaWxlIGFzIGEgZGF0YSB1cmwgKGJhc2U2NCBmb3JtYXQpCiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhpbnB1dC5maWxlc1swXSk7CiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy51cmwgPSBpbnB1dC5maWxlc1swXQogICAgICAgICAgICAgICAgICAgIHRoaXMuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChlLnRhcmdldC5maWxlc1swXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNsb3NlKGRhdGEpIHsKICAgICAgICAgICAgLy8gd2luZG93Lmhpc3RvcnkuZ28oLTEpCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6ICJTZXJ2aWNlcyBQcm9qZWN0cyIsCiAgICAgICAgICAgICAgICBwYXRoOiAnc2VydmljZXMnLAogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgY2xlYXIoKSB7CiAgICAgICAgICAgIHRoaXMuc2VydmljZSA9IG5ldyBTZXJ2aWNlSXRlbSh7fSkKICAgICAgICAgICAgdGhpcy5tR3JvdXAgPSB7fQogICAgICAgICAgICB0aGlzLm1DYXRlZ29yeSA9IHt9CiAgICAgICAgICAgIHRoaXMubVN1Ykdyb3VwID0ge30KICAgICAgICAgICAgdGhpcy5sb2FkQWNjb3VudCgpCiAgICAgICAgICAgIC8vIHRoaXMubG9hZFRheCgpCiAgICAgICAgICAgIHRoaXMubG9hZFVPTSgpCiAgICAgICAgICAgIHRoaXMubG9hZFByaWNlTGV2ZWwoKQogICAgICAgICAgICB0aGlzLmF1dG9QcmljZSgpCiAgICAgICAgfSwKICAgICAgICBjYW5jZWwoKSB7CiAgICAgICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6IGkxOG4udCgnbXNnX3RpdGxlX3dhcm5pbmcnKSwKICAgICAgICAgICAgICAgIHRleHQ6IGkxOG4udCgnbXNnX2Rpc2NhcmQnKSwKICAgICAgICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBpMThuLnQoJ2NhbmNlbCcpLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IGkxOG4udCgnZGlzY2FyZCcpLAogICAgICAgICAgICB9KS50aGVuKChyZXN1bHRDZW4pID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXN1bHRDZW4udmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGxvYWRDYXRlZ29yeUFjY291bnRBbmRUYXgoKSB7CiAgICAgICAgICAgIC8vIHRoaXMubU90aGVyVGF4ID0gdGhpcy5tQ2F0ZWdvcnkudGF4Lmhhc093blByb3BlcnR5KCJvdGhlclRheCIpCiAgICAgICAgICAgIC8vICAgICA/IHRoaXMubUNhdGVnb3J5LnRheC5vdGhlclRheAogICAgICAgICAgICAvLyAgICAgOiB7fTsKICAgICAgICAgICAgLy8gdGhpcy5tU3BlY2lmaWNUYXggPSB0aGlzLm1DYXRlZ29yeS50YXguaGFzT3duUHJvcGVydHkoInNwZWNpZmljVGF4IikKICAgICAgICAgICAgLy8gICAgID8gdGhpcy5tQ2F0ZWdvcnkudGF4LnNwZWNpZmljVGF4CiAgICAgICAgICAgIC8vICAgICA6IHt9OwogICAgICAgICAgICAvLyB0aGlzLmRlZmF1bHRUYXggPSB0aGlzLm1DYXRlZ29yeS50YXguaGFzT3duUHJvcGVydHkoImRlZmF1bHRUYXgiKQogICAgICAgICAgICAvLyAgICAgPyB0aGlzLm1DYXRlZ29yeS50YXguZGVmYXVsdFRheAogICAgICAgICAgICAvLyAgICAgOiB7fTsKICAgICAgICAgICAgLy8gdGhpcy5tUHVyY2hhc2VUYXggPSB0aGlzLm1DYXRlZ29yeS50YXguaGFzT3duUHJvcGVydHkoInB1cmNoYXNlVGF4IikKICAgICAgICAgICAgLy8gICAgID8gdGhpcy5tQ2F0ZWdvcnkudGF4LnB1cmNoYXNlVGF4CiAgICAgICAgICAgIC8vICAgICA6IHt9OwogICAgICAgICAgICB0aGlzLm1JbmNvbWVBY2MgPSB0aGlzLm1DYXRlZ29yeS5hY2NvdW50Lmhhc093blByb3BlcnR5KCJpbmNvbWVBY2MiKQogICAgICAgICAgICAgICAgPyB0aGlzLm1DYXRlZ29yeS5hY2NvdW50LmluY29tZUFjYwogICAgICAgICAgICAgICAgOiB7fTsKICAgICAgICAgICAgdGhpcy5tQWNjQ29zdE9mR29vZFNvbGQgPSB0aGlzLm1DYXRlZ29yeS5hY2NvdW50Lmhhc093blByb3BlcnR5KAogICAgICAgICAgICAgICAgImNvc3RPZkdvb2RzU29sZEFjYyIKICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgPyB0aGlzLm1DYXRlZ29yeS5hY2NvdW50LmNvc3RPZkdvb2RzU29sZEFjYwogICAgICAgICAgICAgICAgOiB7fTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIG9uQ2F0ZWdvcnlDaGFuZ2VkKCkgewogICAgICAgICAgICB0aGlzLmRpc2FibGVkID0gZmFsc2UKICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKHRoaXMubUNhdGVnb3J5KQogICAgICAgICAgICAgICAgICAgIHRoaXMubUdyb3VwID0gIiI7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tU3ViR3JvdXAgPSAiIjsKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmxvYWRDYXRlZ29yeUFjY291bnRBbmRUYXgoKQogICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXAgPSB0aGlzLmdyb3Vwcy5maWx0ZXIoCiAgICAgICAgICAgICAgICAgICAgICAgIChtKSA9PiBtLmNhdGVnb3J5LmlkID09PSB0aGlzLm1DYXRlZ29yeS5pZAogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdXAubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1Hcm91cCA9IHRoaXMuZ3JvdXBbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3ViR3JvdXAgPSB0aGlzLnN1Ykdyb3Vwcy5maWx0ZXIoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobSkgPT4gbS5ncm91cC5pZCA9PT0gdGhpcy5ncm91cFswXS5pZAogICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdWJHcm91cC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1TdWJHcm91cCA9IHRoaXMuc3ViR3JvdXBbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkQ2F0ZWdvcnlBY2NvdW50QW5kVGF4KCkKICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBhc3luYyBsb2FkQWNjb3VudCgpIHsKICAgICAgICAgICAgdGhpcy5hY2NMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBhY2NvdW50SGFuZGxlci5nZXRBbGwoKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2NSZXZlbnVlID0gcmVzLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKG0pID0+IG0uYWNjb3VudF90eXBlLm51bWJlciA9PT0gMzIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6IGl0ZW0ubG9jYWxfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpdGVtLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfdGF4YWJsZTogaXRlbS5pc190YXhhYmxlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5oamlBY2NDb2RlOiBpdGVtLmJhbmhqaUFjY0NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX2NvZGU6IGl0ZW0uZ3JvdXBfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50X2FjY291bnQ6IGl0ZW0ucGFyZW50X2FjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfY29kZTogaXRlbS50eXBlX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRfdHlwZTogaXRlbS5hY2NvdW50X3R5cGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5FYXJuUmV2ZW51ZSA9IHJlcy5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChtKSA9PiBtLmFjY291bnRfdHlwZS5udW1iZXIgPT09IDE5IHx8bS5hY2NvdW50X3R5cGUubnVtYmVyID09PSAyMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGl0ZW0pID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxfbmFtZTogaXRlbS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGl0ZW0ubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc190YXhhYmxlOiBpdGVtLmlzX3RheGFibGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmhqaUFjY0NvZGU6IGl0ZW0uYmFuaGppQWNjQ29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfY29kZTogaXRlbS5ncm91cF9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfYWNjb3VudDogaXRlbS5wYXJlbnRfYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9jb2RlOiBpdGVtLnR5cGVfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudF90eXBlOiBpdGVtLmFjY291bnRfdHlwZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY1JldmVudWUgPSBbLi4uYWNjUmV2ZW51ZSwgLi4udW5FYXJuUmV2ZW51ZV0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWNjUmV2ZW51ZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1JbmNvbWVBY2MgPSB0aGlzLmFjY1JldmVudWVbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2NJbnZlbnRvcnkgPSByZXMuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigobSkgPT4gbS5hY2NvdW50X3R5cGUubnVtYmVyID09PSA4KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbF9uYW1lOiBpdGVtLmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaXRlbS5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0ZW0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuaGppQWNjQ29kZTogaXRlbS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9jb2RlOiBpdGVtLmdyb3VwX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdGVtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2NvZGU6IGl0ZW0udHlwZV9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IGl0ZW0uYWNjb3VudF90eXBlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjY0ludmVudG9yeS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1BY2NJbnZlbnRvcnkgPSB0aGlzLmFjY0ludmVudG9yeVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY0Nvc3RPZkdvb2RTb2xkID0gcmVzLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKG0pID0+IG0uYWNjb3VudF90eXBlLm51bWJlciA9PT0gMzMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6IGl0ZW0ubG9jYWxfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpdGVtLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfdGF4YWJsZTogaXRlbS5pc190YXhhYmxlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5oamlBY2NDb2RlOiBpdGVtLmJhbmhqaUFjY0NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX2NvZGU6IGl0ZW0uZ3JvdXBfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50X2FjY291bnQ6IGl0ZW0ucGFyZW50X2FjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfY29kZTogaXRlbS50eXBlX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRfdHlwZTogaXRlbS5hY2NvdW50X3R5cGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWNjQ29zdE9mR29vZFNvbGQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tQWNjQ29zdE9mR29vZFNvbGQgPSB0aGlzLmFjY0Nvc3RPZkdvb2RTb2xkWzBdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWNjTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZENhdGVnb3J5KCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUhhbmRsZXIuZ2V0KCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yaWVzID0gcmVzOwogICAgICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3JpZXMgPSB0aGlzLmNhdGVnb3JpZXMuZmlsdGVyKGkgPT4gaS5oYXNPd25Qcm9wZXJ0eSgndHlwZScpICYmIGkudHlwZS5uYW1lID09PSAnU2VydmljZScpCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmICh0aGlzLmNhdGVnb3JpZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyAgIHRoaXMubUNhdGVnb3J5ID0gdGhpcy5jYXRlZ29yaWVzWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAvLyAgIHRoaXMub25DYXRlZ29yeUNoYW5nZWQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRHcm91cCgpIHsKICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgZ3JvdXBIYW5kbGVyLmdldCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBzID0gcmVzLmZpbHRlcihtID0+IG0uY2F0ZWdvcnkuaGFzT3duUHJvcGVydHkoJ3R5cGUnKSAmJiBtLmNhdGVnb3J5LnR5cGUubmFtZSA9PT0gJ1NlcnZpY2UnKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKHJlcywgJ2dyb3VwJykKICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5sb2FkU3ViR3JvdXAodGhpcy5tR3JvdXApOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRTdWJHcm91cChncm91cCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBzdWJHcm91cEhhbmRsZXIuZ2V0KCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyb3VwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JvdXAuaGFzT3duUHJvcGVydHkoJ2lkJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1Ykdyb3VwcyA9IHJlcy5maWx0ZXIobSA9PiBtLmdyb3VwLmlkID09PSBncm91cC5pZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVkUyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICAvLyBhc3luYyBza3VHZW5lcmF0b3IoKSB7CiAgICAgICAgLy8gICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgLy8gICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAvLyAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgIC8vICAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLm1DYXRlZ29yeS5hYmJyKTsKICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLnNlcnZpY2Uuc2t1ID0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5tQ2F0ZWdvcnkuYWJiciArCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICIvIiArCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHRoaXMubUdyb3VwLmFiYnIgKwogICAgICAgIC8vICAgICAgICAgICAgICAgICAiLyIgKwogICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLm1TdWJHcm91cC5hYmJyICsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgIi0iICsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5zZXJ2aWNlLm5hbWUudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgMyk7CiAgICAgICAgLy8gICAgICAgICB9LCAxMCk7CiAgICAgICAgLy8gICAgIH0pOwogICAgICAgIC8vIH0sCiAgICAgICAgYXN5bmMgc2t1R2VuZXJhdG9yKCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHRoaXMubUNhdGVnb3J5IHx8IHt9OwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gdGhpcy5tR3JvdXAgfHwge307CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc0dyb3VwID0gdGhpcy5tU3ViR3JvdXAgfHwge307CiAgICAgICAgICAgICAgICAgICAgbGV0IGNhdGVBYmJyID0gIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwQWJiciA9ICIiLAogICAgICAgICAgICAgICAgICAgICAgICBzR3JvdXBBYmJyID0gIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIHNrdUNvZGUgPSAiIjsKICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnkuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZUFiYnIgPSBjYXRlZ29yeS5hYmJyIHx8ICIiOwogICAgICAgICAgICAgICAgICAgICAgICBza3VDb2RlICs9IGNhdGVBYmJyICsgIi8iOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoZ3JvdXAuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBBYmJyID0gZ3JvdXAuYWJiciB8fCAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgc2t1Q29kZSArPSBncm91cEFiYnIgKyAiLyI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChzR3JvdXAuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc0dyb3VwQWJiciA9IHNHcm91cC5hYmJyIHx8ICIiOwogICAgICAgICAgICAgICAgICAgICAgICBza3VDb2RlICs9IHNHcm91cEFiYnIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXJ2aWNlLnNrdSA9IHNrdUNvZGUKICAgICAgICAgICAgICAgICAgICAvLyBpZiAodGhpcy5wcm9kdWN0Lm5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5wcm9kdWN0LnNrdSA9CiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBza3VDb2RlICsgdGhpcy5wcm9kdWN0Lm5hbWUudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgMyk7CiAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRVT00oKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHVvbUhhbmRsZXIuZ2V0KCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51b20gPSByZXM7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVvbS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1VT00gPSB0aGlzLnVvbVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubVB1cmNoYXNlVU9NID0gdGhpcy51b21bMF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBhc3luYyBsb2FkV2FyZUhvdXNlcygpIHsKICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgd2FyZWhvdXNlSGFuZGxlci5nZXRXYXJlaG91c2VTZXR0aW5nQWxsKCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53YXJlSG91c2VzID0gcmVzOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53YXJlSG91c2VzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubVdhcmVIb3VzZSA9IHRoaXMud2FyZUhvdXNlc1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRUYXgoKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHNldHRpbmdIYW5kbGVyLmdldCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGF4ID0gcmVzCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdCA9IHRoaXMudGF4LmZpbHRlcihtID0+IG0udGF4VHlwZS50eXBlSWQgPT09IDggJiYgbS50cmFuc2FjdGlvblR5cGUgPT09ICdTYWxlJykgLy9zcGVjaWZpYyB0YXgKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGVjaWZpY1RheCA9IHN0IC8vIHNwZWNpYWwgdGF4CgogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdkFUID0gdGhpcy50YXguZmlsdGVyKG0gPT4gbS50YXhUeXBlLnR5cGVJZCA9PT0gMSAmJiBtLnRyYW5zYWN0aW9uVHlwZSA9PT0gJ1NhbGUnKSAvLyB2YWx1YWJsZSB0YXgKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52YXQgPSB2QVQgLy8gdmFsdWFibGUgdGF4CgogICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3RUYXggPSB0aGlzLnRheC5maWx0ZXIobSA9PiBtLnRheFR5cGUudHlwZUlkID09PSA3ICYmIG0udHJhbnNhY3Rpb25UeXBlID09PSAnU2FsZScpIC8vIE90aGVyIHRheAogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm90aGVyVGF4ID0gb3RUYXggLy8gdmFsdWFibGUgdGF4CgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB1cmNoYXNlVGF4ID0gdGhpcy50YXguZmlsdGVyKG0gPT4gbS50YXhUeXBlLnR5cGVJZCA9PT0gMSAmJiBtLnRyYW5zYWN0aW9uVHlwZSA9PT0gJ1B1cmNoYXNlJykgLy8gdmFsdWFibGUgdGF4CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubVB1cmNoYXNlVGF4ID0gcHVyY2hhc2VUYXggLy8gdmFsdWFibGUgdGF4CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zcGVjaWZpY1RheC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1TcGVjaWZpY1RheCA9IHRoaXMuc3BlY2lmaWNUYXhbMF0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52YXQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0VGF4ID0gdGhpcy52YXRbMF0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vdGhlclRheC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1PdGhlclRheCA9IHRoaXMub3RoZXJUYXhbMF0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wdXJjaGFzZVRheC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1QdXJjaGFzZVRheCA9IHRoaXMucHVyY2hhc2VUYXhbMF0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRTaW5nbGVTZXJ2aWNlKCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlSXRlbUhhbmRsZXIuZ2V0T25lKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXJ2aWNlID0gcmVzOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXJ2aWNlLmlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubUNhdGVnb3J5ID0gdGhpcy5zZXJ2aWNlLmNhdGVnb3J5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkR3JvdXAoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tR3JvdXAgPSB0aGlzLnNlcnZpY2UuZ3JvdXA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRTdWJHcm91cCh0aGlzLm1Hcm91cCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubVN1Ykdyb3VwID0gdGhpcy5zZXJ2aWNlLnN1Ykdyb3VwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tVU9NID0gdGhpcy5zZXJ2aWNlLnVvbTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubVB1cmNoYXNlVU9NID0gdGhpcy5zZXJ2aWNlLnB1cmNoYXNlVU9NOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tQWNjQ29zdE9mR29vZFNvbGQgPSB0aGlzLnNlcnZpY2UuY29zdE9mR29vZHNTb2xkQWNjOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5tQWNjSW52ZW50b3J5ID0gdGhpcy5zZXJ2aWNlLmludmVudG9yeUFjY291bnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1JbmNvbWVBY2MgPSB0aGlzLnNlcnZpY2UuaW5jb21lQWNjOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tU3BlY2lmaWNUYXggPSB0aGlzLnNlcnZpY2Uuc3BlY2lmaWNUYXg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1PdGhlclRheCA9IHRoaXMuc2VydmljZS5vdGhlclRheDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdFRheCA9IHRoaXMuc2VydmljZS5kZWZhdWx0VGF4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tUHVyY2hhc2VUYXggPSB0aGlzLnNlcnZpY2UucHVyY2hhc2VUYXg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1XYXJlSG91c2UgPSB0aGlzLnNlcnZpY2Uud2FyZWhvdXNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zcmMgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlcnZpY2UuaGFzT3duUHJvcGVydHkoImltYWdlcyIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGltZ1VybCA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlcnZpY2UuaW1hZ2VzLmhhc093blByb3BlcnR5KCJkZWZhdWx0IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nVXJsID0gdGhpcy5zZXJ2aWNlLmltYWdlcy5kZWZhdWx0LnRodW1iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNyYyA9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaHR0cHM6Ly9zMy1hcC1zb3V0aGVhc3QtMS5hbWF6b25hd3MuY29tL2ltYWdlcy5iYW5oamkvIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWdVcmw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS50eXBlID09PSAibmV3IikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3JjID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBhc3luYyBpbml0RGF0YSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRTaW5nbGVTZXJ2aWNlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfSwKICAgIG1vdW50ZWQ6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgICBhd2FpdCB0aGlzLmxvYWRVT00oKTsKICAgICAgICBhd2FpdCB0aGlzLmxvYWRXYXJlSG91c2VzKCk7CiAgICAgICAgYXdhaXQgdGhpcy5sb2FkVGF4KCk7CiAgICAgICAgYXdhaXQgdGhpcy5pbml0RGF0YSgpOwogICAgICAgIGF3YWl0IHRoaXMubG9hZENhdGVnb3J5KCk7CiAgICAgICAgYXdhaXQgdGhpcy5sb2FkR3JvdXAoKTsKICAgICAgICBhd2FpdCB0aGlzLmxvYWRQcmljZUxldmVsKCk7CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBhbW91bnRUeXBlKCkgewogICAgICAgICAgICBjb25zdCBwcmljZUxldmVsID0gdGhpcy5zZXJ2aWNlLnByaWNlTGV2ZWwgfHwge30KICAgICAgICAgICAgaWYgKHByaWNlTGV2ZWwpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbmN5ID0gcHJpY2VMZXZlbC5jdXJyZW5jeSB8fCB7fQogICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHByaWNlTGV2ZWwudHlwZSB8fCB7fQogICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IHR5cGUubmFtZSB8fCAnJwogICAgICAgICAgICAgICAgY29uc3QgY29kZSA9IGN1cnJlbmN5LmNvZGUgfHwgJycKICAgICAgICAgICAgICAgIGxldCBzdHJWYWx1ZSA9ICcnCiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ1BlcmNlbnRhZ2UgQmFzZScpIHsKICAgICAgICAgICAgICAgICAgICBzdHJWYWx1ZSA9ICclJwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lID09PSAnU3RhbmRhcmQnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyVmFsdWUgPSBjb2RlIHx8ICcnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gc3RyVmFsdWUKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiAnJwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBoaWRkZW5CdXR0b24oKSB7CiAgICAgICAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS50eXBlID09ICJlZGl0IikgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQ6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgICBhd2FpdCB0aGlzLmxvYWRBY2NvdW50KCk7CgogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgaWQoKSB7CiAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLmlkLCAid2F0Y2giKTsKICAgICAgICAgICAgaWYgKHRoaXMuaWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgdGhpcy5sb2FkU2luZ2xlU2VydmljZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgIH0sCn07Cg=="},{"version":3,"sources":["Service.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyaA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Service.vue","sourceRoot":"src/views/products_services/services_items","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col cols=\"12\" sm=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\">\n                        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                            <v-card outlined dense class=\"no_border\">\n                                <h2 class=\"mb-0\">{{ $t(\"service\") }}</h2>\n                                <v-icon\n                                    @click=\"cancel()\"\n                                    style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                    class=\"float-right\"\n                                >close\n                                </v-icon>\n                            </v-card>\n                            <v-card outlined dense class=\"px-3 no_border\" color=\"grayBg\">\n                                <v-row>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label  mb-0\">{{ $t(\"category\") }}</label>\n                                        <v-select\n                                            class=\"mt-1\"\n                                            tage=\"Service Category\"\n                                            :placeholder=\"$t('select_type')\"\n                                            outlined\n                                            v-model=\"mCategory\"\n                                            :items=\"categories\"\n                                            item-value=\"id\"\n                                            :item-text=\"(item) => `${item.abbr} - ${item.name}`\"\n                                            @change=\"onCategoryChanged\"\n                                            return-object\n                                            :rules=\"[(v) => !!v || 'Category is required']\"\n                                            required/>\n                                        <label class=\"label  mb-0\">{{ $t(\"group\") }}</label>\n                                        <v-select\n                                            class=\"mt-1\"\n                                            tage=\"Product Group\"\n                                            :placeholder=\"$t('select_group')\"\n                                            outlined\n                                            v-model=\"mGroup\"\n                                            :disabled=\"disabled\"\n                                            :items=\"groups\"\n                                            @change=\"loadSubGroup(mGroup)\"\n                                            item-value=\"id\"\n                                            :item-text=\"(item) => `${item.abbr} - ${item.name}`\"\n                                            clearable\n                                            return-object\n                                        />\n                                        <label class=\"label  mb-0\">{{ $t(\"sub_group\") }}</label>\n                                        <v-select\n                                            class=\"mt-1\"\n                                            :placeholder=\"$t('select_sub_group')\"\n                                            outlined\n                                            tage=\"Sub Group\"\n                                            v-model=\"mSubGroup\"\n                                            :items=\"subGroups\"\n                                            :disabled=\"disabledS\"\n                                            item-value=\"id\"\n                                            return-object\n                                            clearable\n                                            :item-text=\"(item) => `${item.abbr} - ${item.name}`\"\n                                            required\n                                        />\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pl-0\">\n                                        <label class=\"label mb-0 mt-1 mx-1\">{{ $t(\"code\") }}</label>\n                                        <div class=\"mt-1 d-flex mr-0\">\n                                            <v-text-field\n                                                class=\"flex-1\"\n                                                v-model=\"service.sku\"\n                                                outlined\n                                                :rules=\"[(v) => !!v || 'SKU is required']\"\n                                                required\n                                            />\n                                            <v-icon\n                                                color=\"black\"\n                                                size=\"30\"\n                                                style=\"height: 40px\"\n                                                class=\"border_qrcode ml-2\"\n                                                @click=\"skuGenerator\"\n                                            >mdi-qrcode\n                                            </v-icon>\n                                        </div>\n                                        <label class=\"label  mb-0\">{{ $t(\"service_name\") }}</label>\n                                        <v-text-field\n                                            class=\"pt-1\"\n                                            outlined\n                                            tage=\"Service Name\"\n                                            v-model=\"service.name\"\n                                            :rules=\"[(v) => !!v || 'Name is required']\"\n                                            required\n                                        />\n                                        <label class=\"label  mb-0\">{{ $t(\"not_reused\") }}</label>\n                                        <div class=\"mt-1 d-flex mr-0\">\n                                            <input type=\"checkbox\" id=\"6\" v-model=\"service.reUsed\"/>\n                                        </div>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\">\n                                        <h2 class=\"font_20 mb-0\">\n                                            {{ $t(\"description\") }}\n                                        </h2>\n                                        <p class=\"grayBg---text mb-0 font_12\">\n                                            {{ $t(\"this_will_be_used_service\") }}\n                                        </p>\n                                        <v-textarea\n                                            class=\"mt-1\"\n                                            outlined\n                                            v-model=\"service.saleDescription\"\n                                            no-resize\n                                            height=\"140px\"\n                                            rows=\"6\"\n                                        />\n                                        <!--                                        <v-row>-->\n                                        <!--                                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\">-->\n                                        <!--                                                <div class=\"my_radio py-0\">-->\n                                        <!--                                                    <input id=\"radio1\" name=\"radio\" type=\"radio\" value=1>-->\n                                        <!--                                                    <label for=\"radio1\">{{ $t('delayed_revenue') }}</label>-->\n                                        <!--                                                </div>-->\n                                        <!--                                            </v-col>-->\n                                        <!--                                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\">-->\n                                        <!--                                                <div class=\"my_radio py-0\">-->\n                                        <!--                                                    <input id=\"radio2\" name=\"radio\" type=\"radio\" value=2>-->\n                                        <!--                                                    <label for=\"radio2\">{{ $t('consignment_item') }}</label>-->\n                                        <!--                                                </div>-->\n                                        <!--                                            </v-col>-->\n\n\n                                        <!--                                        </v-row>-->\n\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                            <v-card outlined dense class=\"px-3 my-4 rounded-0\">\n                                <v-row>\n                                    <v-col cols=\"12\" class=\"pb-0\">\n                                        <p class=\"grayBg---text font_14 mb-0\">\n                                            {{ $t(\"you_can_add_more\") }}\n                                        </p>\n                                    </v-col>\n                                    <v-col sm=\"3\" cols=\"12\" class=\"pb-0 pt-2\">\n                                        <label>{{ $t(\"uom\") }}</label>\n                                        <v-select\n                                            :placeholder=\"$t('select_uom')\"\n                                            outlined\n                                            tage=\"Sale Base Uom\"\n                                            v-model=\"mUOM\"\n                                            :items=\"uom\"\n                                            item-value=\"id\"\n                                            class=\"mt-1\"\n                                            :item-text=\"(item) => `${item.name}`\"\n                                            return-object\n                                            :rules=\"[(v) => !!v['id'] || 'UOM is required']\"\n                                            required\n                                        />\n\n                                    </v-col>\n                                    <v-col sm=\"3\" cols=\"12\" class=\"pb-0 pt-2\">\n                                        <label>{{ $t(\"price_level\") }}</label>\n                                        <v-select :placeholder=\"$t('price_level')\"\n                                                  outlined\n                                                  tage=\"price level\"\n                                                  :rules=\"[v => !!v['id'] || 'required']\"\n                                                  v-model=\"service.priceLevel\"\n                                                  :items=\"priceLevel\"\n                                                  class=\"mt-1\"\n                                                  @change=\"priceLevelChanged\"\n                                                  item-value=\"id\"\n                                                  item-text=\"name\"\n                                                  return-object\n                                                  required/>\n\n                                    </v-col>\n                                    <v-col sm=\"3\" cols=\"12\" class=\"pb-0 pt-2\">\n                                        <label>{{ $t('selling_price') }} {{ code }}</label>\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"3\" class=\"mt-1 pt-0 pr-0\">\n                                                <div class=\"code_text text-bold\">{{ amountType }}</div>\n                                            </v-col>\n                                            <v-col sm=\"8\" cols=\"9\" class=\"mt-1 py-0 pl-0\">\n                                                <v-text-field class=\"custom-border\"\n                                                              outlined\n                                                              type=\"number\"\n                                                              tage=\"Price\"\n                                                              @change=\"autoPrice\"\n                                                              v-model=\"service.value\"\n                                                />\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                    <v-col sm=\"3\" cols=\"12\" class=\"pb-0 pt-2\">\n                                        <label>{{ $t('pricing_base') }} (%)</label>\n                                        <v-text-field class=\"mt-1\"\n                                                      outlined\n                                                      type=\"number\"\n                                                      min=\"1\"\n                                                      @change=\"autoPrice\"\n                                                      max=\"100\"\n                                                      tage=\"Base\"\n                                                      v-model=\"service.base\">\n\n                                        </v-text-field>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                            <v-card outlined dense class=\"px-3 my-4 rounded-0\">\n                                <v-row>\n                                    <v-col sm=\"5\" cols=\"12\" class=\"pb-0\">\n                                        <h2 class=\"font_20 mb-0\">\n                                            {{ $t(\"account\") }}\n                                        </h2>\n                                        <p class=\"mb-3 color_grey\">\n                                            {{ $t(\"add_funct_prod_desc\") }}\n                                        </p>\n                                        <v-row>\n                                            <v-col sm=\"12\" cols=\"12 py-0\">\n                                                <label class=\"label mb-0\">{{ $t(\"revenue\") }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :placeholder=\"$t('revenue')\"\n                                                    tage=\"Revenue\"\n                                                    v-model=\"mIncomeAcc\"\n                                                    :items=\"accRevenue\"\n                                                    item-value=\"id\"\n                                                    :loading=\"accLoading\"\n                                                    :item-text=\"(item) => `${item.number} - ${item.name}`\"\n                                                    :rules=\"[(v) => !!v['id'] || 'Account is required']\"\n                                                    return-object\n                                                    outlined\n                                                />\n                                                <label class=\"label  mb-0\">{{\n                                                        $t(\"cost_of_goods_sold\")\n                                                    }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :placeholder=\"$t('select_goods')\"\n                                                    v-model=\"mAccCostOfGoodSold\"\n                                                    :items=\"accCostOfGoodSold\"\n                                                    item-value=\"id\"\n                                                    :loading=\"accLoading\"\n                                                    :item-text=\"(item) => `${item.number} - ${item.name}`\"\n                                                    :rules=\"[(v) => !!v['id'] || 'Account is required']\"\n                                                    return-object\n                                                    outlined\n                                                />\n                                                <!--                                                <label class=\"label\">{{-->\n                                                <!--                                                        $t(\"sale_tax\")-->\n                                                <!--                                                    }}</label>-->\n                                                <!--                                                <v-select-->\n                                                <!--                                                    class=\"mt-1\"-->\n                                                <!--                                                    tage=\"Default Tax\"-->\n                                                <!--                                                    v-model=\"defaultTax\"-->\n                                                <!--                                                    :items=\"vat\"-->\n                                                <!--                                                    :loading=\"accLoading\"-->\n                                                <!--                                                    item-value=\"id\"-->\n                                                <!--                                                    item-text=\"defaultTax\"-->\n                                                <!--                                                    return-object-->\n                                                <!--                                                    outlined/>-->\n                                                <!--                                                <label class=\"label\">{{-->\n                                                <!--                                                        $t(\"purchase_tax\")-->\n                                                <!--                                                    }}</label>-->\n                                                <!--                                                <v-select-->\n                                                <!--                                                    class=\"pt-1\"-->\n                                                <!--                                                    tage=\"Default Tax\"-->\n                                                <!--                                                    v-model=\"mPurchaseTax\"-->\n                                                <!--                                                    :items=\"purchaseTax\"-->\n                                                <!--                                                    :loading=\"accLoading\"-->\n                                                <!--                                                    item-value=\"id\"-->\n                                                <!--                                                    item-text=\"defaultTax\"-->\n                                                <!--                                                    return-object-->\n                                                <!--                                                    outlined/>-->\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                    <v-col sm=\"7\" cols=\"12\" class=\"pb-0\">\n                                        <v-row>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                                <!--                                                <label class=\"label\">{{-->\n                                                <!--                                                        $t(\"special_tax\")-->\n                                                <!--                                                    }}</label>-->\n                                                <!--                                                <v-select-->\n                                                <!--                                                    class=\"mt-1\"-->\n                                                <!--                                                    tage=\"Special Tax\"-->\n                                                <!--                                                    v-model=\"mSpecificTax\"-->\n                                                <!--                                                    :items=\"specificTax\"-->\n                                                <!--                                                    item-value=\"id\"-->\n                                                <!--                                                    item-text=\"defaultTax\"-->\n                                                <!--                                                    return-object-->\n                                                <!--                                                    outlined-->\n                                                <!--                                                />-->\n                                                <!--                                                <label class=\"label  mb-0\">{{ $t(\"other_tax\") }}</label>-->\n                                                <!--                                                <v-select-->\n                                                <!--                                                    class=\"mt-1\"-->\n                                                <!--                                                    tage=\"Special Tax\"-->\n                                                <!--                                                    v-model=\"mOtherTax\"-->\n                                                <!--                                                    :items=\"otherTax\"-->\n                                                <!--                                                    item-value=\"id\"-->\n                                                <!--                                                    item-text=\"defaultTax\"-->\n                                                <!--                                                    return-object-->\n                                                <!--                                                    outlined-->\n                                                <!--                                                />-->\n                                            </v-col>\n                                        </v-row>\n                                        <v-row>\n                                            <v-col sm=\"12\" cols=\"12\" class=\"pt-0 pb-2\">\n                                                <v-card\n                                                    outlined\n                                                    dense\n                                                    class=\"px-3 rounded-0\"\n                                                    height=\"255\"\n                                                >\n                                                    <v-row>\n                                                        <v-col sm=\"12\" class=\"\">\n                                                            <h2 class=\"mb-2 font_20 width_100\">\n                                                                {{ $t(\"default_image\") }}\n                                                            </h2>\n                                                            <v-row>\n                                                                <v-col sm=\"5\" cols=\"12\" lass=\"pt-2\">\n                                                                    <p class=\"color_grey font_14\">\n                                                                        {{ $t(\"add_funct_prod_variant_desc3\") }}\n                                                                    </p>\n                                                                </v-col>\n                                                                <v-col sm=\"7\" cols=\"12\" class=\"py-0\">\n                                                                    <v-img\n                                                                        width=\"100px\"\n                                                                        height=\"150px\"\n                                                                        :src=\"src\"\n                                                                    />\n                                                                    <label>\n                                                                        <input\n                                                                            type=\"file\"\n                                                                            name=\"image\"\n                                                                            class=\"file_width\"\n                                                                            id=\"image\"\n                                                                            :rules=\"fileSizeRules\"\n                                                                            accept=\".png, .jpg, .jpeg\"\n                                                                            ref=\"fileupload\"\n                                                                            @change=\"onFileChange\"\n                                                                        />\n                                                                    </label>\n                                                                </v-col>\n                                                            </v-row>\n                                                        </v-col>\n                                                    </v-row>\n                                                </v-card>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n                            <v-divider/>\n                            <v-divider/>\n                            <v-card outlined dense class=\"no_border function_footer\">\n                                <v-btn @click=\"cancel\"\n                                       color=\"black\"\n                                       outlined\n                                       class=\"text-capitalize  black--text float-left\">\n                                    {{ $t(\"cancel\") }}\n                                </v-btn>\n                                <v-btn @click=\"onSaveClose('close')\"\n                                       color=\"primary\"\n                                       class=\"float-right  white--text text-capitalize\">\n                                    {{ $t(\"save_close\") }}\n                                </v-btn>\n                                <v-btn color=\"secondary\"\n                                       style=\"margin-right: 10px !important\"\n                                       class=\"white--text float-right text-capitalize\"\n                                       @click=\"onSaveClose('new')\" :hidden=\"hiddenButton\">{{ $t(\"save_new\") }}\n                                </v-btn>\n                            </v-card>\n                            <!-- <v-card outlined dense class=\"no_border function_footer\">\n                                <v-btn\n                                    color=\"black\"\n                                    @click=\"close\"\n                                    class=\"text-capitalize  white--text float-left\"\n                                >{{ $t(\"cancel\") }}\n                                </v-btn>\n                                <v-menu>\n                                    <template v-slot:activator=\"{ on }\">\n                                        <v-btn color=\"primary\" class=\"ml-2  float-right text-capitalize white--text\"\n                                               v-on=\"on\">\n                                            {{ $t(\"save_option\") }}\n                                            <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                        </v-btn>\n                                    </template>\n                                    <v-list rounded>\n                                        <v-list-item-group>\n                                            <v-list-item>\n                                                <v-list-item-content>\n                                                    <v-list-item-title>{{\n                                                            $t(\"save_new\")\n                                                        }}\n                                                    </v-list-item-title>\n                                                </v-list-item-content>\n                                            </v-list-item>\n                                            <v-list-item>\n                                                <v-list-item-content @click=\"onSaveClose\">\n                                                    <v-list-item-title>{{\n                                                            $t(\"save_close\")\n                                                        }}\n                                                    </v-list-item-title>\n                                                </v-list-item-content>\n                                            </v-list-item>\n                                        </v-list-item-group>\n                                    </v-list>\n                                </v-menu>\n                                <LoadingMe\n                                    :isLoading=\"showLoading\"\n                                    :fullPage=\"true\"\n                                    :myLoading=\"true\"\n                                />\n                            </v-card> -->\n                        </v-form>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe :isLoading=\"showLoading\" :fullPage=\"false\" :myLoading=\"true\"/>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport ServiceItem from \"@/scripts/model/ServiceItem\";\nimport {i18n} from '@/i18n';\n\nlet serviceItem = new ServiceItem({});\n\nconst accountHandler = require(\"@/scripts/handler/accounting/account\");\nconst categoryHandler = require(\"@/scripts/categoryHandler\");\nconst groupHandler = require(\"@/scripts/groupHandler\");\nconst subGroupHandler = require(\"@/scripts/subGroupHandler\");\nconst uomHandler = require(\"@/scripts/uomHandler\");\nconst warehouseHandler = require(\"@/scripts/warehouseHandler\");\nconst serviceItemHandler = require(\"@/scripts/serviceItemHandler\");\nconst settingHandler = require(\"@/scripts/settingHandler\");\nconst priceLevelHandler = require(\"@/scripts/priceLevelHandler\")\nexport default {\n    name: \"AddServiceItem\",\n    props: [\"id\"],\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n    },\n    data: () => ({\n        showLoading: false,\n        accLoading: false,\n        valid: \"\",\n        mAccInventory: \"\",\n        mCategory: \"\",\n        mGroup: \"\",\n        accRevenue: [],\n        mAccCostOfGoodSold: \"\",\n        accInventory: [],\n        accCostOfGoodSold: [],\n        categories: [],\n        groups: [],\n        group: [],\n        wareHouses: [],\n        mSubGroup: {},\n        mIncomeAcc: {},\n        mUOM: {},\n        mPurchaseUOM: {},\n        mWareHouse: {},\n        mSpecificTax: {},\n        defaultTax: {},\n        purchaseTax: [],\n        mPurchaseTax: {},\n        subGroups: [],\n        subGroup: [],\n        uom: [],\n        tax: [],\n        specificTax: [],\n        mOtherTax: {},\n        otherTax: [],\n        vat: [],\n        service: serviceItem,\n        imgFile: \"\",\n        src: \"\",\n        code: '',\n        price: 0,\n        priceLevel: [],\n        fileSizeRules: [\n            (files) =>\n                !files ||\n                !files.some((file) => file.size > 1024 * 1024) ||\n                \"Image size should be less than 1 MB!\",\n        ],\n        disabled: true,\n        disabledS: true\n    }),\n    methods: {\n        autoPrice() {\n            const value = this.service.value || 0\n            let base = this.service.base || 0\n            let price_ = (value * base) / 100\n            if (base > 100) {\n                this.service.base = 100\n                base = 100\n                price_ = (value * base) / 100\n            }\n            this.price = price_\n            this.service.price = price_\n            window.console.log(this.service.price, 'price')\n            return price_\n        },\n        priceLevelChanged() {\n            this.code = ''\n            if (this.service.priceLevel) {\n                if (this.service.priceLevel.hasOwnProperty('currency')) {\n                    const currency = this.service.priceLevel.currency\n                    if (currency.hasOwnProperty('code')) {\n                        this.code = '(' + currency.code + ')'\n                    }\n                }\n            } else {\n                this.code = ''\n            }\n        },\n        async loadPriceLevel() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    priceLevelHandler.get().then(res => {\n                        this.priceLevel = res\n                        if (this.priceLevel.length > 0) {\n                            this.service.priceLevel = this.priceLevel[0]\n                            this.priceLevelChanged()\n                        }\n                    })\n                }, 10)\n            })\n        },\n        onUpdate() {\n            this.$emit(\"onUpdate\", this.service);\n        },\n        async onSaveClose(isSave) {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate()\n                return\n            }\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    let data = {\n                        id: this.$route.params.id,\n                        name: this.service.name,\n                        sku: this.service.sku,\n                        typeIs: \"Service\",\n                        uom: this.mUOM,\n                        category: this.mCategory || {},\n                        group: this.mGroup || {},\n                        subGroup: this.mSubGroup || {},\n                        priceLevel: this.service.priceLevel,\n                        saleDescription: this.service.saleDescription,\n                        purchaseDescription: this.service.purchaseDescription,\n                        warehouse: this.mWareHouse,\n                        price: this.service.price,\n                        base: this.service.base,\n                        value: this.service.value,\n                        incomeAcc: this.mIncomeAcc,\n                        costOfGoodsSoldAcc: this.mAccCostOfGoodSold,\n                        // defaultTax: this.defaultTax,\n                        // purchaseTax: this.mPurchaseTax,\n                        // specificTax: this.mSpecificTax,\n                        // otherTax: this.mOtherTax,\n                        canBeSold: this.service.canBeSold,\n                        canBeSubContracted: this.service.canBeSubContracted,\n                        isDelayedRevenue: this.service.isDelayedRevenue,\n                        isConsignmentItem: this.service.isConsignmentItem,\n                        canBeRecurringSubscribed: this.service.canBeRecurringSubscribed,\n                        isMeteredService: this.service.isMeteredService,\n                        isTimeBounded: this.service.isTimeBounded,\n                        images: this.service.images,\n                        file: this.imgFile,\n                        type: this.$route.params.id ? this.$route.query.type : \"new\",\n                        reUsed: this.service.reUsed\n                    };\n                    window.console.log(0, data)\n                    if (isSave == 'new') {\n                        this.clear()\n                    }\n                    serviceItemHandler.create(data).then((response) => {\n                        if (response.data.statusCode === 201) {\n                            data.id = response.data.data.id;\n                            data.images = response.data.data.images;\n                            // this.$emit('onUpdate', data)\n                            this.$snotify.success(\"Success\");\n                            if (isSave == 'new') {\n                                this.clear()\n                            } else if (isSave == 'close') {\n                                this.clear()\n                                this.close(data);\n                            }\n                        }\n                    })\n                        .catch((e) => {\n                            this.$snotify.error(\"Something went wrong\");\n                            this.errors.push(e);\n                        });\n                });\n            });\n        },\n        onFileChange(e) {\n            // const file = e.target.files[0];\n            let input = e.target;\n            // Ensure that you have a file before attempting to read it\n            if (input.files && input.files[0]) {\n                if (input.files[0].size > 1024 * 1024) {\n                    e.preventDefault();\n                    alert(\"File too big (> 1MB)\");\n                    this.src = \"\";\n                    this.imgFile = \"\";\n                    this.$refs.fileupload.value = null;\n                } else {\n                    // create a new FileReader to read this image and convert to base64 format\n                    let reader = new FileReader();\n                    // Define a callback function to run, when FileReader finishes its job\n                    reader.onloadend = (e) => {\n                        // Note: arrow function used here, so that \"this.imageData\" refers to the imageData of Vue component\n                        // Read image as base64 and set to imageData\n                        this.imgFile = e.target.result;\n                    };\n                    // Start the reader job - read file as a data url (base64 format)\n                    reader.readAsBinaryString(input.files[0]);\n                    // this.url = input.files[0]\n                    this.src = URL.createObjectURL(e.target.files[0]);\n                }\n            }\n        },\n        close(data) {\n            // window.history.go(-1)\n            this.$router.push({\n                name: \"Services Projects\",\n                path: 'services',\n                params: {\n                    data: data,\n                },\n            });\n        },\n        clear() {\n            this.service = new ServiceItem({})\n            this.mGroup = {}\n            this.mCategory = {}\n            this.mSubGroup = {}\n            this.loadAccount()\n            // this.loadTax()\n            this.loadUOM()\n            this.loadPriceLevel()\n            this.autoPrice()\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t('msg_title_warning'),\n                text: i18n.t('msg_discard'),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t('cancel'),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t('discard'),\n            }).then((resultCen) => {\n                if (resultCen.value) {\n                    this.$router.go(-1);\n                }\n            });\n        },\n        loadCategoryAccountAndTax() {\n            // this.mOtherTax = this.mCategory.tax.hasOwnProperty(\"otherTax\")\n            //     ? this.mCategory.tax.otherTax\n            //     : {};\n            // this.mSpecificTax = this.mCategory.tax.hasOwnProperty(\"specificTax\")\n            //     ? this.mCategory.tax.specificTax\n            //     : {};\n            // this.defaultTax = this.mCategory.tax.hasOwnProperty(\"defaultTax\")\n            //     ? this.mCategory.tax.defaultTax\n            //     : {};\n            // this.mPurchaseTax = this.mCategory.tax.hasOwnProperty(\"purchaseTax\")\n            //     ? this.mCategory.tax.purchaseTax\n            //     : {};\n            this.mIncomeAcc = this.mCategory.account.hasOwnProperty(\"incomeAcc\")\n                ? this.mCategory.account.incomeAcc\n                : {};\n            this.mAccCostOfGoodSold = this.mCategory.account.hasOwnProperty(\n                \"costOfGoodsSoldAcc\"\n            )\n                ? this.mCategory.account.costOfGoodsSoldAcc\n                : {};\n        },\n        async onCategoryChanged() {\n            this.disabled = false\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    // window.console.log(this.mCategory)\n                    this.mGroup = \"\";\n                    this.mSubGroup = \"\";\n                    // this.loadCategoryAccountAndTax()\n                    this.group = this.groups.filter(\n                        (m) => m.category.id === this.mCategory.id\n                    );\n                    if (this.group.length > 0) {\n                        this.mGroup = this.group[0];\n                        this.subGroup = this.subGroups.filter(\n                            (m) => m.group.id === this.group[0].id\n                        );\n                        if (this.subGroup.length > 0) {\n                            this.mSubGroup = this.subGroup[0];\n                        }\n                    }\n                    this.loadCategoryAccountAndTax()\n                }, 10);\n            });\n        },\n        async loadAccount() {\n            this.accLoading = true\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    accountHandler.getAll().then((res) => {\n                        this.showLoading = false;\n                        const accRevenue = res.data\n                            .filter((m) => m.account_type.number === 32)\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type\n                                }\n                            });\n                        const unEarnRevenue = res.data\n                            .filter((m) => m.account_type.number === 19 ||m.account_type.number === 20)\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type\n                                }\n                            });\n                        this.accRevenue = [...accRevenue, ...unEarnRevenue]\n                        if (this.accRevenue.length > 0) {\n                            this.mIncomeAcc = this.accRevenue[0];\n                        }\n                        this.accInventory = res.data\n                            .filter((m) => m.account_type.number === 8)\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type\n                                }\n                            });\n                        if (this.accInventory.length > 0) {\n                            this.mAccInventory = this.accInventory[0];\n                        }\n                        this.accCostOfGoodSold = res.data\n                            .filter((m) => m.account_type.number === 33)\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type\n                                }\n                            });\n                        if (this.accCostOfGoodSold.length > 0) {\n                            this.mAccCostOfGoodSold = this.accCostOfGoodSold[0];\n                        }\n                        this.accLoading = false\n                    });\n                }, 10);\n            });\n        },\n        async loadCategory() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    categoryHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.categories = res;\n                        // window.console.log(res)\n                        this.categories = this.categories.filter(i => i.hasOwnProperty('type') && i.type.name === 'Service')\n                        // if (this.categories.length > 0) {\n                        //   this.mCategory = this.categories[0];\n                        //   this.onCategoryChanged();\n                        // }\n                    });\n                }, 10);\n            });\n        },\n        async loadGroup() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    groupHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.groups = res.filter(m => m.category.hasOwnProperty('type') && m.category.type.name === 'Service');\n                        // window.console.log(res, 'group')\n                        // this.loadSubGroup(this.mGroup);\n                    });\n                }, 10);\n            });\n        },\n        async loadSubGroup(group) {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    subGroupHandler.get().then((res) => {\n                        this.showLoading = false;\n                        if (group) {\n                            if (group.hasOwnProperty('id')) {\n                                this.subGroups = res.filter(m => m.group.id === group.id)\n                                this.disabledS = false\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        // async skuGenerator() {\n        //     new Promise((resolve) => {\n        //         setTimeout(() => {\n        //             resolve(\"resolved\");\n        //             // window.console.log(this.mCategory.abbr);\n        //             this.service.sku =\n        //                 this.mCategory.abbr +\n        //                 \"/\" +\n        //                 this.mGroup.abbr +\n        //                 \"/\" +\n        //                 this.mSubGroup.abbr +\n        //                 \"-\" +\n        //                 this.service.name.toString().substring(0, 3);\n        //         }, 10);\n        //     });\n        // },\n        async skuGenerator() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const category = this.mCategory || {};\n                    const group = this.mGroup || {};\n                    const sGroup = this.mSubGroup || {};\n                    let cateAbbr = \"\",\n                        groupAbbr = \"\",\n                        sGroupAbbr = \"\",\n                        skuCode = \"\";\n                    if (category.id) {\n                        cateAbbr = category.abbr || \"\";\n                        skuCode += cateAbbr + \"/\";\n                    }\n                    if (group.id) {\n                        groupAbbr = group.abbr || \"\";\n                        skuCode += groupAbbr + \"/\";\n                    }\n                    if (sGroup.id) {\n                        sGroupAbbr = sGroup.abbr || \"\";\n                        skuCode += sGroupAbbr\n                    }\n                    this.service.sku = skuCode\n                    // if (this.product.name) {\n                    //     this.product.sku =\n                    //         skuCode + this.product.name.toString().substring(0, 3);\n                    // }\n                }, 10);\n            });\n        },\n        async loadUOM() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    uomHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.uom = res;\n                        if (this.uom.length > 0) {\n                            this.mUOM = this.uom[0];\n                            // this.mPurchaseUOM = this.uom[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadWareHouses() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    warehouseHandler.getWarehouseSettingAll().then((res) => {\n                        this.showLoading = false;\n                        this.wareHouses = res;\n                        if (this.wareHouses.length > 0) {\n                            this.mWareHouse = this.wareHouses[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadTax() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    settingHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.tax = res\n                        let st = this.tax.filter(m => m.taxType.typeId === 8 && m.transactionType === 'Sale') //specific tax\n                        this.specificTax = st // special tax\n\n                        let vAT = this.tax.filter(m => m.taxType.typeId === 1 && m.transactionType === 'Sale') // valuable tax\n                        this.vat = vAT // valuable tax\n\n                        let otTax = this.tax.filter(m => m.taxType.typeId === 7 && m.transactionType === 'Sale') // Other tax\n                        this.otherTax = otTax // valuable tax\n\n                        this.purchaseTax = this.tax.filter(m => m.taxType.typeId === 1 && m.transactionType === 'Purchase') // valuable tax\n                        // this.mPurchaseTax = purchaseTax // valuable tax\n\n                        if (this.specificTax.length > 0) {\n                            this.mSpecificTax = this.specificTax[0]\n                        }\n                        if (this.vat.length > 0) {\n                            this.defaultTax = this.vat[0]\n                        }\n                        if (this.otherTax.length > 0) {\n                            this.mOtherTax = this.otherTax[0]\n                        }\n                        if (this.purchaseTax.length > 0) {\n                            this.mPurchaseTax = this.purchaseTax[0]\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadSingleService() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    serviceItemHandler.getOne(this.$route.params.id).then(async (res) => {\n                        this.showLoading = false;\n                        this.service = res;\n                        if (this.service.id !== undefined) {\n                            this.mCategory = this.service.category;\n                            await this.loadGroup()\n                            this.mGroup = this.service.group;\n                            await this.loadSubGroup(this.mGroup)\n                            this.mSubGroup = this.service.subGroup;\n                            this.mUOM = this.service.uom;\n                            // this.mPurchaseUOM = this.service.purchaseUOM;\n                            this.mAccCostOfGoodSold = this.service.costOfGoodsSoldAcc;\n                            // this.mAccInventory = this.service.inventoryAccount;\n                            this.mIncomeAcc = this.service.incomeAcc;\n                            this.mSpecificTax = this.service.specificTax;\n                            this.mOtherTax = this.service.otherTax;\n                            this.defaultTax = this.service.defaultTax;\n                            this.mPurchaseTax = this.service.purchaseTax;\n                            this.mWareHouse = this.service.warehouse;\n                            this.src = \"\";\n                            if (this.service.hasOwnProperty(\"images\")) {\n                                let imgUrl = \"\";\n                                if (this.service.images.hasOwnProperty(\"default\")) {\n                                    imgUrl = this.service.images.default.thumb;\n                                    this.src =\n                                        \"https://s3-ap-southeast-1.amazonaws.com/images.banhji/\" +\n                                        imgUrl;\n                                }\n                            }\n\n                            if (this.$route.query.type === \"new\") {\n                                this.src = \"\";\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async initData() {\n            if (this.$route.params.id !== undefined) {\n                await this.loadSingleService();\n            }\n        },\n    },\n    mounted: async function () {\n        await this.loadUOM();\n        await this.loadWareHouses();\n        await this.loadTax();\n        await this.initData();\n        await this.loadCategory();\n        await this.loadGroup();\n        await this.loadPriceLevel();\n    },\n    computed: {\n        amountType() {\n            const priceLevel = this.service.priceLevel || {}\n            if (priceLevel) {\n                const currency = priceLevel.currency || {}\n                const type = priceLevel.type || {}\n                const name = type.name || ''\n                const code = currency.code || ''\n                let strValue = ''\n                if (name === 'Percentage Base') {\n                    strValue = '%'\n                } else if (name === 'Standard') {\n                    strValue = code || ''\n                }\n                return strValue\n            } else {\n                return ''\n            }\n        },\n        hiddenButton() {\n            if (this.$route.query.type == \"edit\") {\n                return true\n            } else {\n                return false\n            }\n        }\n    },\n    created: async function () {\n        await this.loadAccount();\n\n    },\n    watch: {\n        id() {\n            // window.console.log(this.id, \"watch\");\n            if (this.id !== undefined) {\n                this.loadSingleService();\n            }\n        },\n    },\n};\n</script>\n\n<style scoped>\n.function_content {\n    padding: 0 25px 25px;\n    border-bottom: 0;\n    background-color: #fff !important;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        /* max-width: 1185px; */\n        max-width: 1080px !important;\n    }\n}\n\n.grayBg {\n    background-color: #F8F8F9;\n}\n\n@media (max-width: 576px) {\n    .mb-6 {\n        margin-bottom: 0 !important;\n    }\n}\n\n.section2 {\n    border: 1px solid #d6d7d8;\n}\n\n.border_grey {\n    border: 1px solid #d6d7d8;\n}\n\n.attachment_table {\n    width: 100%;\n}\n\n.my_checkbox input[type=\"checkbox\"] + label {\n    display: grid;\n    grid-template-columns: 20% 80%;\n    margin: 0.2em 0px;\n    cursor: pointer;\n    line-height: 16px;\n    padding: 0.2em;\n}\n</style>\n"]}]}