{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/components/dropdownlist/ProductGroupDropDownList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/components/dropdownlist/ProductGroupDropDownList.vue","mtime":1638931253145},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwppbXBvcnQgUHJvZHVjdEdyb3VwIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9Qcm9kdWN0R3JvdXAiOwoKY29uc3QgYXBpVXJsID0gcmVxdWlyZSgnQC9hcGkvcHJvZHVjdCcpOwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnUHJvZHVjdEdyb3VwRHJvcERvd25MaXN0JywKICAgIGNvbXBvbmVudHM6IHt9LAogICAgcHJvcHM6IHsKICAgICAgICBpbml0UHJvZHVjdEdyb3VwOiB7CiAgICAgICAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgICB9LAogICAgICAgIGluaXRNb2RlbDogewogICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgfSwKICAgICAgICBjYXRlZ29yeUlkOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICB9CiAgICAgICAgLy8gY2F0ZUlkOiB7CiAgICAgICAgLy8gICAgIHR5cGU6IFN0cmluZwogICAgICAgIC8vIH0KICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGdyb3VwOiBuZXcgUHJvZHVjdEdyb3VwKHt9KSwKICAgICAgICAgICAgc2VsZWN0VmFsdWU6IHt9LAogICAgICAgICAgICB1cmw6IGFwaVVybC5ncm91cF9nZXQsCiAgICAgICAgICAgIGlkOiAnZGRsUHJvZHVjdEdyb3VwXycgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKQogICAgICAgIH0KICAgIH0sCiAgICAvLyBjb21wdXRlZDogbWFwU3RhdGUoewogICAgLy8gICAgIHNlZ21lbnRzOiBzdGF0ZSA9PiBzdGF0ZS5zZWdtZW50cy5hbGwKICAgIC8vIH0pLAogICAgbWV0aG9kczogewogICAgICAgIGFzeW5jIG9uQ2hhbmdlKGV2KSB7CiAgICAgICAgICAgIGlmIChldikgewogICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9IGV2LnNlbmRlci5zZWxlY3QoKTsKICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbSA9IGV2LnNlbmRlci5kYXRhSXRlbShzZWxlY3RlZEluZGV4KS50b0pTT04oKTsKICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXAgPSBuZXcgUHJvZHVjdEdyb3VwKHNlbGVjdGVkSXRlbSk7CiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdvbkNoYW5nZScsIHRoaXMuZ3JvdXApOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBiaW5kRGF0YSh1cmwpIHsKICAgICAgICAgICAga2VuZG8ualF1ZXJ5KCcjJyArIHRoaXMuaWQpLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICAgICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICAgICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgICAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogImpzb24iLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogImlkIgogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiAocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChyZXNwb25zZS5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBjb25zdCByb3cgPSByZXNwb25zZS5kYXRhWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy4kZW1pdCgnb25DaGFuZ2UnLCByb3cpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmZpbHRlcihyb3cgPT4gcm93LmNhdGVnb3J5LnR5cGUubmFtZSA9PT0gJ1Byb2R1Y3QnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGdyb3VwOiB7ZmllbGQ6ICdjYXRlZ29yeS5uYW1lJ30KICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgY2hhbmdlOiB0aGlzLm9uQ2hhbmdlLAogICAgICAgICAgICAgICAgZmlsdGVyOiAnY29udGFpbnMnLAogICAgICAgICAgICAgICAgb3B0aW9uTGFiZWw6ICctLSBTZWxlY3QgLS0nCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgc2VsZWN0SXRlbSgpIHsKICAgICAgICAgICAgLy8gZG8gc3R1ZmYKICAgICAgICAgICAgaWYgKHRoaXMuaW5pdE1vZGVsKSB7CiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuaW5pdE1vZGVsLmlkIHx8ICcnCiAgICAgICAgICAgICAgICBpZiAoaWQgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHJvcElkID0ga2VuZG8ualF1ZXJ5KCcjJyArIHRoaXMuaWQpLmRhdGEoImtlbmRvRHJvcERvd25MaXN0IikKICAgICAgICAgICAgICAgICAgICBkcm9wSWQudmFsdWUoaWQpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgaW5pdFByb2R1Y3RHcm91cCgpIHsKICAgICAgICAgICAgdGhpcy5ncm91cCA9IHRoaXMuaW5pdFByb2R1Y3RHcm91cDsKICAgICAgICB9LAogICAgICAgIGluaXRNb2RlbCgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0VmFsdWUpIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0VmFsdWUgPSB0aGlzLmluaXRNb2RlbDsKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0SXRlbSgpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGluaXRDYXRlZ29yeUlkKCkgewogICAgICAgICAgICBpZiAodGhpcy5jYXRlZ29yeUlkKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5SWQgPSB0aGlzLmluaXRDYXRlZ29yeUlkOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvLyBpbml0Q2F0ZUlkKCkgewogICAgICAgIC8vICAgICB0aGlzLmNhdGVJZCA9IHRoaXMuaW5pdENhdGVJZDsKICAgICAgICAvLyB9LAogICAgfSwKICAgIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICAgICAgLy8gdGhpcy5sb2FkRGF0YSh0aGlzLnVybCk7CiAgICB9LAogICAgYXN5bmMgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmJpbmREYXRhKHRoaXMudXJsKTsKICAgICAgICAvKiBJbml0aWFsIG9iaiAqLwogICAgICAgIHRoaXMuZ3JvdXAgPSB0aGlzLmluaXRQcm9kdWN0R3JvdXA7CiAgICAgICAgdGhpcy5zZWxlY3RWYWx1ZSA9IHRoaXMuaW5pdE1vZGVsOwogICAgICAgIC8vIHRoaXMuY2F0ZUlkID0gdGhpcy5pbml0Q2F0ZUlkOwogICAgICAgIC8vIHRoaXMuJGVtaXQoJ29uQ2hhbmdlJywgdGhpcy5wbU9wdGlvbik7CiAgICAgICAgLy8gY3JlYXRlIERyb3BEb3duTGlzdCBmcm9tIGlucHV0IEhUTUwgZWxlbWVudAogICAgICAgIC8vIGF3YWl0IHRoaXMubG9hZERhdGEoJycsIHRoaXMuc3VwQmFzZVVybCk7CiAgICB9Cn0K"},{"version":3,"sources":["ProductGroupDropDownList.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProductGroupDropDownList.vue","sourceRoot":"src/components/dropdownlist","sourcesContent":["<template>\n    <div>\n        <input :id=\"id\" style=\"width: 100%; margin-top: 4px\"/>\n    </div>\n</template>\n\n<script>\nimport kendo from \"@progress/kendo-ui\";\nimport ProductGroup from \"@/scripts/model/ProductGroup\";\n\nconst apiUrl = require('@/api/product');\nexport default {\n    name: 'ProductGroupDropDownList',\n    components: {},\n    props: {\n        initProductGroup: {\n            type: Object,\n        },\n        initModel: {\n            type: Object,\n        },\n        categoryId: {\n            type: String,\n        }\n        // cateId: {\n        //     type: String\n        // }\n    },\n    data() {\n        return {\n            group: new ProductGroup({}),\n            selectValue: {},\n            url: apiUrl.group_get,\n            id: 'ddlProductGroup_' + Math.floor(Math.random() * 1000)\n        }\n    },\n    // computed: mapState({\n    //     segments: state => state.segments.all\n    // }),\n    methods: {\n        async onChange(ev) {\n            if (ev) {\n                const selectedIndex = ev.sender.select();\n                const selectedItem = ev.sender.dataItem(selectedIndex).toJSON();\n                this.group = new ProductGroup(selectedItem);\n                this.$emit('onChange', this.group);\n            }\n        },\n        bindData(url) {\n            kendo.jQuery('#' + this.id).kendoDropDownList({\n                dataTextField: \"name\",\n                dataValueField: \"id\",\n                dataSource: new kendo.data.DataSource({\n                    transport: {\n                        read: {\n                            url: url,\n                        },\n                        dataType: \"json\",\n                    },\n                    schema: {\n                        model: {\n                            id: \"id\"\n                        },\n                        data: (response) => {\n                            // if (response.data.length > 0) {\n                            //     const row = response.data[0]\n                            //     this.$emit('onChange', row);\n                            // }\n                            this.selectItem()\n                            return response.data.filter(row => row.category.type.name === 'Product');\n                        },\n                    },\n                    group: {field: 'category.name'}\n                }),\n                change: this.onChange,\n                filter: 'contains',\n                optionLabel: '-- Select --'\n            });\n        },\n        async selectItem() {\n            // do stuff\n            if (this.initModel) {\n                const id = this.initModel.id || ''\n                if (id !== '') {\n                    const dropId = kendo.jQuery('#' + this.id).data(\"kendoDropDownList\")\n                    dropId.value(id)\n                }\n            }\n        },\n    },\n    watch: {\n        initProductGroup() {\n            this.group = this.initProductGroup;\n        },\n        initModel() {\n            if (this.selectValue) {\n                this.selectValue = this.initModel;\n                this.selectItem()\n            }\n        },\n        initCategoryId() {\n            if (this.categoryId) {\n                this.categoryId = this.initCategoryId;\n            }\n        },\n        // initCateId() {\n        //     this.cateId = this.initCateId;\n        // },\n    },\n    async created() {\n        // this.loadData(this.url);\n    },\n    async mounted() {\n        this.bindData(this.url);\n        /* Initial obj */\n        this.group = this.initProductGroup;\n        this.selectValue = this.initModel;\n        // this.cateId = this.initCateId;\n        // this.$emit('onChange', this.pmOption);\n        // create DropDownList from input HTML element\n        // await this.loadData('', this.supBaseUrl);\n    }\n}\n</script>"]}]}