{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/components/VOffline.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/components/VOffline.vue","mtime":1638499442943},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQaW5nIGZyb20gJ3BpbmcuanMnOwoKY29uc3QgRVZFTlRTID0gWydvbmxpbmUnLCAnb2ZmbGluZScsICdsb2FkJ107CmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdWT2ZmbGluZScsCiAgICBwcm9wczogewogICAgICAgIHNsb3ROYW1lOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgICAgICBkZWZhdWx0OiAnb25saW5lJywKICAgICAgICB9LAogICAgICAgIG9ubGluZUNsYXNzOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgICAgICBkZWZhdWx0OiAnJywKICAgICAgICB9LAogICAgICAgIG9mZmxpbmVDbGFzczogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICAgICAgZGVmYXVsdDogJycsCiAgICAgICAgfSwKICAgICAgICBwaW5nVXJsOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgICAgICBkZWZhdWx0OiAnaHR0cHM6Ly9nb29nbGUuY29tJywKICAgICAgICB9LAogICAgfSwKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgaXNPbmxpbmU6IG5hdmlnYXRvci5vbkxpbmUgfHwgZmFsc2UsCiAgICB9KSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgY29tcHV0ZWRDbGFzcygpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNPbmxpbmUgPyB0aGlzLm9ubGluZUNsYXNzIDogdGhpcy5vZmZsaW5lQ2xhc3M7CiAgICAgICAgfSwKICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIEVWRU5UUy5mb3JFYWNoKChldmVudCkgPT4KICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMudXBkYXRlT25saW5lU3RhdHVzKSwKICAgICAgICApOwogICAgfSwKICAgIGJlZm9yZURlc3Ryb3koKSB7CiAgICAgICAgRVZFTlRTLmZvckVhY2goKGV2ZW50KSA9PgogICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgdGhpcy51cGRhdGVPbmxpbmVTdGF0dXMpLAogICAgICAgICk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHVwZGF0ZU9ubGluZVN0YXR1cygpIHsKICAgICAgICAgICAgY29uc3QgdCA9IHRoaXM7CiAgICAgICAgICAgIGNvbnN0IHAgPSBuZXcgUGluZygpOwogICAgICAgICAgICBwLnBpbmcodC5waW5nVXJsLCAoZXJyKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoZXJyIHx8ICFuYXZpZ2F0b3Iub25MaW5lKSB7CiAgICAgICAgICAgICAgICAgICAgdC5pc09ubGluZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHQuJGVtaXQoJ2RldGVjdGVkLWNvbmRpdGlvbicsIHQuaXNPbmxpbmUpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0LmlzT25saW5lID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB0LiRlbWl0KCdkZXRlY3RlZC1jb25kaXRpb24nLCB0LmlzT25saW5lKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgIH0sCn07Cgo="},{"version":3,"sources":["VOffline.vue"],"names":[],"mappings":";;;;;;;AAOA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VOffline.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div :class=\"computedClass\">\n        <slot :name=\"slotName\"/>\n    </div>\n</template>\n\n<script>\nimport Ping from 'ping.js';\n\nconst EVENTS = ['online', 'offline', 'load'];\nexport default {\n    name: 'VOffline',\n    props: {\n        slotName: {\n            type: String,\n            required: false,\n            default: 'online',\n        },\n        onlineClass: {\n            type: String,\n            required: false,\n            default: '',\n        },\n        offlineClass: {\n            type: String,\n            required: false,\n            default: '',\n        },\n        pingUrl: {\n            type: String,\n            required: false,\n            default: 'https://google.com',\n        },\n    },\n    data: () => ({\n        isOnline: navigator.onLine || false,\n    }),\n    computed: {\n        computedClass() {\n            return this.isOnline ? this.onlineClass : this.offlineClass;\n        },\n    },\n    created() {\n        EVENTS.forEach((event) =>\n            window.addEventListener(event, this.updateOnlineStatus),\n        );\n    },\n    beforeDestroy() {\n        EVENTS.forEach((event) =>\n            window.removeEventListener(event, this.updateOnlineStatus),\n        );\n    },\n    methods: {\n        updateOnlineStatus() {\n            const t = this;\n            const p = new Ping();\n            p.ping(t.pingUrl, (err) => {\n                if (err || !navigator.onLine) {\n                    t.isOnline = false;\n                    t.$emit('detected-condition', t.isOnline);\n                } else {\n                    t.isOnline = true;\n                    t.$emit('detected-condition', t.isOnline);\n                }\n            });\n        },\n    },\n};\n\n</script>\n\n<style scoped>\n\n</style>"]}]}