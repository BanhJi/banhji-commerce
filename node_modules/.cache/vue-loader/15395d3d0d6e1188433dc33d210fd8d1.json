{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/banking/settings/BankTransactionMappings.vue?vue&type=style&index=0&id=45990d5e&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/banking/settings/BankTransactionMappings.vue","mtime":1638499443134},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5hY2NfZ3JvdXAgaGVhZGVyIHsKCWhlaWdodDogMTBweCAhaW1wb3J0YW50Owp9Cgp0YWJsZS5hY2NfZ3JvdXAgdHIgdGQgewoJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7CglwYWRkaW5nOiA4cHg7Cgl2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwp9Cgp0YWJsZS5hY2NfZ3JvdXAgdHIgdGQ6Zmlyc3QtY2hpbGQgewoJZm9udC13ZWlnaHQ6IDcwMDsKfQoKdGFibGUuYWNjX2dyb3VwIHRyIHRkOmxhc3QtY2hpbGQgewoJdGV4dC1hbGlnbjogY2VudGVyOwp9Cgoudi1jYXJkX19hY3Rpb25zIC52LWJ0bi52LWJ0biB7CglwYWRkaW5nOiAwIDE2cHg7Cn0KCi5leGNoYW5nZS10YWJsZS50aGVtZS0tbGlnaHQudi1kYXRhLXRhYmxlCgk+IC52LWRhdGEtdGFibGVfX3dyYXBwZXIKCT4gdGFibGUKCT4gdGhlYWQKCT4gdHIKCT4gdGggewoJZm9udC1mYW1pbHk6ICJOaXJhZGVpLUJvbGQiLCBzZXJpZjsKCWNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7Cglib3JkZXItdG9wOiAxcHggc29saWQgIzAwMCAhaW1wb3J0YW50OwoJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDAgIWltcG9ydGFudDsKCWZvbnQtc2l6ZTogMTVweCAhaW1wb3J0YW50Owp9CgouZXhjaGFuZ2UtdGFibGUudGhlbWUtLWxpZ2h0LnYtZGF0YS10YWJsZQoJPiAudi1kYXRhLXRhYmxlX193cmFwcGVyCgk+IHRhYmxlCgk+IHRoZWFkCgk+IHRyCgk+IHRkIHsKCWNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7CglwYWRkaW5nOiA1cHggIWltcG9ydGFudDsKfQoKLmV4Y2hhbmdlLXRhYmxlLnRoZW1lLS1saWdodC52LWRhdGEtdGFibGUKCT4gLnYtZGF0YS10YWJsZV9fd3JhcHBlcgoJPiB0YWJsZQoJPiB0Ym9keQoJPiB0cjpsYXN0LWNoaWxkCgl0ZCB7Cglib3JkZXItYm90dG9tOiAxcHggc29saWQgIzAwMCAhaW1wb3J0YW50Owp9CgouZnVuY3Rpb25fZm9vdGVyIHsKCXBhZGRpbmc6IDE1cHg7CglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cn0KCkBtZWRpYSAobWF4LXdpZHRoOiA1NzZweCkgewp9Cg=="},{"version":3,"sources":["BankTransactionMappings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"BankTransactionMappings.vue","sourceRoot":"src/views/banking/settings","sourcesContent":["<template>\n\t<v-row class=\"\">\n\t\t<v-col sm=\"9\" cols=\"12\" class=\"pt-0\">\n\t\t\t<h2 class=\"font_20 mb-0\">{{ $t(\"bank_transactions_mapping\") }}</h2>\n\t\t\t<p class=\"mb-0\">\n\t\t\t\t{{ $t(\"bank_transaction_rules_desc\") }}\n\t\t\t</p>\n\t\t</v-col>\n\n\t\t<v-col sm=\"3\" cols=\"12\" class=\"pt-0 d-flex\">\n\t\t\t<v-btn to=\"bank_transaction_mapping\" color=\"primary\" class=\"white--text\">{{$t('create_new')}}</v-btn>\n\t\t\t<v-btn @click=\"loadData\" color=\"primary\" class=\"ml-5\">\n\t\t\t\t<v-icon>refresh</v-icon>\n\t\t\t</v-btn>\n\t\t</v-col>\n\n\t\t<v-col sm=\"12\" cols=\"12\">\n\t\t\t<kendo-datasource\n\t\t\t\tref=\"bankTransactionRuleDS\"\n\t\t\t\t:data=\"bankTransactionMappings\"\n\t\t\t\t:page-size=\"5\"\n\t\t\t/>\n\n\t\t\t<kendo-grid\n\t\t\t\tid=\"bankTransactionMappingGrid\"\n\t\t\t\tref=\"bankTransactionMappingGrid\"\n\t\t\t\t:data-source-ref=\"'bankTransactionRuleDS'\"\n\t\t\t\t:noRecords=\"true\"\n\t\t\t\t:sortable=\"true\"\n\t\t\t\t:filterable=\"true\"\n\t\t\t\t:column-menu=\"true\"\n\t\t\t\t:scrollable-virtual=\"true\"\n\t\t\t\t:navigatable=\"true\"\n\t\t\t\t:pageable-always-visible=\"false\"\n\t\t\t\t:pageable-page-sizes=\"[5, 10, 20, 100]\"\n\t\t\t>\n\t\t\t\t<kendo-grid-column\n\t\t\t\t\t:field=\"'name'\"\n\t\t\t\t\t:attributes=\"{ class: 'tb_name_td' }\"\n\t\t\t\t\t:title=\"$t('name')\"\n\t\t\t\t/>\n\t\t\t\t<kendo-grid-column\n\t\t\t\t\t:field=\"'bank.name'\"\n\t\t\t\t\t:attributes=\"{ class: 'tb_name_td' }\"\n\t\t\t\t\t:title=\"$t('financial_institution')\"\n\t\t\t\t/>\n\t\t\t\t<kendo-grid-column\n\t\t\t\t\t:field=\"'condition'\"\n\t\t\t\t\t:title=\"$t('conditions')\"\n\t\t\t\t\t:template=\"conditionTmpl\"\n\t\t\t\t/>\n\t\t\t\t<kendo-grid-column\n\t\t\t\t\t:command=\"{\n\t\t\t\t\t\ticonClass: 'fas fa-edit',\n\t\t\t\t\t\ttext: $t('edit'),\n\t\t\t\t\t\tclick: onEditClick,\n\t\t\t\t\t}\"\n\t\t\t\t\t:title=\"$t('action')\"\n\t\t\t\t\t:width=\"100\"\n\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\tstyle: 'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t}\"\n\t\t\t\t/>\n\t\t\t</kendo-grid>\n\n\t\t\t<LoadingMe \n\t\t\t\t:isLoading=\"showLoading\" \n\t\t\t\t:fullPage=\"false\" \n\t\t\t\ttype=\"loading\"\n\t\t\t\t:myLoading=\"true\" />\n\t\t</v-col>\n\t</v-row>\n</template>\n\n<script>\n// import {i18n} from '@/i18n'\nimport kendo from \"@progress/kendo-ui\";\n// import Helper from \"@/helper.js\";\nimport {\n\tBankTransactionMappingModel,\n\tBankModel,\n} from \"@/scripts/model/AppModels\";\n\n/* Store */\nimport store from \"@/store\";\n\nconst { BankMappingType } = require(\"@/scripts/default_setup/Collections\");\n\nexport default {\n\tcomponents: {\n\t\t\"LoadingMe\": () => import('@/components/Loading'),\n\t},\n\tdata: () => ({\n\t\t// Obj\n\t\tbankTransactionMappings: [],\n\t\t/* LodingMe */\n\t\tshowLoading: false,\n\t}),\n\tmethods: {\n\t\t// Load data\n\t\tasync loadData() {\n\t\t\tthis.showLoading = true;\n\n\t\t\t/* Reset */\n\t\t\tstore.state.banking.bankMappingLoaded = false;\n\n\t\t\tlet banks = await this.$store.dispatch('banking/getBanks');\n\t\t\t\n\t\t\t/* Call Bank Mapping List */\n\t\t\tlet bankMappings = await this.$store.dispatch('banking/getBankMappings');\n\n\t\t\tlet bankMappingList = [];\n\t\t\tbankMappings.forEach(value => {\n\t\t\t\tif(value.type === BankMappingType.RULE){\n\t\t\t\t\tlet bankMapping = new BankTransactionMappingModel(value);\n\t\t\t\t\tbankMapping.bank = new BankModel(banks.find(i=>i.uuid === value.bank_uuid));\n\n\t\t\t\t\tbankMappingList.push(bankMapping);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bankTransactionMappings = bankMappingList;\n\t\t\t\n\t\t\tthis.showLoading = false;\n\t\t},\n\t\tconditionTmpl(d) {\n\t\t\tlet str = \"\";\n\t\t\td.criteria.forEach((row, index) => {\n\t\t\t\tif (row.operator === \"eq\") {\n\t\t\t\t\tstr += `${row.field} ${row.operator} ${row.field2}`;\n\t\t\t\t} else {\n\t\t\t\t\tstr += `[${row.field}, ${row.field2}] ${row.operator} ${row.value}`;\n\t\t\t\t}\n\n\t\t\t\t// Logic\n\t\t\t\tif (index < d.criteria.length - 1) {\n\t\t\t\t\tstr += ` <span style='color:blue'>${d.condition}</span> `;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn str;\n\t\t},\n\t\t// On Edit Click\n\t\tonEditClick(e) {\n\t\t\te.preventDefault();\n\t\t\tlet grid = this.$refs.bankTransactionMappingGrid.kendoWidget(),\n\t\t\t\tdataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n\t\t\t\t\n\t\t\tthis.$router.push({\n\t\t\t\tname: \"Bank Transaction Mapping\",\n\t\t\t\tparams: { initBankTransactionMapping: new BankTransactionMappingModel(dataItem) },\n\t\t\t});\n\t\t},\n\t},\n\twatch:{\n\t\t$route (to, from){\n\t\t\tif(from.name === \"Bank Transaction Mapping\"){\n\t\t\t\tthis.loadData();\n\t\t\t}\n\t\t}\n\t},\n\tcreated() {\n\t\t// Load Data\n\t\tthis.loadData();\n\t},\n};\n</script>\n\n<style scoped>\n.acc_group header {\n\theight: 10px !important;\n}\n\ntable.acc_group tr td {\n\tborder-bottom: 1px solid #ccc;\n\tpadding: 8px;\n\tvertical-align: middle;\n}\n\ntable.acc_group tr td:first-child {\n\tfont-weight: 700;\n}\n\ntable.acc_group tr td:last-child {\n\ttext-align: center;\n}\n\n.v-card__actions .v-btn.v-btn {\n\tpadding: 0 16px;\n}\n\n.exchange-table.theme--light.v-data-table\n\t> .v-data-table__wrapper\n\t> table\n\t> thead\n\t> tr\n\t> th {\n\tfont-family: \"Niradei-Bold\", serif;\n\tcolor: #000 !important;\n\tborder-top: 1px solid #000 !important;\n\tborder-bottom: 1px solid #000 !important;\n\tfont-size: 15px !important;\n}\n\n.exchange-table.theme--light.v-data-table\n\t> .v-data-table__wrapper\n\t> table\n\t> thead\n\t> tr\n\t> td {\n\tcolor: #000 !important;\n\tpadding: 5px !important;\n}\n\n.exchange-table.theme--light.v-data-table\n\t> .v-data-table__wrapper\n\t> table\n\t> tbody\n\t> tr:last-child\n\ttd {\n\tborder-bottom: 1px solid #000 !important;\n}\n\n.function_footer {\n\tpadding: 15px;\n\tdisplay: inline-block;\n}\n\n@media (max-width: 576px) {\n}\n</style>\n"]}]}