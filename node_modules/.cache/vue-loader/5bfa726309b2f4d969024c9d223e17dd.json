{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/employee/EmployeeBenefits.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/employee/EmployeeBenefits.vue","mtime":1638499443251},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IGVtcGxveWVlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9lbXBsb3llZUhhbmRsZXIiKQpjb25zdCBzZXR0aW5nc0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2V0dGluZ3NIYW5kbGVyIikKY29uc3QgYWNjb3VudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaGFuZGxlci9hY2NvdW50aW5nL2FjY291bnQiKQpjb25zdCBjdXJyZW5jeUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY3VycmVuY3kvaGFuZGxlci9jdXJyZW5jeUhhbmRsZXIiKQpjb25zdCB7IEVudGl0eVR5cGUsIH0gPSByZXF1aXJlKCJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9Db2xsZWN0aW9ucyIpOwpjb25zdCBpbnN0aXR1dGVIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2luc3RpdHV0ZUhhbmRsZXIiKQpjb25zdCBwYXlyb2xsSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wYXlyb2xsSGFuZGxlciIpCmltcG9ydCBIZWxwZXIgZnJvbSAiQC9oZWxwZXIuanMiOwppbXBvcnQgTG9hZGluZ01lIGZyb20gIkAvY29tcG9uZW50cy9Mb2FkaW5nIjsKaW1wb3J0IHtKb3VybmFsTW9kZWwsCiAgICBKb3VybmFsRW50cnlNb2RlbCwKICAgIEFjY291bnRNb2RlbCwKCUN1cnJlbmN5TW9kZWwsfSBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQXBwTW9kZWxzIjsKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7CgovKiBDb29raWUgKi8KY29uc3QgY29va2llSlMgPSByZXF1aXJlKCJAL2Nvb2tpZS5qcyIpOwpjb25zdCBjb29raWUgPSBjb29raWVKUy5nZXRDb29raWUoKTsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgc2hvd0xvYWRpbmc6ICAgICAgICBmYWxzZSwKICAgICAgICBkaWFsb2dtOiAgICAgICAgICAgIGZhbHNlLAogICAgICAgIHZhbGlkOiAgICAgICAgICAgICAgdHJ1ZSwKICAgICAgICBlbXBsb3llZXM6ICAgICAgICAgIFtdLAogICAgICAgIGVtcGxveWVlOiAgICAgICAgICAgJycsCiAgICAgICAgc2VhcmNoOiAgICAgICAgICAgICBudWxsLAogICAgICAgIHN0YXJ0X2RhdGU6ICAgICAgICAgJycsCiAgICAgICAgc2VsZWN0U2VnZW1lbnQ6ICAgICAnJywKICAgICAgICBzZWdtZW50czogICAgICAgICAgIFtdLAogICAgICAgIGFjY0JlbmVmaXQ6ICAgICAgICAgW10sCiAgICAgICAgc2VsZWN0QWNjQmVuZWZpdDogICAnJywKICAgICAgICBhbW91bnQ6ICAgICAgICAgICAgICcnLAogICAgICAgIGZyaW5nZUJlbmVmaXQ6ICAgICAgW10sCiAgICAgICAgZGVzY3JpcHRpb246ICAgICAgICAnJywKICAgICAgICBhY2NCZW5lZml0UGF5YmxlOiAgIFtdLAogICAgICAgIEZidFBheWJsZTogICAgICAgICAge30sCiAgICAgICAgam91cm5hbDogICAgICAgICAgICAnJywKICAgICAgICBjdXJyZW5jeUxpc3Q6ICAgICAgIFtdLAogICAgICAgIFNlbGVjdGVkQ3VycmVuY3k6ICAgJycsCiAgICAgICAgam91cm5hbEVudHJ5OiAgICAgICBbXSwKICAgICAgICBpZDogICAgICAgICAgICAgICAgICcnLAogICAgICAgIGpvdXJuYWxFZGl0OiAgICAgICAgJycsCiAgICAgICAgYmFzZUN1cnJlbmN5OiAgICAgICB7fSwKICAgICAgICBjb21wYW55OiAgICAgICAgICAgIHt9LAogICAgICAgIGV4Y2hhbmdlUmF0ZTogICAgICAge30sCiAgICAgICAgcGF5cm9sbFRheDogICAgICAgICB7fSwKICAgICAgICBzb3J0OlsKICAgICAgICAgICAgeyBmaWVsZDogJ2VtcGxveWVlLmVtcGxveWVlSWQnLCBkaXI6ICdhc2MnIH0KICAgICAgICBdLAogICAgICAgIG1vbnRoT2Y6ICcnLAogICAgICAgIG1vbnRoX29mOiAnJywKICAgICAgICBsb2dnZWRVc2VyOiB7CiAgICAgICAgICAgIGlkOiBjb29raWUuY3JlYXRvciwKICAgICAgICAgICAgbmFtZTogY29va2llLmVtYWlsCiAgICAgICAgfSwKICAgIH0pLAogICAgcHJvcHM6IHt9LAogICAgbWV0aG9kczogewogICAgICAgIGFzeW5jIGxvYWRFbXBsb3llZSgpewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJykKICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIGVtcGxveWVlSGFuZGxlci5jZW50ZXIoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1wbG95ZWVzID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAzMDApCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBlbXBsb3llZUZpbHRlcihpdGVtLCBxdWVyeVRleHQpewogICAgICAgICAgICBjb25zdCB0ZXh0T25lID0gaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkKICAgICAgICAgICAgY29uc3QgdGV4dFR3byA9IGl0ZW0uZW1wbG95ZWVJZC50b0xvd2VyQ2FzZSgpCiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFRleHQgPSBxdWVyeVRleHQudG9Mb3dlckNhc2UoKQogICAgICAgICAgICByZXR1cm4gdGV4dE9uZS5pbmRleE9mKHNlYXJjaFRleHQpID4gLTEgfHwKICAgICAgICAgICAgdGV4dFR3by5pbmRleE9mKHNlYXJjaFRleHQpID4gLTEKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRTZWdtZW50KCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJykKICAgICAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRzID0gW10KICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc0hhbmRsZXIuZ2V0U2VnKCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRzID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VnbWVudHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0U2VnZW1lbnQgPSB0aGlzLnNlZ21lbnRzWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9LCAzMDApCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBhc3luYyBsb2FkQWNjb3VudCgpIHsKICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIGFjY291bnRIYW5kbGVyLmdldEFsbCgpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIC8vUmVjZWl2YWJsZSBBY2NvdW50CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWNjQmVuZWZpdCA9IHJlcy5kYXRhLmZpbHRlcihtID0+IG0uYWNjb3VudF90eXBlLm51bWJlciA9PT0gMzQpLm1hcChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6IGl0ZW0ubG9jYWxfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGl0ZW0ubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0ZW0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5oamlBY2NDb2RlOiBpdGVtLmJhbmhqaUFjY0NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfY29kZTogaXRlbS5ncm91cF9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdGVtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfY29kZTogaXRlbS50eXBlX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudF90eXBlOiBpdGVtLmFjY291bnRfdHlwZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY2NCZW5lZml0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiZW5lZml0ID0gdGhpcy5hY2NCZW5lZml0LmZpbHRlcihpID0+aS5udW1iZXIgPT0nNjM0MDIwJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0QWNjQmVuZWZpdCA9IGJlbmVmaXRbMF0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY0JlbmVmaXRQYXlibGUgPSByZXMuZGF0YS5maWx0ZXIobSA9PiBtLm51bWJlciA9PT0gJzYzNDk5MCcpLm1hcChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6IGl0ZW0ubG9jYWxfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGl0ZW0ubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0ZW0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5oamlBY2NDb2RlOiBpdGVtLmJhbmhqaUFjY0NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfY29kZTogaXRlbS5ncm91cF9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdGVtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfY29kZTogaXRlbS50eXBlX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudF90eXBlOiBpdGVtLmFjY291bnRfdHlwZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY2NCZW5lZml0UGF5YmxlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuRmJ0UGF5YmxlICAgPSB0aGlzLmFjY0JlbmVmaXRQYXlibGVbMF0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ2FjY0JlbmVmaXRQYXlibGUnLHRoaXMuYWNjQmVuZWZpdFBheWJsZSkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIG9uU2F2ZUNsb3NlKCl7CiAgICAgICAgICAgIGlmICghdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUpvdXJuYWwoKQoKICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICBpZDogICAgICAgICAgICAgICAgIHRoaXMuaWQgPyB0aGlzLmlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAgICAgICAgICAgICBwYXJzZUZsb2F0KHRoaXMuYW1vdW50KSwKICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50RXhjaGFuZ2U6ICAgICBwYXJzZUZsb2F0KHRoaXMuYW1vdW50KSAqIHBhcnNlRmxvYXQodGhpcy5leGNoYW5nZVJhdGUucmF0ZSksCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlUmF0ZTogICAgICAgcGFyc2VGbG9hdCh0aGlzLmV4Y2hhbmdlUmF0ZS5yYXRlKSwKICAgICAgICAgICAgICAgICAgICAgICAgYWNjQmVuZWZpdDogICAgICAgICB0aGlzLnNlbGVjdEFjY0JlbmVmaXQsCiAgICAgICAgICAgICAgICAgICAgICAgIHNlZ2VtZW50OiAgICAgICAgICAgdGhpcy5zZWxlY3RTZWdlbWVudCwKICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhPZjogICAgICAgICAgICBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh0aGlzLnN0YXJ0X2RhdGUpLCd5eXl5LU1NLWRkJyksCiAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlOiAgICAgICAgICAgdGhpcy5lbXBsb3llZSwKICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VkVXNlcjogICAgICAgICB0aGlzLmxvZ2dlZFVzZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICAgICAgICAgICB0aGlzLlNlbGVjdGVkQ3VycmVuY3ksCiAgICAgICAgICAgICAgICAgICAgICAgIGpvdXJuYWw6ICAgICAgICAgICAgdGhpcy5qb3VybmFsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnZGF0YScsZGF0YSkKICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUhhbmRsZXIuY3JlYXRlRnJpbmdlQmVuZWZpdChkYXRhKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5zdWNjZXNzKCdTdWNjZXNzJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkRnJpbmdlQmVuZWZpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcnKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKGUpCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBjbG9zZSgpewogICAgICAgICAgICB0aGlzLmlkICAgICAgICAgICAgICAgICA9ICcnCiAgICAgICAgICAgIHRoaXMuZW1wbG95ZWUgICAgICAgICAgID0gJycKICAgICAgICAgICAgdGhpcy5zdGFydF9kYXRlICAgICAgICAgPSAnJwogICAgICAgICAgICB0aGlzLmFtb3VudCAgICAgICAgICAgICA9ICcnCiAgICAgICAgICAgIHRoaXMuU2VsZWN0ZWRDdXJyZW5jeSAgID0gJycKICAgICAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiAgICAgICAgPSAnJwogICAgICAgICAgICB0aGlzLmpvdXJuYWxFZGl0ICAgICAgICA9ICcnCiAgICAgICAgICAgIHRoaXMuZGlhbG9nbSA9IGZhbHNlCiAgICAgICAgfSwKICAgICAgICBsb2FkRnJpbmdlQmVuZWZpdCgpewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJykKICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIGVtcGxveWVlSGFuZGxlci5nZXRGcmluZ2VCZW5lZml0KHRoaXMubW9udGhfb2YpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJpbmdlQmVuZWZpdCA9IHJlcy5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9LCAzMDApCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBnb0VkaXQoZSl7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgbGV0IGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkQmVuZWZpdCIpLmRhdGEoImtlbmRvR3JpZCIpOwogICAgICAgICAgICBsZXQgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKGtlbmRvLmpRdWVyeShlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwogICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coMSxkYXRhSXRlbSkKICAgICAgICAgICAgdGhpcy5kaWFsb2dtICA9IHRydWUKICAgICAgICAgICAgdGhpcy5pZCA9IGRhdGFJdGVtLmlkCiAgICAgICAgICAgIHRoaXMuc2VsZWN0QWNjQmVuZWZpdCAgID0gewogICAgICAgICAgICAgICAgYWNjb3VudF90eXBlOiAgICAgICBkYXRhSXRlbS5hY2NCZW5lZml0LmFjY291bnRfdHlwZSwKICAgICAgICAgICAgICAgIGJhbmhqaUFjY0NvZGU6ICAgICAgZGF0YUl0ZW0uYWNjQmVuZWZpdC5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgZ3JvdXBfY29kZTogICAgICAgICBkYXRhSXRlbS5hY2NCZW5lZml0Lmdyb3VwX2NvZGUsCiAgICAgICAgICAgICAgICBpZDogICAgICAgICAgICAgICAgIGRhdGFJdGVtLmFjY0JlbmVmaXQuaWQsCiAgICAgICAgICAgICAgICBpc190YXhhYmxlOiAgICAgICAgIGRhdGFJdGVtLmFjY0JlbmVmaXQuaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgIGxvY2FsX25hbWU6ICAgICAgICAgZGF0YUl0ZW0uYWNjQmVuZWZpdC5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgbmFtZTogICAgICAgICAgICAgICBkYXRhSXRlbS5hY2NCZW5lZml0Lm5hbWUsCiAgICAgICAgICAgICAgICBudW1iZXI6ICAgICAgICAgICAgIGRhdGFJdGVtLmFjY0JlbmVmaXQubnVtYmVyLAogICAgICAgICAgICAgICAgdXVpZDogICAgICAgICAgICAgICBkYXRhSXRlbS5hY2NCZW5lZml0LmlkLAogICAgICAgICAgICB9LAogICAgICAgICAgICB0aGlzLmVtcGxveWVlICAgICAgICAgICA9IHsKICAgICAgICAgICAgICAgIGFkZHJlc3M6ICAgICAgICBkYXRhSXRlbS5lbXBsb3llZS5hZGRyZXNzLAogICAgICAgICAgICAgICAgYmFuazogICAgICAgICAgIGRhdGFJdGVtLmVtcGxveWVlLmJhbmssCiAgICAgICAgICAgICAgICBiYW5rQWNjb3VudDogICAgZGF0YUl0ZW0uZW1wbG95ZWUuYmFua0FjY291bnQsCiAgICAgICAgICAgICAgICBjb3VudHJ5OiAgICAgICAgZGF0YUl0ZW0uZW1wbG95ZWUuY291bnRyeSwKICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogICAgICBkYXRhSXRlbS5lbXBsb3llZS5jcmVhdGVkQXQsCiAgICAgICAgICAgICAgICBkb2I6ICAgICAgICAgICAgZGF0YUl0ZW0uZW1wbG95ZWUuZG9iLAogICAgICAgICAgICAgICAgZW1haWw6ICAgICAgICAgIGRhdGFJdGVtLmVtcGxveWVlLmVtYWlsLAogICAgICAgICAgICAgICAgZW1wbG95ZWVJZDogICAgIGRhdGFJdGVtLmVtcGxveWVlLmVtcGxveWVlSWQsCiAgICAgICAgICAgICAgICBlbXBsb3llZVR5cGU6ICAgZGF0YUl0ZW0uZW1wbG95ZWUuZW1wbG95ZWVUeXBlLAogICAgICAgICAgICAgICAgZmlyc3ROYW1lOiAgICAgIGRhdGFJdGVtLmVtcGxveWVlLmZpcnN0TmFtZSwKICAgICAgICAgICAgICAgIGZpcnN0TmFtZUxvY2FsZTpkYXRhSXRlbS5lbXBsb3llZS5maXJzdE5hbWVMb2NhbGUsCiAgICAgICAgICAgICAgICBnZW5kZXI6ICAgICAgICAgZGF0YUl0ZW0uZW1wbG95ZWUuZ2VuZGVyLAogICAgICAgICAgICAgICAgaWQ6ICAgICAgICAgICAgIGRhdGFJdGVtLmVtcGxveWVlLmlkLAogICAgICAgICAgICAgICAgaWRlbnRpdHlJZDogICAgIGRhdGFJdGVtLmVtcGxveWVlLmlkZW50aXR5SWQsCiAgICAgICAgICAgICAgICBpZGVudGl0eVR5cGU6ICAgZGF0YUl0ZW0uZW1wbG95ZWUuaWRlbnRpdHlUeXBlLAogICAgICAgICAgICAgICAgaW1hZ2U6ICAgICAgICAgIGRhdGFJdGVtLmVtcGxveWVlLmltYWdlLAogICAgICAgICAgICAgICAgbGFzdE5hbWU6ICAgICAgIGRhdGFJdGVtLmVtcGxveWVlLmxhc3ROYW1lLAogICAgICAgICAgICAgICAgbGFzdE5hbWVMb2NhbGU6IGRhdGFJdGVtLmVtcGxveWVlLmxhc3ROYW1lTG9jYWxlLAogICAgICAgICAgICAgICAgbWFyaXRhbFN0YXR1czogIGRhdGFJdGVtLmVtcGxveWVlLm1hcml0YWxTdGF0dXMsCiAgICAgICAgICAgICAgICBuYW1lOiAgICAgICAgICAgZGF0YUl0ZW0uZW1wbG95ZWUubmFtZSwKICAgICAgICAgICAgICAgIG5hdGlvbmFsaXR5OiAgICBkYXRhSXRlbS5lbXBsb3llZS5uYXRpb25hbGl0eSwKICAgICAgICAgICAgICAgIG5hdHVyZUVtcGxveWVlOiBkYXRhSXRlbS5lbXBsb3llZS5uYXR1cmVFbXBsb3llZSwKICAgICAgICAgICAgICAgIG5vT2ZDaGlsZHJlbjogICBkYXRhSXRlbS5lbXBsb3llZS5ub09mQ2hpbGRyZW4sCiAgICAgICAgICAgICAgICBwYXltZW50TWV0aG9kOiAgZGF0YUl0ZW0uZW1wbG95ZWUucGF5bWVudE1ldGhvZCwKICAgICAgICAgICAgICAgIHBheW1lbnRQZXJpb2Q6ICBkYXRhSXRlbS5lbXBsb3llZS5wYXltZW50UGVyaW9kLAogICAgICAgICAgICAgICAgcGF5cm9sbExpYWJpbGl0aWU6IGRhdGFJdGVtLmVtcGxveWVlLnBheXJvbGxMaWFiaWxpdGllLAogICAgICAgICAgICAgICAgcGhvbmU6ICAgICAgICAgICAgICBkYXRhSXRlbS5lbXBsb3llZS5waG9uZSwKICAgICAgICAgICAgICAgIHNhbGFyeUFjYzogICAgICAgICAgZGF0YUl0ZW0uZW1wbG95ZWUuc2FsYXJ5QWNjLAogICAgICAgICAgICAgICAgc2FsYXJ5QWR2YW5jZUFjYzogICBkYXRhSXRlbS5lbXBsb3llZS5zYWxhcnlBZHZhbmNlQWNjLAogICAgICAgICAgICAgICAgc3RhdHVzOiAgICAgICAgICAgICBkYXRhSXRlbS5lbXBsb3llZS5zdGF0dXMsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRoaXMuc2VnZW1lbnQgICAgICAgICAgID0gewogICAgICAgICAgICAgICAgY29kZTogICAgICAgZGF0YUl0ZW0uc2VnZW1lbnQuY29kZSwKICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogIGRhdGFJdGVtLnNlZ2VtZW50LmNyZWF0ZWRBdCwKICAgICAgICAgICAgICAgIGlkOiAgICAgICAgIGRhdGFJdGVtLnNlZ2VtZW50LmlkLAogICAgICAgICAgICAgICAgaXNTeXN0ZW06ICAgZGF0YUl0ZW0uc2VnZW1lbnQuaXNTeXN0ZW0sCiAgICAgICAgICAgICAgICBuYW1lOiAgICAgICBkYXRhSXRlbS5zZWdlbWVudC5uYW1lLAogICAgICAgICAgICAgICAgc3ViT2Y6ICAgICAgZGF0YUl0ZW0uc2VnZW1lbnQuc3ViT2YsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRoaXMuYW1vdW50ICAgICAgICAgICAgID0gZGF0YUl0ZW0uYW1vdW50LAogICAgICAgICAgICB0aGlzLnN0YXJ0X2RhdGUgICAgICAgICA9IGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKGRhdGFJdGVtLm1vbnRoT2YpLCd5eXl5LU1NJyksCiAgICAgICAgICAgIHRoaXMuZGVzY3JpcHRpb24gICAgICAgID0gZGF0YUl0ZW0uZGVzY3JpcHRpb24KICAgICAgICAgICAgdGhpcy5TZWxlY3RlZEN1cnJlbmN5ICAgPSB7CiAgICAgICAgICAgICAgICBjb2RlOiAgICAgICAgICAgZGF0YUl0ZW0uY3VycmVuY3kuY29kZSwKICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogICAgICBkYXRhSXRlbS5jdXJyZW5jeS5jcmVhdGVkQXQsCiAgICAgICAgICAgICAgICBpZDogICAgICAgICAgICAgZGF0YUl0ZW0uY3VycmVuY3kuaWQsCiAgICAgICAgICAgICAgICBuYW1lOiAgICAgICAgICAgZGF0YUl0ZW0uY3VycmVuY3kubmFtZSwKICAgICAgICAgICAgICAgIHJhdGU6ICAgICAgICAgICBkYXRhSXRlbS5jdXJyZW5jeS5yYXRlLAogICAgICAgICAgICAgICAgc3ltYm9sOiAgICAgICAgIGRhdGFJdGVtLmN1cnJlbmN5LnN5bWJvbCwKICAgICAgICAgICAgICAgIHN5bWJvbE5hdGl2ZTogICBkYXRhSXRlbS5jdXJyZW5jeS5zeW1ib2xOYXRpdmUsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5qb3VybmFsRWRpdCAgICAgICAgPSB7CiAgICAgICAgICAgICAgICB1dWlkOiAgICAgICAgICAgZGF0YUl0ZW0uam91cm5hbC51dWlkLAogICAgICAgICAgICAgICAgY3JlYXRlZF9kYXRlOiAgIGRhdGFJdGVtLmpvdXJuYWwuY3JlYXRlZF9kYXRlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5qb3VybmFsID0gJycKICAgICAgICAgICAgdGhpcy5qb3VybmFsX2VudHJpZXMgPSBbXQogICAgICAgIH0sCiAgICAgICAgY2hhbmdlQW1vdW50KCl7CiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnam91cm5hbEVkaXQnLHRoaXMuam91cm5hbEVkaXQpCiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlSm91cm5hbCgpCiAgICAgICAgfSwKICAgICAgICBjYWxjdWxhdGVKb3VybmFsKCl7CiAgICAgICAgICAgIGxldCBleGNoYW5nZV9yYXRlID0gMQogICAgICAgICAgICBpZih0aGlzLmJhc2VDdXJyZW5jeS5jb2RlID09IHRoaXMuU2VsZWN0ZWRDdXJyZW5jeS5jb2RlKXsKICAgICAgICAgICAgICAgIGV4Y2hhbmdlX3JhdGUgPSAxCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgZXhjaGFuZ2VfcmF0ZSA9IHRoaXMuZXhjaGFuZ2VSYXRlLnJhdGUKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgcGF5cm9sbFRheCAgPSB0aGlzLnBheXJvbGxUYXhbMF0KICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdwYXlyb2xsVGF4JyxwYXlyb2xsVGF4KQogICAgICAgICAgICBsZXQgdGF4QW1vdW50ICAgPSAgcGFyc2VGbG9hdCh0aGlzLmFtb3VudCkgKiAocGFyc2VGbG9hdChwYXlyb2xsVGF4LnJhdGUgKS8gMTAwKQogICAgICAgICAgICB0aGlzLmpvdXJuYWxFbnRyeSA9IFtdCiAgICAgICAgICAgIHRoaXMuam91cm5hbEVudHJ5LnB1c2goCiAgICAgICAgICAgICAgICBuZXcgSm91cm5hbEVudHJ5TW9kZWwoewogICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAgICAgICAgICB0aGlzLnNlbGVjdEFjY0JlbmVmaXQubmFtZSwKICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiAgICAgICAgICAgICAgbmV3IEFjY291bnRNb2RlbCh0aGlzLnNlbGVjdEFjY0JlbmVmaXQpLAogICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlX3JhdGU6ICAgICAgICBleGNoYW5nZV9yYXRlLAogICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiAgICAgICAgICAgICBuZXcgQ3VycmVuY3lNb2RlbCh0aGlzLmJhc2VDdXJyZW5jeSksCiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAgICAgICAgICAgICAgIHRoaXMuYW1vdW50LCAvLyBkcgogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBuZXcgSm91cm5hbEVudHJ5TW9kZWwoewogICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAgICAgICAgICB0aGlzLkZidFBheWJsZS5uYW1lLAogICAgICAgICAgICAgICAgICAgIGFjY291bnQ6ICAgICAgICAgICAgICBuZXcgQWNjb3VudE1vZGVsKHRoaXMuRmJ0UGF5YmxlKSwKICAgICAgICAgICAgICAgICAgICBleGNoYW5nZV9yYXRlOiAgICAgICAgZXhjaGFuZ2VfcmF0ZSwKICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogICAgICAgICAgICAgbmV3IEN1cnJlbmN5TW9kZWwodGhpcy5iYXNlQ3VycmVuY3kpLAogICAgICAgICAgICAgICAgICAgIGFtb3VudDogICAgICAgICAgICAgICAodGhpcy5hbW91bnQgLSB0YXhBbW91bnQpICogLTEsIC8vIGNyCiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIG5ldyBKb3VybmFsRW50cnlNb2RlbCh7CiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICAgICAgICAgIHBheXJvbGxUYXgubmFtZSwKICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiAgICAgICAgICAgICAgbmV3IEFjY291bnRNb2RlbChwYXlyb2xsVGF4LmFjY291bnQpLAogICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlX3JhdGU6ICAgICAgICBleGNoYW5nZV9yYXRlLAogICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiAgICAgICAgICAgICBuZXcgQ3VycmVuY3lNb2RlbCh0aGlzLmJhc2VDdXJyZW5jeSksCiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAgICAgICAgICAgICAgIHRheEFtb3VudCAqIC0xLCAvLyBjci0KICAgICAgICAgICAgICAgIH0pLCAgICAgICAgIAogICAgICAgICAgICApCiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnam91cm5hbEVudHJ5Jyx0aGlzLmpvdXJuYWxFbnRyeSkKICAgICAgICAgICAgaWYodGhpcy5qb3VybmFsRWRpdCl7CiAgICAgICAgICAgICAgICB0aGlzLmpvdXJuYWwgPSBuZXcgSm91cm5hbE1vZGVsKHsKICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogICAgICAgICAgICAgICAgICB0aGlzLmRlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgICAgIG51bWJlcjogICAgICAgICAgICAgICAgICAgICAgICcnLAogICAgICAgICAgICAgICAgICAgIGpvdXJuYWxfZGF0ZTogICAgICAgICAgICAgICAgIEhlbHBlci50b0lTT0RhdGUobmV3IERhdGUoKSksCiAgICAgICAgICAgICAgICAgICAgbW9udGhfb2Y6ICAgICAgICAgICAgICAgICAgICAgSGVscGVyLnRvSVNPRGF0ZShuZXcgRGF0ZSh0aGlzLnN0YXJ0X2RhdGUpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDcpKSwvLycyMDIxLTAyLTAxJywgICAKICAgICAgICAgICAgICAgICAgICBqb3VybmFsX3R5cGU6ICAgICAgICAgICAgICAgICBFbnRpdHlUeXBlLkFVVE9fSk9VUk5BTCwKICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbl90eXBlOiAgICAgICAgICAgICAnZnJpbmdlQmVuZWZpdCcsCiAgICAgICAgICAgICAgICAgICAgcmVmZXJyYWxfdHJhbnNhY3Rpb25fdXVpZDogICAgJycsCiAgICAgICAgICAgICAgICAgICAgam91cm5hbF9lbnRyaWVzOiAgICAgICAgICAgICAgdGhpcy5qb3VybmFsRW50cnksCiAgICAgICAgICAgICAgICAgICAgc2VnbWVudF91dWlkOiAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RTZWdlbWVudC5pZCA/IHRoaXMuc2VsZWN0U2VnZW1lbnQuaWQ6ICcnLAogICAgICAgICAgICAgICAgICAgIHV1aWQ6ICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuam91cm5hbEVkaXQudXVpZCwKICAgICAgICAgICAgICAgICAgICBjcmVhdGVkX2RhdGU6ICAgICAgICAgICAgICAgICB0aGlzLmpvdXJuYWxFZGl0LmNyZWF0ZWRfZGF0ZSwKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdGhpcy5qb3VybmFsID0gbmV3IEpvdXJuYWxNb2RlbCh7CiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICAgICAgICAgICAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICBudW1iZXI6ICAgICAgICAgICAgICAgICAgICAgICAnJywKICAgICAgICAgICAgICAgICAgICBqb3VybmFsX2RhdGU6ICAgICAgICAgICAgICAgICBIZWxwZXIudG9JU09EYXRlKG5ldyBEYXRlKCkpLAogICAgICAgICAgICAgICAgICAgIG1vbnRoX29mOiAgICAgICAgICAgICAgICAgICAgIEhlbHBlci50b0lTT0RhdGUobmV3IERhdGUodGhpcy5zdGFydF9kYXRlKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCA3KSksLy8nMjAyMS0wMi0wMScsICAgCiAgICAgICAgICAgICAgICAgICAgam91cm5hbF90eXBlOiAgICAgICAgICAgICAgICAgRW50aXR5VHlwZS5BVVRPX0pPVVJOQUwsCiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25fdHlwZTogICAgICAgICAgICAgJ2ZyaW5nZUJlbmVmaXQnLAogICAgICAgICAgICAgICAgICAgIHJlZmVycmFsX3RyYW5zYWN0aW9uX3V1aWQ6ICAgICcnLAogICAgICAgICAgICAgICAgICAgIGpvdXJuYWxfZW50cmllczogICAgICAgICAgICAgIHRoaXMuam91cm5hbEVudHJ5LAogICAgICAgICAgICAgICAgICAgIHNlZ21lbnRfdXVpZDogICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0U2VnZW1lbnQuaWQgPyB0aGlzLnNlbGVjdFNlZ2VtZW50LmlkOiAnJywKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKICAgICAgICBhc3luYyBsb2FkQ3VycmVuY3koKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKQogICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5SGFuZGxlci5nZXRBbGwoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVuY3lMaXN0ID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAvLyBpZih0aGlzLmN1cnJlbmN5TGlzdC5sZW5ndGggPiAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuY3VycmVuY3lTZWxlY3RlZCA9IHRoaXMuY3VycmVuY3lMaXN0WzBdCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMzAwKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZEluc3RpdHV0ZUluZm8oKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaW5zdGl0dXRlSGFuZGxlci5nZXRPbmVDb21wYW55KGNvb2tpZS5pbnN0aXR1dGVJZCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBhbnkgPSByZXMKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXNlQ3VycmVuY3kgPSB0aGlzLmNvbXBhbnkuYmFzZUN1cnJlbmN5CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnY29tcGFueScsdGhpcy5jb21wYW55KQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZExhc3RFeGNoYW5nZVJhdGUoKXsKICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpCiAgICAgICAgICAgICAgICAgICAgbGV0IGdldERhdGUgPSBuZXcgRGF0ZSgpCiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGVfdGF4X3BheXJvbGwgPSBuZXcgRGF0ZShnZXREYXRlLmdldEZ1bGxZZWFyKCksIGdldERhdGUuZ2V0TW9udGgoKSwgMTUpOwogICAgICAgICAgICAgICAgICAgIGxldCBkYXRlID0ga2VuZG8udG9TdHJpbmcobmV3IERhdGUoZGF0ZV90YXhfcGF5cm9sbCksJ3l5eXktTU0tZGQnKQogICAgICAgICAgICAgICAgICAgIGxldCBjb2RlID0gJ0tIUicKICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPT0gdW5kZWZpbmVkIHx8IGNvZGUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5SGFuZGxlci5nZXRMYXN0RXhjaGFuZ2VSYXRlVGF4QnlEYXRlKGRhdGUsIGNvZGUpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4Y2hhbmdlUmF0ZSA9IHJlcy5kYXRhLmRhdGFbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ2V4Y2hhbmdlUmF0ZScsdGhpcy5leGNoYW5nZVJhdGUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0sIDMwMCkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRUYXhTYWxhcnkoKXsKICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHBheXJvbGxIYW5kbGVyLmdldFRheCgpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBheXJvbGxUYXggPSByZXN1bHQuZmlsdGVyKGkgPT4gaS5uYXR1cmUgPT0gJ0ZyaW5nZV9CZW5lZml0JykubWFwKGsgPT57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogICAgICAgIGsuYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICAgICAgIGsuY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdGl2ZURhdGU6ICBrLmVmZmVjdGl2ZURhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAgICAgICAgICAgICBrLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAgICAgICAgICAgay5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXR1cmU6ICAgICAgICAgay5uYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGU6ICAgICAgICAgICBrLnJhdGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMucGF5cm9sbFRheCkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgc2VhcmNoVmlldygpewogICAgICAgICAgICB0aGlzLm1vbnRoX29mID0ga2VuZG8udG9TdHJpbmcobmV3IERhdGUodGhpcy5tb250aE9mKSwneXl5eS1NTS1kZCcpCiAgICAgICAgICAgIHRoaXMubG9hZEZyaW5nZUJlbmVmaXQoKQogICAgICAgIH0KICAgIH0sCiAgICBhc3luYyBtb3VudGVkKCkgewogICAgICAgIGF3YWl0IHRoaXMubG9hZEVtcGxveWVlKCkKICAgICAgICBhd2FpdCB0aGlzLmxvYWRTZWdtZW50KCkKICAgICAgICBhd2FpdCB0aGlzLmxvYWRBY2NvdW50KCkKICAgICAgICBhd2FpdCB0aGlzLmxvYWRGcmluZ2VCZW5lZml0KCkKICAgICAgICBhd2FpdCB0aGlzLmxvYWRDdXJyZW5jeSgpCiAgICAgICAgYXdhaXQgdGhpcy5sb2FkSW5zdGl0dXRlSW5mbygpCiAgICAgICAgYXdhaXQgdGhpcy5sb2FkTGFzdEV4Y2hhbmdlUmF0ZSgpCiAgICAgICAgYXdhaXQgdGhpcy5sb2FkVGF4U2FsYXJ5KCkKICAgIH0sCiAgICBjb21wdXRlZDoge30sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgJ21vbnRoLXBpY2tlcicgOiAoKT0+IGltcG9ydCgnQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvTW9udGhQaWNrZXInKSwKICAgICAgICAnTG9hZGluZ01lJzogTG9hZGluZ01lLAogICAgfSwKfTsK"},{"version":3,"sources":["EmployeeBenefits.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EmployeeBenefits.vue","sourceRoot":"src/views/payroll/employee","sourcesContent":["<template>\n    <v-row class=\"\">\n        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n            <h2 class=\"mb-0 font_20\">{{$t('fringe_benefit')}}</h2>\n            <v-dialog v-model=\"dialogm\" max-width=\"800px\" eager>\n                <template v-slot:activator=\"{ on }\">\n                    <v-btn color=\"primary\" class=\"text-capitalize white--text float-right\" v-on=\"on\">\n                        {{$t('create_new')}}\n                    </v-btn>\n                </template>\n                <v-card>\n                    <div class=\"modal_header\">\n                        <v-card-title>{{$t('fringe_benefit')}}</v-card-title>\n                        <v-icon  @click=\"close\">close</v-icon>\n                    </div>\n                    <v-card-text class=\"modal_text_content\">\n                        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                            <v-row>\n                                <v-col sm=\"12\" cols=\"12\" class=\"\">\n                                    <v-row class=\"\">\n                                        <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                            <label class=\"label\">{{$t('employee')}}</label>\n                                            <v-autocomplete\n                                                v-model=\"employee\"\n                                                style=\"padding-top: 0px\"\n                                                :items=\"employees\"\n                                                item-value=\"id\"\n                                                :filter=\"employeeFilter\"\n                                                item-text=\"name\"\n                                                :search-input.sync=\"search\"\n                                                hide-no-data\n                                                hide-selected\n                                                :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                placeholder=\"Start typing to Search\"\n                                                return-object\n                                                outlined\n                                                append-icon=\"mdi-database-search\"\n                                            />\n                                        </v-col>\n                                        <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                            <label class=\"label\">{{$t('month_of')}}</label>\n                                            <month-picker \n                                                :initialMonth=\"start_date\"  \n                                                @emitMonth=\"start_date = $event\" \n                                            />\n                                        </v-col>\n                                        <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                            <label class=\"label\">{{$t('segment')}}</label>\n                                            <v-select id=\"acc_type_selector\"\n                                            :items=\"segments\"\n                                            item-text=\"name\"\n                                            item-value=\"id\"\n                                            v-model=\"selectSegement\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            return-object\n                                            outlined\n                                            clearable\n                                            />\n                                        </v-col>\n\n                                        <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                            <label class=\"label\">{{$t('account_benefit')}}</label>\n                                            <v-select id=\"acc_type_selector\"\n                                            :items=\"accBenefit\"\n                                            :item-text=\"item =>`${item.number} - ${item.name}`\"\n                                            item-value=\"id\"\n                                            v-model=\"selectAccBenefit\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            return-object\n                                            outlined\n                                            clearable\n                                            />\n                                        </v-col>\n                                        <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                            <label>{{ $t('currency') }}</label>\n                                            <v-select\n                                                class=\" my-2\"\n                                                :items=\"currencyList\"\n                                                item-value=\"id\"\n                                                item-text=\"name\"\n                                                v-model=\"SelectedCurrency\"\n                                                outlined\n                                                return-object\n                                                tage=\"currencySelector\"\n                                                :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                clearable/>\n                                            </v-col>\n                                        <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                            <label class=\"label\">{{ $t('amount') }}</label>\n                                            <v-text-field class=\"mt-1\"\n                                                outlined\n                                                v-model=\"amount\"\n                                                type=\"number\"\n                                                min=\"0\"\n                                                tage=\"Amount\"\n                                                :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                @change=\"changeAmount\"\n                                                required/>\n                                        </v-col>\n\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <v-textarea\n                                                height=\"150px\"\n                                                rows=\"10\"\n                                                no-resize\n                                                outlined\n                                                clearable\n                                                clear-icon=\"mdi-close-circle\"\n                                                label=\"Description\"\n                                                v-model=\"description\"\n                                            ></v-textarea>\n                                        </v-col>\n                                    </v-row>\n                                </v-col>\n                            </v-row>\n                        </v-form>\n                    </v-card-text>\n                  \n                    <v-card-actions class=\"modal_footer\">\n                        <v-row>\n                            <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-left\">\n                                <v-btn color=\"primary\" outlined class=\" text-capitalize  black--text float-left\" @click=\"dialogm = false\">{{$t('cancel')}}</v-btn>\n                            </v-col>\n                            <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-right\">\n                                <v-btn color=\"primary\" class=\"px-3  white--text text-capitalize\" @click=\"onSaveClose\">{{$t('save_close')}}\n                                </v-btn>\n                            </v-col>\n                        </v-row>\n                    </v-card-actions>\n                </v-card>\n            </v-dialog>\n        </v-col>\n\n        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n            <v-row class=\"\">\n                <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                    <v-row class=\"\">\n                        <v-col sm=\"4\" cols=\"12\" class=\"py-0  d-flex justify-space-between\">\n                            <label style=\"margin-top: 10px; margin-right: 15px;\">{{$t('month_of')}}</label>\n                            <month-picker :initialMonth=\"monthOf\" @emitMonth=\"monthOf = $event\"/>\n                        </v-col>\n\n                        <v-col sm=\"2\" cols=\"1\" class=\"py-0 mt-1\">\n                            <v-btn color=\"primary white--text\" @click=\"searchView\">\n                                {{$t('view')}}\n                            </v-btn>\n                        </v-col>\n                    </v-row>\n                </v-col>\n            </v-row>\n\n            <v-row class=\"\">\n                <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                    <kendo-datasource ref=\"dataSourceBenefit\"\n                        :data=\"fringeBenefit\"\n                        :page-size='100'\n                        :sort=\"sort\"\n                        />\n                        <kendo-grid id=\"gridBenefit\" class=\"grid-function\"\n                            :data-source-ref=\"'dataSourceBenefit'\"\n                            :editable=\"false\"\n                            :pageable=\"true\"\n                            :pageable-refresh=\"true\"\n                            :column-menu=\"true\">\n                            <kendo-grid-column\n                                :width=\"150\"\n                                :field=\"'employee'\"\n                                :title=\"$t('employee_id')\"\n                                :template=\"'<span>#= employee.employeeId#</span>'\"\n                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                            <kendo-grid-column\n                                :width=\"200\"\n                                :field=\"'employee'\"\n                                :title=\"$t('employee_name')\"\n                                :template=\"'<span>#= employee.firstName# #= employee.lastName#</span>'\"\n                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                            <kendo-grid-column\n                                :width=\"200\"\n                                :field=\"'description'\"\n                                :title=\"$t('description')\"\n                                :template=\"'<span>#= description#</span>'\"\n                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                            <kendo-grid-column\n                                :width=\"150\"\n                                :field=\"'segement'\"\n                                :title=\"$t('segement')\"\n                                :template=\"'<span>#= segement.name#</span>'\"\n                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                            <kendo-grid-column\n                                :width=\"150\"\n                                :field=\"'amount'\"\n                                :title=\"$t('amount')\"\n                                :template=\"'<span>#= kendo.toString(amount,`n2`)#</span>'\"\n                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                :attributes=\"{style: 'text-align: right;'}\"/>\n                            <kendo-grid-column\n                                :field=\"''\"\n                                :title=\"$t('action')\"\n                                :width=\"100\"\n                                :command=\"[{iconClass: 'k-icon k-i-edit', text: 'Edit', click: goEdit }]\"\n                                :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"/>\n                        </kendo-grid>\n                    <LoadingMe\n                        :isLoading=\"showLoading\"\n                        :fullPage=\"false\"\n                        :myLoading=\"true\"\n                        type=\"loading\"\n                       />\n                </v-col>\n            </v-row>\n        </v-col>\n    </v-row>\n</template>\n<script>\nconst employeeHandler = require(\"@/scripts/employeeHandler\")\nconst settingsHandler = require(\"@/scripts/settingsHandler\")\nconst accountHandler = require(\"@/scripts/handler/accounting/account\")\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\")\nconst { EntityType, } = require(\"@/scripts/default_setup/Collections\");\nconst instituteHandler = require(\"@/scripts/instituteHandler\")\nconst payrollHandler = require(\"@/scripts/payrollHandler\")\nimport Helper from \"@/helper.js\";\nimport LoadingMe from \"@/components/Loading\";\nimport {JournalModel,\n    JournalEntryModel,\n    AccountModel,\n\tCurrencyModel,} from \"@/scripts/model/AppModels\";\nimport kendo from \"@progress/kendo-ui\";\n\n/* Cookie */\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\n\nexport default {\n    data: () => ({\n        showLoading:        false,\n        dialogm:            false,\n        valid:              true,\n        employees:          [],\n        employee:           '',\n        search:             null,\n        start_date:         '',\n        selectSegement:     '',\n        segments:           [],\n        accBenefit:         [],\n        selectAccBenefit:   '',\n        amount:             '',\n        fringeBenefit:      [],\n        description:        '',\n        accBenefitPayble:   [],\n        FbtPayble:          {},\n        journal:            '',\n        currencyList:       [],\n        SelectedCurrency:   '',\n        journalEntry:       [],\n        id:                 '',\n        journalEdit:        '',\n        baseCurrency:       {},\n        company:            {},\n        exchangeRate:       {},\n        payrollTax:         {},\n        sort:[\n            { field: 'employee.employeeId', dir: 'asc' }\n        ],\n        monthOf: '',\n        month_of: '',\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email\n        },\n    }),\n    props: {},\n    methods: {\n        async loadEmployee(){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.showLoading = true\n                    employeeHandler.center().then(res => {\n                        this.showLoading = true\n                        if (res.data.statusCode === 200) {\n                            this.employees = res.data.data\n                            this.showLoading = false\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 300)\n            })\n        },\n        employeeFilter(item, queryText){\n            const textOne = item.name.toLowerCase()\n            const textTwo = item.employeeId.toLowerCase()\n            const searchText = queryText.toLowerCase()\n            return textOne.indexOf(searchText) > -1 ||\n            textTwo.indexOf(searchText) > -1\n        },\n        async loadSegment() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.segments = []\n                    settingsHandler.getSeg().then(res => {\n                        this.showLoading = true\n                        if (res.data.statusCode === 200) {\n                            this.segments = res.data.data\n                            if (this.segments.length > 0) {\n                                this.selectSegement = this.segments[0]\n                            }\n                            this.showLoading = false\n                        }\n                    })\n                }, 300)\n            })\n        },\n        async loadAccount() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    accountHandler.getAll().then(res => {\n                        this.showLoading = false\n                        //Receivable Account\n                        this.accBenefit = res.data.filter(m => m.account_type.number === 34).map(item => {\n                            return {\n                                id: item.uuid,\n                                uuid: item.uuid,\n                                name: item.name,\n                                local_name: item.local_name,\n                                number: item.number,\n                                is_taxable: item.is_taxable,\n                                banhjiAccCode: item.banhjiAccCode,\n                                group_code: item.group_code,\n                                parent_account: item.parent_account,\n                                type_code: item.type_code,\n                                account_type: item.account_type\n                            }\n                        })\n                        if (this.accBenefit.length > 0) {\n                            let benefit = this.accBenefit.filter(i =>i.number =='634020')\n                            this.selectAccBenefit = benefit[0]\n                        }\n                        this.accBenefitPayble = res.data.filter(m => m.number === '634990').map(item => {\n                            return {\n                                id: item.uuid,\n                                uuid: item.uuid,\n                                name: item.name,\n                                local_name: item.local_name,\n                                number: item.number,\n                                is_taxable: item.is_taxable,\n                                banhjiAccCode: item.banhjiAccCode,\n                                group_code: item.group_code,\n                                parent_account: item.parent_account,\n                                type_code: item.type_code,\n                                account_type: item.account_type\n                            }\n                        })\n                        if (this.accBenefitPayble.length > 0) {\n                            this.FbtPayble   = this.accBenefitPayble[0]\n                        }\n                        window.console.log('accBenefitPayble',this.accBenefitPayble)\n                    })\n                }, 300);\n            })\n        },\n        onSaveClose(){\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate()\n                return\n            }\n            this.calculateJournal()\n\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    let data = {\n                        id:                 this.id ? this.id: '',\n                        amount:             parseFloat(this.amount),\n                        amountExchange:     parseFloat(this.amount) * parseFloat(this.exchangeRate.rate),\n                        exchangeRate:       parseFloat(this.exchangeRate.rate),\n                        accBenefit:         this.selectAccBenefit,\n                        segement:           this.selectSegement,\n                        monthOf:            kendo.toString(new Date(this.start_date),'yyyy-MM-dd'),\n                        employee:           this.employee,\n                        loggedUser:         this.loggedUser,\n                        description:        this.description,\n                        currency:           this.SelectedCurrency,\n                        journal:            this.journal\n                    }\n                    window.console.log('data',data)\n                    this.showLoading = true;\n                    employeeHandler.createFringeBenefit(data).then(response => {\n                        this.showLoading = true;\n                        if (response.data.statusCode === 201) {\n                            this.showLoading = false;\n                            this.$snotify.success('Success')\n                            this.close()\n                            this.loadFringeBenefit()\n                        }\n                    }).catch(e => {\n                        this.$snotify.error('Something went wrong')\n                        this.errors.push(e)\n                    })\n                }, 300);\n            })\n        },\n        close(){\n            this.id                 = ''\n            this.employee           = ''\n            this.start_date         = ''\n            this.amount             = ''\n            this.SelectedCurrency   = ''\n            this.description        = ''\n            this.journalEdit        = ''\n            this.dialogm = false\n        },\n        loadFringeBenefit(){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.showLoading = true\n                    employeeHandler.getFringeBenefit(this.month_of).then(res => {\n                        this.showLoading = true\n                        if (res.statusCode === 200) {\n                            this.fringeBenefit = res.data\n                            this.showLoading = false\n                        }\n                    })\n                }, 300)\n            })\n        },\n        goEdit(e){\n            e.preventDefault();\n            let grid = kendo.jQuery(\"#gridBenefit\").data(\"kendoGrid\");\n            let dataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n            window.console.log(1,dataItem)\n            this.dialogm  = true\n            this.id = dataItem.id\n            this.selectAccBenefit   = {\n                account_type:       dataItem.accBenefit.account_type,\n                banhjiAccCode:      dataItem.accBenefit.banhjiAccCode,\n                group_code:         dataItem.accBenefit.group_code,\n                id:                 dataItem.accBenefit.id,\n                is_taxable:         dataItem.accBenefit.is_taxable,\n                local_name:         dataItem.accBenefit.local_name,\n                name:               dataItem.accBenefit.name,\n                number:             dataItem.accBenefit.number,\n                uuid:               dataItem.accBenefit.id,\n            },\n            this.employee           = {\n                address:        dataItem.employee.address,\n                bank:           dataItem.employee.bank,\n                bankAccount:    dataItem.employee.bankAccount,\n                country:        dataItem.employee.country,\n                createdAt:      dataItem.employee.createdAt,\n                dob:            dataItem.employee.dob,\n                email:          dataItem.employee.email,\n                employeeId:     dataItem.employee.employeeId,\n                employeeType:   dataItem.employee.employeeType,\n                firstName:      dataItem.employee.firstName,\n                firstNameLocale:dataItem.employee.firstNameLocale,\n                gender:         dataItem.employee.gender,\n                id:             dataItem.employee.id,\n                identityId:     dataItem.employee.identityId,\n                identityType:   dataItem.employee.identityType,\n                image:          dataItem.employee.image,\n                lastName:       dataItem.employee.lastName,\n                lastNameLocale: dataItem.employee.lastNameLocale,\n                maritalStatus:  dataItem.employee.maritalStatus,\n                name:           dataItem.employee.name,\n                nationality:    dataItem.employee.nationality,\n                natureEmployee: dataItem.employee.natureEmployee,\n                noOfChildren:   dataItem.employee.noOfChildren,\n                paymentMethod:  dataItem.employee.paymentMethod,\n                paymentPeriod:  dataItem.employee.paymentPeriod,\n                payrollLiabilitie: dataItem.employee.payrollLiabilitie,\n                phone:              dataItem.employee.phone,\n                salaryAcc:          dataItem.employee.salaryAcc,\n                salaryAdvanceAcc:   dataItem.employee.salaryAdvanceAcc,\n                status:             dataItem.employee.status,\n            },\n            this.segement           = {\n                code:       dataItem.segement.code,\n                createdAt:  dataItem.segement.createdAt,\n                id:         dataItem.segement.id,\n                isSystem:   dataItem.segement.isSystem,\n                name:       dataItem.segement.name,\n                subOf:      dataItem.segement.subOf,\n            },\n            this.amount             = dataItem.amount,\n            this.start_date         = kendo.toString(new Date(dataItem.monthOf),'yyyy-MM'),\n            this.description        = dataItem.description\n            this.SelectedCurrency   = {\n                code:           dataItem.currency.code,\n                createdAt:      dataItem.currency.createdAt,\n                id:             dataItem.currency.id,\n                name:           dataItem.currency.name,\n                rate:           dataItem.currency.rate,\n                symbol:         dataItem.currency.symbol,\n                symbolNative:   dataItem.currency.symbolNative,\n            }\n            this.journalEdit        = {\n                uuid:           dataItem.journal.uuid,\n                created_date:   dataItem.journal.created_date\n            }\n            this.journal = ''\n            this.journal_entries = []\n        },\n        changeAmount(){\n            window.console.log('journalEdit',this.journalEdit)\n            this.calculateJournal()\n        },\n        calculateJournal(){\n            let exchange_rate = 1\n            if(this.baseCurrency.code == this.SelectedCurrency.code){\n                exchange_rate = 1\n            }else{\n                exchange_rate = this.exchangeRate.rate\n            }\n            let payrollTax  = this.payrollTax[0]\n            window.console.log('payrollTax',payrollTax)\n            let taxAmount   =  parseFloat(this.amount) * (parseFloat(payrollTax.rate )/ 100)\n            this.journalEntry = []\n            this.journalEntry.push(\n                new JournalEntryModel({\n                    description:          this.selectAccBenefit.name,\n                    account:              new AccountModel(this.selectAccBenefit),\n                    exchange_rate:        exchange_rate,\n                    currency:             new CurrencyModel(this.baseCurrency),\n                    amount:               this.amount, // dr\n                }),\n                new JournalEntryModel({\n                    description:          this.FbtPayble.name,\n                    account:              new AccountModel(this.FbtPayble),\n                    exchange_rate:        exchange_rate,\n                    currency:             new CurrencyModel(this.baseCurrency),\n                    amount:               (this.amount - taxAmount) * -1, // cr\n                }),\n                new JournalEntryModel({\n                    description:          payrollTax.name,\n                    account:              new AccountModel(payrollTax.account),\n                    exchange_rate:        exchange_rate,\n                    currency:             new CurrencyModel(this.baseCurrency),\n                    amount:               taxAmount * -1, // cr-\n                }),         \n            )\n            window.console.log('journalEntry',this.journalEntry)\n            if(this.journalEdit){\n                this.journal = new JournalModel({\n                    description:                  this.description,\n                    number:                       '',\n                    journal_date:                 Helper.toISODate(new Date()),\n                    month_of:                     Helper.toISODate(new Date(this.start_date).toISOString().substr(0, 7)),//'2021-02-01',   \n                    journal_type:                 EntityType.AUTO_JOURNAL,\n                    transaction_type:             'fringeBenefit',\n                    referral_transaction_uuid:    '',\n                    journal_entries:              this.journalEntry,\n                    segment_uuid:                 this.selectSegement.id ? this.selectSegement.id: '',\n                    uuid:                         this.journalEdit.uuid,\n                    created_date:                 this.journalEdit.created_date,\n                })\n            }else{\n                this.journal = new JournalModel({\n                    description:                  this.description,\n                    number:                       '',\n                    journal_date:                 Helper.toISODate(new Date()),\n                    month_of:                     Helper.toISODate(new Date(this.start_date).toISOString().substr(0, 7)),//'2021-02-01',   \n                    journal_type:                 EntityType.AUTO_JOURNAL,\n                    transaction_type:             'fringeBenefit',\n                    referral_transaction_uuid:    '',\n                    journal_entries:              this.journalEntry,\n                    segment_uuid:                 this.selectSegement.id ? this.selectSegement.id: '',\n                })\n            }\n\n        },\n        async loadCurrency() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    currencyHandler.getAll().then(res => {\n                        this.currencyList = res.data.data\n                        // if(this.currencyList.length > 0){\n                        //     this.currencySelected = this.currencyList[0]\n                        // }\n                    })\n                }, 300)\n            })\n        },\n        async loadInstituteInfo() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    instituteHandler.getOneCompany(cookie.instituteId).then(res => {\n                        this.company = res\n                        this.baseCurrency = this.company.baseCurrency\n                        window.console.log('company',this.company)\n                    })\n                    resolve('resolved');\n                }, 200);\n            });\n        },\n        async loadLastExchangeRate(){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    let getDate = new Date()\n                    let date_tax_payroll = new Date(getDate.getFullYear(), getDate.getMonth(), 15);\n                    let date = kendo.toString(new Date(date_tax_payroll),'yyyy-MM-dd')\n                    let code = 'KHR'\n                    if (code !== undefined || code !== '') {\n                        this.showLoading = true\n                        currencyHandler.getLastExchangeRateTaxByDate(date, code).then(res => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false\n                                this.exchangeRate = res.data.data[0]\n                                window.console.log('exchangeRate',this.exchangeRate)\n                            }\n                        })\n                    }\n\n                }, 300)\n            })\n        },\n        async loadTaxSalary(){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    this.showLoading = true;\n                    payrollHandler.getTax().then(res => {\n                        this.showLoading = true;\n                        if(res.data.statusCode === 200){\n                            this.showLoading = true;\n                            let result = res.data.data\n                            this.payrollTax = result.filter(i => i.nature == 'Fringe_Benefit').map(k =>{\n                                return {\n                                    account:        k.account,\n                                    currency:       k.currency,\n                                    effectiveDate:  k.effectiveDate,\n                                    id:             k.id,\n                                    name:           k.name,\n                                    nature:         k.nature,\n                                    rate:           k.rate\n                                }\n                            })\n                            window.console.log(this.payrollTax)\n                        }\n                    })\n                }, 300);\n            })\n        },\n        searchView(){\n            this.month_of = kendo.toString(new Date(this.monthOf),'yyyy-MM-dd')\n            this.loadFringeBenefit()\n        }\n    },\n    async mounted() {\n        await this.loadEmployee()\n        await this.loadSegment()\n        await this.loadAccount()\n        await this.loadFringeBenefit()\n        await this.loadCurrency()\n        await this.loadInstituteInfo()\n        await this.loadLastExchangeRate()\n        await this.loadTaxSalary()\n    },\n    computed: {},\n    components: {\n        'month-picker' : ()=> import('@/components/custom_templates/MonthPicker'),\n        'LoadingMe': LoadingMe,\n    },\n};\n</script>\n<style scoped>\n.acc_group header {\n    height: 10px !important;\n}\n\ntable.acc_group tr td {\n    border-bottom: 1px solid #ccc;\n    padding: 8px;\n    vertical-align: middle;\n}\n\ntable.acc_group tr td:first-child {\n    font-weight: 700;\n}\n\ntable.acc_group tr td:last-child {\n    text-align: center;\n}\n\n.v-card__actions .v-btn.v-btn {\n    padding: 0 16px;\n}\n\n.exchange-table.theme--light.v-data-table > .v-data-table__wrapper > table > thead > tr > th {\n    font-family: 'Niradei-Bold', serif;\n    color: #000 !important;\n    border-top: 1px solid #000 !important;\n    border-bottom: 1px solid #000 !important;\n    font-size: 15px !important;\n}\n\n.exchange-table.theme--light.v-data-table > .v-data-table__wrapper > table > thead > tr > td {\n    color: #000 !important;\n    padding: 5px !important;\n}\n\n.exchange-table.theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:last-child td {\n    border-bottom: 1px solid #000 !important;\n}\n\n.function_footer {\n    padding: 15px;\n    display: inline-block;\n}\n\np {\n    color: rgba(0, 0, 0, 0.87);\n}\n\n.actionBtn {\n    height: 47.2px !important;\n}\n\n.text_tip {\n    font-size: 9px;\n    line-height: 10px;\n}\n\n@media (max-width: 576px) {\n    .marginTopPhone{\n        margin-top:-10px;\n    }\n    \n}\n</style>\n"]}]}