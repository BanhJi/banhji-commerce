{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/banking/banking/bank_center/Txn.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/banking/banking/bank_center/Txn.vue","mtime":1638499443125},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBrZW5kbyBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tdWknCmltcG9ydCB7aTE4bn0gZnJvbSAnQC9pMThuJwppbXBvcnQgU2VhcmNoRGF0ZUNvbXBvbmVudCBmcm9tICdAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9TZWFyY2hEYXRlJwppbXBvcnQgSGVscGVyIGZyb20gIkAvaGVscGVyLmpzIgppbXBvcnQgeyBqb3VybmFsSGFuZGxlciB9IGZyb20gIkAvc2NyaXB0cy9BcHBIYW5kbGVycyIKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJUeG4iLAogICAgcHJvcHM6IHsKICAgICAgICBpbml0QmFua0FjY291bnQ6IHsKICAgICAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgIH0sCiAgICB9LAogICAgY29tcG9uZW50czogewogICAgICAgICdhcHAtc2VhcmNoZGF0ZSc6IFNlYXJjaERhdGVDb21wb25lbnQsCiAgICB9LAogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICBIZWxwZXI6IEhlbHBlciwKICAgICAgICBzdGFydF9kYXRlOiAiIiwKICAgICAgICBlbmRfZGF0ZTogIiIsCiAgICAgICAgLy8gTG9hZGluZ01lCiAgICAgICAgc2hvd0xvYWRpbmc6IHRydWUsCiAgICAgICAgaXNMb2FkZWQ6IGZhbHNlLAogICAgICAgIGhlYWRlcnM6IFsKICAgICAgICAgICAge3RleHQ6IGkxOG4udCgnZGF0ZScpLCB2YWx1ZTogJ2pvdXJuYWxfZGF0ZSd9LAogICAgICAgICAgICB7dGV4dDogaTE4bi50KCd0eXBlJyksIHZhbHVlOiAndHJhbnNhY3Rpb25fdHlwZSd9LAogICAgICAgICAgICB7dGV4dDogaTE4bi50KCdudW1iZXInKSwgdmFsdWU6ICdqb3VybmFsX251bWJlcid9LAogICAgICAgICAgICB7dGV4dDogaTE4bi50KCdkZXNjcmlwdGlvbicpLCB2YWx1ZTogJ2Rlc2NyaXB0aW9uJ30sCiAgICAgICAgICAgIHt0ZXh0OiBpMThuLnQoJ2Ftb3VudCcpLCB2YWx1ZTogJ2Ftb3VudCd9LAogICAgICAgIF0sCiAgICAgICAgam91cm5hbEVudHJpZXNEZXRhaWxzIDogW10sCiAgICB9KSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvLyBTZWFyY2ggVHJhbnNhY3Rpb24KICAgICAgICBzZWFyY2hUcmFuc2FjdGlvbigpIHsKICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzLAogICAgICAgICAgICAgICAgYmEgPSB0aGlzLmluaXRCYW5rQWNjb3VudCwKICAgICAgICAgICAgICAgIHNkYXRlID0gdGhpcy5zdGFydF9kYXRlLAogICAgICAgICAgICAgICAgZWRhdGUgPSB0aGlzLmVuZF9kYXRlCgogICAgICAgICAgICB0aGlzLmpvdXJuYWxFbnRyaWVzRGV0YWlscyA9IFtdCgogICAgICAgICAgICBpZiAoYmEudXVpZCkgewogICAgICAgICAgICAgICAgaWYgKHNkYXRlICYmIGVkYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgc2RhdGUgPSBrZW5kby50b1N0cmluZyhuZXcgRGF0ZShzZGF0ZSksICd5eXl5LU1NLWRkJykgKyAnVDAwOjAwOjAwLjAwMFonCgogICAgICAgICAgICAgICAgICAgIGVkYXRlID0gbmV3IERhdGUoZWRhdGUpCiAgICAgICAgICAgICAgICAgICAgZWRhdGUgPSBrZW5kby50b1N0cmluZyhlZGF0ZSwgJ3l5eXktTU0tZGQnKSArICdUMjM6NTk6NTkuOTk5WicKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc2RhdGUgPSAwCiAgICAgICAgICAgICAgICAgICAgZWRhdGUgPSAwCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRlZCA9IHRydWUKICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICBqb3VybmFsSGFuZGxlci5nZXRFbnRyeURldGFpbEJ5QWNjb3VudChiYS5hY2NvdW50LnV1aWQsIHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRfZGF0ZTogc2RhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZF9kYXRlOiBlZGF0ZSwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuam91cm5hbEVudHJpZXNEZXRhaWxzID0gcmVzLmVudHJpZXNfZGV0YWlsCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICBpbml0QmFua0FjY291bnQgOiAic2VhcmNoVHJhbnNhY3Rpb24iCiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICAvLyBMb2FkIERhdGEKICAgICAgICBpZih0aGlzLmluaXRCYW5rQWNjb3VudCl7CiAgICAgICAgICAgIHRoaXMuc2VhcmNoVHJhbnNhY3Rpb24oKQogICAgICAgIH0KICAgIH0KfTsK"},{"version":3,"sources":["Txn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Txn.vue","sourceRoot":"src/views/banking/banking/bank_center","sourcesContent":["<template>\n    <v-row class=\"mx-3 white\">\n        <v-col sm=\"12\" cols=\"12\">\n            <v-row>\n                <v-col sm=\"10\" cols=\"12\" class=\"py-0\">\n                    <app-searchdate :initStartDate=\"start_date\" @emitStartDate=\"start_date = $event\"\n                                    :initEndDate=\"end_date\" @emitEndDate=\"end_date = $event\" />\n                </v-col>\n\n                <v-col sm=\"1\" cols=\"12\" class=\"pb-0\">\n                    <v-btn class=\"btn_search\" @click=\"searchTransaction\"\n                           style=\"background-color: rgb(237, 241, 245)\">\n                        <i class=\"b-search\" style=\"font-size: 18px; color:#fff !important;\"/>\n                    </v-btn>\n                </v-col>\n            </v-row>\n        </v-col>\n\n        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n            <v-data-table\n                    :headers=\"headers\"\n                    :items=\"journalEntriesDetails\"\n                    class=\"elevation-1\"\n            >\n                <!-- Journal Date -->\n                <template v-slot:[`item.journal_date`]=\"{ item }\">\n                    <span>{{ Helper.dateFormat(item.journal_date) }}</span>\n                </template>\n\n                <!-- Journal Number as Link -->\n                <template v-slot:[`item.journal_number`]=\"{ item }\">\n                    <div v-if=\"item.referral_transaction_uuid !== ''\">\n                        <router-link :to=\"`${item.transaction_type}/view/${item.referral_transaction_uuid}`\">\n                            <v-chip class=\"ma-2\" color=\"primary\" text-color=\"primary\" outlined>{{ item.journal_number }}</v-chip>\n                        </router-link>\n                    </div>\n                    <div v-else>\n                        <router-link :to=\"`journal/view/${item.id}`\">\n                            <v-chip class=\"ma-2\" color=\"primary\" text-color=\"primary\" outlined>{{ item.journal_number }}</v-chip>\n                        </router-link>\n                    </div>\n                </template>\n            </v-data-table>\n        </v-col>\n\n\n    </v-row>\n</template>\n<script>\n    import kendo from '@progress/kendo-ui'\n    import {i18n} from '@/i18n'\n    import SearchDateComponent from '@/components/custom_templates/SearchDate'\n    import Helper from \"@/helper.js\"\n    import { journalHandler } from \"@/scripts/AppHandlers\"\n\n    export default {\n        name: \"Txn\",\n        props: {\n            initBankAccount: {\n                type: Object,\n            },\n        },\n        components: {\n            'app-searchdate': SearchDateComponent,\n        },\n        data: () => ({\n            Helper: Helper,\n            start_date: \"\",\n            end_date: \"\",\n            // LoadingMe\n            showLoading: true,\n            isLoaded: false,\n            headers: [\n                {text: i18n.t('date'), value: 'journal_date'},\n                {text: i18n.t('type'), value: 'transaction_type'},\n                {text: i18n.t('number'), value: 'journal_number'},\n                {text: i18n.t('description'), value: 'description'},\n                {text: i18n.t('amount'), value: 'amount'},\n            ],\n            journalEntriesDetails : [],\n        }),\n        methods: {\n            // Search Transaction\n            searchTransaction() {\n                let self = this,\n                    ba = this.initBankAccount,\n                    sdate = this.start_date,\n                    edate = this.end_date\n\n                this.journalEntriesDetails = []\n\n                if (ba.uuid) {\n                    if (sdate && edate) {\n                        sdate = kendo.toString(new Date(sdate), 'yyyy-MM-dd') + 'T00:00:00.000Z'\n\n                        edate = new Date(edate)\n                        edate = kendo.toString(edate, 'yyyy-MM-dd') + 'T23:59:59.999Z'\n                    } else {\n                        sdate = 0\n                        edate = 0\n                    }\n\n                    this.isLoaded = true\n                    this.showLoading = true\n                    journalHandler.getEntryDetailByAccount(ba.account.uuid, {\n                        params: {\n                            start_date: sdate,\n                            end_date: edate,\n                        }\n                    })\n                        .then(res => {\n                            if (res) {\n                                this.journalEntriesDetails = res.entries_detail\n                            }\n                        })\n                        .finally(function () {\n                            self.showLoading = false\n                        })\n                }\n            },\n        },\n        watch: {\n            initBankAccount : \"searchTransaction\"\n        },\n        mounted() {\n            // Load Data\n            if(this.initBankAccount){\n                this.searchTransaction()\n            }\n        }\n    };\n</script>\n<style scoped>\n</style>"]}]}