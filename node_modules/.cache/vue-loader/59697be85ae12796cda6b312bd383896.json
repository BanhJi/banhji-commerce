{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/SaleQuoteView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/SaleQuoteView.vue","mtime":1638499443195},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBrZW5kbyBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tdWknCmltcG9ydCBMb2FkaW5nTWUgZnJvbSAiQC9jb21wb25lbnRzL0xvYWRpbmciOwppbXBvcnQgU2FsZVF1b3RlTW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL1RyYW5zYWN0aW9uIjsKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7Cgpjb25zdCBzYWxlRm9ybUNvbnRlbnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NhbGVGb3JtQ29udGVudEhhbmRsZXIiKTsKY29uc3Qgc2FsZVF1b3RlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy90cmFuc2FjdGlvbkhhbmRsZXIiKTsKY29uc3QgYmlsbGluZ0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaW52b2ljZS9oYW5kbGVyL2JpbGxpbmdIYW5kbGVyIikKLy8gY29uc3Qgc2FsZVF1b3RlTW9kZWwgPSBuZXcgU2FsZVF1b3RlTW9kZWwoe30pCmNvbnN0IHtnZXRGb3JtU2V0dGluZ30gPSByZXF1aXJlKCJAL3NjcmlwdHMvc2V0dGluZ3NIYW5kbGVyLmpzIikKaW1wb3J0IHtwcmludH0gZnJvbSAiQC9mb3JtL1NhbGUuanMiOwppbXBvcnQge2kxOG59IGZyb20gJ0AvaTE4bic7Ci8qIFN0b3JlICovCmNvbnN0IGNvb2tpZUpTID0gcmVxdWlyZSgiQC9jb29raWUuanMiKTsKY29uc3QgY29va2llID0gY29va2llSlMuZ2V0Q29va2llKCk7CmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJTYWxlUXVvdGVWaWV3IiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBMb2FkaW5nTWU6IExvYWRpbmdNZSwKICAgIH0sCiAgICBwcm9wczogewogICAgICAgIGlkOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICB9LAogICAgICAgIGluaXRTYWxlUXVvdGU6IHsKICAgICAgICAgICAgdHlwZTogU2FsZVF1b3RlTW9kZWwsCiAgICAgICAgfSwKICAgIH0sCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIGlzRWRpdDogZmFsc2UsCiAgICAgICAgLy8gTG9hZGluZ01lCiAgICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgICAgIHNob3dMb2FkaW5nQXRjaDogZmFsc2UsCiAgICAgICAgbG9hZGluZ0FsZXJ0OiBmYWxzZSwKICAgICAgICBsb2FkaW5nQ29sb3JBbGVydDogIiIsCiAgICAgICAgbG9hZGluZ1RleHRBbGVydDogIiIsCiAgICAgICAgYWxlcnQ6IGZhbHNlLAogICAgICAgIGRpYWxvZ1RheDogZmFsc2UsCiAgICAgICAgLy8gRm9ybSB2YWxpZGF0aW9uCiAgICAgICAgdmFsaWQ6IHRydWUsCiAgICAgICAgY29sX2V4cGFuZDogOSwKICAgICAgICBjb2xfaGlkZTogMywKICAgICAgICBpc0hpZGVCYXI6IGZhbHNlLAogICAgICAgIC8vCiAgICAgICAgc2FsZUZvcm1Db250ZW50OiB7fSwKICAgICAgICBzYWxlUXVvdGU6IG5ldyBTYWxlUXVvdGVNb2RlbCgpLAogICAgICAgIGl0ZW1MaW5lczogW10sCiAgICAgICAgc2FsZVF1b3RlSGlzdG9yeTogW10sCiAgICAgICAgZGF0ZUZvcm1hdDogbmV3IFNhbGVRdW90ZU1vZGVsKCkuZGF0ZUZvcm1hdCwKICAgICAgICAvLyBmb3JtCiAgICAgICAgZm9ybV9zZXR0aW5nOiAnJywKCiAgICAgICAgaW1nRmlsZTogJycsCiAgICAgICAgZmlsZXM6IFtdLAogICAgICAgIHNyYzogJycsCiAgICAgICAgZmlsZV86IHt9LAogICAgICAgIGZpbGVEZXNjOiAnJywKICAgICAgICBmaWxlU2l6ZTogMCwKICAgICAgICBmaWxlVHlwZTogJycsCiAgICAgICAgZmlsZU5hbWU6ICcnLAogICAgICAgIGF0dGFjaG1lbnRMaXN0OiBbXSwKICAgICAgICByZWFzb246ICcnLAogICAgICAgIGxvZ2dlZFVzZXI6IHsKICAgICAgICAgICAgaWQ6IGNvb2tpZS5jcmVhdG9yLAogICAgICAgICAgICBuYW1lOiBjb29raWUuZW1haWwKICAgICAgICB9LAogICAgfSksCiAgICBtZXRob2RzOiB7CiAgICAgICAgZm9ybWF0RGF0ZVRpbWUodmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKHZhbHVlKSwgdGhpcy5kYXRlRm9ybWF0ICsgYCBoaDptbSB0dGApOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZEF0dGFjaG1lbnQoKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoJ2lkJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZ0F0Y2ggPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0ckZpbHRlciA9ICc/aWQ9JyArIHRoaXMuJHJvdXRlLnBhcmFtcy5pZAogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRMaXN0ID0gW10KICAgICAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0hhbmRsZXIuYXR0YWNobWVudExpc3Qoc3RyRmlsdGVyKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZ0F0Y2ggPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudExpc3QgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmdBdGNoID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfSwgMTApCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBvbkZpbGVDaGFuZ2UoZSkgewogICAgICAgICAgICBpZiAoZSkgewogICAgICAgICAgICAgICAgdGhpcy5maWxlRGVzYyA9IGUubmFtZQogICAgICAgICAgICAgICAgdGhpcy5maWxlTmFtZSA9IGUubmFtZQogICAgICAgICAgICAgICAgdGhpcy5maWxlU2l6ZSA9IGUuc2l6ZQogICAgICAgICAgICAgICAgdGhpcy5maWxlVHlwZSA9IGUudHlwZQogICAgICAgICAgICAgICAgbGV0IGlucHV0ID0gdGhpcy5maWxlcwogICAgICAgICAgICAgICAgLy8gRW5zdXJlIHRoYXQgeW91IGhhdmUgYSBmaWxlIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHJlYWQgaXQKICAgICAgICAgICAgICAgIGlmIChpbnB1dCkgewogICAgICAgICAgICAgICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpCiAgICAgICAgICAgICAgICAgICAgLy8gRGVmaW5lIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcnVuLCB3aGVuIEZpbGVSZWFkZXIgZmluaXNoZXMgaXRzIGpvYgogICAgICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RlOiBhcnJvdyBmdW5jdGlvbiB1c2VkIGhlcmUsIHNvIHRoYXQgInRoaXMuaW1hZ2VEYXRhIiByZWZlcnMgdG8gdGhlIGltYWdlRGF0YSBvZiBWdWUgY29tcG9uZW50CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlYWQgaW1hZ2UgYXMgYmFzZTY0IGFuZCBzZXQgdG8gaW1hZ2VEYXRhCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1nRmlsZSA9IGUudGFyZ2V0LnJlc3VsdAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCB0aGUgcmVhZGVyIGpvYiAtIHJlYWQgZmlsZSBhcyBhIGRhdGEgdXJsIChiYXNlNjQgZm9ybWF0KQogICAgICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcoaW5wdXQpCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGlucHV0KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhc3luYyB1cGxvYWRGaWxlKCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW1nRmlsZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmhhc093blByb3BlcnR5KCdpZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCB8fCAnJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuc2FsZVF1b3RlLnJlZmVyZW5jZU5vIHx8ICcnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiB0aGlzLmltZ0ZpbGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mbzogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLmZpbGVOYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5maWxlRGVzYywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogdGhpcy5maWxlU2l6ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy5maWxlVHlwZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1RyYW5zYWN0aW9uJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbGxpbmdIYW5kbGVyLmF0dGFjaG1lbnQoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1nRmlsZSA9IG51bGwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zcmMgPSAnJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVEZXNjID0gJycKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWxlTmFtZSA9ICcnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZVNpemUgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZVR5cGUgPSAnJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5LnN1Y2Nlc3MoJ1N1Y2Nlc3MnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRBdHRhY2htZW50KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5LmVycm9yKCdQbGVhc2UgYnJvd3NlIHRvIHVwbG9hZCBpbWFnZScpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgMTApCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBmaWxlVXJsKGRhdGFJdGVtKSB7CiAgICAgICAgICAgIGlmIChkYXRhSXRlbS5maWxlVXJsKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYDxhIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iY29sb3I6I0VEMUEzQSAhaW1wb3J0YW50IiBocmVmPSIke2RhdGFJdGVtLmZpbGVVcmx9Ij48c3Bhbj5PcGVuPC9zcGFuPjwvYT5gCiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGBgCiAgICAgICAgfSwKICAgICAgICBieXRlVG9NQihkYXRhSXRlbSkgewogICAgICAgICAgICBjb25zdCBGaWxlU2l6ZSA9IGRhdGFJdGVtLnNpemUgfHwgMCAvLyBpbiBNaUIKICAgICAgICAgICAgY29uc3QgbWFya2VyID0gMTAyNDsgLy8gQ2hhbmdlIHRvIDEwMDAgaWYgcmVxdWlyZWQKICAgICAgICAgICAgY29uc3QgZGVjaW1hbCA9IDM7IC8vIENoYW5nZSBhcyByZXF1aXJlZAogICAgICAgICAgICBjb25zdCBraWxvQnl0ZXMgPSBtYXJrZXI7IC8vIE9uZSBLaWxvYnl0ZSBpcyAxMDI0IGJ5dGVzCiAgICAgICAgICAgIGNvbnN0IG1lZ2FCeXRlcyA9IG1hcmtlciAqIG1hcmtlcjsgLy8gT25lIE1CIGlzIDEwMjQgS0IKICAgICAgICAgICAgY29uc3QgZ2lnYUJ5dGVzID0gbWFya2VyICogbWFya2VyICogbWFya2VyOyAvLyBPbmUgR0IgaXMgMTAyNCBNQgogICAgICAgICAgICAvLyBjb25zdCB0ZXJhQnl0ZXMgPSBtYXJrZXIgKiBtYXJrZXIgKiBtYXJrZXIgKiBtYXJrZXI7IC8vIE9uZSBUQiBpcyAxMDI0IEdCCgogICAgICAgICAgICAvLyByZXR1cm4gYnl0ZXMgaWYgbGVzcyB0aGFuIGEgS0IKICAgICAgICAgICAgaWYgKEZpbGVTaXplIDwga2lsb0J5dGVzKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gRmlsZVNpemUgKyAiIEJ5dGVzIjsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyByZXR1cm4gS0IgaWYgbGVzcyB0aGFuIGEgTUIKICAgICAgICAgICAgZWxzZSBpZiAoRmlsZVNpemUgPCBtZWdhQnl0ZXMpIHsKICAgICAgICAgICAgICAgIHJldHVybiAoKEZpbGVTaXplIC8ga2lsb0J5dGVzKS50b0ZpeGVkKGRlY2ltYWwpICsgIiBLQiIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIHJldHVybiBNQiBpZiBsZXNzIHRoYW4gYSBHQgogICAgICAgICAgICBlbHNlIGlmIChGaWxlU2l6ZSA8IGdpZ2FCeXRlcykgewogICAgICAgICAgICAgICAgcmV0dXJuICgoRmlsZVNpemUgLyBtZWdhQnl0ZXMpLnRvRml4ZWQoZGVjaW1hbCkgKyAiIE1CIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gcmV0dXJuIEdCIGlmIGxlc3MgdGhhbiBhIFRCCiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuICgoRmlsZVNpemUgLyBnaWdhQnl0ZXMpLnRvRml4ZWQoZGVjaW1hbCkgKyAiIEdCIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8qIHZhciBGaWxlU2l6ZSA9IGZpbGUuZmlsZXNbMF0uc2l6ZSAvIDEwMjQgLyAxMDI0OyAvLyBpbiBNaUIKICAgICAgICAgICAgaWYgKEZpbGVTaXplID4gMikgewogICAgICAgICAgICAgICAgYWxlcnQoJ0ZpbGUgc2l6ZSBleGNlZWRzIDIgTWlCJyk7CiAgICAgICAgICAgICAgIC8vICQoZmlsZSkudmFsKCcnKTsgLy9mb3IgY2xlYXJpbmcgd2l0aCBKcXVlcnkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0ZpbGUgc2l6ZScgKyBGaWxlU2l6ZSk7CiAgICAgICAgICAgIH0gKi8KICAgICAgICB9LAogICAgICAgIHNhdmVQcmludCgpIHsKICAgICAgICB9LAogICAgICAgIGNhbmNlbCgpIHsKICAgICAgICB9LAogICAgICAgIGhpZGVfc21hbGxzaXRlYmFyKCkgewogICAgICAgICAgICB0aGlzLmlzSGlkZUJhciA9ICF0aGlzLmlzSGlkZUJhcjsKICAgICAgICB9LAogICAgICAgIC8vCiAgICAgICAgbnVtYmVyRm9ybWF0KHZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyh2YWx1ZSwgYG4ke3RoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWx9YCk7CiAgICAgICAgfSwKICAgICAgICBmb3JtYXREYXRlKHZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh2YWx1ZSksIHRoaXMuZGF0ZUZvcm1hdCk7CiAgICAgICAgfSwKICAgICAgICBmb3JtYXREYXRlMSh2YWx1ZSkgewogICAgICAgICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcobmV3IERhdGUodmFsdWUpLCB0aGlzLmRhdGVGb3JtYXQgKyBgIGhoOm1tIHR0YCk7CiAgICAgICAgfSwKICAgICAgICBwYXltZW50Q29kZShjb2RlKSB7CiAgICAgICAgICAgIHJldHVybiBjb2RlLnJlcGxhY2UoInBzYy0iLCAiIik7CiAgICAgICAgfSwKICAgICAgICBzdGF0dXModmFsdWUpIHsKICAgICAgICAgICAgbGV0IHN0YXR1c1RleHQgPSAiIjsKICAgICAgICAgICAgc3dpdGNoICh2YWx1ZSkgewogICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQgPSAiT1BFTiI7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICJVU0VEIjsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gc3RhdHVzVGV4dDsKICAgICAgICB9LAogICAgICAgIGFtb3VudEZvcm1hdCh2YWx1ZSkgewogICAgICAgICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcodmFsdWUuYW1vdW50LCBgbiR7dGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbH1gKTsKICAgICAgICB9LAogICAgICAgIHByaWNlRm9ybWF0KHZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZyh2YWx1ZS5wcmljZSwgYG4ke3RoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWx9YCk7CiAgICAgICAgfSwKICAgICAgICByb3dOdW1iZXJUbXBsKGRhdGFJdGVtKSB7CiAgICAgICAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgICAgICAgaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKICAgICAgICAgICAgcmV0dXJuIGluZGV4ICsgMTsKICAgICAgICB9LAogICAgICAgIHZhdFRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgICAgICAgIGNvbnN0IHZhdCA9IGRhdGFJdGVtLnZhdFRheDsKICAgICAgICAgICAgaWYgKHZhdCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGA8c3Bhbj4ke3ZhdC5kZWZhdWx0VGF4ID8gdmF0LmRlZmF1bHRUYXggOiBgYH08L3NwYW4+YDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBgYDsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgaXRlbVRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkYXRhSXRlbS5pdGVtOwogICAgICAgICAgICBpZiAoaXRlbSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGA8c3Bhbj4ke2l0ZW0ubmFtZSA/IGl0ZW0ubmFtZSA6IGBgfTwvc3Bhbj5gOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGBgOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBVT01UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICAgICAgICBjb25zdCB1b20gPSBkYXRhSXRlbS51b207CiAgICAgICAgICAgIGlmICh1b20pIHsKICAgICAgICAgICAgICAgIHJldHVybiBgPHNwYW4+JHt1b20udW9tID8gdW9tLnVvbS5uYW1lIDogYGB9PC9zcGFuPmA7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYGA7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNhbGVVbml0VGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgICAgICAgY29uc3Qgc2FsZVVuaXQgPSBkYXRhSXRlbS5zYWxlVW5pdDsKICAgICAgICAgICAgaWYgKHNhbGVVbml0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYDxzcGFuPiR7c2FsZVVuaXQubmFtZSA/IHNhbGVVbml0Lm5hbWUgOiBgYH08L3NwYW4+YDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBgYDsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZGlzY291bnRJdGVtVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgICAgICAgY29uc3QgZGlzY291bnRJdGVtID0gZGF0YUl0ZW0uZGlzY291bnRJdGVtOwogICAgICAgICAgICBpZiAoZGlzY291bnRJdGVtKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYDxzcGFuPiR7ZGlzY291bnRJdGVtLmNvZGUgPyBkaXNjb3VudEl0ZW0uY29kZSA6IGBgfSAtICR7CiAgICAgICAgICAgICAgICAgICAgZGlzY291bnRJdGVtLm5hbWUgPyBkaXNjb3VudEl0ZW0ubmFtZSA6IGBgCiAgICAgICAgICAgICAgICB9PC9zcGFuPmA7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYGA7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGVtcEltcGwoZGF0YUl0ZW0pIHsKICAgICAgICAgICAgbGV0IGVtcElkcyA9IFtdOwogICAgICAgICAgICBkYXRhSXRlbS5lbXBsb3llZS5mb3JFYWNoKChtKSA9PiB7CiAgICAgICAgICAgICAgICBlbXBJZHMucHVzaChtLmZpcnN0TmFtZSArICIgLSAiICsgbS5sYXN0TmFtZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coZW1wSWRzLmpvaW4oJywgJykpCiAgICAgICAgICAgIHJldHVybiBgPHNwYW4+JHtlbXBJZHMuam9pbigiLCAiKX08L3NwYW4+YDsKICAgICAgICB9LAogICAgICAgIGFzeW5jIGluaXREYXRhKCkgewogICAgICAgICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZFZpZXdTYWxlUXVvdGUoKTsKICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZFNhbGVRdW90ZUhpc3RvcnkoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZFZpZXdTYWxlUXVvdGUoKSB7CiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5uYW1lLCAnbmFtZScpOwogICAgICAgICAgICBpZiAodGhpcy4kcm91dGUubmFtZSA9PT0gJ1NhbGUgUXVvdGUgVmlldycpIHsKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBzYWxlUXVvdGVIYW5kbGVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudmlldyh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2FsZVF1b3RlID0gcmVzLmRhdGEuZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtTGluZXMgPSB0aGlzLnNhbGVRdW90ZS5pdGVtTGluZXM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFNhbGVRdW90ZUhpc3RvcnkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhc3luYyBsb2FkU2FsZUZvcm1Db250ZW50KCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBzYWxlRm9ybUNvbnRlbnRIYW5kbGVyLmxpc3QoKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYWxlRm9ybUNvbnRlbnQgPSBkYXRhWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhkYXRhWzBdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGNsZWFyKCkgewogICAgICAgIH0sCiAgICAgICAgb25FZGl0U2FsZVF1b3RlKCkgewogICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgcGF0aDogInNhbGVfcXVvdGUvIiArIGlkLAogICAgICAgICAgICAgICAgbmFtZTogIlNhbGUgUXVvdGUiLAogICAgICAgICAgICAgICAgcGFyYW1zOiB7aWQ6IGlkLCBpbml0U2FsZVF1b3RlOiB0aGlzLmdldFNhbGVRdW90ZSgpfSwKICAgICAgICAgICAgICAgIHF1ZXJ5OiB7dHlwZTogImVkaXQifSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLiRyb3V0ZXIuY3VycmVudFJvdXRlKQogICAgICAgICAgICAvLwogICAgICAgICAgICAvLyBsZXQgYXJncyA9IHsKICAgICAgICAgICAgLy8gICAgIHRleHQ6IGRhdGEucmVmZXJlbmNlTm8sCiAgICAgICAgICAgIC8vICAgICB1cmw6IHVybCwKICAgICAgICAgICAgLy8gICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgLy8gcmV0dXJuIHsKICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlOiBMaW5rVGVtcGxhdGUsCiAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZUFyZ3M6IGFyZ3MKICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAvLyB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6ICdzYWxlX3F1b3RlLycgKyBpZCwgbmFtZTogJ1NhbGUgUXVvdGUnLCBwYXJhbXM6IHsgaW5pdFNhbGVRdW90ZTogdGhpcy5nZXRTYWxlUXVvdGUoKSB9IH0pCiAgICAgICAgfSwKICAgICAgICBnZXRTYWxlUXVvdGUoKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgU2FsZVF1b3RlTW9kZWwodGhpcy5zYWxlUXVvdGUpOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZFNhbGVRdW90ZUhpc3RvcnkoKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHNhbGVRdW90ZUhhbmRsZXIKICAgICAgICAgICAgICAgICAgICAgICAgLmhpc3RvcnkodGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2FsZVF1b3RlSGlzdG9yeSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgpOwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICByZWxvYWREYXRhKHZhbHVlKSB7CiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygicmVsb2FkIiArIHZhbHVlLCB0aGlzLiRyb3V0ZS5wYXJhbXMpOwogICAgICAgIH0sCiAgICAgICAgZ2V0Rm9ybVNldHRpbmdGdWN0KCkgewogICAgICAgICAgICBsZXQgcGFyYW1zID0gIj9mb3JtVHlwZT1TYWxlIFF1b3RlIgogICAgICAgICAgICBnZXRGb3JtU2V0dGluZyhwYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybV9zZXR0aW5nID0gcmVzLmRhdGEuZGF0YVsiMCJdLnNldHRpbmdzOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBfcHJpbnQoaWQpIHsKICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMuc2FsZVF1b3RlKQogICAgICAgICAgICBpZiAodGhpcy5mb3JtX3NldHRpbmcgIT0gJycpIHsKICAgICAgICAgICAgICAgIHByaW50KHRoaXMuc2FsZVF1b3RlLCBpZCwgdGhpcy5mb3JtX3NldHRpbmcpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcihpMThuLnQoJ3BsZWFzZV9zYXZlX2Zvcm1faW5fc2V0dGluZycpKQogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgZGVsZXRlUXVvdGUoKSB7CiAgICAgICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JywKICAgICAgICAgICAgICAgIHRleHQ6ICJZb3Ugd29uJ3QgYmUgYWJsZSB0byByZXZlcnQgdGhpcyEiLAogICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgaW5wdXQ6ICd0ZXh0JywKICAgICAgICAgICAgICAgIGlucHV0UGxhY2Vob2xkZXI6ICdJbnB1dCBzb21lIHJlYXNvbicsCiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzRkNDg0OCcsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNFRDFBM0EnLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMsIGRlbGV0ZSBpdCEnCiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXNvbiA9IHJlc3VsdC52YWx1ZQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRGVsZXRlUXVvdGUoKQogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzdWx0LnZhbHVlLCAnLS0tJykKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBhc3luYyBvbkRlbGV0ZVF1b3RlKCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJykKICAgICAgICAgICAgICAgICAgICBjb25zdCB0eG5JZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZAogICAgICAgICAgICAgICAgICAgIGlmICh0eG5JZCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWFkID0gdGhpcy5zYWxlUXVvdGUubGVhZCB8fCB7fQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHR4bklkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVhZElkOiBsZWFkLmlkIHx8ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VkVXNlcjogdGhpcy5sb2dnZWRVc2VyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiB0aGlzLnJlYXNvbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvblR5cGU6ICdkZWxldGUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1NhbGUgUXVvdGUnLAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHNhbGVRdW90ZUhhbmRsZXIuZGVsZXRlKGRhdGEpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5zdWNjZXNzKCdTdWNjZXNzZnVsbHknKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuZXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZSkKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBjbG9zZSgpIHsKICAgICAgICAgICAgdGhpcy5kZXN0cm95KCkKICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkuZ28oLTEpCiAgICAgICAgfSwKICAgICAgICBkZXN0cm95KCkgewogICAgICAgICAgICB0aGlzLiRkZXN0cm95KCk7CiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgZGlzYWJsZWRNZSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2FsZVF1b3RlKSB7CiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSB0aGlzLnNhbGVRdW90ZS5zdGF0dXMgfHwgMQogICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gMikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfSwKICAgICAgICBwYXltZW50VGVybSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2FsZVF1b3RlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUuaGFzT3duUHJvcGVydHkoInBheW1lbnRUZXJtIikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUucGF5bWVudFRlcm0uaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2FsZVF1b3RlLnBheW1lbnRUZXJtLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9LAogICAgICAgIHNhbGVMZWFkKCkgewogICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnNhbGVRdW90ZS5oYXNPd25Qcm9wZXJ0eSgibGVhZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2FsZVF1b3RlLmxlYWQuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2FsZVF1b3RlLmxlYWQucmVmZXJlbmNlTm87CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9LAogICAgICAgIHZhbGlkaXR5RGF0ZSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2FsZVF1b3RlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUuaGFzT3duUHJvcGVydHkoInZhbGlkaXR5RGF0ZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKAogICAgICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZSh0aGlzLnNhbGVRdW90ZS52YWxpZGl0eURhdGUpLAogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGVGb3JtYXQKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9LAogICAgICAgIHRyYW5zYWN0aW9uRGF0ZSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2FsZVF1b3RlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUuaGFzT3duUHJvcGVydHkoInRyYW5zYWN0aW9uRGF0ZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKAogICAgICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZSh0aGlzLnNhbGVRdW90ZS50cmFuc2FjdGlvbkRhdGUpLAogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGVGb3JtYXQKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9LAogICAgICAgIGN1c3RvbWVyTmFtZSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2FsZVF1b3RlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUuaGFzT3duUHJvcGVydHkoImN1c3RvbWVyIikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUuY3VzdG9tZXIuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2FsZVF1b3RlLmN1c3RvbWVyLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9LAogICAgICAgIGN1cnJlbmN5KCkgewogICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnNhbGVRdW90ZS5oYXNPd25Qcm9wZXJ0eSgicHJpY2VMZXZlbCIpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2FsZVF1b3RlLnByaWNlTGV2ZWwuaGFzT3duUHJvcGVydHkoImN1cnJlbmN5IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2FsZVF1b3RlLnByaWNlTGV2ZWwuY3VycmVuY3kuY29kZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0sCiAgICAgICAgcHJpY2VMZXZlbCgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2FsZVF1b3RlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUuaGFzT3duUHJvcGVydHkoInByaWNlTGV2ZWwiKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNhbGVRdW90ZS5wcmljZUxldmVsLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNhbGVRdW90ZS5wcmljZUxldmVsLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9LAogICAgICAgIHNlZ21lbnQoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnNhbGVRdW90ZSkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuc2FsZVF1b3RlLmhhc093blByb3BlcnR5KCJzZWdtZW50IikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUuc2VnbWVudC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zYWxlUXVvdGUuc2VnbWVudC5uYW1lOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgfSwKICAgICAgICBsb2NhdGlvbigpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2FsZVF1b3RlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUuaGFzT3duUHJvcGVydHkoImxvY2F0aW9uIikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUubG9jYXRpb24uaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2FsZVF1b3RlLmxvY2F0aW9uLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9LAogICAgICAgIHNhbGVDaGFubmVsKCkgewogICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnNhbGVRdW90ZS5oYXNPd25Qcm9wZXJ0eSgic2FsZUNoYW5uZWwiKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNhbGVRdW90ZS5zYWxlQ2hhbm5lbC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zYWxlUXVvdGUuc2FsZUNoYW5uZWwubmFtZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0sCiAgICAgICAgcHJvamVjdCgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2FsZVF1b3RlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUuaGFzT3duUHJvcGVydHkoInByb2plY3QiKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNhbGVRdW90ZS5wcm9qZWN0Lmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNhbGVRdW90ZS5wcm9qZWN0Lm5hbWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9LAogICAgICAgIGJpbGxpbmdBZGRyZXNzKCkgewogICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnNhbGVRdW90ZS5oYXNPd25Qcm9wZXJ0eSgiYmlsbGluZ0FkZHJlc3MiKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNhbGVRdW90ZS5iaWxsaW5nQWRkcmVzcy5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zYWxlUXVvdGUuYmlsbGluZ0FkZHJlc3MubmFtZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0sCiAgICAgICAgZGVsaXZlcnlBZGRyZXNzKCkgewogICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlLmhhc093blByb3BlcnR5KCJkZWxpdmVyeUFkZHJlc3MiKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludm9pY2UuZGVsaXZlcnlBZGRyZXNzLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmludm9pY2UuZGVsaXZlcnlBZGRyZXNzLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9LAogICAgICAgIHRyYW5zYWN0aW9uTm90ZSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2FsZVF1b3RlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUuaGFzT3duUHJvcGVydHkoInRyYW5zYWN0aW9uTm90ZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2FsZVF1b3RlLnRyYW5zYWN0aW9uTm90ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgfSwKICAgICAgICBkZWxpdmVyeURhdGVUaW1lKCkgewogICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlLmhhc093blByb3BlcnR5KCJkZWxpdmVyeURhdGVUaW1lIikpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2VuZG8udG9TdHJpbmcoCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKHRoaXMuaW52b2ljZS5kZWxpdmVyeURhdGVUaW1lKSwKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlRm9ybWF0CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgfSwKICAgICAgICBzcGVjaWZpY0Rpc2NvdW50KCkgewogICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlLmhhc093blByb3BlcnR5KCJzcGVjaWZpY0Rpc2NvdW50SXRlbSIpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW52b2ljZS5zcGVjaWZpY0Rpc2NvdW50SXRlbS5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnZvaWNlLnNwZWNpZmljRGlzY291bnRJdGVtLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9LAogICAgICAgIHNhbGVRdW90ZVN0YXR1cygpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2FsZVF1b3RlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5zYWxlUXVvdGUuaGFzT3duUHJvcGVydHkoInN0YXR1cyIpKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5zYWxlUXVvdGUuc3RhdHVzOwogICAgICAgICAgICAgICAgICAgIGxldCBzdGF0dXNUZXh0ID0gIiI7CiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICJPUEVOIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0ID0gIlVTRUQiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQgPSAiREVMRVRFRCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1c1RleHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0sCiAgICB9LAogICAgYWN0aXZhdGVkKCkgewogICAgICAgIHRoaXMucmVsb2FkRGF0YSgiYWN0aXZhdGVkIik7CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICBpZCgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHRoaXMubG9hZFZpZXdTYWxlUXVvdGUoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgJyRyb3V0ZSc6ICdsb2FkVmlld1NhbGVRdW90ZScsCiAgICB9LAogICAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICAgIGF3YWl0IHRoaXMubG9hZFNhbGVGb3JtQ29udGVudCgpOwogICAgICAgIGF3YWl0IHRoaXMuaW5pdERhdGEoKTsKICAgICAgICB0aGlzLmdldEZvcm1TZXR0aW5nRnVjdCgpCiAgICB9LAp9Owo="},{"version":3,"sources":["SaleQuoteView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuuBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SaleQuoteView.vue","sourceRoot":"src/views/customers","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\"\n                    >\n                        <v-row>\n                            <v-col\n                                class=\"bigSide py-0\"\n                                sm=\"8\"\n                                cols=\"12\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_big_bar_class: isHideBar }\"\n                            >\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">\n                                            {{ saleFormContent.saleQuote }} #{{\n                                                saleQuote.referenceNo\n                                            }}\n                                            ({{ saleQuoteStatus }})\n                                        </h2>\n                                        <v-icon\n                                            v-if=\"isHideBar\"\n                                            onclick=\"window.history.go(-1); return false;\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                        <span\n                                            style=\"transition: .3s ease-in; z-index:10;\"\n                                            :class=\"{\n                        iconArrow: !isHideBar,\n                        iconArrowHide: isHideBar,\n                      }\"\n                                        >\n                      <v-icon\n                          size=\"22\"\n                          class=\"arr_icon\"\n                          @click=\"hide_smallsitebar\"\n                          v-if=\"isHideBar\"\n                      >\n                        mdi-chevron-left-circle\n                      </v-icon>\n                      <v-icon\n                          size=\"22\"\n                          class=\"arr_icon\"\n                          @click=\"hide_smallsitebar\"\n                          v-if=\"!isHideBar\"\n                      >\n                        mdi-chevron-right-circle\n                      </v-icon></span\n                                        >\n                                    </v-card>\n                                    <v-card\n                                        outlined\n                                        dense\n                                        class=\"px-3 no_border mb-3\"\n                                        color=\"grayBg\"\n                                    >\n                                        <v-row>\n                                            <v-col sm=\"3\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label  mb-0\">{{ $t(\"customer\") }}</label>\n                                                <h3 class=\"text-bold  py-1\">{{ customerName }}</h3>\n\n                                            </v-col>\n\n                                            <v-col sm=\"3\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label  mb-0\">{{\n                                                        $t(\"transaction_date\")\n                                                    }}</label>\n                                                <h3 class=\"text-bold py-1\">{{ transactionDate }}</h3>\n\n                                                <label class=\"label mb-0\">{{\n                                                        $t(\"validity_date\")\n                                                    }}</label>\n                                                <h3 class=\"text-bold py-1\">{{ validityDate }}</h3>\n                                            </v-col>\n                                            <v-col sm=\"6\" cols=\"12\" class=\"pr-1\">\n                                                <v-row class=\"mr-2\">\n                                                    <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                        <label class=\"label mb-0\">{{ $t(\"term\") }}</label>\n                                                        <h3 class=\"text-bold py-1\">{{ paymentTerm }}</h3>\n                                                        <label class=\"label mb-0\">{{\n                                                                $t(\"currency\")\n                                                            }}</label>\n                                                        <h3 class=\"text-bold py-1\">{{ currency }}</h3>\n                                                    </v-col>\n                                                    <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                        <!--                                                        <label class=\"label mb-0\">{{$t('discount_promotion')}}</label>-->\n                                                        <!--                                                        <h3 class=\"text-bold py-1\">{{disco}}</h3>-->\n                                                        <label class=\"label mb-0\">{{\n                                                                $t(\"price_level\")\n                                                            }}</label>\n                                                        <h3 class=\"text-bold py-1\">{{ priceLevel }}</h3>\n                                                        <label class=\"label mb-0\">{{\n                                                                $t(\"lead\")\n                                                            }}</label>\n                                                        <h3 class=\"text-bold py-1\">{{ saleLead }}</h3>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-row class=\"pt-3\" style=\"background-color: #fff;\">\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                            <LoadingMe\n                                                :isLoading=\"showLoading\"\n                                                :fullPage=\"false\"\n                                                type=\"loading\"\n                                                :myLoading=\"true\"\n                                            />\n                                            <kendo-datasource ref=\"itemLineDS\" :data=\"itemLines\"/>\n                                            <kendo-grid\n                                                id=\"gridItemLine\"\n                                                class=\"grid-function\"\n                                                :data-source-ref=\"'itemLineDS'\"\n                                                :sortable=\"false\"\n                                                :column-menu=\"true\"\n                                                :editable=\"false\"\n                                                :scrollable-virtual=\"true\"\n                                            >\n                                                <kendo-grid-column\n                                                    :title=\"$t('no.')\"\n                                                    :width=\"55\"\n                                                    :column-menu=\"false\"\n                                                    :template=\"rowNumberTmpl\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5;',\n                            class: 'text-products',\n                          }\"\n                                                    :attributes=\"{\n                            style: 'text-align: products',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'serviceDate'\"\n                                                    :title=\"$t('date_from')\"\n                                                    :width=\"160\"\n                                                    :hidden=\"!saleFormContent.serviceDate\"\n                                                    :template=\"\n                            '<span>#= kendo.toString(new Date(serviceDate), dateFormat)#</span>'\n                          \"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'serviceDateTo'\"\n                                                    :title=\"$t('date_to')\"\n                                                    :width=\"160\"\n                                                    :hidden=\"!saleFormContent.serviceDateTo\"\n                                                    :template=\"\n                            '<span>#= kendo.toString(new Date(serviceDateTo), dateFormat)#</span>'\n                          \"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'item'\"\n                                                    :title=\"$t('item')\"\n                                                    :template=\"itemTemplate\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'description'\"\n                                                    :title=\"$t('description')\"\n                                                    :template=\"'<span>#=description#</span>'\"\n                                                    :width=\"160\"\n                                                    :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'qty'\"\n                                                    :title=\"$t('qty')\"\n                                                    :format=\"'{0:n}'\"\n                                                    :template=\"'<span>#=qty#</span>'\"\n                                                    :width=\"80\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left; ' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'uom'\"\n                                                    :title=\"$t('uom')\"\n                                                    :width=\"150\"\n                                                    :template=\"UOMTemplate\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{\n                            style: 'text-align: left',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'price'\"\n                                                    :title=\"$t('price')\"\n                                                    :width=\"150\"\n                                                    :template=\"priceFormat\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{\n                            style: 'text-align: left',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'amount'\"\n                                                    :title=\"$t('amount')\"\n                                                    :width=\"150\"\n                                                    :template=\"amountFormat\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{\n                            style: 'text-align: left',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'modifier'\"\n                                                    :title=\"$t('modifier')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.modifier\"\n                                                    :template=\"\n                            '<span>#=modifier.name?modifier.name:``#</span>'\n                          \"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'discountItem'\"\n                                                    :title=\"$t('discount_item')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.discountItem\"\n                                                    :template=\"discountItemTemplate\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{\n                            style: 'text-align: left',\n                          }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'vatTax'\"\n                                                    :title=\"$t('vat')\"\n                                                    :width=\"200\"\n                                                    :template=\"vatTemplate\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'specificTax'\"\n                                                    :title=\"$t('specificTax')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.specificTax\"\n                                                    :template=\"\n                            '<span>#=specificTax.defaultTax?specificTax.defaultTax:``#</span>'\n                          \"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'otherTax'\"\n                                                    :title=\"$t('otherTax')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.otherTax\"\n                                                    :template=\"\n                            '<span>#=otherTax.defaultTax?otherTax.defaultTax:``#</span>'\n                          \"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'publicLightingTax'\"\n                                                    :title=\"$t('pl_tax')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.publicLightingTax\"\n                                                    :template=\"\n                            '<span>#=publicLightingTax.defaultTax?publicLightingTax.defaultTax:``#</span>'\n                          \"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'saleUnit'\"\n                                                    :title=\"$t('sale_unit')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.saleUnit\"\n                                                    :template=\"saleUnitTemplate\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n\n                                                <kendo-grid-column\n                                                    :field=\"'employee'\"\n                                                    :title=\"$t('employee')\"\n                                                    :width=\"200\"\n                                                    :hidden=\"!saleFormContent.employee\"\n                                                    :template=\"empImpl\"\n                                                    :headerAttributes=\"{\n                            style:\n                              'text-align: left; background-color: #EDF1F5',\n                          }\"\n                                                    :attributes=\"{ style: 'text-align: left' }\"\n                                                />\n                                            </kendo-grid>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                            <v-row>\n                                                <v-col sm=\"12\" cols=\"12\">\n                                                    <v-row>\n                                                        <v-col sm=\"6\" cols=\"6\">\n                                                            <v-row>\n                                                                <v-col sm=\"6\" cols=\"12\">\n                                                                    <label>{{ $t(\"billing_address\") }}</label>\n                                                                    <h4 class=\"text-bold py-2\">\n                                                                        {{ billingAddress }}\n                                                                    </h4>\n                                                                </v-col>\n                                                                <v-col sm=\"6\" cols=\"12\">\n                                                                    <label>{{ $t(\"message_on_sale_quote\") }}</label>\n                                                                    <h4 class=\"text-bold py-2\">\n                                                                        {{ transactionNote }}\n                                                                    </h4>\n                                                                </v-col>\n                                                            </v-row>\n                                                            <v-row>\n                                                                <v-col sm=\"12\" cols=\"12\" class=\"pt-0 px-6\">\n                                                                    <v-row class=\"grayBg\" style=\"width: 104%;\">\n                                                                        <v-col sm=\"12\" cols=\"12\" class=\"\">\n                                                                            <v-card outlined color=\"white\" class=\"pa-3\">\n                                                                                <v-row class=\"\">\n                                                                                    <v-col sm=\"12\" cols=\"12\"\n                                                                                           class=\"py-0\">\n                                                                                        <p class=\"mb-2\">\n                                                                                            {{ $t('file_type') }} [PDF,\n                                                                                            JPG, JPEG, TIFF,\n                                                                                            PNG, GIF] - 5MB</p>\n                                                                                        <template>\n                                                                                            <v-file-input\n                                                                                                v-model=\"files\"\n                                                                                                @change=\"onFileChange\"\n                                                                                                accept=\"image/jpg, image/jpeg, application/pdf\"\n                                                                                                :placeholder=\"$t('attachments')\"\n                                                                                                single\n                                                                                                prepend-icon=\"mdi-paperclip\">\n                                                                                                <template\n                                                                                                    v-slot:selection=\"{ text }\">\n                                                                                                    <v-chip\n                                                                                                        small\n                                                                                                        label\n                                                                                                        color=\"primary\"\n                                                                                                    >\n                                                                                                        {{ text }}\n                                                                                                    </v-chip>\n                                                                                                </template>\n                                                                                            </v-file-input>\n                                                                                            <v-text-field\n                                                                                                v-model=\"fileDesc\"\n                                                                                                outlined\n                                                                                                :placeholder=\"$t('description')\"\n                                                                                                clearable/>\n                                                                                        </template>\n                                                                                        <v-btn color=\"primary\"\n                                                                                               class=\"text-capitalize mb-3 white--text\"\n                                                                                               @click=\"uploadFile\">\n                                                                                            <v-icon size=\"15\"\n                                                                                                    class=\"mr-2\">\n                                                                                                fa-check\n                                                                                            </v-icon>\n                                                                                            {{ $t('upload') }}\n                                                                                        </v-btn>\n                                                                                        <template>\n                                                                                            <LoadingMe\n                                                                                                :isLoading=\"showLoadingAtch\"\n                                                                                                :fullPage=\"false\"\n                                                                                                type=\"loading\"\n                                                                                                :myLoading=\"true\">\n                                                                                            </LoadingMe>\n                                                                                            <kendo-datasource\n                                                                                                ref=\"attachmentDS\"\n                                                                                                :data=\"attachmentList\"/>\n                                                                                            <kendo-grid\n                                                                                                id=\"gridAttachment\"\n                                                                                                class=\"grid-function\"\n                                                                                                :data-source-ref=\"'attachmentDS'\"\n                                                                                                :editable=\"false\"\n                                                                                                :scrollable-virtual=\"true\">\n                                                                                                <kendo-grid-column\n                                                                                                    :field=\"''\"\n                                                                                                    :title=\"$t('open')\"\n                                                                                                    :width=\"70\"\n                                                                                                    :template=\"fileUrl\"\n                                                                                                    :attributes=\"{style: 'text-align: center'}\"\n                                                                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                                                                                <kendo-grid-column\n                                                                                                    :field=\"'fileName'\"\n                                                                                                    :title=\"$t('file_name')\"\n                                                                                                    :width=\"250\"\n                                                                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                                                                                <kendo-grid-column\n                                                                                                    :field=\"'description'\"\n                                                                                                    :title=\"$t('description')\"\n                                                                                                    :width=\"250\"\n                                                                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                                                                                <kendo-grid-column\n                                                                                                    :field=\"'fileType'\"\n                                                                                                    :title=\"$t('file_type')\"\n                                                                                                    :width=\"150\"\n                                                                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5, color: green !important' }\"/>\n                                                                                                <kendo-grid-column\n                                                                                                    :field=\"'size'\"\n                                                                                                    :title=\"$t('size')\"\n                                                                                                    :width=\"150\"\n                                                                                                    :template=\"byteToMB\"\n                                                                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5, color: green !important' }\"/>\n                                                                                                <kendo-grid-column\n                                                                                                    :field=\"'createdAt'\"\n                                                                                                    :title=\"$t('date')\"\n                                                                                                    :width=\"120\"\n                                                                                                    :template=\"'<span>#= kendo.toString(new Date(createdAt), dateFormat)#</span>'\"\n                                                                                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5, color: green !important' }\"/>\n                                                                                            </kendo-grid>\n                                                                                        </template>\n                                                                                    </v-col>\n                                                                                </v-row>\n                                                                            </v-card>\n                                                                        </v-col>\n                                                                    </v-row>\n                                                                </v-col>\n                                                            </v-row>\n                                                        </v-col>\n                                                        <v-col sm=\"6\" cols=\"6\">\n                                                            <v-simple-table>\n                                                                <template v-slot:default>\n                                                                    <tbody>\n                                                                    <tr>\n                                                                        <td class=\"text-left\">\n                                                                            {{ $t(\"subtotal\") }}\n                                                                        </td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">\n                                                                            {{ numberFormat(saleQuote.subTotal) }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    <tr>\n                                                                        <td class=\"text-left\">\n                                                                            {{ $t(\"discount\") }}\n                                                                        </td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">\n                                                                            ({{\n                                                                                numberFormat(saleQuote.discountTotal)\n                                                                            }})\n                                                                        </td>\n                                                                    </tr>\n                                                                    <!--                                                                        <tr>-->\n                                                                    <!--                                                                            <td class=\"text-left\">{{$t('delivery')}}</td>-->\n                                                                    <!--                                                                            <td class=\"text-center\">:</td>-->\n                                                                    <!--                                                                            <td class=\"text-right\">1,0000.00</td>-->\n                                                                    <!--                                                                        </tr>-->\n                                                                    <tr>\n                                                                        <td class=\"text-left\">\n                                                                            {{ $t(\"total_tax\") }}\n                                                                            <v-btn\n                                                                                @click=\"dialogTax = true\"\n                                                                                color=\"primary\"\n                                                                                outlined\n                                                                                class=\"text-white text-bold rounded-0 float-right text-uppercase\"\n                                                                                style=\"height: 30px !important;\"\n                                                                            >\n                                                                                {{ $t(\"tax\") }}\n                                                                            </v-btn>\n                                                                        </td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td class=\"text-right\">\n                                                                            {{\n                                                                                numberFormat(saleQuote.totalTaxAmount)\n                                                                            }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    <tr>\n                                                                        <td class=\"text-left text-uppercase\">\n                                                                            {{ $t(\"total\") }}\n                                                                        </td>\n                                                                        <td class=\"text-center\">:</td>\n                                                                        <td\n                                                                            class=\"text-right primary--text text-bold\"\n                                                                        >\n                                                                            {{ numberFormat(saleQuote.total) }}\n                                                                        </td>\n                                                                    </tr>\n                                                                    </tbody>\n                                                                </template>\n                                                            </v-simple-table>\n                                                        </v-col>\n                                                    </v-row>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n\n                                    <v-divider/>\n                                    <v-card outlined dense class=\"no_border function_footer py-2\">\n                                        <p class=\"float-left py-2 mb-0  grey--text\">\n                                            {{ $t(\"standard_sale_quote\") }}\n                                        </p>\n                                        <v-btn @click=\"_print\" color=\"primary\" class=\"float-right mx-1\">\n                                            {{ $t(\"print\") }}\n                                        </v-btn>\n                                        <div v-if=\"saleQuote.status ===1\">\n                                            <v-btn class=\"float-right btn_delete mx-1\"\n                                                   @click=\"deleteQuote\">\n                                                {{ $t(\"delete\") }}\n                                            </v-btn>\n                                        </div>\n                                        <div v-if=\"saleQuote.status ===1\">\n                                            <v-btn\n                                                :disabled=\"disabledMe\"\n                                                color=\"secondary\"\n                                                class=\"float-right mx-1\"\n                                                @click=\"onEditSaleQuote\">\n                                                {{ $t(\"edit\") }}\n                                            </v-btn>\n                                        </div>\n                                    </v-card>\n                                    <v-divider/>\n                                </v-form>\n                            </v-col>\n                            <v-col\n                                class=\"smallSide\"\n                                sm=\"4\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_small_bar_class: isHideBar }\"\n                            >\n                                <h3\n                                    style=\"color: #b3b5bc; font-size:20px;\"\n                                    v-if=\"!isHideBar\"\n                                    class=\"text-uppercase float-right mt-n3\"\n                                >\n                                    Help\n                                    <v-icon\n                                        onclick=\"window.history.go(-1); return false;\"\n                                        style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                        class=\"float-right mt-n1\"\n                                    >close\n                                    </v-icon>\n                                </h3>\n\n                                <div v-if=\"!isHideBar\" class=\"small_sidebar mt-8 px-4 grayBg\">\n                                    <v-card style=\"margin-bottom: 2px;\" outlined dense\n                                            class=\"pa-3 no_border my_card rounded-4 white--text\"\n                                            color=\"primary\" height=\"60px\">\n                                        <h3 class=\"text-left font_13 flex-1 text-uppercase\">{{ $t('amount_due') }}</h3>\n                                        <h3 class=\"text-right flex-1 font_20 niradei_heavy\">\n                                            {{ numberFormat(saleQuote.total) }}</h3>\n                                    </v-card>\n                                    <!-- <h4 class=\"my-2 text-uppercase\">{{ $t(\"analysis\") }}</h4> -->\n                                    <v-row>\n                                        <v-col sm=\"6\" cols=\"6\" class=\"py-1\">\n                                            <label class=\"label\">{{ $t(\"segment\") }}</label>\n                                            <h3 class=\"text-bold d-block py-1\">{{ segment }}</h3>\n                                        </v-col>\n                                        <v-col sm=\"6\" cols=\"6\" class=\"py-1\">\n                                            <label class=\"label\">{{ $t(\"location\") }}</label>\n                                            <h3 class=\"text-bold d-block py-1\">{{ location }}</h3>\n                                        </v-col>\n                                        <!--                                        <v-col sm=\"6\" cols=\"6\" class=\"py-1\">-->\n                                        <!--                                            <label class=\"label\">{{ $t(\"project\") }}</label>-->\n                                        <!--                                            <h4 class=\"text-bold py-1\">{{ project }}</h4>-->\n                                        <!--                                        </v-col>-->\n                                        <v-col sm=\"6\" cols=\"6\" class=\"py-0\">\n                                            <label class=\"label\">{{ $t(\"sale_channel\") }}</label>\n                                            <h3 class=\"text-bold d-block py-1\">{{ saleChannel }}</h3>\n                                            <label class=\"label\">{{ $t('ref_from') }}</label>\n                                            <div v-for=\"itm in saleQuote.refFrom\" v-bind:key=\"itm.id\">\n                                                <h4 class=\"text-bold d-block py-2\">{{ itm.reference || '' }}</h4>\n                                            </div>\n                                        </v-col>\n                                        <v-col sm=\"6\" cols=\"6\" class=\"py-0\">\n                                            <label class=\"label\">{{ $t('ref_to') }}</label>\n                                            <div v-for=\"itm in saleQuote.refTo\" v-bind:key=\"itm.id\">\n                                                <h4 class=\"text-bold d-block py-2\">\n                                                    <router-link :to=\"{ path: '/en/sale_order_view/'+ itm.id}\">\n                                                        {{ itm.reference || '' }}\n                                                    </router-link>\n                                                </h4>\n                                            </div>\n                                        </v-col>\n                                        <!--                                        <v-col sm=\"6\" cols=\"6\" class=\"py-1\">-->\n                                        <!--                                            <label class=\"label\">{{$t('batch_session_no')}}</label>-->\n                                        <!--                                            <h4 class=\"text-bold py-2\">112101</h4>-->\n                                        <!--                                        </v-col>-->\n                                    </v-row>\n                                    <!-- <v-divider class=\"my-2\" /> -->\n                                    <div\n                                        class=\"mb-3\"\n                                        style=\"height:3px; background-color:#ffffff;width:100%;\"\n                                    ></div>\n                                    <!--                                    <v-card-->\n                                    <!--                                        color=\"third\"-->\n                                    <!--                                        class=\"pa-2 mb-4 text-bold rounded-0 no-boxshadow\"-->\n                                    <!--                                    >-->\n                                    <!--                                        <v-row>-->\n                                    <!--                                            <v-col sm=\"6\" cols=\"6\">-->\n                                    <!--                                                <h3 class=\"text-bold color_white font_30\">USED</h3>-->\n                                    <!--                                            </v-col>-->\n                                    <!--                                            <v-col sm=\"6\" cols=\"6\">-->\n                                    <!--                                                <h4 class=\"text-bold color_black\">use with sale order number</h4>-->\n                                    <!--                                            </v-col>-->\n                                    <!--                                        </v-row>-->\n                                    <!--                                    </v-card>-->\n                                    <!--                                    <v-card-->\n                                    <!--                                        color=\"third\"-->\n                                    <!--                                        class=\" text-bold rounded-0  no-boxshadow\"-->\n                                    <!--                                    >-->\n                                    <!--&lt;!&ndash;                                        <p class=\"text-center pa-2 color_white mb-1\">&ndash;&gt;-->\n                                    <!--&lt;!&ndash;                                            {{ $t(\"create_sale_order\") }}&ndash;&gt;-->\n                                    <!--&lt;!&ndash;                                        </p>&ndash;&gt;-->\n                                    <!--                                    </v-card>-->\n                                    <!--                                    <div-->\n                                    <!--                                        class=\"my-2 mt-3\"-->\n                                    <!--                                        style=\"height:3px; background-color:#ffffff;width:100%;\"-->\n                                    <!--                                    ></div>-->\n                                    <!-- <v-divider class=\"my-2 mt-3\" /> -->\n                                    <p class=\"grey--text mt-6 mb-2\">\n                                        {{ $t(\"transaction_history\") }}\n                                    </p>\n                                    <v-simple-table>\n                                        <template v-slot:default>\n                                            <tbody>\n                                            <tr\n                                                v-for=\"item in saleQuoteHistory\"\n                                                v-bind:key=\"item.id\"\n                                            >\n                                                <td class=\"text-left px-0 font_12\">\n                                                    {{ item.name }}\n                                                </td>\n                                                <td class=\"text-center px-0 font_12\">\n                                                    {{ formatDateTime(item.createdAt) }} &nbsp; ({{\n                                                        item.timeSince\n                                                    }})\n                                                </td>\n                                            </tr>\n                                            </tbody>\n                                        </template>\n                                    </v-simple-table>\n\n                                    <!-- <v-divider class=\"my-2 mt-3\" /> -->\n                                    <!--                                    <p class=\"mb-1\" color=\"grey--text\">{{$t('communication_history')}}</p>-->\n                                    <!--                                    <p class=\"mb-1\">{{$t('sent_on')}} : <span class=\"text-bold\">20 May 2020 – 6:00 PM</span></p>-->\n                                    <!--                                    <p class=\"mb-1\">{{$t('seen_on')}} :  <span class=\"text-bold\">20 May 2020 – 6:00 PM</span></p>-->\n                                </div>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"false\"\n                :myLoading=\"true\"\n            />\n            <v-dialog v-model=\"dialogTax\" max-width=\"450px\">\n                <v-card>\n                    <div class=\"modal_header\">\n                        <v-card-title>{{ $t(\"tax_list\") }}</v-card-title>\n                        <v-icon @click=\"dialogTax = false\">close</v-icon>\n                    </div>\n                    <v-card-text class=\"modal_text_content\">\n                        <v-row>\n                            <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                                <v-simple-table>\n                                    <template v-slot:default>\n                                        <tbody>\n                                        <tr\n                                            v-for=\"(value, name) in saleQuote.taxListTotal\"\n                                            v-bind:key=\"name\"\n                                        >\n                                            <td class=\"text-left\" width=\"180px\">{{ name }}</td>\n                                            <td class=\"text-center\">:</td>\n                                            <td class=\"text-right\">\n                                                {{ numberFormat(value) }}\n                                            </td>\n                                        </tr>\n                                        <tr>\n                                            <td class=\"text-left\" width=\"180px\">\n                                                {{ $t(\"total\") }}\n                                            </td>\n                                            <td class=\"text-center\">:</td>\n                                            <td class=\"text-right\">\n                                                {{ numberFormat(saleQuote.totalTaxAmount) }}\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </template>\n                                </v-simple-table>\n                            </v-col>\n                        </v-row>\n                    </v-card-text>\n                    <v-divider/>\n                </v-card>\n            </v-dialog>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n// import kendo from '@progress/kendo-ui'\nimport LoadingMe from \"@/components/Loading\";\nimport SaleQuoteModel from \"@/scripts/model/Transaction\";\nimport kendo from \"@progress/kendo-ui\";\n\nconst saleFormContentHandler = require(\"@/scripts/saleFormContentHandler\");\nconst saleQuoteHandler = require(\"@/scripts/transactionHandler\");\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\")\n// const saleQuoteModel = new SaleQuoteModel({})\nconst {getFormSetting} = require(\"@/scripts/settingsHandler.js\")\nimport {print} from \"@/form/Sale.js\";\nimport {i18n} from '@/i18n';\n/* Store */\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\nexport default {\n    name: \"SaleQuoteView\",\n    components: {\n        LoadingMe: LoadingMe,\n    },\n    props: {\n        id: {\n            type: String,\n        },\n        initSaleQuote: {\n            type: SaleQuoteModel,\n        },\n    },\n    data: () => ({\n        isEdit: false,\n        // LoadingMe\n        showLoading: false,\n        showLoadingAtch: false,\n        loadingAlert: false,\n        loadingColorAlert: \"\",\n        loadingTextAlert: \"\",\n        alert: false,\n        dialogTax: false,\n        // Form validation\n        valid: true,\n        col_expand: 9,\n        col_hide: 3,\n        isHideBar: false,\n        //\n        saleFormContent: {},\n        saleQuote: new SaleQuoteModel(),\n        itemLines: [],\n        saleQuoteHistory: [],\n        dateFormat: new SaleQuoteModel().dateFormat,\n        // form\n        form_setting: '',\n\n        imgFile: '',\n        files: [],\n        src: '',\n        file_: {},\n        fileDesc: '',\n        fileSize: 0,\n        fileType: '',\n        fileName: '',\n        attachmentList: [],\n        reason: '',\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email\n        },\n    }),\n    methods: {\n        formatDateTime(value) {\n            return kendo.toString(new Date(value), this.dateFormat + ` hh:mm tt`);\n        },\n        async loadAttachment() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    if (this.$route.params.hasOwnProperty('id')) {\n                        this.showLoadingAtch = true\n                        const strFilter = '?id=' + this.$route.params.id\n                        this.attachmentList = []\n                        billingHandler.attachmentList(strFilter).then(res => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoadingAtch = false\n                                this.attachmentList = res.data.data\n                            } else {\n                                this.showLoadingAtch = false\n                            }\n                        })\n                    }\n\n                }, 10)\n            })\n        },\n        onFileChange(e) {\n            if (e) {\n                this.fileDesc = e.name\n                this.fileName = e.name\n                this.fileSize = e.size\n                this.fileType = e.type\n                let input = this.files\n                // Ensure that you have a file before attempting to read it\n                if (input) {\n                    let reader = new FileReader()\n                    // Define a callback function to run, when FileReader finishes its job\n                    reader.onloadend = (e) => {\n                        // Note: arrow function used here, so that \"this.imageData\" refers to the imageData of Vue component\n                        // Read image as base64 and set to imageData\n                        this.imgFile = e.target.result\n                    }\n                    // Start the reader job - read file as a data url (base64 format)\n                    reader.readAsBinaryString(input)\n                    this.src = URL.createObjectURL(input)\n                }\n            }\n        },\n        async uploadFile() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    if (this.imgFile) {\n                        if (this.$route.params.hasOwnProperty('id')) {\n                            const id = this.$route.params.id || ''\n                            const name = this.saleQuote.referenceNo || ''\n                            let data = {\n                                file: this.imgFile,\n                                info: {\n                                    name: this.fileName,\n                                    description: this.fileDesc,\n                                    size: this.fileSize,\n                                    type: this.fileType\n                                },\n                                type: 'Transaction',\n                                id: id,\n                                name: name\n                            }\n                            this.showLoading = true\n                            billingHandler.attachment(data).then(res => {\n                                if (res.data.statusCode === 201) {\n                                    this.showLoading = false\n                                    this.imgFile = null\n                                    this.src = ''\n                                    this.fileDesc = ''\n                                    this.fileName = ''\n                                    this.fileSize = 0\n                                    this.fileType = ''\n                                    this.$snotify.success('Success')\n                                    this.loadAttachment()\n                                }\n                            })\n                        }\n\n                    } else {\n                        this.showLoading = false\n                        this.$snotify.error('Please browse to upload image')\n                    }\n                }, 10)\n            })\n        },\n        fileUrl(dataItem) {\n            if (dataItem.fileUrl) {\n                return `<a target=\"_blank\" style=\"color:#ED1A3A !important\" href=\"${dataItem.fileUrl}\"><span>Open</span></a>`\n            }\n            return ``\n        },\n        byteToMB(dataItem) {\n            const FileSize = dataItem.size || 0 // in MiB\n            const marker = 1024; // Change to 1000 if required\n            const decimal = 3; // Change as required\n            const kiloBytes = marker; // One Kilobyte is 1024 bytes\n            const megaBytes = marker * marker; // One MB is 1024 KB\n            const gigaBytes = marker * marker * marker; // One GB is 1024 MB\n            // const teraBytes = marker * marker * marker * marker; // One TB is 1024 GB\n\n            // return bytes if less than a KB\n            if (FileSize < kiloBytes) {\n                return FileSize + \" Bytes\";\n            }\n            // return KB if less than a MB\n            else if (FileSize < megaBytes) {\n                return ((FileSize / kiloBytes).toFixed(decimal) + \" KB\");\n            }\n            // return MB if less than a GB\n            else if (FileSize < gigaBytes) {\n                return ((FileSize / megaBytes).toFixed(decimal) + \" MB\");\n            }\n            // return GB if less than a TB\n            else {\n                return ((FileSize / gigaBytes).toFixed(decimal) + \" GB\");\n            }\n\n            /* var FileSize = file.files[0].size / 1024 / 1024; // in MiB\n            if (FileSize > 2) {\n                alert('File size exceeds 2 MiB');\n               // $(file).val(''); //for clearing with Jquery\n            } else {\n                        alert('File size' + FileSize);\n            } */\n        },\n        savePrint() {\n        },\n        cancel() {\n        },\n        hide_smallsitebar() {\n            this.isHideBar = !this.isHideBar;\n        },\n        //\n        numberFormat(value) {\n            return kendo.toString(value, `n${this.saleFormContent.decimal}`);\n        },\n        formatDate(value) {\n            return kendo.toString(new Date(value), this.dateFormat);\n        },\n        formatDate1(value) {\n            return kendo.toString(new Date(value), this.dateFormat + ` hh:mm tt`);\n        },\n        paymentCode(code) {\n            return code.replace(\"psc-\", \"\");\n        },\n        status(value) {\n            let statusText = \"\";\n            switch (value) {\n                case 1:\n                    statusText = \"OPEN\";\n                    break;\n                case 2:\n                    statusText = \"USED\";\n                    break;\n            }\n            return statusText;\n        },\n        amountFormat(value) {\n            return kendo.toString(value.amount, `n${this.saleFormContent.decimal}`);\n        },\n        priceFormat(value) {\n            return kendo.toString(value.price, `n${this.saleFormContent.decimal}`);\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.itemLineDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        vatTemplate(dataItem) {\n            const vat = dataItem.vatTax;\n            if (vat) {\n                return `<span>${vat.defaultTax ? vat.defaultTax : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        itemTemplate(dataItem) {\n            const item = dataItem.item;\n            if (item) {\n                return `<span>${item.name ? item.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        UOMTemplate(dataItem) {\n            const uom = dataItem.uom;\n            if (uom) {\n                return `<span>${uom.uom ? uom.uom.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        saleUnitTemplate(dataItem) {\n            const saleUnit = dataItem.saleUnit;\n            if (saleUnit) {\n                return `<span>${saleUnit.name ? saleUnit.name : ``}</span>`;\n            } else {\n                return ``;\n            }\n        },\n        discountItemTemplate(dataItem) {\n            const discountItem = dataItem.discountItem;\n            if (discountItem) {\n                return `<span>${discountItem.code ? discountItem.code : ``} - ${\n                    discountItem.name ? discountItem.name : ``\n                }</span>`;\n            } else {\n                return ``;\n            }\n        },\n        empImpl(dataItem) {\n            let empIds = [];\n            dataItem.employee.forEach((m) => {\n                empIds.push(m.firstName + \" - \" + m.lastName);\n            });\n            // window.console.log(empIds.join(', '))\n            return `<span>${empIds.join(\", \")}</span>`;\n        },\n        async initData() {\n            if (this.$route.params.id !== undefined) {\n                await this.loadViewSaleQuote();\n                await this.loadSaleQuoteHistory();\n            }\n        },\n        async loadViewSaleQuote() {\n            window.console.log(this.$route.name, 'name');\n            if (this.$route.name === 'Sale Quote View') {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        this.showLoading = true;\n                        saleQuoteHandler\n                            .view(this.$route.params.id)\n                            .then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    this.saleQuote = res.data.data[0];\n                                    this.itemLines = this.saleQuote.itemLines;\n                                    this.loadSaleQuoteHistory();\n                                }\n                            })\n                            .catch();\n                        {\n                            this.showLoading = false;\n                        }\n                    }, 10);\n                });\n            }\n        },\n        async loadSaleFormContent() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    saleFormContentHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            const data = res.data.data;\n                            if (data.length > 0) {\n                                this.saleFormContent = data[0];\n                                window.console.log(data[0]);\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        clear() {\n        },\n        onEditSaleQuote() {\n            const id = this.$route.params.id;\n            this.$router.push({\n                path: \"sale_quote/\" + id,\n                name: \"Sale Quote\",\n                params: {id: id, initSaleQuote: this.getSaleQuote()},\n                query: {type: \"edit\"},\n            });\n            // window.console.log(this.$router.currentRoute)\n            //\n            // let args = {\n            //     text: data.referenceNo,\n            //     url: url,\n            //     data: data,\n            // }\n            // return {\n            //     template: LinkTemplate,\n            //     templateArgs: args\n            // }\n            // this.$router.replace({ path: 'sale_quote/' + id, name: 'Sale Quote', params: { initSaleQuote: this.getSaleQuote() } })\n        },\n        getSaleQuote() {\n            return new SaleQuoteModel(this.saleQuote);\n        },\n        async loadSaleQuoteHistory() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    saleQuoteHandler\n                        .history(this.$route.params.id)\n                        .then((res) => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false;\n                                this.saleQuoteHistory = res.data.data;\n                            }\n                        })\n                        .catch();\n                    {\n                        this.showLoading = false;\n                    }\n                }, 10);\n            });\n        },\n        reloadData(value) {\n            window.console.log(\"reload\" + value, this.$route.params);\n        },\n        getFormSettingFuct() {\n            let params = \"?formType=Sale Quote\"\n            getFormSetting(params).then(res => {\n                if (res.data.statusCode === 200) {\n                    if (res.data.data.length > 0) {\n                        this.form_setting = res.data.data[\"0\"].settings;\n                    }\n                }\n            });\n        },\n        _print(id) {\n            window.console.log(this.saleQuote)\n            if (this.form_setting != '') {\n                print(this.saleQuote, id, this.form_setting);\n            } else {\n                this.$snotify.error(i18n.t('please_save_form_in_setting'))\n            }\n        },\n\n        deleteQuote() {\n            this.$swal({\n                title: 'Are you sure?',\n                text: \"You won't be able to revert this!\",\n                icon: 'warning',\n                input: 'text',\n                inputPlaceholder: 'Input some reason',\n                showCancelButton: true,\n                confirmButtonColor: '#4d4848',\n                cancelButtonColor: '#ED1A3A',\n                confirmButtonText: 'Yes, delete it!'\n            }).then((result) => {\n                if (result.value) {\n                    if (result.value.length > 1) {\n                        this.reason = result.value\n                        this.onDeleteQuote()\n                        window.console.log(result.value, '---')\n                    }\n                }\n            })\n        },\n        async onDeleteQuote() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    const txnId = this.$route.params.id\n                    if (txnId) {\n                        const lead = this.saleQuote.lead || {}\n                        const data = {\n                            id: txnId,\n                            leadId: lead.id || '',\n                            loggedUser: this.loggedUser,\n                            reason: this.reason,\n                            actionType: 'delete',\n                            type: 'Sale Quote',\n                        }\n                        saleQuoteHandler.delete(data).then(response => {\n                            if (response.data.statusCode === 200) {\n                                this.$snotify.success('Successfully')\n                                this.close()\n                            }\n                        }).catch(e => {\n                            this.$snotify.error('Something went wrong')\n                            this.errors.push(e)\n                        })\n                    }\n                }, 10);\n            })\n        },\n        close() {\n            this.destroy()\n            window.history.go(-1)\n        },\n        destroy() {\n            this.$destroy();\n        }\n    },\n    computed: {\n        disabledMe() {\n            if (this.saleQuote) {\n                const status = this.saleQuote.status || 1\n                if (status === 2) {\n                    return true\n                }\n            }\n            return false\n        },\n        paymentTerm() {\n            if (this.saleQuote) {\n                if (this.saleQuote.hasOwnProperty(\"paymentTerm\")) {\n                    if (this.saleQuote.paymentTerm.hasOwnProperty(\"id\")) {\n                        return this.saleQuote.paymentTerm.name;\n                    }\n                }\n            }\n            return \"\";\n        },\n        saleLead() {\n            if (this.saleQuote) {\n                if (this.saleQuote.hasOwnProperty(\"lead\")) {\n                    if (this.saleQuote.lead.hasOwnProperty(\"id\")) {\n                        return this.saleQuote.lead.referenceNo;\n                    }\n                }\n            }\n            return \"\";\n        },\n        validityDate() {\n            if (this.saleQuote) {\n                if (this.saleQuote.hasOwnProperty(\"validityDate\")) {\n                    return kendo.toString(\n                        new Date(this.saleQuote.validityDate),\n                        this.dateFormat\n                    );\n                }\n            }\n            return \"\";\n        },\n        transactionDate() {\n            if (this.saleQuote) {\n                if (this.saleQuote.hasOwnProperty(\"transactionDate\")) {\n                    return kendo.toString(\n                        new Date(this.saleQuote.transactionDate),\n                        this.dateFormat\n                    );\n                }\n            }\n            return \"\";\n        },\n        customerName() {\n            if (this.saleQuote) {\n                if (this.saleQuote.hasOwnProperty(\"customer\")) {\n                    if (this.saleQuote.customer.hasOwnProperty(\"id\")) {\n                        return this.saleQuote.customer.name;\n                    }\n                }\n            }\n            return \"\";\n        },\n        currency() {\n            if (this.saleQuote) {\n                if (this.saleQuote.hasOwnProperty(\"priceLevel\")) {\n                    if (this.saleQuote.priceLevel.hasOwnProperty(\"currency\")) {\n                        return this.saleQuote.priceLevel.currency.code;\n                    }\n                }\n            }\n            return \"\";\n        },\n        priceLevel() {\n            if (this.saleQuote) {\n                if (this.saleQuote.hasOwnProperty(\"priceLevel\")) {\n                    if (this.saleQuote.priceLevel.hasOwnProperty(\"id\")) {\n                        return this.saleQuote.priceLevel.name;\n                    }\n                }\n            }\n            return \"\";\n        },\n        segment() {\n            if (this.saleQuote) {\n                if (this.saleQuote.hasOwnProperty(\"segment\")) {\n                    if (this.saleQuote.segment.hasOwnProperty(\"id\")) {\n                        return this.saleQuote.segment.name;\n                    }\n                }\n            }\n            return \"\";\n        },\n        location() {\n            if (this.saleQuote) {\n                if (this.saleQuote.hasOwnProperty(\"location\")) {\n                    if (this.saleQuote.location.hasOwnProperty(\"id\")) {\n                        return this.saleQuote.location.name;\n                    }\n                }\n            }\n            return \"\";\n        },\n        saleChannel() {\n            if (this.saleQuote) {\n                if (this.saleQuote.hasOwnProperty(\"saleChannel\")) {\n                    if (this.saleQuote.saleChannel.hasOwnProperty(\"id\")) {\n                        return this.saleQuote.saleChannel.name;\n                    }\n                }\n            }\n            return \"\";\n        },\n        project() {\n            if (this.saleQuote) {\n                if (this.saleQuote.hasOwnProperty(\"project\")) {\n                    if (this.saleQuote.project.hasOwnProperty(\"id\")) {\n                        return this.saleQuote.project.name;\n                    }\n                }\n            }\n            return \"\";\n        },\n        billingAddress() {\n            if (this.saleQuote) {\n                if (this.saleQuote.hasOwnProperty(\"billingAddress\")) {\n                    if (this.saleQuote.billingAddress.hasOwnProperty(\"id\")) {\n                        return this.saleQuote.billingAddress.name;\n                    }\n                }\n            }\n            return \"\";\n        },\n        deliveryAddress() {\n            if (this.invoice) {\n                if (this.invoice.hasOwnProperty(\"deliveryAddress\")) {\n                    if (this.invoice.deliveryAddress.hasOwnProperty(\"id\")) {\n                        return this.invoice.deliveryAddress.name;\n                    }\n                }\n            }\n            return \"\";\n        },\n        transactionNote() {\n            if (this.saleQuote) {\n                if (this.saleQuote.hasOwnProperty(\"transactionNote\")) {\n                    return this.saleQuote.transactionNote;\n                }\n            }\n            return \"\";\n        },\n        deliveryDateTime() {\n            if (this.invoice) {\n                if (this.invoice.hasOwnProperty(\"deliveryDateTime\")) {\n                    return kendo.toString(\n                        new Date(this.invoice.deliveryDateTime),\n                        this.dateFormat\n                    );\n                }\n            }\n            return \"\";\n        },\n        specificDiscount() {\n            if (this.invoice) {\n                if (this.invoice.hasOwnProperty(\"specificDiscountItem\")) {\n                    if (this.invoice.specificDiscountItem.hasOwnProperty(\"id\")) {\n                        return this.invoice.specificDiscountItem.name;\n                    }\n                }\n            }\n            return \"\";\n        },\n        saleQuoteStatus() {\n            if (this.saleQuote) {\n                if (this.saleQuote.hasOwnProperty(\"status\")) {\n                    const status = this.saleQuote.status;\n                    let statusText = \"\";\n                    switch (status) {\n                        case 1:\n                            statusText = \"OPEN\";\n                            break;\n                        case 2:\n                            statusText = \"USED\";\n                            break;\n                        case 5:\n                            statusText = \"DELETED\";\n                            break;\n                    }\n                    return statusText;\n                }\n            }\n            return \"\";\n        },\n    },\n    activated() {\n        this.reloadData(\"activated\");\n    },\n    watch: {\n        id() {\n            if (this.$route.params.id === undefined) {\n                this.clear();\n            } else {\n                this.showLoading = true;\n                this.loadViewSaleQuote();\n            }\n        },\n        '$route': 'loadViewSaleQuote',\n    },\n    mounted: async function () {\n        await this.loadSaleFormContent();\n        await this.initData();\n        this.getFormSettingFuct()\n    },\n};\n</script>\n\n<style scoped>\n.function_wrapper {\n    box-shadow: none !important;\n}\n\n.v-application--is-ltr .v-text-field .v-input__append-inner {\n    margin-top: 0 !important;\n}\n\n.v-input__slot {\n    background-color: #fff !important;\n}\n\n.function_content .label {\n    margin-bottom: 10px;\n    display: inline-block;\n}\n\n.border_radius10 {\n    border-radius: 10px !important;\n    background-color: #f2f2f2;\n}\n\n.pa-3.v-card h4 {\n    font-size: 18px;\n    color: #333;\n}\n\n.pa-3.v-card p {\n    font-size: 12px;\n    color: #b5b5b5;\n}\n\n.attachment_file {\n    background-color: #efeded;\n    border-radius: 0 !important;\n}\n\n.attachment_table.v-data-table table {\n    border: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.attachment_table table tr th {\n    border-left: thin solid rgba(0, 0, 0, 0.12);\n    height: 35px;\n    border-right: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.block_debit,\n.block_credit {\n    border-bottom: 1px solid #fff;\n}\n\n.block_debit p.number,\n.block_credit p.number {\n    font-size: 25px;\n    color: #7f7f7f;\n}\n\n.block_debit h5,\n.block_credit h5,\n.block_difference h5 {\n    text-transform: uppercase;\n    color: #7f7f7f;\n    font-size: 15px;\n    font-weight: normal;\n}\n\n.block_difference h5 {\n    font-size: 18px;\n}\n\n.block_difference h5 span {\n    font-size: 15px;\n}\n\n.custom_grid table th:last-child {\n    text-align: right !important;\n}\n\n.color_green {\n    color: #03b154;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        max-width: 1250px;\n    }\n}\n\n@media (max-width: 576px) {\n    .pt-6.col-sm-5.col-12 {\n        padding-top: 0 !important;\n    }\n\n    .code_text {\n        width: 100%;\n    }\n\n    .phone_no_pt {\n        padding-top: 0 !important;\n    }\n\n    .select_template,\n    .save_option {\n        margin-bottom: 10px;\n    }\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: 0.5s ease-in;\n    flex: 0 0 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n\n.small_sidebar {\n    height: 98%;\n    position: relative;\n    padding: 12px;\n    background-color: #edf1f5;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.grey--text {\n    color: #808080;\n}\n\n.lb_bold {\n    font-size: 12px;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 10px;\n}\n\n.card_background {\n    background-color: #edf1f5;\n    min-height: 120px;\n}\n\n.deposite_input {\n    width: 100px;\n}\n\n.btn_add_small {\n    height: 27px !important;\n    min-width: 25px !important;\n    font-size: 10px;\n    padding: 0 22px !important;\n    background-color: #00b050 !important;\n    color: #ffffff;\n    border-radius: 0 !important;\n}\n\n.list_site_inv {\n    background-color: #92d050;\n    color: #ffffff;\n    font-size: 12px;\n}\n\n.list_site_exp {\n    background-color: #c5e0b4;\n    color: #000000;\n    font-size: 12px;\n    line-height: 16px;\n    min-height: 40px;\n}\n\n.checkbox_inv {\n    padding: 2px;\n    margin-top: 3px;\n    margin-right: 2px;\n}\n\n.exp_select {\n    font-size: 12px !important;\n}\n\n.color_white {\n    color: #ffffff;\n}\n\n.color_black {\n    color: #000000;\n}\n\n.font_30 {\n    font-size: 30px;\n    padding: 10px;\n}\n</style>\n"]}]}