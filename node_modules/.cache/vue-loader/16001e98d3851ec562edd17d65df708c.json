{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/receivables/Overview.vue?vue&type=style&index=0&id=51d47b65&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/receivables/Overview.vue","mtime":1638499443208},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouay1jaGFydCB7CiAgaGVpZ2h0OiAxODBweDsKfQoKLnRoZW1lLS1saWdodC52LWRhdGEtdGFibGUgewogIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7Cn0KCi52LWRhdGEtdGFibGUgPiAudi1kYXRhLXRhYmxlX193cmFwcGVyID4gdGFibGUgPiB0Ym9keSA+IHRyID4gdGQgewogIGhlaWdodDogMzJweCAhaW1wb3J0YW50OwogIGJvcmRlci1ib3R0b206IHRoaW4gc29saWQgcmdiYSgwLCAwLCAwLCAwLjEyKSAhaW1wb3J0YW50Owp9Cgoudi1kYXRhLXRhYmxlID4gLnYtZGF0YS10YWJsZV9fd3JhcHBlciA+IHRhYmxlID4gdGJvZHkgPiB0cjpmaXJzdC1jaGlsZCA+IHRkIHsKICBib3JkZXItdG9wOiB0aGluIHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMikgIWltcG9ydGFudDsKfQoKLnRoZW1lLS1saWdodC52LWRhdGEtdGFibGUKICA+IC52LWRhdGEtdGFibGVfX3dyYXBwZXIKICA+IHRhYmxlCiAgPiB0Ym9keQogID4gdHI6aG92ZXI6bm90KC52LWRhdGEtdGFibGVfX2V4cGFuZGVkX19jb250ZW50KTpub3QoLnYtZGF0YS10YWJsZV9fZW1wdHktd3JhcHBlcikgewogIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7Cn0K"},{"version":3,"sources":["Overview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsUA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Overview.vue","sourceRoot":"src/views/customers/receivables","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n      <v-card color=\"white\" class=\"pl-2 no_border\" elevation=\"0\">\n        <v-row>\n          <v-col class=\"py-0\" sm=\"12\" cols=\"12\">\n            <v-card outlined dense color=\"white\" class=\"no_border mb-4\">\n              <v-row>\n                <v-col sm=\"9\" cols=\"12\" class=\"py-0\">\n                  <h2 class=\"mb-1 font_20\">\n                    {{ $t(\"customer_balance_payments\") }}\n                  </h2>\n                </v-col>\n              </v-row>\n              <v-row>\n                <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                  <LoadingMe\n                    :isLoading=\"showLoading\"\n                    :fullPage=\"false\"\n                    :myLoading=\"true\"\n                  />\n                  <chart\n                    ref=\"chart\"\n                    :legend-position=\"'bottom'\"\n                    :legend-visible=\"false\"\n                    :tooltip=\"tooltip\"\n                    :series=\"seriesLine\"\n                    :category-axis-categories=\"bars\"\n                    :theme=\"'sass'\"\n                  />\n                </v-col>\n              </v-row>\n            </v-card>\n          </v-col>\n        </v-row>\n\n        <v-row>\n          <v-col class=\"py-0 pr-md-2\" sm=\"4\" cols=\"12\">\n            <v-card\n              outlined\n              dense\n              color=\"secondary\"\n              class=\"niradei_bold pa-3 white--text mb-4 no_border d-flex justify-space-between align-center\"\n              min-height=\"78\"\n            >\n              <h4 class=\"pa-0 text-uppercase col-md-5 col-xs-12 font_13 flex-1\">\n                {{ $t(\"due_this_week\") }}\n              </h4>\n              <h6 class=\"pa-0 text-right font_20 col-md-7 col-xs-12\">10</h6>\n            </v-card>\n            <v-card\n              outlined\n              dense\n              color=\"third\"\n              class=\"niradei_bold pa-3 white--text mb-4 no_border d-flex justify-space-between align-center\"\n              min-height=\"78\"\n            >\n              <h4 class=\"pa-0 text-uppercase col-md-6 col-xs-12 font_13 flex-1\">\n                {{ $t(\"customers_over_credit_limit\") }}\n              </h4>\n              <h6 class=\"pa-0 text-right font_20 col-md-6 col-xs-12\">1</h6>\n            </v-card>\n            <v-card\n              outlined\n              dense\n              color=\"third\"\n              class=\"niradei_bold pa-3 white--text no_border d-flex justify-space-between align-center\"\n              min-height=\"78\"\n            >\n              <h4 class=\"pa-0 text-uppercase col-md-6 col-xs-12 font_13 flex-1\">\n                {{ $t(\"average_collection_days\") }}\n              </h4>\n              <h6 class=\"pa-0 text-right font_20 col-md-6 col-xs-12 flex-1\">\n                500\n              </h6>\n            </v-card>\n          </v-col>\n          <v-col class=\"py-md-0 px-md-2\" sm=\"4\" cols=\"12\">\n            <v-card\n              outlined\n              dense\n              class=\"pa-4 no_border\"\n              min-height=\"268\"\n              color=\"grayBg\"\n            >\n              <h3 class=\"font_20\">{{ $t(\"expected_due\") }}</h3>\n              <p class=\"mb-0\">\n                {{ $t(\"as_of_today\") }}\n              </p>\n              <h2\n                class=\"primary--text mb-0 pa-0 niradei_black mb-0 col-sm-12 text-right\"\n              >\n                {{ expectedBalance }}\n              </h2>\n              <template>\n                <v-simple-table class=\"mb-3\">\n                  <template>\n                    <tbody>\n                      <tr v-for=\"item in expectedDue\" :key=\"item.name\">\n                        <td class=\"text-left\">\n                          <span class=\"niradei_medium font_14 grey--text\">\n                            {{ item.name }} {{ $t(item.locale) }}\n                          </span>\n                        </td>\n                        <td class=\"text-right\">\n                          <span class=\"niradei_heavy font_18 dark_grey\">\n                            {{ numberFormat(item.value, item.decimalFormat) }}\n                          </span>\n                        </td>\n                      </tr>\n                      <!--                                        <tr>-->\n                      <!--                                            <td class=\"text-left\">-->\n                      <!--                                            <span class=\"niradei_medium font_14 grey&#45;&#45;text\">-->\n                      <!--                                                1 â€“ 2 {{ $t(\"weeks\") }}-->\n                      <!--                                            </span>-->\n                      <!--                                            </td>-->\n                      <!--                                            <td class=\"text-right\">-->\n                      <!--                                            <span class=\"niradei_heavy font_18 dark_grey\">-->\n                      <!--                                                8,000-->\n                      <!--                                            </span>-->\n                      <!--                                            </td>-->\n                      <!--                                        </tr>-->\n                      <!--                                        <tr>-->\n                      <!--                                            <td class=\"text-left\">-->\n                      <!--                                            <span class=\"niradei_medium font_14 grey&#45;&#45;text\">-->\n                      <!--                                                > 2 {{ $t(\"weeks\") }}-->\n                      <!--                                            </span>-->\n                      <!--                                            </td>-->\n                      <!--                                            <td class=\"text-right\">-->\n                      <!--                                            <span class=\"niradei_heavy font_18 dark_grey\">-->\n                      <!--                                                2,000-->\n                      <!--                                            </span>-->\n                      <!--                                            </td>-->\n                      <!--                                        </tr>-->\n                    </tbody>\n                  </template>\n                </v-simple-table>\n              </template>\n              <v-row>\n                <v-col sm=\"6\" class=\"pr-0 py-0\">\n                  <v-btn\n                    to=\"receipt\"\n                    class=\"font_16 text-capitalize rounded-0 white--text\"\n                    color=\"primary\"\n                  >\n                    + {{ $t(\"receipt\") }}\n                  </v-btn>\n                </v-col>\n                <v-col sm=\"6\" class=\"pl-0 pb-0 text-right\">\n                  <router-link\n                    to=\"\"\n                    class=\"mb-0 niradei_bold font_16 primary--text text-right\"\n                  >\n                    {{ $t(\"view_report\") }}\n                  </router-link>\n                </v-col>\n              </v-row>\n            </v-card>\n          </v-col>\n          <v-col class=\"py-0 pl-md-2\" sm=\"4\" cols=\"12\">\n            <v-card\n              outlined\n              dense\n              class=\"pa-4 no_border\"\n              min-height=\"300\"\n              color=\"grayBg\"\n            >\n              <h3 class=\"font_20\">{{ $t(\"payment_terms\") }}</h3>\n              <p class=\"mb-7\">\n                {{ $t(\"from_the_beginning_year\") }}\n              </p>\n              <template>\n                <v-simple-table>\n                  <template>\n                    <tbody>\n                      <tr>\n                        <td class=\"text-left px-0\" style=\"width: 65%;\">\n                          <span class=\"niradei_medium font_14 grey--text\">\n                            {{ $t(\"sale_payment_term\") }}\n                          </span>\n                        </td>\n                        <td class=\"text-right\">\n                          <span class=\"niradei_heavy font_18 dark_grey\">\n                            N30\n                          </span>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td class=\"text-left px-0\" style=\"width: 65%;\">\n                          <span class=\"niradei_medium font_14 grey--text\">\n                            {{ $t(\"%_of_customers_not_compliant\") }}\n                          </span>\n                        </td>\n                        <td class=\"text-right\">\n                          <span class=\"niradei_heavy font_18 dark_grey\">\n                            %\n                          </span>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td class=\"text-left px-0\" style=\"width: 65%;\">\n                          <span class=\"niradei_medium font_14 grey--text\">\n                            {{ $t(\"%_of_customers_compliant\") }}\n                          </span>\n                        </td>\n                        <td class=\"text-right\">\n                          <span class=\"niradei_heavy font_18 dark_grey\">\n                            %\n                          </span>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </template>\n                </v-simple-table>\n              </template>\n            </v-card>\n          </v-col>\n        </v-row>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport { i18n } from \"@/i18n\";\nimport { Chart } from \"@progress/kendo-charts-vue-wrapper\";\nimport kendo from \"@progress/kendo-ui\";\n\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\n\nexport default {\n  name: \"Overview\",\n  data: () => ({\n    showLoading: false,\n    expectedDue: [],\n    tooltip: {\n      visible: true,\n      template: \"'#= series.name #: #= value #'\",\n    },\n    seriesLine: [],\n    bars: [],\n    valueAxis_line: [\n      {\n        max: 3313.097,\n        // visible: false,\n        labels: {\n          format: \"{0}\",\n        },\n      },\n    ],\n    asOf: new Date().toISOString().substr(0, 10),\n    expectedBalance: 0,\n    decimalFormat: \"n2\",\n    lastUpdated: \"\",\n    series: [],\n    mostPaymentTermUsed: 0,\n  }),\n  components: {\n    chart: Chart,\n    LoadingMe: () => import(`@/components/Loading`),\n  },\n  methods: {\n    async loadExpectedDue() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          let strFilter = \"\";\n          strFilter = \"?asOf=\" + this.asOf + \"&type=expected_due\";\n          this.showLoading = true;\n          billingHandler.wcpReceivableOverviewList(strFilter).then((res) => {\n            if (res.data.statusCode === 200) {\n              const response = res.data.data[0];\n              this.expectedDue = response.lines;\n              this.decimalFormat = response.decimalFormat;\n              this.lastUpdated = response.lastUpdatedAt;\n              const paymentTerm = response.paymentTermUsed;\n              this.mostPaymentTermUsed = paymentTerm.name;\n              this.expectedBalance = this.numberFormat(\n                response.openBalance,\n                response.decimalFormat\n              );\n              this.showLoading = false;\n            }\n          });\n        }, 300);\n      });\n    },\n    async loadRBC() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          let strFilter = \"\";\n          strFilter = \"?asOf=\" + this.asOf + \"&type=rbc\";\n          this.showLoading = true;\n          billingHandler.wcpReceivableOverviewList(strFilter).then((res) => {\n            if (res.data.statusCode === 200) {\n              const response = res.data.data[0];\n              const bar = response.bar;\n              this.decimalFormat = response.decimalFormat;\n              bar.forEach((m) => {\n                this.bars.push(i18n.t(m));\n              });\n              this.seriesLine = response.lines;\n              this.lastUpdated = response.lastUpdatedAt;\n              this.showLoading = false;\n            }\n          });\n        }, 300);\n      });\n    },\n    numberFormat(value, format) {\n      return kendo.toString(value, format);\n    },\n  },\n  computed: {\n    fields() {\n      return [\"30 \" + i18n.t(\"days_summary\"), \"60 \" + i18n.t(\"days_summary\")];\n    },\n  },\n  mounted: async function() {\n    await this.loadExpectedDue();\n    // await this.loadRBC()\n  },\n};\n</script>\n<style scoped>\n.k-chart {\n  height: 180px;\n}\n\n.theme--light.v-data-table {\n  background-color: transparent !important;\n}\n\n.v-data-table > .v-data-table__wrapper > table > tbody > tr > td {\n  height: 32px !important;\n  border-bottom: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n\n.v-data-table > .v-data-table__wrapper > table > tbody > tr:first-child > td {\n  border-top: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n\n.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > tbody\n  > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n  background-color: transparent !important;\n}\n</style>\n"]}]}