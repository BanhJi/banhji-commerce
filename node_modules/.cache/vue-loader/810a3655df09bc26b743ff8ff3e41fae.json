{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/payroll/pay_roll/payroll/Summary.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/payroll/pay_roll/payroll/Summary.vue","mtime":1638499443257},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYXlyb2xsUnVuIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9QYXlyb2xsUnVuIjsKY29uc3QgcGF5cm9sbFJ1bk1vZGVsID0gbmV3IFBheXJvbGxSdW4oe30pCmNvbnN0IHBheXJvbGxIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3BheXJvbGxIYW5kbGVyIikKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSIKaW1wb3J0IExvYWRpbmdNZSBmcm9tICJAL2NvbXBvbmVudHMvTG9hZGluZyI7CmNvbnN0IGNvb2tpZUpTID0gcmVxdWlyZSgiQC9jb29raWUuanMiKTsKY29uc3QgY29va2llID0gY29va2llSlMuZ2V0Q29va2llKCk7CmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJSdW5QYXlyb2xsIiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICAnTG9hZGluZ01lJzogTG9hZGluZ01lLAogICAgfSwKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgc2hvd0xvYWRpbmc6IHRydWUsCiAgICAgICAgcGF5cm9sbFJ1bjogcGF5cm9sbFJ1bk1vZGVsLAogICAgICAgIHBheXJvbGxfaWQ6ICcnLAogICAgICAgIHBheXJvbGxMaXN0OiBbXSwKICAgICAgICBzb3J0OlsKICAgICAgICAgICAgeyBmaWVsZDogJ3JlZmVyZW5jZU51bWJlcicsIGRpcjogJ2FzYycgfQogICAgICAgIF0sCiAgICAgICAgbG9nZ2VkVXNlcjogewogICAgICAgICAgICBpZDogY29va2llLmNyZWF0b3IsCiAgICAgICAgICAgIG5hbWU6IGNvb2tpZS5lbWFpbAogICAgICAgIH0sCiAgICB9KSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBvbkNyZWF0ZVBheXJvbGwoKXsKICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gbmV3IFBheXJvbGxSdW4oewogICAgICAgICAgICAgICAgICAgIGlkOiAgICAgICAgICAgICAgICAgICB0aGlzLnBheXJvbGxSdW4uaWQgPyB0aGlzLnBheXJvbGxSdW4uaWQgOiAnJywKICAgICAgICAgICAgICAgICAgICBtb250aE9mOiAgICAgICAgICAgICAgJycsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiAgICAgICAgICAgICAgICcnLAogICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZU51bWJlcjogICAgICAnJywKICAgICAgICAgICAgICAgICAgICBsYXN0TnVtYmVyOiAgICAgICAgICAgJycsCiAgICAgICAgICAgICAgICAgICAgYWJicjogICAgICAgICAgICAgICAgICcnLAogICAgICAgICAgICAgICAgICAgIHBheU51bWJlcjogICAgICAgICAgICAnJywKICAgICAgICAgICAgICAgICAgICB0eXBlOiAgICAgICAgICAgICAgICAgJ3BheXJvbGwnLAogICAgICAgICAgICAgICAgICAgIHRvdGFsRW1wbG95ZWU6ICAgICAgICAwLAogICAgICAgICAgICAgICAgICAgIHRvdGFsR3Jvc3M6ICAgICAgICAgICAwLAogICAgICAgICAgICAgICAgICAgIHRvdGFsQmVuZWZpdHM6ICAgICAgICAwLAogICAgICAgICAgICAgICAgICAgIHRvdGFsRGVkdWN0aW9uOiAgICAgICAwLAogICAgICAgICAgICAgICAgICAgIHRvdGFsVGF4UGF5bWVudFVTOiAgICAwLAogICAgICAgICAgICAgICAgICAgIHRvdGFsVGF4QmVuZWZpdDogICAgICAwLAogICAgICAgICAgICAgICAgICAgIHRvdGFsTmV0U2FsYXJ5OiAgICAgICAwLAogICAgICAgICAgICAgICAgICAgIHRvdGFsTmV0UGF5OiAgICAgICAgICAwLAogICAgICAgICAgICAgICAgICAgIHBheXJvbGxMaXN0OiAgICAgICAgICBbXSwKICAgICAgICAgICAgICAgICAgICBhZGp1c3RtZW50OiAgICAgICAgICAgW10sCiAgICAgICAgICAgICAgICAgICAgc3RlcDogICAgICAgICAgICAgICAgIDEsICAKICAgICAgICAgICAgICAgICAgICBmaW5hbDogICAgICAgICAgICAgICAgJycsCiAgICAgICAgICAgICAgICAgICAgZGF0ZTogICAgICAgICAgICAgICAgIGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKCksJ3l5eXktTU0tZGQnKSwKICAgICAgICAgICAgICAgICAgICBsb2dnZWRVc2VyOiAgICAgICAgICAgdGhpcy5sb2dnZWRVc2VyICAgICAgCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgcGF5cm9sbEhhbmRsZXIuY3JlYXRlUGF5cm9sbChuZXcgUGF5cm9sbFJ1bihkYXRhKSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXlyb2xsX2lkID0gcmVzdWx0LmRhdGEuaWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm91dGVyVG8oKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuZXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nJykKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChlKQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgcm91dGVyVG8oKXsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgcGF0aDogJ3J1bl9wYXlyb2xsJyArIGAvJHt0aGlzLnBheXJvbGxfaWR9YCwKICAgICAgICAgICAgICAgIHBhcmFtczoge2lkOiB0aGlzLnBheXJvbGxfaWR9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBsb2FkUGF5cm9sbHMoKXsKICAgICAgICAgICAgbGV0IHBhcmFtcyA9IHt9CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgcGF5cm9sbEhhbmRsZXIuZ2V0UGF5cm9sbExpc3QocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXlyb2xsTGlzdCA9IHJlcy5kYXRhLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDMwMCkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGRhdGFCb3VuZDogZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBlLnNlbmRlci5pdGVtcygpCiAgICAgICAgICAgIGlmKGl0ZW1zLmxlbmd0aCA+IDApewogICAgICAgICAgICAgICAgY29uc3QgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRTdW1tYXJ5IikuZGF0YSgia2VuZG9HcmlkIikKICAgICAgICAgICAgICAgIGlmKGdyaWQpewogICAgICAgICAgICAgICAgICAgIGl0ZW1zLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKHRoaXMpOwogICAgICAgICAgICAgICAgICAgICAgICBrZW5kby5qUXVlcnkoInRyW2RhdGEtdWlkPSciICsgZGF0YUl0ZW0udWlkICsgIiddIikuZmluZCgiLmlzU3RhdHVzIikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YUl0ZW0uc3RhdHVzID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZW5kby5qUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoJ2stc3RhdGUtZGlzYWJsZWQnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGdvRWRpdFBheXJvbGwoZSkgewogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGxldCBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZFN1bW1hcnkiKS5kYXRhKCJrZW5kb0dyaWQiKTsKICAgICAgICAgICAgbGV0IGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbShrZW5kby5qUXVlcnkoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgcGF0aDogJ3J1bl9wYXlyb2xsJyArIGAvJHtkYXRhSXRlbS5pZH1gLAogICAgICAgICAgICAgICAgcGFyYW1zOiB7aWQ6IGRhdGFJdGVtLmlkfSwKICAgICAgICAgICAgICAgIHF1ZXJ5OiB7dHlwZTogJ2VkaXQnfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgcGF5cm9sbFN0YXR1cyhkYXRhSXRlbSl7CiAgICAgICAgICAgIGlmKGRhdGFJdGVtLnN0YXR1cyA9PT0gMSl7CiAgICAgICAgICAgICAgICByZXR1cm4gIkRvbmUiCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgbGV0IHN0ZXAgPSAic3RlcCIgKyAocGFyc2VJbnQoZGF0YUl0ZW0uc3RlcCkgLSAxKQogICAgICAgICAgICAgICAgcmV0dXJuIHN0ZXAKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMubG9hZFBheXJvbGxzKCkKICAgIH0sCiAgICBjb21wdXRlZDogeyAKICAgIH0sCiAgICB3YXRjaDogewogICAgICAgICckcm91dGUnOiAnbG9hZFBheXJvbGxzJwogICAgfSwKfTsK"},{"version":3,"sources":["Summary.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Summary.vue","sourceRoot":"src/views/payroll/pay_roll/payroll","sourcesContent":["<template>\n    <v-row>\n        <v-col sm=\"12\" cols=\"12\" class=\"grayBg px-6\">\n            <v-card color=\"white\" class=\"pa-3 no_border\" elevation=\"0\">\n                <v-row>\n                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                        <h2 class=\"font_20 mb-5\">{{$t('run_payroll')}}</h2>\n                        <v-btn width=\"120\" color=\"primary\"\n                            class=\"white--text float-right text-capitalize ml-5\" @click=\"onCreatePayroll\">\n                            {{ $t('create_new') }}\n                        </v-btn>\n                        <!-- <v-btn to=\"payrollrun\" width=\"120\" color=\"primary\"\n                            class=\" white--text float-right text-capitalize ml-5\">\n                            {{ $t('new') }}\n                        </v-btn> -->\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col sm=\"12\" cols=\"12\">\n                        <kendo-datasource ref=\"summaryDS\"\n                            :data=\"payrollList\"\n                            :page-size='100'\n                            :sort=\"sort\"/>\n                            <kendo-grid id=\"gridSummary\" class=\"grid-function\"\n                                :data-source-ref=\"'summaryDS'\"\n                                v-on:databound=\"dataBound\"\n                                :editable=\"false\"\n                                :scrollable-virtual=\"true\"\n                                :pageable=\"true\">\n                            <kendo-grid-column\n                                :width=\"200\"\n                                :field=\"'referenceNumber'\"\n                                :title=\"$t('reference_number')\"\n                                :template=\"'<span>#= referenceNumber#</span>'\"\n                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                :attributes=\"{ style: 'text-align: center'}\"/>\n                            <kendo-grid-column\n                                :width=\"120\"\n                                :field=\"'monthOf'\"\n                                :title=\"$t('month_of')\"\n                                :template=\"'<span>#= monthOf#</span>'\"\n                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                            <kendo-grid-column\n                                :width=\"150\"\n                                :field=\"'totalEmployee'\"\n                                :title=\"$t('total_employee')\"\n                                :template=\"'<span>#= totalEmployee#</span>'\"\n                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                :attributes=\"{ style: 'text-align: center'}\"/>\n                            <kendo-grid-column\n                                :width=\"150\"\n                                :field=\"'status'\"\n                                :title=\"$t('status')\"\n                                :template=\"payrollStatus\"\n                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                :attributes=\"{ style: 'text-align: center'}\"/>\n                            <kendo-grid-column\n                                :width=\"150\"\n                                :field=\"'totalGross'\"\n                                :title=\"$t('gross_salary')\"\n                                :template=\"'<span>#= kendo.toString(totalGross,`n2`)#</span>'\"\n                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                :attributes=\"{ style: 'text-align: right'}\"/>\n                            <kendo-grid-column\n                                :width=\"100\"\n                                :field=\"'totalBenefits'\"\n                                :title=\"$t('benefits')\"\n                                :template=\"'<span>#= kendo.toString(totalBenefits,`n2`)#</span>'\"\n                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                :attributes=\"{ style: 'text-align: right'}\"/>\n                            <kendo-grid-column\n                                :width=\"100\"\n                                :field=\"'totalTaxPaymentUS'\"\n                                :title=\"$t('tax')\"\n                                :template=\"'<span>#= kendo.toString(totalTaxPaymentUS,`n2`)#</span>'\"\n                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                :attributes=\"{ style: 'text-align: right'}\"/>\n                            <kendo-grid-column\n                                :width=\"120\"\n                                :field=\"'totalNetSalary'\"\n                                :title=\"$t('net_salary')\"\n                                :template=\"'<span>#= kendo.toString(totalNetSalary,`n2`)#</span>'\"\n                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"\n                                :attributes=\"{ style: 'text-align: right'}\"/>\n                            <kendo-grid-column\n                                :field=\"''\"\n                                :title=\"$t('action')\"\n                                :width=\"120\"\n                                :visible=\"true\"\n                                :command=\"[{className: 'k-state-disabled isStatus', iconClass: 'k-icon k-i-edit', text: 'Edit', click: goEditPayroll }]\"\n                                :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                :attributes=\"{ style: 'text-align: right'}\"/>\n                        </kendo-grid>\n                        <LoadingMe\n                            :isLoading=\"showLoading\"\n                            :fullPage=\"false\"\n                            :myLoading=\"true\"\n                            type=\"loading\"/>\n                    </v-col>\n                </v-row>\n            </v-card>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\n    import PayrollRun from \"@/scripts/model/PayrollRun\";\n    const payrollRunModel = new PayrollRun({})\n    const payrollHandler = require(\"@/scripts/payrollHandler\")\n    import kendo from \"@progress/kendo-ui\"\n    import LoadingMe from \"@/components/Loading\";\n    const cookieJS = require(\"@/cookie.js\");\n    const cookie = cookieJS.getCookie();\n    export default {\n        name: \"RunPayroll\",\n        components: {\n            'LoadingMe': LoadingMe,\n        },\n        data: () => ({\n            showLoading: true,\n            payrollRun: payrollRunModel,\n            payroll_id: '',\n            payrollList: [],\n            sort:[\n                { field: 'referenceNumber', dir: 'asc' }\n            ],\n            loggedUser: {\n                id: cookie.creator,\n                name: cookie.email\n            },\n        }),\n        methods: {\n            onCreatePayroll(){\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        let data = new PayrollRun({\n                        id:                   this.payrollRun.id ? this.payrollRun.id : '',\n                        monthOf:              '',\n                        number:               '',\n                        referenceNumber:      '',\n                        lastNumber:           '',\n                        abbr:                 '',\n                        payNumber:            '',\n                        type:                 'payroll',\n                        totalEmployee:        0,\n                        totalGross:           0,\n                        totalBenefits:        0,\n                        totalDeduction:       0,\n                        totalTaxPaymentUS:    0,\n                        totalTaxBenefit:      0,\n                        totalNetSalary:       0,\n                        totalNetPay:          0,\n                        payrollList:          [],\n                        adjustment:           [],\n                        step:                 1,  \n                        final:                '',\n                        date:                 kendo.toString(new Date(),'yyyy-MM-dd'),\n                        loggedUser:           this.loggedUser      \n                        });\n                        payrollHandler.createPayroll(new PayrollRun(data)).then(response => {\n                            if (response.data.statusCode === 201) {\n                                const result = response.data\n                                this.payroll_id = result.data.id\n                                this.routerTo()\n                            }\n                        }).catch(e => {\n                            this.$snotify.error('Something went wrong')\n                            this.errors.push(e)\n                        })\n                    }, 300);\n                })\n            },\n            routerTo(){\n                this.$router.push({\n                    path: 'run_payroll' + `/${this.payroll_id}`,\n                    params: {id: this.payroll_id}\n                })\n            },\n            loadPayrolls(){\n                let params = {}\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved')\n                        this.showLoading = true\n                        payrollHandler.getPayrollList(params).then(res => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false\n                                this.payrollList = res.data.data\n                            }\n                        }).catch()\n                        {\n                            this.showLoading = false\n                        }\n                    }, 300)\n                })\n            },\n            dataBound: function (e) {\n                const items = e.sender.items()\n                if(items.length > 0){\n                    const grid = kendo.jQuery(\"#gridSummary\").data(\"kendoGrid\")\n                    if(grid){\n                        items.each(function () {\n                            let dataItem = grid.dataItem(this);\n                            kendo.jQuery(\"tr[data-uid='\" + dataItem.uid + \"']\").find(\".isStatus\").each(function () {\n                                if (dataItem.status == 0) {\n                                    kendo.jQuery(this).removeClass('k-state-disabled')\n                                }\n                            })\n                        })\n                    }\n                }\n            },\n            goEditPayroll(e) {\n                e.preventDefault();\n                let grid = kendo.jQuery(\"#gridSummary\").data(\"kendoGrid\");\n                let dataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n                this.$router.push({\n                    path: 'run_payroll' + `/${dataItem.id}`,\n                    params: {id: dataItem.id},\n                    query: {type: 'edit'}\n                })\n            },\n            payrollStatus(dataItem){\n                if(dataItem.status === 1){\n                    return \"Done\"\n                }else{\n                    let step = \"step\" + (parseInt(dataItem.step) - 1)\n                    return step\n                }\n            }\n        },\n        mounted() {\n            this.loadPayrolls()\n        },\n        computed: { \n        },\n        watch: {\n            '$route': 'loadPayrolls'\n        },\n    };\n</script>\n<style scoped>\n</style>"]}]}