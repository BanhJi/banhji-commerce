{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/banking/BankReconciliation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/banking/BankReconciliation.vue","mtime":1638499443117},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBrZW5kbyBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tdWknOwppbXBvcnQge2kxOG59IGZyb20gJ0AvaTE4bic7CmltcG9ydCBIZWxwZXIgZnJvbSAiQC9oZWxwZXIuanMiOwppbXBvcnQge0pvdXJuYWxFbnRyeU1vZGVsLCBDdXJyZW5jeU1vZGVsLCBSZWNvbmNpbGVNb2RlbCwgQWNjb3VudE1vZGVsfSBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQXBwTW9kZWxzLmpzIgoKLyogU3RvcmUgKi8KaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiCmNvbnN0IGluc3RpdHV0ZSA9IHN0b3JlLnN0YXRlLmluc3RpdHV0ZS5pbnN0aXR1dGU7CmNvbnN0IGluc3RpdHV0ZUlkID0gaW5zdGl0dXRlLmlkOwoKY29uc3QgcmVjb25jaWxlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9yZWNvbmNpbGVIYW5kbGVyLmpzIik7CmNvbnN0IGpvdXJuYWxIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2pvdXJuYWxIYW5kbGVyLmpzIik7CmNvbnN0IHtFbnRpdHlUeXBlLCBTYXZlT3B0aW9ufSA9IHJlcXVpcmUoIkAvc2NyaXB0cy9kZWZhdWx0X3NldHVwL0NvbGxlY3Rpb25zIik7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiQmFua1JlY29uY2lsZSIsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgIkxvYWRpbmdNZSI6ICgpID0+IGltcG9ydCgnQC9jb21wb25lbnRzL0xvYWRpbmcnKSwKICAgICAgICAiYXBwLWRhdGVwaWNrZXIiOiAoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL0RhdGVQaWNrZXJDb21wb25lbnQnKSwKICAgICAgICAiYXBwLWNhc2gtYWNjb3VudC1kcm9wZG93bmxpc3QiOiAoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvQ2FzaEFjY291bnQnKSwKICAgICAgICAiYXBwLWFjY291bnQtZHJvcGRvd25saXN0IjogKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L0FjY291bnQnKSwKICAgIH0sCiAgICBwcm9wczogewogICAgICAgIGluaXRSZWNvbmNpbGU6IHsKICAgICAgICAgICAgdHlwZTogUmVjb25jaWxlTW9kZWwKICAgICAgICB9LAogICAgfSwKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgdHJhbnNhY3Rpb25UeXBlOiBFbnRpdHlUeXBlLlRSQU5TQUNUSU9OX1RZUEUsCiAgICAgICAgSGVscGVyOiBIZWxwZXIsCiAgICAgICAgZW50cnlCYW5sYW5jZTogMCwKICAgICAgICAvLyBPYmoKICAgICAgICByZWNvbmNpbGU6IG5ldyBSZWNvbmNpbGVNb2RlbCgpLAogICAgICAgIGFkanVzdG1lbnRKb3VybmFsOiBbXSwKICAgICAgICBhZGp1c3RtZW50RW50cmllczogW10sCiAgICAgICAgc2VsZWN0ZWRUcmFuc2FjdGlvbnM6IFtdLAogICAgICAgIGhlYWRlcnM6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogJ0RBVEUnLAogICAgICAgICAgICAgICAgYWxpZ246ICdzdGFydCcsCiAgICAgICAgICAgICAgICB2YWx1ZTogJ2pvdXJuYWxfZGF0ZScsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHt0ZXh0OiAnVFlQRScsIHZhbHVlOiAndHJhbnNhY3Rpb25fdHlwZSd9LAogICAgICAgICAgICB7dGV4dDogJ0RFU0NSSVBUSU9OJywgdmFsdWU6ICdkZXNjcmlwdGlvbid9LAogICAgICAgICAgICB7dGV4dDogJ1JFRkVSRU5DRScsIHZhbHVlOiAnam91cm5hbF9udW1iZXInfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogJ0NBU0ggSU4nLAogICAgICAgICAgICAgICAgdmFsdWU6ICdkcicsCiAgICAgICAgICAgICAgICBhbGlnbjogJ3JpZ2h0JywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogJ0NBU0ggT1VUJywKICAgICAgICAgICAgICAgIHZhbHVlOiAnY3InLAogICAgICAgICAgICAgICAgYWxpZ246ICdyaWdodCcsCiAgICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICAvLyBMb2FkaW5nTWUKICAgICAgICBzaG93TG9hZGluZzogZmFsc2UsCiAgICAgICAgLy8gRm9ybSB2YWxpZGF0aW9uCiAgICAgICAgdmFsaWQ6IHRydWUsCiAgICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgICBhbGVydDogZmFsc2UsCiAgICAgICAgZXJyb3JNZXNzYWdlOiAiIiwKICAgICAgICBzYXZlTW9kZTogIiIsCiAgICAgICAgU2F2ZU9wdGlvbjogU2F2ZU9wdGlvbiwKICAgICAgICBmaWxlczogW10sCiAgICAgICAgY2FzaEFjY291bnRzOiBbXSwKICAgICAgICBhZGp1c3RtZW50QWNjb3VudHM6IFtdLAogICAgICAgIHRyYW5zYWN0aW9uczogW10sCiAgICAgICAgdGVtcGxhdGVzOiBbXSwKICAgIH0pLAogICAgbWV0aG9kczogewogICAgICAgIC8vIFNldCBkZWZhdWx0IGRhdGEKICAgICAgICBzZXREZWZhdWx0RGF0YSgpIHsKICAgICAgICAgICAgdGhpcy5yZWNvbmNpbGUgPSBPYmplY3QuYXNzaWduKHt9LCBuZXcgUmVjb25jaWxlTW9kZWwoewogICAgICAgICAgICAgICAgdHlwZTogRW50aXR5VHlwZS5CQU5LX1JFQ09OQ0lMSUFUSU9OX01BTlVBTCwKICAgICAgICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgICAgICAgICAgICAgZW5kaW5nX2JhbGFuY2VfZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIC8vIEdlbmVyYXRlIE51bWJlcgogICAgICAgICAgICB0aGlzLmdlbmVyYXRlTnVtYmVyKCk7CiAgICAgICAgfSwKICAgICAgICAvKiBHZW5lcmF0ZSBOdW1iZXIgKi8KICAgICAgICBhc3luYyBnZW5lcmF0ZU51bWJlcigpIHsKICAgICAgICAgICAgaWYoIXRoaXMuaXNFZGl0KXsKICAgICAgICAgICAgICAgIGxldCBudW0gPSBhd2FpdCBIZWxwZXIuZ2VuZXJhdGVBY2NvdW50aW5nTnVtYmVyKEVudGl0eVR5cGUuQkFOS19SRUNPTkNJTElBVElPTl9NQU5VQUwsIHRoaXMucmVjb25jaWxlLmRhdGUpOwogICAgICAgICAgICAgICAgdGhpcy5yZWNvbmNpbGUubnVtYmVyID0gbnVtLm51bWJlcjsKICAgICAgICAgICAgICAgIHRoaXMucmVjb25jaWxlLnByZWZpeF9mb3JtYXQgPSBudW0ucHJlZml4X2Zvcm1hdDsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8gT24gQ2FzaCBBY2NvdW50IENoYW5nZXMKICAgICAgICBvbkNhc2hBY2NvdW50Q2hhbmdlcygpIHsKICAgICAgICAgICAgbGV0IGZpc2NhbERhdGUgPSBIZWxwZXIuZ2V0RmlzY2FsRGF0ZUJ5RGF0ZSh0aGlzLnJlY29uY2lsZS5lbmRpbmdfYmFsYW5jZV9kYXRlKSwKICAgICAgICAgICAgICAgIHNkYXRlID0gZmlzY2FsRGF0ZS5zdGFydF9kYXRlLAogICAgICAgICAgICAgICAgZWRhdGUgPSB0aGlzLnJlY29uY2lsZS5lbmRpbmdfYmFsYW5jZV9kYXRlOwoKICAgICAgICAgICAgaWYgKHRoaXMucmVjb25jaWxlLmFjY291bnQudXVpZCkgewogICAgICAgICAgICAgICAgaWYgKHNkYXRlICYmIGVkYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgc2RhdGUgPSBrZW5kby50b1N0cmluZyhuZXcgRGF0ZShzZGF0ZSksICd5eXl5LU1NLWRkJykgKyAnVDAwOjAwOjAwLjAwMFonOwoKICAgICAgICAgICAgICAgICAgICBlZGF0ZSA9IG5ldyBEYXRlKGVkYXRlKTsKICAgICAgICAgICAgICAgICAgICBlZGF0ZSA9IGtlbmRvLnRvU3RyaW5nKGVkYXRlLCAneXl5eS1NTS1kZCcpICsgJ1QyMzo1OTo1OS45OTlaJzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc2RhdGUgPSAwOwogICAgICAgICAgICAgICAgICAgIGVkYXRlID0gMDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGpvdXJuYWxIYW5kbGVyLmdldEVudHJ5RGV0YWlsQnlBY2NvdW50KHRoaXMucmVjb25jaWxlLmFjY291bnQudXVpZCwgewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgICAgICBzdGFydF9kYXRlOiBzZGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgZW5kX2RhdGU6IGVkYXRlLAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmluZGluZwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29uY2lsZS5vcGVuaW5nX2JhbGFuY2UgPSByZXMuYmFsYW5jZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvbnMgPSByZXMuZW50cmllc19kZXRhaWwuZmlsdGVyKHZhbHVlID0+IHZhbHVlLmlzX3JlY29uY2lsZWQgIT09IDEpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIEFkZCBKb3VybmFsCiAgICAgICAgYWRkSm91cm5hbCgpIHsKICAgICAgICAgICAgbGV0IHJjID0gdGhpcy5yZWNvbmNpbGUsCiAgICAgICAgICAgICAgICBqZSA9IFtdLAogICAgICAgICAgICAgICAgZGViaXRBY2NvdW50ID0gcmMuYWNjb3VudCwgLy8gQ2FzaCBBY2NvdW50CiAgICAgICAgICAgICAgICBjcmVkaXRBY2NvdW50ID0gbmV3IEFjY291bnRNb2RlbCh0aGlzLnJlY29uY2lsZS5hZGp1c3RtZW50X2FjY291bnQpLAogICAgICAgICAgICAgICAgYW1vdW50ID0gTWF0aC5hYnMocmMudmFyaWFuY2VfYW1vdW50KTsKCiAgICAgICAgICAgIC8vIFZhcmlhbmNlID4gMAogICAgICAgICAgICBpZiAocmMudmFyaWFuY2VfYW1vdW50ID4gMCkgewogICAgICAgICAgICAgICAgZGViaXRBY2NvdW50ID0gbmV3IEFjY291bnRNb2RlbCh0aGlzLnJlY29uY2lsZS5hZGp1c3RtZW50X2FjY291bnQpOwogICAgICAgICAgICAgICAgY3JlZGl0QWNjb3VudCA9IHJjLmFjY291bnQ7IC8vIENhc2ggQWNjb3VudAogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyAvLyBEZWJpdCBTaWRlCiAgICAgICAgICAgIGplLnB1c2gobmV3IEpvdXJuYWxFbnRyeU1vZGVsKHsKICAgICAgICAgICAgICAgIGFjY291bnQ6IGRlYml0QWNjb3VudCwKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICAgICAgICAgIHJlZl9udW1iZXI6ICcnLAogICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsCiAgICAgICAgICAgICAgICBjdXJyZW5jeTogbmV3IEN1cnJlbmN5TW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSksCiAgICAgICAgICAgICAgICBleGNoYW5nZV9yYXRlOiAxLAogICAgICAgICAgICAgICAgdGF4X2Ftb3VudDogMCwKICAgICAgICAgICAgICAgIGlzX3JlY29uY2lsZWQ6IDEKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgLy8gQ3JlZGl0IFNpZGUKICAgICAgICAgICAgamUucHVzaChuZXcgSm91cm5hbEVudHJ5TW9kZWwoewogICAgICAgICAgICAgICAgYWNjb3VudDogY3JlZGl0QWNjb3VudCwKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICAgICAgICAgIHJlZl9udW1iZXI6ICcnLAogICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQgKiAtMSwKICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBuZXcgQ3VycmVuY3lNb2RlbChpbnN0aXR1dGUuYmFzZUN1cnJlbmN5KSwKICAgICAgICAgICAgICAgIGV4Y2hhbmdlX3JhdGU6IDEsCiAgICAgICAgICAgICAgICB0YXhfYW1vdW50OiAwLAogICAgICAgICAgICAgICAgaXNfcmVjb25jaWxlZDogMQogICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAvLyBVc2VyCiAgICAgICAgICAgIGxldCB1c2VyID0gewogICAgICAgICAgICAgICAgdXVpZDogaW5zdGl0dXRlLmNyZWF0b3IsCiAgICAgICAgICAgICAgICB1c2VyX25hbWU6IGluc3RpdHV0ZS5sZWdhbE5hbWUsLy9jaGFuZ2UgbGF0ZXIgKGZ1bGxuYW1lKQogICAgICAgICAgICAgICAgY29nbml0b0lkOiBpbnN0aXR1dGUuc2ssCiAgICAgICAgICAgICAgICBlbWFpbDogaW5zdGl0dXRlLmVtYWlsLAogICAgICAgICAgICB9OwogICAgICAgICAgICBsZXQgY3JlYXRlZEJ5ID0gbnVsbCwgbW9kaWZpZWRCeSA9IG51bGw7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRWRpdCkgewogICAgICAgICAgICAgICAgbW9kaWZpZWRCeSA9IHVzZXI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjcmVhdGVkQnkgPSB1c2VyOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBBZGp1c3RtZW50IEpvdXJuYWwKICAgICAgICAgICAgdGhpcy5hZGp1c3RtZW50Sm91cm5hbCA9IHsKICAgICAgICAgICAgICAgIG51bWJlcjogdGhpcy5yZWNvbmNpbGUubnVtYmVyLAogICAgICAgICAgICAgICAgZmlzY2FsX3llYXI6IGluc3RpdHV0ZS5maXNjYWxJZCwKICAgICAgICAgICAgICAgIGpvdXJuYWxfdHlwZTogRW50aXR5VHlwZS5BVVRPX0pPVVJOQUwsCiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbl90eXBlOiBFbnRpdHlUeXBlLlRSQU5TQUNUSU9OX1RZUEVbJ2FkanVzdG1lbnQnXSwKICAgICAgICAgICAgICAgIGpvdXJuYWxfZGF0ZTogSGVscGVyLnRvSVNPRGF0ZShyYy5kYXRlKSwKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICAgICAgICAgIGluc3RpdHV0ZTogaW5zdGl0dXRlSWQsCiAgICAgICAgICAgICAgICBjcmVhdGVkX2J5OiBjcmVhdGVkQnksCiAgICAgICAgICAgICAgICBtb2RpZmllZF9ieTogbW9kaWZpZWRCeSwKICAgICAgICAgICAgICAgIHByZWZpeF9mb3JtYXQ6IHRoaXMucmVjb25jaWxlLnByZWZpeF9mb3JtYXQKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIC8vIEFkanVzdG1lbnQgRW50cmllcwogICAgICAgICAgICB0aGlzLmFkanVzdG1lbnRFbnRyaWVzID0gamU7CiAgICAgICAgfSwKICAgICAgICAvLyBTaHJpbmsgRGF0YQogICAgICAgIHNocmlua0RhdGEoKSB7CiAgICAgICAgICAgIGxldCByYyA9IHRoaXMucmVjb25jaWxlOwoKICAgICAgICAgICAgLy8gRGF0ZQogICAgICAgICAgICByYy5kYXRlID0gSGVscGVyLnRvSVNPRGF0ZShyYy5kYXRlKTsKICAgICAgICAgICAgcmMuZW5kaW5nX2JhbGFuY2VfZGF0ZSA9IEhlbHBlci50b0lTT0RhdGUocmMuZW5kaW5nX2JhbGFuY2VfZGF0ZSk7CgogICAgICAgICAgICAvLyBEcmFmdCBNb2RlCiAgICAgICAgICAgIGlmICh0aGlzLnNhdmVNb2RlID09PSAnc2F2ZURyYWZ0JykgewogICAgICAgICAgICAgICAgcmMuaXNfZHJhZnQgPSAxOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmMuaXNfZHJhZnQgPSAwOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBSZWNvbmNpbGUgRW50cmllcwogICAgICAgICAgICB0aGlzLnNlbGVjdGVkVHJhbnNhY3Rpb25zLmZvckVhY2godmFsdWUgPT4gewogICAgICAgICAgICAgICAgcmMucmVjb25jaWxlX2VudHJpZXMucHVzaCh2YWx1ZS5lbnRyeV91dWlkKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyBVc2VyCiAgICAgICAgICAgIGxldCB1c2VyID0gewogICAgICAgICAgICAgICAgdXVpZDogaW5zdGl0dXRlLmNyZWF0b3IsCiAgICAgICAgICAgICAgICB1c2VyX25hbWU6IGluc3RpdHV0ZS5sZWdhbE5hbWUsLy9jaGFuZ2UgbGF0ZXIgKGZ1bGxuYW1lKQogICAgICAgICAgICAgICAgY29nbml0b0lkOiBpbnN0aXR1dGUuc2ssCiAgICAgICAgICAgICAgICBlbWFpbDogaW5zdGl0dXRlLmVtYWlsLAogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAodGhpcy5pc0VkaXQpIHsKICAgICAgICAgICAgICAgIHJjLm1vZGlmaWVkX2J5ID0gdXNlcjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJjLmNyZWF0ZWRfYnkgPSB1c2VyOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvLyBWYWxpZGF0aW5nCiAgICAgICAgdmFsaWRhdGVGb3JtKCkgewogICAgICAgICAgICBsZXQgcmVzdWx0ID0gdHJ1ZSwgbXNnID0gJycsCiAgICAgICAgICAgICAgICByYyA9IHRoaXMucmVjb25jaWxlOwoKICAgICAgICAgICAgLy8gVHJhbnNhY3Rpb24KICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRUcmFuc2FjdGlvbnMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIG1zZyArPSAnPHA+UGxlYXNlIHNlbGVjdCBhdCBsZWFzdCBvbmUgdHJhbnNhY3Rpb24uPC9wPic7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEFkanVzdG1lbnQgQWNjb3VudAogICAgICAgICAgICBpZiAocmMudmFyaWFuY2VfYW1vdW50ICE9PSAwKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWNvbmNpbGUuYWRqdXN0bWVudF9hY2NvdW50LnV1aWQgPT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgbXNnICs9ICc8cD5QbGVhc2Ugc2VsZWN0IGFkanVzdG1lbnQgYWNjb3VudC48L3A+JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gRW5kaW5nIEJhbGFuY2UKICAgICAgICAgICAgaWYgKGtlbmRvLnBhcnNlRmxvYXQocmMuZW5kaW5nX2JhbGFuY2UpID09PSAwKSB7CiAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIG1zZyArPSAnPHA+UGxlYXNlIGVudGVyIEVuZGluZyBCYWxhbmNlLjwvcD4nOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBTaG93IEFsZXJ0CiAgICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gbXNnOwogICAgICAgICAgICB0aGlzLmFsZXJ0ID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0ID0gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9LAogICAgICAgIC8vIEFsbCBTYXZlcwogICAgICAgIGFzeW5jIG9uU2F2ZU9wdGlvbkNsaWNrKG1vZGUpIHsKICAgICAgICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpICYmIHRoaXMudmFsaWRhdGVGb3JtKCkpIHsKICAgICAgICAgICAgICAgIGxldCBpc1ZhbGlkQ2xvc2luZ0RhdGUgPSBhd2FpdCBIZWxwZXIudmFsaWRhdGVDbG9zaW5nRGF0ZSh0aGlzLnJlY29uY2lsZS5kYXRlKTsKICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkQ2xvc2luZ0RhdGUpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVNb2RlID0gbW9kZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY2FuY2VsKCkgewogICAgICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgICAgICAgIHRpdGxlOiBpMThuLnQoJ21zZ190aXRsZV93YXJuaW5nJyksCiAgICAgICAgICAgICAgICB0ZXh0OiBpMThuLnQoJ21zZ19kaXNjYXJkJyksCiAgICAgICAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCdjYW5jZWwnKSwKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiM0ZDQ4NDgiLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjRUQxQTNBIiwKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoJ2Rpc2NhcmQnKSwKICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhcigpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdERhdGEoKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGNsZWFyKCkgewogICAgICAgICAgICB0aGlzLnNlbGVjdGVkVHJhbnNhY3Rpb25zID0gW107CiAgICAgICAgfSwKICAgICAgICBzYXZlKCkgewogICAgICAgICAgICAvLyBBZGp1c3RtZW50IEpvdXJuYWwKICAgICAgICAgICAgaWYgKHRoaXMucmVjb25jaWxlLnZhcmlhbmNlX2Ftb3VudCAhPT0gMCkgewogICAgICAgICAgICAgICAgdGhpcy5hZGRKb3VybmFsKCk7CiAgICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy5hZGp1c3RtZW50RW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uKGVudHJ5KSB7CiAgICAgICAgICAgICAgICBzZWxmLmVudHJ5QmFubGFuY2UgKz0gZW50cnkuYW1vdW50OwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmFkanVzdG1lbnRKb3VybmFsID0gbnVsbDsKICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0bWVudEVudHJpZXMgPSBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLmVudHJ5QmFubGFuY2UgIT09IDApIHsKICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuc2hvd1ZhbGlkYXRpb25NZXNzYWdlKCdUaGUgYWRqdXN0bWVudCBqb3VybmFsIGlzIG5vdCBiYWxhbmNlLicpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIFNocmluayBEYXRhCiAgICAgICAgICAgICAgICB0aGlzLnNocmlua0RhdGEoKTsKCiAgICAgICAgICAgICAgICAvLyBTeW5jIERhdGEKICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgcmVjb25jaWxlSGFuZGxlci5zYXZlKHsKICAgICAgICAgICAgICAgICAgICByZWNvbmNpbGU6IHRoaXMucmVjb25jaWxlLAogICAgICAgICAgICAgICAgICAgIGFkanVzdG1lbnRfam91cm5hbDogdGhpcy5hZGp1c3RtZW50Sm91cm5hbCwKICAgICAgICAgICAgICAgICAgICBhZGp1c3RtZW50X2VudHJpZXM6IHRoaXMuYWRqdXN0bWVudEVudHJpZXMsCiAgICAgICAgICAgICAgICAgICAgaXNfYmFua19yZWNvbmNpbGU6IDEKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIEhlbHBlci5hbGVydEVycm9yTXNnKGVycm9yKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIFJlc3BvbnNlIFN0YXR1cwogICAgICAgIHJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuc2F2ZU1vZGUgPT09IFNhdmVPcHRpb24uU0FWRUNMT1NFIHx8IHRoaXMuc2F2ZU1vZGUgPT09IFNhdmVPcHRpb24uREVMRVRFKSB7IC8qIFNhdmUgQ2xvc2Ugb3IgRGVsZXRlICovCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNFZGl0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ29CYWNrVG9WaWV3UGFnZSgpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0RGF0YSgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsgLyogU2F2ZSBOZXcgKi8KICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0RGF0YSgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8qIEFsZXJ0IFN1Y2Nlc3MgKi8KICAgICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuc3VjY2VzcyhpMThuLnQoInN1Y2Nlc3NmdWwiKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvKiBBbGVydCBFcnJvciAqLwogICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcihpMThuLnQoImVycm9yX3NvbWV0aGluZ193cm9uZyIpKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8gR28gYmFjayB0byB2aWV3IHBhZ2UgYWZ0ZXIgZWRpdCBtb2RlCiAgICAgICAgZ29CYWNrVG9WaWV3UGFnZSgpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2Uoe25hbWU6ICdCYW5rIFJlY29uY2lsaWF0aW9uIFZpZXcnLCBwYXJhbXM6IHsgaW5pdFJlY29uY2lsZTogdGhpcy5yZWNvbmNpbGUgfX0pOwogICAgICAgIH0sCiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICByZXBvcnRpbmdFbmRpbmdCYWxhbmNlKCkgewogICAgICAgICAgICBsZXQgcmMgPSB0aGlzLnJlY29uY2lsZSwKICAgICAgICAgICAgICAgIGRyID0gMCwgY3IgPSAwOwoKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRyYW5zYWN0aW9ucy5mb3JFYWNoKHZhbHVlID0+IHsKICAgICAgICAgICAgICAgIGRyICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuZHIpOwogICAgICAgICAgICAgICAgY3IgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5jcik7CiAgICAgICAgICAgIH0pCgogICAgICAgICAgICBsZXQgYmFsID0gKHJjLm9wZW5pbmdfYmFsYW5jZSArIGRyKSAtIGNyOwoKICAgICAgICAgICAgcmV0dXJuIGJhbDsKICAgICAgICB9LAogICAgICAgIHZhcmlhbmNlQW1vdW50KCkgewogICAgICAgICAgICBsZXQgcmMgPSB0aGlzLnJlY29uY2lsZTsKICAgICAgICAgICAgbGV0IGRpZmYgPSB0aGlzLnJlcG9ydGluZ0VuZGluZ0JhbGFuY2UgLSBrZW5kby5wYXJzZUZsb2F0KHJjLmVuZGluZ19iYWxhbmNlKTsKICAgICAgICAgICAgcmMudmFyaWFuY2VfYW1vdW50ID0gZGlmZjsKCiAgICAgICAgICAgIHJldHVybiBkaWZmOwogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIC8vIFNldCBkZWZhdWx0IGRhdGEKICAgICAgICB0aGlzLnNldERlZmF1bHREYXRhKCk7CiAgICB9LAp9Owo="},{"version":3,"sources":["BankReconciliation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoOA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BankReconciliation.vue","sourceRoot":"src/views/banking","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col cols=\"12\" sm=\"12\">\n                    <v-card outlined dense class=\"pa-4 no_border rounded-sm\" color=\"white\">\n                        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                            <v-card outlined dense class=\"no_border\">\n                                <h2 class=\"mb-0\">{{$t('bank_reconciliation_manually')}}</h2>\n                                <v-icon\n                                        onclick=\"window.history.go(-1); return false;\"\n                                        style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                        class=\"float-right\"\n                                >close\n                                </v-icon>\n                            </v-card>\n\n                            <v-card outlined dense class=\"px-3 no_border mb-3\" color=\"grayBg\">\n                                <v-row>\n                                    <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                        <v-row>\n                                            <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{$t('date')}}</label>\n                                                <app-datepicker :initialDate=\"reconcile.date\"\n                                                                @emitDate=\"reconcile.date = $event\"/>\n                                            </v-col>\n                                            <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label\">{{$t('number')}}</label>\n                                                <v-row>\n                                                    <v-col sm=\"10\" cols=\"10\" class=\"pr-0 pt-1\">\n                                                        <v-text-field class=\"\"\n                                                                      v-model=\"reconcile.number\"\n                                                                      outlined\n                                                                      :rules=\"[v => !!v || 'Number is required']\"\n                                                                      required/>\n                                                    </v-col>\n                                                    <v-col sm=\"2\" cols=\"2\" class=\"pl-0 pt-1\">\n                                                        <v-icon color=\"black\" size=\"30\" class=\"border_qrcode\"\n                                                                @click=\"generateNumber\">mdi-qrcode\n                                                        </v-icon>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n\n                                        <v-row>\n                                            <v-col sm=\"6\" cols=\"12\" class=\"pb-0 py-0\">\n                                                <label class=\"label\">{{$t('ending_balance_date')}}</label>\n                                                <app-datepicker :initialDate=\"reconcile.ending_balance_date\"\n                                                                @emitDate=\"reconcile.ending_balance_date = $event\"/>\n                                            </v-col>\n                                            <v-col sm=\"6\" cols=\"12\" class=\"pb-0 py-0\">\n                                                <label class=\"label\">{{$t('reconcile_account')}}</label>\n                                                <app-cash-account-dropdownlist\n                                                    :initAccount=\"reconcile.account\"\n                                                    @emitAccount=\"reconcile.account = $event\"\n                                                    @onChanged=\"onCashAccountChanges\"\n                                                />\n                                            </v-col>\n                                        </v-row>\n\n                                        <v-row>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                                                <label class=\"label text-bold\">{{$t('ending_balance')}}</label>\n                                            </v-col>\n                                            <v-col sm=\"8\" cols=\"12\" class=\"py-0\">\n                                                <v-text-field class=\"mt-1\"\n                                                              type=\"number\"\n                                                              v-model=\"reconcile.ending_balance\"\n                                                              outlined\n                                                              tage=\"Ending Balance\"\n                                                              required\n                                                />\n                                            </v-col>\n                                        </v-row>\n\n                                    </v-col>\n                                    <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                                        <v-card outlined dense color=\"third\" elevation=\"0\" height=\"70\" class=\"white--text d-flex pa-3 justify-space-between align-center mb-3\">\n                                            <p style=\"font-size: 20px;\" class=\"col-sm-7  mb-0 pa-0\">\n                                                {{$t('reported_beginning_balance')}}\n                                            </p>\n                                            <p style=\"font-size: 20px;\"\n                                               class=\"col-sm-5 text-right  mb-0 pa-0 font-bold\">{{\n                                                Number(reconcile.opening_balance).toLocaleString() }}</p>\n                                        </v-card>\n\n\n                                        <v-card outlined dense color=\"secondary\" elevation=\"0\" height=\"70\" class=\"white--text d-flex pa-3 justify-space-between align-center mb-3\">\n                                            <p style=\"font-size: 20px;\" class=\"col-sm-7  text-left mb-0 pa-0\">\n                                                {{$t('reported_ending_balance')}}\n                                            </p>\n                                            <p style=\"font-size: 20px;\"\n                                               class=\"col-sm-5 text-right  mb-0 pa-0 font-bold\">{{\n                                                Number(reportingEndingBalance).toLocaleString() }}</p>\n                                        </v-card>\n\n                                        <v-row>\n                                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                <v-card outlined dense class=\"block-white\">\n                                                    <p style=\"font-size: 20px;\"\n                                                       class=\"col-sm-7 float-left text-left mb-0 pa-0\">\n                                                        {{$t('variance')}}\n                                                    </p>\n                                                    <p style=\"font-size: 20px;\"\n                                                       class=\"col-sm-5 float-left text-right mb-0 pa-0 font-bold\">{{\n                                                        Number(varianceAmount).toLocaleString() }}</p>\n                                                </v-card>\n                                            </v-col>\n\n                                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\" v-if=\"reconcile.variance_amount !== 0\">\n                                                <label class=\"label\">{{$t('adjustment_account')}}</label>\n                                                <app-account-dropdownlist\n                                                    :initAccount=\"reconcile.adjustment_account\"\n                                                    @emitAccount=\"reconcile.adjustment_account = $event\"\n                                                />{{reconcile.adjustment_account.name}}\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n\n                            <v-row style=\"background-color: rgb(255, 255, 255); width: 100%; margin: 10px auto 0px;\">\n                                <v-col sm=\"12\" cols=\"12\" class=\"py-3 pa-0\">\n                                    <v-data-table\n                                            v-model=\"selectedTransactions\"\n                                            :headers=\"headers\"\n                                            :items=\"transactions\"\n                                            item-key=\"journal_uuid\"\n                                            show-select\n                                            class=\"elevation-1\"\n                                    >\n                                        <!-- Journal Date -->\n                                        <template v-slot:[`item.journal_date`]=\"{ item }\">\n                                            <span>{{ Helper.dateFormat(item.journal_date) }}</span>\n                                        </template>\n\n                                        <!-- Journal Number as Link -->\n                                        <template v-slot:[`item.journal_number`]=\"{ item }\">\n                                            <router-link :to=\"'journal/view/' + item.id\">{{ item.journal_number }}\n                                            </router-link>\n                                        </template>\n\n                                        <!-- Debit -->\n                                        <template v-slot:[`item.dr`]=\"{ item }\">\n                                            <span>{{ Number(item.dr).toLocaleString() }}</span>\n                                        </template>\n\n                                        <!-- Credit -->\n                                        <template v-slot:[`item.cr`]=\"{ item }\">\n                                            <span>{{ Number(item.cr).toLocaleString() }}</span>\n                                        </template>\n\n                                         <!-- Transaction type -->\n                                        <template v-slot:[`item.transaction_type`]=\"{ item }\">\n                                            <span>{{ transactionType[item.transaction_type] }}</span>\n                                        </template>\n                                    </v-data-table>\n                                </v-col>\n                            </v-row>\n\n                            <v-row style=\"background-color: #fff;\">\n                                <v-col sm=\"3\" cols=\"12\" class=\"pb-0\">\n                                    <template>\n                                        <v-file-input class=\"mt-0 pt-0 \" sm=\"3\" cols=\"6\"\n                                                      :placeholder=\"$t('attachment')\"\n                                                      multiple\n                                                      prepend-icon=\"mdi-paperclip\"\n                                        >\n                                            <template v-slot:selection=\"{ text }\">\n                                                <v-chip\n                                                        small\n                                                        label\n                                                        color=\"primary\"\n                                                >\n                                                    {{ text }}\n                                                </v-chip>\n                                            </template>\n                                        </v-file-input>\n                                    </template>\n                                </v-col>\n                            </v-row>\n\n\n                            <v-divider class=\"mt-4\"/>\n                            <v-card outlined dense class=\"no_border function_footer\">\n                                <v-alert type=\"warning\"\n                                         v-model=\"alert\"\n                                         dismissible>\n                                    <span v-html=\"errorMessage\"/>\n                                </v-alert>\n                                <v-menu>\n                                    <template v-slot:activator=\"{ on }\">\n                                        <v-btn color=\"black\" outlined class=\"mr-2 text-capitalize  black--text float-left\" v-on=\"on\">\n                                            {{$t('select_template')}}\n                                            <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                        </v-btn>\n                                    </template>\n                                    <v-list>\n                                        <v-list-item v-for=\"(item, index) in templates\" :key=\"index\">\n                                            <v-list-item-title>{{ item.title }}</v-list-item-title>\n                                        </v-list-item>\n                                    </v-list>\n                                </v-menu>\n                                <v-btn color=\"black\"  class=\"text-capitalize  white--text float-left\" @click=\"cancel\">{{$t('cancel')}}</v-btn>\n                                <v-btn color=\"primary\" class=\"ml-2 float-right text-capitalize  white--text\" @click=\"onSaveOptionClick(SaveOption.SAVECLOSE)\">\n                                    {{$t('reconcile')}}\n                                </v-btn>\n                                <v-btn color=\"secondary\" class=\" float-right text-capitalize  white--text\" @click=\"onSaveOptionClick(SaveOption.DRAFT)\">\n                                    {{$t('save_for_later')}}\n                                </v-btn>\n                            </v-card>\n\n                        </v-form>\n                    </v-card>\n                </v-col>\n            </v-row>\n\n            <LoadingMe \n                :isLoading=\"showLoading\" \n                :fullPage=\"true\" \n                type=\"loading\"\n                :myLoading=\"true\" />\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n    import kendo from '@progress/kendo-ui';\n    import {i18n} from '@/i18n';\n    import Helper from \"@/helper.js\";\n    import {JournalEntryModel, CurrencyModel, ReconcileModel, AccountModel} from \"@/scripts/model/AppModels.js\"\n    \n    /* Store */\n    import store from \"@/store\"\n    const institute = store.state.institute.institute;\n    const instituteId = institute.id;\n\n    const reconcileHandler = require(\"@/scripts/reconcileHandler.js\");\n    const journalHandler = require(\"@/scripts/journalHandler.js\");\n    const {EntityType, SaveOption} = require(\"@/scripts/default_setup/Collections\");\n    \n    export default {\n        name: \"BankReconcile\",\n        components: {\n            \"LoadingMe\": () => import('@/components/Loading'),\n            \"app-datepicker\": () => import('@/components/custom_templates/DatePickerComponent'),\n            \"app-cash-account-dropdownlist\": () => import('@/components/dropdownlist/CashAccount'),\n            \"app-account-dropdownlist\": () => import('@/components/dropdownlist/Account'),\n        },\n        props: {\n            initReconcile: {\n                type: ReconcileModel\n            },\n        },\n        data: () => ({\n            transactionType: EntityType.TRANSACTION_TYPE,\n            Helper: Helper,\n            entryBanlance: 0,\n            // Obj\n            reconcile: new ReconcileModel(),\n            adjustmentJournal: [],\n            adjustmentEntries: [],\n            selectedTransactions: [],\n            headers: [\n                {\n                    text: 'DATE',\n                    align: 'start',\n                    value: 'journal_date',\n                },\n                {text: 'TYPE', value: 'transaction_type'},\n                {text: 'DESCRIPTION', value: 'description'},\n                {text: 'REFERENCE', value: 'journal_number'},\n                {\n                    text: 'CASH IN',\n                    value: 'dr',\n                    align: 'right',\n                },\n                {\n                    text: 'CASH OUT',\n                    value: 'cr',\n                    align: 'right',\n                },\n            ],\n            // LoadingMe\n            showLoading: false,\n            // Form validation\n            valid: true,\n            isEdit: false,\n            alert: false,\n            errorMessage: \"\",\n            saveMode: \"\",\n            SaveOption: SaveOption,\n            files: [],\n            cashAccounts: [],\n            adjustmentAccounts: [],\n            transactions: [],\n            templates: [],\n        }),\n        methods: {\n            // Set default data\n            setDefaultData() {\n                this.reconcile = Object.assign({}, new ReconcileModel({\n                    type: EntityType.BANK_RECONCILIATION_MANUAL,\n                    date: new Date().toISOString().substr(0, 10),\n                    ending_balance_date: new Date().toISOString().substr(0, 10),\n                }));\n\n                // Generate Number\n                this.generateNumber();\n            },\n            /* Generate Number */\n            async generateNumber() {\n                if(!this.isEdit){\n                    let num = await Helper.generateAccountingNumber(EntityType.BANK_RECONCILIATION_MANUAL, this.reconcile.date);\n                    this.reconcile.number = num.number;\n                    this.reconcile.prefix_format = num.prefix_format;\n                }\n            },\n            // On Cash Account Changes\n            onCashAccountChanges() {\n                let fiscalDate = Helper.getFiscalDateByDate(this.reconcile.ending_balance_date),\n                    sdate = fiscalDate.start_date,\n                    edate = this.reconcile.ending_balance_date;\n\n                if (this.reconcile.account.uuid) {\n                    if (sdate && edate) {\n                        sdate = kendo.toString(new Date(sdate), 'yyyy-MM-dd') + 'T00:00:00.000Z';\n\n                        edate = new Date(edate);\n                        edate = kendo.toString(edate, 'yyyy-MM-dd') + 'T23:59:59.999Z';\n                    } else {\n                        sdate = 0;\n                        edate = 0;\n                    }\n\n                    this.showLoading = true;\n                    journalHandler.getEntryDetailByAccount(this.reconcile.account.uuid, {\n                        params: {\n                            start_date: sdate,\n                            end_date: edate,\n                        }\n                    })\n                    .then(res => {\n                        if (res) {\n                            // Binding\n                            this.reconcile.opening_balance = res.balance;\n                            this.transactions = res.entries_detail.filter(value => value.is_reconciled !== 1);\n                        }\n                    })\n                    .finally(() => {\n                        this.showLoading = false;\n                    });\n                }\n            },\n            // Add Journal\n            addJournal() {\n                let rc = this.reconcile,\n                    je = [],\n                    debitAccount = rc.account, // Cash Account\n                    creditAccount = new AccountModel(this.reconcile.adjustment_account),\n                    amount = Math.abs(rc.variance_amount);\n\n                // Variance > 0\n                if (rc.variance_amount > 0) {\n                    debitAccount = new AccountModel(this.reconcile.adjustment_account);\n                    creditAccount = rc.account; // Cash Account\n                }\n\n                // // Debit Side\n                je.push(new JournalEntryModel({\n                    account: debitAccount,\n                    description: '',\n                    ref_number: '',\n                    amount: amount,\n                    currency: new CurrencyModel(institute.baseCurrency),\n                    exchange_rate: 1,\n                    tax_amount: 0,\n                    is_reconciled: 1\n                }));\n\n                // Credit Side\n                je.push(new JournalEntryModel({\n                    account: creditAccount,\n                    description: '',\n                    ref_number: '',\n                    amount: amount * -1,\n                    currency: new CurrencyModel(institute.baseCurrency),\n                    exchange_rate: 1,\n                    tax_amount: 0,\n                    is_reconciled: 1\n                }));\n\n                // User\n                let user = {\n                    uuid: institute.creator,\n                    user_name: institute.legalName,//change later (fullname)\n                    cognitoId: institute.sk,\n                    email: institute.email,\n                };\n                let createdBy = null, modifiedBy = null;\n                if (this.isEdit) {\n                    modifiedBy = user;\n                } else {\n                    createdBy = user;\n                }\n\n                // Adjustment Journal\n                this.adjustmentJournal = {\n                    number: this.reconcile.number,\n                    fiscal_year: institute.fiscalId,\n                    journal_type: EntityType.AUTO_JOURNAL,\n                    transaction_type: EntityType.TRANSACTION_TYPE['adjustment'],\n                    journal_date: Helper.toISODate(rc.date),\n                    description: '',\n                    institute: instituteId,\n                    created_by: createdBy,\n                    modified_by: modifiedBy,\n                    prefix_format: this.reconcile.prefix_format\n                };\n\n                // Adjustment Entries\n                this.adjustmentEntries = je;\n            },\n            // Shrink Data\n            shrinkData() {\n                let rc = this.reconcile;\n\n                // Date\n                rc.date = Helper.toISODate(rc.date);\n                rc.ending_balance_date = Helper.toISODate(rc.ending_balance_date);\n\n                // Draft Mode\n                if (this.saveMode === 'saveDraft') {\n                    rc.is_draft = 1;\n                } else {\n                    rc.is_draft = 0;\n                }\n\n                // Reconcile Entries\n                this.selectedTransactions.forEach(value => {\n                    rc.reconcile_entries.push(value.entry_uuid);\n                });\n\n                // User\n                let user = {\n                    uuid: institute.creator,\n                    user_name: institute.legalName,//change later (fullname)\n                    cognitoId: institute.sk,\n                    email: institute.email,\n                };\n                if (this.isEdit) {\n                    rc.modified_by = user;\n                } else {\n                    rc.created_by = user;\n                }\n            },\n            // Validating\n            validateForm() {\n                let result = true, msg = '',\n                    rc = this.reconcile;\n\n                // Transaction\n                if (this.selectedTransactions.length === 0) {\n                    result = false;\n                    msg += '<p>Please select at least one transaction.</p>';\n                }\n\n                // Adjustment Account\n                if (rc.variance_amount !== 0) {\n                    if (this.reconcile.adjustment_account.uuid === \"\") {\n                        result = false;\n                        msg += '<p>Please select adjustment account.</p>';\n                    }\n                }\n\n                // Ending Balance\n                if (kendo.parseFloat(rc.ending_balance) === 0) {\n                    result = false;\n                    msg += '<p>Please enter Ending Balance.</p>';\n                }\n\n                // Show Alert\n                this.errorMessage = msg;\n                this.alert = false;\n                if (result === false) {\n                    this.alert = true;\n                }\n\n                return result;\n            },\n            // All Saves\n            async onSaveOptionClick(mode) {\n                if (this.$refs.form.validate() && this.validateForm()) {\n                    let isValidClosingDate = await Helper.validateClosingDate(this.reconcile.date);\n                    if (isValidClosingDate) {\n                        this.saveMode = mode;\n                        this.save();\n                    }\n                }\n            },\n            cancel() {\n                this.$swal({\n                    title: i18n.t('msg_title_warning'),\n                    text: i18n.t('msg_discard'),\n                    icon: \"warning\",\n                    showCancelButton: true,\n                    cancelButtonText: i18n.t('cancel'),\n                    confirmButtonColor: \"#4d4848\",\n                    cancelButtonColor: \"#ED1A3A\",\n                    confirmButtonText: i18n.t('discard'),\n                }).then((result) => {\n                    if (result.value) {\n                        this.clear();\n                        this.setDefaultData();\n                        this.$router.go(-1);\n                    }\n                });\n            },\n            clear() {\n                this.selectedTransactions = [];\n            },\n            save() {\n                // Adjustment Journal\n                if (this.reconcile.variance_amount !== 0) {\n                    this.addJournal();\n                 \n                this.adjustmentEntries.forEach(function(entry) {\n                    self.entryBanlance += entry.amount;\n                });\n                \n                } else {\n                    this.adjustmentJournal = null;\n                    this.adjustmentEntries = null;\n                }\n                if (this.entryBanlance !== 0) {\n                    this.$swal.showValidationMessage('The adjustment journal is not balance.')\n                    \n                } else {\n                    // Shrink Data\n                    this.shrinkData();\n\n                    // Sync Data\n                    this.showLoading = true;\n                    reconcileHandler.save({\n                        reconcile: this.reconcile,\n                        adjustment_journal: this.adjustmentJournal,\n                        adjustment_entries: this.adjustmentEntries,\n                        is_bank_reconcile: 1\n                    })\n                    .then((response) => {\n                        this.responseStatus(response);\n                    })\n                    .catch((error) => {\n                        this.showLoading = false;\n                        Helper.alertErrorMsg(error);\n                    })\n                    .finally(() => {\n                        this.showLoading = false;\n                    });\n                }\n            },\n            // Response Status\n            responseStatus(response) {\n                if (response.status === 200) {\n                    if (this.saveMode === SaveOption.SAVECLOSE || this.saveMode === SaveOption.DELETE) { /* Save Close or Delete */\n                        if (this.isEdit) {\n                            this.goBackToViewPage();\n                        } else {\n                            this.$router.go(-1);\n                        }\n\n                        this.clear();\n                        this.setDefaultData();\n                    } else { /* Save New */\n                        this.clear();\n                        this.setDefaultData();\n                    }\n\n                    /* Alert Success */\n                    this.$snotify.success(i18n.t(\"successful\"));\n                } else {\n                    /* Alert Error */\n                    this.$snotify.error(i18n.t(\"error_something_wrong\"));\n                }\n            },\n            // Go back to view page after edit mode\n            goBackToViewPage() {\n                this.$router.replace({name: 'Bank Reconciliation View', params: { initReconcile: this.reconcile }});\n            },\n        },\n        computed: {\n            reportingEndingBalance() {\n                let rc = this.reconcile,\n                    dr = 0, cr = 0;\n\n                this.selectedTransactions.forEach(value => {\n                    dr += kendo.parseFloat(value.dr);\n                    cr += kendo.parseFloat(value.cr);\n                })\n\n                let bal = (rc.opening_balance + dr) - cr;\n\n                return bal;\n            },\n            varianceAmount() {\n                let rc = this.reconcile;\n                let diff = this.reportingEndingBalance - kendo.parseFloat(rc.ending_balance);\n                rc.variance_amount = diff;\n\n                return diff;\n            }\n        },\n        mounted() {\n            // Set default data\n            this.setDefaultData();\n        },\n    };\n</script>\n\n<style scoped>\n    @media (min-width: 1264px) {\n        .container {\n            max-width: 1080px !important;\n        }\n    }\n</style>"]}]}