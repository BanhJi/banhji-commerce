{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/budgeting/project_budget/ProjectBudget.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/budgeting/project_budget/ProjectBudget.vue","mtime":1642390528855},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7aTE4bn0gZnJvbSAnQC9pMThuJwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKaW1wb3J0IEhlbHBlciBmcm9tICJAL2hlbHBlci5qcyI7CmltcG9ydCBCdWRnZXRNb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQnVkZ2V0LmpzIjsKaW1wb3J0IEJ1ZGdldExpbmVNb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQnVkZ2V0TGluZS5qcyI7CmltcG9ydCBCdWRnZXRMaW5lRXh0ZW5kZWRNb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQnVkZ2V0TGluZUV4dGVuZGVkLmpzIjsKaW1wb3J0IEFjY291bnRNb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvYWNjb3VudGluZy9BY2NvdW50LmpzIjsKaW1wb3J0IFByb2plY3RNb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvUHJvamVjdC5qcyI7CgovKiBFZGl0b3IgKi8KaW1wb3J0IE51bWJlcklucHV0Qm94RWRpdG9yIGZyb20gIkAvc2NyaXB0cy9rZW5kb19lZGl0b3IvTnVtYmVySW5wdXRCb3giOwppbXBvcnQgQWNjb3VudFNlY29uZGFyeUVkaXRvciBmcm9tICJAL3NjcmlwdHMva2VuZG9fZWRpdG9yL0FjY291bnRTZWNvbmRhcnkiOwoKLyogU3RvcmUgKi8KaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiCmNvbnN0IGluc3RpdHV0ZSA9IHN0b3JlLnN0YXRlLmluc3RpdHV0ZS5pbnN0aXR1dGUKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKCmNvbnN0IGJ1ZGdldEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaGFuZGxlci93b3JraW5nY2FwaXRhbC9idWRnZXRIYW5kbGVyLmpzIik7CmNvbnN0IHsgU2F2ZU9wdGlvbiB9ID0gcmVxdWlyZSgiQC9zY3JpcHRzL2RlZmF1bHRfc2V0dXAvQ29sbGVjdGlvbnMiKTsKCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICJQcm9qZWN0QnVkZ2V0IiwKCXByb3BzOiB7CgkJaW5pdEJ1ZGdldDogewoJCQl0eXBlOiBCdWRnZXRNb2RlbCwKCQl9LAoJfSwKCWNvbXBvbmVudHM6IHsKCQkiTG9hZGluZ01lIjogKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvTG9hZGluZycpLAoJCSJhcHAtcHJvamVjdC1kcm9wZG93bmxpc3QiOiAoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvUHJvamVjdCcpLAoJCSJhcHAtZmlzY2FsLWRhdGUtZHJvcGRvd25saXN0IjogKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMva2VuZG9fdGVtcGxhdGVzL0Zpc2NhbERhdGVEcm9wRG93bkxpc3QnKSwKCQkiYXBwLXJlcG9ydGluZy1sYW5ndWFnZSI6ICgpID0+IGltcG9ydCgiQC9jb21wb25lbnRzL2tlbmRvX3RlbXBsYXRlcy9SZXBvcnRpbmdMYW5ndWFnZURyb3BEb3duTGlzdCIpLAoJfSwKCWRhdGE6ICgpID0+ICh7CgkJLy8gT2JqCgkJYnVkZ2V0OiBuZXcgQnVkZ2V0TW9kZWwoKSwKCQlidWRnZXRMaW5lczogW10sCgkJcHJvamVjdDogbmV3IFByb2plY3RNb2RlbCgpLAoJCXVzZXI6IEhlbHBlci5nZXRVc2VyKCksCgkJLy8gRm9ybSB2YWxpZGF0aW9uCgkJdmFsaWQ6IHRydWUsCgkJaXNFZGl0OiBmYWxzZSwKCQlhbGVydDogZmFsc2UsCgkJZXJyb3JNZXNzYWdlOiAiIiwKCQlzYXZlTW9kZTogIiIsCgkJU2F2ZU9wdGlvbjogU2F2ZU9wdGlvbiwKCQkvLyBSZXBvcnRpbmcgTGFuZ3VhZ2UKCQlyZXBvcnRpbmdMYW5ndWFnZTogImVuZ2xpc2giLAoJCWZpZWxkTmFtZSA6ICdhY2NvdW50Lm5hbWUnLAoJCS8vIExvYWRpbmdNZQoJCXNob3dMb2FkaW5nOiBmYWxzZSwKCQkvKiBEaWFsb2cgKi8KCQlkaWFsb2c6IGZhbHNlLAoJCXNlbGVjdGVkUm93OiBuZXcgQnVkZ2V0TGluZUV4dGVuZGVkTW9kZWwoKSwKCQljcm9zc0Ftb3VudDogMCwKCQkvKiBLZW5kbyAqLwoJCWNvbHVtbnM6IFtdLAoJCWJ1ZGdldExpbmVEUyA6IG5ldyBrZW5kby5kYXRhLlRyZWVMaXN0RGF0YVNvdXJjZSh7CgkJCQlzb3J0OiBbCgkJCQkJCXsgZmllbGQ6ICJhY2NvdW50LnR5cGVfY29kZSIsIGRpcjogImFzYyIgfSwKCQkJCQkJeyBmaWVsZDogIm51bWJlciIsIGRpcjogImFzYyIgfSwKCQkJCV0sCgkJCQlzY2hlbWE6IHsKCQkJCQkJbW9kZWw6IHsKCQkJCQkJCQlpZDogInV1aWQiLAoJCQkJCQkJCWV4cGFuZGVkOiB0cnVlCgkJCQkJCX0KCQkJCX0KCQl9KSwKCX0pLAoJbWV0aG9kczogewoJCS8vIEluaXRpYWwgRGF0YQoJCWluaXRpYWxEYXRhKCkgewoJCQkJaWYodGhpcy5pbml0QnVkZ2V0KXsgLy8gRWRpdCBNb2RlCgkJCQkJCXRoaXMuaXNFZGl0ID0gdHJ1ZTsKCQkJCQkJdGhpcy5idWRnZXQgPSB0aGlzLmluaXRCdWRnZXQ7CgkJCQkJCXRoaXMuYmluZERhdGEoKTsKCQkJCX1lbHNleyAvLyBCcmFuZCBOZXcKCQkJCQkJdGhpcy5pc0VkaXQgPSBmYWxzZTsKCQkJCQkJdGhpcy5zZXREZWZhdWx0RGF0YSgpOwoJCQkJfQoJCX0sCgkJLyogSW5pdGlhbCBUcmVlIExpc3QgKi8KCQlpbml0aWFsVHJlZUxpc3QoKXsKCQkJCWtlbmRvLmpRdWVyeSgiI2J1ZGdldExpbmVUcmVlTGlzdCIpLmtlbmRvVHJlZUxpc3QoewoJCQkJCQlkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5UcmVlTGlzdERhdGFTb3VyY2UoKSwKCQkJCQkJZGF0YUJvdW5kOiB0aGlzLm9uRGF0YUJvdW5kLAoJCQkJCQllZGl0YWJsZTogImluY2VsbCIsCgkJCQkJCXJlc2l6YWJsZTogdHJ1ZSwKCQkJCQkJY29sdW1uTWVudTogdHJ1ZSwKCQkJCQkJY29sdW1uczogdGhpcy5jb2x1bW5zLAoJCQkJfSk7CgkJfSwKCQkvLyBTZXQgZGVmYXVsdCBkYXRhCgkJc2V0RGVmYXVsdERhdGEoKSB7CgkJCQl0aGlzLmJ1ZGdldCA9IG5ldyBCdWRnZXRNb2RlbCh7CgkJCQkJCWZpc2NhbF95ZWFyOiBpbnN0aXR1dGUuZmlzY2FsRGF0ZVswXSwKCQkJCX0pOwoJCQkJLy8gdGhpcy5zZXREZWZhdWx0QnVkZ2V0TGluZSgpOwoJCX0sCgkJLy8gQmluZCBkYXRhIGZvciBlZGl0IG1vZGUKCQlhc3luYyBiaW5kRGF0YSgpIHsKCQkJLyogUHJvamVjdCAqLwoJCQlhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncHJvamVjdHMvZ2V0TGlzdCcpOwoJCQl0aGlzLnByb2plY3QgPSBuZXcgUHJvamVjdE1vZGVsKHRoaXMucHJvamVjdHMuZmluZChpID0+IGkuaWQgPT09IHRoaXMuYnVkZ2V0LnByb2plY3RfdXVpZCkpOwoJCQkKCQkJdGhpcy5zZXREZWZhdWx0QnVkZ2V0TGluZSgpOwoJCX0sCgkJLyogQ29uZmlybSBSZWxvYWQgQWNjb3VudHMgKi8KCQljb25maXJtUmVsb2FkKCkgewoJCQkJaWYodGhpcy5idWRnZXRMaW5lRFMudG90YWwoKSA9PT0gMCl7CgkJCQkJCXRoaXMuc2V0RGVmYXVsdEJ1ZGdldExpbmUoKTsKCQkJCX1lbHNlewoJCQkJCQl0aGlzLiRzd2FsKHsKCQkJCQkJCQl0aXRsZTogaTE4bi50KCdyZWxvYWRfZGF0YV8/JyksCgkJCQkJCQkJdGV4dDogaTE4bi50KCd0aGlzX3dpbGxfcmVzZXRfYWxsX2Ftb3VudF90b196ZXJvJyksCgkJCQkJCQkJaWNvbjogIndhcm5pbmciLAoJCQkJCQkJCXNob3dDYW5jZWxCdXR0b246IHRydWUsCgkJCQkJCQkJY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCdjYW5jZWwnKSwKCQkJCQkJCQljb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKCQkJCQkJCQljYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAoJCQkJCQkJCWNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoJ3JlbG9hZCcpLAoJCQkJCQl9KS50aGVuKChyZXN1bHQpID0+IHsKCQkJCQkJCQlpZiAocmVzdWx0LnZhbHVlKSB7CgkJCQkJCQkJCQl0aGlzLnNldERlZmF1bHRCdWRnZXRMaW5lKCk7CgkJCQkJCQkJfQoJCQkJCQl9KTsKCQkJCX0KCQl9LAoJCS8vIFNldCBCdWRnZXQgTGluZXMKCQlhc3luYyBzZXREZWZhdWx0QnVkZ2V0TGluZSAoKXsKCQkJCXRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwoKCQkJCS8vIEFjY291bnQKCQkJCWF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhY2NvdW50aW5nL2dldEFjY291bnRzJyk7CgkJCQkKCQkJCWxldCBnID0ge307CgkJCQl0aGlzLmFjY291bnRzLmZvckVhY2godmFsdWUgPT4gewoJCQkJCQlpZih2YWx1ZS5hY2NvdW50X3R5cGUubnVtYmVyID49IDMyICYmIHZhbHVlLmFjY291bnRfdHlwZS5udW1iZXIgPD0gNDMpey8vRmlsdGVyIFBMIGFjY291bnRzIDMyIHRvIDQzCgkJCQkJCQkJbGV0IGFjY291bnQgPSB2YWx1ZTsKCgkJCQkJCQkJLyogR1JPVVBJTkcgKi8KCQkJCQkJCQkvKiBUb3AgTGV2ZWwgQWNjb3VudCBUeXBlICovCgkJCQkJCQkJaWYoIWdbYWNjb3VudC50eXBlX2NvZGVdKXsKCQkJCQkJCQkJCWdbYWNjb3VudC50eXBlX2NvZGVdID0gbmV3IEJ1ZGdldExpbmVFeHRlbmRlZE1vZGVsKHsKCQkJCQkJCQkJCQkJdXVpZCA6IGFjY291bnQudHlwZV9jb2RlLAoJCQkJCQkJCQkJCQludW1iZXIgOiBhY2NvdW50LnR5cGVfY29kZSwKCQkJCQkJCQkJCQkJYWNjb3VudF91dWlkIDogYWNjb3VudC51dWlkLAoJCQkJCQkJCQkJCQlhY2NvdW50IDogYWNjb3VudC5hY2NvdW50X3R5cGUsCgkJCQkJCQkJCQl9KTsKCQkJCQkJCQl9CgoJCQkJCQkJCS8qIFBhcmVudCBMZXZlbCAqLwoJCQkJCQkJCWxldCB0aGlzQWNjb3VudFBhcmVudElkID0gIiI7CgkJCQkJCQkJaWYoYWNjb3VudC5oYXNPd25Qcm9wZXJ0eSgicGFyZW50X2FjY291bnQiKSl7CgkJCQkJCQkJCQlsZXQgY3VycmVudFBhcmVudEFjY291bnQgPSBuZXcgQWNjb3VudE1vZGVsKGFjY291bnQucGFyZW50X2FjY291bnQpLCBjb3VudGVyID0gMDsKCQkJCQkJCQkJCXdoaWxlIChjdXJyZW50UGFyZW50QWNjb3VudC5udW1iZXIgIT09ICIiKSB7CgkJCQkJCQkJCQkJCS8qIEdldCBhY2NvdW50IGJ5IHV1aWQgb3IgYmFuaGppX2FjY291bnRfbnVtYmVyICovCgkJCQkJCQkJCQkJCWxldCBhY2NvdW50UGFyZW50ID0gbmV3IEFjY291bnRNb2RlbCgpOwoJCQkJCQkJCQkJCQlpZihjdXJyZW50UGFyZW50QWNjb3VudC51dWlkICE9PSAiIil7LyogR2V0IGJ5IHV1aWQgKi8KCQkJCQkJCQkJCQkJCQlhY2NvdW50UGFyZW50ID0gbmV3IEFjY291bnRNb2RlbCh0aGlzLmFjY291bnRzLmZpbmQoKGl0ZW0pID0+IGl0ZW0udXVpZCA9PT0gY3VycmVudFBhcmVudEFjY291bnQudXVpZCkpOwoJCQkJCQkJCQkJCQl9ZWxzZXsvKiBHZXQgYnkgYmFuaGppX2FjY291bnRfbnVtYmVyIGJlY2F1c2UgZGVmYXVsdCBkYXRhIGhhcyBubyB1dWlkICovCgkJCQkJCQkJCQkJCQkJaWYoY3VycmVudFBhcmVudEFjY291bnQuYmFuaGppX2FjY291bnRfbnVtYmVyICE9PSAiIil7CgkJCQkJCQkJCQkJCQkJCQlhY2NvdW50UGFyZW50ID0gbmV3IEFjY291bnRNb2RlbCh0aGlzLmFjY291bnRzLmZpbmQoKGl0ZW0pID0+IGl0ZW0uYmFuaGppX2FjY291bnRfbnVtYmVyID09PSBjdXJyZW50UGFyZW50QWNjb3VudC5iYW5oamlfYWNjb3VudF9udW1iZXIpKTsKCQkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCX0KCgkJCQkJCQkJCQkJCS8qIFNldCBUaGlzIEFjY291bnQgUGFyZW50IElkICovCgkJCQkJCQkJCQkJCWlmKGNvdW50ZXIgPT09IDApewoJCQkJCQkJCQkJCQkJCXRoaXNBY2NvdW50UGFyZW50SWQgPSBhY2NvdW50UGFyZW50LnV1aWQ7CgkJCQkJCQkJCQkJCX0KCgkJCQkJCQkJCQkJCS8qIEZpbmQgTmV4dCBQYXJlbnQgKi8KCQkJCQkJCQkJCQkJbGV0IG5leHRQYXJlbnQgPSBuZXcgQWNjb3VudE1vZGVsKCk7CgkJCQkJCQkJCQkJCWlmKGFjY291bnRQYXJlbnQuaGFzT3duUHJvcGVydHkoInBhcmVudF9hY2NvdW50IikpewoJCQkJCQkJCQkJCQkJCWxldCBwYXJlbnRPZkFjY291bnRQYXJlbnQgPSBuZXcgQWNjb3VudE1vZGVsKGFjY291bnRQYXJlbnQucGFyZW50X2FjY291bnQpOwoJCQkJCQkJCQkJCQkJCWlmKHBhcmVudE9mQWNjb3VudFBhcmVudC5udW1iZXIgIT09ICIiKXsKCQkJCQkJCQkJCQkJCQkJCWlmKHBhcmVudE9mQWNjb3VudFBhcmVudC51dWlkICE9PSAiIil7LyogR2V0IGJ5IHV1aWQgKi8KCQkJCQkJCQkJCQkJCQkJCQkJbmV4dFBhcmVudCA9IHRoaXMuYWNjb3VudHMuZmluZCgoaXRlbSkgPT4gaXRlbS51dWlkID09PSBwYXJlbnRPZkFjY291bnRQYXJlbnQudXVpZCk7CgkJCQkJCQkJCQkJCQkJCQl9ZWxzZXsvKiBHZXQgYnkgYmFuaGppX2FjY291bnRfbnVtYmVyIGJlY2F1c2UgZGVmYXVsdCBkYXRhIGhhcyBubyB1dWlkICovCgkJCQkJCQkJCQkJCQkJCQkJCWlmKHBhcmVudE9mQWNjb3VudFBhcmVudC5iYW5oamlfYWNjb3VudF9udW1iZXIgIT09ICIiKXsKCQkJCQkJCQkJCQkJCQkJCQkJCQluZXh0UGFyZW50ID0gdGhpcy5hY2NvdW50cy5maW5kKChpdGVtKSA9PiBpdGVtLmJhbmhqaV9hY2NvdW50X251bWJlciA9PT0gcGFyZW50T2ZBY2NvdW50UGFyZW50LmJhbmhqaV9hY2NvdW50X251bWJlcik7CgkJCQkJCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJCgkJCQkJCQkJCQkJCS8qIFNldCBQYXJlbnQgSWQgKi8KCQkJCQkJCQkJCQkJbGV0IHBhcmVudElkID0gYWNjb3VudFBhcmVudC50eXBlX2NvZGU7CgkJCQkJCQkJCQkJCW5leHRQYXJlbnQgPSBuZXcgQWNjb3VudE1vZGVsKG5leHRQYXJlbnQpOwoJCQkJCQkJCQkJCQlpZihuZXh0UGFyZW50Lm51bWJlciAhPT0gIiIpewoJCQkJCQkJCQkJCQkJCXBhcmVudElkID0gbmV4dFBhcmVudC51dWlkOwoKCQkJCQkJCQkJCQkJCQkvKiBTZXQgbmV4dCBwYXJlbnQgYWNjb3VudCAqLwoJCQkJCQkJCQkJCQkJCU9iamVjdC5hc3NpZ24oY3VycmVudFBhcmVudEFjY291bnQsIG5leHRQYXJlbnQpOwoJCQkJCQkJCQkJCQl9ZWxzZXsKCQkJCQkJCQkJCQkJCQkvKiBTZXQgbG9vcCB0byBlbmQgKi8KCQkJCQkJCQkJCQkJCQljdXJyZW50UGFyZW50QWNjb3VudC5udW1iZXIgPSAiIjsKCQkJCQkJCQkJCQkJfQoKCQkJCQkJCQkJCQkJLyogQWRkIFBhcmVudCBMZXZlbCAqLwoJCQkJCQkJCQkJCQlpZighZ1thY2NvdW50UGFyZW50LnV1aWRdKXsKCQkJCQkJCQkJCQkJCQlnW2FjY291bnRQYXJlbnQudXVpZF0gPSBuZXcgQnVkZ2V0TGluZUV4dGVuZGVkTW9kZWwoewoJCQkJCQkJCQkJCQkJCQkJdXVpZCA6IGFjY291bnRQYXJlbnQudXVpZCwKCQkJCQkJCQkJCQkJCQkJCWFjY291bnRfdXVpZCA6IGFjY291bnRQYXJlbnQudXVpZCwKCQkJCQkJCQkJCQkJCQkJCW51bWJlciA6IGFjY291bnRQYXJlbnQubnVtYmVyLAoJCQkJCQkJCQkJCQkJCQkJcGFyZW50SWQgOiBwYXJlbnRJZCwKCQkJCQkJCQkJCQkJCQkJCWFjY291bnQgOiBhY2NvdW50UGFyZW50LAoJCQkJCQkJCQkJCQkJCX0pOwoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCQoJCQkJCQkJCQkJCQkvKiBJbmNyZWFzZSBDb3VudGVyIEJ5IDEgKi8KCQkJCQkJCQkJCQkJY291bnRlcisrOwoJCQkJCQkJCQkJfS8qIEVuZCBXaGlsZSBMb29wICovCgkJCQkJCQkJfQoJCQkJCQkJCQoJCQkJCQkJCS8qIENoaWxkIExldmVsICovCgkJCQkJCQkJaWYoIWdbYWNjb3VudC51dWlkXSl7CgkJCQkJCQkJCQlnW2FjY291bnQudXVpZF0gPSBuZXcgQnVkZ2V0TGluZUV4dGVuZGVkTW9kZWwoewoJCQkJCQkJCQkJCQl1dWlkIDogYWNjb3VudC51dWlkLAoJCQkJCQkJCQkJCQlhY2NvdW50X3V1aWQgOiBhY2NvdW50LnV1aWQsCgkJCQkJCQkJCQkJCW51bWJlciA6IGFjY291bnQubnVtYmVyLAoJCQkJCQkJCQkJCQlhY2NvdW50IDogYWNjb3VudCwKCQkJCQkJCQkJCX0pOwoJCQkJCQkJCX0KCgkJCQkJCQkJLyogU2V0IFBhcmVudCBJZCBPciBTZWxmIFBhcmVudCAqLwoJCQkJCQkJCWlmKHRoaXNBY2NvdW50UGFyZW50SWQgIT09ICIiKXsvKiBDaGlsZCBMZXZlbCAqLwoJCQkJCQkJCQkJZ1thY2NvdW50LnV1aWRdLnBhcmVudElkID0gdGhpc0FjY291bnRQYXJlbnRJZDsKCQkJCQkJCQl9ZWxzZXsvKiBDaGlsZCBBcyBQYXJlbnQgKi8KCQkJCQkJCQkJCWdbYWNjb3VudC51dWlkXS5wYXJlbnRJZCA9IGFjY291bnQudHlwZV9jb2RlOyAvKiBTZWxmIEFzIFBhcmVudCAqLwoJCQkJCQkJCX0KCQkJCQkJCQkKCQkJCQkJCQkvLyAxMiBtb250aHMgd2l0aCBhbW91bnQKCQkJCQkJCQlmb3IgKGxldCBpID0gMDsgaSA8IDEyOyBpKyspIHsKCQkJCQkJCQkJCS8vIFNldCBNb250aCBPZgoJCQkJCQkJCQkJbGV0IHNkYXRlID0gbmV3IERhdGUodGhpcy5idWRnZXQuZmlzY2FsX3llYXIuc3RhcnRfZGF0ZSk7CgkJCQkJCQkJCQlzZGF0ZS5zZXRNb250aChzZGF0ZS5nZXRNb250aCgpICsgaSk7CgoJCQkJCQkJCQkJZ1thY2NvdW50LnV1aWRdLm1vbnRobHlfYW1vdW50LnB1c2goewoJCQkJCQkJCQkJCQltb250aF9vZiA6IHNkYXRlLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDcpLAoJCQkJCQkJCQkJCQlhbW91bnQgOiAwLAoJCQkJCQkJCQkJfSk7CgkJCQkJCQkJfQoKCQkJCQkJCQkvKiBNYXRjaGluZyBBY2NvdW50ICovCgkJCQkJCQkJaWYodGhpcy5pc0VkaXQpewoJCQkJCQkJCQlsZXQgYmxpbmUgPSB0aGlzLmJ1ZGdldC5saW5lcy5maW5kKChpdGVtKSA9PiBpdGVtLmFjY291bnRfdXVpZCA9PT0gdmFsdWUudXVpZCk7CgkJCQkJCQkJCWlmKGJsaW5lKXsKCQkJCQkJCQkJCS8qIFJldmVyc2UgTmF0dXJlICovCgkJCQkJCQkJCQlsZXQgbmF0dXJlID0gMTsgLyogRGVmYXVsdCBOYXVyZSBpcyBEciA9IDEgKi8KCQkJCQkJCQkJCWlmKGFjY291bnQuYWNjb3VudF90eXBlLm5hdHVyZS50b0xvd2VyQ2FzZSgpID09PSAiY3IiKXsKCQkJCQkJCQkJCQluYXR1cmUgPSAtMTsKCQkJCQkJCQkJCX0KCgkJCQkJCQkJCQlnW2FjY291bnQudXVpZF0uc2Vjb25kYXJ5X2FjY291bnQgPSBuZXcgQWNjb3VudE1vZGVsKHRoaXMuc2Vjb25kYXJ5QWNjb3VudHMuZmluZCgoaXRlbSkgPT4gaXRlbS51dWlkID09PSBibGluZS5zZWNvbmRhcnlfYWNjb3VudF91dWlkKSk7CgkJCQkJCQkJCQlnW2FjY291bnQudXVpZF0ubm90ZSA9IGJsaW5lLm5vdGU7CgkJCQkJCQkJCQlnW2FjY291bnQudXVpZF0uYW1vdW50ID0gYmxpbmUuYW1vdW50ICogbmF0dXJlOwoJCQkJCQkJCQkJZ1thY2NvdW50LnV1aWRdLm1vbnRobHlfYW1vdW50ID0gYmxpbmUubW9udGhseV9hbW91bnQ7CgkJCQkJCQkJCQlnW2FjY291bnQudXVpZF0ubW9udGhseV9hbW91bnQuZm9yRWFjaChtYSA9PiB7CgkJCQkJCQkJCQkJbWEuYW1vdW50ID0gbWEuYW1vdW50ICogbmF0dXJlOwoJCQkJCQkJCQkJfSk7CgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCX0KCQkJCX0pOwoJCQkJCgkJCQkvKiBCaW5kIEJ1ZGdldCBMaW5lICovCgkJCQl0aGlzLmJ1ZGdldExpbmVEUy5kYXRhKE9iamVjdC52YWx1ZXMoZykpOwoKCQkJCS8qIFNldCBOZXcgRGF0YXNvdXJjZSAqLwoJCQkJbGV0IHRyZWVMaXN0ID0ga2VuZG8ualF1ZXJ5KCIjYnVkZ2V0TGluZVRyZWVMaXN0IikuZGF0YSgia2VuZG9UcmVlTGlzdCIpOwoJCQkJdHJlZUxpc3Quc2V0RGF0YVNvdXJjZSh0aGlzLmJ1ZGdldExpbmVEUyk7CgoJCQkJdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwoJCX0sCgkJLy8gUm93IFRlbXBsYXRlCgkJbmFtZVRtcGwoZGF0YUl0ZW0pewoJCQkJLyogTmFtZSBpbiBsYW5ndWFnZSAqLwoJCQkJbGV0IG5hbWUgPSBkYXRhSXRlbS5hY2NvdW50Lm5hbWU7CgkJCQlpZih0aGlzLnJlcG9ydGluZ0xhbmd1YWdlID09PSAibG9jYWwiKXsKCQkJCQkJbmFtZSA9IGRhdGFJdGVtLmFjY291bnQubG9jYWxfbmFtZTsKCQkJCX0KCgkJCQkvKiBEZWZpbmUgcmVzdWx0ICovCgkJCQlsZXQgcmVzdWx0ID0gYDxzcGFuPiR7ZGF0YUl0ZW0ubnVtYmVyfSAtICR7bmFtZX08L3NwYW4+YDsKCgkJCQkvLyAvKiBUb3AgTGV2ZWwgKi8KCQkJCWlmKGRhdGFJdGVtLnBhcmVudElkID09PSBudWxsKXsKCQkJCQkJcmVzdWx0ID0gYDxzcGFuIHN0eWxlPSdmb250LXdlaWdodDogYm9sZGVyOyc+JHtuYW1lfTwvc3Bhbj5gOwoJCQkJfQoKCQkJCS8qIFBhcmVudCBMZXZlbCAqLwoJCQkJaWYoZGF0YUl0ZW0uaGFzQ2hpbGRyZW4gJiYgZGF0YUl0ZW0ubnVtYmVyLmxlbmd0aCA+IDMpewoJCQkJCQlyZXN1bHQgPSBgPHNwYW4gc3R5bGU9J2ZvbnQtd2VpZ2h0OiBib2xkZXI7Jz4ke2RhdGFJdGVtLm51bWJlcn0gLSAke25hbWV9PC9zcGFuPmA7CgkJCQl9CgoJCQkJcmV0dXJuIHJlc3VsdDsKCQl9LAoJCXNlY29uZGFyeUFjY291bnRUbXBsKGRhdGFJdGVtKSB7CgkJCQlsZXQgcmVzdWx0ID0gIiI7CgkJCQlpZihkYXRhSXRlbS5zZWNvbmRhcnlfYWNjb3VudC51dWlkICE9PSAnJyl7CgkJCQkJCXJlc3VsdCA9IGA8c3Bhbj4ke2RhdGFJdGVtLnNlY29uZGFyeV9hY2NvdW50Lm51bWJlcn0gLSAke2RhdGFJdGVtLnNlY29uZGFyeV9hY2NvdW50Lm5hbWV9PC9zcGFuPmA7CgkJCQl9CgoJCQkJcmV0dXJuIHJlc3VsdDsKCQl9LAoJCWNvcHlBY3Jvc3MoZSl7CgkJCQllLnByZXZlbnREZWZhdWx0KCk7CgoJCQkJbGV0IHRyZWVMaXN0ID0ga2VuZG8ualF1ZXJ5KCIjYnVkZ2V0TGluZVRyZWVMaXN0IikuZGF0YSgia2VuZG9UcmVlTGlzdCIpOwoJCQkJdGhpcy5zZWxlY3RlZFJvdyA9IHRyZWVMaXN0LmRhdGFJdGVtKGtlbmRvLmpRdWVyeShlLnRhcmdldCkuY2xvc2VzdCgidHIiKSk7CgoJCQkJdGhpcy5kaWFsb2cgPSB0cnVlOwoJCX0sCgkJYXBwbHlBY3Jvc3NBbW91bnQoKXsKCQkJCXRoaXMuZGlhbG9nID0gZmFsc2U7CgoJCQkJdGhpcy5zZWxlY3RlZFJvdy5tb250aGx5X2Ftb3VudC5mb3JFYWNoKHZhbHVlID0+IHsKCQkJCQkJdmFsdWUuYW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmNyb3NzQW1vdW50KTsKCQkJCX0pOwoJCQkJdGhpcy5zZWxlY3RlZFJvdy5hbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KHRoaXMuY3Jvc3NBbW91bnQpICogMTI7CgoJCQkJLyogUmVmcmVzaCAqLwoJCQkJbGV0IHRyZWVMaXN0ID0ga2VuZG8ualF1ZXJ5KCIjYnVkZ2V0TGluZVRyZWVMaXN0IikuZGF0YSgia2VuZG9UcmVlTGlzdCIpOwoJCQkJdHJlZUxpc3QucmVmcmVzaCgpOwoKCQkJCXRoaXMuY3Jvc3NBbW91bnQgPSAwOwoJCX0sCgkJZ2VuZXJhdGVDb2x1bW4oKSB7CgkJCQlsZXQgaGVhZGVyQXR0cmlidXRlcyA9IHsKCQkJCQkJY2xhc3M6ICJ0YWJsZS1oZWFkZXItY2VsbCIsCgkJCQkJCXN0eWxlOiAiZm9udC13ZWlnaHQ6IGJvbGQ7dGV4dC1hbGlnbjogY2VudGVyO3BhZGRpbmctcmlnaHQ6IDM1cHg7IGZvbnQtc2l6ZTogMTRweCIsCgkJCQl9LAoJCQkJYXR0cmlidXRlcyA9IHsKCQkJCQkJY2xhc3M6ICJ0YWJsZS1jZWxsIiwKCQkJCQkJc3R5bGU6ICJ0ZXh0LWFsaWduOiByaWdodDsgZm9udC1zaXplOiAxNHB4IiwKCQkJCX07CgoJCQkJbGV0IGNvbHVtbnMgPSBbCgkJCQkJCXsKCQkJCQkJCQlmaWVsZDogdGhpcy5maWVsZE5hbWUsCgkJCQkJCQkJdGl0bGU6IGkxOG4udCgiYWNjb3VudCIpLAoJCQkJCQkJCXRlbXBsYXRlOiB0aGlzLm5hbWVUbXBsLAoJCQkJCQkJCWVkaXRhYmxlOiAoKT0+eyByZXR1cm4gZmFsc2UgfSwKCQkJCQkJCQl3aWR0aDogMzAwLAoJCQkJCQkJCWhlYWRlckF0dHJpYnV0ZXM6IGhlYWRlckF0dHJpYnV0ZXMsCgkJCQkJCX0sCgkJCQkJCXsKCQkJCQkJCQlmaWVsZDogInNlY29uZGFyeV9hY2NvdW50IiwKCQkJCQkJCQl0aXRsZTogaTE4bi50KCJzZWNvbmRhcnlfYWNjb3VudCIpLAoJCQkJCQkJCXRlbXBsYXRlOiB0aGlzLnNlY29uZGFyeUFjY291bnRUbXBsLAoJCQkJCQkJCWVkaXRvcjogQWNjb3VudFNlY29uZGFyeUVkaXRvciwKCQkJCQkJCQloaWRkZW46ICF0aGlzLiRzdG9yZS5zdGF0ZS5hY2NvdW50aW5nLnNlY29uZGFyeUFjY291bnQsCgkJCQkJCQkJZWRpdGFibGU6IChkYXRhSXRlbSk9PnsKCQkJCQkJCQkJCXJldHVybiAhZGF0YUl0ZW0uaGFzQ2hpbGRyZW47CgkJCQkJCQkJfSwKCQkJCQkJCQl3aWR0aDogMzAwLAoJCQkJCQl9LAoJCQkJCQl7CgkJCQkJCQkJZmllbGQ6ICJub3RlIiwKCQkJCQkJCQl0aXRsZTogaTE4bi50KCJub3RlIiksCgkJCQkJCQkJd2lkdGg6IDIwMCwKCQkJCQkJfSwKCQkJCQkJewoJCQkJCQkJCXRpdGxlOiBpMThuLnQoImFjdGlvbiIpLAoJCQkJCQkJCWNvbW1hbmQ6IFt7CgkJCQkJCQkJCQluYW1lOiAiY29weWNyb3NzIiwKCQkJCQkJCQkJCXRleHQ6ICJjb3B5IGNyb3NzIiwKCQkJCQkJCQkJCWNsaWNrOiB0aGlzLmNvcHlBY3Jvc3MsCgkJCQkJCQkJfV0sCgkJCQkJCQkJd2lkdGg6IDE1MCwKCQkJCQkJfQoJCQkJXTsKCQkJCQoJCQkJLyogMTIgTW9udGhzICovCgkJCQlmb3IgKGxldCBpID0gMDsgaSA8IDEyOyBpKyspIHsKCQkJCQkJY29sdW1ucy5wdXNoKHsKCQkJCQkJCQlmaWVsZDogYG1vbnRobHlfYW1vdW50WyR7aX1dLmFtb3VudGAsCgkJCQkJCQkJZm9ybWF0OiAiezA6bn0iLAoJCQkJCQkJCWVkaXRvcjogTnVtYmVySW5wdXRCb3hFZGl0b3IsCgkJCQkJCQkJd2lkdGg6IDE1MCwKCQkJCQkJCQlhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzLAoJCQkJCQl9KTsKCQkJCX0KCgkJCQkvKiBUb3RhbCAqLwoJCQkJY29sdW1ucy5wdXNoKHsKCQkJCQkJZmllbGQ6ICJhbW91bnQiLAoJCQkJCQl0aXRsZTogaTE4bi50KCJ0b3RhbCIpLAoJCQkJCQlmb3JtYXQ6ICJ7MDpufSIsCgkJCQkJCWVkaXRhYmxlOiAoKT0+e3JldHVybiBmYWxzZX0sCgkJCQkJCXdpZHRoOiAxNTAsCgkJCQkJCWF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMsCgkJCQl9KTsKCgkJCQkvKiBTZXQgQWxsIENvbHVtbnMgKi8KCQkJCXRoaXMuY29sdW1ucyA9IGNvbHVtbnM7CgkJfSwKCQkvKiBPbiBkYXRhYm91bmQgKi8KCQlvbkRhdGFCb3VuZCAoZSkgewoJCQkvKiBUaXRsZXMgKi8KCQkJbGV0IHRyZWVMaXN0ID0ga2VuZG8ualF1ZXJ5KCIjYnVkZ2V0TGluZVRyZWVMaXN0IikuZGF0YSgia2VuZG9UcmVlTGlzdCIpOwoJCQlpZih0aGlzLmJ1ZGdldC5maXNjYWxfeWVhcil7CgkJCQlsZXQgZmlzY2FsTW9udGhzID0gSGVscGVyLmdlbmVyYXRlRmlzY2FsTW9udGhzKHRoaXMuYnVkZ2V0LmZpc2NhbF95ZWFyLnN0YXJ0X2RhdGUsIHRoaXMuYnVkZ2V0LmZpc2NhbF95ZWFyLmVuZF9kYXRlLCAiMTIiKTsKCQkJCWZvciAobGV0IGsgPSAwOyBrIDwgMTI7IGsrKykgewoJCQkJCWNvbnN0IGVsZW1lbnQgPSBmaXNjYWxNb250aHNba107CgkJCQkJdHJlZUxpc3QudGhlYWQuZmluZChgW2RhdGEtZmllbGR+PSdtb250aGx5X2Ftb3VudFske2t9XS5hbW91bnQnXWApLmh0bWwoZWxlbWVudCk7CgkJCQl9CgkJCX0KCgkJCS8qIEhlYWRlcnMgKi8KCQkJdmFyIGhlYWRlcnMgPSBlLnNlbmRlci50aGVhZC5jaGlsZHJlbigpOwoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGhlYWRlcnMubGVuZ3RoOyBpKyspIHsKCQkJCXZhciB0aCA9IGtlbmRvLmpRdWVyeShoZWFkZXJzW2ldKTsKCQkJCXRoLmNzcygiZm9udC13ZWlnaHQiLCAiYm9sZCIpOwoJCQkJdGguY3NzKCJ0ZXh0LWFsaWduIiwgImNlbnRlciIpOwoJCQl9CgoJCQkvKiBJdGVtcyAqLwoJCQl2YXIgaXRlbXMgPSBlLnNlbmRlci5pdGVtcygpOwoJCQlmb3IgKHZhciBqID0gMDsgaiA8IGl0ZW1zLmxlbmd0aDsgaisrKSB7CgkJCQl2YXIgZGF0YUl0ZW0gPSBlLnNlbmRlci5kYXRhSXRlbShpdGVtc1tqXSk7CgkJCQl2YXIgcm93ID0ga2VuZG8ualF1ZXJ5KGl0ZW1zW2pdKTsKCgkJCQkvKiBQYXJlbnQgaW4gYm9sZCAqLwoJCQkJaWYoZGF0YUl0ZW0uZ2V0KCJoYXNDaGlsZHJlbiIpIHx8IGRhdGFJdGVtLmdldCgicGFyZW50SWQiKSA9PT0gbnVsbCl7CgkJCQkJcm93LmZpbmQoIltkYXRhLWNvbW1hbmQ9J2NvcHljcm9zcyddIikuaGlkZSgpOwoJCQkJCXJvdy5jc3MoImZvbnQtd2VpZ2h0IiwgImJvbGQiKTsKCQkJCX0KCQkJfQoJCX0sCgkJLy8gRGF0YVNvdXJjZSBDaGFuZ2VzCgkJb25EYXRhU291cmNlQ2hhbmdlcyhlKSB7CgkJCWlmIChlLmZpZWxkKSB7CgkJCQlsZXQgZGF0YVJvdyA9IGUuaXRlbXNbMF07CgoJCQkJaWYgKGUuZmllbGQgPT09ICJzZWNvbmRhcnlfYWNjb3VudCIpIHsKCQkJCQkJaWYgKGRhdGFSb3cuc2Vjb25kYXJ5X2FjY291bnQgIT09IG51bGwpIHsKCQkJCQkJCQlkYXRhUm93LnNldCgic2Vjb25kYXJ5X2FjY291bnRfdXVpZCIsIGRhdGFSb3cuc2Vjb25kYXJ5X2FjY291bnQudXVpZCk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJLy8gU2V0IGRlZmF1bHQgd2hlbiBkZXNlbGVjdAoJCQkJCQkJCWRhdGFSb3cuc2V0KCJzZWNvbmRhcnlfYWNjb3VudF91dWlkIiwgIiIpOwoJCQkJCQkJCWRhdGFSb3cuc2V0KCJzZWNvbmRhcnlfYWNjb3VudCIsIG5ldyBBY2NvdW50TW9kZWwoKSk7CgkJCQkJCX0KCQkJCX0KCQkJfQoKCQkJCXRoaXMuZGF0YVNvdXJjZUF1dG9DYWxjdWxhdGUoKTsKCQl9LAoJCS8vIEF1dG8gQ2FsY3VsYXRlIEluIERhdGFTb3VyY2UKCQlkYXRhU291cmNlQXV0b0NhbGN1bGF0ZSgpIHsKCQkJCS8vIFN1bSBBbW91bnQKCQkJCXRoaXMuYnVkZ2V0TGluZURTLmRhdGEoKS5mb3JFYWNoKHZhbHVlID0+IHsKCQkJCQkJbGV0IHN1bUFtdCA9IDA7CgkJCQkJCXZhbHVlLm1vbnRobHlfYW1vdW50LmZvckVhY2goZWxlID0+IHsKCQkJCQkJCQlzdW1BbXQgKz0gZWxlLmFtb3VudDsKCQkJCQkJfSk7CgkJCQkJCXZhbHVlLnNldCgiYW1vdW50Iiwgc3VtQW10KTsKCQkJCX0pOwoJCX0sCgkJLy8gU2hyaW5rIERhdGEKCQlzaHJpbmtEYXRhKCkgewoJCQkJLy8gUHJvamVjdAoJCQkJdGhpcy5idWRnZXQucHJvamVjdF91dWlkID0gdGhpcy5wcm9qZWN0LmlkOwoKCQkJCS8vIExpbmVzCgkJCQlsZXQgbGluZXMgPSBbXTsKCQkJCXRoaXMuYnVkZ2V0TGluZURTLmRhdGEoKS5mb3JFYWNoKHZhbHVlID0+IHsKCQkJCQkJLy8gQWRkIGFjY291bnQgbGluZSB3aXRoIGFtb3VudCBub3QgMAoJCQkJCQlpZih2YWx1ZS5hbW91bnQgIT09IDApewoJCQkJCQkJCS8qIEFwcGx5IE5hdHVyZSAqLwoJCQkJCQkJCWlmKHZhbHVlLmFjY291bnQuYWNjb3VudF90eXBlLm5hdHVyZS50b0xvd2VyQ2FzZSgpID09PSAiY3IiKXsKCQkJCQkJCQkJCS8qIEFtb3VudCAqLwoJCQkJCQkJCQkJdmFsdWUuYW1vdW50ID0gdmFsdWUuYW1vdW50ICogLTE7CgoJCQkJCQkJCQkJLyogTW9udGhseSBBbW91bnQgKi8KCQkJCQkJCQkJCXZhbHVlLm1vbnRobHlfYW1vdW50LmZvckVhY2goZWxlID0+IHsKCQkJCQkJCQkJCQkJZWxlLmFtb3VudCA9IGVsZS5hbW91bnQgKiAtMTsKCQkJCQkJCQkJCX0pOwoJCQkJCQkJCX0KCgkJCQkJCQkJbGluZXMucHVzaChuZXcgQnVkZ2V0TGluZU1vZGVsKHZhbHVlKSk7CgkJCQkJCX0KCQkJCX0pOwoJCQkJdGhpcy5idWRnZXQubGluZXMgPSBsaW5lczsKCgkJCQkvLyBVc2VyCgkJCQlpZiAodGhpcy5pc0VkaXQpIHsKCQkJCQkJdGhpcy5idWRnZXQubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXI7CgkJCQl9IGVsc2UgewoJCQkJCQl0aGlzLmJ1ZGdldC5jcmVhdGVkX2J5ID0gdGhpcy51c2VyOwoJCQkJfQoJCX0sCgkJLy8gVmFsaWRhdGluZwoJCXZhbGlkYXRlRm9ybSgpIHsKCQkJbGV0IHJlc3VsdCA9IHRydWUsCgkJCQltc2cgPSAiIjsKCgkJCS8vIE5hbWUKCQkJaWYodGhpcy5idWRnZXQubmFtZSA9PT0gJycpewoJCQkJbXNnICs9IGA8cD4ke2kxOG4udCgibmFtZV9pc19yZXF1aXJlZCIpfTwvcD5gOwoJCQkJcmVzdWx0ID0gZmFsc2U7CgkJCX0KCgkJCS8vIFByb2plY3QKCQkJaWYodGhpcy5wcm9qZWN0LmlkID09PSAnJyl7CgkJCQltc2cgKz0gYDxwPiR7aTE4bi50KCJwcm9qZWN0X2lzX3JlcXVpcmVkIil9PC9wPmA7CgkJCQlyZXN1bHQgPSBmYWxzZTsKCQkJfQoKCQkJLy8gRmlzY2FsIERhdGUKCQkJaWYodGhpcy5idWRnZXQuZmlzY2FsX3llYXIuaWQgPT09ICcnKXsKCQkJCW1zZyArPSBgPHA+JHtpMThuLnQoImZpc2NhbF9kYXRlX2lzX3JlcXVpcmVkIil9PC9wPmA7CgkJCQlyZXN1bHQgPSBmYWxzZTsKCQkJfQoKCQkJLy8gQW1vdW50CgkJCWxldCBoYXNaZXJvQW1vdW50ID0gdHJ1ZTsKCQkJdGhpcy5idWRnZXRMaW5lRFMuZGF0YSgpLmZvckVhY2godmFsdWUgPT4gewoJCQkJaWYodmFsdWUuYW1vdW50ICE9PSAwICl7CgkJCQkJaGFzWmVyb0Ftb3VudCA9IGZhbHNlOwoKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0pOwoJCQlpZihoYXNaZXJvQW1vdW50KXsKCQkJCW1zZyArPSBgPHA+JHtpMThuLnQoInBsZWFzZV9lbnRlcl9hbW91bnQiKX08L3A+YDsKCQkJCXJlc3VsdCA9IGZhbHNlOwoJCQl9CgoJCQkvLyBTaG93IEFsZXJ0CgkJCXRoaXMuZXJyb3JNZXNzYWdlID0gbXNnOwoJCQl0aGlzLmFsZXJ0ID0gZmFsc2U7CgkJCWlmIChyZXN1bHQgPT09IGZhbHNlKSB7CgkJCQl0aGlzLmFsZXJ0ID0gdHJ1ZTsKCQkJfQoKCQkJcmV0dXJuIHJlc3VsdDsKCQl9LAoJCS8vIEFsbCBTYXZlcwoJCWFzeW5jIG9uU2F2ZU9wdGlvbkNsaWNrKG1vZGUpIHsKCQkJCWlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSAmJiB0aGlzLnZhbGlkYXRlRm9ybSgpKSB7CgkJCQkJCXRoaXMuc2F2ZU1vZGUgPSBtb2RlOwoJCQkJCQl0aGlzLnNhdmUoKTsKCQkJCX0KCQl9LAoJCWNhbmNlbCgpIHsKCQkJdGhpcy4kc3dhbCh7CgkJCQl0aXRsZTogaTE4bi50KCdtc2dfdGl0bGVfd2FybmluZycpLAoJCQkJdGV4dDogaTE4bi50KCdtc2dfZGlzY2FyZCcpLAoJCQkJaWNvbjogIndhcm5pbmciLAoJCQkJc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKCQkJCWNhbmNlbEJ1dHRvblRleHQ6IGkxOG4udCgnY2FuY2VsJyksCgkJCQljb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKCQkJCWNhbmNlbEJ1dHRvbkNvbG9yOiAiI0VEMUEzQSIsCgkJCQljb25maXJtQnV0dG9uVGV4dDogaTE4bi50KCdkaXNjYXJkJyksCgkJCX0pLnRoZW4oKHJlc3VsdCkgPT4gewoJCQkJaWYgKHJlc3VsdC52YWx1ZSkgewoJCQkJCXRoaXMuY2xlYXIoKTsKCQkJCQl0aGlzLiRyb3V0ZXIuZ28oLTEpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCWNsZWFyKCkgewoJCQl0aGlzLmlzRWRpdCA9IGZhbHNlOwoJCQl0aGlzLnNhdmVNb2RlID0gJyc7CgoJCQl0aGlzLmJ1ZGdldCA9IG5ldyBCdWRnZXRNb2RlbCgpOwoJCQl0aGlzLnByb2plY3QgPSBuZXcgUHJvamVjdE1vZGVsKCksCgoJCQkvLyBEYXRhc291cmUKCQkJdGhpcy5idWRnZXRMaW5lRFMuZGF0YShbXSk7CgoJCQl0aGlzLnNldERlZmF1bHREYXRhKCk7CgkJfSwKCQlzYXZlKCkgewoJCQkJbGV0IHNlbGYgPSB0aGlzOwoKCQkJCS8vIFNocmluayBEYXRhCgkJCQl0aGlzLnNocmlua0RhdGEoKTsKCgkJCQkvLyBTeW5jIERhdGEKCQkJCXRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwoJCQkJYnVkZ2V0SGFuZGxlci5zYXZlKHRoaXMuYnVkZ2V0KQoJCQkJCS50aGVuKChyZXNwb25zZSkgPT4gewoJCQkJCQlpZiAocmVzcG9uc2UpIHsKCQkJCQkJCS8qIFVwZGF0ZSBWdWV4IERhdGEgKi8KCQkJCQkJCXRoaXMuJHN0b3JlLmRpc3BhdGNoKCdidWRnZXRzL3NhdmVCdWRnZXQnLCByZXNwb25zZS5kYXRhKTsKCgkJCQkJCQlzZWxmLnJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlKTsKCQkJCQkJfWVsc2V7CgkJCQkJCQl0aGlzLiRzbm90aWZ5LmVycm9yKGkxOG4udCgiZXJyb3Jfc29tZXRoaW5nX3dyb25nIikpOwoJCQkJCQl9CgkJCQkJfSkKCQkJCQkuY2F0Y2goKGVycm9yKSA9PiB7CgkJCQkJCXNlbGYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCQkJCQkJdGhpcy4kc25vdGlmeS5lcnJvcihlcnJvcik7CgkJCQkJfSkKCQkJCQkuZmluYWxseSgoKT0+ewoJCQkJCQlzZWxmLnNob3dMb2FkaW5nID0gZmFsc2U7CgkJCQkJfSk7CgkJfSwKCQkvLyBSZXNwb25zZSBTdGF0dXMKCQlyZXNwb25zZVN0YXR1cyhyZXNwb25zZSkgewoJCQlpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKCQkJCS8qIFNhdmUgQ2xvc2Ugb3IgRGVsZXRlIEFjdGlvbiAqLwoJCQkJaWYgKAoJCQkJCXRoaXMuc2F2ZU1vZGUgPT09IFNhdmVPcHRpb24uU0FWRUNMT1NFIHx8CgkJCQkJdGhpcy5zYXZlTW9kZSA9PT0gU2F2ZU9wdGlvbi5ERUxFVEUKCQkJCSkgewoJCQkJCWlmICh0aGlzLmlzRWRpdCkgewoJCQkJCQl0aGlzLiRyb3V0ZXIuZ28oLTEpOwoJCQkJCX0KCQkJCX0KCgkJCQkvKiBSZXNldCBEYXRhICovCgkJCQl0aGlzLmNsZWFyKCk7CgoJCQkJLyogQWxlcnQgU3VjY2VzcyAqLwoJCQkJdGhpcy4kc25vdGlmeS5zdWNjZXNzKGkxOG4udCgic3VjY2Vzc2Z1bCIpKTsKCQkJfSBlbHNlIHsKCQkJCS8qIEFsZXJ0IEVycm9yICovCgkJCQl0aGlzLiRzbm90aWZ5LmVycm9yKGkxOG4udCgiZXJyb3Jfc29tZXRoaW5nX3dyb25nIikpOwoJCQl9CgkJfSwKCQkvLyBPbiBSZXBvcmludCBMYW5ndWFnZSBDaGFuZ2VzCgkJb25SZXBvcnRpbmdMYW5ndWFnZUNoYW5nZXMoKSB7CgkJCQl0aGlzLmZpZWxkTmFtZSA9ICJhY2NvdW50Lm5hbWUiOwoJCQkJaWYodGhpcy5yZXBvcnRpbmdMYW5ndWFnZSA9PT0gImxvY2FsIil7CgkJCQkJCXRoaXMuZmllbGROYW1lID0gImFjY291bnQubG9jYWxfbmFtZSI7CgkJCQl9CgoJCQkJdGhpcy5nZW5lcmF0ZUNvbHVtbigpOwoJCX0sCgl9LAoJd2F0Y2g6IHsKCQlpbml0QnVkZ2V0OiAiaW5pdGlhbERhdGEiCgl9LAoJY29tcHV0ZWQ6IG1hcFN0YXRlKHsKCQlhY2NvdW50czogc3RhdGUgPT4gc3RhdGUuYWNjb3VudGluZy5hY2NvdW50cywKCQlzZWNvbmRhcnlBY2NvdW50czogc3RhdGUgPT4gc3RhdGUuYWNjb3VudGluZy5zZWNvbmRhcnlBY2NvdW50cywKCQlwcm9qZWN0czogc3RhdGUgPT4gc3RhdGUucHJvamVjdHMubGlzdCwKCX0pLAoJbW91bnRlZCAoKSB7CgkJLy8gSW5pdGlhbCBEYXRhCgkJdGhpcy5pbml0aWFsRGF0YSgpOwoJCXRoaXMuZ2VuZXJhdGVDb2x1bW4oKTsKCQl0aGlzLmluaXRpYWxUcmVlTGlzdCgpOwoKCQkvKiBEYXRhc291cmNlIGJpbmQgZnVuY3Rpb25zICovCgkJdGhpcy5idWRnZXRMaW5lRFMuYmluZCgiY2hhbmdlIiwgdGhpcy5vbkRhdGFTb3VyY2VDaGFuZ2VzKTsKCX0sCn07Cg=="},{"version":3,"sources":["ProjectBudget.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ProjectBudget.vue","sourceRoot":"src/views/budgeting/project_budget","sourcesContent":["<template>\n\t<v-app>\n\t\t<v-container>\n\t\t\t<v-row>\n\t\t\t\t\t<v-col cols=\"12\" sm=\"12\">\n\t\t\t\t\t\t\t<v-card\n\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\tdense\n\t\t\t\t\t\t\t\tclass=\"pa-4 no_border rounded-sm\"\n\t\t\t\t\t\t\t\tcolor=\"white\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n\t\t\t\t\t\t\t\t\t\t\t<v-card elevation=\"0\" class=\"pt-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h2 class=\"mb-0\">{{ $t(\"project_budget\") }}</h2>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-icon\n\t\t\t\t\t\t\t\t\t\t\t\t\tonclick=\"window.history.go(-1); return false;\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"cursor: pointer; color: #333; font-size: 40px;\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"float-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t>close\n\t\t\t\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<!-- Search -->\n\t\t\t\t\t\t\t\t\t\t\t<v-card\n\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"px-4 no_border pt-4 pb-3\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"grayBg\"\n\t\t\t\t\t\t\t\t\t\t\t\tmin-height=\"98px\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col md=\"6\" sm=\"4\" cols=\"12\" class=\"py-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"name\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"budget.name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:placeholder=\"$t('name')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col md=\"6\" sm=\"4\" cols=\"12\" class=\"py-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<app-reporting-language\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:initLanguage=\"reportingLanguage\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@emitLanguage=\"reportingLanguage = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"onReportingLanguageChanges\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col md=\"3\" sm=\"4\" cols=\"12\" class=\"py-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"fiscal_year\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<app-fiscal-date-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:initFiscalDate=\"budget.fiscal_year\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@emitFiscalDate=\"budget.fiscal_year = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col md=\"3\" sm=\"4\" cols=\"12\" class=\"py-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"project\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<app-project-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:initProject=\"project\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@emitProject=\"project = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col md=\"3\" sm=\"4\" cols=\"12\" class=\"pl-9 py-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text-capitalize  white--text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"confirmReload\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"load_account\") }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<!-- Dialog -->\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-dialog\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"dialog\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth=\"500\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-card-title class=\"text-h5 grey lighten-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ selectedRow.account.number }} - {{ selectedRow.account.name }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-card-title>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-card-text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-7\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"crossAmount\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-card-text>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-divider></v-divider>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-card-actions>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"dialog = false\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"applyAcrossAmount\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tEnter\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-card-actions>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-dialog>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t<!-- Tree List -->\n\t\t\t\t\t\t\t\t\t\t\t<v-card\n\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"rounded-0 mt-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"white\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin-height=\"98px\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"12\" cols=\"12\" class=\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- Tree List -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"budgetLineTreeList\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-row>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<LoadingMe\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"loading\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:isLoading=\"showLoading\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:myLoading=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:fullPage=\"true\" />\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-card-actions>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-alert\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"warning\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"alert\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdismissible\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span v-html=\"errorMessage\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-alert>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"black\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text-capitalize  white--text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"cancel\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ $t(\"cancel\") }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-spacer />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text-capitalize white--text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"onSaveOptionClick(SaveOption.SAVECLOSE)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"save_close\") }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-card-actions>\n\t\t\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t\t</v-form>\n\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t</v-col>\n\t\t\t</v-row>\n\t\t</v-container>\n\t</v-app>\n</template>\n\n<script>\nimport {i18n} from '@/i18n'\nimport kendo from \"@progress/kendo-ui\";\nimport Helper from \"@/helper.js\";\nimport BudgetModel from \"@/scripts/model/Budget.js\";\nimport BudgetLineModel from \"@/scripts/model/BudgetLine.js\";\nimport BudgetLineExtendedModel from \"@/scripts/model/BudgetLineExtended.js\";\nimport AccountModel from \"@/scripts/model/accounting/Account.js\";\nimport ProjectModel from \"@/scripts/model/Project.js\";\n\n/* Editor */\nimport NumberInputBoxEditor from \"@/scripts/kendo_editor/NumberInputBox\";\nimport AccountSecondaryEditor from \"@/scripts/kendo_editor/AccountSecondary\";\n\n/* Store */\nimport store from \"@/store\"\nconst institute = store.state.institute.institute\nimport { mapState } from 'vuex';\n\nconst budgetHandler = require(\"@/scripts/handler/workingcapital/budgetHandler.js\");\nconst { SaveOption } = require(\"@/scripts/default_setup/Collections\");\n\nexport default {\n\tname: \"ProjectBudget\",\n\tprops: {\n\t\tinitBudget: {\n\t\t\ttype: BudgetModel,\n\t\t},\n\t},\n\tcomponents: {\n\t\t\"LoadingMe\": () => import('@/components/Loading'),\n\t\t\"app-project-dropdownlist\": () => import('@/components/dropdownlist/Project'),\n\t\t\"app-fiscal-date-dropdownlist\": () => import('@/components/kendo_templates/FiscalDateDropDownList'),\n\t\t\"app-reporting-language\": () => import(\"@/components/kendo_templates/ReportingLanguageDropDownList\"),\n\t},\n\tdata: () => ({\n\t\t// Obj\n\t\tbudget: new BudgetModel(),\n\t\tbudgetLines: [],\n\t\tproject: new ProjectModel(),\n\t\tuser: Helper.getUser(),\n\t\t// Form validation\n\t\tvalid: true,\n\t\tisEdit: false,\n\t\talert: false,\n\t\terrorMessage: \"\",\n\t\tsaveMode: \"\",\n\t\tSaveOption: SaveOption,\n\t\t// Reporting Language\n\t\treportingLanguage: \"english\",\n\t\tfieldName : 'account.name',\n\t\t// LoadingMe\n\t\tshowLoading: false,\n\t\t/* Dialog */\n\t\tdialog: false,\n\t\tselectedRow: new BudgetLineExtendedModel(),\n\t\tcrossAmount: 0,\n\t\t/* Kendo */\n\t\tcolumns: [],\n\t\tbudgetLineDS : new kendo.data.TreeListDataSource({\n\t\t\t\tsort: [\n\t\t\t\t\t\t{ field: \"account.type_code\", dir: \"asc\" },\n\t\t\t\t\t\t{ field: \"number\", dir: \"asc\" },\n\t\t\t\t],\n\t\t\t\tschema: {\n\t\t\t\t\t\tmodel: {\n\t\t\t\t\t\t\t\tid: \"uuid\",\n\t\t\t\t\t\t\t\texpanded: true\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t}),\n\t}),\n\tmethods: {\n\t\t// Initial Data\n\t\tinitialData() {\n\t\t\t\tif(this.initBudget){ // Edit Mode\n\t\t\t\t\t\tthis.isEdit = true;\n\t\t\t\t\t\tthis.budget = this.initBudget;\n\t\t\t\t\t\tthis.bindData();\n\t\t\t\t}else{ // Brand New\n\t\t\t\t\t\tthis.isEdit = false;\n\t\t\t\t\t\tthis.setDefaultData();\n\t\t\t\t}\n\t\t},\n\t\t/* Initial Tree List */\n\t\tinitialTreeList(){\n\t\t\t\tkendo.jQuery(\"#budgetLineTreeList\").kendoTreeList({\n\t\t\t\t\t\tdataSource: new kendo.data.TreeListDataSource(),\n\t\t\t\t\t\tdataBound: this.onDataBound,\n\t\t\t\t\t\teditable: \"incell\",\n\t\t\t\t\t\tresizable: true,\n\t\t\t\t\t\tcolumnMenu: true,\n\t\t\t\t\t\tcolumns: this.columns,\n\t\t\t\t});\n\t\t},\n\t\t// Set default data\n\t\tsetDefaultData() {\n\t\t\t\tthis.budget = new BudgetModel({\n\t\t\t\t\t\tfiscal_year: institute.fiscalDate[0],\n\t\t\t\t});\n\t\t\t\t// this.setDefaultBudgetLine();\n\t\t},\n\t\t// Bind data for edit mode\n\t\tasync bindData() {\n\t\t\t/* Project */\n\t\t\tawait this.$store.dispatch('projects/getList');\n\t\t\tthis.project = new ProjectModel(this.projects.find(i => i.id === this.budget.project_uuid));\n\t\t\t\n\t\t\tthis.setDefaultBudgetLine();\n\t\t},\n\t\t/* Confirm Reload Accounts */\n\t\tconfirmReload() {\n\t\t\t\tif(this.budgetLineDS.total() === 0){\n\t\t\t\t\t\tthis.setDefaultBudgetLine();\n\t\t\t\t}else{\n\t\t\t\t\t\tthis.$swal({\n\t\t\t\t\t\t\t\ttitle: i18n.t('reload_data_?'),\n\t\t\t\t\t\t\t\ttext: i18n.t('this_will_reset_all_amount_to_zero'),\n\t\t\t\t\t\t\t\ticon: \"warning\",\n\t\t\t\t\t\t\t\tshowCancelButton: true,\n\t\t\t\t\t\t\t\tcancelButtonText: i18n.t('cancel'),\n\t\t\t\t\t\t\t\tconfirmButtonColor: \"#4d4848\",\n\t\t\t\t\t\t\t\tcancelButtonColor: \"#ED1A3A\",\n\t\t\t\t\t\t\t\tconfirmButtonText: i18n.t('reload'),\n\t\t\t\t\t\t}).then((result) => {\n\t\t\t\t\t\t\t\tif (result.value) {\n\t\t\t\t\t\t\t\t\t\tthis.setDefaultBudgetLine();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t},\n\t\t// Set Budget Lines\n\t\tasync setDefaultBudgetLine (){\n\t\t\t\tthis.showLoading = true;\n\n\t\t\t\t// Account\n\t\t\t\tawait this.$store.dispatch('accounting/getAccounts');\n\t\t\t\t\n\t\t\t\tlet g = {};\n\t\t\t\tthis.accounts.forEach(value => {\n\t\t\t\t\t\tif(value.account_type.number >= 32 && value.account_type.number <= 43){//Filter PL accounts 32 to 43\n\t\t\t\t\t\t\t\tlet account = value;\n\n\t\t\t\t\t\t\t\t/* GROUPING */\n\t\t\t\t\t\t\t\t/* Top Level Account Type */\n\t\t\t\t\t\t\t\tif(!g[account.type_code]){\n\t\t\t\t\t\t\t\t\t\tg[account.type_code] = new BudgetLineExtendedModel({\n\t\t\t\t\t\t\t\t\t\t\t\tuuid : account.type_code,\n\t\t\t\t\t\t\t\t\t\t\t\tnumber : account.type_code,\n\t\t\t\t\t\t\t\t\t\t\t\taccount_uuid : account.uuid,\n\t\t\t\t\t\t\t\t\t\t\t\taccount : account.account_type,\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* Parent Level */\n\t\t\t\t\t\t\t\tlet thisAccountParentId = \"\";\n\t\t\t\t\t\t\t\tif(account.hasOwnProperty(\"parent_account\")){\n\t\t\t\t\t\t\t\t\t\tlet currentParentAccount = new AccountModel(account.parent_account), counter = 0;\n\t\t\t\t\t\t\t\t\t\twhile (currentParentAccount.number !== \"\") {\n\t\t\t\t\t\t\t\t\t\t\t\t/* Get account by uuid or banhji_account_number */\n\t\t\t\t\t\t\t\t\t\t\t\tlet accountParent = new AccountModel();\n\t\t\t\t\t\t\t\t\t\t\t\tif(currentParentAccount.uuid !== \"\"){/* Get by uuid */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taccountParent = new AccountModel(this.accounts.find((item) => item.uuid === currentParentAccount.uuid));\n\t\t\t\t\t\t\t\t\t\t\t\t}else{/* Get by banhji_account_number because default data has no uuid */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(currentParentAccount.banhji_account_number !== \"\"){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taccountParent = new AccountModel(this.accounts.find((item) => item.banhji_account_number === currentParentAccount.banhji_account_number));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t/* Set This Account Parent Id */\n\t\t\t\t\t\t\t\t\t\t\t\tif(counter === 0){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthisAccountParentId = accountParent.uuid;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t/* Find Next Parent */\n\t\t\t\t\t\t\t\t\t\t\t\tlet nextParent = new AccountModel();\n\t\t\t\t\t\t\t\t\t\t\t\tif(accountParent.hasOwnProperty(\"parent_account\")){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet parentOfAccountParent = new AccountModel(accountParent.parent_account);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(parentOfAccountParent.number !== \"\"){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(parentOfAccountParent.uuid !== \"\"){/* Get by uuid */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnextParent = this.accounts.find((item) => item.uuid === parentOfAccountParent.uuid);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else{/* Get by banhji_account_number because default data has no uuid */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(parentOfAccountParent.banhji_account_number !== \"\"){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnextParent = this.accounts.find((item) => item.banhji_account_number === parentOfAccountParent.banhji_account_number);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t/* Set Parent Id */\n\t\t\t\t\t\t\t\t\t\t\t\tlet parentId = accountParent.type_code;\n\t\t\t\t\t\t\t\t\t\t\t\tnextParent = new AccountModel(nextParent);\n\t\t\t\t\t\t\t\t\t\t\t\tif(nextParent.number !== \"\"){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentId = nextParent.uuid;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* Set next parent account */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tObject.assign(currentParentAccount, nextParent);\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* Set loop to end */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentParentAccount.number = \"\";\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t/* Add Parent Level */\n\t\t\t\t\t\t\t\t\t\t\t\tif(!g[accountParent.uuid]){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tg[accountParent.uuid] = new BudgetLineExtendedModel({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuuid : accountParent.uuid,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taccount_uuid : accountParent.uuid,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnumber : accountParent.number,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentId : parentId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taccount : accountParent,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t/* Increase Counter By 1 */\n\t\t\t\t\t\t\t\t\t\t\t\tcounter++;\n\t\t\t\t\t\t\t\t\t\t}/* End While Loop */\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t/* Child Level */\n\t\t\t\t\t\t\t\tif(!g[account.uuid]){\n\t\t\t\t\t\t\t\t\t\tg[account.uuid] = new BudgetLineExtendedModel({\n\t\t\t\t\t\t\t\t\t\t\t\tuuid : account.uuid,\n\t\t\t\t\t\t\t\t\t\t\t\taccount_uuid : account.uuid,\n\t\t\t\t\t\t\t\t\t\t\t\tnumber : account.number,\n\t\t\t\t\t\t\t\t\t\t\t\taccount : account,\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* Set Parent Id Or Self Parent */\n\t\t\t\t\t\t\t\tif(thisAccountParentId !== \"\"){/* Child Level */\n\t\t\t\t\t\t\t\t\t\tg[account.uuid].parentId = thisAccountParentId;\n\t\t\t\t\t\t\t\t}else{/* Child As Parent */\n\t\t\t\t\t\t\t\t\t\tg[account.uuid].parentId = account.type_code; /* Self As Parent */\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// 12 months with amount\n\t\t\t\t\t\t\t\tfor (let i = 0; i < 12; i++) {\n\t\t\t\t\t\t\t\t\t\t// Set Month Of\n\t\t\t\t\t\t\t\t\t\tlet sdate = new Date(this.budget.fiscal_year.start_date);\n\t\t\t\t\t\t\t\t\t\tsdate.setMonth(sdate.getMonth() + i);\n\n\t\t\t\t\t\t\t\t\t\tg[account.uuid].monthly_amount.push({\n\t\t\t\t\t\t\t\t\t\t\t\tmonth_of : sdate.toISOString().substr(0, 7),\n\t\t\t\t\t\t\t\t\t\t\t\tamount : 0,\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* Matching Account */\n\t\t\t\t\t\t\t\tif(this.isEdit){\n\t\t\t\t\t\t\t\t\tlet bline = this.budget.lines.find((item) => item.account_uuid === value.uuid);\n\t\t\t\t\t\t\t\t\tif(bline){\n\t\t\t\t\t\t\t\t\t\t/* Reverse Nature */\n\t\t\t\t\t\t\t\t\t\tlet nature = 1; /* Default Naure is Dr = 1 */\n\t\t\t\t\t\t\t\t\t\tif(account.account_type.nature.toLowerCase() === \"cr\"){\n\t\t\t\t\t\t\t\t\t\t\tnature = -1;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tg[account.uuid].secondary_account = new AccountModel(this.secondaryAccounts.find((item) => item.uuid === bline.secondary_account_uuid));\n\t\t\t\t\t\t\t\t\t\tg[account.uuid].note = bline.note;\n\t\t\t\t\t\t\t\t\t\tg[account.uuid].amount = bline.amount * nature;\n\t\t\t\t\t\t\t\t\t\tg[account.uuid].monthly_amount = bline.monthly_amount;\n\t\t\t\t\t\t\t\t\t\tg[account.uuid].monthly_amount.forEach(ma => {\n\t\t\t\t\t\t\t\t\t\t\tma.amount = ma.amount * nature;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t/* Bind Budget Line */\n\t\t\t\tthis.budgetLineDS.data(Object.values(g));\n\n\t\t\t\t/* Set New Datasource */\n\t\t\t\tlet treeList = kendo.jQuery(\"#budgetLineTreeList\").data(\"kendoTreeList\");\n\t\t\t\ttreeList.setDataSource(this.budgetLineDS);\n\n\t\t\t\tthis.showLoading = false;\n\t\t},\n\t\t// Row Template\n\t\tnameTmpl(dataItem){\n\t\t\t\t/* Name in language */\n\t\t\t\tlet name = dataItem.account.name;\n\t\t\t\tif(this.reportingLanguage === \"local\"){\n\t\t\t\t\t\tname = dataItem.account.local_name;\n\t\t\t\t}\n\n\t\t\t\t/* Define result */\n\t\t\t\tlet result = `<span>${dataItem.number} - ${name}</span>`;\n\n\t\t\t\t// /* Top Level */\n\t\t\t\tif(dataItem.parentId === null){\n\t\t\t\t\t\tresult = `<span style='font-weight: bolder;'>${name}</span>`;\n\t\t\t\t}\n\n\t\t\t\t/* Parent Level */\n\t\t\t\tif(dataItem.hasChildren && dataItem.number.length > 3){\n\t\t\t\t\t\tresult = `<span style='font-weight: bolder;'>${dataItem.number} - ${name}</span>`;\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t},\n\t\tsecondaryAccountTmpl(dataItem) {\n\t\t\t\tlet result = \"\";\n\t\t\t\tif(dataItem.secondary_account.uuid !== ''){\n\t\t\t\t\t\tresult = `<span>${dataItem.secondary_account.number} - ${dataItem.secondary_account.name}</span>`;\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t},\n\t\tcopyAcross(e){\n\t\t\t\te.preventDefault();\n\n\t\t\t\tlet treeList = kendo.jQuery(\"#budgetLineTreeList\").data(\"kendoTreeList\");\n\t\t\t\tthis.selectedRow = treeList.dataItem(kendo.jQuery(e.target).closest(\"tr\"));\n\n\t\t\t\tthis.dialog = true;\n\t\t},\n\t\tapplyAcrossAmount(){\n\t\t\t\tthis.dialog = false;\n\n\t\t\t\tthis.selectedRow.monthly_amount.forEach(value => {\n\t\t\t\t\t\tvalue.amount = kendo.parseFloat(this.crossAmount);\n\t\t\t\t});\n\t\t\t\tthis.selectedRow.amount = kendo.parseFloat(this.crossAmount) * 12;\n\n\t\t\t\t/* Refresh */\n\t\t\t\tlet treeList = kendo.jQuery(\"#budgetLineTreeList\").data(\"kendoTreeList\");\n\t\t\t\ttreeList.refresh();\n\n\t\t\t\tthis.crossAmount = 0;\n\t\t},\n\t\tgenerateColumn() {\n\t\t\t\tlet headerAttributes = {\n\t\t\t\t\t\tclass: \"table-header-cell\",\n\t\t\t\t\t\tstyle: \"font-weight: bold;text-align: center;padding-right: 35px; font-size: 14px\",\n\t\t\t\t},\n\t\t\t\tattributes = {\n\t\t\t\t\t\tclass: \"table-cell\",\n\t\t\t\t\t\tstyle: \"text-align: right; font-size: 14px\",\n\t\t\t\t};\n\n\t\t\t\tlet columns = [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfield: this.fieldName,\n\t\t\t\t\t\t\t\ttitle: i18n.t(\"account\"),\n\t\t\t\t\t\t\t\ttemplate: this.nameTmpl,\n\t\t\t\t\t\t\t\teditable: ()=>{ return false },\n\t\t\t\t\t\t\t\twidth: 300,\n\t\t\t\t\t\t\t\theaderAttributes: headerAttributes,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfield: \"secondary_account\",\n\t\t\t\t\t\t\t\ttitle: i18n.t(\"secondary_account\"),\n\t\t\t\t\t\t\t\ttemplate: this.secondaryAccountTmpl,\n\t\t\t\t\t\t\t\teditor: AccountSecondaryEditor,\n\t\t\t\t\t\t\t\thidden: !this.$store.state.accounting.secondaryAccount,\n\t\t\t\t\t\t\t\teditable: (dataItem)=>{\n\t\t\t\t\t\t\t\t\t\treturn !dataItem.hasChildren;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\twidth: 300,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfield: \"note\",\n\t\t\t\t\t\t\t\ttitle: i18n.t(\"note\"),\n\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle: i18n.t(\"action\"),\n\t\t\t\t\t\t\t\tcommand: [{\n\t\t\t\t\t\t\t\t\t\tname: \"copycross\",\n\t\t\t\t\t\t\t\t\t\ttext: \"copy cross\",\n\t\t\t\t\t\t\t\t\t\tclick: this.copyAcross,\n\t\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\t\twidth: 150,\n\t\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t\t\n\t\t\t\t/* 12 Months */\n\t\t\t\tfor (let i = 0; i < 12; i++) {\n\t\t\t\t\t\tcolumns.push({\n\t\t\t\t\t\t\t\tfield: `monthly_amount[${i}].amount`,\n\t\t\t\t\t\t\t\tformat: \"{0:n}\",\n\t\t\t\t\t\t\t\teditor: NumberInputBoxEditor,\n\t\t\t\t\t\t\t\twidth: 150,\n\t\t\t\t\t\t\t\tattributes: attributes,\n\t\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t/* Total */\n\t\t\t\tcolumns.push({\n\t\t\t\t\t\tfield: \"amount\",\n\t\t\t\t\t\ttitle: i18n.t(\"total\"),\n\t\t\t\t\t\tformat: \"{0:n}\",\n\t\t\t\t\t\teditable: ()=>{return false},\n\t\t\t\t\t\twidth: 150,\n\t\t\t\t\t\tattributes: attributes,\n\t\t\t\t});\n\n\t\t\t\t/* Set All Columns */\n\t\t\t\tthis.columns = columns;\n\t\t},\n\t\t/* On databound */\n\t\tonDataBound (e) {\n\t\t\t/* Titles */\n\t\t\tlet treeList = kendo.jQuery(\"#budgetLineTreeList\").data(\"kendoTreeList\");\n\t\t\tif(this.budget.fiscal_year){\n\t\t\t\tlet fiscalMonths = Helper.generateFiscalMonths(this.budget.fiscal_year.start_date, this.budget.fiscal_year.end_date, \"12\");\n\t\t\t\tfor (let k = 0; k < 12; k++) {\n\t\t\t\t\tconst element = fiscalMonths[k];\n\t\t\t\t\ttreeList.thead.find(`[data-field~='monthly_amount[${k}].amount']`).html(element);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/* Headers */\n\t\t\tvar headers = e.sender.thead.children();\n\t\t\tfor (var i = 0; i < headers.length; i++) {\n\t\t\t\tvar th = kendo.jQuery(headers[i]);\n\t\t\t\tth.css(\"font-weight\", \"bold\");\n\t\t\t\tth.css(\"text-align\", \"center\");\n\t\t\t}\n\n\t\t\t/* Items */\n\t\t\tvar items = e.sender.items();\n\t\t\tfor (var j = 0; j < items.length; j++) {\n\t\t\t\tvar dataItem = e.sender.dataItem(items[j]);\n\t\t\t\tvar row = kendo.jQuery(items[j]);\n\n\t\t\t\t/* Parent in bold */\n\t\t\t\tif(dataItem.get(\"hasChildren\") || dataItem.get(\"parentId\") === null){\n\t\t\t\t\trow.find(\"[data-command='copycross']\").hide();\n\t\t\t\t\trow.css(\"font-weight\", \"bold\");\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// DataSource Changes\n\t\tonDataSourceChanges(e) {\n\t\t\tif (e.field) {\n\t\t\t\tlet dataRow = e.items[0];\n\n\t\t\t\tif (e.field === \"secondary_account\") {\n\t\t\t\t\t\tif (dataRow.secondary_account !== null) {\n\t\t\t\t\t\t\t\tdataRow.set(\"secondary_account_uuid\", dataRow.secondary_account.uuid);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Set default when deselect\n\t\t\t\t\t\t\t\tdataRow.set(\"secondary_account_uuid\", \"\");\n\t\t\t\t\t\t\t\tdataRow.set(\"secondary_account\", new AccountModel());\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\tthis.dataSourceAutoCalculate();\n\t\t},\n\t\t// Auto Calculate In DataSource\n\t\tdataSourceAutoCalculate() {\n\t\t\t\t// Sum Amount\n\t\t\t\tthis.budgetLineDS.data().forEach(value => {\n\t\t\t\t\t\tlet sumAmt = 0;\n\t\t\t\t\t\tvalue.monthly_amount.forEach(ele => {\n\t\t\t\t\t\t\t\tsumAmt += ele.amount;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvalue.set(\"amount\", sumAmt);\n\t\t\t\t});\n\t\t},\n\t\t// Shrink Data\n\t\tshrinkData() {\n\t\t\t\t// Project\n\t\t\t\tthis.budget.project_uuid = this.project.id;\n\n\t\t\t\t// Lines\n\t\t\t\tlet lines = [];\n\t\t\t\tthis.budgetLineDS.data().forEach(value => {\n\t\t\t\t\t\t// Add account line with amount not 0\n\t\t\t\t\t\tif(value.amount !== 0){\n\t\t\t\t\t\t\t\t/* Apply Nature */\n\t\t\t\t\t\t\t\tif(value.account.account_type.nature.toLowerCase() === \"cr\"){\n\t\t\t\t\t\t\t\t\t\t/* Amount */\n\t\t\t\t\t\t\t\t\t\tvalue.amount = value.amount * -1;\n\n\t\t\t\t\t\t\t\t\t\t/* Monthly Amount */\n\t\t\t\t\t\t\t\t\t\tvalue.monthly_amount.forEach(ele => {\n\t\t\t\t\t\t\t\t\t\t\t\tele.amount = ele.amount * -1;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tlines.push(new BudgetLineModel(value));\n\t\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.budget.lines = lines;\n\n\t\t\t\t// User\n\t\t\t\tif (this.isEdit) {\n\t\t\t\t\t\tthis.budget.modified_by = this.user;\n\t\t\t\t} else {\n\t\t\t\t\t\tthis.budget.created_by = this.user;\n\t\t\t\t}\n\t\t},\n\t\t// Validating\n\t\tvalidateForm() {\n\t\t\tlet result = true,\n\t\t\t\tmsg = \"\";\n\n\t\t\t// Name\n\t\t\tif(this.budget.name === ''){\n\t\t\t\tmsg += `<p>${i18n.t(\"name_is_required\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Project\n\t\t\tif(this.project.id === ''){\n\t\t\t\tmsg += `<p>${i18n.t(\"project_is_required\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Fiscal Date\n\t\t\tif(this.budget.fiscal_year.id === ''){\n\t\t\t\tmsg += `<p>${i18n.t(\"fiscal_date_is_required\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Amount\n\t\t\tlet hasZeroAmount = true;\n\t\t\tthis.budgetLineDS.data().forEach(value => {\n\t\t\t\tif(value.amount !== 0 ){\n\t\t\t\t\thasZeroAmount = false;\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(hasZeroAmount){\n\t\t\t\tmsg += `<p>${i18n.t(\"please_enter_amount\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Show Alert\n\t\t\tthis.errorMessage = msg;\n\t\t\tthis.alert = false;\n\t\t\tif (result === false) {\n\t\t\t\tthis.alert = true;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\t// All Saves\n\t\tasync onSaveOptionClick(mode) {\n\t\t\t\tif (this.$refs.form.validate() && this.validateForm()) {\n\t\t\t\t\t\tthis.saveMode = mode;\n\t\t\t\t\t\tthis.save();\n\t\t\t\t}\n\t\t},\n\t\tcancel() {\n\t\t\tthis.$swal({\n\t\t\t\ttitle: i18n.t('msg_title_warning'),\n\t\t\t\ttext: i18n.t('msg_discard'),\n\t\t\t\ticon: \"warning\",\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tcancelButtonText: i18n.t('cancel'),\n\t\t\t\tconfirmButtonColor: \"#4d4848\",\n\t\t\t\tcancelButtonColor: \"#ED1A3A\",\n\t\t\t\tconfirmButtonText: i18n.t('discard'),\n\t\t\t}).then((result) => {\n\t\t\t\tif (result.value) {\n\t\t\t\t\tthis.clear();\n\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tclear() {\n\t\t\tthis.isEdit = false;\n\t\t\tthis.saveMode = '';\n\n\t\t\tthis.budget = new BudgetModel();\n\t\t\tthis.project = new ProjectModel(),\n\n\t\t\t// Datasoure\n\t\t\tthis.budgetLineDS.data([]);\n\n\t\t\tthis.setDefaultData();\n\t\t},\n\t\tsave() {\n\t\t\t\tlet self = this;\n\n\t\t\t\t// Shrink Data\n\t\t\t\tthis.shrinkData();\n\n\t\t\t\t// Sync Data\n\t\t\t\tthis.showLoading = true;\n\t\t\t\tbudgetHandler.save(this.budget)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tif (response) {\n\t\t\t\t\t\t\t/* Update Vuex Data */\n\t\t\t\t\t\t\tthis.$store.dispatch('budgets/saveBudget', response.data);\n\n\t\t\t\t\t\t\tself.responseStatus(response);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$snotify.error(i18n.t(\"error_something_wrong\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tself.showLoading = false;\n\t\t\t\t\t\tthis.$snotify.error(error);\n\t\t\t\t\t})\n\t\t\t\t\t.finally(()=>{\n\t\t\t\t\t\tself.showLoading = false;\n\t\t\t\t\t});\n\t\t},\n\t\t// Response Status\n\t\tresponseStatus(response) {\n\t\t\tif (response.status === 200) {\n\t\t\t\t/* Save Close or Delete Action */\n\t\t\t\tif (\n\t\t\t\t\tthis.saveMode === SaveOption.SAVECLOSE ||\n\t\t\t\t\tthis.saveMode === SaveOption.DELETE\n\t\t\t\t) {\n\t\t\t\t\tif (this.isEdit) {\n\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* Reset Data */\n\t\t\t\tthis.clear();\n\n\t\t\t\t/* Alert Success */\n\t\t\t\tthis.$snotify.success(i18n.t(\"successful\"));\n\t\t\t} else {\n\t\t\t\t/* Alert Error */\n\t\t\t\tthis.$snotify.error(i18n.t(\"error_something_wrong\"));\n\t\t\t}\n\t\t},\n\t\t// On Reporint Language Changes\n\t\tonReportingLanguageChanges() {\n\t\t\t\tthis.fieldName = \"account.name\";\n\t\t\t\tif(this.reportingLanguage === \"local\"){\n\t\t\t\t\t\tthis.fieldName = \"account.local_name\";\n\t\t\t\t}\n\n\t\t\t\tthis.generateColumn();\n\t\t},\n\t},\n\twatch: {\n\t\tinitBudget: \"initialData\"\n\t},\n\tcomputed: mapState({\n\t\taccounts: state => state.accounting.accounts,\n\t\tsecondaryAccounts: state => state.accounting.secondaryAccounts,\n\t\tprojects: state => state.projects.list,\n\t}),\n\tmounted () {\n\t\t// Initial Data\n\t\tthis.initialData();\n\t\tthis.generateColumn();\n\t\tthis.initialTreeList();\n\n\t\t/* Datasource bind functions */\n\t\tthis.budgetLineDS.bind(\"change\", this.onDataSourceChanges);\n\t},\n};\n</script>\n\n<style scoped>\n.function_content {\n\t\tpadding: 0 25px 25px;\n\t\tborder-bottom: 0;\n\t\tbackground-color: #fff !important;\n}\n\n@media (min-width: 1264px) {\n\t\t.container {\n\t\t\t\tmax-width: 1185px;\n\t\t\t\t/* max-width: 1080px !important; */\n\t\t}\n}\n\n.grayBg {\n\t\tbackground-color: #F8F8F9;\n}\n\n@media (max-width: 576px) {\n\t\t.mb-6 {\n\t\t\t\tmargin-bottom: 0 !important;\n\t\t}\n}\n\n.section2 {\n\t\tborder: 1px solid #d6d7d8;\n}\n\n.border_grey {\n\t\tborder: 1px solid #d6d7d8;\n}\n\n.attachment_table {\n\t\twidth: 100%;\n}\n\n.greyDark {\n\t\tbackground-color: #f2f2f2;\n}\n\n.upload_btn {\n\t\twidth: 54%;\n\t\tmargin: auto;\n\t\tpadding: 10px 6px;\n\t\ttext-align: center;\n\t\tcolor: #ffff;\n\t\tborder-radius: 22px;\n\t\tbackground: #92d050;\n}\n\n.my_box_min_heihgt {\n\t\theight: 295px;\n}\n\n.width_100 {\n\t\twidth: 100px;\n}\n.v-data-table.simple_table.theme--light{\n\t\tborder-top: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n.v-data-table.simple_table > .v-data-table__wrapper > table > tbody > tr > td {\n\t\theight: 32px !important;\n\t\tborder-bottom: thin solid rgba(0, 0, 0, 0.12) !important;\n\t\tborder-right: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n.theme--light.v-data-table.simple_table > .v-data-table__wrapper > table > thead > tr > th{\n\t\tborder-bottom: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n.theme--light.v-data-table.simple_table > .v-data-table__wrapper > table > thead > tr:last-child > th{\n\t\tborder-right: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n.theme--light.v-data-table.simple_table > .v-data-table__wrapper > table > thead > tr > th:last-child,\n.v-data-table.simple_table > .v-data-table__wrapper > table > tbody > tr > td:last-child{\n\t\tborder-right: none !important;\n}\n.theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n\t\tbackground-color: transparent !important;\n}\n\n.primary--text.text-left.v-btn:hover,\n.theme--light.v-btn:hover::before{\n\t\tbackground: none !important;\n}\n</style>\n"]}]}