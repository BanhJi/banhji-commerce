{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/banking/CashTransactions.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/banking/CashTransactions.vue","mtime":1638499443118},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgICBpbXBvcnQge2kxOG59IGZyb20gJ0AvaTE4bic7CglpbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKCWltcG9ydCBIZWxwZXIgZnJvbSAiQC9oZWxwZXIuanMiOwoJaW1wb3J0IHsKCQlKb3VybmFsTW9kZWwsCgkJSm91cm5hbEVudHJ5TW9kZWwsCgkJQ3VycmVuY3lNb2RlbCwKCQlFeGNoYW5nZVJhdGVNb2RlbCwKCQlBY2NvdW50TW9kZWwsCgl9IGZyb20gIkAvc2NyaXB0cy9tb2RlbC9BcHBNb2RlbHMiOwoKCWNvbnN0ICQgPSByZXF1aXJlKCJqcXVlcnkiKTsKCQoJLyogU3RvcmUgKi8KCWltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIgoJY29uc3QgaW5zdGl0dXRlID0gc3RvcmUuc3RhdGUuaW5zdGl0dXRlLmluc3RpdHV0ZQoKCWNvbnN0IHsKCQlhY2NvdW50SGFuZGxlciwKCQlqb3VybmFsSGFuZGxlciwKCQliYW5rQWNjb3VudEhhbmRsZXIsCgl9ID0gcmVxdWlyZSgiQC9zY3JpcHRzL0FwcEhhbmRsZXJzIik7Cgljb25zdCB7IEVudGl0eVR5cGUsIFNhdmVPcHRpb24gfSA9IHJlcXVpcmUoIkAvc2NyaXB0cy9kZWZhdWx0X3NldHVwL0NvbGxlY3Rpb25zIik7CgogICAgZXhwb3J0IGRlZmF1bHQgewogICAgICAgIG5hbWU6ICJDYXNoVHJhbnNhY3Rpb24iLAogICAgICAgIGNvbXBvbmVudHM6ewoJCQkiTG9hZGluZ01lIjogKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvTG9hZGluZycpLAoJCQkiYXBwLWRhdGVwaWNrZXIiOiAoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL0RhdGVQaWNrZXJDb21wb25lbnQnKSwKCQkJImFwcC1jdXJyZW5jeS1kcm9wZG93bmxpc3QiOiAoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvQ3VycmVuY3knKSwKCQl9LAoJCXByb3BzOiB7CgkJCWluaXRKb3VybmFsOiB7CgkJCQl0eXBlOiBKb3VybmFsTW9kZWwKCQkJfSwKCQl9LAoJCWRhdGE6ICgpID0+ICh7CgkJCS8qIE9iaiAqLwoJCQlqb3VybmFsOiBuZXcgSm91cm5hbE1vZGVsKCksCgkJCWN1cnJlbmN5CQk6IG5ldyBDdXJyZW5jeU1vZGVsKGluc3RpdHV0ZS5iYXNlQ3VycmVuY3kpLAoJCQlleGNoYW5nZVJhdGUJOiBuZXcgRXhjaGFuZ2VSYXRlTW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSksCgkJCWpvdXJuYWxFbnRyaWVzOiBbXSwKCQkJZnJvbUFjY291bnRFbnRyaWVzIDogW10sCgkJCXRvQWNjb3VudEVudHJpZXMgICA6IFtdLAoJCQkvLyBBY2NvdW50cwoJCQlhY2NvdW50czogW10sCgkJCWZyb21BY2NvdW50czogW10sCgkJCXRvQWNjb3VudHM6IFtdLAoJCQkvLyBCYW5rcwoJCQl1c2VGcm9tQmFuayAJOiBmYWxzZSwKCQkJdXNlVG9CYW5rIAkJOiBmYWxzZSwKCQkJYmFua0FjY291bnRzIAk6IFtdLAoJCQlmcm9tQmFua0lkIAkJOiAnJywKCQkJdG9CYW5rSWQgCQk6ICcnLAoJCQljYXNoVHJhbnNhY3Rpb25UeXBlczogRW50aXR5VHlwZS5DQVNIX1RSQU5TQUNUSU9OX1RZUEVTLAoJCQkvLyBPdGhlcgoJCQl0b3RhbEZyb20gICAgICAgOiAwLAoJCQl0b3RhbFRvICAgICAgICAgOiAwLAoJCQl0ZW1wbGF0ZXM6IFtdLAoJCQl1c2VyOiBIZWxwZXIuZ2V0VXNlcigpLAoJCQkvLyBGb3JtIHZhbGlkYXRpb24KCQkJdmFsaWQ6IHRydWUsCgkJCWlzRWRpdDogZmFsc2UsCgkJCWFsZXJ0OiBmYWxzZSwKCQkJZXJyb3JNZXNzYWdlOiAiIiwKCQkJc2F2ZU1vZGU6ICIiLAoJCQlTYXZlT3B0aW9uOiBTYXZlT3B0aW9uLAoJCQkvLyBMb2FkaW5nTWUKCQkJc2hvd0xvYWRpbmc6IGZhbHNlLAoJCQlsb2FkaW5nQWxlcnQ6IGZhbHNlLAoJCQlsb2FkaW5nQ29sb3JBbGVydDogIiIsCgkJCWxvYWRpbmdUZXh0QWxlcnQ6ICIiLAogICAgICAgIH0pLAogICAgICAgIG1ldGhvZHM6ICB7CgkJCS8vIEluaXRpYWwgRGF0YQoJCQlpbml0aWFsRGF0YSgpewoJCQkJaWYodGhpcy5pbml0Sm91cm5hbCl7Ly8gRWRpdCBNb2RlCgkJCQkJdGhpcy5qb3VybmFsID0gdGhpcy5pbml0Sm91cm5hbDsKCQkJCQl0aGlzLmJpbmREYXRhKCk7CgkJCQl9ZWxzZXsvLyBCcmFuZCBOZXcgTW9kZQoJCQkJCXRoaXMuc2V0RGVmYXVsdERhdGEoKTsKCQkJCX0KCQkJfSwKCQkJLy8gU2V0IGRlZmF1bHQgZGF0YQoJCQlzZXREZWZhdWx0RGF0YSAoKSB7CgkJCQkvLyBCcmFuZCBOZXcgTW9kZQoJCQkJdGhpcy5pc0VkaXQgPSBmYWxzZTsKCgkJCQl0aGlzLmpvdXJuYWwgPSBuZXcgSm91cm5hbE1vZGVsKHsKCQkJCQlqb3VybmFsX3R5cGU6IEVudGl0eVR5cGUuQVVUT19KT1VSTkFMLAoJCQkJCXRyYW5zYWN0aW9uX3R5cGU6IEVudGl0eVR5cGUuQ0FTSF9UUkFOU0FDVElPTl9UWVBFU1swXS52YWx1ZSwKCQkJCQlqb3VybmFsX2RhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAoJCQkJfSk7CgoJCQkJLy8gR2VuZXJhdGUgTnVtYmVyCgkJCQl0aGlzLmdlbmVyYXRlTnVtYmVyKCk7CgoJCQkJLy8gQWRkIHR3byBkZWZhdWx0IHJvd3MKCQkJCWZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAyOyBpbmRleCsrKSB7CgkJCQkJdGhpcy5hZGRSb3dGcm9tKCk7CgkJCQkJdGhpcy5hZGRSb3dUbygpOwoJCQkJfQoJCQl9LAoJCQkvLyBCaW5kIGRhdGEgZnJvbSBwcm9wIGZvciBlZGl0IG1vZGUKCQkJYmluZERhdGEoKSB7CgkJCQkvLyBFZGl0IE1vZGUKCQkJCXRoaXMuaXNFZGl0ID0gdHJ1ZTsKCgkJCQkvLyBDdXJyZW5jeQoJCQkJdGhpcy5jdXJyZW5jeSA9IG5ldyBDdXJyZW5jeU1vZGVsKHRoaXMuam91cm5hbC5qb3VybmFsX2VudHJpZXNbMF0uY3VycmVuY3kpOwoJCQkJdGhpcy5leGNoYW5nZVJhdGUgPSBuZXcgRXhjaGFuZ2VSYXRlTW9kZWwodGhpcy5qb3VybmFsLmpvdXJuYWxfZW50cmllc1swXS5jdXJyZW5jeSk7CgkJCQl0aGlzLmV4Y2hhbmdlUmF0ZS5pZCA9IHRoaXMuam91cm5hbC5qb3VybmFsX2VudHJpZXNbMF0uZXhjaGFuZ2VfcmF0ZV91dWlkOwoJCQkJdGhpcy5leGNoYW5nZVJhdGUucmF0ZSA9IHRoaXMuam91cm5hbC5qb3VybmFsX2VudHJpZXNbMF0uZXhjaGFuZ2VfcmF0ZTsKCgkJCQlsZXQgdG90YWxGcm9tID0gMCwKCQkJCQl0b3RhbFRvID0gMCwKCQkJCQlmcm9tRW50cmllcyA9IFtdLAoJCQkJCXRvRW50cmllcyA9IFtdOwoKCQkJCXRoaXMuam91cm5hbC5qb3VybmFsX2VudHJpZXMuZm9yRWFjaCh2YWx1ZSA9PiB7CgkJCQkJbGV0IGplID0gbmV3IEpvdXJuYWxFbnRyeU1vZGVsKHZhbHVlKTsKCgkJCQkJaWYodmFsdWUuYW1vdW50ID4gMCl7Ly8gRHIgc2lkZQoJCQkJCQlmcm9tRW50cmllcy5wdXNoKGplKTsKCQkJCQkJdG90YWxGcm9tICs9IHZhbHVlLmFtb3VudDsKCQkJCQl9ZWxzZXsvLyBDciBzaWRlCgkJCQkJCWplLmFtb3VudCA9IE1hdGguYWJzKHZhbHVlLmFtb3VudCk7CgkJCQkJCXRvRW50cmllcy5wdXNoKGplKTsKCQkJCQkJdG90YWxUbyArPSBqZS5hbW91bnQ7CgkJCQkJfQoJCQkJfSk7CgkJCQl0aGlzLnRvdGFsRnJvbSA9IHRvdGFsRnJvbTsKCQkJCXRoaXMudG90YWxUbyA9IHRvdGFsVG87CgkJCQl0aGlzLmZyb21BY2NvdW50RW50cmllcyA9IGZyb21FbnRyaWVzOwoJCQkJdGhpcy50b0FjY291bnRFbnRyaWVzID0gdG9FbnRyaWVzOwoJCQl9LAoJCQkvLyBOdW1iZXIKCQkJYXN5bmMgZ2VuZXJhdGVOdW1iZXIoKSB7CgkJCQlpZighdGhpcy5pc0VkaXQpewoJCQkJCWxldCBudW0gPSBhd2FpdCBIZWxwZXIuZ2VuZXJhdGVBY2NvdW50aW5nTnVtYmVyKHRoaXMuam91cm5hbC50cmFuc2FjdGlvbl90eXBlLCB0aGlzLmpvdXJuYWwuam91cm5hbF9kYXRlKTsKCQkJCQkKCQkJCQl0aGlzLmpvdXJuYWwubnVtYmVyID0gbnVtLm51bWJlcjsKCQkJCQl0aGlzLmpvdXJuYWwucHJlZml4X2Zvcm1hdCA9IG51bS5wcmVmaXhfZm9ybWF0OwoJCQkJfQogICAgICAgICAgICB9LAoJCQkvLyBHZXQgRXhjaGFuZ2UgUmF0ZQoJCQlhc3luYyBnZXRFeGNoYW5nZVJhdGUoKSB7CgkJCQlpZih0aGlzLmpvdXJuYWwuam91cm5hbF9kYXRlICYmIHRoaXMuY3VycmVuY3kuY29kZSAhPT0gJycpewoJCQkJCXRoaXMuZXhjaGFuZ2VSYXRlID0gYXdhaXQgSGVscGVyLmdldExhc3RFeGNoYW5nZVJhdGVCeURhdGUodGhpcy5qb3VybmFsLmpvdXJuYWxfZGF0ZSwgdGhpcy5jdXJyZW5jeS5jb2RlKTsKCQkJCX1lbHNlewoJCQkJCXRoaXMuZXhjaGFuZ2VSYXRlID0gbmV3IEV4Y2hhbmdlUmF0ZU1vZGVsKGluc3RpdHV0ZS5iYXNlQ3VycmVuY3kpOwoJCQkJfQoJCQl9LAoJCQkvKiBLZW5kbyAqLwoJCQkvLyBEYXRhU291cmNlIENoYW5nZXMKCQkJb25Gcm9tRFNDaGFuZ2VzIChlKSB7CgkJCQlpZihlLmZpZWxkKXsKCQkJCQlsZXQgZGF0YVJvdyA9IGUuaXRlbXNbMF07CgoJCQkJCWlmIChlLmZpZWxkID09PSAiYWNjb3VudCIpIHsKCQkJCQkJdGhpcy5hZGRFeHRyYVJvd0Zyb20oZGF0YVJvdy51aWQpOwoJCQkJCX0KCgkJCQkJdGhpcy5kYXRhU291cmNlQXV0b0NhbGN1bGF0ZSgpOwoJCQkJfQoJCQl9LAoJCQlvblRvRFNDaGFuZ2VzIChlKSB7CgkJCQlpZihlLmZpZWxkKXsKCQkJCQlsZXQgZGF0YVJvdyA9IGUuaXRlbXNbMF07CgkJCQkJCgkJCQkJaWYgKGUuZmllbGQgPT09ICJhY2NvdW50IikgewoJCQkJCQl0aGlzLmFkZEV4dHJhUm93VG8oZGF0YVJvdy51aWQpOwoJCQkJCX0KCgkJCQkJdGhpcy5kYXRhU291cmNlQXV0b0NhbGN1bGF0ZSgpOwoJCQkJfQoJCQl9LAoJCQkvLyBHcmlkIEN1c3RvbSBFZGl0b3IKCQkJZnJvbUFjY291bnRFZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CgkJCQlyZXR1cm4gSGVscGVyLmFjY291bnRFZGl0b3IoY29udGFpbmVyLCBvcHRpb25zLCB0aGlzLmZyb21BY2NvdW50cyk7CgkJCX0sCgkJCXRvQWNjb3VudEVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpIHsKCQkJCXJldHVybiBIZWxwZXIuYWNjb3VudEVkaXRvcihjb250YWluZXIsIG9wdGlvbnMsIHRoaXMudG9BY2NvdW50cyk7CgkJCX0sCgkJCS8vIEF1dG8gQ2FsY3VsYXRlIEluIERhdGFTb3VyY2UKCQkJZGF0YVNvdXJjZUF1dG9DYWxjdWxhdGUgKCkgewoJCQkJbGV0IGZyb21EUyA9IHRoaXMuJHJlZnMuZnJvbURTLmtlbmRvV2lkZ2V0KCksCgkJCQkJdG9EUyA9IHRoaXMuJHJlZnMudG9EUy5rZW5kb1dpZGdldCgpLAoJCQkJCXRvdGFsRnJvbSA9IDAsIHRvdGFsVG8gPSAwOwoJCQkJCgkJCQkvLyBTdW0KCQkJCWZyb21EUy5kYXRhKCkuZm9yRWFjaCh2YWx1ZSA9PiB7CgkJCQkJdG90YWxGcm9tICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KQoJCQkJfSkKCQkJCXRvRFMuZGF0YSgpLmZvckVhY2godmFsdWUgPT4gewoJCQkJCXRvdGFsVG8gKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQpCgkJCQl9KQoKCQkJCXRoaXMudG90YWxGcm9tID0gdG90YWxGcm9tOwoJCQkJdGhpcy50b3RhbFRvID0gdG90YWxUbzsKCQkJfSwKCQkJLy8gUm93IE51bWJlciBUZW1wbGF0ZQoJCQlyb3dOdW1iZXJUbXBsRnJvbSAoZGF0YUl0ZW0pIHsKCQkJCWxldCBkcyA9IHRoaXMuJHJlZnMuZnJvbURTLmtlbmRvV2lkZ2V0KCksCgkJCQkJaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKCgkJCQlyZXR1cm4gaW5kZXggKyAxOwogICAgICAgICAgICB9LAogICAgICAgICAgICByb3dOdW1iZXJUbXBsVG8gKGRhdGFJdGVtKSB7CgkJCQlsZXQgZHMgPSB0aGlzLiRyZWZzLnRvRFMua2VuZG9XaWRnZXQoKSwKCQkJCQlpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwoKCQkJCXJldHVybiBpbmRleCArIDE7CgkJCX0sCgkJCS8vIEFkZCBOZXcgUm93CgkJCWFkZFJvd0Zyb20gKCkgewoJCQkJbGV0IGRzID0gdGhpcy4kcmVmcy5mcm9tRFMua2VuZG9XaWRnZXQoKSwKCQkJCQlsYXN0ID0gZHMudG90YWwoKSwKCQkJCQlqZSA9IG5ldyBKb3VybmFsRW50cnlNb2RlbCgpOwoKCQkJCWRzLmluc2VydChsYXN0LCBqZSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFkZFJvd1RvICgpIHsKCQkJCWxldCBkcyA9IHRoaXMuJHJlZnMudG9EUy5rZW5kb1dpZGdldCgpLAoJCQkJCWxhc3QgPSBkcy50b3RhbCgpLAoJCQkJCWplID0gbmV3IEpvdXJuYWxFbnRyeU1vZGVsKCk7CgoJCQkJZHMuaW5zZXJ0KGxhc3QsIGplKTsKCQkJfSwKCQkJLy8gQWRkIEV4dHJhIFJvdwoJCQlhZGRFeHRyYVJvd0Zyb20gKHVpZCkgewoJCQkJbGV0IGRzID0gdGhpcy4kcmVmcy5mcm9tRFMua2VuZG9XaWRnZXQoKSwKCQkJCQl0b3RhbCA9IGRzLnRvdGFsKCksCgkJCQkJcm93ID0gZHMuZ2V0QnlVaWQodWlkKSwKCQkJCQlpbmRleCA9IGRzLmluZGV4T2Yocm93KTsKCgkJCQlpZihpbmRleCA9PSB0b3RhbCAtIDEpewoJCQkJCXRoaXMuYWRkUm93RnJvbSgpOwoJCQkJfQogICAgICAgICAgICB9LAogICAgICAgICAgICBhZGRFeHRyYVJvd1RvICh1aWQpIHsKCQkJCWxldCBkcyA9IHRoaXMuJHJlZnMudG9EUy5rZW5kb1dpZGdldCgpLAoJCQkJCXRvdGFsID0gZHMudG90YWwoKSwKCQkJCQlyb3cgPSBkcy5nZXRCeVVpZCh1aWQpLAoJCQkJCWluZGV4ID0gZHMuaW5kZXhPZihyb3cpOwoKCQkJCWlmKGluZGV4ID09IHRvdGFsIC0gMSl7CgkJCQkJdGhpcy5hZGRSb3dUbygpOwoJCQkJfQoJCQl9LAoJCQkvLyBSZW1vdmUgUm93CgkJCXJlbW92ZVJvd0Zyb20gKGUpIHsKCQkJCWUucHJldmVudERlZmF1bHQoKTsKCgkJCQlsZXQgZ3JpZCA9IHRoaXMuJHJlZnMuZnJvbUdyaWQua2VuZG9XaWRnZXQoKSwKCQkJCQlkcyA9IGdyaWQuZGF0YVNvdXJjZSwKCQkJCQlkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwoJCQkJCgkJCQlpZihkcy5kYXRhKCkubGVuZ3RoID4gMil7CgkJCQkJZHMucmVtb3ZlKGRhdGFJdGVtKTsKCQkJCX0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVtb3ZlUm93VG8gKGUpIHsKCQkJCWUucHJldmVudERlZmF1bHQoKTsKCgkJCQlsZXQgZ3JpZCA9ICQoIiN0b0dyaWQiKS5kYXRhKCJrZW5kb0dyaWQiKSwKCQkJCQlkcyA9IGdyaWQuZGF0YVNvdXJjZSwKCQkJCQlkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwoJCQkJCgkJCQlpZihkcy50b3RhbCgpID4gMil7CgkJCQkJZHMucmVtb3ZlKGRhdGFJdGVtKTsKCQkJCX0KCQkJfSwKCQkJLy8gU2V0IEFjY291bnQgQnkgQmFuawoJCQlzZXRBY2NvdW50QnlGcm9tQmFuaygpewoJCQkJbGV0IGRzID0gdGhpcy4kcmVmcy5mcm9tRFMua2VuZG9XaWRnZXQoKTsKCQkJCWRzLmRhdGEoW10pOwoKCQkJCS8vIE9uIHVzZSBiYW5rIGNoZWNrYm94IGNoYW5nZXMKCQkJCWlmKCF0aGlzLnVzZUZyb21CYW5rKXsKCQkJCQl0aGlzLmZyb21CYW5rSWQgPSAnJzsKCQkJCX0KCgkJCQkvLyBPbiBiYW5rIGRyb3Bkb3dubGlzdCBjaGFuZ2VzCgkJCQlpZih0aGlzLmZyb21CYW5rSWQgIT09ICcnKXsKCQkJCQl0aGlzLmZyb21BY2NvdW50cyA9IHRoaXMuZ2V0QWNjb3VudEJ5QmFua0lkKHRoaXMuZnJvbUJhbmtJZCk7CgkJCQl9IGVsc2UgewoJCQkJCXRoaXMuZnJvbUFjY291bnRzID0gdGhpcy5hY2NvdW50czsKCQkJCX0KCgkJCQl0aGlzLmFkZFJvd0Zyb20oKTsKCQkJCXRoaXMuYWRkUm93RnJvbSgpOwoJCQl9LAoJCQlzZXRBY2NvdW50QnlUb0JhbmsoKXsKCQkJCWxldCBkcyA9IHRoaXMuJHJlZnMudG9EUy5rZW5kb1dpZGdldCgpOwoJCQkJZHMuZGF0YShbXSk7CgoJCQkJLy8gT24gdXNlIGJhbmsgY2hlY2tib3ggY2hhbmdlcwoJCQkJaWYoIXRoaXMudXNlVG9CYW5rKXsKCQkJCQl0aGlzLnRvQmFua0lkID0gJyc7CgkJCQl9CgoJCQkJLy8gT24gYmFuayBkcm9wZG93bmxpc3QgY2hhbmdlcwoJCQkJaWYodGhpcy50b0JhbmtJZCAhPT0gJycpewoJCQkJCXRoaXMudG9BY2NvdW50cyA9IHRoaXMuZ2V0QWNjb3VudEJ5QmFua0lkKHRoaXMudG9CYW5rSWQpOwoJCQkJfSBlbHNlIHsKCQkJCQl0aGlzLnRvQWNjb3VudHMgPSB0aGlzLmFjY291bnRzOwoJCQkJfQoKCQkJCXRoaXMuYWRkUm93VG8oKTsKCQkJCXRoaXMuYWRkUm93VG8oKTsKCQkJfSwKCQkJLy8gR2V0IGFjY291bnQgYnkgYmFuayBJZAoJCQlnZXRBY2NvdW50QnlCYW5rSWQoYmFua0lkKXsKCQkJCWxldCBhY2NvdW50cyA9IFtdOwoKCQkJCXRoaXMuYmFua0FjY291bnRzLmZvckVhY2godmFsdWUgPT4gewoJCQkJCWlmKHZhbHVlLmJhbmsudXVpZCA9PT0gYmFua0lkKXsKCQkJCQkJYWNjb3VudHMucHVzaChuZXcgQWNjb3VudE1vZGVsKHZhbHVlLmFjY291bnQpKTsKCQkJCQl9CgkJCQl9KTsKCgkJCQlyZXR1cm4gYWNjb3VudHM7CgkJCX0sCgkJCS8vIFNocmluayBEYXRhCgkJCXNocmlua0RhdGEgKCkgewoJCQkJLy8gSm91cm5hbCBEYXRlCgkJCQl0aGlzLmpvdXJuYWwuam91cm5hbF9kYXRlID0gSGVscGVyLnRvSVNPRGF0ZSh0aGlzLmpvdXJuYWwuam91cm5hbF9kYXRlKTsKCQkJCQoJCQkJLy8gVXNlcgoJCQkJaWYgKHRoaXMuaXNFZGl0KSB7CgkJCQkJdGhpcy5qb3VybmFsLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VyOwoJCQkJfSBlbHNlIHsKCQkJCQl0aGlzLmpvdXJuYWwuY3JlYXRlZF9ieSA9IHRoaXMudXNlcjsKCQkJCX0KCQkJCQoJCQkJbGV0IGVudHJpZXMgPSBbXSwKCQkJCQlmcm9tRFMgPSB0aGlzLiRyZWZzLmZyb21EUy5rZW5kb1dpZGdldCgpLAoJCQkJCXRvRFMgPSB0aGlzLiRyZWZzLnRvRFMua2VuZG9XaWRnZXQoKTsKCgkJCQkvLyBGaWx0ZXIgRnJvbSBBY2NvdW50IG9uIERyCgkJCQl0b0RTLmRhdGEoKS5mb3JFYWNoKHZhbHVlID0+IHsKCQkJCQlpZih2YWx1ZS5hY2NvdW50Lm51bWJlciAhPT0gIiIgJiYgdmFsdWUuYW1vdW50ID4gMCl7Ly8gRmlsdGVyIHNlbGVjdGVkIGFjY291bnQKCQkJCQkJdmFsdWUuc2V0KCJhY2NvdW50X3V1aWQiLCB2YWx1ZS5hY2NvdW50LnV1aWQpOwoJCQkJCQkvLyBDdXJyZW5jeQoJCQkJCQl2YWx1ZS5zZXQoImN1cnJlbmN5IiwgbmV3IEN1cnJlbmN5TW9kZWwodGhpcy5jdXJyZW5jeSkpOwoJCQkJCQl2YWx1ZS5zZXQoImV4Y2hhbmdlX3JhdGVfdXVpZCIsIHRoaXMuZXhjaGFuZ2VSYXRlLmlkKTsKCQkJCQkJdmFsdWUuc2V0KCJleGNoYW5nZV9yYXRlIiwgdGhpcy5leGNoYW5nZVJhdGUucmF0ZSk7CgkJCQkJCWVudHJpZXMucHVzaChuZXcgSm91cm5hbEVudHJ5TW9kZWwodmFsdWUpKTsKCQkJCQl9CgkJCQl9KQoJCQkJLy8gRmlsdGVyIFRvIEFjY291bnQgb24gQ3IKCQkJCWZyb21EUy5kYXRhKCkuZm9yRWFjaCh2YWx1ZSA9PiB7CgkJCQkJaWYodmFsdWUuYWNjb3VudC5udW1iZXIgIT09ICIiICYmIHZhbHVlLmFtb3VudCA+IDApey8vIEZpbHRlciBzZWxlY3RlZCBhY2NvdW50CgkJCQkJCXZhbHVlLnNldCgiYWNjb3VudF91dWlkIiwgdmFsdWUuYWNjb3VudC51dWlkKTsKCQkJCQkJLy8gQ3VycmVuY3kKCQkJCQkJdmFsdWUuc2V0KCJjdXJyZW5jeSIsIG5ldyBDdXJyZW5jeU1vZGVsKHRoaXMuY3VycmVuY3kpKTsKCQkJCQkJdmFsdWUuc2V0KCJhbW91bnQiLCB2YWx1ZS5hbW91bnQgKiAtMSk7IC8vIENyZWRpdCBTaWRlIGlzIG5lZ2F0aXZlCgkJCQkJCXZhbHVlLnNldCgiZXhjaGFuZ2VfcmF0ZV91dWlkIiwgdGhpcy5leGNoYW5nZVJhdGUuaWQpOwoJCQkJCQl2YWx1ZS5zZXQoImV4Y2hhbmdlX3JhdGUiLCB0aGlzLmV4Y2hhbmdlUmF0ZS5yYXRlKTsKCgkJCQkJCWVudHJpZXMucHVzaChuZXcgSm91cm5hbEVudHJ5TW9kZWwodmFsdWUpKTsKCQkJCQl9CgkJCQl9KQoKCQkJCS8vIEpvdXJuYWwgRW50cmllcwoJCQkJdGhpcy5qb3VybmFsLmpvdXJuYWxfZW50cmllcyA9IGVudHJpZXM7CgkJCX0sCgkJCS8vIFZhbGlkYXRpbmcKCQkJdmFsaWRhdGVGb3JtICgpIHsKCQkJCWxldCByZXN1bHQgPSB0cnVlLAoJCQkJCWZyb21EUyA9IHRoaXMuJHJlZnMuZnJvbURTLmtlbmRvV2lkZ2V0KCksCgkJCQkJdG9EUyA9IHRoaXMuJHJlZnMudG9EUy5rZW5kb1dpZGdldCgpLAoJCQkJCW1zZyA9ICcnLCBjb3VudEVtcHR5RnJvbSA9IDAsIGNvdW50RW1wdHlUbyA9IDA7CgoJCQkJLy9GUk9NCgkJCQlmcm9tRFMuZGF0YSgpLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4gewoJCQkJCS8vIE5vIGFjY291bnQKICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZS5hY2NvdW50Lm5hbWUgPT09ICcnICYmIHZhbHVlLmFtb3VudCA+IDApewogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgbXNnICs9IGA8cD4ke2kxOG4udCgicGxlYXNlX3NlbGVjdF9mcm9tX2FjY291bnRfYXRfcm93X251bWJlciIpfSAke2luZGV4ICsgMX08L3A+YDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIE5vIGFtb3VudAogICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlLmFjY291bnQubmFtZSAhPT0gJycgJiYgdmFsdWUuYW1vdW50ID09PSAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIG1zZyArPSBgPHA+JHt2YWx1ZS5hY2NvdW50Lm5hbWV9ICR7aTE4bi50KCJoYXNfbm9fYW1vdW50Iil9PC9wPmA7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCBGcm9tIEFjY291bnRzCiAgICAgICAgICAgICAgICAgICAgaWYodmFsdWUuYWNjb3VudC5uYW1lICE9PSAnJyAmJiB2YWx1ZS5hbW91bnQgPiAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgY291bnRFbXB0eUZyb20rKzsKICAgICAgICAgICAgICAgICAgICB9CgkJCQl9KQoJCQkJCgkJCQkvLyBFbXB0eSBSb3cgRnJvbSBBY2NvdW50cwoJCQkJaWYoY291bnRFbXB0eUZyb20gPT09IDApewoJCQkJCW1zZyArPSBgPHA+JHtpMThuLnQoInBsZWFzZV9zZWxlY3RfZnJvbV9hY2NvdW50Iil9PC9wPmA7CgkJCQkJcmVzdWx0ID0gZmFsc2U7CgkJCQl9CgoJCQkJLy9UTwoJCQkJdG9EUy5kYXRhKCkuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7CgkJCQkJLy8gTm8gYWNjb3VudAogICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlLmFjY291bnQubmFtZSA9PT0gJycgJiYgdmFsdWUuYW1vdW50ID4gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBtc2cgKz0gYDxwPiR7aTE4bi50KCJwbGVhc2Vfc2VsZWN0X3RvX2FjY291bnRfYXRfcm93X251bWJlciIpfSAke2luZGV4ICsgMX08L3A+YDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIE5vIGFtb3VudAogICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlLmFjY291bnQubmFtZSAhPT0gJycgJiYgdmFsdWUuYW1vdW50ID09PSAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIG1zZyArPSBgPHA+JHt2YWx1ZS5hY2NvdW50Lm5hbWV9ICR7aTE4bi50KCJoYXNfbm9fYW1vdW50Iil9PC9wPmA7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCBUbyBBY2NvdW50cwogICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlLmFjY291bnQubmFtZSAhPT0gJycgJiYgdmFsdWUuYW1vdW50ID4gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50RW1wdHlUbysrOwogICAgICAgICAgICAgICAgICAgIH0KCQkJCX0pCgkJCQkKCQkJCS8vIEVtcHR5IFJvdyBUbwoJCQkJaWYoY291bnRFbXB0eVRvID09PSAwKXsKCQkJCQltc2cgKz0gYDxwPiR7aTE4bi50KCJwbGVhc2Vfc2VsZWN0X3RvX2FjY291bnQiKX08L3A+YDsKCQkJCQlyZXN1bHQgPSBmYWxzZTsKCQkJCX0KCgkJCQkvLyBCYWxhbmNlIEZyb20gYW5kIFRvCgkJCQlpZihrZW5kby5wYXJzZUZsb2F0KHRoaXMudG90YWxGcm9tKSAhPT0ga2VuZG8ucGFyc2VGbG9hdCh0aGlzLnRvdGFsVG8pKXsKCQkJCQltc2cgKz0gYDxwPiR7aTE4bi50KCJ0b3RhbF9mcm9tX2FuZF90b3RhbF90b19pc19ub3RfYmFsYW5jZSIpfTwvcD5gOwoJCQkJCXJlc3VsdCA9IGZhbHNlOwoJCQkJfQoKCQkJCS8vIFNob3cgQWxlcnQKCQkJCXRoaXMuZXJyb3JNZXNzYWdlID0gbXNnOwoJCQkJdGhpcy5hbGVydCA9IGZhbHNlOwoJCQkJaWYocmVzdWx0PT09ZmFsc2UpewoJCQkJCXRoaXMuYWxlcnQgPSB0cnVlOwoJCQkJfQoJCQkJCgkJCQlyZXR1cm4gcmVzdWx0OwoJCQl9LAoJCQkvLyBBbGwgU2F2ZXMKCQkJYXN5bmMgb25TYXZlT3B0aW9uQ2xpY2sobW9kZSkgewoJCQkJaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpICYmIHRoaXMudmFsaWRhdGVGb3JtKCkpIHsKCQkJCQlsZXQgaXNWYWxpZENsb3NpbmdEYXRlID0gYXdhaXQgSGVscGVyLnZhbGlkYXRlQ2xvc2luZ0RhdGUodGhpcy5qb3VybmFsLmpvdXJuYWxfZGF0ZSk7CgkJCQkJaWYgKGlzVmFsaWRDbG9zaW5nRGF0ZSkgewoJCQkJCQl0aGlzLnNhdmVNb2RlID0gbW9kZTsKCQkJCQkJdGhpcy5zYXZlKCk7CgkJCQkJfQoJCQkJfQoJCQl9LAoJCQljYW5jZWwgKCkgewoJCQkJdGhpcy4kc3dhbCh7CgkJCQkJdGl0bGU6IGkxOG4udCgnbXNnX3RpdGxlX3dhcm5pbmcnKSwKCQkJCQl0ZXh0OiBpMThuLnQoJ21zZ19kaXNjYXJkJyksCgkJCQkJaWNvbjogIndhcm5pbmciLAoJCQkJCXNob3dDYW5jZWxCdXR0b246IHRydWUsCgkJCQkJY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCdjYW5jZWwnKSwKCQkJCQljb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKCQkJCQljYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAoJCQkJCWNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoJ2Rpc2NhcmQnKSwKCQkJCX0pLnRoZW4oKHJlc3VsdCkgPT4gewoJCQkJCWlmIChyZXN1bHQudmFsdWUpIHsKCQkJCQkJdGhpcy5jbGVhcigpOwoJCQkJCQl0aGlzLnNldERlZmF1bHREYXRhKCk7CgkJCQkJCXRoaXMuJHJvdXRlci5nbygtMSk7CgkJCQkJfQoJCQkJfSk7CgkJCX0sCgkJCWNsZWFyICgpIHsKCQkJCXRoaXMuaXNFZGl0ID0gZmFsc2U7CgkJCQl0aGlzLnNhdmVNb2RlID0gJyc7CgkJCQkKCQkJCXRoaXMudXNlRnJvbUJhbmsgPSBmYWxzZTsKCQkJCXRoaXMudXNlVG9CYW5rID0gZmFsc2U7CgoJCQkJdGhpcy5jdXJyZW5jeSA9IG5ldyBDdXJyZW5jeU1vZGVsKGluc3RpdHV0ZS5iYXNlQ3VycmVuY3kpOwoJCQkJdGhpcy5leGNoYW5nZVJhdGUgPSBuZXcgRXhjaGFuZ2VSYXRlTW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSk7CgoJCQkJbGV0IGZyb21EUyA9IHRoaXMuJHJlZnMuZnJvbURTLmtlbmRvV2lkZ2V0KCk7CiAgICAgICAgICAgICAgICBmcm9tRFMuZGF0YShbXSk7CiAgICAgICAgICAgICAgICBsZXQgdG9EUyA9IHRoaXMuJHJlZnMudG9EUy5rZW5kb1dpZGdldCgpOwogICAgICAgICAgICAgICAgdG9EUy5kYXRhKFtdKTsKCQkJfSwKCQkJc2F2ZSAoKSB7CiAgICAgICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CgkJCQkKCQkJCS8vIERyYWZ0IE1vZGUKCQkJCWlmICh0aGlzLnNhdmVNb2RlID09PSBTYXZlT3B0aW9uLlNBVkVEUkFGVCkgewoJCQkJCXRoaXMuam91cm5hbC5pc19kcmFmdCA9IDE7CgkJCQl9IGVsc2UgewoJCQkJCXRoaXMuam91cm5hbC5pc19kcmFmdCA9IDA7CgkJCQl9CgoJCQkJLy8gU2hyaW5rIERhdGEKCQkJCXRoaXMuc2hyaW5rRGF0YSgpOwoKCQkJCS8vIFN5bmMgRGF0YQoJCQkJdGhpcy5zaG93TG9hZGluZyA9IHRydWUKCQkJCWpvdXJuYWxIYW5kbGVyCgkJCQkJLnNhdmUobmV3IEpvdXJuYWxNb2RlbCh0aGlzLmpvdXJuYWwpKQoJCQkJCS50aGVuKChyZXNwb25zZSkgPT4gewoJCQkJCQlpZiAocmVzcG9uc2UpIHsKCQkJCQkJCXNlbGYucmVzcG9uc2VTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKTsKCQkJCQkJfQoJCQkJCX0pCgkJCQkJLmNhdGNoKChlcnJvcikgPT4gewoJCQkJCQlIZWxwZXIuYWxlcnRFcnJvck1zZyhlcnJvcik7CgkJCQkJfSkKCQkJCQkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9KTsKCQkJfSwKCQkJLy8gUmVzcG9uc2UgU3RhdHVzCgkJCXJlc3BvbnNlU3RhdHVzKHN0YXR1cykgewoJCQkJc3dpdGNoIChzdGF0dXMpIHsKCQkJCQljYXNlIDIwMDogLy8gT2sKCQkJCQkJdGhpcy5zaG93QWxlcnQoKTsKCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSAyMDE6IC8vIER1cGxpY2F0ZQoJCQkJCQlIZWxwZXIuYWxlcnRFcnJvck1zZygiRHVwbGljYXRlIGVudHJ5ISIpOwoJCQkJCQlicmVhazsKCQkJCQlkZWZhdWx0OgoJCQkJCQlicmVhazsKCQkJCX0KCQkJfSwKCQkJLy8gU3dlZXRhbGVydDIKCQkJY2hhbmdlQWxlcnRTdGF0dXMoKXsKCQkJCXRoaXMubG9hZGluZ0FsZXJ0ID0gdHJ1ZQoJCQkJc2V0VGltZW91dCgoKSA9PiB7CgkJCQkJdGhpcy5sb2FkaW5nQWxlcnQgPSBmYWxzZQoJCQkJfSwgNjIwMCk7CgkJCX0sCgkJCXNob3dBbGVydCAoKSB7CgkJCQl0aGlzLmNoYW5nZUFsZXJ0U3RhdHVzKCkKCQkJCXRoaXMubG9hZGluZ1RleHRBbGVydCA9IkFkZGVkIFN1Y2Nlc3NmdWwiCgkJCQl0aGlzLmxvYWRpbmdDb2xvckFsZXJ0ID0iIzNEQTcyRSIKCQkJCXN3aXRjaCh0aGlzLnNhdmVNb2RlKSB7CgkJCQkJY2FzZSAnc2F2ZUNsb3NlJzovLyBTYXZlIENsb3NlCgkJCQkJCS8vIHRoaXMuJHN3YWwoewoJCQkJCQkvLyAJcG9zaXRpb246ICdwcm9kdWN0cycsCgkJCQkJCS8vIAlpY29uOiAnc3VjY2VzcycsCgkJCQkJCS8vIAl0aXRsZTogJ1lvdXIgd29yayBoYXMgYmVlbiBzYXZlZCcsCgkJCQkJCS8vIAlzaG93Q29uZmlybUJ1dHRvbjogdHJ1ZSwKCQkJCQkJLy8gfSkudGhlbigocmVzdWx0KSA9PiB7CgkJCQkJCS8vIAlpZiAocmVzdWx0LnZhbHVlKSB7CgkJCQkJCS8vIAkJd2luZG93Lmhpc3RvcnkuZ28oLTEpCgkJCQkJCQoJCQkJCQkvLyAJCXJldHVybiBmYWxzZQoJCQkJCQkvLyAJfQoJCQkJCQkvLyB9KQoJCQkJCQlpZih0aGlzLmlzRWRpdCl7CgkJCQkJCQl0aGlzLmdvQmFja1RvVmlld1BhZ2UoKTsKCQkJCQkJfWVsc2V7CgkJCQkJCQl0aGlzLiRyb3V0ZXIuZ28oLTEpOwoJCQkJCQl9CgoJCQkJCQl0aGlzLmNsZWFyKCk7CgkJCQkJCXRoaXMuc2V0RGVmYXVsdERhdGEoKTsKCQkJCQkJYnJlYWs7CgkJCQkJZGVmYXVsdDovLyBTYXZlIE5ldwoJCQkJCQkvLyB0aGlzLiRzd2FsKHsKCQkJCQkJLy8gCXBvc2l0aW9uOiAncHJvZHVjdHMnLAoJCQkJCQkvLyAJaWNvbjogJ3N1Y2Nlc3MnLAoJCQkJCQkvLyAJdGl0bGU6ICdZb3VyIHdvcmsgaGFzIGJlZW4gc2F2ZWQnLAoJCQkJCQkvLyAJc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAoJCQkJCQkvLyAJdGltZXI6IDE1MDAKCQkJCQkJLy8gfSkKCQkJCQkJdGhpcy5jbGVhcigpOwoJCQkJCQl0aGlzLnNldERlZmF1bHREYXRhKCk7CgkJCQkJCWJyZWFrOwoJCQkJfQoJCQl9LAoJCQkvLyBHbyBiYWNrIHRvIHZpZXcgcGFnZSBhZnRlciBlZGl0IG1vZGUKCQkJZ2V0Sm91cm5hbCgpewoJCQkJcmV0dXJuIG5ldyBKb3VybmFsTW9kZWwodGhpcy5qb3VybmFsKTsKCQkJfSwKCQkJZ29CYWNrVG9WaWV3UGFnZSgpewoJCQkJdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBuYW1lOiAnQ2FzaCBUcmFuc2FjdGlvbiBWaWV3JywgcGFyYW1zOiB7IGluaXRKb3VybmFsOiB0aGlzLmdldEpvdXJuYWwoKSB9IH0pOwoJCQl9LAoJCX0sCgkJd2F0Y2g6IHsKCQkJaW5pdEpvdXJuYWwgKCkgewoJCQkJdGhpcy5pbml0aWFsRGF0YSgpOwoJCQl9LAoJCX0sCgkJY3JlYXRlZCAoKSB7CgkJCS8vIEFjY291bnQKCQkJYWNjb3VudEhhbmRsZXIuZ2V0QWxsKCkKCQkJLnRoZW4ocmVzID0+IHsKCQkJCXRoaXMuYWNjb3VudHMgPSByZXMuZGF0YTsKCQkJCXRoaXMuZnJvbUFjY291bnRzID0gcmVzLmRhdGE7CgkJCQl0aGlzLnRvQWNjb3VudHMgPSByZXMuZGF0YTsKCQkJfSkKCgkJCS8vIEJhbmsgQWNjb3VudAoJCQliYW5rQWNjb3VudEhhbmRsZXIuZ2V0QWxsKCkKCQkJLnRoZW4ocmVzID0+IHsKCQkJCXRoaXMuYmFua0FjY291bnRzID0gcmVzLmRhdGE7CgkJCX0pCgkJfSwKCQltb3VudGVkICgpIHsKCQkJLy8gSW5pdGlhbCBEYXRhCgkJCXRoaXMuaW5pdGlhbERhdGEoKTsKCQl9CiAgICB9Owo="},{"version":3,"sources":["CashTransactions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CashTransactions.vue","sourceRoot":"src/views/banking","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col cols=\"12\" sm=\"12\">\n                    <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                        <v-card outlined dense class=\"pa-4 no_border rounded-sm\" color=\"white\">\n                            <v-card outlined dense class=\"no_border\">\n                                <h2 class=\"mb-0\">{{$t('cash_transaction')}}</h2>\n                                <v-icon\n                                        onclick=\"window.history.go(-1); return false;\"\n                                        style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                        class=\"float-right\"\n                                >close\n                                </v-icon>\n                            </v-card>\n                            <v-card outlined dense class=\"px-3 no_border\" color=\"grayBg\">\n                                <v-row class=\"\">\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label\">{{$t('date')}}</label>\n                                        <app-datepicker \n\t\t\t\t\t\t\t\t\t\t\t:initialDate=\"journal.journal_date\" \n\t\t\t\t\t\t\t\t\t\t\t@emitDate=\"journal.journal_date = $event\" \n\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"getExchangeRate\" />\n\n                                        <label class=\"label\">{{$t('transaction_type')}}</label>\n                                        <v-select class=\"mt-1\"\n                                            @change=\"generateNumber\"\n                                            :items=\"cashTransactionTypes\"\n                                            v-model=\"journal.transaction_type\"\n                                            item-value=\"value\"\n                                            item-text=\"text\"\n                                            no-data-text=\"No data found.\"\n                                            required\n                                            outlined />\n\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label\">{{$t('number')}}</label>\n                                        <v-row>\n                                            <v-col sm=\"10\" cols=\"10\" class=\"pb-0 pr-0 pt-1\">\n                                                <v-text-field\n                                                    v-model=\"journal.number\"\n                                                    outlined\n                                                    :rules=\"[v => !!v || 'Number is required']\"\n\t\t\t\t\t\t\t\t\t\t\t\t\treadonly\n                                                    required />\n                                            </v-col>\n                                            <v-col sm=\"2\" cols=\"2\" class=\"pb-0 pl-0 pt-1\">\n                                                <v-icon color=\"black\" size=\"30\" class=\"border_qrcode\" @click=\"generateNumber\">mdi-qrcode</v-icon>\n                                            </v-col>\n                                        </v-row>\n\n                                        <label class=\"label\">{{$t('txn_currency')}}</label>\n                                        <app-currency-dropdownlist\n                                            :initCurrency=\"currency\"\n                                            @emitCurrency=\"currency = $event\"\n                                            @onChanged=\"getExchangeRate\"\n                                        />\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label\">{{$t('description')}}</label>\n                                        <v-textarea class=\" mt-1\" height=\"120px\" no-resize\n                                            v-model=\"journal.description\"\n                                            outlined\n                                            rows=\"4\"\n                                            :placeholder=\"$t('transaction_purpose')\"\n                                        />\n\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n\n                            <v-card outlined dense class=\"no_border\" color=\"white\">\n                                <v-row style=\"background-color: rgb(255, 255, 255); width: 100%; margin: 0 auto 0px;\">\n                                    <v-col sm=\"12\" cols=\"12\" class=\"pb-3 pa-0\">\n                                        <v-row>\n                                            <v-col sm=\"1\" cols=\"12\" class=\"pt-0\">\n                                                <h2 class=\"mb-0\">{{$t('from_to')}}</h2>\n                                            </v-col>\n                                            <v-col sm=\"6\" cols=\"12\" class=\"pt-0 pr-0\">\n                                                <v-checkbox class=\"ma-0 pt-3  float-left\"\n                                                    v-model=\"useFromBank\"\n                                                    @change=\"setAccountByFromBank\"\n                                                />\n                                                <p class=\"mb-0 mt-3\">{{$t('select_bank')}}</p>\n                                            </v-col>\n                                            <v-col sm=\"3\" cols=\"12\" class=\" pl-0\">\n                                                <v-select class=\"mt-1\"\n                                                    v-if=\"useFromBank\"\n                                                    placeholder=\"Select Bank\"\n                                                    v-model=\"fromBankId\"\n                                                    :items=\"bankAccounts\"\n                                                    item-text=\"bank.name\"\n                                                    item-value=\"bank.uuid\"\n                                                    @change=\"setAccountByFromBank\"\n                                                    outlined>\n                                                    <template slot=\"selection\" slot-scope=\"{ item }\">\n                                                        {{ item.bank.abbr }} - {{ item.bank.name }}\n                                                    </template>\n                                                    <template slot=\"item\" slot-scope=\"{ item }\">\n                                                        {{ item.bank.abbr }} - {{ item.bank.name }}\n                                                    </template>\n                                                </v-select>\n                                            </v-col>\n                                        </v-row>\n                                        <kendo-datasource ref=\"fromDS\"\n                                            :data=\"fromAccountEntries\"\n                                            :change=\"onFromDSChanges\" />\n\n                                        <kendo-grid id=\"fromGrid\"\n                                            ref=\"fromGrid\" \n                                            class=\"grid-function\"\n                                            :data-source-ref=\"'fromDS'\" \n                                            :sortable=\"false\" \n                                            :filterable=\"false\" \n                                            :column-menu=\"true\" \n                                            :editable=\"true\"\n                                            :scrollable-virtual=\"true\"\n                                        >\n                                            <kendo-grid-column\n                                                :title=\"$t('no.')\"\n                                                :template=\"rowNumberTmplFrom\"\n                                                :width=\"45\"\n                                                :column-menu=\"false\"\n                                                :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5;',\n                                                    class: 'text-products'\n                                                }\"\n                                                :attributes=\"{\n                                                    style: 'text-align: products'\n                                                }\"/>\n                                            <kendo-grid-column \n                                                :field=\"'account'\" \n                                                :title=\"$t('account')\"\n                                                :width=\"200\"\n                                                :template=\"'<span>#=account.name#</span>'\"\n                                                :editor=\"fromAccountEditor\" \n                                                :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'\n                                                }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'description'\"\n                                                :title=\"$t('description')\"\n                                                :width=\"200\"\n                                                :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'\n                                                }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'ref_number'\"\n                                                :title=\"$t('reference_no')\"\n                                                :width=\"160\"\n                                                :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'\n                                                }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'amount'\"\n                                                :title=\"$t('amount')\"\n                                                :format=\"'{0:n}'\"\n                                                :width=\"150\"\n                                                :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                                :attributes=\"{style: 'text-align: right; '}\"/>\n                                            <kendo-grid-column\n                                                :command=\"{ iconClass: 'k-icon k-i-trash', text: 'Delete', click: removeRowFrom, class: 'btn-plus' }\"\n                                                :title=\"'&nbsp;'\"\n                                                :width=\"100\"\n                                                :headerAttributes=\"{\n                                                    style: 'text-align: right; background-color: #EDF1F5'\n                                                }\"\n                                            />\n                                        </kendo-grid>\n                                        <v-row style=\"background-color: #fff;\">\n                                            <v-col sm=\"1\" cols=\"12\" class=\"pb-0\">\n                                                <v-btn class=\"float-left rounded-0 btn_plus\" @click=\"addRowFrom\">\n                                                    <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                                </v-btn>\n                                            </v-col>\n                                            <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                <template>\n                                                    <v-file-input class=\"mt-0 pt-0 \" sm=\"3\" cols=\"6\"\n                                                                :placeholder=\"$t('attachment')\"\n                                                                multiple\n                                                                prepend-icon=\"mdi-paperclip\"\n                                                    >\n                                                        <template v-slot:selection=\"{ text }\">\n                                                            <v-chip\n                                                                    small\n                                                                    label\n                                                                    color=\"primary\"\n                                                            >\n                                                                {{ text }}\n                                                            </v-chip>\n                                                        </template>\n                                                    </v-file-input>\n                                                </template>\n                                            </v-col>\n\n                                        </v-row>\n                                    </v-col>\n                                </v-row>\n                                <v-row>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                        <v-row>\n                                            <v-col sm=\"1\" cols=\"12\" class=\"pt-0\">\n                                                <h2 class=\"mb-0\">{{$t('to_from')}}</h2>\n                                            </v-col>\n                                            <v-col sm=\"6\" cols=\"12\" class=\"pt-0 pr-0\">\n                                                <v-checkbox class=\"ma-0 pt-2  float-left\"\n                                                    v-model=\"useToBank\"\n                                                    @change=\"setAccountByToBank\"\n                                                />\n                                                <p class=\"mb-0 mt-2 \">{{$t('select_bank_to')}}</p>\n                                            </v-col>\n                                            <v-col sm=\"3\" cols=\"12\" class=\"pt-0 pl-0\">\n                                                <v-select class=\"mt-1\"\n                                                    v-if=\"useToBank\"\n                                                    placeholder=\"Select Bank\"\n                                                    v-model=\"toBankId\"\n                                                    :items=\"bankAccounts\"\n                                                    item-text=\"bank.name\"\n                                                    item-value=\"bank.uuid\"\n                                                    @change=\"setAccountByToBank\"\n                                                    outlined>\n                                                    <template slot=\"selection\" slot-scope=\"{ item }\">\n                                                        {{ item.bank.abbr }} - {{ item.bank.name }}\n                                                    </template>\n                                                    <template slot=\"item\" slot-scope=\"{ item }\">\n                                                        {{ item.bank.abbr }} - {{ item.bank.name }}\n                                                    </template>\n                                                </v-select>\n                                            </v-col>\n                                        </v-row>\n                                        <kendo-datasource ref=\"toDS\"\n                                            :data=\"toAccountEntries\"\n                                            :change=\"onToDSChanges\" />\n\n                                        <kendo-grid id=\"toGrid\"\n                                            ref=\"toGrid\" \n                                            class=\"grid-function\"\n                                            :data-source-ref=\"'toDS'\" \n                                            :sortable=\"false\" \n                                            :filterable=\"false\" \n                                            :column-menu=\"true\" \n                                            :editable=\"true\"\n                                            :scrollable-virtual=\"true\"\n                                        >\n                                            <kendo-grid-column\n                                                :title=\"$t('no.')\"\n                                                :template=\"rowNumberTmplTo\"\n                                                :width=\"45\"\n                                                :column-menu=\"false\"\n                                                :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5;',\n                                                    class: 'text-products'\n                                                }\"\n                                                :attributes=\"{\n                                                    style: 'text-align: products'\n                                                }\"/>\n                                            <kendo-grid-column \n                                                :field=\"'account'\" \n                                                :title=\"$t('account')\"\n                                                :width=\"200\"\n                                                :template=\"'<span>#=account.name#</span>'\"\n                                                :editor=\"toAccountEditor\" \n                                                :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'\n                                                }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'description'\"\n                                                :title=\"$t('description')\"\n                                                :width=\"200\"\n                                                :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'\n                                                }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'ref_number'\"\n                                                :title=\"$t('reference_no')\"\n                                                :width=\"160\"\n                                                :headerAttributes=\"{\n                                                    style: 'background-color: #EDF1F5'\n                                                }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'amount'\"\n                                                :title=\"$t('amount')\"\n                                                :format=\"'{0:n}'\"\n                                                :width=\"150\"\n                                                :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                                :attributes=\"{style: 'text-align: right; '}\"/>\n                                            <kendo-grid-column\n                                                :command=\"{ iconClass: 'k-icon k-i-trash', text: 'Delete', click: removeRowTo, class: 'btn-plus' }\"\n                                                :title=\"'&nbsp;'\"\n                                                :width=\"100\"\n                                                :headerAttributes=\"{\n                                                    style: 'text-align: right; background-color: #EDF1F5'\n                                                }\"\n                                            />\n                                        </kendo-grid>\n                                        <v-row style=\"background-color: #fff;\">\n                                            <v-col sm=\"1\" cols=\"12\" class=\"pb-0\">\n                                                <v-btn class=\"float-left rounded-0 btn_plus\" @click=\"addRowTo\">\n                                                    <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                                </v-btn>\n                                            </v-col>\n                                            <v-col sm=\"5\" cols=\"12\" class=\"pb-0\">\n                                                <template>\n                                                    <v-file-input class=\"mt-0 pt-0 \" sm=\"3\" cols=\"6\"\n                                                                :placeholder=\"$t('attachment')\"\n                                                                multiple\n                                                                prepend-icon=\"mdi-paperclip\"\n                                                    >\n                                                        <template v-slot:selection=\"{ text }\">\n                                                            <v-chip\n                                                                    small\n                                                                    label\n                                                                    color=\"primary\"\n                                                            >\n                                                                {{ text }}\n                                                            </v-chip>\n                                                        </template>\n                                                    </v-file-input>\n                                                </template>\n                                            </v-col>\n                                            <v-col sm=\"3\" cols=\"12\" class=\" pb-0 pt-5\">\n                                                <p>\n                                                    <span class=\"float-left\">{{$t('total_from')}}</span>\n                                                    <span class=\"float-right text-bold\" v-text=\"totalFrom\" />\n                                                </p>\n                                            </v-col>\n                                            <v-col sm=\"3\" cols=\"12\" class=\"pb-0  pt-5\">\n                                                <p>\n                                                    <span class=\"float-left\">{{$t('total_to')}}</span>\n                                                    <span class=\"float-right text-bold\" v-text=\"totalTo\" />\n                                                </p>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                </v-row>\n\n                                <v-divider/>\n                                <v-card outlined dense class=\"no_border function_footer\">\n                                    <!-- Warning Message -->\n                                    <v-alert type=\"warning\"\n                                        v-model=\"alert\"\n                                        dismissible>\n                                        <span v-html=\"errorMessage\"/>\n                                    </v-alert>\n                                    \n                                    <v-menu>\n                                        <template v-slot:activator=\"{ on }\">\n                                            <v-btn  class=\"mr-2 text-capitalize  black--text float-left\" v-on=\"on\" >\n                                                {{$t('select_template')}}\n                                                <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                            </v-btn>\n                                        </template>\n                                        <v-list>\n                                            <v-list-item v-for=\"(item, index) in templates\" :key=\"index\" >\n                                                <v-list-item-title>{{ item.title }}</v-list-item-title>\n                                            </v-list-item>\n                                        </v-list>\n                                    </v-menu>\n                                    <v-btn color=\"primary\" outlined class=\"text-capitalize  black--text float-left\" @click=\"cancel\">{{$t('cancel')}}</v-btn>\n                                    <v-menu>\n                                        <template v-slot:activator=\"{ on }\">\n                                            <v-btn   class=\"ml-2 float-right text-capitalize  black--text\" v-on=\"on\" >\n                                                {{$t('save_option')}}\n                                                <v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n                                            </v-btn>\n                                        </template>\n                                        <v-list rounded>\n                                            <v-list-item-group >\n                                                <v-list-item v-if=\"!isEdit\">\n                                                    <v-list-item-content>\n                                                        <v-list-item-title @click=\"onSaveOptionClick(SaveOption.SAVENEW)\">{{$t('save_new')}}</v-list-item-title>\n                                                    </v-list-item-content>\n                                                </v-list-item>\n                                                <v-list-item>\n                                                    <v-list-item-content>\n                                                        <v-list-item-title @click=\"onSaveOptionClick(SaveOption.SAVEPRINT)\">{{$t('save_print')}}</v-list-item-title>\n                                                    </v-list-item-content>\n                                                </v-list-item>\n                                                <v-list-item>\n                                                    <v-list-item-content>\n                                                        <v-list-item-title @click=\"onSaveOptionClick(SaveOption.SAVEDRAFT)\">{{$t('save_draft')}}</v-list-item-title>\n                                                    </v-list-item-content>\n                                                </v-list-item>\n                                            </v-list-item-group>\n                                        </v-list>\n                                    </v-menu>\n                                    <v-btn color=\"primary\" class=\"float-right  white--text text-capitalize \" @click=\"onSaveOptionClick(SaveOption.SAVECLOSE)\">{{$t('save_close')}}</v-btn>\n\n                                </v-card>\n                            </v-card>\n                        </v-card>\n                    </v-form>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                    :isLoading=\"showLoading\"\n                    :fullPage=\"true\"\n                    :myLoading=\"true\"\n                    :alertMessage=\"loadingAlert\"\n                    :color=\"loadingColorAlert\"\n                    :alertText=\"loadingTextAlert\"/>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n    import {i18n} from '@/i18n';\n\timport kendo from \"@progress/kendo-ui\";\n\timport Helper from \"@/helper.js\";\n\timport {\n\t\tJournalModel,\n\t\tJournalEntryModel,\n\t\tCurrencyModel,\n\t\tExchangeRateModel,\n\t\tAccountModel,\n\t} from \"@/scripts/model/AppModels\";\n\n\tconst $ = require(\"jquery\");\n\t\n\t/* Store */\n\timport store from \"@/store\"\n\tconst institute = store.state.institute.institute\n\n\tconst {\n\t\taccountHandler,\n\t\tjournalHandler,\n\t\tbankAccountHandler,\n\t} = require(\"@/scripts/AppHandlers\");\n\tconst { EntityType, SaveOption } = require(\"@/scripts/default_setup/Collections\");\n\n    export default {\n        name: \"CashTransaction\",\n        components:{\n\t\t\t\"LoadingMe\": () => import('@/components/Loading'),\n\t\t\t\"app-datepicker\": () => import('@/components/custom_templates/DatePickerComponent'),\n\t\t\t\"app-currency-dropdownlist\": () => import('@/components/dropdownlist/Currency'),\n\t\t},\n\t\tprops: {\n\t\t\tinitJournal: {\n\t\t\t\ttype: JournalModel\n\t\t\t},\n\t\t},\n\t\tdata: () => ({\n\t\t\t/* Obj */\n\t\t\tjournal: new JournalModel(),\n\t\t\tcurrency\t\t: new CurrencyModel(institute.baseCurrency),\n\t\t\texchangeRate\t: new ExchangeRateModel(institute.baseCurrency),\n\t\t\tjournalEntries: [],\n\t\t\tfromAccountEntries : [],\n\t\t\ttoAccountEntries   : [],\n\t\t\t// Accounts\n\t\t\taccounts: [],\n\t\t\tfromAccounts: [],\n\t\t\ttoAccounts: [],\n\t\t\t// Banks\n\t\t\tuseFromBank \t: false,\n\t\t\tuseToBank \t\t: false,\n\t\t\tbankAccounts \t: [],\n\t\t\tfromBankId \t\t: '',\n\t\t\ttoBankId \t\t: '',\n\t\t\tcashTransactionTypes: EntityType.CASH_TRANSACTION_TYPES,\n\t\t\t// Other\n\t\t\ttotalFrom       : 0,\n\t\t\ttotalTo         : 0,\n\t\t\ttemplates: [],\n\t\t\tuser: Helper.getUser(),\n\t\t\t// Form validation\n\t\t\tvalid: true,\n\t\t\tisEdit: false,\n\t\t\talert: false,\n\t\t\terrorMessage: \"\",\n\t\t\tsaveMode: \"\",\n\t\t\tSaveOption: SaveOption,\n\t\t\t// LoadingMe\n\t\t\tshowLoading: false,\n\t\t\tloadingAlert: false,\n\t\t\tloadingColorAlert: \"\",\n\t\t\tloadingTextAlert: \"\",\n        }),\n        methods:  {\n\t\t\t// Initial Data\n\t\t\tinitialData(){\n\t\t\t\tif(this.initJournal){// Edit Mode\n\t\t\t\t\tthis.journal = this.initJournal;\n\t\t\t\t\tthis.bindData();\n\t\t\t\t}else{// Brand New Mode\n\t\t\t\t\tthis.setDefaultData();\n\t\t\t\t}\n\t\t\t},\n\t\t\t// Set default data\n\t\t\tsetDefaultData () {\n\t\t\t\t// Brand New Mode\n\t\t\t\tthis.isEdit = false;\n\n\t\t\t\tthis.journal = new JournalModel({\n\t\t\t\t\tjournal_type: EntityType.AUTO_JOURNAL,\n\t\t\t\t\ttransaction_type: EntityType.CASH_TRANSACTION_TYPES[0].value,\n\t\t\t\t\tjournal_date: new Date().toISOString().substr(0, 10),\n\t\t\t\t});\n\n\t\t\t\t// Generate Number\n\t\t\t\tthis.generateNumber();\n\n\t\t\t\t// Add two default rows\n\t\t\t\tfor (let index = 0; index < 2; index++) {\n\t\t\t\t\tthis.addRowFrom();\n\t\t\t\t\tthis.addRowTo();\n\t\t\t\t}\n\t\t\t},\n\t\t\t// Bind data from prop for edit mode\n\t\t\tbindData() {\n\t\t\t\t// Edit Mode\n\t\t\t\tthis.isEdit = true;\n\n\t\t\t\t// Currency\n\t\t\t\tthis.currency = new CurrencyModel(this.journal.journal_entries[0].currency);\n\t\t\t\tthis.exchangeRate = new ExchangeRateModel(this.journal.journal_entries[0].currency);\n\t\t\t\tthis.exchangeRate.id = this.journal.journal_entries[0].exchange_rate_uuid;\n\t\t\t\tthis.exchangeRate.rate = this.journal.journal_entries[0].exchange_rate;\n\n\t\t\t\tlet totalFrom = 0,\n\t\t\t\t\ttotalTo = 0,\n\t\t\t\t\tfromEntries = [],\n\t\t\t\t\ttoEntries = [];\n\n\t\t\t\tthis.journal.journal_entries.forEach(value => {\n\t\t\t\t\tlet je = new JournalEntryModel(value);\n\n\t\t\t\t\tif(value.amount > 0){// Dr side\n\t\t\t\t\t\tfromEntries.push(je);\n\t\t\t\t\t\ttotalFrom += value.amount;\n\t\t\t\t\t}else{// Cr side\n\t\t\t\t\t\tje.amount = Math.abs(value.amount);\n\t\t\t\t\t\ttoEntries.push(je);\n\t\t\t\t\t\ttotalTo += je.amount;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.totalFrom = totalFrom;\n\t\t\t\tthis.totalTo = totalTo;\n\t\t\t\tthis.fromAccountEntries = fromEntries;\n\t\t\t\tthis.toAccountEntries = toEntries;\n\t\t\t},\n\t\t\t// Number\n\t\t\tasync generateNumber() {\n\t\t\t\tif(!this.isEdit){\n\t\t\t\t\tlet num = await Helper.generateAccountingNumber(this.journal.transaction_type, this.journal.journal_date);\n\t\t\t\t\t\n\t\t\t\t\tthis.journal.number = num.number;\n\t\t\t\t\tthis.journal.prefix_format = num.prefix_format;\n\t\t\t\t}\n            },\n\t\t\t// Get Exchange Rate\n\t\t\tasync getExchangeRate() {\n\t\t\t\tif(this.journal.journal_date && this.currency.code !== ''){\n\t\t\t\t\tthis.exchangeRate = await Helper.getLastExchangeRateByDate(this.journal.journal_date, this.currency.code);\n\t\t\t\t}else{\n\t\t\t\t\tthis.exchangeRate = new ExchangeRateModel(institute.baseCurrency);\n\t\t\t\t}\n\t\t\t},\n\t\t\t/* Kendo */\n\t\t\t// DataSource Changes\n\t\t\tonFromDSChanges (e) {\n\t\t\t\tif(e.field){\n\t\t\t\t\tlet dataRow = e.items[0];\n\n\t\t\t\t\tif (e.field === \"account\") {\n\t\t\t\t\t\tthis.addExtraRowFrom(dataRow.uid);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dataSourceAutoCalculate();\n\t\t\t\t}\n\t\t\t},\n\t\t\tonToDSChanges (e) {\n\t\t\t\tif(e.field){\n\t\t\t\t\tlet dataRow = e.items[0];\n\t\t\t\t\t\n\t\t\t\t\tif (e.field === \"account\") {\n\t\t\t\t\t\tthis.addExtraRowTo(dataRow.uid);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dataSourceAutoCalculate();\n\t\t\t\t}\n\t\t\t},\n\t\t\t// Grid Custom Editor\n\t\t\tfromAccountEditor(container, options) {\n\t\t\t\treturn Helper.accountEditor(container, options, this.fromAccounts);\n\t\t\t},\n\t\t\ttoAccountEditor(container, options) {\n\t\t\t\treturn Helper.accountEditor(container, options, this.toAccounts);\n\t\t\t},\n\t\t\t// Auto Calculate In DataSource\n\t\t\tdataSourceAutoCalculate () {\n\t\t\t\tlet fromDS = this.$refs.fromDS.kendoWidget(),\n\t\t\t\t\ttoDS = this.$refs.toDS.kendoWidget(),\n\t\t\t\t\ttotalFrom = 0, totalTo = 0;\n\t\t\t\t\n\t\t\t\t// Sum\n\t\t\t\tfromDS.data().forEach(value => {\n\t\t\t\t\ttotalFrom += kendo.parseFloat(value.amount)\n\t\t\t\t})\n\t\t\t\ttoDS.data().forEach(value => {\n\t\t\t\t\ttotalTo += kendo.parseFloat(value.amount)\n\t\t\t\t})\n\n\t\t\t\tthis.totalFrom = totalFrom;\n\t\t\t\tthis.totalTo = totalTo;\n\t\t\t},\n\t\t\t// Row Number Template\n\t\t\trowNumberTmplFrom (dataItem) {\n\t\t\t\tlet ds = this.$refs.fromDS.kendoWidget(),\n\t\t\t\t\tindex = ds.indexOf(dataItem);\n\n\t\t\t\treturn index + 1;\n            },\n            rowNumberTmplTo (dataItem) {\n\t\t\t\tlet ds = this.$refs.toDS.kendoWidget(),\n\t\t\t\t\tindex = ds.indexOf(dataItem);\n\n\t\t\t\treturn index + 1;\n\t\t\t},\n\t\t\t// Add New Row\n\t\t\taddRowFrom () {\n\t\t\t\tlet ds = this.$refs.fromDS.kendoWidget(),\n\t\t\t\t\tlast = ds.total(),\n\t\t\t\t\tje = new JournalEntryModel();\n\n\t\t\t\tds.insert(last, je);\n            },\n            addRowTo () {\n\t\t\t\tlet ds = this.$refs.toDS.kendoWidget(),\n\t\t\t\t\tlast = ds.total(),\n\t\t\t\t\tje = new JournalEntryModel();\n\n\t\t\t\tds.insert(last, je);\n\t\t\t},\n\t\t\t// Add Extra Row\n\t\t\taddExtraRowFrom (uid) {\n\t\t\t\tlet ds = this.$refs.fromDS.kendoWidget(),\n\t\t\t\t\ttotal = ds.total(),\n\t\t\t\t\trow = ds.getByUid(uid),\n\t\t\t\t\tindex = ds.indexOf(row);\n\n\t\t\t\tif(index == total - 1){\n\t\t\t\t\tthis.addRowFrom();\n\t\t\t\t}\n            },\n            addExtraRowTo (uid) {\n\t\t\t\tlet ds = this.$refs.toDS.kendoWidget(),\n\t\t\t\t\ttotal = ds.total(),\n\t\t\t\t\trow = ds.getByUid(uid),\n\t\t\t\t\tindex = ds.indexOf(row);\n\n\t\t\t\tif(index == total - 1){\n\t\t\t\t\tthis.addRowTo();\n\t\t\t\t}\n\t\t\t},\n\t\t\t// Remove Row\n\t\t\tremoveRowFrom (e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tlet grid = this.$refs.fromGrid.kendoWidget(),\n\t\t\t\t\tds = grid.dataSource,\n\t\t\t\t\tdataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\t\t\t\t\n\t\t\t\tif(ds.data().length > 2){\n\t\t\t\t\tds.remove(dataItem);\n\t\t\t\t}\n            },\n            removeRowTo (e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tlet grid = $(\"#toGrid\").data(\"kendoGrid\"),\n\t\t\t\t\tds = grid.dataSource,\n\t\t\t\t\tdataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\t\t\t\t\n\t\t\t\tif(ds.total() > 2){\n\t\t\t\t\tds.remove(dataItem);\n\t\t\t\t}\n\t\t\t},\n\t\t\t// Set Account By Bank\n\t\t\tsetAccountByFromBank(){\n\t\t\t\tlet ds = this.$refs.fromDS.kendoWidget();\n\t\t\t\tds.data([]);\n\n\t\t\t\t// On use bank checkbox changes\n\t\t\t\tif(!this.useFromBank){\n\t\t\t\t\tthis.fromBankId = '';\n\t\t\t\t}\n\n\t\t\t\t// On bank dropdownlist changes\n\t\t\t\tif(this.fromBankId !== ''){\n\t\t\t\t\tthis.fromAccounts = this.getAccountByBankId(this.fromBankId);\n\t\t\t\t} else {\n\t\t\t\t\tthis.fromAccounts = this.accounts;\n\t\t\t\t}\n\n\t\t\t\tthis.addRowFrom();\n\t\t\t\tthis.addRowFrom();\n\t\t\t},\n\t\t\tsetAccountByToBank(){\n\t\t\t\tlet ds = this.$refs.toDS.kendoWidget();\n\t\t\t\tds.data([]);\n\n\t\t\t\t// On use bank checkbox changes\n\t\t\t\tif(!this.useToBank){\n\t\t\t\t\tthis.toBankId = '';\n\t\t\t\t}\n\n\t\t\t\t// On bank dropdownlist changes\n\t\t\t\tif(this.toBankId !== ''){\n\t\t\t\t\tthis.toAccounts = this.getAccountByBankId(this.toBankId);\n\t\t\t\t} else {\n\t\t\t\t\tthis.toAccounts = this.accounts;\n\t\t\t\t}\n\n\t\t\t\tthis.addRowTo();\n\t\t\t\tthis.addRowTo();\n\t\t\t},\n\t\t\t// Get account by bank Id\n\t\t\tgetAccountByBankId(bankId){\n\t\t\t\tlet accounts = [];\n\n\t\t\t\tthis.bankAccounts.forEach(value => {\n\t\t\t\t\tif(value.bank.uuid === bankId){\n\t\t\t\t\t\taccounts.push(new AccountModel(value.account));\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn accounts;\n\t\t\t},\n\t\t\t// Shrink Data\n\t\t\tshrinkData () {\n\t\t\t\t// Journal Date\n\t\t\t\tthis.journal.journal_date = Helper.toISODate(this.journal.journal_date);\n\t\t\t\t\n\t\t\t\t// User\n\t\t\t\tif (this.isEdit) {\n\t\t\t\t\tthis.journal.modified_by = this.user;\n\t\t\t\t} else {\n\t\t\t\t\tthis.journal.created_by = this.user;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlet entries = [],\n\t\t\t\t\tfromDS = this.$refs.fromDS.kendoWidget(),\n\t\t\t\t\ttoDS = this.$refs.toDS.kendoWidget();\n\n\t\t\t\t// Filter From Account on Dr\n\t\t\t\ttoDS.data().forEach(value => {\n\t\t\t\t\tif(value.account.number !== \"\" && value.amount > 0){// Filter selected account\n\t\t\t\t\t\tvalue.set(\"account_uuid\", value.account.uuid);\n\t\t\t\t\t\t// Currency\n\t\t\t\t\t\tvalue.set(\"currency\", new CurrencyModel(this.currency));\n\t\t\t\t\t\tvalue.set(\"exchange_rate_uuid\", this.exchangeRate.id);\n\t\t\t\t\t\tvalue.set(\"exchange_rate\", this.exchangeRate.rate);\n\t\t\t\t\t\tentries.push(new JournalEntryModel(value));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// Filter To Account on Cr\n\t\t\t\tfromDS.data().forEach(value => {\n\t\t\t\t\tif(value.account.number !== \"\" && value.amount > 0){// Filter selected account\n\t\t\t\t\t\tvalue.set(\"account_uuid\", value.account.uuid);\n\t\t\t\t\t\t// Currency\n\t\t\t\t\t\tvalue.set(\"currency\", new CurrencyModel(this.currency));\n\t\t\t\t\t\tvalue.set(\"amount\", value.amount * -1); // Credit Side is negative\n\t\t\t\t\t\tvalue.set(\"exchange_rate_uuid\", this.exchangeRate.id);\n\t\t\t\t\t\tvalue.set(\"exchange_rate\", this.exchangeRate.rate);\n\n\t\t\t\t\t\tentries.push(new JournalEntryModel(value));\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\t// Journal Entries\n\t\t\t\tthis.journal.journal_entries = entries;\n\t\t\t},\n\t\t\t// Validating\n\t\t\tvalidateForm () {\n\t\t\t\tlet result = true,\n\t\t\t\t\tfromDS = this.$refs.fromDS.kendoWidget(),\n\t\t\t\t\ttoDS = this.$refs.toDS.kendoWidget(),\n\t\t\t\t\tmsg = '', countEmptyFrom = 0, countEmptyTo = 0;\n\n\t\t\t\t//FROM\n\t\t\t\tfromDS.data().forEach((value, index) => {\n\t\t\t\t\t// No account\n                    if(value.account.name === '' && value.amount > 0){\n                        result = false;\n                        msg += `<p>${i18n.t(\"please_select_from_account_at_row_number\")} ${index + 1}</p>`;\n                    }\n\n                    // No amount\n                    if(value.account.name !== '' && value.amount === 0){\n                        result = false;\n                        msg += `<p>${value.account.name} ${i18n.t(\"has_no_amount\")}</p>`;\n                    }\n\n                    // Count From Accounts\n                    if(value.account.name !== '' && value.amount > 0){\n                        countEmptyFrom++;\n                    }\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// Empty Row From Accounts\n\t\t\t\tif(countEmptyFrom === 0){\n\t\t\t\t\tmsg += `<p>${i18n.t(\"please_select_from_account\")}</p>`;\n\t\t\t\t\tresult = false;\n\t\t\t\t}\n\n\t\t\t\t//TO\n\t\t\t\ttoDS.data().forEach((value, index) => {\n\t\t\t\t\t// No account\n                    if(value.account.name === '' && value.amount > 0){\n                        result = false;\n                        msg += `<p>${i18n.t(\"please_select_to_account_at_row_number\")} ${index + 1}</p>`;\n                    }\n\n                    // No amount\n                    if(value.account.name !== '' && value.amount === 0){\n                        result = false;\n                        msg += `<p>${value.account.name} ${i18n.t(\"has_no_amount\")}</p>`;\n                    }\n\n                    // Count To Accounts\n                    if(value.account.name !== '' && value.amount > 0){\n                        countEmptyTo++;\n                    }\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// Empty Row To\n\t\t\t\tif(countEmptyTo === 0){\n\t\t\t\t\tmsg += `<p>${i18n.t(\"please_select_to_account\")}</p>`;\n\t\t\t\t\tresult = false;\n\t\t\t\t}\n\n\t\t\t\t// Balance From and To\n\t\t\t\tif(kendo.parseFloat(this.totalFrom) !== kendo.parseFloat(this.totalTo)){\n\t\t\t\t\tmsg += `<p>${i18n.t(\"total_from_and_total_to_is_not_balance\")}</p>`;\n\t\t\t\t\tresult = false;\n\t\t\t\t}\n\n\t\t\t\t// Show Alert\n\t\t\t\tthis.errorMessage = msg;\n\t\t\t\tthis.alert = false;\n\t\t\t\tif(result===false){\n\t\t\t\t\tthis.alert = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\t// All Saves\n\t\t\tasync onSaveOptionClick(mode) {\n\t\t\t\tif (this.$refs.form.validate() && this.validateForm()) {\n\t\t\t\t\tlet isValidClosingDate = await Helper.validateClosingDate(this.journal.journal_date);\n\t\t\t\t\tif (isValidClosingDate) {\n\t\t\t\t\t\tthis.saveMode = mode;\n\t\t\t\t\t\tthis.save();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcancel () {\n\t\t\t\tthis.$swal({\n\t\t\t\t\ttitle: i18n.t('msg_title_warning'),\n\t\t\t\t\ttext: i18n.t('msg_discard'),\n\t\t\t\t\ticon: \"warning\",\n\t\t\t\t\tshowCancelButton: true,\n\t\t\t\t\tcancelButtonText: i18n.t('cancel'),\n\t\t\t\t\tconfirmButtonColor: \"#4d4848\",\n\t\t\t\t\tcancelButtonColor: \"#ED1A3A\",\n\t\t\t\t\tconfirmButtonText: i18n.t('discard'),\n\t\t\t\t}).then((result) => {\n\t\t\t\t\tif (result.value) {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\tthis.setDefaultData();\n\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tclear () {\n\t\t\t\tthis.isEdit = false;\n\t\t\t\tthis.saveMode = '';\n\t\t\t\t\n\t\t\t\tthis.useFromBank = false;\n\t\t\t\tthis.useToBank = false;\n\n\t\t\t\tthis.currency = new CurrencyModel(institute.baseCurrency);\n\t\t\t\tthis.exchangeRate = new ExchangeRateModel(institute.baseCurrency);\n\n\t\t\t\tlet fromDS = this.$refs.fromDS.kendoWidget();\n                fromDS.data([]);\n                let toDS = this.$refs.toDS.kendoWidget();\n                toDS.data([]);\n\t\t\t},\n\t\t\tsave () {\n                let self = this;\n\t\t\t\t\n\t\t\t\t// Draft Mode\n\t\t\t\tif (this.saveMode === SaveOption.SAVEDRAFT) {\n\t\t\t\t\tthis.journal.is_draft = 1;\n\t\t\t\t} else {\n\t\t\t\t\tthis.journal.is_draft = 0;\n\t\t\t\t}\n\n\t\t\t\t// Shrink Data\n\t\t\t\tthis.shrinkData();\n\n\t\t\t\t// Sync Data\n\t\t\t\tthis.showLoading = true\n\t\t\t\tjournalHandler\n\t\t\t\t\t.save(new JournalModel(this.journal))\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tif (response) {\n\t\t\t\t\t\t\tself.responseStatus(response.status);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tHelper.alertErrorMsg(error);\n\t\t\t\t\t})\n\t\t\t\t\t.finally(() => {\n                        self.showLoading = false;\n                    });\n\t\t\t},\n\t\t\t// Response Status\n\t\t\tresponseStatus(status) {\n\t\t\t\tswitch (status) {\n\t\t\t\t\tcase 200: // Ok\n\t\t\t\t\t\tthis.showAlert();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 201: // Duplicate\n\t\t\t\t\t\tHelper.alertErrorMsg(\"Duplicate entry!\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\t// Sweetalert2\n\t\t\tchangeAlertStatus(){\n\t\t\t\tthis.loadingAlert = true\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.loadingAlert = false\n\t\t\t\t}, 6200);\n\t\t\t},\n\t\t\tshowAlert () {\n\t\t\t\tthis.changeAlertStatus()\n\t\t\t\tthis.loadingTextAlert =\"Added Successful\"\n\t\t\t\tthis.loadingColorAlert =\"#3DA72E\"\n\t\t\t\tswitch(this.saveMode) {\n\t\t\t\t\tcase 'saveClose':// Save Close\n\t\t\t\t\t\t// this.$swal({\n\t\t\t\t\t\t// \tposition: 'products',\n\t\t\t\t\t\t// \ticon: 'success',\n\t\t\t\t\t\t// \ttitle: 'Your work has been saved',\n\t\t\t\t\t\t// \tshowConfirmButton: true,\n\t\t\t\t\t\t// }).then((result) => {\n\t\t\t\t\t\t// \tif (result.value) {\n\t\t\t\t\t\t// \t\twindow.history.go(-1)\n\t\t\t\t\t\t\n\t\t\t\t\t\t// \t\treturn false\n\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t// })\n\t\t\t\t\t\tif(this.isEdit){\n\t\t\t\t\t\t\tthis.goBackToViewPage();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\tthis.setDefaultData();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:// Save New\n\t\t\t\t\t\t// this.$swal({\n\t\t\t\t\t\t// \tposition: 'products',\n\t\t\t\t\t\t// \ticon: 'success',\n\t\t\t\t\t\t// \ttitle: 'Your work has been saved',\n\t\t\t\t\t\t// \tshowConfirmButton: false,\n\t\t\t\t\t\t// \ttimer: 1500\n\t\t\t\t\t\t// })\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\tthis.setDefaultData();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\t// Go back to view page after edit mode\n\t\t\tgetJournal(){\n\t\t\t\treturn new JournalModel(this.journal);\n\t\t\t},\n\t\t\tgoBackToViewPage(){\n\t\t\t\tthis.$router.replace({ name: 'Cash Transaction View', params: { initJournal: this.getJournal() } });\n\t\t\t},\n\t\t},\n\t\twatch: {\n\t\t\tinitJournal () {\n\t\t\t\tthis.initialData();\n\t\t\t},\n\t\t},\n\t\tcreated () {\n\t\t\t// Account\n\t\t\taccountHandler.getAll()\n\t\t\t.then(res => {\n\t\t\t\tthis.accounts = res.data;\n\t\t\t\tthis.fromAccounts = res.data;\n\t\t\t\tthis.toAccounts = res.data;\n\t\t\t})\n\n\t\t\t// Bank Account\n\t\t\tbankAccountHandler.getAll()\n\t\t\t.then(res => {\n\t\t\t\tthis.bankAccounts = res.data;\n\t\t\t})\n\t\t},\n\t\tmounted () {\n\t\t\t// Initial Data\n\t\t\tthis.initialData();\n\t\t}\n    };\n</script>\n\n<style scoped>\n    .function_content {\n        padding: 0 25px 25px;\n        border-bottom: 0;\n    }\n    .attachment_table.theme--light.v-data-table{\n        background-color: transparent !important;\n    }\n    .from_to{\n        font-size: 26px !important;\n    }\n\n    @media (min-width: 1264px) {\n        .container {\n            /* max-width: 1185px; */\n            max-width: 1080px !important;\n        }\n    }\n\n    @media (max-width: 576px) {\n        .mb-6 {\n            margin-bottom: 0 !important;\n        }\n    }\n</style>"]}]}