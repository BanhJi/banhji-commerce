{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/banking/payments/merchant_payments/ConnectedAccounts.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/banking/payments/merchant_payments/ConnectedAccounts.vue","mtime":1638499443131},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDb25ubmVjdEJhbmtQYXJ0bmVyU2VydmljZU1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9iYW5raW5nL0Nvbm5lY3RCYW5rUGFydG5lclNlcnZpY2UuanMiOwoKLyogQ29va2llICovCmNvbnN0IGNvb2tpZUpTID0gcmVxdWlyZSgiQC9jb29raWUuanMiKTsKY29uc3Qge2luc3RpdHV0ZUlkfSA9IGNvb2tpZUpTLmdldENvb2tpZSgpOwoKY29uc3QgQmFua1BhcnRuZXJTZXJ2aWNlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9oYW5kbGVyL2JhbmtpbmcvQmFua1BhcnRuZXJTZXJ2aWNlLmpzIik7CmNvbnN0IEJhbmtQYXJ0bmVyVHlwZSA9IHJlcXVpcmUoIkAvc2NyaXB0cy9kZWZhdWx0X3NldHVwL0JhbmtQYXJ0bmVyVHlwZS5qcyIpOwoKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICBiYW5rczogW10sCiAgICB9KSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBsb2FkUGFydG5lclNlcnZpY2UoKSB7CiAgICAgICAgICAgIEJhbmtQYXJ0bmVyU2VydmljZUhhbmRsZXIuZ2V0QnlJbnN0aXR1dGUoaW5zdGl0dXRlSWQpCiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHNlcnZpY2VzID0gW107CiAgICAgICAgICAgICAgICAgICAgcmVzLmRhdGEuZm9yRWFjaCh2YWx1ZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5zZXJ2aWNlVHlwZS50b0xvd2VyQ2FzZSgpID09PSBCYW5rUGFydG5lclR5cGUuUVIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzLnB1c2gobmV3IENvbm5uZWN0QmFua1BhcnRuZXJTZXJ2aWNlTW9kZWwodmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbmtzID0gc2VydmljZXM7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgLy8gQ2FsbCBhZ2FpbiB0aGUgbWV0aG9kIGlmIHRoZSByb3V0ZSBjaGFuZ2VzCiAgICAgICAgJHJvdXRlKHRvLCBmcm9tKSB7CiAgICAgICAgICAgIGlmIChmcm9tLm5hbWUgPT09ICJDb25uZWN0IEJpbGwgUGF5bWVudCIpIHsKICAgICAgICAgICAgICAgIHRoaXMubG9hZFBhcnRuZXJTZXJ2aWNlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmxvYWRQYXJ0bmVyU2VydmljZSgpOwogICAgfQp9Owo="},{"version":3,"sources":["ConnectedAccounts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ConnectedAccounts.vue","sourceRoot":"src/views/banking/payments/merchant_payments","sourcesContent":["<template>\n    <v-row>\n        <v-col sm=\"12\" cols=\"12\" class=\"grayBg px-6\">\n            <v-card color=\"white\" class=\"pa-3 no_border\" elevation=\"0\">\n                <v-row>\n                    <v-col sm=\"6\" cols=\"12\" class=\"pt-0\">\n                        <h2 class=\"mb-0 font_20\">{{ $t('connected_accounts') }}</h2>\n                        <p class=\"mb-0\">{{ $t('connected_accounts_desc') }}</p>\n                    </v-col>\n                    <v-col sm=\"6\" cols=\"12\" class=\"pt-0\">\n                        <v-btn to=\"./connect_qr_payment\" class=\"white--text text-capitalize float-right\"\n                               color=\"primary\">\n                            {{ $t('new_connection') }}\n                        </v-btn>\n                    </v-col>\n                </v-row>\n\n                <v-row>\n                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                        <template>\n                            <v-simple-table class=\"attachment_table\">\n                                <template v-slot:default>\n                                    <thead>\n                                    <tr>\n                                        <th>{{ $t('fi') }}</th>\n                                        <th>{{ $t('name') }}</th>\n                                        <th>{{ $t('merchant') }}</th>\n                                        <th>{{ $t('account') }}</th>\n                                    </tr>\n                                    </thead>\n                                    <tbody>\n                                    <tr v-for=\"item in banks\"\n                                        :key=\"item.id\">\n                                        <td>\n                                            <v-img width=\"60\" class=\"borderRadius20\" :src=\"item.logo\"/>\n                                        </td>\n                                        <td><h4>{{ item.bank }}</h4></td>\n                                        <td>{{ item.merchant.id }}</td>\n                                        <td>\n                                            <span v-if=\"item.coa\">{{\n                                                    item.coa.account.number\n                                                }} - {{ item.coa.account.name }}</span>\n                                        </td>\n                                    </tr>\n                                    </tbody>\n                                </template>\n                            </v-simple-table>\n                        </template>\n                    </v-col>\n                </v-row>\n            </v-card>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\nimport ConnnectBankPartnerServiceModel from \"@/scripts/model/banking/ConnectBankPartnerService.js\";\n\n/* Cookie */\nconst cookieJS = require(\"@/cookie.js\");\nconst {instituteId} = cookieJS.getCookie();\n\nconst BankPartnerServiceHandler = require(\"@/scripts/handler/banking/BankPartnerService.js\");\nconst BankPartnerType = require(\"@/scripts/default_setup/BankPartnerType.js\");\n\nexport default {\n    data: () => ({\n        banks: [],\n    }),\n    methods: {\n        loadPartnerService() {\n            BankPartnerServiceHandler.getByInstitute(instituteId)\n                .then((res) => {\n                    let services = [];\n                    res.data.forEach(value => {\n                        if (value.serviceType.toLowerCase() === BankPartnerType.QR) {\n                            services.push(new ConnnectBankPartnerServiceModel(value));\n                        }\n                    });\n\n                    this.banks = services;\n                });\n        },\n    },\n    watch: {\n        // Call again the method if the route changes\n        $route(to, from) {\n            if (from.name === \"Connect Bill Payment\") {\n                this.loadPartnerService();\n            }\n        }\n    },\n    mounted() {\n        this.loadPartnerService();\n    }\n};\n</script>\n\n<style scoped>\n.theme--light.v-data-table {\n    background-color: transparent !important;\n}\n\n.v-data-table > .v-data-table__wrapper > table > tbody > tr > td {\n    height: 32px !important;\n    border-bottom: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n\n.v-data-table > .v-data-table__wrapper > table > tbody > tr:first-child > td {\n    border-top: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n\n.borderRadius20 {\n    border-radius: 20% !important;\n}\n\n.theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n</style>"]}]}