{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products_services/product/product_list_catalog/Catalogs.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products_services/product/product_list_catalog/Catalogs.vue","mtime":1643182494432},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jYXRhbG9nIHsKICB3aWR0aDogMTAwJTsKfQoKI2xpc3RWaWV3IHsKICBwYWRkaW5nOiAxMHB4IDVweDsKICBtYXJnaW4tYm90dG9tOiAtMXB4OwogIG1pbi1oZWlnaHQ6IDMwMHB4Owp9CgoucHJvZHVjdCB7CiAgZmxvYXQ6IGxlZnQ7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHdpZHRoOiAxMDAlOwogIC8qIGhlaWdodDogMTgwcHg7ICovCiAgbWFyZ2luOiAwIDVweDsKICBwYWRkaW5nOiAwOwp9CgoucHJvZHVjdCBpbWcgewogIC8qIHdpZHRoOiAxMDAlOyAqLwogIG1hcmdpbjogYXV0bzsKICBoZWlnaHQ6IDEyMHB4Owp9CgoucHJvZHVjdCBoMyB7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDNweCA1cHggMCAwOwogIG1hcmdpbi1ib3R0b206IDBweCAhaW1wb3J0YW50OwogIG92ZXJmbG93OiBoaWRkZW47CiAgbGluZS1oZWlnaHQ6IDEuMWVtOwogIGZvbnQtc2l6ZTogMTRweCAhaW1wb3J0YW50OwogIGZvbnQtd2VpZ2h0OiBub3JtYWw7Cn0KCi5wcm9kdWN0IHAgewogIC8qIHZpc2liaWxpdHk6IGhpZGRlbjsgKi8KfQoKLnByb2R1Y3Q6aG92ZXIgcCB7CiAgdmlzaWJpbGl0eTogdmlzaWJsZTsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgd2lkdGg6IDExMHB4OwogIGhlaWdodDogMTEwcHg7CiAgdG9wOiAwOwogIG1hcmdpbjogMDsKICBwYWRkaW5nOiAwOwogIGxpbmUtaGVpZ2h0OiAxMTBweDsKICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBjb2xvcjogI2ZmZjsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNzUpOwogIHRyYW5zaXRpb246IGJhY2tncm91bmQgLjJzIGxpbmVhciwgY29sb3IgLjJzIGxpbmVhcjsKICAtbW96LXRyYW5zaXRpb246IGJhY2tncm91bmQgLjJzIGxpbmVhciwgY29sb3IgLjJzIGxpbmVhcjsKICAtd2Via2l0LXRyYW5zaXRpb246IGJhY2tncm91bmQgLjJzIGxpbmVhciwgY29sb3IgLjJzIGxpbmVhcjsKICAtby10cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIC4ycyBsaW5lYXIsIGNvbG9yIC4ycyBsaW5lYXI7Cn0KCi5rLWxpc3R2aWV3OmFmdGVyIHsKICBjb250ZW50OiAiLiI7CiAgZGlzcGxheTogYmxvY2s7CiAgaGVpZ2h0OiAwOwogIGNsZWFyOiBib3RoOwogIHZpc2liaWxpdHk6IGhpZGRlbjsKfQoKCg=="},{"version":3,"sources":["Catalogs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqOA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Catalogs.vue","sourceRoot":"src/views/products_services/product/product_list_catalog","sourcesContent":["<template>\n  <v-row class=\"px-0\">\n    <v-col sm=\"12\" cols=\"12\" class=\"grayBg px-6\">\n      <v-card outlined dense class=\"pa-3 no_border\" color=\"white\" height=\"100%\">\n        <v-row>\n          <v-col sm=\"4\"  cols=\"12\" class=\"pb-0\">\n               <v-select class=\"\"\n                  tage=\"Product Category\"\n                  v-model=\"mCategory\"\n                  :items=\"categories\"\n                  item-value=\"id\"\n                  :item-text=\"item =>`${item.abbr} - ${item.name}`\"\n                  @change=\"onCategoryChanged\"\n                  return-object\n                  :placeholder=\"$t('category')\"\n                  clearable\n                  outlined/>\n          </v-col>\n          <v-col sm=\"4\"  cols=\"12\" class=\"pb-0\">\n                <v-select class=\"\"\n                  tage=\"Product Group\"\n                  v-model=\"mGroup\"\n                  :items=\"group\"\n                  item-value=\"id\"\n                  :item-text=\"item =>`${item.abbr} - ${item.name}`\"\n                  @change=\"onGroupChanged\"\n                  return-object\n                  :placeholder=\"$t('group')\"\n                  clearable\n                  outlined/>\n          </v-col>\n          <v-col sm=\"4\"  cols=\"12\" class=\"pb-0\" >\n            <v-select class=\"\"\n                  tage=\"Sub Group\"\n                  v-model=\"mSubGroup\"\n                  :items=\"subGroup\"\n                  item-value=\"id\"\n                  :item-text=\"item =>`${item.abbr} - ${item.name}`\"\n                  @change=\"onSubGroupChanged\"\n                  return-object\n                  :placeholder=\"$t('sub_group')\"\n                  clearable\n                  outlined/>\n          </v-col>\n          <v-col sm=\"12\" cols=\"12\" class=\"pa-0\">\n                  <v-card outlined dense class=\"pa-3 no_border\"  color=\"white\">\n        <LoadingMe :isLoading=\"showLoading\" :fullPage=\"false\" :myLoading=\"true\"/>\n        <template>\n\n          <kendo-listview :data-source=\"catalogData\" :template=\"itemTemplate\"\n                          id=\"lstCatalog\">\n          </kendo-listview>\n\n        </template>\n      </v-card>\n          </v-col>\n\n        </v-row>\n     \n\n    \n\n      </v-card>\n    </v-col>\n\n  </v-row>\n</template>\n<script>\n// import kendo from \"@progress/kendo-ui\";\n\nimport kendo from \"@progress/kendo-ui\";\n\n// const $ = require(\"jquery\")\nconst categoryHandler = require(\"@/scripts/categoryHandler\")\nconst groupHandler = require(\"@/scripts/groupHandler\")\nconst subGroupHandler = require(\"@/scripts/subGroupHandler\")\nconst productVariantHandler = require(\"@/scripts/productVariantHandler\")\nimport {ListView} from '@progress/kendo-listview-vue-wrapper'\n// import {DataSource} from '@progress/kendo-datasource-vue-wrapper'\n\nexport default {\n  name: \"Catalog\",\n  components: {\n    LoadingMe: () => import(`@/components/Loading`),\n    'kendo-listview': ListView,\n    // 'kendo-pager': Pager,\n    // 'kendo-datasource': DataSource\n  },\n  data() {\n    return {\n      url: '',\n      showLoading: false,\n      categories: [],\n      groups: [],\n      group: [],\n      subGroups: [],\n      subGroup: [],\n      varLists: [],\n      mCategory: {},\n      mSubGroup: {},\n      mGroup: {},\n      mGroups: {},\n      catalogData: [],\n      itemTemplate: `\n                <div class=\"product\" style=\"padding: 12px;\">\n                    <img  src=#=imgUrl# alt=\"#: name #\" />\n                    <h3 style=\"font-size: 12px; margin-bottom: 5px\">#:name#</h3>\n                    <span>#:sku#</span>\n                </div>`\n    }\n  },\n  methods: {\n    onGroupChanged() {\n      if (this.mGroup) {\n        // this.loadData(this.mGroup.id)\n      }\n    },\n    onSubGroupChanged() {\n      if (this.mSubGroup) {\n        // this.loadData(this.mSubGroup.id)\n      }\n    },\n    async onCategoryChanged() {\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved');\n          this.mGroup = ''\n          this.mSubGroup = ''\n\n          if (this.mCategory) {\n            if (this.groups) {\n              this.showLoading = true\n              this.group = this.groups.filter(m => m.category.id === this.mCategory.id)\n              this.showLoading = false\n              if (this.group.length > 0) {\n                this.mGroup = this.group[0]\n                this.subGroup = this.subGroups.filter(m => m.group.id === this.group[0].id)\n                if (this.subGroup.length > 0) {\n                  this.mSubGroup = this.subGroup[0]\n                  this.loadData(this.mSubGroup.id)\n                } else {\n                  this.loadData(this.mGroup.id)\n                }\n              } else {\n                this.loadData(this.mCategory.id)\n                this.showLoading = false\n              }\n            }\n          }\n        }, 10);\n      })\n    },\n    async loadCategory() {\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved');\n          categoryHandler.get().then(res => {\n            this.categories = res\n            this.categories = this.categories.filter(m => m.type.name === 'Product')\n            if (this.categories.length > 0) {\n              this.mCategory = this.categories[0]\n              this.onCategoryChanged()\n            }\n          })\n        }, 10);\n      })\n    },\n    async loadGroup() {\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved');\n          groupHandler.get().then(res => {\n            this.groups = res\n          })\n        }, 10);\n      })\n    },\n    async loadSubGroup() {\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved');\n          subGroupHandler.get().then(res => {\n            this.subGroups = res\n          })\n        }, 10);\n      })\n    },\n    async loadData(id) {\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved');\n          this.catalogData = []\n          this.catalogData = new kendo.data.DataSource({\n            serverFiltering: true,\n            transport: {\n              read: {\n                url: productVariantHandler.url(id),\n              },\n              dataType: \"json\",\n            },\n            schema: {\n              model: {\n                id: \"id\"\n              },\n              data: function (res) {\n                return res.data;\n              },\n              total: function (res) {\n                return res.data.length;\n              }\n            },\n          })\n        }, 10);\n      })\n    },\n  },\n  mounted: async function () {\n    await this.loadCategory()\n    await this.loadGroup()\n    await this.loadSubGroup()\n    // this.$refs.datasource1.kendoDataSource.read();\n  },\n  created: async function () {\n\n  },\n\n}\n</script>\n<style>\n.catalog {\n  width: 100%;\n}\n\n#listView {\n  padding: 10px 5px;\n  margin-bottom: -1px;\n  min-height: 300px;\n}\n\n.product {\n  float: left;\n  position: relative;\n  width: 100%;\n  /* height: 180px; */\n  margin: 0 5px;\n  padding: 0;\n}\n\n.product img {\n  /* width: 100%; */\n  margin: auto;\n  height: 120px;\n}\n\n.product h3 {\n  margin: 0;\n  padding: 3px 5px 0 0;\n  margin-bottom: 0px !important;\n  overflow: hidden;\n  line-height: 1.1em;\n  font-size: 14px !important;\n  font-weight: normal;\n}\n\n.product p {\n  /* visibility: hidden; */\n}\n\n.product:hover p {\n  visibility: visible;\n  position: absolute;\n  width: 110px;\n  height: 110px;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  line-height: 110px;\n  vertical-align: middle;\n  text-align: center;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.75);\n  transition: background .2s linear, color .2s linear;\n  -moz-transition: background .2s linear, color .2s linear;\n  -webkit-transition: background .2s linear, color .2s linear;\n  -o-transition: background .2s linear, color .2s linear;\n}\n\n.k-listview:after {\n  content: \".\";\n  display: block;\n  height: 0;\n  clear: both;\n  visibility: hidden;\n}\n\n\n</style>"]}]}