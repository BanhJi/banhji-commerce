{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/suppliers/AdvanceRequest.vue?vue&type=style&index=0&id=cc7bc362&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/suppliers/AdvanceRequest.vue","mtime":1638499443334},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5zbWFsbF9zaWRlYmFyIHsKCWhlaWdodDogOTglOwoJcG9zaXRpb246IHJlbGF0aXZlOwoJcGFkZGluZzogMTJweDsKCWJhY2tncm91bmQtY29sb3I6ICNlZGYxZjU7Cn0KCi5oaWRlX3NtYWxsX2Jhcl9jbGFzcyB7CgltYXgtd2lkdGg6IDA7Cgl0cmFuc2l0aW9uOiAwLjNzIGVhc2UtaW47CglmbGV4OiAwIDAgMDsKfQoKLmhpZGVfYmlnX2Jhcl9jbGFzcyB7CgltYXgtd2lkdGg6IDEwMCU7Cgl0cmFuc2l0aW9uOiAwLjNzIGVhc2UtaW47CglmbGV4OiAwIDAgMTAwJTsKfQoKLmljb25BcnJvdyB7CglyaWdodDogLTM1cHg7Cglwb3NpdGlvbjogYWJzb2x1dGU7Cglib3R0b206IC0xMHB4Owp9CgouaWNvbkFycm93SGlkZSB7Cglwb3NpdGlvbjogYWJzb2x1dGU7CglyaWdodDogLTdweDsKCWJvdHRvbTogLTEwcHg7Cn0KCi5kZXRpYWxfc21hbGxzaWRlX3AgewoJcG9zaXRpb246IGFic29sdXRlOwoJYm90dG9tOiAxMHB4Owp9CgpAbWVkaWEgKG1pbi13aWR0aDogMTI2NHB4KSB7CgkuY29udGFpbmVyIHsKCQltYXgtd2lkdGg6IDEyNTBweDsKCX0KfQoKQG1lZGlhIChtYXgtd2lkdGg6IDU3NnB4KSB7CgkubWItNiB7CgkJbWFyZ2luLWJvdHRvbTogMCAhaW1wb3J0YW50OwoJfQp9Cg=="},{"version":3,"sources":["AdvanceRequest.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsoBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"AdvanceRequest.vue","sourceRoot":"src/views/suppliers","sourcesContent":["<template>\n\t<v-app>\n\t\t<v-container>\n\t\t\t<v-row>\n\t\t\t\t<v-col sm=\"12\" cols=\"12\">\n\t\t\t\t\t<v-card\n\t\t\t\t\t\toutlined\n\t\t\t\t\t\tdense\n\t\t\t\t\t\tclass=\"pa-4 no_border rounded-sm\"\n\t\t\t\t\t\tcolor=\"white\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t<v-col\n\t\t\t\t\t\t\t\tclass=\"bigSide py-0\"\n\t\t\t\t\t\t\t\tsm=\"8\"\n\t\t\t\t\t\t\t\tcols=\"12\"\n\t\t\t\t\t\t\t\tstyle=\"transition: 0.3s ease-in\"\n\t\t\t\t\t\t\t\t:class=\"{ hide_big_bar_class: isHideBar }\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n\t\t\t\t\t\t\t\t\t<v-card outlined dense class=\"no_border\">\n\t\t\t\t\t\t\t\t\t\t<h2 class=\"mb-0\">\n\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"advance_request\") }}\n\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t<v-icon\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"isHideBar\"\n\t\t\t\t\t\t\t\t\t\t\tonclick=\"window.history.go(-1); return false;\"\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: #333;\n\t\t\t\t\t\t\t\t\t\t\t\tfont-size: 40px;\n\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"float-right\"\n\t\t\t\t\t\t\t\t\t\t\t>close\n\t\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\t\t\t\t\ttransition: 0.3s ease-in;\n\t\t\t\t\t\t\t\t\t\t\t\tz-index: 10;\n\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t\t\t\t\ticonArrow: !isHideBar,\n\t\t\t\t\t\t\t\t\t\t\t\ticonArrowHide: isHideBar,\n\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<v-icon\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"22\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"arr_icon\"\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"hide_smallsitebar\"\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"isHideBar\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tmdi-chevron-left-circle\n\t\t\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t\t\t\t<v-icon\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"22\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"arr_icon\"\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"hide_smallsitebar\"\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"!isHideBar\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tmdi-chevron-right-circle\n\t\t\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t\t<!-- Body -->\n\t\t\t\t\t\t\t\t\t<v-card\n\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\tdense\n\t\t\t\t\t\t\t\t\t\tclass=\"px-3 no_border mb-3\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"grayBg\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"employee\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<app-employee-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t\t:initEmployee=\"employee\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@emitEmployee=\"employee = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"number\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"cashAdvance.ref_number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\treadonly\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"request_amount\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"cashAdvance.request_amount\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:rules=\"[(v) => !!v || $t('is_required')]\"\n\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"date\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<app-datepicker\n\t\t\t\t\t\t\t\t\t\t\t\t\t:initialDate=\"cashAdvance.requested_date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@emitDate=\"cashAdvance.requested_date = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"onDateChanges\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"txn_currency\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<app-currency-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t\t:initCurrency=\"cashAdvance.currency\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@emitCurrency=\"cashAdvance.currency = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"expected_date\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<app-datepicker\n\t\t\t\t\t\t\t\t\t\t\t\t\t:initialDate=\"cashAdvance.expected_date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@emitDate=\"cashAdvance.expected_date = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- <v-card\n\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\t\tdense\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"pa-5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackground-color: #fff;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder: 0 !important;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"txn_detail\") }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\"request_amount\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"cashAdvance.request_amount\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\"expected_date\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<app-datepicker\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:initialDate=\"cashAdvance.expected_date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@emitDate=\"cashAdvance.expected_date = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-card> -->\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{\n\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\"explanation_request\")\n\t\t\t\t\t\t\t\t\t\t\t\t}}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-textarea\n                                                    class=\"mt-1\"\n                                                    height=\"115px\"\n                                                    v-model=\"cashAdvance.purpose\"\n                                                    outlined\n                                                    no-resize\n                                                    rows=\"10\"\n                                                    color=\"30\"\n                                                />\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t\t<!-- And Body -->\n\t\t\t\t\t\t\t\t\t<v-divider />\n\t\t\t\t\t\t\t\t\t<v-card outlined dense class=\"no_border function_footer\">\n\t\t\t\t\t\t\t\t\t\t<!-- Alert Error Message -->\n\t\t\t\t\t\t\t\t\t\t<v-alert type=\"warning\" v-model=\"alert\" dismissible>\n\t\t\t\t\t\t\t\t\t\t\t<span v-html=\"errorMessage\" />\n\t\t\t\t\t\t\t\t\t\t</v-alert>\n\n\t\t\t\t\t\t\t\t\t\t<!-- Save Buttons -->\n\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"black\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"float-left  white--text text-capitalize\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"cancel\"\n\t\t\t\t\t\t\t\t\t\t\t>{{ $t(\"cancel\") }}\n\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"ml-2 text-capitalize  white--text\"\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"isEdit\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"confirmDelete\"\n\t\t\t\t\t\t\t\t\t\t\t>{{ $t(\"delete\") }}\n\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"float-right  white--text text-capitalize\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"onSaveOptionClick(SaveOption.SAVECLOSE)\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"save\") }}\n\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t</v-form>\n\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t<v-col\n\t\t\t\t\t\t\t\tclass=\"smallSide\"\n\t\t\t\t\t\t\t\tsm=\"4\"\n\t\t\t\t\t\t\t\tstyle=\"transition: 0.3s ease-in\"\n\t\t\t\t\t\t\t\t:class=\"{ hide_small_bar_class: isHideBar }\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\t\t\tstyle=\"color: #b3b5bc; font-size: 20px\"\n\t\t\t\t\t\t\t\t\tv-if=\"!isHideBar\"\n\t\t\t\t\t\t\t\t\tclass=\"text-uppercase float-right mt-n3\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span class=\"pointer\" @click=\"Help('advance request')\">\n\t\t\t\t\t\t\t\t\t\t{{ $t(\"help\") }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<v-icon\n\t\t\t\t\t\t\t\t\t\tonclick=\"window.history.go(-1); return false;\"\n\t\t\t\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\t\t\t\t\tcolor: #333;\n\t\t\t\t\t\t\t\t\t\t\tfont-size: 40px;\n\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\tclass=\"float-right mt-n1\"\n\t\t\t\t\t\t\t\t\t\t>close\n\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t</h3>\n\n\t\t\t\t\t\t\t\t<div v-if=\"!isHideBar\" class=\"small_sidebar mt-9 px-4 grayBg\">\n\t\t\t\t\t\t\t\t\t<v-card\n\t\t\t\t\t\t\t\t\t\tclass=\"pa-3 no-boxshadow\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\t\t\t\tmin-height: 70px;\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"font-size: 18px\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-white float-left text-uppercase\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"amount_requested\") }}\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-bold float-right mt-6 text-white\"\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"font-size: 22px\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{{ Number(cashAdvance.request_amount).toLocaleString() }}\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t\t<!-- <v-divider class=\"my-2\" /> -->\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"\"\n\t\t\t\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\t\t\t\theight: 3px;\n\t\t\t\t\t\t\t\t\t\t\tbackground-color: #ffffff;\n\t\t\t\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t\t<v-col sm=\"12\" cols=\"6\" class=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{\n\t\t\t\t\t\t\t\t\t\t\t\t$t(\"business_unit_segment\")\n\t\t\t\t\t\t\t\t\t\t\t}}</label>\n\t\t\t\t\t\t\t\t\t\t\t<app-segment-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t:initSegment=\"segment\"\n\t\t\t\t\t\t\t\t\t\t\t\t@emitSegment=\"segment = $event\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"project\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t<app-project-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t:initProject=\"project\"\n\t\t\t\t\t\t\t\t\t\t\t\t@emitProject=\"project = $event\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"location\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t<app-location-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t:initLocation=\"location\"\n\t\t\t\t\t\t\t\t\t\t\t\t@emitLocation=\"location = $event\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"for_the_month_of\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t<app-monthof-picker\n\t\t\t\t\t\t\t\t\t\t\t\t:initMonthOf=\"cashAdvance.month_of\"\n\t\t\t\t\t\t\t\t\t\t\t\t@emitMonthOf=\"cashAdvance.month_of = $event\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t</v-row>\n\n\t\t\t\t\t\t\t\t\t<p class=\"mb-0 detial_smallside_p font_14\">\n\t\t\t\t\t\t\t\t\t\t{{ $t(\"advance_function_desc\") }}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t</v-row>\n\t\t\t\t\t</v-card>\n\t\t\t\t</v-col>\n\t\t\t</v-row>\n\t\t\t<LoadingMe :isLoading=\"showLoading\" :fullPage=\"true\" :myLoading=\"true\" />\n\t\t</v-container>\n\t</v-app>\n</template>\n\n<script>\nimport { i18n } from \"@/i18n\";\nimport kendo from \"@progress/kendo-ui\";\nimport Helper from \"@/helper.js\";\nimport { ShowResource } from \"@/observable/store\";\nimport {\n\tCashAdvanceModel,\n\tEmployeeModel,\n\tContactModel,\n\tProjectModel,\n\tSegmentModel,\n\tLocationModel,\n} from \"@/scripts/model/AppModels\";\n\nconst { cashAdvanceHandler } = require(\"@/scripts/AppHandlers\");\nconst {\n\tSaveOption,\n\tEntityType,\n\tWorkFlowStatus,\n} = require(\"@/scripts/default_setup/Collections\");\n\nexport default {\n\tname: \"AdvanceRequest\",\n\tcomponents: {\n\t\tLoadingMe: () => import(\"@/components/Loading\"),\n\t\t\"app-datepicker\": () =>\n\t\t\timport(\"@/components/custom_templates/DatePickerComponent\"),\n\t\t\"app-monthof-picker\": () =>\n\t\t\timport(\"@/components/kendo_templates/MonthOfPicker\"),\n\t\t\"app-currency-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Currency\"),\n\t\t\"app-employee-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Employee\"),\n\t\t\"app-project-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Project\"),\n\t\t\"app-segment-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Segment\"),\n\t\t\"app-location-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Location\"),\n\t},\n\tprops: {\n\t\tinitCashAdvance: {\n\t\t\ttype: CashAdvanceModel,\n\t\t},\n\t},\n\tdata: () => ({\n\t\t// Obj\n\t\tcashAdvance: new CashAdvanceModel(),\n\t\temployee: new EmployeeModel(),\n\t\tproject: new ProjectModel(),\n\t\tsegment: new SegmentModel(),\n\t\tlocation: new LocationModel(),\n\t\t// Other\n\t\ttotalAmount: 0,\n\t\tuser: Helper.getUser(),\n\t\ttemplates: [],\n\t\t// Form validation\n\t\tvalid: true,\n\t\tisEdit: false,\n\t\talert: false,\n\t\terrorMessage: \"\",\n\t\tsaveMode: \"\",\n\t\tSaveOption: SaveOption,\n\t\t// Sidebar\n\t\tisHideBar: false,\n\t\t// LoadingMe\n\t\tshowLoading: false,\n\t\tloadingAlert: false,\n\t\tloadingColorAlert: \"\",\n\t\tloadingTextAlert: \"\",\n\t}),\n\tmethods: {\n\t\tHelp(key_search) {\n\t\t\tShowResource(key_search);\n\t\t},\n\t\t// Initial Data\n\t\tinitialData() {\n\t\t\tif (this.initCashAdvance) {\n\t\t\t\t// Edit Mode\n\t\t\t\tthis.cashAdvance = this.initCashAdvance;\n\t\t\t\tthis.bindData();\n\t\t\t} else {\n\t\t\t\t// Brand New Mode\n\t\t\t\tthis.setDefaultData();\n\t\t\t}\n\t\t},\n\t\t// Set default data\n\t\tasync setDefaultData() {\n\t\t\t// Brand New Mode\n\t\t\tthis.isEdit = false;\n\n\t\t\tthis.cashAdvance = new CashAdvanceModel({\n\t\t\t\trequested_date: new Date().toISOString().substr(0, 10),\n\t\t\t\texpected_date: new Date().toISOString().substr(0, 10),\n\t\t\t\tmonth_of: new Date().toISOString().substr(0, 7),\n\t\t\t\tstatus: WorkFlowStatus.PENDING,// For advance request type\n\t\t\t});\n\n\t\t\t/* Default Sidebar */\n\t\t\tlet segments = await this.$store.dispatch('segments/getList');\n\t\t\tthis.segment = new SegmentModel(segments.find(i => i.isSystem === 1));\n\n\t\t\tlet locations = await this.$store.dispatch('locations/getList');\n\t\t\tthis.location = new LocationModel(locations[0]);\n\n\t\t\t// Generate Number\n\t\t\tthis.generateNumber();\n\t\t},\n\t\t// Number\n\t\tasync generateNumber() {\n\t\t\tif (!this.isEdit) {\n\t\t\t\tlet num = await Helper.generateAccountingNumber(\n\t\t\t\t\tEntityType.ADVANCE_REQUEST,\n\t\t\t\t\tthis.cashAdvance.requested_date\n\t\t\t\t);\n\n\t\t\t\tthis.cashAdvance.ref_number = num.number;\n\t\t\t\tthis.cashAdvance.prefix_format = num.prefix_format;\n\t\t\t}\n\t\t},\n\t\t// Bind data from prop for edit mode\n\t\tasync bindData() {\n\t\t\t// Edit Mode\n\t\t\tthis.isEdit = true;\n\n\t\t\t// Employee\n\t\t\tthis.employee = new EmployeeModel(this.cashAdvance.requested_by);\n\n\t\t\t// Sidebar\n\t\t\tlet segments = await this.$store.dispatch('segments/getList');\n\t\t\tthis.segment = new SegmentModel(segments.find(i => i.id === this.cashAdvance.segment_uuid));\n\n\t\t\tlet projects = await this.$store.dispatch('projects/getList');\n\t\t\tthis.project = new ProjectModel(projects.find(i => i.id === this.cashAdvance.project_uuid));\n\n\t\t\tlet locations = await this.$store.dispatch('locations/getList');\n\t\t\tthis.location = new LocationModel(locations.find(i => i.id === this.cashAdvance.location_uuid));\n\t\t},\n\t\t/* On Date Chanes */\n\t\tonDateChanges () {\n\t\t\tthis.cashAdvance.month_of = new Date(this.cashAdvance.requested_date).toISOString().substr(0, 7);\n\t\t\tthis.generateNumber();\n\t\t},\n\t\t// Shrink Data\n\t\tshrinkData() {\n\t\t\t// Date\n\t\t\tthis.cashAdvance.advance_date = Helper.toISODate(\n\t\t\t\tthis.cashAdvance.requested_date\n\t\t\t); /* advance_date is required */\n\t\t\tthis.cashAdvance.requested_date = Helper.toISODate(\n\t\t\t\tthis.cashAdvance.requested_date\n\t\t\t);\n\t\t\tthis.cashAdvance.expected_date = Helper.toISODate(\n\t\t\t\tthis.cashAdvance.expected_date\n\t\t\t);\n\n\t\t\t// Amount\n\t\t\tthis.cashAdvance.request_amount = kendo.parseFloat(\n\t\t\t\tthis.cashAdvance.request_amount\n\t\t\t);\n\n\t\t\t// Employee\n\t\t\tthis.cashAdvance.requested_by = new ContactModel(this.employee);\n\n\t\t\t// Sidebar\n\t\t\tthis.cashAdvance.project_uuid = this.project.id;\n\t\t\tthis.cashAdvance.segment_uuid = this.segment.id;\n\t\t\tthis.cashAdvance.location_uuid = this.location.id;\n\n\t\t\t// User\n\t\t\tif (this.isEdit) {\n\t\t\t\tthis.cashAdvance.modified_by = this.user;\n\t\t\t} else {\n\t\t\t\tthis.cashAdvance.created_by = this.user;\n\t\t\t}\n\t\t},\n\t\t// Validating\n\t\tvalidateForm() {\n\t\t\tlet result = true,\n\t\t\t\tmsg = \"\";\n\n\t\t\t// Employee\n\t\t\tif (this.employee.id === \"\") {\n\t\t\t\tmsg += `<p>${i18n.t(\"employee_is_required\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t/* Segment */\n\t\t\tif (this.segment.id === \"\") {\n\t\t\t\tmsg += `<p>${i18n.t(\"segment_is_required\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\t\t\t\n\t\t\t/* Purpose */\n\t\t\tif (this.cashAdvance.purpose === \"\") {\n\t\t\t\tmsg += `<p>${i18n.t(\"purpose_is_required\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Show Alert\n\t\t\tthis.errorMessage = msg;\n\t\t\tthis.alert = false;\n\t\t\tif (result === false) {\n\t\t\t\tthis.alert = true;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\t// All Saves\n\t\tasync onSaveOptionClick(mode) {\n\t\t\tif (this.$refs.form.validate() && this.validateForm()) {\n\t\t\t\tthis.saveMode = mode;\n\t\t\t\tthis.save();\n\t\t\t}\n\t\t},\n\t\tcancel() {\n\t\t\tthis.$swal({\n\t\t\t\ttitle: i18n.t(\"msg_title_warning\"),\n\t\t\t\ttext: i18n.t(\"msg_discard\"),\n\t\t\t\ticon: \"warning\",\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tcancelButtonText: i18n.t(\"cancel\"),\n\t\t\t\tconfirmButtonColor: \"#4d4848\",\n\t\t\t\tcancelButtonColor: \"#ED1A3A\",\n\t\t\t\tconfirmButtonText: i18n.t(\"discard\"),\n\t\t\t}).then((result) => {\n\t\t\t\tif (result.value) {\n\t\t\t\t\tthis.clear();\n\t\t\t\t\tthis.setDefaultData();\n\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tclear() {\n\t\t\tthis.isEdit = false;\n\t\t\tthis.saveMode = \"\";\n\t\t\tthis.totalAmount = 0;\n\n\t\t\tthis.cashAdvance = new CashAdvanceModel();\n\t\t\tthis.employee = new EmployeeModel();\n\t\t\tthis.project = new ProjectModel();\n\t\t\tthis.segment = new SegmentModel();\n\t\t},\n\t\tconfirmDelete() {\n\t\t\tthis.$swal({\n\t\t\t\ttitle: i18n.t(\"are_you_sure_you_want_to_delete_it\"),\n\t\t\t\ttext: i18n.t(\"you_wont_be_able_to_revert_this\"),\n\t\t\t\ticon: \"warning\",\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tconfirmButtonColor: \"#4d4848\",\n\t\t\t\tcancelButtonColor: \"#ED1A3A\",\n\t\t\t\tconfirmButtonText: \"Yes\",\n\t\t\t}).then((result) => {\n\t\t\t\tif (result.value) {\n\t\t\t\t\tthis.saveMode = SaveOption.DELETE;\n\n\t\t\t\t\t/* Mark as deleted */\n\t\t\t\t\tthis.cashAdvance.is_deleted = 1;\n\n\t\t\t\t\t/* Update Account */\n\t\t\t\t\tthis.save();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsave() {\n\t\t\tlet self = this;\n\n\t\t\t// Shrink Data\n\t\t\tthis.shrinkData();\n\n\t\t\t// Sync Data\n\t\t\tthis.showLoading = true;\n\t\t\tcashAdvanceHandler\n\t\t\t\t.save({\n\t\t\t\t\tcash_advance: new CashAdvanceModel(this.cashAdvance),\n\t\t\t\t\tjournal: null,\n\t\t\t\t\tjournal_entries: null,\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tself.responseStatus(response);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tHelper.alertErrorMsg(error);\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tself.showLoading = false;\n\t\t\t\t});\n\t\t},\n\t\t// Response Status\n\t\tresponseStatus(response) {\n\t\t\tif (response.status === 200) {\n\t\t\t\tif (\n\t\t\t\t\tthis.saveMode === SaveOption.SAVECLOSE ||\n\t\t\t\t\tthis.saveMode === SaveOption.DELETE\n\t\t\t\t) {\n\t\t\t\t\t/* Save Close or Delete */\n\t\t\t\t\tif (this.isEdit) {\n\t\t\t\t\t\tthis.goBackToViewPage();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.clear();\n\t\t\t\t\tthis.setDefaultData();\n\t\t\t\t} else {\n\t\t\t\t\t/* Save New */\n\t\t\t\t\tthis.clear();\n\t\t\t\t\tthis.setDefaultData();\n\t\t\t\t}\n\n\t\t\t\t/* Alert Success */\n\t\t\t\tthis.$snotify.success(i18n.t(\"successful\"));\n\t\t\t} else {\n\t\t\t\t/* Alert Error */\n\t\t\t\tthis.$snotify.error(i18n.t(\"error_something_wrong\"));\n\t\t\t}\n\t\t},\n\t\t// Go back to view page after edit mode\n\t\tgoBackToViewPage() {\n\t\t\tthis.$router.replace({\n\t\t\t\tname: \"Advance Request View\",\n\t\t\t\tparams: { initCashAdvance: this.cashAdvance },\n\t\t\t});\n\t\t},\n\t\t// Sidebar\n\t\thide_smallsitebar() {\n\t\t\tif (!this.isHideBar) {\n\t\t\t\tthis.isHideBar = true;\n\t\t\t} else {\n\t\t\t\tthis.isHideBar = false;\n\t\t\t}\n\t\t},\n\t},\n\twatch: {\n\t\tinitCashAdvance() {\n\t\t\tthis.initialData();\n\t\t},\n\t},\n\tmounted() {\n\t\t// Initial Data\n\t\tthis.initialData();\n\t},\n};\n</script>\n\n<style scoped>\n.small_sidebar {\n\theight: 98%;\n\tposition: relative;\n\tpadding: 12px;\n\tbackground-color: #edf1f5;\n}\n\n.hide_small_bar_class {\n\tmax-width: 0;\n\ttransition: 0.3s ease-in;\n\tflex: 0 0 0;\n}\n\n.hide_big_bar_class {\n\tmax-width: 100%;\n\ttransition: 0.3s ease-in;\n\tflex: 0 0 100%;\n}\n\n.iconArrow {\n\tright: -35px;\n\tposition: absolute;\n\tbottom: -10px;\n}\n\n.iconArrowHide {\n\tposition: absolute;\n\tright: -7px;\n\tbottom: -10px;\n}\n\n.detial_smallside_p {\n\tposition: absolute;\n\tbottom: 10px;\n}\n\n@media (min-width: 1264px) {\n\t.container {\n\t\tmax-width: 1250px;\n\t}\n}\n\n@media (max-width: 576px) {\n\t.mb-6 {\n\t\tmargin-bottom: 0 !important;\n\t}\n}\n</style>\n"]}]}