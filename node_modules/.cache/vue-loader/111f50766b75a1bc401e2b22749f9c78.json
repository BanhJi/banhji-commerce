{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/employee/leave/leaveDetail.vue?vue&type=style&index=0&id=e441689a&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/employee/leave/leaveDetail.vue","mtime":1638499443254},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYWNjX2dyb3VwIGhlYWRlciB7CiAgaGVpZ2h0OiAxMHB4ICFpbXBvcnRhbnQ7Cn0KCnRhYmxlLmFjY19ncm91cCB0ciB0ZCB7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7CiAgcGFkZGluZzogOHB4OwogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7Cn0KCnRhYmxlLmFjY19ncm91cCB0ciB0ZDpmaXJzdC1jaGlsZCB7CiAgZm9udC13ZWlnaHQ6IDcwMDsKfQoKdGFibGUuYWNjX2dyb3VwIHRyIHRkOmxhc3QtY2hpbGQgewogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLnYtY2FyZF9fYWN0aW9ucyAudi1idG4udi1idG4gewogIHBhZGRpbmc6IDAgMTZweDsKfQoKLmV4Y2hhbmdlLXRhYmxlLnRoZW1lLS1saWdodC52LWRhdGEtdGFibGUKICA+IC52LWRhdGEtdGFibGVfX3dyYXBwZXIKICA+IHRhYmxlCiAgPiB0aGVhZAogID4gdHIKICA+IHRoIHsKICBmb250LWZhbWlseTogIk5pcmFkZWktQm9sZCIsIHNlcmlmOwogIGNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMwMDAgIWltcG9ydGFudDsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzAwMCAhaW1wb3J0YW50OwogIGZvbnQtc2l6ZTogMTVweCAhaW1wb3J0YW50Owp9CgouZXhjaGFuZ2UtdGFibGUudGhlbWUtLWxpZ2h0LnYtZGF0YS10YWJsZQogID4gLnYtZGF0YS10YWJsZV9fd3JhcHBlcgogID4gdGFibGUKICA+IHRoZWFkCiAgPiB0cgogID4gdGQgewogIGNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7CiAgcGFkZGluZzogNXB4ICFpbXBvcnRhbnQ7Cn0KCi5leGNoYW5nZS10YWJsZS50aGVtZS0tbGlnaHQudi1kYXRhLXRhYmxlCiAgPiAudi1kYXRhLXRhYmxlX193cmFwcGVyCiAgPiB0YWJsZQogID4gdGJvZHkKICA+IHRyOmxhc3QtY2hpbGQKICB0ZCB7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDAgIWltcG9ydGFudDsKfQoKLmZ1bmN0aW9uX2Zvb3RlciB7CiAgcGFkZGluZzogMTVweDsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cn0KCnAgewogIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuODcpOwp9CgouYWN0aW9uQnRuIHsKICBoZWlnaHQ6IDQ3LjJweCAhaW1wb3J0YW50Owp9CgoudGV4dF90aXAgewogIGZvbnQtc2l6ZTogOXB4OwogIGxpbmUtaGVpZ2h0OiAxMHB4Owp9CgpAbWVkaWEgKG1heC13aWR0aDogNTc2cHgpIHsKICAubWFyZ2luVG9wUGhvbmUgewogICAgbWFyZ2luLXRvcDogLTEwcHg7CiAgfQp9Cg=="},{"version":3,"sources":["leaveDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsLA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"leaveDetail.vue","sourceRoot":"src/views/payroll/employee/leave","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"grayBg pl-6\">\n      <v-card color=\"white\" class=\"pa-3 no_border\" elevation=\"0\">\n        <v-row class=\"\">\n          <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n            <v-text-field\n              class=\"mt-1\"\n              clearable\n              :placeholder=\"$t('search_directory')\"\n              outlined\n              v-model=\"search\"\n            />\n          </v-col>\n          <v-col sm=\"2\" cols=\"12\" class=\"py-1\">\n            <v-btn\n              color=\"primary\"\n              class=\"white--text capitalize marginTopPhone\"\n              @click=\"onSearch\"\n            >\n              {{ $t(\"search\") }}\n            </v-btn>\n          </v-col>\n          <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n            <kendo-datasource\n              ref=\"dataSource\"\n              :data=\"leaves\"\n              :page-size=\"100\"\n              :sort=\"sort\"\n              :group=\"group\"\n            />\n            <kendo-grid\n              id=\"grid\"\n              class=\"grid-function\"\n              :data-source-ref=\"'dataSource'\"\n              :scrollable-virtual=\"true\"\n              :column-menu=\"false\"\n              :pageable=\"true\"\n            >\n              <kendo-grid-column\n                :field=\"'employeeId'\"\n                :title=\"$t('employee_id')\"\n                :width=\"100\"\n                :template=\"'<span>#= employee.employeeId#</span>'\"\n                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n                :group-footer-template=\"'Count: #=count#'\"\n              />\n              <kendo-grid-column\n                :field=\"'employee'\"\n                :title=\"$t('employee')\"\n                :width=\"150\"\n                :template=\"\n                  '<span>#= employee.firstName# - #= employee.lastName#</span>'\n                \"\n                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n              />\n              <kendo-grid-column\n                :field=\"'dateFormate'\"\n                :title=\"$t('date')\"\n                :width=\"100\"\n                :template=\"\n                  '<span>#= kendo.toString(new Date(dateFormate),`dd-MM-yyyy`)#</span>'\n                \"\n                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n              />\n              <kendo-grid-column\n                :field=\"'leave'\"\n                :title=\"$t('leave_type')\"\n                :width=\"100\"\n                :template=\"\n                  '<span>#= leave.leaveName ? leave.leaveName: ``#</span>'\n                \"\n                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n              />\n              <kendo-grid-column\n                :field=\"'leaveAnount'\"\n                :title=\"$t('leave')\"\n                :width=\"50\"\n                :attributes=\"{\n                  style: 'text-align: center;',\n                }\"\n                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n                :group-footer-template=\"'Sum: #=sum#'\"\n              />\n            </kendo-grid>\n            <LoadingMe\n              :isLoading=\"showLoading\"\n              :fullPage=\"true\"\n              :myLoading=\"true\"\n            />\n          </v-col>\n        </v-row>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n<script>\nimport LoadingMe from \"@/components/Loading\";\nconst employeeHandler = require(\"@/scripts/employeeHandler\");\nimport kendo from \"@progress/kendo-ui\";\nexport default {\n  data: () => ({\n    showLoading: false,\n    start_date: \"\",\n    end_date: \"\",\n    recordList: [],\n    take: 10,\n    sort: [{ field: \"employeeId\", dir: \"asc\" }],\n    group: [\n      {\n        field: \"employeeId\",\n        aggregates: [\n          { field: \"employeeId\", aggregate: \"count\" },\n          { field: \"leaveAnount\", aggregate: \"sum\" },\n        ],\n      },\n    ],\n    search: \"\",\n    leaves: [],\n    params: {},\n  }),\n  props: {},\n  methods: {\n    async loadRecord() {\n      let getYear = new Date();\n      this.params = {\n        year: getYear.getFullYear(),\n      };\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          employeeHandler\n            .getEmployeeLeave(this.search, this.params)\n            .then((res) => {\n              window.console.log(1, res);\n              this.showLoading = true;\n              if (res.data.statusCode === 200) {\n                this.showLoading = false;\n                this.leaves = res.data.data;\n                window.console.log(2, this.leaves);\n              }\n            });\n        }, 300);\n      });\n    },\n    goView(e) {\n      e.preventDefault();\n      let grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\");\n      let dataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n      window.console.log(dataItem);\n      this.$router.push({\n        path:\n          \"employment_history\" + `/${dataItem.employee.id}` + `/${dataItem.id}`,\n        params: { id: dataItem.id },\n        query: { type: \"edit\" },\n      });\n    },\n    onSearch() {\n      this.showLoading = true;\n      this.loadRecord();\n    },\n  },\n  async mounted() {\n    await this.loadRecord();\n  },\n  computed: {},\n  components: {\n    LoadingMe: LoadingMe,\n  },\n};\n</script>\n<style scoped>\n.acc_group header {\n  height: 10px !important;\n}\n\ntable.acc_group tr td {\n  border-bottom: 1px solid #ccc;\n  padding: 8px;\n  vertical-align: middle;\n}\n\ntable.acc_group tr td:first-child {\n  font-weight: 700;\n}\n\ntable.acc_group tr td:last-child {\n  text-align: center;\n}\n\n.v-card__actions .v-btn.v-btn {\n  padding: 0 16px;\n}\n\n.exchange-table.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > thead\n  > tr\n  > th {\n  font-family: \"Niradei-Bold\", serif;\n  color: #000 !important;\n  border-top: 1px solid #000 !important;\n  border-bottom: 1px solid #000 !important;\n  font-size: 15px !important;\n}\n\n.exchange-table.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > thead\n  > tr\n  > td {\n  color: #000 !important;\n  padding: 5px !important;\n}\n\n.exchange-table.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > tbody\n  > tr:last-child\n  td {\n  border-bottom: 1px solid #000 !important;\n}\n\n.function_footer {\n  padding: 15px;\n  display: inline-block;\n}\n\np {\n  color: rgba(0, 0, 0, 0.87);\n}\n\n.actionBtn {\n  height: 47.2px !important;\n}\n\n.text_tip {\n  font-size: 9px;\n  line-height: 10px;\n}\n\n@media (max-width: 576px) {\n  .marginTopPhone {\n    margin-top: -10px;\n  }\n}\n</style>\n"]}]}