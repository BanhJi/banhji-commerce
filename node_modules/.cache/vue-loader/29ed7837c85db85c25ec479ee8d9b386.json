{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/suppliers/Reimbursement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/suppliers/Reimbursement.vue","mtime":1642155812739},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwppbXBvcnQgeyBpMThuIH0gZnJvbSAiQC9pMThuIjsKaW1wb3J0IEhlbHBlciBmcm9tICJAL2hlbHBlci5qcyI7CmltcG9ydCB7CglSZWltYnVyc2VtZW50TW9kZWwsCglSZWltYnVyc2VtZW50RGV0YWlsTW9kZWwsCglKb3VybmFsTW9kZWwsCglKb3VybmFsRW50cnlNb2RlbCwKCUFjY291bnRNb2RlbCwKCVNlZ21lbnRNb2RlbCwKCUxvY2F0aW9uTW9kZWwsCglQcm9qZWN0TW9kZWwsCglFbXBsb3llZU1vZGVsLAoJQ3VycmVuY3lNb2RlbCwKCUV4Y2hhbmdlUmF0ZU1vZGVsLAoJQ29udGFjdE1vZGVsLAp9IGZyb20gIkAvc2NyaXB0cy9tb2RlbC9BcHBNb2RlbHMiOwppbXBvcnQgUmVzcG9uc2VEYXRhTW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL1Jlc3BvbnNlRGF0YSI7CmltcG9ydCBBY2NvdW50U2Vjb25kYXJ5RWRpdG9yIGZyb20gIkAvc2NyaXB0cy9rZW5kb19lZGl0b3IvQWNjb3VudFNlY29uZGFyeSI7CgovKiBTdG9yZSAqLwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CmNvbnN0IGluc3RpdHV0ZSA9IHN0b3JlLnN0YXRlLmluc3RpdHV0ZS5pbnN0aXR1dGU7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7Cgpjb25zdCB7IHJlaW1idXJzZW1lbnRIYW5kbGVyIH0gPSByZXF1aXJlKCJAL3NjcmlwdHMvQXBwSGFuZGxlcnMiKTsKY29uc3QgY2xlYXJpbmdUcmFuc2FjdGlvbkhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaGFuZGxlci93b3JraW5nY2FwaXRhbC9jbGVhcmluZ1RyYW5zYWN0aW9uSGFuZGxlci5qcyIpOwpjb25zdCB7IENhc2hBY2NvdW50RWRpdG9yIH0gPSByZXF1aXJlKCJAL3NjcmlwdHMva2VuZG9fZWRpdG9yL0NvbGxlY3Rpb25zIik7CmNvbnN0IHsKCVNhdmVPcHRpb24sCglFbnRpdHlUeXBlLAoJQWNjb3VudFR5cGVDb2RlLAp9ID0gcmVxdWlyZSgiQC9zY3JpcHRzL2RlZmF1bHRfc2V0dXAvQ29sbGVjdGlvbnMiKTsKCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICJSZWltYnVyc2VtZW50IiwKCWNvbXBvbmVudHM6IHsKCQlMb2FkaW5nTWU6ICgpID0+IGltcG9ydCgiQC9jb21wb25lbnRzL0xvYWRpbmciKSwKCQkiYXBwLWRhdGVwaWNrZXIiOiAoKSA9PgoJCQlpbXBvcnQoIkAvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL0RhdGVQaWNrZXJDb21wb25lbnQiKSwKCQkiYXBwLWVtcGxveWVlLWRyb3Bkb3dubGlzdCI6ICgpID0+CgkJCWltcG9ydCgiQC9jb21wb25lbnRzL2Ryb3Bkb3dubGlzdC9FbXBsb3llZSIpLAoJCSJhcHAtY3VycmVuY3ktZHJvcGRvd25saXN0IjogKCkgPT4KCQkJaW1wb3J0KCJAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L0N1cnJlbmN5IiksCgkJImFwcC1zZWdtZW50LWRyb3Bkb3dubGlzdCI6ICgpID0+CgkJCWltcG9ydCgiQC9jb21wb25lbnRzL2Ryb3Bkb3dubGlzdC9TZWdtZW50IiksCgkJImFwcC1sb2NhdGlvbi1kcm9wZG93bmxpc3QiOiAoKSA9PgoJCQlpbXBvcnQoIkAvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvTG9jYXRpb24iKSwKCQkiYXBwLXByb2plY3QtZHJvcGRvd25saXN0IjogKCkgPT4KCQkJaW1wb3J0KCJAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L1Byb2plY3QiKSwKCX0sCglwcm9wczogewoJCWluaXRSZWltYnVyc2VtZW50OiB7CgkJCXR5cGU6IFJlaW1idXJzZW1lbnRNb2RlbCwKCQl9LAoJfSwKCWRhdGE6ICgpID0+ICh7CgkJLy8gT2JqCgkJcmVpbWJ1cnNlbWVudDogbmV3IFJlaW1idXJzZW1lbnRNb2RlbCgpLAoJCWpvdXJuYWw6IG5ldyBKb3VybmFsTW9kZWwoKSwKCQlqb3VybmFsRW50cmllczogW10sCgkJc2VnbWVudDogbmV3IFNlZ21lbnRNb2RlbCgpLAoJCWxvY2F0aW9uOiBuZXcgTG9jYXRpb25Nb2RlbCgpLAoJCXByb2plY3Q6IG5ldyBQcm9qZWN0TW9kZWwoKSwKCQllbXBsb3llZTogbmV3IEVtcGxveWVlTW9kZWwoKSwKCQljdXJyZW5jeTogbmV3IEN1cnJlbmN5TW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSksCgkJZXhjaGFuZ2VSYXRlOiBuZXcgRXhjaGFuZ2VSYXRlTW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSksCgkJY2FzaEFjY291bnRFbnRyaWVzOiBbXSwKCQlzZWxlY3RlZFRyYW5zYWN0aW9uSWRzOiBbXSwKCQljbGVhcmluZ1RyYW5zYWN0aW9uczogW10sCgkJY2xlYXJpbmdUcmFuc2FjdGlvbkdyb3VwZWQ6IFtdLAoJCS8vIE90aGVyCgkJcmVpbWJ1cnNlbWVudERhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAoJCWNhc2hBbW91bnQ6IDAsCgkJY2FzaEV4Y2hhbmdlZEFtb3VudDogMCwKCQl0cmFuc2FjdGlvbkFtb3VudDogMCwKCQlwcmV2ZW50TG9hZENsZWFyaW5nVHJhbnNhY3Rpb246IGZhbHNlLAoJCXRlbXBsYXRlczogW10sCgkJdXNlcjogSGVscGVyLmdldFVzZXIoKSwKCQkvLyBFZGl0b3JzCgkJQ2FzaEFjY291bnRFZGl0b3I6IENhc2hBY2NvdW50RWRpdG9yLAoJCUFjY291bnRTZWNvbmRhcnlFZGl0b3IgOiBBY2NvdW50U2Vjb25kYXJ5RWRpdG9yLAoJCS8vIEZvcm0gdmFsaWRhdGlvbgoJCXZhbGlkOiB0cnVlLAoJCWlzRWRpdDogZmFsc2UsCgkJYWxlcnQ6IGZhbHNlLAoJCWVycm9yTWVzc2FnZTogIiIsCgkJc2F2ZU1vZGU6ICIiLAoJCVNhdmVPcHRpb246IFNhdmVPcHRpb24sCgkJLy8gTG9hZGluZ01lCgkJc2hvd0xvYWRpbmc6IGZhbHNlLAoJCWxvYWRpbmdBbGVydDogZmFsc2UsCgkJbG9hZGluZ0NvbG9yQWxlcnQ6ICIiLAoJCWxvYWRpbmdUZXh0QWxlcnQ6ICIiLAoJCS8vIEtlbmRvIGRhdGFTb3VyY2UKCQlzY2hlbWFEZWZpbml0aW9uOiB7CgkJCW1vZGVsOiB7IGlkOiAidXVpZCIgfSwKCQl9LAoJfSksCgltZXRob2RzOiB7CgkJLy8gSW5pdGlhbCBEYXRhCgkJaW5pdGlhbERhdGEoKSB7CgkJCWlmICh0aGlzLmluaXRSZWltYnVyc2VtZW50KSB7CgkJCQkvLyBFZGl0IE1vZGUKCQkJCXRoaXMucmVpbWJ1cnNlbWVudCA9IHRoaXMuaW5pdFJlaW1idXJzZW1lbnQ7CgkJCQl0aGlzLmJpbmREYXRhKCk7CgkJCX0gZWxzZSB7CgkJCQkvLyBCcmFuZCBOZXcgTW9kZQoJCQkJdGhpcy5zZXREZWZhdWx0RGF0YSgpOwoJCQl9CgkJfSwKCQkvLyBTZXQgZGVmYXVsdCBkYXRhCgkJc2V0RGVmYXVsdERhdGEoKSB7CgkJCS8vIEJyYW5kIE5ldyBNb2RlCgkJCXRoaXMuaXNFZGl0ID0gZmFsc2U7CgoJCQl0aGlzLnJlaW1idXJzZW1lbnQgPSBuZXcgUmVpbWJ1cnNlbWVudE1vZGVsKHsKCQkJCXJlaW1idXJzZW1lbnRfZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCgkJCX0pOwoKCQkJLy8gR2VuZXJhdGUgTnVtYmVyCgkJCXRoaXMuZ2VuZXJhdGVOdW1iZXIoKTsKCgkJCS8vIEFkZCAyIGRlZmF1bHQgbGluZXMKCQkJdGhpcy5hZGRSb3coKTsKCQkJdGhpcy5hZGRSb3coKTsKCQl9LAoJCS8vIEJpbmQgZGF0YSBmcm9tIHByb3AgZm9yIGVkaXQgbW9kZQoJCWFzeW5jIGJpbmREYXRhKCkgewoJCQkvLyBFZGl0IE1vZGUKCQkJdGhpcy5pc0VkaXQgPSB0cnVlOwoKCQkJLy8gRGF0ZQoJCQl0aGlzLnJlaW1idXJzZW1lbnREYXRlID0gdGhpcy5yZWltYnVyc2VtZW50LnJlaW1idXJzZW1lbnRfZGF0ZTsKCgkJCS8vIEN1cnJlbmN5CgkJCXRoaXMuY3VycmVuY3kgPSBuZXcgQ3VycmVuY3lNb2RlbCh0aGlzLnJlaW1idXJzZW1lbnQuY3VycmVuY3kpOwoJCQl0aGlzLmV4Y2hhbmdlUmF0ZSA9IG5ldyBFeGNoYW5nZVJhdGVNb2RlbCh0aGlzLnJlaW1idXJzZW1lbnQuY3VycmVuY3kpOwoJCQl0aGlzLmV4Y2hhbmdlUmF0ZS5pZCA9IHRoaXMucmVpbWJ1cnNlbWVudC5kZXRhaWxzWzBdLmV4Y2hhbmdlX3JhdGVfdXVpZDsKCQkJdGhpcy5leGNoYW5nZVJhdGUucmF0ZSA9IHRoaXMucmVpbWJ1cnNlbWVudC5kZXRhaWxzWzBdLmV4Y2hhbmdlX3JhdGU7CgoJCQkvLyBFbXBsb3llCgkJCXRoaXMuZW1wbG95ZWUgPSBuZXcgRW1wbG95ZWVNb2RlbCh0aGlzLnJlaW1idXJzZW1lbnQucGF5ZXIpOwoKCQkJLyogU2VnbWVudCAqLwoJCQlhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2VnbWVudHMvZ2V0TGlzdCIpOwoJCQl0aGlzLnNlZ21lbnQgPSBuZXcgU2VnbWVudE1vZGVsKAoJCQkJdGhpcy5zZWdtZW50cy5maW5kKChpKSA9PiBpLmlkID09PSB0aGlzLnJlaW1idXJzZW1lbnQuc2VnbWVudF91dWlkKQoJCQkpOwoKCQkJLyogTG9jYXRpb24gKi8KCQkJYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImxvY2F0aW9ucy9nZXRMaXN0Iik7CgkJCXRoaXMubG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlbCgKCQkJCXRoaXMubG9jYXRpb25zLmZpbmQoKGkpID0+IGkuaWQgPT09IHRoaXMucmVpbWJ1cnNlbWVudC5sb2NhdGlvbl91dWlkKQoJCQkpOwoKCQkJLyogUHJvamVjdCAqLwoJCQlhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgicHJvamVjdHMvZ2V0TGlzdCIpOwoJCQl0aGlzLnByb2plY3QgPSBuZXcgUHJvamVjdE1vZGVsKAoJCQkJdGhpcy5wcm9qZWN0cy5maW5kKChpKSA9PiBpLmlkID09PSB0aGlzLnJlaW1idXJzZW1lbnQucHJvamVjdF91dWlkKQoJCQkpOwoKCQkJLy8gQ2xlYXJpbmcgdHJhbnNhY3Rpb24KCQkJdGhpcy5jbGVhcmluZ1RyYW5zYWN0aW9ucyA9IHRoaXMucmVpbWJ1cnNlbWVudC5leHBlbnNlczsKCQkJdGhpcy5jbGVhcmluZ1RyYW5zYWN0aW9uR3JvdXBlZCA9IEhlbHBlci5ncm91cEV4cGVuc2VCeUVtcGxveWVlKAoJCQkJdGhpcy5yZWltYnVyc2VtZW50LmV4cGVuc2VzCgkJCSk7CgoJCQlsZXQgc2VsZWN0ZWRJZHMgPSBbXSwKCQkJCWdyaWQgPSB0aGlzLiRyZWZzLnRyYW5zYWN0aW9uR3JpZC5rZW5kb1dpZGdldCgpOwoJCQl0aGlzLnJlaW1idXJzZW1lbnQuZXhwZW5zZXMuZm9yRWFjaCgodmFsdWUpID0+IHsKCQkJCXNlbGVjdGVkSWRzLnB1c2godmFsdWUudXVpZCk7CgkJCQkvLyBncmlkLl9zZWxlY3RlZElkc1t2YWx1ZS51dWlkXSA9IHRydWU7CgkJCX0pOwoJCQl0aGlzLnNlbGVjdGVkVHJhbnNhY3Rpb25JZHMgPSBzZWxlY3RlZElkczsKCgkJCS8vIEhpZGUgQ29sdW1uIENoZWNrYm94CgkJCWdyaWQuaGlkZUNvbHVtbigwKTsKCgkJCWxldCBzZWNvbmRhcnlBY2NvdW50cyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhY2NvdW50aW5nL2dldFNlY29uZGFyeUFjY291bnRzIiksCgkJCQljYXNoQWNjb3VudHMgPSBbXTsgLy8sIGNhc2hBbW91bnQgPSAwLCBjYXNoRXhjaGFuZ2VkQW1vdW50ID0gMDsKCQkJdGhpcy5yZWltYnVyc2VtZW50LmRldGFpbHMuZm9yRWFjaCgodmFsdWUpID0+IHsKCQkJCS8vIFRyYW5zYWN0aW9uCgkJCQkvLyBpZih2YWx1ZS5hY2NvdW50Lm51bWJlciA9PT0gQWNjb3VudFR5cGVDb2RlLkFEVkFOQ0VfU0VUVExFTUVOVF9DTEVBUklOR19DT0RFKXsKCQkJCS8vIAl0aGlzLnRyYW5zYWN0aW9uQW1vdW50ID0rIHZhbHVlLmV4Y2hhbmdlZF9hbW91bnQ7CgkJCQkvLyB9CgoJCQkJLy8gQ2FzaCBBY2NvdW50CgkJCQlpZiAofkFjY291bnRUeXBlQ29kZS5DQVNIX0FDQ09VTlRTLmluZGV4T2YodmFsdWUuYWNjb3VudC5hY2NvdW50X3R5cGUubnVtYmVyKSkgewoJCQkJCWxldCBjYSA9IG5ldyBSZWltYnVyc2VtZW50RGV0YWlsTW9kZWwodmFsdWUpOwoJCQkJCWNhLmFtb3VudCA9IE1hdGguYWJzKHZhbHVlLmFtb3VudCk7CgkJCQkJLy8gY2FzaEFtb3VudCArPSBjYS5hbW91bnQ7CgoJCQkJCS8qIFNlY29uZGFyeSBBY2NvdW50ICovCgkJCQkJY2Euc2Vjb25kYXJ5X2FjY291bnQgPSBuZXcgQWNjb3VudE1vZGVsKAoJCQkJCQlzZWNvbmRhcnlBY2NvdW50cy5maW5kKChpKSA9PiBpLnV1aWQgPT09IHZhbHVlLnNlY29uZGFyeV9hY2NfdXVpZCkKCQkJCQkpOwoKCQkJCQljYS5leGNoYW5nZWRfYW1vdW50ID0gTWF0aC5hYnModmFsdWUuZXhjaGFuZ2VkX2Ftb3VudCk7CgkJCQkJLy8gY2FzaEV4Y2hhbmdlZEFtb3VudCArPSBjYS5leGNoYW5nZWRfYW1vdW50OwoKCQkJCQljYXNoQWNjb3VudHMucHVzaChjYSk7CgkJCQl9CgkJCX0pOwoJCQl0aGlzLmNhc2hBY2NvdW50RW50cmllcyA9IGNhc2hBY2NvdW50czsKCQkJLy8gdGhpcy5jYXNoQW1vdW50ID0gY2FzaEFtb3VudDsKCQkJLy8gdGhpcy5jYXNoRXhjaGFuZ2VkQW1vdW50ID0gY2FzaEV4Y2hhbmdlZEFtb3VudDsKCgkJCS8vSm91cm5hbAoJCQl0aGlzLmpvdXJuYWwgPSB0aGlzLnJlaW1idXJzZW1lbnQuam91cm5hbDsKCQkJdGhpcy5qb3VybmFsRW50cmllcyA9IHRoaXMucmVpbWJ1cnNlbWVudC5qb3VybmFsX2VudHJpZXM7CgkJfSwKCQkvLyBOdW1iZXIKCQlhc3luYyBnZW5lcmF0ZU51bWJlcigpIHsKCQkJaWYgKCF0aGlzLmlzRWRpdCkgewoJCQkJbGV0IG51bSA9IGF3YWl0IEhlbHBlci5nZW5lcmF0ZUFjY291bnRpbmdOdW1iZXIoCgkJCQkJRW50aXR5VHlwZS5SRUlNQlVSU0VNRU5ULAoJCQkJCXRoaXMucmVpbWJ1cnNlbWVudERhdGUKCQkJCSk7CgoJCQkJdGhpcy5yZWltYnVyc2VtZW50Lm51bWJlciA9IG51bS5udW1iZXI7CgkJCQl0aGlzLnJlaW1idXJzZW1lbnQucHJlZml4X2Zvcm1hdCA9IG51bS5wcmVmaXhfZm9ybWF0OwoJCQl9CgkJfSwKCQkvLyBHZXQgRXhjaGFuZ2UgUmF0ZQoJCWFzeW5jIGdldEV4Y2hhbmdlUmF0ZSgpIHsKCQkJaWYgKHRoaXMucmVpbWJ1cnNlbWVudERhdGUgJiYgdGhpcy5jdXJyZW5jeS5jb2RlICE9PSAiIikgewoJCQkJdGhpcy5leGNoYW5nZVJhdGUgPSBhd2FpdCBIZWxwZXIuZ2V0TGFzdEV4Y2hhbmdlUmF0ZUJ5RGF0ZSgKCQkJCQl0aGlzLnJlaW1idXJzZW1lbnREYXRlLAoJCQkJCXRoaXMuY3VycmVuY3kuY29kZQoJCQkJKTsKCQkJfSBlbHNlIHsKCQkJCXRoaXMuZXhjaGFuZ2VSYXRlID0gbmV3IEV4Y2hhbmdlUmF0ZU1vZGVsKGluc3RpdHV0ZS5iYXNlQ3VycmVuY3kpOwoJCQl9CgoJCQkvLyBUcmlnZ2VyIGRhdGFzb3VyY2Ugd2l0aCBuZXcgZXhjaGFuZ2UgcmF0ZQoJCQl0aGlzLmRhdGFTb3VyY2VBdXRvQ2FsY3VsYXRlKCk7CgkJfSwKCQkvKiBPbiBEYXRlIENoYW5lcyAqLwoJCW9uRGF0ZUNoYW5nZXMgKCkgewoJCQl0aGlzLmdldEV4Y2hhbmdlUmF0ZSgpOwoJCQl0aGlzLmdlbmVyYXRlTnVtYmVyKCk7CgkJfSwKCQkvKiBLZW5kbyAqLwoJCS8vIERhdGFTb3VyY2UgQ2hhbmdlcwoJCW9uQ2FzaERTQ2hhbmdlcyhlKSB7CgkJCWlmIChlLmZpZWxkKSB7CgkJCQlsZXQgZGF0YVJvdyA9IGUuaXRlbXNbMF07CgoJCQkJaWYgKGUuZmllbGQgPT09ICJhY2NvdW50IikgewoJCQkJCWRhdGFSb3cuc2V0KCJhY2NvdW50X3V1aWQiLCBkYXRhUm93LmFjY291bnQudXVpZCk7CgoJCQkJCXRoaXMuYWRkRXh0cmFSb3coZGF0YVJvdy51aWQpOwoJCQkJfSBlbHNlIGlmIChlLmZpZWxkID09PSAic2Vjb25kYXJ5X2FjY291bnQiKSB7CgkJCQkJaWYgKGRhdGFSb3cuc2Vjb25kYXJ5X2FjY291bnQgIT09IG51bGwpIHsKCQkJCQkJZGF0YVJvdy5zZXQoInNlY29uZGFyeV9hY2NfdXVpZCIsIGRhdGFSb3cuc2Vjb25kYXJ5X2FjY291bnQudXVpZCk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJLy8gU2V0IGRlZmF1bHQgd2hlbiBkZXNlbGVjdAoJCQkJCQlkYXRhUm93LnNldCgic2Vjb25kYXJ5X2FjY191dWlkIiwgIiIpOwoJCQkJCQlkYXRhUm93LnNldCgic2Vjb25kYXJ5X2FjY291bnQiLCBuZXcgQWNjb3VudE1vZGVsKCkpOwoJCQkJCX0KCQkJCX0KCgkJCQl0aGlzLmRhdGFTb3VyY2VBdXRvQ2FsY3VsYXRlKCk7CgkJCX0KCQl9LAoJCS8vIE9uIFRyYW5zYWN0aW9uIEdyaWQgQ2hhbmdlcwoJCW9uVHhuR3JpZENoYW5nZXMoKSB7CgkJCWxldCBncmlkID0gdGhpcy4kcmVmcy50cmFuc2FjdGlvbkdyaWQua2VuZG9XaWRnZXQoKTsKCgkJCS8vIGxldCBpZHMgPSBbXQoJCQkvLyBmb3IgKGxldCBpZCBpbiBncmlkLl9zZWxlY3RlZElkcykKCQkJLy8gaWRzLnB1c2goaWQpCgoJCQl0aGlzLnNlbGVjdGVkVHJhbnNhY3Rpb25JZHMgPSBncmlkLnNlbGVjdGVkS2V5TmFtZXMoKTsKCQkJdGhpcy5kYXRhU291cmNlQXV0b0NhbGN1bGF0ZSgpOwoJCX0sCgkJLy8gT24gVHJhbnNhY3Rpb24gTWFzdGVyIENoZWNrYm94IENsaWNrCgkJb25NYXN0ZXJDaGVja2JveENsaWNrcygpIHsKCQkJbGV0IGdyaWQgPSB0aGlzLiRyZWZzLnRyYW5zYWN0aW9uR3JpZC5rZW5kb1dpZGdldCgpOwoKCQkJbGV0IG9sZFBhZ2VTaXplID0gZ3JpZC5kYXRhU291cmNlLnBhZ2VTaXplKCk7CgkJCWdyaWQuZGF0YVNvdXJjZS5wYWdlU2l6ZShncmlkLmRhdGFTb3VyY2UuZGF0YSgpLmxlbmd0aCk7CgoJCQlpZiAoZ3JpZC5kYXRhU291cmNlLmRhdGEoKS5sZW5ndGggPT09IGdyaWQuc2VsZWN0KCkubGVuZ3RoKSB7CgkJCQlncmlkLmNsZWFyU2VsZWN0aW9uKCk7CgkJCX0gZWxzZSB7CgkJCQlncmlkLnNlbGVjdCgidHIiKTsKCQkJfQoKCQkJZ3JpZC5kYXRhU291cmNlLnBhZ2VTaXplKG9sZFBhZ2VTaXplKTsKCQl9LAoJCS8qIE9uIEVtcGxveWVlIENoYW5nZXMgKi8KCQlvbkVtcGxveWVlQ2hhbmdlcygpIHsKCQkJdGhpcy5jbGVhcmluZ1RyYW5zYWN0aW9ucyA9IFtdOwoJCQl0aGlzLmNsZWFyaW5nVHJhbnNhY3Rpb25Hcm91cGVkID0gW107CgkJCXRoaXMuc2VnbWVudCA9IG5ldyBTZWdtZW50TW9kZWwoKTsKCQkJdGhpcy5sb2NhdGlvbiA9IG5ldyBMb2NhdGlvbk1vZGVsKCk7CgkJCXRoaXMucHJvamVjdCA9IG5ldyBQcm9qZWN0TW9kZWwoKTsKCgkJCWlmICh0aGlzLmVtcGxveWVlLmlkICE9PSAiIikgewoJCQkJdGhpcy5sb2FkQ2xlYXJpbmdUcmFuc2FjdGlvbigpOwoJCQl9CgkJfSwKCQkvLyBMb2FkIENsZWFyaW5nIFRyYW5zYWN0aW9uIGJ5IEVtcGxveWVlCgkJbG9hZENsZWFyaW5nVHJhbnNhY3Rpb24oKSB7CgkJCWNsZWFyaW5nVHJhbnNhY3Rpb25IYW5kbGVyCgkJCQkuZ2V0QnlFbXBsb3llZUlkKHRoaXMuZW1wbG95ZWUuaWQpCgkJCQkudGhlbigocmVzKSA9PiB7CgkJCQkJbGV0IHJlc3BvbnNlRGF0YSA9IG5ldyBSZXNwb25zZURhdGFNb2RlbChyZXMpOwoJCQkJCXRoaXMuY2xlYXJpbmdUcmFuc2FjdGlvbnMgPSByZXNwb25zZURhdGEuZGF0YTsKCQkJCX0pOwoJCX0sCgkJLyogRmlsdGVyIENsZWFyaW5nIFRyYW5zYWN0aW9ucyAqLwoJCWZpbHRlckNsZWFyaW5nVHJhbnNhY3Rpb24oKSB7CgkJCWxldCB0eG5zID0gdGhpcy5jbGVhcmluZ1RyYW5zYWN0aW9ucy5maWx0ZXIoCgkJCQkoaXRlbSkgPT4gaXRlbS5zZWdtZW50X3V1aWQgPT09IHRoaXMuc2VnbWVudC5pZCAmJiBpdGVtLmxvY2F0aW9uX3V1aWQgPT09IHRoaXMubG9jYXRpb24uaWQgJiYgaXRlbS5wcm9qZWN0X3V1aWQgPT09IHRoaXMucHJvamVjdC5pZAoJCQkpOwoJCQl0aGlzLmNsZWFyaW5nVHJhbnNhY3Rpb25Hcm91cGVkID0gSGVscGVyLmdyb3VwRXhwZW5zZUJ5RW1wbG95ZWUodHhucyk7CgkJfSwKCQkvLyBBdXRvIENhbGN1bGF0aW5nCgkJZGF0YVNvdXJjZUF1dG9DYWxjdWxhdGUoKSB7CgkJCWxldCBjYXNoQW1vdW50ID0gMCwKCQkJCWNhc2hFeGNoYW5nZWRBbW91bnQgPSAwLAoJCQkJdHJhbnNhY3Rpb25BbW91bnQgPSAwLAoJCQkJdHhuRFMgPSB0aGlzLiRyZWZzLnRyYW5zYWN0aW9uRFMua2VuZG9XaWRnZXQoKSwKCQkJCWNhc2hBY2NvdW50RW50cnlEUyA9IHRoaXMuJHJlZnMuY2FzaEFjY291bnRFbnRyeURTLmtlbmRvV2lkZ2V0KCk7CgoJCQkvLyBUcmFuc2FjdGlvbgoJCQlmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VsZWN0ZWRUcmFuc2FjdGlvbklkcy5sZW5ndGg7IGkrKykgewoJCQkJbGV0IGN1cnJUeG4gPSB0eG5EUy5nZXQodGhpcy5zZWxlY3RlZFRyYW5zYWN0aW9uSWRzW2ldKTsKCQkJCXRyYW5zYWN0aW9uQW1vdW50ICs9IGtlbmRvLnBhcnNlRmxvYXQoY3VyclR4bi5leGNoYW5nZWRfYW1vdW50KTsKCQkJfQoKCQkJLy8gQ2FzaAoJCQljYXNoQWNjb3VudEVudHJ5RFMuZGF0YSgpLmZvckVhY2goKHZhbHVlKSA9PiB7CgkJCQlsZXQgeGFtdCA9CgkJCQkJa2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQpICoKCQkJCQlrZW5kby5wYXJzZUZsb2F0KHRoaXMuZXhjaGFuZ2VSYXRlLnJhdGUpOwoKCQkJCXZhbHVlLnNldCgiZXhjaGFuZ2VkX3JhdGVfdXVpZCIsIHRoaXMuZXhjaGFuZ2VSYXRlLmlkKTsKCQkJCXZhbHVlLnNldCgiZXhjaGFuZ2VkX3JhdGUiLCB0aGlzLmV4Y2hhbmdlUmF0ZS5yYXRlKTsKCQkJCXZhbHVlLnNldCgiZXhjaGFuZ2VkX2Ftb3VudCIsIHhhbXQpOwoKCQkJCWNhc2hBbW91bnQgKz0ga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZS5hbW91bnQpOwoJCQkJY2FzaEV4Y2hhbmdlZEFtb3VudCArPSB4YW10OwoJCQl9KTsKCgkJCXRoaXMudHJhbnNhY3Rpb25BbW91bnQgPSB0cmFuc2FjdGlvbkFtb3VudDsKCQkJdGhpcy5jYXNoQW1vdW50ID0gY2FzaEFtb3VudDsKCQkJdGhpcy5jYXNoRXhjaGFuZ2VkQW1vdW50ID0gY2FzaEV4Y2hhbmdlZEFtb3VudDsKCQl9LAoJCS8vIFJvdyBOdW1iZXIgVGVtcGxhdGUKCQlyb3dOdW1iZXJUbXBsKGRhdGFJdGVtKSB7CgkJCWxldCBkcyA9IHRoaXMuJHJlZnMuY2FzaEFjY291bnRFbnRyeURTLmtlbmRvV2lkZ2V0KCksCgkJCQlpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwoKCQkJcmV0dXJuIGluZGV4ICsgMTsKCQl9LAoJCS8vIEFkZCBOZXcgUm93CgkJYWRkUm93KCkgewoJCQlsZXQgZHMgPSB0aGlzLiRyZWZzLmNhc2hBY2NvdW50RW50cnlEUy5rZW5kb1dpZGdldCgpLAoJCQkJbGFzdCA9IGRzLnRvdGFsKCk7CgoJCQlsZXQgamUgPSBuZXcgUmVpbWJ1cnNlbWVudERldGFpbE1vZGVsKCk7CgkJCWplLnV1aWQgPSBrZW5kby5ndWlkKCk7CgkJCWRzLmluc2VydChsYXN0LCBqZSk7CgkJfSwKCQkvLyBBZGQgRXh0cmEgUm93CgkJYWRkRXh0cmFSb3codWlkKSB7CgkJCWxldCBkcyA9IHRoaXMuJHJlZnMuY2FzaEFjY291bnRFbnRyeURTLmtlbmRvV2lkZ2V0KCksCgkJCQl0b3RhbCA9IGRzLnRvdGFsKCksCgkJCQlyb3cgPSBkcy5nZXRCeVVpZCh1aWQpLAoJCQkJaW5kZXggPSBkcy5pbmRleE9mKHJvdyk7CgoJCQlpZiAoaW5kZXggPT0gdG90YWwgLSAxKSB7CgkJCQl0aGlzLmFkZFJvdygpOwoJCQl9CgkJfSwKCQkvLyBSZW1vdmUgUm93CgkJcmVtb3ZlUm93Q2FzaChlKSB7CgkJCWUucHJldmVudERlZmF1bHQoKTsKCgkJCWxldCBncmlkID0gdGhpcy4kcmVmcy5jYXNoR3JpZC5rZW5kb1dpZGdldCgpLAoJCQkJZGF0YVNvdXJjZSA9IGdyaWQuZGF0YVNvdXJjZSwKCQkJCWRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbShrZW5kby5qUXVlcnkoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKCgkJCWlmIChkYXRhU291cmNlLnRvdGFsKCkgPiAyKSB7CgkJCQlkYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7CgkJCX0KCQl9LAoJCS8vIFNocmluayBEYXRhCgkJc2hyaW5rRGF0YSgpIHsKCQkJLy8gRGF0ZQoJCQl0aGlzLnJlaW1idXJzZW1lbnQucmVpbWJ1cnNlbWVudF9kYXRlID0gSGVscGVyLnRvSVNPRGF0ZSgKCQkJCXRoaXMucmVpbWJ1cnNlbWVudERhdGUKCQkJKTsKCgkJCS8vIEN1cmVuY3kKCQkJdGhpcy5yZWltYnVyc2VtZW50LmN1cnJlbmN5ID0gbmV3IEN1cnJlbmN5TW9kZWwodGhpcy5jdXJyZW5jeSk7CgoJCQkvLyBQYXllcgoJCQl0aGlzLnJlaW1idXJzZW1lbnQucGF5ZXIgPSBuZXcgQ29udGFjdE1vZGVsKHRoaXMuZW1wbG95ZWUpOwoKCQkJLyogU2VnbWVudCAqLwoJCQl0aGlzLnJlaW1idXJzZW1lbnQuc2VnbWVudF91dWlkID0gdGhpcy5zZWdtZW50LmlkOwoKCQkJLyogTG9jYXRpb24gKi8KCQkJdGhpcy5yZWltYnVyc2VtZW50LmxvY2F0aW9uX3V1aWQgPSB0aGlzLmxvY2F0aW9uLmlkOwoKCQkJLyogUHJvamVjdCAqLwoJCQl0aGlzLnJlaW1idXJzZW1lbnQucHJvamVjdF91dWlkID0gdGhpcy5wcm9qZWN0LmlkOwoKCQkJLy8gVXNlcgoJCQlpZiAodGhpcy5pc0VkaXQpIHsKCQkJCXRoaXMucmVpbWJ1cnNlbWVudC5tb2RpZmllZF9ieSA9IHRoaXMudXNlcjsKCQkJfSBlbHNlIHsKCQkJCXRoaXMucmVpbWJ1cnNlbWVudC5jcmVhdGVkX2J5ID0gdGhpcy51c2VyOwoJCQl9CgoJCQkvLyBFeHBlbnNlcwoJCQlsZXQgZXhwZW5zZXMgPSBbXSwKCQkJCWRldGFpbHMgPSBbXSwKCQkJCWNhc2hBY2NvdW50RW50cnlEUyA9IHRoaXMuJHJlZnMuY2FzaEFjY291bnRFbnRyeURTLmtlbmRvV2lkZ2V0KCk7CgoJCQlpZiAodGhpcy5pc0VkaXQpIHsKCQkJCS8vIEVkaXQgTW9kZQoJCQkJdGhpcy5yZWltYnVyc2VtZW50LmRldGFpbHMuZm9yRWFjaCgodmFsdWUpID0+IHsKCQkJCQlpZiAodmFsdWUuYW1vdW50ID4gMCkgewoJCQkJCQkvLyBGaWx0ZXIgZXhwZW5zZXMgb24gRHIgc2lkZQoJCQkJCQlkZXRhaWxzLnB1c2gobmV3IFJlaW1idXJzZW1lbnREZXRhaWxNb2RlbCh2YWx1ZSkpOwoJCQkJCX0KCQkJCX0pOwoJCQl9IGVsc2UgewoJCQkJLy8gTmV3IE1vZGUKCQkJCXRoaXMuY2xlYXJpbmdUcmFuc2FjdGlvbnMuZm9yRWFjaCgodmFsdWUpID0+IHsKCQkJCQlpZiAofnRoaXMuc2VsZWN0ZWRUcmFuc2FjdGlvbklkcy5pbmRleE9mKHZhbHVlLnV1aWQpKSB7CgkJCQkJCWV4cGVuc2VzLnB1c2godmFsdWUpOwoKCQkJCQkJLy9UcmFuc2FjdGlvbiBDbGVhcmluZyBBY2NvdW50IG9uIERyCgkJCQkJCXZhbHVlLmV4cGVuc2VfZW50cmllcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7CgkJCQkJCQlpZiAoZWxlbWVudC5hY2NvdW50Lm51bWJlciA9PT0gQWNjb3VudFR5cGVDb2RlLkFEVkFOQ0VfU0VUVExFTUVOVF9DTEVBUklOR19DT0RFKSB7CgkJCQkJCQkJZGV0YWlscy5wdXNoKAoJCQkJCQkJCQluZXcgUmVpbWJ1cnNlbWVudERldGFpbE1vZGVsKHsKCQkJCQkJCQkJCXV1aWQ6IGtlbmRvLmd1aWQoKSwKCQkJCQkJCQkJCWFjY291bnQ6IG5ldyBBY2NvdW50TW9kZWwoZWxlbWVudC5hY2NvdW50KSwKCQkJCQkJCQkJCWFjY291bnRfdXVpZDogZWxlbWVudC5hY2NvdW50LnV1aWQsCgkJCQkJCQkJCQlzZWNvbmRhcnlfYWNjX3V1aWQ6IGVsZW1lbnQuc2Vjb25kYXJ5X2FjY191dWlkLAoJCQkJCQkJCQkJcHJpbWFyeV9jb250YWN0OiBuZXcgQ29udGFjdE1vZGVsKHRoaXMuZW1wbG95ZWUpLAoJCQkJCQkJCQkJZGVzY3JpcHRpb246IHRoaXMucmVpbWJ1cnNlbWVudC5kZXNjcmlwdGlvbiwKCQkJCQkJCQkJCWN1cnJlbmN5OiBuZXcgQ3VycmVuY3lNb2RlbChlbGVtZW50LmN1cnJlbmN5KSwKCQkJCQkJCQkJCWFtb3VudDogZWxlbWVudC5hbW91bnQgKiAtMSwgLy8gQm9uZyBLZXRoeWEgZm9yY2VkIG1lIHRvIGRvIHRoaXMgYmVjYXVzZSBvcmlnaW5hbCBhbW91bnQgaXMgbmVnYXRpdmUKCQkJCQkJCQkJCWV4Y2hhbmdlX3JhdGVfdXVpZDogZWxlbWVudC5leGNoYW5nZV9yYXRlX3V1aWQsCgkJCQkJCQkJCQlleGNoYW5nZV9yYXRlOiBlbGVtZW50LmV4Y2hhbmdlX3JhdGUsCgkJCQkJCQkJCX0pCgkJCQkJCQkJKTsKCQkJCQkJCX0KCQkJCQkJfSk7CgkJCQkJfQoJCQkJfSk7CgoJCQkJLy8gRXhwZW5zZXMKCQkJCXRoaXMucmVpbWJ1cnNlbWVudC5leHBlbnNlcyA9IGV4cGVuc2VzOwoJCQl9CgoJCQkvLyBDYXNoIEFjY291bnQgb24gQ3IKCQkJY2FzaEFjY291bnRFbnRyeURTLmRhdGEoKS5mb3JFYWNoKCh2YWx1ZSkgPT4gewoJCQkJaWYgKHZhbHVlLmFjY291bnQubnVtYmVyICE9PSAiIiAmJiB2YWx1ZS5hbW91bnQgPiAwKSB7Ly8gRmlsdGVyIHNlbGVjdGVkIGFjY291bnQKCQkJCQlkZXRhaWxzLnB1c2gobmV3IFJlaW1idXJzZW1lbnREZXRhaWxNb2RlbCh7CgkJCQkJCWFjY291bnQ6IG5ldyBBY2NvdW50TW9kZWwodmFsdWUuYWNjb3VudCksCgkJCQkJCWFjY291bnRfdXVpZDogdmFsdWUuYWNjb3VudC51dWlkLAoJCQkJCQlzZWNvbmRhcnlfYWNjX3V1aWQ6IHZhbHVlLnNlY29uZGFyeV9hY2NfdXVpZCwKCQkJCQkJcHJpbWFyeV9jb250YWN0OiBuZXcgQ29udGFjdE1vZGVsKHRoaXMuZW1wbG95ZWUpLAoJCQkJCQlkZXNjcmlwdGlvbjogdGhpcy5yZWltYnVyc2VtZW50LmRlc2NyaXB0aW9uLAoJCQkJCQlyZWZfbnVtYmVyIDogdmFsdWUucmVmX251bWJlciwKCQkJCQkJY3VycmVuY3k6IG5ldyBDdXJyZW5jeU1vZGVsKHRoaXMuY3VycmVuY3kpLAoJCQkJCQlhbW91bnQ6IHZhbHVlLmFtb3VudCAqIC0xLC8qIENyIHNpZGUgaXMgbmVnYXRpdmUgKi8KCQkJCQkJZXhjaGFuZ2VfcmF0ZV91dWlkOiB0aGlzLmV4Y2hhbmdlUmF0ZS5pZCwKCQkJCQkJZXhjaGFuZ2VfcmF0ZToga2VuZG8ucGFyc2VGbG9hdCh0aGlzLmV4Y2hhbmdlUmF0ZS5yYXRlKSwKCQkJCQl9KSk7CgkJCQl9CgkJCX0pOwoKCQkJLy8gUmVpbWJ1cnNlbWVudCBEZXRhaWxzCgkJCXRoaXMucmVpbWJ1cnNlbWVudC5kZXRhaWxzID0gZGV0YWlsczsKCQl9LAoJCS8vIEpvdXJuYWwKCQlhZGRKb3VybmFsKCkgewoJCQkvLyBKb3VybmFsCgkJCXRoaXMuam91cm5hbC5udW1iZXIgPSB0aGlzLnJlaW1idXJzZW1lbnQubnVtYmVyOwoJCQl0aGlzLmpvdXJuYWwuZGVzY3JpcHRpb24gPSB0aGlzLnJlaW1idXJzZW1lbnQuZGVzY3JpcHRpb247CgkJCXRoaXMuam91cm5hbC5qb3VybmFsX2RhdGUgPSBIZWxwZXIudG9JU09EYXRlKHRoaXMucmVpbWJ1cnNlbWVudERhdGUpOwoJCQl0aGlzLmpvdXJuYWwuam91cm5hbF90eXBlID0gRW50aXR5VHlwZS5BVVRPX0pPVVJOQUw7CgkJCXRoaXMuam91cm5hbC50cmFuc2FjdGlvbl90eXBlID0gRW50aXR5VHlwZS5SRUlNQlVSU0VNRU5UOwoJCQl0aGlzLmpvdXJuYWwucHJlZml4X2Zvcm1hdCA9IHRoaXMucmVpbWJ1cnNlbWVudC5wcmVmaXhfZm9ybWF0OwoJCQl0aGlzLmpvdXJuYWwuc2VnbWVudF91dWlkID0gdGhpcy5yZWltYnVyc2VtZW50LnNlZ21lbnRfdXVpZDsKCQkJdGhpcy5qb3VybmFsLmlzX2RyYWZ0ID0gdGhpcy5yZWltYnVyc2VtZW50LmlzX2RyYWZ0OwoJCQl0aGlzLmpvdXJuYWwuY3JlYXRlZF9ieSA9IHRoaXMucmVpbWJ1cnNlbWVudC5jcmVhdGVkX2J5OwoJCQl0aGlzLmpvdXJuYWwubW9kaWZpZWRfYnkgPSB0aGlzLnJlaW1idXJzZW1lbnQubW9kaWZpZWRfYnk7CgoJCQkvL0pvdXJuYWwgRW50cmllcwoJCQlsZXQgZW50cmllcyA9IFtdOwoJCQl0aGlzLnJlaW1idXJzZW1lbnQuZGV0YWlscy5mb3JFYWNoKCh2YWx1ZSkgPT4gewoJCQkJbGV0IGplID0gbmV3IEpvdXJuYWxFbnRyeU1vZGVsKHZhbHVlKTsKCQkJCWplLmFtb3VudCA9IHZhbHVlLmV4Y2hhbmdlZF9hbW91bnQ7CgkJCQkoamUuZXhjaGFuZ2VfcmF0ZV91dWlkID0gIiIpLAoJCQkJCShqZS5leGNoYW5nZV9yYXRlID0gMSksIC8vIFJlaW1idXJzZW1lbnQgSm91cm5hbCBpcyBiYXNlIGN1cnJlbmN5IGV4Y2hhbmdlIHJhdGUgPSAxCgkJCQkJZW50cmllcy5wdXNoKG5ldyBKb3VybmFsRW50cnlNb2RlbChqZSkpOwoJCQl9KTsKCQkJdGhpcy5qb3VybmFsRW50cmllcyA9IGVudHJpZXM7CgkJfSwKCQkvLyBWYWxpZGF0aW5nCgkJdmFsaWRhdGVGb3JtKCkgewoJCQlsZXQgcmVzdWx0ID0gdHJ1ZSwKCQkJCW1zZyA9ICIiLAoJCQkJY291bnRDYXNoID0gMCwKCQkJCXNlY29uZGFyeUFjY291bnRBbW91bnQgPSAwLAoJCQkJY2FzaERTID0gdGhpcy4kcmVmcy5jYXNoQWNjb3VudEVudHJ5RFMua2VuZG9XaWRnZXQoKTsKCgkJCS8vIEVtcGxveWVlCgkJCWlmICh0aGlzLmVtcGxveWVlLmlkID09PSAiIikgewoJCQkJbXNnICs9IGA8cD4ke2kxOG4udCgiZW1wbG95ZWVfaXNfcmVxdWlyZWQiKX08L3A+YDsKCQkJCXJlc3VsdCA9IGZhbHNlOwoJCQl9CgoJCQkvLyBOb24gU2VsZWN0ZWQgVHJhbnNhY3Rpb24KCQkJaWYgKHRoaXMuc2VsZWN0ZWRUcmFuc2FjdGlvbklkcy5sZW5ndGggPT09IDApIHsKCQkJCXJlc3VsdCA9IGZhbHNlOwoJCQkJbXNnICs9IGA8cD4ke2kxOG4udCgicGxlYXNlX3NlbGVjdF90cmFuc2FjdGlvbiIpfTwvcD5gOwoJCQl9CgoJCQkvLyBOb24gU2VsZWN0ZWQgQ2FzaCBBY2NvdW50IGFuZCBBbW91bnQKCQkJY2FzaERTLmRhdGEoKS5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHsKCQkJCS8vIE5vIGFjY291bnQKCQkJCWlmICh2YWx1ZS5hY2NvdW50Lm5hbWUgPT09ICIiICYmIHZhbHVlLmFtb3VudCA+IDApIHsKCQkJCQlyZXN1bHQgPSBmYWxzZTsKCQkJCQltc2cgKz0gYDxwPiR7aTE4bi50KAoJCQkJCQkicGxlYXNlX3NlbGVjdF9jYXNoX2FjY291bnRfYXRfcm93X251bWJlciIKCQkJCQkpfSAke2luZGV4ICsgMX08L3A+YDsKCQkJCX0KCgkJCQkvLyBObyBhbW91bnQKCQkJCWlmICh2YWx1ZS5hY2NvdW50Lm5hbWUgIT09ICIiICYmIHZhbHVlLmFtb3VudCA9PT0gMCkgewoJCQkJCXJlc3VsdCA9IGZhbHNlOwoJCQkJCW1zZyArPSBgPHA+JHt2YWx1ZS5hY2NvdW50Lm5hbWV9ICR7aTE4bi50KCJoYXNfbm9fYW1vdW50Iil9PC9wPmA7CgkJCQl9CgoJCQkJLy8gQ291bnQgQ2FzaCBBY2NvdW50cwoJCQkJaWYgKHZhbHVlLmFjY291bnQubmFtZSAhPT0gIiIgJiYgdmFsdWUuYW1vdW50ID4gMCkgewoJCQkJCWNvdW50Q2FzaCsrOwoJCQkJfQoKCQkJCS8qIFNlY29uZGFyeSBBY2NvdW50IG9uIENyICovCgkJCQlpZih2YWx1ZS5zZWNvbmRhcnlfYWNjX3V1aWQgIT09ICIiKXsKCQkJCQlzZWNvbmRhcnlBY2NvdW50QW1vdW50ICs9IHZhbHVlLmFtb3VudCAqIC0xOwoJCQkJfQoJCQl9KTsKCgkJCS8qIFNlY29uZGFyeSBBY2NvdW50IG9uIERyICovCgkJCXRoaXMuY2xlYXJpbmdUcmFuc2FjdGlvbnMuZm9yRWFjaCgodmFsdWUpID0+IHsKCQkJCWlmICh+dGhpcy5zZWxlY3RlZFRyYW5zYWN0aW9uSWRzLmluZGV4T2YodmFsdWUudXVpZCkpIHsKCQkJCQkvL1RyYW5zYWN0aW9uIENsZWFyaW5nIEFjY291bnQgb24gRHIKCQkJCQl2YWx1ZS5leHBlbnNlX2VudHJpZXMuZm9yRWFjaCgoZWxlbWVudCkgPT4gewoJCQkJCQlpZiAoZWxlbWVudC5hY2NvdW50Lm51bWJlciA9PT0gQWNjb3VudFR5cGVDb2RlLkFEVkFOQ0VfU0VUVExFTUVOVF9DTEVBUklOR19DT0RFICYmIGVsZW1lbnQuc2Vjb25kYXJ5X2FjY191dWlkICE9PSAiIikgewoJCQkJCQkJc2Vjb25kYXJ5QWNjb3VudEFtb3VudCArPSBlbGVtZW50LmFtb3VudCAqIC0xOwoJCQkJCQl9CgkJCQkJfSk7CgkJCQl9CgkJCX0pOwoKCQkJLy8gQ291bnQgQ2FzaCBBY2NvdW50cwoJCQlpZiAoY291bnRDYXNoID09PSAwKSB7CgkJCQlyZXN1bHQgPSBmYWxzZTsKCQkJCW1zZyArPSBgPHA+JHtpMThuLnQoCgkJCQkJInBsZWFzZV9zZWxlY3RfY2FzaF9hY2NvdW50X2FuZF9lbnRlcl9hbW91bnQiCgkJCQkpfTwvcD5gOwoJCQl9CgoJCQkvLyBEaWZmCgkJCWlmICh0aGlzLnRyYW5zYWN0aW9uQW1vdW50IC0gdGhpcy5jYXNoRXhjaGFuZ2VkQW1vdW50ICE9PSAwKSB7CgkJCQlyZXN1bHQgPSBmYWxzZTsKCQkJCW1zZyArPSBgPHA+JHtpMThuLnQoCgkJCQkJInRyYW5zYWN0aW9uX2Ftb3VudF9hbmRfY2FzaF9leGNoYW5nZWRfYW1vdW50X2FyZV9ub3RfYmFsYW5jZSIKCQkJCSl9PC9wPmA7CgkJCX0KCgkJCS8qIFNlY29uZGFyeSBBY2NvdW50IEJhbGFuY2UgKi8KCQkJaWYoc2Vjb25kYXJ5QWNjb3VudEFtb3VudCAhPT0gMCl7CgkJCQltc2cgKz0gYDxwPiR7aTE4bi50KCJzZWNvbmRhcnlfYWNjb3VudF91bmJhbGFuY2UiKX08L3A+YDsKCQkJCXJlc3VsdCA9IGZhbHNlOwoJCQl9CgoJCQkvLyBTaG93IEFsZXJ0CgkJCXRoaXMuZXJyb3JNZXNzYWdlID0gbXNnOwoJCQl0aGlzLmFsZXJ0ID0gZmFsc2U7CgkJCWlmIChyZXN1bHQgPT09IGZhbHNlKSB7CgkJCQl0aGlzLmFsZXJ0ID0gdHJ1ZTsKCQkJfQoKCQkJcmV0dXJuIHJlc3VsdDsKCQl9LAoJCS8vIEFsbCBTYXZlcwoJCWFzeW5jIG9uU2F2ZU9wdGlvbkNsaWNrKG1vZGUpIHsKCQkJaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpICYmIHRoaXMudmFsaWRhdGVGb3JtKCkpIHsKCQkJCWxldCBpc1ZhbGlkQ2xvc2luZ0RhdGUgPSBhd2FpdCBIZWxwZXIudmFsaWRhdGVDbG9zaW5nRGF0ZSgKCQkJCQl0aGlzLnJlaW1idXJzZW1lbnREYXRlCgkJCQkpOwoJCQkJaWYgKGlzVmFsaWRDbG9zaW5nRGF0ZSkgewoJCQkJCXRoaXMuc2F2ZU1vZGUgPSBtb2RlOwoJCQkJCXRoaXMuc2F2ZSgpOwoJCQkJfQoJCQl9CgkJfSwKCQljYW5jZWwoKSB7CgkJCXRoaXMuJHN3YWwoewoJCQkJdGl0bGU6IGkxOG4udCgibXNnX3RpdGxlX3dhcm5pbmciKSwKCQkJCXRleHQ6IGkxOG4udCgibXNnX2Rpc2NhcmQiKSwKCQkJCWljb246ICJ3YXJuaW5nIiwKCQkJCXNob3dDYW5jZWxCdXR0b246IHRydWUsCgkJCQljYW5jZWxCdXR0b25UZXh0OiBpMThuLnQoImNhbmNlbCIpLAoJCQkJY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCgkJCQljYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAoJCQkJY29uZmlybUJ1dHRvblRleHQ6IGkxOG4udCgiZGlzY2FyZCIpLAoJCQl9KS50aGVuKChyZXN1bHQpID0+IHsKCQkJCWlmIChyZXN1bHQudmFsdWUpIHsKCQkJCQl0aGlzLmNsZWFyKCk7CgkJCQkJdGhpcy5zZXREZWZhdWx0RGF0YSgpOwoJCQkJCXRoaXMuJHJvdXRlci5nbygtMSk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJY2xlYXIoKSB7CgkJCXRoaXMuaXNFZGl0ID0gZmFsc2U7CgkJCXRoaXMuc2F2ZU1vZGUgPSAiIjsKCgkJCXRoaXMucmVpbWJ1cnNlbWVudERhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTsKCQkJdGhpcy5jYXNoQW1vdW50ID0gMDsKCQkJdGhpcy5jYXNoRXhjaGFuZ2VkQW1vdW50ID0gMDsKCQkJdGhpcy50cmFuc2FjdGlvbkFtb3VudCA9IDA7CgkJCXRoaXMucHJldmVudExvYWRDbGVhcmluZ1RyYW5zYWN0aW9uID0gZmFsc2U7CgoJCQl0aGlzLnJlaW1idXJzZW1lbnQgPSBuZXcgUmVpbWJ1cnNlbWVudE1vZGVsKCk7CgkJCXRoaXMuam91cm5hbCA9IG5ldyBKb3VybmFsTW9kZWwoKTsKCQkJdGhpcy5qb3VybmFsRW50cmllcyA9IFtdOwoJCQl0aGlzLmVtcGxveWVlID0gbmV3IEVtcGxveWVlTW9kZWwoKTsKCQkJdGhpcy5zZWdtZW50ID0gbmV3IFNlZ21lbnRNb2RlbCgpOwoJCQl0aGlzLmxvY2F0aW9uID0gbmV3IExvY2F0aW9uTW9kZWwoKTsKCQkJdGhpcy5wcm9qZWN0ID0gbmV3IFByb2plY3RNb2RlbCgpOwoJCQl0aGlzLmN1cnJlbmN5ID0gbmV3IEN1cnJlbmN5TW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSk7CgkJCXRoaXMuZXhjaGFuZ2VSYXRlID0gbmV3IEV4Y2hhbmdlUmF0ZU1vZGVsKGluc3RpdHV0ZS5iYXNlQ3VycmVuY3kpOwoJCQl0aGlzLnNlbGVjdGVkVHJhbnNhY3Rpb25JZHMgPSBbXTsKCgkJCWxldCB0eG5EUyA9IHRoaXMuJHJlZnMudHJhbnNhY3Rpb25EUy5rZW5kb1dpZGdldCgpOwoJCQl0eG5EUy5kYXRhKFtdKTsKCgkJCWxldCBjYXNoRFMgPSB0aGlzLiRyZWZzLmNhc2hBY2NvdW50RW50cnlEUy5rZW5kb1dpZGdldCgpOwoJCQljYXNoRFMuZGF0YShbXSk7CgkJfSwKCQlzYXZlKCkgewoJCQlsZXQgc2VsZiA9IHRoaXM7CgoJCQkvLyBEcmFmdCBNb2RlCgkJCWlmICh0aGlzLnNhdmVNb2RlID09PSBTYXZlT3B0aW9uLlNBVkVEUkFGVCkgewoJCQkJdGhpcy5yZWltYnVyc2VtZW50LmlzX2RyYWZ0ID0gMTsKCQkJfSBlbHNlIHsKCQkJCXRoaXMucmVpbWJ1cnNlbWVudC5pc19kcmFmdCA9IDA7CgkJCX0KCgkJCS8vIFNocmluayBEYXRhCgkJCXRoaXMuc2hyaW5rRGF0YSgpOwoKCQkJLy8gQWRkIEpvdXJuYWwKCQkJdGhpcy5hZGRKb3VybmFsKCk7CgoJCQkvLyBTeW5jIERhdGEKCQkJdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CgkJCXJlaW1idXJzZW1lbnRIYW5kbGVyCgkJCQkuc2F2ZSh7CgkJCQkJcmVpbWJ1cnNlbWVudDogbmV3IFJlaW1idXJzZW1lbnRNb2RlbCh0aGlzLnJlaW1idXJzZW1lbnQpLAoJCQkJCWpvdXJuYWw6IG5ldyBKb3VybmFsTW9kZWwodGhpcy5qb3VybmFsKSwKCQkJCQlqb3VybmFsX2VudHJpZXM6IHRoaXMuam91cm5hbEVudHJpZXMsCgkJCQl9KQoJCQkJLnRoZW4oKHJlc3BvbnNlKSA9PiB7CgkJCQkJaWYgKHJlc3BvbnNlKSB7CgkJCQkJCXNlbGYucmVzcG9uc2VTdGF0dXMocmVzcG9uc2UpOwoJCQkJCX1lbHNlewoJCQkJCQl0aGlzLiRzbm90aWZ5LmVycm9yKGkxOG4udCgiZXJyb3Jfc29tZXRoaW5nX3dyb25nIikpOwoJCQkJCX0KCQkJCX0pCgkJCQkuY2F0Y2goKGVycm9yKSA9PiB7CgkJCQkJc2VsZi5zaG93TG9hZGluZyA9IGZhbHNlOwoJCQkJCXRoaXMuJHNub3RpZnkuZXJyb3IoZXJyb3IpOwoJCQkJfSkKCQkJCS5maW5hbGx5KCgpID0+IHsKCQkJCQlzZWxmLnNob3dMb2FkaW5nID0gZmFsc2U7CgkJCQl9KTsKCQl9LAoJCS8vIFJlc3BvbnNlIFN0YXR1cwoJCXJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlKSB7CgkJCWlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewoJCQkJaWYgKHRoaXMuc2F2ZU1vZGUgPT09IFNhdmVPcHRpb24uU0FWRUNMT1NFIHx8IHRoaXMuc2F2ZU1vZGUgPT09IFNhdmVPcHRpb24uREVMRVRFKSB7IC8qIFNhdmUgQ2xvc2Ugb3IgRGVsZXRlICovCgkJCQkJaWYgKHRoaXMuaXNFZGl0KSB7CgkJCQkJCWxldCBncmlkID0gdGhpcy4kcmVmcy50cmFuc2FjdGlvbkdyaWQua2VuZG9XaWRnZXQoKTsKCQkJCQkJZ3JpZC5zaG93Q29sdW1uKDApOwoJCQkJCQl0aGlzLmdvQmFja1RvVmlld1BhZ2UoKTsKCQkJCQl9IGVsc2UgewoJCQkJCQl0aGlzLiRyb3V0ZXIuZ28oLTEpOwoJCQkJCX0KCQkJCX0KCQkJCgkJCQl0aGlzLmNsZWFyKCk7CgoJCQkJLyogQWxlcnQgU3VjY2VzcyAqLwoJCQkJdGhpcy4kc25vdGlmeS5zdWNjZXNzKGkxOG4udCgic3VjY2Vzc2Z1bCIpKTsKCQkJfSBlbHNlIHsKCQkJCS8qIEFsZXJ0IEVycm9yICovCgkJCQl0aGlzLiRzbm90aWZ5LmVycm9yKGkxOG4udCgiZXJyb3Jfc29tZXRoaW5nX3dyb25nIikpOwoJCQl9CgkJfSwKCQkvLyBHbyBiYWNrIHRvIHZpZXcgcGFnZSBhZnRlciBlZGl0IG1vZGUKCQlnb0JhY2tUb1ZpZXdQYWdlKCkgewoJCQl0aGlzLiRyb3V0ZXIucmVwbGFjZSh7CgkJCQluYW1lOiAiUmVpbWJ1cnNlbWVudCBWaWV3IiwKCQkJCXBhcmFtczogeyBpbml0UmVpbWJ1cnNlbWVudDogT2JqZWN0LmFzc2lnbih7fSwgbmV3IFJlaW1idXJzZW1lbnRNb2RlbCh0aGlzLnJlaW1idXJzZW1lbnQpKSB9LAoJCQl9KTsKCQl9LAoJfSwKCXdhdGNoOiB7CgkJaW5pdFJlaW1idXJzZW1lbnQ6ICJpbml0aWFsRGF0YSIsCgl9LAoJY29tcHV0ZWQ6IG1hcFN0YXRlKHsKICAgICAgICBzZWdtZW50czogc3RhdGUgPT4gc3RhdGUuc2VnbWVudHMubGlzdCwKICAgICAgICBsb2NhdGlvbnM6IHN0YXRlID0+IHN0YXRlLmxvY2F0aW9ucy5saXN0LAoJCXByb2plY3RzOiBzdGF0ZSA9PiBzdGF0ZS5wcm9qZWN0cy5saXN0LAogICAgfSksCgltb3VudGVkKCkgewoJCS8vIEluaXRpYWwgRGF0YQoJCXRoaXMuaW5pdGlhbERhdGEoKTsKCgkJLy8gR3JpZAoJCWxldCBncmlkID0gdGhpcy4kcmVmcy50cmFuc2FjdGlvbkdyaWQua2VuZG9XaWRnZXQoKTsKCQlncmlkLnRoZWFkLm9uKCJjbGljayIsICIuay1jaGVja2JveCIsIHRoaXMub25NYXN0ZXJDaGVja2JveENsaWNrcyk7Cgl9LAp9Owo="},{"version":3,"sources":["Reimbursement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+dA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Reimbursement.vue","sourceRoot":"src/views/suppliers","sourcesContent":["<template>\n\t<v-app>\n\t\t<v-container>\n\t\t\t<v-row>\n\t\t\t\t<v-col cols=\"12\" sm=\"12\">\n\t\t\t\t\t<v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n\t\t\t\t\t\t<v-card\n\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\tdense\n\t\t\t\t\t\t\tclass=\"pa-4 no_border rounded-sm\"\n\t\t\t\t\t\t\tcolor=\"white\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<v-card outlined dense class=\"no_border\">\n\t\t\t\t\t\t\t\t<h2 class=\"mb-0\">{{ $t(\"reimbursement\") }}</h2>\n\t\t\t\t\t\t\t\t<v-icon\n\t\t\t\t\t\t\t\t\tonclick=\"window.history.go(-1); return false;\"\n\t\t\t\t\t\t\t\t\tstyle=\"cursor: pointer; color: #333; font-size: 40px;\"\n\t\t\t\t\t\t\t\t\tclass=\"float-right\"\n\t\t\t\t\t\t\t\t\t>close\n\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t</v-card>\n\n\t\t\t\t\t\t\t<v-card outlined dense class=\"px-3 no_border\" color=\"grayBg\">\n\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t<v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"employee\") }}</label>\n\t\t\t\t\t\t\t\t\t\t<div v-if=\"!isEdit\">\n\t\t\t\t\t\t\t\t\t\t\t<!-- New Mode -->\n\t\t\t\t\t\t\t\t\t\t\t<app-employee-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t:initEmployee=\"employee\"\n\t\t\t\t\t\t\t\t\t\t\t\t@emitEmployee=\"employee = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"onEmployeeChanges\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t\t\t\t\t<!-- Edit Mode -->\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"reimbursement.payer.name\"\n\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\treadonly\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"date\") }}</label>\n\t\t\t\t\t\t\t\t\t\t<app-datepicker\n\t\t\t\t\t\t\t\t\t\t\t:initialDate=\"reimbursementDate\"\n\t\t\t\t\t\t\t\t\t\t\t@emitDate=\"reimbursementDate = $event\"\n\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"onDateChanges\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"number\") }}</label>\n\t\t\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"10\" cols=\"10\" class=\"pb-0 pt-1 pr-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"reimbursement.number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\t\t:rules=\"[(v) => !!v || 'Number is required']\"\n\t\t\t\t\t\t\t\t\t\t\t\t\treadonly\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"2\" cols=\"2\" class=\"pb-0 pt-1 pl-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<v-icon\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"black\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"border_qrcode\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"generateNumber\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>mdi-qrcode</v-icon\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t<v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"segment\") }}</label>\n\t\t\t\t\t\t\t\t\t\t<div v-if=\"!isEdit\">\n\t\t\t\t\t\t\t\t\t\t\t<!-- New Mode -->\n\t\t\t\t\t\t\t\t\t\t\t<app-segment-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t:initDisabled=\"employee.id === ''\"\n\t\t\t\t\t\t\t\t\t\t\t\t:initSegment=\"segment\"\n\t\t\t\t\t\t\t\t\t\t\t\t@emitSegment=\"segment = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"filterClearingTransaction\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t\t\t\t\t<!-- Edit Mode -->\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field v-model=\"segment.name\" outlined readonly />\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"location\") }}</label>\n\t\t\t\t\t\t\t\t\t\t<div v-if=\"!isEdit\">\n\t\t\t\t\t\t\t\t\t\t\t<!-- New Mode -->\n\t\t\t\t\t\t\t\t\t\t\t<app-location-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t:initDisabled=\"employee.id === ''\"\n\t\t\t\t\t\t\t\t\t\t\t\t:initLocation=\"location\"\n\t\t\t\t\t\t\t\t\t\t\t\t@emitLocation=\"location = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"filterClearingTransaction\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t\t\t\t\t<!-- Edit Mode -->\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field v-model=\"location.name\" outlined readonly />\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"project\") }}</label>\n\t\t\t\t\t\t\t\t\t\t<div v-if=\"!isEdit\">\n\t\t\t\t\t\t\t\t\t\t\t<!-- New Mode -->\n\t\t\t\t\t\t\t\t\t\t\t<app-project-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t:initDisabled=\"employee.id === ''\"\n\t\t\t\t\t\t\t\t\t\t\t\t:initProject=\"project\"\n\t\t\t\t\t\t\t\t\t\t\t\t@emitProject=\"project = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"filterClearingTransaction\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t\t\t\t\t<!-- Edit Mode -->\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field v-model=\"project.name\" outlined readonly />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t<v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"description\") }}</label>\n\t\t\t\t\t\t\t\t\t\t<v-textarea\n\t\t\t\t\t\t\t\t\t\t\tclass=\" mt-1\"\n\t\t\t\t\t\t\t\t\t\t\tno-resize\n\t\t\t\t\t\t\t\t\t\t\theight=\"120px\"\n\t\t\t\t\t\t\t\t\t\t\tv-model=\"reimbursement.description\"\n\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\trows=\"4\"\n\t\t\t\t\t\t\t\t\t\t\t:placeholder=\"$t('transaction_purpose')\"\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"currency\") }}</label>\n\t\t\t\t\t\t\t\t\t\t<app-currency-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t:initCurrency=\"currency\"\n\t\t\t\t\t\t\t\t\t\t\t@emitCurrency=\"currency = $event\"\n\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"getExchangeRate\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t</v-card>\n\n\t\t\t\t\t\t\t<v-card outlined dense class=\"no_border\" color=\"white\">\n\t\t\t\t\t\t\t\t<v-row style=\"\">\n\t\t\t\t\t\t\t\t\t<v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<p>{{ $t(\"purchase_trans_reimbursement\") }}</p>\n\n\t\t\t\t\t\t\t\t\t\t<kendo-datasource\n\t\t\t\t\t\t\t\t\t\t\tref=\"transactionDS\"\n\t\t\t\t\t\t\t\t\t\t\t:data=\"clearingTransactionGrouped\"\n\t\t\t\t\t\t\t\t\t\t\t:pageSize=\"5\"\n\t\t\t\t\t\t\t\t\t\t\t:schema=\"schemaDefinition\"\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<kendo-grid\n\t\t\t\t\t\t\t\t\t\t\tid=\"transactionGrid\"\n\t\t\t\t\t\t\t\t\t\t\tref=\"transactionGrid\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"grid-function\"\n\t\t\t\t\t\t\t\t\t\t\t:data-source-ref=\"'transactionDS'\"\n\t\t\t\t\t\t\t\t\t\t\t:sortable=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t:noRecords=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t:resizable=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t:persistSelection=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t:column-menu=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t:scrollable-virtual=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t:change=\"onTxnGridChanges\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column :selectable=\"true\" :width=\"40\" />\n\t\t\t\t\t\t\t\t\t\t\t<!-- <kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('no.')\"\n\t\t\t\t\t\t\t\t\t\t\t\t:template=\"rowNumberTmpl\"\n\t\t\t\t\t\t\t\t\t\t\t\t:width=\"45\"\n\t\t\t\t\t\t\t\t\t\t\t\t:column-menu=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5;',\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass: 'text-products;',\n\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: products',\n\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t/> -->\n\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'number'\"\n\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('number')\"\n\t\t\t\t\t\t\t\t\t\t\t\t:width=\"250\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'name'\"\n\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('vendor')\"\n\t\t\t\t\t\t\t\t\t\t\t\t:width=\"250\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'amount'\"\n\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('amount')\"\n\t\t\t\t\t\t\t\t\t\t\t\t:format=\"'{0:n}'\"\n\t\t\t\t\t\t\t\t\t\t\t\t:width=\"250\"\n\t\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{ style: 'text-align: right; ' }\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'currency'\"\n\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('currency')\"\n\t\t\t\t\t\t\t\t\t\t\t\t:template=\"'#=currency.code#'\"\n\t\t\t\t\t\t\t\t\t\t\t\t:width=\"250\"\n\t\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{ style: 'text-align: right; ' }\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'exchanged_amount'\"\n\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('exchange_amount')\"\n\t\t\t\t\t\t\t\t\t\t\t\t:width=\"250\"\n\t\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{ style: 'text-align: right; ' }\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</kendo-grid>\n\n\t\t\t\t\t\t\t\t\t\t<v-row style=\"background-color: #fff;\">\n\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-file-input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-0 pt-0 \"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsm=\"3\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcols=\"6\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:placeholder=\"$t('attachment')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprepend-icon=\"mdi-paperclip\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<template v-slot:selection=\"{ text }\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-chip small label color=\"primary\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ text }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-chip>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-file-input>\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"6\" cols=\"12\" class=\" pb-0 pt-5 pr-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"float-left\">{{ $t(\"total\") }}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"float-right text-bold\">{{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransactionAmount\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t<v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n\t\t\t\t\t\t\t\t\t\t<v-card\n\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\tdense\n\t\t\t\t\t\t\t\t\t\t\tclass=\"px-3 pb-3 no_border\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"grayBg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{{ $t(\"cash_use_reimbursement\") }}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-datasource\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tref=\"cashAccountEntryDS\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:data=\"cashAccountEntries\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:change=\"onCashDSChanges\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"cashGrid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tref=\"cashGrid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"grid-function\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:data-source-ref=\"'cashAccountEntryDS'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:sortable=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:filterable=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:noRecords=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:column-menu=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:editable=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:scrollable-virtual=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('no.')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"rowNumberTmpl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"45\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:column-menu=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5;',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: 'text-products;',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: products',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"''\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('payment_option')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"150\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/> -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'account'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('account')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"this.$store.state.accounting.accountLanguage === 'English' ? '<span>#=account.name#</span>' : '<span>#=account.local_name#</span>' \"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:editor=\"CashAccountEditor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'secondary_account'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('s_account')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$store.state.accounting.accountLanguage ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'English'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '<span>#=secondary_account.number#</span> <span>#=secondary_account.name#</span>'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '<span>#=secondary_account.number#</span> <span>#=secondary_account.local_name#</span>'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:hidden=\"!this.$store.state.accounting.secondaryAccount\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:editor=\"AccountSecondaryEditor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'name'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('ref')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"220\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5;',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'amount'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('amount')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:format=\"'{0:n}'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"180\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5;',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{ style: 'text-align: right; ' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:command=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonClass: 'k-icon k-i-trash',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: ' ',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclick: removeRowCash,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: 'btn-plus',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"80\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5;',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</kendo-grid>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"float-left btn_plus rounded-0 white--text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"addRow\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"6\" cols=\"12\" class=\" pb-0 pt-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<table width=\"100%\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td align=\"left\">{{ $t(\"total\") }}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"text-bold\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ Number(cashAmount).toLocaleString() }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td align=\"left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"total_in_exchanged\") }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"text-bold\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ cashExchangedAmount }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t</v-card>\n\n\t\t\t\t\t\t\t<v-divider />\n\t\t\t\t\t\t\t<v-card outlined dense class=\"no_border function_footer\">\n\t\t\t\t\t\t\t\t<!-- Warning Message -->\n\t\t\t\t\t\t\t\t<v-alert type=\"warning\" v-model=\"alert\" dismissible>\n\t\t\t\t\t\t\t\t\t<span v-html=\"errorMessage\" />\n\t\t\t\t\t\t\t\t</v-alert>\n\n\t\t\t\t\t\t\t\t<v-menu>\n\t\t\t\t\t\t\t\t\t<template v-slot:activator=\"{ on }\">\n\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"black\"\n\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\tclass=\"mr-2 text-capitalize  black--text float-left\"\n\t\t\t\t\t\t\t\t\t\t\tv-on=\"on\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"select_template\") }}\n\t\t\t\t\t\t\t\t\t\t\t<v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<v-list>\n\t\t\t\t\t\t\t\t\t\t<v-list-item\n\t\t\t\t\t\t\t\t\t\t\tv-for=\"(item, index) in templates\"\n\t\t\t\t\t\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title>{{ item.title }}</v-list-item-title>\n\t\t\t\t\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t\t\t\t\t</v-list>\n\t\t\t\t\t\t\t\t</v-menu>\n\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\tcolor=\"black\"\n\t\t\t\t\t\t\t\t\tclass=\"text-capitalize  white--text float-left\"\n\t\t\t\t\t\t\t\t\t@click=\"cancel\"\n\t\t\t\t\t\t\t\t\t>{{ $t(\"cancel\") }}</v-btn\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<v-menu>\n\t\t\t\t\t\t\t\t\t<template v-slot:activator=\"{ on }\">\n\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"ml-2 float-right text-capitalize  white--text\"\n\t\t\t\t\t\t\t\t\t\t\tv-on=\"on\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"save_option\") }}\n\t\t\t\t\t\t\t\t\t\t\t<v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<v-list rounded>\n\t\t\t\t\t\t\t\t\t\t<v-list-item-group>\n\t\t\t\t\t\t\t\t\t\t\t<v-list-item v-if=\"!isEdit\">\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"onSaveOptionClick(SaveOption.SAVENEW)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ $t(\"save_new\") }}</v-list-item-title\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t\t\t\t\t\t\t<v-list-item>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"onSaveOptionClick(SaveOption.SAVEPRINT)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ $t(\"save_print\") }}</v-list-item-title\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t\t\t\t\t\t\t<v-list-item v-if=\"!isEdit\">\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"onSaveOptionClick(SaveOption.SAVEDRAFT)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ $t(\"save_draft\") }}</v-list-item-title\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t\t\t\t\t\t</v-list-item-group>\n\t\t\t\t\t\t\t\t\t</v-list>\n\t\t\t\t\t\t\t\t</v-menu>\n\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tclass=\"float-right  white--text text-capitalize \"\n\t\t\t\t\t\t\t\t\t@click=\"onSaveOptionClick(SaveOption.SAVECLOSE)\"\n\t\t\t\t\t\t\t\t\t>{{ $t(\"save_close\") }}</v-btn\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t</v-card>\n\t\t\t\t\t</v-form>\n\t\t\t\t</v-col>\n\t\t\t</v-row>\n\t\t\t<LoadingMe\n\t\t\t\t:isLoading=\"showLoading\"\n\t\t\t\t:fullPage=\"true\"\n\t\t\t\t:myLoading=\"true\"\n\t\t\t\t:alertMessage=\"loadingAlert\"\n\t\t\t\t:color=\"loadingColorAlert\"\n\t\t\t\t:alertText=\"loadingTextAlert\"\n\t\t\t/>\n\t\t</v-container>\n\t</v-app>\n</template>\n\n<script>\nimport kendo from \"@progress/kendo-ui\";\nimport { i18n } from \"@/i18n\";\nimport Helper from \"@/helper.js\";\nimport {\n\tReimbursementModel,\n\tReimbursementDetailModel,\n\tJournalModel,\n\tJournalEntryModel,\n\tAccountModel,\n\tSegmentModel,\n\tLocationModel,\n\tProjectModel,\n\tEmployeeModel,\n\tCurrencyModel,\n\tExchangeRateModel,\n\tContactModel,\n} from \"@/scripts/model/AppModels\";\nimport ResponseDataModel from \"@/scripts/model/ResponseData\";\nimport AccountSecondaryEditor from \"@/scripts/kendo_editor/AccountSecondary\";\n\n/* Store */\nimport store from \"@/store\";\nconst institute = store.state.institute.institute;\nimport { mapState } from 'vuex';\n\nconst { reimbursementHandler } = require(\"@/scripts/AppHandlers\");\nconst clearingTransactionHandler = require(\"@/scripts/handler/workingcapital/clearingTransactionHandler.js\");\nconst { CashAccountEditor } = require(\"@/scripts/kendo_editor/Collections\");\nconst {\n\tSaveOption,\n\tEntityType,\n\tAccountTypeCode,\n} = require(\"@/scripts/default_setup/Collections\");\n\nexport default {\n\tname: \"Reimbursement\",\n\tcomponents: {\n\t\tLoadingMe: () => import(\"@/components/Loading\"),\n\t\t\"app-datepicker\": () =>\n\t\t\timport(\"@/components/custom_templates/DatePickerComponent\"),\n\t\t\"app-employee-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Employee\"),\n\t\t\"app-currency-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Currency\"),\n\t\t\"app-segment-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Segment\"),\n\t\t\"app-location-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Location\"),\n\t\t\"app-project-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Project\"),\n\t},\n\tprops: {\n\t\tinitReimbursement: {\n\t\t\ttype: ReimbursementModel,\n\t\t},\n\t},\n\tdata: () => ({\n\t\t// Obj\n\t\treimbursement: new ReimbursementModel(),\n\t\tjournal: new JournalModel(),\n\t\tjournalEntries: [],\n\t\tsegment: new SegmentModel(),\n\t\tlocation: new LocationModel(),\n\t\tproject: new ProjectModel(),\n\t\temployee: new EmployeeModel(),\n\t\tcurrency: new CurrencyModel(institute.baseCurrency),\n\t\texchangeRate: new ExchangeRateModel(institute.baseCurrency),\n\t\tcashAccountEntries: [],\n\t\tselectedTransactionIds: [],\n\t\tclearingTransactions: [],\n\t\tclearingTransactionGrouped: [],\n\t\t// Other\n\t\treimbursementDate: new Date().toISOString().substr(0, 10),\n\t\tcashAmount: 0,\n\t\tcashExchangedAmount: 0,\n\t\ttransactionAmount: 0,\n\t\tpreventLoadClearingTransaction: false,\n\t\ttemplates: [],\n\t\tuser: Helper.getUser(),\n\t\t// Editors\n\t\tCashAccountEditor: CashAccountEditor,\n\t\tAccountSecondaryEditor : AccountSecondaryEditor,\n\t\t// Form validation\n\t\tvalid: true,\n\t\tisEdit: false,\n\t\talert: false,\n\t\terrorMessage: \"\",\n\t\tsaveMode: \"\",\n\t\tSaveOption: SaveOption,\n\t\t// LoadingMe\n\t\tshowLoading: false,\n\t\tloadingAlert: false,\n\t\tloadingColorAlert: \"\",\n\t\tloadingTextAlert: \"\",\n\t\t// Kendo dataSource\n\t\tschemaDefinition: {\n\t\t\tmodel: { id: \"uuid\" },\n\t\t},\n\t}),\n\tmethods: {\n\t\t// Initial Data\n\t\tinitialData() {\n\t\t\tif (this.initReimbursement) {\n\t\t\t\t// Edit Mode\n\t\t\t\tthis.reimbursement = this.initReimbursement;\n\t\t\t\tthis.bindData();\n\t\t\t} else {\n\t\t\t\t// Brand New Mode\n\t\t\t\tthis.setDefaultData();\n\t\t\t}\n\t\t},\n\t\t// Set default data\n\t\tsetDefaultData() {\n\t\t\t// Brand New Mode\n\t\t\tthis.isEdit = false;\n\n\t\t\tthis.reimbursement = new ReimbursementModel({\n\t\t\t\treimbursement_date: new Date().toISOString().substr(0, 10),\n\t\t\t});\n\n\t\t\t// Generate Number\n\t\t\tthis.generateNumber();\n\n\t\t\t// Add 2 default lines\n\t\t\tthis.addRow();\n\t\t\tthis.addRow();\n\t\t},\n\t\t// Bind data from prop for edit mode\n\t\tasync bindData() {\n\t\t\t// Edit Mode\n\t\t\tthis.isEdit = true;\n\n\t\t\t// Date\n\t\t\tthis.reimbursementDate = this.reimbursement.reimbursement_date;\n\n\t\t\t// Currency\n\t\t\tthis.currency = new CurrencyModel(this.reimbursement.currency);\n\t\t\tthis.exchangeRate = new ExchangeRateModel(this.reimbursement.currency);\n\t\t\tthis.exchangeRate.id = this.reimbursement.details[0].exchange_rate_uuid;\n\t\t\tthis.exchangeRate.rate = this.reimbursement.details[0].exchange_rate;\n\n\t\t\t// Employe\n\t\t\tthis.employee = new EmployeeModel(this.reimbursement.payer);\n\n\t\t\t/* Segment */\n\t\t\tawait this.$store.dispatch(\"segments/getList\");\n\t\t\tthis.segment = new SegmentModel(\n\t\t\t\tthis.segments.find((i) => i.id === this.reimbursement.segment_uuid)\n\t\t\t);\n\n\t\t\t/* Location */\n\t\t\tawait this.$store.dispatch(\"locations/getList\");\n\t\t\tthis.location = new LocationModel(\n\t\t\t\tthis.locations.find((i) => i.id === this.reimbursement.location_uuid)\n\t\t\t);\n\n\t\t\t/* Project */\n\t\t\tawait this.$store.dispatch(\"projects/getList\");\n\t\t\tthis.project = new ProjectModel(\n\t\t\t\tthis.projects.find((i) => i.id === this.reimbursement.project_uuid)\n\t\t\t);\n\n\t\t\t// Clearing transaction\n\t\t\tthis.clearingTransactions = this.reimbursement.expenses;\n\t\t\tthis.clearingTransactionGrouped = Helper.groupExpenseByEmployee(\n\t\t\t\tthis.reimbursement.expenses\n\t\t\t);\n\n\t\t\tlet selectedIds = [],\n\t\t\t\tgrid = this.$refs.transactionGrid.kendoWidget();\n\t\t\tthis.reimbursement.expenses.forEach((value) => {\n\t\t\t\tselectedIds.push(value.uuid);\n\t\t\t\t// grid._selectedIds[value.uuid] = true;\n\t\t\t});\n\t\t\tthis.selectedTransactionIds = selectedIds;\n\n\t\t\t// Hide Column Checkbox\n\t\t\tgrid.hideColumn(0);\n\n\t\t\tlet secondaryAccounts = await this.$store.dispatch(\"accounting/getSecondaryAccounts\"),\n\t\t\t\tcashAccounts = []; //, cashAmount = 0, cashExchangedAmount = 0;\n\t\t\tthis.reimbursement.details.forEach((value) => {\n\t\t\t\t// Transaction\n\t\t\t\t// if(value.account.number === AccountTypeCode.ADVANCE_SETTLEMENT_CLEARING_CODE){\n\t\t\t\t// \tthis.transactionAmount =+ value.exchanged_amount;\n\t\t\t\t// }\n\n\t\t\t\t// Cash Account\n\t\t\t\tif (~AccountTypeCode.CASH_ACCOUNTS.indexOf(value.account.account_type.number)) {\n\t\t\t\t\tlet ca = new ReimbursementDetailModel(value);\n\t\t\t\t\tca.amount = Math.abs(value.amount);\n\t\t\t\t\t// cashAmount += ca.amount;\n\n\t\t\t\t\t/* Secondary Account */\n\t\t\t\t\tca.secondary_account = new AccountModel(\n\t\t\t\t\t\tsecondaryAccounts.find((i) => i.uuid === value.secondary_acc_uuid)\n\t\t\t\t\t);\n\n\t\t\t\t\tca.exchanged_amount = Math.abs(value.exchanged_amount);\n\t\t\t\t\t// cashExchangedAmount += ca.exchanged_amount;\n\n\t\t\t\t\tcashAccounts.push(ca);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.cashAccountEntries = cashAccounts;\n\t\t\t// this.cashAmount = cashAmount;\n\t\t\t// this.cashExchangedAmount = cashExchangedAmount;\n\n\t\t\t//Journal\n\t\t\tthis.journal = this.reimbursement.journal;\n\t\t\tthis.journalEntries = this.reimbursement.journal_entries;\n\t\t},\n\t\t// Number\n\t\tasync generateNumber() {\n\t\t\tif (!this.isEdit) {\n\t\t\t\tlet num = await Helper.generateAccountingNumber(\n\t\t\t\t\tEntityType.REIMBURSEMENT,\n\t\t\t\t\tthis.reimbursementDate\n\t\t\t\t);\n\n\t\t\t\tthis.reimbursement.number = num.number;\n\t\t\t\tthis.reimbursement.prefix_format = num.prefix_format;\n\t\t\t}\n\t\t},\n\t\t// Get Exchange Rate\n\t\tasync getExchangeRate() {\n\t\t\tif (this.reimbursementDate && this.currency.code !== \"\") {\n\t\t\t\tthis.exchangeRate = await Helper.getLastExchangeRateByDate(\n\t\t\t\t\tthis.reimbursementDate,\n\t\t\t\t\tthis.currency.code\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.exchangeRate = new ExchangeRateModel(institute.baseCurrency);\n\t\t\t}\n\n\t\t\t// Trigger datasource with new exchange rate\n\t\t\tthis.dataSourceAutoCalculate();\n\t\t},\n\t\t/* On Date Chanes */\n\t\tonDateChanges () {\n\t\t\tthis.getExchangeRate();\n\t\t\tthis.generateNumber();\n\t\t},\n\t\t/* Kendo */\n\t\t// DataSource Changes\n\t\tonCashDSChanges(e) {\n\t\t\tif (e.field) {\n\t\t\t\tlet dataRow = e.items[0];\n\n\t\t\t\tif (e.field === \"account\") {\n\t\t\t\t\tdataRow.set(\"account_uuid\", dataRow.account.uuid);\n\n\t\t\t\t\tthis.addExtraRow(dataRow.uid);\n\t\t\t\t} else if (e.field === \"secondary_account\") {\n\t\t\t\t\tif (dataRow.secondary_account !== null) {\n\t\t\t\t\t\tdataRow.set(\"secondary_acc_uuid\", dataRow.secondary_account.uuid);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Set default when deselect\n\t\t\t\t\t\tdataRow.set(\"secondary_acc_uuid\", \"\");\n\t\t\t\t\t\tdataRow.set(\"secondary_account\", new AccountModel());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.dataSourceAutoCalculate();\n\t\t\t}\n\t\t},\n\t\t// On Transaction Grid Changes\n\t\tonTxnGridChanges() {\n\t\t\tlet grid = this.$refs.transactionGrid.kendoWidget();\n\n\t\t\t// let ids = []\n\t\t\t// for (let id in grid._selectedIds)\n\t\t\t// ids.push(id)\n\n\t\t\tthis.selectedTransactionIds = grid.selectedKeyNames();\n\t\t\tthis.dataSourceAutoCalculate();\n\t\t},\n\t\t// On Transaction Master Checkbox Click\n\t\tonMasterCheckboxClicks() {\n\t\t\tlet grid = this.$refs.transactionGrid.kendoWidget();\n\n\t\t\tlet oldPageSize = grid.dataSource.pageSize();\n\t\t\tgrid.dataSource.pageSize(grid.dataSource.data().length);\n\n\t\t\tif (grid.dataSource.data().length === grid.select().length) {\n\t\t\t\tgrid.clearSelection();\n\t\t\t} else {\n\t\t\t\tgrid.select(\"tr\");\n\t\t\t}\n\n\t\t\tgrid.dataSource.pageSize(oldPageSize);\n\t\t},\n\t\t/* On Employee Changes */\n\t\tonEmployeeChanges() {\n\t\t\tthis.clearingTransactions = [];\n\t\t\tthis.clearingTransactionGrouped = [];\n\t\t\tthis.segment = new SegmentModel();\n\t\t\tthis.location = new LocationModel();\n\t\t\tthis.project = new ProjectModel();\n\n\t\t\tif (this.employee.id !== \"\") {\n\t\t\t\tthis.loadClearingTransaction();\n\t\t\t}\n\t\t},\n\t\t// Load Clearing Transaction by Employee\n\t\tloadClearingTransaction() {\n\t\t\tclearingTransactionHandler\n\t\t\t\t.getByEmployeeId(this.employee.id)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tlet responseData = new ResponseDataModel(res);\n\t\t\t\t\tthis.clearingTransactions = responseData.data;\n\t\t\t\t});\n\t\t},\n\t\t/* Filter Clearing Transactions */\n\t\tfilterClearingTransaction() {\n\t\t\tlet txns = this.clearingTransactions.filter(\n\t\t\t\t(item) => item.segment_uuid === this.segment.id && item.location_uuid === this.location.id && item.project_uuid === this.project.id\n\t\t\t);\n\t\t\tthis.clearingTransactionGrouped = Helper.groupExpenseByEmployee(txns);\n\t\t},\n\t\t// Auto Calculating\n\t\tdataSourceAutoCalculate() {\n\t\t\tlet cashAmount = 0,\n\t\t\t\tcashExchangedAmount = 0,\n\t\t\t\ttransactionAmount = 0,\n\t\t\t\ttxnDS = this.$refs.transactionDS.kendoWidget(),\n\t\t\t\tcashAccountEntryDS = this.$refs.cashAccountEntryDS.kendoWidget();\n\n\t\t\t// Transaction\n\t\t\tfor (let i = 0; i < this.selectedTransactionIds.length; i++) {\n\t\t\t\tlet currTxn = txnDS.get(this.selectedTransactionIds[i]);\n\t\t\t\ttransactionAmount += kendo.parseFloat(currTxn.exchanged_amount);\n\t\t\t}\n\n\t\t\t// Cash\n\t\t\tcashAccountEntryDS.data().forEach((value) => {\n\t\t\t\tlet xamt =\n\t\t\t\t\tkendo.parseFloat(value.amount) *\n\t\t\t\t\tkendo.parseFloat(this.exchangeRate.rate);\n\n\t\t\t\tvalue.set(\"exchanged_rate_uuid\", this.exchangeRate.id);\n\t\t\t\tvalue.set(\"exchanged_rate\", this.exchangeRate.rate);\n\t\t\t\tvalue.set(\"exchanged_amount\", xamt);\n\n\t\t\t\tcashAmount += kendo.parseFloat(value.amount);\n\t\t\t\tcashExchangedAmount += xamt;\n\t\t\t});\n\n\t\t\tthis.transactionAmount = transactionAmount;\n\t\t\tthis.cashAmount = cashAmount;\n\t\t\tthis.cashExchangedAmount = cashExchangedAmount;\n\t\t},\n\t\t// Row Number Template\n\t\trowNumberTmpl(dataItem) {\n\t\t\tlet ds = this.$refs.cashAccountEntryDS.kendoWidget(),\n\t\t\t\tindex = ds.indexOf(dataItem);\n\n\t\t\treturn index + 1;\n\t\t},\n\t\t// Add New Row\n\t\taddRow() {\n\t\t\tlet ds = this.$refs.cashAccountEntryDS.kendoWidget(),\n\t\t\t\tlast = ds.total();\n\n\t\t\tlet je = new ReimbursementDetailModel();\n\t\t\tje.uuid = kendo.guid();\n\t\t\tds.insert(last, je);\n\t\t},\n\t\t// Add Extra Row\n\t\taddExtraRow(uid) {\n\t\t\tlet ds = this.$refs.cashAccountEntryDS.kendoWidget(),\n\t\t\t\ttotal = ds.total(),\n\t\t\t\trow = ds.getByUid(uid),\n\t\t\t\tindex = ds.indexOf(row);\n\n\t\t\tif (index == total - 1) {\n\t\t\t\tthis.addRow();\n\t\t\t}\n\t\t},\n\t\t// Remove Row\n\t\tremoveRowCash(e) {\n\t\t\te.preventDefault();\n\n\t\t\tlet grid = this.$refs.cashGrid.kendoWidget(),\n\t\t\t\tdataSource = grid.dataSource,\n\t\t\t\tdataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n\n\t\t\tif (dataSource.total() > 2) {\n\t\t\t\tdataSource.remove(dataItem);\n\t\t\t}\n\t\t},\n\t\t// Shrink Data\n\t\tshrinkData() {\n\t\t\t// Date\n\t\t\tthis.reimbursement.reimbursement_date = Helper.toISODate(\n\t\t\t\tthis.reimbursementDate\n\t\t\t);\n\n\t\t\t// Curency\n\t\t\tthis.reimbursement.currency = new CurrencyModel(this.currency);\n\n\t\t\t// Payer\n\t\t\tthis.reimbursement.payer = new ContactModel(this.employee);\n\n\t\t\t/* Segment */\n\t\t\tthis.reimbursement.segment_uuid = this.segment.id;\n\n\t\t\t/* Location */\n\t\t\tthis.reimbursement.location_uuid = this.location.id;\n\n\t\t\t/* Project */\n\t\t\tthis.reimbursement.project_uuid = this.project.id;\n\n\t\t\t// User\n\t\t\tif (this.isEdit) {\n\t\t\t\tthis.reimbursement.modified_by = this.user;\n\t\t\t} else {\n\t\t\t\tthis.reimbursement.created_by = this.user;\n\t\t\t}\n\n\t\t\t// Expenses\n\t\t\tlet expenses = [],\n\t\t\t\tdetails = [],\n\t\t\t\tcashAccountEntryDS = this.$refs.cashAccountEntryDS.kendoWidget();\n\n\t\t\tif (this.isEdit) {\n\t\t\t\t// Edit Mode\n\t\t\t\tthis.reimbursement.details.forEach((value) => {\n\t\t\t\t\tif (value.amount > 0) {\n\t\t\t\t\t\t// Filter expenses on Dr side\n\t\t\t\t\t\tdetails.push(new ReimbursementDetailModel(value));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// New Mode\n\t\t\t\tthis.clearingTransactions.forEach((value) => {\n\t\t\t\t\tif (~this.selectedTransactionIds.indexOf(value.uuid)) {\n\t\t\t\t\t\texpenses.push(value);\n\n\t\t\t\t\t\t//Transaction Clearing Account on Dr\n\t\t\t\t\t\tvalue.expense_entries.forEach((element) => {\n\t\t\t\t\t\t\tif (element.account.number === AccountTypeCode.ADVANCE_SETTLEMENT_CLEARING_CODE) {\n\t\t\t\t\t\t\t\tdetails.push(\n\t\t\t\t\t\t\t\t\tnew ReimbursementDetailModel({\n\t\t\t\t\t\t\t\t\t\tuuid: kendo.guid(),\n\t\t\t\t\t\t\t\t\t\taccount: new AccountModel(element.account),\n\t\t\t\t\t\t\t\t\t\taccount_uuid: element.account.uuid,\n\t\t\t\t\t\t\t\t\t\tsecondary_acc_uuid: element.secondary_acc_uuid,\n\t\t\t\t\t\t\t\t\t\tprimary_contact: new ContactModel(this.employee),\n\t\t\t\t\t\t\t\t\t\tdescription: this.reimbursement.description,\n\t\t\t\t\t\t\t\t\t\tcurrency: new CurrencyModel(element.currency),\n\t\t\t\t\t\t\t\t\t\tamount: element.amount * -1, // Bong Kethya forced me to do this because original amount is negative\n\t\t\t\t\t\t\t\t\t\texchange_rate_uuid: element.exchange_rate_uuid,\n\t\t\t\t\t\t\t\t\t\texchange_rate: element.exchange_rate,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Expenses\n\t\t\t\tthis.reimbursement.expenses = expenses;\n\t\t\t}\n\n\t\t\t// Cash Account on Cr\n\t\t\tcashAccountEntryDS.data().forEach((value) => {\n\t\t\t\tif (value.account.number !== \"\" && value.amount > 0) {// Filter selected account\n\t\t\t\t\tdetails.push(new ReimbursementDetailModel({\n\t\t\t\t\t\taccount: new AccountModel(value.account),\n\t\t\t\t\t\taccount_uuid: value.account.uuid,\n\t\t\t\t\t\tsecondary_acc_uuid: value.secondary_acc_uuid,\n\t\t\t\t\t\tprimary_contact: new ContactModel(this.employee),\n\t\t\t\t\t\tdescription: this.reimbursement.description,\n\t\t\t\t\t\tref_number : value.ref_number,\n\t\t\t\t\t\tcurrency: new CurrencyModel(this.currency),\n\t\t\t\t\t\tamount: value.amount * -1,/* Cr side is negative */\n\t\t\t\t\t\texchange_rate_uuid: this.exchangeRate.id,\n\t\t\t\t\t\texchange_rate: kendo.parseFloat(this.exchangeRate.rate),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Reimbursement Details\n\t\t\tthis.reimbursement.details = details;\n\t\t},\n\t\t// Journal\n\t\taddJournal() {\n\t\t\t// Journal\n\t\t\tthis.journal.number = this.reimbursement.number;\n\t\t\tthis.journal.description = this.reimbursement.description;\n\t\t\tthis.journal.journal_date = Helper.toISODate(this.reimbursementDate);\n\t\t\tthis.journal.journal_type = EntityType.AUTO_JOURNAL;\n\t\t\tthis.journal.transaction_type = EntityType.REIMBURSEMENT;\n\t\t\tthis.journal.prefix_format = this.reimbursement.prefix_format;\n\t\t\tthis.journal.segment_uuid = this.reimbursement.segment_uuid;\n\t\t\tthis.journal.is_draft = this.reimbursement.is_draft;\n\t\t\tthis.journal.created_by = this.reimbursement.created_by;\n\t\t\tthis.journal.modified_by = this.reimbursement.modified_by;\n\n\t\t\t//Journal Entries\n\t\t\tlet entries = [];\n\t\t\tthis.reimbursement.details.forEach((value) => {\n\t\t\t\tlet je = new JournalEntryModel(value);\n\t\t\t\tje.amount = value.exchanged_amount;\n\t\t\t\t(je.exchange_rate_uuid = \"\"),\n\t\t\t\t\t(je.exchange_rate = 1), // Reimbursement Journal is base currency exchange rate = 1\n\t\t\t\t\tentries.push(new JournalEntryModel(je));\n\t\t\t});\n\t\t\tthis.journalEntries = entries;\n\t\t},\n\t\t// Validating\n\t\tvalidateForm() {\n\t\t\tlet result = true,\n\t\t\t\tmsg = \"\",\n\t\t\t\tcountCash = 0,\n\t\t\t\tsecondaryAccountAmount = 0,\n\t\t\t\tcashDS = this.$refs.cashAccountEntryDS.kendoWidget();\n\n\t\t\t// Employee\n\t\t\tif (this.employee.id === \"\") {\n\t\t\t\tmsg += `<p>${i18n.t(\"employee_is_required\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Non Selected Transaction\n\t\t\tif (this.selectedTransactionIds.length === 0) {\n\t\t\t\tresult = false;\n\t\t\t\tmsg += `<p>${i18n.t(\"please_select_transaction\")}</p>`;\n\t\t\t}\n\n\t\t\t// Non Selected Cash Account and Amount\n\t\t\tcashDS.data().forEach((value, index) => {\n\t\t\t\t// No account\n\t\t\t\tif (value.account.name === \"\" && value.amount > 0) {\n\t\t\t\t\tresult = false;\n\t\t\t\t\tmsg += `<p>${i18n.t(\n\t\t\t\t\t\t\"please_select_cash_account_at_row_number\"\n\t\t\t\t\t)} ${index + 1}</p>`;\n\t\t\t\t}\n\n\t\t\t\t// No amount\n\t\t\t\tif (value.account.name !== \"\" && value.amount === 0) {\n\t\t\t\t\tresult = false;\n\t\t\t\t\tmsg += `<p>${value.account.name} ${i18n.t(\"has_no_amount\")}</p>`;\n\t\t\t\t}\n\n\t\t\t\t// Count Cash Accounts\n\t\t\t\tif (value.account.name !== \"\" && value.amount > 0) {\n\t\t\t\t\tcountCash++;\n\t\t\t\t}\n\n\t\t\t\t/* Secondary Account on Cr */\n\t\t\t\tif(value.secondary_acc_uuid !== \"\"){\n\t\t\t\t\tsecondaryAccountAmount += value.amount * -1;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/* Secondary Account on Dr */\n\t\t\tthis.clearingTransactions.forEach((value) => {\n\t\t\t\tif (~this.selectedTransactionIds.indexOf(value.uuid)) {\n\t\t\t\t\t//Transaction Clearing Account on Dr\n\t\t\t\t\tvalue.expense_entries.forEach((element) => {\n\t\t\t\t\t\tif (element.account.number === AccountTypeCode.ADVANCE_SETTLEMENT_CLEARING_CODE && element.secondary_acc_uuid !== \"\") {\n\t\t\t\t\t\t\tsecondaryAccountAmount += element.amount * -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Count Cash Accounts\n\t\t\tif (countCash === 0) {\n\t\t\t\tresult = false;\n\t\t\t\tmsg += `<p>${i18n.t(\n\t\t\t\t\t\"please_select_cash_account_and_enter_amount\"\n\t\t\t\t)}</p>`;\n\t\t\t}\n\n\t\t\t// Diff\n\t\t\tif (this.transactionAmount - this.cashExchangedAmount !== 0) {\n\t\t\t\tresult = false;\n\t\t\t\tmsg += `<p>${i18n.t(\n\t\t\t\t\t\"transaction_amount_and_cash_exchanged_amount_are_not_balance\"\n\t\t\t\t)}</p>`;\n\t\t\t}\n\n\t\t\t/* Secondary Account Balance */\n\t\t\tif(secondaryAccountAmount !== 0){\n\t\t\t\tmsg += `<p>${i18n.t(\"secondary_account_unbalance\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Show Alert\n\t\t\tthis.errorMessage = msg;\n\t\t\tthis.alert = false;\n\t\t\tif (result === false) {\n\t\t\t\tthis.alert = true;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\t// All Saves\n\t\tasync onSaveOptionClick(mode) {\n\t\t\tif (this.$refs.form.validate() && this.validateForm()) {\n\t\t\t\tlet isValidClosingDate = await Helper.validateClosingDate(\n\t\t\t\t\tthis.reimbursementDate\n\t\t\t\t);\n\t\t\t\tif (isValidClosingDate) {\n\t\t\t\t\tthis.saveMode = mode;\n\t\t\t\t\tthis.save();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcancel() {\n\t\t\tthis.$swal({\n\t\t\t\ttitle: i18n.t(\"msg_title_warning\"),\n\t\t\t\ttext: i18n.t(\"msg_discard\"),\n\t\t\t\ticon: \"warning\",\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tcancelButtonText: i18n.t(\"cancel\"),\n\t\t\t\tconfirmButtonColor: \"#4d4848\",\n\t\t\t\tcancelButtonColor: \"#ED1A3A\",\n\t\t\t\tconfirmButtonText: i18n.t(\"discard\"),\n\t\t\t}).then((result) => {\n\t\t\t\tif (result.value) {\n\t\t\t\t\tthis.clear();\n\t\t\t\t\tthis.setDefaultData();\n\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tclear() {\n\t\t\tthis.isEdit = false;\n\t\t\tthis.saveMode = \"\";\n\n\t\t\tthis.reimbursementDate = new Date().toISOString().substr(0, 10);\n\t\t\tthis.cashAmount = 0;\n\t\t\tthis.cashExchangedAmount = 0;\n\t\t\tthis.transactionAmount = 0;\n\t\t\tthis.preventLoadClearingTransaction = false;\n\n\t\t\tthis.reimbursement = new ReimbursementModel();\n\t\t\tthis.journal = new JournalModel();\n\t\t\tthis.journalEntries = [];\n\t\t\tthis.employee = new EmployeeModel();\n\t\t\tthis.segment = new SegmentModel();\n\t\t\tthis.location = new LocationModel();\n\t\t\tthis.project = new ProjectModel();\n\t\t\tthis.currency = new CurrencyModel(institute.baseCurrency);\n\t\t\tthis.exchangeRate = new ExchangeRateModel(institute.baseCurrency);\n\t\t\tthis.selectedTransactionIds = [];\n\n\t\t\tlet txnDS = this.$refs.transactionDS.kendoWidget();\n\t\t\ttxnDS.data([]);\n\n\t\t\tlet cashDS = this.$refs.cashAccountEntryDS.kendoWidget();\n\t\t\tcashDS.data([]);\n\t\t},\n\t\tsave() {\n\t\t\tlet self = this;\n\n\t\t\t// Draft Mode\n\t\t\tif (this.saveMode === SaveOption.SAVEDRAFT) {\n\t\t\t\tthis.reimbursement.is_draft = 1;\n\t\t\t} else {\n\t\t\t\tthis.reimbursement.is_draft = 0;\n\t\t\t}\n\n\t\t\t// Shrink Data\n\t\t\tthis.shrinkData();\n\n\t\t\t// Add Journal\n\t\t\tthis.addJournal();\n\n\t\t\t// Sync Data\n\t\t\tthis.showLoading = true;\n\t\t\treimbursementHandler\n\t\t\t\t.save({\n\t\t\t\t\treimbursement: new ReimbursementModel(this.reimbursement),\n\t\t\t\t\tjournal: new JournalModel(this.journal),\n\t\t\t\t\tjournal_entries: this.journalEntries,\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tself.responseStatus(response);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$snotify.error(i18n.t(\"error_something_wrong\"));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tself.showLoading = false;\n\t\t\t\t\tthis.$snotify.error(error);\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tself.showLoading = false;\n\t\t\t\t});\n\t\t},\n\t\t// Response Status\n\t\tresponseStatus(response) {\n\t\t\tif (response.status === 200) {\n\t\t\t\tif (this.saveMode === SaveOption.SAVECLOSE || this.saveMode === SaveOption.DELETE) { /* Save Close or Delete */\n\t\t\t\t\tif (this.isEdit) {\n\t\t\t\t\t\tlet grid = this.$refs.transactionGrid.kendoWidget();\n\t\t\t\t\t\tgrid.showColumn(0);\n\t\t\t\t\t\tthis.goBackToViewPage();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\tthis.clear();\n\n\t\t\t\t/* Alert Success */\n\t\t\t\tthis.$snotify.success(i18n.t(\"successful\"));\n\t\t\t} else {\n\t\t\t\t/* Alert Error */\n\t\t\t\tthis.$snotify.error(i18n.t(\"error_something_wrong\"));\n\t\t\t}\n\t\t},\n\t\t// Go back to view page after edit mode\n\t\tgoBackToViewPage() {\n\t\t\tthis.$router.replace({\n\t\t\t\tname: \"Reimbursement View\",\n\t\t\t\tparams: { initReimbursement: Object.assign({}, new ReimbursementModel(this.reimbursement)) },\n\t\t\t});\n\t\t},\n\t},\n\twatch: {\n\t\tinitReimbursement: \"initialData\",\n\t},\n\tcomputed: mapState({\n        segments: state => state.segments.list,\n        locations: state => state.locations.list,\n\t\tprojects: state => state.projects.list,\n    }),\n\tmounted() {\n\t\t// Initial Data\n\t\tthis.initialData();\n\n\t\t// Grid\n\t\tlet grid = this.$refs.transactionGrid.kendoWidget();\n\t\tgrid.thead.on(\"click\", \".k-checkbox\", this.onMasterCheckboxClicks);\n\t},\n};\n</script>\n\n<style scoped>\n.function_content {\n\tpadding: 0 25px 25px;\n\tborder-bottom: 0;\n}\n.attachment_table.theme--light.v-data-table {\n\tbackground-color: transparent !important;\n}\n\n@media (min-width: 1264px) {\n\t.container {\n\t\t/* max-width: 1185px; */\n\t\tmax-width: 1080px !important;\n\t}\n}\n\n@media (max-width: 576px) {\n\t.mb-6 {\n\t\tmargin-bottom: 0 !important;\n\t}\n}\n</style>\n"]}]}