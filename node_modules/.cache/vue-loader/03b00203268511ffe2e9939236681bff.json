{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/share_funding/FundReceipt.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/share_funding/FundReceipt.vue","mtime":1638843525753},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGkxOG4gfSBmcm9tICJAL2kxOG4iOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKaW1wb3J0IEhlbHBlciBmcm9tICJAL2hlbHBlci5qcyI7CmltcG9ydCB7CglKb3VybmFsTW9kZWwsCglKb3VybmFsRW50cnlNb2RlbCwKCUpvdXJuYWxFbnRyeUV4dGVuZGVkTW9kZWwsCglBY2NvdW50TW9kZWwsCglDbGFzc01vZGVsLAoJQ3VycmVuY3lNb2RlbCwKCUV4Y2hhbmdlUmF0ZU1vZGVsLAoJTG9jYXRpb25Nb2RlbCwKCVByb2plY3RNb2RlbCwKCVNlZ21lbnRNb2RlbCwKCUNvbnRhY3RNb2RlbCwKfSBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQXBwTW9kZWxzIjsKaW1wb3J0IEN1c3RvbWVyTW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL0N1c3RvbWVyIjsKCi8qIEVkaXRvcnMgKi8KaW1wb3J0IENhc2hSZWNlaXB0QWNjb3VudEVkaXRvciBmcm9tICJAL3NjcmlwdHMva2VuZG9fZWRpdG9yL0Nhc2hBY2NvdW50IjsKaW1wb3J0IFJlbGF0ZWRFeHBlbnNlQWNjb3VudEVkaXRvciBmcm9tICJAL3NjcmlwdHMva2VuZG9fZWRpdG9yL1JlbGF0ZWRFeHBlbnNlQWNjb3VudCI7CmltcG9ydCBSZXZlbnVlRGVmZmVyZWRHcmFudEFjY291bnRFZGl0b3IgZnJvbSAiQC9zY3JpcHRzL2tlbmRvX2VkaXRvci9SZXZlbnVlRGVmZmVyZWRHcmFudEFjY291bnQiOwppbXBvcnQgQWNjb3VudFNlY29uZGFyeUVkaXRvciBmcm9tICJAL3NjcmlwdHMva2VuZG9fZWRpdG9yL0FjY291bnRTZWNvbmRhcnkiOwppbXBvcnQgQ2xhc3NFZGl0b3IgZnJvbSAiQC9zY3JpcHRzL2tlbmRvX2VkaXRvci9DbGF6eiI7CgovKiBTdG9yZSAqLwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CmNvbnN0IGluc3RpdHV0ZSA9IHN0b3JlLnN0YXRlLmluc3RpdHV0ZS5pbnN0aXR1dGU7Cgpjb25zdCBqb3VybmFsSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9qb3VybmFsSGFuZGxlciIpOwpjb25zdCBBY2NvdW50VHlwZUNvZGUgPSByZXF1aXJlKCJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9BY2NvdW50VHlwZUNvZGUiKTsKaW1wb3J0IHsgU2hvd1Jlc291cmNlIH0gZnJvbSAiQC9vYnNlcnZhYmxlL3N0b3JlIjsKCmNvbnN0IHsKCUVudGl0eVR5cGUsCglTYXZlT3B0aW9uLAp9ID0gcmVxdWlyZSgiQC9zY3JpcHRzL2RlZmF1bHRfc2V0dXAvQ29sbGVjdGlvbnMiKTsKCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICJGdW5kUmVjZWlwdCIsCgljb21wb25lbnRzOiB7CgkJTG9hZGluZ01lOiAoKSA9PiBpbXBvcnQoIkAvY29tcG9uZW50cy9Mb2FkaW5nIiksCgkJImFwcC1kYXRlcGlja2VyIjogKCkgPT4KCQkJaW1wb3J0KCJAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9EYXRlUGlja2VyQ29tcG9uZW50IiksCgkJImFwcC1jdXJyZW5jeS1kcm9wZG93bmxpc3QiOiAoKSA9PgoJCQlpbXBvcnQoIkAvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvQ3VycmVuY3kiKSwKCQkiYXBwLWRvbm9yLWRyb3Bkb3dubGlzdCI6ICgpID0+IGltcG9ydCgiQC9jb21wb25lbnRzL2Ryb3Bkb3dubGlzdC9Eb25vciIpLAoJCSJhcHAtZnVuZC1jYXRlZ29yeS1kcm9wZG93bmxpc3QiOiAoKSA9PgoJCQlpbXBvcnQoIkAvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvRnVuZENhdGVnb3J5IiksCgkJImFwcC1jb250cmFjdC1kcm9wZG93bmxpc3QiOiAoKSA9PgoJCQlpbXBvcnQoIkAvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvQ29udHJhY3QiKSwKCQkiYXBwLXNlZ21lbnQtZHJvcGRvd25saXN0IjogKCkgPT4KCQkJaW1wb3J0KCJAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L1NlZ21lbnQiKSwKCQkiYXBwLXByb2plY3QtZHJvcGRvd25saXN0IjogKCkgPT4KCQkJaW1wb3J0KCJAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L1Byb2plY3QiKSwKCQkiYXBwLWxvY2F0aW9uLWRyb3Bkb3dubGlzdCI6ICgpID0+CgkJCWltcG9ydCgiQC9jb21wb25lbnRzL2Ryb3Bkb3dubGlzdC9Mb2NhdGlvbiIpLAoJfSwKCXByb3BzOiB7CgkJaW5pdEpvdXJuYWw6IHsKCQkJdHlwZTogSm91cm5hbE1vZGVsLAoJCX0sCgl9LAoJZGF0YTogKCkgPT4gKHsKCQkvKiBPYmogKi8KCQlmdW5kQ2F0ZWdvcnk6IG51bGwsCgkJY29udHJhY3QgOiBudWxsLAoJCWNvbnRyYWN0UGFyYW1zIDoge30sCgkJam91cm5hbDogbmV3IEpvdXJuYWxNb2RlbCgpLAoJCWN1cnJlbmN5OiBuZXcgQ3VycmVuY3lNb2RlbChpbnN0aXR1dGUuYmFzZUN1cnJlbmN5KSwKCQlleGNoYW5nZVJhdGU6IG5ldyBFeGNoYW5nZVJhdGVNb2RlbChpbnN0aXR1dGUuYmFzZUN1cnJlbmN5KSwKCQlqb3VybmFsRW50cmllczogW10sCgkJY2FzaFJlY2VpcHRFbnRyaWVzOiBbXSwKCQlyZWxhdGVkRXhwZW5zZUVudHJpZXM6IFtdLAoJCXJldmVudWVEZWZmZXJlZEdyYW50RW50cmllczogW10sCgkJZG9ub3I6IG5ldyBDb250YWN0TW9kZWwoKSwKCQlsb2NhdGlvbjogbmV3IExvY2F0aW9uTW9kZWwoKSwKCQlwcm9qZWN0OiBuZXcgUHJvamVjdE1vZGVsKCksCgkJc2VnbWVudDogbmV3IFNlZ21lbnRNb2RlbCgpLAoJCS8vIEFjY291bnRzCgkJYWNjb3VudHM6IFtdLAoJCWNhc2hSZWNpZXB0QWNjb3VudHM6IFtdLAoJCXJlbGF0ZWRFeHBlbnNlQWNjb3VudHM6IFtdLAoJCXJldmVudWVEZWZmZXJlZEdyYW50QWNjb3VudHM6IFtdLAoJCS8vIEVkaXRvcnMKCQlDYXNoUmVjZWlwdEFjY291bnRFZGl0b3I6IENhc2hSZWNlaXB0QWNjb3VudEVkaXRvciwKCQlSZWxhdGVkRXhwZW5zZUFjY291bnRFZGl0b3I6IFJlbGF0ZWRFeHBlbnNlQWNjb3VudEVkaXRvciwKCQlSZXZlbnVlRGVmZmVyZWRHcmFudEFjY291bnRFZGl0b3I6IFJldmVudWVEZWZmZXJlZEdyYW50QWNjb3VudEVkaXRvciwKCQlBY2NvdW50U2Vjb25kYXJ5RWRpdG9yIDogQWNjb3VudFNlY29uZGFyeUVkaXRvciwKCQlDbGFzc0VkaXRvcjogQ2xhc3NFZGl0b3IsCgkJLy8gT3RoZXIKCQl0b3RhbERyOiAwLAoJCXRvdGFsQ3I6IDAsCgkJdGVtcGxhdGVzOiBbXSwKCQl1c2VyOiBIZWxwZXIuZ2V0VXNlcigpLAoJCS8vIEZvcm0gdmFsaWRhdGlvbgoJCXZhbGlkOiB0cnVlLAoJCWlzRWRpdDogZmFsc2UsCgkJYWxlcnQ6IGZhbHNlLAoJCWVycm9yTWVzc2FnZTogIiIsCgkJc2F2ZU1vZGU6ICIiLAoJCVNhdmVPcHRpb246IFNhdmVPcHRpb24sCgkJLy8gTG9hZGluZ01lCgkJc2hvd0xvYWRpbmc6IGZhbHNlLAoJCS8vIGZ1bmNpb24KCQlpc0hpZGVCYXI6IGZhbHNlLAoJfSksCgltZXRob2RzOiB7CgkJSGlkZVNtYWxsU2lkZUJhcigpIHsKCQkJdGhpcy5pc0hpZGVCYXIgPSAhdGhpcy5pc0hpZGVCYXI7CgkJfSwKCQlIZWxwKGtleV9zZWFyY2gpIHsKCQkJU2hvd1Jlc291cmNlKGtleV9zZWFyY2gpOwoJCX0sCgkJLy8gSW5pdGlhbCBEYXRhCgkJaW5pdGlhbERhdGEoKSB7CgkJCWlmICh0aGlzLmluaXRKb3VybmFsKSB7CgkJCQkvLyBFZGl0IE1vZGUKCQkJCXRoaXMuam91cm5hbCA9IHRoaXMuaW5pdEpvdXJuYWw7CgkJCQl0aGlzLmJpbmREYXRhKCk7CgkJCX0gZWxzZSB7CgkJCQkvLyBCcmFuZCBOZXcgTW9kZQoJCQkJdGhpcy5zZXREZWZhdWx0RGF0YSgpOwoJCQl9CgkJfSwKCQkvLyBTZXQgZGVmYXVsdCBkYXRhCgkJYXN5bmMgc2V0RGVmYXVsdERhdGEoKSB7CgkJCS8vIEJyYW5kIE5ldyBNb2RlCgkJCXRoaXMuaXNFZGl0ID0gZmFsc2U7CgoJCQl0aGlzLmpvdXJuYWwgPSBuZXcgSm91cm5hbE1vZGVsKHsKCQkJCXRyYW5zYWN0aW9uX3R5cGU6IEVudGl0eVR5cGUuRlVORF9SRUNFSVBULAoJCQkJam91cm5hbF9kYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwKCQkJfSk7CgoJCQkvKiBEZWZhdWx0IFNpZGViYXIgKi8KCQkJbGV0IGxvY2F0aW9ucyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJsb2NhdGlvbnMvZ2V0TGlzdCIpOwoJCQl0aGlzLmxvY2F0aW9uID0gbmV3IExvY2F0aW9uTW9kZWwobG9jYXRpb25zWzBdKTsKCgkJCWxldCBzZWdtZW50cyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZWdtZW50cy9nZXRMaXN0Iik7CgkJCXRoaXMuc2VnbWVudCA9IG5ldyBTZWdtZW50TW9kZWwoc2VnbWVudHMuZmluZCgoaSkgPT4gaS5pc1N5c3RlbSA9PT0gMSkpOwoKCQkJLy8gR2VuZXJhdGUgTnVtYmVyCgkJCXRoaXMuZ2VuZXJhdGVOdW1iZXIoKTsKCgkJCS8vIEFkZCB0d28gZGVmYXVsdCByb3dzCgkJCWZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAyOyBpbmRleCsrKSB7CgkJCQl0aGlzLmFkZFJvd0Nhc2hSZWNlaXB0KCk7CgkJCQl0aGlzLmFkZFJvd1JlbGF0ZWRFeHBlbnNlKCk7CgkJCQl0aGlzLmFkZFJvd1JldmVudWVEZWZmZXJlZEdyYW50KCk7CgkJCX0KCQl9LAoJCS8vIEJpbmQgZGF0YSBmcm9tIHByb3AgZm9yIGVkaXQgbW9kZQoJCWFzeW5jIGJpbmREYXRhKCkgewoJCQkvLyBFZGl0IE1vZGUKCQkJdGhpcy5pc0VkaXQgPSB0cnVlOwoKCQkJbGV0IHRvdGFsRHIgPSAwLAoJCQkJdG90YWxDciA9IDAsCgkJCQljYXNoUmVjZWlwdEVudHJpZXMgPSBbXSwKCQkJCXJlbGF0ZWRFeHBlbnNlRW50cmllcyA9IFtdLAoJCQkJcmV2ZW51ZURlZmZlcmVkR3JhbnRFbnRyaWVzID0gW107CgoJCQkvLyBEb25vcgoJCQl0aGlzLmRvbm9yID0gbmV3IEN1c3RvbWVyTW9kZWwoCgkJCQl0aGlzLmpvdXJuYWwuam91cm5hbF9lbnRyaWVzWzBdLnByaW1hcnlfY29udGFjdAoJCQkpOwoKCQkJLyogTG9hZCBEYXRhICovCgkJCWxldCBhY2NvdW50cyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhY2NvdW50aW5nL2dldEFjY291bnRzIiksCgkJCQljbGFzc2VzID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImNsYXNzZXMvZ2V0TGlzdCIpOwoKCQkJLy8gQ3VycmVuY3kKCQkJdGhpcy5jdXJyZW5jeSA9IG5ldyBDdXJyZW5jeU1vZGVsKAoJCQkJdGhpcy5qb3VybmFsLmpvdXJuYWxfZW50cmllc1swXS5jdXJyZW5jeQoJCQkpOwoJCQl0aGlzLmV4Y2hhbmdlUmF0ZSA9IG5ldyBFeGNoYW5nZVJhdGVNb2RlbCgKCQkJCXRoaXMuam91cm5hbC5qb3VybmFsX2VudHJpZXNbMF0uY3VycmVuY3kKCQkJKTsKCQkJdGhpcy5leGNoYW5nZVJhdGUuaWQgPSB0aGlzLmpvdXJuYWwuam91cm5hbF9lbnRyaWVzWzBdLmV4Y2hhbmdlX3JhdGVfdXVpZDsKCQkJdGhpcy5leGNoYW5nZVJhdGUucmF0ZSA9IHRoaXMuam91cm5hbC5qb3VybmFsX2VudHJpZXNbMF0uZXhjaGFuZ2VfcmF0ZTsKCgkJCXRoaXMuam91cm5hbC5qb3VybmFsX2VudHJpZXMuZm9yRWFjaCgodmFsdWUpID0+IHsKCQkJCWxldCBqZSA9IG5ldyBKb3VybmFsRW50cnlFeHRlbmRlZE1vZGVsKHZhbHVlKTsKCgkJCQlpZiAodmFsdWUuYW1vdW50ID4gMCkgewoJCQkJCS8vIERyIHNpZGUKCQkJCQlpZiAoCgkJCQkJCX5BY2NvdW50VHlwZUNvZGUuQ0FTSF9BQ0NPVU5UUy5pbmRleE9mKAoJCQkJCQkJdmFsdWUuYWNjb3VudC5hY2NvdW50X3R5cGUubnVtYmVyCgkJCQkJCSkKCQkJCQkpIHsKCQkJCQkJY2FzaFJlY2VpcHRFbnRyaWVzLnB1c2goamUpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCS8qIFNlY29uZGFyeSBBY2NvdW50ICovCgkJCQkJCWplLnNlY29uZGFyeV9hY2NvdW50ID0gbmV3IEFjY291bnRNb2RlbCgKCQkJCQkJCWFjY291bnRzLmZpbmQoKGkpID0+IGkudXVpZCA9PT0gdmFsdWUuc2Vjb25kYXJ5X2FjY191dWlkKQoJCQkJCQkpOwoKCQkJCQkJLy8gQ2xhc3NlcwoJCQkJCQlqZS5jbGFzczEgPSBuZXcgQ2xhc3NNb2RlbCgKCQkJCQkJCWNsYXNzZXMuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gdmFsdWUuY2xhc3NfMV91dWlkKQoJCQkJCQkpOwoJCQkJCQlqZS5jbGFzczIgPSBuZXcgQ2xhc3NNb2RlbCgKCQkJCQkJCWNsYXNzZXMuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gdmFsdWUuY2xhc3NfMl91dWlkKQoJCQkJCQkpOwoJCQkJCQlqZS5jbGFzczMgPSBuZXcgQ2xhc3NNb2RlbCgKCQkJCQkJCWNsYXNzZXMuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gdmFsdWUuY2xhc3NfM191dWlkKQoJCQkJCQkpOwoJCQkJCQlqZS5jbGFzczQgPSBuZXcgQ2xhc3NNb2RlbCgKCQkJCQkJCWNsYXNzZXMuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gdmFsdWUuY2xhc3NfNF91dWlkKQoJCQkJCQkpOwoJCQkJCQlqZS5jbGFzczUgPSBuZXcgQ2xhc3NNb2RlbCgKCQkJCQkJCWNsYXNzZXMuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gdmFsdWUuY2xhc3NfNV91dWlkKQoJCQkJCQkpOwoKCQkJCQkJcmVsYXRlZEV4cGVuc2VFbnRyaWVzLnB1c2goamUpOwoJCQkJCX0KCQkJCQl0b3RhbERyICs9IHZhbHVlLmFtb3VudDsKCQkJCX0gZWxzZSB7CgkJCQkJLy8gQ3Igc2lkZQoJCQkJCWplLmFtb3VudCA9IHZhbHVlLmFtb3VudCAqIC0xOwoJCQkJCXJldmVudWVEZWZmZXJlZEdyYW50RW50cmllcy5wdXNoKGplKTsKCQkJCQl0b3RhbENyICs9IGplLmFtb3VudDsKCQkJCX0KCQkJfSk7CgoJCQkvLyBTaWRlYmFyCgkJCWxldCBsb2NhdGlvbnMgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgibG9jYXRpb25zL2dldExpc3QiKTsKCQkJdGhpcy5sb2NhdGlvbiA9IG5ldyBMb2NhdGlvbk1vZGVsKAoJCQkJbG9jYXRpb25zLmZpbmQoKGkpID0+IGkuaWQgPT09IHRoaXMuam91cm5hbC5sb2NhdGlvbl91dWlkKQoJCQkpOwoKCQkJbGV0IHNlZ21lbnRzID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNlZ21lbnRzL2dldExpc3QiKTsKCQkJdGhpcy5zZWdtZW50ID0gbmV3IFNlZ21lbnRNb2RlbCgKCQkJCXNlZ21lbnRzLmZpbmQoKGkpID0+IGkuaWQgPT09IHRoaXMuam91cm5hbC5zZWdtZW50X3V1aWQpCgkJCSk7CgoJCQlsZXQgcHJvamVjdHMgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgicHJvamVjdHMvZ2V0TGlzdCIpOwoJCQl0aGlzLnByb2plY3QgPSBuZXcgUHJvamVjdE1vZGVsKAoJCQkJcHJvamVjdHMuZmluZCgoaSkgPT4gaS5pZCA9PT0gdGhpcy5qb3VybmFsLnByb2plY3RfdXVpZCkKCQkJKTsKCgkJCXRoaXMudG90YWxEciA9IHRvdGFsRHI7CgkJCXRoaXMudG90YWxDciA9IHRvdGFsQ3I7CgoJCQl0aGlzLmNhc2hSZWNlaXB0RW50cmllcyA9IGNhc2hSZWNlaXB0RW50cmllczsKCQkJdGhpcy5yZWxhdGVkRXhwZW5zZUVudHJpZXMgPSByZWxhdGVkRXhwZW5zZUVudHJpZXM7CgkJCXRoaXMucmV2ZW51ZURlZmZlcmVkR3JhbnRFbnRyaWVzID0gcmV2ZW51ZURlZmZlcmVkR3JhbnRFbnRyaWVzOwoJCX0sCgkJLy8gTnVtYmVyCgkJYXN5bmMgZ2VuZXJhdGVOdW1iZXIoKSB7CgkJCWlmICghdGhpcy5pc0VkaXQpIHsKCQkJCWxldCBudW0gPSBhd2FpdCBIZWxwZXIuZ2VuZXJhdGVBY2NvdW50aW5nTnVtYmVyKAoJCQkJCXRoaXMuam91cm5hbC50cmFuc2FjdGlvbl90eXBlLAoJCQkJCXRoaXMuam91cm5hbC5qb3VybmFsX2RhdGUKCQkJCSk7CgoJCQkJdGhpcy5qb3VybmFsLm51bWJlciA9IG51bS5udW1iZXI7CgkJCQl0aGlzLmpvdXJuYWwucHJlZml4X2Zvcm1hdCA9IG51bS5wcmVmaXhfZm9ybWF0OwoJCQl9CgkJfSwKCQkvLyBHZXQgRXhjaGFuZ2UgUmF0ZQoJCWFzeW5jIGdldEV4Y2hhbmdlUmF0ZSgpIHsKCQkJaWYgKHRoaXMuam91cm5hbC5qb3VybmFsX2RhdGUgJiYgdGhpcy5jdXJyZW5jeS5jb2RlICE9PSAiIikgewoJCQkJdGhpcy5leGNoYW5nZVJhdGUgPSBhd2FpdCBIZWxwZXIuZ2V0TGFzdEV4Y2hhbmdlUmF0ZUJ5RGF0ZSgKCQkJCQl0aGlzLmpvdXJuYWwuam91cm5hbF9kYXRlLAoJCQkJCXRoaXMuY3VycmVuY3kuY29kZQoJCQkJKTsKCQkJfSBlbHNlIHsKCQkJCXRoaXMuZXhjaGFuZ2VSYXRlID0gbmV3IEV4Y2hhbmdlUmF0ZU1vZGVsKGluc3RpdHV0ZS5iYXNlQ3VycmVuY3kpOwoJCQl9CgkJfSwKCQlvbkRvbm9yQ2hhbmdlcyAoKXsKCQkJdGhpcy5nZXRFeGNoYW5nZVJhdGUoKTsKCQkJdGhpcy5zZXRDb250cmFjdFBhcmFtcygpOwoJCX0sCgkJc2V0Q29udHJhY3RQYXJhbXMgKCl7CgkJCWlmKHRoaXMuc2VnbWVudC5pZCAhPT0gIiIpCgkJCWlmKHRoaXMubG9jYXRpb24uaWQgIT09ICIiKQoJCQlpZih0aGlzLmRvbm9yLmlkICE9PSAiIil7CgkJCQl0aGlzLmNvbnRyYWN0UGFyYW1zID0gewoJCQkJCWlkOiB0aGlzLmRvbm9yLmlkLAoJCQkJCXNlZ0lkOiB0aGlzLnNlZ21lbnQuaWQsCgkJCQkJbG9jSWQ6IHRoaXMubG9jYXRpb24uaWQsCgkJCQkJcGxJZDogJycsCgkJCQkJZGF0ZTogJycsCgkJCQl9CgkJCX0KCQl9LAoJCS8qIE9uIERhdGUgQ2hhbmVzICovCgkJb25EYXRlQ2hhbmdlcygpIHsKCQkJdGhpcy5nZXRFeGNoYW5nZVJhdGUoKTsKCQkJdGhpcy5nZW5lcmF0ZU51bWJlcigpOwoJCX0sCgkJLyogS2VuZG8gKi8KCQkvLyBEYXRhU291cmNlIENoYW5nZXMKCQlvbkNoYW5nZUNhc2hSZWNlaXB0RFMoZSkgewoJCQlpZiAoZS5maWVsZCkgewoJCQkJbGV0IGRhdGFSb3cgPSBlLml0ZW1zWzBdOwoKCQkJCWlmIChlLmZpZWxkID09PSAiYWNjb3VudCIpIHsKCQkJCQlkYXRhUm93LnNldCgiYWNjb3VudF91dWlkIiwgZGF0YVJvdy5hY2NvdW50LnV1aWQpOwoKCQkJCQl0aGlzLmFkZEV4dHJhUm93Q2FzaFJlY2VpcHQoZGF0YVJvdy51aWQpOwoJCQkJfSBlbHNlIGlmIChlLmZpZWxkID09PSAic2Vjb25kYXJ5X2FjY291bnQiKSB7CgkJCQkJaWYgKGRhdGFSb3cuc2Vjb25kYXJ5X2FjY291bnQgIT09IG51bGwpIHsKCQkJCQkJZGF0YVJvdy5zZXQoInNlY29uZGFyeV9hY2NfdXVpZCIsIGRhdGFSb3cuc2Vjb25kYXJ5X2FjY291bnQudXVpZCk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJLy8gU2V0IGRlZmF1bHQgd2hlbiBkZXNlbGVjdAoJCQkJCQlkYXRhUm93LnNldCgic2Vjb25kYXJ5X2FjY191dWlkIiwgIiIpOwoJCQkJCQlkYXRhUm93LnNldCgic2Vjb25kYXJ5X2FjY291bnQiLCBuZXcgQWNjb3VudE1vZGVsKCkpOwoJCQkJCX0KCQkJCX0KCgkJCQl0aGlzLmRhdGFTb3VyY2VBdXRvQ2FsY3VsYXRlKCk7CgkJCX0KCQl9LAoJCW9uQ2hhbmdlUmVsYXRlZEV4cGVuc2VEUyhlKSB7CgkJCWlmIChlLmZpZWxkKSB7CgkJCQlsZXQgZGF0YVJvdyA9IGUuaXRlbXNbMF07CgoJCQkJaWYgKGUuZmllbGQgPT09ICJhY2NvdW50IikgewoJCQkJCWRhdGFSb3cuc2V0KCJhY2NvdW50X3V1aWQiLCBkYXRhUm93LmFjY291bnQudXVpZCk7CgoJCQkJCXRoaXMuYWRkRXh0cmFSb3dSZWxhdGVkRXhwZW5zZShkYXRhUm93LnVpZCk7CgkJCQl9IGVsc2UgaWYgKGUuZmllbGQgPT09ICJzZWNvbmRhcnlfYWNjb3VudCIpIHsKCQkJCQlpZiAoZGF0YVJvdy5zZWNvbmRhcnlfYWNjb3VudCAhPT0gbnVsbCkgewoJCQkJCQlkYXRhUm93LnNldCgic2Vjb25kYXJ5X2FjY191dWlkIiwgZGF0YVJvdy5zZWNvbmRhcnlfYWNjb3VudC51dWlkKTsKCQkJCQl9IGVsc2UgewoJCQkJCQkvLyBTZXQgZGVmYXVsdCB3aGVuIGRlc2VsZWN0CgkJCQkJCWRhdGFSb3cuc2V0KCJzZWNvbmRhcnlfYWNjX3V1aWQiLCAiIik7CgkJCQkJCWRhdGFSb3cuc2V0KCJzZWNvbmRhcnlfYWNjb3VudCIsIG5ldyBBY2NvdW50TW9kZWwoKSk7CgkJCQkJfQoJCQkJfSBlbHNlIGlmIChlLmZpZWxkID09PSAiY2xhc3MxIikgewoJCQkJCWlmIChkYXRhUm93LmNsYXNzMSAhPT0gbnVsbCkgewoJCQkJCQlkYXRhUm93LnNldCgiY2xhc3NfMV91dWlkIiwgZGF0YVJvdy5jbGFzczEuaWQpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCS8vIFNldCBkZWZhdWx0IHdoZW4gZGVzZWxlY3QKCQkJCQkJZGF0YVJvdy5zZXQoImNsYXNzXzFfdXVpZCIsICIiKTsKCQkJCQkJZGF0YVJvdy5zZXQoImNsYXNzMSIsIG5ldyBDbGFzc01vZGVsKCkpOwoJCQkJCX0KCQkJCX0gZWxzZSBpZiAoZS5maWVsZCA9PT0gImNsYXNzMiIpIHsKCQkJCQlpZiAoZGF0YVJvdy5jbGFzczIgIT09IG51bGwpIHsKCQkJCQkJZGF0YVJvdy5zZXQoImNsYXNzXzJfdXVpZCIsIGRhdGFSb3cuY2xhc3MyLmlkKTsKCQkJCQl9IGVsc2UgewoJCQkJCQkvLyBTZXQgZGVmYXVsdCB3aGVuIGRlc2VsZWN0CgkJCQkJCWRhdGFSb3cuc2V0KCJjbGFzc18yX3V1aWQiLCAiIik7CgkJCQkJCWRhdGFSb3cuc2V0KCJjbGFzczIiLCBuZXcgQ2xhc3NNb2RlbCgpKTsKCQkJCQl9CgkJCQl9IGVsc2UgaWYgKGUuZmllbGQgPT09ICJjbGFzczMiKSB7CgkJCQkJaWYgKGRhdGFSb3cuY2xhc3MzICE9PSBudWxsKSB7CgkJCQkJCWRhdGFSb3cuc2V0KCJjbGFzc18zX3V1aWQiLCBkYXRhUm93LmNsYXNzMy5pZCk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJLy8gU2V0IGRlZmF1bHQgd2hlbiBkZXNlbGVjdAoJCQkJCQlkYXRhUm93LnNldCgiY2xhc3NfM191dWlkIiwgIiIpOwoJCQkJCQlkYXRhUm93LnNldCgiY2xhc3MzIiwgbmV3IENsYXNzTW9kZWwoKSk7CgkJCQkJfQoJCQkJfSBlbHNlIGlmIChlLmZpZWxkID09PSAiY2xhc3M0IikgewoJCQkJCWlmIChkYXRhUm93LmNsYXNzNCAhPT0gbnVsbCkgewoJCQkJCQlkYXRhUm93LnNldCgiY2xhc3NfNF91dWlkIiwgZGF0YVJvdy5jbGFzczQuaWQpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCS8vIFNldCBkZWZhdWx0IHdoZW4gZGVzZWxlY3QKCQkJCQkJZGF0YVJvdy5zZXQoImNsYXNzXzRfdXVpZCIsICIiKTsKCQkJCQkJZGF0YVJvdy5zZXQoImNsYXNzNCIsIG5ldyBDbGFzc01vZGVsKCkpOwoJCQkJCX0KCQkJCX0gZWxzZSBpZiAoZS5maWVsZCA9PT0gImNsYXNzNSIpIHsKCQkJCQlpZiAoZGF0YVJvdy5jbGFzczUgIT09IG51bGwpIHsKCQkJCQkJZGF0YVJvdy5zZXQoImNsYXNzXzVfdXVpZCIsIGRhdGFSb3cuY2xhc3M1LmlkKTsKCQkJCQl9IGVsc2UgewoJCQkJCQkvLyBTZXQgZGVmYXVsdCB3aGVuIGRlc2VsZWN0CgkJCQkJCWRhdGFSb3cuc2V0KCJjbGFzc181X3V1aWQiLCAiIik7CgkJCQkJCWRhdGFSb3cuc2V0KCJjbGFzczUiLCBuZXcgQ2xhc3NNb2RlbCgpKTsKCQkJCQl9CgkJCQl9CgoJCQkJdGhpcy5kYXRhU291cmNlQXV0b0NhbGN1bGF0ZSgpOwoJCQl9CgkJfSwKCQlvbkNoYW5nZVJldmVudWVEZWZmZXJlZEdyYW50RFMoZSkgewoJCQlpZiAoZS5maWVsZCkgewoJCQkJbGV0IGRhdGFSb3cgPSBlLml0ZW1zWzBdOwoKCQkJCWlmIChlLmZpZWxkID09PSAiYWNjb3VudCIpIHsKCQkJCQlkYXRhUm93LnNldCgiYWNjb3VudF91dWlkIiwgZGF0YVJvdy5hY2NvdW50LnV1aWQpOwoKCQkJCQl0aGlzLmFkZEV4dHJhUm93UmV2ZW51ZURlZmZlcmVkR3JhbnQoZGF0YVJvdy51aWQpOwoJCQkJfSBlbHNlIGlmIChlLmZpZWxkID09PSAic2Vjb25kYXJ5X2FjY291bnQiKSB7CgkJCQkJaWYgKGRhdGFSb3cuc2Vjb25kYXJ5X2FjY291bnQgIT09IG51bGwpIHsKCQkJCQkJZGF0YVJvdy5zZXQoInNlY29uZGFyeV9hY2NfdXVpZCIsIGRhdGFSb3cuc2Vjb25kYXJ5X2FjY291bnQudXVpZCk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJLy8gU2V0IGRlZmF1bHQgd2hlbiBkZXNlbGVjdAoJCQkJCQlkYXRhUm93LnNldCgic2Vjb25kYXJ5X2FjY191dWlkIiwgIiIpOwoJCQkJCQlkYXRhUm93LnNldCgic2Vjb25kYXJ5X2FjY291bnQiLCBuZXcgQWNjb3VudE1vZGVsKCkpOwoJCQkJCX0KCQkJCX0KCgkJCQl0aGlzLmRhdGFTb3VyY2VBdXRvQ2FsY3VsYXRlKCk7CgkJCX0KCQl9LAoJCS8vIEF1dG8gQ2FsY3VsYXRlIEluIERhdGFTb3VyY2UKCQlkYXRhU291cmNlQXV0b0NhbGN1bGF0ZSgpIHsKCQkJbGV0IGNhc2hSZWNlaXB0RFMgPSB0aGlzLiRyZWZzLmNhc2hSZWNlaXB0RFMua2VuZG9XaWRnZXQoKSwKCQkJCXJlbGF0ZWRFeHBlbnNlRFMgPSB0aGlzLiRyZWZzLnJlbGF0ZWRFeHBlbnNlRFMua2VuZG9XaWRnZXQoKSwKCQkJCXJldmVudWVEZWZmZXJlZEdyYW50RFMgPQoJCQkJCXRoaXMuJHJlZnMucmV2ZW51ZURlZmZlcmVkR3JhbnREUy5rZW5kb1dpZGdldCgpLAoJCQkJdG90YWxEciA9IDAsCgkJCQl0b3RhbENyID0gMDsKCgkJCS8vIFN1bQoJCQljYXNoUmVjZWlwdERTLmRhdGEoKS5mb3JFYWNoKCh2YWx1ZSkgPT4gewoJCQkJdG90YWxEciArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCk7CgkJCX0pOwoJCQlyZWxhdGVkRXhwZW5zZURTLmRhdGEoKS5mb3JFYWNoKCh2YWx1ZSkgPT4gewoJCQkJdG90YWxEciArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCk7CgkJCX0pOwoJCQlyZXZlbnVlRGVmZmVyZWRHcmFudERTLmRhdGEoKS5mb3JFYWNoKCh2YWx1ZSkgPT4gewoJCQkJdG90YWxDciArPSBrZW5kby5wYXJzZUZsb2F0KHZhbHVlLmFtb3VudCk7CgkJCX0pOwoKCQkJdGhpcy50b3RhbERyID0gdG90YWxEcjsKCQkJdGhpcy50b3RhbENyID0gdG90YWxDcjsKCQl9LAoJCS8vIFJvdyBOdW1iZXIgVGVtcGxhdGUKCQlyb3dOdW1iZXJDYXNoUmVjZWlwdChkYXRhSXRlbSkgewoJCQlsZXQgZHMgPSB0aGlzLiRyZWZzLmNhc2hSZWNlaXB0RFMua2VuZG9XaWRnZXQoKSwKCQkJCWluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CgoJCQlyZXR1cm4gaW5kZXggKyAxOwoJCX0sCgkJcm93TnVtYmVyUmVsYXRlZEV4cGVuc2UoZGF0YUl0ZW0pIHsKCQkJbGV0IGRzID0gdGhpcy4kcmVmcy5yZWxhdGVkRXhwZW5zZURTLmtlbmRvV2lkZ2V0KCksCgkJCQlpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwoKCQkJcmV0dXJuIGluZGV4ICsgMTsKCQl9LAoJCXJvd051bWJlclJldmVudWVEZWZmZXJlZEdyYW50KGRhdGFJdGVtKSB7CgkJCWxldCBkcyA9IHRoaXMuJHJlZnMucmV2ZW51ZURlZmZlcmVkR3JhbnREUy5rZW5kb1dpZGdldCgpLAoJCQkJaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKCgkJCXJldHVybiBpbmRleCArIDE7CgkJfSwKCQkvLyBBZGQgTmV3IFJvdwoJCWFkZFJvd0Nhc2hSZWNlaXB0KCkgewoJCQlsZXQgZHMgPSB0aGlzLiRyZWZzLmNhc2hSZWNlaXB0RFMua2VuZG9XaWRnZXQoKSwKCQkJCWxhc3QgPSBkcy50b3RhbCgpLAoJCQkJamUgPSBuZXcgSm91cm5hbEVudHJ5RXh0ZW5kZWRNb2RlbCgpOwoKCQkJZHMuaW5zZXJ0KGxhc3QsIGplKTsKCQl9LAoJCWFkZFJvd1JlbGF0ZWRFeHBlbnNlKCkgewoJCQlsZXQgZHMgPSB0aGlzLiRyZWZzLnJlbGF0ZWRFeHBlbnNlRFMua2VuZG9XaWRnZXQoKSwKCQkJCWxhc3QgPSBkcy50b3RhbCgpLAoJCQkJamUgPSBuZXcgSm91cm5hbEVudHJ5RXh0ZW5kZWRNb2RlbCgpOwoKCQkJZHMuaW5zZXJ0KGxhc3QsIGplKTsKCQl9LAoJCWFkZFJvd1JldmVudWVEZWZmZXJlZEdyYW50KCkgewoJCQlsZXQgZHMgPSB0aGlzLiRyZWZzLnJldmVudWVEZWZmZXJlZEdyYW50RFMua2VuZG9XaWRnZXQoKSwKCQkJCWxhc3QgPSBkcy50b3RhbCgpLAoJCQkJamUgPSBuZXcgSm91cm5hbEVudHJ5RXh0ZW5kZWRNb2RlbCgpOwoKCQkJZHMuaW5zZXJ0KGxhc3QsIGplKTsKCQl9LAoJCS8vIEFkZCBFeHRyYSBSb3cKCQlhZGRFeHRyYVJvd0Nhc2hSZWNlaXB0KHVpZCkgewoJCQlsZXQgZHMgPSB0aGlzLiRyZWZzLmNhc2hSZWNlaXB0RFMua2VuZG9XaWRnZXQoKSwKCQkJCXRvdGFsID0gZHMudG90YWwoKSwKCQkJCXJvdyA9IGRzLmdldEJ5VWlkKHVpZCksCgkJCQlpbmRleCA9IGRzLmluZGV4T2Yocm93KTsKCgkJCWlmIChpbmRleCA9PSB0b3RhbCAtIDEpIHsKCQkJCXRoaXMuYWRkUm93Q2FzaFJlY2VpcHQoKTsKCQkJfQoJCX0sCgkJYWRkRXh0cmFSb3dSZWxhdGVkRXhwZW5zZSh1aWQpIHsKCQkJbGV0IGRzID0gdGhpcy4kcmVmcy5yZWxhdGVkRXhwZW5zZURTLmtlbmRvV2lkZ2V0KCksCgkJCQl0b3RhbCA9IGRzLnRvdGFsKCksCgkJCQlyb3cgPSBkcy5nZXRCeVVpZCh1aWQpLAoJCQkJaW5kZXggPSBkcy5pbmRleE9mKHJvdyk7CgoJCQlpZiAoaW5kZXggPT0gdG90YWwgLSAxKSB7CgkJCQl0aGlzLmFkZFJvd1JlbGF0ZWRFeHBlbnNlKCk7CgkJCX0KCQl9LAoJCWFkZEV4dHJhUm93UmV2ZW51ZURlZmZlcmVkR3JhbnQodWlkKSB7CgkJCWxldCBkcyA9IHRoaXMuJHJlZnMucmV2ZW51ZURlZmZlcmVkR3JhbnREUy5rZW5kb1dpZGdldCgpLAoJCQkJdG90YWwgPSBkcy50b3RhbCgpLAoJCQkJcm93ID0gZHMuZ2V0QnlVaWQodWlkKSwKCQkJCWluZGV4ID0gZHMuaW5kZXhPZihyb3cpOwoKCQkJaWYgKGluZGV4ID09IHRvdGFsIC0gMSkgewoJCQkJdGhpcy5hZGRSb3dSZXZlbnVlRGVmZmVyZWRHcmFudCgpOwoJCQl9CgkJfSwKCQkvLyBSZW1vdmUgUm93CgkJcmVtb3ZlUm93Q2FzaFJlY2VpcHQoZSkgewoJCQllLnByZXZlbnREZWZhdWx0KCk7CgoJCQlsZXQgZ3JpZCA9IHRoaXMuJHJlZnMuY2FzaFJlY2VpcHRHcmlkLmtlbmRvV2lkZ2V0KCksCgkJCQlkcyA9IGdyaWQuZGF0YVNvdXJjZSwKCQkJCWRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbShrZW5kby5qUXVlcnkoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKCgkJCWlmIChkcy5kYXRhKCkubGVuZ3RoID4gMikgewoJCQkJZHMucmVtb3ZlKGRhdGFJdGVtKTsKCQkJfQoJCX0sCgkJcmVtb3ZlUm93UmVsYXRlZEV4cGVuc2UoZSkgewoJCQllLnByZXZlbnREZWZhdWx0KCk7CgoJCQlsZXQgZ3JpZCA9IHRoaXMuJHJlZnMucmVsYXRlZEV4cGVuc2VHcmlkLmtlbmRvV2lkZ2V0KCksCgkJCQlkcyA9IGdyaWQuZGF0YVNvdXJjZSwKCQkJCWRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbShrZW5kby5qUXVlcnkoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKCgkJCWlmIChkcy50b3RhbCgpID4gMikgewoJCQkJZHMucmVtb3ZlKGRhdGFJdGVtKTsKCQkJfQoJCX0sCgkJcmVtb3ZlUm93UmV2ZW51ZURlZmZlcmVkR3JhbnQoZSkgewoJCQllLnByZXZlbnREZWZhdWx0KCk7CgoJCQlsZXQgZ3JpZCA9IHRoaXMuJHJlZnMucmV2ZW51ZURlZmZlcmVkR3JhbnRHcmlkLmtlbmRvV2lkZ2V0KCksCgkJCQlkcyA9IGdyaWQuZGF0YVNvdXJjZSwKCQkJCWRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbShrZW5kby5qUXVlcnkoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKCgkJCWlmIChkcy50b3RhbCgpID4gMikgewoJCQkJZHMucmVtb3ZlKGRhdGFJdGVtKTsKCQkJfQoJCX0sCgkJLy8gU2hyaW5rIERhdGEKCQlzaHJpbmtEYXRhKCkgewoJCQkvLyBKb3VybmFsIERhdGUKCQkJdGhpcy5qb3VybmFsLmpvdXJuYWxfZGF0ZSA9IEhlbHBlci50b0lTT0RhdGUodGhpcy5qb3VybmFsLmpvdXJuYWxfZGF0ZSk7CgoJCQkvKiBKb3VybmFsIFR5cGUgKi8KCQkJdGhpcy5qb3VybmFsLmpvdXJuYWxfdHlwZSA9IHRoaXMuZnVuZENhdGVnb3J5Lm5hbWU7CgoJCQkvKiBQcm9qZWN0IFNlZ21lbnQgTG9jYXRpb24gKi8KCQkJdGhpcy5qb3VybmFsLnByb2plY3RfdXVpZCA9IHRoaXMucHJvamVjdC5pZDsKCQkJdGhpcy5qb3VybmFsLnNlZ21lbnRfdXVpZCA9IHRoaXMuc2VnbWVudC5pZDsKCQkJdGhpcy5qb3VybmFsLmxvY2F0aW9uX3V1aWQgPSB0aGlzLmxvY2F0aW9uLmlkOwoKCQkJLy8gVXNlcgoJCQlpZiAodGhpcy5pc0VkaXQpIHsKCQkJCXRoaXMuam91cm5hbC5tb2RpZmllZF9ieSA9IHRoaXMudXNlcjsKCQkJfSBlbHNlIHsKCQkJCXRoaXMuam91cm5hbC5jcmVhdGVkX2J5ID0gdGhpcy51c2VyOwoJCQl9CgoJCQlsZXQgZW50cmllcyA9IFtdLAoJCQkJY2FzaFJlY2VpcHREUyA9IHRoaXMuJHJlZnMuY2FzaFJlY2VpcHREUy5rZW5kb1dpZGdldCgpLAoJCQkJcmVsYXRlZEV4cGVuc2VEUyA9IHRoaXMuJHJlZnMucmVsYXRlZEV4cGVuc2VEUy5rZW5kb1dpZGdldCgpLAoJCQkJcmV2ZW51ZURlZmZlcmVkR3JhbnREUyA9CgkJCQkJdGhpcy4kcmVmcy5yZXZlbnVlRGVmZmVyZWRHcmFudERTLmtlbmRvV2lkZ2V0KCk7CgoJCQkvLyBDYXNoIFJlY2VpcHQgQWNjb3VudHMgb24gRHIKCQkJY2FzaFJlY2VpcHREUy5kYXRhKCkuZm9yRWFjaCgodmFsdWUpID0+IHsKCQkJCS8vIEZpbHRlciBzZWxlY3RlZCBhY2NvdW50CgkJCQlpZiAodmFsdWUuYWNjb3VudC5udW1iZXIgIT09ICIiICYmIHZhbHVlLmFtb3VudCA+IDApIHsKCQkJCQkvLyBBY2NvdW50CgkJCQkJdmFsdWUuc2V0KCJhY2NvdW50IiwgbmV3IEFjY291bnRNb2RlbCh2YWx1ZS5hY2NvdW50KSk7CgoJCQkJCS8vIENvbnRhY3QKCQkJCQl2YWx1ZS5zZXQoInByaW1hcnlfY29udGFjdCIsIG5ldyBDb250YWN0TW9kZWwodGhpcy5kb25vcikpOwoKCQkJCQkvKiBDb250cmFjdCAqLwoJCQkJCXZhbHVlLnNldCgicmVmX251bWJlciIsIHRoaXMuY29udHJhY3QucmVmZXJlbmNlTm8pOwoKCQkJCQkvLyBDdXJyZW5jeQoJCQkJCXZhbHVlLnNldCgiY3VycmVuY3kiLCBuZXcgQ3VycmVuY3lNb2RlbCh0aGlzLmN1cnJlbmN5KSk7CgkJCQkJdmFsdWUuc2V0KCJleGNoYW5nZV9yYXRlX3V1aWQiLCB0aGlzLmV4Y2hhbmdlUmF0ZS5pZCk7CgkJCQkJdmFsdWUuc2V0KCJleGNoYW5nZV9yYXRlIiwgdGhpcy5leGNoYW5nZVJhdGUucmF0ZSk7CgoJCQkJCWVudHJpZXMucHVzaChuZXcgSm91cm5hbEVudHJ5TW9kZWwodmFsdWUpKTsKCQkJCX0KCQkJfSk7CgoJCQkvLyBSZWxhdGVkIEV4cGVuc2UgQWNjb3VudHMgb24gRHIKCQkJcmVsYXRlZEV4cGVuc2VEUy5kYXRhKCkuZm9yRWFjaCgodmFsdWUpID0+IHsKCQkJCS8vIEZpbHRlciBzZWxlY3RlZCBhY2NvdW50CgkJCQlpZiAodmFsdWUuYWNjb3VudC5udW1iZXIgIT09ICIiICYmIHZhbHVlLmFtb3VudCA+IDApIHsKCQkJCQkvLyBBY2NvdW50CgkJCQkJdmFsdWUuc2V0KCJhY2NvdW50IiwgbmV3IEFjY291bnRNb2RlbCh2YWx1ZS5hY2NvdW50KSk7CgoJCQkJCS8vIENvbnRhY3QKCQkJCQl2YWx1ZS5zZXQoInByaW1hcnlfY29udGFjdCIsIG5ldyBDb250YWN0TW9kZWwodGhpcy5kb25vcikpOwoKCQkJCQkvKiBDb250cmFjdCAqLwoJCQkJCXZhbHVlLnNldCgicmVmX251bWJlciIsIHRoaXMuY29udHJhY3QucmVmZXJlbmNlTm8pOwoKCQkJCQkvLyBDdXJyZW5jeQoJCQkJCXZhbHVlLnNldCgiY3VycmVuY3kiLCBuZXcgQ3VycmVuY3lNb2RlbCh0aGlzLmN1cnJlbmN5KSk7CgkJCQkJdmFsdWUuc2V0KCJleGNoYW5nZV9yYXRlX3V1aWQiLCB0aGlzLmV4Y2hhbmdlUmF0ZS5pZCk7CgkJCQkJdmFsdWUuc2V0KCJleGNoYW5nZV9yYXRlIiwgdGhpcy5leGNoYW5nZVJhdGUucmF0ZSk7CgoJCQkJCWVudHJpZXMucHVzaChuZXcgSm91cm5hbEVudHJ5TW9kZWwodmFsdWUpKTsKCQkJCX0KCQkJfSk7CgoJCQkvLyBSZXZlbnVlIERlZmZlcmVkIEdyYW50IEFjY291bnQgb24gQ3IKCQkJcmV2ZW51ZURlZmZlcmVkR3JhbnREUy5kYXRhKCkuZm9yRWFjaCgodmFsdWUpID0+IHsKCQkJCS8vIEZpbHRlciBzZWxlY3RlZCBhY2NvdW50CgkJCQlpZiAodmFsdWUuYWNjb3VudC5udW1iZXIgIT09ICIiICYmIHZhbHVlLmFtb3VudCA+IDApIHsKCQkJCQkvLyBBY2NvdW50CgkJCQkJdmFsdWUuc2V0KCJhY2NvdW50IiwgbmV3IEFjY291bnRNb2RlbCh2YWx1ZS5hY2NvdW50KSk7CgoJCQkJCS8vIENvbnRhY3QKCQkJCQl2YWx1ZS5zZXQoInByaW1hcnlfY29udGFjdCIsIG5ldyBDb250YWN0TW9kZWwodGhpcy5kb25vcikpOwoKCQkJCQkvKiBDb250cmFjdCAqLwoJCQkJCXZhbHVlLnNldCgicmVmX251bWJlciIsIHRoaXMuY29udHJhY3QucmVmZXJlbmNlTm8pOwoKCQkJCQkvLyBDdXJyZW5jeQoJCQkJCXZhbHVlLnNldCgiY3VycmVuY3kiLCBuZXcgQ3VycmVuY3lNb2RlbCh0aGlzLmN1cnJlbmN5KSk7CgkJCQkJdmFsdWUuc2V0KCJhbW91bnQiLCB2YWx1ZS5hbW91bnQgKiAtMSk7IC8vIENyZWRpdCBzaWRlIGlzIG5lZ2F0aXZlCgkJCQkJdmFsdWUuc2V0KCJleGNoYW5nZV9yYXRlX3V1aWQiLCB0aGlzLmV4Y2hhbmdlUmF0ZS5pZCk7CgkJCQkJdmFsdWUuc2V0KCJleGNoYW5nZV9yYXRlIiwgdGhpcy5leGNoYW5nZVJhdGUucmF0ZSk7CgoJCQkJCWVudHJpZXMucHVzaChuZXcgSm91cm5hbEVudHJ5TW9kZWwodmFsdWUpKTsKCQkJCX0KCQkJfSk7CgoJCQkvLyBKb3VybmFsIEVudHJpZXMKCQkJdGhpcy5qb3VybmFsLmpvdXJuYWxfZW50cmllcyA9IGVudHJpZXM7CgkJfSwKCQkvLyBWYWxpZGF0aW5nCgkJdmFsaWRhdGVGb3JtKCkgewoJCQlsZXQgcmVzdWx0ID0gdHJ1ZSwKCQkJCW1zZyA9ICIiLAoJCQkJY2FzaFJlY2VpcHREUyA9IHRoaXMuJHJlZnMuY2FzaFJlY2VpcHREUy5rZW5kb1dpZGdldCgpLAoJCQkJcmVsYXRlZEV4cGVuc2VEUyA9IHRoaXMuJHJlZnMucmVsYXRlZEV4cGVuc2VEUy5rZW5kb1dpZGdldCgpLAoJCQkJcmV2ZW51ZURlZmZlcmVkR3JhbnREUyA9IHRoaXMuJHJlZnMucmV2ZW51ZURlZmZlcmVkR3JhbnREUy5rZW5kb1dpZGdldCgpLAoJCQkJc2Vjb25kYXJ5QW1vdW50ID0gMCwKCQkJCWNvdW50RW1wdHlDYXNoUmVjZWlwdCA9IDAsCgkJCQljb3VudEVtcHR5UmV2ZW51ZURlZmZlcmVkR3JhbnQgPSAwOwoKCQkJLy8gRG9ub3IKCQkJaWYgKHRoaXMuZG9ub3IuaWQgPT09ICIiKSB7CgkJCQltc2cgKz0gYDxwPiR7aTE4bi50KCJkb25vcl9pc19yZXF1aXJlZCIpfTwvcD5gOwoJCQkJcmVzdWx0ID0gZmFsc2U7CgkJCX0KCgkJCS8vIEZ1bmQgQ2F0ZWdvcnkKCQkJaWYgKHRoaXMuZnVuZENhdGVnb3J5ID09PSBudWxsKSB7CgkJCQltc2cgKz0gYDxwPiR7aTE4bi50KCJmdW5kX2NhdGVnb3J5X2lzX3JlcXVpcmVkIil9PC9wPmA7CgkJCQlyZXN1bHQgPSBmYWxzZTsKCQkJfQoKCQkJLy8gUHJvamVjdAoJCQlpZiAodGhpcy5wcm9qZWN0LmlkID09PSAiIikgewoJCQkJbXNnICs9IGA8cD4ke2kxOG4udCgicHJvamVjdF9pc19yZXF1aXJlZCIpfTwvcD5gOwoJCQkJcmVzdWx0ID0gZmFsc2U7CgkJCX0KCgkJCS8vIFNlZ21lbnQKCQkJaWYgKHRoaXMuc2VnbWVudC5pZCA9PT0gIiIpIHsKCQkJCW1zZyArPSBgPHA+JHtpMThuLnQoInNlZ21lbnRfaXNfcmVxdWlyZWQiKX08L3A+YDsKCQkJCXJlc3VsdCA9IGZhbHNlOwoJCQl9CgoJCQkvLyBMb2NhdGlvbgoJCQlpZiAodGhpcy5sb2NhdGlvbi5pZCA9PT0gIiIpIHsKCQkJCW1zZyArPSBgPHA+JHtpMThuLnQoImxvY2F0aW9uX2lzX3JlcXVpcmVkIil9PC9wPmA7CgkJCQlyZXN1bHQgPSBmYWxzZTsKCQkJfQoKCQkJLy8gQ2FzaCBSZWNlaXB0CgkJCWNhc2hSZWNlaXB0RFMuZGF0YSgpLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4gewoJCQkJLy8gTm8gYWNjb3VudAoJCQkJaWYgKHZhbHVlLmFjY291bnQubmFtZSA9PT0gIiIgJiYgdmFsdWUuYW1vdW50ID4gMCkgewoJCQkJCXJlc3VsdCA9IGZhbHNlOwoJCQkJCW1zZyArPSBgPHA+JHtpMThuLnQoCgkJCQkJCSJwbGVhc2Vfc2VsZWN0X2Nhc2hfcmVjZWlwdF9hY2NvdW50X2F0X3Jvd19udW1iZXIiCgkJCQkJKX0gJHtpbmRleCArIDF9PC9wPmA7CgkJCQl9CgoJCQkJLy8gTm8gYW1vdW50CgkJCQlpZiAodmFsdWUuYWNjb3VudC5uYW1lICE9PSAiIiAmJiB2YWx1ZS5hbW91bnQgPT09IDApIHsKCQkJCQlyZXN1bHQgPSBmYWxzZTsKCQkJCQltc2cgKz0gYDxwPiR7dmFsdWUuYWNjb3VudC5uYW1lfSAke2kxOG4udCgiaGFzX25vX2Ftb3VudCIpfTwvcD5gOwoJCQkJfQoKCQkJCS8vIENvdW50IEZyb20gQWNjb3VudHMKCQkJCWlmICh2YWx1ZS5hY2NvdW50Lm5hbWUgIT09ICIiICYmIHZhbHVlLmFtb3VudCA+IDApIHsKCQkJCQljb3VudEVtcHR5Q2FzaFJlY2VpcHQrKzsKCQkJCX0KCgkJCQkvKiBTZWNvbmRhcnkgU3VtIEFtb3VudCAqLwoJCQkJaWYodmFsdWUuc2Vjb25kYXJ5X2FjY291bnQudXVpZCAhPT0gIiIpewoJCQkJCXNlY29uZGFyeUFtb3VudCArPSB2YWx1ZS5hbW91bnQ7CgkJCQl9CgkJCX0pOwoKCQkJLy8gRW1wdHkgUm93IEZyb20gQWNjb3VudHMKCQkJaWYgKGNvdW50RW1wdHlDYXNoUmVjZWlwdCA9PT0gMCkgewoJCQkJbXNnICs9IGA8cD4ke2kxOG4udCgicGxlYXNlX3NlbGVjdF9jYXNoX3JlY2VpcHRfYWNjb3VudCIpfTwvcD5gOwoJCQkJcmVzdWx0ID0gZmFsc2U7CgkJCX0KCgkJCS8vIFJlbGF0ZWQgRXhwZW5zZQoJCQlyZWxhdGVkRXhwZW5zZURTLmRhdGEoKS5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHsKCQkJCS8vIE5vIGFjY291bnQKCQkJCWlmICh2YWx1ZS5hY2NvdW50Lm5hbWUgPT09ICIiICYmIHZhbHVlLmFtb3VudCA+IDApIHsKCQkJCQlyZXN1bHQgPSBmYWxzZTsKCQkJCQltc2cgKz0gYDxwPiR7aTE4bi50KAoJCQkJCQkicGxlYXNlX3NlbGVjdF9yZWxhdGVkX2V4cGVuc2VfYWNjb3VudF9hdF9yb3dfbnVtYmVyIgoJCQkJCSl9ICR7aW5kZXggKyAxfTwvcD5gOwoJCQkJfQoKCQkJCS8vIE5vIGFtb3VudAoJCQkJaWYgKHZhbHVlLmFjY291bnQubmFtZSAhPT0gIiIgJiYgdmFsdWUuYW1vdW50ID09PSAwKSB7CgkJCQkJcmVzdWx0ID0gZmFsc2U7CgkJCQkJbXNnICs9IGA8cD4ke3ZhbHVlLmFjY291bnQubmFtZX0gJHtpMThuLnQoImhhc19ub19hbW91bnQiKX08L3A+YDsKCQkJCX0KCgkJCQkvKiBTZWNvbmRhcnkgU3VtIEFtb3VudCAqLwoJCQkJaWYodmFsdWUuc2Vjb25kYXJ5X2FjY291bnQudXVpZCAhPT0gIiIpewoJCQkJCXNlY29uZGFyeUFtb3VudCArPSB2YWx1ZS5hbW91bnQ7CgkJCQl9CgkJCX0pOwoKCQkJLy8gUmVsYXRlZCBFeHBlbnNlCgkJCXJldmVudWVEZWZmZXJlZEdyYW50RFMuZGF0YSgpLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4gewoJCQkJLy8gTm8gYWNjb3VudAoJCQkJaWYgKHZhbHVlLmFjY291bnQubmFtZSA9PT0gIiIgJiYgdmFsdWUuYW1vdW50ID4gMCkgewoJCQkJCXJlc3VsdCA9IGZhbHNlOwoJCQkJCW1zZyArPSBgPHA+JHtpMThuLnQoCgkJCQkJCSJwbGVhc2Vfc2VsZWN0X3JldmVudWVfZGVmZmVyZWRfZ3JhbnRfYWNjb3VudF9hdF9yb3dfbnVtYmVyIgoJCQkJCSl9ICR7aW5kZXggKyAxfTwvcD5gOwoJCQkJfQoKCQkJCS8vIE5vIGFtb3VudAoJCQkJaWYgKHZhbHVlLmFjY291bnQubmFtZSAhPT0gIiIgJiYgdmFsdWUuYW1vdW50ID09PSAwKSB7CgkJCQkJcmVzdWx0ID0gZmFsc2U7CgkJCQkJbXNnICs9IGA8cD4ke3ZhbHVlLmFjY291bnQubmFtZX0gJHtpMThuLnQoImhhc19ub19hbW91bnQiKX08L3A+YDsKCQkJCX0KCgkJCQkvLyBDb3VudCBUbyBBY2NvdW50cwoJCQkJaWYgKHZhbHVlLmFjY291bnQubmFtZSAhPT0gIiIgJiYgdmFsdWUuYW1vdW50ID4gMCkgewoJCQkJCWNvdW50RW1wdHlSZXZlbnVlRGVmZmVyZWRHcmFudCsrOwoJCQkJfQoKCQkJCS8qIFNlY29uZGFyeSBTdW0gQW1vdW50ICovCgkJCQlpZih2YWx1ZS5zZWNvbmRhcnlfYWNjb3VudC51dWlkICE9PSAiIil7CgkJCQkJc2Vjb25kYXJ5QW1vdW50ICs9IHZhbHVlLmFtb3VudCAqIC0xOwoJCQkJfQoJCQl9KTsKCgkJCS8vIEVtcHR5IFJvdyBUbwoJCQlpZiAoY291bnRFbXB0eVJldmVudWVEZWZmZXJlZEdyYW50ID09PSAwKSB7CgkJCQltc2cgKz0gYDxwPiR7aTE4bi50KAoJCQkJCSJwbGVhc2Vfc2VsZWN0X3JldmVudWVfZGVmZmVyZWRfZ3JhbnRfYWNjb3VudCIKCQkJCSl9PC9wPmA7CgkJCQlyZXN1bHQgPSBmYWxzZTsKCQkJfQoKCQkJLy8gQWxsIHRvdGFscwoJCQlpZiAoa2VuZG8ucGFyc2VGbG9hdCh0aGlzLnRvdGFsRHIpICE9PSBrZW5kby5wYXJzZUZsb2F0KHRoaXMudG90YWxDcikpIHsKCQkJCW1zZyArPSBgPHA+JHtpMThuLnQoInRvdGFsX2RyX2FuZF90b3RhbF9jcl9hcmVfbm90X2JhbGFuY2UiKX08L3A+YDsKCQkJCXJlc3VsdCA9IGZhbHNlOwoJCQl9CgoJCQkvKiBTZWNvbmRhcnkgQWNjb3VudCBBbW91bnQgQmFsYW5jZSAqLwoJCQlpZihzZWNvbmRhcnlBbW91bnQgIT09IDApewoJCQkJbXNnICs9IGA8cD4ke2kxOG4udCgic2Vjb25kYXJ5X2FjY291bnRfdW5iYWxhbmNlIil9PC9wPmA7CgkJCQlyZXN1bHQgPSBmYWxzZTsKCQkJfQoKCQkJLy8gU2hvdyBBbGVydAoJCQl0aGlzLmVycm9yTWVzc2FnZSA9IG1zZzsKCQkJdGhpcy5hbGVydCA9IGZhbHNlOwoJCQlpZiAocmVzdWx0ID09PSBmYWxzZSkgewoJCQkJdGhpcy5hbGVydCA9IHRydWU7CgkJCX0KCgkJCXJldHVybiByZXN1bHQ7CgkJfSwKCQkvLyBBbGwgU2F2ZXMKCQlhc3luYyBvblNhdmVPcHRpb25DbGljayhtb2RlKSB7CgkJCWlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSAmJiB0aGlzLnZhbGlkYXRlRm9ybSgpKSB7CgkJCQlsZXQgaXNWYWxpZENsb3NpbmdEYXRlID0gYXdhaXQgSGVscGVyLnZhbGlkYXRlQ2xvc2luZ0RhdGUoCgkJCQkJdGhpcy5qb3VybmFsLmpvdXJuYWxfZGF0ZQoJCQkJKTsKCQkJCWlmIChpc1ZhbGlkQ2xvc2luZ0RhdGUpIHsKCQkJCQl0aGlzLnNhdmVNb2RlID0gbW9kZTsKCQkJCQl0aGlzLnNhdmUoKTsKCQkJCX0KCQkJfQoJCX0sCgkJY2FuY2VsKCkgewoJCQl0aGlzLiRzd2FsKHsKCQkJCXRpdGxlOiBpMThuLnQoIm1zZ190aXRsZV93YXJuaW5nIiksCgkJCQl0ZXh0OiBpMThuLnQoIm1zZ19kaXNjYXJkIiksCgkJCQlpY29uOiAid2FybmluZyIsCgkJCQlzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAoJCQkJY2FuY2VsQnV0dG9uVGV4dDogaTE4bi50KCJjYW5jZWwiKSwKCQkJCWNvbmZpcm1CdXR0b25Db2xvcjogIiM0ZDQ4NDgiLAoJCQkJY2FuY2VsQnV0dG9uQ29sb3I6ICIjRUQxQTNBIiwKCQkJCWNvbmZpcm1CdXR0b25UZXh0OiBpMThuLnQoImRpc2NhcmQiKSwKCQkJfSkudGhlbigocmVzdWx0KSA9PiB7CgkJCQlpZiAocmVzdWx0LnZhbHVlKSB7CgkJCQkJdGhpcy5jbGVhcigpOwoJCQkJCXRoaXMuc2V0RGVmYXVsdERhdGEoKTsKCQkJCQl0aGlzLiRyb3V0ZXIuZ28oLTEpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCWNsZWFyKCkgewoJCQl0aGlzLmlzRWRpdCA9IGZhbHNlOwoJCQl0aGlzLnNhdmVNb2RlID0gIiI7CgoJCQl0aGlzLmN1cnJlbmN5ID0gbmV3IEN1cnJlbmN5TW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSk7CgkJCXRoaXMuZXhjaGFuZ2VSYXRlID0gbmV3IEV4Y2hhbmdlUmF0ZU1vZGVsKGluc3RpdHV0ZS5iYXNlQ3VycmVuY3kpOwoKCQkJdGhpcy5kb25vciA9IG5ldyBDb250YWN0TW9kZWwoKTsKCQkJdGhpcy5jb250cmFjdCA9IG51bGw7CgkJCXRoaXMuY29udHJhY3RQYXJhbXMgPSBbXTsKCQkJdGhpcy5mdW5kQ2F0ZWdvcnkgPSBudWxsOwoJCQl0aGlzLnNlZ21lbnQgPSBuZXcgU2VnbWVudE1vZGVsKCk7CgkJCXRoaXMucHJvamVjdCA9IG5ldyBQcm9qZWN0TW9kZWwoKTsKCQkJdGhpcy5sb2NhdGlvbiA9IG5ldyBMb2NhdGlvbk1vZGVsKCk7CgoJCQlsZXQgY2FzaFJlY2VpcHREUyA9IHRoaXMuJHJlZnMuY2FzaFJlY2VpcHREUy5rZW5kb1dpZGdldCgpOwoJCQljYXNoUmVjZWlwdERTLmRhdGEoW10pOwoJCQlsZXQgcmVsYXRlZEV4cGVuc2VEUyA9IHRoaXMuJHJlZnMucmVsYXRlZEV4cGVuc2VEUy5rZW5kb1dpZGdldCgpOwoJCQlyZWxhdGVkRXhwZW5zZURTLmRhdGEoW10pOwoJCQlsZXQgcmV2ZW51ZURlZmZlcmVkR3JhbnREUyA9CgkJCQl0aGlzLiRyZWZzLnJldmVudWVEZWZmZXJlZEdyYW50RFMua2VuZG9XaWRnZXQoKTsKCQkJcmV2ZW51ZURlZmZlcmVkR3JhbnREUy5kYXRhKFtdKTsKCQl9LAoJCWNvbmZpcm1EZWxldGUoKSB7CgkJCXRoaXMuJHN3YWwoewoJCQkJdGl0bGU6IGkxOG4udCgiYXJlX3lvdV9zdXJlX3lvdV93YW50X3RvX2RlbGV0ZV9pdCIpLAoJCQkJdGV4dDogaTE4bi50KCJ5b3Vfd29udF9iZV9hYmxlX3RvX3JldmVydF90aGlzIiksCgkJCQlpY29uOiAid2FybmluZyIsCgkJCQlzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAoJCQkJY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCgkJCQljYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAoJCQkJY29uZmlybUJ1dHRvblRleHQ6ICJZZXMiLAoJCQl9KS50aGVuKChyZXN1bHQpID0+IHsKCQkJCWlmIChyZXN1bHQudmFsdWUpIHsKCQkJCQl0aGlzLnNhdmVNb2RlID0gU2F2ZU9wdGlvbi5ERUxFVEU7CgoJCQkJCS8qIE1hcmsgYXMgZGVsZXRlZCAqLwoJCQkJCXRoaXMuam91cm5hbC5pc19kZWxldGVkID0gMTsKCgkJCQkJLyogVXBkYXRlIEpvdXJuYWwgU3RhdHVzICovCgkJCQkJdGhpcy5zYXZlKCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJc2F2ZSgpIHsKCQkJbGV0IHNlbGYgPSB0aGlzOwoKCQkJLy8gRHJhZnQgTW9kZQoJCQlpZiAodGhpcy5zYXZlTW9kZSA9PT0gU2F2ZU9wdGlvbi5TQVZFRFJBRlQpIHsKCQkJCXRoaXMuam91cm5hbC5pc19kcmFmdCA9IDE7CgkJCX0gZWxzZSB7CgkJCQl0aGlzLmpvdXJuYWwuaXNfZHJhZnQgPSAwOwoJCQl9CgoJCQkvLyBTaHJpbmsgRGF0YQoJCQl0aGlzLnNocmlua0RhdGEoKTsKCgkJCS8vIFN5bmMgRGF0YQoJCQl0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKCQkJam91cm5hbEhhbmRsZXIKCQkJCS5zYXZlKG5ldyBKb3VybmFsTW9kZWwodGhpcy5qb3VybmFsKSkKCQkJCS50aGVuKChyZXNwb25zZSkgPT4gewoJCQkJCWlmIChyZXNwb25zZSkgewoJCQkJCQlzZWxmLnJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlKTsKCQkJCQl9CgkJCQl9KQoJCQkJLmNhdGNoKChlcnJvcikgPT4gewoJCQkJCXNlbGYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCQkJCQlIZWxwZXIuYWxlcnRFcnJvck1zZyhlcnJvcik7CgkJCQl9KQoJCQkJLmZpbmFsbHkoKCkgPT4gewoJCQkJCXNlbGYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKCQkJCX0pOwoJCX0sCgkJLy8gUmVzcG9uc2UgU3RhdHVzCgkJcmVzcG9uc2VTdGF0dXMocmVzcG9uc2UpIHsKCQkJaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CgkJCQlpZiAoCgkJCQkJdGhpcy5zYXZlTW9kZSA9PT0gU2F2ZU9wdGlvbi5TQVZFQ0xPU0UgfHwKCQkJCQl0aGlzLnNhdmVNb2RlID09PSBTYXZlT3B0aW9uLkRFTEVURQoJCQkJKSB7CgkJCQkJLyogU2F2ZSBDbG9zZSBvciBEZWxldGUgKi8KCQkJCQlpZiAodGhpcy5pc0VkaXQpIHsKCQkJCQkJdGhpcy5nb0JhY2tUb1ZpZXdQYWdlKCk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJdGhpcy4kcm91dGVyLmdvKC0xKTsKCQkJCQl9CgoJCQkJCXRoaXMuY2xlYXIoKTsKCQkJCQl0aGlzLnNldERlZmF1bHREYXRhKCk7CgkJCQl9IGVsc2UgewoJCQkJCS8qIFNhdmUgTmV3ICovCgkJCQkJdGhpcy5jbGVhcigpOwoJCQkJCXRoaXMuc2V0RGVmYXVsdERhdGEoKTsKCQkJCX0KCgkJCQkvKiBBbGVydCBTdWNjZXNzICovCgkJCQl0aGlzLiRzbm90aWZ5LnN1Y2Nlc3MoaTE4bi50KCJzdWNjZXNzZnVsIikpOwoJCQl9IGVsc2UgewoJCQkJLyogQWxlcnQgRXJyb3IgKi8KCQkJCXRoaXMuJHNub3RpZnkuZXJyb3IoaTE4bi50KCJlcnJvcl9zb21ldGhpbmdfd3JvbmciKSk7CgkJCX0KCQl9LAoJCS8vIEdvIGJhY2sgdG8gdmlldyBwYWdlIGFmdGVyIGVkaXQgbW9kZQoJCWdldEpvdXJuYWwoKSB7CgkJCXJldHVybiB0aGlzLmpvdXJuYWw7CgkJfSwKCQlnb0JhY2tUb1ZpZXdQYWdlKCkgewoJCQl0aGlzLiRyb3V0ZXIucmVwbGFjZSh7CgkJCQluYW1lOiAiRnVuZCBSZWNlaXB0IFZpZXciLAoJCQkJcGFyYW1zOiB7IGluaXRKb3VybmFsOiB0aGlzLmdldEpvdXJuYWwoKSB9LAoJCQl9KTsKCQl9LAoJfSwKCXdhdGNoOiB7CgkJaW5pdEpvdXJuYWwoKSB7CgkJCXRoaXMuaW5pdGlhbERhdGEoKTsKCQl9LAoJfSwKCWNyZWF0ZWQoKSB7fSwKCW1vdW50ZWQoKSB7CgkJLy8gSW5pdGlhbCBEYXRhCgkJdGhpcy5pbml0aWFsRGF0YSgpOwoJfSwKfTsK"},{"version":3,"sources":["FundReceipt.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2uBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FundReceipt.vue","sourceRoot":"src/views/share_funding","sourcesContent":["<template>\n\t<v-app>\n\t\t<v-container>\n\t\t\t<v-row>\n\t\t\t\t<v-col cols=\"12\" sm=\"12\">\n\t\t\t\t\t<v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n\t\t\t\t\t\t<v-card\n\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\tdense\n\t\t\t\t\t\t\tclass=\"pa-4 no_border rounded-sm\"\n\t\t\t\t\t\t\tcolor=\"white\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t<v-col\n\t\t\t\t\t\t\t\t\tclass=\"bigSide pr-2 py-0\"\n\t\t\t\t\t\t\t\t\tsm=\"8\"\n\t\t\t\t\t\t\t\t\tcols=\"12\"\n\t\t\t\t\t\t\t\t\tstyle=\"transition: 0.3s ease-in\"\n\t\t\t\t\t\t\t\t\t:class=\"{ hide_big_bar_class: isHideBar }\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<v-card outlined dense class=\"no_border\">\n\t\t\t\t\t\t\t\t\t\t<h2 class=\"mb-0\">{{ $t(\"fund_receipt\") }}</h2>\n\t\t\t\t\t\t\t\t\t\t<v-icon\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"isHideBar\"\n\t\t\t\t\t\t\t\t\t\t\tonclick=\"window.history.go(-1); return false;\"\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"cursor: pointer; color: #333; font-size: 40px\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"float-right\"\n\t\t\t\t\t\t\t\t\t\t\t>close\n\t\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"transition: 0.3s ease-in; z-index: 10\"\n\t\t\t\t\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t\t\t\t\ticonArrow: !isHideBar,\n\t\t\t\t\t\t\t\t\t\t\t\ticonArrowHide: isHideBar,\n\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<v-icon\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"22\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"arr_icon\"\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"HideSmallSideBar\"\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"isHideBar\"\n\t\t\t\t\t\t\t\t\t\t\t\t>mdi-chevron-left-circle\n\t\t\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t\t\t\t<v-icon\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"22\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"arr_icon\"\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"HideSmallSideBar\"\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"!isHideBar\"\n\t\t\t\t\t\t\t\t\t\t\t\t>mdi-chevron-right-circle\n\t\t\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t\t<v-card outlined dense class=\"px-3 no_border\" color=\"grayBg\">\n\t\t\t\t\t\t\t\t\t\t<v-row class=\"\">\n\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"donor\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<app-donor-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t\t:initDonor=\"donor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@emitDonor=\"donor = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"onDonorChanges\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"date\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<app-datepicker\n\t\t\t\t\t\t\t\t\t\t\t\t\t:initialDate=\"journal.journal_date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@emitDate=\"journal.journal_date = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"onDateChanges\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"number\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"10\" cols=\"10\" class=\"pb-0 pr-0 pt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"journal.number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:rules=\"[(v) => !!v || 'Number is required']\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadonly\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"2\" cols=\"2\" class=\"pb-0 pl-1 pt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"black\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"border_qrcode\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"generateNumber\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>mdi-qrcode</v-icon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"currency\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<app-currency-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t\t:initCurrency=\"currency\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@emitCurrency=\"currency = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"getExchangeRate\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\n\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"fund_categories\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<app-fund-category-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t\t:initFundCategory=\"fundCategory\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@emitFundCategory=\"fundCategory = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"contract\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<div v-if=\"isEdit\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"journal.ref_number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treadonly\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<app-contract-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:initContract=\"contract\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@emitContract=\"contract = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:initParams=\"contractParams\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"description\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-textarea\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\theight=\"120px\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tno-resize\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"journal.description\"\n\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\t\trows=\"4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:placeholder=\"$t('transaction_purpose')\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t</v-card>\n\n\t\t\t\t\t\t\t\t\t<v-card outlined dense class=\"no_border\" color=\"white\">\n\t\t\t\t\t\t\t\t\t\t<!-- Grid 1 -->\n\t\t\t\t\t\t\t\t\t\t<v-row\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\t\t\t\t\tbackground-color: rgb(255, 255, 255);\n\t\t\t\t\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\t\t\t\t\tmargin: 0 auto 0px;\n\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"12\" cols=\"12\" class=\"pb-3 pa-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h2 class=\"mb-0 font_18\">{{ $t(\"cash_receipt\") }}</h2>\n\t\t\t\t\t\t\t\t\t\t\t\t<kendo-datasource\n\t\t\t\t\t\t\t\t\t\t\t\t\tref=\"cashReceiptDS\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:data=\"cashReceiptEntries\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:change=\"onChangeCashReceiptDS\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"cashReceiptGrid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tref=\"cashReceiptGrid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"grid-function\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:data-source-ref=\"'cashReceiptDS'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:sortable=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:filterable=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:column-menu=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:editable=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:scrollable-virtual=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('no.')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"rowNumberCashReceipt\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"45\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:column-menu=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5;',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: 'text-products',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: products',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'account'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('account')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"'<span>#=account.name#</span>'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:editor=\"CashReceiptAccountEditor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'secondary_account'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('s_account')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$store.state.accounting.accountLanguage ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'English'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '<span>#=secondary_account.number#</span> <span>#=secondary_account.name#</span>'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '<span>#=secondary_account.number#</span> <span>#=secondary_account.local_name#</span>'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:hidden=\"!this.$store.state.accounting.secondaryAccount\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:editor=\"AccountSecondaryEditor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'description'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('description')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'ref_number'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('reference_no')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"160\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'amount'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('amount')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:format=\"'{0:n}'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"150\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{ style: 'text-align: right; ' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:command=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonClass: 'k-icon k-i-trash',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: 'Delete',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclick: removeRowCashReceipt,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: 'btn-plus',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"'&nbsp;'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"100\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</kendo-grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-row style=\"background-color: #fff\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"1\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"float-left ml-0 rounded-0 btn_plus\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"addRowCashReceipt\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t\t<!-- Grid 2 -->\n\t\t\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h2 class=\"mb-0 font_18\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"related_expense\") }}\n\t\t\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t\t\t<kendo-datasource\n\t\t\t\t\t\t\t\t\t\t\t\t\tref=\"relatedExpenseDS\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:data=\"relatedExpenseEntries\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:change=\"onChangeRelatedExpenseDS\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"relatedExpenseGrid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tref=\"relatedExpenseGrid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"grid-function\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:data-source-ref=\"'relatedExpenseDS'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:sortable=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:filterable=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:column-menu=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:editable=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:scrollable-virtual=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('no.')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"rowNumberRelatedExpense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"45\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:column-menu=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5;',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: 'text-products',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: products',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'account'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('account')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"'<span>#=account.name#</span>'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:editor=\"RelatedExpenseAccountEditor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'secondary_account'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('s_account')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$store.state.accounting.accountLanguage ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'English'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '<span>#=secondary_account.number#</span> <span>#=secondary_account.name#</span>'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '<span>#=secondary_account.number#</span> <span>#=secondary_account.local_name#</span>'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:hidden=\"!this.$store.state.accounting.secondaryAccount\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:editor=\"AccountSecondaryEditor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'description'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('description')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'ref_number'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('reference_no')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"160\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'amount'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('amount')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:format=\"'{0:n}'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"150\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{ style: 'text-align: right; ' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'class1'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('class_1')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"'<span>#=class1.name#</span>'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:editor=\"ClassEditor.class1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'class2'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('class_2')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"'<span>#=class2.name#</span>'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:editor=\"ClassEditor.class2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'class3'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('class_3')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"'<span>#=class3.name#</span>'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:editor=\"ClassEditor.class3\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'class4'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('class_4')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"'<span>#=class4.name#</span>'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:editor=\"ClassEditor.class4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'class5'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('class_5')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"'<span>#=class5.name#</span>'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:editor=\"ClassEditor.class5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:command=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonClass: 'k-icon k-i-trash',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: 'Delete',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclick: removeRowRelatedExpense,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: 'btn-plus',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"'&nbsp;'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"100\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</kendo-grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-row style=\"background-color: #fff\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"1\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"float-left ml-0 rounded-0 btn_plus\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"addRowRelatedExpense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t\t<!-- Grid 3 -->\n\t\t\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h2 class=\"mb-0 font_18\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"revenue_deferred_grant\") }}\n\t\t\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t\t\t<kendo-datasource\n\t\t\t\t\t\t\t\t\t\t\t\t\tref=\"revenueDefferedGrantDS\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:data=\"revenueDefferedGrantEntries\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:change=\"onChangeRevenueDefferedGrantDS\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"revenueDefferedGrantGrid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tref=\"revenueDefferedGrantGrid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"grid-function\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:data-source-ref=\"'revenueDefferedGrantDS'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:sortable=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:filterable=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:column-menu=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:editable=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:scrollable-virtual=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('no.')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"rowNumberRevenueDefferedGrant\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"45\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:column-menu=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5;',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: 'text-products',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: products',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'account'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('account')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"'<span>#=account.name#</span>'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:editor=\"RevenueDefferedGrantAccountEditor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'secondary_account'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('s_account')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$store.state.accounting.accountLanguage ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'English'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '<span>#=secondary_account.number#</span> <span>#=secondary_account.name#</span>'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '<span>#=secondary_account.number#</span> <span>#=secondary_account.local_name#</span>'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:hidden=\"!this.$store.state.accounting.secondaryAccount\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:editor=\"AccountSecondaryEditor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'description'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('description')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'ref_number'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('reference_no')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"160\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'amount'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('amount')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:format=\"'{0:n}'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"150\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{ style: 'text-align: right; ' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:command=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonClass: 'k-icon k-i-trash',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: 'Delete',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclick: removeRowRevenueDefferedGrant,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: 'btn-plus',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"'&nbsp;'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"100\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</kendo-grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-row style=\"background-color: #fff\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"float-left ml-0 rounded-0 btn_plus\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"addRowRevenueDefferedGrant\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"4\" cols=\"12\" class=\"pb-0 pt-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"float-left\">{{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\"cash_receipt_and_related_expense\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"float-right text-bold\">{{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNumber(totalDr).toLocaleString()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"4\" cols=\"12\" class=\"pb-0 pt-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"float-left\">{{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\"revenue_deffered_grant\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"float-right text-bold\">{{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNumber(totalCr).toLocaleString()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t</v-row>\n\n\t\t\t\t\t\t\t\t\t\t<v-divider />\n\n\t\t\t\t\t\t\t\t\t\t<v-card outlined dense class=\"no_border function_footer\">\n\t\t\t\t\t\t\t\t\t\t\t<!-- Warning Message -->\n\t\t\t\t\t\t\t\t\t\t\t<v-alert type=\"warning\" v-model=\"alert\" dismissible>\n\t\t\t\t\t\t\t\t\t\t\t\t<span v-html=\"errorMessage\" />\n\t\t\t\t\t\t\t\t\t\t\t</v-alert>\n\n\t\t\t\t\t\t\t\t\t\t\t<v-menu>\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-slot:activator=\"{ on }\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"black\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mr-2 text-capitalize black--text float-left\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-on=\"on\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"select_template\") }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(item, index) in templates\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title>{{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.title\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}</v-list-item-title>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list>\n\t\t\t\t\t\t\t\t\t\t\t</v-menu>\n\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"black\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text-capitalize white--text float-left\"\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"cancel\"\n\t\t\t\t\t\t\t\t\t\t\t\t>{{ $t(\"cancel\") }}</v-btn\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"ml-2 text-capitalize white--text\"\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"isEdit\"\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"confirmDelete\"\n\t\t\t\t\t\t\t\t\t\t\t\t>{{ $t(\"delete\") }}\n\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t\t<v-menu>\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-slot:activator=\"{ on }\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"ml-2 float-right text-capitalize white--text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-on=\"on\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"save_option\") }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list rounded>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item v-if=\"!isEdit\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"onSaveOptionClick(SaveOption.SAVENEW)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ $t(\"save_new\") }}</v-list-item-title\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSaveOptionClick(SaveOption.SAVEPRINT)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ $t(\"save_print\") }}</v-list-item-title\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSaveOptionClick(SaveOption.SAVEDRAFT)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ $t(\"save_draft\") }}</v-list-item-title\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-group>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list>\n\t\t\t\t\t\t\t\t\t\t\t</v-menu>\n\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"float-right white--text text-capitalize\"\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"onSaveOptionClick(SaveOption.SAVECLOSE)\"\n\t\t\t\t\t\t\t\t\t\t\t\t>{{ $t(\"save_close\") }}</v-btn\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t<v-col\n\t\t\t\t\t\t\t\t\tclass=\"smallSide pl-2\"\n\t\t\t\t\t\t\t\t\tsm=\"4\"\n\t\t\t\t\t\t\t\t\tstyle=\"transition: 0.3s ease-in\"\n\t\t\t\t\t\t\t\t\t:class=\"{ hide_small_bar_class: isHideBar }\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\t\t\t\tstyle=\"color: #b3b5bc; font-size: 20px\"\n\t\t\t\t\t\t\t\t\t\tv-if=\"!isHideBar\"\n\t\t\t\t\t\t\t\t\t\tclass=\"text-uppercase float-right mt-n3\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span class=\"pointer\" @click=\"Help('fund receipt')\">\n\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"help\") }}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<v-icon\n\t\t\t\t\t\t\t\t\t\t\t@click=\"cancel()\"\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"cursor: pointer; color: #333; font-size: 40px\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"float-right mt-n1\"\n\t\t\t\t\t\t\t\t\t\t\t>close\n\t\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t\t</h3>\n\n\t\t\t\t\t\t\t\t\t<div v-if=\"!isHideBar\" class=\"small_sidebar mt-8 px-4 grayBg\">\n\t\t\t\t\t\t\t\t\t\t<v-card\n\t\t\t\t\t\t\t\t\t\t\tclass=\"pa-3 no-boxshadow d-flex flex-column\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"60px\"\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"margin-bottom: 2px\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text-white text-uppercase justify-start font_13\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"amount\") }}\n\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext-bold\n\t\t\t\t\t\t\t\t\t\t\t\t\tjustify-end\n\t\t\t\t\t\t\t\t\t\t\t\t\tniradei_heavy\n\t\t\t\t\t\t\t\t\t\t\t\t\tfont_22\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext-white\n\t\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{{ Number(totalDr).toLocaleString() }}\n\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t\t\t<!-- content -->\n\t\t\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"segment\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<app-segment-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t\t:initSegment=\"segment\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@emitSegment=\"segment = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"setContractParams\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"location\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<app-location-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t\t:initLocation=\"location\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@emitLocation=\"location = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"setContractParams\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"project\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<app-project-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t\t:initProject=\"project\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@emitProject=\"project = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t</v-card>\n\t\t\t\t\t</v-form>\n\t\t\t\t</v-col>\n\t\t\t</v-row>\n\t\t\t<LoadingMe\n\t\t\t\ttype=\"loading\"\n\t\t\t\t:isLoading=\"showLoading\"\n\t\t\t\t:fullPage=\"true\"\n\t\t\t\t:myLoading=\"true\"\n\t\t\t/>\n\t\t</v-container>\n\t</v-app>\n</template>\n\n<script>\nimport { i18n } from \"@/i18n\";\nimport kendo from \"@progress/kendo-ui\";\nimport Helper from \"@/helper.js\";\nimport {\n\tJournalModel,\n\tJournalEntryModel,\n\tJournalEntryExtendedModel,\n\tAccountModel,\n\tClassModel,\n\tCurrencyModel,\n\tExchangeRateModel,\n\tLocationModel,\n\tProjectModel,\n\tSegmentModel,\n\tContactModel,\n} from \"@/scripts/model/AppModels\";\nimport CustomerModel from \"@/scripts/model/Customer\";\n\n/* Editors */\nimport CashReceiptAccountEditor from \"@/scripts/kendo_editor/CashAccount\";\nimport RelatedExpenseAccountEditor from \"@/scripts/kendo_editor/RelatedExpenseAccount\";\nimport RevenueDefferedGrantAccountEditor from \"@/scripts/kendo_editor/RevenueDefferedGrantAccount\";\nimport AccountSecondaryEditor from \"@/scripts/kendo_editor/AccountSecondary\";\nimport ClassEditor from \"@/scripts/kendo_editor/Clazz\";\n\n/* Store */\nimport store from \"@/store\";\nconst institute = store.state.institute.institute;\n\nconst journalHandler = require(\"@/scripts/journalHandler\");\nconst AccountTypeCode = require(\"@/scripts/default_setup/AccountTypeCode\");\nimport { ShowResource } from \"@/observable/store\";\n\nconst {\n\tEntityType,\n\tSaveOption,\n} = require(\"@/scripts/default_setup/Collections\");\n\nexport default {\n\tname: \"FundReceipt\",\n\tcomponents: {\n\t\tLoadingMe: () => import(\"@/components/Loading\"),\n\t\t\"app-datepicker\": () =>\n\t\t\timport(\"@/components/custom_templates/DatePickerComponent\"),\n\t\t\"app-currency-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Currency\"),\n\t\t\"app-donor-dropdownlist\": () => import(\"@/components/dropdownlist/Donor\"),\n\t\t\"app-fund-category-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/FundCategory\"),\n\t\t\"app-contract-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Contract\"),\n\t\t\"app-segment-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Segment\"),\n\t\t\"app-project-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Project\"),\n\t\t\"app-location-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Location\"),\n\t},\n\tprops: {\n\t\tinitJournal: {\n\t\t\ttype: JournalModel,\n\t\t},\n\t},\n\tdata: () => ({\n\t\t/* Obj */\n\t\tfundCategory: null,\n\t\tcontract : null,\n\t\tcontractParams : {},\n\t\tjournal: new JournalModel(),\n\t\tcurrency: new CurrencyModel(institute.baseCurrency),\n\t\texchangeRate: new ExchangeRateModel(institute.baseCurrency),\n\t\tjournalEntries: [],\n\t\tcashReceiptEntries: [],\n\t\trelatedExpenseEntries: [],\n\t\trevenueDefferedGrantEntries: [],\n\t\tdonor: new ContactModel(),\n\t\tlocation: new LocationModel(),\n\t\tproject: new ProjectModel(),\n\t\tsegment: new SegmentModel(),\n\t\t// Accounts\n\t\taccounts: [],\n\t\tcashRecieptAccounts: [],\n\t\trelatedExpenseAccounts: [],\n\t\trevenueDefferedGrantAccounts: [],\n\t\t// Editors\n\t\tCashReceiptAccountEditor: CashReceiptAccountEditor,\n\t\tRelatedExpenseAccountEditor: RelatedExpenseAccountEditor,\n\t\tRevenueDefferedGrantAccountEditor: RevenueDefferedGrantAccountEditor,\n\t\tAccountSecondaryEditor : AccountSecondaryEditor,\n\t\tClassEditor: ClassEditor,\n\t\t// Other\n\t\ttotalDr: 0,\n\t\ttotalCr: 0,\n\t\ttemplates: [],\n\t\tuser: Helper.getUser(),\n\t\t// Form validation\n\t\tvalid: true,\n\t\tisEdit: false,\n\t\talert: false,\n\t\terrorMessage: \"\",\n\t\tsaveMode: \"\",\n\t\tSaveOption: SaveOption,\n\t\t// LoadingMe\n\t\tshowLoading: false,\n\t\t// funcion\n\t\tisHideBar: false,\n\t}),\n\tmethods: {\n\t\tHideSmallSideBar() {\n\t\t\tthis.isHideBar = !this.isHideBar;\n\t\t},\n\t\tHelp(key_search) {\n\t\t\tShowResource(key_search);\n\t\t},\n\t\t// Initial Data\n\t\tinitialData() {\n\t\t\tif (this.initJournal) {\n\t\t\t\t// Edit Mode\n\t\t\t\tthis.journal = this.initJournal;\n\t\t\t\tthis.bindData();\n\t\t\t} else {\n\t\t\t\t// Brand New Mode\n\t\t\t\tthis.setDefaultData();\n\t\t\t}\n\t\t},\n\t\t// Set default data\n\t\tasync setDefaultData() {\n\t\t\t// Brand New Mode\n\t\t\tthis.isEdit = false;\n\n\t\t\tthis.journal = new JournalModel({\n\t\t\t\ttransaction_type: EntityType.FUND_RECEIPT,\n\t\t\t\tjournal_date: new Date().toISOString().substr(0, 10),\n\t\t\t});\n\n\t\t\t/* Default Sidebar */\n\t\t\tlet locations = await this.$store.dispatch(\"locations/getList\");\n\t\t\tthis.location = new LocationModel(locations[0]);\n\n\t\t\tlet segments = await this.$store.dispatch(\"segments/getList\");\n\t\t\tthis.segment = new SegmentModel(segments.find((i) => i.isSystem === 1));\n\n\t\t\t// Generate Number\n\t\t\tthis.generateNumber();\n\n\t\t\t// Add two default rows\n\t\t\tfor (let index = 0; index < 2; index++) {\n\t\t\t\tthis.addRowCashReceipt();\n\t\t\t\tthis.addRowRelatedExpense();\n\t\t\t\tthis.addRowRevenueDefferedGrant();\n\t\t\t}\n\t\t},\n\t\t// Bind data from prop for edit mode\n\t\tasync bindData() {\n\t\t\t// Edit Mode\n\t\t\tthis.isEdit = true;\n\n\t\t\tlet totalDr = 0,\n\t\t\t\ttotalCr = 0,\n\t\t\t\tcashReceiptEntries = [],\n\t\t\t\trelatedExpenseEntries = [],\n\t\t\t\trevenueDefferedGrantEntries = [];\n\n\t\t\t// Donor\n\t\t\tthis.donor = new CustomerModel(\n\t\t\t\tthis.journal.journal_entries[0].primary_contact\n\t\t\t);\n\n\t\t\t/* Load Data */\n\t\t\tlet accounts = await this.$store.dispatch(\"accounting/getAccounts\"),\n\t\t\t\tclasses = await this.$store.dispatch(\"classes/getList\");\n\n\t\t\t// Currency\n\t\t\tthis.currency = new CurrencyModel(\n\t\t\t\tthis.journal.journal_entries[0].currency\n\t\t\t);\n\t\t\tthis.exchangeRate = new ExchangeRateModel(\n\t\t\t\tthis.journal.journal_entries[0].currency\n\t\t\t);\n\t\t\tthis.exchangeRate.id = this.journal.journal_entries[0].exchange_rate_uuid;\n\t\t\tthis.exchangeRate.rate = this.journal.journal_entries[0].exchange_rate;\n\n\t\t\tthis.journal.journal_entries.forEach((value) => {\n\t\t\t\tlet je = new JournalEntryExtendedModel(value);\n\n\t\t\t\tif (value.amount > 0) {\n\t\t\t\t\t// Dr side\n\t\t\t\t\tif (\n\t\t\t\t\t\t~AccountTypeCode.CASH_ACCOUNTS.indexOf(\n\t\t\t\t\t\t\tvalue.account.account_type.number\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tcashReceiptEntries.push(je);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t/* Secondary Account */\n\t\t\t\t\t\tje.secondary_account = new AccountModel(\n\t\t\t\t\t\t\taccounts.find((i) => i.uuid === value.secondary_acc_uuid)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// Classes\n\t\t\t\t\t\tje.class1 = new ClassModel(\n\t\t\t\t\t\t\tclasses.find((item) => item.id === value.class_1_uuid)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tje.class2 = new ClassModel(\n\t\t\t\t\t\t\tclasses.find((item) => item.id === value.class_2_uuid)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tje.class3 = new ClassModel(\n\t\t\t\t\t\t\tclasses.find((item) => item.id === value.class_3_uuid)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tje.class4 = new ClassModel(\n\t\t\t\t\t\t\tclasses.find((item) => item.id === value.class_4_uuid)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tje.class5 = new ClassModel(\n\t\t\t\t\t\t\tclasses.find((item) => item.id === value.class_5_uuid)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\trelatedExpenseEntries.push(je);\n\t\t\t\t\t}\n\t\t\t\t\ttotalDr += value.amount;\n\t\t\t\t} else {\n\t\t\t\t\t// Cr side\n\t\t\t\t\tje.amount = value.amount * -1;\n\t\t\t\t\trevenueDefferedGrantEntries.push(je);\n\t\t\t\t\ttotalCr += je.amount;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Sidebar\n\t\t\tlet locations = await this.$store.dispatch(\"locations/getList\");\n\t\t\tthis.location = new LocationModel(\n\t\t\t\tlocations.find((i) => i.id === this.journal.location_uuid)\n\t\t\t);\n\n\t\t\tlet segments = await this.$store.dispatch(\"segments/getList\");\n\t\t\tthis.segment = new SegmentModel(\n\t\t\t\tsegments.find((i) => i.id === this.journal.segment_uuid)\n\t\t\t);\n\n\t\t\tlet projects = await this.$store.dispatch(\"projects/getList\");\n\t\t\tthis.project = new ProjectModel(\n\t\t\t\tprojects.find((i) => i.id === this.journal.project_uuid)\n\t\t\t);\n\n\t\t\tthis.totalDr = totalDr;\n\t\t\tthis.totalCr = totalCr;\n\n\t\t\tthis.cashReceiptEntries = cashReceiptEntries;\n\t\t\tthis.relatedExpenseEntries = relatedExpenseEntries;\n\t\t\tthis.revenueDefferedGrantEntries = revenueDefferedGrantEntries;\n\t\t},\n\t\t// Number\n\t\tasync generateNumber() {\n\t\t\tif (!this.isEdit) {\n\t\t\t\tlet num = await Helper.generateAccountingNumber(\n\t\t\t\t\tthis.journal.transaction_type,\n\t\t\t\t\tthis.journal.journal_date\n\t\t\t\t);\n\n\t\t\t\tthis.journal.number = num.number;\n\t\t\t\tthis.journal.prefix_format = num.prefix_format;\n\t\t\t}\n\t\t},\n\t\t// Get Exchange Rate\n\t\tasync getExchangeRate() {\n\t\t\tif (this.journal.journal_date && this.currency.code !== \"\") {\n\t\t\t\tthis.exchangeRate = await Helper.getLastExchangeRateByDate(\n\t\t\t\t\tthis.journal.journal_date,\n\t\t\t\t\tthis.currency.code\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.exchangeRate = new ExchangeRateModel(institute.baseCurrency);\n\t\t\t}\n\t\t},\n\t\tonDonorChanges (){\n\t\t\tthis.getExchangeRate();\n\t\t\tthis.setContractParams();\n\t\t},\n\t\tsetContractParams (){\n\t\t\tif(this.segment.id !== \"\")\n\t\t\tif(this.location.id !== \"\")\n\t\t\tif(this.donor.id !== \"\"){\n\t\t\t\tthis.contractParams = {\n\t\t\t\t\tid: this.donor.id,\n\t\t\t\t\tsegId: this.segment.id,\n\t\t\t\t\tlocId: this.location.id,\n\t\t\t\t\tplId: '',\n\t\t\t\t\tdate: '',\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/* On Date Chanes */\n\t\tonDateChanges() {\n\t\t\tthis.getExchangeRate();\n\t\t\tthis.generateNumber();\n\t\t},\n\t\t/* Kendo */\n\t\t// DataSource Changes\n\t\tonChangeCashReceiptDS(e) {\n\t\t\tif (e.field) {\n\t\t\t\tlet dataRow = e.items[0];\n\n\t\t\t\tif (e.field === \"account\") {\n\t\t\t\t\tdataRow.set(\"account_uuid\", dataRow.account.uuid);\n\n\t\t\t\t\tthis.addExtraRowCashReceipt(dataRow.uid);\n\t\t\t\t} else if (e.field === \"secondary_account\") {\n\t\t\t\t\tif (dataRow.secondary_account !== null) {\n\t\t\t\t\t\tdataRow.set(\"secondary_acc_uuid\", dataRow.secondary_account.uuid);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Set default when deselect\n\t\t\t\t\t\tdataRow.set(\"secondary_acc_uuid\", \"\");\n\t\t\t\t\t\tdataRow.set(\"secondary_account\", new AccountModel());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.dataSourceAutoCalculate();\n\t\t\t}\n\t\t},\n\t\tonChangeRelatedExpenseDS(e) {\n\t\t\tif (e.field) {\n\t\t\t\tlet dataRow = e.items[0];\n\n\t\t\t\tif (e.field === \"account\") {\n\t\t\t\t\tdataRow.set(\"account_uuid\", dataRow.account.uuid);\n\n\t\t\t\t\tthis.addExtraRowRelatedExpense(dataRow.uid);\n\t\t\t\t} else if (e.field === \"secondary_account\") {\n\t\t\t\t\tif (dataRow.secondary_account !== null) {\n\t\t\t\t\t\tdataRow.set(\"secondary_acc_uuid\", dataRow.secondary_account.uuid);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Set default when deselect\n\t\t\t\t\t\tdataRow.set(\"secondary_acc_uuid\", \"\");\n\t\t\t\t\t\tdataRow.set(\"secondary_account\", new AccountModel());\n\t\t\t\t\t}\n\t\t\t\t} else if (e.field === \"class1\") {\n\t\t\t\t\tif (dataRow.class1 !== null) {\n\t\t\t\t\t\tdataRow.set(\"class_1_uuid\", dataRow.class1.id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Set default when deselect\n\t\t\t\t\t\tdataRow.set(\"class_1_uuid\", \"\");\n\t\t\t\t\t\tdataRow.set(\"class1\", new ClassModel());\n\t\t\t\t\t}\n\t\t\t\t} else if (e.field === \"class2\") {\n\t\t\t\t\tif (dataRow.class2 !== null) {\n\t\t\t\t\t\tdataRow.set(\"class_2_uuid\", dataRow.class2.id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Set default when deselect\n\t\t\t\t\t\tdataRow.set(\"class_2_uuid\", \"\");\n\t\t\t\t\t\tdataRow.set(\"class2\", new ClassModel());\n\t\t\t\t\t}\n\t\t\t\t} else if (e.field === \"class3\") {\n\t\t\t\t\tif (dataRow.class3 !== null) {\n\t\t\t\t\t\tdataRow.set(\"class_3_uuid\", dataRow.class3.id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Set default when deselect\n\t\t\t\t\t\tdataRow.set(\"class_3_uuid\", \"\");\n\t\t\t\t\t\tdataRow.set(\"class3\", new ClassModel());\n\t\t\t\t\t}\n\t\t\t\t} else if (e.field === \"class4\") {\n\t\t\t\t\tif (dataRow.class4 !== null) {\n\t\t\t\t\t\tdataRow.set(\"class_4_uuid\", dataRow.class4.id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Set default when deselect\n\t\t\t\t\t\tdataRow.set(\"class_4_uuid\", \"\");\n\t\t\t\t\t\tdataRow.set(\"class4\", new ClassModel());\n\t\t\t\t\t}\n\t\t\t\t} else if (e.field === \"class5\") {\n\t\t\t\t\tif (dataRow.class5 !== null) {\n\t\t\t\t\t\tdataRow.set(\"class_5_uuid\", dataRow.class5.id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Set default when deselect\n\t\t\t\t\t\tdataRow.set(\"class_5_uuid\", \"\");\n\t\t\t\t\t\tdataRow.set(\"class5\", new ClassModel());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.dataSourceAutoCalculate();\n\t\t\t}\n\t\t},\n\t\tonChangeRevenueDefferedGrantDS(e) {\n\t\t\tif (e.field) {\n\t\t\t\tlet dataRow = e.items[0];\n\n\t\t\t\tif (e.field === \"account\") {\n\t\t\t\t\tdataRow.set(\"account_uuid\", dataRow.account.uuid);\n\n\t\t\t\t\tthis.addExtraRowRevenueDefferedGrant(dataRow.uid);\n\t\t\t\t} else if (e.field === \"secondary_account\") {\n\t\t\t\t\tif (dataRow.secondary_account !== null) {\n\t\t\t\t\t\tdataRow.set(\"secondary_acc_uuid\", dataRow.secondary_account.uuid);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Set default when deselect\n\t\t\t\t\t\tdataRow.set(\"secondary_acc_uuid\", \"\");\n\t\t\t\t\t\tdataRow.set(\"secondary_account\", new AccountModel());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.dataSourceAutoCalculate();\n\t\t\t}\n\t\t},\n\t\t// Auto Calculate In DataSource\n\t\tdataSourceAutoCalculate() {\n\t\t\tlet cashReceiptDS = this.$refs.cashReceiptDS.kendoWidget(),\n\t\t\t\trelatedExpenseDS = this.$refs.relatedExpenseDS.kendoWidget(),\n\t\t\t\trevenueDefferedGrantDS =\n\t\t\t\t\tthis.$refs.revenueDefferedGrantDS.kendoWidget(),\n\t\t\t\ttotalDr = 0,\n\t\t\t\ttotalCr = 0;\n\n\t\t\t// Sum\n\t\t\tcashReceiptDS.data().forEach((value) => {\n\t\t\t\ttotalDr += kendo.parseFloat(value.amount);\n\t\t\t});\n\t\t\trelatedExpenseDS.data().forEach((value) => {\n\t\t\t\ttotalDr += kendo.parseFloat(value.amount);\n\t\t\t});\n\t\t\trevenueDefferedGrantDS.data().forEach((value) => {\n\t\t\t\ttotalCr += kendo.parseFloat(value.amount);\n\t\t\t});\n\n\t\t\tthis.totalDr = totalDr;\n\t\t\tthis.totalCr = totalCr;\n\t\t},\n\t\t// Row Number Template\n\t\trowNumberCashReceipt(dataItem) {\n\t\t\tlet ds = this.$refs.cashReceiptDS.kendoWidget(),\n\t\t\t\tindex = ds.indexOf(dataItem);\n\n\t\t\treturn index + 1;\n\t\t},\n\t\trowNumberRelatedExpense(dataItem) {\n\t\t\tlet ds = this.$refs.relatedExpenseDS.kendoWidget(),\n\t\t\t\tindex = ds.indexOf(dataItem);\n\n\t\t\treturn index + 1;\n\t\t},\n\t\trowNumberRevenueDefferedGrant(dataItem) {\n\t\t\tlet ds = this.$refs.revenueDefferedGrantDS.kendoWidget(),\n\t\t\t\tindex = ds.indexOf(dataItem);\n\n\t\t\treturn index + 1;\n\t\t},\n\t\t// Add New Row\n\t\taddRowCashReceipt() {\n\t\t\tlet ds = this.$refs.cashReceiptDS.kendoWidget(),\n\t\t\t\tlast = ds.total(),\n\t\t\t\tje = new JournalEntryExtendedModel();\n\n\t\t\tds.insert(last, je);\n\t\t},\n\t\taddRowRelatedExpense() {\n\t\t\tlet ds = this.$refs.relatedExpenseDS.kendoWidget(),\n\t\t\t\tlast = ds.total(),\n\t\t\t\tje = new JournalEntryExtendedModel();\n\n\t\t\tds.insert(last, je);\n\t\t},\n\t\taddRowRevenueDefferedGrant() {\n\t\t\tlet ds = this.$refs.revenueDefferedGrantDS.kendoWidget(),\n\t\t\t\tlast = ds.total(),\n\t\t\t\tje = new JournalEntryExtendedModel();\n\n\t\t\tds.insert(last, je);\n\t\t},\n\t\t// Add Extra Row\n\t\taddExtraRowCashReceipt(uid) {\n\t\t\tlet ds = this.$refs.cashReceiptDS.kendoWidget(),\n\t\t\t\ttotal = ds.total(),\n\t\t\t\trow = ds.getByUid(uid),\n\t\t\t\tindex = ds.indexOf(row);\n\n\t\t\tif (index == total - 1) {\n\t\t\t\tthis.addRowCashReceipt();\n\t\t\t}\n\t\t},\n\t\taddExtraRowRelatedExpense(uid) {\n\t\t\tlet ds = this.$refs.relatedExpenseDS.kendoWidget(),\n\t\t\t\ttotal = ds.total(),\n\t\t\t\trow = ds.getByUid(uid),\n\t\t\t\tindex = ds.indexOf(row);\n\n\t\t\tif (index == total - 1) {\n\t\t\t\tthis.addRowRelatedExpense();\n\t\t\t}\n\t\t},\n\t\taddExtraRowRevenueDefferedGrant(uid) {\n\t\t\tlet ds = this.$refs.revenueDefferedGrantDS.kendoWidget(),\n\t\t\t\ttotal = ds.total(),\n\t\t\t\trow = ds.getByUid(uid),\n\t\t\t\tindex = ds.indexOf(row);\n\n\t\t\tif (index == total - 1) {\n\t\t\t\tthis.addRowRevenueDefferedGrant();\n\t\t\t}\n\t\t},\n\t\t// Remove Row\n\t\tremoveRowCashReceipt(e) {\n\t\t\te.preventDefault();\n\n\t\t\tlet grid = this.$refs.cashReceiptGrid.kendoWidget(),\n\t\t\t\tds = grid.dataSource,\n\t\t\t\tdataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n\n\t\t\tif (ds.data().length > 2) {\n\t\t\t\tds.remove(dataItem);\n\t\t\t}\n\t\t},\n\t\tremoveRowRelatedExpense(e) {\n\t\t\te.preventDefault();\n\n\t\t\tlet grid = this.$refs.relatedExpenseGrid.kendoWidget(),\n\t\t\t\tds = grid.dataSource,\n\t\t\t\tdataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n\n\t\t\tif (ds.total() > 2) {\n\t\t\t\tds.remove(dataItem);\n\t\t\t}\n\t\t},\n\t\tremoveRowRevenueDefferedGrant(e) {\n\t\t\te.preventDefault();\n\n\t\t\tlet grid = this.$refs.revenueDefferedGrantGrid.kendoWidget(),\n\t\t\t\tds = grid.dataSource,\n\t\t\t\tdataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n\n\t\t\tif (ds.total() > 2) {\n\t\t\t\tds.remove(dataItem);\n\t\t\t}\n\t\t},\n\t\t// Shrink Data\n\t\tshrinkData() {\n\t\t\t// Journal Date\n\t\t\tthis.journal.journal_date = Helper.toISODate(this.journal.journal_date);\n\n\t\t\t/* Journal Type */\n\t\t\tthis.journal.journal_type = this.fundCategory.name;\n\n\t\t\t/* Project Segment Location */\n\t\t\tthis.journal.project_uuid = this.project.id;\n\t\t\tthis.journal.segment_uuid = this.segment.id;\n\t\t\tthis.journal.location_uuid = this.location.id;\n\n\t\t\t// User\n\t\t\tif (this.isEdit) {\n\t\t\t\tthis.journal.modified_by = this.user;\n\t\t\t} else {\n\t\t\t\tthis.journal.created_by = this.user;\n\t\t\t}\n\n\t\t\tlet entries = [],\n\t\t\t\tcashReceiptDS = this.$refs.cashReceiptDS.kendoWidget(),\n\t\t\t\trelatedExpenseDS = this.$refs.relatedExpenseDS.kendoWidget(),\n\t\t\t\trevenueDefferedGrantDS =\n\t\t\t\t\tthis.$refs.revenueDefferedGrantDS.kendoWidget();\n\n\t\t\t// Cash Receipt Accounts on Dr\n\t\t\tcashReceiptDS.data().forEach((value) => {\n\t\t\t\t// Filter selected account\n\t\t\t\tif (value.account.number !== \"\" && value.amount > 0) {\n\t\t\t\t\t// Account\n\t\t\t\t\tvalue.set(\"account\", new AccountModel(value.account));\n\n\t\t\t\t\t// Contact\n\t\t\t\t\tvalue.set(\"primary_contact\", new ContactModel(this.donor));\n\n\t\t\t\t\t/* Contract */\n\t\t\t\t\tvalue.set(\"ref_number\", this.contract.referenceNo);\n\n\t\t\t\t\t// Currency\n\t\t\t\t\tvalue.set(\"currency\", new CurrencyModel(this.currency));\n\t\t\t\t\tvalue.set(\"exchange_rate_uuid\", this.exchangeRate.id);\n\t\t\t\t\tvalue.set(\"exchange_rate\", this.exchangeRate.rate);\n\n\t\t\t\t\tentries.push(new JournalEntryModel(value));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Related Expense Accounts on Dr\n\t\t\trelatedExpenseDS.data().forEach((value) => {\n\t\t\t\t// Filter selected account\n\t\t\t\tif (value.account.number !== \"\" && value.amount > 0) {\n\t\t\t\t\t// Account\n\t\t\t\t\tvalue.set(\"account\", new AccountModel(value.account));\n\n\t\t\t\t\t// Contact\n\t\t\t\t\tvalue.set(\"primary_contact\", new ContactModel(this.donor));\n\n\t\t\t\t\t/* Contract */\n\t\t\t\t\tvalue.set(\"ref_number\", this.contract.referenceNo);\n\n\t\t\t\t\t// Currency\n\t\t\t\t\tvalue.set(\"currency\", new CurrencyModel(this.currency));\n\t\t\t\t\tvalue.set(\"exchange_rate_uuid\", this.exchangeRate.id);\n\t\t\t\t\tvalue.set(\"exchange_rate\", this.exchangeRate.rate);\n\n\t\t\t\t\tentries.push(new JournalEntryModel(value));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Revenue Deffered Grant Account on Cr\n\t\t\trevenueDefferedGrantDS.data().forEach((value) => {\n\t\t\t\t// Filter selected account\n\t\t\t\tif (value.account.number !== \"\" && value.amount > 0) {\n\t\t\t\t\t// Account\n\t\t\t\t\tvalue.set(\"account\", new AccountModel(value.account));\n\n\t\t\t\t\t// Contact\n\t\t\t\t\tvalue.set(\"primary_contact\", new ContactModel(this.donor));\n\n\t\t\t\t\t/* Contract */\n\t\t\t\t\tvalue.set(\"ref_number\", this.contract.referenceNo);\n\n\t\t\t\t\t// Currency\n\t\t\t\t\tvalue.set(\"currency\", new CurrencyModel(this.currency));\n\t\t\t\t\tvalue.set(\"amount\", value.amount * -1); // Credit side is negative\n\t\t\t\t\tvalue.set(\"exchange_rate_uuid\", this.exchangeRate.id);\n\t\t\t\t\tvalue.set(\"exchange_rate\", this.exchangeRate.rate);\n\n\t\t\t\t\tentries.push(new JournalEntryModel(value));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Journal Entries\n\t\t\tthis.journal.journal_entries = entries;\n\t\t},\n\t\t// Validating\n\t\tvalidateForm() {\n\t\t\tlet result = true,\n\t\t\t\tmsg = \"\",\n\t\t\t\tcashReceiptDS = this.$refs.cashReceiptDS.kendoWidget(),\n\t\t\t\trelatedExpenseDS = this.$refs.relatedExpenseDS.kendoWidget(),\n\t\t\t\trevenueDefferedGrantDS = this.$refs.revenueDefferedGrantDS.kendoWidget(),\n\t\t\t\tsecondaryAmount = 0,\n\t\t\t\tcountEmptyCashReceipt = 0,\n\t\t\t\tcountEmptyRevenueDefferedGrant = 0;\n\n\t\t\t// Donor\n\t\t\tif (this.donor.id === \"\") {\n\t\t\t\tmsg += `<p>${i18n.t(\"donor_is_required\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Fund Category\n\t\t\tif (this.fundCategory === null) {\n\t\t\t\tmsg += `<p>${i18n.t(\"fund_category_is_required\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Project\n\t\t\tif (this.project.id === \"\") {\n\t\t\t\tmsg += `<p>${i18n.t(\"project_is_required\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Segment\n\t\t\tif (this.segment.id === \"\") {\n\t\t\t\tmsg += `<p>${i18n.t(\"segment_is_required\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Location\n\t\t\tif (this.location.id === \"\") {\n\t\t\t\tmsg += `<p>${i18n.t(\"location_is_required\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Cash Receipt\n\t\t\tcashReceiptDS.data().forEach((value, index) => {\n\t\t\t\t// No account\n\t\t\t\tif (value.account.name === \"\" && value.amount > 0) {\n\t\t\t\t\tresult = false;\n\t\t\t\t\tmsg += `<p>${i18n.t(\n\t\t\t\t\t\t\"please_select_cash_receipt_account_at_row_number\"\n\t\t\t\t\t)} ${index + 1}</p>`;\n\t\t\t\t}\n\n\t\t\t\t// No amount\n\t\t\t\tif (value.account.name !== \"\" && value.amount === 0) {\n\t\t\t\t\tresult = false;\n\t\t\t\t\tmsg += `<p>${value.account.name} ${i18n.t(\"has_no_amount\")}</p>`;\n\t\t\t\t}\n\n\t\t\t\t// Count From Accounts\n\t\t\t\tif (value.account.name !== \"\" && value.amount > 0) {\n\t\t\t\t\tcountEmptyCashReceipt++;\n\t\t\t\t}\n\n\t\t\t\t/* Secondary Sum Amount */\n\t\t\t\tif(value.secondary_account.uuid !== \"\"){\n\t\t\t\t\tsecondaryAmount += value.amount;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Empty Row From Accounts\n\t\t\tif (countEmptyCashReceipt === 0) {\n\t\t\t\tmsg += `<p>${i18n.t(\"please_select_cash_receipt_account\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Related Expense\n\t\t\trelatedExpenseDS.data().forEach((value, index) => {\n\t\t\t\t// No account\n\t\t\t\tif (value.account.name === \"\" && value.amount > 0) {\n\t\t\t\t\tresult = false;\n\t\t\t\t\tmsg += `<p>${i18n.t(\n\t\t\t\t\t\t\"please_select_related_expense_account_at_row_number\"\n\t\t\t\t\t)} ${index + 1}</p>`;\n\t\t\t\t}\n\n\t\t\t\t// No amount\n\t\t\t\tif (value.account.name !== \"\" && value.amount === 0) {\n\t\t\t\t\tresult = false;\n\t\t\t\t\tmsg += `<p>${value.account.name} ${i18n.t(\"has_no_amount\")}</p>`;\n\t\t\t\t}\n\n\t\t\t\t/* Secondary Sum Amount */\n\t\t\t\tif(value.secondary_account.uuid !== \"\"){\n\t\t\t\t\tsecondaryAmount += value.amount;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Related Expense\n\t\t\trevenueDefferedGrantDS.data().forEach((value, index) => {\n\t\t\t\t// No account\n\t\t\t\tif (value.account.name === \"\" && value.amount > 0) {\n\t\t\t\t\tresult = false;\n\t\t\t\t\tmsg += `<p>${i18n.t(\n\t\t\t\t\t\t\"please_select_revenue_deffered_grant_account_at_row_number\"\n\t\t\t\t\t)} ${index + 1}</p>`;\n\t\t\t\t}\n\n\t\t\t\t// No amount\n\t\t\t\tif (value.account.name !== \"\" && value.amount === 0) {\n\t\t\t\t\tresult = false;\n\t\t\t\t\tmsg += `<p>${value.account.name} ${i18n.t(\"has_no_amount\")}</p>`;\n\t\t\t\t}\n\n\t\t\t\t// Count To Accounts\n\t\t\t\tif (value.account.name !== \"\" && value.amount > 0) {\n\t\t\t\t\tcountEmptyRevenueDefferedGrant++;\n\t\t\t\t}\n\n\t\t\t\t/* Secondary Sum Amount */\n\t\t\t\tif(value.secondary_account.uuid !== \"\"){\n\t\t\t\t\tsecondaryAmount += value.amount * -1;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Empty Row To\n\t\t\tif (countEmptyRevenueDefferedGrant === 0) {\n\t\t\t\tmsg += `<p>${i18n.t(\n\t\t\t\t\t\"please_select_revenue_deffered_grant_account\"\n\t\t\t\t)}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// All totals\n\t\t\tif (kendo.parseFloat(this.totalDr) !== kendo.parseFloat(this.totalCr)) {\n\t\t\t\tmsg += `<p>${i18n.t(\"total_dr_and_total_cr_are_not_balance\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t/* Secondary Account Amount Balance */\n\t\t\tif(secondaryAmount !== 0){\n\t\t\t\tmsg += `<p>${i18n.t(\"secondary_account_unbalance\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Show Alert\n\t\t\tthis.errorMessage = msg;\n\t\t\tthis.alert = false;\n\t\t\tif (result === false) {\n\t\t\t\tthis.alert = true;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\t// All Saves\n\t\tasync onSaveOptionClick(mode) {\n\t\t\tif (this.$refs.form.validate() && this.validateForm()) {\n\t\t\t\tlet isValidClosingDate = await Helper.validateClosingDate(\n\t\t\t\t\tthis.journal.journal_date\n\t\t\t\t);\n\t\t\t\tif (isValidClosingDate) {\n\t\t\t\t\tthis.saveMode = mode;\n\t\t\t\t\tthis.save();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcancel() {\n\t\t\tthis.$swal({\n\t\t\t\ttitle: i18n.t(\"msg_title_warning\"),\n\t\t\t\ttext: i18n.t(\"msg_discard\"),\n\t\t\t\ticon: \"warning\",\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tcancelButtonText: i18n.t(\"cancel\"),\n\t\t\t\tconfirmButtonColor: \"#4d4848\",\n\t\t\t\tcancelButtonColor: \"#ED1A3A\",\n\t\t\t\tconfirmButtonText: i18n.t(\"discard\"),\n\t\t\t}).then((result) => {\n\t\t\t\tif (result.value) {\n\t\t\t\t\tthis.clear();\n\t\t\t\t\tthis.setDefaultData();\n\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tclear() {\n\t\t\tthis.isEdit = false;\n\t\t\tthis.saveMode = \"\";\n\n\t\t\tthis.currency = new CurrencyModel(institute.baseCurrency);\n\t\t\tthis.exchangeRate = new ExchangeRateModel(institute.baseCurrency);\n\n\t\t\tthis.donor = new ContactModel();\n\t\t\tthis.contract = null;\n\t\t\tthis.contractParams = [];\n\t\t\tthis.fundCategory = null;\n\t\t\tthis.segment = new SegmentModel();\n\t\t\tthis.project = new ProjectModel();\n\t\t\tthis.location = new LocationModel();\n\n\t\t\tlet cashReceiptDS = this.$refs.cashReceiptDS.kendoWidget();\n\t\t\tcashReceiptDS.data([]);\n\t\t\tlet relatedExpenseDS = this.$refs.relatedExpenseDS.kendoWidget();\n\t\t\trelatedExpenseDS.data([]);\n\t\t\tlet revenueDefferedGrantDS =\n\t\t\t\tthis.$refs.revenueDefferedGrantDS.kendoWidget();\n\t\t\trevenueDefferedGrantDS.data([]);\n\t\t},\n\t\tconfirmDelete() {\n\t\t\tthis.$swal({\n\t\t\t\ttitle: i18n.t(\"are_you_sure_you_want_to_delete_it\"),\n\t\t\t\ttext: i18n.t(\"you_wont_be_able_to_revert_this\"),\n\t\t\t\ticon: \"warning\",\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tconfirmButtonColor: \"#4d4848\",\n\t\t\t\tcancelButtonColor: \"#ED1A3A\",\n\t\t\t\tconfirmButtonText: \"Yes\",\n\t\t\t}).then((result) => {\n\t\t\t\tif (result.value) {\n\t\t\t\t\tthis.saveMode = SaveOption.DELETE;\n\n\t\t\t\t\t/* Mark as deleted */\n\t\t\t\t\tthis.journal.is_deleted = 1;\n\n\t\t\t\t\t/* Update Journal Status */\n\t\t\t\t\tthis.save();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsave() {\n\t\t\tlet self = this;\n\n\t\t\t// Draft Mode\n\t\t\tif (this.saveMode === SaveOption.SAVEDRAFT) {\n\t\t\t\tthis.journal.is_draft = 1;\n\t\t\t} else {\n\t\t\t\tthis.journal.is_draft = 0;\n\t\t\t}\n\n\t\t\t// Shrink Data\n\t\t\tthis.shrinkData();\n\n\t\t\t// Sync Data\n\t\t\tthis.showLoading = true;\n\t\t\tjournalHandler\n\t\t\t\t.save(new JournalModel(this.journal))\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tself.responseStatus(response);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tself.showLoading = false;\n\t\t\t\t\tHelper.alertErrorMsg(error);\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tself.showLoading = false;\n\t\t\t\t});\n\t\t},\n\t\t// Response Status\n\t\tresponseStatus(response) {\n\t\t\tif (response.status === 200) {\n\t\t\t\tif (\n\t\t\t\t\tthis.saveMode === SaveOption.SAVECLOSE ||\n\t\t\t\t\tthis.saveMode === SaveOption.DELETE\n\t\t\t\t) {\n\t\t\t\t\t/* Save Close or Delete */\n\t\t\t\t\tif (this.isEdit) {\n\t\t\t\t\t\tthis.goBackToViewPage();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.clear();\n\t\t\t\t\tthis.setDefaultData();\n\t\t\t\t} else {\n\t\t\t\t\t/* Save New */\n\t\t\t\t\tthis.clear();\n\t\t\t\t\tthis.setDefaultData();\n\t\t\t\t}\n\n\t\t\t\t/* Alert Success */\n\t\t\t\tthis.$snotify.success(i18n.t(\"successful\"));\n\t\t\t} else {\n\t\t\t\t/* Alert Error */\n\t\t\t\tthis.$snotify.error(i18n.t(\"error_something_wrong\"));\n\t\t\t}\n\t\t},\n\t\t// Go back to view page after edit mode\n\t\tgetJournal() {\n\t\t\treturn this.journal;\n\t\t},\n\t\tgoBackToViewPage() {\n\t\t\tthis.$router.replace({\n\t\t\t\tname: \"Fund Receipt View\",\n\t\t\t\tparams: { initJournal: this.getJournal() },\n\t\t\t});\n\t\t},\n\t},\n\twatch: {\n\t\tinitJournal() {\n\t\t\tthis.initialData();\n\t\t},\n\t},\n\tcreated() {},\n\tmounted() {\n\t\t// Initial Data\n\t\tthis.initialData();\n\t},\n};\n</script>\n\n<style scoped>\n.hide_small_bar_class {\n\tmax-width: 0;\n\ttransition: 0.5s ease-in;\n\tflex: 0 0 0;\n\tpadding: 0;\n}\n\n.hide_big_bar_class {\n\tmax-width: 100%;\n\ttransition: 0.5s ease-in;\n\tflex: 0 0 100%;\n}\n\n.info_add {\n\tbackground-color: #ffffff;\n}\n\n.small_sidebar {\n\theight: 98%;\n\tposition: relative;\n\tpadding: 12px;\n\tbackground-color: #edf1f5;\n}\n\n.iconArrow {\n\tright: -35px;\n\tposition: absolute;\n\tbottom: -10px;\n}\n\n.iconArrowHide {\n\tposition: absolute;\n\tright: -7px;\n\tbottom: -10px;\n}\n\n@media (min-width: 1264px) {\n\t.container {\n\t\tmax-width: 1185px;\n\t\t/* max-width: 1080px !important; */\n\t}\n}\n\n@media (max-width: 576px) {\n\t.mb-6 {\n\t\tmargin-bottom: 0 !important;\n\t}\n}\n</style>\n"]}]}