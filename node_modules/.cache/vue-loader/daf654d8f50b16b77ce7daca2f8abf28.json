{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/customer/customer_credit_term/credit_limit_term/PaymentTerm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/customer/customer_credit_term/credit_limit_term/PaymentTerm.vue","mtime":1638499443203},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYXltZW50VGVybU1vZGVsIGZyb20gIkAvc2NyaXB0cy9wYXltZW50dGVybS9tb2RlbC9QYXltZW50VGVybSI7CmltcG9ydCBwYXltZW50VGVybUhhbmRsZXIgZnJvbSAiQC9zY3JpcHRzL3BheW1lbnR0ZXJtL2hhbmRsZXIvcGF5bWVudFRlcm1IYW5kbGVyIjsKaW1wb3J0IHNldHRpbmdIYW5kbGVyIGZyb20gIkAvc2NyaXB0cy9zZXR0aW5nc0hhbmRsZXIiOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKaW1wb3J0ICQgZnJvbSAianF1ZXJ5IjsKaW1wb3J0IFRlcm1Nb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvUGF5bWVudFRlcm0iOwovLyBjb25zdCBjcmVkaXRMaW1pdEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY3JlZGl0TGltaXQvaGFuZGxlci9jcmVkaXRMaW1pdEhhbmRsZXIiKTsKY29uc3QgcGF5bWVudFRlcm1Nb2RlbCA9IG5ldyBQYXltZW50VGVybU1vZGVsKHt9KTsKCmNvbnN0IGNvb2tpZUpTID0gcmVxdWlyZSgiQC9jb29raWUuanMiKTsKY29uc3QgY29va2llID0gY29va2llSlMuZ2V0Q29va2llKCk7CmNvbnN0IFRZUEUgPSAiQ3VzdG9tZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlBheW1lbnRUZXJtIiwKICBwcm9wczogWyJjdXN0b21lciJdLAogIGRhdGE6ICgpID0+ICh7CiAgICBzaG93TG9hZGluZzogZmFsc2UsCiAgICBwYXltZW50SXRlbTogW10sCiAgICB0ZXJtczogW10sCiAgICBkaWFsb2c6IGZhbHNlLAogICAgdmFsaWQ6IHRydWUsCiAgICBwYXltZW50VGVybTogcGF5bWVudFRlcm1Nb2RlbCwKICAgIGxvZ2dlZFVzZXI6IHsKICAgICAgaWQ6IGNvb2tpZS5jcmVhdG9yLAogICAgICBuYW1lOiBjb29raWUuZW1haWwsCiAgICB9LAogICAgZGlzYWJsZWQ6IGZhbHNlLAogIH0pLAogIGNvbXBvbmVudHM6IHsKICAgICJhcHAtZGF0ZXBpY2tlciI6ICgpID0+CiAgICAgIGltcG9ydCgiQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvRGF0ZVBpY2tlckNvbXBvbmVudCIpLAogICAgTG9hZGluZ01lOiAoKSA9PiBpbXBvcnQoYEAvY29tcG9uZW50cy9Mb2FkaW5nYCksCiAgfSwKICBjb21wdXRlZDogewogICAgY3VzdG9tZXJOYW1lKCkgewogICAgICBpZiAodGhpcy5jdXN0b21lcikgewogICAgICAgIGNvbnN0IGN1cyA9IHRoaXMuY3VzdG9tZXIgfHwge307CiAgICAgICAgY29uc3QgaWQgPSBjdXMuaWQgfHwgIiI7CiAgICAgICAgaWYgKGlkKSB7CiAgICAgICAgICB0aGlzLmxvYWRQYXltZW50VGVybUxpc3QoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tZXIubmFtZSB8fCAiIjsKICAgICAgfQogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgY3VzdG9tZXJJZCgpIHsKICAgICAgaWYgKHRoaXMuY3VzdG9tZXIpIHsKICAgICAgICBjb25zdCBjdXMgPSB0aGlzLmN1c3RvbWVyIHx8IHt9OwogICAgICAgIGNvbnN0IGlkID0gY3VzLmlkIHx8ICIiOwogICAgICAgIGlmIChpZCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tZXIuaWQgfHwgIiI7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBvbk5ldygpIHsKICAgICAgdGhpcy5wYXltZW50VGVybS5pZCA9ICIiOwogICAgICB0aGlzLnBheW1lbnRUZXJtLnRlcm0gPSB7fTsKICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIGNsb3NlKCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIGdvRWRpdF8oZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGxldCBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZFRlcm1zIikuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgIGxldCBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwogICAgICB0aGlzLnBheW1lbnRUZXJtID0gbmV3IFBheW1lbnRUZXJtTW9kZWwoZGF0YUl0ZW0pOwogICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnBheW1lbnRUZXJtLCAicGF5bWVudEl0ZW0iKTsKICAgIH0sCiAgICByb3dOdW1iZXJUbXBsKGRhdGFJdGVtKSB7CiAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMudGVybUl0ZW1EUy5rZW5kb1dpZGdldCgpLAogICAgICAgIGluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgYXN5bmMgbG9hZFBheW1lbnRUZXJtTGlzdCgpIHsKICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICBpZiAodGhpcy5jdXN0b21lcklkKSB7CiAgICAgICAgICAgIGNvbnN0IHN0ckZpbHRlciA9ICI/aWQ9IiArIHRoaXMuY3VzdG9tZXJJZCArICImdHlwZT0iICsgVFlQRTsKICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIHBheW1lbnRUZXJtSGFuZGxlci5nZXQoc3RyRmlsdGVyKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLnBheW1lbnRJdGVtID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSwgMTApOwogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBsb2FkUGF5bWVudCgpIHsKICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICBjb25zdCBzdHJGaWx0ZXIgPSAiP3R5cGU9cG10LWN1c3RvbWVyIjsKICAgICAgICAgIHNldHRpbmdIYW5kbGVyLmdldFBheW1lbnRUZXJtKHN0ckZpbHRlcikudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICB0aGlzLnRlcm1zID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSwgMTApOwogICAgICB9KTsKICAgIH0sCiAgICBvblNhdmVDbG9zZSgpIHsKICAgICAgLy8gaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgIC8vICAgcmV0dXJuCiAgICAgIC8vIH0KICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCcodGhpcy5jdXN0b21lcklkJywgKHRoaXMuY3VzdG9tZXJJZCkpCiAgICAgIGlmICh0aGlzLmN1c3RvbWVySWQpIHsKICAgICAgICBjb25zdCBjdXN0b21lcl8gPSB7CiAgICAgICAgICBpZDogdGhpcy5jdXN0b21lci5pZCB8fCAiIiwKICAgICAgICAgIG5hbWU6IHRoaXMuY3VzdG9tZXIubmFtZSB8fCAiIiwKICAgICAgICB9OwoKICAgICAgICB0aGlzLnBheW1lbnRUZXJtWyJjdXN0b21lcklkIl0gPSB0aGlzLmN1c3RvbWVySWQ7CiAgICAgICAgdGhpcy5wYXltZW50VGVybVsiY3VzdG9tZXIiXSA9IGN1c3RvbWVyXzsKICAgICAgICB0aGlzLnBheW1lbnRUZXJtWyJkZWxldGVkIl0gPSAwOwogICAgICAgIHRoaXMucGF5bWVudFRlcm1bInZlbmRvciJdID0ge307CiAgICAgICAgdGhpcy5wYXltZW50VGVybVsidHlwZSJdID0gIkN1c3RvbWVyIjsKICAgICAgICB0aGlzLnBheW1lbnRUZXJtWyJ0ZXJtIl0gPSBuZXcgVGVybU1vZGVsKHRoaXMucGF5bWVudFRlcm0udGVybSk7CiAgICAgICAgdGhpcy5wYXltZW50VGVybVsibG9nZ2VkVXNlciJdID0gdGhpcy5sb2dnZWRVc2VyOwogICAgICAgIHRoaXMucGF5bWVudFRlcm1bImVmZmVjdGl2ZURhdGUiXSA9IG5ldyBEYXRlKAogICAgICAgICAgdGhpcy5wYXltZW50VGVybS5lZmZlY3RpdmVEYXRlXwogICAgICAgICkKICAgICAgICAgIC50b0lTT1N0cmluZygpCiAgICAgICAgICAuc3Vic3RyKDAsIDEwKTsKICAgICAgICAvLyB0aGlzLmNyZWRpdExpbWl0WydhY3Rpb25UeXBlJ10gPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPyB0aGlzLiRyb3V0ZS5xdWVyeS50eXBlIDogJ25ldycKICAgICAgICB0aGlzLnBheW1lbnRUZXJtWyJlZmZlY3RpdmVEYXRlXyJdID0gbmV3IERhdGUoCiAgICAgICAgICB0aGlzLnBheW1lbnRUZXJtLmVmZmVjdGl2ZURhdGVfCiAgICAgICAgKS50b0pTT04oKTsKICAgICAgICAvLyB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQogICAgICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgIHBheW1lbnRUZXJtSGFuZGxlcgogICAgICAgICAgLmNyZWF0ZSh0aGlzLnBheW1lbnRUZXJtKQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMSkgewogICAgICAgICAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAvLyB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5LnN1Y2Nlc3MoIlN1Y2Nlc3NmdWxseSIpOwogICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTsKICAgICAgICAgICAgICB0aGlzLmxvYWRQYXltZW50VGVybUxpc3QoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgIC8vIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB0aGlzLiRzbm90aWZ5LmVycm9yKCJTb21ldGhpbmcgd2VudCB3cm9uZyIpOwogICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKGUpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgfSwKICBtb3VudGVkOiBhc3luYyBmdW5jdGlvbigpIHsKICAgIGF3YWl0IHRoaXMubG9hZFBheW1lbnQoKTsKICB9LAp9Owo="},{"version":3,"sources":["PaymentTerm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PaymentTerm.vue","sourceRoot":"src/views/customers/customer/customer_credit_term/credit_limit_term","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"grayBg px-6\">\n      <v-card color=\"white\" class=\"pa-3 no_border\" elevation=\"0\">\n        <v-row>\n          <v-col cols=\"12\">\n            <v-btn @click=\"onNew\" color=\"primary float-right white--text\">\n              {{ $t(\"new\") }}\n            </v-btn>\n          </v-col>\n        </v-row>\n\n        <LoadingMe\n          :isLoading=\"showLoading\"\n          :fullPage=\"false\"\n          type=\"loading\"\n          :myLoading=\"true\"\n        />\n        <kendo-datasource ref=\"termItemDS\" :data=\"paymentItem\" />\n        <kendo-grid\n          id=\"gridTerms\"\n          class=\"grid-function\"\n          :data-source-ref=\"'termItemDS'\"\n          :sortable=\"false\"\n          :column-menu=\"true\"\n          :editable=\"false\"\n          :noRecords=\"true\"\n          :scrollable-virtual=\"true\"\n        >\n          <kendo-grid-column\n            :title=\"$t('no.')\"\n            :width=\"55\"\n            :column-menu=\"false\"\n            :template=\"rowNumberTmpl\"\n            :headerAttributes=\"{\n              style: 'background-color: #EDF1F5;',\n              class: 'text-products',\n            }\"\n            :attributes=\"{\n              style: 'text-align: products',\n            }\"\n          />\n\n          <kendo-grid-column\n            :field=\"'term.name'\"\n            :title=\"$t('term')\"\n            :width=\"200\"\n            :headerAttributes=\"{\n              style: 'background-color: #EDF1F5',\n            }\"\n          />\n          <kendo-grid-column\n            :field=\"'effectiveDate'\"\n            :title=\"$t('date')\"\n            :template=\"\n              '<span>#=kendo.toString(new Date(effectiveDate), dateFormat)#</span>'\n            \"\n            :width=\"200\"\n            :headerAttributes=\"{\n              style: 'background-color: #EDF1F5',\n            }\"\n          />\n          <kendo-grid-column\n            :command=\"{\n              iconClass: 'k-icon k-i-edit',\n              text: ' ',\n              click: goEdit_,\n              class: 'btn-plus',\n            }\"\n            :title=\"''\"\n            :width=\"80\"\n            :headerAttributes=\"{\n              style: 'text-align: left; background-color: #EDF1F5',\n            }\"\n          />\n        </kendo-grid>\n      </v-card>\n      <v-dialog v-model=\"dialog\" max-width=\"600px\">\n        <v-card>\n          <div class=\"modal_header\">\n            <v-card-title>{{ $t(\"payment_term\") }}</v-card-title>\n            <v-icon class=\"\" @click=\"dialog = false\">close</v-icon>\n          </div>\n          <v-card-text class=\"modal_text_content\">\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n              <v-row>\n                <v-col sm=\"6\" cols=\"12\" class=\"\">\n                  <label class=\"label\">{{ $t(\"customer\") }}</label>\n                  <b><p>{{ customerName }}</p></b>\n                </v-col>\n\n                <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                  <label class=\"label\">{{ $t(\"effective_date\") }}</label>\n                  <app-datepicker\n                    :initialDate=\"paymentTerm.effectiveDate_\"\n                    @emitDate=\"paymentTerm.effectiveDate_ = $event\"\n                  />\n                  <label class=\"label\">{{ $t(\"new_term\") }}</label>\n                  <v-select\n                    class=\"mt-1\"\n                    :items=\"terms\"\n                    item-value=\"id\"\n                    item-text=\"name\"\n                    v-model=\"paymentTerm.term\"\n                    :rules=\"[(v) => !!v || 'term is required']\"\n                    return-object\n                    outlined\n                  />\n                </v-col>\n              </v-row>\n            </v-form>\n          </v-card-text>\n          <v-card-actions class=\"modal_footer\">\n            <v-row>\n              <v-col sm=\"6\" cols=\"6\" class=\"py-0\">\n                <v-btn\n                  color=\"black\"\n                  outlined\n                  class=\" text-capitalize black--text float-left\"\n                  @click=\"dialog = false\"\n                  >{{ $t(\"cancel\") }}\n                </v-btn>\n              </v-col>\n              <v-col sm=\"6\" cols=\"6\" class=\"py-0\">\n                <v-btn\n                  color=\"primary\"\n                  :disabled=\"disabled\"\n                  class=\"px-3 white--text text-capitalize float-right\"\n                  @click.native=\"onSaveClose\"\n                >\n                  {{ $t(\"save_close\") }}\n                </v-btn>\n              </v-col>\n            </v-row>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-col>\n  </v-row>\n</template>\n<script>\nimport PaymentTermModel from \"@/scripts/paymentterm/model/PaymentTerm\";\nimport paymentTermHandler from \"@/scripts/paymentterm/handler/paymentTermHandler\";\nimport settingHandler from \"@/scripts/settingsHandler\";\nimport kendo from \"@progress/kendo-ui\";\nimport $ from \"jquery\";\nimport TermModel from \"@/scripts/model/PaymentTerm\";\n// const creditLimitHandler = require(\"@/scripts/creditLimit/handler/creditLimitHandler\");\nconst paymentTermModel = new PaymentTermModel({});\n\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\nconst TYPE = \"Customer\";\nexport default {\n  name: \"PaymentTerm\",\n  props: [\"customer\"],\n  data: () => ({\n    showLoading: false,\n    paymentItem: [],\n    terms: [],\n    dialog: false,\n    valid: true,\n    paymentTerm: paymentTermModel,\n    loggedUser: {\n      id: cookie.creator,\n      name: cookie.email,\n    },\n    disabled: false,\n  }),\n  components: {\n    \"app-datepicker\": () =>\n      import(\"@/components/custom_templates/DatePickerComponent\"),\n    LoadingMe: () => import(`@/components/Loading`),\n  },\n  computed: {\n    customerName() {\n      if (this.customer) {\n        const cus = this.customer || {};\n        const id = cus.id || \"\";\n        if (id) {\n          this.loadPaymentTermList();\n        }\n        return this.customer.name || \"\";\n      }\n      return \"\";\n    },\n    customerId() {\n      if (this.customer) {\n        const cus = this.customer || {};\n        const id = cus.id || \"\";\n        if (id) {\n          return this.customer.id || \"\";\n        }\n      }\n      return \"\";\n    },\n  },\n  methods: {\n    onNew() {\n      this.paymentTerm.id = \"\";\n      this.paymentTerm.term = {};\n      this.dialog = true;\n    },\n    close() {\n      this.dialog = false;\n    },\n    goEdit_(e) {\n      e.preventDefault();\n      let grid = kendo.jQuery(\"#gridTerms\").data(\"kendoGrid\");\n      let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n      this.paymentTerm = new PaymentTermModel(dataItem);\n      this.dialog = true;\n      window.console.log(this.paymentTerm, \"paymentItem\");\n    },\n    rowNumberTmpl(dataItem) {\n      let ds = this.$refs.termItemDS.kendoWidget(),\n        index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    async loadPaymentTermList() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          if (this.customerId) {\n            const strFilter = \"?id=\" + this.customerId + \"&type=\" + TYPE;\n            this.showLoading = true;\n            paymentTermHandler.get(strFilter).then((res) => {\n              if (res.data.statusCode === 200) {\n                this.paymentItem = res.data.data;\n                this.showLoading = false;\n              } else {\n                this.showLoading = false;\n              }\n            });\n          }\n        }, 10);\n      });\n    },\n    async loadPayment() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          const strFilter = \"?type=pmt-customer\";\n          settingHandler.getPaymentTerm(strFilter).then((res) => {\n            if (res.data.statusCode === 200) {\n              this.terms = res.data.data;\n            }\n          });\n        }, 10);\n      });\n    },\n    onSaveClose() {\n      // if (this.$refs.form.validate()) {\n      //   return\n      // }\n      // window.console.log('(this.customerId', (this.customerId))\n      if (this.customerId) {\n        const customer_ = {\n          id: this.customer.id || \"\",\n          name: this.customer.name || \"\",\n        };\n\n        this.paymentTerm[\"customerId\"] = this.customerId;\n        this.paymentTerm[\"customer\"] = customer_;\n        this.paymentTerm[\"deleted\"] = 0;\n        this.paymentTerm[\"vendor\"] = {};\n        this.paymentTerm[\"type\"] = \"Customer\";\n        this.paymentTerm[\"term\"] = new TermModel(this.paymentTerm.term);\n        this.paymentTerm[\"loggedUser\"] = this.loggedUser;\n        this.paymentTerm[\"effectiveDate\"] = new Date(\n          this.paymentTerm.effectiveDate_\n        )\n          .toISOString()\n          .substr(0, 10);\n        // this.creditLimit['actionType'] = this.$route.params.id ? this.$route.query.type : 'new'\n        this.paymentTerm[\"effectiveDate_\"] = new Date(\n          this.paymentTerm.effectiveDate_\n        ).toJSON();\n        // this.showLoading = true\n        this.disabled = true;\n        paymentTermHandler\n          .create(this.paymentTerm)\n          .then((response) => {\n            if (response.data.statusCode === 201) {\n              this.disabled = false;\n              // this.showLoading = false\n              this.$snotify.success(\"Successfully\");\n              this.close();\n              this.loadPaymentTermList();\n            }\n          })\n          .catch((e) => {\n            this.disabled = false;\n            // this.showLoading = false\n            this.$snotify.error(\"Something went wrong\");\n            this.errors.push(e);\n          });\n      }\n    },\n  },\n  mounted: async function() {\n    await this.loadPayment();\n  },\n};\n</script>\n"]}]}