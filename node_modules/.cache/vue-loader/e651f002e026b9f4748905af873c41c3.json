{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/customers/sales/sale_channels/app_connetion/app_connect/Settings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/customers/sales/sale_channels/app_connetion/app_connect/Settings.vue","mtime":1642390528860},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1b21QcmljZUhhbmRsZXIgZnJvbSAiQC9zY3JpcHRzL3VvbVByaWNlSGFuZGxlciI7Cgpjb25zdCBhcHBDb25uZWN0aW9uSGFuZGxlID0gcmVxdWlyZSgiQC9zY3JpcHRzL2FwcC1jb25uZWN0aW9uL2hhbmRsZXIvYXBwQ29ubmVjdGlvbkhhbmRsZSIpOwovLyBjb25zdCBheGlvcyA9IHJlcXVpcmUoImF4aW9zIik7CmNvbnN0IHByb2R1Y3RWYXJpYW50SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcm9kdWN0VmFyaWFudEhhbmRsZXIiKTsKaW1wb3J0IEl0ZW1MaW5lIGZyb20gIkAvc2NyaXB0cy9hcHAtY29ubmVjdGlvbi9tb2RlbC9JdGVtTGluZSI7CmltcG9ydCBJdGVtTGluZUxvY2F0aW9uIGZyb20gIkAvc2NyaXB0cy9hcHAtY29ubmVjdGlvbi9tb2RlbC9JdGVtTGluZUxvY2F0aW9uIjsKCmNvbnN0IGl0ZW1MaW5lTW9kZWwgPSBuZXcgSXRlbUxpbmUoe30pOwpjb25zdCBJdGVtTGluZUxvY2F0aW9uTW9kZWwgPSBuZXcgSXRlbUxpbmVMb2NhdGlvbih7fSk7Ci8vIGltcG9ydCB7dXVpZH0gZnJvbSAidnVlLXV1aWQiOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKaW1wb3J0IHsgU2VnbWVudE1vZGVsIH0gZnJvbSAiQC9zY3JpcHRzL21vZGVsL0FwcE1vZGVscyI7CgovLyBjb25zdCBwcmljZUxldmVsSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcmljZUxldmVsSGFuZGxlciIpOwpjb25zdCBjdXN0b21lclR5cGVIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2N1c3RvbWVyVHlwZUhhbmRsZXIiKTsKY29uc3Qgc2FsZUNoYW5uZWxIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NhbGVDaGFubmVsSGFuZGxlciIpOwpjb25zdCBwYXltZW50VGVybUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2V0dGluZ3NIYW5kbGVyIik7CmNvbnN0IGxvY2F0aW9uSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9sb2NhdGlvbkhhbmRsZXIiKTsKaW1wb3J0IHsgaTE4biB9IGZyb20gIkAvaTE4biI7Ci8vIGltcG9ydCB7bWFwU3RhdGV9IGZyb20gInZ1ZXgiOwoKY29uc3QgJCA9IGtlbmRvLmpRdWVyeTsKCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyJhdXRob3JpemUiLCAidHlwZXMiXSwKICBkYXRhOiAoKSA9PiAoewogICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgaXRlbUxpbmU6IGl0ZW1MaW5lTW9kZWwsCiAgICBpdGVtTGluZXM6IFtdLAogICAgaXRlbUxpbmVMb2NhdGlvbjogSXRlbUxpbmVMb2NhdGlvbk1vZGVsLAogICAgaXRlbUxpbmVzTG9jYXRpb246IFtdLAogICAgcHJpY2VMZXZlbDoge30sCiAgICBwYXJ0bmVySXRlbTogW10sCiAgICBjdXN0b21lclR5cGVzOiBbXSwKICAgIG1DdXN0b21lclR5cGU6ICIiLAogICAgbG9jYXRpb25zOiBbXSwKICAgIHNlZ21lbnQ6IG5ldyBTZWdtZW50TW9kZWwoKSwKICAgIHNhbGVDaGFubmVsOiAiIiwKICAgIHNhbGVDaGFubmVsTGlzdDogW10sCiAgICB2YWxpZDogdHJ1ZSwKICAgIGlzU3VjY2VzczogZmFsc2UsCiAgICBwYXltZW50VGVybToge30sCiAgICBwYXltZW50VGVybXM6IFtdLAogICAgZGVwYXJ0bWVudHM6IFtdLAogICAgdHJhbnNhY3Rpb25EYXRlOiBuZXcgRGF0ZSgpLnRvSlNPTigpLAogICAgaWQ6ICIiLAogIH0pLAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmdNZTogKCkgPT4gaW1wb3J0KGBAL2NvbXBvbmVudHMvTG9hZGluZ2ApLAogICAgImFwcC1zZWdtZW50LWRyb3Bkb3dubGlzdCI6ICgpID0+CiAgICAgIGltcG9ydCgiQC9jb21wb25lbnRzL2Ryb3Bkb3dubGlzdC9TZWdtZW50IiksCiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VDdXN0b21lclR5ZXAoKSB7CiAgICAgIHRoaXMucHJpY2VMZXZlbCA9IHRoaXMubUN1c3RvbWVyVHlwZS5wcmljZUxldmVsOwogICAgfSwKICAgIGZpbmREdXBsaWNhdGVzKHZhbHVlcykgewogICAgICB2YXIgdmFsdWVBcnIgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaXRlbS5uYW1lOwogICAgICB9KTsKICAgICAgdmFyIGlzRHVwbGljYXRlID0gdmFsdWVBcnIuc29tZShmdW5jdGlvbiAoaXRlbSwgaWR4KSB7CiAgICAgICAgcmV0dXJuIHZhbHVlQXJyLmluZGV4T2YoaXRlbSkgIT0gaWR4OwogICAgICB9KTsKICAgICAgcmV0dXJuIGlzRHVwbGljYXRlOwogICAgfSwKICAgIGZpbmREdXBsaWNhdGVzUGFydGVyKHZhbHVlcykgewogICAgICB2YXIgdmFsdWVBcnIgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaXRlbVBhcnRuZXIubmFtZV9lbjsKICAgICAgfSk7CiAgICAgIHZhciBpc0R1cGxpY2F0ZSA9IHZhbHVlQXJyLnNvbWUoZnVuY3Rpb24gKGl0ZW0sIGlkeCkgewogICAgICAgIHJldHVybiB2YWx1ZUFyci5pbmRleE9mKGl0ZW0pICE9IGlkeDsKICAgICAgfSk7CiAgICAgIHJldHVybiBpc0R1cGxpY2F0ZTsKICAgIH0sCiAgICBmaW5kRHVwbGljYXRlc0xvY2F0aW9uKHZhbHVlcykgewogICAgICB2YXIgdmFsdWVBcnIgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ubG9jYXRpb24ubmFtZTsKICAgICAgfSk7CiAgICAgIHZhciBpc0R1cGxpY2F0ZSA9IHZhbHVlQXJyLnNvbWUoZnVuY3Rpb24gKGl0ZW0sIGlkeCkgewogICAgICAgIHJldHVybiB2YWx1ZUFyci5pbmRleE9mKGl0ZW0pICE9IGlkeDsKICAgICAgfSk7CiAgICAgIHJldHVybiBpc0R1cGxpY2F0ZTsKICAgIH0sCiAgICBmaW5kRHVwbGljYXRlc0xvY2F0aW9uUGFydG5lcih2YWx1ZXMpIHsKICAgICAgdmFyIHZhbHVlQXJyID0gdmFsdWVzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmxvY2F0aW9uUGFydG5lci5uYW1lX2VuOwogICAgICB9KTsKICAgICAgdmFyIGlzRHVwbGljYXRlID0gdmFsdWVBcnIuc29tZShmdW5jdGlvbiAoaXRlbSwgaWR4KSB7CiAgICAgICAgcmV0dXJuIHZhbHVlQXJyLmluZGV4T2YoaXRlbSkgIT0gaWR4OwogICAgICB9KTsKICAgICAgcmV0dXJuIGlzRHVwbGljYXRlOwogICAgfSwKICAgIHNhdmVDbG9zZSgpIHsKICAgICAgaWYgKCF0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBsZXQgZGF0YSA9IHt9OwogICAgICBsZXQgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFNBcHBDb25uZWN0LmtlbmRvV2lkZ2V0KCk7CiAgICAgIGxldCBkc0xvY2F0aW9uID0gdGhpcy4kcmVmcy5pdGVtTGluZURTQXBwQ29ubmVjdExvY2F0aW9uLmtlbmRvV2lkZ2V0KCk7CiAgICAgIGxldCBpdGVtTGluZXMgPSBbXTsKICAgICAgZHMuZGF0YSgpLmZvckVhY2goKGkpID0+IHsKICAgICAgICBpZiAoaS5pc0FkZE5ldykgewogICAgICAgICAgaXRlbUxpbmVzLnB1c2goewogICAgICAgICAgICBpdGVtOiBpLml0ZW0gfHwge30sCiAgICAgICAgICAgIHVvbTogaS51b20gfHwge30sCiAgICAgICAgICAgIGl0ZW1QYXJ0bmVyOiBpLml0ZW1QYXJ0bmVyIHx8IHt9LAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgZGF0YS5pdGVtTGluZXMgPSBpdGVtTGluZXM7CiAgICAgIGRhdGEudHlwZSA9IHRoaXMudHlwZXM7CiAgICAgIGRhdGEuYXV0aG9yaXplID0gdGhpcy5hdXRob3JpemU7CiAgICAgIGRhdGEucHJpY2VMZXZlbCA9IHRoaXMucHJpY2VMZXZlbDsKICAgICAgZGF0YS5tQ3VzdG9tZXJUeXBlID0gdGhpcy5tQ3VzdG9tZXJUeXBlOwogICAgICBkYXRhLmxvY2F0aW9uID0gdGhpcy5sb2NhdGlvbjsKICAgICAgZGF0YS5zZWdtZW50ID0gdGhpcy5zZWdtZW50OwogICAgICBkYXRhLnNhbGVDaGFubmVsID0gdGhpcy5zYWxlQ2hhbm5lbDsKICAgICAgZGF0YS5wYXltZW50VGVybSA9IHRoaXMucGF5bWVudFRlcm07CiAgICAgIGxldCBsb2NhdGlvbkl0ZW1MaW5lID0gW107CiAgICAgIGRzTG9jYXRpb24uZGF0YSgpLmZvckVhY2goKGkpID0+IHsKICAgICAgICBpZiAoaS5pc0FkZE5ldykgewogICAgICAgICAgbG9jYXRpb25JdGVtTGluZS5wdXNoKHsKICAgICAgICAgICAgbG9jYXRpb246IGkubG9jYXRpb24sCiAgICAgICAgICAgIGxvY2F0aW9uUGFydG5lcjogaS5sb2NhdGlvblBhcnRuZXIsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgZGF0YS5pdGVtTGluZXNMb2NhdGlvbiA9IGxvY2F0aW9uSXRlbUxpbmU7CiAgICAgIGxldCBmaW5kRHVwID0gdGhpcy5maW5kRHVwbGljYXRlcyhpdGVtTGluZXMpOwogICAgICBsZXQgZmluZER1cFBhcnRlcm4gPSB0aGlzLmZpbmREdXBsaWNhdGVzUGFydGVyKGl0ZW1MaW5lcyk7CiAgICAgIGxldCBmaW5kRHVwTG9jYXRpb24gPSB0aGlzLmZpbmREdXBsaWNhdGVzTG9jYXRpb24obG9jYXRpb25JdGVtTGluZSk7CiAgICAgIGxldCBmaW5kRHVwTG9jYXRpb25QYXJ0bmVyID0KICAgICAgICB0aGlzLmZpbmREdXBsaWNhdGVzTG9jYXRpb25QYXJ0bmVyKGxvY2F0aW9uSXRlbUxpbmUpOwogICAgICBpZiAoCiAgICAgICAgZmluZER1cCB8fAogICAgICAgIGZpbmREdXBQYXJ0ZXJuIHx8CiAgICAgICAgZmluZER1cExvY2F0aW9uIHx8CiAgICAgICAgZmluZER1cExvY2F0aW9uUGFydG5lcgogICAgICApIHsKICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgIHRpdGxlOiBpMThuLnQoImZhaWxlZCIpLAogICAgICAgICAgdGV4dDogaTE4bi50KCJkdXBsaWNhdGVzX2l0ZW0iKSwKICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCiAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IGkxOG4udCgib2siKSwKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJkYXRhIixkYXRhKTsKICAgICAgYXBwQ29ubmVjdGlvbkhhbmRsZS5hZGQoZGF0YSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgaWYgKHJlcy5tc2cgPT09ICJzdWNjZXNzZnVsIikgewogICAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiBpMThuLnQoInN1Y2Nlc3NmdWwiKSwKICAgICAgICAgICAgdGV4dDogaTE4bi50KCJkYXRhX3JlY29yZCIpLAogICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiM0ZDQ4NDgiLAogICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogaTE4bi50KCJvayIpLAogICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuJGVtaXQoImZpbmlzaCIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgICAgdGl0bGU6IGkxOG4udCgiZmFpbGVkIiksCiAgICAgICAgICAgIHRleHQ6IGkxOG4udCgic3RoX3dlbnRfd3JvbmdfY2hlY2tfeW91ciIpLAogICAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjRUQxQTNBIiwKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IGkxOG4udCgib2siKSwKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5pc1N1Y2Nlc3MgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGRhdGFTb3VyY2VDaGFuZ2VkQXBwKCkge30sCiAgICByb3dOdW1iZXJUbXBsKGRhdGFJdGVtKSB7CiAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEU0FwcENvbm5lY3Qua2VuZG9XaWRnZXQoKSwKICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIHJvd051bWJlclRtcGxMb2NhdGlvbihkYXRhSXRlbSkgewogICAgICBsZXQgZHMgPSB0aGlzLiRyZWZzLml0ZW1MaW5lRFNBcHBDb25uZWN0TG9jYXRpb24ua2VuZG9XaWRnZXQoKSwKICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIGFkZFJvdygpIHsKICAgICAgbGV0IGRzID0gdGhpcy4kcmVmcy5pdGVtTGluZURTQXBwQ29ubmVjdC5rZW5kb1dpZGdldCgpOwogICAgICBsZXQgdG90YWwgPSBkcy50b3RhbCgpOwogICAgICB0aGlzLml0ZW1MaW5lLmlzQWRkTmV3ID0gdHJ1ZTsKICAgICAgaWYgKHRvdGFsIDwgMzYpIHsKICAgICAgICBkcy5pbnNlcnQodG90YWwsIHRoaXMuaXRlbUxpbmUpOwogICAgICB9CiAgICB9LAogICAgYWRkUm93MigpIHsKICAgICAgbGV0IGRzTCA9IHRoaXMuJHJlZnMuaXRlbUxpbmVEU0FwcENvbm5lY3RMb2NhdGlvbi5rZW5kb1dpZGdldCgpOwogICAgICBsZXQgdG90YWxkc0wgPSBkc0wudG90YWwoKTsKICAgICAgdGhpcy5pdGVtTGluZUxvY2F0aW9uLmlzQWRkTmV3ID0gdHJ1ZTsKICAgICAgaWYgKHRvdGFsZHNMIDwgMzYpIHsKICAgICAgICBkc0wuaW5zZXJ0KHRvdGFsZHNMLCB0aGlzLml0ZW1MaW5lTG9jYXRpb24pOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlUm93KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBjb25zdCBncmlkID0ga2VuZG8ualF1ZXJ5KCIjaXRlbUxpbmVEU0FwcENvbm5lY3QiKS5kYXRhKCJrZW5kb0dyaWQiKTsKICAgICAgY29uc3QgZGF0YVNvdXJjZSA9IGdyaWQuZGF0YVNvdXJjZTsKICAgICAgY29uc3QgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKCQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKICAgICAgaWYgKCFkYXRhSXRlbS5pc0FkZE5ldykgewogICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgdGl0bGU6IGkxOG4udCgid2FybmluZyIpLAogICAgICAgICAgdGV4dDogaTE4bi50KCJkb195b3VfZGVsZXRlIiksCiAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCiAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IGkxOG4udCgib2siKSwKICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgbGV0IGRhdGFfZGVsZXRlID0gewogICAgICAgICAgICAgIGlkOiBkYXRhSXRlbS5pdGVtUGFydG5lci5pZCwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgYXBwQ29ubmVjdGlvbkhhbmRsZS5kZWxldEl0ZW0oZGF0YV9kZWxldGUpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuc3VjY2VzcyhpMThuLnQoInN1Y2Nlc3NmdWwiKSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuZXJyb3IoaTE4bi50KCJlcnJvcl9zb21ldGhpbmdfd3JvbmciKSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZGF0YVNvdXJjZS5yZW1vdmUoZGF0YUl0ZW0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChkYXRhU291cmNlLnRvdGFsKCkgPiAxKSB7CiAgICAgICAgICBkYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVtb3ZlUm93TG9jYXRpb24oZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGNvbnN0IGdyaWQgPSBrZW5kbwogICAgICAgIC5qUXVlcnkoIiNpdGVtTGluZURTQXBwQ29ubmVjdExvY2F0aW9uIikKICAgICAgICAuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgIGxldCBkYXRhU291cmNlID0gZ3JpZC5kYXRhU291cmNlOwogICAgICBsZXQgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKCQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKGRhdGFJdGVtKTsKICAgICAgaWYgKCFkYXRhSXRlbS5pc0FkZE5ldykgewogICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgdGl0bGU6IGkxOG4udCgid2FybmluZyIpLAogICAgICAgICAgdGV4dDogaTE4bi50KCJkb195b3VfZGVsZXRlIiksCiAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCiAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IGkxOG4udCgib2siKSwKICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgbGV0IGRhdGFfZGVsZXRlID0gewogICAgICAgICAgICAgIGlkOiBkYXRhSXRlbS5sb2NhdGlvblBhcnRuZXIuaWQsCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGFwcENvbm5lY3Rpb25IYW5kbGUuZGVsZXRMb2NhdGlvbihkYXRhX2RlbGV0ZSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5zdWNjZXNzKGkxOG4udCgic3VjY2Vzc2Z1bCIpKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcihpMThuLnQoImVycm9yX3NvbWV0aGluZ193cm9uZyIpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBkYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGRhdGFTb3VyY2UudG90YWwoKSA+IDEpIHsKICAgICAgICAgIGRhdGFTb3VyY2UucmVtb3ZlKGRhdGFJdGVtKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBpdGVtVGVtcGxhdGUoZGF0YUl0ZW0pIHsKICAgICAgY29uc3QgaXRlbSA9IGRhdGFJdGVtLml0ZW07CiAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGA8c3Bhbj4ke2l0ZW0ubmFtZSA/IGl0ZW0ubmFtZSA6IGBgfTwvc3Bhbj5gOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBgYDsKICAgICAgfQogICAgfSwKICAgIGlzRGlzYWJsZVVwZGF0ZShkYXRhSXRlbSkgewogICAgICBpZiAoZGF0YUl0ZW0uaXNBZGROZXcpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgaXNFZGl0YWJsZUxvY2F0aW9uKGRhdGFJdGVtKSB7CiAgICAgIGlmIChkYXRhSXRlbS5pc0FkZE5ldykgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBpdGVtVGVtcGxhdGVMb2NhdGlvbihkYXRhSXRlbSkgewogICAgICBjb25zdCBpdGVtID0gZGF0YUl0ZW0ubG9jYXRpb247CiAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGA8c3Bhbj4ke2l0ZW0ubmFtZSA/IGl0ZW0ubmFtZSA6IGBgfTwvc3Bhbj5gOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBgYDsKICAgICAgfQogICAgfSwKICAgIGl0ZW1UZW1wbGF0ZVBhcnRuZXIoZGF0YUl0ZW0pIHsKICAgICAgY29uc3QgaXRlbSA9IGRhdGFJdGVtLml0ZW1QYXJ0bmVyOwogICAgICBpZiAoaXRlbSkgewogICAgICAgIHJldHVybiBgPHNwYW4+JHtpdGVtLm5hbWVfZW4gPyBpdGVtLm5hbWVfZW4gOiBgYH08L3NwYW4+YDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gYGA7CiAgICAgIH0KICAgIH0sCiAgICBMb2NhdGlvblRlbXBsYXRlUGFydG5lcihkYXRhSXRlbSkgewogICAgICBjb25zdCBpdGVtID0gZGF0YUl0ZW0ubG9jYXRpb25QYXJ0bmVyOwogICAgICBpZiAoaXRlbSkgewogICAgICAgIHJldHVybiBgPHNwYW4+JHsKICAgICAgICAgIGl0ZW0ubmFtZV9lbiA/IGl0ZW0ubmFtZSArICItIiArIGl0ZW0ubmFtZV9lbiA6IGBgCiAgICAgICAgfTwvc3Bhbj5gOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBgYDsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGxvYWRQYXltZW50VGVybSgpIHsKICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICBjb25zdCBzdHJGaWx0ZXIgPSAiP3R5cGU9cG10LWN1c3RvbWVyIjsKICAgICAgICAgIHBheW1lbnRUZXJtSGFuZGxlci5nZXRQYXltZW50VGVybShzdHJGaWx0ZXIpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgdGhpcy5wYXltZW50VGVybXMgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9LCAxMCk7CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGxvYWRDdXN0b21lclR5cGUoKSB7CiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgY3VzdG9tZXJUeXBlSGFuZGxlci5nZXQoKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgdGhpcy5jdXN0b21lclR5cGVzID0gcmVzOwogICAgICAgICAgfSk7CiAgICAgICAgfSwgMTAwKTsKICAgICAgfSk7CiAgICB9LAogICAgSXRlbURyb3BEb3duRWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kbwogICAgICAgIC5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKQogICAgICAgIC5hcHBlbmRUbyhjb250YWluZXIpCiAgICAgICAgLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICAgIGF1dG9CaW5kOiB0cnVlLAogICAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgICBmaWx0ZXI6ICJjb250YWlucyIsCiAgICAgICAgICBkYXRhVGV4dEZpZWxkOiAibmFtZSIsCiAgICAgICAgICBkYXRhVmFsdWVGaWVsZDogImlkIiwKICAgICAgICAgIGhlYWRlclRlbXBsYXRlOgogICAgICAgICAgICAnPGRpdiBjbGFzcz0iZHJvcGRvd24taGVhZGVyIGstd2lkZ2V0IGstaGVhZGVyIj4nICsKICAgICAgICAgICAgIjxzcGFuPkl0ZW1zIDwvc3Bhbj4iICsKICAgICAgICAgICAgIjxzcGFuPjwvc3Bhbj4iICsKICAgICAgICAgICAgIjwvZGl2PiIsCiAgICAgICAgICB0ZW1wbGF0ZTogIjxzcGFuPiM9bmFtZSM8L3NwYW4+IiwKICAgICAgICAgIG9wdGlvbkxhYmVsOiAiLS0tIFNlbGVjdCAtLS0iLAogICAgICAgICAgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICAgIHNlcnZlckZpbHRlcmluZzogdHJ1ZSwKICAgICAgICAgICAgdHJhbnNwb3J0OiB7CiAgICAgICAgICAgICAgcmVhZDogewogICAgICAgICAgICAgICAgdXJsOiBwcm9kdWN0VmFyaWFudEhhbmRsZXIuaXRlbVNlYXJjaFVSTCgKICAgICAgICAgICAgICAgICAgIj9wbElkPSIgKyB0aGlzLnByaWNlTGV2ZWwuaWQKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBkYXRhVHlwZTogImpzb24iLAogICAgICAgICAgICB9LAogICAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgICAgaWQ6ICJpZCIsCiAgICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgICAgaWQ6IHsgdHlwZTogInN0cmluZyIgfSwKICAgICAgICAgICAgICAgICAgbmFtZTogeyB0eXBlOiAic3RyaW5nIiB9LAogICAgICAgICAgICAgICAgICBza3U6IHsgdHlwZTogInN0cmluZyIgfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgdG90YWw6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy8gZGF0YTogdGhpcy52YXJpYW50cwogICAgICAgICAgfSksCiAgICAgICAgfSk7CiAgICB9LAogICAgSXRlbURyb3BEb3duRWRpdG9yQ29ubmVjdG9yKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kbwogICAgICAgIC5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKQogICAgICAgIC5hcHBlbmRUbyhjb250YWluZXIpCiAgICAgICAgLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICAgIGF1dG9CaW5kOiBmYWxzZSwKICAgICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICAgIGhlaWdodDogMzAwLAogICAgICAgICAgZmlsdGVyOiAiY29udGFpbnMiLAogICAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWVfZW4iLAogICAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICAgIGRhdGFTb3VyY2U6IHRoaXMucGFydG5lckl0ZW0sCiAgICAgICAgfSk7CiAgICB9LAogICAgSXRlbURyb3BEb3duRWRpdG9yRGVwYXJ0bWVudChjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAga2VuZG8KICAgICAgICAualF1ZXJ5KCc8aW5wdXQgbmFtZT0iJyArIG9wdGlvbnMuZmllbGQgKyAnIi8+JykKICAgICAgICAuYXBwZW5kVG8oY29udGFpbmVyKQogICAgICAgIC5rZW5kb0Ryb3BEb3duTGlzdCh7CiAgICAgICAgICBhdXRvQmluZDogZmFsc2UsCiAgICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgICBoZWlnaHQ6IDMwMCwKICAgICAgICAgIGZpbHRlcjogImNvbnRhaW5zIiwKICAgICAgICAgIGRhdGFUZXh0RmllbGQ6ICJuYW1lX2VuIiwKICAgICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz0gbmFtZSMtIz0gbmFtZV9lbiM8L3NwYW4+IiwKICAgICAgICAgIGRhdGFWYWx1ZUZpZWxkOiAiaWQiLAogICAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgICBkYXRhU291cmNlOiB0aGlzLmRlcGFydG1lbnRzLAogICAgICAgIH0pOwogICAgfSwKICAgIEl0ZW1Ecm9wRG93bkVkaXRvckxvY2F0aW9uKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICBrZW5kbwogICAgICAgIC5qUXVlcnkoJzxpbnB1dCBuYW1lPSInICsgb3B0aW9ucy5maWVsZCArICciLz4nKQogICAgICAgIC5hcHBlbmRUbyhjb250YWluZXIpCiAgICAgICAgLmtlbmRvRHJvcERvd25MaXN0KHsKICAgICAgICAgIGF1dG9CaW5kOiBmYWxzZSwKICAgICAgICAgIGF1dG9XaWR0aDogdHJ1ZSwKICAgICAgICAgIGhlaWdodDogMzAwLAogICAgICAgICAgZmlsdGVyOiAiY29udGFpbnMiLAogICAgICAgICAgZGF0YVRleHRGaWVsZDogIm5hbWUiLAogICAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJpZCIsCiAgICAgICAgICBvcHRpb25MYWJlbDogIi0tLSBTZWxlY3QgLS0tIiwKICAgICAgICAgIGRhdGFTb3VyY2U6IHRoaXMubG9jYXRpb25zLAogICAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGxvYWRMb2NhdGlvbigpIHsKICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICB0aGlzLmxvY2F0aW9ucyA9IFtdOwogICAgICAgICAgbG9jYXRpb25IYW5kbGVyCiAgICAgICAgICAgIC5saXN0KCkKICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb25zID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgpOwogICAgICAgIH0sIDMwMCk7CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGxvYWREZXBhcnRtZW50KCkgewogICAgICBhcHBDb25uZWN0aW9uSGFuZGxlLmdldERlcGFydG1lbnQoKS50aGVuKChyZXMpID0+IHsKICAgICAgICBsZXQgZGVwYXJ0bWVudCA9IFtdOwogICAgICAgIGlmIChyZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgcmVzLm1hcCgoaSkgPT4gewogICAgICAgICAgICAvLyByZXR1cm4gewogICAgICAgICAgICAvLyAgICAgaWQ6IGkuaWQgfHwgJycsCiAgICAgICAgICAgIC8vICAgICBjb2RlOiBpLmNvZGUgfHwgJycsCiAgICAgICAgICAgIC8vICAgICBuYW1lOiBpLm5hbWUgfHwgJycsCiAgICAgICAgICAgIC8vICAgICBuYW1lX2VuOiBpLm5hbWVfZW4gfHwgJycKICAgICAgICAgICAgLy8gfQogICAgICAgICAgICBpLmRlcGFydG1lbnRfc3RydWN0dXJlLm1hcCgoZHApID0+IHsKICAgICAgICAgICAgICBkZXBhcnRtZW50LnB1c2goZHApOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5kZXBhcnRtZW50cyA9IGRlcGFydG1lbnQ7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBnZXRGcmVlQ2F0ZWdvcnkoKSB7CiAgICAgIGFwcENvbm5lY3Rpb25IYW5kbGUuZ2V0KCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5wYXJ0bmVySXRlbSA9IHJlczsKICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgc2V0RGVmYXVsdERhdGEoKSB7CiAgICAgIC8vIEJyYW5kIE5ldyBNb2RlCiAgICAgIGxldCBzZWdtZW50cyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZWdtZW50cy9nZXRMaXN0Iik7CiAgICAgIHRoaXMuc2VnbWVudCA9IG5ldyBTZWdtZW50TW9kZWwoc2VnbWVudHMuZmluZCgoaSkgPT4gaS5pc1N5c3RlbSA9PT0gMSkpOwogICAgfSwKICAgIGFzeW5jIGxvYWRTYWxlQ2hhbm5lbCgpIHsKICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICBzYWxlQ2hhbm5lbEhhbmRsZXIuZ2V0KCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICB0aGlzLnNhbGVDaGFubmVsTGlzdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0sIDEwKTsKICAgICAgfSk7CiAgICB9LAogICAgVU9NRHJvcERvd25FZGl0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIGtlbmRvCiAgICAgICAgLmpRdWVyeSgnPGlucHV0IG5hbWU9IicgKyBvcHRpb25zLmZpZWxkICsgJyIvPicpCiAgICAgICAgLmFwcGVuZFRvKGNvbnRhaW5lcikKICAgICAgICAua2VuZG9Ecm9wRG93bkxpc3QoewogICAgICAgICAgYXV0b0JpbmQ6IHRydWUsCiAgICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgICBoZWlnaHQ6IDQwMCwKICAgICAgICAgIGZpbHRlcjogInN0YXJ0c3dpdGgiLAogICAgICAgICAgZGF0YVRleHRGaWVsZDogImNvZGUiLAogICAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICJ1b21Db252ZXJ0SWQiLAogICAgICAgICAgY2FzY2FkZUZyb206ICJpdGVtIiwKICAgICAgICAgIHRlbXBsYXRlOiAiPHNwYW4+Iz0gY29kZSB8fCBgTm8gUHJpY2UgTGV2ZWxgIzwvc3Bhbj4iLAogICAgICAgICAgb3B0aW9uTGFiZWw6ICItLS0gU2VsZWN0IC0tLSIsCiAgICAgICAgICBkYXRhU291cmNlOiBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHsKICAgICAgICAgICAgc2VydmVyRmlsdGVyaW5nOiB0cnVlLAogICAgICAgICAgICB0cmFuc3BvcnQ6IHsKICAgICAgICAgICAgICByZWFkOiB7CiAgICAgICAgICAgICAgICB1cmw6IHVvbVByaWNlSGFuZGxlci51b21QcmljZUJ5UHJpY2VMZXZlbFVSTCgKICAgICAgICAgICAgICAgICAgImlkPSIgKwogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubW9kZWwuaXRlbS5pZCArCiAgICAgICAgICAgICAgICAgICAgIiZwbElkPSIgKwogICAgICAgICAgICAgICAgICAgIHRoaXMucHJpY2VMZXZlbC5pZCArCiAgICAgICAgICAgICAgICAgICAgIiZkYXRlPSIgKwogICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25EYXRlICsKICAgICAgICAgICAgICAgICAgICAiJm5hdHVyZT1wdXJjaGFzZSIKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBkYXRhVHlwZTogImpzb24iLAogICAgICAgICAgICB9LAogICAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgICAgaWQ6ICJpZCIsCiAgICAgICAgICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgICAgICAgICAgaWQ6IHsgdHlwZTogInN0cmluZyIgfSwKICAgICAgICAgICAgICAgICAgLy8gbmFtZToge3R5cGU6ICJzdHJpbmcifSwKICAgICAgICAgICAgICAgICAgLy8gc2t1OiB7dHlwZTogInN0cmluZyJ9LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB0b3RhbDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICAvLyBkYXRhOiB0aGlzLnZhcmlhbnRzCiAgICAgICAgICB9KSwKICAgICAgICB9KTsKICAgIH0sCiAgICBVT01UZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICBjb25zdCB1b20gPSBkYXRhSXRlbS51b207CiAgICAgIGNvbnN0IGNvZGUgPSB1b20uY29kZSB8fCAiIjsKICAgICAgaWYgKHVvbSkgewogICAgICAgIHJldHVybiBgPHNwYW4+JHt1b20udW9tID8gY29kZSA6IGBgfTwvc3Bhbj5gOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBgYDsKICAgICAgfQogICAgfSwKICAgIGxvYWREYXRhKCkgewogICAgICBhcHBDb25uZWN0aW9uSGFuZGxlLmdldE1hdGNoKCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJyZXMgZGF0YSIsIHJlcyk7CiAgICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgICBsZXQgZmlsZXJMb2NhdGlvbiA9IHJlcy5kYXRhLml0ZW1MaW5lc0xvY2F0aW9uLmZpbHRlcigoaSkgPT4gewogICAgICAgICAgICBpLmlzQWRkTmV3ID0gZmFsc2U7CiAgICAgICAgICAgIHJldHVybiBpOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnByaWNlTGV2ZWwgPSByZXMuZGF0YS5wcmljZUxldmVsOwogICAgICAgICAgdGhpcy5tQ3VzdG9tZXJUeXBlID0gcmVzLmRhdGEubUN1c3RvbWVyVHlwZTsKICAgICAgICAgIC8vIHRoaXMubG9jYXRpb24gPSByZXMuZGF0YS5sb2NhdGlvbjsKICAgICAgICAgIHRoaXMuc2VnbWVudCA9IHJlcy5kYXRhLnNlZ21lbnQ7CiAgICAgICAgICB0aGlzLnNhbGVDaGFubmVsID0gcmVzLmRhdGEuc2FsZUNoYW5uZWw7CiAgICAgICAgICB0aGlzLnBheW1lbnRUZXJtID0gcmVzLmRhdGEucGF5bWVudFRlcm07CiAgICAgICAgICB0aGlzLml0ZW1MaW5lc0xvY2F0aW9uID0gZmlsZXJMb2NhdGlvbjsKICAgICAgICAgIHRoaXMuaXRlbUxpbmVzID0gcmVzLmRhdGEuaXRlbUxpbmVzOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2xlYXIoKSB7CiAgICAgIHRoaXMuaXRlbUxpbmUgPSBpdGVtTGluZU1vZGVsOwogICAgICB0aGlzLml0ZW1MaW5lTG9jYXRpb24gPSBJdGVtTGluZUxvY2F0aW9uTW9kZWw7CiAgICAgIHRoaXMucHJpY2VMZXZlbCA9IHt9OwogICAgICB0aGlzLm1DdXN0b21lclR5cGUgPSAiIjsKICAgICAgdGhpcy5zZWdtZW50ID0gbmV3IFNlZ21lbnRNb2RlbCgpOwogICAgICB0aGlzLnNhbGVDaGFubmVsID0gIiI7CiAgICAgIHRoaXMucGF5bWVudFRlcm0gPSB7fTsKICAgICAgdGhpcy5pdGVtTGluZXNMb2NhdGlvbiA9IFtdOwogICAgICB0aGlzLml0ZW1MaW5lcyA9IFtdOwogICAgfSwKICAgIGxhb2REZWZ1YWx0RGF0YSgpIHsKICAgICAgdGhpcy5nZXRGcmVlQ2F0ZWdvcnkoKTsKICAgICAgLy8gdGhpcy5sb2FkUHJpY2VMZXZlbCgpOwogICAgICB0aGlzLmxvYWRDdXN0b21lclR5cGUoKTsKICAgICAgdGhpcy5zZXREZWZhdWx0RGF0YSgpOwogICAgICB0aGlzLmxvYWRTYWxlQ2hhbm5lbCgpOwogICAgICB0aGlzLmxvYWRQYXltZW50VGVybSgpOwogICAgICB0aGlzLmxvYWRMb2NhdGlvbigpOwogICAgICB0aGlzLmxvYWREZXBhcnRtZW50KCk7CiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHJlYWxUeXBlKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUucXVlcnkudHlwZTsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgcmVhbFR5cGUoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS50eXBlID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmNsZWFyKCk7CiAgICAgICAgdGhpcy5sb2FkRGF0YSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubG9hZERhdGEoKTsKICAgICAgfQogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxhb2REZWZ1YWx0RGF0YSgpOwogICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGUgIT09IHVuZGVmaW5lZCkgewogICAgICAvLyB0aGlzLmxvYWREYXRhKCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmFkZFJvdzIoKTsKICAgICAgdGhpcy5hZGRSb3coKTsKICAgIH0KICAgIHRoaXMubG9hZERhdGEoKTsKICB9LAp9Owo="},{"version":3,"sources":["Settings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4OA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Settings.vue","sourceRoot":"src/views/customers/sales/sale_channels/app_connetion/app_connect","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n      <h1 class=\"primary--text niradie_heavy\">{{ $t(types) }}</h1>\n    </v-col>\n    <v-col cols=\"12\" class=\"mt-1\">\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n        <v-row style=\"background-color: #fff\">\n          <v-col sm=\"4\" cols=\"12\" class=\"pt-4 pb-0 px-4\">\n            <label>{{ $t(\"customer_type\") }}</label>\n            <v-select\n              :items=\"customerTypes\"\n              item-value=\"id\"\n              item-text=\"name\"\n              class=\"mt-1\"\n              v-model=\"mCustomerType\"\n              @change=\"changeCustomerTyep\"\n              return-object\n              :placeholder=\"$t('type')\"\n              :rules=\"[(v) => !!v || $t('is_required')]\"\n              clearable\n              outlined\n            />\n          </v-col>\n          <v-col sm=\"4\" cols=\"12\" class=\"pt-4 pb-0 px-4\">\n            <label>{{ $t(\"segment\") }}</label>\n            <app-segment-dropdownlist\n              :initSegment=\"segment\"\n              @emitSegment=\"segment = $event\"\n            />\n          </v-col>\n          <v-col sm=\"4\" cols=\"12\" class=\"pt-4 pb-0 px-4\">\n            <label class=\"label mb-0\">{{ $t(\"term\") }}</label>\n            <v-select\n              class=\"mt-1\"\n              v-model=\"paymentTerm\"\n              :items=\"paymentTerms\"\n              placeholder=\"Term\"\n              :rules=\"[(v) => !!v['id'] || $t('is required!')]\"\n              item-text=\"name\"\n              item-value=\"id\"\n              return-object\n              outlined\n            />\n          </v-col>\n          <v-col sm=\"4\" cols=\"12\" class=\"pt-0 pb-0 px-4\">\n            <label class=\"label font_14\">{{ $t(\"sale_channel\") }}</label>\n            <v-select\n              class=\"mt-1\"\n              v-model=\"saleChannel\"\n              :items=\"saleChannelList\"\n              item-value=\"id\"\n              item-text=\"name\"\n              return-object\n              :rules=\"[(v) => !!v || $t('is_required')]\"\n              tage=\"Sale Channel\"\n              placeholder=\"Channel\"\n              outlined\n            />\n          </v-col>\n          <!-- <v-col sm=\"4\" cols=\"12\" class=\"pt-0 pb-0 px-4\">\n\n                              </v-col> -->\n          <v-col sm=\"12\" cols=\"12\" class=\"pt-0 pb-0 px-4\">\n            <h2 class=\"font_18\">{{ $t(\"items\") }}</h2>\n            <kendo-datasource\n              ref=\"itemLineDSAppConnect\"\n              :data=\"itemLines\"\n              @change=\"dataSourceChangedApp\"\n            />\n            <kendo-grid\n              id=\"itemLineDSAppConnect\"\n              class=\"grid-function\"\n              :data-source-ref=\"'itemLineDSAppConnect'\"\n              :sortable=\"false\"\n              :column-menu=\"false\"\n              :editable=\"true\"\n              :scrollable-virtual=\"true\"\n            >\n              <kendo-grid-column\n                :command=\"{\n                  iconClass: 'k-icon k-i-trash',\n                  text: ' ',\n                  click: removeRow,\n                  className: 'btn-plus isEditable',\n                }\"\n                :title=\"''\"\n                :width=\"36\"\n                :headerAttributes=\"{\n                  style: 'text-align: left; background-color: #EDF1F5',\n                }\"\n              />\n              <kendo-grid-column\n                :title=\"$t('no.')\"\n                :width=\"40\"\n                :column-menu=\"false\"\n                :template=\"rowNumberTmpl\"\n                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5;',\n                  class: 'text-products',\n                }\"\n                :attributes=\"{ style: 'text-align: products' }\"\n              />\n\n              <kendo-grid-column\n                :field=\"'item'\"\n                :title=\"$t('banhji_item')\"\n                :template=\"itemTemplate\"\n                :editor=\"ItemDropDownEditor\"\n                :attributes=\"{ class: 'tb_name_td isEditable' }\"\n                :editable=\"isDisableUpdate\"\n                :width=\"200\"\n                :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n              />\n              <kendo-grid-column\n                :field=\"'uom'\"\n                :title=\"$t('uom')\"\n                :width=\"120\"\n                :template=\"UOMTemplate\"\n                :editor=\"UOMDropDownEditor\"\n                :headerAttributes=\"{\n                  style: 'text-align: left; background-color: #EDF1F5',\n                }\"\n                :attributes=\"{ style: 'text-align: left' }\"\n              />\n              <kendo-grid-column\n                :field=\"'itemPartner'\"\n                :title=\"$t('partner_item')\"\n                :template=\"itemTemplatePartner\"\n                :editor=\"ItemDropDownEditorConnector\"\n                :editable=\"isDisableUpdate\"\n                :attributes=\"{ class: 'tb_name_td isEditable' }\"\n                :width=\"200\"\n                :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n              />\n            </kendo-grid>\n            <v-btn color=\"primary\" class=\"btn_plus my-2 mr-2\" @click=\"addRow\">\n              <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n            </v-btn>\n            <div>\n              <h2 class=\"font_18 mt-3\">{{ $t(\"location\") }}</h2>\n            </div>\n            <kendo-datasource\n              ref=\"itemLineDSAppConnectLocation\"\n              :data=\"itemLinesLocation\"\n              @change=\"dataSourceChangedApp\"\n            />\n            <kendo-grid\n              id=\"itemLineDSAppConnectLocation\"\n              class=\"grid-function\"\n              :data-source-ref=\"'itemLineDSAppConnectLocation'\"\n              :sortable=\"false\"\n              :column-menu=\"false\"\n              :editable=\"true\"\n              :scrollable-virtual=\"true\"\n            >\n              <kendo-grid-column\n                :command=\"{\n                  iconClass: 'k-icon k-i-trash',\n                  text: ' ',\n                  click: removeRowLocation,\n                  className: 'btn-plus isEditable',\n                }\"\n                :title=\"''\"\n                :width=\"35\"\n                :headerAttributes=\"{\n                  style: 'text-align: left; background-color: #EDF1F5',\n                }\"\n              />\n              <kendo-grid-column\n                :title=\"$t('no.')\"\n                :width=\"40\"\n                :column-menu=\"false\"\n                :template=\"rowNumberTmplLocation\"\n                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5;',\n                  class: 'text-products',\n                }\"\n                :attributes=\"{ style: 'text-align: products' }\"\n              />\n\n              <kendo-grid-column\n                :field=\"'location'\"\n                :title=\"$t('banhji_business_unit')\"\n                :editable=\"isEditableLocation\"\n                :template=\"itemTemplateLocation\"\n                :editor=\"ItemDropDownEditorLocation\"\n                :attributes=\"{ class: 'tb_name_td isEditable' }\"\n                :width=\"200\"\n                :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n              />\n              <kendo-grid-column\n                :field=\"'locationPartner'\"\n                :title=\"$t('partner_business_unit')\"\n                :template=\"LocationTemplatePartner\"\n                :editor=\"ItemDropDownEditorDepartment\"\n                :editable=\"isEditableLocation\"\n                :attributes=\"{ class: 'tb_name_td isEditable' }\"\n                :width=\"200\"\n                :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n              />\n            </kendo-grid>\n            <v-btn\n              color=\"primary\"\n              class=\"float-left btn_plus my-2 mr-2\"\n              @click=\"addRow2\"\n            >\n              <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n            </v-btn>\n          </v-col>\n\n          <v-col sm=\"12\" cols=\"12\" class=\"pt-2\">\n            <v-btn\n              color=\"primary\"\n              class=\"float-right ml-0 mr-2\"\n              @click=\"saveClose\"\n            >\n              {{ $t(\"save_close\") }}\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-form>\n      <p class=\"text-center privacy mb-0 mt-10\">\n        <v-icon size=\"13\" class=\"third--text mr-2 black--text\">mdi-key</v-icon>\n        {{ $t(\"at_banhJi_the_privacy\") }}\n      </p>\n    </v-col>\n    <LoadingMe\n      :isLoading=\"showLoading\"\n      :fullPage=\"false\"\n      :myLoading=\"true\"\n      type=\"loading\"\n    />\n  </v-row>\n</template>\n<script>\nimport uomPriceHandler from \"@/scripts/uomPriceHandler\";\n\nconst appConnectionHandle = require(\"@/scripts/app-connection/handler/appConnectionHandle\");\n// const axios = require(\"axios\");\nconst productVariantHandler = require(\"@/scripts/productVariantHandler\");\nimport ItemLine from \"@/scripts/app-connection/model/ItemLine\";\nimport ItemLineLocation from \"@/scripts/app-connection/model/ItemLineLocation\";\n\nconst itemLineModel = new ItemLine({});\nconst ItemLineLocationModel = new ItemLineLocation({});\n// import {uuid} from \"vue-uuid\";\nimport kendo from \"@progress/kendo-ui\";\nimport { SegmentModel } from \"@/scripts/model/AppModels\";\n\n// const priceLevelHandler = require(\"@/scripts/priceLevelHandler\");\nconst customerTypeHandler = require(\"@/scripts/customerTypeHandler\");\nconst saleChannelHandler = require(\"@/scripts/saleChannelHandler\");\nconst paymentTermHandler = require(\"@/scripts/settingsHandler\");\nconst locationHandler = require(\"@/scripts/locationHandler\");\nimport { i18n } from \"@/i18n\";\n// import {mapState} from \"vuex\";\n\nconst $ = kendo.jQuery;\n\nexport default {\n  props: [\"authorize\", \"types\"],\n  data: () => ({\n    showLoading: false,\n    itemLine: itemLineModel,\n    itemLines: [],\n    itemLineLocation: ItemLineLocationModel,\n    itemLinesLocation: [],\n    priceLevel: {},\n    partnerItem: [],\n    customerTypes: [],\n    mCustomerType: \"\",\n    locations: [],\n    segment: new SegmentModel(),\n    saleChannel: \"\",\n    saleChannelList: [],\n    valid: true,\n    isSuccess: false,\n    paymentTerm: {},\n    paymentTerms: [],\n    departments: [],\n    transactionDate: new Date().toJSON(),\n    id: \"\",\n  }),\n  components: {\n    LoadingMe: () => import(`@/components/Loading`),\n    \"app-segment-dropdownlist\": () =>\n      import(\"@/components/dropdownlist/Segment\"),\n  },\n  methods: {\n    changeCustomerTyep() {\n      this.priceLevel = this.mCustomerType.priceLevel;\n    },\n    findDuplicates(values) {\n      var valueArr = values.map(function (item) {\n        return item.item.name;\n      });\n      var isDuplicate = valueArr.some(function (item, idx) {\n        return valueArr.indexOf(item) != idx;\n      });\n      return isDuplicate;\n    },\n    findDuplicatesParter(values) {\n      var valueArr = values.map(function (item) {\n        return item.itemPartner.name_en;\n      });\n      var isDuplicate = valueArr.some(function (item, idx) {\n        return valueArr.indexOf(item) != idx;\n      });\n      return isDuplicate;\n    },\n    findDuplicatesLocation(values) {\n      var valueArr = values.map(function (item) {\n        return item.location.name;\n      });\n      var isDuplicate = valueArr.some(function (item, idx) {\n        return valueArr.indexOf(item) != idx;\n      });\n      return isDuplicate;\n    },\n    findDuplicatesLocationPartner(values) {\n      var valueArr = values.map(function (item) {\n        return item.locationPartner.name_en;\n      });\n      var isDuplicate = valueArr.some(function (item, idx) {\n        return valueArr.indexOf(item) != idx;\n      });\n      return isDuplicate;\n    },\n    saveClose() {\n      if (!this.$refs.form.validate()) {\n        this.$refs.form.validate();\n        return;\n      }\n      let data = {};\n      let ds = this.$refs.itemLineDSAppConnect.kendoWidget();\n      let dsLocation = this.$refs.itemLineDSAppConnectLocation.kendoWidget();\n      let itemLines = [];\n      ds.data().forEach((i) => {\n        if (i.isAddNew) {\n          itemLines.push({\n            item: i.item || {},\n            uom: i.uom || {},\n            itemPartner: i.itemPartner || {},\n          });\n        }\n      });\n      data.itemLines = itemLines;\n      data.type = this.types;\n      data.authorize = this.authorize;\n      data.priceLevel = this.priceLevel;\n      data.mCustomerType = this.mCustomerType;\n      data.location = this.location;\n      data.segment = this.segment;\n      data.saleChannel = this.saleChannel;\n      data.paymentTerm = this.paymentTerm;\n      let locationItemLine = [];\n      dsLocation.data().forEach((i) => {\n        if (i.isAddNew) {\n          locationItemLine.push({\n            location: i.location,\n            locationPartner: i.locationPartner,\n          });\n        }\n      });\n\n      data.itemLinesLocation = locationItemLine;\n      let findDup = this.findDuplicates(itemLines);\n      let findDupPartern = this.findDuplicatesParter(itemLines);\n      let findDupLocation = this.findDuplicatesLocation(locationItemLine);\n      let findDupLocationPartner =\n        this.findDuplicatesLocationPartner(locationItemLine);\n      if (\n        findDup ||\n        findDupPartern ||\n        findDupLocation ||\n        findDupLocationPartner\n      ) {\n        this.$swal({\n          title: i18n.t(\"failed\"),\n          text: i18n.t(\"duplicates_item\"),\n          icon: \"warning\",\n          showCancelButton: false,\n          confirmButtonColor: \"#4d4848\",\n          cancelButtonColor: \"#ED1A3A\",\n          confirmButtonText: i18n.t(\"ok\"),\n        });\n        return;\n      }\n      window.console.log(\"data\",data);\n      appConnectionHandle.add(data).then((res) => {\n        if (res.msg === \"successful\") {\n          this.$swal({\n            title: i18n.t(\"successful\"),\n            text: i18n.t(\"data_record\"),\n            icon: \"success\",\n            showCancelButton: true,\n            confirmButtonColor: \"#4d4848\",\n            cancelButtonColor: \"#ED1A3A\",\n            confirmButtonText: i18n.t(\"ok\"),\n          }).then((result) => {\n            if (result.value) {\n              this.$router.go(-1);\n            }\n          });\n          this.$emit(\"finish\");\n        } else {\n          this.$swal({\n            title: i18n.t(\"failed\"),\n            text: i18n.t(\"sth_went_wrong_check_your\"),\n            icon: \"warning\",\n            showCancelButton: false,\n            confirmButtonColor: \"#4d4848\",\n            cancelButtonColor: \"#ED1A3A\",\n            confirmButtonText: i18n.t(\"ok\"),\n          });\n          this.isSuccess = false;\n        }\n      });\n    },\n    async dataSourceChangedApp() {},\n    rowNumberTmpl(dataItem) {\n      let ds = this.$refs.itemLineDSAppConnect.kendoWidget(),\n        index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    rowNumberTmplLocation(dataItem) {\n      let ds = this.$refs.itemLineDSAppConnectLocation.kendoWidget(),\n        index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    addRow() {\n      let ds = this.$refs.itemLineDSAppConnect.kendoWidget();\n      let total = ds.total();\n      this.itemLine.isAddNew = true;\n      if (total < 36) {\n        ds.insert(total, this.itemLine);\n      }\n    },\n    addRow2() {\n      let dsL = this.$refs.itemLineDSAppConnectLocation.kendoWidget();\n      let totaldsL = dsL.total();\n      this.itemLineLocation.isAddNew = true;\n      if (totaldsL < 36) {\n        dsL.insert(totaldsL, this.itemLineLocation);\n      }\n    },\n    removeRow(e) {\n      e.preventDefault();\n      const grid = kendo.jQuery(\"#itemLineDSAppConnect\").data(\"kendoGrid\");\n      const dataSource = grid.dataSource;\n      const dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n      if (!dataItem.isAddNew) {\n        this.$swal({\n          title: i18n.t(\"warning\"),\n          text: i18n.t(\"do_you_delete\"),\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonColor: \"#4d4848\",\n          cancelButtonColor: \"#ED1A3A\",\n          confirmButtonText: i18n.t(\"ok\"),\n        }).then((result) => {\n          if (result.value) {\n            let data_delete = {\n              id: dataItem.itemPartner.id,\n            };\n            appConnectionHandle.deletItem(data_delete).then((res) => {\n              if (res.status === 200) {\n                this.$snotify.success(i18n.t(\"successful\"));\n              } else {\n                this.$snotify.error(i18n.t(\"error_something_wrong\"));\n              }\n            });\n            dataSource.remove(dataItem);\n          }\n        });\n      } else {\n        if (dataSource.total() > 1) {\n          dataSource.remove(dataItem);\n        }\n      }\n    },\n    removeRowLocation(e) {\n      e.preventDefault();\n      const grid = kendo\n        .jQuery(\"#itemLineDSAppConnectLocation\")\n        .data(\"kendoGrid\");\n      let dataSource = grid.dataSource;\n      let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n      window.console.log(dataItem);\n      if (!dataItem.isAddNew) {\n        this.$swal({\n          title: i18n.t(\"warning\"),\n          text: i18n.t(\"do_you_delete\"),\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonColor: \"#4d4848\",\n          cancelButtonColor: \"#ED1A3A\",\n          confirmButtonText: i18n.t(\"ok\"),\n        }).then((result) => {\n          if (result.value) {\n            let data_delete = {\n              id: dataItem.locationPartner.id,\n            };\n            appConnectionHandle.deletLocation(data_delete).then((res) => {\n              if (res.status === 200) {\n                this.$snotify.success(i18n.t(\"successful\"));\n              } else {\n                this.$snotify.error(i18n.t(\"error_something_wrong\"));\n              }\n            });\n            dataSource.remove(dataItem);\n          }\n        });\n      } else {\n        if (dataSource.total() > 1) {\n          dataSource.remove(dataItem);\n        }\n      }\n    },\n    itemTemplate(dataItem) {\n      const item = dataItem.item;\n      if (item) {\n        return `<span>${item.name ? item.name : ``}</span>`;\n      } else {\n        return ``;\n      }\n    },\n    isDisableUpdate(dataItem) {\n      if (dataItem.isAddNew) {\n        return true;\n      }\n      return false;\n    },\n    isEditableLocation(dataItem) {\n      if (dataItem.isAddNew) {\n        return true;\n      }\n      return false;\n    },\n    itemTemplateLocation(dataItem) {\n      const item = dataItem.location;\n      if (item) {\n        return `<span>${item.name ? item.name : ``}</span>`;\n      } else {\n        return ``;\n      }\n    },\n    itemTemplatePartner(dataItem) {\n      const item = dataItem.itemPartner;\n      if (item) {\n        return `<span>${item.name_en ? item.name_en : ``}</span>`;\n      } else {\n        return ``;\n      }\n    },\n    LocationTemplatePartner(dataItem) {\n      const item = dataItem.locationPartner;\n      if (item) {\n        return `<span>${\n          item.name_en ? item.name + \"-\" + item.name_en : ``\n        }</span>`;\n      } else {\n        return ``;\n      }\n    },\n    async loadPaymentTerm() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          const strFilter = \"?type=pmt-customer\";\n          paymentTermHandler.getPaymentTerm(strFilter).then((res) => {\n            if (res.data.statusCode === 200) {\n              this.paymentTerms = res.data.data;\n            }\n          });\n        }, 10);\n      });\n    },\n    async loadCustomerType() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          customerTypeHandler.get().then((res) => {\n            this.customerTypes = res;\n          });\n        }, 100);\n      });\n    },\n    ItemDropDownEditor(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: true,\n          autoWidth: true,\n          height: 400,\n          filter: \"contains\",\n          dataTextField: \"name\",\n          dataValueField: \"id\",\n          headerTemplate:\n            '<div class=\"dropdown-header k-widget k-header\">' +\n            \"<span>Items </span>\" +\n            \"<span></span>\" +\n            \"</div>\",\n          template: \"<span>#=name#</span>\",\n          optionLabel: \"--- Select ---\",\n          dataSource: new kendo.data.DataSource({\n            serverFiltering: true,\n            transport: {\n              read: {\n                url: productVariantHandler.itemSearchURL(\n                  \"?plId=\" + this.priceLevel.id\n                ),\n              },\n              dataType: \"json\",\n            },\n            schema: {\n              model: {\n                id: \"id\",\n                fields: {\n                  id: { type: \"string\" },\n                  name: { type: \"string\" },\n                  sku: { type: \"string\" },\n                },\n              },\n              data: function (response) {\n                return response.data;\n              },\n              total: function (response) {\n                return response.data.count;\n              },\n            },\n            // data: this.variants\n          }),\n        });\n    },\n    ItemDropDownEditorConnector(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: false,\n          autoWidth: true,\n          height: 300,\n          filter: \"contains\",\n          dataTextField: \"name_en\",\n          dataValueField: \"id\",\n          optionLabel: \"--- Select ---\",\n          dataSource: this.partnerItem,\n        });\n    },\n    ItemDropDownEditorDepartment(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: false,\n          autoWidth: true,\n          height: 300,\n          filter: \"contains\",\n          dataTextField: \"name_en\",\n          template: \"<span>#= name#-#= name_en#</span>\",\n          dataValueField: \"id\",\n          optionLabel: \"--- Select ---\",\n          dataSource: this.departments,\n        });\n    },\n    ItemDropDownEditorLocation(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: false,\n          autoWidth: true,\n          height: 300,\n          filter: \"contains\",\n          dataTextField: \"name\",\n          dataValueField: \"id\",\n          optionLabel: \"--- Select ---\",\n          dataSource: this.locations,\n        });\n    },\n    async loadLocation() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          this.locations = [];\n          locationHandler\n            .list()\n            .then((res) => {\n              if (res.data.statusCode === 200) {\n                this.locations = res.data.data;\n              }\n            })\n            .catch();\n        }, 300);\n      });\n    },\n    async loadDepartment() {\n      appConnectionHandle.getDepartment().then((res) => {\n        let department = [];\n        if (res.length > 0) {\n          res.map((i) => {\n            // return {\n            //     id: i.id || '',\n            //     code: i.code || '',\n            //     name: i.name || '',\n            //     name_en: i.name_en || ''\n            // }\n            i.department_structure.map((dp) => {\n              department.push(dp);\n            });\n          });\n          this.departments = department;\n        }\n      });\n    },\n    async getFreeCategory() {\n      appConnectionHandle.get().then((res) => {\n        this.partnerItem = res;\n      });\n    },\n    async setDefaultData() {\n      // Brand New Mode\n      let segments = await this.$store.dispatch(\"segments/getList\");\n      this.segment = new SegmentModel(segments.find((i) => i.isSystem === 1));\n    },\n    async loadSaleChannel() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          saleChannelHandler.get().then((res) => {\n            if (res.data.statusCode === 200) {\n              this.saleChannelList = res.data.data;\n            }\n          });\n        }, 10);\n      });\n    },\n    UOMDropDownEditor(container, options) {\n      kendo\n        .jQuery('<input name=\"' + options.field + '\"/>')\n        .appendTo(container)\n        .kendoDropDownList({\n          autoBind: true,\n          autoWidth: true,\n          height: 400,\n          filter: \"startswith\",\n          dataTextField: \"code\",\n          dataValueField: \"uomConvertId\",\n          cascadeFrom: \"item\",\n          template: \"<span>#= code || `No Price Level`#</span>\",\n          optionLabel: \"--- Select ---\",\n          dataSource: new kendo.data.DataSource({\n            serverFiltering: true,\n            transport: {\n              read: {\n                url: uomPriceHandler.uomPriceByPriceLevelURL(\n                  \"id=\" +\n                    options.model.item.id +\n                    \"&plId=\" +\n                    this.priceLevel.id +\n                    \"&date=\" +\n                    this.transactionDate +\n                    \"&nature=purchase\"\n                ),\n              },\n              dataType: \"json\",\n            },\n            schema: {\n              model: {\n                id: \"id\",\n                fields: {\n                  id: { type: \"string\" },\n                  // name: {type: \"string\"},\n                  // sku: {type: \"string\"},\n                },\n              },\n              data: function (response) {\n                return response.data;\n              },\n              total: function (response) {\n                return response.data.count;\n              },\n            },\n            // data: this.variants\n          }),\n        });\n    },\n    UOMTemplate(dataItem) {\n      const uom = dataItem.uom;\n      const code = uom.code || \"\";\n      if (uom) {\n        return `<span>${uom.uom ? code : ``}</span>`;\n      } else {\n        return ``;\n      }\n    },\n    loadData() {\n      appConnectionHandle.getMatch().then((res) => {\n        window.console.log(\"res data\", res);\n        if (res.data) {\n          let filerLocation = res.data.itemLinesLocation.filter((i) => {\n            i.isAddNew = false;\n            return i;\n          });\n          this.priceLevel = res.data.priceLevel;\n          this.mCustomerType = res.data.mCustomerType;\n          // this.location = res.data.location;\n          this.segment = res.data.segment;\n          this.saleChannel = res.data.saleChannel;\n          this.paymentTerm = res.data.paymentTerm;\n          this.itemLinesLocation = filerLocation;\n          this.itemLines = res.data.itemLines;\n        }\n      });\n    },\n    clear() {\n      this.itemLine = itemLineModel;\n      this.itemLineLocation = ItemLineLocationModel;\n      this.priceLevel = {};\n      this.mCustomerType = \"\";\n      this.segment = new SegmentModel();\n      this.saleChannel = \"\";\n      this.paymentTerm = {};\n      this.itemLinesLocation = [];\n      this.itemLines = [];\n    },\n    laodDefualtData() {\n      this.getFreeCategory();\n      // this.loadPriceLevel();\n      this.loadCustomerType();\n      this.setDefaultData();\n      this.loadSaleChannel();\n      this.loadPaymentTerm();\n      this.loadLocation();\n      this.loadDepartment();\n    },\n  },\n  computed: {\n    realType() {\n      return this.$route.query.type;\n    },\n  },\n  watch: {\n    realType() {\n      if (this.$route.query.type === undefined) {\n        this.clear();\n        this.loadData();\n      } else {\n        this.loadData();\n      }\n    },\n  },\n  mounted() {\n    this.laodDefualtData();\n    if (this.$route.query.type !== undefined) {\n      // this.loadData();\n    } else {\n      this.addRow2();\n      this.addRow();\n    }\n    this.loadData();\n  },\n};\n</script>\n<style scoped>\n.grayBg {\n  background-color: #f8f8f9;\n}\n\n.my_table_darkv\n  .theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > thead\n  > tr\n  > th {\n  color: rgba(0, 0, 0, 0.6);\n  background: #222a35;\n  color: #fff !important;\n}\n\n.privacy {\n  position: absolute;\n  bottom: 20px;\n  left: 7%;\n  width: 100%;\n}\n\n.v-slide-group__wrapper {\n  border-bottom: 1px solid rgb(182, 181, 181) !important;\n}\n\n.theme--light.v-tabs > .v-tabs-bar {\n  border-bottom: 1px solid #ddd !important;\n}\n\n.v-tab--active {\n  background-color: #e5effa;\n  color: #000;\n}\n\n.theme--light.v-tabs >>> .v-tabs-bar {\n  border-bottom: 1px solid #ddd !important;\n}\n</style>\n\n\n\n\n\n"]}]}