{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/customers/sales/sale_unit_items/Reports.vue?vue&type=style&index=0&id=24a48866&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/customers/sales/sale_unit_items/Reports.vue","mtime":1638499443225},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5rLWNoYXJ0IHsKICAgIGhlaWdodDogMTgwcHg7Cn0KCi50aGVtZS0tbGlnaHQudi1kYXRhLXRhYmxlIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7Cn0KCi52LWRhdGEtdGFibGUgPiAudi1kYXRhLXRhYmxlX193cmFwcGVyID4gdGFibGUgPiB0Ym9keSA+IHRyID4gdGQgewogICAgaGVpZ2h0OiAzMnB4ICFpbXBvcnRhbnQ7CiAgICBib3JkZXItYm90dG9tOiB0aGluIHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMikgIWltcG9ydGFudDsKfQoKLnYtZGF0YS10YWJsZSA+IC52LWRhdGEtdGFibGVfX3dyYXBwZXIgPiB0YWJsZSA+IHRib2R5ID4gdHI6Zmlyc3QtY2hpbGQgPiB0ZCB7CiAgICBib3JkZXItdG9wOiB0aGluIHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMikgIWltcG9ydGFudDsKfQoKLnRoZW1lLS1saWdodC52LWRhdGEtdGFibGUgPiAudi1kYXRhLXRhYmxlX193cmFwcGVyID4gdGFibGUgPiB0Ym9keSA+IHRyOmhvdmVyOm5vdCgudi1kYXRhLXRhYmxlX19leHBhbmRlZF9fY29udGVudCk6bm90KC52LWRhdGEtdGFibGVfX2VtcHR5LXdyYXBwZXIpIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7Cn0K"},{"version":3,"sources":["Reports.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwLA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"Reports.vue","sourceRoot":"src/views/customers/sales/sale_unit_items","sourcesContent":["<template>\n    <v-row>\n        <v-col sm=\"12\" cols=\"12\" class=\"grayBg px-6\">\n            <v-card color=\"white\" class=\"pa-3 no_border\" elevation=\"0\">\n                <v-row>\n                    <v-col sm=\"9\" cols=\"12\" class=\"py-0\">\n                        <app-searchdate :initStartDate=\"startDate\" @emitStartDate=\"startDate = $event\"\n                                        :initEndDate=\"endDate\" @emitEndDate=\"endDate = $event\"/>\n                    </v-col>\n\n                    <v-col sm=\"1\" cols=\"12\" class=\"py-0 mt-1\">\n                        <v-btn class=\"btn_search\" style=\"background-color: rgb(237, 241, 245)\"\n                               @click=\"searchTransaction\">\n                            <i class=\"b-search\" style=\"font-size: 18px; color:#fff !important;\"/>\n                        </v-btn>\n                    </v-col>\n                    <!-- <v-col sm=\"2\" cols=\"12\" class=\"py-0 text-right\">\n                        <v-btn icon color=\"black\" class=\"bg-none float-right \">\n                            <v-icon class=\"font_34\">fa fa-file-excel</v-icon>\n                        </v-btn>\n\n                        <v-btn icon color=\"black\" class=\"bg-none float-right ml-2\">\n                            <v-icon class=\"font_34\">fa fa-print</v-icon>\n                        </v-btn>\n                    </v-col> -->\n                </v-row>\n                <v-row>\n                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                        <template>\n                            <LoadingMe\n                                :isLoading=\"showLoading\"\n                                :fullPage=\"false\"\n                                type=\"loading\"\n                                :myLoading=\"true\"/>\n                            <template>\n                                <kendo-datasource ref=\"saleUnitItemReportDS\"\n                                                  :group=\"group\"\n                                                  :data=\"transactions\"/>\n                                <kendo-grid id=\"gridSaleUnitItemReport\" class=\"grid-function\"\n                                            :data-source-ref=\"'saleUnitItemReportDS'\"\n                                            :editable=\"false\"\n                                            :groupable=\"true\"\n                                            :toolbar=\"toolbarTemplate\"\n                                            :excel-export=\"excelExport\"\n                                            :excel-file-name=\"'SaleUnitItemReport.xlsx'\"\n                                            :excel-filterable=\"true\"\n                                            :scrollable-virtual=\"true\">\n                                    <kendo-grid-column\n                                        :field=\"'name'\"\n                                        :title=\"$t('name')\"\n                                        :attributes=\"{class:'tb_name_td'}\"\n                                        :width=\"150\"\n                                        :template=\"'<span>#=name#</span>'\"\n                                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                    <kendo-grid-column\n                                        :field=\"'item.name'\"\n                                        :title=\"$t('item')\"\n                                        :width=\"150\"\n                                        :template=\"'<span>#=item.name || ``#</span>'\"\n                                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                    <kendo-grid-column\n                                        :field=\"'transactionDate'\"\n                                        :title=\"$t('transaction_date')\"\n                                        :width=\"180\"\n                                        :template=\"'<span>#=kendo.toString(new Date(transactionDate), dateFormat)#</span>'\"\n                                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                    <kendo-grid-column\n                                        :field=\"'exchangeAmount'\"\n                                        :title=\"$t('amount')\"\n                                        :width=\"180\"\n                                        :template=\"'<span>#= kendo.toString(exchangeAmount, decimalFormat)#</span>'\"\n                                        :attributes=\"{style: 'text-align: right'}\"\n                                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n\n                                    <kendo-grid-column\n                                        :field=\"'exchangeDiscount'\"\n                                        :title=\"$t('discount')\"\n                                        :width=\"180\"\n                                        :template=\"'<span>#= kendo.toString(exchangeDiscount, decimalFormat)#</span>'\"\n                                        :attributes=\"{style: 'text-align: right'}\"\n                                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                    <kendo-grid-column\n                                        :field=\"'transactionType.name'\"\n                                        :title=\"$t('type')\"\n                                        :template=\"'<span>#= transactionType.name #</span>'\"\n                                        :width=\"180\"\n                                        :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n                                </kendo-grid>\n                            </template>\n                        </template>\n                    </v-col>\n                </v-row>\n            </v-card>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\nimport SearchDateComponent from '@/components/custom_templates/SearchDate'\nimport kendo from \"@progress/kendo-ui\";\n\nconst $ = kendo.jQuery\nconst discountItemHandler = require(\"@/scripts/discountItemHandler\")\nimport JSZip from \"jszip\";\nwindow.JSZip = JSZip;\nexport default {\n    data: () => ({\n        startDate: new Date().toISOString().substr(0, 10),\n        endDate: new Date().toISOString().substr(0, 10),\n        dateSorters: [\"Today\", \"This Week\", \"This Month\", \"This Year\"],\n        transactions: [],\n        showLoading: false,\n        mDateSorter: 'Today',\n        group: {field: 'name'},\n    }),\n    components: {\n        'app-searchdate': SearchDateComponent,\n        LoadingMe: () => import(`@/components/Loading`),\n    },\n    methods: {\n        async searchTransaction() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    this.showLoading = true\n                    const startDate = this.startDate\n                    const endDate = this.endDate\n                    let strFilter = '?start=&end=&type=Sale'\n                    if (startDate !== '' && endDate !== '') {\n                        strFilter = '?start=' + startDate + '&end=' + endDate\n                    }\n                    discountItemHandler.saleUnitReport(strFilter).then(res => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false\n                            this.transactions = JSON.parse(JSON.stringify(res.data.data))\n                        }\n                    })\n                }, 10);\n            })\n        },\n\n        toolbarTemplate: function () {\n            const templateHtml =\n                '<span>' +\n                '<a class=\"k-pager-excel k-link k-button excel\" title=\"Export to Excel\"> <span class=\"k-icon k-i-excel\"></span>Export to excel </a>' +\n                '</span><span>&nbsp;&nbsp;</span>' +\n                '<span style=\"position:absolute; right:5px\">' +\n                '</span>'\n\n            return kendo.template(templateHtml)\n        },\n        exportToExcel() {\n            window.console.log('1')\n            const grid = $(\"#gridSaleUnitItemReport\").data(\"kendoGrid\")\n            grid.saveAsExcel()\n        },\n        excelExport: function (e) {\n            // const pivot = this.$refs.gridTransactionDS.kendoWidget()\n            // pivot.saveAsExcel()\n            window.console.log(e.data);\n        },\n        initToolbar(that) {\n            let grid = $(\"#gridSaleUnitItemReport\").data(\"kendoGrid\");\n            let gridElement = grid.element;\n            let toolbarElement = gridElement.find(\".k-grid-toolbar\");\n            toolbarElement.on(\"click\", \".k-pager-excel\", function (e) {\n                e.preventDefault();\n                onExportExcel(that);\n            });\n\n            function onExportExcel(that) {\n                that.exportToExcel();\n            }\n        },\n\n\n    },\n    computed: {},\n    mounted: async function () {\n        await this.initToolbar(this)\n    }\n};\n</script>\n<style scoped>\n.k-chart {\n    height: 180px;\n}\n\n.theme--light.v-data-table {\n    background-color: transparent !important;\n}\n\n.v-data-table > .v-data-table__wrapper > table > tbody > tr > td {\n    height: 32px !important;\n    border-bottom: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n\n.v-data-table > .v-data-table__wrapper > table > tbody > tr:first-child > td {\n    border-top: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n\n.theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n</style>\n"]}]}