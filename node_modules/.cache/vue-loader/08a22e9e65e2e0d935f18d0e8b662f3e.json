{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/product/product_variants/variants/Uom.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/product/product_variants/variants/Uom.vue","mtime":1638499443279},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBVT01Db252ZXJzaW9uIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9VT01Db252ZXJzaW9uIjsKaW1wb3J0IGtlbmRvIGZyb20gIkBwcm9ncmVzcy9rZW5kby11aSI7Cgpjb25zdCB1b21IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3VvbUhhbmRsZXIiKTsKY29uc3QgdW9tQ29udmVyc2lvbkhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvdW9tQ29udmVyc2lvbkhhbmRsZXIiKTsKY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpOwoKbGV0IHVvbUNvbnZlcnNpb25Nb2RlbCA9IG5ldyBVT01Db252ZXJzaW9uKHt9KTsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmdNZTogKCkgPT4gaW1wb3J0KGBAL2NvbXBvbmVudHMvTG9hZGluZ2ApLAogIH0sCiAgcHJvcHM6IHsKICAgIHByb2R1Y3Q6IHt9LAogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIGRpYWxvZ20yOiBmYWxzZSwKICAgIHZhbGlkOiB0cnVlLAogICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgdW9tOiBbXSwKICAgIHVvbXM6IFtdLAogICAgbVVPTToge30sCiAgICBjb252ZXJzaW9uTGlzdDogW10sCiAgICBncmlkU2NoZW1hOiB7CiAgICAgIG1vZGVsOiB7CiAgICAgICAgaWQ6ICJpZCIsCiAgICAgIH0sCiAgICB9LAogICAgdW9tQ29udmVyc2lvbjogdW9tQ29udmVyc2lvbk1vZGVsLAogIH0pLAogIG1ldGhvZHM6IHsKICAgIGRhdGFCb3VuZDogZnVuY3Rpb24oZSkgewogICAgICBjb25zdCBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZFVPTSIpLmRhdGEoImtlbmRvR3JpZCIpOwogICAgICBjb25zdCBpdGVtcyA9IGUuc2VuZGVyLml0ZW1zKCk7CiAgICAgIGl0ZW1zLmVhY2goZnVuY3Rpb24oKSB7CiAgICAgICAgbGV0IGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSh0aGlzKTsKICAgICAgICAkKCJ0cltkYXRhLXVpZD0nIiArIGRhdGFJdGVtLnVpZCArICInXSIpCiAgICAgICAgICAuZmluZCgiLmlzU3lzdGVtIikKICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoZGF0YUl0ZW0uaXNTeXN0ZW0gPT09IDApIHsKICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCJrLXN0YXRlLWRpc2FibGVkIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBjbG9zZSgpIHsKICAgICAgLy8gd2luZG93Lmhpc3RvcnkuZ28oLTEpCiAgICAgIHRoaXMuZGlhbG9nbTIgPSBmYWxzZTsKICAgIH0sCiAgICBuZXdDbGljaygpIHsKICAgICAgaWYgKHRoaXMucHJvZHVjdCkgewogICAgICAgIGNvbnN0IHVvbSA9IHRoaXMucHJvZHVjdC51b207CiAgICAgICAgbGV0IHVDYXRlZ29yeSA9IHt9OwogICAgICAgIGlmICh1b20uaGFzT3duUHJvcGVydHkoImNhdGVnb3J5IikpIHsKICAgICAgICAgIHVDYXRlZ29yeSA9IHVvbS5jYXRlZ29yeTsKICAgICAgICB9IGVsc2UgaWYgKHVvbS5oYXNPd25Qcm9wZXJ0eSgidG9VT00iKSkgewogICAgICAgICAgdUNhdGVnb3J5ID0gdW9tLnRvVU9NLmNhdGVnb3J5OwogICAgICAgIH0KICAgICAgICB0aGlzLnVvbSA9IHRoaXMudW9tcy5maWx0ZXIoKGl0ZW0pID0+IHsKICAgICAgICAgIHJldHVybiBpdGVtLmNhdGVnb3J5LmlkID09PSB1Q2F0ZWdvcnkuaWQ7CiAgICAgICAgfSk7CiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJ1Q2F0ZWdvcnkiLCB0aGlzLnVvbSk7CiAgICAgICAgdGhpcy51b21Db252ZXJzaW9uID0ge307CiAgICAgICAgdGhpcy5tVU9NID0ge307CiAgICAgIH0KICAgIH0sCiAgICBvblVPTUNoYW5nZWQoKSB7CiAgICAgIC8vIGxldCByYXRlID0gdGhpcy51b21Db252ZXJzaW9uLnJhdGUKICAgICAgaWYgKHRoaXMubVVPTS5pZCA9PT0gdGhpcy5iYXNlVU9NLmlkKSB7CiAgICAgICAgdGhpcy51b21Db252ZXJzaW9uLnJhdGUgPSAxOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgbG9hZFVPTSgpIHsKICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICBpZiAodGhpcy5wcm9kdWN0KSB7CiAgICAgICAgICAgIGlmICh0aGlzLnByb2R1Y3QuaGFzT3duUHJvcGVydHkoInVvbSIpKSB7CiAgICAgICAgICAgICAgdW9tSGFuZGxlci5nZXQoKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMudW9tcyA9IHJlczsKICAgICAgICAgICAgICAgIGNvbnN0IHVvbSA9IHRoaXMucHJvZHVjdC51b207CiAgICAgICAgICAgICAgICBsZXQgdUNhdGVnb3J5ID0ge307CiAgICAgICAgICAgICAgICBpZiAodW9tLmhhc093blByb3BlcnR5KCJjYXRlZ29yeSIpKSB7CiAgICAgICAgICAgICAgICAgIHVDYXRlZ29yeSA9IHVvbS5jYXRlZ29yeTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodW9tLmhhc093blByb3BlcnR5KCJ0b1VPTSIpKSB7CiAgICAgICAgICAgICAgICAgIHVDYXRlZ29yeSA9IHVvbS50b1VPTS5jYXRlZ29yeTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh1b20sICJ1Q2F0ZWdvcnkiLCB1Q2F0ZWdvcnkpOwogICAgICAgICAgICAgICAgdGhpcy51b20gPSB0aGlzLnVvbXMuZmlsdGVyKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmNhdGVnb3J5LmlkID09PSB1Q2F0ZWdvcnkuaWQ7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIC8vIHRoaXMudW9tID0gdGhpcy51b21zLmZpbHRlcihpdGVtID0+IHsKICAgICAgICAgICAgICAgIC8vICAgcmV0dXJuIGl0ZW0uY2F0ZWdvcnkuaWQgPT09IHRoaXMucHJvZHVjdC51b20uY2F0ZWdvcnkuaWQKICAgICAgICAgICAgICAgIC8vIH0pCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCA1MCk7CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGxvYWRVT01Db252ZXJzaW9uKCkgewogICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgIGlmICh0aGlzLnByb2R1Y3QpIHsKICAgICAgICAgICAgaWYgKHRoaXMudW9tcykgewogICAgICAgICAgICAgIGlmICh0aGlzLnByb2R1Y3QuaGFzT3duUHJvcGVydHkoInVvbSIpKSB7CiAgICAgICAgICAgICAgICBjb25zdCB1b20gPSB0aGlzLnByb2R1Y3QudW9tOwogICAgICAgICAgICAgICAgbGV0IHVDYXRlZ29yeSA9IHt9OwogICAgICAgICAgICAgICAgaWYgKHVvbS5oYXNPd25Qcm9wZXJ0eSgiY2F0ZWdvcnkiKSkgewogICAgICAgICAgICAgICAgICB1Q2F0ZWdvcnkgPSB1b20uY2F0ZWdvcnk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVvbS5oYXNPd25Qcm9wZXJ0eSgidG9VT00iKSkgewogICAgICAgICAgICAgICAgICB1Q2F0ZWdvcnkgPSB1b20udG9VT00uY2F0ZWdvcnk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLnVvbSA9IHRoaXMudW9tcy5maWx0ZXIoKGl0ZW0pID0+IHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uY2F0ZWdvcnkuaWQgPT09IHVDYXRlZ29yeS5pZDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICB1b21Db252ZXJzaW9uSGFuZGxlci5nZXQodGhpcy52YXJpYW50SWQpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuY29udmVyc2lvbkxpc3QgPSByZXM7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCA1MCk7CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGdvRWRpdChlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgbGV0IGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkVU9NIikuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgIGxldCBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwogICAgICB0aGlzLnVvbUNvbnZlcnNpb24gPSBkYXRhSXRlbTsKICAgICAgdGhpcy5tVU9NID0gZGF0YUl0ZW0udG9VT007CiAgICAgIHRoaXMuZGlhbG9nbTIgPSB0cnVlOwogICAgICB3aW5kb3cuY29uc29sZS5sb2coZGF0YUl0ZW0sICJ2YWwiKTsKICAgIH0sCiAgICBhc3luYyBvblNhdmVDbG9zZSgpIHsKICAgICAgaWYgKCF0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgIGNvbnN0IGJVT00gPSB0aGlzLmJhc2VVT007CiAgICAgICAgICBjb25zdCBiVU9NXyA9IHsKICAgICAgICAgICAgaWQ6IGJVT00uaWQsCiAgICAgICAgICAgIGNhdGVnb3J5OiBiVU9NLmNhdGVnb3J5LAogICAgICAgICAgICBuYW1lOiBiVU9NLm5hbWUsCiAgICAgICAgICB9OwogICAgICAgICAgY29uc3QgbVVPTSA9IHsKICAgICAgICAgICAgaWQ6IHRoaXMubVVPTS5pZCwKICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMubVVPTS5jYXRlZ29yeSwKICAgICAgICAgICAgbmFtZTogdGhpcy5tVU9NLm5hbWUsCiAgICAgICAgICB9OwogICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgIGlkOiB0aGlzLnVvbUNvbnZlcnNpb24uaWQsCiAgICAgICAgICAgIHZhcmlhbnRJZDogdGhpcy52YXJpYW50SWQsCiAgICAgICAgICAgIGZyb21VT006IGJVT01fLAogICAgICAgICAgICB0b1VPTTogbVVPTSwKICAgICAgICAgICAgcmF0ZTogdGhpcy51b21Db252ZXJzaW9uLnJhdGUsCiAgICAgICAgICAgIHNraXA6IHRoaXMuY29udmVyc2lvbkxpc3QubGVuZ3RoID4gMCwKICAgICAgICAgIH07CiAgICAgICAgICB1b21Db252ZXJzaW9uSGFuZGxlcgogICAgICAgICAgICAuY3JlYXRlKHRoaXMudmFyaWFudElkLCBkYXRhKQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAyMDEpIHsKICAgICAgICAgICAgICAgIGxldCByZXMgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuY29udmVyc2lvbkxpc3QuZmluZEluZGV4KChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuaWQgPT09IGl0ZW0uaWQ7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IDApIHsKICAgICAgICAgICAgICAgICAgdGhpcy5jb252ZXJzaW9uTGlzdC5wdXNoKHJlcyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB0aGlzLmNvbnZlcnNpb25MaXN0LnNwbGljZShpbmRleCwgMSwgcmVzKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyB0aGlzLmNvbnZlcnNpb25MaXN0LnB1c2gocmVzcG9uc2UuZGF0YS5kYXRhKQogICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5zdWNjZXNzKCJTdWNjZXNzIik7CiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5LmVycm9yKCJTb21ldGhpbmcgd2VudCB3cm9uZyIpOwogICAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sIDUwKTsKICAgICAgfSk7CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIHByb2R1Y3QoKSB7CiAgICAgIGlmICh0aGlzLnByb2R1Y3QgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgIHRoaXMubG9hZFVPTSgpOwogICAgICAgIHRoaXMubG9hZFVPTUNvbnZlcnNpb24oKTsKICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvLyAnJHJvdXRlJzogJ2xvYWRVT01Db252ZXJzaW9uJwogIH0sCiAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24oKSB7CiAgICBhd2FpdCB0aGlzLmxvYWRVT00oKTsKICAgIGF3YWl0IHRoaXMubG9hZFVPTUNvbnZlcnNpb24oKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBiYXNlVU9NTmFtZSgpIHsKICAgICAgaWYgKHRoaXMucHJvZHVjdCkgewogICAgICAgIGNvbnN0IHVvbSA9IHRoaXMucHJvZHVjdC51b20gfHwge307CiAgICAgICAgaWYgKHVvbS5oYXNPd25Qcm9wZXJ0eSgidG9VT00iKSkgewogICAgICAgICAgcmV0dXJuIHVvbS50b1VPTS5uYW1lIHx8ICIiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gdW9tLm5hbWUgfHwgIiI7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIGJhc2VVT00oKSB7CiAgICAgIGlmICh0aGlzLnByb2R1Y3QpIHsKICAgICAgICBjb25zdCB1b20gPSB0aGlzLnByb2R1Y3QudW9tIHx8IHt9OwogICAgICAgIGlmICh1b20uaGFzT3duUHJvcGVydHkoInRvVU9NIikpIHsKICAgICAgICAgIHJldHVybiB1b20udG9VT007CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB1b207CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIHZhcmlhbnRJZCgpIHsKICAgICAgaWYgKHRoaXMucHJvZHVjdCkgewogICAgICAgIGlmICh0aGlzLnByb2R1Y3QuaGFzT3duUHJvcGVydHkoImlkIikpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnByb2R1Y3QuaWQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgY29udmVyc2lvblVPTSgpIHsKICAgICAgaWYgKHRoaXMubVVPTSkgewogICAgICAgIHJldHVybiAoCiAgICAgICAgICAiMSAiICsKICAgICAgICAgIHRoaXMubVVPTS5uYW1lICsKICAgICAgICAgICIgPSAiICsKICAgICAgICAgIDEgLyB0aGlzLnVvbUNvbnZlcnNpb24ucmF0ZSArCiAgICAgICAgICAiICIgKwogICAgICAgICAgdGhpcy5iYXNlVU9NTmFtZQogICAgICAgICk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Uom.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6JA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Uom.vue","sourceRoot":"src/views/products/product/product_variants/variants","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n      <h2 class=\"float-left font_18\">{{ $t(\"unit_of_measure\") }}</h2>\n      <v-dialog v-model=\"dialogm2\" max-width=\"600px\">\n        <template v-slot:activator=\"{ on }\">\n          <v-btn\n            color=\"primary\"\n            class=\"btn_create_new float-right \"\n            v-on=\"on\"\n            @click=\"newClick\"\n          >\n            {{ $t(\"new_uom\") }}\n          </v-btn>\n        </template>\n        <v-card>\n          <div class=\"modal_header\">\n            <v-card-title>{{ $t(\"product_uom\") }}</v-card-title>\n            <v-icon @click=\"dialogm2 = false\">close</v-icon>\n          </div>\n\n          <v-card-text class=\"modal_text_content\">\n            <v-row>\n              <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                <p class=\"mb-1\">{{ $t(\"base_uom\") }}</p>\n                <p class=\"text-bold mb-1\">{{ baseUOMName }}</p>\n                <p class=\"mb-0\">{{ $t(\"base_uom_desc\") }}</p>\n              </v-col>\n            </v-row>\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n              <v-row class=\"mt-0\">\n                <v-col class=\"pt-0\" sm=\"6\" cols=\"12\">\n                  <label class=\"label\">{{ $t(\"new_uom\") }}</label>\n                  <p class=\"text_tip\">{{ $t(\"1_day_base_uom\") }}</p>\n                  <v-select\n                    class=\"\"\n                    tage=\"UOM\"\n                    v-model=\"mUOM\"\n                    :items=\"uom\"\n                    item-value=\"id\"\n                    item-text=\"name\"\n                    :rules=\"[(v) => !!v['id'] || $t('is_required')]\"\n                    @change=\"onUOMChanged\"\n                    return-object\n                    outlined\n                  />\n                  <p class=\"text_tip mb-0\">{{ $t(\"conversion_rate\") }}</p>\n                  <label> {{ conversionUOM }}</label>\n                </v-col>\n                <v-col class=\"pt-0\" sm=\"6\" cols=\"12\">\n                  <label>{{ $t(\"rate\") }}</label>\n                  <v-text-field\n                    class=\"mt-6\"\n                    outlined\n                    v-model=\"uomConversion.rate\"\n                    :rules=\"[(v) => !!v || $t('is_required')]\"\n                    type=\"number\"\n                    min=\"0.00000001\"\n                    clearable\n                  />\n                </v-col>\n              </v-row>\n            </v-form>\n          </v-card-text>\n          <v-card-actions class=\"modal_footer\">\n            <v-row>\n              <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-left\">\n                <v-btn\n                  color=\"black\"\n                  outlined\n                  class=\" text-capitalize  black--text float-left\"\n                  @click=\"dialogm2 = false\"\n                  >{{ $t(\"cancel\") }}\n                </v-btn>\n              </v-col>\n              <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-right\">\n                <v-btn\n                  color=\"primary\"\n                  class=\"px-3  white--text text-capitalize\"\n                  @click=\"onSaveClose\"\n                >\n                  {{ $t(\"save_close\") }}\n                </v-btn>\n              </v-col>\n            </v-row>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-col>\n    <v-col sm=\"12\" clos=\"12\" class=\"pt-0\">\n      <LoadingMe\n        :isLoading=\"showLoading\"\n        :fullPage=\"false\"\n        type=\"loading\"\n        :myLoading=\"true\"\n      />\n      <kendo-datasource\n        ref=\"dataSource\"\n        :data=\"conversionList\"\n        :schema=\"gridSchema\"\n      />\n      <kendo-grid\n        id=\"gridUOM\"\n        class=\"grid-function\"\n        :data-source-ref=\"'dataSource'\"\n        v-on:databound=\"dataBound\"\n        :style=\"{ width: '100%' }\"\n        :noRecords=\"true\"\n        :pageable-numeric=\"false\"\n        :pageable-previous-next=\"false\"\n        :pageable-messages-display=\"'Showing {2} data items'\"\n        :scrollable-virtual=\"true\"\n      >\n        <kendo-grid-column\n          :field=\"'toUOM'\"\n          :title=\"$t('uom')\"\n          :width=\"100\"\n          :template=\"'<span>#=toUOM.name#</span>'\"\n          :groupHeaderColumnTemplate=\"'#=value#'\"\n          :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n        />\n        <kendo-grid-column\n          :field=\"'rate'\"\n          :title=\"$t('rate')\"\n          :width=\"50\"\n          :template=\"'<span>#=rate#</span>'\"\n          :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n        />\n        <kendo-grid-column\n          :field=\"'conversionRate'\"\n          :title=\"$t('conversion_rate')\"\n          :template=\"'<span>#=conversionRate#</span>'\"\n          :width=\"80\"\n          :headerAttributes=\"{\n            style: 'text-align: left; background-color: #EDF1F5',\n          }\"\n        />\n        <kendo-grid-column\n          :field=\"''\"\n          :title=\"$t('action')\"\n          :width=\"70\"\n          :command=\"[\n            {\n              text: $t('edit'),\n              click: goEdit,\n              className: 'k-state-disabled isSystem',\n            },\n          ]\"\n          :headerAttributes=\"{\n            style: 'text-align: left; background-color: #EDF1F5',\n          }\"\n        />\n      </kendo-grid>\n    </v-col>\n  </v-row>\n</template>\n<script>\nimport UOMConversion from \"@/scripts/model/UOMConversion\";\nimport kendo from \"@progress/kendo-ui\";\n\nconst uomHandler = require(\"@/scripts/uomHandler\");\nconst uomConversionHandler = require(\"@/scripts/uomConversionHandler\");\nconst $ = require(\"jquery\");\n\nlet uomConversionModel = new UOMConversion({});\nexport default {\n  components: {\n    LoadingMe: () => import(`@/components/Loading`),\n  },\n  props: {\n    product: {},\n  },\n  data: () => ({\n    dialogm2: false,\n    valid: true,\n    showLoading: false,\n    uom: [],\n    uoms: [],\n    mUOM: {},\n    conversionList: [],\n    gridSchema: {\n      model: {\n        id: \"id\",\n      },\n    },\n    uomConversion: uomConversionModel,\n  }),\n  methods: {\n    dataBound: function(e) {\n      const grid = kendo.jQuery(\"#gridUOM\").data(\"kendoGrid\");\n      const items = e.sender.items();\n      items.each(function() {\n        let dataItem = grid.dataItem(this);\n        $(\"tr[data-uid='\" + dataItem.uid + \"']\")\n          .find(\".isSystem\")\n          .each(function() {\n            if (dataItem.isSystem === 0) {\n              $(this).removeClass(\"k-state-disabled\");\n            }\n          });\n      });\n    },\n    close() {\n      // window.history.go(-1)\n      this.dialogm2 = false;\n    },\n    newClick() {\n      if (this.product) {\n        const uom = this.product.uom;\n        let uCategory = {};\n        if (uom.hasOwnProperty(\"category\")) {\n          uCategory = uom.category;\n        } else if (uom.hasOwnProperty(\"toUOM\")) {\n          uCategory = uom.toUOM.category;\n        }\n        this.uom = this.uoms.filter((item) => {\n          return item.category.id === uCategory.id;\n        });\n        window.console.log(\"uCategory\", this.uom);\n        this.uomConversion = {};\n        this.mUOM = {};\n      }\n    },\n    onUOMChanged() {\n      // let rate = this.uomConversion.rate\n      if (this.mUOM.id === this.baseUOM.id) {\n        this.uomConversion.rate = 1;\n      }\n    },\n    async loadUOM() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          if (this.product) {\n            if (this.product.hasOwnProperty(\"uom\")) {\n              uomHandler.get().then((res) => {\n                this.uoms = res;\n                const uom = this.product.uom;\n                let uCategory = {};\n                if (uom.hasOwnProperty(\"category\")) {\n                  uCategory = uom.category;\n                } else if (uom.hasOwnProperty(\"toUOM\")) {\n                  uCategory = uom.toUOM.category;\n                }\n                window.console.log(uom, \"uCategory\", uCategory);\n                this.uom = this.uoms.filter((item) => {\n                  return item.category.id === uCategory.id;\n                });\n                // this.uom = this.uoms.filter(item => {\n                //   return item.category.id === this.product.uom.category.id\n                // })\n              });\n            }\n          }\n        }, 50);\n      });\n    },\n    async loadUOMConversion() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          if (this.product) {\n            if (this.uoms) {\n              if (this.product.hasOwnProperty(\"uom\")) {\n                const uom = this.product.uom;\n                let uCategory = {};\n                if (uom.hasOwnProperty(\"category\")) {\n                  uCategory = uom.category;\n                } else if (uom.hasOwnProperty(\"toUOM\")) {\n                  uCategory = uom.toUOM.category;\n                }\n                this.uom = this.uoms.filter((item) => {\n                  return item.category.id === uCategory.id;\n                });\n                this.showLoading = true;\n                uomConversionHandler.get(this.variantId).then((res) => {\n                  this.showLoading = false;\n                  this.conversionList = res;\n                });\n              }\n            }\n          }\n        }, 50);\n      });\n    },\n    async goEdit(e) {\n      e.preventDefault();\n      let grid = kendo.jQuery(\"#gridUOM\").data(\"kendoGrid\");\n      let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n      this.uomConversion = dataItem;\n      this.mUOM = dataItem.toUOM;\n      this.dialogm2 = true;\n      window.console.log(dataItem, \"val\");\n    },\n    async onSaveClose() {\n      if (!this.$refs.form.validate()) {\n        this.$refs.form.validate();\n        return;\n      }\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          const bUOM = this.baseUOM;\n          const bUOM_ = {\n            id: bUOM.id,\n            category: bUOM.category,\n            name: bUOM.name,\n          };\n          const mUOM = {\n            id: this.mUOM.id,\n            category: this.mUOM.category,\n            name: this.mUOM.name,\n          };\n          let data = {\n            id: this.uomConversion.id,\n            variantId: this.variantId,\n            fromUOM: bUOM_,\n            toUOM: mUOM,\n            rate: this.uomConversion.rate,\n            skip: this.conversionList.length > 0,\n          };\n          uomConversionHandler\n            .create(this.variantId, data)\n            .then((response) => {\n              if (response.data.statusCode === 201) {\n                let res = response.data.data;\n                const index = this.conversionList.findIndex((item) => {\n                  return res.id === item.id;\n                });\n                if (index < 0) {\n                  this.conversionList.push(res);\n                } else {\n                  this.conversionList.splice(index, 1, res);\n                }\n\n                // this.conversionList.push(response.data.data)\n                this.$snotify.success(\"Success\");\n                this.close();\n              }\n            })\n            .catch((e) => {\n              this.$snotify.error(\"Something went wrong\");\n              this.errors.push(e);\n            });\n        }, 50);\n      });\n    },\n  },\n  watch: {\n    product() {\n      if (this.product !== undefined) {\n        this.showLoading = true;\n        this.loadUOM();\n        this.loadUOMConversion();\n        this.showLoading = false;\n      }\n    },\n    // '$route': 'loadUOMConversion'\n  },\n  mounted: async function() {\n    await this.loadUOM();\n    await this.loadUOMConversion();\n  },\n  computed: {\n    baseUOMName() {\n      if (this.product) {\n        const uom = this.product.uom || {};\n        if (uom.hasOwnProperty(\"toUOM\")) {\n          return uom.toUOM.name || \"\";\n        } else {\n          return uom.name || \"\";\n        }\n      } else {\n        return \"\";\n      }\n    },\n    baseUOM() {\n      if (this.product) {\n        const uom = this.product.uom || {};\n        if (uom.hasOwnProperty(\"toUOM\")) {\n          return uom.toUOM;\n        } else {\n          return uom;\n        }\n      } else {\n        return \"\";\n      }\n    },\n    variantId() {\n      if (this.product) {\n        if (this.product.hasOwnProperty(\"id\")) {\n          return this.product.id;\n        } else {\n          return \"\";\n        }\n      } else {\n        return \"\";\n      }\n    },\n    conversionUOM() {\n      if (this.mUOM) {\n        return (\n          \"1 \" +\n          this.mUOM.name +\n          \" = \" +\n          1 / this.uomConversion.rate +\n          \" \" +\n          this.baseUOMName\n        );\n      } else {\n        return \"\";\n      }\n    },\n  },\n};\n</script>\n"]}]}