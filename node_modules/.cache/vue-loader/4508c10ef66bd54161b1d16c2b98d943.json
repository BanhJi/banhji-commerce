{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/accounting/ChartOfAccount.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/accounting/ChartOfAccount.vue","mtime":1638499443079},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBrZW5kbyBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tdWknOwppbXBvcnQge2kxOG59IGZyb20gJ0AvaTE4bic7CmltcG9ydCBkb3dubG9hZGV4Y2VsIGZyb20gInZ1ZS1qc29uLWV4Y2VsIjsKCmNvbnN0IHt0cmlhbEJhbGFuY2VIYW5kbGVyfSA9IHJlcXVpcmUoIkAvc2NyaXB0cy9BcHBIYW5kbGVycyIpOwpjb25zdCB7TmF0dXJlQ29kZX0gPSByZXF1aXJlKCJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9Db2xsZWN0aW9ucyIpOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0NoYXJ0T2ZBY2NvdW50JywKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICAnTG9hZGluZ01lJzogKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvTG9hZGluZycpLAogICAgICAgIC8vICdEYXRlUGlja2VyQ29tcG9uZW50JzogKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9EYXRlUGlja2VyQ29tcG9uZW50JyksCiAgICAgICAgZG93bmxvYWRleGNlbDogZG93bmxvYWRleGNlbAogICAgfSwKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgYWNjb3VudHM6IFtdLAogICAgICAgIGhlYWRlcnM6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogaTE4bi50KCJudW1iZXIiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAnYWNjb3VudC5udW1iZXInLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7dGV4dDogaTE4bi50KCJuYW1lIiksIHZhbHVlOiAnYWNjb3VudC5uYW1lJ30sCiAgICAgICAgICAgIHt0ZXh0OiBpMThuLnQoInR5cGUiKSwgdmFsdWU6ICdhY2NvdW50LmFjY291bnRfdHlwZS5uYW1lJ30sCiAgICAgICAgICAgIHt0ZXh0OiBpMThuLnQoImdyb3VwIiksIHZhbHVlOiAnYWNjb3VudC5hY2NvdW50X2dyb3VwLm5hbWUnfSwKICAgICAgICAgICAge3RleHQ6IGkxOG4udCgiZ2xfYmFsYW5jZSIpLCB2YWx1ZTogJ2JhbGFuY2UnLCBhbGlnbjogJ3JpZ2h0J30sCiAgICAgICAgXSwKICAgICAgICBhc09mRGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICAgICAgbnVtYmVyQWNjb3VudDogMCwKICAgICAgICBhc3NldEFjY291bnQ6IDAsCiAgICAgICAgbGlhYmlsaXR5QWNjb3VudDogMCwKICAgICAgICBlcXVpdHlBY2NvdW50OiAwLAogICAgICAgIHJldmVudWVBY2NvdW50OiAwLAogICAgICAgIGV4cGVuc2VBY2NvdW50OiAwLAogICAgICAgIC8vIExvYWRpbmdNZQogICAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgICBsb2FkaW5nQWxlcnQ6IGZhbHNlLAogICAgICAgIGxvYWRpbmdDb2xvckFsZXJ0OiAiIiwKICAgICAgICBsb2FkaW5nVGV4dEFsZXJ0OiAiIiwKCiAgICAgICAgZXhmaWVsZDogewogICAgICAgICAgICAnTnVtYmVyJzogJ2FjY291bnQubnVtYmVyJywKICAgICAgICAgICAgJ05hbWUnOiAnYWNjb3VudC5uYW1lJywKICAgICAgICAgICAgJ1R5cGUnOiAnYWNjb3VudC5hY2NvdW50X3R5cGUubmFtZScsCiAgICAgICAgICAgICdHcm91cCc6ICdhY2NvdW50LmFjY291bnRfZ3JvdXAubmFtZScsCiAgICAgICAgICAgICdHTCBCYWxhbmNlJzogJ2JhbGFuY2UnCiAgICAgICAgfSwKICAgIH0pLAogICAgbWV0aG9kczogewogICAgICAgIGxvYWREYXRhKCkgewogICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgdHJpYWxCYWxhbmNlSGFuZGxlci5nZXRUcmlhbEJhbGFuY2UoewogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgYXNfb2ZfZGF0ZToga2VuZG8udG9TdHJpbmcobmV3IERhdGUodGhpcy5hc09mRGF0ZSksICd5eXl5LU1NLWRkJykgKyAnVDIzOjU5OjU5Ljk5OVonLAogICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfMF9iYWxhbmNlOiB0cnVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YSkgewogICAgICAgICAgICAgICAgICAgIC8vIEJpbmQgZGF0YQogICAgICAgICAgICAgICAgICAgIHRoaXMuYWNjb3VudHMgPSByZXMuZGF0YS50YmRldGFpbHM7CgogICAgICAgICAgICAgICAgICAgIGxldCBhc3NldEFjY291bnQgPSAwLAogICAgICAgICAgICAgICAgICAgICAgICBsaWFiaWxpdHlBY2NvdW50ID0gMCwKICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXR5QWNjb3VudCA9IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHJldmVudWVBY2NvdW50ID0gMCwKICAgICAgICAgICAgICAgICAgICAgICAgZXhwZW5zZUFjY291bnQgPSAwOwoKICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY291bnRzLmZvckVhY2godmFsdWUgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHZhbHVlLmFjY291bnQuYWNjb3VudF90eXBlLm5hdHVyZV9jb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE5hdHVyZUNvZGUuQVNTRVQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRBY2NvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBOYXR1cmVDb2RlLkxJQUJJTElUWToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWFiaWxpdHlBY2NvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBOYXR1cmVDb2RlLkVRVUlUWToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpdHlBY2NvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBOYXR1cmVDb2RlLlJFVkVOVUU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZW51ZUFjY291bnQrKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVuc2VBY2NvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgdGhpcy5udW1iZXJBY2NvdW50ID0gdGhpcy5hY2NvdW50cy5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NldEFjY291bnQgPSBhc3NldEFjY291bnQ7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5saWFiaWxpdHlBY2NvdW50ID0gbGlhYmlsaXR5QWNjb3VudDsKICAgICAgICAgICAgICAgICAgICB0aGlzLmVxdWl0eUFjY291bnQgPSBlcXVpdHlBY2NvdW50OwogICAgICAgICAgICAgICAgICAgIHRoaXMucmV2ZW51ZUFjY291bnQgPSByZXZlbnVlQWNjb3VudDsKICAgICAgICAgICAgICAgICAgICB0aGlzLmV4cGVuc2VBY2NvdW50ID0gZXhwZW5zZUFjY291bnQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMubG9hZERhdGEoKTsKICAgIH0sCn07Cg=="},{"version":3,"sources":["ChartOfAccount.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ChartOfAccount.vue","sourceRoot":"src/views/accounting","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col cols=\"12\" sm=\"12\">\n                    <div class=\"reports_list pt-3\">\n                        <h2>{{ $t('chart_of_account') }}</h2>\n                        <v-icon\n                            onclick=\"window.history.go(-1); return false;\"\n                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                            class=\"float-right\"\n                        >close\n                        </v-icon>\n\n                        <div class=\"report_filter\">\n                            <v-row>\n                                <v-col sm=\"10\" cols=\"12\">\n                                    <v-row>\n<!--                                        <v-col sm=\"5\" cols=\"12\" class=\"py-0\">-->\n<!--                                            <label-->\n<!--                                                class=\"label text-uppercase float-left pt-5 pr-3\">{{-->\n<!--                                                    $t('as_of')-->\n<!--                                                }}</label>-->\n<!--                                            <DatePickerComponent :initialDate=\"asOfDate\" @emitDate=\"asOfDate = $event\"/>-->\n<!--                                        </v-col>-->\n<!--                                        <v-col sm=\"2\" cols=\"12\" class=\"pt-3 py-0\">-->\n<!--                                            <v-btn class=\"white&#45;&#45;text\" color=\"primary\">-->\n<!--                                                {{ $t('run_report') }}-->\n<!--                                            </v-btn>-->\n<!--                                        </v-col>-->\n\n                                        <v-col sm=\"1\" cols=\"12\" class=\"pt-3 py-0\">\n                                            <downloadexcel\n                                                icon\n                                                color=\"black\"\n                                                class=\"bg-none float-right \"\n                                                :data=\"accounts\"\n                                                :fields=\"exfield\"\n                                                type=\"xls\"\n                                                worksheet=\"COA\"\n                                                name=\"ChartOfAccount.xls\">\n                                                <v-icon class=\"font_34\"\n                                                        style=\"color: black;margin-top: 3px;margin-left: 10px;\">fa\n                                                    fa-file-excel\n                                                </v-icon>\n                                            </downloadexcel>\n                                        </v-col>\n                                    </v-row>\n                                </v-col>\n                                <!-- <v-col sm=\"2\" cols=\"12\" >\n                                    <div class=\"report_export\">\n                                        <p class=\"mb-1\">{{$t('export_as')}}:</p>\n                                        <i class=\"fa fa-print\" style=\"font-size:34px; padding-right:6px;\" aria-hidden=\"true\"></i>\n                                        <i class=\"fa fa-file-excel\"  style=\"font-size:34px;padding-right:6px;\"  aria-hidden=\"true\"></i>\n                                        <i class=\"fa fa-file-pdf\" style=\"font-size:34px;padding-right:6px;\" aria-hidden=\"true\"></i>\n                                    </div>\n                                </v-col> -->\n                            </v-row>\n                        </div>\n\n                        <div class=\"report_block\">\n                            <v-row>\n                                <v-col sm=\"2\" cols=\"12\">\n                                    <v-card color=\"third\" class=\"pa-3 white--text rounded-0\">\n                                        <p class=\"text\">{{ $t('no_of_account') }}</p>\n                                        <p class=\"number\">{{ Number(numberAccount).toLocaleString() }}</p>\n                                    </v-card>\n                                </v-col>\n                                <v-col sm=\"2\" cols=\"12\">\n                                    <v-card color=\"third\" class=\"pa-3 white--text rounded-0\">\n                                        <p class=\"text\">{{ $t('asset_accounts') }}</p>\n                                        <p class=\"number\">{{ Number(assetAccount).toLocaleString() }}</p>\n                                    </v-card>\n                                </v-col>\n                                <v-col sm=\"2\" cols=\"12\">\n                                    <v-card color=\"third\" class=\"pa-3 white--text rounded-0\">\n                                        <p class=\"text\">{{ $t('liability_accounts') }}</p>\n                                        <p class=\"number\">{{ Number(liabilityAccount).toLocaleString() }}</p>\n                                    </v-card>\n                                </v-col>\n                                <v-col sm=\"2\" cols=\"12\">\n                                    <v-card color=\"third\" class=\"pa-3 white--text rounded-0\">\n                                        <p class=\"text\">{{ $t('equity_account') }}</p>\n                                        <p class=\"number\">{{ Number(equityAccount).toLocaleString() }}</p>\n                                    </v-card>\n                                </v-col>\n                                <v-col sm=\"2\" cols=\"12\">\n                                    <v-card color=\"third\" class=\"pa-3 white--text rounded-0\">\n                                        <p class=\"text\">{{ $t('revenues_accounts') }}</p>\n                                        <p class=\"number\">{{ Number(revenueAccount).toLocaleString() }}</p>\n                                    </v-card>\n                                </v-col>\n                                <v-col sm=\"2\" cols=\"12\">\n                                    <v-card color=\"third\" class=\"pa-3 white--text rounded-0\">\n                                        <p class=\"text\">{{ $t('expenses_accounts') }}</p>\n                                        <p class=\"number\">{{ Number(expenseAccount).toLocaleString() }}</p>\n                                    </v-card>\n                                </v-col>\n                            </v-row>\n                        </div>\n\n                        <div class=\"reports_table\">\n                            <v-row>\n                                <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                    <v-data-table\n                                        :headers=\"headers\"\n                                        :items=\"accounts\"\n                                        :items-per-page=\"50\"\n                                        sort-by=\"account.number\"\n                                        class=\"attachment_table elevation-1\">\n\n                                        <template v-slot:[`item.balance`]=\"{ item }\">\n                                            {{ Number(item.balance).toLocaleString() }}\n                                        </template>\n\n                                    </v-data-table>\n                                </v-col>\n                            </v-row>\n                        </div>\n\n                        <LoadingMe\n                            :isLoading=\"showLoading\"\n                            :fullPage=\"false\"\n                            :myLoading=\"true\"/>\n                    </div>\n                </v-col>\n            </v-row>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport kendo from '@progress/kendo-ui';\nimport {i18n} from '@/i18n';\nimport downloadexcel from \"vue-json-excel\";\n\nconst {trialBalanceHandler} = require(\"@/scripts/AppHandlers\");\nconst {NatureCode} = require(\"@/scripts/default_setup/Collections\");\n\nexport default {\n    name: 'ChartOfAccount',\n    components: {\n        'LoadingMe': () => import('@/components/Loading'),\n        // 'DatePickerComponent': () => import('@/components/custom_templates/DatePickerComponent'),\n        downloadexcel: downloadexcel\n    },\n    data: () => ({\n        accounts: [],\n        headers: [\n            {\n                text: i18n.t(\"number\"),\n                value: 'account.number',\n            },\n            {text: i18n.t(\"name\"), value: 'account.name'},\n            {text: i18n.t(\"type\"), value: 'account.account_type.name'},\n            {text: i18n.t(\"group\"), value: 'account.account_group.name'},\n            {text: i18n.t(\"gl_balance\"), value: 'balance', align: 'right'},\n        ],\n        asOfDate: new Date().toISOString().substr(0, 10),\n        numberAccount: 0,\n        assetAccount: 0,\n        liabilityAccount: 0,\n        equityAccount: 0,\n        revenueAccount: 0,\n        expenseAccount: 0,\n        // LoadingMe\n        showLoading: false,\n        loadingAlert: false,\n        loadingColorAlert: \"\",\n        loadingTextAlert: \"\",\n\n        exfield: {\n            'Number': 'account.number',\n            'Name': 'account.name',\n            'Type': 'account.account_type.name',\n            'Group': 'account.account_group.name',\n            'GL Balance': 'balance'\n        },\n    }),\n    methods: {\n        loadData() {\n            this.showLoading = true;\n            trialBalanceHandler.getTrialBalance({\n                params: {\n                    as_of_date: kendo.toString(new Date(this.asOfDate), 'yyyy-MM-dd') + 'T23:59:59.999Z',\n                    include_0_balance: true\n                }\n            }).then(res => {\n                if (res.data) {\n                    // Bind data\n                    this.accounts = res.data.tbdetails;\n\n                    let assetAccount = 0,\n                        liabilityAccount = 0,\n                        equityAccount = 0,\n                        revenueAccount = 0,\n                        expenseAccount = 0;\n\n                    this.accounts.forEach(value => {\n                        switch (value.account.account_type.nature_code) {\n                            case NatureCode.ASSET:\n                                assetAccount++;\n                                break;\n\n                            case NatureCode.LIABILITY:\n                                liabilityAccount++;\n                                break;\n\n                            case NatureCode.EQUITY:\n                                equityAccount++;\n                                break;\n\n                            case NatureCode.REVENUE:\n                                revenueAccount++;\n                                break;\n\n                            default:\n                                expenseAccount++;\n                                break;\n                        }\n                    });\n\n                    this.numberAccount = this.accounts.length;\n                    this.assetAccount = assetAccount;\n                    this.liabilityAccount = liabilityAccount;\n                    this.equityAccount = equityAccount;\n                    this.revenueAccount = revenueAccount;\n                    this.expenseAccount = expenseAccount;\n                }\n            }).finally(() => {\n                this.showLoading = false;\n            })\n        }\n    },\n    mounted() {\n        this.loadData();\n    },\n};\n</script>\n\n<style scoped>\n.reports_list {\n    width: 100%;\n    background-color: #fff;\n    padding: 20px 20px 5px;\n}\n\n.report_filter {\n    background-color: #EDF1F5;\n    padding: 0 20px 5px 20px;\n    position: relative;\n}\n\n.report_export {\n    position: absolute;\n    top: 10px;\n}\n\n.dv_mt {\n    margin-top: 20px;\n}\n\n.dv_mt8 {\n    margin-top: 30px;\n}\n\n.report_block .v-card.third {\n    border: none;\n    box-shadow: none;\n    color: #fff;\n    text-transform: uppercase;\n    min-height: 100px;\n}\n\n.report_block .v-card.third p.text {\n    text-align: left;\n    font-size: 17px;\n}\n\n.report_block .v-card.third p.number {\n    text-align: center;\n    font-size: 25px;\n    font-weight: 700;\n    margin-bottom: 0;\n}\n\n@media (max-width: 576px) {\n    .dv_mt, .dv_mt8 {\n        margin-top: 0;\n    }\n\n    .reports_list {\n        margin-top: 0;\n    }\n}\n</style>"]}]}