{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/micro_edition/revenues/CustomerBalanceSummary.vue?vue&type=style&index=0&id=a8c5ccec&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/micro_edition/revenues/CustomerBalanceSummary.vue","mtime":1639966363934},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudGhlbWUtLWxpZ2h0LnYtZGF0YS10YWJsZSB7CiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDsKfQoKLnYtZGF0YS10YWJsZSA+IC52LWRhdGEtdGFibGVfX3dyYXBwZXIgPiB0YWJsZSA+IHRib2R5ID4gdHIgPiB0ZCB7CiAgaGVpZ2h0OiAzMnB4ICFpbXBvcnRhbnQ7CiAgYm9yZGVyLWJvdHRvbTogdGhpbiBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMTIpICFpbXBvcnRhbnQ7Cn0KCi52LWRhdGEtdGFibGUgPiAudi1kYXRhLXRhYmxlX193cmFwcGVyID4gdGFibGUgPiB0Ym9keSA+IHRyOmZpcnN0LWNoaWxkID4gdGQgewogIGJvcmRlci10b3A6IHRoaW4gc29saWQgcmdiYSgwLCAwLCAwLCAwLjEyKSAhaW1wb3J0YW50Owp9CgoudGhlbWUtLWxpZ2h0LnYtZGF0YS10YWJsZQogID4gLnYtZGF0YS10YWJsZV9fd3JhcHBlcgogID4gdGFibGUKICA+IHRib2R5CiAgPiB0cjpob3Zlcjpub3QoLnYtZGF0YS10YWJsZV9fZXhwYW5kZWRfX2NvbnRlbnQpOm5vdCgudi1kYXRhLXRhYmxlX19lbXB0eS13cmFwcGVyKSB7CiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDsKfQoKLmItc2VhcmNoOmJlZm9yZSB7CiAgY29sb3I6ICNmZmYgIWltcG9ydGFudDsKfQo="},{"version":3,"sources":["CustomerBalanceSummary.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoTA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"CustomerBalanceSummary.vue","sourceRoot":"src/views/micro_edition/revenues","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"\">\n      <v-card color=\"white\" class=\"pa-3 no_border\" elevation=\"0\">\n        <v-row>\n          <v-col sm=\"4\" cols=\"12\" class=\"kendo_dropdown_custom py-0\">\n            <app-datepicker :initialDate=\"asOf\" @emitDate=\"asOf = $event\" />\n          </v-col>\n          <v-col sm=\"4\" cols=\"12\" class=\"kendo_dropdown_custom pt-1 pb-0\">\n            <dropdownlist\n              :data-items=\"customerList\"\n              @change=\"onChange\"\n              :value=\"customer\"\n              :data-item-key=\"dataItemKey\"\n              :text-field=\"textField\"\n              :default-item=\"defaultItem\"\n              :filterable=\"true\"\n              @filterchange=\"onFilterChange\"\n            >\n            </dropdownlist>\n          </v-col>\n          <v-col sm=\"1\" cols=\"1\" class=\"pt-1 pb-0\">\n            <v-btn color=\"primary white--text\" @click=\"balanceSummary\">\n              <i\n                class=\"b-search\"\n                style=\"font-size: 18px; color: #fff !important\"\n              />\n            </v-btn>\n          </v-col>\n        </v-row>\n        <v-row class=\"mt-0\">\n          <v-col sm=\"4\" cols=\"12\" class=\"pt-1 pr-2\">\n            <v-card\n              outlined\n              dense\n              class=\"pa-3 no_border rounded-4 white--text\"\n              color=\"primary\"\n              height=\"60px\"\n            >\n              <h3 class=\"text-left flex-1 font_12 text-uppercase\">\n                {{ $t(\"no_of_customer\") }}\n              </h3>\n              <h3 class=\"font_20 mt-0 flex-1 text-right white--text\">00</h3>\n            </v-card>\n          </v-col>\n          <v-col sm=\"4\" cols=\"12\" class=\"pt-1 px-2\">\n            <v-card\n              outlined\n              dense\n              color=\"primary\"\n              class=\"pa-3  rounded-4 no_border white--text\"\n              height=\"60px\"\n            >\n              <h3 class=\"text-left flex-1 font_12 text-uppercase\">\n                {{ $t(\"receivable_balances\") }}\n              </h3>\n              <h3 class=\"font_20 mt-0 flex-1 text-right white--text\">0000</h3>\n            </v-card>\n          </v-col>\n          <v-col sm=\"4\" cols=\"12\" class=\"pt-1 pl-2\">\n            <v-card\n              outlined\n              to=\"individual_customer\"\n              dense\n              color=\"third\"\n              class=\"pa-3 rounded-4 no_border white--text\"\n              height=\"60px\"\n            >\n              <h3 class=\"text-center flex-1 font_18 mt-2 text-uppercase\">\n                + {{ $t(\"customer\") }}\n              </h3>\n            </v-card>\n          </v-col>\n        </v-row>\n\n        <v-row>\n          <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n            <template>\n              <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"false\"\n                type=\"loading\"\n                :myLoading=\"true\"\n              />\n              <kendo-datasource\n                ref=\"dataSource\"\n                :group=\"group\"\n                :data=\"receivableList\"\n              />\n              <kendo-grid\n                id=\"gridReceivable\"\n                class=\"grid-function\"\n                :data-source-ref=\"'dataSource'\"\n                :sortable=\"false\"\n                :groupable=\"true\"\n                :filterable=\"false\"\n                :column-menu=\"true\"\n                :noRecords=\"true\"\n                :editable=\"false\"\n                :excel-file-name=\"'Receivable Balance Summary.xlsx'\"\n                :excel-filterable=\"true\"\n                :excel-all-pages=\"true\"\n                :toolbar=\"['excel']\"\n                :scrollable-virtual=\"true\"\n              >\n                <kendo-grid-column\n                  :field=\"'customer'\"\n                  :title=\"$t('name')\"\n                  :attributes=\"{ class: 'tb_name_td' }\"\n                  :template=\"'<span>#=name#</span>'\"\n                  :width=\"200\"\n                  :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                />\n                <kendo-grid-column\n                  :field=\"'phone'\"\n                  :title=\"$t('phone')\"\n                  :width=\"200\"\n                  :headerAttributes=\"{\n                    style: 'background-color: #EDF1F5',\n                  }\"\n                />\n                <kendo-grid-column\n                  :field=\"'balance'\"\n                  :title=\"$t('balance')\"\n                  :template=\"'<span>#= kendo.toString(balance, decimalFormat)#</span>'\"\n                  :width=\"200\"\n                  :attributes=\"{ style: 'text-align: right; ' }\"\n                  :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                />\n                <!-- <kendo-grid-column\n                  :field=\"'type'\"\n                  :title=\"$t('type')\"\n                  :width=\"200\"\n                  :headerAttributes=\"{\n                    style: 'background-color: #EDF1F5',\n                  }\"\n                />\n                <kendo-grid-column\n                  :field=\"'group'\"\n                  :title=\"$t('group')\"\n                  :width=\"200\"\n                  :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                /> -->\n\n                <kendo-grid-column\n                    :field=\"'overDue'\"\n                    :title=\"$t('over_due')\"\n                    :template=\"'<span>#= kendo.toString(overDue, decimalFormat)#</span>'\"\n                    :width=\"180\"\n                    :attributes=\"{style: 'text-align: right; '}\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5'}\"/>\n              <kendo-grid-column\n                  :field=\"'type'\"\n                  :title=\"$t('status')\"\n                  :width=\"200\"\n                  :headerAttributes=\"{\n                    style: 'background-color: #EDF1F5',\n                  }\"\n                />\n              </kendo-grid>\n            </template>\n          </v-col>\n        </v-row>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport DatePickerComponent from \"@/components/custom_templates/DatePickerComponent\";\nimport { DropDownList } from \"@progress/kendo-vue-dropdowns\";\n// import LinkTemplate from \"@/components/kendo_templates/LinkTemplate\";\n// import kendo from \"@progress/kendo-ui\";\n// import downloadexcel from \"vue-json-excel\";\n\nimport JSZip from \"jszip\";\nwindow.JSZip = JSZip;\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\");\nconst defaultItem = { [\"numberName\"]: \"Select customer...\", [\"id\"]: null };\nconst customerHandler = require(\"@/scripts/customerHandler\");\nconst emptyItem = { [\"numberName\"]: \"loading ...\" };\n// const $ = require(\"jquery\")\nexport default {\n  data: () => ({\n    asOf: new Date().toISOString().substr(0, 10),\n    showLoading: false,\n    group: [],\n    aggregateDefinition: [\n      { field: \"name\", aggregate: \"count\" },\n      { field: \"amount\", aggregate: \"sum\" },\n      { field: \"code\", aggregate: \"count\" },\n    ],\n    receivableList: [],\n    customerList: [],\n    customer: {},\n    textField: \"numberName\",\n    defaultItem: defaultItem,\n    dataItemKey: \"id\",\n    filter: \"\",\n    cusBaseUrl: customerHandler.search(),\n    overDueAmount: 0,\n    receivableBalance: 0,\n    tobeCollected: 0,\n\n    exfield: {\n      Name: \"name\",\n      Type: \"customerType\",\n      Group: \"customerGroup\",\n      Balance: \"balance\",\n      \"Over Due\": \"overDue\",\n    },\n  }),\n  components: {\n    LoadingMe: () => import(`@/components/Loading`),\n    \"app-datepicker\": DatePickerComponent,\n    dropdownlist: DropDownList,\n    // downloadexcel: downloadexcel\n  },\n  methods: {\n    async balanceSummary() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          this.showLoading = true;\n          let strFilter = \"\";\n          strFilter = \"?asOf=\" + this.asOf + \"&type=bal-\" + \"&txnType=Customer\";\n          if (this.customer) {\n            if (this.customer.id !== undefined && this.customer.id !== null) {\n              strFilter =\n                \"?asOf=\" +\n                this.asOf +\n                \"&id=\" +\n                this.customer.id +\n                \"&type=bal-\" +\n                \"&txnType=Customer\";\n            }\n          }\n          this.showLoading = true;\n          billingHandler.vendorDepositBalanceSummary(strFilter).then((res) => {\n            if (res.data.statusCode === 200) {\n              this.receivableList = res.data.data;\n              this.showLoading = false;\n            }\n          });\n        }, 10);\n      });\n    },\n    status(dataItem) {\n      let status = \"\";\n      switch (dataItem.status) {\n        case 1:\n          status = \"Open\";\n          break;\n        case 2:\n          status = \"Partially Paid\";\n          break;\n        case 3:\n          status = \"Paid\";\n          break;\n        case 4:\n          status = \"Void\";\n          break;\n      }\n      return status;\n    },\n    onFilterChange(event) {\n      const filter = event.filter.value;\n      this.requestData(0, filter, this.cusBaseUrl);\n      this.filter = filter;\n    },\n    requestData(skip, filter, baseUrl) {\n      const url = baseUrl + `?filter=${filter}`;\n      fetch(url)\n        .then((response) => {\n          return response.json();\n        })\n        .then(this.afterFetch);\n    },\n    afterFetch(json) {\n      this.customerList = json.data;\n    },\n    onChange(event) {\n      const value = event.value;\n      if (value && value[\"numberName\"] === emptyItem[\"numberName\"]) {\n        return;\n      }\n      this.customer = value;\n    },\n    sumGroupAmount(dataItem) {\n      if (dataItem.hasOwnProperty(\"sum\")) {\n        return \"<span>#= kendo.toString(sum, `n2`)#</span>\";\n      }\n      return `<span>#= kendo.toString(sum, 'n2')#</span>`;\n    },\n  },\n  computed: {},\n  mounted: async function () {\n    this.group = [\n      {\n        field: \"customerType\",\n        aggregates: this.aggregateDefinition,\n      },\n    ];\n    this.requestData(0, this.filter, this.cusBaseUrl);\n  },\n};\n</script>\n<style scoped>\n.theme--light.v-data-table {\n  background-color: transparent !important;\n}\n\n.v-data-table > .v-data-table__wrapper > table > tbody > tr > td {\n  height: 32px !important;\n  border-bottom: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n\n.v-data-table > .v-data-table__wrapper > table > tbody > tr:first-child > td {\n  border-top: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n\n.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > tbody\n  > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n  background-color: transparent !important;\n}\n\n.b-search:before {\n  color: #fff !important;\n}\n</style>"]}]}