{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/finances/management/loan_center/Info.vue?vue&type=style&index=0&id=7bbf9c29&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/finances/management/loan_center/Info.vue","mtime":1638499443235},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnRoZW1lLS1saWdodC52LWRhdGEtdGFibGUgPiAudi1kYXRhLXRhYmxlX193cmFwcGVyID4gdGFibGUgPiB0Ym9keSA+IHRyOmhvdmVyOm5vdCgudi1kYXRhLXRhYmxlX19leHBhbmRlZF9fY29udGVudCk6bm90KC52LWRhdGEtdGFibGVfX2VtcHR5LXdyYXBwZXIpewogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDsKfQoudGhlbWUtLWxpZ2h0LnYtZGF0YS10YWJsZSA+IC52LWRhdGEtdGFibGVfX3dyYXBwZXIgPiB0YWJsZSA+IHRib2R5ID4gdHIuc2Vjb25kYXJ5OmhvdmVyOm5vdCgudi1kYXRhLXRhYmxlX19leHBhbmRlZF9fY29udGVudCk6bm90KC52LWRhdGEtdGFibGVfX2VtcHR5LXdyYXBwZXIpewogICAgYmFja2dyb3VuZC1jb2xvcjogIzRkNDg0OCAhaW1wb3J0YW50Owp9Ci50aGVtZS0tbGlnaHQudi1kYXRhLXRhYmxlID4gLnYtZGF0YS10YWJsZV9fd3JhcHBlciA+IHRhYmxlID4gdGJvZHkgPiB0ci50aGlyZDpob3Zlcjpub3QoLnYtZGF0YS10YWJsZV9fZXhwYW5kZWRfX2NvbnRlbnQpOm5vdCgudi1kYXRhLXRhYmxlX19lbXB0eS13cmFwcGVyKXsKICAgIGJhY2tncm91bmQtY29sb3I6ICM4OThDOEYgIWltcG9ydGFudDsKfQoudGhlbWUtLWxpZ2h0LnYtZGF0YS10YWJsZXsKICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEyKSAhaW1wb3J0YW50OwogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMikgIWltcG9ydGFudDsKICAgIGJvcmRlci1yYWRpdXM6IDAgIWltcG9ydGFudDsKfQoudGhlbWUtLWxpZ2h0LnYtZGF0YS10YWJsZSA+IC52LWRhdGEtdGFibGVfX3dyYXBwZXIgPiB0YWJsZSA+IHRib2R5ID4gdHI6bm90KDpsYXN0LWNoaWxkKSA+IHRkOm5vdCgudi1kYXRhLXRhYmxlX19tb2JpbGUtcm93KSwKLnRoZW1lLS1saWdodC52LWRhdGEtdGFibGUgPiAudi1kYXRhLXRhYmxlX193cmFwcGVyID4gdGFibGUgPiB0Ym9keSA+IHRyOm5vdCg6bGFzdC1jaGlsZCkgPiB0aDpub3QoLnYtZGF0YS10YWJsZV9fbW9iaWxlLXJvdyl7CiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEyKSAhaW1wb3J0YW50Owp9Ci52LWRhdGEtdGFibGUgPiAudi1kYXRhLXRhYmxlX193cmFwcGVyID4gdGFibGUgPiB0Ym9keSA+IHRyID4gdGR7CiAgICBoZWlnaHQ6IDMycHggIWltcG9ydGFudDsKfQo="},{"version":3,"sources":["Info.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Info.vue","sourceRoot":"src/views/finances/management/loan_center","sourcesContent":["<template>\n    <v-row class=\"mx-3 white\">\n        <v-col sm=\"12\" cols=\"12\">\n            <v-simple-table>\n                <template>\n                    <tbody>\n                        <tr>\n                            <td width=\"230\" class=\"text-uppercase\">{{$t('loan_type')}}</td>\n                            <td class=\"text-left text-bold\">{{ typeOfLoan }}</td>\n                        </tr>\n                        <tr>\n                            <td class=\"text-uppercase\">{{$t('loan_name')}}</td>\n                            <td class=\"text-left text-bold\">{{ loanName }}</td>\n                        </tr>\n                        <tr>\n                            <td class=\"text-uppercase\">{{$t('loan_currency')}}</td>\n                            <td class=\"text-left text-bold\">{{ currencyCode }}</td>\n                        </tr>\n                        <tr>\n                            <td class=\"text-uppercase\">{{$t('interest_rate')}}</td>\n                            <td class=\"text-left text-bold\">{{ numberFormata(interestRate) }}</td>\n                        </tr>\n                        <tr>\n                            <td class=\"text-uppercase\">{{$t('loan_date')}}</td>\n                            <td class=\"text-left text-bold\">{{ Helper.dateFormat(issuedDate) }}</td>\n                        </tr>\n                        <tr>\n                            <td class=\"text-uppercase\">{{$t('maturity_date')}}</td>\n                            <td class=\"text-left text-bold\">{{ maturityDate }}</td>\n                        </tr>\n                        <tr>\n                            <td class=\"text-uppercase\">{{$t('loan_account')}}</td>\n                            <td class=\"text-left text-bold\">{{ Account }}</td>\n                        </tr>\n                        <tr>\n                            <td class=\"text-uppercase\">{{$t('status')}}</td>\n                            <td class=\"text-left text-bold\">{{ statusTran(loanStatus) }}</td>\n                        </tr>\n                    </tbody>\n                </template>\n            </v-simple-table>\n        </v-col>\n        <v-col sm=\"12\" cols=\"12\">\n            <v-simple-table >\n                <template v-slot:default>\n                    <tbody>\n                        <tr class=\"third text-bold\">\n                            <td class=\"text-uppercase white--text\">{{$t('outstanding_balance')}}</td>\n                            <td class=\"white--text text-right\">{{ numberFormata(outstandingAmount) }}</td>\n                        </tr>\n                        <tr>\n                            <td class=\"text-uppercase\">{{$t('approved_amount')}}</td>\n                            <td class=\"primary--text text-right text-bold\">{{ numberFormata(approvedAmount) }}</td>\n                        </tr>\n                    </tbody>\n                </template>\n            </v-simple-table>\n        </v-col>\n        <v-col sm=\"12\" cols=\"12\" class=\"\">\n            <div v-if=\"loan.id\" class=\"float-right\">\n                    <v-btn @click=\"onEditClicked\"\n                           v-show=\"allowEdit\"\n                           color=\"primary\"\n                           class=\" white--text  text-capitalize mx-1\">\n                        {{$t('edit')}}\n                    </v-btn>\n                    <v-btn @click=\"onApproveLoanClicked\"\n                           v-show=\"loan.status===LoanStatus.PENDING\"\n                           color=\"primary\"\n                           class=\" white--text  text-capitalize\">\n                        {{$t('approve')}}\n                    </v-btn>\n                    <v-btn @click=\"onRecordReceiptClicked\"\n                           v-show=\"loan.status===LoanStatus.APPROVED\"\n                           color=\"primary\"\n                           class=\" white--text  text-capitalize\">\n                        {{$t('record_receipt')}}\n                    </v-btn>\n<!--                <v-col sm=\"3\" cols=\"3\" class=\"py-0\">-->\n<!--                    <v-btn @click=\"onRecordPaymentClicked\"-->\n<!--                           v-show=\"loan.status===LoanStatus.ACTIVE\"-->\n<!--                           color=\"primary\"-->\n<!--                           class=\" white&#45;&#45;text float-right text-capitalize\">-->\n<!--                        {{$t('record_payment')}}-->\n<!--                    </v-btn>-->\n<!--                </v-col>-->\n            </div>\n        </v-col>\n    </v-row>\n</template>\n<script>\n    import Helper from \"@/helper.js\"\n    import {i18n} from \"@/i18n\";\n    import kendo from \"@progress/kendo-ui\";\n    import saleFormContentHandler from \"@/scripts/saleFormContentHandler\";\n    // import { LoanModel } from \"@/scripts/model/AppModels\";\n    const { LoanStatus } = require(\"@/scripts/default_setup/Collections\");\n\n    export default {\n        name: \"LoanInfo\",\n        props: {\n            initLoan: {},\n        },\n        data () {\n            return {\n                Helper              : Helper,\n                loan                : {},\n                LoanStatus          : LoanStatus,\n                banhjiBalance       : 0,\n                bankBalance         : 0,\n                reconcileItem       : 0,\n                bankFeedConnection  : \"Not Connect\",\n                allowEdit           : true,\n                saleFormContent     : {}\n            }\n        },\n        computed: {\n            typeOfLoan(){\n                if (this.initLoan) {\n                    // window.console.log(this.member, 'member')\n                    if (this.initLoan.hasOwnProperty('typeOfLoan')) {\n                        return this.initLoan.typeOfLoan.name\n                    }\n                }\n                return ''\n            },\n            loanName(){\n                if (this.initLoan) {\n                    // window.console.log(this.member, 'member')\n                    if (this.initLoan.hasOwnProperty('name')) {\n                        return this.initLoan.name\n                    }\n                }\n                return ''\n            },\n            currencyCode(){\n                if (this.initLoan) {\n                    // window.console.log(this.initLoan, 'member')\n                    if (this.initLoan.hasOwnProperty('currency')) {\n                        return this.initLoan.currency.code\n                    }\n                }\n                return ''\n            },\n            issuedDate(){\n                if (this.initLoan) {\n                    if (this.initLoan.hasOwnProperty('issuedDate')) {\n                        return this.initLoan.issuedDate\n                    }\n                }\n                return ''\n            },\n            interestRate(){\n                if (this.initLoan) {\n                    if (this.initLoan.hasOwnProperty('interestRate')) {\n                        return this.initLoan.interestRate\n                    }\n                }\n                return ''\n            },\n            loanStatus(){\n                if (this.initLoan) {\n                    if (this.initLoan.hasOwnProperty('status')) {\n                        return this.initLoan.status\n                    }\n                }\n                return ''\n            },\n            Account(){\n                if (this.initLoan) {\n                    let accName = ''\n                    if (this.initLoan.hasOwnProperty('loanAccount')) {\n                        let abbr = this.initLoan.loanAccount.number != undefined ? this.initLoan.loanAccount.number : ''\n                        let name = this.initLoan.loanAccount.name != undefined ? this.initLoan.loanAccount.name : ''\n                        accName =  abbr + ' - ' + name\n                    }\n                    // if(isNaN(accName)){\n                    //     accName = ''\n                    // }\n                    return accName\n                }\n                return ''\n            },\n            maturityDate(){\n                if (this.initLoan) {\n                    if (this.initLoan.hasOwnProperty('maturityDate')) {\n                        if(this.initLoan.maturityDate != '') {\n                            return Helper.dateFormat(this.initLoan.maturityDate)\n                        }\n                    }\n                }\n                return ''\n            },\n            outstandingAmount(){\n                if (this.initLoan) {\n                    window.console.log(this.initLoan, 'out')\n                    if (this.initLoan.hasOwnProperty('outStandingBalance')) {\n                        return this.initLoan.outStandingBalance\n                    }\n                }\n                return ''\n            },\n            availableCredit(){\n                if (this.initLoan) {\n                    if (this.initLoan.hasOwnProperty('availableCredit')) {\n                        return this.initLoan.availableCredit\n                    }\n                }\n                return ''\n            },\n            approvedAmount(){\n                if (this.initLoan) {\n                    if (this.initLoan.hasOwnProperty('approvedAmount')) {\n                        return parseFloat(this.initLoan.approvedAmount)\n                    }\n                }\n                return ''\n            },\n        },\n        methods: {\n            getLoan(){\n                return this.loan\n            },\n            onEditClicked () {\n                if (this.loan) {\n                    this.$router.push({ name: 'New Loan', params: { initLoan: this.getLoan() } })\n                }\n            },\n            onApproveLoanClicked() {\n                if (this.loan) {\n                    this.$router.push({ name: 'Approved Loan', params: { initLoan: this.initLoan } })\n                }\n            },\n            onRecordReceiptClicked() {\n                if (this.loan) {\n                    this.$router.push({ name: 'Record Loan Receipt', params: { initLoan: this.getLoan() } })\n                }\n            },\n            onRecordPaymentClicked() {\n                if (this.loan) {\n                    this.$router.push({ name: 'Record Loan Periodic Payment', params: { initLoan: this.getLoan() } })\n                }\n            },\n            statusTran(val){\n                return i18n.t(val)\n            },\n            numberFormata(value) {\n                // window.console.log(this.saleFormContent.decimal,'nimol')\n                return kendo.toString(value, `n${this.saleFormContent.decimal}`);\n                // return value\n            },\n            async loadSaleFormContent() {\n                new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve(\"resolved\");\n                        saleFormContentHandler.list().then((res) => {\n                            if (res.data.statusCode === 200) {\n                                const data = res.data.data;\n                                if (data.length > 0) {\n                                    this.saleFormContent = data[0];\n                                }\n                            }\n                        });\n                    }, 10);\n                });\n            },\n        },\n        watch: {\n            initLoan () {\n                this.loan = this.initLoan\n                window.console.log(this.loan.status)\n                this.allowEdit = true\n                if(this.loan.status != 'pending'){\n                    this.allowEdit = false\n                }\n            }\n        },\n        mounted: async function () {\n            await this.loadSaleFormContent()\n            this.loan = this.initLoan\n        }\n    }\n</script>\n\n<style scoped>\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper){\n        background-color: transparent !important;\n    }\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr.secondary:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper){\n        background-color: #4d4848 !important;\n    }\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr.third:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper){\n        background-color: #898C8F !important;\n    }\n    .theme--light.v-data-table{\n        background-color: transparent !important;\n        border-top: 1px solid rgba(0, 0, 0, 0.12) !important;\n        border-bottom: 1px solid rgba(0, 0, 0, 0.12) !important;\n        border-radius: 0 !important;\n    }\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:not(:last-child) > td:not(.v-data-table__mobile-row),\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:not(:last-child) > th:not(.v-data-table__mobile-row){\n        border-bottom: 1px solid rgba(0, 0, 0, 0.12) !important;\n    }\n    .v-data-table > .v-data-table__wrapper > table > tbody > tr > td{\n        height: 32px !important;\n    }\n</style>"]}]}