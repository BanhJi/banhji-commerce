{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/suppliers/CashAdvance.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/suppliers/CashAdvance.vue","mtime":1642155812718},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGkxOG4gfSBmcm9tICJAL2kxOG4iOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKaW1wb3J0IEhlbHBlciBmcm9tICJAL2hlbHBlci5qcyI7CmltcG9ydCB7IFNob3dSZXNvdXJjZSB9IGZyb20gIkAvb2JzZXJ2YWJsZS9zdG9yZSI7CmltcG9ydCB7CglDYXNoQWR2YW5jZU1vZGVsLAoJQ2FzaEFkdmFuY2VEZXRhaWxNb2RlbCwKCUpvdXJuYWxNb2RlbCwKCUpvdXJuYWxFbnRyeU1vZGVsLAoJQWNjb3VudE1vZGVsLAoJRW1wbG95ZWVNb2RlbCwKCUNvbnRhY3RNb2RlbCwKCUN1cnJlbmN5TW9kZWwsCglFeGNoYW5nZVJhdGVNb2RlbCwKCVByb2plY3RNb2RlbCwKCVNlZ21lbnRNb2RlbCwKCUxvY2F0aW9uTW9kZWwsCn0gZnJvbSAiQC9zY3JpcHRzL21vZGVsL0FwcE1vZGVscyI7CmltcG9ydCBQYXltZW50T3B0aW9uTW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL1BheW1lbnRPcHRpb24iOwppbXBvcnQgUmVzcG9uc2VEYXRhTW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL1Jlc3BvbnNlRGF0YSI7CmltcG9ydCBBY2NvdW50U2Vjb25kYXJ5RWRpdG9yIGZyb20gIkAvc2NyaXB0cy9rZW5kb19lZGl0b3IvQWNjb3VudFNlY29uZGFyeSI7CgovKiBFZGl0b3JzICovCmltcG9ydCBBY2NvdW50RWRpdG9yIGZyb20gIkAvc2NyaXB0cy9rZW5kb19lZGl0b3IvQWNjb3VudCI7Ci8vIGltcG9ydCBQYXltZW50T3B0aW9uRWRpdG9yIGZyb20gIkAvc2NyaXB0cy9rZW5kb19lZGl0b3IvU3VwcGxpZXJQYXltZW50T3B0aW9uRWRpdG9yIjsKCi8qIFN0b3JlICovCmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsKY29uc3QgaW5zdGl0dXRlID0gc3RvcmUuc3RhdGUuaW5zdGl0dXRlLmluc3RpdHV0ZTsKCmNvbnN0IGNhc2hBZHZhbmNlSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9oYW5kbGVyL3dvcmtpbmdjYXBpdGFsL2Nhc2hBZHZhbmNlSGFuZGxlci5qcyIpOwpjb25zdCB7CglTYXZlT3B0aW9uLAoJRW50aXR5VHlwZSwKCUFjY291bnRUeXBlQ29kZSwKCVdvcmtGbG93U3RhdHVzLAp9ID0gcmVxdWlyZSgiQC9zY3JpcHRzL2RlZmF1bHRfc2V0dXAvQ29sbGVjdGlvbnMiKTsKCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICJDYXNoQWR2YW5jZSIsCgljb21wb25lbnRzOiB7CgkJTG9hZGluZ01lOiAoKSA9PiBpbXBvcnQoIkAvY29tcG9uZW50cy9Mb2FkaW5nIiksCgkJImFwcC1kYXRlcGlja2VyIjogKCkgPT4KCQkJaW1wb3J0KCJAL2NvbXBvbmVudHMvY3VzdG9tX3RlbXBsYXRlcy9EYXRlUGlja2VyQ29tcG9uZW50IiksCgkJLy8gImFwcC1tb250aG9mLXBpY2tlciI6ICgpID0+CgkJLy8gICBpbXBvcnQoIkAvY29tcG9uZW50cy9rZW5kb190ZW1wbGF0ZXMvTW9udGhPZlBpY2tlciIpLAoJCSJhcHAtY3VycmVuY3ktZHJvcGRvd25saXN0IjogKCkgPT4KCQkJaW1wb3J0KCJAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L0N1cnJlbmN5IiksCgkJImFwcC1jYXNoLWFkdmFuY2UtYWNjb3VudC1kcm9wZG93bmxpc3QiOiAoKSA9PgoJCQlpbXBvcnQoIkAvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvQ2FzaEFkdmFuY2VBY2NvdW50IiksCgkJImFwcC1sb2NhdGlvbi1kcm9wZG93bmxpc3QiOiAoKSA9PgoJCQlpbXBvcnQoIkAvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvTG9jYXRpb24iKSwKCQkiYXBwLWVtcGxveWVlLWRyb3Bkb3dubGlzdCI6ICgpID0+CgkJCWltcG9ydCgiQC9jb21wb25lbnRzL2Ryb3Bkb3dubGlzdC9FbXBsb3llZSIpLAoJCSJhcHAtcHJvamVjdC1kcm9wZG93bmxpc3QiOiAoKSA9PgoJCQlpbXBvcnQoIkAvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvUHJvamVjdCIpLAoJCSJhcHAtc2VnbWVudC1kcm9wZG93bmxpc3QiOiAoKSA9PgoJCQlpbXBvcnQoIkAvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvU2VnbWVudCIpLAoJCSJhcHAtc2Vjb25kYXJ5LWFjY291bnQtZHJvcGRvd25saXN0IjogKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvZHJvcGRvd25saXN0L0FjY291bnRTZWNvbmRhcnknKSwKCX0sCglwcm9wczogewoJCWluaXRDYXNoQWR2YW5jZTogewoJCQl0eXBlOiBDYXNoQWR2YW5jZU1vZGVsLAoJCX0sCgkJaW5pdEFkdmFuY2VSZXF1ZXN0OiB7CgkJCXR5cGU6IENhc2hBZHZhbmNlTW9kZWwsCgkJfSwKCX0sCglkYXRhOiAoKSA9PiAoewoJCS8vIE9iagoJCWNhc2hBZHZhbmNlOiBuZXcgQ2FzaEFkdmFuY2VNb2RlbCgpLAoJCWFkdmFuY2VSZXF1ZXN0OiBuZXcgQ2FzaEFkdmFuY2VNb2RlbCgpLAoJCWFkdmFuY2VSZXF1ZXN0czogW10sCgkJam91cm5hbDogbnVsbCwKCQlqb3VybmFsRW50cmllczogW10sCgkJY2FzaEFjY291bnRFbnRyaWVzOiBbXSwgLy8gQ3JlZGl0IHNpZGUKCQllbXBsb3llZTogbmV3IEVtcGxveWVlTW9kZWwoKSwKCQljdXJyZW5jeTogbmV3IEN1cnJlbmN5TW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSksCgkJZXhjaGFuZ2VSYXRlOiBuZXcgRXhjaGFuZ2VSYXRlTW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSksCgkJY2FzaEFkdmFuY2VBY2NvdW50OiBuZXcgQWNjb3VudE1vZGVsKCksCgkJc2Vjb25kYXJ5QWNjb3VudDogbmV3IEFjY291bnRNb2RlbCgpLAoJCXByb2plY3Q6IG5ldyBQcm9qZWN0TW9kZWwoKSwKCQlzZWdtZW50OiBuZXcgU2VnbWVudE1vZGVsKCksCgkJbG9jYXRpb246IG5ldyBMb2NhdGlvbk1vZGVsKCksCgkJLy8gT3RoZXIKCQl0b3RhbEFtb3VudDogMCwKCQl1c2VyOiBIZWxwZXIuZ2V0VXNlcigpLAoJCXRlbXBsYXRlczogW10sCgkJLy8gRm9ybSB2YWxpZGF0aW9uCgkJdmFsaWQ6IHRydWUsCgkJaXNFZGl0OiBmYWxzZSwKCQlhbGVydDogZmFsc2UsCgkJZXJyb3JNZXNzYWdlOiAiIiwKCQlzYXZlTW9kZTogIiIsCgkJU2F2ZU9wdGlvbjogU2F2ZU9wdGlvbiwKCQkvLyBFZGl0b3JzCgkJQWNjb3VudEVkaXRvcjogQWNjb3VudEVkaXRvciwKCQlBY2NvdW50U2Vjb25kYXJ5RWRpdG9yIDogQWNjb3VudFNlY29uZGFyeUVkaXRvciwKCQkvLyBTaWRlYmFyCgkJaXNIaWRlQmFyOiBmYWxzZSwKCQkvLyBMb2FkaW5nTWUKCQlzaG93TG9hZGluZzogZmFsc2UsCgkJc2hvd0FkdmFuY2VSZXF1ZXN0TG9hZGluZzogZmFsc2UsCgl9KSwKCW1ldGhvZHM6IHsKCQlIZWxwKGtleV9zZWFyY2gpIHsKCQkJU2hvd1Jlc291cmNlKGtleV9zZWFyY2gpOwoJCX0sCgkJLy8gSW5pdGlhbCBEYXRhCgkJaW5pdGlhbERhdGEoKSB7CgkJCWlmICh0aGlzLmluaXRDYXNoQWR2YW5jZSkgewoJCQkJLy8gRWRpdCBNb2RlCgkJCQl0aGlzLmNhc2hBZHZhbmNlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5pbml0Q2FzaEFkdmFuY2UpOwoJCQkJdGhpcy5iaW5kRGF0YSgpOwoJCQl9ZWxzZSBpZiAodGhpcy5pbml0QWR2YW5jZVJlcXVlc3QpIHsKCQkJCXRoaXMuYWR2YW5jZVJlcXVlc3QgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmluaXRBZHZhbmNlUmVxdWVzdCk7CgkJCQl0aGlzLmdlbmVyYXRlTnVtYmVyKCk7CgkJCQl0aGlzLmJpbmRBZHZhbmNlUmVxdWVzdCgpOwoJCQl9IGVsc2UgewoJCQkJLy8gQnJhbmQgTmV3IE1vZGUKCQkJCXRoaXMuc2V0RGVmYXVsdERhdGEoKTsKCQkJfQoJCX0sCgkJLy8gU2V0IGRlZmF1bHQgZGF0YQoJCWFzeW5jIHNldERlZmF1bHREYXRhKCkgewoJCQkvLyBCcmFuZCBOZXcgTW9kZQoJCQl0aGlzLmlzRWRpdCA9IGZhbHNlOwoKCQkJLyogU2V0IGRlZmF1bHQgKi8KCQkJdGhpcy5jYXNoQWR2YW5jZSA9IE9iamVjdC5hc3NpZ24oe30sIG5ldyBDYXNoQWR2YW5jZU1vZGVsKHsKCQkJCWFkdmFuY2VfZGF0ZSA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAoJCQkJZXhwZWN0ZWRfc2V0dGxlbWVudF9kYXRlIDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCgkJCQltb250aF9vZiA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgNyksCgkJCQlzdGF0dXMgOiBXb3JrRmxvd1N0YXR1cy5BUFBST1ZFRCwKCQkJfSkpOwoKCQkJLyogRGVmYXVsdCBTaWRlYmFyICovCgkJCWxldCBzZWdtZW50cyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZWdtZW50cy9nZXRMaXN0Jyk7CgkJCXRoaXMuc2VnbWVudCA9IG5ldyBTZWdtZW50TW9kZWwoc2VnbWVudHMuZmluZChpID0+IGkuaXNTeXN0ZW0gPT09IDEpKTsKCgkJCWxldCBsb2NhdGlvbnMgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbG9jYXRpb25zL2dldExpc3QnKTsKCQkJdGhpcy5sb2NhdGlvbiA9IG5ldyBMb2NhdGlvbk1vZGVsKGxvY2F0aW9uc1swXSk7CgoJCQkvLyBHZW5lcmF0ZSBOdW1iZXIKCQkJdGhpcy5nZW5lcmF0ZU51bWJlcigpOwoKCQkJLy8gQWRkIDIgZGVmYXVsdCBsaW5lcwoJCQl0aGlzLmFkZFJvdygpOwoJCQl0aGlzLmFkZFJvdygpOwoJCX0sCgkJLy8gQmluZCBkYXRhIGZyb20gcHJvcCBmb3IgZWRpdCBtb2RlCgkJYXN5bmMgYmluZERhdGEoKSB7CgkJCS8vIEVkaXQgTW9kZQoJCQl0aGlzLmlzRWRpdCA9IHRydWU7CgoJCQkvLyBDdXJyZW5jeQoJCQl0aGlzLmN1cnJlbmN5ID0gbmV3IEN1cnJlbmN5TW9kZWwodGhpcy5jYXNoQWR2YW5jZS5jdXJyZW5jeSk7CgkJCXRoaXMuZXhjaGFuZ2VSYXRlID0gbmV3IEV4Y2hhbmdlUmF0ZU1vZGVsKHRoaXMuY2FzaEFkdmFuY2UuY3VycmVuY3kpOwoJCQl0aGlzLmV4Y2hhbmdlUmF0ZS5pZCA9IHRoaXMuY2FzaEFkdmFuY2UuZGV0YWlsc1swXS5leGNoYW5nZV9yYXRlX3V1aWQ7CgkJCXRoaXMuZXhjaGFuZ2VSYXRlLnJhdGUgPSB0aGlzLmNhc2hBZHZhbmNlLmRldGFpbHNbMF0uZXhjaGFuZ2VfcmF0ZTsKCgkJCS8vIEVtcGxveWVlCgkJCXRoaXMuZW1wbG95ZWUgPSBuZXcgRW1wbG95ZWVNb2RlbCh0aGlzLmNhc2hBZHZhbmNlLnJlcXVlc3RlZF9ieSk7CgoJCQkvLyBDYXNoIEFjY291bnQgRW50cmllcwoJCQlsZXQgc2Vjb25kYXJ5QWNjb3VudHMgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYWNjb3VudGluZy9nZXRTZWNvbmRhcnlBY2NvdW50cyIpLAoJCQkJZW50cmllcyA9IFtdOwoJCQl0aGlzLmNhc2hBZHZhbmNlLmRldGFpbHMuZm9yRWFjaCgodmFsdWUpID0+IHsKCQkJCWlmICh2YWx1ZS5hbW91bnQgPCAwKSB7IC8vIENyIHNpZGUKCQkJCQlsZXQgZGV0YWlsID0gbmV3IENhc2hBZHZhbmNlRGV0YWlsTW9kZWwodmFsdWUpOwoJCQkJCWRldGFpbC5hbW91bnQgPSB2YWx1ZS5hbW91bnQgKiAtMTsgLy9Db252ZXJ0IGZyb20gY3IgdG8gbm9ybWFsIG51bWJlcgoKCQkJCQkvKiBTZWNvbmRhcnkgQWNjb3VudCAqLwoJCQkJCWRldGFpbC5zZWNvbmRhcnlfYWNjb3VudCA9IG5ldyBBY2NvdW50TW9kZWwoCgkJCQkJCXNlY29uZGFyeUFjY291bnRzLmZpbmQoKGkpID0+IGkudXVpZCA9PT0gdmFsdWUuc2Vjb25kYXJ5X2FjY191dWlkKQoJCQkJCSk7CgoJCQkJCWVudHJpZXMucHVzaChkZXRhaWwpOwoJCQkJfSBlbHNlIHsgLy8gRHIgc2lkZQoJCQkJCS8vIENhc2ggQWR2YW5jZSBBY2NvdW50CgkJCQkJaWYgKHZhbHVlLmFjY291bnQuYWNjb3VudF90eXBlLmNvZGUgPT09IEFjY291bnRUeXBlQ29kZS5DQVNIX0FEVkFOQ0UpIHsKCQkJCQkJdGhpcy5jYXNoQWR2YW5jZUFjY291bnQgPSBuZXcgQWNjb3VudE1vZGVsKHZhbHVlLmFjY291bnQpOwoJCQkJCQl0aGlzLnRvdGFsQW1vdW50ID0gdmFsdWUuYW1vdW50OwoKCQkJCQkJLyogU2Vjb25kYXJ5IEFjY291bnQgKi8KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnlBY2NvdW50ID0gbmV3IEFjY291bnRNb2RlbChzZWNvbmRhcnlBY2NvdW50cy5maW5kKChpKSA9PiBpLnV1aWQgPT09IHZhbHVlLnNlY29uZGFyeV9hY2NfdXVpZCkpOwoJCQkJCX0KCQkJCX0KCQkJfSk7CgkJCXRoaXMuY2FzaEFjY291bnRFbnRyaWVzID0gZW50cmllczsKCgkJCS8vIFNpZGViYXIKCQkJbGV0IHNlZ21lbnRzID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NlZ21lbnRzL2dldExpc3QnKTsKCQkJdGhpcy5zZWdtZW50ID0gbmV3IFNlZ21lbnRNb2RlbChzZWdtZW50cy5maW5kKGkgPT4gaS5pZCA9PT0gdGhpcy5jYXNoQWR2YW5jZS5zZWdtZW50X3V1aWQpKTsKCgkJCWxldCBwcm9qZWN0cyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdwcm9qZWN0cy9nZXRMaXN0Jyk7CgkJCXRoaXMucHJvamVjdCA9IG5ldyBQcm9qZWN0TW9kZWwocHJvamVjdHMuZmluZChpID0+IGkuaWQgPT09IHRoaXMuY2FzaEFkdmFuY2UucHJvamVjdF91dWlkKSk7CgoJCQlsZXQgbG9jYXRpb25zID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvY2F0aW9ucy9nZXRMaXN0Jyk7CgkJCXRoaXMubG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlbChsb2NhdGlvbnMuZmluZChpID0+IGkuaWQgPT09IHRoaXMuY2FzaEFkdmFuY2UubG9jYXRpb25fdXVpZCkpOwoKCQkJLyogQWR2YW5jZSBSZXF1ZXN0ICovCgkJCWlmKHRoaXMuY2FzaEFkdmFuY2UucmVmX251bWJlciAhPT0gIiIgJiYgdGhpcy5jYXNoQWR2YW5jZS5yZXF1ZXN0X2Ftb3VudCA+IDApewoJCQkJdGhpcy5hZHZhbmNlUmVxdWVzdCA9IHsKCQkJCQl1dWlkOiB0aGlzLmNhc2hBZHZhbmNlLnV1aWQsCgkJCQkJcmVmX251bWJlcjogdGhpcy5jYXNoQWR2YW5jZS5yZWZfbnVtYmVyLAoJCQkJCXJlcXVlc3RfYW1vdW50OiB0aGlzLmNhc2hBZHZhbmNlLnJlcXVlc3RfYW1vdW50CgkJCQl9OwoKCQkJCXRoaXMuYWR2YW5jZVJlcXVlc3RzID0gW3RoaXMuYWR2YW5jZVJlcXVlc3RdOwoJCQl9CgkJfSwKCQkvLyBOdW1iZXIKCQlhc3luYyBnZW5lcmF0ZU51bWJlcigpIHsKCQkJaWYgKCF0aGlzLmlzRWRpdCkgewoJCQkJbGV0IG51bSA9IGF3YWl0IEhlbHBlci5nZW5lcmF0ZUFjY291bnRpbmdOdW1iZXIoCgkJCQkJRW50aXR5VHlwZS5DQVNIX0FEVkFOQ0UsCgkJCQkJdGhpcy5jYXNoQWR2YW5jZS5hZHZhbmNlX2RhdGUKCQkJCSk7CgoJCQkJdGhpcy5jYXNoQWR2YW5jZS5udW1iZXIgPSBudW0ubnVtYmVyOwoJCQkJdGhpcy5jYXNoQWR2YW5jZS5wcmVmaXhfZm9ybWF0ID0gbnVtLnByZWZpeF9mb3JtYXQ7CgkJCX0KCQl9LAoJCS8vIEdldCBFeGNoYW5nZSBSYXRlCgkJYXN5bmMgZ2V0RXhjaGFuZ2VSYXRlKCkgewoJCQlpZiAodGhpcy5jYXNoQWR2YW5jZS5hZHZhbmNlX2RhdGUgJiYgdGhpcy5jdXJyZW5jeS5jb2RlICE9PSAiIikgewoJCQkJdGhpcy5leGNoYW5nZVJhdGUgPSBhd2FpdCBIZWxwZXIuZ2V0TGFzdEV4Y2hhbmdlUmF0ZUJ5RGF0ZSgKCQkJCQl0aGlzLmNhc2hBZHZhbmNlLmFkdmFuY2VfZGF0ZSwKCQkJCQl0aGlzLmN1cnJlbmN5LmNvZGUKCQkJCSk7CgkJCX0gZWxzZSB7CgkJCQl0aGlzLmV4Y2hhbmdlUmF0ZSA9IG5ldyBFeGNoYW5nZVJhdGVNb2RlbChpbnN0aXR1dGUuYmFzZUN1cnJlbmN5KTsKCQkJfQoJCX0sCgkJLy8gTG9hZCBDYXNoIEFkdmFuY2UKCQlsb2FkQWR2YW5jZVJlcXVlc3QoKSB7CgkJCWlmICh0aGlzLmVtcGxveWVlLmlkICE9PSAiIikgewoJCQkJdGhpcy5zaG93QWR2YW5jZVJlcXVlc3RMb2FkaW5nID0gdHJ1ZTsKCQkJCQoJCQkJY2FzaEFkdmFuY2VIYW5kbGVyCgkJCQkJLmdldEJ5RW1wbG95ZWVJZCh0aGlzLmVtcGxveWVlLmlkKQoJCQkJCS50aGVuKChyZXMpID0+IHsKCQkJCQkJbGV0IHJlc3BvbnNlRGF0YSA9IG5ldyBSZXNwb25zZURhdGFNb2RlbChyZXMpOwoJCQkJCQl0aGlzLmFkdmFuY2VSZXF1ZXN0cyA9IHJlc3BvbnNlRGF0YS5kYXRhLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5zdGF0dXMgPT09IFdvcmtGbG93U3RhdHVzLlBFTkRJTkcpOwoJCQkJCX0pCgkJCQkJLmZpbmFsbHkoKCkgPT4gewoJCQkJCQl0aGlzLnNob3dBZHZhbmNlUmVxdWVzdExvYWRpbmcgPSBmYWxzZTsKCQkJCQl9KTsKCQkJfQoJCX0sCgkJLyogT24gRGF0ZSBDaGFuZXMgKi8KCQlvbkRhdGVDaGFuZ2VzICgpIHsKCQkJdGhpcy5nZXRFeGNoYW5nZVJhdGUoKTsKCQkJdGhpcy5nZW5lcmF0ZU51bWJlcigpOwoJCX0sCgkJLy8gT24gQWR2YW5jZSBSZXF1ZXN0IENoYW5nZXMKCQlvbkFkdmFuY2VSZXF1ZXN0Q2hhbmdlcyAoKSB7CgkJCWlmKHRoaXMuYWR2YW5jZVJlcXVlc3QpewoJCQkJdGhpcy5iaW5kQWR2YW5jZVJlcXVlc3QoKTsKCQkJfWVsc2V7CgkJCQl0aGlzLmNsZWFyKCk7CgkJCX0KCQl9LAoJCS8qIEJpbmQgQWR2YW5jZSBSZXF1ZXN0ICovCgkJYXN5bmMgYmluZEFkdmFuY2VSZXF1ZXN0ICgpIHsKCQkJdGhpcy5jYXNoQWR2YW5jZSA9IG5ldyBDYXNoQWR2YW5jZU1vZGVsKHRoaXMuYWR2YW5jZVJlcXVlc3QpOwoJCQl0aGlzLmNhc2hBZHZhbmNlLmRlc2NyaXB0aW9uID0gdGhpcy5hZHZhbmNlUmVxdWVzdC5wdXJwb3NlOwoKCQkJdGhpcy5jYXNoQWR2YW5jZS5hZHZhbmNlX2RhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTsKCQkJdGhpcy5jYXNoQWR2YW5jZS5leHBlY3RlZF9zZXR0bGVtZW50X2RhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTsKCQkJdGhpcy5jYXNoQWR2YW5jZS5tb250aF9vZiA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgNyk7CgkJCXRoaXMuY2FzaEFkdmFuY2Uuc3RhdHVzID0gV29ya0Zsb3dTdGF0dXMuQVBQUk9WRUQ7CgoJCQkvLyBFbXBsb3llZQoJCQl0aGlzLmVtcGxveWVlID0gbmV3IEVtcGxveWVlTW9kZWwodGhpcy5hZHZhbmNlUmVxdWVzdC5yZXF1ZXN0ZWRfYnkpOwoJCQl0aGlzLmFkdmFuY2VSZXF1ZXN0cyA9IFt0aGlzLmFkdmFuY2VSZXF1ZXN0XTsKCgkJCS8vIEN1cnJlbmN5CgkJCXRoaXMuY3VycmVuY3kgPSBuZXcgQ3VycmVuY3lNb2RlbCh0aGlzLmFkdmFuY2VSZXF1ZXN0LmN1cnJlbmN5KTsKCQkJdGhpcy5nZXRFeGNoYW5nZVJhdGUoKTsKCgkJCS8vIFNpZGViYXIKCQkJbGV0IHNlZ21lbnRzID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NlZ21lbnRzL2dldExpc3QnKTsKCQkJdGhpcy5zZWdtZW50ID0gbmV3IFNlZ21lbnRNb2RlbChzZWdtZW50cy5maW5kKGkgPT4gaS5pZCA9PT0gdGhpcy5hZHZhbmNlUmVxdWVzdC5zZWdtZW50X3V1aWQpKTsKCgkJCWxldCBwcm9qZWN0cyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdwcm9qZWN0cy9nZXRMaXN0Jyk7CgkJCXRoaXMucHJvamVjdCA9IG5ldyBQcm9qZWN0TW9kZWwocHJvamVjdHMuZmluZChpID0+IGkuaWQgPT09IHRoaXMuYWR2YW5jZVJlcXVlc3QucHJvamVjdF91dWlkKSk7CgoJCQlsZXQgbG9jYXRpb25zID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvY2F0aW9ucy9nZXRMaXN0Jyk7CgkJCXRoaXMubG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlbChsb2NhdGlvbnMuZmluZChpID0+IGkuaWQgPT09IHRoaXMuYWR2YW5jZVJlcXVlc3QubG9jYXRpb25fdXVpZCkpOwoKCQkJLy8gTGluZXMKCQkJbGV0IGRzID0gdGhpcy4kcmVmcy5jYXNoQWNjb3VudEVudHJ5RFMua2VuZG9XaWRnZXQoKSwKCQkJbGFzdCA9IGRzLnRvdGFsKCk7CgkJCS8vIENsZWFyCgkJCWRzLmRhdGEoW10pOwoKCQkJbGV0IGplID0gbmV3IENhc2hBZHZhbmNlRGV0YWlsTW9kZWwoKTsKCQkJamUudXVpZCA9IGtlbmRvLmd1aWQoKTsKCQkJamUuYW1vdW50ID0gdGhpcy5hZHZhbmNlUmVxdWVzdC5yZXF1ZXN0X2Ftb3VudDsKCgkJCWRzLmluc2VydChsYXN0LCBqZSk7CgkJCXRoaXMuYWRkUm93KCk7CgkJfSwKCQkvKiBLZW5kbyAqLwoJCS8vIERhdGFTb3VyY2UgQ2hhbmdlcwoJCW9uQ2FzaEFjY291bnREU0NoYW5nZXMoZSkgewoJCQlpZiAoZS5maWVsZCkgewoJCQkJbGV0IGRhdGFSb3cgPSBlLml0ZW1zWzBdOwoKCQkJCWlmIChlLmZpZWxkID09PSAiYWNjb3VudCIpIHsKCQkJCQlkYXRhUm93LnNldCgiYWNjb3VudF91dWlkIiwgZGF0YVJvdy5hY2NvdW50LnV1aWQpOwoKCQkJCQl0aGlzLmFkZEV4dHJhUm93KGRhdGFSb3cudWlkKTsKCQkJCX0gZWxzZSBpZiAoZS5maWVsZCA9PT0gInNlY29uZGFyeV9hY2NvdW50IikgewoJCQkJCWlmIChkYXRhUm93LnNlY29uZGFyeV9hY2NvdW50ICE9PSBudWxsKSB7CgkJCQkJCWRhdGFSb3cuc2V0KCJzZWNvbmRhcnlfYWNjX3V1aWQiLCBkYXRhUm93LnNlY29uZGFyeV9hY2NvdW50LnV1aWQpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCS8vIFNldCBkZWZhdWx0IHdoZW4gZGVzZWxlY3QKCQkJCQkJZGF0YVJvdy5zZXQoInNlY29uZGFyeV9hY2NfdXVpZCIsICIiKTsKCQkJCQkJZGF0YVJvdy5zZXQoInNlY29uZGFyeV9hY2NvdW50IiwgbmV3IEFjY291bnRNb2RlbCgpKTsKCQkJCQl9CgkJCQl9CgoJCQkJdGhpcy5kYXRhU291cmNlQXV0b0NhbGN1bGF0ZSgpOwoJCQl9CgkJfSwKCQkvLyBBdXRvIENhbGN1bGF0ZSBJbiBEYXRhU291cmNlCgkJZGF0YVNvdXJjZUF1dG9DYWxjdWxhdGUoKSB7CgkJCWxldCBkcyA9IHRoaXMuJHJlZnMuY2FzaEFjY291bnRFbnRyeURTLmtlbmRvV2lkZ2V0KCksCgkJCQlzdW0gPSAwOwoKCQkJLy8gU3VtCgkJCWRzLmRhdGEoKS5mb3JFYWNoKCh2YWx1ZSkgPT4gewoJCQkJc3VtICs9IGtlbmRvLnBhcnNlRmxvYXQodmFsdWUuYW1vdW50KTsKCQkJfSk7CgoJCQl0aGlzLnRvdGFsQW1vdW50ID0gc3VtOwoJCX0sCgkJLy8gUm93IE51bWJlciBUZW1wbGF0ZQoJCXJvd051bWJlclRtcGwoZGF0YUl0ZW0pIHsKCQkJbGV0IGRzID0gdGhpcy4kcmVmcy5jYXNoQWNjb3VudEVudHJ5RFMua2VuZG9XaWRnZXQoKSwKCQkJCWluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CgoJCQlyZXR1cm4gaW5kZXggKyAxOwoJCX0sCgkJLy8gQWRkIE5ldyBSb3cKCQlhZGRSb3coKSB7CgkJCWxldCBkcyA9IHRoaXMuJHJlZnMuY2FzaEFjY291bnRFbnRyeURTLmtlbmRvV2lkZ2V0KCksCgkJCQlsYXN0ID0gZHMudG90YWwoKSwKCQkJCWplID0gbmV3IENhc2hBZHZhbmNlRGV0YWlsTW9kZWwoKTsKCQkJamUudXVpZCA9IGtlbmRvLmd1aWQoKTsKCQkJamUucGF5bWVudF9tZXRob2QgPSBuZXcgUGF5bWVudE9wdGlvbk1vZGVsKCk7CgoJCQlkcy5pbnNlcnQobGFzdCwgamUpOwoJCX0sCgkJLy8gQWRkIEV4dHJhIFJvdwoJCWFkZEV4dHJhUm93KHVpZCkgewoJCQlsZXQgZHMgPSB0aGlzLiRyZWZzLmNhc2hBY2NvdW50RW50cnlEUy5rZW5kb1dpZGdldCgpLAoJCQkJdG90YWwgPSBkcy50b3RhbCgpLAoJCQkJcm93ID0gZHMuZ2V0QnlVaWQodWlkKSwKCQkJCWluZGV4ID0gZHMuaW5kZXhPZihyb3cpOwoKCQkJaWYgKGluZGV4ID09IHRvdGFsIC0gMSkgewoJCQkJdGhpcy5hZGRSb3coKTsKCQkJfQoJCX0sCgkJLy8gUmVtb3ZlIFJvdwoJCXJlbW92ZVJvdyhlKSB7CgkJCWUucHJldmVudERlZmF1bHQoKTsKCgkJCWxldCBncmlkID0gdGhpcy4kcmVmcy5jYXNoQWNjb3VudEdyaWQua2VuZG9XaWRnZXQoKSwKCQkJCWRzID0gZ3JpZC5kYXRhU291cmNlLAoJCQkJZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKGtlbmRvLmpRdWVyeShlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwoKCQkJaWYgKGRzLmRhdGEoKS5sZW5ndGggPiAxKSB7CgkJCQlkcy5yZW1vdmUoZGF0YUl0ZW0pOwoJCQl9CgkJfSwKCQkvLyBTaHJpbmsgRGF0YQoJCXNocmlua0RhdGEoKSB7CgkJCWxldCBlbnRyaWVzID0gW10sCgkJCQlkcyA9IHRoaXMuJHJlZnMuY2FzaEFjY291bnRFbnRyeURTLmtlbmRvV2lkZ2V0KCk7CgoJCQkvLyBEYXRlCgkJCXRoaXMuY2FzaEFkdmFuY2UuYWR2YW5jZV9kYXRlID0gSGVscGVyLnRvSVNPRGF0ZSgKCQkJCXRoaXMuY2FzaEFkdmFuY2UuYWR2YW5jZV9kYXRlCgkJCSk7CgkJCXRoaXMuY2FzaEFkdmFuY2UuZXhwZWN0ZWRfc2V0dGxlbWVudF9kYXRlID0gSGVscGVyLnRvSVNPRGF0ZSgKCQkJCXRoaXMuY2FzaEFkdmFuY2UuZXhwZWN0ZWRfc2V0dGxlbWVudF9kYXRlCgkJCSk7CgoJCQkvLyBDdXJyZW5jeQoJCQl0aGlzLmNhc2hBZHZhbmNlLmN1cnJlbmN5ID0gbmV3IEN1cnJlbmN5TW9kZWwodGhpcy5jdXJyZW5jeSk7CgoJCQkvLyBFbXBsb3llZQoJCQl0aGlzLmNhc2hBZHZhbmNlLnJlcXVlc3RlZF9ieSA9IG5ldyBDb250YWN0TW9kZWwodGhpcy5lbXBsb3llZSk7CgoJCQkvLyBTaWRlYmFyCgkJCXRoaXMuY2FzaEFkdmFuY2UucHJvamVjdF91dWlkID0gdGhpcy5wcm9qZWN0LmlkOwoJCQl0aGlzLmNhc2hBZHZhbmNlLnNlZ21lbnRfdXVpZCA9IHRoaXMuc2VnbWVudC5pZDsKCQkJdGhpcy5jYXNoQWR2YW5jZS5sb2NhdGlvbl91dWlkID0gdGhpcy5sb2NhdGlvbi5pZDsKCgkJCS8vIFVzZXIKCQkJaWYgKHRoaXMuaXNFZGl0KSB7CgkJCQl0aGlzLmNhc2hBZHZhbmNlLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VyOwoJCQl9IGVsc2UgewoJCQkJdGhpcy5jYXNoQWR2YW5jZS5jcmVhdGVkX2J5ID0gdGhpcy51c2VyOwoJCQl9CgoJCQkvLyBDYXNoIEFkdmFuY2UgQWNjb3VudCBvbiBEcgoJCQllbnRyaWVzLnB1c2goCgkJCQluZXcgQ2FzaEFkdmFuY2VEZXRhaWxNb2RlbCh7CgkJCQkJdXVpZDoga2VuZG8uZ3VpZCgpLAoJCQkJCWFjY291bnQ6IG5ldyBBY2NvdW50TW9kZWwodGhpcy5jYXNoQWR2YW5jZUFjY291bnQpLAoJCQkJCWFjY291bnRfdXVpZDogdGhpcy5jYXNoQWR2YW5jZUFjY291bnQudXVpZCwKCQkJCQlzZWNvbmRhcnlfYWNjX3V1aWQgOiB0aGlzLnNlY29uZGFyeUFjY291bnQudXVpZCwKCQkJCQlwcmltYXJ5X2NvbnRhY3Q6IG5ldyBDb250YWN0TW9kZWwodGhpcy5lbXBsb3llZSksCgkJCQkJZGVzY3JpcHRpb246IHRoaXMuY2FzaEFkdmFuY2UuZGVzY3JpcHRpb24sCgkJCQkJY3VycmVuY3k6IG5ldyBDdXJyZW5jeU1vZGVsKHRoaXMuY3VycmVuY3kpLAoJCQkJCWFtb3VudDogdGhpcy50b3RhbEFtb3VudCwKCQkJCQlleGNoYW5nZV9yYXRlX3V1aWQ6IHRoaXMuZXhjaGFuZ2VSYXRlLmlkLAoJCQkJCWV4Y2hhbmdlX3JhdGU6IHRoaXMuZXhjaGFuZ2VSYXRlLnJhdGUsCgkJCQl9KQoJCQkpOwoKCQkJLy8gQ2FzaCBBY2NvdW50IG9uIENyCgkJCWRzLmRhdGEoKS5mb3JFYWNoKCh2YWx1ZSkgPT4gewoJCQkJaWYgKHZhbHVlLmFjY291bnQubnVtYmVyICE9PSAiIikgewoJCQkJCWxldCBlbnRyeSA9IG5ldyBDYXNoQWR2YW5jZURldGFpbE1vZGVsKHZhbHVlKTsKCQkJCQllbnRyeS5hY2NvdW50ID0gbmV3IEFjY291bnRNb2RlbCh2YWx1ZS5hY2NvdW50KTsKCQkJCQllbnRyeS5wcmltYXJ5X2NvbnRhY3QgPSBuZXcgQ29udGFjdE1vZGVsKHRoaXMuZW1wbG95ZWUpOwoJCQkJCWVudHJ5LmN1cnJlbmN5ID0gbmV3IEN1cnJlbmN5TW9kZWwodGhpcy5jdXJyZW5jeSk7CgkJCQkJZW50cnkuYW1vdW50ID0gdmFsdWUuYW1vdW50ICogLTE7IC8vIENyZWRpdCBTaWRlIGlzIG5lZ2F0aXZlCgkJCQkJZW50cnkuZXhjaGFuZ2VfcmF0ZV91dWlkID0gdGhpcy5leGNoYW5nZVJhdGUuaWQ7CgkJCQkJZW50cnkuZXhjaGFuZ2VfcmF0ZSA9IHRoaXMuZXhjaGFuZ2VSYXRlLnJhdGU7CgoJCQkJCWVudHJpZXMucHVzaChlbnRyeSk7CgkJCQl9CgkJCX0pOwoKCQkJLy8gVXNlIGV4aXN0aW5nIHV1aWQKICAgICAgICAgICAgaWYgKHRoaXMuaXNFZGl0KSB7CiAgICAgICAgICAgICAgICAvKiBDbGVhciB1dWlkICovCiAgICAgICAgICAgICAgICBlbnRyaWVzLmZvckVhY2godmFsdWUgPT4gewogICAgICAgICAgICAgICAgICAgIHZhbHVlLnV1aWQgPSAiIjsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIC8qIEFwcGx5IGV4aXN0aW5nIHV1aWQgKi8KICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jYXNoQWR2YW5jZS5kZXRhaWxzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYoaSA8IGVudHJpZXMubGVuZ3RoKXsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkRW50cnkgPSB0aGlzLmNhc2hBZHZhbmNlLmRldGFpbHNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgIGVudHJpZXNbaV0udXVpZCA9IG9sZEVudHJ5LnV1aWQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgoJCQkvLyBEZXRhaWxzCgkJCXRoaXMuY2FzaEFkdmFuY2UuZGV0YWlscyA9IGVudHJpZXM7CgkJfSwKCQkvLyBBZGQgSm91cm5hbAoJCWFkZEpvdXJuYWwoKSB7CgkJCS8vIEpvdXJuYWwKCQkJdGhpcy5qb3VybmFsID0gbmV3IEpvdXJuYWxNb2RlbCh7CgkJCQl1dWlkOiB0aGlzLmNhc2hBZHZhbmNlLmpvdXJuYWxfdXVpZCwKCQkJCW51bWJlcjogdGhpcy5jYXNoQWR2YW5jZS5udW1iZXIsCgkJCQlkZXNjcmlwdGlvbjogdGhpcy5jYXNoQWR2YW5jZS5kZXNjcmlwdGlvbiwKCQkJCWpvdXJuYWxfZGF0ZTogSGVscGVyLnRvSVNPRGF0ZSh0aGlzLmNhc2hBZHZhbmNlLmFkdmFuY2VfZGF0ZSksCgkJCQlqb3VybmFsX3R5cGU6IEVudGl0eVR5cGUuQVVUT19KT1VSTkFMLAoJCQkJdHJhbnNhY3Rpb25fdHlwZTogRW50aXR5VHlwZS5DQVNIX0FEVkFOQ0UsCgkJCQltb250aF9vZjogdGhpcy5jYXNoQWR2YW5jZS5tb250aF9vZiwKCQkJCXByb2plY3RfdXVpZDogdGhpcy5jYXNoQWR2YW5jZS5wcm9qZWN0X3V1aWQsCgkJCQlzZWdtZW50X3V1aWQ6IHRoaXMuY2FzaEFkdmFuY2Uuc2VnbWVudF91dWlkLAoJCQkJbG9jYXRpb25fdXVpZDogdGhpcy5jYXNoQWR2YW5jZS5sb2NhdGlvbl91dWlkLAoJCQkJcHJlZml4X2Zvcm1hdDogdGhpcy5jYXNoQWR2YW5jZS5wcmVmaXhfZm9ybWF0LAoJCQkJaXNfZHJhZnQ6IHRoaXMuY2FzaEFkdmFuY2UuaXNfZHJhZnQsCgkJCQljcmVhdGVkX2RhdGU6IHRoaXMuY2FzaEFkdmFuY2UuY3JlYXRlZF9kYXRlLAoJCQkJY3JlYXRlZF9ieTogdGhpcy5jYXNoQWR2YW5jZS5jcmVhdGVkX2J5LAoJCQkJbW9kaWZpZWRfYnk6IHRoaXMuY2FzaEFkdmFuY2UubW9kaWZpZWRfYnksCgkJCX0pOwoKCQkJLy8gSm91cm5hbCBFbnRyaWVzCgkJCWxldCBlbnRyaWVzID0gW107CgkJCXRoaXMuY2FzaEFkdmFuY2UuZGV0YWlscy5mb3JFYWNoKCh2YWx1ZSkgPT4gewoJCQkJZW50cmllcy5wdXNoKG5ldyBKb3VybmFsRW50cnlNb2RlbCh2YWx1ZSkpOwoJCQl9KTsKCQkJdGhpcy5qb3VybmFsRW50cmllcyA9IGVudHJpZXM7CgkJfSwKCQkvLyBWYWxpZGF0aW5nCgkJdmFsaWRhdGVGb3JtKCkgewoJCQlsZXQgcmVzdWx0ID0gdHJ1ZSwKCQkJCWRzID0gdGhpcy4kcmVmcy5jYXNoQWNjb3VudEVudHJ5RFMua2VuZG9XaWRnZXQoKSwKCQkJCW1zZyA9ICIiLAoJCQkJY291bnRFbXB0eSA9IDAsCgkJCQlzZWNvbmRhcnlBY2NvdW50Q291bnQgPSAwOwoKCQkJLy8gQ2FzaCBBZHZhbmNlIEFjY291bnQKCQkJaWYgKHRoaXMuY2FzaEFkdmFuY2VBY2NvdW50LnV1aWQgPT09ICIiKSB7CgkJCQltc2cgKz0gYDxwPiR7aTE4bi50KCJjYXNoX2FkdmFuY2VfYWNjb3VudF9pc19yZXF1aXJlZCIpfTwvcD5gOwoJCQkJcmVzdWx0ID0gZmFsc2U7CgkJCX0KCgkJCS8vIEVtcGxveWVlCgkJCWlmICh0aGlzLmVtcGxveWVlLmlkID09PSAiIikgewoJCQkJbXNnICs9IGA8cD4ke2kxOG4udCgiZW1wbG95ZWVfaXNfcmVxdWlyZWQiKX08L3A+YDsKCQkJCXJlc3VsdCA9IGZhbHNlOwoJCQl9CgoJCQkvLyBTZWxlY3QgQWNjb3VudCBhbmQgQW1vdW50CgkJCWRzLmRhdGEoKS5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHsKCQkJCS8vIE5vIGFjY291bnQKCQkJCWlmICh2YWx1ZS5hY2NvdW50Lm5hbWUgPT09ICIiICYmIHZhbHVlLmFtb3VudCA+IDApIHsKCQkJCQlyZXN1bHQgPSBmYWxzZTsKCQkJCQltc2cgKz0gYDxwPiR7aTE4bi50KCJwbGVhc2Vfc2VsZWN0X2FjY291bnRfYXRfcm93X251bWJlciIpfSAke2luZGV4ICsKCQkJCQkJMX08L3A+YDsKCQkJCX0KCgkJCQkvLyBObyBhbW91bnQKCQkJCWlmICh2YWx1ZS5hY2NvdW50Lm5hbWUgIT09ICIiICYmIHZhbHVlLmFtb3VudCA9PT0gMCkgewoJCQkJCXJlc3VsdCA9IGZhbHNlOwoJCQkJCW1zZyArPSBgPHA+JHt2YWx1ZS5hY2NvdW50Lm5hbWV9ICR7aTE4bi50KCJoYXNfbm9fYW1vdW50Iil9PC9wPmA7CgkJCQl9CgoJCQkJLy8gQ291bnQgRW1wdHkgUm93CgkJCQlpZiAodmFsdWUuYWNjb3VudC5uYW1lICE9PSAiIiAmJiB2YWx1ZS5hbW91bnQgPiAwKSB7CgkJCQkJY291bnRFbXB0eSsrOwoJCQkJfQoKCQkJCS8vIENvdW50IHNlY29uZGFyeSBhY2NvdW50CiAgICAgICAgICAgICAgICBpZiAodmFsdWUuc2Vjb25kYXJ5X2FjY291bnQudXVpZCAhPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlBY2NvdW50Q291bnQrKzsKICAgICAgICAgICAgICAgIH0KCQkJfSk7CgoJCQkvLyBFbXB0eSBSb3cKCQkJaWYgKGNvdW50RW1wdHkgPT09IDApIHsKCQkJCW1zZyArPSBgPHA+JHtpMThuLnQoInBsZWFzZV9zZWxlY3RfYWNjb3VudF9hbmRfZW50ZXJfYW1vdW50Iil9PC9wPmA7CgkJCQlyZXN1bHQgPSBmYWxzZTsKCQkJfQoKCQkJLy8gU2Vjb25kYXJ5IEFjY291bnQKCQkJaWYgKHRoaXMuc2Vjb25kYXJ5QWNjb3VudC51dWlkID09PSAiIiAmJiBzZWNvbmRhcnlBY2NvdW50Q291bnQgPiAwKSB7CiAgICAgICAgICAgICAgICBtc2cgKz0gYDxwPiR7aTE4bi50KCJzZWNvbmRhcnlfYWNjb3VudF9pc19yZXF1aXJlZCIpfTwvcD5gOwogICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5QWNjb3VudC51dWlkICE9PSAiIiAmJiBzZWNvbmRhcnlBY2NvdW50Q291bnQgPT09IDApIHsKICAgICAgICAgICAgICAgIG1zZyArPSBgPHA+JHtpMThuLnQoInNlY29uZGFyeV9jYXNoX2FjY291bnRfaXNfcmVxdWlyZWQiKX08L3A+YDsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICAgICAgICB9CgoJCQkvKiBTZWdtZW50ICovCgkJCWlmICh0aGlzLnNlZ21lbnQuaWQgPT09ICIiKSB7CgkJCQltc2cgKz0gYDxwPiR7aTE4bi50KCJzZWdtZW50X2lzX3JlcXVpcmVkIil9PC9wPmA7CgkJCQlyZXN1bHQgPSBmYWxzZTsKCQkJfQoKCQkJLy8gU2hvdyBBbGVydAoJCQl0aGlzLmVycm9yTWVzc2FnZSA9IG1zZzsKCQkJdGhpcy5hbGVydCA9IGZhbHNlOwoJCQlpZiAocmVzdWx0ID09PSBmYWxzZSkgewoJCQkJdGhpcy5hbGVydCA9IHRydWU7CgkJCX0KCgkJCXJldHVybiByZXN1bHQ7CgkJfSwKCQkvLyBBbGwgU2F2ZXMKCQlhc3luYyBvblNhdmVPcHRpb25DbGljayhtb2RlKSB7CgkJCWlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSAmJiB0aGlzLnZhbGlkYXRlRm9ybSgpKSB7CgkJCQlsZXQgaXNWYWxpZENsb3NpbmdEYXRlID0gYXdhaXQgSGVscGVyLnZhbGlkYXRlQ2xvc2luZ0RhdGUoCgkJCQkJdGhpcy5jYXNoQWR2YW5jZS5hZHZhbmNlX2RhdGUKCQkJCSk7CgkJCQlpZiAoaXNWYWxpZENsb3NpbmdEYXRlKSB7CgkJCQkJdGhpcy5zYXZlTW9kZSA9IG1vZGU7CgkJCQkJdGhpcy5zYXZlKCk7CgkJCQl9CgkJCX0KCQl9LAoJCWNhbmNlbCgpIHsKCQkJdGhpcy4kc3dhbCh7CgkJCQl0aXRsZTogaTE4bi50KCJtc2dfdGl0bGVfd2FybmluZyIpLAoJCQkJdGV4dDogaTE4bi50KCJtc2dfZGlzY2FyZCIpLAoJCQkJaWNvbjogIndhcm5pbmciLAoJCQkJc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKCQkJCWNhbmNlbEJ1dHRvblRleHQ6IGkxOG4udCgiY2FuY2VsIiksCgkJCQljb25maXJtQnV0dG9uQ29sb3I6ICIjNGQ0ODQ4IiwKCQkJCWNhbmNlbEJ1dHRvbkNvbG9yOiAiI0VEMUEzQSIsCgkJCQljb25maXJtQnV0dG9uVGV4dDogaTE4bi50KCJkaXNjYXJkIiksCgkJCX0pLnRoZW4oKHJlc3VsdCkgPT4gewoJCQkJaWYgKHJlc3VsdC52YWx1ZSkgewoJCQkJCXRoaXMuY2xlYXIoKTsKCQkJCQl0aGlzLiRyb3V0ZXIuZ28oLTEpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCWNsZWFyKCkgewoJCQl0aGlzLmlzRWRpdCA9IGZhbHNlOwoJCQl0aGlzLnNhdmVNb2RlID0gIiI7CgkJCXRoaXMudG90YWxBbW91bnQgPSAwOwoKCQkJdGhpcy5jYXNoQWR2YW5jZSA9IG5ldyBDYXNoQWR2YW5jZU1vZGVsKCk7CgkJCXRoaXMuam91cm5hbCA9IG51bGw7CgkJCXRoaXMuam91cm5hbEVudHJpZXMgPSBbXTsKCQkJdGhpcy5lbXBsb3llZSA9IG5ldyBFbXBsb3llZU1vZGVsKCk7CgkJCXRoaXMuY3VycmVuY3kgPSBuZXcgQ3VycmVuY3lNb2RlbChpbnN0aXR1dGUuYmFzZUN1cnJlbmN5KTsKCQkJdGhpcy5leGNoYW5nZVJhdGUgPSBuZXcgRXhjaGFuZ2VSYXRlTW9kZWwoaW5zdGl0dXRlLmJhc2VDdXJyZW5jeSk7CgkJCXRoaXMuY2FzaEFkdmFuY2VBY2NvdW50ID0gbmV3IEFjY291bnRNb2RlbCgpOwoJCQl0aGlzLnNlY29uZGFyeUFjY291bnQgPSBuZXcgQWNjb3VudE1vZGVsKCk7CgkJCXRoaXMucHJvamVjdCA9IG5ldyBQcm9qZWN0TW9kZWwoKTsKCQkJdGhpcy5zZWdtZW50ID0gbmV3IFNlZ21lbnRNb2RlbCgpOwoJCQl0aGlzLmxvY2F0aW9uID0gbmV3IExvY2F0aW9uTW9kZWwoKTsKCgkJCWxldCBkcyA9IHRoaXMuJHJlZnMuY2FzaEFjY291bnRFbnRyeURTLmtlbmRvV2lkZ2V0KCk7CgkJCWRzLmRhdGEoW10pOwoKCQkJdGhpcy5zZXREZWZhdWx0RGF0YSgpOwoJCX0sCgkJc2F2ZSgpIHsKCQkJbGV0IHNlbGYgPSB0aGlzOwoKCQkJLy8gRHJhZnQgTW9kZQoJCQlpZiAodGhpcy5zYXZlTW9kZSA9PT0gU2F2ZU9wdGlvbi5TQVZFRFJBRlQpIHsKCQkJCXRoaXMuY2FzaEFkdmFuY2UuaXNfZHJhZnQgPSAxOwoJCQkJdGhpcy5jYXNoQWR2YW5jZS5zdGF0dXMgPSBXb3JrRmxvd1N0YXR1cy5EUkFGVDsKCQkJfSBlbHNlIHsKCQkJCXRoaXMuY2FzaEFkdmFuY2UuaXNfZHJhZnQgPSAwOwoJCQkJaWYgKAoJCQkJCXRoaXMuY2FzaEFkdmFuY2Uuc3RhdHVzID09PSAiIiB8fAoJCQkJCXRoaXMuY2FzaEFkdmFuY2Uuc3RhdHVzID09PSBXb3JrRmxvd1N0YXR1cy5EUkFGVAoJCQkJKSB7CgkJCQkJdGhpcy5jYXNoQWR2YW5jZS5zdGF0dXMgPSBXb3JrRmxvd1N0YXR1cy5BUFBST1ZFRDsKCQkJCX0KCQkJfQoKCQkJLy8gU2hyaW5rIERhdGEKCQkJdGhpcy5zaHJpbmtEYXRhKCk7CgoJCQkvLyBBZGQgSm91cm5hbAoJCQl0aGlzLmFkZEpvdXJuYWwoKTsKCgkJCS8vIFN5bmMgRGF0YQoJCQl0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKCQkJY2FzaEFkdmFuY2VIYW5kbGVyCgkJCQkuc2F2ZSh7CgkJCQkJY2FzaF9hZHZhbmNlOiB0aGlzLmNhc2hBZHZhbmNlLAoJCQkJCWpvdXJuYWw6IHRoaXMuam91cm5hbCwKCQkJCQlqb3VybmFsX2VudHJpZXM6IHRoaXMuam91cm5hbEVudHJpZXMsCgkJCQl9KQoJCQkJLnRoZW4oKHJlc3BvbnNlKSA9PiB7CgkJCQkJaWYgKHJlc3BvbnNlKSB7CgkJCQkJCXNlbGYucmVzcG9uc2VTdGF0dXMocmVzcG9uc2UpOwoJCQkJCX1lbHNlewoJCQkJCQl0aGlzLiRzbm90aWZ5LmVycm9yKGkxOG4udCgiZXJyb3Jfc29tZXRoaW5nX3dyb25nIikpOwoJCQkJCX0KCQkJCX0pCgkJCQkuY2F0Y2goKGVycm9yKSA9PiB7CgkJCQkJc2VsZi5zaG93TG9hZGluZyA9IGZhbHNlOwoJCQkJCXRoaXMuJHNub3RpZnkuZXJyb3IoZXJyb3IpOwoJCQkJfSkKCQkJCS5maW5hbGx5KCgpID0+IHsKCQkJCQlzZWxmLnNob3dMb2FkaW5nID0gZmFsc2U7CgkJCQl9KTsKCQl9LAoJCS8vIFJlc3BvbnNlIFN0YXR1cwoJCXJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlKSB7CgkJCWlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewoJCQkJaWYgKHRoaXMuc2F2ZU1vZGUgPT09IFNhdmVPcHRpb24uU0FWRUNMT1NFIHx8IHRoaXMuc2F2ZU1vZGUgPT09IFNhdmVPcHRpb24uREVMRVRFKSB7IC8qIFNhdmUgQ2xvc2Ugb3IgRGVsZXRlICovCgkJCQkJaWYgKHRoaXMuaXNFZGl0KSB7CgkJCQkJCXRoaXMuZ29CYWNrVG9WaWV3UGFnZSgpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCXRoaXMuJHJvdXRlci5nbygtMSk7CgkJCQkJfQoJCQkJfQoJCQkKCQkJCXRoaXMuY2xlYXIoKTsKCgkJCQkvKiBBbGVydCBTdWNjZXNzICovCgkJCQl0aGlzLiRzbm90aWZ5LnN1Y2Nlc3MoaTE4bi50KCJzdWNjZXNzZnVsIikpOwoJCQl9IGVsc2UgewoJCQkJLyogQWxlcnQgRXJyb3IgKi8KCQkJCXRoaXMuJHNub3RpZnkuZXJyb3IoaTE4bi50KCJlcnJvcl9zb21ldGhpbmdfd3JvbmciKSk7CgkJCX0KCQl9LAoJCS8vIEdvIGJhY2sgdG8gdmlldyBwYWdlIGFmdGVyIGVkaXQgbW9kZQoJCWdvQmFja1RvVmlld1BhZ2UoKSB7CgkJCXRoaXMuJHJvdXRlci5yZXBsYWNlKHsKCQkJCW5hbWU6ICJDYXNoIEFkdmFuY2UgVmlldyIsCgkJCQlwYXJhbXM6IHsgaW5pdENhc2hBZHZhbmNlOiBPYmplY3QuYXNzaWduKHt9LCBuZXcgQ2FzaEFkdmFuY2VNb2RlbCh0aGlzLmNhc2hBZHZhbmNlKSkgfSwKCQkJfSk7CgkJfSwKCQkvLyBTaWRlYmFyCgkJaGlkZV9zbWFsbHNpdGViYXIoKSB7CgkJCWlmICghdGhpcy5pc0hpZGVCYXIpIHsKCQkJCXRoaXMuaXNIaWRlQmFyID0gdHJ1ZTsKCQkJfSBlbHNlIHsKCQkJCXRoaXMuaXNIaWRlQmFyID0gZmFsc2U7CgkJCX0KCQl9LAoJfSwKCXdhdGNoOiB7CgkJaW5pdENhc2hBZHZhbmNlKCkgewoJCQl0aGlzLmluaXRpYWxEYXRhKCk7CgkJfSwKCQlpbml0QWR2YW5jZVJlcXVlc3QoKSB7CgkJCXRoaXMuaW5pdGlhbERhdGEoKTsKCQl9LAoJfSwKCW1vdW50ZWQoKSB7CgkJLy8gSW5pdGlhbCBEYXRhCgkJdGhpcy5pbml0aWFsRGF0YSgpOwoJfSwKfTsK"},{"version":3,"sources":["CashAdvance.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CashAdvance.vue","sourceRoot":"src/views/suppliers","sourcesContent":["<template>\n\t<v-app>\n\t\t<v-container>\n\t\t\t<v-row>\n\t\t\t\t<v-col sm=\"12\" cols=\"12\">\n\t\t\t\t\t<v-card\n\t\t\t\t\t\toutlined\n\t\t\t\t\t\tdense\n\t\t\t\t\t\tclass=\"pa-4 no_border rounded-sm\"\n\t\t\t\t\t\tcolor=\"white\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t<v-col\n\t\t\t\t\t\t\t\tclass=\"bigSide py-0\"\n\t\t\t\t\t\t\t\tsm=\"8\"\n\t\t\t\t\t\t\t\tcols=\"12\"\n\t\t\t\t\t\t\t\tstyle=\"transition: 0.3s ease-in\"\n\t\t\t\t\t\t\t\t:class=\"{ hide_big_bar_class: isHideBar }\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n\t\t\t\t\t\t\t\t\t<v-card outlined dense class=\"no_border\">\n\t\t\t\t\t\t\t\t\t\t<h2 class=\"mb-0\">\n\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"cash_advance\") }}\n\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t<v-icon\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"isHideBar\"\n\t\t\t\t\t\t\t\t\t\t\tonclick=\"window.history.go(-1); return false;\"\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: #333;\n\t\t\t\t\t\t\t\t\t\t\t\tfont-size: 40px;\n\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"float-right\"\n\t\t\t\t\t\t\t\t\t\t\t>close\n\t\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\t\t\t\t\ttransition: 0.3s ease-in;\n\t\t\t\t\t\t\t\t\t\t\t\tz-index: 10;\n\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t\t\t\t\ticonArrow: !isHideBar,\n\t\t\t\t\t\t\t\t\t\t\t\ticonArrowHide: isHideBar,\n\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<v-icon\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"22\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"arr_icon\"\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"hide_smallsitebar\"\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"isHideBar\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tmdi-chevron-left-circle\n\t\t\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t\t\t\t<v-icon\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"22\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"arr_icon\"\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"hide_smallsitebar\"\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"!isHideBar\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tmdi-chevron-right-circle\n\t\t\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t\t<!-- Body -->\n\t\t\t\t\t\t\t\t\t<v-card\n\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\tdense\n\t\t\t\t\t\t\t\t\t\tclass=\"px-3 no_border mb-3\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"grayBg\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"employee\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<app-employee-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t\t:initEmployee=\"employee\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@emitEmployee=\"employee = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"loadAdvanceRequest\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"txn_currency\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<app-currency-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t\t:initCurrency=\"currency\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@emitCurrency=\"currency = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"getExchangeRate\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"advance_account\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<app-cash-advance-account-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t\t:initAccount=\"cashAdvanceAccount\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@emitAccount=\"cashAdvanceAccount = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\n                                            \n\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"date\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<app-datepicker\n\t\t\t\t\t\t\t\t\t\t\t\t\t:initialDate=\"cashAdvance.advance_date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@emitDate=\"cashAdvance.advance_date = $event\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@onChanged=\"onDateChanges\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"advance_request\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-select\n\t\t\t\t\t\t\t\t\t\t\t\t\t:disabled=\"employee.id === ''\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select Advance Request\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:loading=\"showAdvanceRequestLoading\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@change=\"onAdvanceRequestChanges\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"advanceRequest\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:items=\"advanceRequests\"\n\t\t\t\t\t\t\t\t\t\t\t\t\titem-value=\"uuid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\titem-text=\"ref_number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn-object\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclearable\n\t\t\t\t\t\t\t\t\t\t\t\t\toutlined>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template slot=\"selection\" slot-scope=\"{ item }\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ item.ref_number }} : {{ Number(item.request_amount).toLocaleString() }} {{ item.currency.code }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template slot=\"item\" slot-scope=\"{ item }\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ item.ref_number }} : {{ Number(item.request_amount).toLocaleString() }} {{ item.currency.code }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-select>\n\t\t\t\t\t\t\t\t\t\t\t\t<div v-if=\"this.$store.state.accounting.secondaryAccount\">\n                                                    <label class=\"label\">{{ $t(\"secondary_account\")  }}</label>\n                                                    <app-secondary-account-dropdownlist\n                                                        :initPrimaryAccountId=\"cashAdvanceAccount.uuid\"\n                                                        :initAccount=\"secondaryAccount\"\n                                                        @emitAccount=\"secondaryAccount = $event\"/>\n                                                </div>\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"number\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col sm=\"12\" cols=\"10\" class=\" py-0 mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:rules=\"[(v) => !!v || 'Number is required']\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"cashAdvance.number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadonly\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <v-col sm=\"2\" cols=\"2\" class=\"pl-0 py-0 mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"black\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"border_qrcode\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"generateNumber\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>mdi-qrcode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col> -->\n\t\t\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{\n\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\"expected_settlement_date\")\n\t\t\t\t\t\t\t\t\t\t\t\t}}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<app-datepicker\n\t\t\t\t\t\t\t\t\t\t\t\t\t:initialDate=\"cashAdvance.expected_settlement_date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@emitDate=\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcashAdvance.expected_settlement_date = $event\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"description\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-textarea\n\t\t\t\t\t\t\t\t\t\t\t\t\tno-resize\n\t\t\t\t\t\t\t\t\t\t\t\t\theight=\"60px\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"cashAdvance.description\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:placeholder=\"$t('transaction_pupose')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t\t<v-row\n\t\t\t\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\t\t\t\tbackground-color: rgb(\n\t\t\t\t\t\t\t\t\t\t\t\t255,\n\t\t\t\t\t\t\t\t\t\t\t\t255,\n\t\t\t\t\t\t\t\t\t\t\t\t255\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\t\t\t\tmargin: 0 auto 0px;\n\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<v-col sm=\"12\" cols=\"12\" class=\"pb-3 pa-0\">\n\t\t\t\t\t\t\t\t\t\t\t<kendo-datasource\n\t\t\t\t\t\t\t\t\t\t\t\tref=\"cashAccountEntryDS\"\n\t\t\t\t\t\t\t\t\t\t\t\t:data=\"cashAccountEntries\"\n\t\t\t\t\t\t\t\t\t\t\t\t:change=\"onCashAccountDSChanges\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t<kendo-grid\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"cashAccountGrid\"\n\t\t\t\t\t\t\t\t\t\t\t\tref=\"cashAccountGrid\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"grid-function\"\n\t\t\t\t\t\t\t\t\t\t\t\t:data-source-ref=\"'cashAccountEntryDS'\"\n\t\t\t\t\t\t\t\t\t\t\t\t:sortable=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t:filterable=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t:column-menu=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t:editable=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t:scrollable-virtual=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('no.')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"rowNumberTmpl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"55\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:column-menu=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5;',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: 'text-products',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: products',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- <kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'payment_method'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('payment_option')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"'<span>#=payment_method.name#</span>'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:editor=\"PaymentOptionEditor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t/> -->\n\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'account'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('account')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"this.$store.state.accounting.accountLanguage === 'English' ? '<span>#=account.number#</span> <span>#=account.name#</span>' : '<span>#=account.number#</span> <span>#=account.local_name#</span>' \"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:editor=\"AccountEditor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'secondary_account'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('s_account')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$store.state.accounting.accountLanguage ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'English'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '<span>#=secondary_account.number#</span> <span>#=secondary_account.name#</span>'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '<span>#=secondary_account.number#</span> <span>#=secondary_account.local_name#</span>'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:hidden=\"!this.$store.state.accounting.secondaryAccount\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:editor=\"AccountSecondaryEditor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'description'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('description')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'ref_number'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('reference_no')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"160\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'amount'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('amount')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:format=\"'{0:n}'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"150\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right; ',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t:command=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonClass: 'k-icon k-i-trash',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: ' ',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclick: removeRow,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: 'btn-plus',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"65\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</kendo-grid>\n\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t<v-row style=\"background-color: #fff\">\n\t\t\t\t\t\t\t\t\t\t<v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"float-left btn_plus rounded-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"addRow\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-icon class=\"ma-1\">mdi-plus</v-icon>\n\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"float-left white--text rounded-0 ml-3 add_account mr-3\"\n\t\t\t\t\t\t\t\t\t\t\t\tlink\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"third\"\n\t\t\t\t\t\t\t\t\t\t\t\troute\n\t\t\t\t\t\t\t\t\t\t\t\tto=\"account\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"add_account\") }}\n\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t\t<v-col sm=\"3\" cols=\"12\" class=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t<template>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-file-input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-0 pt-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsm=\"3\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcols=\"6\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:placeholder=\"$t('attachment')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\t\t\t\t\t\tprepend-icon=\"mdi-paperclip\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-slot:selection=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-chip small label color=\"primary\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ text }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-chip>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-file-input>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t\t\t\t<!-- And Body -->\n\t\t\t\t\t\t\t\t\t<v-divider />\n\t\t\t\t\t\t\t\t\t<v-card outlined dense class=\"no_border function_footer\">\n\t\t\t\t\t\t\t\t\t\t<!-- Alert Error Message -->\n\t\t\t\t\t\t\t\t\t\t<v-alert type=\"warning\" v-model=\"alert\" dismissible>\n\t\t\t\t\t\t\t\t\t\t\t<span v-html=\"errorMessage\" />\n\t\t\t\t\t\t\t\t\t\t</v-alert>\n\n\t\t\t\t\t\t\t\t\t\t<!-- Save Buttons -->\n\t\t\t\t\t\t\t\t\t\t<v-menu>\n\t\t\t\t\t\t\t\t\t\t\t<template v-slot:activator=\"{ on }\">\n\t\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mr-2 float-left  select_template\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-on=\"on\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"select_template\") }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t<v-list>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(item, index) in templates\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ item.title }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-title>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t\t\t\t\t\t\t</v-list>\n\t\t\t\t\t\t\t\t\t\t</v-menu>\n\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"black\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"float-left  white--text text-capitalize\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"cancel\"\n\t\t\t\t\t\t\t\t\t\t\t>{{ $t(\"cancel\") }}\n\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t<v-menu>\n\t\t\t\t\t\t\t\t\t\t\t<template v-slot:activator=\"{ on }\">\n\t\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"ml-2 float-right  white--text text-capitalize\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-on=\"on\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"save_option\") }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon size=\"\" class=\"ma-1\">expand_more</v-icon>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t<v-list rounded>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item v-if=\"!isEdit\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"onSaveOptionClick(SaveOption.SAVENEW)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"save_new\") }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-title>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"onSaveOptionClick(SaveOption.SAVEPRINT)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"save_print\") }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-title>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item v-if=\"!isEdit\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"onSaveOptionClick(SaveOption.SAVEDRAFT)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"save_draft\") }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-title>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-content>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-group>\n\t\t\t\t\t\t\t\t\t\t\t</v-list>\n\t\t\t\t\t\t\t\t\t\t</v-menu>\n\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"float-right  white--text text-capitalize\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"onSaveOptionClick(SaveOption.SAVECLOSE)\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"save_close\") }}\n\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t</v-form>\n\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t<v-col\n\t\t\t\t\t\t\t\tclass=\"smallSide\"\n\t\t\t\t\t\t\t\tsm=\"4\"\n\t\t\t\t\t\t\t\tstyle=\"transition: 0.3s ease-in\"\n\t\t\t\t\t\t\t\t:class=\"{ hide_small_bar_class: isHideBar }\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\t\t\tstyle=\"color: #b3b5bc; font-size: 20px\"\n\t\t\t\t\t\t\t\t\tv-if=\"!isHideBar\"\n\t\t\t\t\t\t\t\t\tclass=\"text-uppercase float-right mt-n3\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span class=\"pointer\" @click=\"Help('cash advance')\">\n\t\t\t\t\t\t\t\t\t\t{{ $t(\"help\") }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<v-icon size=\"40\" class=\"pointer\" @click=\"cancel()\"\n\t\t\t\t\t\t\t\t\t\t>close\n\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t</h3>\n\n\t\t\t\t\t\t\t\t<div v-if=\"!isHideBar\" class=\"small_sidebar mt-8 px-4 grayBg\">\n\t\t\t\t\t\t\t\t\t<v-card\n\t\t\t\t\t\t\t\t\t\tclass=\"pa-3 no-boxshadow d-flex flex-column\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\theight=\"70\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<h3 class=\"text-white justify-start text-uppercase mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"amount_requested\") }}\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t<h3 class=\"text-bold font_20 justify-end white--text\">\n\t\t\t\t\t\t\t\t\t\t\t{{ Number(totalAmount).toLocaleString() }}\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t</v-card>\n\n\t\t\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t\t\t<v-col sm=\"12\" cols=\"6\" class=\"pt-2 pb-0\">\n\t\t\t\t\t\t\t\t\t\t\t<label style=\"line-height:23px;\" class=\"label\">{{\n\t\t\t\t\t\t\t\t\t\t\t\t$t(\"business_unit_segment\")\n\t\t\t\t\t\t\t\t\t\t\t}}</label>\n\t\t\t\t\t\t\t\t\t\t\t<app-segment-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t:initSegment=\"segment\"\n\t\t\t\t\t\t\t\t\t\t\t\t@emitSegment=\"segment = $event\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<label class=\"label mb-0\">{{ $t(\"location\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t<app-location-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t:initLocation=\"location\"\n\t\t\t\t\t\t\t\t\t\t\t\t@emitLocation=\"location = $event\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ $t(\"project\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t<app-project-dropdownlist\n\t\t\t\t\t\t\t\t\t\t\t\t:initProject=\"project\"\n\t\t\t\t\t\t\t\t\t\t\t\t@emitProject=\"project = $event\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<!-- <label class=\"label\">{{ $t(\"for_the_month_of\") }}</label>\n\t\t\t\t\t\t\t\t\t\t\t<app-monthof-picker\n\t\t\t\t\t\t\t\t\t\t\t\t:initMonthOf=\"cashAdvance.month_of\"\n\t\t\t\t\t\t\t\t\t\t\t\t@emitMonthOf=\"cashAdvance.month_of = $event\"\n\t\t\t\t\t\t\t\t\t\t\t/> -->\n\t\t\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t\t\t</v-row>\n\n\t\t\t\t\t\t\t\t\t<p class=\"mb-0 detial_smallside_p font_14\">\n\t\t\t\t\t\t\t\t\t\t{{ $t(\"advance_function_desc\") }}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t</v-row>\n\t\t\t\t\t</v-card>\n\t\t\t\t</v-col>\n\t\t\t</v-row>\n\t\t\t<LoadingMe \n\t\t\t\ttype=\"loading\"\n\t\t\t\t:isLoading=\"showLoading\" \n\t\t\t\t:fullPage=\"true\" \n\t\t\t\t:myLoading=\"true\" />\n\t\t</v-container>\n\t</v-app>\n</template>\n\n<script>\nimport { i18n } from \"@/i18n\";\nimport kendo from \"@progress/kendo-ui\";\nimport Helper from \"@/helper.js\";\nimport { ShowResource } from \"@/observable/store\";\nimport {\n\tCashAdvanceModel,\n\tCashAdvanceDetailModel,\n\tJournalModel,\n\tJournalEntryModel,\n\tAccountModel,\n\tEmployeeModel,\n\tContactModel,\n\tCurrencyModel,\n\tExchangeRateModel,\n\tProjectModel,\n\tSegmentModel,\n\tLocationModel,\n} from \"@/scripts/model/AppModels\";\nimport PaymentOptionModel from \"@/scripts/model/PaymentOption\";\nimport ResponseDataModel from \"@/scripts/model/ResponseData\";\nimport AccountSecondaryEditor from \"@/scripts/kendo_editor/AccountSecondary\";\n\n/* Editors */\nimport AccountEditor from \"@/scripts/kendo_editor/Account\";\n// import PaymentOptionEditor from \"@/scripts/kendo_editor/SupplierPaymentOptionEditor\";\n\n/* Store */\nimport store from \"@/store\";\nconst institute = store.state.institute.institute;\n\nconst cashAdvanceHandler = require(\"@/scripts/handler/workingcapital/cashAdvanceHandler.js\");\nconst {\n\tSaveOption,\n\tEntityType,\n\tAccountTypeCode,\n\tWorkFlowStatus,\n} = require(\"@/scripts/default_setup/Collections\");\n\nexport default {\n\tname: \"CashAdvance\",\n\tcomponents: {\n\t\tLoadingMe: () => import(\"@/components/Loading\"),\n\t\t\"app-datepicker\": () =>\n\t\t\timport(\"@/components/custom_templates/DatePickerComponent\"),\n\t\t// \"app-monthof-picker\": () =>\n\t\t//   import(\"@/components/kendo_templates/MonthOfPicker\"),\n\t\t\"app-currency-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Currency\"),\n\t\t\"app-cash-advance-account-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/CashAdvanceAccount\"),\n\t\t\"app-location-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Location\"),\n\t\t\"app-employee-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Employee\"),\n\t\t\"app-project-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Project\"),\n\t\t\"app-segment-dropdownlist\": () =>\n\t\t\timport(\"@/components/dropdownlist/Segment\"),\n\t\t\"app-secondary-account-dropdownlist\": () => import('@/components/dropdownlist/AccountSecondary'),\n\t},\n\tprops: {\n\t\tinitCashAdvance: {\n\t\t\ttype: CashAdvanceModel,\n\t\t},\n\t\tinitAdvanceRequest: {\n\t\t\ttype: CashAdvanceModel,\n\t\t},\n\t},\n\tdata: () => ({\n\t\t// Obj\n\t\tcashAdvance: new CashAdvanceModel(),\n\t\tadvanceRequest: new CashAdvanceModel(),\n\t\tadvanceRequests: [],\n\t\tjournal: null,\n\t\tjournalEntries: [],\n\t\tcashAccountEntries: [], // Credit side\n\t\temployee: new EmployeeModel(),\n\t\tcurrency: new CurrencyModel(institute.baseCurrency),\n\t\texchangeRate: new ExchangeRateModel(institute.baseCurrency),\n\t\tcashAdvanceAccount: new AccountModel(),\n\t\tsecondaryAccount: new AccountModel(),\n\t\tproject: new ProjectModel(),\n\t\tsegment: new SegmentModel(),\n\t\tlocation: new LocationModel(),\n\t\t// Other\n\t\ttotalAmount: 0,\n\t\tuser: Helper.getUser(),\n\t\ttemplates: [],\n\t\t// Form validation\n\t\tvalid: true,\n\t\tisEdit: false,\n\t\talert: false,\n\t\terrorMessage: \"\",\n\t\tsaveMode: \"\",\n\t\tSaveOption: SaveOption,\n\t\t// Editors\n\t\tAccountEditor: AccountEditor,\n\t\tAccountSecondaryEditor : AccountSecondaryEditor,\n\t\t// Sidebar\n\t\tisHideBar: false,\n\t\t// LoadingMe\n\t\tshowLoading: false,\n\t\tshowAdvanceRequestLoading: false,\n\t}),\n\tmethods: {\n\t\tHelp(key_search) {\n\t\t\tShowResource(key_search);\n\t\t},\n\t\t// Initial Data\n\t\tinitialData() {\n\t\t\tif (this.initCashAdvance) {\n\t\t\t\t// Edit Mode\n\t\t\t\tthis.cashAdvance = Object.assign({}, this.initCashAdvance);\n\t\t\t\tthis.bindData();\n\t\t\t}else if (this.initAdvanceRequest) {\n\t\t\t\tthis.advanceRequest = Object.assign({}, this.initAdvanceRequest);\n\t\t\t\tthis.generateNumber();\n\t\t\t\tthis.bindAdvanceRequest();\n\t\t\t} else {\n\t\t\t\t// Brand New Mode\n\t\t\t\tthis.setDefaultData();\n\t\t\t}\n\t\t},\n\t\t// Set default data\n\t\tasync setDefaultData() {\n\t\t\t// Brand New Mode\n\t\t\tthis.isEdit = false;\n\n\t\t\t/* Set default */\n\t\t\tthis.cashAdvance = Object.assign({}, new CashAdvanceModel({\n\t\t\t\tadvance_date : new Date().toISOString().substr(0, 10),\n\t\t\t\texpected_settlement_date : new Date().toISOString().substr(0, 10),\n\t\t\t\tmonth_of : new Date().toISOString().substr(0, 7),\n\t\t\t\tstatus : WorkFlowStatus.APPROVED,\n\t\t\t}));\n\n\t\t\t/* Default Sidebar */\n\t\t\tlet segments = await this.$store.dispatch('segments/getList');\n\t\t\tthis.segment = new SegmentModel(segments.find(i => i.isSystem === 1));\n\n\t\t\tlet locations = await this.$store.dispatch('locations/getList');\n\t\t\tthis.location = new LocationModel(locations[0]);\n\n\t\t\t// Generate Number\n\t\t\tthis.generateNumber();\n\n\t\t\t// Add 2 default lines\n\t\t\tthis.addRow();\n\t\t\tthis.addRow();\n\t\t},\n\t\t// Bind data from prop for edit mode\n\t\tasync bindData() {\n\t\t\t// Edit Mode\n\t\t\tthis.isEdit = true;\n\n\t\t\t// Currency\n\t\t\tthis.currency = new CurrencyModel(this.cashAdvance.currency);\n\t\t\tthis.exchangeRate = new ExchangeRateModel(this.cashAdvance.currency);\n\t\t\tthis.exchangeRate.id = this.cashAdvance.details[0].exchange_rate_uuid;\n\t\t\tthis.exchangeRate.rate = this.cashAdvance.details[0].exchange_rate;\n\n\t\t\t// Employee\n\t\t\tthis.employee = new EmployeeModel(this.cashAdvance.requested_by);\n\n\t\t\t// Cash Account Entries\n\t\t\tlet secondaryAccounts = await this.$store.dispatch(\"accounting/getSecondaryAccounts\"),\n\t\t\t\tentries = [];\n\t\t\tthis.cashAdvance.details.forEach((value) => {\n\t\t\t\tif (value.amount < 0) { // Cr side\n\t\t\t\t\tlet detail = new CashAdvanceDetailModel(value);\n\t\t\t\t\tdetail.amount = value.amount * -1; //Convert from cr to normal number\n\n\t\t\t\t\t/* Secondary Account */\n\t\t\t\t\tdetail.secondary_account = new AccountModel(\n\t\t\t\t\t\tsecondaryAccounts.find((i) => i.uuid === value.secondary_acc_uuid)\n\t\t\t\t\t);\n\n\t\t\t\t\tentries.push(detail);\n\t\t\t\t} else { // Dr side\n\t\t\t\t\t// Cash Advance Account\n\t\t\t\t\tif (value.account.account_type.code === AccountTypeCode.CASH_ADVANCE) {\n\t\t\t\t\t\tthis.cashAdvanceAccount = new AccountModel(value.account);\n\t\t\t\t\t\tthis.totalAmount = value.amount;\n\n\t\t\t\t\t\t/* Secondary Account */\n                        this.secondaryAccount = new AccountModel(secondaryAccounts.find((i) => i.uuid === value.secondary_acc_uuid));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.cashAccountEntries = entries;\n\n\t\t\t// Sidebar\n\t\t\tlet segments = await this.$store.dispatch('segments/getList');\n\t\t\tthis.segment = new SegmentModel(segments.find(i => i.id === this.cashAdvance.segment_uuid));\n\n\t\t\tlet projects = await this.$store.dispatch('projects/getList');\n\t\t\tthis.project = new ProjectModel(projects.find(i => i.id === this.cashAdvance.project_uuid));\n\n\t\t\tlet locations = await this.$store.dispatch('locations/getList');\n\t\t\tthis.location = new LocationModel(locations.find(i => i.id === this.cashAdvance.location_uuid));\n\n\t\t\t/* Advance Request */\n\t\t\tif(this.cashAdvance.ref_number !== \"\" && this.cashAdvance.request_amount > 0){\n\t\t\t\tthis.advanceRequest = {\n\t\t\t\t\tuuid: this.cashAdvance.uuid,\n\t\t\t\t\tref_number: this.cashAdvance.ref_number,\n\t\t\t\t\trequest_amount: this.cashAdvance.request_amount\n\t\t\t\t};\n\n\t\t\t\tthis.advanceRequests = [this.advanceRequest];\n\t\t\t}\n\t\t},\n\t\t// Number\n\t\tasync generateNumber() {\n\t\t\tif (!this.isEdit) {\n\t\t\t\tlet num = await Helper.generateAccountingNumber(\n\t\t\t\t\tEntityType.CASH_ADVANCE,\n\t\t\t\t\tthis.cashAdvance.advance_date\n\t\t\t\t);\n\n\t\t\t\tthis.cashAdvance.number = num.number;\n\t\t\t\tthis.cashAdvance.prefix_format = num.prefix_format;\n\t\t\t}\n\t\t},\n\t\t// Get Exchange Rate\n\t\tasync getExchangeRate() {\n\t\t\tif (this.cashAdvance.advance_date && this.currency.code !== \"\") {\n\t\t\t\tthis.exchangeRate = await Helper.getLastExchangeRateByDate(\n\t\t\t\t\tthis.cashAdvance.advance_date,\n\t\t\t\t\tthis.currency.code\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.exchangeRate = new ExchangeRateModel(institute.baseCurrency);\n\t\t\t}\n\t\t},\n\t\t// Load Cash Advance\n\t\tloadAdvanceRequest() {\n\t\t\tif (this.employee.id !== \"\") {\n\t\t\t\tthis.showAdvanceRequestLoading = true;\n\t\t\t\t\n\t\t\t\tcashAdvanceHandler\n\t\t\t\t\t.getByEmployeeId(this.employee.id)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tlet responseData = new ResponseDataModel(res);\n\t\t\t\t\t\tthis.advanceRequests = responseData.data.filter((item) => item.status === WorkFlowStatus.PENDING);\n\t\t\t\t\t})\n\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\tthis.showAdvanceRequestLoading = false;\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/* On Date Chanes */\n\t\tonDateChanges () {\n\t\t\tthis.getExchangeRate();\n\t\t\tthis.generateNumber();\n\t\t},\n\t\t// On Advance Request Changes\n\t\tonAdvanceRequestChanges () {\n\t\t\tif(this.advanceRequest){\n\t\t\t\tthis.bindAdvanceRequest();\n\t\t\t}else{\n\t\t\t\tthis.clear();\n\t\t\t}\n\t\t},\n\t\t/* Bind Advance Request */\n\t\tasync bindAdvanceRequest () {\n\t\t\tthis.cashAdvance = new CashAdvanceModel(this.advanceRequest);\n\t\t\tthis.cashAdvance.description = this.advanceRequest.purpose;\n\n\t\t\tthis.cashAdvance.advance_date = new Date().toISOString().substr(0, 10);\n\t\t\tthis.cashAdvance.expected_settlement_date = new Date().toISOString().substr(0, 10);\n\t\t\tthis.cashAdvance.month_of = new Date().toISOString().substr(0, 7);\n\t\t\tthis.cashAdvance.status = WorkFlowStatus.APPROVED;\n\n\t\t\t// Employee\n\t\t\tthis.employee = new EmployeeModel(this.advanceRequest.requested_by);\n\t\t\tthis.advanceRequests = [this.advanceRequest];\n\n\t\t\t// Currency\n\t\t\tthis.currency = new CurrencyModel(this.advanceRequest.currency);\n\t\t\tthis.getExchangeRate();\n\n\t\t\t// Sidebar\n\t\t\tlet segments = await this.$store.dispatch('segments/getList');\n\t\t\tthis.segment = new SegmentModel(segments.find(i => i.id === this.advanceRequest.segment_uuid));\n\n\t\t\tlet projects = await this.$store.dispatch('projects/getList');\n\t\t\tthis.project = new ProjectModel(projects.find(i => i.id === this.advanceRequest.project_uuid));\n\n\t\t\tlet locations = await this.$store.dispatch('locations/getList');\n\t\t\tthis.location = new LocationModel(locations.find(i => i.id === this.advanceRequest.location_uuid));\n\n\t\t\t// Lines\n\t\t\tlet ds = this.$refs.cashAccountEntryDS.kendoWidget(),\n\t\t\tlast = ds.total();\n\t\t\t// Clear\n\t\t\tds.data([]);\n\n\t\t\tlet je = new CashAdvanceDetailModel();\n\t\t\tje.uuid = kendo.guid();\n\t\t\tje.amount = this.advanceRequest.request_amount;\n\n\t\t\tds.insert(last, je);\n\t\t\tthis.addRow();\n\t\t},\n\t\t/* Kendo */\n\t\t// DataSource Changes\n\t\tonCashAccountDSChanges(e) {\n\t\t\tif (e.field) {\n\t\t\t\tlet dataRow = e.items[0];\n\n\t\t\t\tif (e.field === \"account\") {\n\t\t\t\t\tdataRow.set(\"account_uuid\", dataRow.account.uuid);\n\n\t\t\t\t\tthis.addExtraRow(dataRow.uid);\n\t\t\t\t} else if (e.field === \"secondary_account\") {\n\t\t\t\t\tif (dataRow.secondary_account !== null) {\n\t\t\t\t\t\tdataRow.set(\"secondary_acc_uuid\", dataRow.secondary_account.uuid);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Set default when deselect\n\t\t\t\t\t\tdataRow.set(\"secondary_acc_uuid\", \"\");\n\t\t\t\t\t\tdataRow.set(\"secondary_account\", new AccountModel());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.dataSourceAutoCalculate();\n\t\t\t}\n\t\t},\n\t\t// Auto Calculate In DataSource\n\t\tdataSourceAutoCalculate() {\n\t\t\tlet ds = this.$refs.cashAccountEntryDS.kendoWidget(),\n\t\t\t\tsum = 0;\n\n\t\t\t// Sum\n\t\t\tds.data().forEach((value) => {\n\t\t\t\tsum += kendo.parseFloat(value.amount);\n\t\t\t});\n\n\t\t\tthis.totalAmount = sum;\n\t\t},\n\t\t// Row Number Template\n\t\trowNumberTmpl(dataItem) {\n\t\t\tlet ds = this.$refs.cashAccountEntryDS.kendoWidget(),\n\t\t\t\tindex = ds.indexOf(dataItem);\n\n\t\t\treturn index + 1;\n\t\t},\n\t\t// Add New Row\n\t\taddRow() {\n\t\t\tlet ds = this.$refs.cashAccountEntryDS.kendoWidget(),\n\t\t\t\tlast = ds.total(),\n\t\t\t\tje = new CashAdvanceDetailModel();\n\t\t\tje.uuid = kendo.guid();\n\t\t\tje.payment_method = new PaymentOptionModel();\n\n\t\t\tds.insert(last, je);\n\t\t},\n\t\t// Add Extra Row\n\t\taddExtraRow(uid) {\n\t\t\tlet ds = this.$refs.cashAccountEntryDS.kendoWidget(),\n\t\t\t\ttotal = ds.total(),\n\t\t\t\trow = ds.getByUid(uid),\n\t\t\t\tindex = ds.indexOf(row);\n\n\t\t\tif (index == total - 1) {\n\t\t\t\tthis.addRow();\n\t\t\t}\n\t\t},\n\t\t// Remove Row\n\t\tremoveRow(e) {\n\t\t\te.preventDefault();\n\n\t\t\tlet grid = this.$refs.cashAccountGrid.kendoWidget(),\n\t\t\t\tds = grid.dataSource,\n\t\t\t\tdataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n\n\t\t\tif (ds.data().length > 1) {\n\t\t\t\tds.remove(dataItem);\n\t\t\t}\n\t\t},\n\t\t// Shrink Data\n\t\tshrinkData() {\n\t\t\tlet entries = [],\n\t\t\t\tds = this.$refs.cashAccountEntryDS.kendoWidget();\n\n\t\t\t// Date\n\t\t\tthis.cashAdvance.advance_date = Helper.toISODate(\n\t\t\t\tthis.cashAdvance.advance_date\n\t\t\t);\n\t\t\tthis.cashAdvance.expected_settlement_date = Helper.toISODate(\n\t\t\t\tthis.cashAdvance.expected_settlement_date\n\t\t\t);\n\n\t\t\t// Currency\n\t\t\tthis.cashAdvance.currency = new CurrencyModel(this.currency);\n\n\t\t\t// Employee\n\t\t\tthis.cashAdvance.requested_by = new ContactModel(this.employee);\n\n\t\t\t// Sidebar\n\t\t\tthis.cashAdvance.project_uuid = this.project.id;\n\t\t\tthis.cashAdvance.segment_uuid = this.segment.id;\n\t\t\tthis.cashAdvance.location_uuid = this.location.id;\n\n\t\t\t// User\n\t\t\tif (this.isEdit) {\n\t\t\t\tthis.cashAdvance.modified_by = this.user;\n\t\t\t} else {\n\t\t\t\tthis.cashAdvance.created_by = this.user;\n\t\t\t}\n\n\t\t\t// Cash Advance Account on Dr\n\t\t\tentries.push(\n\t\t\t\tnew CashAdvanceDetailModel({\n\t\t\t\t\tuuid: kendo.guid(),\n\t\t\t\t\taccount: new AccountModel(this.cashAdvanceAccount),\n\t\t\t\t\taccount_uuid: this.cashAdvanceAccount.uuid,\n\t\t\t\t\tsecondary_acc_uuid : this.secondaryAccount.uuid,\n\t\t\t\t\tprimary_contact: new ContactModel(this.employee),\n\t\t\t\t\tdescription: this.cashAdvance.description,\n\t\t\t\t\tcurrency: new CurrencyModel(this.currency),\n\t\t\t\t\tamount: this.totalAmount,\n\t\t\t\t\texchange_rate_uuid: this.exchangeRate.id,\n\t\t\t\t\texchange_rate: this.exchangeRate.rate,\n\t\t\t\t})\n\t\t\t);\n\n\t\t\t// Cash Account on Cr\n\t\t\tds.data().forEach((value) => {\n\t\t\t\tif (value.account.number !== \"\") {\n\t\t\t\t\tlet entry = new CashAdvanceDetailModel(value);\n\t\t\t\t\tentry.account = new AccountModel(value.account);\n\t\t\t\t\tentry.primary_contact = new ContactModel(this.employee);\n\t\t\t\t\tentry.currency = new CurrencyModel(this.currency);\n\t\t\t\t\tentry.amount = value.amount * -1; // Credit Side is negative\n\t\t\t\t\tentry.exchange_rate_uuid = this.exchangeRate.id;\n\t\t\t\t\tentry.exchange_rate = this.exchangeRate.rate;\n\n\t\t\t\t\tentries.push(entry);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Use existing uuid\n            if (this.isEdit) {\n                /* Clear uuid */\n                entries.forEach(value => {\n                    value.uuid = \"\";\n                });\n\n                /* Apply existing uuid */\n                for (let i = 0; i < this.cashAdvance.details.length; i++) {\n                    if(i < entries.length){\n                        const oldEntry = this.cashAdvance.details[i];\n                        entries[i].uuid = oldEntry.uuid;\n                    }\n                }\n            }\n\n\t\t\t// Details\n\t\t\tthis.cashAdvance.details = entries;\n\t\t},\n\t\t// Add Journal\n\t\taddJournal() {\n\t\t\t// Journal\n\t\t\tthis.journal = new JournalModel({\n\t\t\t\tuuid: this.cashAdvance.journal_uuid,\n\t\t\t\tnumber: this.cashAdvance.number,\n\t\t\t\tdescription: this.cashAdvance.description,\n\t\t\t\tjournal_date: Helper.toISODate(this.cashAdvance.advance_date),\n\t\t\t\tjournal_type: EntityType.AUTO_JOURNAL,\n\t\t\t\ttransaction_type: EntityType.CASH_ADVANCE,\n\t\t\t\tmonth_of: this.cashAdvance.month_of,\n\t\t\t\tproject_uuid: this.cashAdvance.project_uuid,\n\t\t\t\tsegment_uuid: this.cashAdvance.segment_uuid,\n\t\t\t\tlocation_uuid: this.cashAdvance.location_uuid,\n\t\t\t\tprefix_format: this.cashAdvance.prefix_format,\n\t\t\t\tis_draft: this.cashAdvance.is_draft,\n\t\t\t\tcreated_date: this.cashAdvance.created_date,\n\t\t\t\tcreated_by: this.cashAdvance.created_by,\n\t\t\t\tmodified_by: this.cashAdvance.modified_by,\n\t\t\t});\n\n\t\t\t// Journal Entries\n\t\t\tlet entries = [];\n\t\t\tthis.cashAdvance.details.forEach((value) => {\n\t\t\t\tentries.push(new JournalEntryModel(value));\n\t\t\t});\n\t\t\tthis.journalEntries = entries;\n\t\t},\n\t\t// Validating\n\t\tvalidateForm() {\n\t\t\tlet result = true,\n\t\t\t\tds = this.$refs.cashAccountEntryDS.kendoWidget(),\n\t\t\t\tmsg = \"\",\n\t\t\t\tcountEmpty = 0,\n\t\t\t\tsecondaryAccountCount = 0;\n\n\t\t\t// Cash Advance Account\n\t\t\tif (this.cashAdvanceAccount.uuid === \"\") {\n\t\t\t\tmsg += `<p>${i18n.t(\"cash_advance_account_is_required\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Employee\n\t\t\tif (this.employee.id === \"\") {\n\t\t\t\tmsg += `<p>${i18n.t(\"employee_is_required\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Select Account and Amount\n\t\t\tds.data().forEach((value, index) => {\n\t\t\t\t// No account\n\t\t\t\tif (value.account.name === \"\" && value.amount > 0) {\n\t\t\t\t\tresult = false;\n\t\t\t\t\tmsg += `<p>${i18n.t(\"please_select_account_at_row_number\")} ${index +\n\t\t\t\t\t\t1}</p>`;\n\t\t\t\t}\n\n\t\t\t\t// No amount\n\t\t\t\tif (value.account.name !== \"\" && value.amount === 0) {\n\t\t\t\t\tresult = false;\n\t\t\t\t\tmsg += `<p>${value.account.name} ${i18n.t(\"has_no_amount\")}</p>`;\n\t\t\t\t}\n\n\t\t\t\t// Count Empty Row\n\t\t\t\tif (value.account.name !== \"\" && value.amount > 0) {\n\t\t\t\t\tcountEmpty++;\n\t\t\t\t}\n\n\t\t\t\t// Count secondary account\n                if (value.secondary_account.uuid !== \"\") {\n                    secondaryAccountCount++;\n                }\n\t\t\t});\n\n\t\t\t// Empty Row\n\t\t\tif (countEmpty === 0) {\n\t\t\t\tmsg += `<p>${i18n.t(\"please_select_account_and_enter_amount\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Secondary Account\n\t\t\tif (this.secondaryAccount.uuid === \"\" && secondaryAccountCount > 0) {\n                msg += `<p>${i18n.t(\"secondary_account_is_required\")}</p>`;\n                result = false;\n            }\n            if (this.secondaryAccount.uuid !== \"\" && secondaryAccountCount === 0) {\n                msg += `<p>${i18n.t(\"secondary_cash_account_is_required\")}</p>`;\n                result = false;\n            }\n\n\t\t\t/* Segment */\n\t\t\tif (this.segment.id === \"\") {\n\t\t\t\tmsg += `<p>${i18n.t(\"segment_is_required\")}</p>`;\n\t\t\t\tresult = false;\n\t\t\t}\n\n\t\t\t// Show Alert\n\t\t\tthis.errorMessage = msg;\n\t\t\tthis.alert = false;\n\t\t\tif (result === false) {\n\t\t\t\tthis.alert = true;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\t// All Saves\n\t\tasync onSaveOptionClick(mode) {\n\t\t\tif (this.$refs.form.validate() && this.validateForm()) {\n\t\t\t\tlet isValidClosingDate = await Helper.validateClosingDate(\n\t\t\t\t\tthis.cashAdvance.advance_date\n\t\t\t\t);\n\t\t\t\tif (isValidClosingDate) {\n\t\t\t\t\tthis.saveMode = mode;\n\t\t\t\t\tthis.save();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcancel() {\n\t\t\tthis.$swal({\n\t\t\t\ttitle: i18n.t(\"msg_title_warning\"),\n\t\t\t\ttext: i18n.t(\"msg_discard\"),\n\t\t\t\ticon: \"warning\",\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tcancelButtonText: i18n.t(\"cancel\"),\n\t\t\t\tconfirmButtonColor: \"#4d4848\",\n\t\t\t\tcancelButtonColor: \"#ED1A3A\",\n\t\t\t\tconfirmButtonText: i18n.t(\"discard\"),\n\t\t\t}).then((result) => {\n\t\t\t\tif (result.value) {\n\t\t\t\t\tthis.clear();\n\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tclear() {\n\t\t\tthis.isEdit = false;\n\t\t\tthis.saveMode = \"\";\n\t\t\tthis.totalAmount = 0;\n\n\t\t\tthis.cashAdvance = new CashAdvanceModel();\n\t\t\tthis.journal = null;\n\t\t\tthis.journalEntries = [];\n\t\t\tthis.employee = new EmployeeModel();\n\t\t\tthis.currency = new CurrencyModel(institute.baseCurrency);\n\t\t\tthis.exchangeRate = new ExchangeRateModel(institute.baseCurrency);\n\t\t\tthis.cashAdvanceAccount = new AccountModel();\n\t\t\tthis.secondaryAccount = new AccountModel();\n\t\t\tthis.project = new ProjectModel();\n\t\t\tthis.segment = new SegmentModel();\n\t\t\tthis.location = new LocationModel();\n\n\t\t\tlet ds = this.$refs.cashAccountEntryDS.kendoWidget();\n\t\t\tds.data([]);\n\n\t\t\tthis.setDefaultData();\n\t\t},\n\t\tsave() {\n\t\t\tlet self = this;\n\n\t\t\t// Draft Mode\n\t\t\tif (this.saveMode === SaveOption.SAVEDRAFT) {\n\t\t\t\tthis.cashAdvance.is_draft = 1;\n\t\t\t\tthis.cashAdvance.status = WorkFlowStatus.DRAFT;\n\t\t\t} else {\n\t\t\t\tthis.cashAdvance.is_draft = 0;\n\t\t\t\tif (\n\t\t\t\t\tthis.cashAdvance.status === \"\" ||\n\t\t\t\t\tthis.cashAdvance.status === WorkFlowStatus.DRAFT\n\t\t\t\t) {\n\t\t\t\t\tthis.cashAdvance.status = WorkFlowStatus.APPROVED;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Shrink Data\n\t\t\tthis.shrinkData();\n\n\t\t\t// Add Journal\n\t\t\tthis.addJournal();\n\n\t\t\t// Sync Data\n\t\t\tthis.showLoading = true;\n\t\t\tcashAdvanceHandler\n\t\t\t\t.save({\n\t\t\t\t\tcash_advance: this.cashAdvance,\n\t\t\t\t\tjournal: this.journal,\n\t\t\t\t\tjournal_entries: this.journalEntries,\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tself.responseStatus(response);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$snotify.error(i18n.t(\"error_something_wrong\"));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tself.showLoading = false;\n\t\t\t\t\tthis.$snotify.error(error);\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tself.showLoading = false;\n\t\t\t\t});\n\t\t},\n\t\t// Response Status\n\t\tresponseStatus(response) {\n\t\t\tif (response.status === 200) {\n\t\t\t\tif (this.saveMode === SaveOption.SAVECLOSE || this.saveMode === SaveOption.DELETE) { /* Save Close or Delete */\n\t\t\t\t\tif (this.isEdit) {\n\t\t\t\t\t\tthis.goBackToViewPage();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\tthis.clear();\n\n\t\t\t\t/* Alert Success */\n\t\t\t\tthis.$snotify.success(i18n.t(\"successful\"));\n\t\t\t} else {\n\t\t\t\t/* Alert Error */\n\t\t\t\tthis.$snotify.error(i18n.t(\"error_something_wrong\"));\n\t\t\t}\n\t\t},\n\t\t// Go back to view page after edit mode\n\t\tgoBackToViewPage() {\n\t\t\tthis.$router.replace({\n\t\t\t\tname: \"Cash Advance View\",\n\t\t\t\tparams: { initCashAdvance: Object.assign({}, new CashAdvanceModel(this.cashAdvance)) },\n\t\t\t});\n\t\t},\n\t\t// Sidebar\n\t\thide_smallsitebar() {\n\t\t\tif (!this.isHideBar) {\n\t\t\t\tthis.isHideBar = true;\n\t\t\t} else {\n\t\t\t\tthis.isHideBar = false;\n\t\t\t}\n\t\t},\n\t},\n\twatch: {\n\t\tinitCashAdvance() {\n\t\t\tthis.initialData();\n\t\t},\n\t\tinitAdvanceRequest() {\n\t\t\tthis.initialData();\n\t\t},\n\t},\n\tmounted() {\n\t\t// Initial Data\n\t\tthis.initialData();\n\t},\n};\n</script>\n\n<style scoped>\n.small_sidebar {\n\theight: 98%;\n\tposition: relative;\n\tpadding: 12px;\n\tbackground-color: #edf1f5;\n}\n\n.hide_small_bar_class {\n\tmax-width: 0;\n\ttransition: 0.3s ease-in;\n\tflex: 0 0 0;\n}\n\n.hide_big_bar_class {\n\tmax-width: 100%;\n\ttransition: 0.3s ease-in;\n\tflex: 0 0 100%;\n}\n\n.iconArrow {\n\tright: -35px;\n\tposition: absolute;\n\tbottom: -10px;\n}\n\n.iconArrowHide {\n\tposition: absolute;\n\tright: -7px;\n\tbottom: -10px;\n}\n\n.detial_smallside_p {\n\tposition: absolute;\n\tbottom: 10px;\n}\n\n@media (min-width: 1264px) {\n\t.container {\n\t\tmax-width: 1250px;\n\t}\n}\n\n@media (max-width: 576px) {\n\t.mb-6 {\n\t\tmargin-bottom: 0 !important;\n\t}\n}\n</style>\n"]}]}