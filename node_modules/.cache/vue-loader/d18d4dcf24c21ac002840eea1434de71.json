{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/PaymentOption.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/PaymentOption.vue","mtime":1638499443190},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFBheW1lbnRPcHRpb25Nb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvUGF5bWVudE9wdGlvbiI7CmltcG9ydCBCYW5rUGF5bWVudE1vZGVsIGZyb20gIkAvc2NyaXB0cy9tb2RlbC9CYW5rUGF5bWVuT3B0aW9uIjsKLy8gaW1wb3J0IENvbm5lY3RlZEJhbmtNb2RlbCBmcm9tICJAL3NjcmlwdHMvYmFuay1wYXJ0bmVyL21vZGVsL0Nvbm5lY3RlZEJhbmsiOwppbXBvcnQgUm93IGZyb20gIi4vc2V0dGluZ3MvQ2hlY2tib3hUZW1wbGF0ZSI7CmltcG9ydCB7YmFua0FjY291bnRIYW5kbGVyfSBmcm9tICdAL3NjcmlwdHMvQXBwSGFuZGxlcnMnOwppbXBvcnQge3V1aWR9IGZyb20gInZ1ZS11dWlkIjsKaW1wb3J0IHtBY2NvdW50TW9kZWwsIEJhbmtNb2RlbH0gZnJvbSAiQC9zY3JpcHRzL21vZGVsL0FwcE1vZGVscyI7CmltcG9ydCBBY2NvdW50TWFwcGluZ01vZGVsIGZyb20gJ0Avc2NyaXB0cy9hY2NvdW50LW1hcC9BY2NvdW50JwoKY29uc3Qgcm93VGVtcGxhdGUgPSBWdWUuY29tcG9uZW50KFJvdy5uYW1lLCBSb3cpOwoKY29uc3QgYmFua1BheW1lbnRIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2JhbmtQYXltZW50SGFuZGxlciIpCmNvbnN0IHBheW1lbnRPcHRpb25IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3BheW1lbnRPcHRpb25IYW5kbGVyIikKCi8vIGNvbnN0ICQgPSBrZW5kby5qUXVlcnkKY29uc3QgYWNjb3VudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaGFuZGxlci9hY2NvdW50aW5nL2FjY291bnQiKQpjb25zdCBwYXltZW50T3B0aW9uTW9kZWwgPSBuZXcgUGF5bWVudE9wdGlvbk1vZGVsKHt9KQpjb25zdCBiYW5rUGF5bWVudE1vZGVsID0gbmV3IEJhbmtQYXltZW50TW9kZWwoe30pCmNvbnN0IHtQQVlNRU5UX09QSU5JT05fVFlQRSwgVFlQRV9DVVNUT01FUn0gPSByZXF1aXJlKCJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9TZXR0aW5nIik7Cgpjb25zdCBCSUxMID0gUEFZTUVOVF9PUElOSU9OX1RZUEUuQklMTF9QQVlNRU5UCmNvbnN0IENBU0ggPSBQQVlNRU5UX09QSU5JT05fVFlQRS5DQVNIX1BBWU1FTlQKY29uc3QgQkFOSyA9IFBBWU1FTlRfT1BJTklPTl9UWVBFLkJBTktfVFJBTlNGRVIKY29uc3QgUVIgPSBQQVlNRU5UX09QSU5JT05fVFlQRS5RUl9QQVlNRU5UCmNvbnN0IENBUkQgPSBQQVlNRU5UX09QSU5JT05fVFlQRS5DQVJEX1BBWU1FTlQKY29uc3QgT1BUSU9OX1RZUEUgPSBUWVBFX0NVU1RPTUVSCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFkZFBheW1lbnRPcHRpb24iLAogIHByb3BzOiBbJ2lkJ10sCiAgY29tcG9uZW50czogewogICAgTG9hZGluZ01lOiAoKSA9PiBpbXBvcnQoYEAvY29tcG9uZW50cy9Mb2FkaW5nYCkKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBwYXltZW50VHlwZXM6IFtDQVNILCBCQU5LLCBCSUxMLCBRUiwgQ0FSRF0sCiAgICBzaG93TG9hZGluZzogZmFsc2UsCiAgICBjdXN0b21lckxpc3Q6IFtdLAogICAgY3VzdG9tZXJzOiBbXSwKICAgIGN1c3RvbWVyOiB7fSwKICAgIHN1cHBsaWVyOiB7fSwKICAgIHZhbGlkOiB0cnVlLAogICAgcGF5bWVudE9wdGlvbjogcGF5bWVudE9wdGlvbk1vZGVsLAogICAgc3VwcGxpZXJMaXN0OiBbXSwKICAgIGFjY291bnRzOiBbXSwKICAgIG1BY2NvdW50OiB7fSwKICAgIGJhbms6IGJhbmtQYXltZW50TW9kZWwsCiAgICBiYW5rQ2VudGVyczogW10sCiAgICBjb25uZWN0ZWRCYW5rczogW10sCiAgICBpc0hpZGVCYW5rOiBmYWxzZQogIH0pLAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZVNlbGVjdGlvbihpdGVtLCB2YWx1ZSkgewogICAgICBjb25zdCBkcyA9IHRoaXMuJHJlZnMuY29ubmVjdGVkQmFua0RTLmtlbmRvV2lkZ2V0KCkKICAgICAgY29uc3Qgcm93cyA9IGRzLmRhdGEoKQogICAgICByb3dzLm1hcChyb3cgPT4gewogICAgICAgIGlmIChyb3cuaWQgPT09IGl0ZW0uaWQpIHsKICAgICAgICAgIC8vIHJvdy5zZXQoJ3RpY2snLCB2YWx1ZSkKICAgICAgICAgIHJvd1sndGljayddID0gdmFsdWUKICAgICAgICB9CiAgICAgIH0pCiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZygnaGVsbG8nLCB2YWx1ZSk7CiAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb25uZWN0ZWRCYW5rcy5sZW5ndGg7IGkrKykgewogICAgICAvLyAgIGlmIChpdGVtLmlkID09IHRoaXMuY29ubmVjdGVkQmFua3NbaV0uaWQpIHsKICAgICAgLy8gICAgIHRoaXMuY29ubmVjdGVkQmFua3NbaV0udGljayA9IHZhbHVlOwogICAgICAvLyAgICAgYnJlYWs7CiAgICAgIC8vICAgfQogICAgICAvLyB9CiAgICAgIC8vd2h5IGlzIHRoaXMgbm90IHJlYWN0aXZlPyBCdWc/ICBXaWxsIGl0IGJlIGZpeGVkIGF0IHNvbWUgcG9pbnQ/CiAgICAgIC8vIHRoaXMuY29ubmVjdGVkQmFua3MgPSBPYmplY3QuYXNzaWduKFtdLCB0aGlzLmNvbm5lY3RlZEJhbmtzKTsKICAgIH0sCiAgICBnZXRSb3dUZW1wbGF0ZShlKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdGVtcGxhdGU6IHJvd1RlbXBsYXRlLAogICAgICAgIHRlbXBsYXRlQXJnczogT2JqZWN0LmFzc2lnbih0aGlzLnRlbXBsYXRlRGF0YShlLCB0cnVlKSkKICAgICAgfTsKICAgIH0sCiAgICB0ZW1wbGF0ZURhdGEoaXRlbSwgaXNPZGQpIHsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKGlzT2RkLCAnLS0tLScsIGl0ZW0pCiAgICAgIHJldHVybiB7CiAgICAgICAgZGF0YUl0ZW06IGl0ZW0sCiAgICAgICAgcGFyZW50Q29tcG9uZW50OiB0aGlzCiAgICAgIH07CiAgICB9LAogICAgbG9hZEltYWdlKGRhdGFJdGVtKSB7CiAgICAgIGNvbnN0IGl0ZW0gPSBkYXRhSXRlbS5sb2dvIHx8ICcnCiAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgcmV0dXJuICI8aW1nIHdpZHRoPSc1MCcgaGVpZ2h0PSc1MCcgc3R5bGU9ICdtYXJnaW46IGF1dG87ZGlzcGxheTogYmxvY2s7JyBzcmM9JyIgKyBpdGVtICsgIicgLz4iCiAgICAgIH0KICAgICAgcmV0dXJuICcnCiAgICB9LAogICAgYmFua1RlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIGNvbnN0IGl0ZW0gPSBkYXRhSXRlbS5iYW5rCiAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGA8c3Bhbj4ke2l0ZW0ubmFtZSB8fCBgYH08L3NwYW4+YAogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBgYAogICAgICB9CiAgICB9LAogICAgYmFua0FjY291bnRUZW1wbGF0ZShkYXRhSXRlbSkgewogICAgICBjb25zdCBpdGVtID0gZGF0YUl0ZW0uYmFua0FjY291bnQKICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICByZXR1cm4gYDxzcGFuPiR7aXRlbS5udW1iZXIgKyAnIC0gJyArIGl0ZW0ubmFtZX08L3NwYW4+YAogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBgYAogICAgICB9CiAgICB9LAogICAgYWNjb3VudFRlbXBsYXRlKGRhdGFJdGVtKSB7CiAgICAgIGNvbnN0IGl0ZW0gPSBkYXRhSXRlbS5hY2NvdW50CiAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGA8c3Bhbj4ke2l0ZW0ubnVtYmVyICsgJyAtICcgKyBpdGVtLm5hbWV9PC9zcGFuPmAKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gYGAKICAgICAgfQogICAgfSwKICAgIFR5cGVDaGFuZ2UoKSB7CiAgICAgIHRoaXMuaXNIaWRlQmFuayA9IHRoaXMucGF5bWVudE9wdGlvbi50eXBlID09PSBCSUxMIHx8IHRoaXMucGF5bWVudE9wdGlvbi50eXBlID09PSBDQVJEIHx8IHRoaXMucGF5bWVudE9wdGlvbi50eXBlID09PSBRUiB8fCB0aGlzLnBheW1lbnRPcHRpb24udHlwZSA9PT0gQkFOSzsKICAgICAgdGhpcy5jb25uZWN0ZWRCYW5rcyA9IFtdCiAgICAgIGlmICh0aGlzLnBheW1lbnRPcHRpb24udHlwZSkgewogICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLnBheW1lbnRPcHRpb24udHlwZSB8fCAnJwogICAgICAgIGlmICh0eXBlID09PSBCQU5LKSB7CiAgICAgICAgICB0aGlzLmxvYWRCYW5rQ2VudGVyKCkKICAgICAgICB9IGVsc2UgaWYgKHR5cGUgIT09IENBU0gpIHsKICAgICAgICAgIHRoaXMubG9hZENvbm5lY3RlZEJhbmsoKQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFzeW5jIGxvYWRBY2NvdW50VHlwZXMoKSB7CiAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgIGFjY291bnRIYW5kbGVyLmdldEFsbCgpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuYWNjb3VudHMgPSByZXMuZGF0YS5maWx0ZXIobSA9PiBtLmFjY291bnRfdHlwZS5udW1iZXIgPD0gNSkubWFwKGl0ZW0gPT4gewogICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgdXVpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgbG9jYWxfbmFtZTogaXRlbS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgbnVtYmVyOiBpdGVtLm51bWJlciwKICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0ZW0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgIGJhbmhqaUFjY0NvZGU6IGl0ZW0uYmFuaGppQWNjQ29kZSwKICAgICAgICAgICAgICAgIGdyb3VwX2NvZGU6IGl0ZW0uZ3JvdXBfY29kZSwKICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdGVtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgdHlwZV9jb2RlOiBpdGVtLnR5cGVfY29kZSwKICAgICAgICAgICAgICAgIGFjY291bnRfdHlwZTogaXRlbS5hY2NvdW50X3R5cGUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgIH0sIDEwKTsKICAgICAgfSkKICAgIH0sCiAgICBhc3luYyBsb2FkQ29ubmVjdGVkQmFuaygpIHsKICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpCiAgICAgICAgICBjb25zdCBzdHJGaWx0ZXIgPSAnP3R5cGU9JyArIHRoaXMucGF5bWVudE9wdGlvbi50eXBlLnJlcGxhY2UoLyAvZywgJycpLnRvTG93ZXJDYXNlKCkKICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICBiYW5rUGF5bWVudEhhbmRsZXIubGlzdChzdHJGaWx0ZXIpLnRoZW4oYXN5bmMgcmVzID0+IHsKICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWRCYW5rcyA9IFtdCiAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXMuZGF0YQogICAgICAgICAgICBsZXQgYmFua3MgPSBbXQogICAgICAgICAgICByZXN1bHQuZm9yRWFjaChuID0+IHsKICAgICAgICAgICAgICBjb25zdCBjb2EgPSBuLmNvYSB8fCB7fQogICAgICAgICAgICAgIGxldCBiYW5rID0gY29hLmJhbmsgfHwge30KICAgICAgICAgICAgICBjb25zdCBiYW5rSWQgPSBiYW5rLnV1aWQgfHwgJycKICAgICAgICAgICAgICBjb25zdCBiYW5rQWNjb3VudE51bWJlciA9IGNvYS5udW1iZXIgfHwgJycKICAgICAgICAgICAgICBjb25zdCBiYW5rQWNjb3VudE5hbWUgPSBjb2EubmFtZSB8fCAnJwogICAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSBjb2EuYWNjb3VudCB8fCB7fQogICAgICAgICAgICAgIGJhbmtbJ2lkJ10gPSBiYW5rSWQKICAgICAgICAgICAgICBiYW5rWyduYW1lJ10gPSBuLmJhbmsgfHwgJycKICAgICAgICAgICAgICBjb25zdCBvYmogPSB7CiAgICAgICAgICAgICAgICBsaW5lSWQ6IGBsaW4tJHt1dWlkLnYxKCl9YCwKICAgICAgICAgICAgICAgIGlkOiBuLmlkLAogICAgICAgICAgICAgICAgdGljazogZmFsc2UsCiAgICAgICAgICAgICAgICBiYW5rOiBuZXcgQmFua01vZGVsKGJhbmspLAogICAgICAgICAgICAgICAgYmFua0FjY291bnQ6IHsKICAgICAgICAgICAgICAgICAgbnVtYmVyOiBiYW5rQWNjb3VudE51bWJlciwKICAgICAgICAgICAgICAgICAgbmFtZTogYmFua0FjY291bnROYW1lCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYWNjb3VudDogbmV3IEFjY291bnRNYXBwaW5nTW9kZWwoYWNjb3VudCksCiAgICAgICAgICAgICAgICBtZXJjaGFudDogbi5tZXJjaGFudCwKICAgICAgICAgICAgICAgIGxvZ286IG4ubG9nbywKICAgICAgICAgICAgICAgIGNvYTogbmV3IEFjY291bnRNb2RlbChuLmNvYSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYmFua3MucHVzaChvYmopCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgICAgICBjb25zdCBiYW5rID0gdGhpcy5wYXltZW50T3B0aW9uLmJhbmsgfHwgW10KICAgICAgICAgICAgICBiYW5rcy5mb3JFYWNoKG4gPT4gewogICAgICAgICAgICAgICAgY29uc3QgZmluZCA9IGJhbmsuZmlsdGVyKG0gPT4gbS5pZCA9PT0gbi5pZCkKICAgICAgICAgICAgICAgIGlmIChmaW5kKSB7CiAgICAgICAgICAgICAgICAgIG5bJ3RpY2snXSA9IHRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkQmFua3MgPSBiYW5rcwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkQmFua3MgPSBiYW5rcwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaCgpCiAgICAgICAgICB7CiAgICAgICAgICAgIC8vIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgfQogICAgICAgIH0sIDEwKQogICAgICB9KQogICAgfSwKICAgIGFzeW5jIGluaXREYXRhKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBhd2FpdCB0aGlzLmxvYWRTaW5nbGVQYXltZW50T3B0aW9uKCkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNsZWFyKCkKICAgICAgfQogICAgfSwKICAgIGNsZWFyKCkgewogICAgICB0aGlzLnBheW1lbnRPcHRpb24gPSB7fQogICAgICB0aGlzLmNvbm5lY3RlZEJhbmtzID0gW10KICAgICAgdGhpcy5iYW5rQ2VudGVycyA9IFtdCiAgICB9LAogICAgYXN5bmMgb25TYXZlQ2xvc2UoKSB7CiAgICAgIC8vIGlmICghdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgLy8gICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKQogICAgICAvLyAgIHJldHVybgogICAgICAvLyB9CiAgICAgIGxldCBiYW5rID0gdGhpcy4kcmVmcy5jb25uZWN0ZWRCYW5rRFMua2VuZG9XaWRnZXQoKQogICAgICBsZXQgcm93ID0gYmFuay5kYXRhKCkuZmlsdGVyKG0gPT4gbS50aWNrID09PSB0cnVlKS5tYXAoaXRlbSA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGxpbmVJZDogaXRlbS5saW5lSWQsCiAgICAgICAgICBpZDogaXRlbS5pZCwKICAgICAgICAgIHRpY2s6IGl0ZW0udGljaywKICAgICAgICAgIGJhbms6IG5ldyBCYW5rTW9kZWwoaXRlbS5iYW5rKSwKICAgICAgICAgIGJhbmtBY2NvdW50OiBpdGVtLmJhbmtBY2NvdW50LAogICAgICAgICAgYWNjb3VudDogbmV3IEFjY291bnRNYXBwaW5nTW9kZWwoaXRlbS5hY2NvdW50KSwKICAgICAgICAgIG1lcmNoYW50OiBpdGVtLm1lcmNoYW50LAogICAgICAgICAgbG9nbzogaXRlbS5sb2dvLAogICAgICAgICAgY29hOiBuZXcgQWNjb3VudE1vZGVsKGl0ZW0uY29hKQogICAgICAgIH0KICAgICAgICAvLyByZXR1cm4gbmV3IENvbm5lY3RlZEJhbmtNb2RlbChpdGVtKQogICAgICB9KQoKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKHJvdywgJ3JvdycpCiAgICAgIC8vIHJldHVybgogICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICBsZXQgYWNjb3VudCA9IHRoaXMucGF5bWVudE9wdGlvbi5hY2NvdW50CiAgICAgICAgICBpZiAodGhpcy5wYXltZW50T3B0aW9uLnR5cGUgIT09IENBU0gpIHsKICAgICAgICAgICAgYWNjb3VudCA9IHt9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByb3cgPSBbXQogICAgICAgICAgfQogICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICJpZCI6IHRoaXMucGF5bWVudE9wdGlvbi5pZCA/IHRoaXMucGF5bWVudE9wdGlvbi5pZCA6ICcnLAogICAgICAgICAgICAibmFtZSI6IHRoaXMucGF5bWVudE9wdGlvbi5uYW1lLAogICAgICAgICAgICAiY29kZSI6IHRoaXMucGF5bWVudE9wdGlvbi5jb2RlLAogICAgICAgICAgICAidHlwZSI6IHRoaXMucGF5bWVudE9wdGlvbi50eXBlLAogICAgICAgICAgICAiYmFuayI6IHJvdywKICAgICAgICAgICAgIm9wdGlvblR5cGUiOiBPUFRJT05fVFlQRSwKICAgICAgICAgICAgImFjY291bnQiOiBhY2NvdW50CiAgICAgICAgICB9CiAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocm93KSwgJ3JvdycpCiAgICAgICAgICB0aGlzLmJ0bkVuYWJsZSA9IHRydWUKICAgICAgICAgIHBheW1lbnRPcHRpb25IYW5kbGVyLmNyZWF0ZShkYXRhKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgLy8gY29uc3QgcmVzID0gcmVzcG9uc2UuZGF0YS5kYXRhCiAgICAgICAgICAgICAgdGhpcy5idG5FbmFibGUgPSBmYWxzZQogICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuc3VjY2VzcygnU3VjY2VzcycpCiAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgICAgICB0aGlzLmJ0bkVuYWJsZSA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuZXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nJykKICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChlKQogICAgICAgICAgfSkKICAgICAgICB9LCAxMCk7CiAgICAgIH0pCiAgICB9LAogICAgY2FuY2VsKCkgewogICAgICB3aW5kb3cuaGlzdG9yeS5nbygtMSkKICAgIH0sCiAgICBjbG9zZSgpIHsKICAgICAgd2luZG93Lmhpc3RvcnkuZ28oLTEpCiAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgLy8gICBuYW1lOiAnQ3VzdG9tZXJzJywgcGFyYW1zOiB7CiAgICAgIC8vICAgICBkYXRhOiBkYXRhCiAgICAgIC8vICAgfQogICAgICAvLyB9KQogICAgfSwKICAgIGFzeW5jIGxvYWRTaW5nbGVQYXltZW50T3B0aW9uKCkgewogICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJykKICAgICAgICAgIHRoaXMucGF5bWVudE9wdGlvbnMgPSBbXQogICAgICAgICAgcGF5bWVudE9wdGlvbkhhbmRsZXIubGlzdCgnP2lkPScgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgIHRoaXMucGF5bWVudE9wdGlvbiA9IHt9CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIHRoaXMucGF5bWVudE9wdGlvbiA9IHJlc3BvbnNlWzBdCiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3RlZEJhbmtzID0gdGhpcy5wYXltZW50T3B0aW9uLmJhbmsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnBheW1lbnRPcHRpb24udHlwZSkgewogICAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5wYXltZW50T3B0aW9uLnR5cGUgfHwgJycKICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IEJBTkspIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRCYW5rQ2VudGVyKCkKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlICE9PSBDQVNIKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkQ29ubmVjdGVkQmFuaygpCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuaXNIaWRlQmFuayA9IHRoaXMucGF5bWVudE9wdGlvbi50eXBlID09PSBCSUxMIHx8IHRoaXMucGF5bWVudE9wdGlvbi50eXBlID09PSBDQVJEIHx8IHRoaXMucGF5bWVudE9wdGlvbi50eXBlID09PSBRUiB8fCB0aGlzLnBheW1lbnRPcHRpb24udHlwZSA9PT0gQkFOSwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICB9LCAxMCkKICAgICAgfSkKICAgIH0sCiAgICBhc3luYyBsb2FkQmFua0NlbnRlcigpIHsKICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUKICAgICAgY29uc3QgYmFua0FjY291bnRzID0gYXdhaXQgYmFua0FjY291bnRIYW5kbGVyLmdldEFsbCgpOwogICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCdiYW5rQWNjb3VudHMnLCBiYW5rQWNjb3VudHMpCiAgICAgIGlmIChiYW5rQWNjb3VudHMpIHsKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBiYW5rQWNjb3VudHMuZGF0YTsKICAgICAgICB0aGlzLmNvbm5lY3RlZEJhbmtzID0gW10KICAgICAgICBsZXQgYmFua3MgPSBbXQogICAgICAgIHJlc3VsdC5mb3JFYWNoKG4gPT4gewogICAgICAgICAgbGV0IGJhbmsgPSBuLmJhbmsgfHwge30KICAgICAgICAgIGNvbnN0IGJhbmtJZCA9IGJhbmsudXVpZCB8fCAnJwogICAgICAgICAgY29uc3QgYmFua0FjY291bnROdW1iZXIgPSBuLm51bWJlciB8fCAnJwogICAgICAgICAgY29uc3QgYmFua0FjY291bnROYW1lID0gbi5uYW1lIHx8ICcnCiAgICAgICAgICBjb25zdCBhY2NvdW50ID0gbi5hY2NvdW50IHx8IHt9CiAgICAgICAgICBiYW5rWydpZCddID0gYmFua0lkCiAgICAgICAgICBjb25zdCBvYmogPSB7CiAgICAgICAgICAgIGxpbmVJZDogYGxpbi0ke3V1aWQudjEoKX1gLAogICAgICAgICAgICBpZDogbi51dWlkLAogICAgICAgICAgICB0aWNrOiBmYWxzZSwKICAgICAgICAgICAgYmFuazogYmFuaywKICAgICAgICAgICAgYmFua0FjY291bnQ6IHsKICAgICAgICAgICAgICBudW1iZXI6IGJhbmtBY2NvdW50TnVtYmVyLAogICAgICAgICAgICAgIG5hbWU6IGJhbmtBY2NvdW50TmFtZQogICAgICAgICAgICB9LAogICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICBjdXJyZW5jeTogbi5jdXJyZW5jeSB8fCB7fSwKICAgICAgICAgICAgbWVyY2hhbnQ6IG4ubWVyY2hhbnQgfHwge30sCiAgICAgICAgICAgIGxvZ286IG4ubG9nbyB8fCAnJywKICAgICAgICAgICAgY29hOiB7fQogICAgICAgICAgfQogICAgICAgICAgYmFua3MucHVzaChvYmopCiAgICAgICAgfSkKICAgICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICBjb25zdCBiYW5rID0gdGhpcy5wYXltZW50T3B0aW9uLmJhbmsgfHwgW10KICAgICAgICAgIGJhbmtzLmZvckVhY2gobiA9PiB7CiAgICAgICAgICAgIGNvbnN0IGZpbmQgPSBiYW5rLmZpbHRlcihtID0+IG0uaWQgPT09IG4uaWQpCiAgICAgICAgICAgIGlmIChmaW5kLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBuWyd0aWNrJ10gPSB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLmNvbm5lY3RlZEJhbmtzID0gYmFua3MKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jb25uZWN0ZWRCYW5rcyA9IGJhbmtzCiAgICAgICAgfQogICAgICB9CiAgICB9LAogIH0sCiAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgLy8gYXdhaXQgdGhpcy5pbml0R3JpZCh0aGlzKQogICAgLy8gYXdhaXQgdGhpcy5sb2FkQ29ubmVjdGVkQmFuaygpCiAgICBhd2FpdCB0aGlzLmxvYWRBY2NvdW50VHlwZXMoKQogICAgYXdhaXQgdGhpcy5pbml0RGF0YSgpCiAgfSwKICB3YXRjaDogewogICAgaWQoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMubG9hZFNpbmdsZVBheW1lbnRPcHRpb24oKQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2xlYXIoKQogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZGlzYWJsZWQoKSB7CiAgICAgIHJldHVybiAhIXRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["PaymentOption.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PaymentOption.vue","sourceRoot":"src/views/customers","sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <v-row>\n        <v-col cols=\"12\" sm=\"12\">\n          <v-card\n              outlined\n              dense\n              class=\"pa-4 no_border rounded-sm\"\n              color=\"white\">\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n              <v-card outlined dense class=\"no_border\">\n                <h2 class=\"mb-0\">{{ $t(\"payment_option\") }}</h2>\n                <v-icon\n                    onclick=\"window.history.go(-1); return false;\"\n                    style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                    class=\"float-right\">close\n                </v-icon>\n              </v-card>\n              <v-card outlined dense class=\"px-3 no_border\" color=\"grayBg\">\n                <v-row>\n                  <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                    <label class=\"label  mb-0 mt-1\" style=\"\">{{\n                        $t(\"code\")\n                      }}</label>\n                    <v-text-field\n                        class=\"mt-1\"\n                        tage=\"Number\"\n                        v-model=\"paymentOption.code\"\n                        :rules=\"[v => !!v || $t('is_required')]\"\n                        outlined/>\n                  </v-col>\n                  <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                    <label class=\"label  mb-0\">{{ $t(\"name\") }}</label>\n                    <v-text-field\n                        class=\"mt-1\"\n                        tage=\"Catalog Name\"\n                        v-model=\"paymentOption.name\"\n                        :placeholder=\"$t('name')\"\n                        :rules=\"[v => !!v || $t('is_required')]\"\n                        outlined/>\n                  </v-col>\n                  <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                    <label class=\"label  mb-0 mt-1\" style=\"\">{{\n                        $t(\"type\")\n                      }}</label>\n                    <v-select class=\"mt-1\"\n                              :disabled=\"disabled\"\n                              id=\"acc_type_selector\"\n                              :items=\"paymentTypes\"\n                              v-model=\"paymentOption.type\"\n                              @change=\"TypeChange\"\n                              tage=\"Payment Type\"\n                              :rules=\"[v => !!v || $t('is_required')]\"\n                              outlined/>\n                  </v-col>\n                </v-row>\n                <v-row v-show=\"!isHideBank\">\n                  <v-col sm=\"5\" cols=\"12\" class=\"pb-0\">\n                    <label class=\"label  mb-0 mt-1\" style=\"\">{{\n                        $t(\"account\")\n                      }}</label>\n                    <v-select class=\"mt-1\"\n                              id=\"acc_type_selector\"\n                              :items=\"accounts\"\n                              v-model=\"paymentOption.account\"\n                              item-value=\"id\"\n                              :item-text=\"item =>`${item.number} - ${item.name}`\"\n                              return-object\n                              tage=\"Account\"\n                              :rules=\"[v => !!v || $t('is_required')]\"\n                              outlined/>\n                  </v-col>\n                </v-row>\n              </v-card>\n              <v-card outlined dense class=\"no_border mb-1\" color=\"white\">\n                <v-row v-show=\"isHideBank\">\n                  <v-col sm=\"12\" cols=\"12\" class=\"\">\n                    <v-row>\n                      <v-col sm=\"12\">\n                        <h3 class=\" mb-0\">\n                          {{ $t(\"select_bank_account\") }}\n                        </h3>\n                      </v-col>\n                      <v-col cols=\"12\" sm=\"12\">\n                        <kendo-datasource ref=\"connectedBankDS\"\n                                          :data=\"connectedBanks\"/>\n                        <kendo-grid id=\"gridLeft\" class=\"grid-function\"\n                                    :data-source-ref=\"'connectedBankDS'\"\n                                    :editable=\"false\"\n                                    :scrollable-virtual=\"true\">\n                          <kendo-grid-column\n                              :field=\"'tick'\"\n                              :title=\"$t(' ')\"\n                              :width=\"63\"\n                              :template=\"getRowTemplate\"\n                              :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n                          <kendo-grid-column\n                              :field=\"'logo'\"\n                              :title=\"$t('logo')\"\n                              :template=\"loadImage\"\n                              :width=\"100\"\n                              :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                          <kendo-grid-column\n                              :field=\"'bank'\"\n                              :title=\"$t('fi')\"\n                              :width=\"200\"\n                              :template=\"bankTemplate\"\n                              :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                          <kendo-grid-column\n                              :field=\"'bankAccount'\"\n                              :title=\"$t('bank_account')\"\n                              :width=\"250\"\n                              :template=\"bankAccountTemplate\"\n                              :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                          <kendo-grid-column\n                              :field=\"'account'\"\n                              :title=\"$t('account')\"\n                              :width=\"250\"\n                              :template=\"accountTemplate\"\n                              :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                        </kendo-grid>\n\n                        <!--                        <v-btn color=\"primary\" @click=\"addRowL\"-->\n                        <!--                               class=\"float-left rounded-0 white&#45;&#45;text mt-3\">-->\n                        <!--                          <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>-->\n                        <!--                        </v-btn>-->\n                      </v-col>\n                    </v-row>\n                  </v-col>\n                </v-row>\n              </v-card>\n              <v-divider/>\n              <v-card outlined dense class=\"no_border function_footer\">\n                <v-btn @click=\"cancel\"\n                       color=\"black\"\n                       outlined\n                       class=\"text-capitalize  black--text float-left\"\n                >{{ $t(\"cancel\") }}\n                </v-btn>\n\n                <v-btn @click=\"onSaveClose\"\n                       color=\"primary\"\n                       class=\"float-right  white--text text-capitalize\"\n                >{{ $t(\"save_close\") }}\n                </v-btn>\n              </v-card>\n            </v-form>\n          </v-card>\n        </v-col>\n      </v-row>\n      <LoadingMe :isLoading=\"showLoading\" :fullPage=\"false\" :myLoading=\"true\"/>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport PaymentOptionModel from \"@/scripts/model/PaymentOption\";\nimport BankPaymentModel from \"@/scripts/model/BankPaymenOption\";\n// import ConnectedBankModel from \"@/scripts/bank-partner/model/ConnectedBank\";\nimport Row from \"./settings/CheckboxTemplate\";\nimport {bankAccountHandler} from '@/scripts/AppHandlers';\nimport {uuid} from \"vue-uuid\";\nimport {AccountModel, BankModel} from \"@/scripts/model/AppModels\";\nimport AccountMappingModel from '@/scripts/account-map/Account'\n\nconst rowTemplate = Vue.component(Row.name, Row);\n\nconst bankPaymentHandler = require(\"@/scripts/bankPaymentHandler\")\nconst paymentOptionHandler = require(\"@/scripts/paymentOptionHandler\")\n\n// const $ = kendo.jQuery\nconst accountHandler = require(\"@/scripts/handler/accounting/account\")\nconst paymentOptionModel = new PaymentOptionModel({})\nconst bankPaymentModel = new BankPaymentModel({})\nconst {PAYMENT_OPINION_TYPE, TYPE_CUSTOMER} = require(\"@/scripts/default_setup/Setting\");\n\nconst BILL = PAYMENT_OPINION_TYPE.BILL_PAYMENT\nconst CASH = PAYMENT_OPINION_TYPE.CASH_PAYMENT\nconst BANK = PAYMENT_OPINION_TYPE.BANK_TRANSFER\nconst QR = PAYMENT_OPINION_TYPE.QR_PAYMENT\nconst CARD = PAYMENT_OPINION_TYPE.CARD_PAYMENT\nconst OPTION_TYPE = TYPE_CUSTOMER\n\nexport default {\n  name: \"AddPaymentOption\",\n  props: ['id'],\n  components: {\n    LoadingMe: () => import(`@/components/Loading`)\n  },\n  data: () => ({\n    paymentTypes: [CASH, BANK, BILL, QR, CARD],\n    showLoading: false,\n    customerList: [],\n    customers: [],\n    customer: {},\n    supplier: {},\n    valid: true,\n    paymentOption: paymentOptionModel,\n    supplierList: [],\n    accounts: [],\n    mAccount: {},\n    bank: bankPaymentModel,\n    bankCenters: [],\n    connectedBanks: [],\n    isHideBank: false\n  }),\n  methods: {\n    updateSelection(item, value) {\n      const ds = this.$refs.connectedBankDS.kendoWidget()\n      const rows = ds.data()\n      rows.map(row => {\n        if (row.id === item.id) {\n          // row.set('tick', value)\n          row['tick'] = value\n        }\n      })\n      // window.console.log('hello', value);\n      // for (let i = 0; i < this.connectedBanks.length; i++) {\n      //   if (item.id == this.connectedBanks[i].id) {\n      //     this.connectedBanks[i].tick = value;\n      //     break;\n      //   }\n      // }\n      //why is this not reactive? Bug?  Will it be fixed at some point?\n      // this.connectedBanks = Object.assign([], this.connectedBanks);\n    },\n    getRowTemplate(e) {\n      return {\n        template: rowTemplate,\n        templateArgs: Object.assign(this.templateData(e, true))\n      };\n    },\n    templateData(item, isOdd) {\n      window.console.log(isOdd, '----', item)\n      return {\n        dataItem: item,\n        parentComponent: this\n      };\n    },\n    loadImage(dataItem) {\n      const item = dataItem.logo || ''\n      if (item) {\n        return \"<img width='50' height='50' style= 'margin: auto;display: block;' src='\" + item + \"' />\"\n      }\n      return ''\n    },\n    bankTemplate(dataItem) {\n      const item = dataItem.bank\n      if (item) {\n        return `<span>${item.name || ``}</span>`\n      } else {\n        return ``\n      }\n    },\n    bankAccountTemplate(dataItem) {\n      const item = dataItem.bankAccount\n      if (item) {\n        return `<span>${item.number + ' - ' + item.name}</span>`\n      } else {\n        return ``\n      }\n    },\n    accountTemplate(dataItem) {\n      const item = dataItem.account\n      if (item) {\n        return `<span>${item.number + ' - ' + item.name}</span>`\n      } else {\n        return ``\n      }\n    },\n    TypeChange() {\n      this.isHideBank = this.paymentOption.type === BILL || this.paymentOption.type === CARD || this.paymentOption.type === QR || this.paymentOption.type === BANK;\n      this.connectedBanks = []\n      if (this.paymentOption.type) {\n        const type = this.paymentOption.type || ''\n        if (type === BANK) {\n          this.loadBankCenter()\n        } else if (type !== CASH) {\n          this.loadConnectedBank()\n        }\n      }\n    },\n    async loadAccountTypes() {\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved');\n          accountHandler.getAll().then(res => {\n            this.showLoading = false\n            this.accounts = res.data.filter(m => m.account_type.number <= 5).map(item => {\n              return {\n                id: item.uuid,\n                uuid: item.uuid,\n                name: item.name,\n                local_name: item.local_name,\n                number: item.number,\n                is_taxable: item.is_taxable,\n                banhjiAccCode: item.banhjiAccCode,\n                group_code: item.group_code,\n                parent_account: item.parent_account,\n                type_code: item.type_code,\n                account_type: item.account_type\n              }\n            })\n          })\n        }, 10);\n      })\n    },\n    async loadConnectedBank() {\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved')\n          const strFilter = '?type=' + this.paymentOption.type.replace(/ /g, '').toLowerCase()\n          this.showLoading = true\n          bankPaymentHandler.list(strFilter).then(async res => {\n            this.connectedBanks = []\n            this.showLoading = false\n            const result = res.data\n            let banks = []\n            result.forEach(n => {\n              const coa = n.coa || {}\n              let bank = coa.bank || {}\n              const bankId = bank.uuid || ''\n              const bankAccountNumber = coa.number || ''\n              const bankAccountName = coa.name || ''\n              const account = coa.account || {}\n              bank['id'] = bankId\n              bank['name'] = n.bank || ''\n              const obj = {\n                lineId: `lin-${uuid.v1()}`,\n                id: n.id,\n                tick: false,\n                bank: new BankModel(bank),\n                bankAccount: {\n                  number: bankAccountNumber,\n                  name: bankAccountName\n                },\n                account: new AccountMappingModel(account),\n                merchant: n.merchant,\n                logo: n.logo,\n                coa: new AccountModel(n.coa)\n              }\n              banks.push(obj)\n            })\n            if (this.$route.params.id) {\n              const bank = this.paymentOption.bank || []\n              banks.forEach(n => {\n                const find = bank.filter(m => m.id === n.id)\n                if (find) {\n                  n['tick'] = true\n                }\n              })\n              this.connectedBanks = banks\n            } else {\n              this.connectedBanks = banks\n            }\n          }).catch()\n          {\n            // this.showLoading = false\n          }\n        }, 10)\n      })\n    },\n    async initData() {\n      if (this.$route.params.id !== undefined) {\n        await this.loadSinglePaymentOption()\n      } else {\n        this.clear()\n      }\n    },\n    clear() {\n      this.paymentOption = {}\n      this.connectedBanks = []\n      this.bankCenters = []\n    },\n    async onSaveClose() {\n      // if (!this.$refs.form.validate()) {\n      //   this.$refs.form.validate()\n      //   return\n      // }\n      let bank = this.$refs.connectedBankDS.kendoWidget()\n      let row = bank.data().filter(m => m.tick === true).map(item => {\n        return {\n          lineId: item.lineId,\n          id: item.id,\n          tick: item.tick,\n          bank: new BankModel(item.bank),\n          bankAccount: item.bankAccount,\n          account: new AccountMappingModel(item.account),\n          merchant: item.merchant,\n          logo: item.logo,\n          coa: new AccountModel(item.coa)\n        }\n        // return new ConnectedBankModel(item)\n      })\n\n      // window.console.log(row, 'row')\n      // return\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved');\n          let account = this.paymentOption.account\n          if (this.paymentOption.type !== CASH) {\n            account = {}\n          } else {\n            row = []\n          }\n          let data = {\n            \"id\": this.paymentOption.id ? this.paymentOption.id : '',\n            \"name\": this.paymentOption.name,\n            \"code\": this.paymentOption.code,\n            \"type\": this.paymentOption.type,\n            \"bank\": row,\n            \"optionType\": OPTION_TYPE,\n            \"account\": account\n          }\n          // window.console.log(JSON.stringify(row), 'row')\n          this.btnEnable = true\n          paymentOptionHandler.create(data).then(response => {\n            if (response.data.statusCode === 201) {\n              // const res = response.data.data\n              this.btnEnable = false\n              this.$snotify.success('Success')\n              this.close()\n            }\n          }).catch(e => {\n            this.btnEnable = false\n            this.$snotify.error('Something went wrong')\n            this.errors.push(e)\n          })\n        }, 10);\n      })\n    },\n    cancel() {\n      window.history.go(-1)\n    },\n    close() {\n      window.history.go(-1)\n      // this.$router.push({\n      //   name: 'Customers', params: {\n      //     data: data\n      //   }\n      // })\n    },\n    async loadSinglePaymentOption() {\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved')\n          this.paymentOptions = []\n          paymentOptionHandler.list('?id=' + this.$route.params.id).then(res => {\n            this.showLoading = true\n            if (res.data.statusCode === 200) {\n              this.showLoading = false\n              const response = res.data.data\n              this.paymentOption = {}\n              if (response.length > 0) {\n                this.paymentOption = response[0]\n                this.connectedBanks = this.paymentOption.bank\n                if (this.paymentOption.type) {\n                  const type = this.paymentOption.type || ''\n                  if (type === BANK) {\n                    this.loadBankCenter()\n                  } else if (type !== CASH) {\n                    this.loadConnectedBank()\n                  }\n                }\n                this.isHideBank = this.paymentOption.type === BILL || this.paymentOption.type === CARD || this.paymentOption.type === QR || this.paymentOption.type === BANK\n              }\n            }\n          })\n        }, 10)\n      })\n    },\n    async loadBankCenter() {\n      this.showLoading = true\n      const bankAccounts = await bankAccountHandler.getAll();\n      this.showLoading = false\n      // window.console.log('bankAccounts', bankAccounts)\n      if (bankAccounts) {\n        const result = await bankAccounts.data;\n        this.connectedBanks = []\n        let banks = []\n        result.forEach(n => {\n          let bank = n.bank || {}\n          const bankId = bank.uuid || ''\n          const bankAccountNumber = n.number || ''\n          const bankAccountName = n.name || ''\n          const account = n.account || {}\n          bank['id'] = bankId\n          const obj = {\n            lineId: `lin-${uuid.v1()}`,\n            id: n.uuid,\n            tick: false,\n            bank: bank,\n            bankAccount: {\n              number: bankAccountNumber,\n              name: bankAccountName\n            },\n            account: account,\n            currency: n.currency || {},\n            merchant: n.merchant || {},\n            logo: n.logo || '',\n            coa: {}\n          }\n          banks.push(obj)\n        })\n        if (this.$route.params.id) {\n          const bank = this.paymentOption.bank || []\n          banks.forEach(n => {\n            const find = bank.filter(m => m.id === n.id)\n            if (find.length > 0) {\n              n['tick'] = true\n            }\n          })\n          this.connectedBanks = banks\n        } else {\n          this.connectedBanks = banks\n        }\n      }\n    },\n  },\n  mounted: async function () {\n    // await this.initGrid(this)\n    // await this.loadConnectedBank()\n    await this.loadAccountTypes()\n    await this.initData()\n  },\n  watch: {\n    id() {\n      if (this.$route.params.id !== undefined) {\n        this.loadSinglePaymentOption()\n      } else {\n        this.clear()\n      }\n    }\n  },\n  computed: {\n    disabled() {\n      return !!this.$route.params.id;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.dropdown-header {\n  border-width: 0 0 1px 0;\n  text-transform: uppercase;\n}\n\n.dropdown-header > span {\n  display: inline-block;\n  padding: 10px;\n}\n\n.dropdown-header > span:first-child {\n  width: 50px;\n}\n\n.k-list-container > .k-footer {\n  padding: 10px;\n}\n\n.function_content {\n  padding: 0 25px 25px;\n  border-bottom: 0;\n  background-color: #fff !important;\n}\n\n@media (min-width: 1264px) {\n  .container {\n    /* max-width: 1185px; */\n    max-width: 1080px !important;\n  }\n}\n\n.grayBg {\n  background-color: #F8F8F9;\n}\n\n@media (max-width: 576px) {\n  .mb-6 {\n    margin-bottom: 0 !important;\n  }\n}\n\n.section2 {\n  border: 1px solid #d6d7d8;\n}\n\n.border_grey {\n  border: 1px solid #d6d7d8;\n}\n\n.attachment_table {\n  width: 100%;\n}\n\n.my_radio [type=\"radio\"] + label {\n  position: relative;\n  padding: 6px;\n  grid-template-columns: 15% 80% !important;\n  display: grid;\n}\n\n.upload_btn {\n  padding: 10px 6px;\n  text-align: center;\n  color: white;\n  margin-top: 15px;\n  margin-bottom: none !important;\n  border-radius: 22px;\n  background: #92d050;\n}\n\n.theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n  background-color: transparent !important;\n}\n</style>\n"]}]}