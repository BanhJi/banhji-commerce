{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/accounting/reports/receipt_payment/StatementOfProfitOrLossByProject.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/accounting/reports/receipt_payment/StatementOfProfitOrLossByProject.vue","mtime":1642155812615},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwppbXBvcnQgeyBpMThuIH0gZnJvbSAiQC9pMThuIjsKaW1wb3J0IEhlbHBlciBmcm9tICJAL2hlbHBlci5qcyI7CmltcG9ydCB7IGRhdGFTdG9yZSB9IGZyb20gIkAvb2JzZXJ2YWJsZS9zdG9yZSI7CgovKiBTdG9yZSAqLwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CmNvbnN0IGluc3RpdHV0ZSA9IHN0b3JlLnN0YXRlLmluc3RpdHV0ZS5pbnN0aXR1dGU7Cgpjb25zdCB7IGluY29tZVN0YXRlbWVudEhhbmRsZXIgfSA9IHJlcXVpcmUoIkAvc2NyaXB0cy9BcHBIYW5kbGVycyIpOwpjb25zdCB7IGNvbHVtbnNCeSB9ID0gcmVxdWlyZSgiQC9zY3JpcHRzL2RlZmF1bHRfc2V0dXAvRGF0ZVNlYXJjaC5qcyIpOwpjb25zdCBOdW1iZXJJbldvcmQgPSByZXF1aXJlKCJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9OdW1iZXJJbldvcmQuanMiKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nTWU6ICgpID0+IGltcG9ydCgiQC9jb21wb25lbnRzL0xvYWRpbmciKSwKICAgICJhcHAtc2VhcmNoZGF0ZSI6ICgpID0+IGltcG9ydCgiQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvU2VhcmNoRGF0ZSIpLAogICAgImFwcC1yZXBvcnRpbmctbGFuZ3VhZ2UiOiAoKSA9PgogICAgICBpbXBvcnQoIkAvY29tcG9uZW50cy9rZW5kb190ZW1wbGF0ZXMvUmVwb3J0aW5nTGFuZ3VhZ2VEcm9wRG93bkxpc3QiKSwKICAgICJhcHAtZmlzY2FsLWRhdGUtZHJvcGRvd25saXN0IjogKCkgPT4KICAgICAgaW1wb3J0KCJAL2NvbXBvbmVudHMva2VuZG9fdGVtcGxhdGVzL0Zpc2NhbERhdGVEcm9wRG93bkxpc3QiKSwKICAgICJhcHAtcHJvamVjdC1kcm9wZG93bmxpc3QiOiAoKSA9PgogICAgICBpbXBvcnQoIkAvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvUHJvamVjdCIpLAogICAgImxldmVsLWNvYS1kcm9wZG93bmxpc3QiOiAoKSA9PgogICAgICBpbXBvcnQoIkAvY29tcG9uZW50cy9kcm9wZG93bmxpc3QvTGV2ZWxDb2EiKSwKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICAvLyBPYmoKICAgIHN0YXJ0RGF0ZTogIiIsCiAgICBlbmREYXRlOiAiIiwKICAgIHN0YXRlbWVudHM6IFtdLAogICAgc3RhdGVtZW50UExMaXN0OiBbXSwKICAgIHByb2plY3Q6IG51bGwsCiAgICBsZXZlbENvYTogIiIsIC8vIERlZmF1bHQgcHJpbWFyeQogICAgY29sdW1uQnk6ICIxIiwgLy9EZWZhdWx0IFRvdGFsCiAgICBjb2x1bW5zQnk6IGNvbHVtbnNCeSwKICAgIGZpc2NhbERhdGU6IGluc3RpdHV0ZS5maXNjYWxEYXRlWzBdLAogICAgZmlzY2FsRGF0ZXM6IGluc3RpdHV0ZS5maXNjYWxEYXRlLAogICAgZmlzY2FsTW9udGhzOiBIZWxwZXIuZ2VuZXJhdGVGaXNjYWxNb250aHMoCiAgICAgIGluc3RpdHV0ZS5maXNjYWxEYXRlWzBdLnN0YXJ0X2RhdGUsCiAgICAgIGluc3RpdHV0ZS5maXNjYWxEYXRlWzBdLmVuZF9kYXRlLAogICAgICAiMTIiCiAgICApLAogICAgSGVscGVyOiBIZWxwZXIsCiAgICAvLyBSZXBvcnRpbmcgTGFuZ3VhZ2UKICAgIHJlcG9ydGluZ0xhbmd1YWdlOiAiZW5nbGlzaCIsCiAgICBmaWVsZE5hbWU6ICJuYW1lIiwKICAgIGZpZWxkVHlwZTogInR5cGUiLAogICAgZm9vdGVyTmFtZTogIlN1cnBsdXMgT3IgKERlZmljaXQpIiwKICAgIC8vIExvZGluZ01lCiAgICBzaG93TG9hZGluZzogZmFsc2UsCiAgICAvKiBLRU5ETyAqLwogICAgY29sdW1uczogW10sCiAgICBzb3J0RGVmaW5pdGlvbjogeyBmaWVsZDogIm51bWJlciIsIGRpcjogImFzYyIgfSwKICAgIGdyb3VwRGVmaW5pdGlvbjogW10sCiAgICBhZ2dyZWdhdGVEZWZpbml0aW9uOiBbCiAgICAgIHsgZmllbGQ6ICJiYWxhbmNlIiwgYWdncmVnYXRlOiAic3VtIiB9LAogICAgICB7IGZpZWxkOiAiemVybyIsIGFnZ3JlZ2F0ZTogInN1bSIgfSwKICAgICAgeyBmaWVsZDogIm9uZSIsIGFnZ3JlZ2F0ZTogInN1bSIgfSwKICAgICAgeyBmaWVsZDogInR3byIsIGFnZ3JlZ2F0ZTogInN1bSIgfSwKICAgICAgeyBmaWVsZDogInRocmVlIiwgYWdncmVnYXRlOiAic3VtIiB9LAogICAgICB7IGZpZWxkOiAiZm91ciIsIGFnZ3JlZ2F0ZTogInN1bSIgfSwKICAgICAgeyBmaWVsZDogImZpdmUiLCBhZ2dyZWdhdGU6ICJzdW0iIH0sCiAgICAgIHsgZmllbGQ6ICJzaXgiLCBhZ2dyZWdhdGU6ICJzdW0iIH0sCiAgICAgIHsgZmllbGQ6ICJzZXZlbiIsIGFnZ3JlZ2F0ZTogInN1bSIgfSwKICAgICAgeyBmaWVsZDogImVpZ2h0IiwgYWdncmVnYXRlOiAic3VtIiB9LAogICAgICB7IGZpZWxkOiAibmluZSIsIGFnZ3JlZ2F0ZTogInN1bSIgfSwKICAgICAgeyBmaWVsZDogInRlbiIsIGFnZ3JlZ2F0ZTogInN1bSIgfSwKICAgICAgeyBmaWVsZDogImVsZXZlbiIsIGFnZ3JlZ2F0ZTogInN1bSIgfSwKICAgIF0sCiAgICBzY2hlbWFEZWZpbml0aW9uOiB7CiAgICAgIG1vZGVsOiB7IGlkOiAiYWNjb3VudFVVSUQiIH0sCiAgICB9LAogIH0pLAogIG1ldGhvZHM6IHsKICAgIC8qIEtFTkRPICovCiAgICAvKiBPbiBncmlkIGNoYW5nZXMgPT4gbGluayB0byBHTCAqLwogICAgb25HcmlkQ2hhbmdlcygpIHsKICAgICAgbGV0IGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkU1BMIikuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgIGxldCBzZWxlY3RlZEl0ZW0gPSBncmlkLmRhdGFJdGVtKGdyaWQuc2VsZWN0KCkpOwoKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICJnZW5lcmFsX2xlZGdlciIsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGFjY291bnRfaWQ6IHNlbGVjdGVkSXRlbS5hY2NvdW50VVVJRCwKICAgICAgICAgIHN0YXJ0X2RhdGU6IHRoaXMuc3RhcnREYXRlLAogICAgICAgICAgZW5kX2RhdGU6IHRoaXMuZW5kRGF0ZSwKICAgICAgICB9LAogICAgICB9KTsKICAgIH0sCiAgICAvLyBTZWFyY2ggam91cm5hbHMKICAgIHNlYXJjaCgpIHsKICAgICAgaWYgKHRoaXMucHJvamVjdCAhPT0gbnVsbCkgewogICAgICAgIGxldCBzZGF0ZSA9IHRoaXMuc3RhcnREYXRlLAogICAgICAgICAgZWRhdGUgPSB0aGlzLmVuZERhdGU7CgogICAgICAgIC8vIEdlbmVyYXRlIEZpc2NhbCBNb250aHMKICAgICAgICBpZiAodGhpcy5jb2x1bW5CeSAhPT0gIjEiKSB7CiAgICAgICAgICBzZGF0ZSA9IHRoaXMuZmlzY2FsRGF0ZS5zdGFydF9kYXRlOwogICAgICAgICAgZWRhdGUgPSB0aGlzLmZpc2NhbERhdGUuZW5kX2RhdGU7CgogICAgICAgICAgdGhpcy5maXNjYWxNb250aHMgPSBIZWxwZXIuZ2VuZXJhdGVGaXNjYWxNb250aHMoCiAgICAgICAgICAgIHNkYXRlLAogICAgICAgICAgICBlZGF0ZSwKICAgICAgICAgICAgdGhpcy5jb2x1bW5CeQogICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIGlmIChzZGF0ZSAmJiBlZGF0ZSkgewogICAgICAgICAgc2RhdGUgPQogICAgICAgICAgICBrZW5kby50b1N0cmluZyhuZXcgRGF0ZShzZGF0ZSksICJ5eXl5LU1NLWRkIikgKyAiVDAwOjAwOjAwLjAwMFoiOwogICAgICAgICAgZWRhdGUgPQogICAgICAgICAgICBrZW5kby50b1N0cmluZyhuZXcgRGF0ZShlZGF0ZSksICJ5eXl5LU1NLWRkIikgKyAiVDIzOjU5OjU5Ljk5OVoiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZGF0ZSA9IDA7CiAgICAgICAgICBlZGF0ZSA9IDA7CiAgICAgICAgfQoKICAgICAgICAvLyBFbXB0eSBkYXRhU291cmNlCiAgICAgICAgbGV0IGRzID0gdGhpcy4kcmVmcy5zdGF0ZW1lbnRQTERTLmtlbmRvV2lkZ2V0KCk7CiAgICAgICAgZHMuZGF0YShbXSk7CgogICAgICAgIC8qIEdlbmVyYXRlIEdyb3VwIEJ5ICovCiAgICAgICAgdGhpcy5nZW5lcmF0ZUdyb3VwQnkoKTsKCiAgICAgICAgLy8gUXVlcnkKICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICBpbmNvbWVTdGF0ZW1lbnRIYW5kbGVyCiAgICAgICAgICAuZ2V0QnlQcm9qZWN0KAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICBzdGFydF9kYXRlOiBzZGF0ZSwKICAgICAgICAgICAgICAgIGVuZF9kYXRlOiBlZGF0ZSwKICAgICAgICAgICAgICAgIGdyb3VwX2J5OiB0aGlzLmNvbHVtbkJ5LAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRoaXMucHJvamVjdC5pZCwKICAgICAgICAgICAgdGhpcy5sZXZlbENvYQogICAgICAgICAgKQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICAgICAgdGhpcy5zdGF0ZW1lbnRzID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgdGhpcy5iaW5kRGF0YSgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuZXJyb3IoaTE4bi50KCJlcnJvcl9zb21ldGhpbmdfd3JvbmciKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICAgIC8vIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHNub3RpZnkud2FybmluZyhpMThuLnQoInBsZWFzZV9zZWxlY3RfcHJvamVjdCIpKTsKICAgICAgfQogICAgfSwKICAgIGJpbmREYXRhKCkgewogICAgICBsZXQgZW50cmllcyA9IFtdOwogICAgICB0aGlzLnN0YXRlbWVudHMuZm9yRWFjaCgodmFsdWUpID0+IHsKICAgICAgICAvKiBSZWNlaXB0ICovCiAgICAgICAgaWYgKAogICAgICAgICAgdmFsdWUuc3RhdGVtZW50R3JvdXAudG9Mb3dlckNhc2UoKSA9PT0gInJldmVudWUiIHx8CiAgICAgICAgICB2YWx1ZS5zdGF0ZW1lbnRHcm91cC50b0xvd2VyQ2FzZSgpID09PSAib3RoZXIgcmV2ZW51ZSIKICAgICAgICApIHsKICAgICAgICAgIHZhbHVlLnN0YXRlbWVudFR5cGUgPSAiUmVjZWlwdCI7CiAgICAgICAgICB2YWx1ZS5vcmRlciA9IDEwMDA7CgogICAgICAgICAgZW50cmllcy5wdXNoKHZhbHVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLyogUGF5bWVudCAqLwogICAgICAgICAgaWYgKHZhbHVlLmFjY291bnRfdHlwZV9udW1iZXIgPCAxMDApIHsKICAgICAgICAgICAgdmFsdWUuc3RhdGVtZW50VHlwZSA9ICJQYXltZW50IjsKICAgICAgICAgICAgdmFsdWUub3JkZXIgPSAyMDAwOwoKICAgICAgICAgICAgZW50cmllcy5wdXNoKHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8qIFJlY2VpcHQgKi8KICAgICAgICBpZiAodmFsdWUuYWNjb3VudF90eXBlX251bWJlciA9PT0gMTA1KSB7CiAgICAgICAgICB2YWx1ZS5zdGF0ZW1lbnRUeXBlID0gdGhpcy5mb290ZXJOYW1lOwogICAgICAgICAgdmFsdWUub3JkZXIgPSAzMDAwOwoKICAgICAgICAgIGVudHJpZXMucHVzaCh2YWx1ZSk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8qIEJpbmQgZGF0YSAqLwogICAgICB0aGlzLnN0YXRlbWVudFBMTGlzdCA9IGVudHJpZXM7CgogICAgICAvKiBHZW5lcmF0ZSBDb2x1bW4gKi8KICAgICAgdGhpcy5nZW5lcmF0ZUNvbHVtbigpOwoKICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgfSwKICAgIC8vIFJvdyBUZW1wbGF0ZQogICAgYWNjb3VudFRtcGwoZGF0YUl0ZW0pIHsKICAgICAgbGV0IG5hbWUgPSBkYXRhSXRlbS5udW1iZXI7CgogICAgICBpZiAodGhpcy5yZXBvcnRpbmdMYW5ndWFnZSA9PT0gImxvY2FsIikgewogICAgICAgIG5hbWUgKz0gIiAtICIgKyBkYXRhSXRlbS5sb2NhbF9uYW1lOwogICAgICB9IGVsc2UgewogICAgICAgIG5hbWUgKz0gIiAtICIgKyBkYXRhSXRlbS5uYW1lOwogICAgICB9CgogICAgICByZXR1cm4gbmFtZTsKICAgIH0sCiAgICB0eXBlR3JvdXBIZWFkZXJUbXBsKGRhdGFJdGVtKSB7CiAgICAgIGxldCBuYW1lID0gZGF0YUl0ZW0uaXRlbXNbMF0udHlwZTsKCiAgICAgIGlmICh0aGlzLnJlcG9ydGluZ0xhbmd1YWdlID09PSAibG9jYWwiKSB7CiAgICAgICAgbmFtZSA9IGRhdGFJdGVtLml0ZW1zWzBdLnR5cGVfbG9jYWxfbmFtZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG5hbWU7CiAgICB9LAogICAgLy8gR2VuZXJhdGUgQ29sdW1ucwogICAgZ2VuZXJhdGVDb2x1bW4oKSB7CiAgICAgIGxldCBkZWZhdWx0Q29sdW1ucyA9IFsKICAgICAgICB7CiAgICAgICAgICBmaWVsZDogdGhpcy5maWVsZE5hbWUsCiAgICAgICAgICB0aXRsZTogaTE4bi50KCJhY2NvdW50IiksCiAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy5hY2NvdW50VG1wbCwKICAgICAgICAgIGxvY2tlZDogdHJ1ZSwKICAgICAgICAgIHdpZHRoOiAzMDAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBmaWVsZDogInN0YXRlbWVudFR5cGUiLAogICAgICAgICAgdGl0bGU6IGkxOG4udCgic3RhdGVtZW50X3R5cGUiKSwKICAgICAgICAgIGdyb3VwSGVhZGVyVGVtcGxhdGU6CiAgICAgICAgICAgICI8c3BhbiBjbGFzcz0ndGV4dC1ib2xkIHRleHQtYmxhY2snPiM9dmFsdWUjPC9zcGFuPiIsCiAgICAgICAgICBoaWRkZW46IHRydWUsCiAgICAgICAgICB3aWR0aDogMjUwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgZmllbGQ6IHRoaXMuZmllbGRUeXBlLAogICAgICAgICAgdGl0bGU6IGkxOG4udCgidHlwZSIpLAogICAgICAgICAgaGlkZGVuOiB0cnVlLAogICAgICAgICAgZ3JvdXBIZWFkZXJUZW1wbGF0ZTogdGhpcy50eXBlR3JvdXBIZWFkZXJUbXBsLAogICAgICAgICAgd2lkdGg6IDMwMCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGZpZWxkOiAic3RhdGVtZW50R3JvdXAiLAogICAgICAgICAgdGl0bGU6IGkxOG4udCgic3RhdGVtZW50X2dyb3VwIiksCiAgICAgICAgICBoaWRkZW46IHRydWUsCiAgICAgICAgICBncm91cEhlYWRlclRlbXBsYXRlOgogICAgICAgICAgICAiPHNwYW4gY2xhc3M9J3RleHQtYm9sZCB0ZXh0LWJsYWNrJz4jPXZhbHVlIzwvc3Bhbj4iLAogICAgICAgICAgd2lkdGg6IDMwMCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGZpZWxkOiAiZ3JvdXBOYXR1cmUiLAogICAgICAgICAgdGl0bGU6IGkxOG4udCgibmF0dXJlIiksCiAgICAgICAgICBoaWRkZW46IHRydWUsCiAgICAgICAgICBncm91cEhlYWRlclRlbXBsYXRlOgogICAgICAgICAgICAiPHNwYW4gY2xhc3M9J3RleHQtYm9sZCB0ZXh0LWJsYWNrJz4jPXZhbHVlIzwvc3Bhbj4iLAogICAgICAgICAgd2lkdGg6IDMwMCwKICAgICAgICB9LAogICAgICBdOwoKICAgICAgbGV0IGhlYWRlckF0dHJpYnV0ZXMgPSB7CiAgICAgICAgICBjbGFzczogInRhYmxlLWhlYWRlci1jZWxsIiwKICAgICAgICAgIHN0eWxlOiAidGV4dC1hbGlnbjogcmlnaHQ7cGFkZGluZy1yaWdodDogMzVweDsgZm9udC1zaXplOiAxNHB4IiwKICAgICAgICB9LAogICAgICAgIGF0dHJpYnV0ZXMgPSB7CiAgICAgICAgICBjbGFzczogInRhYmxlLWNlbGwiLAogICAgICAgICAgc3R5bGU6ICJ0ZXh0LWFsaWduOiByaWdodDsgZm9udC1zaXplOiAxNHB4IiwKICAgICAgICB9OwoKICAgICAgc3dpdGNoICh0aGlzLmNvbHVtbkJ5KSB7CiAgICAgICAgY2FzZSAiMTIiOiAvLyBNT05USAogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMjsgaSsrKSB7CiAgICAgICAgICAgIGRlZmF1bHRDb2x1bW5zLnB1c2goewogICAgICAgICAgICAgIGZpZWxkOiBOdW1iZXJJbldvcmRbaV0sCiAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuZmlzY2FsTW9udGhzW2ldLAogICAgICAgICAgICAgIGZvcm1hdDogInswOm59IiwKICAgICAgICAgICAgICB3aWR0aDogMjAwLAogICAgICAgICAgICAgIGFnZ3JlZ2F0ZXM6ICJbJ3N1bSddIiwKICAgICAgICAgICAgICBncm91cEhlYWRlckNvbHVtblRlbXBsYXRlOgogICAgICAgICAgICAgICAgIjxkaXYgY2xhc3M9J3RleHQtcmlnaHQgdGV4dC1ib2xkIHRleHQtYmxhY2snPiM9a2VuZG8udG9TdHJpbmcoc3VtLCAnbicpIzwvZGl2PiIsCiAgICAgICAgICAgICAgaGVhZGVyQXR0cmlidXRlczogaGVhZGVyQXR0cmlidXRlcywKICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmNvbHVtbnMgPSBkZWZhdWx0Q29sdW1uczsKCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiNCI6IC8vIFFVQVJURVIKICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgICAgIGRlZmF1bHRDb2x1bW5zLnB1c2goewogICAgICAgICAgICAgIGZpZWxkOiBOdW1iZXJJbldvcmRbaV0sCiAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuZmlzY2FsTW9udGhzW2ldLAogICAgICAgICAgICAgIGZvcm1hdDogInswOm59IiwKICAgICAgICAgICAgICB3aWR0aDogMjAwLAogICAgICAgICAgICAgIGFnZ3JlZ2F0ZXM6ICJbJ3N1bSddIiwKICAgICAgICAgICAgICBncm91cEhlYWRlckNvbHVtblRlbXBsYXRlOgogICAgICAgICAgICAgICAgIjxkaXYgY2xhc3M9J3RleHQtcmlnaHQgdGV4dC1ib2xkIHRleHQtYmxhY2snPiM9a2VuZG8udG9TdHJpbmcoc3VtLCAnbicpIzwvZGl2PiIsCiAgICAgICAgICAgICAgaGVhZGVyQXR0cmlidXRlczogaGVhZGVyQXR0cmlidXRlcywKICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmNvbHVtbnMgPSBkZWZhdWx0Q29sdW1uczsKCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiMiI6IC8vIFNFTUktQU5OVUFMCiAgICAgICAgICAvLyBFeHBhbmQgQ29sdW1uIFswXSB3aWR0aAogICAgICAgICAgZGVmYXVsdENvbHVtbnNbMF0ud2lkdGggPSA0MDA7CgogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspIHsKICAgICAgICAgICAgZGVmYXVsdENvbHVtbnMucHVzaCh7CiAgICAgICAgICAgICAgZmllbGQ6IE51bWJlckluV29yZFtpXSwKICAgICAgICAgICAgICB0aXRsZTogdGhpcy5maXNjYWxNb250aHNbaV0sCiAgICAgICAgICAgICAgZm9ybWF0OiAiezA6bn0iLAogICAgICAgICAgICAgIHdpZHRoOiAzMDAsCiAgICAgICAgICAgICAgYWdncmVnYXRlczogIlsnc3VtJ10iLAogICAgICAgICAgICAgIGdyb3VwSGVhZGVyQ29sdW1uVGVtcGxhdGU6CiAgICAgICAgICAgICAgICAiPGRpdiBjbGFzcz0ndGV4dC1yaWdodCB0ZXh0LWJvbGQgdGV4dC1ibGFjayc+Iz1rZW5kby50b1N0cmluZyhzdW0sICduJykjPC9kaXY+IiwKICAgICAgICAgICAgICBoZWFkZXJBdHRyaWJ1dGVzOiBoZWFkZXJBdHRyaWJ1dGVzLAogICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuY29sdW1ucyA9IGRlZmF1bHRDb2x1bW5zOwoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgLy8gVE9UQUwKICAgICAgICAgIC8vIEV4cGFuZCBDb2x1bW4gWzBdIHdpZHRoCiAgICAgICAgICBkZWZhdWx0Q29sdW1uc1swXS53aWR0aCA9IDYwMDsKCiAgICAgICAgICBkZWZhdWx0Q29sdW1ucy5wdXNoKHsKICAgICAgICAgICAgZmllbGQ6ICJiYWxhbmNlIiwKICAgICAgICAgICAgdGl0bGU6IGkxOG4udCgidG90YWwiKSwKICAgICAgICAgICAgZm9ybWF0OiAiezA6bn0iLAogICAgICAgICAgICB3aWR0aDogMzAwLAogICAgICAgICAgICBhZ2dyZWdhdGVzOiAiWydzdW0nXSIsCiAgICAgICAgICAgIGdyb3VwSGVhZGVyQ29sdW1uVGVtcGxhdGU6CiAgICAgICAgICAgICAgIjxkaXYgY2xhc3M9J3RleHQtcmlnaHQgdGV4dC1ib2xkIHRleHQtYmxhY2snPiM9a2VuZG8udG9TdHJpbmcoc3VtLCAnbicpIzwvZGl2PiIsCiAgICAgICAgICAgIGhlYWRlckF0dHJpYnV0ZXM6IGhlYWRlckF0dHJpYnV0ZXMsCiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMsCiAgICAgICAgICB9KTsKCiAgICAgICAgICB0aGlzLmNvbHVtbnMgPSBkZWZhdWx0Q29sdW1uczsKCiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIC8qIERhdGFib3VuZCAqLwogICAgZGF0YUJvdW5kKGUpIHsKICAgICAgbGV0IGdyaWQgPSBlLnNlbmRlcjsKCiAgICAgIGdyaWQuZGF0YVNvdXJjZS5kYXRhKCkuZm9yRWFjaCgodmFsdWUpID0+IHsKICAgICAgICBpZiAodmFsdWUuYWNjb3VudF90eXBlX251bWJlciA9PT0gMTA1KSB7CiAgICAgICAgICBsZXQgcm93ID0gZ3JpZC50Ym9keQogICAgICAgICAgICAuZmluZCgidHJbZGF0YS11aWQ9JyIgKyB2YWx1ZS51aWQgKyAiJ10iKQogICAgICAgICAgICAucHJldigiLmstZ3JvdXBpbmctcm93Iik7CiAgICAgICAgICBncmlkLmNvbGxhcHNlR3JvdXAocm93KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIE9uIFJlcG9yaW50IExhbmd1YWdlIENoYW5nZXMKICAgIG9uUmVwb3J0aW5nTGFuZ3VhZ2VDaGFuZ2VzKCkgewogICAgICB0aGlzLmZpZWxkTmFtZSA9ICJuYW1lIjsKICAgICAgdGhpcy5maWVsZFR5cGUgPSAidHlwZSI7CiAgICAgIHRoaXMuZm9vdGVyTmFtZSA9ICJTdXJwbHVzIE9yIChEZWZsaWNpdCkiOwogICAgICBpZiAodGhpcy5yZXBvcnRpbmdMYW5ndWFnZSA9PT0gImxvY2FsIikgewogICAgICAgIHRoaXMuZmllbGROYW1lID0gImxvY2FsX25hbWUiOwogICAgICAgIHRoaXMuZmllbGRUeXBlID0gInR5cGVfbG9jYWxfbmFtZSI7CiAgICAgICAgdGhpcy5mb290ZXJOYW1lID0gIuGeouGej+Get+GemuGfgeGegC/hnrHhnpPhnpfhnrbhnpYiOwogICAgICB9CgogICAgICAvLyBHZW5lcmF0ZSBHcm91cCBCeQogICAgICB0aGlzLmdlbmVyYXRlR3JvdXBCeSgpOwoKICAgICAgLy8gR2VuZXJhdGUgY29sdW1uIHdpdGggbmV3IGxhbmd1YWdlCiAgICAgIHRoaXMuZ2VuZXJhdGVDb2x1bW4oKTsKICAgIH0sCiAgICAvLyBHZW5lcmF0ZSBHcm91cCBCeQogICAgZ2VuZXJhdGVHcm91cEJ5KCkgewogICAgICBsZXQgZ3JvdXBEZWZpbml0aW9uID0gW107CgogICAgICAvKiBEZWZhdWx0IGdyb3VwICovCiAgICAgIGdyb3VwRGVmaW5pdGlvbi5wdXNoKHsKICAgICAgICBmaWVsZDogInN0YXRlbWVudFR5cGUiLAogICAgICAgIGFnZ3JlZ2F0ZXM6IHRoaXMuYWdncmVnYXRlRGVmaW5pdGlvbiwKICAgICAgICBjb21wYXJlOiBmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgaWYgKGEuaXRlbXNbMF0ub3JkZXIgPT09IGIuaXRlbXNbMF0ub3JkZXIpIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICB9IGVsc2UgaWYgKGEuaXRlbXNbMF0ub3JkZXIgPiBiLml0ZW1zWzBdLm9yZGVyKSB7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgIH0pOwoKICAgICAgLyogTGV2ZWwgQ29hICovCiAgICAgIGlmICh0aGlzLmxldmVsQ29hICE9PSAiIikgewogICAgICAgIGdyb3VwRGVmaW5pdGlvbi5wdXNoKHsKICAgICAgICAgIGZpZWxkOiB0aGlzLmZpZWxkVHlwZSwKICAgICAgICAgIGFnZ3JlZ2F0ZXM6IHRoaXMuYWdncmVnYXRlRGVmaW5pdGlvbiwKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgLyogQXBwbHkgR3JvdXAgRGVmaW5pdGlvbiAqLwogICAgICB0aGlzLmdyb3VwRGVmaW5pdGlvbiA9IGdyb3VwRGVmaW5pdGlvbjsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgcmVwb3J0aW5nTGFuZ3VhZ2UoKSB7CiAgICAgIHRoaXMub25SZXBvcnRpbmdMYW5ndWFnZUNoYW5nZXMoKTsKICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgYXBwVHlwZSgpIHsKICAgICAgcmV0dXJuIGRhdGFTdG9yZS5wcm9kdWN0VHlwZTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgLy8gR2VuZXJhdGUgR3JvdXAgQnkKICAgIHRoaXMuZ2VuZXJhdGVHcm91cEJ5KCk7CgogICAgLy8gSW5pdGlhbCBHcmlkIENvbHVtbnMKICAgIHRoaXMuZ2VuZXJhdGVDb2x1bW4oKTsKICB9LAp9Owo="},{"version":3,"sources":["StatementOfProfitOrLossByProject.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"StatementOfProfitOrLossByProject.vue","sourceRoot":"src/views/accounting/reports/receipt_payment","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"grayBg px-6\">\n      <v-card color=\"white\" class=\"pa-3 no_border\" elevation=\"0\">\n        <v-row class=\"mt-0\">\n          <v-col sm=\"10\" cols=\"12\" class=\"py-0\">\n            <div v-if=\"columnBy === '1'\">\n              <app-searchdate\n                :initStartDate=\"startDate\"\n                @emitStartDate=\"startDate = $event\"\n                :initEndDate=\"endDate\"\n                @emitEndDate=\"endDate = $event\"\n              />\n            </div>\n            <div v-else>\n              <app-fiscal-date-dropdownlist\n                :initFiscalDate=\"fiscalDate\"\n                @emitFiscalDate=\"fiscalDate = $event\"\n              />\n            </div>\n          </v-col>\n          <v-col sm=\"2\" cols=\"12\" class=\"py-0\">\n              <app-reporting-language\n                :initLanguage=\"reportingLanguage\"\n                @emitLanguage=\"reportingLanguage = $event\"\n              />\n          </v-col>\n        </v-row>\n        <v-row class=\"mt-0\">\n          <v-col class=\"py-0\" sm=\"3\" cols=\"3\">\n            <label class=\"label\">{{ $t(\"disable_column_by\") }}</label>\n            <v-select\n              class=\"mt-1\"\n              :items=\"columnsBy\"\n              item-text=\"text\"\n              item-value=\"value\"\n              v-model=\"columnBy\"\n              clearable\n              outlined\n            />\n          </v-col>\n          <v-col class=\"py-0\" sm=\"3\" cols=\"3\">\n            <label class=\"label\">{{ $t(\"project\") }}</label>\n            <app-project-dropdownlist\n              :initProject=\"project\"\n              @emitProject=\"project = $event\"\n            />\n          </v-col>\n          <v-col sm=\"3\" cols=\"3\" class=\"pt-6\">\n            <level-coa-dropdownlist\n              :initLevelCoa=\"levelCoa\"\n              @emitLevelCoa=\"levelCoa = $event\"\n            />\n          </v-col>\n          <v-col class=\"py-1\" sm=\"1\" cols=\"3\">\n            <v-btn class=\"white--text dv_mt\" color=\"primary\" @click=\"search\">\n              <i\n                class=\"b-search\"\n                style=\"font-size: 18px; color: #fff !important\"\n              />\n            </v-btn>\n          </v-col>\n        </v-row>\n        <v-row class=\"mt-0\">\n          <v-col sm=\"12\" cols=\"12\" class=\"custom_expansion\">\n            <kendo-datasource\n              ref=\"statementPLDS\"\n              :data=\"statementPLList\"\n              :schema=\"schemaDefinition\"\n              :sort=\"sortDefinition\"\n              :group=\"groupDefinition\"\n              :aggregate=\"aggregateDefinition\"\n            />\n\n            <kendo-grid\n              id=\"gridSPL\"\n              class=\"custom_grid\"\n              :data-source-ref=\"'statementPLDS'\"\n              :dataBound=\"dataBound\"\n              :change=\"onGridChanges\"\n              :selectable=\"true\"\n              :persistSelection=\"true\"\n              :sortable=\"true\"\n              :column-menu=\"true\"\n              :reorderable=\"true\"\n              :resizable=\"true\"\n              :noRecords=\"true\"\n              :toolbar=\"['excel']\"\n              :excel-file-name=\"'incomeStatement.xlsx'\"\n              :excel-filterable=\"true\"\n              :columns=\"columns\"\n            />\n          </v-col>\n        </v-row>\n        <LoadingMe\n          :isLoading=\"showLoading\"\n          :fullPage=\"false\"\n          :myLoading=\"true\"\n        />\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport kendo from \"@progress/kendo-ui\";\nimport { i18n } from \"@/i18n\";\nimport Helper from \"@/helper.js\";\nimport { dataStore } from \"@/observable/store\";\n\n/* Store */\nimport store from \"@/store\";\nconst institute = store.state.institute.institute;\n\nconst { incomeStatementHandler } = require(\"@/scripts/AppHandlers\");\nconst { columnsBy } = require(\"@/scripts/default_setup/DateSearch.js\");\nconst NumberInWord = require(\"@/scripts/default_setup/NumberInWord.js\");\n\nexport default {\n  components: {\n    LoadingMe: () => import(\"@/components/Loading\"),\n    \"app-searchdate\": () => import(\"@/components/custom_templates/SearchDate\"),\n    \"app-reporting-language\": () =>\n      import(\"@/components/kendo_templates/ReportingLanguageDropDownList\"),\n    \"app-fiscal-date-dropdownlist\": () =>\n      import(\"@/components/kendo_templates/FiscalDateDropDownList\"),\n    \"app-project-dropdownlist\": () =>\n      import(\"@/components/dropdownlist/Project\"),\n    \"level-coa-dropdownlist\": () =>\n      import(\"@/components/dropdownlist/LevelCoa\"),\n  },\n  data: () => ({\n    // Obj\n    startDate: \"\",\n    endDate: \"\",\n    statements: [],\n    statementPLList: [],\n    project: null,\n    levelCoa: \"\", // Default primary\n    columnBy: \"1\", //Default Total\n    columnsBy: columnsBy,\n    fiscalDate: institute.fiscalDate[0],\n    fiscalDates: institute.fiscalDate,\n    fiscalMonths: Helper.generateFiscalMonths(\n      institute.fiscalDate[0].start_date,\n      institute.fiscalDate[0].end_date,\n      \"12\"\n    ),\n    Helper: Helper,\n    // Reporting Language\n    reportingLanguage: \"english\",\n    fieldName: \"name\",\n    fieldType: \"type\",\n    footerName: \"Surplus Or (Deficit)\",\n    // LodingMe\n    showLoading: false,\n    /* KENDO */\n    columns: [],\n    sortDefinition: { field: \"number\", dir: \"asc\" },\n    groupDefinition: [],\n    aggregateDefinition: [\n      { field: \"balance\", aggregate: \"sum\" },\n      { field: \"zero\", aggregate: \"sum\" },\n      { field: \"one\", aggregate: \"sum\" },\n      { field: \"two\", aggregate: \"sum\" },\n      { field: \"three\", aggregate: \"sum\" },\n      { field: \"four\", aggregate: \"sum\" },\n      { field: \"five\", aggregate: \"sum\" },\n      { field: \"six\", aggregate: \"sum\" },\n      { field: \"seven\", aggregate: \"sum\" },\n      { field: \"eight\", aggregate: \"sum\" },\n      { field: \"nine\", aggregate: \"sum\" },\n      { field: \"ten\", aggregate: \"sum\" },\n      { field: \"eleven\", aggregate: \"sum\" },\n    ],\n    schemaDefinition: {\n      model: { id: \"accountUUID\" },\n    },\n  }),\n  methods: {\n    /* KENDO */\n    /* On grid changes => link to GL */\n    onGridChanges() {\n      let grid = kendo.jQuery(\"#gridSPL\").data(\"kendoGrid\");\n      let selectedItem = grid.dataItem(grid.select());\n\n      this.$router.push({\n        path: \"general_ledger\",\n        query: {\n          account_id: selectedItem.accountUUID,\n          start_date: this.startDate,\n          end_date: this.endDate,\n        },\n      });\n    },\n    // Search journals\n    search() {\n      if (this.project !== null) {\n        let sdate = this.startDate,\n          edate = this.endDate;\n\n        // Generate Fiscal Months\n        if (this.columnBy !== \"1\") {\n          sdate = this.fiscalDate.start_date;\n          edate = this.fiscalDate.end_date;\n\n          this.fiscalMonths = Helper.generateFiscalMonths(\n            sdate,\n            edate,\n            this.columnBy\n          );\n        }\n\n        if (sdate && edate) {\n          sdate =\n            kendo.toString(new Date(sdate), \"yyyy-MM-dd\") + \"T00:00:00.000Z\";\n          edate =\n            kendo.toString(new Date(edate), \"yyyy-MM-dd\") + \"T23:59:59.999Z\";\n        } else {\n          sdate = 0;\n          edate = 0;\n        }\n\n        // Empty dataSource\n        let ds = this.$refs.statementPLDS.kendoWidget();\n        ds.data([]);\n\n        /* Generate Group By */\n        this.generateGroupBy();\n\n        // Query\n        this.showLoading = true;\n        incomeStatementHandler\n          .getByProject(\n            {\n              params: {\n                start_date: sdate,\n                end_date: edate,\n                group_by: this.columnBy,\n              },\n            },\n            this.project.id,\n            this.levelCoa\n          )\n          .then((res) => {\n            if (res) {\n              this.statements = res.data;\n              this.bindData();\n            } else {\n              this.$snotify.error(i18n.t(\"error_something_wrong\"));\n            }\n          })\n          .finally(() => {\n            // this.showLoading = false;\n          });\n      } else {\n        this.$snotify.warning(i18n.t(\"please_select_project\"));\n      }\n    },\n    bindData() {\n      let entries = [];\n      this.statements.forEach((value) => {\n        /* Receipt */\n        if (\n          value.statementGroup.toLowerCase() === \"revenue\" ||\n          value.statementGroup.toLowerCase() === \"other revenue\"\n        ) {\n          value.statementType = \"Receipt\";\n          value.order = 1000;\n\n          entries.push(value);\n        } else {\n          /* Payment */\n          if (value.account_type_number < 100) {\n            value.statementType = \"Payment\";\n            value.order = 2000;\n\n            entries.push(value);\n          }\n        }\n\n        /* Receipt */\n        if (value.account_type_number === 105) {\n          value.statementType = this.footerName;\n          value.order = 3000;\n\n          entries.push(value);\n        }\n      });\n\n      /* Bind data */\n      this.statementPLList = entries;\n\n      /* Generate Column */\n      this.generateColumn();\n\n      this.showLoading = false;\n    },\n    // Row Template\n    accountTmpl(dataItem) {\n      let name = dataItem.number;\n\n      if (this.reportingLanguage === \"local\") {\n        name += \" - \" + dataItem.local_name;\n      } else {\n        name += \" - \" + dataItem.name;\n      }\n\n      return name;\n    },\n    typeGroupHeaderTmpl(dataItem) {\n      let name = dataItem.items[0].type;\n\n      if (this.reportingLanguage === \"local\") {\n        name = dataItem.items[0].type_local_name;\n      }\n\n      return name;\n    },\n    // Generate Columns\n    generateColumn() {\n      let defaultColumns = [\n        {\n          field: this.fieldName,\n          title: i18n.t(\"account\"),\n          template: this.accountTmpl,\n          locked: true,\n          width: 300,\n        },\n        {\n          field: \"statementType\",\n          title: i18n.t(\"statement_type\"),\n          groupHeaderTemplate:\n            \"<span class='text-bold text-black'>#=value#</span>\",\n          hidden: true,\n          width: 250,\n        },\n        {\n          field: this.fieldType,\n          title: i18n.t(\"type\"),\n          hidden: true,\n          groupHeaderTemplate: this.typeGroupHeaderTmpl,\n          width: 300,\n        },\n        {\n          field: \"statementGroup\",\n          title: i18n.t(\"statement_group\"),\n          hidden: true,\n          groupHeaderTemplate:\n            \"<span class='text-bold text-black'>#=value#</span>\",\n          width: 300,\n        },\n        {\n          field: \"groupNature\",\n          title: i18n.t(\"nature\"),\n          hidden: true,\n          groupHeaderTemplate:\n            \"<span class='text-bold text-black'>#=value#</span>\",\n          width: 300,\n        },\n      ];\n\n      let headerAttributes = {\n          class: \"table-header-cell\",\n          style: \"text-align: right;padding-right: 35px; font-size: 14px\",\n        },\n        attributes = {\n          class: \"table-cell\",\n          style: \"text-align: right; font-size: 14px\",\n        };\n\n      switch (this.columnBy) {\n        case \"12\": // MONTH\n          for (let i = 0; i < 12; i++) {\n            defaultColumns.push({\n              field: NumberInWord[i],\n              title: this.fiscalMonths[i],\n              format: \"{0:n}\",\n              width: 200,\n              aggregates: \"['sum']\",\n              groupHeaderColumnTemplate:\n                \"<div class='text-right text-bold text-black'>#=kendo.toString(sum, 'n')#</div>\",\n              headerAttributes: headerAttributes,\n              attributes: attributes,\n            });\n          }\n\n          this.columns = defaultColumns;\n\n          break;\n\n        case \"4\": // QUARTER\n          for (let i = 0; i < 4; i++) {\n            defaultColumns.push({\n              field: NumberInWord[i],\n              title: this.fiscalMonths[i],\n              format: \"{0:n}\",\n              width: 200,\n              aggregates: \"['sum']\",\n              groupHeaderColumnTemplate:\n                \"<div class='text-right text-bold text-black'>#=kendo.toString(sum, 'n')#</div>\",\n              headerAttributes: headerAttributes,\n              attributes: attributes,\n            });\n          }\n\n          this.columns = defaultColumns;\n\n          break;\n\n        case \"2\": // SEMI-ANNUAL\n          // Expand Column [0] width\n          defaultColumns[0].width = 400;\n\n          for (let i = 0; i < 2; i++) {\n            defaultColumns.push({\n              field: NumberInWord[i],\n              title: this.fiscalMonths[i],\n              format: \"{0:n}\",\n              width: 300,\n              aggregates: \"['sum']\",\n              groupHeaderColumnTemplate:\n                \"<div class='text-right text-bold text-black'>#=kendo.toString(sum, 'n')#</div>\",\n              headerAttributes: headerAttributes,\n              attributes: attributes,\n            });\n          }\n\n          this.columns = defaultColumns;\n\n          break;\n\n        default:\n          // TOTAL\n          // Expand Column [0] width\n          defaultColumns[0].width = 600;\n\n          defaultColumns.push({\n            field: \"balance\",\n            title: i18n.t(\"total\"),\n            format: \"{0:n}\",\n            width: 300,\n            aggregates: \"['sum']\",\n            groupHeaderColumnTemplate:\n              \"<div class='text-right text-bold text-black'>#=kendo.toString(sum, 'n')#</div>\",\n            headerAttributes: headerAttributes,\n            attributes: attributes,\n          });\n\n          this.columns = defaultColumns;\n\n          break;\n      }\n    },\n    /* Databound */\n    dataBound(e) {\n      let grid = e.sender;\n\n      grid.dataSource.data().forEach((value) => {\n        if (value.account_type_number === 105) {\n          let row = grid.tbody\n            .find(\"tr[data-uid='\" + value.uid + \"']\")\n            .prev(\".k-grouping-row\");\n          grid.collapseGroup(row);\n        }\n      });\n    },\n    // On Reporint Language Changes\n    onReportingLanguageChanges() {\n      this.fieldName = \"name\";\n      this.fieldType = \"type\";\n      this.footerName = \"Surplus Or (Deflicit)\";\n      if (this.reportingLanguage === \"local\") {\n        this.fieldName = \"local_name\";\n        this.fieldType = \"type_local_name\";\n        this.footerName = \"អតិរេក/ឱនភាព\";\n      }\n\n      // Generate Group By\n      this.generateGroupBy();\n\n      // Generate column with new language\n      this.generateColumn();\n    },\n    // Generate Group By\n    generateGroupBy() {\n      let groupDefinition = [];\n\n      /* Default group */\n      groupDefinition.push({\n        field: \"statementType\",\n        aggregates: this.aggregateDefinition,\n        compare: function (a, b) {\n          if (a.items[0].order === b.items[0].order) {\n            return 0;\n          } else if (a.items[0].order > b.items[0].order) {\n            return 1;\n          } else {\n            return -1;\n          }\n        },\n      });\n\n      /* Level Coa */\n      if (this.levelCoa !== \"\") {\n        groupDefinition.push({\n          field: this.fieldType,\n          aggregates: this.aggregateDefinition,\n        });\n      }\n\n      /* Apply Group Definition */\n      this.groupDefinition = groupDefinition;\n    },\n  },\n  watch: {\n    reportingLanguage() {\n      this.onReportingLanguageChanges();\n    },\n  },\n  computed: {\n    appType() {\n      return dataStore.productType;\n    },\n  },\n  mounted() {\n    // Generate Group By\n    this.generateGroupBy();\n\n    // Initial Grid Columns\n    this.generateColumn();\n  },\n};\n</script>\n\n<style scoped>\n.reports_list {\n  width: 100%;\n  background-color: #fff;\n  padding: 20px 20px 5px;\n}\n.report_filter {\n  background-color: #f8f8f9;\n  padding: 0 20px 5px 20px;\n  position: relative;\n}\n.dv_mt {\n  margin-top: 24px;\n}\n.report_export {\n  position: absolute;\n  top: 15px;\n}\n.report_total {\n  padding: 12.5px;\n  text-align: right;\n  text-transform: uppercase;\n  font-weight: 700;\n  border-top: 1px solid #333;\n  border-bottom: 1px solid #333;\n}\n.custom_expansion\n  .v-expansion-panel-header\n  .v-expansion-panel-header__icon\n  .v-icon {\n  display: none !important;\n}\n.v-expansion-panel {\n  border-bottom: 1px solid #cccccc;\n  border-radius: 0;\n}\n.v-expansion-panel::before {\n  box-shadow: none;\n}\n.v-expansion-panel-header {\n  padding: 15px;\n}\n.v-expansion-panel-content__wrap {\n  padding: 0 35px 10px;\n}\n@media (max-width: 576px) {\n  .dv_mt,\n  .dv_mt8 {\n    margin-top: 0;\n  }\n  .reports_list {\n    margin-top: 0;\n  }\n}\n</style>\n"]}]}