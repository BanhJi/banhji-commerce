{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products_services/product/warranty/Warranties.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products_services/product/warranty/Warranties.vue","mtime":1643182494485},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEYXRlUGlja2VyQ29tcG9uZW50IGZyb20gJ0AvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL0RhdGVQaWNrZXJDb21wb25lbnQnCgpjb25zdCB3YXJyYW50eUhhbmRsZXIgPSByZXF1aXJlKCdAL3NjcmlwdHMvd2FycmFudHlIYW5kbGVyJykKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICBsb2FkaW5nQWxlcnQ6IGZhbHNlLAogICAgICAgIGxvYWRpbmdDb2xvckFsZXJ0OiAnJywKICAgICAgICBsb2FkaW5nVGV4dEFsZXJ0OiAnUGxlYXNlIHdhaXQuLi4nLAoKICAgICAgICAvLyBTZWFyY2ggdHJhbnNhY3Rpb24gZGF0ZXMKICAgICAgICBzdGFydF9kYXRlOiAiIiwKICAgICAgICBlbmRfZGF0ZTogIiIsCiAgICAgICAgZGF0ZVNvcnRlcnM6IFsnVG9kYXknLCAnVGhpcyBXZWVrJywgJ1RoaXMgTW9udGgnLCAnVGhpcyBZZWFyJ10sCiAgICAgICAgYWNjb3VudDogW10sCiAgICAgICAgZmlsZXM6IFtdLAogICAgICAgIGF0dGFjaG1lbnRzOiBbXSwKCiAgICAgICAgZGlhbG9nbTM6IGZhbHNlLAogICAgICAgIC8vIExvYWRpbmdNZQogICAgICAgIGlzTG9hZGVkOiBmYWxzZSwKICAgICAgICAvLyBLZW5kbyBkYXRhU291cmNlCiAgICAgICAgc2NoZW1hRGVmaW5pdGlvbjogewogICAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICAgICAgaWQ6ICJpZCIKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLyogU29ydCBieSBhY2NvdW50IG51bWJlciAqLwogICAgICAgIHNvcnREZWZpbml0aW9uOiB7CiAgICAgICAgICAgIGZpZWxkOiAibnVtYmVyIgogICAgICAgIH0sCiAgICAgICAgd2FycmFudGllczogW10sCiAgICAgICAgaXRlbUxpbmVzOiBbXQogICAgfSksCiAgICBwcm9wczoge30sCiAgICBtZXRob2RzOiB7CiAgICAgICAgb25Mb2FkV2FycmFudHkoKSB7CiAgICAgICAgICAgIGNvbnN0IGFkZFplcm8gPSAobnVtLCBwbGFjZXMpID0+IFN0cmluZyhudW0pLnBhZFN0YXJ0KHBsYWNlcywgJzAnKQogICAgICAgICAgICB3YXJyYW50eUhhbmRsZXIuZ2V0QWxsKCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy53YXJyYW50aWVzID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgdGhpcy53YXJyYW50aWVzLmZvckVhY2goaSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaS5pdGVtTGluZXMuZm9yRWFjaChpdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydERhdGUgPSBuZXcgRGF0ZShpLndhcnJhbnR5U3RhcnREYXRlKQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXhwaXJlRGF0ZSA9IG5ldyBEYXRlKHN0YXJ0RGF0ZS5zZXRNb250aChpdC5tb250aHMgKyBzdGFydERhdGUuZ2V0TW9udGgoKSArIDEpKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1MaW5lcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNrdTogaS53YXJyYW50eU5vLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXI6IGkuY3VzdG9tZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRpb246IGl0LmNvbmRpdGlvbnMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVEYXRlOiBhZGRaZXJvKGV4cGlyZURhdGUuZ2V0RGF0ZSgpLCAyKSArICctJyArIGFkZFplcm8oZXhwaXJlRGF0ZS5nZXRNb250aCgpLCAyKSArICctJyArIGV4cGlyZURhdGUuZ2V0RnVsbFllYXIoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogMQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMub25Mb2FkV2FycmFudHkoKQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgc2hvd0xvYWRpbmcoKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgJ2FwcC1kYXRlcGlja2VyJzogRGF0ZVBpY2tlckNvbXBvbmVudCwKICAgICAgICBMb2FkaW5nTWU6ICgpID0+IGltcG9ydCgnQC9jb21wb25lbnRzL0xvYWRpbmcnKQogICAgfSwKfTsK"},{"version":3,"sources":["Warranties.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Warranties.vue","sourceRoot":"src/views/products_services/product/warranty","sourcesContent":["<template>\n    <v-row>\n        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n            <v-row>\n                <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                    <h2 class=\"mb-0 font_20\">{{ $t('warranty') }}</h2>\n                </v-col>\n                <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                    <v-btn to=\"warranty\" color=\"primary\"\n                           class=\" white--text float-right text-capitalize \">\n                        {{ $t('new_warranty') }}\n                    </v-btn>\n                </v-col>\n            </v-row>\n\n            <v-row class=\"mt-0\">\n                <v-col sm=\"12\" cols=\"12\" class=\"pb-0\">\n                    <v-row class=\"\">\n                        <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                            <v-select class=\"mt-1\" :items=\"dateSorters\" clearable outlined\n                                      placeholder=\"ALL\"/>\n                        </v-col>\n\n                        <v-col sm=\"3\" cols=\"12\" class=\"py-0\">\n                            <app-datepicker :initialDate=\"start_date\" @emitDate=\"start_date = $event\"/>\n                        </v-col>\n\n                        <v-col sm=\"3\" cols=\"12\" class=\"py-0\">\n                            <app-datepicker :initialDate=\"end_date\" @emitDate=\"end_date = $event\"/>\n                        </v-col>\n\n                        <v-col sm=\"1\" cols=\"12\" class=\"pt-1\">\n                            <v-btn class=\"btn_search\" style=\"background-color: rgb(237, 241, 245)\">\n                                <i class=\"b-search\" style=\"font-size: 18px; color:#fff !important;\"/>\n                            </v-btn>\n                        </v-col>\n                    </v-row>\n                </v-col>\n            </v-row>\n\n            <v-row class=\"\">\n                <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                    <template>\n                        <v-simple-table class=\"attachment_table\">\n                            <template v-slot:default>\n                                <thead>\n                                <tr>\n                                    <th>{{ $t('number') }}</th>\n                                    <th>{{ $t('sku') }}</th>\n                                    <th>{{ $t('customers') }}</th>\n                                    <th>{{ $t('conditions') }}</th>\n                                    <th>{{ $t('expired_date') }}</th>\n                                    <th>{{ $t('status') }}</th>\n                                    <th>{{ $t('action') }}</th>\n                                </tr>\n                                </thead>\n                                <tbody v-for=\"(il, index) in itemLines\" v-bind:key=\"index\">\n                                <tr>\n                                    <td>{{ index + 1 }}</td>\n                                    <td>{{ il.sku }}</td>\n                                    <td>{{ il.customer.name }}</td>\n                                    <td>{{ il.condition.name }}</td>\n                                    <td>{{ il.expireDate }}</td>\n                                    <td>{{ il.status }}</td>\n                                    <td>\n                                        <v-btn class=\"bg-none\">\n                                            <v-icon class=\"primary--text\" size=\"17\">fas fa-eye</v-icon>\n                                        </v-btn>\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </template>\n                        </v-simple-table>\n                    </template>\n                </v-col>\n                <LoadingMe :isLoading=\"showLoading\" :fullPage=\"false\" :myLoading=\"true\" :alertMessage=\"loadingAlert\"\n                           :color=\"loadingColorAlert\" :alertText=\"loadingTextAlert\"/>\n            </v-row>\n        </v-col>\n    </v-row>\n</template>\n<script>\nimport DatePickerComponent from '@/components/custom_templates/DatePickerComponent'\n\nconst warrantyHandler = require('@/scripts/warrantyHandler')\nexport default {\n    data: () => ({\n        loadingAlert: false,\n        loadingColorAlert: '',\n        loadingTextAlert: 'Please wait...',\n\n        // Search transaction dates\n        start_date: \"\",\n        end_date: \"\",\n        dateSorters: ['Today', 'This Week', 'This Month', 'This Year'],\n        account: [],\n        files: [],\n        attachments: [],\n\n        dialogm3: false,\n        // LoadingMe\n        isLoaded: false,\n        // Kendo dataSource\n        schemaDefinition: {\n            model: {\n                id: \"id\"\n            }\n        },\n        /* Sort by account number */\n        sortDefinition: {\n            field: \"number\"\n        },\n        warranties: [],\n        itemLines: []\n    }),\n    props: {},\n    methods: {\n        onLoadWarranty() {\n            const addZero = (num, places) => String(num).padStart(places, '0')\n            warrantyHandler.getAll().then(res => {\n                this.warranties = res.data.data\n                this.warranties.forEach(i => {\n                    i.itemLines.forEach(it => {\n                        let startDate = new Date(i.warrantyStartDate)\n                        let expireDate = new Date(startDate.setMonth(it.months + startDate.getMonth() + 1))\n                        this.itemLines.push({\n                            sku: i.warrantyNo,\n                            customer: i.customer,\n                            condition: it.conditions,\n                            expireDate: addZero(expireDate.getDate(), 2) + '-' + addZero(expireDate.getMonth(), 2) + '-' + expireDate.getFullYear(),\n                            status: 1\n                        })\n                    })\n                })\n            })\n        }\n    },\n    mounted() {\n        this.onLoadWarranty()\n    },\n    computed: {\n        showLoading() {\n            return false\n        }\n    },\n    components: {\n        'app-datepicker': DatePickerComponent,\n        LoadingMe: () => import('@/components/Loading')\n    },\n};\n</script>\n\n<style scoped>\n\n.function_footer {\n    padding: 15px;\n    display: inline-block;\n}\n\np {\n    color: rgba(0, 0, 0, 0.87);\n}\n\n.actionBtn {\n    height: 47.2px !important;\n}\n\n.text_tip {\n    font-size: 9px;\n    line-height: 10px;\n}\n\n@media (max-width: 576px) {\n}\n</style>\n"]}]}