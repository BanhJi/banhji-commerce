{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products/warehouses/Products.vue?vue&type=style&index=0&id=75986adc&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products/warehouses/Products.vue","mtime":1638499443291},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoucHVyY2hhc2VzIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIHdpZHRoOiAxMDAlOwogICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICAgIHBhZGRpbmc6IDIwcHggMjBweCA1cHg7Cn0KCi5yZXBvcnRfZmlsdGVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNlZGYxZjU7CiAgICBwYWRkaW5nOiAwIDIwcHggMHB4IDIwcHg7Cn0KCi5yZXBvcnRfYmxvY2sgLnYtY2FyZC50aGlyZCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDBiMDUwOwogICAgYm9yZGVyOiBub25lOwogICAgYm94LXNoYWRvdzogbm9uZTsKICAgIGNvbG9yOiAjZmZmZmZmOwogICAgZmxvYXQ6IGxlZnQ7CiAgICB3aWR0aDogMTAwJTsKfQoKLnJlcG9ydF9ibG9jayAudi1jYXJkLnRoaXJkIHAudGV4dCB7CiAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgZm9udC1zaXplOiAxN3B4Owp9CgoucmVwb3J0X2Jsb2NrIC52LWNhcmQudGhpcmQgcC5udW1iZXIgewogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgZm9udC1zaXplOiAyNXB4OwogICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgIG1hcmdpbi1ib3R0b206IDA7Cn0KCi5kdl9tdCB7CiAgICBtYXJnaW4tdG9wOiAyMHB4Owp9CgoucmVwb3J0X2Jsb2NrIC5sZWZ0X2NhcmQgcDpudGgtY2hpbGQoMikgewogICAgd2lkdGg6IDEwMCU7CiAgICBmb250LXNpemU6IDE5cHg7CiAgICBmb250LWZhbWlseTogIk5pcmFkZWktQm9sZCIsIHNlcmlmOwogICAgcGFkZGluZzogN3B4IDAgMCAwOwogICAgdGV4dC1hbGlnbjogcmlnaHQ7Cn0KCi5hdHRhY2htZW50X3RhYmxlIHRhYmxlIHRyIHRoIHsKICAgIGhlaWdodDogNTVweCAhaW1wb3J0YW50Owp9CgpAbWVkaWEgKG1heC13aWR0aDogNTc2cHgpIHsKICAgIC5kdl9tdCwKICAgIC5kdl9tdDggewogICAgICAgIG1hcmdpbi10b3A6IDA7CiAgICB9CgogICAgLnB1cmNoYXNlcyB7CiAgICAgICAgbWFyZ2luLXRvcDogMDsKICAgIH0KfQo="},{"version":3,"sources":["Products.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoNA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Products.vue","sourceRoot":"src/views/products/warehouses","sourcesContent":["<template>\n    <v-row>\n        <v-col cols=\"12\" sm=\"12\">\n            <h2 class=\"mb-0\">{{ $t('products_list') }}</h2>\n\n            <!-- loading -->\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"false\"\n                :myLoading=\"true\"/>\n\n            <v-row class=\"\">\n                <v-col sm=\"3\" cols=\"12\" class=\"py-0\">\n                    <v-text-field class=\"\"\n                                  outlined\n                                  :placeholder=\"$t('name')\"\n                                  append-icon=\"search\"\n                                  v-model=\"search\"\n                                  @change=\"onCategoryChanged\"\n                                  clearable/>\n                </v-col>\n                <v-col sm=\"3\" cols=\"12\" class=\"py-0\">\n                    <v-select class=\"\"\n                              tage=\"Product Category\"\n                              v-model=\"mCategory\"\n                              :items=\"categories\"\n                              item-value=\"id\"\n                              :item-text=\"item =>`${item.abbr} - ${item.name}`\"\n                              @change=\"onCategoryChanged\"\n                              return-object\n                              :placeholder=\"$t('category')\"\n                              clearable\n                              outlined/>\n                </v-col>\n\n            </v-row>\n\n            <div class=\"reports_table\">\n                <kendo-datasource ref=\"dataSource\"\n                                  :data=\"products\"\n                                  :schema=\"gridSchema\"\n                                  :server-paging=\"false\"\n                                  :group=\"groupDefinition\"/>\n                <kendo-grid id=\"grid\"\n                            class=\"grid-function\"\n                            :data-source-ref=\"'dataSource'\"\n                            :style=\"{width: '100%'}\"\n                            :noRecords=\"true\"\n                            :groupable=\"true\"\n                            :column-menu=\"true\"\n                            :pageable-numeric=\"false\"\n                            :pageable-previous-next=\"false\"\n                            :pageable-messages-display=\"'Showing {2} data items'\"\n                            :scrollable-virtual=\"true\">\n\n                    <kendo-grid-column\n                        :field=\"'name'\"\n                        :title=\"$t('name')\"\n                        :attributes=\"{class:'tb_name_td'}\"\n                        :width=\"150\"\n                        :template=\"'<span>#=name#</span>'\"\n                        :groupHeaderColumnTemplate=\"'#=value#'\"\n                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                    <kendo-grid-column\n                        :field=\"'images'\"\n                        :title=\"$t('image')\"\n                        :width=\"50\"\n                        :template=\"loadImage\"\n                        :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                    <kendo-grid-column\n                        :field=\"'product.category.name'\"\n                        :title=\"$t('category')\"\n                        :template=\"'<span>#=product.category.name#</span>'\"\n                        :width=\"80\"\n                        :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n                    <kendo-grid-column\n                        :field=\"''\"\n                        :hidden=\"true\"\n                        :title=\"$t('warehouse')\"\n                        :width=\"80\"\n                        :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n                    <kendo-grid-column\n                        :field=\"''\"\n                        :hidden=\"true\"\n                        :title=\"$t('qty')\"\n                        :width=\"80\"\n                        :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n                    <kendo-grid-column\n                        :field=\"'sku'\"\n                        :title=\"$t('sku')\"\n                        :width=\"60\"\n                        :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n                    <kendo-grid-column\n                        :field=\"'uom.name'\"\n                        :title=\"$t('uom')\"\n                        :width=\"40\"\n                        :template=\"'<span>#=uom.name#</span>'\"\n                        :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n                    <kendo-grid-column\n                        :field=\"'reOrderQty'\"\n                        :title=\"$t('recorder_point')\"\n                        :width=\"50\"\n                        :template=\"'<span>#=reOrderQty#</span>'\"\n                        :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n                </kendo-grid>\n            </div>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\nconst productHandler = require(\"@/scripts/productHandler\")\nconst categoryHandler = require(\"@/scripts/categoryHandler\")\n\nexport default {\n    name: \"Warehouse Product\",\n    components: {\n        LoadingMe: () => import('@/components/Loading'),\n        // 'app-datepicker': DatePickerComponent,\n    },\n    data: () => ({\n        showLoading: false,\n\n        isLoaded: false,\n        // Kendo dataSource\n        schemaDefinition: {\n            model: {id: \"id\"}\n        },\n        /* Sort by account number */\n        sortDefinition: {field: \"number\"},\n        // Group order by account_type_id asc\n        products: [],\n\n        gridSchema: {\n            model: {\n                id: \"id\"\n            }\n        },\n        groupDefinition: {\n            field: \"product.name\",\n        },\n        imgURL: 'https://s3-ap-southeast-1.amazonaws.com/images.banhji/',\n        categories: [],\n        search: '',\n        mCategory: '',\n    }),\n    methods: {\n        loadImage(dataItem) {\n            if (dataItem.hasOwnProperty('images')) {\n                if (dataItem.images.hasOwnProperty('default')) {\n                    const url = this.imgURL + dataItem.images.default.thumb\n                    return \"<img width='50' height='50' style= 'margin: auto;display: block;' src='\" + url + \"' />\"\n                }\n            } else {\n                return ''\n            }\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.dataSource.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        async onCategoryChanged() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    if (this.mCategory !== undefined) {\n                        this.isLoaded = true\n                        this.showLoading = true\n                        productHandler.filter(this.mCategory.id, this.search).then(res => {\n                            this.showLoading = false\n                            // this.variants = res\n                            this.products = res\n                            this.showLoading = false\n                            window.console.log(res)\n                        })\n                    }\n                }, 300);\n            })\n        },\n        async loadCategory() {\n            this.showLoading = true\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    categoryHandler.get().then(res => {\n                        this.showLoading = false\n                        this.categories = res\n                        this.categories = this.categories.filter(m => m.type.name === 'Product')\n                        if (this.categories.length > 0) {\n                            this.mCategory = this.categories[0]\n                            this.onCategoryChanged()\n                        }\n                    })\n                }, 300);\n            })\n        },\n        async onloadProduct() {\n            await productHandler.get().then(res => {\n                this.products = res\n                window.console.log(res)\n            })\n        },\n    },\n    async mounted() {\n        await this.loadCategory()\n    },\n    computed: {\n    },\n};\n</script>\n<style scoped>\n.purchases {\n    position: relative;\n    width: 100%;\n    background-color: #fff;\n    padding: 20px 20px 5px;\n}\n\n.report_filter {\n    background-color: #edf1f5;\n    padding: 0 20px 0px 20px;\n}\n\n.report_block .v-card.third {\n    background-color: #00b050;\n    border: none;\n    box-shadow: none;\n    color: #ffffff;\n    float: left;\n    width: 100%;\n}\n\n.report_block .v-card.third p.text {\n    text-align: left;\n    font-size: 17px;\n}\n\n.report_block .v-card.third p.number {\n    text-align: center;\n    font-size: 25px;\n    font-weight: 700;\n    margin-bottom: 0;\n}\n\n.dv_mt {\n    margin-top: 20px;\n}\n\n.report_block .left_card p:nth-child(2) {\n    width: 100%;\n    font-size: 19px;\n    font-family: \"Niradei-Bold\", serif;\n    padding: 7px 0 0 0;\n    text-align: right;\n}\n\n.attachment_table table tr th {\n    height: 55px !important;\n}\n\n@media (max-width: 576px) {\n    .dv_mt,\n    .dv_mt8 {\n        margin-top: 0;\n    }\n\n    .purchases {\n        margin-top: 0;\n    }\n}\n</style>\n"]}]}