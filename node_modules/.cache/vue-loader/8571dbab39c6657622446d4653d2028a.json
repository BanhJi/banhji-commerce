{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/banking/banking/bank_center/Statement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/banking/banking/bank_center/Statement.vue","mtime":1641438291849},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgICBpbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKICAgIGltcG9ydCBIZWxwZXIgZnJvbSAiQC9oZWxwZXIuanMiOwogICAgaW1wb3J0IHsgaTE4biB9IGZyb20gJ0AvaTE4bic7CiAgICBpbXBvcnQgeyAKICAgICAgICBCYW5rQWNjb3VudE1vZGVsLAogICAgICAgIEJhbmtTdGF0ZW1lbnRNb2RlbCwKICAgICAgICBSZWNvbmNpbGVNb2RlbCwKICAgICAgICBBY2NvdW50TW9kZWwsCiAgICAgICAgSm91cm5hbE1vZGVsLAogICAgICAgIEV4Y2hhbmdlUmF0ZU1vZGVsLAogICAgfSBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQXBwTW9kZWxzIjsKICAgIAogICAgLyogU3RvcmUgKi8KICAgIGltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIgogICAgY29uc3QgaW5zdGl0dXRlID0gc3RvcmUuc3RhdGUuaW5zdGl0dXRlLmluc3RpdHV0ZQoKICAgIGNvbnN0IHsKICAgICAgICBiYW5rU3RhdGVtZW50SGFuZGxlciwKICAgIH0gPSByZXF1aXJlKCJAL3NjcmlwdHMvQXBwSGFuZGxlcnMiKTsKCiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgbmFtZTogIkJhbmtTdGF0ZW1lbnQiLAogICAgICAgIGNvbXBvbmVudHM6IHsKICAgICAgICAgICAgIkxvYWRpbmdNZSI6ICgpID0+IGltcG9ydCgnQC9jb21wb25lbnRzL0xvYWRpbmcnKSwKICAgICAgICB9LAogICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIGluaXRCYW5rQWNjb3VudDogewogICAgICAgICAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgZGF0YSAoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAvKiBPYmogKi8KICAgICAgICAgICAgICAgIGJhbmtBY2NvdW50ICAgICAgICAgOiBuZXcgQmFua0FjY291bnRNb2RlbCgpLAogICAgICAgICAgICAgICAgcmVjb25jaWxlICAgICAgICAgICA6IG5ldyBSZWNvbmNpbGVNb2RlbCgpLAogICAgICAgICAgICAgICAgYWRqdXN0bWVudEpvdXJuYWwgICA6IG5ldyBKb3VybmFsTW9kZWwoKSwKICAgICAgICAgICAgICAgIGFkanVzdG1lbnRFbnRyaWVzICAgOiBbXSwKICAgICAgICAgICAgICAgIC8vIEZvcm0gdmFsaWRhdGlvbgogICAgICAgICAgICAgICAgdmFsaWQ6IHRydWUsCiAgICAgICAgICAgICAgICBpc0VkaXQ6IGZhbHNlLAogICAgICAgICAgICAgICAgYWxlcnQ6IGZhbHNlLAogICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnJywKICAgICAgICAgICAgICAgIEhlbHBlciAgICAgICAgICAgICAgOiBIZWxwZXIsCiAgICAgICAgICAgICAgICB1c2VyOiBIZWxwZXIuZ2V0VXNlcigpLAogICAgICAgICAgICAgICAgLy8gRmlsZSB1cGxvYWQKICAgICAgICAgICAgICAgIGZpbGVzICAgICAgICAgICAgICAgOiBudWxsLAogICAgICAgICAgICAgICAgZXhjZWxEYXRhICAgICAgICAgICA6IFtdLAogICAgICAgICAgICAgICAgZXhjZWxTdGF0ZW1lbnRzICAgICA6IFtdLAogICAgICAgICAgICAgICAgLy8gT3RoZXIKICAgICAgICAgICAgICAgIGxhc3RVcGRhdGVkICAgICAgICAgOiBuZXcgRGF0ZSgpLAogICAgICAgICAgICAgICAgZXhjaGFuZ2VSYXRlICAgICAgICA6IG5ldyBFeGNoYW5nZVJhdGVNb2RlbChpbnN0aXR1dGUuYmFzZUN1cnJlbmN5KSwKICAgICAgICAgICAgICAgIGFkanVzdG1lbnRBY2NvdW50ICAgOiBuZXcgQWNjb3VudE1vZGVsKCksCiAgICAgICAgICAgICAgICBzaG93SW1wb3J0ICAgICAgICAgIDogMCwKICAgICAgICAgICAgICAgIHNob3dSZWNvbmNpbGVEaWFsb2cgOiBmYWxzZSwKICAgICAgICAgICAgICAgIGJhbmtTdGF0ZW1lbnQgICAgICAgOiBudWxsLAogICAgICAgICAgICAgICAgYmFua1N0YXRlbWVudHMgICAgICA6IFtdLAogICAgICAgICAgICAgICAgYmFuaGppVHhuQW1vdW50ICAgICA6IDAsCiAgICAgICAgICAgICAgICBiYW5oamlUcmFuc2FjdGlvbiAgIDogbnVsbCwKICAgICAgICAgICAgICAgIGJhbmhqaVRyYW5zYWN0aW9ucyAgOiBbXSwKICAgICAgICAgICAgICAgIGJhbmhqaU1hdGNoZWRUeG5zICAgOiBbXSwKICAgICAgICAgICAgICAgIGJhbmtNYXBwaW5ncyAgICAgICAgOiBbXSwKICAgICAgICAgICAgICAgIGhlYWRlcnMgICAgICAgICAgICAgOiBbCiAgICAgICAgICAgICAgICAgICAgeyB0ZXh0OiBpMThuLnQoJ2RhdGUnKSwgdmFsdWU6ICdzdGF0ZW1lbnRfZGF0ZScgfSwKICAgICAgICAgICAgICAgICAgICB7IHRleHQ6IGkxOG4udCgnYmFua19kZXRhaWwnKSwgdmFsdWU6ICdkZXRhaWxzJywgd2lkdGg6ICIyNSUiIH0sCiAgICAgICAgICAgICAgICAgICAgeyB0ZXh0OiBpMThuLnQoJ2Ftb3VudCcpLCB2YWx1ZTogJ2Ftb3VudCcgfSwKICAgICAgICAgICAgICAgICAgICB7IHRleHQ6IGkxOG4udCgnc291cmNlJyksIHZhbHVlOiAnc291cmNlJyB9LAogICAgICAgICAgICAgICAgICAgIHsgdGV4dDogaTE4bi50KCdzdGF0dXMnKSwgdmFsdWU6ICdqb3VybmFsX2VudHJ5X3V1aWQnIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgLy8gS2VuZG8KICAgICAgICAgICAgICAgIHNjaGVtYUZpZWxkczogewogICAgICAgICAgICAgICAgICAgIGpvdXJuYWxfZGF0ZSAgICA6IHsgdHlwZTogImRhdGUiIH0sCiAgICAgICAgICAgICAgICAgICAgam91cm5hbF90eXBlICAgIDogeyB0eXBlOiAic3RyaW5nIiB9LAogICAgICAgICAgICAgICAgICAgIGpvdXJuYWxfbnVtYmVyICA6IHsgdHlwZTogInN0cmluZyIgfSwKICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiAgICAgOiB7IHR5cGU6ICJzdHJpbmciIH0sCiAgICAgICAgICAgICAgICAgICAgYW1vdW50ICAgICAgICAgIDogeyB0eXBlOiAibnVtYmVyIiB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgLy8gTG9hZGluZ01lCiAgICAgICAgICAgICAgICBzaG93TG9hZGluZzogZmFsc2UsCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG1ldGhvZHM6IHsKICAgICAgICAgICAgLyogSW5pdGlhbCBEYXRhICovCiAgICAgICAgICAgIGluaXRpYWxEYXRhICgpIHsKICAgICAgICAgICAgICAgIHRoaXMuYmFua0FjY291bnQgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmluaXRCYW5rQWNjb3VudCk7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRCYW5rU3RhdGVtZW50KCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vIExvYWQgZGF0YQoJCQlhc3luYyBpbml0aWFsaXplKCkgewoJCQkJdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CgoJCQkJLyogUmVzZXQgKi8KCQkJCXN0b3JlLnN0YXRlLmJhbmtpbmcuYmFua01hcHBpbmdMb2FkZWQgPSBmYWxzZTsKCQkJCQoJCQkJLyogQ2FsbCBCYW5rIE1hcHBpbmcgTGlzdCAqLwoJCQkJdGhpcy5iYW5rTWFwcGluZ3MgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYmFua2luZy9nZXRCYW5rTWFwcGluZ3MnKTsKCQkJCQoJCQkJdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwoJCQl9LAogICAgICAgICAgICAvKiBMb2FkIFN0YXRlbWVudCAqLwogICAgICAgICAgICBsb2FkQmFua1N0YXRlbWVudCAoKSB7CiAgICAgICAgICAgICAgICBpZih0aGlzLmJhbmtBY2NvdW50LnV1aWQpewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGJhbmtTdGF0ZW1lbnRIYW5kbGVyLmdldEJ5QmFua0FjY291bnRJZCh0aGlzLmJhbmtBY2NvdW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbmtTdGF0ZW1lbnRzID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5kYXRhLmZvckVhY2godmFsdWUgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBicyA9IG5ldyBCYW5rU3RhdGVtZW50TW9kZWwodmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFua1N0YXRlbWVudHMucHVzaChicyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAuZmluYWxseSgoKT0+ewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAvKiBBbGVydCBXYXJuaW5nICovCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS53YXJuaW5nKGkxOG4udCgicGxlYXNlX3NlbGVjdF9iYW5rX2FjY291bnQiKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qIEltcG9ydCBFeGNlbCAqLwogICAgICAgICAgICBhc3luYyBpbXBvcnRGaWxlKCkgewogICAgICAgICAgICAgICAgaWYodGhpcy5iYW5rQWNjb3VudC51dWlkKXsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5maWxlcyAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4Y2VsRGF0YSA9IGF3YWl0IEhlbHBlci5nZXRFeGNlbERhdGEodGhpcy5maWxlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVFeGNlbERhdGEoKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgLyogQWxlcnQgV2FybmluZyAqLwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzbm90aWZ5Lndhcm5pbmcoaTE4bi50KCJwbGVhc2Vfc2VsZWN0X2ZpbGUiKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS53YXJuaW5nKGkxOG4udCgicGxlYXNlX3NlbGVjdF9iYW5rX2FjY291bnQiKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qIEdlbmVyYXRlIEV4Y2VsIERhdGEgKi8KICAgICAgICAgICAgZ2VuZXJhdGVFeGNlbERhdGEoKXsKICAgICAgICAgICAgICAgIGxldCBiYW5rU3RhdGVtZW50TGlzdCA9IFtdLAogICAgICAgICAgICAgICAgICAgIGV4Y2VsSGVhZGVycyA9IHRoaXMuZXhjZWxEYXRhWzBdLAogICAgICAgICAgICAgICAgICAgIGJhbmtSdWxlID0gdGhpcy5iYW5rTWFwcGluZ3MuZmluZCh2YWx1ZSA9PiB2YWx1ZS5iYW5rX3V1aWQgPT09IHRoaXMuYmFua0FjY291bnQuYmFuay51dWlkKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHRoaXMuZXhjZWxEYXRhLmZvckVhY2goKGV4Y2VsRWxlbWVudCwgZXhjZWxJbmRleCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmKGV4Y2VsSW5kZXggPiAwKXsvLyBTa2lwIGhlYWRlciByb3cgMAogICAgICAgICAgICAgICAgICAgICAgICBsZXQgYmFua1N0YXRlbWVudCA9IG5ldyBCYW5rU3RhdGVtZW50TW9kZWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFua191dWlkOiB0aGlzLmJhbmtBY2NvdW50LmJhbmsudXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtfYWNjX3V1aWQ6IHRoaXMuYmFua0FjY291bnQudXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtfYWNjX251bWJlcjogdGhpcy5iYW5rQWNjb3VudC5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UgOiAnaW1wb3J0ZWQnLAogICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoaW5nIGJ5IGJhbmsgbWFwcGluZyBydWxlCiAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtSdWxlLmNyaXRlcmlhLmZvckVhY2gocnVsZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNlbEhlYWRlcnMuZm9yRWFjaCgoaGVhZGVyLCBoZWFkZXJJbmRleCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIERlZmluZCBIZWFkZXJzICovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGV4Y2VsSGVhZGVyID0gaGVhZGVyLnRyaW0oKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZUhlYWRlciA9IHJ1bGUuZmllbGQudHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaGluZyBoZWFkZXIgbmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJ1bGVIZWFkZXIuaW5jbHVkZXMoZXhjZWxIZWFkZXIpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocnVsZS5maWVsZDIudG9Mb3dlckNhc2UoKSA9PT0gJ3N0YXRlbWVudF9kYXRlJyl7Ly8gRGF0ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFua1N0YXRlbWVudC5zdGF0ZW1lbnRfZGF0ZSA9IEhlbHBlci50b0lTT0RhdGUoZXhjZWxFbGVtZW50W2hlYWRlckluZGV4XSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5rU3RhdGVtZW50LmVudHJ5X2RhdGUgPSBiYW5rU3RhdGVtZW50LnN0YXRlbWVudF9kYXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYocnVsZS5maWVsZDIudG9Mb3dlckNhc2UoKSA9PT0gJ2JhbmtfcmVmJyl7Ly8gTnVtYmVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5rU3RhdGVtZW50LmJhbmtfcmVmID0gZXhjZWxFbGVtZW50W2hlYWRlckluZGV4XTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKHJ1bGUuZmllbGQyLnRvTG93ZXJDYXNlKCkgPT09ICdkZXRhaWxzJyl7Ly8gRGVzY3JpcHRpb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtTdGF0ZW1lbnQuZGV0YWlscyA9IGV4Y2VsRWxlbWVudFtoZWFkZXJJbmRleF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihydWxlLmZpZWxkMi50b0xvd2VyQ2FzZSgpID09PSAnZGViaXQnKXsvLyBEZWJpdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFtdCA9IGV4Y2VsRWxlbWVudFtoZWFkZXJJbmRleF07CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWlzTmFOKGFtdCkpey8vIENoZWNrIGlmIG51bWJlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtTdGF0ZW1lbnQuYW1vdW50ID0ga2VuZG8ucGFyc2VGbG9hdChNYXRoLmFicyhhbXQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKHJ1bGUuZmllbGQyLnRvTG93ZXJDYXNlKCkgPT09ICdjcmVkaXQnKXsvLyBDcmVkaXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbXQgPSBleGNlbEVsZW1lbnRbaGVhZGVySW5kZXhdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighaXNOYU4oYW10KSl7Ly8gQ2hlY2sgaWYgbnVtYmVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFua1N0YXRlbWVudC5hbW91bnQgPSBrZW5kby5wYXJzZUZsb2F0KE1hdGguYWJzKGFtdCkgKiAtMSk7Ly8gQ3JlZGl0IGlzIG5lZ2F0aXZlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihydWxlLmZpZWxkMi50b0xvd2VyQ2FzZSgpID09PSAnYmFsYW5jZScpey8vIEJhbGFuY2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbXQgPSBleGNlbEVsZW1lbnRbaGVhZGVySW5kZXhdOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFpc05hTihhbXQpKXsvLyBDaGVjayBpZiBudW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5rU3RhdGVtZW50LmJhbGFuY2UgPSBrZW5kby5wYXJzZUZsb2F0KGFtdCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihydWxlLmZpZWxkMi50b0xvd2VyQ2FzZSgpID09PSAnY3VycmVuY3knKXsvLyBDdXJyZW5jeQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFua1N0YXRlbWVudC5jdXJyZW5jeSA9IGV4Y2VsRWxlbWVudFtoZWFkZXJJbmRleF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBiYW5rIHN0YXRlbWVudAogICAgICAgICAgICAgICAgICAgICAgICBiYW5rU3RhdGVtZW50TGlzdC5wdXNoKGJhbmtTdGF0ZW1lbnQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIC8vIEJpbmQgYmFuayBzdGF0ZW1lbnQKICAgICAgICAgICAgICAgIHRoaXMuZXhjZWxTdGF0ZW1lbnRzID0gYmFua1N0YXRlbWVudExpc3Q7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHRoaXMudXBsb2FkU3RhdGVtZW50KCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qIFZhbGlkYXRlIEV4Y2VsIFN0YXRlbWVudCAqLwogICAgICAgICAgICB2YWxpZGF0ZUV4Y2VsU3RhdGVtZW50KCl7CiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gdHJ1ZSwgbXNnID0gJyc7CgogICAgICAgICAgICAgICAgLy8gRW1wdHkgRXhjZWwgU3RhdGVtZW50CiAgICAgICAgICAgICAgICBpZih0aGlzLmV4Y2VsU3RhdGVtZW50cy5sZW5ndGggPT09IDApewogICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIG1zZyArPSAnPHA+VGhlcmUgaXMgbm8gZGF0YSB0byBpbXBvcnQ8L3A+JzsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIGxldCBpbnZhbGlkRGF0YSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZXhjZWxTdGF0ZW1lbnRzLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IG5ldyBEYXRlKHZhbHVlLmRhdGUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWREYXRlID0gZmFsc2UsIHZhbGlkRGV0YWlsID0gZmFsc2UsIHZhbGlkQW1vdW50ID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBEYXRlCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUuZGF0ZSkgPT09ICJbb2JqZWN0IERhdGVdIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQgaXMgYSBkYXRlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZC5nZXRUaW1lKCkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGF0ZSBpcyBub3QgdmFsaWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGF0ZSBpcyB2YWxpZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkRGF0ZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlc2NyaXB0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlLmRldGFpbHMgIT09ICcnKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkRGV0YWlsID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQW1vdW50CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlLmFtb3VudCAhPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZEFtb3VudCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHRob3NlIHJlcXVpcmUgZmllbGRzCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZhbGlkRGF0ZSAmJiB2YWxpZERldGFpbCAmJiB2YWxpZEFtb3VudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkRGF0YSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2cgKz0gYDxwPkludmFsaWQgZGF0YSBhdCByb3cgbnVtYmVyICR7aW5kZXgrMX08L3A+YDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhpdCBMb29wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgRGF0YQogICAgICAgICAgICAgICAgICAgIGlmKGludmFsaWREYXRhKXsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIFNob3cgQWxlcnQKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gbXNnOwogICAgICAgICAgICAgICAgdGhpcy5hbGVydCA9IGZhbHNlOwogICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICB9LAogICAgICAgICAgICAvKiBDbGVhciAqLwogICAgICAgICAgICBjbGVhciAoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmZpbGVzID0gbnVsbDsKICAgICAgICAgICAgICAgIHRoaXMuc2hvd0ltcG9ydCA9IDA7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qIFVwbG9hZCBTdGF0ZW1lbnQgKi8KICAgICAgICAgICAgdXBsb2FkU3RhdGVtZW50KCl7CiAgICAgICAgICAgICAgICBpZih0aGlzLnZhbGlkYXRlRXhjZWxTdGF0ZW1lbnQoKSl7CiAgICAgICAgICAgICAgICAgICAgbGV0IGlzQmF0Y2ggPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGJhbmtTdGF0ZW1lbnRIYW5kbGVyLnNhdmUodGhpcy5leGNlbFN0YXRlbWVudHMsIGlzQmF0Y2gpCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1cyhyZXNwb25zZSkKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIC8qIExvYWQgZGF0YSAqLwogICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbERhdGEoKTsKCiAgICAgICAgICAgICAgICAgICAgLyogQ2xlYXIgKi8KICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLyogQWxlcnQgU3VjY2VzcyAqLwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuc3VjY2VzcyhpMThuLnQoInN1Y2Nlc3NmdWwiKSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8qIEFsZXJ0IEVycm9yICovCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcihpMThuLnQoImVycm9yX3NvbWV0aGluZ193cm9uZyIpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyogR28gVG8gUmVjb25jaWxlICovCiAgICAgICAgICAgIGdvUmVjb25jaWxlKHNlbGVjdGVkSXRlbSkgewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyAKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQmFuayBTdGF0ZW1lbnQgUmVjb25jaWxpYXRpb24nLCAKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgCiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRCYW5rU3RhdGVtZW50OiBuZXcgQmFua1N0YXRlbWVudE1vZGVsKHNlbGVjdGVkSXRlbSksCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgd2F0Y2g6IHsKICAgICAgICAgICAgaW5pdEJhbmtBY2NvdW50OiAiaW5pdGlhbERhdGEiLAogICAgICAgIH0sCiAgICAgICAgY3JlYXRlZCgpIHsKICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7CiAgICAgICAgfSwKICAgICAgICBtb3VudGVkKCkgewogICAgICAgICAgICB0aGlzLmluaXRpYWxEYXRhKCk7CiAgICAgICAgfSwKICAgIH0K"},{"version":3,"sources":["Statement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Statement.vue","sourceRoot":"src/views/banking/banking/bank_center","sourcesContent":["<template>\n    <v-row class=\"mx-3 white\">\n        <v-col sm=\"6\" cols=\"12\">\n            <p >{{$t('updated_on')}} {{ lastUpdated }}</p>\n        </v-col>\n        <v-col sm=\"6\" cols=\"12\" >\n            <v-btn to=\"\" color=\"primary\"\n                class=\"white--text float-right text-capitalize ml-3 mb-3\" @click=\"initialData\">\n                {{$t('fetch_new_feeds')}}\n            </v-btn>\n            <v-btn to=\"\" color=\"primary\"\n                class=\"white--text float-right text-capitalize\" @click=\"showImport++\">\n                {{$t('import')}}\n            </v-btn>\n        </v-col>\n        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\" v-if=\"showImport % 2\">\n            <v-row>\n                <v-col sm=\"9\" cols=\"9\" class=\"pt-0\">\n                    <v-file-input\n                        v-model=\"files\"\n                        :placeholder=\"'file: xlsm, xlsx, xls...'\"\n                        accept=\".xlsm, .xlsx, .xls\"\n                        prepend-icon=\"mdi-file\">\n                    <template v-slot:selection=\"{ text }\">\n                        <v-chip\n                            small\n                            label\n                            color=\"primary\"\n                        >\n                            {{ text }}\n                        </v-chip>\n                    </template>\n                </v-file-input>\n                </v-col>\n                <v-col sm=\"3\" cols=\"3\" class=\"pt-0\">\n                    <v-btn to=\"\" color=\"primary\"\n                        class=\"white--text float-right text-capitalize\" @click=\"importFile\">\n                        {{$t('upload')}}\n                    </v-btn>\n                </v-col>\n            </v-row>\n\n            <v-alert type=\"warning\"\n                    v-model=\"alert\"\n                    dismissible>\n                <span style=\"font-size: small;\" v-html=\"errorMessage\"/>\n            </v-alert>\n        </v-col>\n        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n            <div style=\"position:relative;\" class=\"reports_table\">\n                <LoadingMe\n                    :isLoading=\"showLoading\"\n                    :fullPage=\"false\"\n                    :myLoading=\"true\"\n                    type=\"loading\"\n                />\n                <v-data-table\n                    :headers=\"headers\"\n                    :items=\"bankStatements\"\n                    class=\"elevation-1\"\n                >\n                    <!-- Date -->\n                    <template v-slot:[`item.statement_date`]=\"{ item }\">\n                        <span>{{ Helper.dateFormat(item.statement_date) }}</span>\n                    </template>\n\n                    <!-- Description -->\n                    <template v-slot:[`item.details`]=\"{ item }\">\n                        <p style=\"font-size: x-small;\">{{ item.details }}</p>\n                    </template>\n\n                    <!-- Amount -->\n                    <template v-slot:[`item.amount`]=\"{ item }\">\n                        <span>{{ Number(item.amount).toLocaleString() }} {{ item.currency }}</span>\n                    </template>\n\n                    <!-- Status -->\n                    <template v-slot:[`item.journal_entry_uuid`]=\"{ item }\">\n                        <div v-if=\"item.reconcile_uuid\">\n                            {{$t('reconciled')}}\n                        </div>\n                        <div v-else>\n                            <v-btn color=\"primary\"\n                                class=\"white--text float-right text-capitalize\" \n                                @click=\"goReconcile(item)\"\n                                x-small>{{$t('Reconcile Now')}}\n                            </v-btn>\n                        </div>\n                    </template>\n\n                </v-data-table>\n            </div>\n        </v-col>\n        \n    </v-row>\n</template>\n<script>\n    import kendo from \"@progress/kendo-ui\";\n    import Helper from \"@/helper.js\";\n    import { i18n } from '@/i18n';\n    import { \n        BankAccountModel,\n        BankStatementModel,\n        ReconcileModel,\n        AccountModel,\n        JournalModel,\n        ExchangeRateModel,\n    } from \"@/scripts/model/AppModels\";\n    \n    /* Store */\n    import store from \"@/store\"\n    const institute = store.state.institute.institute\n\n    const {\n        bankStatementHandler,\n    } = require(\"@/scripts/AppHandlers\");\n\n    export default {\n        name: \"BankStatement\",\n        components: {\n            \"LoadingMe\": () => import('@/components/Loading'),\n        },\n        props: {\n            initBankAccount: {\n                type: Object,\n            },\n        },\n        data () {\n            return {\n                /* Obj */\n                bankAccount         : new BankAccountModel(),\n                reconcile           : new ReconcileModel(),\n                adjustmentJournal   : new JournalModel(),\n                adjustmentEntries   : [],\n                // Form validation\n                valid: true,\n                isEdit: false,\n                alert: false,\n                errorMessage: '',\n                Helper              : Helper,\n                user: Helper.getUser(),\n                // File upload\n                files               : null,\n                excelData           : [],\n                excelStatements     : [],\n                // Other\n                lastUpdated         : new Date(),\n                exchangeRate        : new ExchangeRateModel(institute.baseCurrency),\n                adjustmentAccount   : new AccountModel(),\n                showImport          : 0,\n                showReconcileDialog : false,\n                bankStatement       : null,\n                bankStatements      : [],\n                banhjiTxnAmount     : 0,\n                banhjiTransaction   : null,\n                banhjiTransactions  : [],\n                banhjiMatchedTxns   : [],\n                bankMappings        : [],\n                headers             : [\n                    { text: i18n.t('date'), value: 'statement_date' },\n                    { text: i18n.t('bank_detail'), value: 'details', width: \"25%\" },\n                    { text: i18n.t('amount'), value: 'amount' },\n                    { text: i18n.t('source'), value: 'source' },\n                    { text: i18n.t('status'), value: 'journal_entry_uuid' },\n                ],\n                // Kendo\n                schemaFields: {\n                    journal_date    : { type: \"date\" },\n                    journal_type    : { type: \"string\" },\n                    journal_number  : { type: \"string\" },\n                    description     : { type: \"string\" },\n                    amount          : { type: \"number\" }\n                },\n                // LoadingMe\n                showLoading: false,\n            }\n        },\n        methods: {\n            /* Initial Data */\n            initialData () {\n                this.bankAccount = Object.assign({}, this.initBankAccount);\n                this.loadBankStatement();\n            },\n            // Load data\n\t\t\tasync initialize() {\n\t\t\t\tthis.showLoading = true;\n\n\t\t\t\t/* Reset */\n\t\t\t\tstore.state.banking.bankMappingLoaded = false;\n\t\t\t\t\n\t\t\t\t/* Call Bank Mapping List */\n\t\t\t\tthis.bankMappings = await this.$store.dispatch('banking/getBankMappings');\n\t\t\t\t\n\t\t\t\tthis.showLoading = false;\n\t\t\t},\n            /* Load Statement */\n            loadBankStatement () {\n                if(this.bankAccount.uuid){\n                    this.showLoading = true;\n                    bankStatementHandler.getByBankAccountId(this.bankAccount.uuid)\n                    .then(res => {\n                        if (res.data) {\n                            this.bankStatements = [];\n                            \n                            res.data.forEach(value => {\n                                let bs = new BankStatementModel(value);\n                                this.bankStatements.push(bs);\n                            })\n                        }\n                    })\n                    .finally(()=>{\n                        this.showLoading = false;\n                    });\n                }else{\n                    /* Alert Warning */\n                    this.$snotify.warning(i18n.t(\"please_select_bank_account\"));\n                }\n            },\n            /* Import Excel */\n            async importFile() {\n                if(this.bankAccount.uuid){\n                    if (this.files !== null) {\n                        this.excelData = await Helper.getExcelData(this.files);\n                        this.generateExcelData();\n                    }else{\n                        /* Alert Warning */\n                        this.$snotify.warning(i18n.t(\"please_select_file\"));\n                    }\n                }else{\n                    this.$snotify.warning(i18n.t(\"please_select_bank_account\"));\n                }\n            },\n            /* Generate Excel Data */\n            generateExcelData(){\n                let bankStatementList = [],\n                    excelHeaders = this.excelData[0],\n                    bankRule = this.bankMappings.find(value => value.bank_uuid === this.bankAccount.bank.uuid);\n                    \n                this.excelData.forEach((excelElement, excelIndex) => {\n                    if(excelIndex > 0){// Skip header row 0\n                        let bankStatement = new BankStatementModel({\n                            bank_uuid: this.bankAccount.bank.uuid,\n                            bank_acc_uuid: this.bankAccount.uuid,\n                            bank_acc_number: this.bankAccount.number,\n                            source : 'imported',\n                        });\n\n                        // Matching by bank mapping rule\n                        bankRule.criteria.forEach(rule => {\n                            excelHeaders.forEach((header, headerIndex) => {\n                                /* Defind Headers */\n                                let excelHeader = header.trim(),\n                                    ruleHeader = rule.field.trim();\n                                    \n                                // Matching header name\n                                if(ruleHeader.includes(excelHeader)){\n                                    if(rule.field2.toLowerCase() === 'statement_date'){// Date\n                                        bankStatement.statement_date = Helper.toISODate(excelElement[headerIndex]);\n                                        bankStatement.entry_date = bankStatement.statement_date;\n                                    } else if(rule.field2.toLowerCase() === 'bank_ref'){// Number\n                                        bankStatement.bank_ref = excelElement[headerIndex];\n                                    } else if(rule.field2.toLowerCase() === 'details'){// Description\n                                        bankStatement.details = excelElement[headerIndex];\n                                    } else if(rule.field2.toLowerCase() === 'debit'){// Debit\n                                        let amt = excelElement[headerIndex];\n\n                                        if(!isNaN(amt)){// Check if number\n                                            bankStatement.amount = kendo.parseFloat(Math.abs(amt));\n                                        }\n                                    } else if(rule.field2.toLowerCase() === 'credit'){// Credit\n                                        let amt = excelElement[headerIndex];\n                                        \n                                        if(!isNaN(amt)){// Check if number\n                                            bankStatement.amount = kendo.parseFloat(Math.abs(amt) * -1);// Credit is negative\n                                        }\n                                    } else if(rule.field2.toLowerCase() === 'balance'){// Balance\n                                        let amt = excelElement[headerIndex];\n\n                                        if(!isNaN(amt)){// Check if number\n                                            bankStatement.balance = kendo.parseFloat(amt);\n                                        }\n                                    } else if(rule.field2.toLowerCase() === 'currency'){// Currency\n                                        bankStatement.currency = excelElement[headerIndex];\n                                    }\n                                }\n                            });\n                        })\n\n                        // Add bank statement\n                        bankStatementList.push(bankStatement);\n                    }\n                    \n                });\n\n                // Bind bank statement\n                this.excelStatements = bankStatementList;\n                \n                this.uploadStatement();\n            },\n            /* Validate Excel Statement */\n            validateExcelStatement(){\n                let result = true, msg = '';\n\n                // Empty Excel Statement\n                if(this.excelStatements.length === 0){\n                    result = false;\n                    msg += '<p>There is no data to import</p>';\n                }else{\n                    let invalidData = false;\n                    this.excelStatements.forEach((value, index) => {\n                        let d = new Date(value.date),\n                            validDate = false, validDetail = false, validAmount = false;\n\n                        // Date\n                        if (Object.prototype.toString.call(value.date) === \"[object Date]\") {\n                            // it is a date\n                            if (isNaN(d.getTime())) {\n                                // date is not valid\n                            } else {\n                                // date is valid\n                                validDate = true;\n                            }\n                        }\n\n                        // Description\n                        if(value.details !== ''){\n                            validDetail = true;\n                        }\n\n                        // Amount\n                        if(value.amount !== 0){\n                            validAmount = true;\n                        }\n\n                        // Check those require fields\n                        if(validDate && validDetail && validAmount){\n                            invalidData = true;\n                            msg += `<p>Invalid data at row number ${index+1}</p>`;\n                            \n                            // Exit Loop\n                            return false;\n                        }\n                    });\n\n                    // Validate Data\n                    if(invalidData){\n                        result = false;\n                    }\n                }\n\n                // Show Alert\n                this.errorMessage = msg;\n                this.alert = false;\n                if (result === false) {\n                    this.alert = true;\n                }\n\n                return result;\n            },\n            /* Clear */\n            clear () {\n                this.files = null;\n                this.showImport = 0;\n            },\n            /* Upload Statement */\n            uploadStatement(){\n                if(this.validateExcelStatement()){\n                    let isBatch = true;\n                    \n                    this.showLoading = true;\n                    bankStatementHandler.save(this.excelStatements, isBatch)\n                        .then(function (response) {\n                            this.responseStatus(response)\n                        })\n                        .finally(() => {\n                            this.showLoading = false;\n                        });\n                }\n            },\n            responseStatus(response) {\n                if (response) {\n                    /* Load data */\n                    this.initialData();\n\n                    /* Clear */\n                    this.clear();\n                    \n                    /* Alert Success */\n                    this.$snotify.success(i18n.t(\"successful\"));\n                } else {\n                    /* Alert Error */\n                    this.$snotify.error(i18n.t(\"error_something_wrong\"));\n                }\n            },\n            /* Go To Reconcile */\n            goReconcile(selectedItem) {\n                this.$router.push({ \n                    name: 'Bank Statement Reconciliation', \n                    params: { \n                        initBankStatement: new BankStatementModel(selectedItem),\n                    },\n                });\n            },\n        },\n        watch: {\n            initBankAccount: \"initialData\",\n        },\n        created() {\n            this.initialize();\n        },\n        mounted() {\n            this.initialData();\n        },\n    }\n</script>\n<style scoped>\n    @media (max-width: 576px) {\n        .v-application p{\n            margin-bottom: 0 !important;\n        }\n    }\n</style>"]}]}