{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/production/production_orders/ProductionOrderView.vue?vue&type=style&index=0&id=106669a1&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/products/production/production_orders/ProductionOrderView.vue","mtime":1638760538983},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5mdW5jdGlvbl93cmFwcGVyIHsKICAgIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDsKfQoKLmN1c3RvbV9ncmlkIHRhYmxlIHRoOmxhc3QtY2hpbGQgewogICAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDsKfQoKLmNvbG9yX2dyZWVuIHsKICAgIGNvbG9yOiAjMDNiMTU0Owp9CgpAbWVkaWEgKG1pbi13aWR0aDogMTI2NHB4KSB7CiAgICAuY29udGFpbmVyIHsKICAgICAgICBtYXgtd2lkdGg6IDEyNTBweDsKICAgIH0KfQoKQG1lZGlhIChtYXgtd2lkdGg6IDU3NnB4KSB7CiAgICAucHQtNi5jb2wtc20tNS5jb2wtMTIgewogICAgICAgIHBhZGRpbmctdG9wOiAwICFpbXBvcnRhbnQ7CiAgICB9CgogICAgLmNvZGVfdGV4dCB7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICB9CgogICAgLnBob25lX25vX3B0IHsKICAgICAgICBwYWRkaW5nLXRvcDogMCAhaW1wb3J0YW50OwogICAgfQoKICAgIC5zZWxlY3RfdGVtcGxhdGUsCiAgICAuc2F2ZV9vcHRpb24gewogICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICB9Cn0KCi5oaWRlX3NtYWxsX2Jhcl9jbGFzcyB7CiAgICBtYXgtd2lkdGg6IDA7CiAgICB0cmFuc2l0aW9uOiAuNXMgZWFzZS1pbjsKICAgIGZsZXg6IDAgMCAwOwogICAgcGFkZGluZzogMDsKfQoKLmhpZGVfYmlnX2Jhcl9jbGFzcyB7CiAgICBtYXgtd2lkdGg6IDEwMCU7CiAgICB0cmFuc2l0aW9uOiAuNXMgZWFzZS1pbjsKICAgIGZsZXg6IDAgMCAxMDAlOwp9CgouaW5mb19hZGQgewogICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsKfQoKLnNtYWxsX3NpZGViYXIgewogICAgaGVpZ2h0OiA5NyU7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBwYWRkaW5nOiAxMnB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogI0VERjFGNTsKfQoKLmljb25BcnJvdyB7CiAgICByaWdodDogLTM1cHg7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBib3R0b206IC0xMHB4Owp9CgouaWNvbkFycm93SGlkZSB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICByaWdodDogLTdweDsKICAgIGJvdHRvbTogLTEwcHg7Cn0KCi5jb2xvcl9ncmV5IHsKICAgIGNvbG9yOiAjODA4MDgwOwp9CgouY2FyZF9ncmVlbiB7CiAgICBtaW4taGVpZ2h0OiA3MHB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogIzAwYjA1MCAhaW1wb3J0YW50OwogICAgY29sb3I6ICNmZmZmZmY7Cn0KCi5sYl9ib2xkIHsKICAgIGZvbnQtc2l6ZTogMTJweDsKfQoKLmRldGlhbF9zbWFsbHNpZGVfcCB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBib3R0b206IDEwcHg7Cn0KCi5jYXJkX2JhY2tncm91bmQgewogICAgYmFja2dyb3VuZC1jb2xvcjogI0VERjFGNTsKICAgIG1pbi1oZWlnaHQ6IDEyMHB4Owp9CgouZGVwb3NpdGVfaW5wdXQgewogICAgd2lkdGg6IDEwMHB4Owp9CgouYnRuX3NhdmVfZHJhZnQgewogICAgY29sb3I6ICNmZmZmZmY7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDBiMGYwICFpbXBvcnRhbnQ7CiAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTsKfQoKLnNhdmVfb3B0aW9uIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICMyMDM4NjQgIWltcG9ydGFudDsKfQoKLmJ0bl9hZGRfc21hbGwgewogICAgaGVpZ2h0OiAyN3B4ICFpbXBvcnRhbnQ7CiAgICBtaW4td2lkdGg6IDI1cHggIWltcG9ydGFudDsKICAgIGZvbnQtc2l6ZTogMTBweDsKICAgIHBhZGRpbmc6IDAgMjJweCAhaW1wb3J0YW50OwogICAgYmFja2dyb3VuZC1jb2xvcjogIzAwYjA1MCAhaW1wb3J0YW50OwogICAgY29sb3I6ICNmZmZmZmY7CiAgICBib3JkZXItcmFkaXVzOiAwICFpbXBvcnRhbnQ7Cn0KCi5saXN0X3NpdGVfaW52IHsKICAgIGJhY2tncm91bmQtY29sb3I6ICM5MmQwNTA7CiAgICBjb2xvcjogI2ZmZmZmZjsKICAgIGZvbnQtc2l6ZTogMTJweDsKfQoKLmxpc3Rfc2l0ZV9leHAgewogICAgYmFja2dyb3VuZC1jb2xvcjogI2M1ZTBiNDsKICAgIGNvbG9yOiAjMDAwMDAwOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgbGluZS1oZWlnaHQ6IDE2cHg7CiAgICBtaW4taGVpZ2h0OiA0MHB4Owp9CgouY2hlY2tib3hfaW52IHsKICAgIHBhZGRpbmc6IDJweDsKICAgIG1hcmdpbi10b3A6IDNweDsKICAgIG1hcmdpbi1yaWdodDogMnB4Owp9CgouZXhwX3NlbGVjdCB7CiAgICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDsKfQoKLmJvcmRlcl9yYWRpdXMxMCB7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4ICFpbXBvcnRhbnQ7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjJGMkYyOwp9Cgo="},{"version":3,"sources":["ProductionOrderView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkkCA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ProductionOrderView.vue","sourceRoot":"src/views/products/production/production_orders","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card outlined dense class=\"pa-4 no_border rounded-sm\" color=\"white\">\n                        <v-row>\n                            <v-col class=\"bigSide py-0\" sm=\"8\" cols=\"12\" style=\"transition: .3s ease-in;\"\n                                   :class=\"{'hide_big_bar_class':isHideBar}\">\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2 class=\"mb-0\">\n                                            {{\n                                                $t('production_order') + ` (#${productionOrder.abbr + '-' + productionOrder.number})`\n                                            }}</h2>\n                                        <v-icon v-if=\"isHideBar\"\n                                                onclick=\"window.history.go(-1); return false;\"\n                                                style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                                class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                        <span style=\"transition: .3s ease-in; z-index:10;\"\n                                              :class=\"{'iconArrow': !isHideBar,'iconArrowHide': isHideBar }\">\n                                            <v-icon size=\"22\"\n                                                    class=\"arr_icon\"\n                                                    @click=\"hideSmallSideBar\"\n                                                    v-if=\"isHideBar\"> fa fa-chevron-circle-left\n                                            </v-icon>\n                                            <v-icon size=\"22\"\n                                                    class=\"arr_icon\"\n                                                    @click=\"hideSmallSideBar\"\n                                                    v-if=\"!isHideBar\"> fa fa-chevron-circle-right\n                                            </v-icon>\n\t\t\t\t\t\t\t\t\t\t</span>\n                                    </v-card>\n                                    <v-card outlined dense class=\"px-3 no_border\" color=\"grayBg\">\n                                        <v-row>\n                                            <v-col sm=\"4\" class=\"pr-1\">\n                                                <label class=\"label  mb-0\">{{ $t('finished_product_variance') }}</label>\n                                                <h3 class=\"text-bold  py-1\">{{\n                                                        productionOrder.product ? productionOrder.product.name : ''\n                                                    }}</h3>\n                                            </v-col>\n                                            <v-col sm=\"2\" class=\"px-1\">\n                                                <label class=\"label  mb-0\">{{ $t('produce_qty') }}</label>\n                                                <h3 class=\"text-bold  py-1\">{{ productionOrder.qty }}</h3>\n                                            </v-col>\n                                            <v-col sm=\"2\" class=\"px-1\">\n                                                <label class=\"label  mb-0\">{{ $t('yield_uom') }}</label>\n                                                <h3 class=\"text-bold  py-1\">{{ uom }}</h3>\n                                            </v-col>\n                                            <v-col sm=\"2\" class=\"pl-1\">\n                                                <label class=\"label  mb-0\">{{ $t('due_date') }}</label>\n                                                <h3 class=\"text-bold  py-1\">{{\n                                                        productionOrder.dueDate ? new Date(productionOrder.dueDate).toISOString().substr(0, 10) : ''\n                                                    }}</h3>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n\n                                    <v-row style=\"background-color: #fff;\">\n                                        <v-col cols=\"12\" class=\"py-1 pb-0\">\n                                            <h2 class=\"primary--text mb-0 font_20\">\n                                                {{ $t('other_finished_by_product') }}</h2>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\">\n                                            <kendo-datasource ref=\"otherProductDS\"\n                                                              :data=\"otherFinishProducts\"\n                                            />\n                                            <kendo-grid id=\"gridOtherProduct\" class=\"grid-function\"\n                                                        :data-source-ref=\"'otherProductDS'\"\n                                                        :sortable=\"false\"\n                                                        :filterable=\"false\"\n                                                        :column-menu=\"true\"\n                                                        :editable=\"false\"\n                                                        :scrollable-virtual=\"true\"\n                                            >\n                                                <kendo-grid-column\n                                                    :template=\"rowNumberOP\"\n                                                    :title=\"$t('no.')\"\n                                                    :width=\"55\"\n                                                    :column-menu=\"false\"\n                                                    :headerAttributes=\"{\n                                                        style: 'background-color: #EDF1F5;',\n                                                        class: 'text-variants'\n                                                    }\"\n                                                    :attributes=\"{\n                                                        style: 'text-align: variants'\n                                                    }\"/>\n                                                <kendo-grid-column :field=\"'item'\"\n                                                                   :title=\"$t('item')\"\n                                                                   :width=\"200\"\n                                                                   :template=\"itemTemplate\"\n                                                                   :headerAttributes=\"{\n                                                        style: 'background-color: #EDF1F5'\n                                                    }\"/>\n                                                <kendo-grid-column :field=\"'description'\"\n                                                                   :title=\"$t('description')\"\n                                                                   :width=\"200\"\n                                                                   :headerAttributes=\"{\n                                                        style: 'background-color: #EDF1F5'\n                                                    }\"/>\n                                                <kendo-grid-column :field=\"'buom'\"\n                                                                   :title=\"$t('base_uom')\"\n                                                                   :width=\"150\"\n                                                                   :template=\"UOMTemplate\"\n                                                                   :editable=\"()=>{ return false}\"\n                                                                   :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"\n                                                                   :attributes=\"{style: 'text-align: right; '}\"/>\n                                                <kendo-grid-column :field=\"'yieldQty'\"\n                                                                   :title=\"$t('yield_qty')\"\n                                                                   :width=\"150\"\n                                                                   :template=\"'<span>#=kendo.toString(yieldQty || 0, (decimalFormat || `n2`)) || 0#</span>'\"\n                                                                   :headerAttributes=\"{\n                                                            style: 'text-align: right; background-color: #EDF1F5'\n                                                        }\"\n                                                                   :attributes=\"{\n                                                            style: 'text-align: right'\n                                                        }\"/>\n                                                <kendo-grid-column :field=\"'cost'\"\n                                                                   :title=\"$t('cost')\"\n                                                                   :width=\"150\"\n                                                                   :template=\"'<span>#=kendo.toString(cost || 0, (decimalFormat || `n2`)) || 0#</span>'\"\n                                                                   :headerAttributes=\"{\n                                                            style: 'text-align: right; background-color: #EDF1F5'\n                                                        }\"\n                                                                   :attributes=\"{\n                                                            style: 'text-align: right'\n                                                        }\"/>\n                                                <kendo-grid-column :field=\"'amount'\"\n                                                                   :title=\"$t('amount')\"\n                                                                   :width=\"150\"\n                                                                   :editable=\"()=>{ return false}\"\n                                                                   :template=\"'<span>#=kendo.toString(amount || 0, (decimalFormat || `n2`)) || 0#</span>'\"\n                                                                   :headerAttributes=\"{\n                                                            style: 'text-align: right; background-color: #EDF1F5'\n                                                        }\"\n                                                                   :attributes=\"{\n                                                            style: 'text-align: right'\n                                                        }\"/>\n                                            </kendo-grid>\n\n                                        </v-col>\n                                    </v-row>\n                                    <v-row style=\"background-color: #fff;\">\n                                        <v-col cols=\"12\" class=\"py-1 pb-0\">\n                                            <h2 class=\"greyText--text mb-0 font_20\">\n                                                {{ $t('components_used_for_productions') }}</h2>\n                                        </v-col>\n                                        <v-col sm=\"12\" cols=\"12\">\n                                            <kendo-datasource ref=\"componentUsedDS\"\n                                                              :data=\"componentUseds\"\n                                            />\n                                            <kendo-grid id=\"gridComponentUsed\" class=\"grid-function\"\n                                                        :data-source-ref=\"'componentUsedDS'\"\n                                                        :sortable=\"false\"\n                                                        :filterable=\"false\"\n                                                        :column-menu=\"true\"\n                                                        :editable=\"false\"\n                                                        :scrollable-virtual=\"true\"\n                                            >\n                                                <kendo-grid-column\n                                                    :title=\"$t('no.')\"\n                                                    :template=\"rowNumberCU\"\n                                                    :width=\"55\"\n                                                    :column-menu=\"false\"\n                                                    :headerAttributes=\"{style: 'background-color: #EDF1F5;',class: 'text-variants',}\"\n                                                    :attributes=\"{style: 'text-align: variants',}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'item'\"\n                                                    :title=\"$t('items')\"\n                                                    :width=\"200\"\n                                                    :template=\"'<span>#=item.name#</span>'\"\n                                                    :headerAttributes=\"{style: 'background-color: #EDF1F5',}\"\n                                                />\n                                                <kendo-grid-column\n                                                    :field=\"'description'\"\n                                                    :title=\"$t('description')\"\n                                                    :width=\"200\"\n                                                    :headerAttributes=\"{\n                                                            style: 'background-color: #EDF1F5'\n                                                        }\"/>\n                                                <kendo-grid-column\n                                                    :template=\"UOMTemplate\"\n                                                    :field=\"'buom'\"\n                                                    :title=\"$t('base_uom')\"\n                                                    :width=\"160\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :headerAttributes=\"{\n                                                            style: 'background-color: #EDF1F5'\n                                                        }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'qty'\"\n                                                    :title=\"$t('qty')\"\n                                                    :width=\"150\"\n                                                    :template=\"'<span>#=kendo.toString(qty || 0, (decimalFormat || `n2`)) || 0#</span>'\"\n                                                    :headerAttributes=\"{\n                                                                style: 'text-align: right; background-color: #EDF1F5'\n                                                            }\"\n                                                    :attributes=\"{\n                                                                style: 'text-align: right'\n                                                            }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'cost'\"\n                                                    :title=\"$t('cost')\"\n                                                    :width=\"150\"\n                                                    :template=\"'<span>#=kendo.toString(cost || 0, (decimalFormat || `n2`)) || 0#</span>'\"\n                                                    :headerAttributes=\"{\n                                                                style: 'text-align: right; background-color: #EDF1F5'\n                                                            }\"\n                                                    :attributes=\"{\n                                                                style: 'text-align: right'\n                                                            }\"/>\n                                                <kendo-grid-column\n                                                    :field=\"'amount'\"\n                                                    :title=\"$t('amount')\"\n                                                    :width=\"150\"\n                                                    :editable=\"()=>{ return false}\"\n                                                    :template=\"'<span>#=kendo.toString(amount || 0, (decimalFormat || `n2`)) || 0#</span>'\"\n                                                    :headerAttributes=\"{\n                                                            style: 'text-align: right; background-color: #EDF1F5'\n                                                        }\"\n                                                    :attributes=\"{\n                                                            style: 'text-align: right'\n                                                        }\"/>\n                                            </kendo-grid>\n                                        </v-col>\n                                    </v-row>\n                                    <!--                  <v-row style=\"background-color: #fff;\">-->\n                                    <!--                    <v-col cols=\"12\" class=\"py-1 pb-0\">-->\n                                    <!--                      <h2 class=\"greyText&#45;&#45;text mb-0 font_20\">{{ $t('other_cost') }}</h2>-->\n                                    <!--                    </v-col>-->\n                                    <!--                    <v-col sm=\"12\" cols=\"12\">-->\n                                    <!--                      <kendo-datasource ref=\"otherCostDS\"-->\n                                    <!--                                        :data=\"otherCosts\"-->\n                                    <!--                      />-->\n                                    <!--                      <kendo-grid id=\"gridOtherCost\" class=\"grid-function\"-->\n                                    <!--                                  :data-source-ref=\"'otherCostDS'\"-->\n                                    <!--                                  :sortable=\"false\"-->\n                                    <!--                                  :filterable=\"false\"-->\n                                    <!--                                  :column-menu=\"true\"-->\n                                    <!--                                  :editable=\"false\"-->\n                                    <!--                                  :scrollable-virtual=\"true\"-->\n                                    <!--                      >-->\n                                    <!--                        <kendo-grid-column-->\n                                    <!--                            :template=\"roNumberOC\"-->\n                                    <!--                            :title=\"$t('no.')\"-->\n                                    <!--                            :width=\"55\"-->\n                                    <!--                            :column-menu=\"false\"-->\n                                    <!--                            :headerAttributes=\"{-->\n                                    <!--                                                        style: 'background-color: #EDF1F5;',-->\n                                    <!--                                                        class: 'text-variants'-->\n                                    <!--                                                    }\"-->\n                                    <!--                            :attributes=\"{-->\n                                    <!--                                                        style: 'text-align: variants'-->\n                                    <!--                                                    }\"/>-->\n                                    <!--                        <kendo-grid-column-->\n                                    <!--                            :field=\"'account'\"-->\n                                    <!--                            :title=\"$t('account')\"-->\n                                    <!--                            :width=\"200\"-->\n                                    <!--                            :template=\"'<span>#=account.name#</span>'\"-->\n                                    <!--                            :editor=\"accountDropDownEditor\"-->\n                                    <!--                            :headerAttributes=\"{-->\n                                    <!--                                                        style: 'background-color: #EDF1F5'-->\n                                    <!--                                                    }\"/>-->\n                                    <!--                        <kendo-grid-column-->\n                                    <!--                            :field=\"'description'\"-->\n                                    <!--                            :title=\"$t('description')\"-->\n                                    <!--                            :width=\"200\"-->\n                                    <!--                            :headerAttributes=\"{-->\n                                    <!--                                                        style: 'background-color: #EDF1F5'-->\n                                    <!--                                                    }\"/>-->\n                                    <!--                        <kendo-grid-column-->\n                                    <!--                            :field=\"'amount'\"-->\n                                    <!--                            :title=\"$t('amount')\"-->\n                                    <!--                            :width=\"160\"-->\n                                    <!--                            :headerAttributes=\"{-->\n                                    <!--                                                        style: 'background-color: #EDF1F5'-->\n                                    <!--                                                    }\"/>-->\n                                    <!--                        <kendo-grid-column-->\n                                    <!--                            :field=\"'tax'\"-->\n                                    <!--                            :editor=\"TaxDropDownEditor\"-->\n                                    <!--                            :template=\"taxTemplate\"-->\n                                    <!--                            :title=\"$t('tax')\"-->\n                                    <!--                            :format=\"'{0:n}'\"-->\n                                    <!--                            :width=\"150\"-->\n                                    <!--                            :headerAttributes=\"{-->\n                                    <!--                                                            style: 'text-align: right; background-color: #EDF1F5'-->\n                                    <!--                                                        }\"-->\n                                    <!--                            :attributes=\"{-->\n                                    <!--                                                            style: 'text-align: right'-->\n                                    <!--                                                        }\"/>-->\n                                    <!--                      </kendo-grid>-->\n                                    <!--                    </v-col>-->\n                                    <!--                  </v-row>-->\n                                    <v-row style=\"background-color: #fff;\">\n                                        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                            <v-row>\n                                                <v-col sm=\"6\" cols=\"6\">\n                                                    <v-textarea class=\"mt-1\"\n                                                                outlined\n                                                                clearable\n                                                                v-model=\"productionOrder.transactionNote\"\n                                                                tag=\"Memo\"\n                                                                height=\"90px\"\n                                                                rows=\"3\"\n                                                                no-resize\n                                                                placeholder=\"Memo\"\n                                                    />\n                                                </v-col>\n                                                <v-col sm=\"6\" cols=\"6\">\n                                                    <v-simple-table>\n                                                        <template v-slot:default>\n                                                            <tbody>\n                                                            <tr>\n                                                                <td class=\"text-left text-uppercase\">\n                                                                    {{ $t('total_cost') }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">{{\n                                                                        productionOrder.exchangeAmount\n                                                                    }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left text-uppercase\">\n                                                                    {{ $t('cost_per_unit') }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">{{\n                                                                        productionOrder.variance\n                                                                    }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left text-uppercase\">\n                                                                    {{ $t('dr') }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">{{\n                                                                        dr\n                                                                    }}\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td class=\"text-left text-uppercase\">\n                                                                    {{ $t('cr') }}\n                                                                </td>\n                                                                <td class=\"text-center\">:</td>\n                                                                <td class=\"text-right\">{{\n                                                                        cr\n                                                                    }}\n                                                                </td>\n                                                            </tr>\n                                                            </tbody>\n                                                        </template>\n                                                    </v-simple-table>\n                                                </v-col>\n                                            </v-row>\n                                        </v-col>\n                                    </v-row>\n\n                                    <v-divider/>\n                                    <v-divider/>\n                                    <v-card outlined dense class=\"no_border function_footer py-2\">\n                                        <p class=\"float-left py-2 mb-0  color_grey\">\n                                            {{ $t('standard_commercial_invoice') }}</p>\n                                        <v-btn class=\"float-right save_option mx-1\">\n                                            {{ $t('print') }}\n                                        </v-btn>\n                                        <v-btn class=\"float-right white--text mx-1\" color=\"primary\">\n                                            {{ $t('delete') }}\n                                        </v-btn>\n                                        <v-btn class=\"float-right white--text  mx-1\" color=\"primary\">\n                                            {{ $t('edit') }}\n                                        </v-btn>\n                                    </v-card>\n                                    <v-divider/>\n                                </v-form>\n                            </v-col>\n                            <v-col class=\"smallSide\" sm=\"4\" style=\"transition: .3s ease-in;\"\n                                   :class=\"{'hide_small_bar_class':isHideBar}\">\n                                <h3 style=\"color: #b3b5bc; font-size:20px;\" v-if=\"!isHideBar\"\n                                    class=\"text-uppercase float-right mt-n3\">Help\n                                    <v-icon\n                                        onclick=\"window.history.go(-1); return false;\"\n                                        style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                        class=\"float-right mt-n1\"\n                                    >close\n                                    </v-icon>\n                                </h3>\n\n                                <div v-if=\"!isHideBar\" class=\"small_sidebar mt-9 px-4 grayBg\">\n                                    <h4 class=\"my-2 text-uppercase\">{{ $t('analysis') }}</h4>\n                                    <v-row>\n                                        <v-col sm=\"6\" cols=\"6\" class=\"py-1\">\n                                            <label class=\"label\">{{ $t('warehouse') }}</label>\n                                            <h4 class=\"text-bold py-1\">{{ warehouse }}</h4>\n\n                                            <label class=\"label\">{{ $t('segment') }}</label>\n                                            <h4 class=\"text-bold py-1\">\n                                                {{ productionOrder.segment ? productionOrder.segment.name : '' }}</h4>\n                                            <label class=\"label\">{{ $t('location') }}</label>\n                                            <h4 class=\"text-bold py-1\">{{\n                                                    productionOrder.location ? productionOrder.location.name : ''\n                                                }}</h4>\n                                            <!--                                            <label class=\"label\">{{ $t('sale_channel') }}</label>-->\n                                            <!--                                            <h4 class=\"text-bold py-1\">{{ productionOrder.saleChannel.name }}</h4>-->\n                                        </v-col>\n                                        <v-col sm=\"6\" cols=\"6\" class=\"py-1\">\n                                            <label class=\"label\">{{ $t('project') }}</label>\n                                            <h4 class=\"text-bold py-1\">\n                                                {{ productionOrder.project ? productionOrder.project.name : '' }}</h4>\n                                            <!--                                            <label class=\"label\">{{ $t('month_Of') }}</label>-->\n                                            <!--                                            <h4 class=\"text-bold py-1\">{{ new Date(productionOrder.monthOf).toISOString().substr(0, 7) }}</h4>-->\n                                        </v-col>\n                                    </v-row>\n                                    <div class=\"my-3\" style=\"height:3px; background-color:#ffffff;width:100%;\"></div>\n                                    <h4 class=\"my-2 text-uppercase\">{{ $t('added_transaction') }}</h4>\n                                    <h4 class=\"my-2 text-capitalize\">{{ $t('bill_of_material') }}</h4>\n                                    <h4 class=\"color_grey\">\n                                        {{ bomReferenceNo }}</h4>\n                                    <div class=\"my-3\" style=\"height:3px; background-color:#ffffff;width:100%;\"></div>\n                                    <v-btn @click=\"onStartProduction\"\n                                           :disabled=\"disabledMe\"\n                                           class=\"text-capitalize text-bold rounded-0 white--text\"\n                                           width=\"100%\"\n                                           color=\"primary\">\n                                        {{ $t('start_production') }}\n                                    </v-btn>\n                                    <v-dialog v-model=\"dialogM\" max-width=\"600px\" eager>\n                                        <v-card>\n                                            <v-card-title>{{ $t('start_production') }}</v-card-title>\n                                            <v-icon class=\"btn_close\" @click=\"dialogM = false\">close</v-icon>\n                                            <v-divider/>\n                                            <v-card-text style=\"height: 240px; background-color: #EDF1F5; color: #333;\">\n                                                <v-row class=\"pt-4\">\n                                                    <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                        <label class=\"mb-0\">{{ $t('start_date') }}</label>\n                                                        <app-datepicker :initialDate=\"productionOrder.startedAt\"\n                                                                        @emitDate=\"productionOrder.startedAt = $event\"/>\n                                                    </v-col>\n                                                    <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                        <label class=\"mb-0\">{{ $t('working_progress_account') }}</label>\n                                                        <v-select class=\"mt-1\"\n                                                                  :items=\"accWPIs\"\n                                                                  item-text=\"name\"\n                                                                  item-value=\"id\"\n                                                                  @change=\"rawJournal\"\n                                                                  return-object\n                                                                  v-model=\"accWPI\"\n                                                                  outlined/>\n                                                    </v-col>\n                                                    <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                        <label class=\"mb-0\">{{ $t('produce_qty') }}</label>\n                                                        <v-text-field class=\"mt-1\"\n                                                                  v-model=\"produce_qty\"\n                                                                  outlined/>\n                                                    </v-col>\n                                                    <!--                          <v-col sm=\"6\" cols=\"12\" class=\"py-0\">-->\n                                                    <!--                            <label class=\"label mb-0 mt-1\">{{ $t('production_no') }}</label>-->\n                                                    <!--                            <v-row class=\"mt-1 mr-0\">-->\n                                                    <!--                              <v-col sm=\"3\" cols=\"3\" class=\"py-0 pr-0\">-->\n                                                    <!--                                <div class=\"code_text text-uppercase\"> {{ production.abbr }}</div>-->\n                                                    <!--                              </v-col>-->\n                                                    <!--                              <v-col sm=\"7\" cols=\"7\" class=\"pt-0 pl-0 pr-1\">-->\n                                                    <!--                                <v-text-field-->\n                                                    <!--                                    disabled-->\n                                                    <!--                                    class=\"custom-border\"-->\n                                                    <!--                                    v-model=\"production.number\"-->\n                                                    <!--                                    tage=\"Product Order Number\"-->\n                                                    <!--                                    outlined-->\n                                                    <!--                                    :rules=\"[(v) => !!v || 'Number is required']\"-->\n                                                    <!--                                    required-->\n                                                    <!--                                />-->\n                                                    <!--                              </v-col>-->\n                                                    <!--                              <v-col sm=\"2\" cols=\"2\" class=\"pt-0 px-0\">-->\n                                                    <!--                                <v-icon-->\n                                                    <!--                                    color=\"black\"-->\n                                                    <!--                                    size=\"30\"-->\n                                                    <!--                                    class=\"border_qrcode\"-->\n                                                    <!--                                    @click=\"generateNumber\"-->\n                                                    <!--                                >mdi-qrcode-->\n                                                    <!--                                </v-icon>-->\n                                                    <!--                              </v-col>-->\n                                                    <!--                            </v-row>-->\n\n                                                    <!--                          </v-col>-->\n                                                    <!--                          <v-col sm=\"6\" cols=\"6\" class=\"py-0\">-->\n                                                    <!--                            <label class=\"mb-0\">{{ $t('memo') }}</label>-->\n                                                    <!--                            <v-textarea class=\"mt-1\"-->\n                                                    <!--                                        outlined-->\n                                                    <!--                                        clearable-->\n                                                    <!--                                        no-resize-->\n                                                    <!--                                        v-model=\"production.transactionNote\"-->\n                                                    <!--                                        tag=\"Memo\"-->\n                                                    <!--                                        height=\"90px\"-->\n                                                    <!--                                        rows=\"2\"-->\n                                                    <!--                                        placeholder=\"Memo\">-->\n                                                    <!--                            </v-textarea>-->\n\n                                                    <!--                          </v-col>-->\n\n                                                </v-row>\n                                            </v-card-text>\n                                            <v-divider/>\n                                            <v-card-actions class=\"function_footer\">\n                                                <v-btn class=\"btn_cancel float-left ml-4 mb-2\" @click=\"dialogM = false\">\n                                                    {{ $t('cancel') }}\n                                                </v-btn>\n                                                <v-btn @click=\"saveClose\" class=\"btn_save_close float-right mr-4 mb-2\">\n                                                    {{ $t('save_close') }}\n                                                </v-btn>\n                                            </v-card-actions>\n                                        </v-card>\n                                    </v-dialog>\n                                    <div class=\"my-3\" style=\"height:3px; background-color:#ffffff;width:100%;\"></div>\n                                    <v-row>\n                                        <v-col cols=\"12\" class=\"py-0\">\n                                            <h4 class=\"my-2 text-uppercase\">{{ $t('production') }}</h4>\n                                            <v-row>\n                                                <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                    <h4 class=\"my-2 text-capitalize\">{{ $t('start_date_time') }}</h4>\n                                                </v-col>\n                                                <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                    <h4 class=\"my-2\">PO0720-001</h4>\n                                                </v-col>\n                                            </v-row>\n                                            <v-card class=\" text-bold rounded-0  no-boxshadow\" color=\"primary\">\n                                                <p class=\"text-center pa-2 color_white mb-1\">\n                                                    {{ $t('complete_production') }}</p>\n                                            </v-card>\n                                        </v-col>\n                                    </v-row>\n\n\n                                    <p class=\"mb-0 detial_smallside_p\">{{ $t('prouduct_funct_order_desc') }}</p>\n                                </div>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"false\"\n                type=\"loading\"\n                :myLoading=\"true\"/>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport DatePickerComponent from '@/components/custom_templates/DatePickerComponent'\nimport Production from \"@/scripts/model/Production\";\nimport kendo from \"@progress/kendo-ui\";\nimport ProductionOrder from \"@/scripts/model/ProductionOrder\";\nimport ComponentUsedModel from \"@/scripts/start_production/model/ComponentUsed\";\n\nconst productionOrderHandler = require(\"@/scripts/productionOrderHandler\")\nconst productionHandler = require(\"@/scripts/productionHandler\")\nconst accountHandler = require(\"@/scripts/handler/accounting/account\")\nconst prefixHandler = require(\"@/scripts/prefixHandler\")\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\")\nconst production = new Production({})\n\nexport default {\n    name: \"ProductionOrderView\",\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n        'app-datepicker': DatePickerComponent,\n    },\n    data: () => ({\n        isEdit: false,\n        showLoading: false,\n        alert: false,\n        valid: true,\n        isHideBar: false,\n        production: production,\n        productionOrder: new ProductionOrder({}),\n        otherFinishProducts: [],\n        componentUseds: [],\n        otherCosts: [],\n        transactionTypes: [],\n        dialogM: false,\n        uom: '',\n        accWPIs: [],\n        accWPI: {},\n        decimalFormat: 'n2',\n        jRaw: [],\n        loggedUser: {\n            id: 'cf3d10ab-bce6-47b3-8405-b448c23dad84',\n            name: 'Mr. Inspector'\n        },\n        dr: 0,\n        cr: 0,\n        produce_qty: 1\n    }),\n    computed: {\n        bomReferenceNo() {\n            if (this.productionOrder) {\n                const bom = this.productionOrder.bom || {}\n                if (bom) {\n                    return bom.referenceNo || ''\n                }\n            }\n            return ''\n        },\n        disabledMe() {\n            if (this.productionOrder) {\n                return this.productionOrder.status === 2;\n            }\n            return false\n        },\n        id() {\n            if (this.$route.params.id !== '') {\n                return this.$route.params.id\n            } else {\n                return ''\n            }\n        },\n        warehouse() {\n            if (this.productionOrder) {\n                if (this.productionOrder.hasOwnProperty('warehouse')) {\n                    if (this.productionOrder.warehouse.hasOwnProperty('id')) {\n                        return this.productionOrder.warehouse.name\n                    }\n                }\n            }\n            return ''\n        },\n    },\n    methods: {\n        rawJournal() {\n            try {\n                let nature = ''\n                this.jRaw = []\n                const data = this.productionOrder.componentUsed || []\n                const rows = data.filter(m => parseFloat(m.amount) > 0)\n                const bom = this.productionOrder.bom\n                const currency = bom.currency || {}\n                const xRate = bom.exchangeRate || {}\n                const txnRate = xRate.rate || 1\n                this.productionOrder.txnRate = txnRate\n                this.productionOrder.exchangeRate = xRate\n                this.productionOrder.currency = currency\n                rows.forEach(value => {\n                    const amt = kendo.parseFloat(value.amount) * -1\n                    const itemXAmount = amt * kendo.parseFloat(txnRate)\n                    const item = value.item\n                    if ((amt > 0)) {\n                        nature = 'dr'\n                    } else {\n                        nature = 'cr'\n                    }\n                    if (item) {\n                        if (item.type === 'Service') {\n                            if (item.hasOwnProperty('costOfGoodsSoldAcc')) {\n                                if (item.costOfGoodsSoldAcc.hasOwnProperty('id')) {\n                                    let costOfGoodsSoldAcc = item.costOfGoodsSoldAcc\n                                    this.jRaw.push({\n                                        id: costOfGoodsSoldAcc.id + '-' + nature,\n                                        line: new ComponentUsedModel(value),\n                                        description: this.productionOrder.transactionNote,\n                                        account: item.costOfGoodsSoldAcc,\n                                        accountId: item.costOfGoodsSoldAcc.id,\n                                        amount: amt, // qty*avg_cost ,\n                                        exchangeAmount: itemXAmount,//xAmount,\n                                        type: nature,\n                                        typeAs: 'item'\n                                    })\n                                }\n\n                            }\n                            if (item.hasOwnProperty('deferredIncomeAcc')) {\n                                if (item.deferredIncomeAcc.hasOwnProperty('id')) {\n                                    let deferredInAcc = item.deferredIncomeAcc\n                                    this.jRaw.push({\n                                        id: deferredInAcc.id + '-' + nature,\n                                        line: new ComponentUsedModel(value),\n                                        description: this.productionOrder.transactionNote,\n                                        account: deferredInAcc,\n                                        accountId: deferredInAcc.id,\n                                        amount: amt, // qty*avg_cost ,\n                                        exchangeAmount: itemXAmount,//,\n                                        type: nature,\n                                        typeAs: 'item'\n                                    })\n                                }\n                            }\n                        } else if (item.type === 'Variant') {\n                            if (item.hasOwnProperty('inventoryAcc')) {\n                                if (item.inventoryAcc.hasOwnProperty('id')) {\n                                    let inventoryAcc = item.inventoryAcc\n                                    this.jRaw.push({\n                                        id: inventoryAcc.id + '-' + nature,\n                                        line: new ComponentUsedModel(value),\n                                        description: this.productionOrder.transactionNote,\n                                        account: item.inventoryAcc,\n                                        accountId: item.inventoryAcc.id,\n                                        amount: amt, // qty*avg_cost ,\n                                        exchangeAmount: itemXAmount,//xAmount,\n                                        type: nature,\n                                        typeAs: 'item'\n                                    })\n                                }\n                            }\n                        } else if (item.type === 'Fixed Asset') {\n                            if (item.hasOwnProperty('assetAcc')) {\n                                if (item.assetAcc.hasOwnProperty('id')) {\n                                    let assetAcc = item.assetAcc\n                                    this.jRaw.push({\n                                        id: assetAcc.id + '-' + nature,\n                                        line: new ComponentUsedModel(value),\n                                        description: this.productionOrder.transactionNote,\n                                        account: item.assetAcc,\n                                        accountId: item.assetAcc.id,\n                                        amount: amt, // qty*avg_cost ,\n                                        exchangeAmount: itemXAmount,//xAmount,\n                                        type: nature,\n                                        typeAs: 'item'\n                                    })\n                                }\n                            }\n\n                        } else if (item.type === 'Transaction Item') {\n                            if (item.hasOwnProperty('account')) {\n                                if (item.account.hasOwnProperty('id')) {\n                                    this.jRaw.push({\n                                        id: item.account.id + '-' + nature,\n                                        line: new ComponentUsedModel(value),\n                                        description: this.productionOrder.transactionNote,\n                                        account: item.account,\n                                        accountId: item.account.id,\n                                        amount: amt, // qty*avg_cost ,\n                                        exchangeAmount: itemXAmount,//xAmount,\n                                        type: nature,\n                                        typeAs: 'item'\n                                    })\n                                }\n                            }\n                        }\n                    }\n                })\n                // todo: Working Progress Acc\n                // todo: raw Journal\n                if (this.productionOrder.amount > 0) {\n                    nature = 'dr'\n                } else {\n                    nature = 'cr'\n                }\n                // window.console.log(this.accWPI, 'accWPI')\n                if (this.accWPI) {\n                    if (this.accWPI.hasOwnProperty('id')) {\n                        this.jRaw.push({\n                            id: this.accWPI.id + '-' + nature,\n                            line: new ComponentUsedModel({}),\n                            description: this.productionOrder.transactionNote,\n                            account: this.accWPI,\n                            accountId: this.accWPI.id,\n                            exchangeAmount: this.productionOrder.amount,\n                            amount: this.productionOrder.amount,\n                            type: nature,\n                            typeAs: 'wpa'\n                        })\n                    }\n                }\n                this.shrinkData(this.jRaw)\n            } catch (e) {\n                window.console.log(e, 'error')\n            }\n        },\n        shrinkData(obj) {\n            const uniques = this.removeDuplicate(obj)\n            uniques.forEach(n => {\n                const found = obj.filter(m => m.id === n.id)\n                let amount = 0, exchangeAmount = 0\n                found.forEach(z => {\n                    amount += parseFloat(z.amount || 0)\n                    exchangeAmount += parseFloat(z.exchangeAmount || 0)\n                })\n                n.amount = parseFloat(amount) //this.numberFormat(amount)\n                n.exchangeAmount = parseFloat(exchangeAmount)\n            })\n            this.jRaw = uniques\n            let dr = 0, cr = 0\n            this.jRaw.forEach(j => {\n                switch (j.type) {\n                    case 'cr':\n                        cr += parseFloat(j.amount)\n                        break\n                    case 'dr':\n                        dr += parseFloat(j.amount)\n                        break\n                    default:\n                        break\n                }\n            })\n            this.dr = dr\n            this.cr = cr\n            window.console.log('dr=', dr, 'cr=', cr, 'dr+cr = ', dr + cr)\n            window.console.log(JSON.stringify(uniques), 'uniques')\n\n        },\n        removeDuplicate(array) {\n            const result = [];\n            const map = new Map();\n            for (const item of array) {\n                if (!map.has(item.id)) {\n                    map.set(item.id, true);    // set any value to Map\n                    result.push(item)\n                }\n            }\n            return result\n        },\n        async onStartProduction() {\n            await this.generateNumber()\n            this.showLoading = true\n            this.produce_qty = this.productionOrder.qty\n            this.productionOrder.startedAt = new Date().toISOString().substr(0, 10)\n            this.dialogM = true\n            this.showLoading = false\n        },\n        taxTemplate(dataItem) {\n            // window.console.log('vat', dataItem.tax)\n            const vat = dataItem.tax\n            if (vat) {\n                return `<span>${vat.defaultTax ? vat.defaultTax : ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        TaxDropDownEditor(container, options) {\n            kendo.jQuery('<input name=\"' + options.field + '\"/>')\n                .appendTo(container)\n                .kendoDropDownList({\n                    autoBind: true,\n                    autoWidth: true,\n                    height: 400,\n                    filter: \"startswith\",\n                    dataTextField: \"defaultTax\",\n                    dataValueField: \"id\",\n                    template: \"<span>#=defaultTax#</span>\",\n                    optionLabel: \"--Select--\",\n                    dataSource: new kendo.data.DataSource({\n                        data: this.vatTax\n                    })\n                })\n        },\n        roNumberOC(dataItem) {\n            let ds = this.$refs.otherCostDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        rowNumberOP(dataItem) {\n            let ds = this.$refs.otherProductDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        itemTemplate(dataItem) {\n            const item = dataItem.item\n            if (item) {\n                return `<span>${item.name ? item.name : ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        UOMTemplate(dataItem) {\n            const uom = dataItem.buom\n            if (uom) {\n                return `<span>${uom.name ? uom.name : ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        UOMTemplateOP(dataItem) {\n            const uom = dataItem.uom\n            if (uom) {\n                return `<span>${uom.uom ? uom.name : ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        UOMTemplateCU(dataItem) {\n            const uom = dataItem.uom\n            if (uom) {\n                return `<span>${uom.uom ? uom.name : ``}</span>`\n            } else {\n                return ``\n            }\n        },\n        rowNumberCU(dataItem) {\n            let ds = this.$refs.componentUsedDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        async loadAccount() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    accountHandler.getAll().then(res => {\n                        this.showLoading = false\n                        this.accWPIs = res.data.filter(m => m.account_type.name === 'Inventory').map(item => {\n                            return {\n                                id: item.uuid,\n                                uuid: item.uuid,\n                                name: item.name,\n                                local_name: item.local_name,\n                                number: item.number,\n                                is_taxable: item.is_taxable,\n                                banhjiAccCode: item.banhjiAccCode,\n                                group_code: item.group_code,\n                                parent_account: item.parent_account,\n                                type_code: item.type_code,\n                                account_type: item.account_type\n                            }\n                        })\n                        if (this.accWPIs.length > 0) {\n                            this.accWPI = this.accWPIs[0]\n                        }\n                    })\n                }, 10);\n            })\n        },\n        async initData() {\n            const po = this.$route.params.productionOrder\n            const id = this.$route.params.id\n            if (id !== '' && po === undefined) {\n                await productionOrderHandler.getById(id).then(res => {\n                    this.productionOrder = res\n                    this.otherFinishProducts = this.productionOrder ? this.productionOrder.otherFinishProduct : []\n                    this.componentUseds = this.productionOrder ? this.productionOrder.componentUsed : []\n                    this.otherCosts = this.productionOrder ? this.productionOrder.otherCost : []\n                    if (this.productionOrder.yieldUOM) {\n                        this.uom = this.productionOrder.yieldUOM.name || ''\n                    }\n\n                    // window.console.log(res, this.otherCosts, this.otherFinishProducts, this.componentUseds, 'load po')\n                })\n            } else if (po !== undefined) {\n                this.productionOrder = po\n                this.otherFinishProducts = this.productionOrder ? this.productionOrder.otherFinishProduct : []\n                this.componentUseds = this.productionOrder ? this.productionOrder.componentUsed : []\n                this.otherCosts = this.productionOrder ? this.productionOrder.otherCost : []\n                if (this.productionOrder.yieldUOM) {\n                    this.uom = this.productionOrder.yieldUOM.name || ''\n                }\n                // window.console.log(this.productionOrder, this.otherCosts, this.otherFinishProducts, this.componentUseds, 'data po')\n            } else {\n                this.clear()\n            }\n        },\n        savePrint() {\n\n        },\n        saveNew() {\n\n        },\n        clear() {\n            this.productionOrder = {}\n            this.production = production\n            this.otherFinishProducts = []\n            this.componentUseds = []\n            this.uom = ''\n            this.otherCosts = []\n        },\n        async loadPrefix() {\n            new Promise(resolve => {\n                setTimeout(async () => {\n                    resolve('resolved');\n                    await prefixHandler.get('production').then(async res => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false\n                            this.transactionTypes = res.data.data\n                            if (this.transactionTypes.length > 0) {\n                                this.production.transactionType = this.transactionTypes[0]\n                                // if (this.$route.params.id === undefined) {\n                                await this.generateNumber()\n                                // }\n                            }\n                        }\n\n                    })\n                }, 10);\n            })\n        },\n        async generateNumber() {\n\n            let data = {\n                abbr: this.production.transactionType.abbr,\n                structure: this.production.transactionType.structure,\n                transactionDate: this.production.transactionDate,\n                sequcencing: this.production.transactionType.sequcencing,\n                type: 'Production',\n                entity: 2\n            }\n            this.production.abbr = data.abbr\n            // window.console.log('data.abbr', data.abbr)\n            this.production.structure = data.structure\n            this.production.sequcencing = data.sequcencing\n            this.production.transactionDate = data.transactionDate\n            this.production.type = data.type\n            await billingHandler.lastNumber(data).then(response => {\n                if (response.data.statusCode === 200) {\n                    const res = response.data.data\n                    const lastNumber = this.zeroPad(parseInt(res.lastNumber), this.production.transactionType.format)\n                    this.production.number = res.suffix + this.production.transactionType.numberSeparator + lastNumber\n                    this.production.abbr = res.abbr\n                    this.production.lastNumber = res.suffix + lastNumber\n                    // window.console.log(this.production.number, 'production')\n                }\n            }).catch(e => {\n                this.errors.push(e)\n            })\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, '0')\n        },\n        async saveClose() {\n            this.production.productionNo = ''//'PD-' + this.production.productionNo\n            // this.production.accWPI = this.accWPI\n            this.production.bom = this.productionOrder.bom\n            this.production.productionOrder = this.productionOrder\n            this.production.product = this.productionOrder.product\n            this.production.qty = this.productionOrder.qty\n            this.production.uom = this.productionOrder.yieldUOM\n            this.production.amount = this.productionOrder.amount\n            this.production.exchangeAmount = this.productionOrder.exchangeAmount\n            this.production.variance = this.productionOrder.variance\n            this.production.startedAt = this.productionOrder.startedAt\n            this.production.status = 1\n            // this.production.actionType = 'new'\n            // this.production.jRaw = this.jRaw\n            this.productionOrder.jRaw = this.jRaw\n            this.productionOrder.status = 2\n\n            this.productionOrder.type = 'Production Order'\n            // this.productionOrder.startedAt = this.production.transactionDate\n            this.productionOrder.actionType = 'new'\n            this.productionOrder.account = this.accWPI\n            //todo: create Raw production\n            this.showLoading = true\n            await productionHandler.create(this.production).then(res => {\n                window.console.log(res)\n            })\n            //todo: update production order / inventory / Journal\n            await productionOrderHandler.create(this.productionOrder).then(res => {\n                window.console.log(res)\n                this.dialogM = false\n                this.initData()\n            })\n            this.showLoading = false\n        },\n        removeRow() {\n        },\n        errorMessage() {\n\n        },\n        addRow() {\n        },\n        accountDropDownEditor() {\n        },\n        cancel() {\n\n        },\n        numberFormat(value) {\n            return kendo.toString(value, `n${this.decimalFormat}`)\n        },\n        hideSmallSideBar() {\n            this.isHideBar = !this.isHideBar;\n        }\n    },\n    watch: {\n        'id': 'initData'\n        // call again the method if the route changes\n\n    },\n    async created() {\n        await this.loadPrefix()\n        await this.loadAccount()\n    },\n    async mounted() {\n        this.production.transactionDate = new Date().toISOString().substr(0, 10)\n        await this.initData()\n    },\n};\n</script>\n\n<style scoped>\n.function_wrapper {\n    box-shadow: none !important;\n}\n\n.custom_grid table th:last-child {\n    text-align: right !important;\n}\n\n.color_green {\n    color: #03b154;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        max-width: 1250px;\n    }\n}\n\n@media (max-width: 576px) {\n    .pt-6.col-sm-5.col-12 {\n        padding-top: 0 !important;\n    }\n\n    .code_text {\n        width: 100%;\n    }\n\n    .phone_no_pt {\n        padding-top: 0 !important;\n    }\n\n    .select_template,\n    .save_option {\n        margin-bottom: 10px;\n    }\n}\n\n.hide_small_bar_class {\n    max-width: 0;\n    transition: .5s ease-in;\n    flex: 0 0 0;\n    padding: 0;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: .5s ease-in;\n    flex: 0 0 100%;\n}\n\n.info_add {\n    background-color: #ffffff;\n}\n\n.small_sidebar {\n    height: 97%;\n    position: relative;\n    padding: 12px;\n    background-color: #EDF1F5;\n}\n\n.iconArrow {\n    right: -35px;\n    position: absolute;\n    bottom: -10px;\n}\n\n.iconArrowHide {\n    position: absolute;\n    right: -7px;\n    bottom: -10px;\n}\n\n.color_grey {\n    color: #808080;\n}\n\n.card_green {\n    min-height: 70px;\n    background-color: #00b050 !important;\n    color: #ffffff;\n}\n\n.lb_bold {\n    font-size: 12px;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 10px;\n}\n\n.card_background {\n    background-color: #EDF1F5;\n    min-height: 120px;\n}\n\n.deposite_input {\n    width: 100px;\n}\n\n.btn_save_draft {\n    color: #ffffff;\n    background-color: #00b0f0 !important;\n    text-transform: capitalize;\n}\n\n.save_option {\n    background-color: #203864 !important;\n}\n\n.btn_add_small {\n    height: 27px !important;\n    min-width: 25px !important;\n    font-size: 10px;\n    padding: 0 22px !important;\n    background-color: #00b050 !important;\n    color: #ffffff;\n    border-radius: 0 !important;\n}\n\n.list_site_inv {\n    background-color: #92d050;\n    color: #ffffff;\n    font-size: 12px;\n}\n\n.list_site_exp {\n    background-color: #c5e0b4;\n    color: #000000;\n    font-size: 12px;\n    line-height: 16px;\n    min-height: 40px;\n}\n\n.checkbox_inv {\n    padding: 2px;\n    margin-top: 3px;\n    margin-right: 2px;\n}\n\n.exp_select {\n    font-size: 12px !important;\n}\n\n.border_radius10 {\n    border-radius: 10px !important;\n    background-color: #F2F2F2;\n}\n\n</style>\n"]}]}