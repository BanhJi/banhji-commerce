{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/banking/banking/BankFeedConnection.vue?vue&type=style&index=0&id=764da344&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/banking/banking/BankFeedConnection.vue","mtime":1638499443121},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmstY2hhcnQgewogICAgaGVpZ2h0OiAxODBweDsKfQoKLnRoZW1lLS1saWdodC52LWRhdGEtdGFibGUgewogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDsKfQoKLnYtZGF0YS10YWJsZSA+IC52LWRhdGEtdGFibGVfX3dyYXBwZXIgPiB0YWJsZSA+IHRib2R5ID4gdHIgPiB0ZCB7CiAgICBoZWlnaHQ6IDMycHggIWltcG9ydGFudDsKICAgIGJvcmRlci1ib3R0b206IHRoaW4gc29saWQgcmdiYSgwLCAwLCAwLCAwLjEyKSAhaW1wb3J0YW50Owp9Cgoudi1kYXRhLXRhYmxlID4gLnYtZGF0YS10YWJsZV9fd3JhcHBlciA+IHRhYmxlID4gdGJvZHkgPiB0cjpmaXJzdC1jaGlsZCA+IHRkIHsKICAgIGJvcmRlci10b3A6IHRoaW4gc29saWQgcmdiYSgwLCAwLCAwLCAwLjEyKSAhaW1wb3J0YW50Owp9CgoudGhlbWUtLWxpZ2h0LnYtZGF0YS10YWJsZSA+IC52LWRhdGEtdGFibGVfX3dyYXBwZXIgPiB0YWJsZSA+IHRib2R5ID4gdHI6aG92ZXI6bm90KC52LWRhdGEtdGFibGVfX2V4cGFuZGVkX19jb250ZW50KTpub3QoLnYtZGF0YS10YWJsZV9fZW1wdHktd3JhcHBlcikgewogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDsKfQo="},{"version":3,"sources":["BankFeedConnection.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyPA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"BankFeedConnection.vue","sourceRoot":"src/views/banking/banking","sourcesContent":["<template>\n    <v-row>\n        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n            <v-card color=\"white\" class=\"pl-2 no_border\" elevation=\"0\">\n                <v-row>\n                    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                        <h2 class=\"mb-1 font_20\">{{ $t('transactions_need_to_be_reconciled') }}</h2>\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col sm=\"9\" cols=\"12\" class=\"py-0\">\n                        <app-searchdate :initStartDate=\"startDate\" @emitStartDate=\"startDate = $event\"\n                                        :initEndDate=\"endDate\" @emitEndDate=\"endDate = $event\"/>\n                    </v-col>\n\n                    <v-col sm=\"1\" cols=\"12\" class=\"py-0\">\n                        <v-btn class=\"btn_search\" style=\"background-color: rgb(237, 241, 245)\"\n                               @click=\"searchTransaction('Cash Receipt')\">\n                            <i class=\"b-search\" style=\"font-size: 18px; color:#fff !important;\"/>\n                        </v-btn>\n                    </v-col>\n                </v-row>\n\n                <v-row>\n                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                        <template>\n                            <LoadingMe\n                                :isLoading=\"showLoading\"\n                                :fullPage=\"true\"\n                                :myLoading=\"true\"\n                                :alertMessage=\"loadingAlert\"\n                                :color=\"loadingColorAlert\"\n                                :alertText=\"loadingTextAlert\"/>\n                            <kendo-datasource ref=\"gridCollectionDS\"\n                                              :type=\"'JSON'\"\n                                              :data=\"transactions\"\n                                              :group=\"group\"\n                                              :server-paging=\"false\"/>\n                            <kendo-grid id=\"gridCollection\" class=\"grid-function\"\n                                        :data-source-ref=\"'gridCollectionDS'\"\n                                        :editable=\"false\"\n                                        :groupable=\"true\"\n                                        :column-menu=\"true\"\n                                        :noRecords=\"true\"\n                                        :scrollable-virtual=\"true\">\n                                <!--                                <kendo-grid-column-->\n                                <!--                                    :field=\"'no'\"-->\n                                <!--                                    :title=\"$t('no')\"-->\n                                <!--                                    :template=\"rowNumberTmpl\"-->\n                                <!--                                    :width=\"90\"-->\n                                <!--                                    :column-menu=\"false\"-->\n                                <!--                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5;', class: 'text-center'\t}\"-->\n                                <!--                                    :attributes=\"{style: 'text-align: center'}\"/>-->\n                                <kendo-grid-column\n                                    :field=\"'name'\"\n                                    :attributes=\"{class:'tb_name_td'}\"\n                                    :title=\"$t('imported_date')\"\n                                    :width=\"200\"\n                                    :template=\"'<span>#=name#</span>'\"\n                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                <kendo-grid-column\n                                    :field=\"'txnReferenceNo'\"\n                                    :title=\"$t('num')\"\n                                    :width=\"200\"\n                                    :template=\"invoiceRefTemplate\"\n                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5, color: green !important' }\"/>\n                                <kendo-grid-column\n                                    :field=\"'receiptReferenceNo'\"\n                                    :title=\"$t('date')\"\n                                    :width=\"200\"\n                                    :template=\"receiptRefTemplate\"\n                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5, color: green !important' }\"/>\n                                <kendo-grid-column\n                                    :field=\"'txnAmount'\"\n                                    :title=\"$t('type')\"\n                                    :width=\"200\"\n                                    :template=\"'<span>#= kendo.toString(txnAmount, decimalFormat)#</span>'\"\n                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                <kendo-grid-column\n                                    :field=\"'PaidAmount'\"\n                                    :title=\"$t('bank_account')\"\n                                    :width=\"200\"\n                                    :template=\"'<span>#= kendo.toString(PaidAmount, decimalFormat)#</span>'\"\n                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                <kendo-grid-column\n                                    :field=\"'transactionDate'\"\n                                    :title=\"$t('bank')\"\n                                    :width=\"200\"\n                                    :template=\"transactionDate\"\n                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n\n                                <kendo-grid-column\n                                    :field=\"'paymentOption'\"\n                                    :title=\"$t('amount')\"\n                                    :width=\"200\"\n                                    :template=\"source\"\n                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5, color: green !important' }\"/>\n                                <kendo-grid-column\n                                    :field=\"'bankReferenceNo'\"\n                                    :title=\"$t('action')\"\n                                    :width=\"200\"\n                                    :template=\"'<span>#= bankReferenceNo#</span>'\"\n                                    :headerAttributes=\"{ style: 'background-color: #EDF1F5, color: green !important' }\"/>\n                            </kendo-grid>\n                        </template>\n                    </v-col>\n                </v-row>\n            </v-card>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\nimport SearchDateComponent from '@/components/custom_templates/SearchDate'\nimport LinkTemplate from \"@/components/kendo_templates/LinkTemplate\";\nimport kendo from \"@progress/kendo-ui\";\nimport ItemLineModel from \"@/scripts/cash-receipt/model/ItemLine\";\n\nconst billingHandler = require(\"@/scripts/invoice/handler/billingHandler\")\nconst itemLineModel = new ItemLineModel({})\nexport default {\n    data: () => ({\n        startDate: \"\",\n        endDate: \"\",\n        group: {field: 'name'},\n        transactions: [],\n        dateFormat: itemLineModel.dateFormat,\n        showLoading: false,\n        loadingAlert: false,\n        loadingColorAlert: '',\n        loadingTextAlert: '',\n        collectedAmount: 0,\n        collectedInvoice: 0,\n        collectedInvoiceOverDue: 0,\n        decimalFormat: 'n2',\n    }),\n    components: {\n        'app-searchdate': SearchDateComponent,\n        LoadingMe: () => import(`@/components/Loading`),\n    },\n    methods: {\n        numberFormat(value) {\n            return kendo.toString(value, `n${this.decimal}`)\n        },\n        transactionDate(dataItem) {\n            return kendo.toString(new Date(dataItem.transactionDate), `${this.dateFormat}`)\n        },\n        goToConvert() {\n\n        },\n        source(dataItem) {\n            if (dataItem.hasOwnProperty('paymentOption')) {\n                if (dataItem.paymentOption.hasOwnProperty('name')) {\n                    return dataItem.paymentOption.name\n                }\n            }\n            return ''\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.gridCollectionDS.kendoWidget(),\n                index = ds.indexOf(dataItem)\n            return index + 1\n        },\n        receiptRefTemplate(data) {\n            let url = `cash_receipt/${data.id}`\n            let args = {\n                text: data.receiptReferenceNo,\n                url: url,\n                data: data,\n            }\n            return {\n                template: LinkTemplate,\n                templateArgs: args\n            }\n        },\n        invoiceRefTemplate(data) {\n            let url = `invoice_view/${data.txnId}`\n            let args = {\n                text: data.txnReferenceNo,\n                url: url,\n                data: data,\n            }\n            return {\n                template: LinkTemplate,\n                templateArgs: args\n            }\n        },\n        async searchTransaction(type) {\n            if (this.startDate && this.endDate) {\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        this.showLoading = true\n                        const startDate = this.startDate\n                        const endDate = this.endDate\n                        let strFilter = ''\n                        if (type !== '') {\n                            strFilter = '?start=' + startDate + '&end=' + endDate + '&type=' + type\n                        } else {\n                            strFilter = '?start=' + startDate + '&end=' + endDate\n                        }\n\n                        billingHandler.txn(strFilter).then(res => {\n                            if (res.data.statusCode === 200) {\n                                this.transactions = res.data.data\n                                if (this.transactions.length > 0) {\n                                    const results = res.data.result\n                                    this.decimalFormat = res.data.data[0].decimalFormat\n                                    this.collectedAmount = results.cash\n                                    const inv = results.invoice\n                                    this.collectedInvoice = inv.total\n                                    this.collectedInvoiceOverDue = inv.overDue\n                                }\n                            }\n                            this.showLoading = false\n                        })\n                    }, 300)\n                })\n            }\n        },\n        status(dataItem) {\n            if (dataItem) {\n                if (dataItem.hasOwnProperty('status')) {\n                    const status = dataItem.status\n                    let statusText = ''\n                    switch (status) {\n                        case 1:\n                            statusText = 'OPEN'\n                            break\n                        case 2:\n                            statusText = 'Partially Paid'\n                            break\n                        case 4:\n                            statusText = 'VOID'\n                            break\n                        case 3:\n                            statusText = 'PAID'\n                            break\n                    }\n                    return statusText\n                }\n            }\n            return ''\n        },\n    },\n    computed: {},\n};\n</script>\n<style scoped>\n.k-chart {\n    height: 180px;\n}\n\n.theme--light.v-data-table {\n    background-color: transparent !important;\n}\n\n.v-data-table > .v-data-table__wrapper > table > tbody > tr > td {\n    height: 32px !important;\n    border-bottom: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n\n.v-data-table > .v-data-table__wrapper > table > tbody > tr:first-child > td {\n    border-top: thin solid rgba(0, 0, 0, 0.12) !important;\n}\n\n.theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n    background-color: transparent !important;\n}\n</style>\n"]}]}