{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/settings/TaxSettings.vue?vue&type=style&index=0&id=78a7faa6&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/settings/TaxSettings.vue","mtime":1638499443265},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5teV90YWJsZSB7CiAgICB3aWR0aDogMTAwJTsKICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7Cn0KCi5teV90YWJsZSB0ZCB7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjMDAwOwogICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsKICAgIHBhZGRpbmc6IDhweDsKfQoKLm15X3RhYmxlIHRoIHsKICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7CiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOwp9CgouZnVuY3Rpb25fZm9vdGVyIHsKICAgIHBhZGRpbmc6IDE1cHg7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cn0KCi50aGVtZS0tbGlnaHQudi1kYXRhLXRhYmxlIHsKICAgIGJhY2tncm91bmQtY29sb3I6IG5vbmUgIWltcG9ydGFudDsKfQoKLnNldENhcmRIZWlnaHQgewogICAgbWluLWhlaWdodDogNDgwcHg7Cn0KCi5zZXRDYXJkSGVpZ2h0T3RoZXIgewogICAgaGVpZ2h0OiAyODBweCAhaW1wb3J0YW50Owp9Ci5jYXJkX2hlYWRlcnsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHdpZHRoOiA0OS44JTsKICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICB6LWluZGV4OiAxMDA7Cn0KCkBtZWRpYSAobWF4LXdpZHRoOiA2NzZweCkgewogICAgLmNhcmRfaGVhZGVyewogICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICB3aWR0aDogODglOwogICAgICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICAgICAgei1pbmRleDogMTAwOwogICAgfQoKfQpAbWVkaWEgKG1heC13aWR0aDogMTAyNnB4KSB7CiAgICAuY2FyZF9oZWFkZXJ7CiAgICAgICAgcG9zaXRpb246IGZpeGVkOwogICAgICAgIHdpZHRoOiA2OCU7CiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjsKICAgICAgICB6LWluZGV4OiAxMDA7CiAgICB9Cn0K"},{"version":3,"sources":["TaxSettings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsrBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TaxSettings.vue","sourceRoot":"src/views/payroll/settings","sourcesContent":["<template>\n    <v-row class=\"\">\n        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n            <h2 class=\"mb-0 font_20\">{{ $t('tax_setting') }}</h2>\n            <v-dialog v-model=\"dialogM2\" max-width=\"700px\">\n                <template v-slot:activator=\"{ on }\">\n                    <v-btn color=\"primary\" class=\" text-capitalize white--text float-right\" v-on=\"on\"\n                           @click=\"onNewClick\">\n                        {{ $t('create_new') }}\n                    </v-btn>\n                </template>\n                <v-card>\n                    <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                        <div class=\"modal_header\">\n                            <v-card-title>{{ $t('tax_setting') }}</v-card-title>\n                            <v-icon  @click=\"dialogM2 = false\">close</v-icon>\n                        </div>\n                        <v-divider/>\n                        <v-card-text class=\"modal_text_content\">\n                            <div v-if=\"natureSelected.id == 'Resident_Salary'\">\n                                <v-row>\n                                    <v-col class=\"pb-0\" sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('nature') }}</label>\n                                        <v-select class=\"mt-1\"\n                                            outlined\n                                            :items=\"nature\"\n                                            item-value=\"id\"\n                                            item-text=\"name\"\n                                            v-model=\"natureSelected\"\n                                            tage=\"unitOfMeasureSelector\"\n                                            @change=\"ChangeNature\"\n                                            return-object\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            clearable/>\n                                    </v-col>\n                                    <v-col class=\"pb-0\" sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('name') }}</label>\n                                        <v-text-field\n                                            class=\"mt-1\"\n                                            tage=\"Name\"\n                                            v-model=\"taxPayroll.name\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            outlined/>\n                                    </v-col>\n                                    <v-col class=\"pb-0\" sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('effective_date') }}</label>\n                                        <app-datepicker\n                                            :initialDate=\"effectiveDate\"\n                                            @emitDate=\"effectiveDate = $event\"/>\n                                    </v-col>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"pt-2\">\n                                        <kendo-datasource ref=\"dataSource\"\n                                                        :data=\"taxList\"/>\n                                        <kendo-grid id=\"grid\" class=\"grid-function\"\n                                            :data-source-ref=\"'dataSource'\"\n                                            :sortable=\"false\"\n                                            :filterable=\"false\"\n                                            :navigatable=\"true\"\n                                            :editable=\"true\"\n                                            :scrollable-virtual=\"true\">\n                                            <kendo-grid-column\n                                                :title=\"$t('no.')\"\n                                                :template=\"rowNumberTmpl\"\n                                                :width=\"60\"\n                                                :column-menu=\"false\"\n                                                :headerAttributes=\"{ style: 'background-color: #EDF1F5;', class: 'text-center'\t}\"\n                                                :attributes=\"{style: 'text-align: center'}\"/>\n                                            <kendo-grid-column\n                                                :field=\"'from'\"\n                                                title=\"FROM\"\n                                                :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'to'\"\n                                                title=\"TO\"\n                                                :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'taxRate'\"\n                                                title=\"Tax Rate\"\n                                                :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                            <kendo-grid-column\n                                                :field=\"'amount'\"\n                                                title=\"Amount\"\n                                                :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                                            <kendo-grid-column\n                                                :command=\"{ iconClass: 'k-icon k-i-trash', text: ' ', click: removeRow, class: 'btn-plus' }\"\n                                                :title=\"$t('action')\"\n                                                :headerAttributes=\"{style: 'text-align: center; background-color: #EDF1F5'}\"\n                                                :attributes=\"{style: 'text-align: center'}\"/>\n                                        </kendo-grid>\n                                        <v-btn color=\"primary\"\n                                            class=\"float-left rounded-0 white--text mt-3 btn_plus\"\n                                            @click=\"addRow\">\n                                            <v-icon size=\"\" class=\"ma-1\">mdi-plus</v-icon>\n                                        </v-btn>\n                                    </v-col>\n                                    <v-col sm=\"12\" class=\"py-0\">\n                                        <v-row class=\"mt-0\">\n                                            <v-col sm=\"4\" class=\"py-0\">\n                                                <label>{{ $t('currency') }}</label>\n                                                <v-select\n                                                    class=\" my-2\"\n                                                    :items=\"currencyList\"\n                                                    item-value=\"code\"\n                                                    item-text=\"name\"\n                                                    v-model=\"currencySelected\"\n                                                    outlined\n                                                    return-object\n                                                    tage=\"currencySelector\"\n                                                    :rules=\"[v => !!v || $t('field_is_required')]\"/>\n                                            </v-col>\n                                            <v-col sm=\"4\" class=\"py-0\">\n                                                <label>{{ $t('account') }}</label>\n                                                <v-select\n                                                    class=\" my-2\"\n                                                    :items=\"accountList\"\n                                                    item-value=\"uuid\"\n                                                    item-text=\"name\"\n                                                    v-model=\"accountSelected\"\n                                                    outlined\n                                                    return-object\n                                                    tage=\"accountSelector\"\n                                                    :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                    clearable/>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                </v-row>\n                            </div>\n                            <div v-else-if=\"natureSelected.id == 'Dependency'\">\n                                <v-row>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('nature') }}</label>\n                                        <v-select\n                                            class=\" my-2\"\n                                            outlined\n                                            :items=\"nature\"\n                                            item-value=\"id\"\n                                            item-text=\"name\"\n                                            v-model=\"natureSelected\"\n                                            @change=\"ChangeNature\"\n                                            return-object\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            tage=\"unitOfMeasureSelector\"\n                                        />\n                                    </v-col>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('name') }}</label>\n                                        <v-text-field\n                                            class=\" my-2\"\n                                            tage=\"Name\"\n                                            v-model=\"taxPayroll.name\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            outlined/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('effective_date') }}</label>\n                                        <app-datepicker\n                                            :initialDate=\"effectiveDate\"\n                                            @emitDate=\"effectiveDate = $event\"/>\n                                        <!-- <v-text-field class=\" my-2\" tage='Effective Date' outlined clearable /> -->\n                                    </v-col>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('amount') }}</label>\n                                        <v-text-field\n                                            class=\" my-2\"\n                                            tage=\"Amount\"\n                                            type=\"number\"\n                                            v-model=\"taxPayroll.amount\"\n                                            :rules=\"[\n                                                (v) => {\n                                                    const total = taxPayroll.amount || 0\n                                                    if (total <= 0) {\n                                                    return v + ' Must be greater than zero'\n                                                    } else {\n                                                    return true\n                                                    }\n                                                }\n                                            ]\"\n                                            outlined/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('currency') }}</label>\n                                        <v-select\n                                            class=\" my-2\"\n                                            :items=\"currencyList\"\n                                            item-value=\"code\"\n                                            item-text=\"name\"\n                                            v-model=\"currencySelected\"\n                                            outlined\n                                            return-object\n                                            tage=\"currencySelector\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                        />\n                                    </v-col>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                    <label>{{ $t('account') }}</label>\n                                    <v-select\n                                        class=\" my-2\"\n                                        :items=\"accountList\"\n                                        item-value=\"uuid\"\n                                        item-text=\"name\"\n                                        v-model=\"accountSelected\"\n                                        outlined\n                                        return-object\n                                        tage=\"accountSelector\"\n                                        :rules=\"[v => !!v || $t('field_is_required')]\"\n                                        clearable/>\n                                </v-col>\n                                </v-row>\n                            </div>\n                            <div v-else-if=\"natureSelected.id == 'Non_resident_Salary'\">\n                                <v-row>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('nature') }}</label>\n                                        <v-select\n                                            class=\" my-2\"\n                                            outlined\n                                            :items=\"nature\"\n                                            item-value=\"id\"\n                                            item-text=\"name\"\n                                            v-model=\"natureSelected\"\n                                            @change=\"ChangeNature\"\n                                            return-object\n                                            tage=\"Nature\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                        />\n                                    </v-col>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('name') }}</label>\n                                        <v-text-field\n                                            class=\" my-2\"\n                                            Tage=\"Name\"\n                                            v-model=\"taxPayroll.name\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            outlined/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('effective_date') }}</label>\n                                        <app-datepicker\n                                            :initialDate=\"effectiveDate\"\n                                            @emitDate=\"effectiveDate = $event\"/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('rate') }}</label>\n                                        <v-text-field\n                                            class=\" my-2\"\n                                            tage=\"Rate\"\n                                            v-model=\"taxPayroll.rate\"\n                                            :rules=\"[\n                                                (v) => {\n                                                    const total = taxPayroll.rate || 0\n                                                    if (total <= 0) {\n                                                    return v + ' Must be greater than zero'\n                                                    } else {\n                                                    return true\n                                                    }\n                                                }\n                                            ]\"\n                                            outlined/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('currency') }}</label>\n                                        <v-select\n                                            class=\" my-2\"\n                                            :items=\"currencyList\"\n                                            item-value=\"code\"\n                                            item-text=\"name\"\n                                            v-model=\"currencySelected\"\n                                            @change=\"ChangeNature\"\n                                            outlined\n                                            return-object\n                                            tage=\"currencySelector\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                        />\n                                    </v-col>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('account') }}</label>\n                                        <v-select\n                                            class=\" my-2\"\n                                            :items=\"accountList\"\n                                            item-value=\"uuid\"\n                                            item-text=\"name\"\n                                            v-model=\"accountSelected\"\n                                            outlined\n                                            return-object\n                                            tage=\"accountSelector\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            clearable/>\n                                    </v-col>\n                                </v-row>\n                            </div>\n                            <div v-else>\n                                <v-row>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('nature') }}</label>\n                                        <v-select\n                                            class=\" my-2\"\n                                            outlined\n                                            :items=\"nature\"\n                                            item-value=\"id\"\n                                            item-text=\"name\"\n                                            v-model=\"natureSelected\"\n                                            tage=\"Nature\"\n                                            return-object\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                        />\n                                    </v-col>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('name') }}</label>\n                                        <v-text-field\n                                            class=\" my-2\"\n                                            v-model=\"taxPayroll.name\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            outlined/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('effective_date') }}</label>\n                                        <app-datepicker\n                                            :initialDate=\"effectiveDate\"\n                                            @emitDate=\"effectiveDate = $event\"/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('rate') }}</label>\n                                        <v-text-field\n                                            class=\" my-2\"\n                                            tage=\"Rat\"\n                                            v-model=\"taxPayroll.rate\"\n                                            :rules=\"[\n                                                (v) => {\n                                                    const total = taxPayroll.rate || 0\n                                                    if (total <= 0) {\n                                                    return v + ' Must be greater than zero'\n                                                    } else {\n                                                    return true\n                                                    }\n                                                }\n                                            ]\"\n                                            outlined/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('currency') }}</label>\n                                        <v-select\n                                            class=\" my-2\"\n                                            :items=\"currencyList\"\n                                            item-value=\"code\"\n                                            item-text=\"name\"\n                                            v-model=\"currencySelected\"\n                                            outlined\n                                            return-object\n                                            tage=\"currencySelector\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                        />\n                                    </v-col>\n                                    <v-col sm=\"4\" cosl=\"12\">\n                                        <label>{{ $t('account') }}</label>\n                                        <v-select\n                                            class=\" my-2\"\n                                            :items=\"accountList\"\n                                            item-value=\"uuid\"\n                                            item-text=\"name\"\n                                            v-model=\"accountSelected\"\n                                            outlined\n                                            return-object\n                                            tage=\"accountSelector\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            clearable/>\n                                    </v-col>\n                                </v-row>\n                            </div>\n                        </v-card-text>\n                        <v-card-actions class=\"modal_footer\">\n                            <v-row>\n                                <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-left\">\n                                    <v-btn small color=\"black\" outlined\n                                        class=\" text-capitalize  black--text float-left\"\n                                        @click=\"dialogM2 = false\">{{ $t('cancel') }}\n                                    </v-btn>\n                                </v-col>\n                                <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-right\">\n                                    <v-btn small color=\"primary\" class=\"px-3  white--text text-capitalize\"\n                                        @click.native=\"onSaveClose()\">{{ $t('save_close') }}\n                                    </v-btn>\n                                </v-col>\n                            </v-row>\n                        </v-card-actions>\n                    </v-form>\n                </v-card>\n            </v-dialog>\n            <p class=\"mb-0\">{{ $t('tax_settings_desc') }} </p>\n        </v-col>\n        <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n            <template>\n                <kendo-datasource ref=\"payrollTaxDS\" :data=\"payrollTax\" />\n                <kendo-grid\n                    id=\"gridTax\"\n                    class=\"grid-function\"\n                    :data-source-ref=\"'payrollTaxDS'\"\n                    :editable=\"false\"\n                    :scrollable-virtual=\"true\"\n                    :column-menu=\"false\">\n                <kendo-grid-column\n                    :field=\"'name'\"\n                    :title=\"$t('name')\"\n                    :template=\"'<span>#=name#</span>'\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                <kendo-grid-column\n                    :field=\"'nature'\"\n                    :title=\"$t('nature')\"\n                    :template=\"'<span>#= nature.name || ``#</span>'\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                <kendo-grid-column\n                    :field=\"'effectiveDate'\"\n                    :title=\"$t('effectiveDate')\"\n                    :template=\"'<span>#= effectiveDate || ``#</span>'\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                <kendo-grid-column\n                    :field=\"''\"\n                    :title=\"$t('action')\"\n                    :width=\"100\"\n                    :command=\"[{iconClass: 'k-icon k-i-edit', text: 'Edit',click: goEdit}]\"\n                    :headerAttributes=\"{style: 'text-align: right; background-color: #EDF1F5'}\"/>\n                </kendo-grid>\n            </template>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\nimport DatePickerComponent from '@/components/custom_templates/DatePickerComponent'\nimport TaxPayroll from '@/scripts/model/TaxPayroll'\nimport kendo from \"@progress/kendo-ui\";\nconst taxModel = new TaxPayroll({})\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\")  \nconst payrollHandler = require(\"@/scripts/payrollHandler\")\nconst accountHandler = require(\"@/scripts/handler/accounting/account\");\nconst $ = require(\"jquery\")\n\nexport default {\n    components: {\n        'app-datepicker': DatePickerComponent,\n    },\n    data: () => ({\n        dialogM2: false,\n        compeletLoading: true,\n        isFullpage: false,\n        natureSelected: {\n            id: 'Resident_Salary',\n            name: 'Resident Salary'\n        },\n        currencySelected: '',\n        accountSelected: '',\n        textStatus: 'Success',\n        color: '#3DA72E',\n        natureOption: 1,\n        setCardHeight: true,\n        timeout: 6000,\n        valid: true,\n        currencyList: [],\n        nature: [\n            {id: 'Resident_Salary', name: 'Resident Salary'},\n            {id: 'Non_resident_Salary', name: 'Non-resident Salary'},\n            {id: 'Fringe_Benefit', name: 'Fringe Benefit'},\n            {id: 'Dependency', name: 'Dependency'}\n        ],\n        tax_rate: [],\n        taxList: [],\n        taxPayroll: taxModel,\n        payrollTax: [],\n        accountList: [],\n        accountBenefitList: [],\n        effectiveDate: '',\n    }),\n    props: {},\n    computed: {},\n    watch: {\n    },\n    created() {\n    },\n    methods: {\n        ChangeNature() {\n            if (this.natureSelected === 'Resident_Salary') {\n                this.setCardHeight = true\n            } else {\n                this.setCardHeight = false\n            }\n        },\n        async loadCurrency() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    currencyHandler.getAll().then(res => {\n                        this.currencyList = res.data.data\n                    })\n                }, 300)\n            })\n        },\n        async loadTax() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    payrollHandler.getTax().then(res => {\n                        this.payrollTax = res.data.data\n                    })\n                }, 300);\n            })\n        },\n        async onSaveClose() {\n           if (!this.$refs.form.validate()) {\n                this.$refs.form.validate()\n                return\n            }\n            if (this.natureSelected === \"Resident_Salary\") {\n                let ds = this.$refs.dataSource.kendoWidget()\n                let dataSource = ds.data()\n                this.tax_rate = dataSource.map(index=>{\n                    return {\n                        amount:         index.amount,\n                        from:           index.from,\n                        to:             index.to,\n                        taxRate:        index.taxRate,\n                    }\n                });\n            } else {\n                this.tax_rate = this.taxPayroll.rate;\n            }\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    let data = new TaxPayroll({\n                        id:               this.taxPayroll.id ? this.taxPayroll.id : '',\n                        name:             this.taxPayroll.name,\n                        nature:           {\n                            id:             this.natureSelected.id || '',\n                            name:           this.natureSelected.name || ''\n                        },\n                        currency:         {\n                            code:           this.currencySelected.code || '',\n                            createdAt:      this.currencySelected.createdAt || '',\n                            id:             this.currencySelected.id || '',\n                            name:           this.currencySelected.name || '',\n                            rate:           this.currencySelected.rate || 0,\n                            symbol:         this.currencySelected.symbol || '',\n                            symbolNative:   this.currencySelected.symbolNative || '',\n                            used:           this.currencySelected.used || 1\n                        },\n                        rate:             this.tax_rate ? this.tax_rate: 0,\n                        effectiveDate:    this.effectiveDate,\n                        account:          {\n                            account_type:           this.accountSelected.account_type || {},\n                            banhjiAccCode:          this.accountSelected.banhjiAccCode || '',\n                            banhji_account_number:  this.accountSelected.banhji_account_number || \"\",\n                            description:            this.accountSelected.description || '',\n                            group_code:             this.accountSelected.group_code || '',\n                            institute:              this.accountSelected.institute || '',\n                            is_deleteable:          this.accountSelected.is_deleteable || 0,\n                            is_deleted:             this.accountSelected.is_deleted || 0,\n                            is_deteled:             this.accountSelected.is_deteled || 0,\n                            is_in_used:             this.accountSelected.is_in_used || 0,\n                            is_taxable:             this.accountSelected.is_taxable || 0,\n                            local_name:             this.accountSelected.local_name || '',\n                            name:                   this.accountSelected.namem || '',\n                            number:                 this.accountSelected.number || '',\n                            reconcile_require:      this.accountSelected.reconcile_require || 0,\n                            status:                 this.accountSelected.status || 1,\n                            type_code:              this.accountSelected.type_code || 0,\n                            uuid:                   this.accountSelected.uuid || ''\n                        },\n                        amount:           parseFloat(this.taxPayroll.amount ?  this.taxPayroll.amount: 0)\n                    })\n                    window.console.log(1, this.currencySelected)\n                    payrollHandler.createTax(data).then(response => {\n                        if (response.data.statusCode === 201) {\n                            const res = response.data\n                            const index = this.payrollTax.findIndex(item => {\n                                return (res.data.id === item.id)\n                            })\n                            if (this.taxPayroll.length === 0) {\n                                this.loadTax()\n                            } else {\n                                if (index < 0) {\n                                    this.payrollTax.push(res.data)\n                                } else {\n                                    this.payrollTax.splice(index, 1, res.data)\n                                }\n                            }\n                            this.$snotify.success('Success')\n                            this.clear()\n                            this.close()\n                        }\n                    }).catch(e => {\n                        this.$snotify.error('Something went wrong')\n                        this.errors.push(e)\n                    })\n                }, 300);\n            })\n        },\n        goEdit(e){\n            new Promise(resolve => {\n                setTimeout(() => {\n                resolve('resolved');\n                e.preventDefault();\n                let grid = kendo.jQuery(\"#gridTax\").data(\"kendoGrid\");\n                let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n                this.natureSelected = dataItem.nature\n                this.taxList = dataItem.rate\n                this.effectiveDate = dataItem.effectiveDate\n                this.currencySelected = dataItem.currency\n                this.accountSelected = dataItem.account\n                this.taxPayroll = dataItem\n                this.dialogM2 = true\n                }, 10);\n            })\n        },\n        onNewClick() {\n            this.clear()\n            this.taxList.push({\n\n            })\n        },\n        close() {\n            this.dialogM2 = false\n        },\n        clear() {\n            this.natureSelected = {\n                id: 'Resident_Salary',\n                name: 'Resident Salary'\n            }\n            this.currencySelected = ''\n            this.effectiveDate = ''\n            this.taxPayroll = {}\n            this.taxList = []\n            this.accountSelected = ''\n        },\n        addRow() {\n            let ds = this.$refs.dataSource.kendoWidget(),\n                total = ds.total();\n            ds.insert(total, {\n                taxList: {}\n            })\n        },\n        removeRow(e) {\n            e.preventDefault();\n            const grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\"),\n                dataSource = grid.dataSource,\n                dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n            if (dataSource.total() > 1) {\n                dataSource.remove(dataItem);\n            }\n        },\n        rowNumberTmpl(dataItem) {\n            var ds = this.$refs.dataSource.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        loadAccount(){\n            let number = 21\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    accountHandler.getByAccountType(number)\n                    .then(res => {\n                        if(res){\n                            this.accountList = res.data\n                            this.showLoading = false\n                        }\n                    })\n                }, 300);\n            })\n        },\n        loadAccountBenefit(){\n            let number = 34\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    accountHandler.getByAccountType(number)\n                    .then(res => {\n                        if(res){\n                            this.accountBenefitList = res.data\n                            this.showLoading = false\n                        }\n                    })\n                }, 300);\n            })\n        },\n    },\n    mounted: async function () {\n        this.loadTax()\n        this.loadCurrency()\n        this.loadAccount()\n        this.loadAccountBenefit()\n    }\n};\n</script>\n<style scoped>\n.my_table {\n    width: 100%;\n    border-collapse: collapse;\n}\n\n.my_table td {\n    border: 1px solid #000;\n    border-collapse: collapse;\n    padding: 8px;\n}\n\n.my_table th {\n    border: 1px solid #000;\n    border-collapse: collapse;\n}\n\n.function_footer {\n    padding: 15px;\n    display: inline-block;\n}\n\n.theme--light.v-data-table {\n    background-color: none !important;\n}\n\n.setCardHeight {\n    min-height: 480px;\n}\n\n.setCardHeightOther {\n    height: 280px !important;\n}\n.card_header{\n    position: fixed;\n    width: 49.8%;\n    background: #fff;\n    z-index: 100;\n}\n\n@media (max-width: 676px) {\n    .card_header{\n        position: fixed;\n        width: 88%;\n        background: #fff;\n        z-index: 100;\n    }\n\n}\n@media (max-width: 1026px) {\n    .card_header{\n        position: fixed;\n        width: 68%;\n        background: #fff;\n        z-index: 100;\n    }\n}\n</style>"]}]}