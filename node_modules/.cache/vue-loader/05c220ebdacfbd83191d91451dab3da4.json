{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/budgeting/CashMovement.vue?vue&type=style&index=0&id=6a37e80e&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/budgeting/CashMovement.vue","mtime":1638499443137},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5yZXN1bHR7Cglwb3NpdGlvbjogcmVsYXRpdmU7Cn0KLnJlcG9ydHNfbGlzdHsKCXdpZHRoOiAxMDAlOwoJYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKCXBhZGRpbmc6IDIwcHggMjBweCA1cHg7IAp9Ci5yZXBvcnRfZmlsdGVyewoJYmFja2dyb3VuZC1jb2xvcjogI0VERjFGNTsKCXBhZGRpbmc6IDAgMjBweCA1cHggMjBweDsKCXBvc2l0aW9uOiByZWxhdGl2ZTsKfQouZHZfbXR7CgltYXJnaW4tdG9wOiA2MHB4Owp9Ci5yZXBvcnRfZXhwb3J0ewoJcG9zaXRpb246IGFic29sdXRlOwoJdG9wOiAyMHB4Owp9Ci5yZXBvcnRfYmxvY2sgLnYtY2FyZC50aGlyZHsKCWJvcmRlcjogbm9uZTsKCWJveC1zaGFkb3c6IG5vbmU7CgltaW4taGVpZ2h0OiA5NHB4OwoJYmFja2dyb3VuZC1jb2xvcjogIzJDQTAxQzsKCWNvbG9yOiAjZmZmOwoJdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKfQoucmVwb3J0X2Jsb2NrIC52LWNhcmQudGhpcmQgcC50ZXh0eyAKCXRleHQtYWxpZ246IGxlZnQ7Cglmb250LXNpemU6IDE2cHg7CgltYXJnaW4tYm90dG9tOiAxMHB4Owp9Ci5yZXBvcnRfYmxvY2sgLnYtY2FyZC50aGlyZCBwLm51bWJlcnsgCgl0ZXh0LWFsaWduOiBjZW50ZXI7IAoJZm9udC1zaXplOiAyNXB4OwoJZm9udC13ZWlnaHQ6IDcwMDsKCXBhZGRpbmctdG9wOiAyNXB4OwoJbWFyZ2luLWJvdHRvbTogMDsKfQoudi10ZXh0LWZpZWxkX19zbG90IGlucHV0ewoJY3Vyc29yOiBwb2ludGVyICFpbXBvcnRhbnQ7Cn0KQG1lZGlhIChtYXgtd2lkdGg6IDU3NnB4KXsKCS5kdl9tdCwgLmR2X210OHsgbWFyZ2luLXRvcDogMDt9CgkucmVwb3J0c19saXN0eyBtYXJnaW4tdG9wOiAwOyB9Cn0K"},{"version":3,"sources":["CashMovement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+iBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CashMovement.vue","sourceRoot":"src/views/budgeting","sourcesContent":["<template>\r\n\t<v-app>\r\n\t\t<v-container>\r\n\t\t\t<v-row>\r\n\t\t\t\t<v-col cols=\"12\" sm=\"12\">\r\n\t\t\t\t\t<div class=\"reports_list\">\r\n\t\t\t\t\t\t<h2>{{$t('cash_movement')}}</h2>\r\n\t\t\t\t\t\t<v-icon \r\n\t\t\t\t\t\t\tonclick=\"window.history.go(-1); return false;\" \r\n\t\t\t\t\t\t\tstyle=\"cursor: pointer; color: #333; font-size: 40px;\"\r\n\t\t\t\t\t\t\tclass=\"float-right\"\r\n\t\t\t\t\t\t>close</v-icon>\r\n\r\n\t\t\t\t\t\t<div class=\"report_filter\">\r\n\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t<v-col sm=\"10\" cols=\"12\">\r\n\t\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t\t<v-col class=\"py-0\" sm=\"3\" cols=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{$t('period')}}</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-select class=\"mt-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:items=\"dateSorters\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@change=\"onSorterChanges\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@click:clear=\"start_date = undefined, end_date = undefined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\t\t\t\ttage=\"Period\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"All\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{$t('account_type')}}</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-select class=\"mt-3 \"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:items=\"account_types\"\r\n\t\t\t\t\t\t\t\t\t\t\t\titem-value=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\titem-text=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"selectedAccountType\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@change=\"onAccountTypeChanges\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tno-data-text=\"No data found.\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttage=\"Account Type\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- <template slot='selection' slot-scope='{ item }'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ item.number }} - {{ item.name }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</template> -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<template slot='item' slot-scope='{ item }'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ item.number }} - {{ item.name }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-select>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t<v-col class=\"py-0\" sm=\"3\" cols=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{$t('from')}}</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<app-datepicker :initialDate=\"start_date\" @emitDate=\"start_date = $event\" />\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{$t('account_group')}}</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-select class=\"mt-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:disabled=\"selectedAccountType === undefined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:items=\"account_groups\"\r\n\t\t\t\t\t\t\t\t\t\t\t\titem-value=\"uuid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\titem-text=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"selectedAccountGroup\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tno-data-text=\"No data found.\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttage=\"Account Group\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t<v-col class=\"py-0\" sm=\"3\" cols=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{$t('to')}}</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<app-datepicker :initialDate=\"end_date\" @emitDate=\"end_date = $event\" />\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<label class=\"label\">{{$t('account')}}</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-select class=\"mt-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:disabled=\"selectedAccountType === undefined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:items=\"accounts\"\r\n\t\t\t\t\t\t\t\t\t\t\t\titem-value=\"uuid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\titem-text=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"selectedAccount\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@change=\"onAccountChanges\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tno-data-text=\"No data found.\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttage=\"Account\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- <template slot='selection' slot-scope='{ item }'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ item.number }} - {{ item.name }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</template> -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<template slot='item' slot-scope='{ item }'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ item.number }} - {{ item.name }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t<v-col  sm=\"2\" cols=\"12\" class=\"dv_mt\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-btn class=\"btn_run_report\" @click=\"search\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{$t('run_report')}}\r\n\t\t\t\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t<v-col sm=\"2\" cols=\"12\" >\r\n\t\t\t\t\t\t\t\t\t<div class=\"report_export\">\r\n\t\t\t\t\t\t\t\t\t\t<p class=\"mb-1\">{{$t('export_as')}}:</p>\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-print\" style=\"font-size:34px; padding-right:6px;\" aria-hidden=\"true\"/>\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-file-excel\"  style=\"font-size:34px;padding-right:6px;\"  aria-hidden=\"true\"/>\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-file-pdf\" style=\"font-size:34px;padding-right:6px;\" aria-hidden=\"true\"/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- loading -->\r\n\t\t\t\t\t\t<LoadingMe \r\n\t\t\t\t\t\t\t:isLoading =\"compeletLoading\" \r\n\t\t\t\t\t\t\t:fullPage  =\"false\" \r\n\t\t\t\t\t\t\t:myLoading =\"true\"/>\r\n\t\t\t\t\r\n\t\t\t\t\t\t<div class=\"report_block\">\r\n\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t<v-col sm=\"9\" cols=\"12\">\r\n\t\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t\t<v-col sm=\"3\" cols=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-tooltip bottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-card class=\"pa-3 third rounded-0\" @click=\"filterAllAccounts\" v-bind=\"attrs\" v-on=\"on\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"text\">{{$t('no_of_account')}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"number\" v-text=\"cashMovementDS.numberOfAccount\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span>Click Me</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t<v-col sm=\"6\" cols=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-tooltip bottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-card class=\"pa-3 third rounded-0\" @click=\"filterAccountNegativeBalance\" v-bind=\"attrs\" v-on=\"on\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"text\">{{$t('no_of_account_with_negative')}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"number\" v-text=\"cashMovementDS.numberOfAccountWithNegativeBalance\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span>Click Me</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"reports_table\">\r\n\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t<v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\r\n\t\t\t\t\t\t\t\t\t<kendo-datasource ref=\"dataSource\"\r\n\t\t\t\t\t\t\t\t\t\t:data=\"cashMovementList\"\r\n\t\t\t\t\t\t\t\t\t\t:group=\"groupDefinition\"\r\n\t\t\t\t\t\t\t\t\t\t:aggregate=\"aggregateDefinition\"\r\n\t\t\t\t\t\t\t\t\t\t:group-paging=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t:page='1'\r\n\t\t\t\t\t\t\t\t\t\t:page-size='100'\r\n\t\t\t\t\t\t\t\t\t\t:total='0'>\r\n\t\t\t\t\t\t\t\t\t</kendo-datasource>\r\n\r\n\t\t\t\t\t\t\t\t\t<kendo-grid class=\"custom_grid\" \r\n\t\t\t\t\t\t\t\t\t\t:data-source-ref=\"'dataSource'\"\r\n\t\t\t\t\t\t\t\t\t\t:groupable=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t:sortable=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t:column-menu=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t:reorderable=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t:resizable=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t:noRecords=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t:navigatable=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t:pageable-always-visible=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t:pageable-page-sizes=\"[20, 50, 100, 'all']\"\r\n\t\t\t\t\t\t\t\t\t\t:toolbar=\"['excel']\"\r\n\t\t\t\t\t\t\t\t\t\t:excel-file-name=\"'cashMovement.xlsx'\"\r\n\t\t\t\t\t\t\t\t\t\t:excel-filterable=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t<kendo-grid-column \r\n\t\t\t\t\t\t\t\t\t\t\t:field=\"'journal_type'\"\r\n\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('type')\"\r\n\t\t\t\t\t\t\t\t\t\t\t:width=\"100\"\r\n\t\t\t\t\t\t\t\t\t\t\t:group-footer-template=\"'Total:'\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<kendo-grid-column \r\n\t\t\t\t\t\t\t\t\t\t\t:field=\"'journal_date'\"\r\n\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('date')\"\r\n\t\t\t\t\t\t\t\t\t\t\t:width=\"100\"\r\n\t\t\t\t\t\t\t\t\t\t\t:format=\"'{0:dd-MM-yyyy}'\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<kendo-grid-column \r\n\t\t\t\t\t\t\t\t\t\t\t:field=\"'journal_number'\" \r\n\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('txn')\"\r\n\t\t\t\t\t\t\t\t\t\t\t:template=\"journalNumberTemplate\"\r\n\t\t\t\t\t\t\t\t\t\t\t:width=\"100\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<kendo-grid-column \r\n\t\t\t\t\t\t\t\t\t\t\t:field=\"'description'\"\r\n\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('description')\"\r\n\t\t\t\t\t\t\t\t\t\t\t:width=\"150\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<kendo-grid-column \r\n\t\t\t\t\t\t\t\t\t\t\t:field=\"'name'\"\r\n\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{class:'tb_name_td'}\"\r\n\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('name')\"\r\n\t\t\t\t\t\t\t\t\t\t\t:width=\"140\"\r\n\t\t\t\t\t\t\t\t\t\t\t:hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<kendo-grid-column \r\n\t\t\t\t\t\t\t\t\t\t\t:field=\"'account'\"\r\n\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('account')\"\r\n\t\t\t\t\t\t\t\t\t\t\t:width=\"140\"\r\n\t\t\t\t\t\t\t\t\t\t\t:hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t:group-header-template=\"'#=value#'\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<kendo-grid-column \r\n\t\t\t\t\t\t\t\t\t\t\t:field=\"'dr'\" \r\n\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('in')\"\r\n\t\t\t\t\t\t\t\t\t\t\t:format=\"'{0:n}'\"\r\n\t\t\t\t\t\t\t\t\t\t\t:width=\"110\"\r\n\t\t\t\t\t\t\t\t\t\t\t:aggregates=\"['sum']\"\r\n\t\t\t\t\t\t\t\t\t\t\t:group-footer-template=\"'<div style=text-align:right>#=kendo.toString(sum, `n`)#</div>'\"\r\n\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right;'\r\n\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right;'\r\n\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<kendo-grid-column \r\n\t\t\t\t\t\t\t\t\t\t\t:field=\"'cr'\" \r\n\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('out')\"\r\n\t\t\t\t\t\t\t\t\t\t\t:format=\"'{0:n}'\"\r\n\t\t\t\t\t\t\t\t\t\t\t:width=\"110\"\r\n\t\t\t\t\t\t\t\t\t\t\t:aggregates=\"['sum']\"\r\n\t\t\t\t\t\t\t\t\t\t\t:group-footer-template=\"'<div style=text-align:right>#=kendo.toString(sum, `n`)#</div>'\"\r\n\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right;'\r\n\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right;'\r\n\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<kendo-grid-column \r\n\t\t\t\t\t\t\t\t\t\t\t:field=\"'balance'\"\r\n\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('balance')\"\r\n\t\t\t\t\t\t\t\t\t\t\t:format=\"'{0:n}'\"\r\n\t\t\t\t\t\t\t\t\t\t\t:width=\"140\"\r\n\t\t\t\t\t\t\t\t\t\t\t:group-header-column-template=\"openBalanceTemplate\"\r\n\t\t\t\t\t\t\t\t\t\t\t:groupHeaderColumnAttributes=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right; '\r\n\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right; '\r\n\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t:attributes=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'text-align: right'\r\n\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</kendo-grid>\r\n\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</v-col>\r\n\t\t\t</v-row>\r\n\t\t</v-container>\r\n\t</v-app>\r\n</template>\r\n\r\n<script>\r\n\timport kendo from '@progress/kendo-ui'\r\n\timport LoadingMe from '@/components/Loading'\r\n\timport DatePickerComponent from '@/components/custom_templates/DatePickerComponent'\r\n\timport LinkTemplate from \"@/components/kendo_templates/LinkTemplate\"\r\n\t\r\n\tconst $ \t\t\t\t\t= require(\"jquery\")\r\n\t\r\n\t/* Cookie */\r\n\tconst cookieJS = require(\"@/cookie.js\");\r\n\tconst { instituteId } = cookieJS.getCookie();\r\n\r\n\tconst accountTypeHandler\t= require(\"@/scripts/handler/accounting/accountType.js\")\r\n\tconst accountGroupHandler\t= require(\"@/scripts/handler/accounting/accountGroup.js\")\r\n\tconst accountHandler\t\t= require(\"@/scripts/handler/accounting/account.js\")\r\n\tconst cashMovementHandler\t= require(\"@/scripts/cashMovementHandler.js\")\r\n\tconst { dateSorters } = require(\"@/scripts/default_setup/DateSearch.js\");\r\n\t\r\n\texport default {\r\n\t\tname: \"CashMovement\",\r\n\t\tcomponents:{\r\n\t\t\t'LoadingMe'\t\t\t: LoadingMe,\r\n\t\t\t'app-datepicker' \t: DatePickerComponent,\r\n\t\t},\r\n\t\tdata: () => ({\r\n\t\t\tstart_date \t\t: '',\r\n\t\t\tend_date \t\t: '',\r\n\t\t\t// LoadingMe\r\n\t\t\tcompeletLoading : false,\r\n\t\t\tdateSorters \t: dateSorters,\r\n\t\t\taccount_types \t: [],\r\n\t\t\taccount_groups \t: [],\r\n\t\t\taccounts \t\t: [],\r\n\t\t\thasQueryString \t: false,\r\n\t\t\tselectedAccountType \t: undefined,\r\n\t\t\tselectedAccountGroup \t: undefined,\r\n\t\t\tselectedAccount \t\t: undefined,\r\n\t\t\tcashMovementDS : [],\r\n\t\t\tcashMovementList \t: [],\r\n\t\t\t// Kendo dataSource\r\n\t\t\tgroupDefinition: {\r\n                field: \"account\",\r\n                aggregates: [\r\n                    { field: \"dr\", aggregate: \"sum\" },\r\n\t\t\t\t\t{ field: \"cr\", aggregate: \"sum\" },\r\n                ]\r\n            },\r\n            aggregateDefinition: [\r\n                { field: \"dr\", aggregate: \"sum\" },\r\n\t\t\t\t{ field: \"cr\", aggregate: \"sum\" },\r\n\t\t\t\t{ field: \"balance\", aggregate: \"sum\" },\r\n\t\t\t],\r\n\t\t}),\r\n\t\tmethods:  {\r\n\t\t\t/* KENDO */\r\n\t\t\tjournalNumberTemplate (data) {\r\n\t\t\t\tlet args = {\r\n\t\t\t\t\ttext \t: data.journal_number,\r\n\t\t\t\t\turl \t: `journal/view/${data.id}`,\r\n\t\t\t\t\tdata \t: data,\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttemplate\t: LinkTemplate,\r\n\t\t\t\t\ttemplateArgs: args\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\topenBalanceTemplate (data) {\r\n\t\t\t\tlet openBal = data.items[0].openBal\r\n\r\n\t\t\t\tif(openBal > 0){\r\n\t\t\t\t\treturn '<div style=text-align:right>' + kendo.toString(openBal, 'n') + '</div>'\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// On Sorter Changes\r\n\t\t\tonSorterChanges (val) {\r\n\t\t\t\tlet today = new Date()\r\n\r\n\t\t\t\tswitch (val) {\r\n\t\t\t\t\tcase \"Today\":\r\n\t\t\t\t\t\tthis.start_date = kendo.toString(today, 'yyyy-MM-dd')\r\n\t\t\t\t\t\tthis.end_date = kendo.toString(today, 'yyyy-MM-dd')\r\n\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase \"This Week\":\r\n\t\t\t\t\t\tvar first = today.getDate() - today.getDay(),\r\n\t\t\t\t\t\t\tlast = first + 6;\r\n\r\n\t\t\t\t\t\tthis.start_date = kendo.toString(new Date(today.setDate(first)), 'yyyy-MM-dd')\r\n\t\t\t\t\t\tthis.end_date = kendo.toString(new Date(today.setDate(last)), 'yyyy-MM-dd')\r\n\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase \"This Month\":\r\n\t\t\t\t\t\tthis.start_date = kendo.toString(new Date(today.getFullYear(), today.getMonth(), 1), 'yyyy-MM-dd')\r\n\t\t\t\t\t\tthis.end_date = kendo.toString(new Date(today.getFullYear(), today.getMonth(), 31), 'yyyy-MM-dd')\r\n\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase \"This Year\":\r\n\t\t\t\t\t\tthis.start_date = kendo.toString(new Date(today.getFullYear(), 0, 1), 'yyyy-MM-dd')\r\n\t\t\t\t\t\tthis.end_date = kendo.toString(new Date(today.getFullYear(), 11, 31), 'yyyy-MM-dd')\r\n\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthis.start_date = \"\";\r\n\t\t\t\t\t\tthis.end_date = \"\";\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// On Account Type Changes\r\n\t\t\tonAccountTypeChanges () {\r\n\t\t\t\t// Clear data\r\n\t\t\t\tthis.account_groups = [];\r\n\t\t\t\tthis.accounts = [];\r\n\t\t\t\tthis.selectedAccountGroup = undefined;\r\n\t\t\t\tthis.selectedAccount = undefined;\r\n\r\n\t\t\t\tlet accountTypeNumber = this.selectedAccountType;\r\n\t\t\t\t// Account Group by Account Type\r\n\t\t\t\taccountGroupHandler.getByAccountType({\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tacc_type_code: accountTypeNumber\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif(res.data.length > 0){\r\n\t\t\t\t\t\tthis.account_groups = res.data\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Account by Account Type\r\n\t\t\t\taccountHandler.getAccountByAccountTypeNumber(accountTypeNumber)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif(res.data.length > 0){\r\n\t\t\t\t\t\tthis.accounts = res.data\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Filter by account type\r\n\t\t\t\tif(this.selectedAccountType && this.cashMovementList.length > 0){\r\n\t\t\t\t\tthis.filterByAccountType()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// Search Transaction\r\n\t\t\tsearch () {\r\n\t\t\t\tlet self = this,\r\n\t\t\t\t\tsdate = this.start_date,\r\n\t\t\t\t\tedate = this.end_date;\r\n\t\t\t\t\r\n\t\t\t\tif(sdate && edate){\r\n\t\t\t\t\tsdate = kendo.toString(new Date(sdate), 'yyyy-MM-dd') + 'T00:00:00.000Z'\r\n\r\n\t\t\t\t\tedate = new Date(edate)\r\n\t\t\t\t\tedate = kendo.toString(edate, 'yyyy-MM-dd') + 'T23:59:59.999Z'\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsdate = 0\r\n\t\t\t\t\tedate = 0\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Empty dataSource\r\n\t\t\t\tvar ds = this.$refs.dataSource.kendoWidget()\r\n\t\t\t\tds.data([])\r\n\r\n\t\t\t\tthis.compeletLoading = true\r\n\t\t\t\tcashMovementHandler.getCashMovement({\r\n\t\t\t\t\tparams : {\r\n\t\t\t\t\t\tinstitute_id \t: instituteId,\r\n\t\t\t\t\t\tstart_date \t\t: sdate,\r\n\t\t\t\t\t\tend_date \t\t: edate,\r\n\t\t\t\t\t\t//account_type_code : 0,\r\n\t\t\t\t\t\t//account_group_uuid : 0,\r\n\t\t\t\t\t\t//account_uuid \t: 0, \r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif(res){\r\n\t\t\t\t\t\tthis.cashMovementDS = res\r\n\t\t\t\t\t\tthis.cashMovementList = res.lines\r\n\r\n\t\t\t\t\t\tif(this.hasQueryString){\r\n\t\t\t\t\t\t\t/* Set to default = false */\r\n\t\t\t\t\t\t\tthis.hasQueryString = false\r\n\r\n\t\t\t\t\t\t\tthis.filterByAccount()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// Clear cashMovementDS\r\n\t\t\t\t\t\tthis.cashMovementDS = []\r\n\t\t\t\t\t\tthis.cashMovementList = []\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.finally(function () {\r\n\t\t\t\t\tself.compeletLoading = false\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// Filter account negative balance\r\n\t\t\tasync filterAccountNegativeBalance () {\r\n\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\tresolve('resolved')\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(this.cashMovementDS.numberOfAccountWithNegativeBalance > 0){\r\n\t\t\t\t\t\tthis.cashMovementList = this.cashMovementDS.lines.filter(\r\n\t\t\t\t\t\t\tm => (m.dr < 0 || m.cr < 0)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// Filter by account type\r\n\t\t\tasync filterByAccountType () {\r\n\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\tresolve('resolved')\r\n\r\n\t\t\t\t\tthis.cashMovementList = this.cashMovementDS.lines.filter(\r\n\t\t\t\t\t\tm => (m.account_type.number == this.selectedAccountType)\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// On account group changes\r\n\t\t\tonAccountGroupChanges () {\r\n\t\t\t\t// Filter by account type\r\n\t\t\t\tif(this.selectedAccountGroup && this.cashMovementList.length > 0){\r\n\t\t\t\t\tthis.filterByAccount()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// Filter by account group\r\n\t\t\tasync filterByAccountGroup () {\r\n\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\tresolve('resolved')\r\n\r\n\t\t\t\t\tthis.cashMovementList = this.cashMovementDS.lines.filter(\r\n\t\t\t\t\t\tm => (m.account_group.uuid == this.selectedAccountGroup)\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// On account changes\r\n\t\t\tonAccountChanges () {\r\n\t\t\t\t// Filter by account type\r\n\t\t\t\tif(this.selectedAccount && this.cashMovementList.length > 0){\r\n\t\t\t\t\tthis.filterByAccount()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// Filter by account\r\n\t\t\tasync filterByAccount () {\r\n\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\tresolve('resolved')\r\n\r\n\t\t\t\t\tthis.cashMovementList = this.cashMovementDS.lines.filter(\r\n\t\t\t\t\t\tm => (m.account_id == this.selectedAccount)\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// Filter all accounts\r\n\t\t\tasync filterAllAccounts () {\r\n\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\tresolve('resolved')\r\n\r\n\t\t\t\t\tthis.selectedAccountType \t= undefined\r\n\t\t\t\t\tthis.selectedAccountGroup \t= undefined\r\n\t\t\t\t\tthis.selectedAccount \t\t= undefined\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.cashMovementList = this.cashMovementDS.lines\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// Load Obj\r\n\t\t\tloadObj () {\r\n\t\t\t\tlet q = this.$route.query\r\n\t\t\t\tif($.isEmptyObject(q) === false){\r\n\t\t\t\t\tthis.hasQueryString = true\r\n\t\t\t\t\tthis.selectedAccount = q.account_id\r\n\t\t\t\t\tthis.start_date =  q.start_date\r\n\t\t\t\t\tthis.end_date = q.end_date\r\n\t\t\t\t\tthis.search()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t// call again the method if the route changes\r\n\t\t\t'$route': 'loadObj'\r\n\t\t},\r\n\t\tcreated () {\r\n\t\t\t// fetch the data when the view is created and the data is\r\n\t\t\t// already being observed\r\n\t\t\tthis.loadObj()\r\n\t\t},\r\n\t\tmounted () {\r\n\t\t\t// Call Account Type\r\n\t\t\taccountTypeHandler.getAll()\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.account_types = res.filter(m => (m.number == 1 || m.number == 5))\r\n\t\t\t})\r\n\t\t},\r\n\t};\r\n</script>\r\n<style scoped>\r\n\t.result{\r\n\t\tposition: relative;\r\n\t}\r\n\t.reports_list{\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #fff;\r\n\t\tpadding: 20px 20px 5px; \r\n\t}\r\n\t.report_filter{\r\n\t\tbackground-color: #EDF1F5;\r\n\t\tpadding: 0 20px 5px 20px;\r\n\t\tposition: relative;\r\n\t}\r\n\t.dv_mt{\r\n\t\tmargin-top: 60px;\r\n\t}\r\n\t.report_export{\r\n\t\tposition: absolute;\r\n\t\ttop: 20px;\r\n\t}\r\n\t.report_block .v-card.third{\r\n\t\tborder: none;\r\n\t\tbox-shadow: none;\r\n\t\tmin-height: 94px;\r\n\t\tbackground-color: #2CA01C;\r\n\t\tcolor: #fff;\r\n\t\ttext-transform: uppercase;\r\n\t}\r\n\t.report_block .v-card.third p.text{ \r\n\t\ttext-align: left;\r\n\t\tfont-size: 16px;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\t.report_block .v-card.third p.number{ \r\n\t\ttext-align: center; \r\n\t\tfont-size: 25px;\r\n\t\tfont-weight: 700;\r\n\t\tpadding-top: 25px;\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n\t.v-text-field__slot input{\r\n\t\tcursor: pointer !important;\r\n\t}\r\n\t@media (max-width: 576px){\r\n\t\t.dv_mt, .dv_mt8{ margin-top: 0;}\r\n\t\t.reports_list{ margin-top: 0; }\r\n\t}\r\n</style>"]}]}