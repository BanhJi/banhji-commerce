{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/finances/Reports.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/finances/Reports.vue","mtime":1638499443233},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgkvLyBpbXBvcnQge2kxOG59IGZyb20gJ0AvaTE4bic7CglpbXBvcnQga2VuZG8gZnJvbSAnQHByb2dyZXNzL2tlbmRvLXVpJwoJaW1wb3J0IHsgbG9hbkhhbmRsZXIgfSBmcm9tICJAL3NjcmlwdHMvQXBwSGFuZGxlcnMiOwoJCgljb25zdCB7IExvYW5TdGF0dXMgfSA9IHJlcXVpcmUoIkAvc2NyaXB0cy9kZWZhdWx0X3NldHVwL0NvbGxlY3Rpb25zIik7CgogICAgZXhwb3J0IGRlZmF1bHQgewogICAgICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgICAgIC8qIE9iaiAqLwoJCQlsb2FuSW5mbyAJOiB7fSwKCQkJbG9hbnMgCQk6IFtdLAoJCQlsb2Fuc0JLIAk6IFtdLAogICAgICAgIH0pLAogICAgICAgIG1ldGhvZHM6IHsKICAgICAgICAgICAgbG9hZEluc2lnaHQgKCkgewogICAgICAgICAgICAgICAgbG9hbkhhbmRsZXIuZ2V0SW5zaWdodCgpCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMubG9hbkluZm8gPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIH0pOwoJCQl9LAoJCQlsb2FkTG9hbnMgKCkgewogICAgICAgICAgICAgICAgbG9hbkhhbmRsZXIuZ2V0QWxsKCkKICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CgkJCQkJaWYocmVzLmRhdGEpewoJCQkJCQl0aGlzLmxvYW5zID0gcmVzLmRhdGE7CgkJCQkJCXRoaXMubG9hbnNCSyA9IHJlcy5kYXRhOwoJCQkJCX0KICAgICAgICAgICAgICAgIH0pOwoJCQl9LAoJCQkvLyBSb3cgTnVtYmVyIFRlbXBsYXRlCgkJCXJvd051bWJlclRtcGwgKGRhdGFJdGVtKSB7CgkJCQlsZXQgZHMgPSB0aGlzLiRyZWZzLmxvYW5EUy5rZW5kb1dpZGdldCgpLAoJCQkJCWluZGV4ID0gZHMuaW5kZXhPZihkYXRhSXRlbSk7CgoJCQkJcmV0dXJuIGluZGV4ICsgMQoJCQl9LAoJCQlkYXRlVG1wbChkYXRhSXRlbSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKGRhdGFJdGVtLmRhdGUpLCAiZGQtTU0teXl5eSIpOwoJCQl9LAoJCQkvKiBGaWx0ZXIgQWN0aXZlIExvYW4gKi8KCQkJZmlsdGVyQWN0aXZlTG9hbiAoKSB7CgkJCQl0aGlzLmxvYW5zID0gdGhpcy5sb2Fuc0JLLmZpbHRlcigKCQkJCQl2YWx1ZSA9PiB2YWx1ZS5zdGF0dXMgPT09IExvYW5TdGF0dXMuQUNUSVZFCgkJCQkpCgkJCX0sCgkJCWZpbHRlck91dHN0YW5kaW5nQmFsYW5jZSAoKSB7CgkJCQl0aGlzLmxvYW5zID0gdGhpcy5sb2Fuc0JLLmZpbHRlcigKCQkJCQl2YWx1ZSA9PiB2YWx1ZS5vdXRzdGFuZGluZ19hbW91bnQgPiAwCgkJCQkpCgkJCX0sCgkJCWZpbHRlckF2YWlsYWJsZUNyZWRpdCAoKSB7CgkJCQl0aGlzLmxvYW5zID0gdGhpcy5sb2Fuc0JLLmZpbHRlcigKCQkJCQl2YWx1ZSA9PiB2YWx1ZS5hdmFpbGFibGVfY3JlZGl0ID4gMAoJCQkJKQoJCQl9LAoJCQlyZWZyZXNoRmlsdGVyICgpIHsKCQkJCXRoaXMubG9hbnMgPSB0aGlzLmxvYW5zQks7CgkJCX0KICAgICAgICB9LAogICAgICAgIG1vdW50ZWQoKSB7CgkJCXRoaXMubG9hZEluc2lnaHQoKTsKCQkJdGhpcy5sb2FkTG9hbnMoKTsKICAgICAgICB9LAogICAgfTsK"},{"version":3,"sources":["Reports.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Reports.vue","sourceRoot":"src/views/finances","sourcesContent":["<template>\n    <v-row>\n        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n\t\t\t<v-row class=\"report_block\">\n\t\t\t\t<v-col sm=\"6\" cols=\"12\">\n\t\t\t\t\t<v-row>\n\t\t\t\t\t\t<v-col sm=\"6\" cols=\"12\">\n\t\t\t\t\t\t\t<v-card color=\"primary\" outlined dense class=\"pa-3 rounded-0\" height=\"100px\" @click=\"filterActiveLoan\">\n\t\t\t\t\t\t\t\t<p class=\"text-white font_18 text-uppercase\">{{$t('no_of_loans')}}</p>\n\t\t\t\t\t\t\t\t<p class=\"text-white mt-7 text-bold font_22 mb-0 text-right\">{{ Number(loanInfo.acitve_loan).toLocaleString() }}</p>\n\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t<v-col sm=\"6\" cols=\"12\">\n                            <v-card color=\"primary\" outlined dense class=\"pa-3 rounded-0\" height=\"100px\">\n                                <p class=\"text-white mb-2 font_18 text-uppercase\">{{$t('average_interest_rate')}}</p>\n                                <p class=\"text-white text-bold font_22 mb-0 text-right\">{{ Number(loanInfo.weighted_avg_int_rate_outstanding).toLocaleString() }}</p>\n\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t</v-col>\n\t\t\t\t\t</v-row>\n\t\t\t\t</v-col>\n\t\t\t\t<v-col sm=\"4\" cols=\"12\" class=\"mt-3\">\n                    <v-card color=\"primary\" outlined dense class=\"pa-3 mb-2 rounded-0\" height=\"45px\" @click=\"filterOutstandingBalance\">\n\t\t\t\t\t\t<p class=\"float-left text-white font_14 text-uppercase\">{{$t('outstanding_balance')}}</p>\n\t\t\t\t\t\t<p class=\" float-right text-white text-bold font_16 mb-0\">{{ Number(loanInfo.outstanding_amount).toLocaleString() }}</p>\n\t\t\t\t\t</v-card>\n                    <v-card color=\"primary\" outlined dense class=\"pa-3 rounded-0\" height=\"45px\" @click=\"filterAvailableCredit\">\n\t\t\t\t\t\t<p class=\"float-left text-white font_14 text-uppercase\">{{$t('available_credit')}}</p>\n\t\t\t\t\t\t<p class=\" float-right text-white text-bold font_16 mb-0\">{{ Number(loanInfo.available_credit).toLocaleString() }}</p>\n\t\t\t\t\t</v-card>\n\t\t\t\t</v-col>\n\t\t\t\t<v-col sm=\"2\" cols=\"12\" class=\"pb-0 mt-10\">\n                    <v-btn\n                            icon\n                            color=\"black\"\n                            class=\"bg-none float-right ml-4\"\n                    >\n                        <v-icon class=\"font_34\">fa fa-print</v-icon>\n                    </v-btn>\n                    <v-btn\n                            icon\n                            color=\"black\"\n                            class=\"bg-none float-right ml-4\"\n                    >\n                        <v-icon class=\"font_34\">fa fa-file-excel</v-icon>\n                    </v-btn>\n                    <v-btn\n                            icon\n                            color=\"black\"\n                            class=\"bg-none float-right\"\n                    >\n                        <v-icon class=\"font_34\">fa fa-file-pdf</v-icon>\n                    </v-btn>\n\t\t\t\t</v-col>\n\t\t\t</v-row>\n\n\t\t\t<v-row>\n\t\t\t\t<v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n\t\t\t\t\t<v-btn @click=\"refreshFilter\" color=\"primary\" class=\"white--text text-capitalize mb-3\">\n\t\t\t\t\t\t<v-icon>mdi-cached</v-icon> {{$t('refresh')}}\n\t\t\t\t\t</v-btn>\n\t\t\t\t\t<kendo-datasource \n\t\t\t\t\t\tref=\"loanDS\"\n\t\t\t\t\t\t:data=\"loans\"\n\t\t\t\t\t\tpage=\"1\"\n\t\t\t\t\t\tpage-size=\"20\" />\n\n\t\t\t\t\t<kendo-grid id=\"loanGrid\"\n\t\t\t\t\t\t:data-source-ref=\"'loanDS'\"\n\t\t\t\t\t\t:noRecords=\"true\"\n\t\t\t\t\t\t:pageable-page-sizes=\"true\"\n\t\t\t\t\t\t:pageable-button-count=\"5\">\n\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t:title=\"$t('no.')\"\n\t\t\t\t\t\t\t:template=\"rowNumberTmpl\"\n\t\t\t\t\t\t\t:width=\"50\"\n\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5;',\n\t\t\t\t\t\t\t\tclass: 'text-products;'\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t:attributes=\"{\n\t\t\t\t\t\t\t\tstyle: 'text-align: center'\n\t\t\t\t\t\t\t}\"/>\n\t\t\t\t\t\t<kendo-grid-column \n\t\t\t\t\t\t\t:field=\"'number'\"\n\t\t\t\t\t\t\t:title=\"$t('number')\"\n\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\tstyle: 'text-align: center; background-color: #EDF1F5; width: 90px; height: 45px',\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t:attributes=\"{ style: 'text-align: center; width: 90px' }\" />\n\t\t\t\t\t\t<kendo-grid-column \n\t\t\t\t\t\t\t:field=\"'type'\"\n\t\t\t\t\t\t\t:title=\"$t('type_of_debt')\"\n\t\t\t\t\t\t\t:template=\"'<span>#=type.name#</span>'\"\n\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\tstyle: 'text-align: center; background-color: #EDF1F5; width: 120px;',\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t:attributes=\"{ style: 'text-align: center; width: 120px;' }\" />\n\t\t\t\t\t\t<kendo-grid-column \n\t\t\t\t\t\t\t:field=\"'bank'\"\n\t\t\t\t\t\t\t:title=\"$t('financial_inst')\"\n\t\t\t\t\t\t\t:template=\"'<span>#=bank.name#</span>'\"\n\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\tstyle: 'text-align: center; background-color: #EDF1F5; width: 160px;',\n\t\t\t\t\t\t\t}\"\n                            :attributes=\"{ style: 'width: 160px;' }\" />\n\t\t\t\t\t\t<kendo-grid-column\n\t\t\t\t\t\t\t:field=\"'approved_amount'\"\n\t\t\t\t\t\t\t:title=\"$t('approved_amount')\"\n\t\t\t\t\t\t\t:format=\"'{0:n}'\"\n\t\t\t\t\t\t\t:width=\"150\"\n\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\tstyle: 'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t:attributes=\"{ style: 'text-align: right;' }\" />\n\t\t\t\t\t\t<kendo-grid-column \n\t\t\t\t\t\t\t:field=\"'outstanding_amount'\"\n\t\t\t\t\t\t\t:title=\"$t('outstanding_amount')\"\n\t\t\t\t\t\t\t:format=\"'{0:n}'\"\n\t\t\t\t\t\t\t:width=\"150\"\n\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\tstyle: 'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t:attributes=\"{ style: 'text-align: right;' }\" />\n\t\t\t\t\t\t<kendo-grid-column \n\t\t\t\t\t\t\t:field=\"'available_credit'\"\n\t\t\t\t\t\t\t:title=\"$t('available_credit')\"\n\t\t\t\t\t\t\t:format=\"'{0:n}'\"\n\t\t\t\t\t\t\t:width=\"150\"\n\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\tstyle: 'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t:attributes=\"{ style: 'text-align: right;' }\" />\n\t\t\t\t\t\t<kendo-grid-column \n\t\t\t\t\t\t\t:field=\"'interest_rate'\"\n\t\t\t\t\t\t\t:title=\"$t('interest_rate')\"\n\t\t\t\t\t\t\t:format=\"'{0:n}'\"\n\t\t\t\t\t\t\t:width=\"150\"\n\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\tstyle: 'text-align: right; background-color: #EDF1F5',\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t:attributes=\"{ style: 'text-align: right;' }\" />\n\t\t\t\t\t</kendo-grid>\n\t\t\t\t</v-col>\n\t\t\t</v-row>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\n\t// import {i18n} from '@/i18n';\n\timport kendo from '@progress/kendo-ui'\n\timport { loanHandler } from \"@/scripts/AppHandlers\";\n\t\n\tconst { LoanStatus } = require(\"@/scripts/default_setup/Collections\");\n\n    export default {\n        data: () => ({\n            /* Obj */\n\t\t\tloanInfo \t: {},\n\t\t\tloans \t\t: [],\n\t\t\tloansBK \t: [],\n        }),\n        methods: {\n            loadInsight () {\n                loanHandler.getInsight()\n                .then(res => {\n                    this.loanInfo = res.data;\n                });\n\t\t\t},\n\t\t\tloadLoans () {\n                loanHandler.getAll()\n                .then(res => {\n\t\t\t\t\tif(res.data){\n\t\t\t\t\t\tthis.loans = res.data;\n\t\t\t\t\t\tthis.loansBK = res.data;\n\t\t\t\t\t}\n                });\n\t\t\t},\n\t\t\t// Row Number Template\n\t\t\trowNumberTmpl (dataItem) {\n\t\t\t\tlet ds = this.$refs.loanDS.kendoWidget(),\n\t\t\t\t\tindex = ds.indexOf(dataItem);\n\n\t\t\t\treturn index + 1\n\t\t\t},\n\t\t\tdateTmpl(dataItem) {\n                return kendo.toString(new Date(dataItem.date), \"dd-MM-yyyy\");\n\t\t\t},\n\t\t\t/* Filter Active Loan */\n\t\t\tfilterActiveLoan () {\n\t\t\t\tthis.loans = this.loansBK.filter(\n\t\t\t\t\tvalue => value.status === LoanStatus.ACTIVE\n\t\t\t\t)\n\t\t\t},\n\t\t\tfilterOutstandingBalance () {\n\t\t\t\tthis.loans = this.loansBK.filter(\n\t\t\t\t\tvalue => value.outstanding_amount > 0\n\t\t\t\t)\n\t\t\t},\n\t\t\tfilterAvailableCredit () {\n\t\t\t\tthis.loans = this.loansBK.filter(\n\t\t\t\t\tvalue => value.available_credit > 0\n\t\t\t\t)\n\t\t\t},\n\t\t\trefreshFilter () {\n\t\t\t\tthis.loans = this.loansBK;\n\t\t\t}\n        },\n        mounted() {\n\t\t\tthis.loadInsight();\n\t\t\tthis.loadLoans();\n        },\n    };\n</script>\n\n<style scoped>\n\t.attachment_table table tr th{\n\t\theight: 55px !important;\n\t}\n    @media (max-width: 576px) {\n    }\n</style>\n"]}]}