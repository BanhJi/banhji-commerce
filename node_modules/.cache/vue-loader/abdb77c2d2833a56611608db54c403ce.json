{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/CompanyCustomer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/customers/CompanyCustomer.vue","mtime":1638760538969},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7aTE4bn0gZnJvbSAiQC9pMThuIjsKaW1wb3J0IERhdGVQaWNrZXJDb21wb25lbnQgZnJvbSAiQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvRGF0ZVBpY2tlckNvbXBvbmVudCI7CmltcG9ydCB7dXVpZH0gZnJvbSAidnVlLXV1aWQiOwppbXBvcnQgQ3VzdG9tZXJNb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQ3VzdG9tZXIiOwppbXBvcnQgQ29tcGFueUN1c3RvbWVyTW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL0NvbXBhbnlDdXN0b21lciI7CmltcG9ydCB7ZGF0YVN0b3JlfSBmcm9tICJAL29ic2VydmFibGUvc3RvcmUiOwoKY29uc3QgY3VzdG9tZXJNb2RlbCA9IG5ldyBDdXN0b21lck1vZGVsKHt9KTsKY29uc3QgYWNjb3VudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaGFuZGxlci9hY2NvdW50aW5nL2FjY291bnQiKTsKY29uc3QgY3VzdG9tZXJIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2N1c3RvbWVySGFuZGxlciIpOwpjb25zdCBjdXN0b21lclR5cGVIYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2N1c3RvbWVyVHlwZUhhbmRsZXIiKTsKY29uc3Qgc2V0dGluZ0hhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvc2V0dGluZ0hhbmRsZXIiKTsKY29uc3QgcGF5bWVudE9wdGlvbkhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcGF5bWVudE9wdGlvbkhhbmRsZXIiKTsKY29uc3QgcGF5bWVudFRlcm1IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3BheW1lbnRUZXJtSGFuZGxlciIpOwpjb25zdCBvdGhlckhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvb3RoZXJIYW5kbGVyIik7CmNvbnN0IHdhcmVob3VzZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvd2FyZWhvdXNlSGFuZGxlciIpOwpjb25zdCBwcmljZUxldmVsSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcmljZUxldmVsSGFuZGxlciIpOwpjb25zdCBkaXNjb3VudEl0ZW1IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2Rpc2NvdW50SXRlbUhhbmRsZXIiKTsKY29uc3QgY3VzdG9tZXJHcm91cEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvY3VzdG9tZXJHcm91cEhhbmRsZXIiKTsKLy8gaW1wb3J0IHsgRHJvcERvd25MaXN0IH0gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXZ1ZS1kcm9wZG93bnMiOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKCmNvbnN0IGluc3RpdHV0ZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaW5zdGl0dXRlSGFuZGxlciIpOwppbXBvcnQge0VkaXRvcn0gZnJvbSAiQHByb2dyZXNzL2tlbmRvLWVkaXRvci12dWUtd3JhcHBlciI7CmltcG9ydCBQYXltZW50T3B0aW9uTW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL1BheW1lbnRPcHRpb24iOwppbXBvcnQge1BBWU1FTlRfT1BJTklPTl9UWVBFfSBmcm9tICJAL3NjcmlwdHMvZGVmYXVsdF9zZXR1cC9TZXR0aW5nIjsKCmNvbnN0ICQgPSByZXF1aXJlKCJqcXVlcnkiKTsKY29uc3QgdGV4dEZpZWxkID0gIm5hbWUiOwpjb25zdCBrZXlGaWVsZCA9ICJpZCI7CmNvbnN0IGRlZmF1bHRJdGVtID0ge1t0ZXh0RmllbGRdOiAiU2VsZWN0IGN1c3RvbWVyLi4uIiwgW2tleUZpZWxkXTogbnVsbH07CmNvbnN0IGVtcHR5SXRlbSA9IHtbdGV4dEZpZWxkXTogImxvYWRpbmcgLi4uIn07CmNvbnN0IHBhZ2VTaXplID0gMTA7Cgpjb25zdCBsb2FkaW5nRGF0YSA9IFtdOwp3aGlsZSAobG9hZGluZ0RhdGEubGVuZ3RoIDwgcGFnZVNpemUpIHsKICAgIGxvYWRpbmdEYXRhLnB1c2goey4uLmVtcHR5SXRlbX0pOwp9CmNvbnN0IGNvb2tpZUpTID0gcmVxdWlyZSgiQC9jb29raWUuanMiKTsKY29uc3QgY29va2llID0gY29va2llSlMuZ2V0Q29va2llKCk7CmNvbnN0IGluc3RpdHV0ZUlkID0gY29va2llLmluc3RpdHV0ZUlkOwoKY29uc3QgT1BUSU9OX1RZUEUgPSAiP3R5cGU9U2FsZSI7CmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJDb21wYW55Q3VzdG9tZXIiLAogICAgcHJvcHM6IFsiaWQiXSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBMb2FkaW5nTWU6ICgpID0+IGltcG9ydChgQC9jb21wb25lbnRzL0xvYWRpbmdgKSwKICAgICAgICAiYXBwLWRhdGVwaWNrZXIiOiBEYXRlUGlja2VyQ29tcG9uZW50LAogICAgICAgIC8vIGRyb3Bkb3dubGlzdDogRHJvcERvd25MaXN0LAogICAgICAgIGVkaXRvcjogRWRpdG9yLAogICAgfSwKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgICBpc0hpZGVCYXI6IGZhbHNlLAogICAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgICBsb2FkaW5nQWxlcnQ6IGZhbHNlLAogICAgICAgIGxvYWRpbmdDb2xvckFsZXJ0OiAiIiwKICAgICAgICBsb2FkaW5nVGV4dEFsZXJ0OiAiIiwKICAgICAgICBkaWFsb2dNMjogZmFsc2UsCiAgICAgICAgZGlhbG9nTTM6IGZhbHNlLAogICAgICAgIGFsZXJ0OiBmYWxzZSwKICAgICAgICBhZGRyZXNzVHlwZTogWyJCaWxsaW5nIiwgIkRlbGl2ZXJ5IiwgIkNvbnRhY3QiXSwKICAgICAgICBkZWxpdmVyeU1ldGhvZDogW10sCiAgICAgICAgdmFsaWQ6IHRydWUsCiAgICAgICAgY3VzdG9tZXI6IGN1c3RvbWVyTW9kZWwsCiAgICAgICAgY3VzdG9tZXJUeXBlczogW10sCiAgICAgICAgc3ViT2ZDdXN0b21lckl0ZW06IFtdLAogICAgICAgIHN1Yk9mQ3VzdG9tZXI6IFtdLAogICAgICAgIGJpbGxCeVBhcmVudDogW10sCiAgICAgICAgY29udGFjdEFkZHJlc3M6IFtdLAogICAgICAgIHBheW1lbnRCaWxsaW5nOiBbXSwKICAgICAgICBhY2NvdW50VGF4OiBbXSwKICAgICAgICBjdXN0b21lckxpc3Q6IFtdLAogICAgICAgIGRlZmF1bHRUYXhPblNoaXBwaW5nOiBbXSwKICAgICAgICBtRGVmYXVsdFRheE9uU2hpcHBpbmc6IHt9LAogICAgICAgIHRheDogW10sCiAgICAgICAgdmF0OiBbXSwKICAgICAgICBtVmF0OiB7fSwKICAgICAgICBjdXN0b21lckJpbGxUb0l0ZW06IFtdLAogICAgICAgIGN1c3RvbWVyQmlsbFRvOiBbXSwKICAgICAgICBjb3VudHJpZXM6IFtdLAogICAgICAgIGFkZHJlc3M6IHsKICAgICAgICAgICAgaWQ6ICIiLAogICAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgICAgdHlwZTogIiIsCiAgICAgICAgICAgIGNvdW50cnk6IHt9LAogICAgICAgICAgICBsaW5lMTogIiIsCiAgICAgICAgICAgIGxpbmUyOiAiIiwKICAgICAgICB9LAogICAgICAgIGNvbnRhY3RQZXJzb246IHsKICAgICAgICAgICAgaWQ6ICIiLAogICAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgICAgcG9zaXRpb246ICIiLAogICAgICAgICAgICBwaG9uZTogIiIsCiAgICAgICAgICAgIGVtYWlsOiAiIiwKICAgICAgICB9LAogICAgICAgIHBheW1lbnRPcHRpb25zOiBbXSwKICAgICAgICBwYXltZW50VGVybXM6IFtdLAogICAgICAgIHdhcmVIb3VzZXM6IFtdLAogICAgICAgIG1QYXltZW50TWV0aG9kOiB7fSwKICAgICAgICBtUGF5bWVudFRlcm06IHt9LAogICAgICAgIG1XYXJlSG91c2U6IHt9LAogICAgICAgIGFjY1JlY2VpdmFibGU6IFtdLAogICAgICAgIG1BY2NSZWNlaXZhYmxlOiB7fSwKICAgICAgICBhY2NEZXBvc2l0OiBbXSwKICAgICAgICBtQWNjRGVwb3NpdDoge30sCiAgICAgICAgYWNjRGlzY291bnQ6IFtdLAogICAgICAgIG1BY2NEaXNjb3VudDoge30sCiAgICAgICAgcHJpY2VMZXZlbDogW10sCiAgICAgICAgbVByaWNlTGV2ZWw6IHt9LAogICAgICAgIGRpc2NvdW50SXRlbXM6IFtdLAogICAgICAgIGN1c3RvbWVyR3JvdXBzOiBbXSwKICAgICAgICBtRGlzY291bnRJdGVtOiB7fSwKICAgICAgICBtQ3VzdG9tZXJHcm91cDoge30sCiAgICAgICAgcmVnaXN0ZXJlZERhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgICAgIGltZ0ZpbGU6ICIiLAogICAgICAgIHNyYzogIiIsCiAgICAgICAgZmlsZVNpemVSdWxlczogWwogICAgICAgICAgICAoZmlsZXMpID0+CiAgICAgICAgICAgICAgICAhZmlsZXMgfHwKICAgICAgICAgICAgICAgICFmaWxlcy5zb21lKChmaWxlKSA9PiBmaWxlLnNpemUgPiAxMDI0ICogMTAyNCkgfHwKICAgICAgICAgICAgICAgICJJbWFnZSBzaXplIHNob3VsZCBiZSBsZXNzIHRoYW4gMSBNQiEiLAogICAgICAgIF0sCiAgICAgICAgbmV3Q2xpY2s6IGZhbHNlLAogICAgICAgIG5ld0NvbnRhY3RQZXJzb25DbGljazogZmFsc2UsCiAgICAgICAgcG9wdXBTZXR0aW5nczogewogICAgICAgICAgICBoZWlnaHQ6ICIyNTBweCIsCiAgICAgICAgfSwKICAgICAgICBkZWZhdWx0SXRlbTogZGVmYXVsdEl0ZW0sCiAgICAgICAgYmFzZVVybDogY3VzdG9tZXJIYW5kbGVyLnNlYXJjaCgpLAogICAgICAgIGluaXQ6IHttZXRob2Q6ICJHRVQiLCBhY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwgaGVhZGVyczogW119LAogICAgICAgIHBlbmRpbmdSZXF1ZXN0OiB1bmRlZmluZWQsCiAgICAgICAgcmVxdWVzdFN0YXJ0ZWQ6IGZhbHNlLAogICAgICAgIHNraXA6IDAsCiAgICAgICAgdGVtcFNraXA6IG51bGwsCiAgICAgICAgdG90YWw6IDAsCiAgICAgICAgZmlsdGVyOiAiIiwKICAgICAgICB0ZXh0RmllbGQ6ICJuYW1lIiwKICAgICAgICBkYXRhSXRlbUtleTogImlkIiwKICAgICAgICBlcnJvck1lc3NhZ2U6ICIiLAogICAgICAgIGJhc2VDdXJyZW5jeUNvZGU6ICIiLAogICAgICAgIGxvZ2dlZFVzZXI6IHsKICAgICAgICAgICAgaWQ6IGNvb2tpZS5jcmVhdG9yLAogICAgICAgICAgICBuYW1lOiBjb29raWUuZW1haWwKICAgICAgICB9LAogICAgICAgIGNhc2hQYXltZW50OiBbXSwKICAgICAgICBiaWxsUGF5bWVudDogW10sCiAgICAgICAgcXJQYXltZW50OiBbXSwKICAgICAgICBiYW5rVHJhbnNmZXI6IFtdLAogICAgICAgIGFkZHJlc3NMaXN0OiBbXSwKICAgICAgICBjb250YWN0UGVyc29uTGlzdDogW10sCiAgICAgICAgbGFzdE51bWJlcjogMSwKICAgICAgICBkaXNhYmxlTnVtYmVyOiBmYWxzZSwKICAgICAgICBidG5EaXNhYmxlZDogZmFsc2UsCiAgICAgICAgZGlzYWJsZWRNZTogZmFsc2UKICAgIH0pLAogICAgbWV0aG9kczogewogICAgICAgIGlzRG9ub3JEZWZhdWx0KCl7CiAgICAgICAgICAgIGlmKHRoaXMuYXBwVHlwZSA9PSAnbnBvJyl7CiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWVyLmlzRG9ub3IgPSAgdHJ1ZTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXIuaXNEb25vciA9ICBmYWxzZSAKICAgICAgICAgICAgfQogICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2codGhpcy5jdXN0b21lci5pc0Rvbm9yLCAiY2hlY2sgaXMgZG9ub3IiKQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZEluc3RpdHV0ZUluZm8oKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpbnN0aXR1dGVIYW5kbGVyLmdldE9uZUNvbXBhbnkoaW5zdGl0dXRlSWQpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wYW55ID0gcmVzOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGFueS5oYXNPd25Qcm9wZXJ0eSgiYmFzZUN1cnJlbmN5IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhjb21wYW55LmJhc2VDdXJyZW5jeSwgJ2NvbXBhbnknKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBhbnkuYmFzZUN1cnJlbmN5Lmhhc093blByb3BlcnR5KCJjb2RlIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhc2VDdXJyZW5jeUNvZGUgPSBjb21wYW55LmJhc2VDdXJyZW5jeS5jb2RlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBjYW5jZWwoKSB7CiAgICAgICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6IGkxOG4udCgibXNnX3RpdGxlX3dhcm5pbmciKSwKICAgICAgICAgICAgICAgIHRleHQ6IGkxOG4udCgibXNnX2Rpc2NhcmQiKSwKICAgICAgICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBpMThuLnQoImNhbmNlbCIpLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzRkNDg0OCIsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNFRDFBM0EiLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IGkxOG4udCgiZGlzY2FyZCIpLAogICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCkKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGNsb3NlKGRhdGEpIHsKICAgICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5xdWVyeSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2codGhpcy4kcm91dGUucGFyYW1zLnF1ZXJ5LCAiaWQtLSIpOwogICAgICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkuZ28oLTEpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKGRhdGEsICdpZC1jdXMtLScpCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIkN1c3RvbWVycyIsCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICByZXF1ZXN0RGF0YShza2lwLCBmaWx0ZXIpIHsKICAgICAgICAgICAgY29uc3QgdXJsID0gdGhpcy5iYXNlVXJsICsgYD9maWx0ZXI9JHtmaWx0ZXJ9YDsKICAgICAgICAgICAgLy8gYHNlYXJjaD8kZmlsdGVyPScke2ZpbHRlcn0nJiRza2lwPSR7c2tpcH0mJHRvcD0ke3BhZ2VTaXplfSYkY291bnQ9dHJ1ZWA7CiAgICAgICAgICAgIHRoaXMucmVxdWVzdFN0YXJ0ZWQgPSB0cnVlOwogICAgICAgICAgICBmZXRjaCh1cmwpCiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC50aGVuKHRoaXMuYWZ0ZXJGZXRjaCk7CiAgICAgICAgfSwKICAgICAgICBvbkNoYW5nZShldmVudCkgewogICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnZhbHVlOwogICAgICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWVbdGV4dEZpZWxkXSA9PT0gZW1wdHlJdGVtW3RleHRGaWVsZF0pIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmN1c3RvbWVyLnN1Yk9mQ3VzdG9tZXIgPSB2YWx1ZTsKICAgICAgICB9LAogICAgICAgIGFmdGVyRmV0Y2goanNvbikgewogICAgICAgICAgICB0aGlzLmN1c3RvbWVyTGlzdCA9IGpzb24uZGF0YTsKICAgICAgICB9LAogICAgICAgIG9uRmlsdGVyQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgICAgIGNvbnN0IGZpbHRlciA9IGV2ZW50LmZpbHRlci52YWx1ZTsKICAgICAgICAgICAgLy8gdGhpcy5yZXNldENhY2goKTsKICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RGF0YSgwLCBmaWx0ZXIpOwogICAgICAgICAgICAvLyB0aGlzLmRhdGFJdGVtcyA9IGxvYWRpbmdEYXRhOwogICAgICAgICAgICAvLyB0aGlzLnNraXAgPSAwOwogICAgICAgICAgICB0aGlzLmZpbHRlciA9IGZpbHRlcjsKICAgICAgICB9LAogICAgICAgIG9uTmV3QWRkcmVzc0NsaWNrKCkgewogICAgICAgICAgICB0aGlzLm5ld0NsaWNrID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5hZGRyZXNzID0ge307CiAgICAgICAgfSwKICAgICAgICBvbk5ld0NvbnRhY3RQZXJzb25DbGljaygpIHsKICAgICAgICAgICAgdGhpcy5uZXdDb250YWN0UGVyc29uQ2xpY2sgPSB0cnVlOwogICAgICAgICAgICB0aGlzLmNvbnRhY3RQZXJzb24gPSB7fTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRDb3VudHJ5KCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBvdGhlckhhbmRsZXIuY291bnRyeSgpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRyaWVzID0gcmVzOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIG9uU2F2ZUNsb3NlQWRkcmVzcygpIHsKICAgICAgICAgICAgaWYgKHRoaXMuYWRkcmVzc2VzKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5uZXdDbGljaykgewogICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkcmVzcy5pZCA9IHV1aWQudjEoKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZHJlc3Nlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMuYWRkcmVzcy5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5hZGRyZXNzLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMuYWRkcmVzcy50eXBlLAogICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJ5OiB0aGlzLmFkZHJlc3MuY291bnRyeSwKICAgICAgICAgICAgICAgICAgICAgICAgbGluZTE6IHRoaXMuYWRkcmVzcy5saW5lMSwKICAgICAgICAgICAgICAgICAgICAgICAgbGluZTI6IHRoaXMuYWRkcmVzcy5saW5lMiwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkciA9IHRoaXMuYWRkcmVzczsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuYWRkcmVzc2VzLmZpbmRJbmRleCgoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRkci5pZCA9PT0gaXRlbS5pZDsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkcmVzc2VzLnB1c2goYWRkcik7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRyZXNzZXMuc3BsaWNlKGluZGV4LCAxLCBhZGRyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5hZGRyZXNzTGlzdCA9IHRoaXMuYWRkcmVzc2VzCiAgICAgICAgICAgIHRoaXMuZGlhbG9nTTIgPSBmYWxzZTsKICAgICAgICB9LAogICAgICAgIG9uU2F2ZUNsb3NlQ29udGFjdFBlcnNvbigpIHsKICAgICAgICAgICAgaWYgKHRoaXMuY29udGFjdFBlcnNvbnMpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLm5ld0NvbnRhY3RQZXJzb25DbGljaykgewogICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFjdFBlcnNvbi5pZCA9IHV1aWQudjEoKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhY3RQZXJzb25zLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5jb250YWN0UGVyc29uLmlkLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLmNvbnRhY3RQZXJzb24ubmFtZSA/IHRoaXMuY29udGFjdFBlcnNvbi5uYW1lIDogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLmNvbnRhY3RQZXJzb24ucG9zaXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5jb250YWN0UGVyc29uLnBvc2l0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICBwaG9uZTogdGhpcy5jb250YWN0UGVyc29uLnBob25lID8gdGhpcy5jb250YWN0UGVyc29uLnBob25lIDogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLmNvbnRhY3RQZXJzb24uZW1haWwgPyB0aGlzLmNvbnRhY3RQZXJzb24uZW1haWwgOiAiIiwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGFjdFAgPSB0aGlzLmNvbnRhY3RQZXJzb247CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmNvbnRhY3RQZXJzb25zLmZpbmRJbmRleCgoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGFjdFAuaWQgPT09IGl0ZW0uaWQ7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgMCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhY3RQZXJzb25zLnB1c2goY29udGFjdFApOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYy5zcGxpY2UoaW5kZXgsIDEsIGNvbnRhY3RQKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5jb250YWN0UGVyc29uTGlzdCA9IHRoaXMuY29udGFjdFBlcnNvbnMKICAgICAgICAgICAgdGhpcy5kaWFsb2dNMyA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgZ29FZGl0QWRkcmVzcyhlKSB7CiAgICAgICAgICAgIHRoaXMubmV3Q2xpY2sgPSBmYWxzZTsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBsZXQgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRBZGRyZXNzIikuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgICAgICAgIGxldCBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwogICAgICAgICAgICB0aGlzLmFkZHJlc3MgPSBkYXRhSXRlbTsKICAgICAgICAgICAgdGhpcy5tQ291bnRyeSA9IGRhdGFJdGVtLmNvdW50cnk7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nTTIgPSB0cnVlOwogICAgICAgIH0sCiAgICAgICAgZ29FZGl0Q29udGFjdFBlcnNvbihlKSB7CiAgICAgICAgICAgIHRoaXMubmV3Q2xpY2sgPSBmYWxzZTsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBsZXQgZ3JpZCA9IGtlbmRvLmpRdWVyeSgiI2dyaWRDb250YWN0UGVyc29uIikuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgICAgICAgIGxldCBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoInRyIikpOwogICAgICAgICAgICB0aGlzLmNvbnRhY3RQZXJzb24gPSBkYXRhSXRlbTsKICAgICAgICAgICAgdGhpcy5kaWFsb2dNMyA9IHRydWU7CiAgICAgICAgfSwKICAgICAgICByb3dOdW1iZXJUbXBsKGRhdGFJdGVtKSB7CiAgICAgICAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMuZ3JpZEFkZHJlc3NEUy5rZW5kb1dpZGdldCgpLAogICAgICAgICAgICAgICAgaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKICAgICAgICAgICAgcmV0dXJuIGluZGV4ICsgMTsKICAgICAgICB9LAogICAgICAgIHJvd051bWJlclRtcGxQZXJzb24oZGF0YUl0ZW0pIHsKICAgICAgICAgICAgbGV0IGRzID0gdGhpcy4kcmVmcy5ncmlkQ29udGFjdFBlcnNvbkRTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICAgICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgICAgIH0sCiAgICAgICAgb25GaWxlQ2hhbmdlKGUpIHsKICAgICAgICAgICAgLy8gY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICAgICAgICBsZXQgaW5wdXQgPSBlLnRhcmdldDsKICAgICAgICAgICAgLy8gRW5zdXJlIHRoYXQgeW91IGhhdmUgYSBmaWxlIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHJlYWQgaXQKICAgICAgICAgICAgaWYgKGlucHV0LmZpbGVzICYmIGlucHV0LmZpbGVzWzBdKSB7CiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZmlsZXNbMF0uc2l6ZSA+IDEwMjQgKiAxMDI0KSB7CiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJGaWxlIHRvbyBiaWcgKD4gMU1CKSIpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc3JjID0gIiI7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWdGaWxlID0gIiI7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5maWxldXBsb2FkLnZhbHVlID0gbnVsbDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIGEgbmV3IEZpbGVSZWFkZXIgdG8gcmVhZCB0aGlzIGltYWdlIGFuZCBjb252ZXJ0IHRvIGJhc2U2NCBmb3JtYXQKICAgICAgICAgICAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgICAgICAgICAvLyBEZWZpbmUgYSBjYWxsYmFjayBmdW5jdGlvbiB0byBydW4sIHdoZW4gRmlsZVJlYWRlciBmaW5pc2hlcyBpdHMgam9iCiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IGFycm93IGZ1bmN0aW9uIHVzZWQgaGVyZSwgc28gdGhhdCAidGhpcy5pbWFnZURhdGEiIHJlZmVycyB0byB0aGUgaW1hZ2VEYXRhIG9mIFZ1ZSBjb21wb25lbnQKICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBpbWFnZSBhcyBiYXNlNjQgYW5kIHNldCB0byBpbWFnZURhdGEKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWdGaWxlID0gZS50YXJnZXQucmVzdWx0OwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgdGhlIHJlYWRlciBqb2IgLSByZWFkIGZpbGUgYXMgYSBkYXRhIHVybCAoYmFzZTY0IGZvcm1hdCkKICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nKGlucHV0LmZpbGVzWzBdKTsKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnVybCA9IGlucHV0LmZpbGVzWzBdCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGUudGFyZ2V0LmZpbGVzWzBdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZEN1c3RvbWVyR3JvdXAoKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyR3JvdXBIYW5kbGVyLmdldCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJHcm91cHMgPSByZXM7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgY3VzdG9tZXJHcm91cENoYW5nZWQoKSB7CiAgICAgICAgICAgIHRoaXMubURpc2NvdW50SXRlbSA9IHRoaXMubUN1c3RvbWVyR3JvdXAuaGFzT3duUHJvcGVydHkoCiAgICAgICAgICAgICAgICAiZGlzY291bnRJdGVtIgogICAgICAgICAgICApCiAgICAgICAgICAgICAgICA/IHRoaXMubUN1c3RvbWVyR3JvdXAuZGlzY291bnRJdGVtCiAgICAgICAgICAgICAgICA6IHt9OwogICAgICAgICAgICB0aGlzLm1QcmljZUxldmVsID0gdGhpcy5tQ3VzdG9tZXJHcm91cC5oYXNPd25Qcm9wZXJ0eSgicHJpY2VMZXZlbCIpCiAgICAgICAgICAgICAgICA/IHRoaXMubUN1c3RvbWVyR3JvdXAucHJpY2VMZXZlbAogICAgICAgICAgICAgICAgOiB7fTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRQcmljZUxldmVsKCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBwcmljZUxldmVsSGFuZGxlci5nZXQoKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmljZUxldmVsID0gcmVzOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmljZUxldmVsLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubVByaWNlTGV2ZWwgPSB0aGlzLnByaWNlTGV2ZWxbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWVyLnByaWNlTGV2ZWwgPSB0aGlzLnByaWNlTGV2ZWxbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBhc3luYyBpbml0RGF0YSgpIHsKICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKCdtZScsIHRoaXMuY3VzdG9tZXIpCiAgICAgICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkU2luZ2xlQ3VzdG9tZXIoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIHRoaXMuY2xlYXIoKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjbGVhcigpIHsKICAgICAgICAgICAgY29uc3QgY3VzVHlwZSA9IHRoaXMuY3VzdG9tZXIuY3VzdG9tZXJUeXBlIHx8IHt9CiAgICAgICAgICAgIHRoaXMuY3VzdG9tZXIgPSBuZXcgQ29tcGFueUN1c3RvbWVyTW9kZWwoKTsKICAgICAgICAgICAgdGhpcy5jdXN0b21lci5jdXN0b21lclR5cGUgPSBjdXNUeXBlCiAgICAgICAgICAgIHRoaXMuYWRkcmVzc0xpc3QgPSBbXQogICAgICAgICAgICB0aGlzLmNvbnRhY3RQZXJzb25MaXN0ID0gW10KICAgICAgICAgICAgdGhpcy5kaXNhYmxlZE1lID0gZmFsc2UKICAgICAgICAgICAgdGhpcy5oaWRkZW5CdXR0b24gPSBmYWxzZQogICAgICAgICAgICB0aGlzLmRpc2FibGVOdW1iZXIgPSBmYWxzZQogICAgICAgIH0sCiAgICAgICAgY3VzdG9tZXJUeXBlQ2hhbmdlKCkgewogICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coJ2N1cyB0eXBlIGNoYW5nZWQnLCB0aGlzLmN1c3RvbWVyLnR5cGUpCiAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmhhc093blByb3BlcnR5KCJ0eXBlIikpIHsKICAgICAgICAgICAgICAgIC8vIHRoaXMubVBheW1lbnRNZXRob2QgPSB0aGlzLmN1c3RvbWVyLnR5cGUuZGVmYXVsdFBheW1lbnRNZXRob2Q7CiAgICAgICAgICAgICAgICAvLyB0aGlzLm1QYXltZW50VGVybSA9IHRoaXMuY3VzdG9tZXIudHlwZS5kZWZhdWx0UGF5bWVudFRlcm07CiAgICAgICAgICAgICAgICB0aGlzLm1WYXQgPSB0aGlzLmN1c3RvbWVyLmN1c3RvbWVyVHlwZS5zYWxlVGF4OwogICAgICAgICAgICAgICAgLy8gdGhpcy5tRGVmYXVsdFRheE9uU2hpcHBpbmcgPSB0aGlzLmN1c3RvbWVyLnR5cGUuZGVmYXVsdFRheE9uU2hpcHBpbmcKICAgICAgICAgICAgICAgIHRoaXMubUFjY0RlcG9zaXQgPSB0aGlzLmN1c3RvbWVyLmN1c3RvbWVyVHlwZS5zYWxlRGVwb3NpdEFjYzsKICAgICAgICAgICAgICAgIHRoaXMubUFjY0Rpc2NvdW50ID0gdGhpcy5jdXN0b21lci5jdXN0b21lclR5cGUuc2FsZURpc2NvdW50QWNjOwogICAgICAgICAgICAgICAgLy8gdGhpcy5jdXN0b21lci5wcmljZUxldmVsID0gdGhpcy5jdXN0b21lci5jdXN0b21lclR5cGUucHJpY2VMZXZlbAoKICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXIuYmlsbFBheW1lbnQgPSB0aGlzLmN1c3RvbWVyLmN1c3RvbWVyVHlwZS5iaWxsUGF5bWVudAogICAgICAgICAgICAgICAgdGhpcy5jdXN0b21lci5xclBheW1lbnQgPSB0aGlzLmN1c3RvbWVyLmN1c3RvbWVyVHlwZS5xclBheW1lbnQKICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXIuY2FzaFBheW1lbnQgPSB0aGlzLmN1c3RvbWVyLmN1c3RvbWVyVHlwZS5jYXNoUGF5bWVudAogICAgICAgICAgICAgICAgdGhpcy5jdXN0b21lci5iYW5rVHJhbnNmZXIgPSB0aGlzLmN1c3RvbWVyLmN1c3RvbWVyVHlwZS5iYW5rVHJhbnNmZXIKICAgICAgICAgICAgICAgIC8vIExvYWQgUHJlZml4CiAgICAgICAgICAgICAgICAvLyB0aGlzLmN1c3RvbWVyLm51bWJlciA9IHRoaXMucGFkKDEsIDYpOwogICAgICAgICAgICAgICAgdGhpcy5vbkNoZWNrQ2hhbmdlZCgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gbGV0IG1hdGNoID0gdGhpcy5jdXN0b21lckl0ZW0uZmlsdGVyKG0gPT4gbS5jdXN0b21lclR5cGUubmFtZSA9PT0gdGhpcy5jdXN0b21lclR5cGUubmFtZSkubWFwKGl0ZW0gPT4gewogICAgICAgICAgICAvLyAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLy8gICAgICAgICBpZDogaXRlbS51dWlkLAogICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAvLyB9KQogICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2cobWF0Y2gubGVuZ3RoKQogICAgICAgICAgICAvLyBsZXQgbnVtID0gbWF0Y2gubGVuZ3RoICsgMQogICAgICAgICAgICAvLyB0aGlzLmN1c3RvbWVyLm51bWJlciA9IHRoaXMucGFkKG51bSwgNikKICAgICAgICAgICAgLy8gLy8gd2luZG93LmNvbnNvbGUubG9nKHRoaXMucGFkKG51bSwgNikpCiAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLmN1c3RvbWVyLm51bWJlcikKICAgICAgICAgICAgLy8gVnVlLm5leHRUaWNrKCkKICAgICAgICB9LAogICAgICAgIHBhZCh2YWx1ZSwgbGVuZ3RoKSB7CiAgICAgICAgICAgIHJldHVybiAoIjAiLnJlcGVhdChsZW5ndGgpICsgdmFsdWUpLnNsaWNlKC1sZW5ndGgpOwogICAgICAgIH0sCiAgICAgICAgcmVtb3ZlUm93KCkgewogICAgICAgIH0sCiAgICAgICAgbnVtYmVyQ2hhbmdlKCkgewogICAgICAgICAgICBsZXQgb2xkbnVtID0gdGhpcy5jdXN0b21lci5udW1iZXI7CiAgICAgICAgICAgIGxldCBtYXRjaDEgPSB0aGlzLmN1c3RvbWVySXRlbQogICAgICAgICAgICAgICAgLmZpbHRlcigobSkgPT4gbS5udW1iZXIgPT09IHRoaXMuY3VzdG9tZXIubnVtYmVyKQogICAgICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAobWF0Y2gxLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXIubnVtYmVyID0gb2xkbnVtOwogICAgICAgICAgICAgICAgLy8gdGhpcy5jdXN0b21lclR5cGVDaGFuZ2UoKQogICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcigiTnVtYmVyIGlzIGV4aXN0ISIpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhc3luYyBvblNhdmVDbG9zZShzYXZlKSB7CiAgICAgICAgICAgIGNvbnN0IGVkaXRvck5vdGUgPSB0aGlzLiRyZWZzLmludm9jZU5vdGVFZGl0b3Iua2VuZG9XaWRnZXQoKTsKICAgICAgICAgICAgdGhpcy5jdXN0b21lci5ub3RlT25JbnZvaWNlID0gZWRpdG9yTm90ZS52YWx1ZSgpOwogICAgICAgICAgICBpZiAoIXRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgICAgICAgICAvLyB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKQogICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcigKICAgICAgICAgICAgICAgICAgICAiRmllbGQgaXMgcmVxdWlyZWQsIHBsZWFzZSBjaGVjayBmaWVsZCBlYWNoIG9mIHRhYnMhIgogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2codGhpcy5tU2hpcFZBVCkKICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IG5ldyBDb21wYW55Q3VzdG9tZXJNb2RlbCh7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLmN1c3RvbWVyLmlkID8gdGhpcy5jdXN0b21lci5pZCA6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLmN1c3RvbWVyLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0aXZlTmFtZTogdGhpcy5jdXN0b21lci5hbHRlcm5hdGl2ZU5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyVHlwZTogdGhpcy5jdXN0b21lci5jdXN0b21lclR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJDb21wYW55IiwKICAgICAgICAgICAgICAgICAgICAgICAgY3JuOiB0aGlzLmN1c3RvbWVyLmNybiwKICAgICAgICAgICAgICAgICAgICAgICAgaXNEb25vcjogdGhpcy5jdXN0b21lci5pc0Rvbm9yLAogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRoaXMuY3VzdG9tZXIuc3RhdHVzLAogICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVkOiB0aGlzLmN1c3RvbWVyLmRlbGV0ZWQsCiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogdGhpcy5jdXN0b21lci5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RpdHV0ZUlkOiB0aGlzLmN1c3RvbWVyLmZyb21JbnN0aXR1dGVJZCwKICAgICAgICAgICAgICAgICAgICAgICAgc3ViT2ZDdXN0b21lcjogdGhpcy5jdXN0b21lci5zdWJPZkN1c3RvbWVyLAogICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RlcmVkRGF0ZTogdGhpcy5jdXN0b21lci5yZWdpc3RlcmVkRGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgYmlsbGluZ1R5cGU6IHRoaXMuY3VzdG9tZXIuYmlsbGluZ1R5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN1bWVySWQ6IHRoaXMuY3VzdG9tZXIuY29uc3VtZXJJZCwKICAgICAgICAgICAgICAgICAgICAgICAgdGF4SWQ6IHRoaXMuY3VzdG9tZXIudGF4SWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3RBZGRyZXNzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5kZXI6IHRoaXMuZ2VuZGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IHRoaXMucGhvbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYjogdGhpcy5kb2IsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiB0aGlzLmFkZHJlc3NMaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGU6IHRoaXMubGF0aXR1ZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IHRoaXMubG9uZ2l0dWRlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2Vic2l0ZTogdGhpcy53ZWJzaXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRCaWxsaW5nOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lckdyb3VwOiB0aGlzLm1DdXN0b21lckdyb3VwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF5bWVudFRlcm06IHRoaXMubVBheW1lbnRUZXJtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF5bWVudE1ldGhvZDogdGhpcy5tUGF5bWVudE1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnblRvOiB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdhcmVob3VzZTogdGhpcy5tV2FyZUhvdXNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3JlZGl0TGltaXQ6IHRoaXMuY3JlZGl0TGltaXQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEl0ZW06IHRoaXMubURpc2NvdW50SXRlbSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlTGV2ZWw6IHRoaXMuY3VzdG9tZXIucHJpY2VMZXZlbCwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFRheDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2YWJsZUFjYzogdGhpcy5tQWNjUmVjZWl2YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbGVEZXBvc2l0QWNjOiB0aGlzLm1BY2NEZXBvc2l0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsZURpc2NvdW50QWNjOiB0aGlzLm1BY2NEaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbGVUYXg6IHRoaXMubVZhdAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBub3RlT25JbnZvaWNlOiB0aGlzLmN1c3RvbWVyLm5vdGVPbkludm9pY2UsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3RQZXJzb246IHRoaXMuY29udGFjdFBlcnNvbkxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IHRoaXMuaW1nRmlsZSwKICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IHRoaXMuY3VzdG9tZXIuaW1hZ2UsCiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaEZpbGU6IHt9LAogICAgICAgICAgICAgICAgICAgICAgICBsb2dnZWRVc2VyOiB0aGlzLmxvZ2dlZFVzZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlTGV2ZWw6IHRoaXMuY3VzdG9tZXIucHJpY2VMZXZlbCwKICAgICAgICAgICAgICAgICAgICAgICAgY2FzaFBheW1lbnQ6IG5ldyBQYXltZW50T3B0aW9uTW9kZWwodGhpcy5jdXN0b21lci5jYXNoUGF5bWVudCksCiAgICAgICAgICAgICAgICAgICAgICAgIHFyUGF5bWVudDogbmV3IFBheW1lbnRPcHRpb25Nb2RlbCh0aGlzLmN1c3RvbWVyLnFyUGF5bWVudCksCiAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtUcmFuc2ZlcjogbmV3IFBheW1lbnRPcHRpb25Nb2RlbCh0aGlzLmN1c3RvbWVyLmJhbmtUcmFuc2ZlciksCiAgICAgICAgICAgICAgICAgICAgICAgIGJpbGxQYXltZW50OiBuZXcgUGF5bWVudE9wdGlvbk1vZGVsKHRoaXMuY3VzdG9tZXIuYmlsbFBheW1lbnQpLAogICAgICAgICAgICAgICAgICAgICAgICBhdXRvTnVtYmVyOiB0aGlzLmN1c3RvbWVyLmF1dG9OdW1iZXIgfHwgdHJ1ZSwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coZGF0YSwgJ2RhdGEnKQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgdGhpcy5idG5EaXNhYmxlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICBjdXN0b21lckhhbmRsZXIuY3JlYXRlKGRhdGEpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5sb2FkQ3VzdG9tZXJUeXBlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2xlYXIoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ0bkRpc2FibGVkID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzYXZlID09ICdjbG9zZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRBY2NvdW50KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRUYXgoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXIoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UocmVzcG9uc2UuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkQWNjb3VudCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkVGF4KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNub3RpZnkuc3VjY2VzcygiU3VjY2Vzc2Z1bGx5Iik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnRuRGlzYWJsZWQgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnRuRGlzYWJsZWQgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc25vdGlmeS5lcnJvcigiU29tZXRoaW5nIHdlbnQgd3JvbmciKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRDdXN0b21lclR5cGUoKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyVHlwZUhhbmRsZXIuZ2V0KCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJUeXBlcyA9IHJlcy5maWx0ZXIoKG0pID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhbS5uYXR1cmUubmFtZS5pbmNsdWRlcygiSW5kaXZpZHVhbCIpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuY3VzdG9tZXJUeXBlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgdGhpcy5jdXN0b21lclsiY3VzdG9tZXJUeXBlIl0gPSB0aGlzLmN1c3RvbWVyVHlwZXNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgdGhpcy5jdXN0b21lclR5cGVDaGFuZ2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRBY2NvdW50KCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBhY2NvdW50SGFuZGxlci5nZXRBbGwoKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAvL1JlY2VpdmFibGUgQWNjb3VudAogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY1JlY2VpdmFibGUgPSByZXMuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigobSkgPT4gbS5hY2NvdW50X3R5cGUubnVtYmVyID09PSA3KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbF9uYW1lOiBpdGVtLmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaXRlbS5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0ZW0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuaGppQWNjQ29kZTogaXRlbS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9jb2RlOiBpdGVtLmdyb3VwX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdGVtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2NvZGU6IGl0ZW0udHlwZV9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IGl0ZW0uYWNjb3VudF90eXBlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWNjUmVjZWl2YWJsZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1BY2NSZWNlaXZhYmxlID0gdGhpcy5hY2NSZWNlaXZhYmxlWzBdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIC8vRGVwb3NpdCBBY2NvdW50CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWNjRGVwb3NpdCA9IHJlcy5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtKSA9PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLmFjY291bnRfdHlwZS5udW1iZXIgPT09IDIwIHx8IG0uYWNjb3VudF90eXBlLm51bWJlciA9PT0gMjgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGl0ZW0pID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxfbmFtZTogaXRlbS5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGl0ZW0ubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc190YXhhYmxlOiBpdGVtLmlzX3RheGFibGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmhqaUFjY0NvZGU6IGl0ZW0uYmFuaGppQWNjQ29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfY29kZTogaXRlbS5ncm91cF9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfYWNjb3VudDogaXRlbS5wYXJlbnRfYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9jb2RlOiBpdGVtLnR5cGVfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudF90eXBlOiBpdGVtLmFjY291bnRfdHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjY0RlcG9zaXQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tQWNjRGVwb3NpdCA9IHRoaXMuYWNjRGVwb3NpdFswXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAvL0Rpc2NvdW50IEFjY291bnQKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2NEaXNjb3VudCA9IHJlcy5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChtKSA9PiBtLmFjY291bnRfdHlwZS5udW1iZXIgPT09IDM4KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGl0ZW0udXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbF9uYW1lOiBpdGVtLmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaXRlbS5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RheGFibGU6IGl0ZW0uaXNfdGF4YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuaGppQWNjQ29kZTogaXRlbS5iYW5oamlBY2NDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9jb2RlOiBpdGVtLmdyb3VwX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9hY2NvdW50OiBpdGVtLnBhcmVudF9hY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2NvZGU6IGl0ZW0udHlwZV9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IGl0ZW0uYWNjb3VudF90eXBlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWNjRGlzY291bnQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tQWNjRGlzY291bnQgPSB0aGlzLmFjY0Rpc2NvdW50WzBdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZFRheCgpIHsKICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ0hhbmRsZXIuZ2V0KCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXggPSByZXM7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2QVQgPSB0aGlzLnRheC5maWx0ZXIoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobSkgPT4gbS50YXhUeXBlLnR5cGVJZCA9PT0gMSAmJiBtLnRyYW5zYWN0aW9uVHlwZSA9PT0gIlNhbGUiCiAgICAgICAgICAgICAgICAgICAgICAgICk7IC8vIHZhbHVhYmxlIHRheAogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhdCA9IHZBVDsgLy8gdmFsdWFibGUgdGF4CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1WYXQgPSB0aGlzLnZhdFswXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGV0IHZBVHMgPSB0aGlzLnRheC5maWx0ZXIobSA9PiBtLmFiYnIgPT09ICdTVCcpIC8vIFNoaXBwaW5nIFRheAogICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmRlZmF1bHRUYXhPblNoaXBwaW5nID0gdkFUc1swXVsnc3ViT2YnXSAvLyB2YWx1YWJsZSB0YXgKICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuZGVmYXVsdFRheE9uU2hpcHBpbmcubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5tRGVmYXVsdFRheE9uU2hpcHBpbmcgPSB0aGlzLmRlZmF1bHRUYXhPblNoaXBwaW5nWzBdCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBhc3luYyBsb2FkUGF5bWVudE9wdGlvbigpIHsKICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyRmlsdGVyID0gJz9vcHRpb25UeXBlPUN1c3RvbWVyJwogICAgICAgICAgICAgICAgICAgIHBheW1lbnRPcHRpb25IYW5kbGVyLmxpc3Qoc3RyRmlsdGVyKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGEuZGF0YSB8fCBbXQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc2hQYXltZW50ID0gZGF0YS5maWx0ZXIobSA9PiBtLnR5cGUgPT09IFBBWU1FTlRfT1BJTklPTl9UWVBFLkNBU0hfUEFZTUVOVCkKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iaWxsUGF5bWVudCA9IGRhdGEuZmlsdGVyKG0gPT4gbS50eXBlID09PSBQQVlNRU5UX09QSU5JT05fVFlQRS5CSUxMX1BBWU1FTlQpCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXJQYXltZW50ID0gZGF0YS5maWx0ZXIobSA9PiBtLnR5cGUgPT09IFBBWU1FTlRfT1BJTklPTl9UWVBFLlFSX1BBWU1FTlQpCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFua1RyYW5zZmVyID0gZGF0YS5maWx0ZXIobSA9PiBtLnR5cGUgPT09IFBBWU1FTlRfT1BJTklPTl9UWVBFLkJBTktfVFJBTlNGRVIpCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZFBheW1lbnRUZXJtKCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICBwYXltZW50VGVybUhhbmRsZXIuZ2V0QWxsKCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXltZW50VGVybXMgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXltZW50VGVybXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tUGF5bWVudFRlcm0gPSB0aGlzLnBheW1lbnRUZXJtc1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRTaW5nbGVDdXN0b21lcigpIHsKICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJIYW5kbGVyLmdldCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hlY2tPbGROb3RlID0gcmVzdWx0WzBdLm5vdGVPbkludm9pY2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGVja09sZE5vdGUgPT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmRhdGEuZGF0YVswXS5ub3RlT25JbnZvaWNlID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXIgPSByZXMuZGF0YS5kYXRhWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubUN1c3RvbWVyR3JvdXAgPSB0aGlzLmN1c3RvbWVyLnBheW1lbnRCaWxsaW5nLmhhc093blByb3BlcnR5KCJjdXN0b21lckdyb3VwIikgPyB0aGlzLmN1c3RvbWVyLnBheW1lbnRCaWxsaW5nLmN1c3RvbWVyR3JvdXAgOiB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLm1QYXltZW50VGVybSA9IHRoaXMuY3VzdG9tZXIucGF5bWVudEJpbGxpbmcuaGFzT3duUHJvcGVydHkoInBheW1lbnRUZXJtIikgPyB0aGlzLmN1c3RvbWVyLnBheW1lbnRCaWxsaW5nLnBheW1lbnRUZXJtIDoge307CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5tUGF5bWVudE1ldGhvZCA9IHRoaXMuY3VzdG9tZXIucGF5bWVudEJpbGxpbmcuaGFzT3duUHJvcGVydHkoInBheW1lbnRPcHRpb24iKSA/IHRoaXMuY3VzdG9tZXIucGF5bWVudEJpbGxpbmcucGF5bWVudE9wdGlvbiA6IHt9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubVdhcmVIb3VzZSA9IHRoaXMuY3VzdG9tZXIucGF5bWVudEJpbGxpbmcuaGFzT3duUHJvcGVydHkoIndhcmVob3VzZSIpID8gdGhpcy5jdXN0b21lci5wYXltZW50QmlsbGluZy53YXJlaG91c2UgOiB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1EaXNjb3VudEl0ZW0gPSB0aGlzLmN1c3RvbWVyLnBheW1lbnRCaWxsaW5nLmhhc093blByb3BlcnR5KCJkaXNjb3VudEl0ZW0iKSA/IHRoaXMuY3VzdG9tZXIucGF5bWVudEJpbGxpbmcuZGlzY291bnRJdGVtIDoge307CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tQWNjUmVjZWl2YWJsZSA9IHRoaXMuY3VzdG9tZXIuYWNjb3VudFRheC5oYXNPd25Qcm9wZXJ0eSgicmVjZWl2YWJsZUFjYyIpID8gdGhpcy5jdXN0b21lci5hY2NvdW50VGF4LnJlY2VpdmFibGVBY2MgOiB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1BY2NEaXNjb3VudCA9IHRoaXMuY3VzdG9tZXIuYWNjb3VudFRheC5oYXNPd25Qcm9wZXJ0eSgic2FsZURpc2NvdW50QWNjIikgPyB0aGlzLmN1c3RvbWVyLmFjY291bnRUYXguc2FsZURpc2NvdW50QWNjIDoge307CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tQWNjRGVwb3NpdCA9IHRoaXMuY3VzdG9tZXIuYWNjb3VudFRheC5oYXNPd25Qcm9wZXJ0eSgic2FsZURlcG9zaXRBY2MiKSA/IHRoaXMuY3VzdG9tZXIuYWNjb3VudFRheC5zYWxlRGVwb3NpdEFjYyA6IHt9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubVZhdCA9IHRoaXMuY3VzdG9tZXIuYWNjb3VudFRheC5oYXNPd25Qcm9wZXJ0eSgic2FsZVRheCIpID8gdGhpcy5jdXN0b21lci5hY2NvdW50VGF4LnNhbGVUYXggOiB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1QcmljZUxldmVsID0gdGhpcy5jdXN0b21lci5wcmljZUxldmVsIHx8IHt9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRhY3RfYWRkcmVzcyA9IHRoaXMuY3VzdG9tZXIuY29udGFjdEFkZHJlc3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdF9hZGRyZXNzLmFkZHJlc3MubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZHJlc3NMaXN0ID0gdGhpcy5jdXN0b21lci5jb250YWN0QWRkcmVzcy5hZGRyZXNzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb250YWN0X3BlcnNvbiA9IHRoaXMuY3VzdG9tZXIuY29udGFjdFBlcnNvbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0X3BlcnNvbi5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFjdFBlcnNvbkxpc3QgPSB0aGlzLmN1c3RvbWVyLmNvbnRhY3RQZXJzb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5tRGVmYXVsdFRheE9uU2hpcHBpbmcgPSB0aGlzLmN1c3RvbWVyLmFjY291bnRUYXguaGFzT3duUHJvcGVydHkoJ2RlZmF1bHRUYXhPblNoaXBwaW5nJykgPyB0aGlzLmN1c3RvbWVyLmFjY291bnRUYXguZGVmYXVsdFRheE9uU2hpcHBpbmcgOiB7fQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc0ltZyA9IHRoaXMuY3VzdG9tZXIuaGFzT3duUHJvcGVydHkoImltYWdlIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zcmMgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW1nVXJsID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0ltZykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXN0b21lci5pbWFnZS5oYXNPd25Qcm9wZXJ0eSgiZGVmYXVsdCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWdVcmwgPSB0aGlzLmN1c3RvbWVyLmltYWdlLmRlZmF1bHQudGh1bWI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNyYyA9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImh0dHBzOi8vczMtYXAtc291dGhlYXN0LTEuYW1hem9uYXdzLmNvbS9pbWFnZXMuYmFuaGppLyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZ1VybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRDdXN0b21lckJpbGxUbygpIHsKICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgb3RoZXJIYW5kbGVyLmN1c3RvbWVyQmlsbFRvKCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJCaWxsVG9JdGVtID0gcmVzOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXN0b21lckJpbGxUb0l0ZW0ubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXN0b21lckJpbGxUbyA9IHRoaXMuY3VzdG9tZXJCaWxsVG9JdGVtWzBdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZFRheEFuZEFjY291bnRCeUN1c3RvbWVyVHlwZSgpIHsKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRXYXJlSG91c2VzKCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB3YXJlaG91c2VIYW5kbGVyLmdldFdhcmVob3VzZVNldHRpbmdBbGwoKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndhcmVIb3VzZXMgPSByZXM7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndhcmVIb3VzZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tV2FyZUhvdXNlID0gdGhpcy53YXJlSG91c2VzWzBdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZERpc2NvdW50SXRlbXMoKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGRpc2NvdW50SXRlbUhhbmRsZXIubGlzdChPUFRJT05fVFlQRSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNjb3VudEl0ZW1zID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlzY291bnRJdGVtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1EaXNjb3VudEl0ZW0gPSB0aGlzLmRpc2NvdW50SXRlbXNbMF0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRTdWJPZkN1c3RvbWVyKCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBjdXN0b21lckhhbmRsZXIubGlzdCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWVyTGlzdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgYXN5bmMgbG9hZExhc3ROdW1iZXIoKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCJyZXNvbHZlZCIpOwogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmN1c3RvbWVyVHlwZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhYmJyID0gdGhpcy5jdXN0b21lci5jdXN0b21lclR5cGUuYWJiciB8fCAnJwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJGaWx0ZXIgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYmJyOiBhYmJyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0NvbXBhbnknCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFiYnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJIYW5kbGVyLmxhc3ROdW1iZXIoc3RyRmlsdGVyKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtYmVyID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0TnVtYmVyID0gdGhpcy5wYWQobnVtYmVyLmxhc3ROdW1iZXIgfHwgMSwgNykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXN0b21lci5udW1iZXIgPSB0aGlzLmxhc3ROdW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBvbkNoZWNrQ2hhbmdlZCgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXIuYXV0b051bWJlcikgewogICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlTnVtYmVyID0gdHJ1ZQogICAgICAgICAgICAgICAgdGhpcy5sb2FkTGFzdE51bWJlcigpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVOdW1iZXIgPSBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgLy8gaWQoKSB7CiAgICAgICAgLy8gICAgIC8vIHRoaXMucHJvZHVjdCA9IHRoaXMuc2VsZWN0ZWRQcm9kdWN0CiAgICAgICAgLy8gICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLmlkLCAid2F0Y2giKTsKICAgICAgICAvLyAgICAgaWYgKHRoaXMuaWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIC8vICAgICAgICAgdGhpcy5sb2FkU2luZ2xlQ3VzdG9tZXIoKTsKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vIH0sCiAgICAgICAgJyRyb3V0ZSc6ICdsb2FkU2luZ2xlQ3VzdG9tZXInCiAgICB9LAogICAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMucmVxdWVzdERhdGEoMCwgdGhpcy5maWx0ZXIpOwogICAgICAgIGF3YWl0IHRoaXMubG9hZFRheCgpOwogICAgICAgIGF3YWl0IHRoaXMubG9hZFBheW1lbnRPcHRpb24oKQogICAgICAgIC8vIGF3YWl0IHRoaXMubG9hZFBheW1lbnRUZXJtKCk7CiAgICAgICAgYXdhaXQgdGhpcy5sb2FkQ3VzdG9tZXJUeXBlKCk7CiAgICAgICAgYXdhaXQgdGhpcy5sb2FkQ3VzdG9tZXJCaWxsVG8oKTsKICAgICAgICBhd2FpdCB0aGlzLmluaXREYXRhKCk7CiAgICAgICAgdGhpcy5pc0Rvbm9yRGVmYXVsdCgpOwogICAgfSwKICAgIGNyZWF0ZWQ6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgICBhd2FpdCB0aGlzLmxvYWRJbnN0aXR1dGVJbmZvKCk7CiAgICAgICAgYXdhaXQgdGhpcy5sb2FkQWNjb3VudCgpOwogICAgICAgIC8vIGF3YWl0IHRoaXMubG9hZFdhcmVIb3VzZXMoKTsKICAgICAgICBhd2FpdCB0aGlzLmxvYWRQcmljZUxldmVsKCk7CiAgICAgICAgYXdhaXQgdGhpcy5sb2FkRGlzY291bnRJdGVtcygpOwogICAgICAgIGF3YWl0IHRoaXMubG9hZEN1c3RvbWVyR3JvdXAoKTsKICAgICAgICBhd2FpdCB0aGlzLmxvYWRDb3VudHJ5KCk7CiAgICAgICAgLy8gYXdhaXQgdGhpcy5sb2FkU3ViT2ZDdXN0b21lcigpCiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBhcHBUeXBlKCl7CiAgICAgICAgICAgIHJldHVybiBkYXRhU3RvcmUucHJvZHVjdFR5cGU7CiAgICAgICAgfSwKICAgICAgICB2aXJ0dWFsOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYWdlU2l6ZTogcGFnZVNpemUsCiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlCiAgICAgICAgICAgICAgICBza2lwOiB0aGlzLnNraXAsCiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlCiAgICAgICAgICAgICAgICB0b3RhbDogdGhpcy50b3RhbCwKICAgICAgICAgICAgfTsKICAgICAgICB9LAogICAgICAgIGNyZWRpdExpbWl0OiB7CiAgICAgICAgICAgIGdldCgpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmhhc093blByb3BlcnR5KCJwYXltZW50QmlsbGluZyIpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXIucGF5bWVudEJpbGxpbmcuaGFzT3duUHJvcGVydHkoImNyZWRpdExpbWl0IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tZXIucGF5bWVudEJpbGxpbmcuY3JlZGl0TGltaXQ7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXN0b21lci5oYXNPd25Qcm9wZXJ0eSgicGF5bWVudEJpbGxpbmciKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLnBheW1lbnRCaWxsaW5nLmhhc093blByb3BlcnR5KCJjcmVkaXRMaW1pdCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXIucGF5bWVudEJpbGxpbmcuY3JlZGl0TGltaXQgPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICBhZGRyZXNzZXM6IHsKICAgICAgICAgICAgZ2V0KCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXIuaGFzT3duUHJvcGVydHkoImNvbnRhY3RBZGRyZXNzIikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXN0b21lci5jb250YWN0QWRkcmVzcy5oYXNPd25Qcm9wZXJ0eSgiYWRkcmVzcyIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbWVyLmNvbnRhY3RBZGRyZXNzLmFkZHJlc3M7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBzZXQodmFsdWUpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmhhc093blByb3BlcnR5KCJjb250YWN0QWRkcmVzcyIpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXIuY29udGFjdEFkZHJlc3MuaGFzT3duUHJvcGVydHkoImFkZHJlc3MiKSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWVyLmNvbnRhY3RBZGRyZXNzLmFkZHJlc3MucHVzaCh2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgZ2VuZGVyOiB7CiAgICAgICAgICAgIGdldCgpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmhhc093blByb3BlcnR5KCJjb250YWN0QWRkcmVzcyIpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXIuY29udGFjdEFkZHJlc3MuaGFzT3duUHJvcGVydHkoImdlbmRlciIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbWVyLmNvbnRhY3RBZGRyZXNzLmdlbmRlcjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldCh2YWx1ZSkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXIuaGFzT3duUHJvcGVydHkoImNvbnRhY3RBZGRyZXNzIikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXN0b21lci5jb250YWN0QWRkcmVzcy5oYXNPd25Qcm9wZXJ0eSgiZ2VuZGVyIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXN0b21lci5jb250YWN0QWRkcmVzcy5nZW5kZXIgPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICBlbWFpbDogewogICAgICAgICAgICBnZXQoKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXN0b21lci5oYXNPd25Qcm9wZXJ0eSgiY29udGFjdEFkZHJlc3MiKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmNvbnRhY3RBZGRyZXNzLmhhc093blByb3BlcnR5KCJlbWFpbCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbWVyLmNvbnRhY3RBZGRyZXNzLmVtYWlsOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXN0b21lci5oYXNPd25Qcm9wZXJ0eSgiY29udGFjdEFkZHJlc3MiKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmNvbnRhY3RBZGRyZXNzLmhhc093blByb3BlcnR5KCJlbWFpbCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXIuY29udGFjdEFkZHJlc3MuZW1haWwgPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICBkb2I6IHsKICAgICAgICAgICAgZ2V0KCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXIuaGFzT3duUHJvcGVydHkoImNvbnRhY3RBZGRyZXNzIikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXN0b21lci5jb250YWN0QWRkcmVzcy5oYXNPd25Qcm9wZXJ0eSgiZG9iIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tZXIuY29udGFjdEFkZHJlc3MuZG9iOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXN0b21lci5oYXNPd25Qcm9wZXJ0eSgiY29udGFjdEFkZHJlc3MiKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmNvbnRhY3RBZGRyZXNzLmhhc093blByb3BlcnR5KCJkb2IiKSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWVyLmNvbnRhY3RBZGRyZXNzLmRvYiA9IHZhbHVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIGxhdGl0dWRlOiB7CiAgICAgICAgICAgIGdldCgpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmhhc093blByb3BlcnR5KCJjb250YWN0QWRkcmVzcyIpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXIuY29udGFjdEFkZHJlc3MuaGFzT3duUHJvcGVydHkoImxhdGl0dWRlIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tZXIuY29udGFjdEFkZHJlc3MubGF0aXR1ZGU7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBzZXQodmFsdWUpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmhhc093blByb3BlcnR5KCJjb250YWN0QWRkcmVzcyIpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXIuY29udGFjdEFkZHJlc3MuaGFzT3duUHJvcGVydHkoImxhdGl0dWRlIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXN0b21lci5jb250YWN0QWRkcmVzcy5sYXRpdHVkZSA9IHZhbHVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIGxvbmdpdHVkZTogewogICAgICAgICAgICBnZXQoKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXN0b21lci5oYXNPd25Qcm9wZXJ0eSgiY29udGFjdEFkZHJlc3MiKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmNvbnRhY3RBZGRyZXNzLmhhc093blByb3BlcnR5KCJsb25naXR1ZGUiKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21lci5jb250YWN0QWRkcmVzcy5sb25naXR1ZGU7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBzZXQodmFsdWUpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmhhc093blByb3BlcnR5KCJjb250YWN0QWRkcmVzcyIpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXIuY29udGFjdEFkZHJlc3MuaGFzT3duUHJvcGVydHkoImxvbmdpdHVkZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXIuY29udGFjdEFkZHJlc3MubG9uZ2l0dWRlID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgcGhvbmU6IHsKICAgICAgICAgICAgZ2V0KCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXIuaGFzT3duUHJvcGVydHkoImNvbnRhY3RBZGRyZXNzIikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXN0b21lci5jb250YWN0QWRkcmVzcy5oYXNPd25Qcm9wZXJ0eSgicGhvbmVOdW1iZXIiKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21lci5jb250YWN0QWRkcmVzcy5waG9uZU51bWJlcjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldCh2YWx1ZSkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXIuaGFzT3duUHJvcGVydHkoImNvbnRhY3RBZGRyZXNzIikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXN0b21lci5jb250YWN0QWRkcmVzcy5oYXNPd25Qcm9wZXJ0eSgicGhvbmVOdW1iZXIiKSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWVyLmNvbnRhY3RBZGRyZXNzLnBob25lTnVtYmVyID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgd2Vic2l0ZTogewogICAgICAgICAgICBnZXQoKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXN0b21lci5oYXNPd25Qcm9wZXJ0eSgiY29udGFjdEFkZHJlc3MiKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmNvbnRhY3RBZGRyZXNzLmhhc093blByb3BlcnR5KCJ3ZWJzaXRlIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tZXIuY29udGFjdEFkZHJlc3Mud2Vic2l0ZTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldCh2YWx1ZSkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXIuaGFzT3duUHJvcGVydHkoImNvbnRhY3RBZGRyZXNzIikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXN0b21lci5jb250YWN0QWRkcmVzcy5oYXNPd25Qcm9wZXJ0eSgid2Vic2l0ZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXIuY29udGFjdEFkZHJlc3Mud2Vic2l0ZSA9IHZhbHVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiB7CiAgICAgICAgICAgIGdldCgpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmhhc093blByb3BlcnR5KCJjb250YWN0QWRkcmVzcyIpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXIuY29udGFjdEFkZHJlc3MuaGFzT3duUHJvcGVydHkoImRlc2NyaXB0aW9uIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tZXIuY29udGFjdEFkZHJlc3MuZGVzY3JpcHRpb247CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBzZXQodmFsdWUpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmhhc093blByb3BlcnR5KCJjb250YWN0QWRkcmVzcyIpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXIuY29udGFjdEFkZHJlc3MuaGFzT3duUHJvcGVydHkoImRlc2NyaXB0aW9uIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXN0b21lci5jb250YWN0QWRkcmVzcy5kZXNjcmlwdGlvbiA9IHZhbHVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIGNvbnRhY3RQZXJzb25zOiB7CiAgICAgICAgICAgIGdldCgpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVyLmhhc093blByb3BlcnR5KCJjb250YWN0UGVyc29uIikpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21lci5jb250YWN0UGVyc29uOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldCh2YWx1ZSkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXIuaGFzT3duUHJvcGVydHkoImNvbnRhY3RQZXJzb24iKSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXIuY29udGFjdFBlcnNvbi5wdXNoKHZhbHVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIGhpZGRlbkJ1dHRvbigpIHsKICAgICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGUgPT0gImVkaXQiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICAgIH0KCiAgICAgICAgfQogICAgfSwKICAgIGRlc3Ryb3llZCgpIHsKICAgICAgICAvLyB0aGlzLnJlc2V0Q2FjaCgpCiAgICB9LAp9Owo="},{"version":3,"sources":["CompanyCustomer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0tBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"CompanyCustomer.vue","sourceRoot":"src/views/customers","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\">\n                        <v-row>\n                            <v-col\n                                class=\"bigSide py-0\"\n                                sm=\"12\"\n                                cols=\"12\"\n                                style=\"transition: .3s ease-in;\"\n                                :class=\"{ hide_big_bar_class: isHideBar }\">\n                                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                                    <v-card outlined dense class=\"no_border\">\n                                        <h2> <span v-if=\"appType != 'npo' \">{{ $t(\"customer\") }}</span> <span v-else>{{ $t(\"donor\") }}</span></h2>\n                                        <v-icon\n                                            @click=\"cancel()\"\n                                            style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                            class=\"float-right\"\n                                        >close\n                                        </v-icon>\n                                    </v-card>\n                                    <v-card\n                                        outlined\n                                        dense\n                                        class=\"px-3 no_border mb-3\"\n                                        color=\"grayBg\"\n                                        height=\"255px;\">\n                                        <v-row>\n                                            <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label  mb-0\">{{\n                                                        $t(\"type\")\n                                                    }}</label>\n                                                <v-select\n                                                    class=\"mt-1\"\n                                                    :items=\"customerTypes\"\n                                                    placeholder=\"Type\"\n                                                    item-text=\"name\"\n                                                    :rules=\"[(v) => !!v || $t('is_required')]\"\n                                                    v-on:change=\"customerTypeChange\"\n                                                    v-model=\"customer.customerType\"\n                                                    :disabled=\"disabledMe\"\n                                                    return-object\n                                                    outlined\n                                                />\n                                                <label class=\"label mb-0\">{{\n                                                        $t(\"name\")\n                                                    }}</label>\n                                                <v-text-field\n                                                    class=\"mt-1\"\n                                                    v-model=\"customer.name\"\n                                                    outlined\n                                                    :rules=\"[(v) => !!v || 'Name is required']\"\n                                                    required\n                                                />\n                                                <label class=\"label  mb-0\" style=\"\">{{\n                                                        $t(\"registered_date\")\n                                                    }}</label>\n                                                <app-datepicker\n                                                    :initialDate=\"customer.registeredDate\"\n                                                    @emitDate=\"registeredDate = $event\"\n                                                />\n                                            </v-col>\n                                            <v-col sm=\"6\" cols=\"12\" class=\"pb-0\">\n                                                <label class=\"label mb-0\">{{\n                                                        $t(\"number\")\n                                                    }}</label>\n                                                <v-row class=\"pt-1 pb-0\">\n                                                    <v-col sm=\"2\" cols=\"2\" class=\"py-0 pr-0\">\n                                                        <div class=\"code_text text-uppercase\">\n                                                            {{\n                                                                customer.customerType\n                                                                    ? customer.customerType.abbr\n                                                                    : \"\"\n                                                            }}\n                                                        </div>\n                                                    </v-col>\n                                                    <v-col sm=\"8\" cols=\"8\" class=\"py-0 pl-0\">\n                                                        <v-text-field\n                                                            class=\"disable_alert custom-border \"\n                                                            :disabled=\"disabledMe\"\n                                                            v-model=\"customer.number\"\n                                                            outlined\n                                                            :rules=\"[(v) => !!v || $t('is_required')]\"\n                                                            required/>\n                                                    </v-col>\n                                                    <v-col sm=\"2\" cols=\"2\" class=\"py-0 pl-0\">\n                                                        <div class=\" text-uppercase\">\n                                                            <v-checkbox\n                                                                class=\"mt-0\"\n                                                                :disabled=\"disabledMe\"\n                                                                @change=\"onCheckChanged\"\n                                                                v-model=\"customer.autoNumber\"\n                                                                :label=\"`Auto`\"\n                                                            />\n                                                        </div>\n                                                    </v-col>\n                                                </v-row>\n\n                                                <label class=\"label mb-0\">{{\n                                                        $t(\"alternative_name\")\n                                                    }}</label>\n                                                <v-text-field\n                                                    class=\"mt-1\"\n                                                    tage=\"Alternative Name\"\n                                                    v-model=\"customer.alternativeName\"\n                                                    outlined/>\n                                                <label class=\"mb-0 text-uppercase\">{{\n                                                        $t(\"banhji_consumer_id\")\n                                                    }}</label>\n                                                <v-text-field\n                                                    class=\"disable_alert mt-1\"\n                                                    tage=\"Banhji id\"\n                                                    v-model=\"customer.consumerId\"\n                                                    outlined/>\n                                            </v-col>\n                                        </v-row>\n                                    </v-card>\n                                    <!-- Tabs -->\n                                    <v-tabs slider-color=\"#ffffff\" class=\"individual_tabs mb-3\">\n                                        <v-tab>\n                                            <span class=\" text-uppercase\">{{ $t(\"contact_address\") }}</span>\n                                        </v-tab>\n                                        <v-tab>\n                                            <span class=\" text-uppercase\">{{ $t(\"payment_billing\") }}</span>\n                                        </v-tab>\n                                        <v-tab v-if=\"appType != 'npo'\">\n                                            <span class=\" text-uppercase\">{{ $t(\"account_tax\") }}</span>\n                                        </v-tab>\n                                        <v-tab>\n                                            <span class=\"text-uppercase\">{{ $t(\"contact_person\") }}</span>\n                                        </v-tab>\n                                        <v-tab>\n                                            <span class=\" text-uppercase\">{{ $t(\"note\") }}</span>\n                                        </v-tab>\n                                        <v-tab>\n                                            <span class=\"hidden-sm-and-up\"><v-icon left>mdi-pen</v-icon></span>\n                                            <span class=\"hidden-sm-and-down  text-capitalize\">{{ $t(\"image\") }} </span>\n                                        </v-tab>\n\n                                        <v-tab-item eager>\n                                            <v-row>\n                                                <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                    <p class=\"color_grey\">{{ $t(\"add_inv_contact_customer\") }}</p>\n                                                    <label class=\"label mb-0\">{{ $t(\"phone_number\") }}</label>\n                                                    <v-text-field\n                                                        class=\"mt-1\"\n                                                        tage=\"Phone Number\"\n                                                        v-model=\"phone\"\n                                                        outlined/>\n                                                    <label class=\"mb-0\">{{ $t(\"website\") }}</label>\n                                                    <v-text-field\n                                                        class=\"mt-1\"\n                                                        v-model=\"website\"\n                                                        tage=\"Company Website\"\n                                                        outlined/>\n                                                    <label class=\"mb-0\">{{ $t(\"email\") }}</label>\n                                                    <v-text-field\n                                                        class=\"mt-1\"\n                                                        tage=\"Email\"\n                                                        v-model=\"email\"\n                                                        outlined/>\n                                                    <label class=\"mb-0\">{{ $t(\"description\") }}</label>\n                                                    <v-textarea\n                                                        no-resize\n                                                        height=\"90px\"\n                                                        class=\"mt-1 textareas\"\n                                                        v-model=\"description\"\n                                                        rows=\"3\"\n                                                        outlined/>\n                                                </v-col>\n                                                <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                    <v-dialog v-model=\"dialogM2\" max-width=\"500px\">\n                                                        <template v-slot:activator=\"{ on }\">\n                                                            <v-btn\n                                                                color=\"primary\"\n                                                                rounded\n                                                                class=\" float-right white--text mb-4\"\n                                                                v-on=\"on\"\n                                                                @click=\"onNewAddressClick\">{{ $t(\"add_new_address\") }}\n                                                            </v-btn>\n                                                        </template>\n                                                        <v-card>\n                                                            <div class=\"modal_header\">\n                                                                <v-card-title>{{ $t(\"address\") }}</v-card-title>\n                                                                <v-icon\n                                                                    @click=\"dialogM2 = false\">close\n                                                                </v-icon>\n                                                            </div>\n                                                            <v-divider/>\n                                                            <v-card-text class=\"modal_text_content\">\n                                                                <v-row class=\"mt-2\">\n                                                                    <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                                        <label\n                                                                            class=\"mb-0\">{{\n                                                                                $t(\"address_name\")\n                                                                            }}</label>\n                                                                        <v-text-field\n                                                                            class=\"mt-1\"\n                                                                            tage=\"Address Name\"\n                                                                            v-model=\"address.name\"\n                                                                            outlined/>\n                                                                        <label\n                                                                            class=\"label mb-0\">{{\n                                                                                $t(\"address_type\")\n                                                                            }}</label>\n                                                                        <v-select\n                                                                            class=\"mt-1\"\n                                                                            :items=\"addressType\"\n                                                                            tage=\"Address Type\"\n                                                                            v-model=\"address.type\"\n                                                                            outlined/>\n                                                                        <label\n                                                                            class=\"mb-0\">{{\n                                                                                $t(\"address_line_2\")\n                                                                            }}</label>\n                                                                        <v-text-field\n                                                                            class=\"mt-1\"\n                                                                            v-model=\"address.line2\"\n                                                                            tage=\"Address Line 2\"\n                                                                            outlined/>\n                                                                    </v-col>\n                                                                    <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                                                        <label class=\"mb-0\">{{ $t(\"country\") }}</label>\n                                                                        <v-select\n                                                                            class=\"mt-1\"\n                                                                            :items=\"countries\"\n                                                                            tage=\"Address Country\"\n                                                                            v-model=\"address.country\"\n                                                                            item-value=\"abbreviation\"\n                                                                            :item-text=\"(item) =>`${item.abbreviation} - ${item.country}`\"\n                                                                            return-object\n                                                                            outlined/>\n                                                                        <label\n                                                                            class=\"mb-0\">{{\n                                                                                $t(\"address_line_1\")\n                                                                            }}</label>\n                                                                        <v-text-field\n                                                                            class=\"mt-1\"\n                                                                            v-model=\"address.line1\"\n                                                                            tage=\"Address Line 1\"\n                                                                            outlined/>\n                                                                    </v-col>\n                                                                </v-row>\n                                                            </v-card-text>\n                                                            <v-card-actions\n                                                                class=\"modal_footer d-flex justify-space-between\">\n                                                                <v-btn\n                                                                    outlined\n                                                                    color=\"primary\"\n                                                                    class=\"black--text\"\n                                                                    @click=\"dialogM2 = false\">{{ $t(\"cancel\") }}\n                                                                </v-btn>\n                                                                <v-btn\n                                                                    @click=\"onSaveCloseAddress\"\n                                                                    class=\"white--text\"\n                                                                    color=\"primary\">{{ $t(\"save_close\") }}\n                                                                </v-btn>\n                                                            </v-card-actions>\n                                                        </v-card>\n                                                    </v-dialog>\n                                                    <v-simple-table\n                                                        class=\"exchange-table\"\n                                                        style=\"clear: right;\">\n                                                        <kendo-datasource\n                                                            ref=\"gridAddressDS\"\n                                                            :data=\"addressList\"/>\n                                                        <kendo-grid\n                                                            id=\"gridAddress\"\n                                                            class=\"grid-function\"\n                                                            :data-source-ref=\"'gridAddressDS'\"\n                                                            :editable=\"false\"\n                                                            :scrollable-virtual=\"true\">\n                                                            <kendo-grid-column\n                                                                :field=\"'no'\"\n                                                                :title=\"$t('no')\"\n                                                                :template=\"rowNumberTmpl\"\n                                                                :width=\"40\"\n                                                                :column-menu=\"false\"\n                                                                :headerAttributes=\"{style: 'background-color: #EDF1F5;', class: 'text-center'}\"\n                                                                :attributes=\"{ style: 'text-align: center' }\"/>\n                                                            <kendo-grid-column\n                                                                :field=\"'name'\"\n                                                                :title=\"$t('name')\"\n                                                                :attributes=\"{ class: 'tb_name_td' }\"\n                                                                :width=\"50\"\n                                                                :template=\"'<span>#=name#</span>'\"\n                                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                            <kendo-grid-column\n                                                                :field=\"'type'\"\n                                                                :title=\"$t('type')\"\n                                                                :width=\"90\"\n                                                                :template=\"'<span>#=type#</span>'\"\n                                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                            <kendo-grid-column\n                                                                :field=\"''\"\n                                                                :title=\"$t('action')\"\n                                                                :width=\"70\"\n                                                                :command=\"[{\n                                                                    iconClass: 'k-icon k-i-edit', \n                                                                    text: 'Edit',\n                                                                    click: goEditAddress\n                                                                }]\"\n                                                                :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"/>\n                                                        </kendo-grid>\n                                                    </v-simple-table>\n                                                    <!--                          <v-container class=\"px-0\" fluid>-->\n                                                    <!--                            <v-checkbox-->\n                                                    <!--                                v-model=\"customer.isDonor\"-->\n                                                    <!--                                :label=\"$t('is_donor')\"></v-checkbox>-->\n                                                    <!--                          </v-container>-->\n                                                    <!-- <v-row>\n                                                      <v-col sm=\"8\">\n                                                        <p class=\"color_grey\">\n                                                          {{ $t(\"all_longitude\") }}\n                                                        </p>\n                                                      </v-col>\n                                                      <v-col sm=\"4\">\n                                                        <v-btn color=\"primary\" class=\"\">{{\n                                                          $t(\"view_map\")\n                                                        }}</v-btn>\n                                                      </v-col>\n                                                    </v-row>\n                                                    <v-row>\n                                                      <v-col sm=\"6\">\n                                                        <label class=\"mb-0\">{{ $t(\"longitude\") }}</label>\n                                                        <v-text-field\n                                                          class=\"mt-1\"\n                                                          tage=\"Longitude\"\n                                                          v-model=\"longitude\"\n                                                          placeholder=\"Longitude\"\n                                                          outlined\n                                                        />\n                                                      </v-col>\n                                                      <v-col sm=\"6\">\n                                                        <label class=\"mb-0\">{{ $t(\"latitude\") }}</label>\n                                                        <v-text-field\n                                                          class=\"mt-1\"\n                                                          placeholder=\"Latitude\"\n                                                          tage=\"Latitude\"\n                                                          v-model=\"latitude\"\n                                                          outlined\n                                                        />\n                                                      </v-col>\n                                                    </v-row> -->\n                                                </v-col>\n                                            </v-row>\n                                        </v-tab-item>\n                                        <!-- item 2 -->\n                                        <v-tab-item eager>\n                                            <p class=\"color_grey\">{{ $t(\"payment_billing_desc\") }}</p>\n                                            <v-row>\n                                                <v-col class=\"py-0\" sm=\"6\" cols=\"12\">\n                                                    <label class=\"label mb-0\">{{ $t(\"group\") }}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        v-model=\"mCustomerGroup\"\n                                                        :items=\"customerGroups\"\n                                                        item-value=\"id\"\n                                                        item-text=\"name\"\n                                                        @change=\"customerGroupChanged\"\n                                                        return-object\n                                                        placeholder=\"Group A\"\n                                                        outlined/>\n                                                    <label class=\"mb-0\">{{ $t(\"default_discount\") }}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        v-model=\"mDiscountItem\"\n                                                        :items=\"discountItems\"\n                                                        item-value=\"id\"\n                                                        item-text=\"name\"\n                                                        return-object\n                                                        tage=\"Default Discount\"\n                                                        placeholder=\"0% discount\"\n                                                        outlined/>\n                                                    <label class=\"mb-0\">{{ $t(\"bank_transfer\") }}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        :items=\"bankTransfer\"\n                                                        :rules=\"[(v) => !!v || 'Bank transfer is required',]\"\n                                                        :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                        v-model=\"customer.bankTransfer\"\n                                                        return-object\n                                                        outlined/>\n                                                    <label class=\"mb-0\">{{ $t(\"default_price_level\") }}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        v-model=\"customer.priceLevel\"\n                                                        :items=\"priceLevel\"\n                                                        item-value=\"id\"\n                                                        item-text=\"name\"\n                                                        return-object\n                                                        :rules=\"[(v) => !!v || $t('is required!')]\"\n                                                        placeholder=\"Price Level\"\n                                                        tage=\"Default Price Level\"\n                                                        outlined/>\n                                                </v-col>\n                                                <v-col class=\"py-0\" sm=\"6\" cols=\"12\">\n                                                    <label class=\"mb-0\">{{ $t(\"cash_payment\") }}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        :items=\"cashPayment\"\n                                                        tage=\"Cash Payment\"\n                                                        :rules=\"[(v) => !!v || 'Cash payment is required',]\"\n                                                        :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                        v-model=\"customer.cashPayment\"\n                                                        clearable\n                                                        return-object\n                                                        outlined/>\n                                                    <label class=\"mb-0\">{{ $t(\"bill_payment\") }}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        :items=\"billPayment\"\n                                                        tage=\"Bill Payment\"\n                                                        :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                        v-model=\"customer.billPayment\"\n                                                        return-object\n                                                        clearable\n                                                        outlined/>\n                                                    <label class=\"mb-0\">{{ $t(\"qr_payment\") }}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        :items=\"qrPayment\"\n                                                        :item-text=\"(item) => `${item.code} - ${item.name}`\"\n                                                        v-model=\"customer.qrPayment\"\n                                                        return-object\n                                                        clearable\n                                                        outlined/>\n                                                </v-col>\n                                            </v-row>\n                                        </v-tab-item>\n                                        <!-- item3 -->\n                                        <v-tab-item eager v-if=\"appType != 'npo'\" >\n                                            <v-row>\n                                                <v-col cols=\"12\" class=\"py-0\">\n                                                    <p class=\"color_grey\">{{ $t(\"acc_tax_individual_desc\") }}</p>\n                                                </v-col>\n                                                <v-col class=\"py-0\" sm=\"6\" cols=\"12\">\n                                                    <label class=\"label mb-0\">{{ $t(\"account_receivable\") }}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        v-model=\"mAccReceivable\"\n                                                        :items=\"accReceivable\"\n                                                        item-value=\"id\"\n                                                        :item-text=\"(item) => `${item.number} - ${item.name}`\"\n                                                        return-object\n                                                        :rules=\"[(v) => !!v['id'] || $t('is required!')]\"\n                                                        placeholder=\"Account Receivable\"\n                                                        tage=\"Account Receivable\"\n                                                        outlined>\n                                                    </v-select>\n                                                    <label class=\"label mb-0\">{{ $t(\"sale_deposit\") }}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        v-model=\"mAccDeposit\"\n                                                        :items=\"accDeposit\"\n                                                        :disabled=\"disabledMe\"\n                                                        item-value=\"id\"\n                                                        :item-text=\"(item) => `${item.number} - ${item.name}`\"\n                                                        return-object\n                                                        tage=\"Sale Deposit\"\n                                                        :rules=\"[(v) => !!v || $t('is required!')]\"\n                                                        placeholder=\"Sale Deposit Account\"\n                                                        outlined>\n                                                    </v-select>\n\n                                                    <label class=\"label mb-0\">{{ $t(\"settlement_discount\") }}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        v-model=\"mAccDiscount\"\n                                                        :items=\"accDiscount\"\n                                                        item-value=\"id\"\n                                                        :item-text=\"(item) => `${item.number} - ${item.name}`\"\n                                                        return-object\n                                                        :rules=\"[(v) => !!v || $t('is required!')]\"\n                                                        tage=\"Settlement Discount\"\n                                                        placeholder=\"Receipt Settlement Discount\"\n                                                        outlined=\"\">\n                                                    </v-select>\n                                                </v-col>\n                                                <v-col class=\"py-0\" sm=\"6\" cols=\"12\">\n                                                    <label class=\"label mb-0\">{{ $t(\"default_tax\") }}</label>\n                                                    <v-select\n                                                        class=\"mt-1\"\n                                                        v-model=\"mVat\"\n                                                        :items=\"vat\"\n                                                        item-value=\"id\"\n                                                        item-text=\"defaultTax\"\n                                                        return-object\n                                                        tage=\"Default Tax\"\n                                                        placeholder=\"VAT (10%)\"\n                                                        outlined>\n                                                    </v-select>\n                                                    <label class=\"mb-0 text-uppercase\">{{ $t(\"tax_id\") }}</label>\n                                                    <v-text-field\n                                                        class=\"\"\n                                                        tage=\"Tax Id\"\n                                                        v-model=\"customer.taxId\"\n                                                        outlined/>\n                                                </v-col>\n                                            </v-row>\n                                        </v-tab-item>\n                                        <!-- item4  cotact person-->\n                                        <v-tab-item eager>\n                                            <v-row>\n                                                <v-col class=\"py-0\" cols=\"5\">\n                                                    <p class=\"color_grey\">{{ $t(\"cusotmer_func_contact_person\") }}</p>\n                                                </v-col>\n                                                <v-col class=\"py-0\" cols=\"7\">\n                                                    <v-dialog v-model=\"dialogM3\" max-width=\"400px\">\n                                                        <template v-slot:activator=\"{ on }\">\n                                                            <v-btn\n                                                                color=\"primary\"\n                                                                rounded\n                                                                class=\"white--text float-left mb-4\"\n                                                                @click=\"onNewContactPersonClick\"\n                                                                v-on=\"on\">{{ $t(\"add_new_contact_person\") }}\n                                                            </v-btn>\n                                                        </template>\n                                                        <v-card>\n                                                            <div class=\"modal_header\">\n                                                                <v-card-title>{{ $t(\"address\") }}</v-card-title>\n                                                                <v-icon class=\"btn_close\"\n                                                                        @click=\"dialogM3 = false\">close\n                                                                </v-icon>\n                                                            </div>\n                                                            <v-card-text class=\"modal_text_content\">\n                                                                <v-row>\n                                                                    <v-col cols=\"12\">\n                                                                        <label\n                                                                            class=\"mb-0\">{{\n                                                                                $t(\"contact_name\")\n                                                                            }}</label>\n                                                                        <v-text-field\n                                                                            class=\"mt-1\"\n                                                                            v-model=\"contactPerson.name\"\n                                                                            tage=\"Contact Name\"\n                                                                            outlined/>\n                                                                        <label\n                                                                            class=\"label mb-0\">{{\n                                                                                $t(\"position\")\n                                                                            }}</label>\n                                                                        <v-text-field\n                                                                            class=\"mt-1\"\n                                                                            v-model=\"contactPerson.position\"\n                                                                            tage=\"Position\"\n                                                                            outlined/>\n                                                                        <label class=\"mb-0\">{{ $t(\"phone\") }}</label>\n                                                                        <v-text-field\n                                                                            class=\"mt-1\"\n                                                                            v-model=\"contactPerson.phone\"\n                                                                            tage=\"Phone\"\n                                                                            outlined/>\n                                                                        <label class=\"mb-0\">{{ $t(\"email\") }}</label>\n                                                                        <v-text-field\n                                                                            class=\"mt-1\"\n                                                                            v-model=\"contactPerson.email\"\n                                                                            tage=\"Email\"\n                                                                            outlined/>\n                                                                    </v-col>\n                                                                </v-row>\n                                                            </v-card-text>\n                                                            <v-divider/>\n                                                            <v-card-actions\n                                                                class=\"modal_footer d-flex justify-space-between\">\n                                                                <v-btn\n                                                                    class=\"black--text\"\n                                                                    outlined\n                                                                    color=\"primary\"\n                                                                    @click=\"dialogM3 = false\">{{ $t(\"cancel\") }}\n                                                                </v-btn>\n                                                                <v-btn\n                                                                    class=\"white--text\"\n                                                                    color=\"primary\"\n                                                                    @click=\"onSaveCloseContactPerson\">\n                                                                    {{ $t(\"save_close\") }}\n                                                                </v-btn>\n                                                            </v-card-actions>\n                                                        </v-card>\n                                                    </v-dialog>\n                                                </v-col>\n                                            </v-row>\n                                            <v-row>\n                                                <v-col sm=\"12\" cols=\"12\">\n                                                    <v-simple-table\n                                                        class=\"exchange-table\"\n                                                        style=\"clear: right;\">\n                                                        <kendo-datasource\n                                                            ref=\"gridContactPersonDS\"\n                                                            :data=\"contactPersonList\"/>\n                                                        <kendo-grid\n                                                            id=\"gridContactPerson\"\n                                                            class=\"grid-function\"\n                                                            :data-source-ref=\"'gridContactPersonDS'\"\n                                                            :editable=\"false\"\n                                                            :scrollable-virtual=\"true\">\n                                                            <kendo-grid-column\n                                                                :field=\"'no'\"\n                                                                :title=\"$t('no')\"\n                                                                :template=\"rowNumberTmplPerson\"\n                                                                :width=\"40\"\n                                                                :column-menu=\"false\"\n                                                                :headerAttributes=\"{style: 'background-color: #EDF1F5;',class: 'text-center'}\"/>\n                                                            <kendo-grid-column\n                                                                :field=\"'name'\"\n                                                                :title=\"$t('name')\"\n                                                                :attributes=\"{ class: 'tb_name_td' }\"\n                                                                :width=\"50\"\n                                                                :template=\"'<span>#=name#</span>'\"\n                                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                            <kendo-grid-column\n                                                                :field=\"'position'\"\n                                                                :title=\"$t('position')\"\n                                                                :width=\"90\"\n                                                                :template=\"'<span>#=position#</span>'\"\n                                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                            <kendo-grid-column\n                                                                :field=\"'phone'\"\n                                                                :title=\"$t('phone')\"\n                                                                :width=\"90\"\n                                                                :template=\"'<span>#=phone#</span>'\"\n                                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                            <kendo-grid-column\n                                                                :field=\"'email'\"\n                                                                :title=\"$t('email')\"\n                                                                :width=\"90\"\n                                                                :template=\"'<span>#=email#</span>'\"\n                                                                :headerAttributes=\"{style: 'background-color: #EDF1F5'}\"/>\n                                                            <kendo-grid-column\n                                                                :field=\"''\"\n                                                                :title=\"$t('action')\"\n                                                                :width=\"70\"\n                                                                :command=\"[{iconClass: 'k-icon k-i-edit',text: 'Edit',click: goEditContactPerson}]\"\n                                                                :headerAttributes=\"{style:'text-align: left; background-color: #EDF1F5'}\"/>\n                                                        </kendo-grid>\n                                                    </v-simple-table>\n                                                </v-col>\n                                            </v-row>\n                                        </v-tab-item>\n                                        <!-- Tab payment billing -->\n                                        <v-tab-item eager>\n                                            <p class=\"color_grey\">{{ $t('note_individual_desc') }}</p>\n                                            <editor\n                                                ref=\"invoceNoteEditor\"\n                                                :resizable-content=\"true\"\n                                                :resizable-toolbar=\"true\"\n                                                :value=\"customer.noteOnInvoice\"\n                                                style=\"height:120px\"\n                                                class=\"mt-1\"\n                                                rows=\"10\"\n                                                cols=\"30\"/>\n                                        </v-tab-item>\n                                        <v-tab-item eager>\n                                            <v-col sm=\"12\" class=\"pa-0\">\n                                                <h2 class=\"mb-2 font_20 width_100\">\n                                                    {{ $t(\"default_image\") }}\n                                                </h2>\n                                                <v-row>\n                                                    <v-col sm=\"5\" cols=\"12\" class=\"py-0\">\n                                                        <p class=\"color_grey font_14 mb-0\">\n                                                            {{ $t(\"add_funct_prod_variant_desc3\") }}</p>\n                                                    </v-col>\n                                                    <v-col sm=\"7\" cols=\"12\" class=\"py-0\">\n                                                        <v-img width=\"100px\" height=\"150px\" :src=\"src\"/>\n                                                        <label>\n                                                            <input\n                                                                type=\"file\"\n                                                                name=\"image\"\n                                                                id=\"image\"\n                                                                :rules=\"fileSizeRules\"\n                                                                accept=\".png, .jpg, .jpeg\"\n                                                                ref=\"fileupload\"\n                                                                @change=\"onFileChange\"/>\n                                                        </label>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-tab-item>\n                                    </v-tabs>\n\n                                    <v-divider/>\n                                    <v-card outlined dense class=\"no_border function_footer\">\n                                        <v-alert type=\"warning\" v-model=\"alert\" dismissible>\n                                            <span v-html=\"errorMessage\"/>\n                                        </v-alert>\n                                        <v-btn\n                                            color=\"primary\"\n                                            outlined\n                                            class=\"float-left  black--text text-capitalize\"\n                                            @click=\"cancel\"\n                                        >{{ $t(\"cancel\") }}\n                                        </v-btn>\n                                        <v-btn\n                                            color=\"primary\"\n                                            class=\"ml-2  float-right white--text text-capitalize\"\n                                            :disabled=\"btnDisabled\"\n                                            @click=\"onSaveClose('close')\">{{ $t(\"save_close\") }} \n                                        </v-btn>\n                                        <v-btn color=\"secondary\"\n                                               style=\"margin-right: 10px !important\"\n                                               class=\"white--text float-right text-capitalize\"\n                                               :disabled=\"btnDisabled\"\n                                               @click=\"onSaveClose('new')\" :hidden=\"hiddenButton\">{{ $t(\"save_new\") }}\n                                        </v-btn>\n                                       \n                                    </v-card>\n                                </v-form>\n                            </v-col>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"false\"\n                :myLoading=\"true\"\n                :alertMessage=\"loadingAlert\"\n                :color=\"loadingColorAlert\"\n                :alertText=\"loadingTextAlert\"\n            />\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport {i18n} from \"@/i18n\";\nimport DatePickerComponent from \"@/components/custom_templates/DatePickerComponent\";\nimport {uuid} from \"vue-uuid\";\nimport CustomerModel from \"@/scripts/model/Customer\";\nimport CompanyCustomerModel from \"@/scripts/model/CompanyCustomer\";\nimport {dataStore} from \"@/observable/store\";\n\nconst customerModel = new CustomerModel({});\nconst accountHandler = require(\"@/scripts/handler/accounting/account\");\nconst customerHandler = require(\"@/scripts/customerHandler\");\nconst customerTypeHandler = require(\"@/scripts/customerTypeHandler\");\nconst settingHandler = require(\"@/scripts/settingHandler\");\nconst paymentOptionHandler = require(\"@/scripts/paymentOptionHandler\");\nconst paymentTermHandler = require(\"@/scripts/paymentTermHandler\");\nconst otherHandler = require(\"@/scripts/otherHandler\");\nconst warehouseHandler = require(\"@/scripts/warehouseHandler\");\nconst priceLevelHandler = require(\"@/scripts/priceLevelHandler\");\nconst discountItemHandler = require(\"@/scripts/discountItemHandler\");\nconst customerGroupHandler = require(\"@/scripts/customerGroupHandler\");\n// import { DropDownList } from \"@progress/kendo-vue-dropdowns\";\nimport kendo from \"@progress/kendo-ui\";\n\nconst instituteHandler = require(\"@/scripts/instituteHandler\");\nimport {Editor} from \"@progress/kendo-editor-vue-wrapper\";\nimport PaymentOptionModel from \"@/scripts/model/PaymentOption\";\nimport {PAYMENT_OPINION_TYPE} from \"@/scripts/default_setup/Setting\";\n\nconst $ = require(\"jquery\");\nconst textField = \"name\";\nconst keyField = \"id\";\nconst defaultItem = {[textField]: \"Select customer...\", [keyField]: null};\nconst emptyItem = {[textField]: \"loading ...\"};\nconst pageSize = 10;\n\nconst loadingData = [];\nwhile (loadingData.length < pageSize) {\n    loadingData.push({...emptyItem});\n}\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\nconst instituteId = cookie.instituteId;\n\nconst OPTION_TYPE = \"?type=Sale\";\nexport default {\n    name: \"CompanyCustomer\",\n    props: [\"id\"],\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n        \"app-datepicker\": DatePickerComponent,\n        // dropdownlist: DropDownList,\n        editor: Editor,\n    },\n    data: () => ({\n        isEdit: false,\n        isHideBar: false,\n        showLoading: false,\n        loadingAlert: false,\n        loadingColorAlert: \"\",\n        loadingTextAlert: \"\",\n        dialogM2: false,\n        dialogM3: false,\n        alert: false,\n        addressType: [\"Billing\", \"Delivery\", \"Contact\"],\n        deliveryMethod: [],\n        valid: true,\n        customer: customerModel,\n        customerTypes: [],\n        subOfCustomerItem: [],\n        subOfCustomer: [],\n        billByParent: [],\n        contactAddress: [],\n        paymentBilling: [],\n        accountTax: [],\n        customerList: [],\n        defaultTaxOnShipping: [],\n        mDefaultTaxOnShipping: {},\n        tax: [],\n        vat: [],\n        mVat: {},\n        customerBillToItem: [],\n        customerBillTo: [],\n        countries: [],\n        address: {\n            id: \"\",\n            name: \"\",\n            type: \"\",\n            country: {},\n            line1: \"\",\n            line2: \"\",\n        },\n        contactPerson: {\n            id: \"\",\n            name: \"\",\n            position: \"\",\n            phone: \"\",\n            email: \"\",\n        },\n        paymentOptions: [],\n        paymentTerms: [],\n        wareHouses: [],\n        mPaymentMethod: {},\n        mPaymentTerm: {},\n        mWareHouse: {},\n        accReceivable: [],\n        mAccReceivable: {},\n        accDeposit: [],\n        mAccDeposit: {},\n        accDiscount: [],\n        mAccDiscount: {},\n        priceLevel: [],\n        mPriceLevel: {},\n        discountItems: [],\n        customerGroups: [],\n        mDiscountItem: {},\n        mCustomerGroup: {},\n        registeredDate: new Date().toISOString().substr(0, 10),\n        imgFile: \"\",\n        src: \"\",\n        fileSizeRules: [\n            (files) =>\n                !files ||\n                !files.some((file) => file.size > 1024 * 1024) ||\n                \"Image size should be less than 1 MB!\",\n        ],\n        newClick: false,\n        newContactPersonClick: false,\n        popupSettings: {\n            height: \"250px\",\n        },\n        defaultItem: defaultItem,\n        baseUrl: customerHandler.search(),\n        init: {method: \"GET\", accept: \"application/json\", headers: []},\n        pendingRequest: undefined,\n        requestStarted: false,\n        skip: 0,\n        tempSkip: null,\n        total: 0,\n        filter: \"\",\n        textField: \"name\",\n        dataItemKey: \"id\",\n        errorMessage: \"\",\n        baseCurrencyCode: \"\",\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email\n        },\n        cashPayment: [],\n        billPayment: [],\n        qrPayment: [],\n        bankTransfer: [],\n        addressList: [],\n        contactPersonList: [],\n        lastNumber: 1,\n        disableNumber: false,\n        btnDisabled: false,\n        disabledMe: false\n    }),\n    methods: {\n        isDonorDefault(){\n            if(this.appType == 'npo'){\n                this.customer.isDonor =  true;\n            }else{\n               this.customer.isDonor =  false \n            }\n            window.console.log(this.customer.isDonor, \"check is donor\")\n        },\n        async loadInstituteInfo() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    instituteHandler.getOneCompany(instituteId).then((res) => {\n                        const company = res;\n                        if (company.hasOwnProperty(\"baseCurrency\")) {\n                            window.console.log(company.baseCurrency, 'company')\n                            if (company.baseCurrency.hasOwnProperty(\"code\")) {\n                                this.baseCurrencyCode = company.baseCurrency.code;\n                            }\n                        }\n                    });\n                    resolve(\"resolved\");\n                }, 10);\n            });\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t(\"msg_title_warning\"),\n                text: i18n.t(\"msg_discard\"),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t(\"cancel\"),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t(\"discard\"),\n            }).then((result) => {\n                if (result.value) {\n                    this.clear()\n                    this.$router.go(-1);\n                }\n            });\n        },\n        close(data) {\n            if (this.$route.params.query !== undefined) {\n                window.console.log(this.$route.params.query, \"id--\");\n                window.history.go(-1);\n            } else {\n                // window.console.log(data, 'id-cus--')\n                this.$router.push({\n                    name: \"Customers\",\n                    params: {\n                        data: data,\n                    },\n                });\n            }\n        },\n        requestData(skip, filter) {\n            const url = this.baseUrl + `?filter=${filter}`;\n            // `search?$filter='${filter}'&$skip=${skip}&$top=${pageSize}&$count=true`;\n            this.requestStarted = true;\n            fetch(url)\n                .then((response) => {\n                    return response.json();\n                })\n                .then(this.afterFetch);\n        },\n        onChange(event) {\n            const value = event.value;\n            if (value && value[textField] === emptyItem[textField]) {\n                return;\n            }\n            this.customer.subOfCustomer = value;\n        },\n        afterFetch(json) {\n            this.customerList = json.data;\n        },\n        onFilterChange(event) {\n            const filter = event.filter.value;\n            // this.resetCach();\n            this.requestData(0, filter);\n            // this.dataItems = loadingData;\n            // this.skip = 0;\n            this.filter = filter;\n        },\n        onNewAddressClick() {\n            this.newClick = true;\n            this.address = {};\n        },\n        onNewContactPersonClick() {\n            this.newContactPersonClick = true;\n            this.contactPerson = {};\n        },\n        async loadCountry() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    otherHandler.country().then((res) => {\n                        this.showLoading = false;\n                        this.countries = res;\n                    });\n                }, 10);\n            });\n        },\n        onSaveCloseAddress() {\n            if (this.addresses) {\n                if (this.newClick) {\n                    this.address.id = uuid.v1();\n                    this.addresses.push({\n                        id: this.address.id,\n                        name: this.address.name,\n                        type: this.address.type,\n                        country: this.address.country,\n                        line1: this.address.line1,\n                        line2: this.address.line2,\n                    });\n                } else {\n                    const addr = this.address;\n                    const index = this.addresses.findIndex((item) => {\n                        return addr.id === item.id;\n                    });\n                    if (index < 0) {\n                        this.addresses.push(addr);\n                    } else {\n                        this.addresses.splice(index, 1, addr);\n                    }\n                }\n            }\n            this.addressList = this.addresses\n            this.dialogM2 = false;\n        },\n        onSaveCloseContactPerson() {\n            if (this.contactPersons) {\n                if (this.newContactPersonClick) {\n                    this.contactPerson.id = uuid.v1();\n                    this.contactPersons.push({\n                        id: this.contactPerson.id,\n                        name: this.contactPerson.name ? this.contactPerson.name : \"\",\n                        position: this.contactPerson.position\n                            ? this.contactPerson.position\n                            : \"\",\n                        phone: this.contactPerson.phone ? this.contactPerson.phone : \"\",\n                        email: this.contactPerson.email ? this.contactPerson.email : \"\",\n                    });\n                } else {\n                    const contactP = this.contactPerson;\n                    const index = this.contactPersons.findIndex((item) => {\n                        return contactP.id === item.id;\n                    });\n                    if (index < 0) {\n                        this.contactPersons.push(contactP);\n                    } else {\n                        this.c.splice(index, 1, contactP);\n                    }\n                }\n            }\n            this.contactPersonList = this.contactPersons\n            this.dialogM3 = false;\n        },\n        goEditAddress(e) {\n            this.newClick = false;\n            e.preventDefault();\n            let grid = kendo.jQuery(\"#gridAddress\").data(\"kendoGrid\");\n            let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n            this.address = dataItem;\n            this.mCountry = dataItem.country;\n            this.dialogM2 = true;\n        },\n        goEditContactPerson(e) {\n            this.newClick = false;\n            e.preventDefault();\n            let grid = kendo.jQuery(\"#gridContactPerson\").data(\"kendoGrid\");\n            let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n            this.contactPerson = dataItem;\n            this.dialogM3 = true;\n        },\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.gridAddressDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        rowNumberTmplPerson(dataItem) {\n            let ds = this.$refs.gridContactPersonDS.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        onFileChange(e) {\n            // const file = e.target.files[0];\n            let input = e.target;\n            // Ensure that you have a file before attempting to read it\n            if (input.files && input.files[0]) {\n                if (input.files[0].size > 1024 * 1024) {\n                    e.preventDefault();\n                    alert(\"File too big (> 1MB)\");\n                    this.src = \"\";\n                    this.imgFile = \"\";\n                    this.$refs.fileupload.value = null;\n                } else {\n                    // create a new FileReader to read this image and convert to base64 format\n                    let reader = new FileReader();\n                    // Define a callback function to run, when FileReader finishes its job\n                    reader.onloadend = (e) => {\n                        // Note: arrow function used here, so that \"this.imageData\" refers to the imageData of Vue component\n                        // Read image as base64 and set to imageData\n                        this.imgFile = e.target.result;\n                    };\n                    // Start the reader job - read file as a data url (base64 format)\n                    reader.readAsBinaryString(input.files[0]);\n                    // this.url = input.files[0]\n                    this.src = URL.createObjectURL(e.target.files[0]);\n                }\n            }\n        },\n        async loadCustomerGroup() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    customerGroupHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.customerGroups = res;\n                    });\n                }, 10);\n            });\n        },\n        async customerGroupChanged() {\n            this.mDiscountItem = this.mCustomerGroup.hasOwnProperty(\n                \"discountItem\"\n            )\n                ? this.mCustomerGroup.discountItem\n                : {};\n            this.mPriceLevel = this.mCustomerGroup.hasOwnProperty(\"priceLevel\")\n                ? this.mCustomerGroup.priceLevel\n                : {};\n        },\n        async loadPriceLevel() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    priceLevelHandler.get().then((res) => {\n                        this.priceLevel = res;\n                        if (this.priceLevel.length > 0) {\n                            this.mPriceLevel = this.priceLevel[0];\n                            this.customer.priceLevel = this.priceLevel[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async initData() {\n            // window.console.log('me', this.customer)\n            if (this.$route.params.id !== undefined) {\n                await this.loadSingleCustomer();\n            } else {\n                // this.clear()\n            }\n        },\n        clear() {\n            const cusType = this.customer.customerType || {}\n            this.customer = new CompanyCustomerModel();\n            this.customer.customerType = cusType\n            this.addressList = []\n            this.contactPersonList = []\n            this.disabledMe = false\n            this.hiddenButton = false\n            this.disableNumber = false\n        },\n        customerTypeChange() {\n            // window.console.log('cus type changed', this.customer.type)\n            if (this.customer.hasOwnProperty(\"type\")) {\n                // this.mPaymentMethod = this.customer.type.defaultPaymentMethod;\n                // this.mPaymentTerm = this.customer.type.defaultPaymentTerm;\n                this.mVat = this.customer.customerType.saleTax;\n                // this.mDefaultTaxOnShipping = this.customer.type.defaultTaxOnShipping\n                this.mAccDeposit = this.customer.customerType.saleDepositAcc;\n                this.mAccDiscount = this.customer.customerType.saleDiscountAcc;\n                // this.customer.priceLevel = this.customer.customerType.priceLevel\n\n                this.customer.billPayment = this.customer.customerType.billPayment\n                this.customer.qrPayment = this.customer.customerType.qrPayment\n                this.customer.cashPayment = this.customer.customerType.cashPayment\n                this.customer.bankTransfer = this.customer.customerType.bankTransfer\n                // Load Prefix\n                // this.customer.number = this.pad(1, 6);\n                this.onCheckChanged()\n            }\n            // let match = this.customerItem.filter(m => m.customerType.name === this.customerType.name).map(item => {\n            //     return {\n            //         id: item.uuid,\n            //     }\n            // })\n            // window.console.log(match.length)\n            // let num = match.length + 1\n            // this.customer.number = this.pad(num, 6)\n            // // window.console.log(this.pad(num, 6))\n            // window.console.log(this.customer.number)\n            // Vue.nextTick()\n        },\n        pad(value, length) {\n            return (\"0\".repeat(length) + value).slice(-length);\n        },\n        removeRow() {\n        },\n        numberChange() {\n            let oldnum = this.customer.number;\n            let match1 = this.customerItem\n                .filter((m) => m.number === this.customer.number)\n                .map((item) => {\n                    return {\n                        id: item.uuid,\n                    };\n                });\n            if (match1.length > 0) {\n                this.customer.number = oldnum;\n                // this.customerTypeChange()\n                this.$snotify.error(\"Number is exist!\");\n            }\n        },\n        async onSaveClose(save) {\n            const editorNote = this.$refs.invoceNoteEditor.kendoWidget();\n            this.customer.noteOnInvoice = editorNote.value();\n            if (!this.$refs.form.validate()) {\n                // this.$refs.form.validate()\n                this.$snotify.error(\n                    \"Field is required, please check field each of tabs!\"\n                );\n                return;\n            }\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    // window.console.log(this.mShipVAT)\n                    let data = new CompanyCustomerModel({\n                        id: this.customer.id ? this.customer.id : \"\",\n                        name: this.customer.name,\n                        alternativeName: this.customer.alternativeName,\n                        customerType: this.customer.customerType,\n                        type: \"Company\",\n                        crn: this.customer.crn,\n                        isDonor: this.customer.isDonor,\n                        status: this.customer.status,\n                        deleted: this.customer.deleted,\n                        number: this.customer.number,\n                        instituteId: this.customer.fromInstituteId,\n                        subOfCustomer: this.customer.subOfCustomer,\n                        registeredDate: this.customer.registeredDate,\n                        billingType: this.customer.billingType,\n                        consumerId: this.customer.consumerId,\n                        taxId: this.customer.taxId,\n                        contactAddress: {\n                            gender: this.gender,\n                            phoneNumber: this.phone,\n                            email: this.email,\n                            dob: this.dob,\n                            address: this.addressList,\n                            latitude: this.latitude,\n                            longitude: this.longitude,\n                            website: this.website,\n                            description: this.description,\n                        },\n                        paymentBilling: {\n                            customerGroup: this.mCustomerGroup,\n                            // paymentTerm: this.mPaymentTerm,\n                            // paymentMethod: this.mPaymentMethod,\n                            assignTo: {},\n                            // warehouse: this.mWareHouse,\n                            // creditLimit: this.creditLimit,\n                            discountItem: this.mDiscountItem,\n                            priceLevel: this.customer.priceLevel,\n                        },\n                        accountTax: {\n                            receivableAcc: this.mAccReceivable,\n                            saleDepositAcc: this.mAccDeposit,\n                            saleDiscountAcc: this.mAccDiscount,\n                            saleTax: this.mVat\n                        },\n                        noteOnInvoice: this.customer.noteOnInvoice,\n                        contactPerson: this.contactPersonList,\n                        file: this.imgFile,\n                        image: this.customer.image,\n                        attachFile: {},\n                        loggedUser: this.loggedUser,\n                        priceLevel: this.customer.priceLevel,\n                        cashPayment: new PaymentOptionModel(this.customer.cashPayment),\n                        qrPayment: new PaymentOptionModel(this.customer.qrPayment),\n                        bankTransfer: new PaymentOptionModel(this.customer.bankTransfer),\n                        billPayment: new PaymentOptionModel(this.customer.billPayment),\n                        autoNumber: this.customer.autoNumber || true,\n                    });\n                    // window.console.log(data, 'data')\n                    this.showLoading = true\n                    this.btnDisabled = true\n                    customerHandler.create(data).then((response) => {\n                        if (response.data.statusCode === 201) {\n                            // this.loadCustomerType()\n                            // this.clear()\n                            this.showLoading = false\n                            this.btnDisabled = false\n                            if (save == 'close') {\n                                this.loadAccount()\n                                this.loadTax()\n                                this.clear()\n                                this.close(response.data.data);\n                            } else {\n                                this.loadAccount()\n                                this.loadTax()\n                                this.clear()\n                            }\n                            this.$snotify.success(\"Successfully\");\n                        } else {\n                            this.showLoading = false\n                            this.btnDisabled = false\n                        }\n                    })\n                        .catch((e) => {\n                            this.showLoading = false\n                            this.btnDisabled = false\n                            this.$snotify.error(\"Something went wrong\");\n                            this.errors.push(e);\n                        });\n                }, 10);\n            });\n        },\n        async loadCustomerType() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    customerTypeHandler.get().then((res) => {\n                        this.customerTypes = res.filter((m) => {\n                            return !m.nature.name.includes(\"Individual\");\n                        });\n                        // window.console.log(res)\n                        // if (this.customerTypes.length > 0) {\n                        //   this.customer[\"customerType\"] = this.customerTypes[0];\n                        //   this.customerTypeChange();\n                        // }\n                    });\n                }, 10);\n            });\n        },\n        async loadAccount() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    accountHandler.getAll().then((res) => {\n                        this.showLoading = false;\n                        //Receivable Account\n                        this.accReceivable = res.data\n                            .filter((m) => m.account_type.number === 7)\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type,\n                                };\n                            });\n                        if (this.accReceivable.length > 0) {\n                            this.mAccReceivable = this.accReceivable[0];\n                        }\n                        //Deposit Account\n                        this.accDeposit = res.data\n                            .filter(\n                                (m) =>\n                                    m.account_type.number === 20 || m.account_type.number === 28\n                            )\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type,\n                                };\n                            });\n                        if (this.accDeposit.length > 0) {\n                            this.mAccDeposit = this.accDeposit[0];\n                        }\n                        //Discount Account\n                        this.accDiscount = res.data\n                            .filter((m) => m.account_type.number === 38)\n                            .map((item) => {\n                                return {\n                                    id: item.uuid,\n                                    uuid: item.uuid,\n                                    name: item.name,\n                                    local_name: item.local_name,\n                                    number: item.number,\n                                    is_taxable: item.is_taxable,\n                                    banhjiAccCode: item.banhjiAccCode,\n                                    group_code: item.group_code,\n                                    parent_account: item.parent_account,\n                                    type_code: item.type_code,\n                                    account_type: item.account_type,\n                                };\n                            });\n                        if (this.accDiscount.length > 0) {\n                            this.mAccDiscount = this.accDiscount[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadTax() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    settingHandler.get().then((res) => {\n                        this.showLoading = false;\n                        this.tax = res;\n                        let vAT = this.tax.filter(\n                            (m) => m.taxType.typeId === 1 && m.transactionType === \"Sale\"\n                        ); // valuable tax\n                        this.vat = vAT; // valuable tax\n                        if (this.vat.length > 0) {\n                            this.mVat = this.vat[0];\n                        }\n\n                        // let vATs = this.tax.filter(m => m.abbr === 'ST') // Shipping Tax\n                        // this.defaultTaxOnShipping = vATs[0]['subOf'] // valuable tax\n                        // if (this.defaultTaxOnShipping.length > 0) {\n                        //     this.mDefaultTaxOnShipping = this.defaultTaxOnShipping[0]\n                        // }\n                    });\n                }, 10);\n            });\n        },\n        async loadPaymentOption() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    const strFilter = '?optionType=Customer'\n                    paymentOptionHandler.list(strFilter).then((res) => {\n                        this.showLoading = false;\n                        const data = res.data.data || []\n                        this.cashPayment = data.filter(m => m.type === PAYMENT_OPINION_TYPE.CASH_PAYMENT)\n                        this.billPayment = data.filter(m => m.type === PAYMENT_OPINION_TYPE.BILL_PAYMENT)\n                        this.qrPayment = data.filter(m => m.type === PAYMENT_OPINION_TYPE.QR_PAYMENT)\n                        this.bankTransfer = data.filter(m => m.type === PAYMENT_OPINION_TYPE.BANK_TRANSFER)\n                    });\n                }, 10);\n            });\n        },\n        async loadPaymentTerm() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    paymentTermHandler.getAll().then((res) => {\n                        this.showLoading = false;\n                        this.paymentTerms = res.data.data;\n                        if (this.paymentTerms.length > 0) {\n                            this.mPaymentTerm = this.paymentTerms[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadSingleCustomer() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    customerHandler.get(this.$route.params.id).then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            const result = res.data.data\n                            if (result.length > 0) {\n                                let checkOldNote = result[0].noteOnInvoice;\n                                if (typeof checkOldNote == \"object\") {\n                                    res.data.data[0].noteOnInvoice = \"\";\n                                }\n                                this.customer = res.data.data[0];\n                                this.mCustomerGroup = this.customer.paymentBilling.hasOwnProperty(\"customerGroup\") ? this.customer.paymentBilling.customerGroup : {};\n                                // this.mPaymentTerm = this.customer.paymentBilling.hasOwnProperty(\"paymentTerm\") ? this.customer.paymentBilling.paymentTerm : {};\n                                // this.mPaymentMethod = this.customer.paymentBilling.hasOwnProperty(\"paymentOption\") ? this.customer.paymentBilling.paymentOption : {};\n                                // this.mWareHouse = this.customer.paymentBilling.hasOwnProperty(\"warehouse\") ? this.customer.paymentBilling.warehouse : {};\n                                this.mDiscountItem = this.customer.paymentBilling.hasOwnProperty(\"discountItem\") ? this.customer.paymentBilling.discountItem : {};\n                                this.mAccReceivable = this.customer.accountTax.hasOwnProperty(\"receivableAcc\") ? this.customer.accountTax.receivableAcc : {};\n                                this.mAccDiscount = this.customer.accountTax.hasOwnProperty(\"saleDiscountAcc\") ? this.customer.accountTax.saleDiscountAcc : {};\n                                this.mAccDeposit = this.customer.accountTax.hasOwnProperty(\"saleDepositAcc\") ? this.customer.accountTax.saleDepositAcc : {};\n                                this.mVat = this.customer.accountTax.hasOwnProperty(\"saleTax\") ? this.customer.accountTax.saleTax : {};\n                                this.mPriceLevel = this.customer.priceLevel || {}\n                                let contact_address = this.customer.contactAddress\n                                if (contact_address.address.length > 0) {\n                                    this.addressList = this.customer.contactAddress.address\n                                }\n                                let contact_person = this.customer.contactPerson\n                                if (contact_person.length > 0) {\n                                    this.contactPersonList = this.customer.contactPerson\n                                }\n                                // this.mDefaultTaxOnShipping = this.customer.accountTax.hasOwnProperty('defaultTaxOnShipping') ? this.customer.accountTax.defaultTaxOnShipping : {}\n                                const hasImg = this.customer.hasOwnProperty(\"image\");\n                                this.src = \"\";\n                                let imgUrl = \"\";\n                                if (hasImg) {\n                                    if (this.customer.image.hasOwnProperty(\"default\")) {\n                                        imgUrl = this.customer.image.default.thumb;\n                                        this.src =\n                                            \"https://s3-ap-southeast-1.amazonaws.com/images.banhji/\" +\n                                            imgUrl;\n                                    }\n                                }\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadCustomerBillTo() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    otherHandler.customerBillTo().then((res) => {\n                        this.customerBillToItem = res;\n                        if (this.customerBillToItem.length > 0) {\n                            this.customerBillTo = this.customerBillToItem[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadTaxAndAccountByCustomerType() {\n        },\n        async loadWareHouses() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    warehouseHandler.getWarehouseSettingAll().then((res) => {\n                        this.showLoading = false;\n                        this.wareHouses = res;\n                        if (this.wareHouses.length > 0) {\n                            this.mWareHouse = this.wareHouses[0];\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadDiscountItems() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    discountItemHandler.list(OPTION_TYPE).then((res) => {\n                        if (res.data.statusCode === 200) this.showLoading = false;\n                        this.discountItems = res.data.data;\n                        if (this.discountItems.length > 0) {\n                            this.mDiscountItem = this.discountItems[0]\n                        }\n                    });\n                }, 10);\n            });\n        },\n        async loadSubOfCustomer() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    this.showLoading = true;\n                    customerHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            this.showLoading = false;\n                            this.customerList = res.data.data;\n                        }\n                    });\n                }, 10);\n            });\n        },\n\n        async loadLastNumber() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    if (this.customer.customerType) {\n                        const abbr = this.customer.customerType.abbr || ''\n                        const strFilter = {\n                            abbr: abbr,\n                            type: 'Company'\n                        }\n                        if (abbr) {\n                            this.showLoading = true;\n                            customerHandler.lastNumber(strFilter).then((res) => {\n                                if (res.data.statusCode === 200) {\n                                    this.showLoading = false;\n                                    const number = res.data.data;\n                                    this.lastNumber = this.pad(number.lastNumber || 1, 7)\n                                    this.customer.number = this.lastNumber\n                                } else {\n                                    this.showLoading = false;\n                                }\n                            });\n                        }\n\n                    }\n\n                }, 10);\n            });\n        },\n        onCheckChanged() {\n            if (this.customer.autoNumber) {\n                this.disableNumber = true\n                this.loadLastNumber()\n            } else {\n                this.disableNumber = false\n            }\n        }\n    },\n    watch: {\n        // id() {\n        //     // this.product = this.selectedProduct\n        //     window.console.log(this.id, \"watch\");\n        //     if (this.id !== undefined) {\n        //         this.loadSingleCustomer();\n        //     }\n        // },\n        '$route': 'loadSingleCustomer'\n    },\n    mounted: async function () {\n        this.requestData(0, this.filter);\n        await this.loadTax();\n        await this.loadPaymentOption()\n        // await this.loadPaymentTerm();\n        await this.loadCustomerType();\n        await this.loadCustomerBillTo();\n        await this.initData();\n        this.isDonorDefault();\n    },\n    created: async function () {\n        await this.loadInstituteInfo();\n        await this.loadAccount();\n        // await this.loadWareHouses();\n        await this.loadPriceLevel();\n        await this.loadDiscountItems();\n        await this.loadCustomerGroup();\n        await this.loadCountry();\n        // await this.loadSubOfCustomer()\n    },\n    computed: {\n        appType(){\n            return dataStore.productType;\n        },\n        virtual: function () {\n            return {\n                pageSize: pageSize,\n                // @ts-ignore\n                skip: this.skip,\n                // @ts-ignore\n                total: this.total,\n            };\n        },\n        creditLimit: {\n            get() {\n                if (this.customer.hasOwnProperty(\"paymentBilling\")) {\n                    if (this.customer.paymentBilling.hasOwnProperty(\"creditLimit\")) {\n                        return this.customer.paymentBilling.creditLimit;\n                    } else {\n                        return 0;\n                    }\n                } else {\n                    return 0;\n                }\n            },\n            set(value) {\n                if (this.customer.hasOwnProperty(\"paymentBilling\")) {\n                    if (this.customer.paymentBilling.hasOwnProperty(\"creditLimit\")) {\n                        this.customer.paymentBilling.creditLimit = value;\n                    }\n                }\n            },\n        },\n        addresses: {\n            get() {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"address\")) {\n                        return this.customer.contactAddress.address;\n                    } else {\n                        return [];\n                    }\n                } else {\n                    return [];\n                }\n            },\n            set(value) {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"address\")) {\n                        this.customer.contactAddress.address.push(value);\n                    }\n                }\n            },\n        },\n        gender: {\n            get() {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"gender\")) {\n                        return this.customer.contactAddress.gender;\n                    } else {\n                        return \"\";\n                    }\n                } else {\n                    return \"\";\n                }\n            },\n            set(value) {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"gender\")) {\n                        this.customer.contactAddress.gender = value;\n                    }\n                }\n            },\n        },\n        email: {\n            get() {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"email\")) {\n                        return this.customer.contactAddress.email;\n                    } else {\n                        return \"\";\n                    }\n                } else {\n                    return \"\";\n                }\n            },\n            set(value) {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"email\")) {\n                        this.customer.contactAddress.email = value;\n                    }\n                }\n            },\n        },\n        dob: {\n            get() {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"dob\")) {\n                        return this.customer.contactAddress.dob;\n                    } else {\n                        return new Date().toISOString().substr(0, 10);\n                    }\n                } else {\n                    return new Date().toISOString().substr(0, 10);\n                }\n            },\n            set(value) {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"dob\")) {\n                        this.customer.contactAddress.dob = value;\n                    }\n                }\n            },\n        },\n        latitude: {\n            get() {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"latitude\")) {\n                        return this.customer.contactAddress.latitude;\n                    } else {\n                        return \"\";\n                    }\n                } else {\n                    return \"\";\n                }\n            },\n            set(value) {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"latitude\")) {\n                        this.customer.contactAddress.latitude = value;\n                    }\n                }\n            },\n        },\n        longitude: {\n            get() {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"longitude\")) {\n                        return this.customer.contactAddress.longitude;\n                    } else {\n                        return \"\";\n                    }\n                } else {\n                    return \"\";\n                }\n            },\n            set(value) {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"longitude\")) {\n                        this.customer.contactAddress.longitude = value;\n                    }\n                }\n            },\n        },\n        phone: {\n            get() {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"phoneNumber\")) {\n                        return this.customer.contactAddress.phoneNumber;\n                    } else {\n                        return \"\";\n                    }\n                } else {\n                    return \"\";\n                }\n            },\n            set(value) {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"phoneNumber\")) {\n                        this.customer.contactAddress.phoneNumber = value;\n                    }\n                }\n            },\n        },\n        website: {\n            get() {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"website\")) {\n                        return this.customer.contactAddress.website;\n                    } else {\n                        return \"\";\n                    }\n                } else {\n                    return \"\";\n                }\n            },\n            set(value) {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"website\")) {\n                        this.customer.contactAddress.website = value;\n                    }\n                }\n            },\n        },\n        description: {\n            get() {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"description\")) {\n                        return this.customer.contactAddress.description;\n                    } else {\n                        return \"\";\n                    }\n                } else {\n                    return \"\";\n                }\n            },\n            set(value) {\n                if (this.customer.hasOwnProperty(\"contactAddress\")) {\n                    if (this.customer.contactAddress.hasOwnProperty(\"description\")) {\n                        this.customer.contactAddress.description = value;\n                    }\n                }\n            },\n        },\n        contactPersons: {\n            get() {\n                if (this.customer.hasOwnProperty(\"contactPerson\")) {\n                    return this.customer.contactPerson;\n                } else {\n                    return [];\n                }\n            },\n            set(value) {\n                if (this.customer.hasOwnProperty(\"contactPerson\")) {\n                    this.customer.contactPerson.push(value);\n                }\n            },\n        },\n        hiddenButton() {\n            if (this.$route.query.type == \"edit\") {\n                return true\n            } else {\n                return false\n            }\n\n        }\n    },\n    destroyed() {\n        // this.resetCach()\n    },\n};\n</script>\n\n<style scoped>\n.k-dropdown {\n    width: 100%;\n    margin-top: 4px;\n}\n\n.v-application--is-ltr .v-text-field .v-input__append-inner {\n    margin-top: 0 !important;\n}\n\n.v-input__slot {\n    background-color: #fff !important;\n}\n\n.function_content .label {\n    margin-bottom: 10px;\n    display: inline-block;\n}\n\n.border_radius10 {\n    border-radius: 10px !important;\n    background-color: #f2f2f2;\n}\n\n.pa-3.v-card h4 {\n    font-size: 18px;\n    color: #333;\n}\n\n.pa-3.v-card p {\n    font-size: 12px;\n    color: #b5b5b5;\n}\n\n.attachment_file {\n    background-color: #efeded;\n    border-radius: 0 !important;\n}\n\n.attachment_table.v-data-table table {\n    border: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.attachment_table table tr th {\n    border-left: thin solid rgba(0, 0, 0, 0.12);\n    height: 35px;\n    border-right: thin solid rgba(0, 0, 0, 0.12);\n}\n\n.block_debit,\n.block_credit {\n    border-bottom: 1px solid #fff;\n}\n\n.block_debit p.number,\n.block_credit p.number {\n    font-size: 25px;\n    color: #7f7f7f;\n}\n\n.block_debit h5,\n.block_credit h5,\n.block_difference h5 {\n    text-transform: uppercase;\n    color: #7f7f7f;\n    font-size: 15px;\n    font-weight: normal;\n}\n\n.block_difference h5 {\n    font-size: 18px;\n}\n\n.block_difference h5 span {\n    font-size: 15px;\n}\n\n.custom_grid table th:last-child {\n    text-align: right !important;\n}\n\n.color_green {\n    color: #03b154;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        /* max-width: 1250px; */\n        max-width: 1080px;\n    }\n}\n\n@media (max-width: 576px) {\n    .pt-6.col-sm-5.col-12 {\n        padding-top: 0 !important;\n    }\n\n    .code_text {\n        width: 100%;\n    }\n\n    .phone_no_pt {\n        padding-top: 0 !important;\n    }\n\n    .select_template,\n    .save_option {\n        margin-bottom: 10px;\n    }\n}\n\n.hide_small_bar_class {\n    max-width: 0%;\n    transition: 0.5s ease-in;\n    flex: 0 0 0%;\n}\n\n.hide_big_bar_class {\n    max-width: 100%;\n    transition: 0.5s ease-in;\n    flex: 0 0 100%;\n}\n\n.info_add {\n    background-color: #ffffff;\n}\n\n.small_sidebar {\n    height: 95%;\n    margin-top: 15.4%;\n    position: relative;\n    padding: 10px;\n    background-color: #edf1f5;\n}\n\n.iconArrow {\n    margin-right: -17px;\n    right: 35.8%;\n    top: 7%;\n    position: absolute;\n}\n\n.iconArrowHide {\n    top: 7%;\n    position: absolute;\n    right: 8.6%;\n}\n\n.color_grey {\n    color: #808080;\n}\n\n.card_green {\n    min-height: 70px;\n    background-color: #00b050 !important;\n    color: #ffffff;\n}\n\n.lb_bold {\n    font-size: 12px;\n}\n\n.detial_smallside_p {\n    position: absolute;\n    bottom: 10px;\n}\n\n.card_background {\n    background-color: #edf1f5;\n    min-height: 120px;\n}\n\n.deposite_input {\n    width: 100px;\n}\n\n.btn_save_draft {\n    color: #ffffff;\n    background-color: #00b0f0 !important;\n    text-transform: capitalize;\n}\n\n.save_option {\n    background-color: #203864 !important;\n}\n\n.btn_add_small {\n    height: 27px !important;\n    min-width: 25px !important;\n    font-size: 10px;\n    padding: 0 22px !important;\n    background-color: #00b050 !important;\n    color: #ffffff;\n    border-radius: 0 !important;\n}\n\n.list_site_inv {\n    background-color: #92d050;\n    color: #ffffff;\n    font-size: 12px;\n}\n\n.list_site_exp {\n    background-color: #c5e0b4;\n    color: #000000;\n    font-size: 12px;\n    line-height: 16px;\n    min-height: 40px;\n}\n\n.checkbox_inv {\n    padding: 2px;\n    margin-top: 3px;\n    margin-right: 2px;\n}\n\n.exp_select {\n    font-size: 12px !important;\n}\n\n.v-tab--active {\n    background-color: #f8f8f9 !important;\n    border-left: none;\n}\n\n.blue_block {\n    background-color: #e2f0d9;\n    min-height: 100px;\n}\n\n.v-tabs {\n    -webkit-box-flex: 1;\n    -ms-flex: 1 1 auto;\n    flex: 1 1 auto;\n    background: #ffffff;\n\n    width: 100%;\n    border: 2px solid #dae0e8;\n}\n\n.v-window__container {\n    padding: 14px !important;\n}\n\n.btn_round_new {\n    background-color: #00b050 !important;\n    color: #ffffff;\n}\n\n.exchange-table.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> thead\n> tr\n> th {\n    font-family: \"Niradei-Bold\", serif;\n    color: #000 !important;\n    border-top: 1px solid #000 !important;\n    border-bottom: 1px solid #000 !important;\n    font-size: 15px !important;\n}\n\n.exchange-table.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> thead\n> tr\n> td {\n    color: #000 !important;\n    padding: 5px !important;\n    border-bottom: 1px solid #000 !important;\n}\n\n.exchange-table.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> tbody\n> tr:last-child\ntd {\n    border-bottom: 1px solid #000 !important;\n}\n\n.v-slide-group__content {\n    background-color: #f8f8f9 !important;\n}\n\n.v-tab--active {\n    background-color: #ffffff !important;\n    border-left: none;\n}\n\n.v-tab.v-tab {\n    color: inherit;\n    font-size: 16px !important;\n}\n</style>\n"]}]}