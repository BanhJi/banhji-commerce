{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/payroll/employee/leave/leaveDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/payroll/employee/leave/leaveDetail.vue","mtime":1638499443254},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMb2FkaW5nTWUgZnJvbSAiQC9jb21wb25lbnRzL0xvYWRpbmciOwpjb25zdCBlbXBsb3llZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvZW1wbG95ZWVIYW5kbGVyIik7CmltcG9ydCBrZW5kbyBmcm9tICJAcHJvZ3Jlc3Mva2VuZG8tdWkiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogKCkgPT4gKHsKICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgIHN0YXJ0X2RhdGU6ICIiLAogICAgZW5kX2RhdGU6ICIiLAogICAgcmVjb3JkTGlzdDogW10sCiAgICB0YWtlOiAxMCwKICAgIHNvcnQ6IFt7IGZpZWxkOiAiZW1wbG95ZWVJZCIsIGRpcjogImFzYyIgfV0sCiAgICBncm91cDogWwogICAgICB7CiAgICAgICAgZmllbGQ6ICJlbXBsb3llZUlkIiwKICAgICAgICBhZ2dyZWdhdGVzOiBbCiAgICAgICAgICB7IGZpZWxkOiAiZW1wbG95ZWVJZCIsIGFnZ3JlZ2F0ZTogImNvdW50IiB9LAogICAgICAgICAgeyBmaWVsZDogImxlYXZlQW5vdW50IiwgYWdncmVnYXRlOiAic3VtIiB9LAogICAgICAgIF0sCiAgICAgIH0sCiAgICBdLAogICAgc2VhcmNoOiAiIiwKICAgIGxlYXZlczogW10sCiAgICBwYXJhbXM6IHt9LAogIH0pLAogIHByb3BzOiB7fSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBsb2FkUmVjb3JkKCkgewogICAgICBsZXQgZ2V0WWVhciA9IG5ldyBEYXRlKCk7CiAgICAgIHRoaXMucGFyYW1zID0gewogICAgICAgIHllYXI6IGdldFllYXIuZ2V0RnVsbFllYXIoKSwKICAgICAgfTsKICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICBlbXBsb3llZUhhbmRsZXIKICAgICAgICAgICAgLmdldEVtcGxveWVlTGVhdmUodGhpcy5zZWFyY2gsIHRoaXMucGFyYW1zKQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKDEsIHJlcyk7CiAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5sZWF2ZXMgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKDIsIHRoaXMubGVhdmVzKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sIDMwMCk7CiAgICAgIH0pOwogICAgfSwKICAgIGdvVmlldyhlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgbGV0IGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkIikuZGF0YSgia2VuZG9HcmlkIik7CiAgICAgIGxldCBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0oa2VuZG8ualF1ZXJ5KGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhkYXRhSXRlbSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOgogICAgICAgICAgImVtcGxveW1lbnRfaGlzdG9yeSIgKyBgLyR7ZGF0YUl0ZW0uZW1wbG95ZWUuaWR9YCArIGAvJHtkYXRhSXRlbS5pZH1gLAogICAgICAgIHBhcmFtczogeyBpZDogZGF0YUl0ZW0uaWQgfSwKICAgICAgICBxdWVyeTogeyB0eXBlOiAiZWRpdCIgfSwKICAgICAgfSk7CiAgICB9LAogICAgb25TZWFyY2goKSB7CiAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLmxvYWRSZWNvcmQoKTsKICAgIH0sCiAgfSwKICBhc3luYyBtb3VudGVkKCkgewogICAgYXdhaXQgdGhpcy5sb2FkUmVjb3JkKCk7CiAgfSwKICBjb21wdXRlZDoge30sCiAgY29tcG9uZW50czogewogICAgTG9hZGluZ01lOiBMb2FkaW5nTWUsCiAgfSwKfTsK"},{"version":3,"sources":["leaveDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"leaveDetail.vue","sourceRoot":"src/views/payroll/employee/leave","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"grayBg pl-6\">\n      <v-card color=\"white\" class=\"pa-3 no_border\" elevation=\"0\">\n        <v-row class=\"\">\n          <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n            <v-text-field\n              class=\"mt-1\"\n              clearable\n              :placeholder=\"$t('search_directory')\"\n              outlined\n              v-model=\"search\"\n            />\n          </v-col>\n          <v-col sm=\"2\" cols=\"12\" class=\"py-1\">\n            <v-btn\n              color=\"primary\"\n              class=\"white--text capitalize marginTopPhone\"\n              @click=\"onSearch\"\n            >\n              {{ $t(\"search\") }}\n            </v-btn>\n          </v-col>\n          <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n            <kendo-datasource\n              ref=\"dataSource\"\n              :data=\"leaves\"\n              :page-size=\"100\"\n              :sort=\"sort\"\n              :group=\"group\"\n            />\n            <kendo-grid\n              id=\"grid\"\n              class=\"grid-function\"\n              :data-source-ref=\"'dataSource'\"\n              :scrollable-virtual=\"true\"\n              :column-menu=\"false\"\n              :pageable=\"true\"\n            >\n              <kendo-grid-column\n                :field=\"'employeeId'\"\n                :title=\"$t('employee_id')\"\n                :width=\"100\"\n                :template=\"'<span>#= employee.employeeId#</span>'\"\n                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n                :group-footer-template=\"'Count: #=count#'\"\n              />\n              <kendo-grid-column\n                :field=\"'employee'\"\n                :title=\"$t('employee')\"\n                :width=\"150\"\n                :template=\"\n                  '<span>#= employee.firstName# - #= employee.lastName#</span>'\n                \"\n                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n              />\n              <kendo-grid-column\n                :field=\"'dateFormate'\"\n                :title=\"$t('date')\"\n                :width=\"100\"\n                :template=\"\n                  '<span>#= kendo.toString(new Date(dateFormate),`dd-MM-yyyy`)#</span>'\n                \"\n                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n              />\n              <kendo-grid-column\n                :field=\"'leave'\"\n                :title=\"$t('leave_type')\"\n                :width=\"100\"\n                :template=\"\n                  '<span>#= leave.leaveName ? leave.leaveName: ``#</span>'\n                \"\n                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n              />\n              <kendo-grid-column\n                :field=\"'leaveAnount'\"\n                :title=\"$t('leave')\"\n                :width=\"50\"\n                :attributes=\"{\n                  style: 'text-align: center;',\n                }\"\n                :headerAttributes=\"{\n                  style: 'background-color: #EDF1F5',\n                }\"\n                :group-footer-template=\"'Sum: #=sum#'\"\n              />\n            </kendo-grid>\n            <LoadingMe\n              :isLoading=\"showLoading\"\n              :fullPage=\"true\"\n              :myLoading=\"true\"\n            />\n          </v-col>\n        </v-row>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n<script>\nimport LoadingMe from \"@/components/Loading\";\nconst employeeHandler = require(\"@/scripts/employeeHandler\");\nimport kendo from \"@progress/kendo-ui\";\nexport default {\n  data: () => ({\n    showLoading: false,\n    start_date: \"\",\n    end_date: \"\",\n    recordList: [],\n    take: 10,\n    sort: [{ field: \"employeeId\", dir: \"asc\" }],\n    group: [\n      {\n        field: \"employeeId\",\n        aggregates: [\n          { field: \"employeeId\", aggregate: \"count\" },\n          { field: \"leaveAnount\", aggregate: \"sum\" },\n        ],\n      },\n    ],\n    search: \"\",\n    leaves: [],\n    params: {},\n  }),\n  props: {},\n  methods: {\n    async loadRecord() {\n      let getYear = new Date();\n      this.params = {\n        year: getYear.getFullYear(),\n      };\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          employeeHandler\n            .getEmployeeLeave(this.search, this.params)\n            .then((res) => {\n              window.console.log(1, res);\n              this.showLoading = true;\n              if (res.data.statusCode === 200) {\n                this.showLoading = false;\n                this.leaves = res.data.data;\n                window.console.log(2, this.leaves);\n              }\n            });\n        }, 300);\n      });\n    },\n    goView(e) {\n      e.preventDefault();\n      let grid = kendo.jQuery(\"#grid\").data(\"kendoGrid\");\n      let dataItem = grid.dataItem(kendo.jQuery(e.currentTarget).closest(\"tr\"));\n      window.console.log(dataItem);\n      this.$router.push({\n        path:\n          \"employment_history\" + `/${dataItem.employee.id}` + `/${dataItem.id}`,\n        params: { id: dataItem.id },\n        query: { type: \"edit\" },\n      });\n    },\n    onSearch() {\n      this.showLoading = true;\n      this.loadRecord();\n    },\n  },\n  async mounted() {\n    await this.loadRecord();\n  },\n  computed: {},\n  components: {\n    LoadingMe: LoadingMe,\n  },\n};\n</script>\n<style scoped>\n.acc_group header {\n  height: 10px !important;\n}\n\ntable.acc_group tr td {\n  border-bottom: 1px solid #ccc;\n  padding: 8px;\n  vertical-align: middle;\n}\n\ntable.acc_group tr td:first-child {\n  font-weight: 700;\n}\n\ntable.acc_group tr td:last-child {\n  text-align: center;\n}\n\n.v-card__actions .v-btn.v-btn {\n  padding: 0 16px;\n}\n\n.exchange-table.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > thead\n  > tr\n  > th {\n  font-family: \"Niradei-Bold\", serif;\n  color: #000 !important;\n  border-top: 1px solid #000 !important;\n  border-bottom: 1px solid #000 !important;\n  font-size: 15px !important;\n}\n\n.exchange-table.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > thead\n  > tr\n  > td {\n  color: #000 !important;\n  padding: 5px !important;\n}\n\n.exchange-table.theme--light.v-data-table\n  > .v-data-table__wrapper\n  > table\n  > tbody\n  > tr:last-child\n  td {\n  border-bottom: 1px solid #000 !important;\n}\n\n.function_footer {\n  padding: 15px;\n  display: inline-block;\n}\n\np {\n  color: rgba(0, 0, 0, 0.87);\n}\n\n.actionBtn {\n  height: 47.2px !important;\n}\n\n.text_tip {\n  font-size: 9px;\n  line-height: 10px;\n}\n\n@media (max-width: 576px) {\n  .marginTopPhone {\n    margin-top: -10px;\n  }\n}\n</style>\n"]}]}