{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/finances/NewLoan.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/finances/NewLoan.vue","mtime":1638499443232},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGNvbXBvbmVudAppbXBvcnQgTG9hZGluZ01lIGZyb20gIkAvY29tcG9uZW50cy9Mb2FkaW5nIjsKLy8gaW1wb3J0IHtpMThufSBmcm9tICJAL2kxOG4iOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKaW1wb3J0IERhdGVQaWNrZXJDb21wb25lbnQgZnJvbSAiQC9jb21wb25lbnRzL2N1c3RvbV90ZW1wbGF0ZXMvRGF0ZVBpY2tlckNvbXBvbmVudCI7CmltcG9ydCB7Q3VycmVuY3lNb2RlbH0gZnJvbSAiQC9zY3JpcHRzL21vZGVsL0FwcE1vZGVscyI7Ci8vIG1vZGVsCmltcG9ydCBMb2FuTW9kZWwgZnJvbSAiQC9zY3JpcHRzL2ZpbmFuY2luZy9tb2RlbC9Mb2FuIgovLyBoYW5kbGVyCmNvbnN0IGxvYW5IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL2ZpbmFuY2luZy9oYW5kbGVyL2xvYW5IYW5kbGVyIikKCmNvbnN0IHtiYW5rSGFuZGxlciwgY3VycmVuY3lIYW5kbGVyLCBlbnRpdHlUeXBlSGFuZGxlcn0gPSByZXF1aXJlKCJAL3NjcmlwdHMvQXBwSGFuZGxlcnMiKTsKY29uc3Qge0xvYW5TdGF0dXMsIEVudGl0eVR5cGUsIFNhdmVPcHRpb259ID0gcmVxdWlyZSgiQC9zY3JpcHRzL2RlZmF1bHRfc2V0dXAvQ29sbGVjdGlvbnMiKTsKCmNvbnN0IGN1cnJlbmN5VHlwZSA9IHsKICAgIEZVTkNUSU9OQUxfQ1VSUkVOQ1k6ICdmdW4tYycsCiAgICBUUkFOU0FDVElPTl9DVVJSRU5DWTogJ3R4bi1jJywKICAgIFJFUE9SVElOR19DVVJSRU5DWTogJ3JwdC1jJywKICAgIFRBWF9FWENIQU5HRV9DVVJSRU5DWTogJ3RheC1jJywKfQppbXBvcnQgVnVlTnVtZXJpYyBmcm9tICd2dWUtbnVtZXJpYycKaW1wb3J0IHNhbGVGb3JtQ29udGVudEhhbmRsZXIgZnJvbSAiQC9zY3JpcHRzL3NhbGVGb3JtQ29udGVudEhhbmRsZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiTmV3TG9hbiIsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgTG9hZGluZ01lLAogICAgICAgICJhcHAtZGF0ZXBpY2tlciI6IERhdGVQaWNrZXJDb21wb25lbnQsCiAgICAgICAgVnVlTnVtZXJpYwogICAgfSwKICAgIHByb3BzOiB7CiAgICAgICAgaW5pdExvYW46IHt9LAogICAgfSwKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgLyogT2JqICovCiAgICAgICAgbG9hbjogbmV3IExvYW5Nb2RlbCh7fSksCiAgICAgICAgLy8gRm9ybSB2YWxpZGF0aW9uCiAgICAgICAgdmFsaWQ6IHRydWUsCiAgICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgICBiYW5rTG9hZGluZzogZmFsc2UsCiAgICAgICAgc2F2ZU1vZGU6ICcnLAogICAgICAgIGFsZXJ0OiBmYWxzZSwKICAgICAgICBlcnJvck1lc3NhZ2U6ICcnLAogICAgICAgIFNhdmVPcHRpb246IFNhdmVPcHRpb24sCiAgICAgICAgLy8gTG9hZGluZ01lCiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgICBsb2FkaW5nQWxlcnQ6IGZhbHNlLAogICAgICAgIGxvYWRpbmdDb2xvckFsZXJ0OiAiIiwKICAgICAgICBsb2FkaW5nVGV4dEFsZXJ0OiAiIiwKICAgICAgICAvLyBPdGhlcgogICAgICAgIGJhbmtzOiBbXSwKICAgICAgICBjdXJyZW5jaWVzOiBbXSwKICAgICAgICBsb2FuVHlwZXM6IFtdLAogICAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgICBjdXJyZW5jeUxpc3Q6IFtdLAogICAgICAgIGlucHV0RGVjOiAyLAogICAgICAgIG51bWJlckZvcm1hdDogJycsCiAgICAgICAgc2FsZUZvcm1Db250ZW50OiB7fQogICAgfSksCiAgICBtZXRob2RzOiB7CiAgICAgICAgLyogU2V0IERlZmF1bHQgRGF0YSAqLwogICAgICAgIHNldERlZmF1bHREYXRhKCkgewogICAgICAgICAgICB0aGlzLmxvYW4gPSBuZXcgTG9hbk1vZGVsKHt9KQogICAgICAgICAgICB0aGlzLmxvYW4uaXNzdWVkRGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApCiAgICAgICAgICAgIHRoaXMubG9hbi5zdGF0dXMgPSBMb2FuU3RhdHVzLlBFTkRJTkcKICAgICAgICAgICAgdGhpcy5sb2FuLnR5cGVPZkxvYW4gPSB0aGlzLmxvYW5UeXBlc1swXQogICAgICAgICAgICB0aGlzLmxvYW4uY3VycmVuY3kgPSB0aGlzLmN1cnJlbmN5TGlzdFswXQogICAgICAgIH0sCiAgICAgICAgZ2V0TGFzdERheU9mVGhlTW9udGgoZGF0ZSkgewogICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coZGF0ZS5nZXRNb250aCgpKTsKICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpICsgMSwgMCkuZ2V0RGF0ZSgpOwogICAgICAgIH0sCiAgICAgICAgdG9OdW1iZXJPZlllYXJNb250aChudW1iZXJPZk1vbnRoKSB7CiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhudW1iZXJPZk1vbnRoKTsKICAgICAgICAgICAgbGV0IHllYXIgPSBwYXJzZUludChwYXJzZUludChudW1iZXJPZk1vbnRoKSAvIDEyKTsKICAgICAgICAgICAgbGV0IG1vbnRoID0gcGFyc2VJbnQobnVtYmVyT2ZNb250aCkgLSB5ZWFyICogMTI7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB5ZWFyOiB5ZWFyLAogICAgICAgICAgICAgICAgbW9udGg6IG1vbnRoLAogICAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgb25SZXF1ZXN0RGF0ZUNoYW5nZWQoKSB7CiAgICAgICAgICAgIHRoaXMubWVudUpEYXRlMSA9IGZhbHNlOwogICAgICAgICAgICBsZXQgZXhEYXRlID0gbmV3IERhdGUodGhpcy5yZXF1ZXN0X2RhdGUpOwogICAgICAgICAgICBsZXQgZHVyYXRpb24gPSBwYXJzZUludCh0aGlzLmxvYW4uZHVyYXRpb24pOwogICAgICAgICAgICBsZXQgaXNMYXN0RGF5T2ZUaGVNb250aCA9IGZhbHNlOwogICAgICAgICAgICBsZXQgbGFzdERheSA9IHRoaXMuZ2V0TGFzdERheU9mVGhlTW9udGgoZXhEYXRlKTsKICAgICAgICAgICAgaWYgKHBhcnNlSW50KGxhc3REYXkpID09IHBhcnNlSW50KGV4RGF0ZS5nZXREYXRlKCkpKSB7CiAgICAgICAgICAgICAgICBpc0xhc3REYXlPZlRoZU1vbnRoID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgbnVtT2ZNb250aHMgPSBkdXJhdGlvbiArIGV4RGF0ZS5nZXRNb250aCgpICsgMTsKICAgICAgICAgICAgbGV0IGFkZE1vbnRoID0gdGhpcy50b051bWJlck9mWWVhck1vbnRoKG51bU9mTW9udGhzKTsKICAgICAgICAgICAgaWYgKGlzTGFzdERheU9mVGhlTW9udGgpIHsKICAgICAgICAgICAgICAgIGxldCBtb250aCA9IGFkZE1vbnRoLm1vbnRoOwogICAgICAgICAgICAgICAgbGV0IHllYXIgPSBwYXJzZUludChleERhdGUuZ2V0RnVsbFllYXIoKSkgKyBhZGRNb250aC55ZWFyOwogICAgICAgICAgICAgICAgbGV0IGRheSA9IHBhcnNlSW50KHRoaXMuZ2V0TGFzdERheU9mVGhlTW9udGgobmV3IERhdGUoeWVhciwgbW9udGgsIDApKSk7CiAgICAgICAgICAgICAgICAvKgogICAgICAgICAgICAgICAgdXNpbmcgdGhlIHRpbWUgdG8gaG9sZCBiYWNrIHRoZSBjdXJyZW50IHRpbWUgc28gdGhlIHRoYXQgZGF0ZSB3b24ndCBzd2l0Y2ggdG8gb3RoZXIgZGF5CiAgICAgICAgICAgICAgICBiYXNlIG9uIHRoZSBJU09UaW1lIHpvb24gd2l0aCArNyBmb3IgQ2FtYm9kaWEuCiAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgICAgdGhpcy5leHBfZGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF5LCAxMiwgMCwgMCkKICAgICAgICAgICAgICAgICAgICAudG9JU09TdHJpbmcoKQogICAgICAgICAgICAgICAgICAgIC5zdWJzdHJpbmcoMCwgMTApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5leHBfZGF0ZSA9IG5ldyBEYXRlKGV4RGF0ZSkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvLyBBbGwgU2F2ZXMKICAgICAgICBvblNhdmVPcHRpb25DbGljayhtb2RlKSB7CiAgICAgICAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgdGhpcy5zYXZlTW9kZSA9IG1vZGUKICAgICAgICAgICAgICAgIHRoaXMubG9hbi5zYXZlT3B0aW9uID0gbW9kZQogICAgICAgICAgICAgICAgdGhpcy5zYXZlKCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRFcnJvcigpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNhbmNlbCgpIHsKICAgICAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgICAgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLAogICAgICAgICAgICAgICAgdGV4dDogIllvdSB3b24ndCBiZSBhYmxlIHRvIHJldmVydCB0aGlzISIsCiAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzRkNDg0OCcsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNFRDFBM0EnLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMsIGRpc2NhcmQgaXQhJwogICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCkKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBjbGVhcigpIHsKICAgICAgICAgICAgLy8gUmVzZXQgRm9ybQogICAgICAgICAgICAvLyB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKTsKCiAgICAgICAgICAgIHRoaXMuaXNFZGl0ID0gZmFsc2U7CgogICAgICAgICAgICAvLyBTZXQgZGVmYXVsdCBkYXRhCiAgICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdERhdGEoKQogICAgICAgIH0sCiAgICAgICAgc2F2ZSgpIHsKICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICAgICAgICAvLyBDb252ZXJ0IGRhdGUgdG8gSVNPCiAgICAgICAgICAgIHRoaXMubG9hbi5pc3N1ZWREYXRlID0ga2VuZG8udG9TdHJpbmcobmV3IERhdGUodGhpcy5sb2FuLmlzc3VlZERhdGUpLCAneXl5eS1NTS1kZCcpOwogICAgICAgICAgICBpZih0aGlzLmlzRWRpdCA9PSBmYWxzZSl7CiAgICAgICAgICAgICAgICB0aGlzLmxvYW4ubWF0dXJpdHlEYXRlID0gJycKICAgICAgICAgICAgICAgIHRoaXMubG9hbi5hcHByb3ZlRGF0ZSA9ICcnCiAgICAgICAgICAgICAgICB0aGlzLmxvYW4uZmlyc3RQYXltZW50RGF0ZSA9ICcnCiAgICAgICAgICAgICAgICB0aGlzLmxvYW4ubnVtYmVyID0gJycKICAgICAgICAgICAgICAgIHRoaXMubG9hbi5kdXJhdGlvbiA9IDAKICAgICAgICAgICAgICAgIHRoaXMubG9hbi5tb250aGx5UmVwYXltZW50ID0gMAogICAgICAgICAgICAgICAgdGhpcy5sb2FuLnBheW1lbnRUZXJtID0ge30KICAgICAgICAgICAgICAgIHRoaXMubG9hbi5yZWNlaXB0RGF0ZSA9ICcnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gU3luYyBEYXRhCiAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICBsb2FuSGFuZGxlci5sb2FuQ3JlYXRlKG5ldyBMb2FuTW9kZWwodGhpcy5sb2FuKSkKICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hbGVydEVycm9yKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0RXJyb3IoZXJyb3IpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBzZWxmLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy8gUmVzcG9uc2UgU3RhdHVzCiAgICAgICAgcmVzcG9uc2VTdGF0dXMoc3RhdHVzKSB7CiAgICAgICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7CiAgICAgICAgICAgICAgICBjYXNlIDIwMDovLyBPawogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCkKCiAgICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgdG8gZGVmYXVsdCBkYXRhCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhcigpOwoKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgY2FzZSAyMDE6Ly8gRHVwbGljYXRlCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93QWxlcnQoKQoKICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCB0byBkZWZhdWx0IGRhdGEKICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8gU3dlZXRhbGVydDIKICAgICAgICBjaGFuZ2VBbGVydFN0YXR1cygpIHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nQWxlcnQgPSB0cnVlCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nQWxlcnQgPSBmYWxzZQogICAgICAgICAgICB9LCA2MjAwKTsKICAgICAgICB9LAogICAgICAgIHNob3dBbGVydCgpIHsKICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuY2hhbmdlQWxlcnRTdGF0dXMoKQogICAgICAgICAgICB0aGlzLmxvYWRpbmdUZXh0QWxlcnQgPSAiQWRkZWQgU3VjY2Vzc2Z1bCIKICAgICAgICAgICAgdGhpcy5sb2FkaW5nQ29sb3JBbGVydCA9ICIjM0RBNzJFIgogICAgICAgICAgICBzd2l0Y2ggKHRoaXMuc2F2ZU1vZGUpIHsKICAgICAgICAgICAgICAgIGNhc2UgJ3NhdmVDbG9zZSc6Ly8gU2F2ZSBDbG9zZQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3Byb2R1Y3RzJywKICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1lvdXIgd29yayBoYXMgYmVlbiBzYXZlZCcsCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjNGQ0ODQ4JywKICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjRUQxQTNBJywKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMsIGRpc2NhcmQgaXQhJwogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5nbygtMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6Ly8gU2F2ZSBOZXcKICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdwcm9kdWN0cycsCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdZb3VyIHdvcmsgaGFzIGJlZW4gc2F2ZWQnLAogICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzRkNDg0OCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI0VEMUEzQScsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnWWVzLCBkaXNjYXJkIGl0IScKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuc2F2ZU1vZGUgPSAnJwogICAgICAgIH0sCiAgICAgICAgYWxlcnRFcnJvcihtc2cpIHsKICAgICAgICAgICAgaWYgKG1zZykgewogICAgICAgICAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdjZW50ZXInLAogICAgICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uIScsCiAgICAgICAgICAgICAgICAgICAgdGV4dDogbXNnLAogICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmdUZXh0QWxlcnQgPSAiRmFpbGVkISIKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZ0NvbG9yQWxlcnQgPSAiI2ViODMzNCIKICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlQWxlcnRTdGF0dXMoKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhc3luYyBsb2FkQ3VycmVuY3lEYXRhKCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJykKICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5SGFuZGxlci5saXN0KGN1cnJlbmN5VHlwZS5GVU5DVElPTkFMX0NVUlJFTkNZKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbmN5TGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5jdXJyZW5jeUxpc3QubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FuLmN1cnJlbmN5ID0gdGhpcy5jdXJyZW5jeUxpc3RbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgMzAwKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZFNhbGVGb3JtQ29udGVudCgpIHsKICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoInJlc29sdmVkIik7CiAgICAgICAgICAgICAgICAgICAgc2FsZUZvcm1Db250ZW50SGFuZGxlci5saXN0KCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2FsZUZvcm1Db250ZW50ID0gZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm51bWJlckZvcm1hdCA9ICduJyArIHRoaXMuc2FsZUZvcm1Db250ZW50LmRlY2ltYWwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0RGVjID0gcGFyc2VJbnQodGhpcy5zYWxlRm9ybUNvbnRlbnQuZGVjaW1hbCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgaW5pdExvYW4oKSB7CiAgICAgICAgICAgIHRoaXMubG9hbiA9IHRoaXMuaW5pdExvYW47CiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQ6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgICBhd2FpdCB0aGlzLmxvYWRTYWxlRm9ybUNvbnRlbnQoKTsKICAgICAgICAvLyBTZXQgRGVmYXVsdCBEYXRhCiAgICAgICAgaWYgKHRoaXMuaW5pdExvYW4pIHsKICAgICAgICAgICAgdGhpcy5sb2FuID0gdGhpcy5pbml0TG9hbjsKICAgICAgICB9CgogICAgICAgIC8vIENhbGwgQmFuayBMaXN0CiAgICAgICAgdGhpcy5iYW5rTG9hZGluZyA9IHRydWUKICAgICAgICBsZXQgc2VsZiA9IHRoaXMKICAgICAgICBiYW5rSGFuZGxlci5nZXRBbGwoKQogICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmJhbmtzID0gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgICBzZWxmLmJhbmtMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfSk7CgogICAgICAgIC8vIENhbGwgTG9hbiBUeXBlCiAgICAgICAgZW50aXR5VHlwZUhhbmRsZXIuZ2V0QnlFbnRpdHlUeXBlKEVudGl0eVR5cGUuTE9BTikKICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5sb2FuVHlwZXMgPSByZXN1bHQ7CiAgICAgICAgICAgICAgICB0aGlzLmxvYW4udHlwZU9mTG9hbiA9IHRoaXMubG9hblR5cGVzWzBdCiAgICAgICAgICAgIH0pOwoKICAgICAgICAvLyBDYWxsIEN1cnJlbmN5IExpc3QKICAgICAgICBjdXJyZW5jeUhhbmRsZXIuZ2V0SnNvbigpLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICBsZXQgY3VycmVuY3lsaXN0ID0gT2JqZWN0LnZhbHVlcyhyZXN1bHQuZGF0YSk7CiAgICAgICAgICAgIGN1cnJlbmN5bGlzdC5mb3JFYWNoKCh2YWx1ZSkgPT4gewogICAgICAgICAgICAgICAgbGV0IGN1ciA9IG5ldyBDdXJyZW5jeU1vZGVsKHZhbHVlKTsKICAgICAgICAgICAgICAgIHRoaXMuY3VycmVuY2llcy5wdXNoKGN1cik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIGF3YWl0IHRoaXMubG9hZEN1cnJlbmN5RGF0YSgpCiAgICB9LAp9Owo="},{"version":3,"sources":["NewLoan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NewLoan.vue","sourceRoot":"src/views/finances","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col cols=\"12\" sm=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\"\n                    >\n                        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                            <v-card outlined dense class=\"no_border\">\n                                <h2 class=\"mb-0\">{{ $t(\"add_new_loan\") }}</h2>\n                                <v-icon\n                                    @click=\"cancel\"\n                                    style=\"\n                                        cursor: pointer;\n                                        color: #333;\n                                        font-size: 40px;\n                                    \"\n                                    class=\"float-right\"\n                                >close\n                                </v-icon>\n                            </v-card>\n                            <v-card\n                                outlined\n                                dense\n                                class=\"px-4 no_border mb-4\"\n                                color=\"grayBg\"\n                            >\n                                <!-- Form -->\n                                <v-row>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label\">{{ $t(\"date\") }}</label>\n                                        <app-datepicker\n                                            :initialDate=\"loan.issuedDate\"\n                                            @emitDate=\"loan.issuedDate = $event\"\n                                        />\n\n                                        <label class=\"label\"> {{ $t(\"name\") }}</label>\n                                        <v-text-field\n                                            name=\"loan\"\n                                            v-model=\"loan.name\"\n                                            class=\"mt-1\"\n                                            :rules=\"[ (v) => !!v || 'Name is required' ]\"\n                                            outlined\n                                            required\n                                        />\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label\">{{ $t(\"financial_institutions\") }}</label>\n                                        <v-select\n                                            id=\"bankSelector\"\n                                            class=\"mt-1\"\n                                            tag=\"financialInstituteSelector\"\n                                            :items=\"banks\"\n                                            item-value=\"uuid\"\n                                            item-text=\"name\"\n                                            v-model=\"loan.financialInstitutions\"\n                                            :rules=\"[ (v) => !!v || 'Financial institute is required' ]\"\n                                            no-data-text=\"No data found.\"\n                                            return-object\n                                            outlined\n                                            loading=\"true\"\n                                            single-line\n                                        >\n                                            <template slot=\"selection\" slot-scope=\"{ item }\">\n                                             {{ item.name }}\n                                            </template>\n                                            <template slot=\"item\" slot-scope=\"{ item }\">\n                                               {{ item.name }}\n                                            </template>\n                                        </v-select>\n\n                                        <label class=\"label\">{{ $t(\"type_of_loan\") }}</label>\n                                        <v-select\n                                            class=\"mt-1\"\n                                            :items=\"loanTypes\"\n                                            item-value=\"uuid\"\n                                            item-text=\"name\"\n                                            v-model=\"loan.typeOfLoan\"\n                                            no-data-text=\"No data found.\"\n                                            return-object\n                                            :rules=\"[ (v) => !!v || 'Type of loan institute is required' ]\"\n                                            outlined\n                                        >\n                                            <template slot=\"selection\" slot-scope=\"{ item }\">\n                                                {{ item.code }} - {{ item.name }}\n                                            </template>\n                                            <template slot=\"item\" slot-scope=\"{ item }\">\n                                                {{ item.code }} - {{ item.name }}\n                                            </template>\n                                        </v-select>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label\">{{ $t(\"request_amount\") }}</label>\n                                        <!--                                        <v-text-field-->\n                                        <!--                                            class=\"mt-1\"-->\n                                        <!--                                            v-model=\"loan.amount\"-->\n                                        <!--                                            outlined-->\n                                        <!--                                            required-->\n                                        <!--                                        />-->\n                                        <vue-numeric\n                                            style=\"width: 100%;font-size: 18px;background-color: #ffff;border-radius: 4px;text-align: right;border: 1px solid #ddd !important; padding: 9px !important; margin-bottom: 15px;\"\n                                            class=\"mt-1 mr-2 mt-0 text-bold pa-4\"\n                                            currency=\"\"\n                                            separator=\",\"\n                                            v-bind:minus=\"false\"\n                                            v-bind:precision=\"inputDec\"\n                                            v-model=\"loan.amount\"\n                                            :rules=\"[v => !!v || 'Amount is required']\"\n                                            outlined\n                                        >\n                                        </vue-numeric>\n                                        <label class=\"label\">{{ $t(\"loan_currency\") }}</label>\n                                        <v-select\n                                            id=\"loanCurrency\"\n                                            class=\"mt-1\"\n                                            :items=\"currencyList\"\n                                            item-value=\"uuid\"\n                                            item-text=\"code\"\n                                            v-model=\"loan.currency\"\n                                            no-data-text=\"No data found.\"\n                                            return-object\n                                            outlined\n                                            loading=\"true\"\n                                            :rules=\"[ (v) => !!v || 'Currency is required' ]\"\n                                            single-line\n                                        >\n                                            <template\n                                                class=\"v-serlect\"\n                                                slot=\"selection\"\n                                                slot-scope=\"{ item }\"\n                                            >\n                                                {{ item.code }} - {{ item.name }}\n                                            </template>\n                                            <template\n                                                class=\"v-serlect\"\n                                                slot=\"item\"\n                                                slot-scope=\"{ item }\"\n                                            >\n                                                {{ item.code }} - {{ item.name }}\n                                            </template>\n                                        </v-select>\n                                    </v-col>\n                                </v-row>\n                                <v-row>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                        <label class=\"label\"> {{ $t(\"description\") }}</label>\n                                        <v-textarea no-resize height=\"90px\"\n                                                    id=\"loandDescription\"\n                                                    class=\"mt-1\"\n                                                    outlined\n                                                    v-model=\"loan.description\"\n                                                    rows=\"3\"\n                                                    required\n                                        />\n                                    </v-col>\n                                </v-row>\n                                <!-- End form input -->\n                            </v-card>\n                            <v-divider/>\n                            <!-- Footer -->\n                            <v-card outlined dense class=\"no_border function_footer\">\n                                <!-- Warning Message -->\n                                <v-alert type=\"warning\"\n                                         v-model=\"alert\"\n                                         dismissible>\n                                    <span v-html=\"errorMessage\"/>\n                                </v-alert>\n                                <v-btn\n                                    outlined\n                                    class=\"text-capitalize  black--text float-left\"\n                                    color=\"primary\"\n                                    ref=\"btnCancel\"\n                                    @click=\"cancel\"\n                                >{{ $t(\"cancel\") }}\n                                </v-btn\n                                >\n                                <v-btn\n                                    @click=\"onSaveOptionClick(SaveOption.SAVENEW)\"\n                                    color=\"primary\"\n                                    class=\"ml-2 float-right text-capitalize  white--text\"\n                                >{{ $t(\"save_new\") }}\n                                </v-btn\n                                >\n                                <v-btn\n                                    @click=\"onSaveOptionClick(SaveOption.SAVECLOSE)\"\n                                    color=\"secondary\"\n                                    class=\"float-right white--text text-capitalize \"\n                                >{{ $t(\"save_close\") }}\n                                </v-btn\n                                >\n                            </v-card>\n                        </v-form>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe\n                :isLoading=\"isLoading\"\n                :fullPage=\"true\"\n                :myLoading=\"true\"\n                :alertMessage=\"loadingAlert\"\n                :color=\"loadingColorAlert\"\n                :alertText=\"loadingTextAlert\"\n            />\n            <LoadingMe\n                :isLoading=\"showLoading\"\n                :fullPage=\"true\"\n                :myLoading=\"true\"/>\n            <LoadingMe\n                :isLoading=\"bankLoading\"\n                :fullPage=\"true\"\n                :myLoading=\"true\"/>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n// component\nimport LoadingMe from \"@/components/Loading\";\n// import {i18n} from \"@/i18n\";\nimport kendo from \"@progress/kendo-ui\";\nimport DatePickerComponent from \"@/components/custom_templates/DatePickerComponent\";\nimport {CurrencyModel} from \"@/scripts/model/AppModels\";\n// model\nimport LoanModel from \"@/scripts/financing/model/Loan\"\n// handler\nconst loanHandler = require(\"@/scripts/financing/handler/loanHandler\")\n\nconst {bankHandler, currencyHandler, entityTypeHandler} = require(\"@/scripts/AppHandlers\");\nconst {LoanStatus, EntityType, SaveOption} = require(\"@/scripts/default_setup/Collections\");\n\nconst currencyType = {\n    FUNCTIONAL_CURRENCY: 'fun-c',\n    TRANSACTION_CURRENCY: 'txn-c',\n    REPORTING_CURRENCY: 'rpt-c',\n    TAX_EXCHANGE_CURRENCY: 'tax-c',\n}\nimport VueNumeric from 'vue-numeric'\nimport saleFormContentHandler from \"@/scripts/saleFormContentHandler\";\nexport default {\n    name: \"NewLoan\",\n    components: {\n        LoadingMe,\n        \"app-datepicker\": DatePickerComponent,\n        VueNumeric\n    },\n    props: {\n        initLoan: {},\n    },\n    data: () => ({\n        /* Obj */\n        loan: new LoanModel({}),\n        // Form validation\n        valid: true,\n        isEdit: false,\n        bankLoading: false,\n        saveMode: '',\n        alert: false,\n        errorMessage: '',\n        SaveOption: SaveOption,\n        // LoadingMe\n        isLoading: false,\n        loadingAlert: false,\n        loadingColorAlert: \"\",\n        loadingTextAlert: \"\",\n        // Other\n        banks: [],\n        currencies: [],\n        loanTypes: [],\n        showLoading: false,\n        currencyList: [],\n        inputDec: 2,\n        numberFormat: '',\n        saleFormContent: {}\n    }),\n    methods: {\n        /* Set Default Data */\n        setDefaultData() {\n            this.loan = new LoanModel({})\n            this.loan.issuedDate = new Date().toISOString().substr(0, 10)\n            this.loan.status = LoanStatus.PENDING\n            this.loan.typeOfLoan = this.loanTypes[0]\n            this.loan.currency = this.currencyList[0]\n        },\n        getLastDayOfTheMonth(date) {\n            window.console.log(date.getMonth());\n            return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n        },\n        toNumberOfYearMonth(numberOfMonth) {\n            window.console.log(numberOfMonth);\n            let year = parseInt(parseInt(numberOfMonth) / 12);\n            let month = parseInt(numberOfMonth) - year * 12;\n            return {\n                year: year,\n                month: month,\n            };\n        },\n        onRequestDateChanged() {\n            this.menuJDate1 = false;\n            let exDate = new Date(this.request_date);\n            let duration = parseInt(this.loan.duration);\n            let isLastDayOfTheMonth = false;\n            let lastDay = this.getLastDayOfTheMonth(exDate);\n            if (parseInt(lastDay) == parseInt(exDate.getDate())) {\n                isLastDayOfTheMonth = true;\n            }\n            let numOfMonths = duration + exDate.getMonth() + 1;\n            let addMonth = this.toNumberOfYearMonth(numOfMonths);\n            if (isLastDayOfTheMonth) {\n                let month = addMonth.month;\n                let year = parseInt(exDate.getFullYear()) + addMonth.year;\n                let day = parseInt(this.getLastDayOfTheMonth(new Date(year, month, 0)));\n                /*\n                using the time to hold back the current time so the that date won't switch to other day\n                base on the ISOTime zoon with +7 for Cambodia.\n                */\n                this.exp_date = new Date(year, month - 1, day, 12, 0, 0)\n                    .toISOString()\n                    .substring(0, 10);\n            } else {\n                this.exp_date = new Date(exDate).toISOString().substr(0, 10);\n            }\n        },\n        // All Saves\n        onSaveOptionClick(mode) {\n            if (this.$refs.form.validate()) {\n                this.saveMode = mode\n                this.loan.saveOption = mode\n                this.save()\n            } else {\n                this.alertError()\n            }\n        },\n        cancel() {\n            this.$swal({\n                title: 'Are you sure?',\n                text: \"You won't be able to revert this!\",\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonColor: '#4d4848',\n                cancelButtonColor: '#ED1A3A',\n                confirmButtonText: 'Yes, discard it!'\n            }).then((result) => {\n                if (result.value) {\n                    this.clear()\n                    this.$router.go(-1)\n                }\n            })\n        },\n        clear() {\n            // Reset Form\n            // this.$refs.form.reset();\n\n            this.isEdit = false;\n\n            // Set default data\n            this.setDefaultData()\n        },\n        save() {\n            let self = this;\n            // Convert date to ISO\n            this.loan.issuedDate = kendo.toString(new Date(this.loan.issuedDate), 'yyyy-MM-dd');\n            if(this.isEdit == false){\n                this.loan.maturityDate = ''\n                this.loan.approveDate = ''\n                this.loan.firstPaymentDate = ''\n                this.loan.number = ''\n                this.loan.duration = 0\n                this.loan.monthlyRepayment = 0\n                this.loan.paymentTerm = {}\n                this.loan.receiptDate = ''\n            }\n            // Sync Data\n            this.showLoading = true;\n            loanHandler.loanCreate(new LoanModel(this.loan))\n                .then(function (response) {\n                    if (response) {\n                        self.responseStatus(response.status);\n                    } else {\n                        self.alertError();\n                    }\n                })\n                .catch(function (error) {\n                    self.alertError(error);\n                })\n                .finally(function () {\n                    self.showLoading = false;\n                })\n        },\n        // Response Status\n        responseStatus(status) {\n            switch (status) {\n                case 200:// Ok\n                    this.showAlert()\n\n                    // Reset to default data\n                    this.clear();\n\n                    break\n                case 201:// Duplicate\n                    this.showAlert()\n\n                    // Reset to default data\n                    this.clear();\n                    break\n                default:\n                    break\n            }\n        },\n        // Sweetalert2\n        changeAlertStatus() {\n            this.loadingAlert = true\n            setTimeout(() => {\n                this.loadingAlert = false\n            }, 6200);\n        },\n        showAlert() {\n            this.showLoading = false\n            this.changeAlertStatus()\n            this.loadingTextAlert = \"Added Successful\"\n            this.loadingColorAlert = \"#3DA72E\"\n            switch (this.saveMode) {\n                case 'saveClose':// Save Close\n                    this.$swal({\n                        position: 'products',\n                        icon: 'success',\n                        title: 'Your work has been saved',\n                        showConfirmButton: true,\n                        confirmButtonColor: '#4d4848',\n                        cancelButtonColor: '#ED1A3A',\n                        confirmButtonText: 'Yes, discard it!'\n                    }).then((result) => {\n                        if (result.value) {\n                            window.history.go(-1)\n                            return false\n                        }\n                    })\n                    break;\n                default:// Save New\n                    this.$swal({\n                        position: 'products',\n                        icon: 'success',\n                        title: 'Your work has been saved',\n                        showConfirmButton: true,\n                        confirmButtonColor: '#4d4848',\n                        cancelButtonColor: '#ED1A3A',\n                        confirmButtonText: 'Yes, discard it!'\n                    })\n                    break;\n            }\n            this.saveMode = ''\n        },\n        alertError(msg) {\n            if (msg) {\n                this.$swal({\n                    position: 'center',\n                    icon: 'error',\n                    title: 'Oops...!',\n                    text: msg,\n                    showConfirmButton: true\n                })\n            } else {\n                this.showLoading = false\n                this.loadingTextAlert = \"Failed!\"\n                this.loadingColorAlert = \"#eb8334\"\n                this.changeAlertStatus()\n            }\n        },\n        async loadCurrencyData() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.showLoading = true\n                    currencyHandler.list(currencyType.FUNCTIONAL_CURRENCY).then(response => {\n                        if (response.data.statusCode === 200) {\n                            this.currencyList = response.data.data\n                            if(this.currencyList.length > 0){\n                                this.loan.currency = this.currencyList[0]\n                            }\n                            this.showLoading = false\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 300)\n            })\n        },\n        async loadSaleFormContent() {\n            new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(\"resolved\");\n                    saleFormContentHandler.list().then((res) => {\n                        if (res.data.statusCode === 200) {\n                            const data = res.data.data;\n                            if (data.length > 0) {\n                                this.saleFormContent = data[0];\n                                this.numberFormat = 'n' + this.saleFormContent.decimal\n                                this.inputDec = parseInt(this.saleFormContent.decimal)\n                            }\n                        }\n                    });\n                }, 10);\n            });\n        },\n    },\n    watch: {\n        initLoan() {\n            this.loan = this.initLoan;\n        }\n    },\n    mounted: async function () {\n        await this.loadSaleFormContent();\n        // Set Default Data\n        if (this.initLoan) {\n            this.loan = this.initLoan;\n        }\n\n        // Call Bank List\n        this.bankLoading = true\n        let self = this\n        bankHandler.getAll()\n            .then((result) => {\n                this.banks = result.data;\n                self.bankLoading = false\n            });\n\n        // Call Loan Type\n        entityTypeHandler.getByEntityType(EntityType.LOAN)\n            .then((result) => {\n                this.loanTypes = result;\n                this.loan.typeOfLoan = this.loanTypes[0]\n            });\n\n        // Call Currency List\n        currencyHandler.getJson().then((result) => {\n            let currencylist = Object.values(result.data);\n            currencylist.forEach((value) => {\n                let cur = new CurrencyModel(value);\n                this.currencies.push(cur);\n            });\n        });\n        await this.loadCurrencyData()\n    },\n};\n</script>\n\n<style scoped>\n@media (min-width: 1264px) {\n    .container {\n        /* max-width: 1185px; */\n        max-width: 1080px !important;\n    }\n}\n\n@media (max-width: 576px) {\n    .mb-6 {\n        margin-bottom: 0 !important;\n    }\n}\n</style>\n"]}]}