{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/services_projects/projects/project_information/Transaction.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/services_projects/projects/project_information/Transaction.vue","mtime":1638499443309},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZWFyY2hEYXRlQ29tcG9uZW50IGZyb20gJ0AvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL1NlYXJjaERhdGUnCmltcG9ydCB7aTE4bn0gZnJvbSAnQC9pMThuJwppbXBvcnQgTGlua1RlbXBsYXRlIGZyb20gIkAvY29tcG9uZW50cy9rZW5kb190ZW1wbGF0ZXMvTGlua1RlbXBsYXRlIjsKY29uc3QgcHJvamVjdEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvcHJvamVjdEhhbmRsZXIiKQoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbJ2lkJ10sCiAgY29tcG9uZW50czogewogICAgJ2FwcC1zZWFyY2hkYXRlJzogU2VhcmNoRGF0ZUNvbXBvbmVudCwKICAgIExvYWRpbmdNZTogKCkgPT4gaW1wb3J0KGBAL2NvbXBvbmVudHMvTG9hZGluZ2ApLAogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIHN0YXJ0RGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICBlbmREYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwKICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgIGlzTG9hZGVkOiBmYWxzZSwKICAgIHRyYW5zYWN0aW9uTGlzdDogW10sCiAgICBncm91cDoge2ZpZWxkOiAndHlwZSd9LAogIH0pLAogIGNvbXB1dGVkOiB7CiAgICBoZWFkZXJzKCkgewogICAgICByZXR1cm4gWwogICAgICAgIHt0ZXh0OiBpMThuLnQoJ2RhdGUnKSwgdmFsdWU6ICdkYXRlJ30sCiAgICAgICAge3RleHQ6IGkxOG4udCgndHlwZScpLCB2YWx1ZTogJ3R5cGUnfSwKICAgICAgICB7dGV4dDogaTE4bi50KCdyZWYnKSwgdmFsdWU6ICdyZWYnfSwKICAgICAgICB7dGV4dDogaTE4bi50KCdhbW91bnQnKSwgdmFsdWU6ICdhbW91bnQnfSwKICAgICAgXQogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZmVyZW5jZVRlbXBsYXRlKGRhdGEpIHsKICAgICAgbGV0IHVybCA9IGAjYAogICAgICBpZiAoZGF0YS50eXBlID09PSAnSW52b2ljZScpIHsKICAgICAgICB1cmwgPSBgaW52b2ljZV92aWV3LyR7ZGF0YS50eG5JZH1gCiAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnU2FsZSBRdW90ZScpIHsKICAgICAgICB1cmwgPSBgc2FsZV9xdW90ZV92aWV3LyR7ZGF0YS50eG5JZH1gCiAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnRGVsYXllZCBJbnZvaWNlJykgewogICAgICAgIHVybCA9IGBkZWxheWVkX2ludm9pY2Vfdmlldy8ke2RhdGEudHhuSWR9YAogICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ1NhbGUgT3JkZXInKSB7CiAgICAgICAgdXJsID0gYHNhbGVfb3JkZXJfdmlldy8ke2RhdGEudHhuSWR9YAogICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ1B1cmNoYXNlIE9yZGVyJykgewogICAgICAgIHVybCA9IGBwdXJjaGFzZV9vcmRlcl92aWV3LyR7ZGF0YS50eG5JZH1gCiAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnQ3JlZGl0IE1lbW8nKSB7CiAgICAgICAgdXJsID0gYHNhbGVfcmV0dXJuX3ZpZXcvJHtkYXRhLnR4bklkfWAKICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdEZWJpdCBNZW1vJykgewogICAgICAgIHVybCA9IGBwdXJjaGFzZV9yZXR1cm5fdmlldy8ke2RhdGEudHhuSWR9YAogICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ0ludmVudG9yeSBBZGp1c3RtZW50JykgewogICAgICAgIHVybCA9IGBpbnZlbnRvcnlfYWRqdXN0bWVudF92aWV3LyR7ZGF0YS50eG5JZH1gCiAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnUHVyY2hhc2UnKSB7CiAgICAgICAgdXJsID0gYGNyZWRpdF9wdXJjaGFzZV92aWV3LyR7ZGF0YS50eG5JZH1gCiAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnUHJvZHVjdGlvbiBPcmRlcicpIHsKICAgICAgICB1cmwgPSBgcHJvZHVjdGlvbl9vcmRlcl92aWV3LyR7ZGF0YS50eG5JZH1gCiAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnUHJvZHVjdGlvbicpIHsKICAgICAgICB1cmwgPSBgcHJvZHVjdGlvbi8ke2RhdGEudHhuSWR9YAogICAgICB9CgogICAgICBsZXQgYXJncyA9IHsKICAgICAgICB0ZXh0OiBkYXRhLnJlZmVyZW5jZU5vLAogICAgICAgIHVybDogdXJsLAogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgIH0KICAgICAgcmV0dXJuIHsKICAgICAgICB0ZW1wbGF0ZTogTGlua1RlbXBsYXRlLAogICAgICAgIHRlbXBsYXRlQXJnczogYXJncwogICAgICB9CiAgICB9LAogICAgYXN5bmMgc2VhcmNoVHJhbnNhY3Rpb24oKSB7CiAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKQogICAgICAgICAgaWYgKHRoaXMuaWQpIHsKICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUKICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gdGhpcy5zdGFydERhdGUKICAgICAgICAgICAgY29uc3QgZW5kRGF0ZSA9IHRoaXMuZW5kRGF0ZQogICAgICAgICAgICBsZXQgc3RyRmlsdGVyID0gJz9zdGFydD0nICsgc3RhcnREYXRlICsgJyZlbmQ9JyArIGVuZERhdGUgKyAnJmlkPScgKyB0aGlzLmlkCiAgICAgICAgICAgIHByb2plY3RIYW5kbGVyLnByb2plY3RSZXBvcnQoc3RyRmlsdGVyKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvbkxpc3QgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0sIDEwKQogICAgICB9KQogICAgfSwKICB9LAogIHdhdGNoOiB7CiAgICAnaWQnOiAnc2VhcmNoVHJhbnNhY3Rpb24nCiAgfSwKfQo="},{"version":3,"sources":["Transaction.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Transaction.vue","sourceRoot":"src/views/services_projects/projects/project_information","sourcesContent":["<template>\n  <v-row class=\"grayBg\">\n    <v-col sm=\"12\" cols=\"12\" class=\"\">\n      <v-card outlined color=\"white\" class=\"pa-3\">\n        <v-row class=\"\">\n          <v-col sm=\"10\" cols=\"12\" class=\"py-0\">\n            <app-searchdate\n                :initStartDate=\"startDate\"\n                @emitStartDate=\"startDate = $event\"\n                :initEndDate=\"endDate\"\n                @emitEndDate=\"endDate = $event\"/>\n          </v-col>\n\n          <v-col sm=\"1\" cols=\"1\" class=\"py-0 mt-1\">\n            <v-btn color=\"primary white--text\" @click=\"searchTransaction\">\n              <i class=\"b-search\" style=\"font-size: 18px; color:#fff !important;\"/>\n            </v-btn>\n          </v-col>\n        </v-row>\n        <v-row class=\"\">\n          <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n            <v-simple-table class=\"attachment_table\" fixed-header\n                            height=\"300px\">\n              <LoadingMe\n                  :isLoading=\"showLoading\"\n                  :fullPage=\"false\"\n                  type=\"loading\"\n                  :myLoading=\"true\">\n              </LoadingMe>\n              <kendo-datasource ref=\"productTxnDS\"\n                                :group=\"group\"\n                                :data=\"transactionList\"/>\n              <kendo-grid id=\"gridProductTXN\" class=\"grid-function\"\n                          :data-source-ref=\"'productTxnDS'\"\n                          :sortable=\"false\"\n                          :groupable=\"true\"\n                          :filterable=\"false\"\n                          :column-menu=\"true\"\n                          :editable=\"false\"\n                          :style=\"{width: '100%'}\"\n                          :noRecords=\"true\"\n                          :scrollable-virtual=\"true\">\n                <kendo-grid-column\n                    :field=\"'transactionDate'\"\n                    :title=\"$t('date')\"\n                    :template=\"'<span>#=kendo.toString(new Date(transactionDate), dateFormat)#</span>'\"\n                    :width=\"150\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                <kendo-grid-column\n                    :field=\"'txnType'\"\n                    :title=\"$t('transaction_type')\"\n                    :template=\"'<span>#=txnType#</span>'\"\n                    :width=\"200\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                <kendo-grid-column\n                    :field=\"'type'\"\n                    :title=\"$t('type')\"\n                    :hidden=\"true\"\n                    :template=\"'<span>#=type#</span>'\"\n                    :width=\"200\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                <kendo-grid-column\n                    :field=\"'name'\"\n                    :title=\"$t('name')\"\n                    :template=\"'<span>#=name#</span>'\"\n                    :width=\"200\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                <kendo-grid-column\n                    :field=\"'referenceNo'\"\n                    :title=\"$t('reference_no')\"\n                    :template=\"referenceTemplate\"\n                    :width=\"200\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                <kendo-grid-column\n                    :field=\"'exchangeAmount'\"\n                    :title=\"$t('amount')\"\n                    :template=\"'<span>#=kendo.toString(exchangeAmount, decimalFormat)#</span>'\"\n                    :width=\"150\"\n                    :attributes=\"{style: 'text-align: right'}\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n              </kendo-grid>\n            </v-simple-table>\n          </v-col>\n        </v-row>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n<script>\nimport SearchDateComponent from '@/components/custom_templates/SearchDate'\nimport {i18n} from '@/i18n'\nimport LinkTemplate from \"@/components/kendo_templates/LinkTemplate\";\nconst projectHandler = require(\"@/scripts/projectHandler\")\n\nexport default {\n  props: ['id'],\n  components: {\n    'app-searchdate': SearchDateComponent,\n    LoadingMe: () => import(`@/components/Loading`),\n  },\n  data: () => ({\n    startDate: new Date().toISOString().substr(0, 10),\n    endDate: new Date().toISOString().substr(0, 10),\n    showLoading: false,\n    isLoaded: false,\n    transactionList: [],\n    group: {field: 'type'},\n  }),\n  computed: {\n    headers() {\n      return [\n        {text: i18n.t('date'), value: 'date'},\n        {text: i18n.t('type'), value: 'type'},\n        {text: i18n.t('ref'), value: 'ref'},\n        {text: i18n.t('amount'), value: 'amount'},\n      ]\n    },\n  },\n  methods: {\n    referenceTemplate(data) {\n      let url = `#`\n      if (data.type === 'Invoice') {\n        url = `invoice_view/${data.txnId}`\n      } else if (data.type === 'Sale Quote') {\n        url = `sale_quote_view/${data.txnId}`\n      } else if (data.type === 'Delayed Invoice') {\n        url = `delayed_invoice_view/${data.txnId}`\n      } else if (data.type === 'Sale Order') {\n        url = `sale_order_view/${data.txnId}`\n      } else if (data.type === 'Purchase Order') {\n        url = `purchase_order_view/${data.txnId}`\n      } else if (data.type === 'Credit Memo') {\n        url = `sale_return_view/${data.txnId}`\n      } else if (data.type === 'Debit Memo') {\n        url = `purchase_return_view/${data.txnId}`\n      } else if (data.type === 'Inventory Adjustment') {\n        url = `inventory_adjustment_view/${data.txnId}`\n      } else if (data.type === 'Purchase') {\n        url = `credit_purchase_view/${data.txnId}`\n      } else if (data.type === 'Production Order') {\n        url = `production_order_view/${data.txnId}`\n      } else if (data.type === 'Production') {\n        url = `production/${data.txnId}`\n      }\n\n      let args = {\n        text: data.referenceNo,\n        url: url,\n        data: data,\n      }\n      return {\n        template: LinkTemplate,\n        templateArgs: args\n      }\n    },\n    async searchTransaction() {\n      new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved')\n          if (this.id) {\n            this.showLoading = true\n            const startDate = this.startDate\n            const endDate = this.endDate\n            let strFilter = '?start=' + startDate + '&end=' + endDate + '&id=' + this.id\n            projectHandler.projectReport(strFilter).then(res => {\n              if (res.data.statusCode === 200) {\n                this.transactionList = res.data.data\n              }\n              this.showLoading = false\n            })\n          }\n        }, 10)\n      })\n    },\n  },\n  watch: {\n    'id': 'searchTransaction'\n  },\n}\n</script>\n<style scoped>\n</style>"]}]}