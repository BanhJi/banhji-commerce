{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/settings/currency/Currency.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/settings/currency/Currency.vue","mtime":1638499443316},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQge2RhdGFTdG9yZX0gZnJvbSAiQC9vYnNlcnZhYmxlL3N0b3JlIjsKCmNvbnN0IGluc3RpdHV0ZUhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaW5zdGl0dXRlSGFuZGxlciIpCmNvbnN0IGN1cnJlbmN5SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jdXJyZW5jeS9oYW5kbGVyL2N1cnJlbmN5SGFuZGxlciIpCmNvbnN0IGN1cnJlbmN5VHlwZSA9IHsKICAgIEZVTkNUSU9OQUxfQ1VSUkVOQ1k6ICdmdW4tYycsCiAgICBUUkFOU0FDVElPTl9DVVJSRU5DWTogJ3R4bi1jJywKICAgIFJFUE9SVElOR19DVVJSRU5DWTogJ3JwdC1jJywKICAgIFRBWF9FWENIQU5HRV9DVVJSRU5DWTogJ3RheC1jJywKfQovKiBDb29raWUgKi8KY29uc3QgY29va2llSlMgPSByZXF1aXJlKCJAL2Nvb2tpZS5qcyIpOwpjb25zdCB7IGluc3RpdHV0ZUlkIH0gPSBjb29raWVKUy5nZXRDb29raWUoKTsKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIkN1cnJlbmN5IiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBUeG5FeGNoYW5nZVJhdGU6ICgpID0+IGltcG9ydCgnLi9UeG5FeGNoYW5nZVJhdGUnKSwKICAgICAgICBSZXBvcnRpbmdFeGNoYW5nZVJhdGU6ICgpID0+IGltcG9ydCgnLi9SZXBvcnRpbmdFeGNoYW5nZVJhdGUnKSwKICAgICAgICBUYXhFeGNoYW5nZVJhdGU6ICgpID0+IGltcG9ydCgnLi9UYXhFeGNoYW5nZVJhdGUnKSwKICAgIH0sCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIGNvbXBhbnk6IHt9LAogICAgICAgIGN1cnJlbmN5TGlzdDogW10sCiAgICB9KSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBhc3luYyBsb2FkSW5zdGl0dXRlSW5mbygpIHsKICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpbnN0aXR1dGVIYW5kbGVyLmdldE9uZUNvbXBhbnkoaW5zdGl0dXRlSWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wYW55ID0gcmVzCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNvbHZlZCcpOwogICAgICAgICAgICAgICAgfSwgMjAwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBhc3luYyBsb2FkQ3VycmVuY3lEYXRhKCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJykKICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeUhhbmRsZXIubGlzdChjdXJyZW5jeVR5cGUuRlVOQ1RJT05BTF9DVVJSRU5DWSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW5jeUxpc3QgPSByZXNwb25zZS5kYXRhLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDEwKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICB9LAogICAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICAgIGF3YWl0IHRoaXMubG9hZEluc3RpdHV0ZUluZm8oKQogICAgICAgIGF3YWl0IHRoaXMubG9hZEN1cnJlbmN5RGF0YSgpCiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBwcm9kdWN0VHlwZSgpewogICAgICAgICAgICByZXR1cm4gZGF0YVN0b3JlLnByb2R1Y3RUeXBlCiAgICAgICAgfSwKICAgICAgICBiYXNlQ3VycmVuY3koKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmNvbXBhbnkpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbXBhbnkuaGFzT3duUHJvcGVydHkoJ2Jhc2VDdXJyZW5jeScpKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VyID0gdGhpcy5jb21wYW55LmJhc2VDdXJyZW5jeQogICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXIuY29kZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAnJwogICAgICAgIH0sCiAgICAgICAgcmVwb3J0aW5nQ3VycmVuY3koKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmNvbXBhbnkpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbXBhbnkuaGFzT3duUHJvcGVydHkoJ3JlcG9ydGluZ0N1cnJlbmN5JykpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXIgPSB0aGlzLmNvbXBhbnkucmVwb3J0aW5nQ3VycmVuY3kKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VyLmNvZGUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gJycKICAgICAgICB9LAogICAgICAgIGZ1bmNDdXJyZW5jeVVzZWQoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbmN5TGlzdCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVuY3lMaXN0Lmxlbmd0aAogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAnJwogICAgICAgIH0sCiAgICAgICAgdGF4Q3VycmVuY3koKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmNvbXBhbnkpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbXBhbnkuaGFzT3duUHJvcGVydHkoJ3RheEN1cnJlbmN5JykpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXIgPSB0aGlzLmNvbXBhbnkudGF4Q3VycmVuY3kKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VyLmNvZGUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gJycKICAgICAgICB9LAogICAgfSwKfQo="},{"version":3,"sources":["Currency.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Currency.vue","sourceRoot":"src/views/settings/currency","sourcesContent":["<template>\n    <v-row class=\"\">\n        <v-col sm=\"12\" cols=\"12\" class=\"pt-4 pb-0\">\n\n            <v-row>\n                    <v-col class=\"pt-0\" sm=\"3\" cols=\"12\">\n                    <v-card outlined dense class=\"pa-3 rounded-4 no_border white--text \" color=\"primary\" height=\"60px\">\n                        <h3 class=\"text-left font_12 flex-1 text-uppercase\">{{\n                                $t('base_currency')\n                            }}</h3>\n                        <h3 class=\"text-right  flex-1 mt-0 font_20\">{{ baseCurrency }}</h3>\n                    </v-card>\n                </v-col>\n                <v-col class=\"pt-0\" sm=\"3\" cols=\"12\">\n                    <v-card outlined dense class=\"pa-3 rounded-4 no_border white--text \" color=\"primary\" height=\"60px\">\n                        <h3 class=\"text-left font_12 flex-1 text-uppercase\">{{\n                                $t('reporting_currency')\n                            }}</h3>\n                        <h3 class=\"text-right  flex-1 mt-0 font_20\">{{ reportingCurrency }}</h3>\n                    </v-card>\n                </v-col>\n                <v-col sm=\"3\" class=\"pt-0\" cols=\"12\">\n                    <v-card outlined dense class=\"pa-3 rounded-4 no_border white--text \" color=\"third\" height=\"60px\">\n                        <h3 class=\"text-left font_12 flex-1 text-uppercase\">{{\n                                $t('tax__currency')\n                            }}</h3>\n                        <h3 class=\"text-right  flex-1 mt-0 font_20\">{{ taxCurrency }}</h3>\n                    </v-card>\n                </v-col>\n                <v-col sm=\"3\" class=\"pt-0\" cols=\"12\">\n                    <v-card outlined :to=\"productType !== 'Standard' ? 'functional_currency' : ''\" dense class=\"pa-3 funct_click rounded-4 no_border white--text \" color=\"third\" height=\"60px\">\n                        <h3 class=\"text-left font_12 flex-1 text-uppercase\">{{\n                                $t('functional_currency')\n                            }}</h3>\n                        <h3 class=\"text-right  flex-1 mt-0 font_20\">{{ funcCurrencyUsed }}</h3>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <v-row>\n                <v-col sm=\"12\" cols=\"12\" class=\"tab_wrapper py-0\">\n                    <v-tabs>\n                        <v-tab>\n                            <span class=\"text-uppercase\">\n                                {{ $t('transaction_exchange_rate') }}\n                            </span>\n                        </v-tab>\n                        <v-tab>\n                            <span class=\"text-uppercase\">\n                                {{ $t('reporting_exchange_rate') }}\n                            </span>\n                        </v-tab>\n                        <v-tab>\n                            <span class=\"text-uppercase\">\n                                {{ $t('tax_exchange_rate') }}\n                            </span>\n                        </v-tab>\n\n                        <v-tab-item>\n                            <v-card flat>\n                                <v-card-text class=\"py-0\">\n                                    <TxnExchangeRate/>\n                                </v-card-text>\n                            </v-card>\n                        </v-tab-item>\n\n                        <v-tab-item>\n                              <v-card flat>\n                                <v-card-text class=\"py-0\">\n                                    <ReportingExchangeRate/>\n                               </v-card-text>\n                            </v-card>\n                        </v-tab-item>\n\n                        <v-tab-item>\n                             <v-card flat>\n                                <v-card-text class=\"py-0\">\n                                    <TaxExchangeRate/>\n                             </v-card-text>\n                            </v-card>\n                        </v-tab-item>\n                    </v-tabs>\n                </v-col>\n            </v-row>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\n\nimport {dataStore} from \"@/observable/store\";\n\nconst instituteHandler = require(\"@/scripts/instituteHandler\")\nconst currencyHandler = require(\"@/scripts/currency/handler/currencyHandler\")\nconst currencyType = {\n    FUNCTIONAL_CURRENCY: 'fun-c',\n    TRANSACTION_CURRENCY: 'txn-c',\n    REPORTING_CURRENCY: 'rpt-c',\n    TAX_EXCHANGE_CURRENCY: 'tax-c',\n}\n/* Cookie */\nconst cookieJS = require(\"@/cookie.js\");\nconst { instituteId } = cookieJS.getCookie();\nexport default {\n    name: \"Currency\",\n    components: {\n        TxnExchangeRate: () => import('./TxnExchangeRate'),\n        ReportingExchangeRate: () => import('./ReportingExchangeRate'),\n        TaxExchangeRate: () => import('./TaxExchangeRate'),\n    },\n    data: () => ({\n        company: {},\n        currencyList: [],\n    }),\n    methods: {\n        async loadInstituteInfo() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    instituteHandler.getOneCompany(instituteId).then(res => {\n                        this.company = res\n                    })\n                    resolve('resolved');\n                }, 200);\n            });\n        },\n        async loadCurrencyData() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    currencyHandler.list(currencyType.FUNCTIONAL_CURRENCY).then(response => {\n                        if (response.data.statusCode === 200) {\n                            this.currencyList = response.data.data\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 10)\n            })\n        },\n    },\n    mounted: async function () {\n        await this.loadInstituteInfo()\n        await this.loadCurrencyData()\n    },\n    computed: {\n        productType(){\n            return dataStore.productType\n        },\n        baseCurrency() {\n            if (this.company) {\n                if (this.company.hasOwnProperty('baseCurrency')) {\n                    const cur = this.company.baseCurrency\n                    return cur.code\n                }\n            }\n            return ''\n        },\n        reportingCurrency() {\n            if (this.company) {\n                if (this.company.hasOwnProperty('reportingCurrency')) {\n                    const cur = this.company.reportingCurrency\n                    return cur.code\n                }\n            }\n            return ''\n        },\n        funcCurrencyUsed() {\n            if (this.currencyList) {\n                return this.currencyList.length\n            }\n            return ''\n        },\n        taxCurrency() {\n            if (this.company) {\n                if (this.company.hasOwnProperty('taxCurrency')) {\n                    const cur = this.company.taxCurrency\n                    return cur.code\n                }\n            }\n            return ''\n        },\n    },\n}\n</script>\n<style scoped>\n.funct_click {\n    transition: box-shadow 200ms;\n    border-left: 4px solid #4d4848 !important;\n    position: relative;\n}\n\n.funct_click::before {\n    content: \"\";\n    posistion: absolute;\n    width: 0;\n    height: 0;\n    margin-top: 13px;\n    marin-left: -10px;\n    border-top: 10px solid transparent;\n    border-left: 20px solid #f33;\n    border-bottom: 10px solid transparent;\n    float: left;\n}\n\n.funct_click i {\n    color: #4d4848;\n    font-size: 30px;\n    transition: 0.5s ease-in;\n    position: absolute;\n    left: 2px;\n    top: 18px;\n}\n.v-tab.v-tab {\n    font-size: 16px !important;\n}\n.funct_click:hover i {\n    position: absolute;\n    left: 90%;\n\n}\n</style>\n\t"]}]}