{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/suppliers/views/CashAdvanceView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/suppliers/views/CashAdvanceView.vue","mtime":1638931253182},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCB7IGkxOG4gfSBmcm9tICJAL2kxOG4iOwovLyBpbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKaW1wb3J0IEhlbHBlciBmcm9tICJAL2hlbHBlci5qcyI7CmltcG9ydCB7CiAgQ2FzaEFkdmFuY2VNb2RlbCwKICBDYXNoQWR2YW5jZURldGFpbE1vZGVsLAogIEFjY291bnRNb2RlbCwKICBDb250YWN0TW9kZWwsCiAgUHJvamVjdE1vZGVsLAogIFNlZ21lbnRNb2RlbCwKICBMb2NhdGlvbk1vZGVsLAogIFBheW1lbnRNZXRob2RNb2RlbCwKfSBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQXBwTW9kZWxzIjsKCmNvbnN0IHsgY2FzaEFkdmFuY2VIYW5kbGVyIH0gPSByZXF1aXJlKCJAL3NjcmlwdHMvQXBwSGFuZGxlcnMiKTsKY29uc3QgeyBBY2NvdW50VHlwZUNvZGUgfSA9IHJlcXVpcmUoIkAvc2NyaXB0cy9kZWZhdWx0X3NldHVwL0NvbGxlY3Rpb25zIik7Ci8vIGZyb20KY29uc3QgeyBnZXRGb3JtU2V0dGluZyB9ID0gcmVxdWlyZSgiQC9zY3JpcHRzL3NldHRpbmdzSGFuZGxlci5qcyIpOwppbXBvcnQgeyBwcmludCB9IGZyb20gIkAvZm9ybS9FeHBlbnNlLmpzIjsKaW1wb3J0IHsgaTE4biB9IGZyb20gIkAvaTE4biI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNhc2hBZHZhbmNlVmlldyIsCiAgY29tcG9uZW50czogewogICAgTG9hZGluZ01lOiAoKSA9PiBpbXBvcnQoIkAvY29tcG9uZW50cy9Mb2FkaW5nIiksCiAgfSwKICBwcm9wczogewogICAgaW5pdENhc2hBZHZhbmNlOiB7CiAgICAgIHR5cGU6IENhc2hBZHZhbmNlTW9kZWwsCiAgICB9LAogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIC8vIE9iagogICAgY2FzaEFkdmFuY2U6IG5ldyBDYXNoQWR2YW5jZU1vZGVsKCksCiAgICBjYXNoQWR2YW5jZURldGFpbHM6IFtdLAogICAgZW1wbG95ZWU6IG5ldyBDb250YWN0TW9kZWwoKSwKICAgIHBheW1lbnRNZXRob2Q6IG5ldyBQYXltZW50TWV0aG9kTW9kZWwoKSwKICAgIGNhc2hBZHZhbmNlQWNjb3VudDogbmV3IEFjY291bnRNb2RlbCgpLAogICAgc2Vjb25kYXJ5QWNjb3VudDogbmV3IEFjY291bnRNb2RlbCgpLAogICAgcHJvamVjdDogbmV3IFByb2plY3RNb2RlbCgpLAogICAgc2VnbWVudDogbmV3IFNlZ21lbnRNb2RlbCgpLAogICAgbG9jYXRpb246IG5ldyBMb2NhdGlvbk1vZGVsKCksCiAgICB0b3RhbEFtb3VudDogMCwKICAgIC8vIE90aGVyCiAgICBIZWxwZXI6IEhlbHBlciwKICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgIC8vIFNpZGViYXIKICAgIGlzSGlkZUJhcjogZmFsc2UsCiAgfSksCiAgbWV0aG9kczogewogICAgLy8gTG9hZCBjYXNoQWR2YW5jZSBhY2NvcmRpbmcgdG8gcXVlcnkgc3RyaW5nIHtpZH0KICAgIGxvYWRPYmooKSB7CiAgICAgIC8vIEFjY2VzcyBRdWVyeSBTdHJpbmcKICAgICAgbGV0IHEgPSB0aGlzLiRyb3V0ZS5wYXJhbXM7CiAgICAgIGlmIChxLmlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAocS5pZCAhPT0gdGhpcy5jYXNoQWR2YW5jZS51dWlkKSB7CiAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICBjYXNoQWR2YW5jZUhhbmRsZXIKICAgICAgICAgICAgLmdldE9uZShxLmlkKQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5jYXNoQWR2YW5jZSA9IG5ldyBDYXNoQWR2YW5jZU1vZGVsKHJlcy5kYXRhKTsKICAgICAgICAgICAgICB0aGlzLmJpbmREYXRhKCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5maW5hbGx5KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIC8vIHNlbGYuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXN5bmMgYmluZERhdGEoKSB7CiAgICAgIC8vIEJpbmQgT2JqCiAgICAgIGxldCBzZWNvbmRhcnlBY2NvdW50cyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhY2NvdW50aW5nL2dldFNlY29uZGFyeUFjY291bnRzIiksCiAgICAgICAgZW50cmllcyA9IFtdOwogICAgICB0aGlzLmNhc2hBZHZhbmNlLmRldGFpbHMuZm9yRWFjaCgodmFsdWUpID0+IHsKICAgICAgICBpZiAodmFsdWUuYW1vdW50IDwgMCkgewogICAgICAgICAgLy8gQ3Igc2lkZQogICAgICAgICAgbGV0IGRldGFpbCA9IG5ldyBDYXNoQWR2YW5jZURldGFpbE1vZGVsKHZhbHVlKTsKICAgICAgICAgIGRldGFpbC5hbW91bnQgPSB2YWx1ZS5hbW91bnQgKiAtMTsKICAgICAgICAgIAogICAgICAgICAgLyogU2Vjb25kYXJ5IEFjY291bnQgKi8KCQkJCQlkZXRhaWwuc2Vjb25kYXJ5X2FjY291bnQgPSBuZXcgQWNjb3VudE1vZGVsKAoJCQkJCQlzZWNvbmRhcnlBY2NvdW50cy5maW5kKChpKSA9PiBpLnV1aWQgPT09IHZhbHVlLnNlY29uZGFyeV9hY2NfdXVpZCkKCQkJCQkpOwoKICAgICAgICAgIGVudHJpZXMucHVzaChkZXRhaWwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBEciBzaWRlCiAgICAgICAgICAvLyBDYXNoIEFkdmFuY2UgQWNjb3VudAogICAgICAgICAgaWYgKAogICAgICAgICAgICB2YWx1ZS5hY2NvdW50LmFjY291bnRfdHlwZS5jb2RlID09PSBBY2NvdW50VHlwZUNvZGUuQ0FTSF9BRFZBTkNFCiAgICAgICAgICApIHsKICAgICAgICAgICAgdGhpcy5jYXNoQWR2YW5jZUFjY291bnQgPSBuZXcgQWNjb3VudE1vZGVsKHZhbHVlLmFjY291bnQpOwogICAgICAgICAgICB0aGlzLnRvdGFsQW1vdW50ID0gdmFsdWUuYW1vdW50OwoKICAgICAgICAgICAgLyogU2Vjb25kYXJ5IEFjY291bnQgKi8KICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnlBY2NvdW50ID0gbmV3IEFjY291bnRNb2RlbCgKICAgICAgICAgICAgICBzZWNvbmRhcnlBY2NvdW50cy5maW5kKChpKSA9PiBpLnV1aWQgPT09IHZhbHVlLnNlY29uZGFyeV9hY2NfdXVpZCkKICAgICAgICAgICAgKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgLy8gSm91cm5hbCBFbnRyaWVzCiAgICAgIHRoaXMuY2FzaEFkdmFuY2VEZXRhaWxzID0gZW50cmllczsKCiAgICAgIC8vIEVtcGxveWVlCiAgICAgIHRoaXMuZW1wbG95ZWUgPSBuZXcgQ29udGFjdE1vZGVsKHRoaXMuY2FzaEFkdmFuY2UucmVxdWVzdGVkX2J5KTsKCiAgICAgIC8vIFBheW1lbnQgTWV0aG9kCiAgICAgIHRoaXMucGF5bWVudE1ldGhvZCA9IG5ldyBQYXltZW50TWV0aG9kTW9kZWwoCiAgICAgICAgdGhpcy5jYXNoQWR2YW5jZURldGFpbHNbMF0ucGF5bWVudF9tZXRob2QKICAgICAgKTsKCiAgICAgIC8vIFNpZGViYXIKICAgICAgbGV0IHNlZ21lbnRzID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNlZ21lbnRzL2dldExpc3QiKTsKICAgICAgdGhpcy5zZWdtZW50ID0gbmV3IFNlZ21lbnRNb2RlbCgKICAgICAgICBzZWdtZW50cy5maW5kKChpKSA9PiBpLmlkID09PSB0aGlzLmNhc2hBZHZhbmNlLnNlZ21lbnRfdXVpZCkKICAgICAgKTsKCiAgICAgIGxldCBwcm9qZWN0cyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJwcm9qZWN0cy9nZXRMaXN0Iik7CiAgICAgIHRoaXMucHJvamVjdCA9IG5ldyBQcm9qZWN0TW9kZWwoCiAgICAgICAgcHJvamVjdHMuZmluZCgoaSkgPT4gaS5pZCA9PT0gdGhpcy5jYXNoQWR2YW5jZS5wcm9qZWN0X3V1aWQpCiAgICAgICk7CgogICAgICBsZXQgbG9jYXRpb25zID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImxvY2F0aW9ucy9nZXRMaXN0Iik7CiAgICAgIHRoaXMubG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlbCgKICAgICAgICBsb2NhdGlvbnMuZmluZCgoaSkgPT4gaS5pZCA9PT0gdGhpcy5jYXNoQWR2YW5jZS5sb2NhdGlvbl91dWlkKQogICAgICApOwoKICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgfSwKICAgIC8vIFJvdyBOdW1iZXIgVGVtcGxhdGUKICAgIHJvd051bWJlclRtcGwoZGF0YUl0ZW0pIHsKICAgICAgbGV0IGRzID0gdGhpcy4kcmVmcy5jYXNoQWR2YW5jZURldGFpbERTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgaW5kZXggPSBkcy5pbmRleE9mKGRhdGFJdGVtKTsKCiAgICAgIHJldHVybiBpbmRleCArIDE7CiAgICB9LAogICAgZ2V0Q2FzaEFkdmFuY2UoKSB7CiAgICAgIHJldHVybiBuZXcgQ2FzaEFkdmFuY2VNb2RlbCh0aGlzLmNhc2hBZHZhbmNlKTsKICAgIH0sCiAgICBlZGl0KCkgewogICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgbmFtZTogIkNhc2ggQWR2YW5jZSIsCiAgICAgICAgcGFyYW1zOiB7IGluaXRDYXNoQWR2YW5jZTogdGhpcy5nZXRDYXNoQWR2YW5jZSgpIH0sCiAgICAgIH0pOwogICAgfSwKICAgIF9wcmludChpZCkgewoJCWxldCBkYXRhX3ByaW50ID0ge30KCQlkYXRhX3ByaW50WydjYXNoQWR2YW5jZURldGFpbHMnXSA9IHRoaXMuY2FzaEFkdmFuY2VEZXRhaWxzCgkJZGF0YV9wcmludFsnY2FzaEFkdmFuY2UnXSA9IHRoaXMuY2FzaEFkdmFuY2UKCQlkYXRhX3ByaW50WydjdXJyZW5jeSddID0gdGhpcy5jYXNoQWR2YW5jZS5jdXJyZW5jeQoJCWRhdGFfcHJpbnRbJ3BheW1lbnRNZXRob2QnXSA9IHRoaXMucGF5bWVudE1ldGhvZAoJCWRhdGFfcHJpbnRbJ3Byb2plY3QnXSA9IHRoaXMucHJvamVjdAoJCWRhdGFfcHJpbnRbJ2xvY2F0aW9uJ10gPSB0aGlzLmxvY2F0aW9uCgkJZGF0YV9wcmludFsnc2VnbWVudCddID0gdGhpcy5zZWdtZW50CgkJZGF0YV9wcmludFsnZW1wbG95ZWUnXSA9IHRoaXMuZW1wbG95ZWUKCQlkYXRhX3ByaW50Wyd0b3RhbCddID0gIHRoaXMudG90YWxBbW91bnQKCQlsZXQgcGFyYW1zID0gIj9mb3JtVHlwZT1BZHZhbmNlIFZvdWNoZXIiOwoJCWdldEZvcm1TZXR0aW5nKHBhcmFtcykudGhlbigocmVzKSA9PiB7CgkJCWlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKCQkJaWYgKHJlcy5kYXRhLmRhdGEubGVuZ3RoID4gMCkgewoJCQkJcHJpbnQoZGF0YV9wcmludCwgaWQsIHJlcy5kYXRhLmRhdGFbIjAiXS5zZXR0aW5ncyk7CgkJCX0gZWxzZSB7CgkJCQl0aGlzLiRzbm90aWZ5LmVycm9yKGkxOG4udCgicGxlYXNlX3NhdmVfZm9ybV9pbl9zZXR0aW5nIikpOwoJCQl9CgkJCX0KCQl9KTsKICAgIH0sCiAgICBoaWRlX3NtYWxsc2l0ZWJhcigpIHsKICAgICAgaWYgKCF0aGlzLmlzSGlkZUJhcikgewogICAgICAgIC8vIHRoaXMuY29sX2V4cGFuZCA9IDEyCiAgICAgICAgLy8gdGhpcy5jb2xfaGlkZSA9IDAKICAgICAgICB0aGlzLmlzSGlkZUJhciA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gdGhpcy5jb2xfZXhwYW5kID0gOQogICAgICAgIC8vIHRoaXMuY29sX2hpZGUgPSAzCiAgICAgICAgdGhpcy5pc0hpZGVCYXIgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICB9LAogIHdhdGNoOiB7CiAgICAvLyBjYWxsIGFnYWluIHRoZSBtZXRob2QgaWYgdGhlIHJvdXRlIGNoYW5nZXMKICAgICRyb3V0ZTogImxvYWRPYmoiLAogICAgaW5pdENhc2hBZHZhbmNlKCkgewogICAgICBpZiAodGhpcy5pbml0Q2FzaEFkdmFuY2UpIHsKICAgICAgICB0aGlzLmNhc2hBZHZhbmNlID0gdGhpcy5pbml0Q2FzaEFkdmFuY2U7CiAgICAgICAgdGhpcy5iaW5kRGF0YSgpOwogICAgICB9CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vIGZldGNoIHRoZSBkYXRhIHdoZW4gdGhlIHZpZXcgaXMgY3JlYXRlZCBhbmQgdGhlIGRhdGEgaXMKICAgIC8vIGFscmVhZHkgYmVpbmcgb2JzZXJ2ZWQKICAgIHRoaXMubG9hZE9iaigpOwogIH0sCn07Cg=="},{"version":3,"sources":["CashAdvanceView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CashAdvanceView.vue","sourceRoot":"src/views/suppliers/views","sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <v-row>\n        <v-col sm=\"12\" cols=\"12\">\n          <v-card\n            outlined\n            dense\n            class=\"pa-4 no_border rounded-sm\"\n            color=\"white\"\n          >\n            <v-row>\n              <v-col\n                class=\"bigSide py-0\"\n                sm=\"8\"\n                cols=\"12\"\n                style=\"transition: 0.3s ease-in\"\n                :class=\"{ hide_big_bar_class: isHideBar }\"\n              >\n                <v-form ref=\"form\">\n                  <v-card outlined dense class=\"no_border\">\n                    <h2 class=\"mb-0\">\n                      {{ $t(\"cash_advance\") }}\n                    </h2>\n                    <v-icon\n                      v-if=\"isHideBar\"\n                      onclick=\"window.history.go(-1); return false;\"\n                      style=\"\n\t\t\t\t\t\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: #333;\n\t\t\t\t\t\t\t\t\t\t\t\tfont-size: 40px;\n\t\t\t\t\t\t\t\t\t\t\t\"\n                      class=\"float-right\"\n                      >close\n                    </v-icon>\n                    <span\n                      style=\"\n\t\t\t\t\t\t\t\t\t\t\t\ttransition: 0.3s ease-in;\n\t\t\t\t\t\t\t\t\t\t\t\tz-index: 10;\n\t\t\t\t\t\t\t\t\t\t\t\"\n                      :class=\"{\n                        iconArrow: !isHideBar,\n                        iconArrowHide: isHideBar,\n                      }\"\n                    >\n                      <v-icon\n                        size=\"22\"\n                        class=\"arr_icon\"\n                        @click=\"hide_smallsitebar\"\n                        v-if=\"isHideBar\"\n                      >\n                        mdi-chevron-left-circle\n                      </v-icon>\n                      <v-icon\n                        size=\"22\"\n                        class=\"arr_icon\"\n                        @click=\"hide_smallsitebar\"\n                        v-if=\"!isHideBar\"\n                      >\n                        mdi-chevron-right-circle\n                      </v-icon>\n                    </span>\n                  </v-card>\n                  <!-- Body -->\n                  <v-card\n                    outlined\n                    dense\n                    class=\"px-3 no_border mb-3\"\n                    color=\"grayBg\"\n                  >\n                    <v-row>\n                      <v-col sm=\"5\" cols=\"12\" class=\"pb-0\">\n                        <label class=\"label\">{{ $t(\"date\") }}</label>\n                        <h3 class=\"text-bold py-1\">\n                          {{ Helper.dateFormat(cashAdvance.advance_date) }}\n                        </h3>\n\n                        <label class=\"label\">{{ $t(\"txn_currency\") }}</label>\n                        <h3 class=\"text-bold py-1\">\n                          {{ cashAdvance.currency.code }} -\n                          {{ cashAdvance.currency.name }}\n                        </h3>\n                        <label class=\"label\">{{ $t(\"description\") }}</label>\n                        <h3 class=\"text-bold py-1\">\n                          {{ cashAdvance.description }}\n                        </h3>\n                      </v-col>\n                      <v-col sm=\"7\" cols=\"12\" class=\"pb-0\">\n                        <v-row>\n                          <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                            <label class=\"label\">{{\n                              $t(\"advance_request\")\n                            }}</label>\n                            <h3 class=\"text-bold py-1\">\n                              {{ cashAdvance.ref_number }}\n                            </h3>\n\n                            <label class=\"label\">{{\n                              $t(\"expected_settlement_date\")\n                            }}</label>\n                            <h3 class=\"text-bold py-1\">\n                              {{\n                                Helper.dateFormat(\n                                  cashAdvance.expected_settlement_date\n                                )\n                              }}\n                            </h3>\n                          </v-col>\n\n                          <v-col sm=\"6\" cols=\"12\" class=\"pb-0 pt-0\">\n                            <label class=\"label\">{{ $t(\"method\") }}</label>\n                            <h3 class=\"text-bold py-1\">\n                              {{ paymentMethod.name }}\n                            </h3>\n\n                            <label class=\"label\">{{\n                              $t(\"cash_advance_account\")\n                            }}</label>\n                            <h3 class=\"text-bold py-1\">\n                              {{ cashAdvanceAccount.name }}\n                            </h3>\n                            <div v-if=\"this.$store.state.accounting.secondaryAccount\">\n                              <label class=\"label\">{{\n                                $t(\"s_account\")\n                              }}</label>\n                              <h3 class=\"text-bold py-1\">\n                                {{ secondaryAccount.name }}\n                              </h3>\n                            </div>\n                          </v-col>\n                        </v-row>\n                      </v-col>\n                    </v-row>\n                  </v-card>\n                  <v-row\n                    style=\"\n\t\t\t\t\t\t\t\t\t\t\tbackground-color: rgb(\n\t\t\t\t\t\t\t\t\t\t\t\t255,\n\t\t\t\t\t\t\t\t\t\t\t\t255,\n\t\t\t\t\t\t\t\t\t\t\t\t255\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\t\t\t\tmargin: 0 auto 0px;\n\t\t\t\t\t\t\t\t\t\t\"\n                  >\n                    <v-col sm=\"12\" cols=\"12\" class=\"pb-3 pa-0\">\n                      <kendo-datasource\n                        ref=\"cashAdvanceDetailDS\"\n                        :data=\"cashAdvanceDetails\"\n                        page=\"1\"\n                        page-size=\"10\"\n                      />\n\n                      <kendo-grid\n                        id=\"grid\"\n                        class=\"grid-function\"\n                        :data-source-ref=\"'cashAdvanceDetailDS'\"\n                        :noRecords=\"true\"\n                        :column-menu=\"true\"\n                        :pageable-page-sizes=\"true\"\n                        :pageable-button-count=\"5\"\n                      >\n                        <kendo-grid-column\n                          :title=\"$t('no.')\"\n                          :template=\"rowNumberTmpl\"\n                          :width=\"45\"\n                          :column-menu=\"false\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5;',\n                            class: 'text-products',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: products',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'account'\"\n                          :title=\"$t('account')\"\n                          :width=\"200\"\n                          :template=\"'<span>#=account.name#</span>'\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        />\n                        <kendo-grid-column\n\t\t\t\t\t\t\t\t\t\t\t\t\t:field=\"'secondary_account'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('s_account')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:template=\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$store.state.accounting.accountLanguage ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'English'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '<span>#=secondary_account.number#</span> <span>#=secondary_account.name#</span>'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '<span>#=secondary_account.number#</span> <span>#=secondary_account.local_name#</span>'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:width=\"200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:hidden=\"!this.$store.state.accounting.secondaryAccount\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:headerAttributes=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'background-color: #EDF1F5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n                        <kendo-grid-column\n                          :field=\"'description'\"\n                          :title=\"$t('description')\"\n                          :width=\"200\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'ref_number'\"\n                          :title=\"$t('reference_no')\"\n                          :width=\"160\"\n                          :headerAttributes=\"{\n                            style: 'background-color: #EDF1F5',\n                          }\"\n                        />\n                        <kendo-grid-column\n                          :field=\"'amount'\"\n                          :title=\"$t('amount')\"\n                          :format=\"'{0:n}'\"\n                          :width=\"150\"\n                          :headerAttributes=\"{\n                            style:\n                              'text-align: right; background-color: #EDF1F5',\n                          }\"\n                          :attributes=\"{\n                            style: 'text-align: right; ',\n                          }\"\n                        />\n                      </kendo-grid>\n                    </v-col>\n                  </v-row>\n                  <!-- And Body -->\n                  <v-divider />\n                  <v-card outlined dense class=\"no_border function_footer py-2\">\n                    <v-btn\n                      class=\"float-right save_option mx-1 capitalize\"\n                      color=\"secondary\"\n                      @click=\"_print(2)\"\n                    >\n                      {{ $t(\"print\") }}\n                    </v-btn>\n                    <!-- <v-btn\n\t\t\t\t\t\t\t\t\t\t\tclass=\"float-right mx-1 white--text capitalize\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"blue\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"delete\") }}\n\t\t\t\t\t\t\t\t\t\t</v-btn> -->\n                    <v-btn\n                      class=\"float-right mx-1 white--text capitalize\"\n                      color=\"primary\"\n                      @click=\"edit\"\n                      v-if=\"cashAdvance.is_settled !== 1\"\n                    >\n                      {{ $t(\"edit\") }}\n                    </v-btn>\n                  </v-card>\n                  <v-divider />\n                </v-form>\n              </v-col>\n              <v-col\n                class=\"smallSide\"\n                sm=\"4\"\n                style=\"transition: 0.3s ease-in\"\n                :class=\"{ hide_small_bar_class: isHideBar }\"\n              >\n                <h3\n                  style=\"color: #b3b5bc; font-size: 20px\"\n                  v-if=\"!isHideBar\"\n                  class=\"text-uppercase float-right mt-n3\"\n                >\n                  Help\n                  <v-icon\n                    onclick=\"window.history.go(-1); return false;\"\n                    style=\"\n\t\t\t\t\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\t\t\t\t\tcolor: #333;\n\t\t\t\t\t\t\t\t\t\t\tfont-size: 40px;\n\t\t\t\t\t\t\t\t\t\t\"\n                    class=\"float-right mt-n1\"\n                    >close\n                  </v-icon>\n                </h3>\n\n                <div v-if=\"!isHideBar\" class=\"small_sidebar mt-9 px-4 grayBg\">\n                  <v-card\n                    class=\"pa-3 my_card no-boxshadow\"\n                    color=\"primary\"\n                    style=\"min-height: 60px;\"\n                  >\n                    <h3\n                      style=\"font-size: 14px\"\n                      class=\"text-white text-uppercase mb-0\"\n                    >\n                      {{ $t(\"total_amount\") }}\n                    </h3>\n                    <h3\n                      class=\"text-bold float-right text-white\"\n                      style=\"font-size: 22px\"\n                    >\n                      {{ Number(totalAmount).toLocaleString() }}\n                    </h3>\n                  </v-card>\n\n                  <!-- <v-divider class=\"my-2\" /> -->\n                  <div\n                    class=\"mb-3\"\n                    style=\"\n\t\t\t\t\t\t\t\t\t\t\theight: 3px;\n\t\t\t\t\t\t\t\t\t\t\tbackground-color: #ffffff;\n\t\t\t\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\t\t\t\"\n                  ></div>\n                  <v-row>\n                    <v-col sm=\"12\" cols=\"6\" class=\"py-2\">\n                      <label class=\"label\">{{\n                        $t(\"business_unit_segement\")\n                      }}</label>\n                      <h4 class=\"text-bold py-1\">\n                        {{ segment.name }}\n                      </h4>\n                    </v-col>\n                    <v-col sm=\"12\" cols=\"6\" class=\"py-2\">\n                      <label class=\"label\">{{ $t(\"location\") }}</label>\n                      <h4 class=\"text-bold py-1\">{{ location.name }}</h4>\n                    </v-col>\n                    <v-col sm=\"12\" cols=\"6\" class=\"py-2\">\n                      <label class=\"label\">{{ $t(\"project\") }}</label>\n                      <h4 class=\"text-bold py-1\">{{ project.name }}</h4>\n                    </v-col>\n                    <v-col sm=\"12\" cols=\"6\" class=\"py-2\">\n                      <label class=\"label\">{{ $t(\"default_employee\") }}</label>\n                      <h4 class=\"text-bold py-1\">{{ employee.name }}</h4>\n                    </v-col>\n                    <v-col sm=\"12\" cols=\"6\" class=\"py-2\">\n                      <label class=\"label\">{{ $t(\"for_the_month_of\") }}</label>\n                      <h4 class=\"text-bold py-1\">\n                        {{ cashAdvance.month_of }}\n                      </h4>\n                    </v-col>\n                  </v-row>\n                  <div\n                    class=\"my-2 mt-3\"\n                    style=\"\n\t\t\t\t\t\t\t\t\t\t\theight: 3px;\n\t\t\t\t\t\t\t\t\t\t\tbackground-color: #ffffff;\n\t\t\t\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\t\t\t\"\n                  ></div>\n                  <p>{{ $t(\"cash_advance_view_desc\") }}</p>\n                  <div\n                    class=\"my-2 mt-3\"\n                    style=\"\n\t\t\t\t\t\t\t\t\t\t\theight: 3px;\n\t\t\t\t\t\t\t\t\t\t\tbackground-color: #ffffff;\n\t\t\t\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\t\t\t\"\n                  ></div>\n                  <!-- <v-divider class=\"my-2 mt-3\" /> -->\n                  <p class=\"mb-1\" color=\"color_grey\">\n                    {{ $t(\"transaction_history\") }}\n                  </p>\n                  <p class=\"mb-1\">\n                    {{ $t(\"last_edited_by\") }} :\n                    <span class=\"text-bold\">\n                      {{\n                        cashAdvance.modified_by.first_name === \"\"\n                          ? cashAdvance.created_by.first_name +\n                            \" \" +\n                            cashAdvance.created_by.last_name\n                          : cashAdvance.modified_by.first_name +\n                            \" \" +\n                            cashAdvance.modified_by.last_name\n                      }}\n                    </span>\n                  </p>\n                  <p class=\"mb-1\">\n                    {{ $t(\"last_edited_on\") }} :\n                    <span class=\"text-bold\">\n                      {{\n                        cashAdvance.modified_date\n                          ? cashAdvance.modified_date\n                          : cashAdvance.created_date\n                      }}\n                    </span>\n                  </p>\n                  <div\n                    class=\"my-3\"\n                    style=\"\n\t\t\t\t\t\t\t\t\t\t\theight: 3px;\n\t\t\t\t\t\t\t\t\t\t\tbackground-color: #ffffff;\n\t\t\t\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\t\t\t\"\n                  ></div>\n                </div>\n              </v-col>\n            </v-row>\n          </v-card>\n        </v-col>\n      </v-row>\n      <LoadingMe :isLoading=\"showLoading\" :fullPage=\"true\" :myLoading=\"true\" />\n    </v-container>\n  </v-app>\n</template>\n\n<script>\n// import { i18n } from \"@/i18n\";\n// import kendo from \"@progress/kendo-ui\";\nimport Helper from \"@/helper.js\";\nimport {\n  CashAdvanceModel,\n  CashAdvanceDetailModel,\n  AccountModel,\n  ContactModel,\n  ProjectModel,\n  SegmentModel,\n  LocationModel,\n  PaymentMethodModel,\n} from \"@/scripts/model/AppModels\";\n\nconst { cashAdvanceHandler } = require(\"@/scripts/AppHandlers\");\nconst { AccountTypeCode } = require(\"@/scripts/default_setup/Collections\");\n// from\nconst { getFormSetting } = require(\"@/scripts/settingsHandler.js\");\nimport { print } from \"@/form/Expense.js\";\nimport { i18n } from \"@/i18n\";\n\nexport default {\n  name: \"CashAdvanceView\",\n  components: {\n    LoadingMe: () => import(\"@/components/Loading\"),\n  },\n  props: {\n    initCashAdvance: {\n      type: CashAdvanceModel,\n    },\n  },\n  data: () => ({\n    // Obj\n    cashAdvance: new CashAdvanceModel(),\n    cashAdvanceDetails: [],\n    employee: new ContactModel(),\n    paymentMethod: new PaymentMethodModel(),\n    cashAdvanceAccount: new AccountModel(),\n    secondaryAccount: new AccountModel(),\n    project: new ProjectModel(),\n    segment: new SegmentModel(),\n    location: new LocationModel(),\n    totalAmount: 0,\n    // Other\n    Helper: Helper,\n    showLoading: false,\n    // Sidebar\n    isHideBar: false,\n  }),\n  methods: {\n    // Load cashAdvance according to query string {id}\n    loadObj() {\n      // Access Query String\n      let q = this.$route.params;\n      if (q.id !== undefined) {\n        if (q.id !== this.cashAdvance.uuid) {\n          this.showLoading = true;\n\n          cashAdvanceHandler\n            .getOne(q.id)\n            .then((res) => {\n              this.cashAdvance = new CashAdvanceModel(res.data);\n              this.bindData();\n            })\n            .finally(function() {\n              // self.showLoading = false;\n            });\n        }\n      }\n    },\n    async bindData() {\n      // Bind Obj\n      let secondaryAccounts = await this.$store.dispatch(\"accounting/getSecondaryAccounts\"),\n        entries = [];\n      this.cashAdvance.details.forEach((value) => {\n        if (value.amount < 0) {\n          // Cr side\n          let detail = new CashAdvanceDetailModel(value);\n          detail.amount = value.amount * -1;\n          \n          /* Secondary Account */\n\t\t\t\t\tdetail.secondary_account = new AccountModel(\n\t\t\t\t\t\tsecondaryAccounts.find((i) => i.uuid === value.secondary_acc_uuid)\n\t\t\t\t\t);\n\n          entries.push(detail);\n        } else {\n          // Dr side\n          // Cash Advance Account\n          if (\n            value.account.account_type.code === AccountTypeCode.CASH_ADVANCE\n          ) {\n            this.cashAdvanceAccount = new AccountModel(value.account);\n            this.totalAmount = value.amount;\n\n            /* Secondary Account */\n            this.secondaryAccount = new AccountModel(\n              secondaryAccounts.find((i) => i.uuid === value.secondary_acc_uuid)\n            );\n          }\n        }\n      });\n\n      // Journal Entries\n      this.cashAdvanceDetails = entries;\n\n      // Employee\n      this.employee = new ContactModel(this.cashAdvance.requested_by);\n\n      // Payment Method\n      this.paymentMethod = new PaymentMethodModel(\n        this.cashAdvanceDetails[0].payment_method\n      );\n\n      // Sidebar\n      let segments = await this.$store.dispatch(\"segments/getList\");\n      this.segment = new SegmentModel(\n        segments.find((i) => i.id === this.cashAdvance.segment_uuid)\n      );\n\n      let projects = await this.$store.dispatch(\"projects/getList\");\n      this.project = new ProjectModel(\n        projects.find((i) => i.id === this.cashAdvance.project_uuid)\n      );\n\n      let locations = await this.$store.dispatch(\"locations/getList\");\n      this.location = new LocationModel(\n        locations.find((i) => i.id === this.cashAdvance.location_uuid)\n      );\n\n      this.showLoading = false;\n    },\n    // Row Number Template\n    rowNumberTmpl(dataItem) {\n      let ds = this.$refs.cashAdvanceDetailDS.kendoWidget(),\n        index = ds.indexOf(dataItem);\n\n      return index + 1;\n    },\n    getCashAdvance() {\n      return new CashAdvanceModel(this.cashAdvance);\n    },\n    edit() {\n      this.$router.replace({\n        name: \"Cash Advance\",\n        params: { initCashAdvance: this.getCashAdvance() },\n      });\n    },\n    _print(id) {\n\t\tlet data_print = {}\n\t\tdata_print['cashAdvanceDetails'] = this.cashAdvanceDetails\n\t\tdata_print['cashAdvance'] = this.cashAdvance\n\t\tdata_print['currency'] = this.cashAdvance.currency\n\t\tdata_print['paymentMethod'] = this.paymentMethod\n\t\tdata_print['project'] = this.project\n\t\tdata_print['location'] = this.location\n\t\tdata_print['segment'] = this.segment\n\t\tdata_print['employee'] = this.employee\n\t\tdata_print['total'] =  this.totalAmount\n\t\tlet params = \"?formType=Advance Voucher\";\n\t\tgetFormSetting(params).then((res) => {\n\t\t\tif (res.data.statusCode === 200) {\n\t\t\tif (res.data.data.length > 0) {\n\t\t\t\tprint(data_print, id, res.data.data[\"0\"].settings);\n\t\t\t} else {\n\t\t\t\tthis.$snotify.error(i18n.t(\"please_save_form_in_setting\"));\n\t\t\t}\n\t\t\t}\n\t\t});\n    },\n    hide_smallsitebar() {\n      if (!this.isHideBar) {\n        // this.col_expand = 12\n        // this.col_hide = 0\n        this.isHideBar = true;\n      } else {\n        // this.col_expand = 9\n        // this.col_hide = 3\n        this.isHideBar = false;\n      }\n    },\n  },\n  watch: {\n    // call again the method if the route changes\n    $route: \"loadObj\",\n    initCashAdvance() {\n      if (this.initCashAdvance) {\n        this.cashAdvance = this.initCashAdvance;\n        this.bindData();\n      }\n    },\n  },\n  mounted() {\n    // fetch the data when the view is created and the data is\n    // already being observed\n    this.loadObj();\n  },\n};\n</script>\n\n<style scoped>\n.small_sidebar {\n  height: 98%;\n  position: relative;\n  padding: 12px;\n  background-color: #edf1f5;\n}\n.hide_small_bar_class {\n  max-width: 0;\n  transition: 0.3s ease-in;\n  flex: 0 0 0;\n}\n\n.hide_big_bar_class {\n  max-width: 100%;\n  transition: 0.3s ease-in;\n  flex: 0 0 100%;\n}\n\n.iconArrow {\n  right: -35px;\n  position: absolute;\n  bottom: -10px;\n}\n.iconArrowHide {\n  position: absolute;\n  right: -7px;\n  bottom: -10px;\n}\n\n@media (min-width: 1264px) {\n  .container {\n    max-width: 1250px;\n  }\n}\n\n@media (max-width: 576px) {\n  .mb-6 {\n    margin-bottom: 0 !important;\n  }\n}\n</style>\n"]}]}