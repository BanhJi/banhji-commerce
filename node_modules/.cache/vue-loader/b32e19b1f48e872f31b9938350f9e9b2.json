{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/employee/Employee.vue?vue&type=style&index=0&id=f286290a&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/employee/Employee.vue","mtime":1638499443250},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmZ1bmN0aW9uX2NvbnRlbnQgewogICAgcGFkZGluZzogMCAyNXB4IDI1cHg7CiAgICBib3JkZXItYm90dG9tOiAwOwogICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZiAhaW1wb3J0YW50Owp9CgpAbWVkaWEgKG1pbi13aWR0aDogMTI2NHB4KSB7CiAgICAuY29udGFpbmVyIHsKICAgICAgICAvKiBtYXgtd2lkdGg6IDExODVweDsgKi8KICAgICAgICBtYXgtd2lkdGg6IDEwODBweCAhaW1wb3J0YW50OwogICAgfQp9CgouZ3JheUJnIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNGOEY4Rjk7Cn0KCkBtZWRpYSAobWF4LXdpZHRoOiA1NzZweCkgewogICAgLm1iLTYgewogICAgICAgIG1hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDsKICAgIH0KfQoKLnNlY3Rpb24yIHsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNkNmQ3ZDg7Cn0KCi5ib3JkZXJfZ3JleSB7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjZDZkN2Q4Owp9CgouYXR0YWNobWVudF90YWJsZSB7CiAgICB3aWR0aDogMTAwJTsKfQoKLmdyZXlEYXJrIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmMmYyZjI7Cn0KCi51cGxvYWRfYnRuIHsKICAgIHdpZHRoOiA1NCU7CiAgICBtYXJnaW46IGF1dG87CiAgICBwYWRkaW5nOiAxMHB4IDZweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGNvbG9yOiAjZmZmZjsKICAgIGJvcmRlci1yYWRpdXM6IDIycHg7CiAgICBiYWNrZ3JvdW5kOiAjOTJkMDUwOwp9CgoubXlfYm94X21pbl9oZWloZ3QgewogICAgaGVpZ2h0OiAyOTVweDsKfQoKLndpZHRoXzEwMCB7CiAgICB3aWR0aDogMTAwcHg7Cn0K"},{"version":3,"sources":["Employee.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA67BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"Employee.vue","sourceRoot":"src/views/payroll/employee","sourcesContent":["<template>\n    <v-app>\n        <v-container>\n            <v-row>\n                <v-col cols=\"12\" sm=\"12\">\n                    <v-card\n                        outlined\n                        dense\n                        class=\"pa-4 no_border rounded-sm\"\n                        color=\"white\">\n                        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                            <v-card outlined dense class=\"no_border\">\n                                <h2 class=\"mb-0\">{{ $t(\"employee\") }}</h2>\n                                <v-icon\n                                    @click=\"cancel()\"\n                                    style=\"cursor: pointer; color: #333; font-size: 40px;\"\n                                    class=\"float-right\">close\n                                </v-icon>\n                            </v-card>\n\n                            <v-card outlined dense class=\"px-3 no_border\" color=\"grayBg\" height=\"253px\">\n                                <v-row>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label\">{{ $t('employee_id') }}</label>\n                                        <v-row class=\"py-0\">\n                                            <v-col sm=\"3\" cols=\"3\" class=\"py-0\" style=\"padding-right: 0;\">\n                                                <v-text-field class=\"mt-1\"\n                                                    outlined\n                                                    tage=\"Abbr\"\n                                                    style=\"text-align: center!important\"\n                                                    v-model=\"employee.abbr\"\n                                                    :placeholder=\"$t('abbr')\"\n                                                    :rules=\"[v => !!v || $t('required')]\"\n                                                    required/>\n                                            </v-col>\n                                            <v-col sm=\"9\" cols=\"12\" class=\"py-0\" style=\"padding-left: 0;\">\n                                                <v-text-field class=\"mt-1\"\n                                                    outlined\n                                                    tage=\"Employee number\"\n                                                    v-model=\"employee.number\"\n                                                    :placeholder=\"$t('number')\"\n                                                    :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                    required/>\n                                            </v-col>\n                                        </v-row>\n                                        <label class=\"label\">{{ $t('first_name') }}</label>\n                                        <v-text-field class=\"mt-1\"\n                                            :placeholder=\"$t('first_name')\"\n                                            v-model=\"employee.firstName\"\n                                            outlined\n                                            tage=\"First Name\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            required/>\n                                        <label class=\"label\">{{ $t('last_name') }}</label>\n                                        <v-text-field class=\"mt-1\"\n                                            :placeholder=\"$t('last_name')\"\n                                            v-model=\"employee.lastName\"\n                                            tage=\"Last Name\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            outlined\n                                            required/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                        <label class=\"label\">{{ $t('first_name_locale') }}</label>\n                                        <v-text-field class=\"mt-1\"\n                                            :placeholder=\"$t('first_name')\"\n                                            v-model=\"employee.firstNameLocale\"\n                                            outlined\n                                            tage=\"First Name English\"\n                                            required/>\n\n                                        <label class=\"label\">{{ $t('last_name_locale') }}</label>\n                                        <v-text-field class=\"mt-1\"\n                                            :placeholder=\"$t('last_name')\"\n                                            v-model=\"employee.lastNameLocale\"\n                                            outlined\n                                            tage=\"Last Name English\"\n                                            required/>\n\n                                        <label class=\"label\">{{ $t('date_of_birth') }}</label>\n                                        <app-datepicker\n                                            :initialDate=\"employee.dob\"\n                                            @emitDate=\"employee.dob = $event\"/>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\">\n                                        <label class=\"label\">{{ $t('gender') }}</label>\n                                        <v-select\n                                            :items=\"genderItem\"\n                                            class=\"mt-1\"\n                                            tage=\"Gender\"\n                                            v-model=\"gender\"\n                                            placeholder=\"Male\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            outlined>\n                                        </v-select>\n\n                                        <label class=\"label\">{{ $t('type_of_employee') }}</label>\n                                        <v-select  class=\"mt-1\"\n                                            :items=\"employeeTypes\"\n                                            item-value=\"id\"\n                                            item-text=\"name\"\n                                            return-object\n                                            tage=\"Employee Type\"\n                                            v-model=\"employeeType\"\n                                            placeholder=\"Full-time\"\n                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                            outlined>\n                                        </v-select>\n                                        <v-row class=\"my_checkbox\">\n                                            <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                <label class=\"label  mb-0\">{{ $t('identity') }}</label>\n                                                <v-row>\n                                                    <v-col sm=\"6\" cols=\"6\" class=\"pb-0 pt-1 pr-1\">\n                                                        <v-select\n                                                            :items=\"identityTypes\"\n                                                            tage=\"Gender\"\n                                                            v-model=\"identityType\"\n                                                            placeholder=\"ID Card\"\n                                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                            outlined>\n                                                        </v-select>\n                                                    </v-col>\n                                                    <v-col sm=\"6\" cols=\"12\" class=\"pb-0 pt-1 pl-1\">\n                                                        <v-text-field\n                                                            :placeholder=\"$t('identification_no')\"\n                                                            v-model=\"employee.identityId\"\n                                                            outlined\n                                                            required/>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                </v-row>\n                            </v-card>\n\n                            <v-card outlined dense color=\"white pl-3\">\n                                <v-row>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0 pr-1 my_checkbox\">\n                                        <v-row class=\" border_grey mr-2\">\n                                            <v-col sm=\"12\" class=\"my_box_min_heihgt pb-0\">\n                                                <h2 class=\"mb-2 font_20 \">\n                                                    {{ $t(\"contact_information\") }}\n                                                </h2>\n                                                <v-row>\n                                                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                        <label class=\"label\">{{ $t('address') }}</label>\n                                                        <v-text-field class=\"mt-1\"\n                                                            outlined\n                                                            v-model=\"employee.address\"\n                                                            required/>\n\n                                                        <label class=\"label\">{{ $t('phone_number') }}</label>\n                                                        <v-text-field class=\"mt-1\"\n                                                            v-model=\"employee.phone\"\n                                                            outlined\n                                                            required/>\n\n                                                        <label class=\"label\">{{ $t('email') }}</label>\n                                                        <v-text-field class=\"mt-1\"\n                                                            outlined\n                                                            v-model=\"employee.email\"\n                                                            required/>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"px-2 my_checkbox\">\n                                        <v-row class=\" border_grey mr-2\">\n                                            <v-col sm=\"12\" class=\"my_box_min_heihgt  pb-0\">\n                                                <h2 class=\"mb-0 font_20\">{{ $t(\"default_account\") }}</h2>\n                                                <v-row>\n                                                    <v-col sm=\"12\" cols=\"12\" class=\"pt-1\">\n                                                    </v-col>\n                                                    <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                                                        <label class=\"label\">{{ $t('salary_account') }}</label>\n                                                        <v-select class=\"mt-1\"\n                                                            v-model=\"mAccSalary\"\n                                                            :items=\"accSalaries\"\n                                                            item-value=\"id\"\n                                                            :item-text=\"item =>`${item.number} - ${item.name}`\"\n                                                            return-object\n                                                            placeholder=\"Account Salary\"\n                                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                            tage=\"Account Salary\"\n                                                            outlined>\n                                                        </v-select>\n\n                                                        <label class=\"label\">\n                                                            {{$t('salary_advance_account')}}\n                                                        </label>\n                                                        <v-select class=\"mt-1\"\n                                                            v-model=\"mAccAdvanceSalary\"\n                                                            :items=\"accAdvanceSalaries\"\n                                                            item-value=\"id\"\n                                                            :item-text=\"item =>`${item.number} - ${item.name}`\"\n                                                            return-object\n                                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                            placeholder=\"Account Advance Salary\"\n                                                            tage=\"Account Advance Salary\"\n                                                            outlined>\n                                                        </v-select>\n                                                        <label class=\"label\">\n                                                            {{$t('payroll_liabilities')}}</label>\n                                                        <v-select class=\"mt-1\"\n                                                            v-model=\"mAccPayroll\"\n                                                            :items=\"accPayroll\"\n                                                            item-value=\"id\"\n                                                            :item-text=\"item =>`${item.number} - ${item.name}`\"\n                                                            return-object\n                                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                            placeholder=\"Account Payroll Liabilities\"\n                                                            tage=\"Account Payroll Liabilities\"\n                                                            outlined>\n                                                        </v-select>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                    <v-col sm=\"4\" cols=\"12\" class=\"pl-1\">\n                                        <v-row class=\" border_grey mr-0\">\n                                            <v-col sm=\"12\" class=\"my_box_min_heihgt  pb-0\">\n                                                <h2 class=\"mb-2 font_20\">\n                                                    {{ $t(\"employee_image\") }}\n                                                </h2>\n                                                <v-row>\n                                                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                        <p class=\"color_grey font_14\">\n                                                            {{ $t(\"these_image_of_the_employee\") }}\n                                                        </p>\n                                                    </v-col>\n                                                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                                                        <v-img\n                                                            width=\"100px\"\n                                                            height=\"150px\"\n                                                            :src=\"src\"/>\n                                                        <label>\n                                                            <input\n                                                                type=\"file\"\n                                                                name=\"image\"\n                                                                id=\"image\"\n                                                                :rules=\"fileSizeRules\"\n                                                                accept=\".png, .jpg, .jpeg\"\n                                                                ref=\"fileupload\"\n                                                                @change=\"onFileChange\"/>\n                                                        </label>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-col>\n                                        </v-row>\n                                    </v-col>\n                                </v-row>\n                                <!-- column 2 -->\n                                <v-row class=\"border_grey mr-0 mb-3\">\n                                    <v-tabs class=\"tabs_2\">\n                                        <v-tab href=\"#tab-employee\">\n                                            <span class=\"hidden-sm-and-up\">\n                                                <v-icon left>mdi-pen</v-icon>\n                                            </span>\n                                            <span class=\"hidden-sm-and-down text-capitalize text-left\">\n                                                {{ $t(\"employee_information\") }}\n                                            </span>\n                                        </v-tab>\n                                        <v-tab href=\"#tab-spouse\">\n                                            <span class=\"hidden-sm-and-up\">\n                                                <v-icon left>mdi-pen</v-icon>\n                                            </span>\n                                            <span class=\"hidden-sm-and-down text-capitalize\">\n                                                {{ $t('spouse') }}\n                                            </span>\n                                        </v-tab>\n                                        <v-tab-item :value=\"'tab-employee'\">\n                                            <v-card outlined dense class=\"px-4 no_border\">\n                                                <v-row>\n                                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-\">\n                                                        <label class=\"label\">{{ $t('country') }}</label>\n                                                        <v-select class=\"mt-1\"\n                                                            :items=\"countries\"\n                                                            item-text=\"country\"\n                                                            item-value=\"abbreviation\"\n                                                            return-object\n                                                            tage=\"Nationality\"\n                                                            v-model=\"country\"\n                                                            placeholder=\"Cambodian\"\n                                                            outlined>\n                                                        </v-select>\n                                                        <label class=\"label\">{{ $t('nationality') }}</label>\n                                                        <v-select class=\"mt-1\"\n                                                            :items=\"nationalities\"\n                                                            item-text=\"nameEn\"\n                                                            item-value=\"alpha3Code\"\n                                                            return-object\n                                                            tage=\"Nationality\"\n                                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                            v-model=\"nationality\"\n                                                            placeholder=\"Cambodian\"\n                                                            outlined>\n                                                        </v-select>\n                                                        <label class=\"label\">{{ $t('nature_employee') }}</label>\n                                                        <v-select class=\"mt-1\"\n                                                            :items=\"natureEmployees\"\n                                                            item-text=\"nameEn\"\n                                                            item-value=\"alpha3Code\"\n                                                            return-object\n                                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                            tage=\"NatureEmployee\"\n                                                            v-model=\"natureEmployee\"\n                                                            placeholder=\"Nature Employee\"\n                                                            outlined>\n                                                        </v-select>\n                                                    </v-col>\n                                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                        <label class=\"label\">{{ $t('marital_status') }}</label>\n                                                        <v-select class=\"mt-1\"\n                                                            :items=\"maritalStatuses\"\n                                                            item-text=\"name\"\n                                                            item-value=\"id\"\n                                                            return-object\n                                                            tage=\"MaritalStatus\"\n                                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                            v-model=\"maritalStatus\"\n                                                            placeholder=\"Cambodian\"\n                                                            outlined>\n                                                        </v-select>\n                                                        <label class=\"label\">{{ $t('no_of_children') }}</label>\n                                                        <v-text-field class=\"mt-1\"\n                                                            outlined\n                                                            v-model=\"employee.noOfChildren\"\n                                                            required/>\n                                                        <label class=\"label\">{{ $t('payment_method') }}</label>\n                                                        <v-select class=\"mt-1\"\n                                                            :items=\"paymentMethods\"\n                                                            item-text=\"nameEn\"\n                                                            tage=\"PaymentMethod\"\n                                                            v-model=\"paymentMethod\"\n                                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                            placeholder=\"Payment Method\"\n                                                            outlined>\n                                                        </v-select>\n                                                    </v-col>\n                                                    <v-col sm=\"4\" cols=\"12\" class=\"pb-0\">\n                                                        <label class=\"label\">{{ $t('bank_name') }}</label>\n                                                        <v-select class=\"mt-1\"\n                                                            :items=\"bankList\"\n                                                            item-text=\"bankName\"\n                                                            item-value=\"id\"\n                                                            return-object\n                                                            tage=\"bank name\"\n                                                            v-model=\"employee.bank\"\n                                                            :rules=\"bankRule()\"\n                                                            placeholder=\"name\"\n                                                            outlined>\n                                                        </v-select>\n                                                        <label class=\"label\">{{ $t('bank_account') }}</label>\n                                                        <v-text-field class=\"mt-1\"\n                                                            outlined\n                                                            v-model=\"employee.bankAccount\"\n                                                            :rules=\"bankAccountRule()\"\n                                                            required/>\n                                                        <label class=\"label\">{{ $t('payment_period') }}</label>\n                                                        <v-select class=\"mt-1\"\n                                                            :items=\"paymentPeriods\"\n                                                            item-text=\"name\"\n                                                            item-value=\"id\"\n                                                            return-object\n                                                            tage=\"PaymentPeriod\"\n                                                            :rules=\"[v => !!v || $t('field_is_required')]\"\n                                                            v-model=\"paymentPeriod\"\n                                                            placeholder=\"Monthly\"\n                                                            outlined>\n                                                        </v-select>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-card>\n                                        </v-tab-item>\n                                        <v-tab-item :value=\"'tab-spouse'\">\n                                           <v-card outlined dense class=\"px-4 no_border\">\n                                                <v-row>\n                                                    <v-col sm=\"3\" cols=\"12\" class=\"pb-0\">\n                                                        <label class=\"label\">{{ $t('name') }}</label>\n                                                        <v-text-field class=\"mt-1\"\n                                                            outlined\n                                                            v-model=\"employee.spouseName\"\n                                                            required/>\n                                                    </v-col>\n                                                    <v-col sm=\"3\" cols=\"12\" class=\"pb-0\">\n                                                        <label class=\"label\">{{ $t('Gender') }}</label>\n                                                        <v-select\n                                                            :items=\"genderItem\"\n                                                            class=\"mt-1\"\n                                                            tage=\"Gender\"\n                                                            v-model=\"employee.spouseGender\"\n                                                            placeholder=\"Male\"\n                                                            outlined>\n                                                        </v-select>\n                                                    </v-col>\n                                                    <v-col sm=\"3\" cols=\"12\" class=\"pb-0\">\n                                                        <label class=\"label\">{{ $t('nationality') }}</label>\n                                                        <v-select class=\"mt-1\"\n                                                            :items=\"natureEmployees\"\n                                                            item-text=\"nameEn\"\n                                                            item-value=\"alpha3Code\"\n                                                            return-object\n                                                            tage=\"NatureEmployee\"\n                                                            v-model=\"employee.spouseNatureEmployee\"\n                                                            placeholder=\"Nature Employee\"\n                                                            outlined>\n                                                        </v-select>\n                                                    </v-col>\n                                                    <v-col sm=\"3\" cols=\"12\" class=\"pb-0\">\n                                                        <label class=\"label\">{{ $t('working_status') }}</label>\n                                                        <v-select class=\"mt-1\"\n                                                            :items=\"workingStatus\"\n                                                            item-text=\"nameEn\"\n                                                            item-value=\"alpha3Code\"\n                                                            return-object\n                                                            tage=\"WorkingStatus\"\n                                                            v-model=\"employee.workingStatus\"\n                                                            placeholder=\"Working Status\"\n                                                            outlined>\n                                                        </v-select>\n                                                    </v-col>\n                                                </v-row>\n                                            </v-card>\n                                        </v-tab-item>\n                                    </v-tabs>\n                                </v-row>\n                            </v-card>\n                            <v-divider/>\n                            <v-card outlined dense class=\"no_border function_footer\">\n                                <v-btn color=\"black\" @click=\"cancel\" class=\"text-capitalize  white--text float-left\">\n                                    {{ $t(\"cancel\") }}\n                                </v-btn>\n                                <v-btn class=\"float-right text-capitalize  white--text\" color=\"primary\" @click=\"onSaveClose('close')\">\n                                    {{ $t('save_close') }}\n                                </v-btn>\n                                <v-btn class=\"float-right text-capitalize  white--text mr-3\" color=\"primary\" @click=\"onSaveClose('new')\" :hidden=\"hiddenButton\">\n                                    {{ $t('save_new') }}\n                                </v-btn>\n                            </v-card>\n                        </v-form>\n                    </v-card>\n                </v-col>\n            </v-row>\n            <LoadingMe :isLoading=\"showLoading\" :fullPage=\"true\" :myLoading=\"true\"/>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n\nimport DatePickerComponent from '@/components/custom_templates/DatePickerComponent'\nimport {i18n} from '@/i18n';\nconst accountHandler = require(\"@/scripts/handler/accounting/account\")\nimport EmployeeModel from '@/scripts/model/Employee'\nimport PrefixModel from '@/scripts/model/payrollsetting/Prefix'\nconst employeeHandler = require(\"@/scripts/employeeHandler\")\nconst otherHandler = require(\"@/scripts/otherHandler\")\nconst payrollHandler = require(\"@/scripts/payrollHandler\")\n\nconst employeeModel = new EmployeeModel({})\nconst prefixModel   = new PrefixModel({})\nconst cookieJS = require(\"@/cookie.js\");\nconst cookie = cookieJS.getCookie();\n\nexport default {\n    name: \"AddEmployee\",\n    props: ['id'],\n    components: {\n        LoadingMe: () => import(`@/components/Loading`),\n        'app-datepicker': DatePickerComponent,\n    },\n    data: () => ({\n        isEdit: false,\n        genderItem: [\n            \"Male\",\n            \"Female\",\n            \"Others\"\n        ],\n        maritalStatuses: otherHandler.maritalStatus(),\n        paymentPeriods: otherHandler.paymentPeriod(),\n        employeeTypes: otherHandler.employeeType(),\n        banks: otherHandler.bank(),\n        nationalities: [],\n        countries: [],\n        identityTypes: [\n            \"ID Card\", \n            \"Passport\", \n            \"TID\"\n        ],\n        natureEmployees:[\n            'Resident',\n            'Non-Resident'\n        ],\n        employee: employeeModel,\n        mAccSalary: {},\n        accSalaries: [],\n        mAccAdvanceSalary: {},\n        accAdvanceSalaries: [],\n        // LoadingMe\n        showLoading: false,\n        loadingAlert: false,\n        loadingColorAlert: '',\n        loadingTextAlert: '',\n        src: '',\n        imgFile: '',\n        bill_date: '',\n        alert: false,\n        deposite: 1000,\n        fileSizeRules: [\n            files => !files || !files.some(file => file.size > 1024 * 1024) || 'Image size should be less than 1 MB!'\n        ],\n        files: [],\n        // Form validation\n        valid: true,\n        journal_types: [],\n        suppliers_item: [],\n        paymentMethods: [\n            'Cash Payment',\n            'Bank Payment'\n        ],\n        expense: [\n            'Equal',\n            'weighted'\n        ],\n        registeredDate: '',\n        col_expand: 9,\n        col_hide: 3,\n        isHideBar: false,\n        mAccPayroll: {},\n        accPayroll: [],\n        workingStatus: [\n            'Working',\n            'No Work'\n        ],\n        bankList: [],\n        loggedUser: {\n            id: cookie.creator,\n            name: cookie.email\n        },\n        gender: \"Male\",\n        employeeType: \"\",\n        identityType: \"\",\n        country: \"\",\n        nationality: \"\",\n        natureEmployee: \"\",\n        maritalStatus: \"\",\n        paymentMethod: \"\",\n        paymentPeriod: \"\",\n        prefix: prefixModel\n    }),\n    methods: {\n        close(data) {\n            if (this.$route.params.query !== undefined) {\n                window.console.log(1,this.$route.params.query)\n                window.history.go(-1)\n            } else {\n                window.console.log(2,this.$route.params.query)\n                this.$router.push({\n                    name: 'Payroll', params: {\n                        data: data\n                    }\n                })\n            }\n        },\n        onFileChange(e) {\n            // const file = e.target.files[0];\n            let input = e.target\n            // Ensure that you have a file before attempting to read it\n            if (input.files && input.files[0]) {\n                if (input.files[0].size > 1024 * 1024) {\n                    e.preventDefault();\n                    alert('File too big (> 1MB)');\n                    this.src = ''\n                    this.imgFile = ''\n                    this.$refs.fileupload.value = null;\n                } else {\n                    // create a new FileReader to read this image and convert to base64 format\n                    let reader = new FileReader()\n                    // Define a callback function to run, when FileReader finishes its job\n                    reader.onloadend = (e) => {\n                        // Note: arrow function used here, so that \"this.imageData\" refers to the imageData of Vue component\n                        // Read image as base64 and set to imageData\n                        this.imgFile = e.target.result\n                    }\n                    // Start the reader job - read file as a data url (base64 format)\n                    reader.readAsBinaryString(input.files[0])\n                    // this.url = input.files[0]\n                    this.src = URL.createObjectURL(e.target.files[0])\n                }\n            }\n        },\n        async loadCountry() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    this.showLoading = true\n                    otherHandler.country().then(res => {\n                        this.showLoading = false\n                        this.countries = res\n                        window.console.log('countries', this.countries)\n                        if (this.countries.length > 0) {\n                            let country                     = this.countries.filter(word => word.country == 'Cambodia')\n                            this.country                    = country[0]\n                            // this.maritalStatus              = this.maritalStatus[0]\n                            // this.employeeType               = this.employeeType[0]\n                            // this.natureEmployee             = this.natureEmployee[0]\n                            // this.identityType               = this.identityType[0]\n                            // this.gender                     = this.genderItem[0]\n                            // this.paymentPeriod              = this.paymentPeriod[3]\n                            // this.paymentMethod              = this.paymentMethod[1]\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 300);\n            })\n        },\n        async loadNationality() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    otherHandler.nationality().then(res => {\n                        this.showLoading = false\n                        this.nationalities = res\n                        if (this.nationalities.length > 0) {\n                            let nationalities = this.nationalities.filter(n => n.nameEn == 'Cambodian')\n                            this.nationality = nationalities[0]\n                        }\n                    })\n                }, 300);\n            })\n        },\n        async loadAccount() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    this.showLoading = true\n                    accountHandler.getAll().then(res => {\n                        this.showLoading = true\n                        //Receivable Account\n                        this.accAdvanceSalaries = res.data.filter(m => m.account_type.number === 6).map(item => {\n                            return {\n                                id: item.uuid,\n                                uuid: item.uuid,\n                                name: item.name,\n                                local_name: item.local_name,\n                                number: item.number,\n                                is_taxable: item.is_taxable,\n                                banhjiAccCode: item.banhjiAccCode,\n                                group_code: item.group_code,\n                                parent_account: item.parent_account,\n                                type_code: item.type_code,\n                                account_type: item.account_type\n                            }\n                        })\n                        if (this.accAdvanceSalaries.length > 0) {\n                            this.mAccAdvanceSalary = this.accAdvanceSalaries[0]\n                        }\n                        this.accSalaries = res.data.filter(\n                            m => m.account_type.number === 12 ||\n                            m.account_type.number === 33 ||\n                            m.account_type.number === 34 ||\n                            m.account_type.number === 35 ||\n                            m.account_type.number === 36 ||\n                            m.account_type.number === 37 ||\n                            m.account_type.number === 38 ||\n                            m.account_type.number === 39 ||\n                            m.account_type.number === 40 ||\n                            m.account_type.number === 41 ||\n                            m.account_type.number === 42 ||\n                            m.account_type.number === 43 ||      \n                            m.account_type.number === 44).map(item => {\n                            return {\n                                id:             item.uuid,\n                                uuid:           item.uuid,\n                                name:           item.name,\n                                local_name:     item.local_name,\n                                number:         item.number,\n                                is_taxable:     item.is_taxable,\n                                banhjiAccCode:  item.banhjiAccCode,\n                                group_code:     item.group_code,\n                                parent_account: item.parent_account,\n                                type_code:      item.type_code,\n                                account_type:   item.account_type\n                            }\n                        })\n                        if (this.accSalaries.length > 0) {\n                            let accSalary = this.accSalaries.filter(i => i.number == '634010')\n                            if(accSalary.length > 0){\n                                 this.mAccSalary = accSalary[0]\n                            }else{\n                                this.mAccSalary = this.accSalaries[0]\n                            }\n                        }\n\n                        this.accPayroll = res.data.filter(m => m.account_type.number === 22).map(item => {\n                            return {\n                                id: item.uuid,\n                                uuid: item.uuid,\n                                name: item.name,\n                                local_name: item.local_name,\n                                number: item.number,\n                                is_taxable: item.is_taxable,\n                                banhjiAccCode: item.banhjiAccCode,\n                                group_code: item.group_code,\n                                parent_account: item.parent_account,\n                                type_code: item.type_code,\n                                account_type: item.account_type\n                            }\n                        })\n                        if (this.accPayroll.length > 0) {\n                            this.mAccPayroll = this.accPayroll[0]\n                        }\n                        this.showLoading = false\n                    })\n                }, 300);\n            })\n        },\n        async onSaveClose(isSave) {\n            if (!this.$refs.form.validate()) {\n                this.$refs.form.validate()\n                return\n            }\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    let data = new EmployeeModel({\n                        id:                   this.employee.id ? this.employee.id : '',\n                        firstName:            this.employee.firstName,\n                        firstNameLocale:      this.employee.firstNameLocale,\n                        lastName:             this.employee.lastName,\n                        lastNameLocale:       this.employee.lastNameLocale,\n                        employeeType:         this.employeeType,\n                        gender:               this.gender,\n                        dob:                  this.employee.dob,\n                        identityId:           this.employee.identityId,\n                        identityType:         this.identityType,\n                        address:              this.employee.address,\n                        phone:                this.employee.phone,\n                        email:                this.employee.email,\n                        salaryAcc:            this.mAccSalary,\n                        salaryAdvanceAcc:     this.mAccAdvanceSalary,\n                        payrollLiabilitie:    this.mAccPayroll,\n                        country:              this.country,\n                        nationality:          this.nationality,\n                        image:                this.employee.image,\n                        file:                 this.imgFile,\n                        attachFile:           {},\n                        status:               1,\n                        maritalStatus:        this.maritalStatus,\n                        noOfChildren:         this.employee.noOfChildren,\n                        bank:                 this.employee.bank,\n                        bankAccount:          this.employee.bankAccount,\n                        paymentPeriod:        this.paymentPeriod,\n                        natureEmployee:       this.natureEmployee,\n                        paymentMethod:        this.paymentMethod,\n                        workingStatus:        this.employee.workingStatus,\n                        spouseName:           this.employee.spouseName,\n                        spouseGender:         this.employee.spouseGender,\n                        spouseNatureEmployee: this.employee.spouseNatureEmployee,\n                        loggedUser:           this.loggedUser,\n                        abbr:                 this.employee.abbr,\n                        number:               this.employee.number,\n                        prefix:               this.employee.prefix,\n                        employeeId:           this.employee.abbr + this.employee.prefix.separator,\n                    })\n                    window.console.log(data)\n                    this.showLoading = true\n                    employeeHandler.create(data).then(response => {\n                        this.showLoading = true\n                        if (response.data.statusCode === 201) {                 \n                            if(isSave ==\"new\"){\n                                this.clear()\n                            }else if(isSave == \"close\"){\n                                this.clear()\n                                this.close(response.data.data)\n                            }\n                            this.showLoading = false\n                            this.$snotify.success('Successfully')\n                        }\n                    }).catch(e => {\n                        this.$snotify.error('Something went wrong')\n                        this.errors.push(e)\n                    })\n                }, 300);\n            })\n        },\n        async initData() {\n            if (this.$route.params.id !== undefined) {\n                await this.loadSingleEmployee()\n            }else{\n                this.clear()\n            }\n        },\n        async loadSingleEmployee() {\n            if(this.$route.params.id){\n                new Promise(resolve => {\n                    setTimeout(() => {\n                        resolve('resolved');\n                        this.showLoading = true\n                        employeeHandler.get(this.$route.params.id).then(res => {\n                            if (res.data.statusCode === 200) {\n                                this.showLoading = false\n                                let result = res.data.data\n                                if(result.length > 0){\n                                    this.employee           = result[0]\n                                    this.mAccAdvanceSalary  = this.employee.salaryAdvanceAcc\n                                    this.mAccSalary         = this.employee.salaryAcc\n                                    this.mAccPayroll        = this.employee.payrollLiabilitie\n                                    this.maritalStatus      = this.employee.maritalStatus\n                                    this.paymentMethod      = this.employee.paymentMethod\n                                    this.paymentPeriod      = this.employee.paymentPeriod\n                                    this.natureEmployee     = this.employee.natureEmployee\n                                    this.employeeType       = this.employee.employeeType\n                                    this.identityType       = this.employee.identityType\n                                    const hasImg            = this.employee.hasOwnProperty('image')\n                                    this.src = ''\n                                    let imgUrl = ''\n                                    if (hasImg) {\n                                        if (this.employee.image.hasOwnProperty('default')) {\n                                            imgUrl = this.employee.image.default.thumb\n                                            this.src = 'https://s3-ap-southeast-1.amazonaws.com/images.banhji/' + imgUrl\n                                        }\n                                    }\n                                }\n                            }\n                        })\n                    }, 300);\n                })\n                window.console.log(1)\n            }else{\n                this.loadPrefix()\n            }\n        },\n        cancel() {\n            this.$swal({\n                title: i18n.t('msg_title_warning'),\n                text: i18n.t('msg_discard'),\n                icon: \"warning\",\n                showCancelButton: true,\n                cancelButtonText: i18n.t('cancel'),\n                confirmButtonColor: \"#4d4848\",\n                cancelButtonColor: \"#ED1A3A\",\n                confirmButtonText: i18n.t('discard'),\n            }).then((result) => {\n                if (result.value) {\n                    this.$router.go(-1);\n                }\n            });\n        },\n        async loadPayrollBank(){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    payrollHandler.getBank().then(res => {\n                        let results = res.data.data\n                        this.bankList = results\n                    })\n                }, 300);\n            })\n        },\n        clear(){\n            this.employee       = new EmployeeModel({})\n            this.gender         = \"Male\"\n            this.employeeType   = this.employeeTypes[0]\n            this.identityType   = this.identityTypes[0]\n            this.natureEmployee = this.natureEmployees[0]\n            this.maritalStatus  = this.maritalStatuses[0]\n            this.paymentMethod  = this.paymentMethods.filter(i => i ==\"Bank Payment\").map(v =>{return v})[0]\n            this.paymentPeriod  = this.paymentPeriods.filter(k => k.name == \"Monthly\").map(x =>{return {id: x.id,name: x.name}})[0]\n            this.loadAccount()\n            this.loadPrefix()\n\n        },\n        async loadPrefix(){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    payrollHandler.getPrefix().then(res => {\n                        if(res.statusCode === 200){\n                            let result = res.data\n                            if(result.length > 0){\n                                    this.prefix = result[0]\n                            }\n                            this.generateNumber(this.prefix)\n                        }\n                    })\n                }, 300);\n            })\n        },\n        generateNumber(prefix) {\n            let params = {\n                abbr: prefix.abbr,\n                id: ''\n            }\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    this.showLoading = true\n                    employeeHandler.getLastNumber(params).then(res => {\n                        this.showLoading = true\n                        if(res.statusCode === 200){\n                            let resultLast = res.data\n                            const lastNumber            = this.zeroPad(parseInt(resultLast.lastNumber), prefix.format)\n                            this.employee.abbr          = prefix.abbr || ''\n                            this.employee.prefix        = prefix\n                            this.employee.number        = lastNumber\n                            this.showLoading = false\n                        }\n                    })\n                }, 300);\n            })\n        },\n        zeroPad(num, places) {\n            return String(num).padStart(places, '0')\n        },\n        bankRule(){\n            if(this.paymentMethod == 'Bank Payment'){\n                let rul = [v => !!v['id'] || i18n.t('field_is_required')]\n                return rul\n            }\n        },\n        bankAccountRule(){\n            window.console.log(this.employee.bank,'this.employee.bank')\n            if(this.employee.bank.id){\n                let rul = [v => !!v || i18n.t('field_is_required')]\n                return rul\n            }\n        }\n    },\n    mounted: async function () {\n        await this.loadCountry()\n        await this.loadNationality()\n        await this.loadAccount()\n        await this.initData()\n        await this.loadPayrollBank()\n    },\n    watch: {\n        '$route': 'loadSingleEmployee'\n    },\n    computed: {\n        hiddenButton(){\n            if(this.$route.query.type ==\"edit\"){\n                return true\n            }else{\n                return false\n            }\n        }\n    },\n};\n</script>\n\n<style scoped>\n.function_content {\n    padding: 0 25px 25px;\n    border-bottom: 0;\n    background-color: #fff !important;\n}\n\n@media (min-width: 1264px) {\n    .container {\n        /* max-width: 1185px; */\n        max-width: 1080px !important;\n    }\n}\n\n.grayBg {\n    background-color: #F8F8F9;\n}\n\n@media (max-width: 576px) {\n    .mb-6 {\n        margin-bottom: 0 !important;\n    }\n}\n\n.section2 {\n    border: 1px solid #d6d7d8;\n}\n\n.border_grey {\n    border: 1px solid #d6d7d8;\n}\n\n.attachment_table {\n    width: 100%;\n}\n\n.greyDark {\n    background-color: #f2f2f2;\n}\n\n.upload_btn {\n    width: 54%;\n    margin: auto;\n    padding: 10px 6px;\n    text-align: center;\n    color: #ffff;\n    border-radius: 22px;\n    background: #92d050;\n}\n\n.my_box_min_heihgt {\n    height: 295px;\n}\n\n.width_100 {\n    width: 100px;\n}\n</style>\n"]}]}