{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products/product/product_variants/products/Products.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/products/product/product_variants/products/Products.vue","mtime":1638499443276},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0ICQgPSByZXF1aXJlKCJqcXVlcnkiKQpjb25zdCBwcm9kdWN0SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wcm9kdWN0SGFuZGxlciIpCmNvbnN0IGNhdGVnb3J5SGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9jYXRlZ29yeUhhbmRsZXIiKQppbXBvcnQga2VuZG8gZnJvbSAnQHByb2dyZXNzL2tlbmRvLXVpJwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIlByb2R1Y3RMaXN0IiwKICAgIGluaGVyaXRBdHRyczogZmFsc2UsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgTG9hZGluZ01lOiAoKSA9PiBpbXBvcnQoYEAvY29tcG9uZW50cy9Mb2FkaW5nYCkKICAgIH0sCiAgICBwcm9wczogewogICAgICAgIHByb2R1Y3RJZDoge30KICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHBpYzogImFtcmV0LnBuZyIsCiAgICAgICAgICAgIHNlYXJjaDogJycsCiAgICAgICAgICAgIHZhbHVlOiAnaW5wdXQgbWUnLAogICAgICAgICAgICBsaXN0X3Byb2R1Y3Q6IHsKICAgICAgICAgICAgICAgIGhlYWRlcjogWwogICAgICAgICAgICAgICAgICAgICdwcm9kdWN0X25hbWUnLCAnbmFtZScsICdza3UnLCAnc3RvY2snLCAnY29tbWl0ZWRfc3RvY2snLCAnaW5jb21pbmdfc3RvY2snCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgZGF0YTogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgImRhdGUiOiAiTXkgT3VtIiwKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiODklIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm51bSI6ICJVU0EiLAogICAgICAgICAgICAgICAgICAgICAgICAicXR5IjogIjg5JSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJhbW91bnQiOiAiVVNBIgogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAiZGF0ZSI6ICJNeSBPdW0iLAogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICI4OSUiLAogICAgICAgICAgICAgICAgICAgICAgICAibnVtIjogIlVTQSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJxdHkiOiAiODklIiwKICAgICAgICAgICAgICAgICAgICAgICAgImFtb3VudCI6ICJVU0EiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9LAogICAgICAgICAgICBpdGVtczogWydFZGl0IFByb2R1Y3QnLCAnTmV3IFZhcmlhbnQnXSwKICAgICAgICAgICAgZ3JpZFNjaGVtYTogewogICAgICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICAgICAgICBpZDogImlkIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBpc0xvYWRlZDogdHJ1ZSwKICAgICAgICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgICAgICAgICBwcm9kdWN0czogW10sCiAgICAgICAgICAgIGNhdGVnb3JpZXM6IFtdLAogICAgICAgICAgICBtQ2F0ZWdvcnk6IHt9LAogICAgICAgICAgICBncm91cERlZmluaXRpb246IHsKICAgICAgICAgICAgICAgIGZpZWxkOiAicHJvZHVjdC5uYW1lIiwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW1nVVJMOiAnaHR0cHM6Ly9zMy1hcC1zb3V0aGVhc3QtMS5hbWF6b25hd3MuY29tL2ltYWdlcy5iYW5oamkvJwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgbG9hZEltYWdlKGRhdGFJdGVtKSB7CiAgICAgICAgICAgIGlmIChkYXRhSXRlbS5oYXNPd25Qcm9wZXJ0eSgnaW1hZ2VzJykpIHsKICAgICAgICAgICAgICAgIGlmIChkYXRhSXRlbS5pbWFnZXMuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhSXRlbS5pbWFnZXMuZGVmYXVsdC5oYXNPd25Qcm9wZXJ0eSgndGh1bWInKSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmltZ1VSTCArIGRhdGFJdGVtLmltYWdlcy5kZWZhdWx0LnRodW1iCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAiPGltZyB3aWR0aD0nNTAnIGhlaWdodD0nNTAnIHN0eWxlPSAnbWFyZ2luOiBhdXRvO2Rpc3BsYXk6IGJsb2NrOycgc3JjPSciICsgdXJsICsgIicgLz4iCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuICcnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICcnCiAgICAgICAgfSwKICAgICAgICBjYXRlZ29yeShkYXRhSXRlbSkgewogICAgICAgICAgICBpZiAoZGF0YUl0ZW0uaGFzT3duUHJvcGVydHkoJ3Byb2R1Y3QnKSkgewogICAgICAgICAgICAgICAgaWYgKGRhdGFJdGVtLnByb2R1Y3QuaGFzT3duUHJvcGVydHkoJ2NhdGVnb3J5JykpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YUl0ZW0ucHJvZHVjdC5jYXRlZ29yeS5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YUl0ZW0ucHJvZHVjdC5jYXRlZ29yeS5uYW1lCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuICcnCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHVvbVRtcChkYXRhSXRlbSkgewogICAgICAgICAgICBpZiAoZGF0YUl0ZW0uaGFzT3duUHJvcGVydHkoJ3VvbScpKSB7CiAgICAgICAgICAgICAgICBpZiAoZGF0YUl0ZW0udW9tLmhhc093blByb3BlcnR5KCdpZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFJdGVtLnVvbS5oYXNPd25Qcm9wZXJ0eSgndG9VT00nKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YUl0ZW0udW9tLnRvVU9NLm5hbWUgfHwgJycKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YUl0ZW0udW9tLm5hbWUgfHwgJycKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJycKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIGNhbGxiYWNrXygpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMgIT09IG51bGwgJiYgdGhpcy4kcm91dGUucGFyYW1zLmhhc093blByb3BlcnR5KCdkYXRhJykpIHsKICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2coJ1Byb2R1Y3RzIHdhdGNoJykKICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0ID0gdGhpcy4kcm91dGUucGFyYW1zLmRhdGEKICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RzLmZvckVhY2goZnVuY3Rpb24gKHBhcnQsIGluZGV4LCBpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaXRlbVtpbmRleF0ucHJvZHVjdElkID09PSBwcm9kdWN0LnByb2R1Y3RJZCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1baW5kZXhdLnByb2R1Y3QgPSBwcm9kdWN0LnByb2R1Y3QKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGxldCBkYXRhU291cmNlID0gbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMucHJvZHVjdHMsIGdyb3VwOiB7ZmllbGQ6ICJwcm9kdWN0Lm5hbWUifQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGxldCBncmlkID0gJCgnI2dyaWRQcm9kdWN0cycpLmRhdGEoImtlbmRvR3JpZCIpOwogICAgICAgICAgICAgICAgICAgIGRhdGFTb3VyY2UucmVhZCgpOwogICAgICAgICAgICAgICAgICAgIGdyaWQuc2V0RGF0YVNvdXJjZShkYXRhU291cmNlKTsKCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhlKQogICAgICAgICAgICB9CgogICAgICAgIH0sCiAgICAgICAgZ29FZGl0UHJvZHVjdChlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgbGV0IGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkUHJvZHVjdHMiKS5kYXRhKCJrZW5kb0dyaWQiKTsKICAgICAgICAgICAgbGV0IGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIHBhdGg6ICdwcm9kdWN0JyArIGAvJHtkYXRhSXRlbS5wcm9kdWN0SWR9YCwKICAgICAgICAgICAgICAgIHBhcmFtczoge2lkOiBkYXRhSXRlbS5wcm9kdWN0SWR9LAogICAgICAgICAgICAgICAgcXVlcnk6IHt0eXBlOiAnZWRpdCd9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyhkYXRhSXRlbSkKICAgICAgICB9LAogICAgICAgIGdvTmV3VmFyaWFudChlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgbGV0IGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkUHJvZHVjdHMiKS5kYXRhKCJrZW5kb0dyaWQiKTsKICAgICAgICAgICAgbGV0IGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIHBhdGg6ICdwcm9kdWN0X3ZhcmlhbnQnICsgYC8ke2RhdGFJdGVtLmlkfWAsCiAgICAgICAgICAgICAgICBxdWVyeToge3A6IGAke2RhdGFJdGVtLnByb2R1Y3RJZH1gLCB0eXBlOiAnbmV3J30KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKGRhdGFJdGVtKQogICAgICAgIH0sCiAgICAgICAgLypzaG93RGV0YWlsczogZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAgICAgbGV0IGdyaWQgPSBrZW5kby5qUXVlcnkoIiNncmlkUHJvZHVjdCIpLmRhdGEoImtlbmRvR3JpZCIpOwogICAgICAgICAgICBsZXQgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKCQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJ0ciIpKTsKCiAgICAgICAgICAgIGFsZXJ0KCciJyArIGRhdGFJdGVtLm5hbWUgKyAnIiBkZXRhaWxzIGFyZSBhYm91dCB0byBiZSBsb2dnZWQgb24gdGhlIGNvbnNvbGUuJyk7CiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhkYXRhSXRlbSk7CiAgICAgICAgfSwqLwogICAgICAgIHJvd051bWJlclRtcGwoZGF0YUl0ZW0pIHsKICAgICAgICAgICAgbGV0IGRzID0gdGhpcy4kcmVmcy5kYXRhU291cmNlLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICAgICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgb25DYXRlZ29yeUNoYW5nZWQoKSB7CiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgncmVzb2x2ZWQnKTsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tQ2F0ZWdvcnkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdEhhbmRsZXIuZmlsdGVyKHRoaXMubUNhdGVnb3J5LmlkLCB0aGlzLnNlYXJjaCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RzID0gcmVzCiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZENhdGVnb3J5KCkgewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJyk7CiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlIYW5kbGVyLmdldCgpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcmllcyA9IHJlcwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3JpZXMgPSB0aGlzLmNhdGVnb3JpZXMuZmlsdGVyKG0gPT4gbS50eXBlLm5hbWUgPT09ICdQcm9kdWN0JykKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2F0ZWdvcmllcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1DYXRlZ29yeSA9IHRoaXMuY2F0ZWdvcmllc1swXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNhdGVnb3J5Q2hhbmdlZCgpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkOiBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgICAgYXdhaXQgdGhpcy5sb2FkQ2F0ZWdvcnkoKQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgJyRyb3V0ZSc6ICdjYWxsYmFja18nCiAgICB9LAogICAgY29tcHV0ZWQ6IHt9Cn0K"},{"version":3,"sources":["Products.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Products.vue","sourceRoot":"src/views/products/product/product_variants/products","sourcesContent":["<template>\n    <v-row>\n        <v-col sm=\"12\" cols=\"12\" class=\"grayBg px-6\">\n            <v-card outlined dense class=\"pa-3 no_border\">\n                <v-row>\n                    <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                        <v-text-field outlined\n                                      :placeholder=\"$t('name')\"\n                                      append-icon=\"search\"\n                                      v-model=\"search\"\n                                      @change=\"onCategoryChanged\"\n                                      clearable/>\n                    </v-col>\n\n                    <v-col sm=\"4\" cols=\"12\" class=\"py-0\">\n                        <v-select class=\"\"\n                                  tage=\"Product Category\"\n                                  v-model=\"mCategory\"\n                                  :items=\"categories\"\n                                  item-value=\"id\"\n                                  :item-text=\"item =>`${item.abbr} - ${item.name}`\"\n                                  @change=\"onCategoryChanged\"\n                                  return-object\n                                  :placeholder=\"$t('category')\"\n                                  clearable\n                                  outlined/>\n                    </v-col>\n                </v-row>\n                <!-- loading -->\n                <div v-if=\"isLoaded\">\n                    <LoadingMe\n                        :isLoading=\"showLoading\"\n                        type=\"loading\"\n                        :fullPage=\"false\"\n                        :myLoading=\"true\"/>\n                </div>\n                <v-card outlined dense class=\"no_border\">\n                    <!-- loading -->\n                    <div v-if=\"!isLoaded\">\n                        <LoadingMe\n                            :isLoading=\"showLoading\"\n                            :fullPage=\"false\"\n                            type=\"loading\"\n                            :myLoading=\"true\"/>\n                    </div>\n\n                    <kendo-datasource ref=\"dataSource\"\n                                      :data=\"products\"\n                                      :schema=\"gridSchema\"\n                                      :group=\"groupDefinition\"/>\n                    <kendo-grid id=\"gridProducts\"\n                                class=\"grid-function\"\n                                :data-source-ref=\"'dataSource'\"\n                                :style=\"{width: '100%'}\"\n                                :noRecords=\"true\"\n                                :scrollable-virtual=\"true\">\n\n                        <kendo-grid-column\n                            :field=\"'name'\"\n                            :attributes=\"{class:'tb_name_td'}\"\n                            :title=\"$t('name')\"\n                            :width=\"200\"\n                            :template=\"'<span>#=name#</span>'\"\n                            :groupHeaderColumnTemplate=\"'#=value#'\"\n                            :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                        <kendo-grid-column\n                            :field=\"'images'\"\n                            :title=\"$t('image')\"\n                            :width=\"70\"\n                            :template=\"loadImage\"\n                            :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"/>\n                        <kendo-grid-column\n                            :field=\"'product'\"\n                            :title=\"$t('category')\"\n                            :template=\"category\"\n                            :width=\"100\"\n                            :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n                        <kendo-grid-column\n                            :field=\"'sku'\"\n                            :title=\"$t('sku')\"\n                            :width=\"100\"\n                            :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n                        <kendo-grid-column\n                            :field=\"'uom'\"\n                            :title=\"$t('uom')\"\n                            :width=\"100\"\n                            :template=\"uomTmp\"\n                            :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n                        <kendo-grid-column\n                            :field=\"'reOrderQty'\"\n                            :title=\"$t('recorder')\"\n                            :width=\"100\"\n                            :template=\"'<span>#=reOrderQty#</span>'\"\n                            :attributes=\"{ style: 'text-align: right'}\"\n                            :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n                        <kendo-grid-column\n                            :field=\"''\"\n                            :title=\"$t('action')\"\n                            :width=\"100\"\n                            :command=\"[{ text: $t('edit_product'), click: goEditProduct }, { text: $t('new_variant'), click: goNewVariant }]\"\n                            :headerAttributes=\"{style: 'text-align: left; background-color: #EDF1F5'}\"/>\n                    </kendo-grid>\n                </v-card>\n            </v-card>\n        </v-col>\n\n\n    </v-row>\n</template>\n<script>\nconst $ = require(\"jquery\")\nconst productHandler = require(\"@/scripts/productHandler\")\nconst categoryHandler = require(\"@/scripts/categoryHandler\")\nimport kendo from '@progress/kendo-ui'\n\nexport default {\n    name: \"ProductList\",\n    inheritAttrs: false,\n    components: {\n        LoadingMe: () => import(`@/components/Loading`)\n    },\n    props: {\n        productId: {}\n    },\n    data() {\n        return {\n            pic: \"amret.png\",\n            search: '',\n            value: 'input me',\n            list_product: {\n                header: [\n                    'product_name', 'name', 'sku', 'stock', 'commited_stock', 'incoming_stock'\n                ],\n                data: [\n                    {\n                        \"date\": \"My Oum\",\n                        \"type\": \"89%\",\n                        \"num\": \"USA\",\n                        \"qty\": \"89%\",\n                        \"amount\": \"USA\"\n                    },\n                    {\n                        \"date\": \"My Oum\",\n                        \"type\": \"89%\",\n                        \"num\": \"USA\",\n                        \"qty\": \"89%\",\n                        \"amount\": \"USA\"\n                    }\n                ]\n            },\n            items: ['Edit Product', 'New Variant'],\n            gridSchema: {\n                model: {\n                    id: \"id\"\n                }\n            },\n            isLoaded: true,\n            showLoading: false,\n            products: [],\n            categories: [],\n            mCategory: {},\n            groupDefinition: {\n                field: \"product.name\",\n            },\n            imgURL: 'https://s3-ap-southeast-1.amazonaws.com/images.banhji/'\n        }\n    },\n    methods: {\n        loadImage(dataItem) {\n            if (dataItem.hasOwnProperty('images')) {\n                if (dataItem.images.hasOwnProperty('default')) {\n                    if (dataItem.images.default.hasOwnProperty('thumb')) {\n                        const url = this.imgURL + dataItem.images.default.thumb\n                        return \"<img width='50' height='50' style= 'margin: auto;display: block;' src='\" + url + \"' />\"\n                    }\n                }\n            } else {\n                return ''\n            }\n            return ''\n        },\n        category(dataItem) {\n            if (dataItem.hasOwnProperty('product')) {\n                if (dataItem.product.hasOwnProperty('category')) {\n                    if (dataItem.product.category.hasOwnProperty('id')) {\n                        return dataItem.product.category.name\n                    }\n                }\n            } else {\n                return ''\n            }\n        },\n        uomTmp(dataItem) {\n            if (dataItem.hasOwnProperty('uom')) {\n                if (dataItem.uom.hasOwnProperty('id')) {\n                    if (dataItem.uom.hasOwnProperty('toUOM')) {\n                        return dataItem.uom.toUOM.name || ''\n                    } else {\n                        return dataItem.uom.name || ''\n                    }\n                }\n            } else {\n                return ''\n            }\n        },\n\n        callback_() {\n            try {\n                if (this.$route.params !== null && this.$route.params.hasOwnProperty('data')) {\n                    // window.console.log('Products watch')\n                    const product = this.$route.params.data\n                    this.products.forEach(function (part, index, item) {\n                        if ((item[index].productId === product.productId)) {\n                            item[index].product = product.product\n                        }\n                    });\n                    let dataSource = new kendo.data.DataSource({\n                        data: this.products, group: {field: \"product.name\"}\n                    });\n                    let grid = $('#gridProducts').data(\"kendoGrid\");\n                    dataSource.read();\n                    grid.setDataSource(dataSource);\n\n                }\n            } catch (e) {\n                window.console.log(e)\n            }\n\n        },\n        goEditProduct(e) {\n            e.preventDefault();\n            let grid = kendo.jQuery(\"#gridProducts\").data(\"kendoGrid\");\n            let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n            this.$router.push({\n                path: 'product' + `/${dataItem.productId}`,\n                params: {id: dataItem.productId},\n                query: {type: 'edit'}\n            })\n            // window.console.log(dataItem)\n        },\n        goNewVariant(e) {\n            e.preventDefault();\n            let grid = kendo.jQuery(\"#gridProducts\").data(\"kendoGrid\");\n            let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n            this.$router.push({\n                path: 'product_variant' + `/${dataItem.id}`,\n                query: {p: `${dataItem.productId}`, type: 'new'}\n            })\n            // window.console.log(dataItem)\n        },\n        /*showDetails: function (e) {\n            e.preventDefault();\n\n            let grid = kendo.jQuery(\"#gridProduct\").data(\"kendoGrid\");\n            let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n\n            alert('\"' + dataItem.name + '\" details are about to be logged on the console.');\n            window.console.log(dataItem);\n        },*/\n        rowNumberTmpl(dataItem) {\n            let ds = this.$refs.dataSource.kendoWidget(),\n                index = ds.indexOf(dataItem);\n            return index + 1;\n        },\n        async onCategoryChanged() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    if (this.mCategory) {\n                        this.isLoaded = true\n                        this.showLoading = true\n                        productHandler.filter(this.mCategory.id, this.search).then(res => {\n                            this.showLoading = false\n                            this.products = res\n                        })\n                    }\n                }, 10);\n            })\n        },\n        async loadCategory() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved');\n                    categoryHandler.get().then(res => {\n                        this.showLoading = false\n                        this.categories = res\n                        this.categories = this.categories.filter(m => m.type.name === 'Product')\n                        if (this.categories.length > 0) {\n                            this.mCategory = this.categories[0]\n                            this.onCategoryChanged()\n                        }\n                    })\n                }, 10);\n            })\n        }\n    },\n    mounted: async function () {\n        await this.loadCategory()\n    },\n    watch: {\n        '$route': 'callback_'\n    },\n    computed: {}\n}\n</script>\n<style scoped>\n.attachment_table.v-data-table > .v-data-table__wrapper > table > tbody > tr > td {\n    border-right: none !important;\n}\n</style>\n"]}]}