{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/pay_roll/PayrollSummary.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/payroll/pay_roll/PayrollSummary.vue","mtime":1638499443255},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMb2FkaW5nTWUgZnJvbSAiQC9jb21wb25lbnRzL0xvYWRpbmciOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIgpjb25zdCBwYXlyb2xsSGFuZGxlciA9IHJlcXVpcmUoIkAvc2NyaXB0cy9wYXlyb2xsSGFuZGxlciIpCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgICAgIGlzX21vbnRoOiBmYWxzZSwKICAgICAgICBpc19zdGFydF9kYXRlOiBmYWxzZSwKICAgICAgICBpc19lbmRfZGF0ZTogZmFsc2UsCiAgICAgICAgc3RhcnRfZGF0ZTogIiIsCiAgICAgICAgZW5kX2RhdGU6ICIiLAogICAgICAgIGRhdGE6IFtdLAogICAgICAgIHN1bW1hcnk6W10sCiAgICAgICAgc2VhcmNoOnsKICAgICAgICAgICAgc3RhcnRfZGF0ZTogIiIsCiAgICAgICAgICAgIGVuZF9kYXRlOiAiIgogICAgICAgIH0sCiAgICAgICAgdG90YWxfc3VtbWFyeTp7CiAgICAgICAgICAgIHRvdGFsX2dyb3NzOiAgICAgICAgICAgMCwKICAgICAgICAgICAgdG90YWxfYmVuZWZpdHM6ICAgICAgICAwLAogICAgICAgICAgICB0b3RhbF90YXhfYmVuZWZpdDogICAgIDAsCiAgICAgICAgICAgIHRvdGFsX25ldFBheTogICAgICAgICAgMCwKICAgICAgICAgICAgdG90YWxfbmV0X3NhbGFyeTogICAgICAwLAogICAgICAgICAgICB0b3RhbF9kZWR1Y3Rpb246ICAgICAgIDAsCiAgICAgICAgICAgIHRvdGFsX3RheF9wYXltZW50X3VzOiAgMCwKICAgICAgICAgICAgdG90YWxfdGF4X3BheW1lbnRfa2htOiAwLAogICAgICAgIH0KICAgIH0pLAogICAgcHJvcHM6IHt9LAogICAgbWV0aG9kczogewogICAgICAgIGxvYWRQYXlyb2xsU3VtbWFyeSgpewogICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc29sdmVkJykKICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIHBheXJvbGxIYW5kbGVyLmdldFBheXJvbGxTdW1tYXJ5KHRoaXMuc2VhcmNoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHRzID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b3RhbF9zdW1tYXJ5ID0gcmVzdWx0cwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdW1tYXJ5ID0gcmVzdWx0cy5wYXlyb2xscwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAzMDApCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBkYXRlRm9ybWF0KHZhbHVlKXsKICAgICAgICAgICAgcmV0dXJuICBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh2YWx1ZSksICJ5IikKICAgICAgICB9LAogICAgICAgIGFtb3VudEZvcm1hdCh2YWx1ZSl7CiAgICAgICAgICAgIHJldHVybiBrZW5kby50b1N0cmluZygga2VuZG8ucGFyc2VGbG9hdCh2YWx1ZSksImMyIikKICAgICAgICB9LAogICAgICAgIG9uU2VhcmNoKCl7CiAgICAgICAgICAgIGxldCBzdGFydF9kYXRlID0gdGhpcy5zdGFydF9kYXRlCiAgICAgICAgICAgIGxldCBlbmRfZGF0ZSA9dGhpcy5lbmRfZGF0ZQogICAgICAgICAgICBpZihlbmRfZGF0ZSAmJiBzdGFydF9kYXRlKXsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoID0gewogICAgICAgICAgICAgICAgICAgICdzdGFydF9kYXRlJzoga2VuZG8udG9TdHJpbmcobmV3IERhdGUoc3RhcnRfZGF0ZSksJ3l5eXktTU0tZGQnKSwKICAgICAgICAgICAgICAgICAgICAnZW5kX2RhdGUnOiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZShlbmRfZGF0ZSksJ3l5eXktTU0tZGQnKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5sb2FkUGF5cm9sbFN1bW1hcnkoKQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoID0gewogICAgICAgICAgICAgICAgICAgICdzdGFydF9kYXRlJzogJycsCiAgICAgICAgICAgICAgICAgICAgJ2VuZF9kYXRlJzogJycKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMubG9hZFBheXJvbGxTdW1tYXJ5KCkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBhc3luYyBtb3VudGVkKCkgewogICAgICAgIGF3YWl0IHRoaXMubG9hZFBheXJvbGxTdW1tYXJ5KCkKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIAogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICAnTG9hZGluZ01lJzogTG9hZGluZ01lLAogICAgICAgICdtb250aC1waWNrZXInIDogKCk9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9jdXN0b21fdGVtcGxhdGVzL01vbnRoUGlja2VyJykKICAgIH0KfTsK"},{"version":3,"sources":["PayrollSummary.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"PayrollSummary.vue","sourceRoot":"src/views/payroll/pay_roll","sourcesContent":["<template>\n    <v-row class=\"\">\n        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n            <v-row class=\"\">\n                <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n                    <v-row>\n                        <v-col sm=\"9\" cols=\"12\" class=\"py-0\">\n                            <h2 class=\"mb-0 font_20\">{{$t('payroll_summary')}}</h2>\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col sm=\"4\" cols=\"12\" class=\"py-0 d-flex justify-space-between\">\n                            <label class=\"mt-3 mr-1\">{{$t('from')}}</label>\n                            <month-picker :initialMonth=\"start_date\" @emitMonth=\"start_date = $event\"/>\n                        </v-col>\n\n                        <v-col sm=\"4\" cols=\"12\" class=\"py-0  d-flex justify-space-between\">\n                            <label class=\"mt-3 mr-1\">{{$t('to')}}</label>\n                            <month-picker :initialMonth=\"end_date\" @emitMonth=\"end_date = $event\" :min=\"start_date\"/>\n                        </v-col>\n                        <v-col sm=\"2\" cols=\"1\" class=\"py-1\">\n                            <v-btn color=\"primary white--text text-capitalize\" @click=\"onSearch\">\n                                {{$t('view')}}\n                            </v-btn>\n                        </v-col>\n                \n                    </v-row>\n                </v-col>\n            </v-row>\n\n            <v-row class=\"\">\n                <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                    <v-simple-table class=\"nomal_table\">\n                        <template v-slot:default>\n                            <thead>\n                                <tr>\n                                    <th></th>\n                                    <th class=\"text-bold text-uppercase head-summary\">{{ $t('total') }}</th>\n                                    <th class=\"text-bold text-uppercase head-summary\" v-for=\"summaryh in summary\" v-bind:key=\"summaryh.id\">{{ dateFormat(summaryh.monthOf)}}</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                            <tr>\n                                <td class=\"text-bold\">{{ $t('gross_pay') }}</td>\n                                <td></td>\n                                <td class=\"amount\" v-for=\"summaryGoss in summary\" v-bind:key=\"summaryGoss.id\"></td>\n                            </tr>\n                            <tr>\n                                <td>{{ $t('salary') }}</td>\n                                <td class=\"amount\">{{amountFormat(total_summary.total_gross)}}</td>\n                                <td class=\"amount\" v-for=\"salary in summary\" v-bind:key=\"salary.id\">{{ amountFormat(salary.totalGross)}}</td>\n                            </tr>\n                            <tr>\n                                <td>{{ $t('overtime_pay') }}</td>\n                                <td class=\"amount\">{{amountFormat(0)}}</td>\n                                <td class=\"amount\" v-for=\"overTime in summary\" v-bind:key=\"overTime.id\">{{amountFormat(0)}}</td>\n                            </tr>\n                            <tr>\n                                <td>{{ $t('benefit') }}</td>\n                                <td class=\"amount\">{{amountFormat(total_summary.total_benefits)}}</td>\n                                <td class=\"amount\" v-for=\"benefit in summary\" v-bind:key=\"benefit.id\">{{ amountFormat(benefit.totalBenefits)}}</td>\n                            </tr>\n                            <tr>\n                                <td class=\"third white--text\">{{ $t('total_gross_pay') }}</td>\n                                <td class=\"third amount white--text\">{{amountFormat(total_summary.total_gross)}}</td>\n                                <td class=\"third amount white--text\" v-for=\"grossPay in summary\" v-bind:key=\"grossPay.id\">{{ amountFormat(grossPay.totalGross)}}</td>\n                            </tr>\n                            <tr>\n                                <td class=\"text-bold\">{{ $t('tax_withheld') }}</td>\n                                <td></td>\n                                <td class=\"amount\" v-for=\"taxWithheld in summary\" v-bind:key=\"taxWithheld.id\"></td>\n                            </tr>\n                            <tr>\n                                <td>{{ $t('salary_tax') }}</td>\n                                <td class=\"amount\">{{amountFormat(total_summary.total_tax_payment_us)}}</td>\n                                <td class=\"amount\" v-for=\"salaryTax in summary\" v-bind:key=\"salaryTax.id\">{{ amountFormat(salaryTax.totalTaxPaymentUS)}}</td>\n                            </tr>\n                            <tr>\n                                <td>{{ $t('fringe_benefit_tax') }}</td>\n                                <td class=\"amount \">{{amountFormat(total_summary.total_tax_benefit)}}</td>\n                                <td class=\"amount\" v-for=\"benefitTax in summary\" v-bind:key=\"benefitTax.id\">{{ amountFormat(benefitTax.totalTaxBenefit)}}</td>\n                            </tr>\n                            <tr>\n                                <td class=\"third white--text\">{{ $t('total_tax_withheld') }}</td>\n                                <td class=\"third amount white--text\">{{amountFormat(total_summary.total_tax_benefit + total_summary.total_tax_payment_us)}}</td>\n                                <td class=\"third amount white--text\" v-for=\"totalTax in summary\" v-bind:key=\"totalTax.id\">{{ amountFormat(totalTax.totalTaxPaymentUS + totalTax.totalTaxBenefit)}}</td>\n                            </tr>\n                            <tr>\n                                <td class=\"third text-bold white--text\">{{ $t('deduction') }}</td>\n                                <td class=\"third amount white--text\">{{amountFormat(total_summary.total_deduction)}}</td>\n                                <td class=\"third amount white--text\" v-for=\"deduction in summary\" v-bind:key=\"deduction.id\">{{ amountFormat(deduction.totalDeduction)}}</td>\n                            </tr>\n                            <tr>\n                                <td class=\"secondary white--text text-bold\">{{ $t('net_pay') }}</td>\n                                <td class=\"secondary white--text amount\">{{amountFormat(total_summary.total_netPay)}}</td>\n                                <td class=\"secondary white--text amount\" v-for=\"netPay in summary\" v-bind:key=\"netPay.id\">{{ amountFormat(netPay.totalNetPay)}}</td>\n                            </tr>\n                            </tbody>\n                        </template>\n                    </v-simple-table>\n                    <LoadingMe\n                        :isLoading=\"showLoading\"\n                        :fullPage=\"false\"\n                        :myLoading=\"true\"\n                        type=\"loading\"\n                       />\n                </v-col>\n            </v-row>\n        </v-col>\n    </v-row>\n</template>\n<script>\nimport LoadingMe from \"@/components/Loading\";\nimport kendo from \"@progress/kendo-ui\"\nconst payrollHandler = require(\"@/scripts/payrollHandler\")\nexport default {\n    data: () => ({\n        showLoading: false,\n        is_month: false,\n        is_start_date: false,\n        is_end_date: false,\n        start_date: \"\",\n        end_date: \"\",\n        data: [],\n        summary:[],\n        search:{\n            start_date: \"\",\n            end_date: \"\"\n        },\n        total_summary:{\n            total_gross:           0,\n            total_benefits:        0,\n            total_tax_benefit:     0,\n            total_netPay:          0,\n            total_net_salary:      0,\n            total_deduction:       0,\n            total_tax_payment_us:  0,\n            total_tax_payment_khm: 0,\n        }\n    }),\n    props: {},\n    methods: {\n        loadPayrollSummary(){\n            new Promise(resolve => {\n                setTimeout(() => {\n                    resolve('resolved')\n                    this.showLoading = true\n                    payrollHandler.getPayrollSummary(this.search).then(res => {\n                        this.showLoading = true\n                        if (res.data.statusCode === 200) {\n                            let results = res.data.data\n                            this.total_summary = results\n                            this.summary = results.payrolls\n                            this.showLoading = false\n                        }\n                    }).catch()\n                    {\n                        this.showLoading = false\n                    }\n                }, 300)\n            })\n        },\n        dateFormat(value){\n            return  kendo.toString(new Date(value), \"y\")\n        },\n        amountFormat(value){\n            return kendo.toString( kendo.parseFloat(value),\"c2\")\n        },\n        onSearch(){\n            let start_date = this.start_date\n            let end_date =this.end_date\n            if(end_date && start_date){\n                this.search = {\n                    'start_date': kendo.toString(new Date(start_date),'yyyy-MM-dd'),\n                    'end_date': kendo.toString(new Date(end_date),'yyyy-MM-dd')\n                }\n                this.loadPayrollSummary()\n            }else{\n                this.search = {\n                    'start_date': '',\n                    'end_date': ''\n                }\n                this.loadPayrollSummary()\n            }\n        }\n    },\n    async mounted() {\n        await this.loadPayrollSummary()\n    },\n    computed: {\n        \n    },\n    components: {\n        'LoadingMe': LoadingMe,\n        'month-picker' : ()=> import('@/components/custom_templates/MonthPicker')\n    }\n};\n</script>\n<style scoped>\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n        background-color: transparent !important;\n    }\n\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr.third:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper) {\n        background-color: #f44336 !important;\n    }\n\n    .theme--light.v-data-table {\n        background-color: transparent !important;\n        border-top: thin solid #ddd;\n        border-bottom: thin solid #ddd;\n        border-radius: 0 !important;\n    }\n\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:not(:last-child) > td:not(.v-data-table__mobile-row),\n    .theme--light.v-data-table > .v-data-table__wrapper > table > tbody > tr:not(:last-child) > th:not(.v-data-table__mobile-row) {\n        border-bottom: thin solid #ddd;\n    }\n\n    .v-data-table > .v-data-table__wrapper > table > tbody > tr > td {\n        height: 32px !important;\n        border-bottom: thin solid rgba(0, 0, 0, 0.12) !important;\n    }\n\n    .v-application .third,\n    .v-application .third {\n        border-color: #fff !important;\n    }\n\n    .amount {\n        text-align: right !important;\n    }\n    .head-summary {\n        text-align: right !important;\n    }\n</style>\n"]}]}