{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/settings/Company.vue?vue&type=style&index=0&id=e9ce13ea&scoped=true&lang=css&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/settings/Company.vue","mtime":1638499443312},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKdGFibGUuYWNjX3NldHRpbmcgewogICAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICAgIHdpZHRoOiAxMDAlOwogICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsKICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICBjb2xvcjogIzAwMDsKfQoKdGFibGUuYWNjX3NldHRpbmcgdHIgdGQgewogICAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICAgIHBhZGRpbmc6IDhweDsKICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7Cn0KCnRhYmxlLmFjY19zZXR0aW5nIHRyIHRkIHAudGhpcmQgewogICAgbWFyZ2luLWJvdHRvbTogMDsKICAgIGJhY2tncm91bmQtY29sb3I6ICMyQ0EwMUM7CiAgICBwYWRkaW5nOiA3cHggMTVweDsKICAgIGNvbG9yOiAjZmZmOwogICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKdGFibGUuYWNjX3NldHRpbmcgdHIgdGQgcC50ZXh0X2JvbGQgewogICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgIG1hcmdpbi1ib3R0b206IDA7Cn0KCnRhYmxlLmFjY19zZXR0aW5nIHRyIHRkOmZpcnN0LWNoaWxkIHsKICAgIGZvbnQtd2VpZ2h0OiA3MDA7Cn0KCi5idG5fZWRpdCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjFhYmY2ICFpbXBvcnRhbnQ7CiAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTsKfQoKLmZ1bmN0aW9uX2Zvb3RlciB7CiAgICBwYWRkaW5nOiAxNXB4OwogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwp9Cgoudi1jYXJkX19hY3Rpb25zIC52LWJ0bi52LWJ0biB7CiAgICBwYWRkaW5nOiAwIDE2cHg7Cn0KCkBtZWRpYSAobWF4LXdpZHRoOiA1NzZweCkgewoKfQo="},{"version":3,"sources":["Company.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6dA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA","file":"Company.vue","sourceRoot":"src/views/settings","sourcesContent":["<template>\n    <v-row class=\"\">\n        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n            <h2 class=\"font_20\">{{ $t('company_information') }}</h2>\n            <v-dialog v-model=\"dialog\" scrollable max-width=\"700px\">\n                <template v-slot:activator=\"{on}\">\n                    <v-btn color=\"primary\" class=\" text-capitalize white--text float-right\" v-on=\"on\">\n                        {{ $t('edit') }}\n                    </v-btn>\n                </template>\n\n                <v-card class=\"sm_screen\">\n                    <div class=\"modal_header\">\n                        <v-icon class=\"btn_close float-right\" @click=\"dialog = false\">close</v-icon>\n                    </div>\n                    <v-card-text class=\"modal_text_content\">\n                        <v-row>\n                            <v-col sm=\"6\" cols=\"12\" class=\"\">\n                                <label class=\"label\">{{ $t('company_name') }}</label>\n                                <v-text-field class=\"mt-1\"\n                                              v-model=\"company.name\"\n                                              outlined\n                                              dense\n                                />\n                                <label class=\"label\">{{ $t('company_logo') }}</label>\n                                <v-row>\n                                    <v-col sm=\"12\" cols=\"12\" class=\"pb-0 \">\n                                        <v-card width=\"100\" height=\"80\" outlined dense\n                                                class=\"px-3 pt-3 mx-auto rounded-0\">\n                                            <v-img width=\"60\" height=\"60\" class=\"mx-auto\" :src=\"src\"/>\n                                        </v-card>\n                                        <template class=\"pt-0\">\n                                            <v-file-input class=\" mt-0\"\n                                                          accept=\".png, .jpg, .jpeg\"\n                                                          label=\"File input\"\n                                                          @change=\"onFileChange\"\n                                            />\n                                            <input\n                                                hidden\n                                                type=\"file\"\n                                                name=\"image\"\n                                                id=\"image\"\n                                                :rules=\"fileSizeRules\"\n                                                accept=\".png, .jpg, .jpeg\"\n                                                ref=\"fileupload\"\n                                                @change=\"onFileChange\"/>\n                                        </template>\n                                    </v-col>\n                                </v-row>\n\n                            </v-col>\n                            <v-col sm=\"6\" cols=\"12\" class=\"\">\n                                <label class=\"label\">{{ $t('legal_name') }}</label>\n                                <v-text-field class=\"mt-1\"\n                                              v-model=\"company.legalName\"\n                                              outlined\n                                              dense\n                                />\n                                <label class=\"label\">{{ $t('registration_no') }}</label>\n                                <v-text-field class=\"mt-1\"\n                                              outlined\n                                              v-model=\"company.registration\"\n                                              dense\n                                />\n                                <label class=\"label\">{{ $t('tax_type') }}</label>\n                                <v-select class=\"mt-1\"\n                                          v-model=\"company.taxRegime\"\n                                          :items=\"taxRegimes\"\n                                          item-value=\"name\"\n                                          :rules=\"[v => !!v || 'Tax type is required']\"\n                                          item-text=\"name\"\n                                          outlined\n                                          dense\n                                />\n                            </v-col>\n                        </v-row>\n\n                        <v-row>\n                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                <label class=\"label\">{{ $t('legal_type') }}</label>\n                                <v-select class=\"mt-1\"\n                                          :items=\"bt\"\n                                          v-model=\"businessType\"\n                                          item-value=\"id\"\n                                          :rules=\"[v => (!!v.id) || 'Legal type is required']\"\n                                          item-text=\"name\"\n                                          outlined\n                                          dense\n                                />\n                            </v-col>\n                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                <label class=\"label\">{{ $t('industry') }}</label>\n                                <v-select class=\"mt-1\"\n                                          v-model=\"sector\"\n                                          :items=\"sectors\"\n                                          item-value=\"id\"\n                                          :rules=\"[v => (!!v.id) || 'Industry is required']\"\n                                          item-text=\"name\"\n                                          outlined\n                                          dense\n                                />\n                            </v-col>\n                        </v-row>\n\n                        <v-row>\n                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                <label class=\"label\">{{ $t('company_address') }}</label>\n                                <v-text-field class=\"mt-1\"\n                                              v-model=\"company.companyAddress\"\n                                              outlined\n                                              dense\n                                />\n                                <label class=\"label\">{{ $t('invoicing_address') }}</label>\n                                <v-text-field class=\"mt-1\"\n                                              v-model=\"company.invoiceAddress\"\n                                              outlined\n                                              dense\n                                />\n                                <label class=\"label\">{{ $t('invoicing_email') }}</label>\n                                <v-text-field class=\"mt-1\"\n                                              v-model=\"company.invoiceEmail\"\n                                              outlined\n                                              dense\n                                />\n                                <label class=\"label\">{{ $t('website') }}</label>\n                                <v-text-field class=\"mt-1\"\n                                              v-model=\"company.website\"\n                                              outlined\n                                              dense\n                                />\n                            </v-col>\n                            <v-col sm=\"6\" cols=\"12\" class=\"py-0\">\n                                <label class=\"label\">{{ $t('legal_address') }}</label>\n                                <v-text-field class=\"mt-1\"\n                                              v-model=\"company.legalAddress\"\n                                              outlined\n                                              dense\n                                />\n                                <label class=\"label\">{{ $t('company_email') }}</label>\n                                <v-text-field class=\"mt-1\"\n                                              v-model=\"company.companyEmail\"\n                                              outlined\n                                              dense\n                                />\n                                <label class=\"label\">{{ $t('company_phone') }}</label>\n                                <v-text-field class=\"mt-1\"\n                                              v-model=\"company.companyPhone\"\n                                              outlined\n                                              dense\n                                />\n                                <label class=\"label\">{{ $t('facebook_page') }}</label>\n                                <v-text-field class=\"mt-1\"\n                                              v-model=\"company.fbPage\"\n                                              outlined\n                                              dense\n                                />\n                            </v-col>\n                        </v-row>\n                    </v-card-text>\n                    <v-divider/>\n                    <v-card-actions class=\"modal_footer\">\n                        <v-row>\n                            <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-left\">\n                                <v-btn\n                                    color=\"primary\"\n                                    outlined\n                                    class=\" text-capitalize  black--text float-left\"\n                                    @click=\"dialog = false\"\n                                >{{ $t(\"cancel\") }}\n                                </v-btn\n                                >\n                            </v-col>\n                            <v-col sm=\"6\" cols=\"6\" class=\"py-0 text-right\">\n                                <v-btn\n                                    @click=\"onUpdateCompany\"\n                                    color=\"primary\"\n                                    class=\"px-3  white--text text-capitalize\"\n                                >{{ $t(\"save_close\") }}\n                                </v-btn>\n                            </v-col>\n                        </v-row>\n                    </v-card-actions>\n                </v-card>\n            </v-dialog>\n\n            <p class=\"mb-0\">{{ $t('company_information_desc') }}</p>\n            <table class=\"acc_setting\">\n                <tr>\n                    <td rowspan=\"4\" width=\"17.5%\" class=\"text-bold\">{{ $t('company_name') }}</td>\n                    <td width=\"17.5%\">\n                        {{ $t('company_name') }}\n                    </td>\n                    <td class=\"text-bold\">\n                        {{ company.name }}\n                    </td>\n                </tr>\n                <tr>\n                    <td width=\"17.5%\">\n                        {{ $t('legal_name') }}\n                    </td>\n                    <td class=\"text-bold\">\n                        {{ company.legalName }}\n                    </td>\n                </tr>\n                <tr>\n                    <td width=\"17.5%\">\n                        {{ $t('company_logo') }}\n                    </td>\n                    <td/>\n                </tr>\n                <tr>\n                    <td width=\"17.5%\">\n                        {{ $t('registration_no') }}\n                    </td>\n                    <td class=\"text-bold\">\n                        {{ company.registration }}\n                    </td>\n                </tr>\n\n                <tr>\n                    <td rowspan=\"5\" class=\"text-bold\">{{ $t('company_type') }}</td>\n                    <td>\n                        {{ $t('tax_type') }}\n                    </td>\n                    <td class=\"text_bold\">\n                        {{ company.taxRegime }}\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        {{ $t('tax_registration_no') }}\n                    </td>\n                    <td class=\"text_bold\">\n                        {{ company.vatTin }}\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        {{ $t('financial_reporting_standard') }}\n                    </td>\n                    <td class=\"text_bold\">\n                        {{ financialReportingStandards.name }}\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        {{ $t('legal_type') }}\n                    </td>\n                    <td class=\"text_bold\">\n                        {{ businessType.name }}\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        {{ $t('industry') }}\n                    </td>\n                    <td class=\"text_bold\">\n                        {{ sector.name }}\n                    </td>\n                </tr>\n\n                <tr>\n                    <td rowspan=\"3\" class=\"text-bold\">{{ $t('address') }}</td>\n                    <td>\n                        {{ $t('company_address') }}\n                    </td>\n                    <td class=\"text_bold\">\n                        {{ company.companyAddress }}\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        {{ $t('legal_address') }}\n                    </td>\n                    <td class=\"text_bold\">\n                        {{ company.legalAddress }}\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        {{ $t('invoicing_address') }}\n                    </td>\n                    <td class=\"text_bold\">\n                        {{ company.invoiceAddress }}\n                    </td>\n                </tr>\n\n                <tr>\n                    <td rowspan=\"5\" class=\"text-bold\">{{ $t('contact_info') }}</td>\n                    <td>\n                        {{ $t('company_email') }}\n                    </td>\n                    <td class=\"text_bold\">\n                        {{ company.companyEmail }}\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        {{ $t('invoicing_email') }}\n                    </td>\n                    <td class=\"text_bold\">\n                        {{ company.invoiceEmail }}\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        {{ $t('company_phone') }}\n                    </td>\n                    <td class=\"text_bold\">\n                        {{ company.companyPhone }}\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        {{ $t('website') }}\n                    </td>\n                    <td class=\"text_bold\">\n                        {{ company.website }}\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        {{ $t('facebook_page') }}\n                    </td>\n                    <td class=\"text_bold\">\n                        {{ company.fbPage }}\n                    </td>\n                </tr>\n\n            </table>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\nconst cookieJS = require(\"@/cookie.js\");\nlet cookie = cookieJS.getCookie();\n\nconst instituteHandler = require(\"@/scripts/instituteHandler\")\nexport default {\n    data: () => ({\n        fileSizeRules: [\n            files => !files || !files.some(file => file.size > 1024 * 1024) || 'Image size should be less than 1 MB!'\n        ],\n        company : cookie,\n        dialogm1: '',\n        dialog: false,\n        show1: false,\n        mInstitute: {},\n        src: '',\n        imgFile: '',\n        bt: [],\n        sectors: [],\n        taxRegimes: [],\n    }),\n    props: {},\n    watch: {},\n    async mounted() {\n        await this.getCookieData()\n        await this.loadInstituteInfo()\n        await this.loadDataBusiness()\n    },\n    methods: {\n        async onUpdateCompany() {\n            this.showLoading = true\n            this.company.financialReportingStandards =this.financialReportingStandards\n            this.company.businessType = this.businessType\n            this.company.sector = this.sector\n            this.company.imgProfile = this.src\n            await this.saveImage()\n            await instituteHandler.addCompany(this.company, this.mInstitute.creator).then(async () => {\n                await this.loadInstituteInfo()\n                this.showLoading = false\n                this.dialog = false\n            })\n        },\n        async saveImage() {\n            const data = {data : this.imgFile}\n            await instituteHandler.saveImageProfile(data).then(res => {\n                this.src = res.url\n                this.company.imgProfile = res.url\n            })\n        },\n        async loadDataBusiness() {\n            await instituteHandler.getBt().then(res => {\n                this.bt = res\n            })\n            await instituteHandler.getSector().then(res => {\n                this.sectors = res\n            })\n            await instituteHandler.getTaxRegime().then(res => {\n                this.taxRegimes = res\n            })\n        },\n        async onFileChange(e) {\n            // const file = e.target.files[0];\n            let input = e\n            if (input.size > 1024 * 1024) {\n                e.preventDefault();\n                alert('File too big (> 1MB)');\n                this.src = ''\n                this.imgFile = ''\n                this.$refs.fileupload.value = null;\n            } else {\n                // create a new FileReader to read this image and convert to base64 format\n                let reader = new FileReader()\n                // Define a callback function to run, when FileReader finishes its job\n                this.imgFile = reader.result\n                reader.onloadend = async (e) => {\n                    // Note: arrow function used here, so that \"this.imageData\" refers to the imageData of Vue component\n                    // Read image as base64 and set to imageData\n                    this.imgFile = e.target.result\n                    window.console.log(this.imgFile)\n                }\n                // Start the reader job - read file as a data url (base64 format)\n                reader.readAsBinaryString(input)\n                // this.url = input.files[0]\n                this.src = URL.createObjectURL(input)\n            }\n        },\n        async getCookieData() {\n            this.mInstitute = cookie\n            this.company = cookie\n            // const cookie = this.getCookie(\"banhji-token\");\n            // if (cookie !== \"\") {\n            //     let data = JSON.parse(cookie);\n            //     this.mInstitute = {\n            //         id: data.instituteId,\n            //         name: data.email,\n            //         email: data.email,\n            //         user: data.user,\n            //         plan: data.plan,\n            //         creator: data.creator,\n            //     };\n            // }\n            // window.console.log(this.mInstitute)\n        },\n        async loadInstituteInfo() {\n            new Promise(resolve => {\n                setTimeout(() => {\n                    instituteHandler.getOneCompany(this.mInstitute.id).then(res => {\n                        this.company = res\n                        this.src = res.imgProfile\n                    })\n                    resolve('resolved');\n                }, 200);\n            });\n        },\n\n    },\n    components: {},\n    computed: {\n        financialReportingStandards() {\n            if (this.company.financialReportingStandards) {\n                return this.company.financialReportingStandards\n            } else {\n                return {}\n            }\n        },\n        businessType() {\n            if (this.company.businessType) {\n                return this.company.businessType\n            } else {\n                return {}\n            }\n        },\n        sector() {\n            if (this.company.sector) {\n                return this.company.sector\n            } else {\n                return {}\n            }\n        }\n    }\n};\n</script>\n<style scoped>\ntable.acc_setting {\n    border: 1px solid #ccc;\n    width: 100%;\n    border-collapse: collapse;\n    margin-top: 10px;\n    color: #000;\n}\n\ntable.acc_setting tr td {\n    border: 1px solid #ccc;\n    padding: 8px;\n    vertical-align: middle;\n}\n\ntable.acc_setting tr td p.third {\n    margin-bottom: 0;\n    background-color: #2CA01C;\n    padding: 7px 15px;\n    color: #fff;\n    font-weight: 700;\n    text-align: center;\n}\n\ntable.acc_setting tr td p.text_bold {\n    font-weight: 700;\n    margin-bottom: 0;\n}\n\ntable.acc_setting tr td:first-child {\n    font-weight: 700;\n}\n\n.btn_edit {\n    background-color: #21abf6 !important;\n    text-transform: capitalize;\n}\n\n.function_footer {\n    padding: 15px;\n    display: inline-block;\n}\n\n.v-card__actions .v-btn.v-btn {\n    padding: 0 16px;\n}\n\n@media (max-width: 576px) {\n\n}\n</style>\n"]}]}