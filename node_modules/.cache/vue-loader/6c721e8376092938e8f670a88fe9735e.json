{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/accounting/account/ChartOfAccount.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/src/views/accounting/account/ChartOfAccount.vue","mtime":1641785918959},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-commerce/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBrZW5kbyBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tdWknOwppbXBvcnQge2kxOG59IGZyb20gJ0AvaTE4bic7Ci8vIGltcG9ydCBIZWxwZXIgZnJvbSAiQC9oZWxwZXIuanMiOwovKiBUcmVlTGlzdCAqLwppbXBvcnQgeyBUcmVlTGlzdCB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby10cmVlbGlzdC12dWUtd3JhcHBlcic7CmltcG9ydCB7IFRyZWVMaXN0RGF0YVNvdXJjZSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kYXRhc291cmNlLXZ1ZS13cmFwcGVyJzsKCmltcG9ydCBKU1ppcCBmcm9tICJqc3ppcCI7CndpbmRvdy5KU1ppcCA9IEpTWmlwOwoKaW1wb3J0IEFjY291bnRNb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQWNjb3VudC5qcyI7CmltcG9ydCBBY2NvdW50aW5nUmVwb3J0VHJlZUxpc3RNb2RlbCBmcm9tICJAL3NjcmlwdHMvbW9kZWwvQWNjb3VudGluZ1JlcG9ydFRyZWVMaXN0IjsKLy8gaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwoKY29uc3QgeyB0cmlhbEJhbGFuY2VIYW5kbGVyIH0gPSByZXF1aXJlKCJAL3NjcmlwdHMvQXBwSGFuZGxlcnMiKTsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICAiTG9hZGluZ01lIjogKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvTG9hZGluZycpLAogICAgICAgICd0cmVlbGlzdCc6IFRyZWVMaXN0LAogICAgICAgICd0cmVlbGlzdGRhdGFzb3VyY2UnOiBUcmVlTGlzdERhdGFTb3VyY2UsCiAgICB9LAogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICAvLyBPYmoKICAgICAgICBjb2E6IFtdLAogICAgICAgIGNvYUxpc3Q6IFtdLAogICAgICAgIC8vIExvYWRpbmdNZQogICAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSwKICAgICAgICAvKiBLRU5ETyAqLwogICAgICAgIGNvbHVtbnM6IFtdLAogICAgICAgIHNvcnREZWZpbml0aW9uIDogWwogICAgICAgICAgICB7IGZpZWxkOiAiYWNjb3VudC50eXBlX2NvZGUiLCBkaXI6ICJhc2MiIH0sCiAgICAgICAgICAgIHsgZmllbGQ6ICJudW1iZXIiLCBkaXI6ICJhc2MiIH0sCiAgICAgICAgXSwKICAgICAgICBtb2RlbDogewogICAgICAgICAgICBpZDogInV1aWQiLAogICAgICAgICAgICBleHBhbmRlZDogdHJ1ZQogICAgICAgIH0sCiAgICB9KSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBvbkNsaWNrU2VhcmNoKCl7CiAgICAgICAgICAgIC8qIENsZWFyICovCiAgICAgICAgICAgIC8vIHN0b3JlLnN0YXRlLmFjY291bnRpbmcuYWNjb3VudExvYWRlZCA9IGZhbHNlOwoKICAgICAgICAgICAgLy8gRW1wdHkgZGF0YVNvdXJjZQogICAgICAgICAgICBsZXQgZHMgPSB0aGlzLiRyZWZzLmNvYURTLmtlbmRvV2lkZ2V0KCk7CiAgICAgICAgICAgIGRzLmRhdGEoW10pOwoKICAgICAgICAgICAgdGhpcy5zZWFyY2goKTsKICAgICAgICB9LAogICAgICAgIC8vIFNlYXJjaAogICAgICAgIHNlYXJjaCgpewogICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgdHJpYWxCYWxhbmNlSGFuZGxlci5nZXRUcmlhbEJhbGFuY2UoewogICAgICAgICAgICAgICAgcGFyYW1zIDogewogICAgICAgICAgICAgICAgICAgIGFzX29mX2RhdGU6IGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKCksICd5eXl5LU1NLWRkJykgKyAnVDIzOjU5OjU5Ljk5OVonLAogICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfMF9iYWxhbmNlOiB0cnVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKChyZXMpPT57CiAgICAgICAgICAgICAgICBpZihyZXMpewogICAgICAgICAgICAgICAgICAgIHRoaXMuY29hID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kRGF0YSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIC8qIEJpbmQgRGF0YSAqLwogICAgICAgIGFzeW5jIGJpbmREYXRhKCkgewogICAgICAgICAgICBsZXQgZyA9IHt9LCBjaGlsZElkcyA9IFtdOwoKICAgICAgICAgICAgLyogQ2FsbCBhY2NvdW50IGxpc3QgKi8KICAgICAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2FjY291bnRpbmcvZ2V0QWNjb3VudHMnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIEJhbGFuY2UgU2hlZXQgKi8KICAgICAgICAgICAgdGhpcy5jb2EudGJkZXRhaWxzLmZvckVhY2godmFsdWUgPT4gewogICAgICAgICAgICAgICAgbGV0IGFjY291bnQgPSBuZXcgQWNjb3VudE1vZGVsKHZhbHVlLmFjY291bnQpOwogICAgICAgICAgICAgICAgaWYoYWNjb3VudC5pc19zZWNvbmRhcnkgPT09IDApey8qIEZpbHRlciBQcmltYXJ5IEFjY291bnQgT25seSAqLwogICAgICAgICAgICAgICAgICAgIC8qIEdST1VQSU5HICovCiAgICAgICAgICAgICAgICAgICAgLyogVG9wIExldmVsIEFjY291bnQgVHlwZSAqLwogICAgICAgICAgICAgICAgICAgIGlmKCFnW2FjY291bnQudHlwZV9jb2RlXSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGdbYWNjb3VudC50eXBlX2NvZGVdID0gbmV3IEFjY291bnRpbmdSZXBvcnRUcmVlTGlzdE1vZGVsKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQgOiBhY2NvdW50LnR5cGVfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlciA6IGFjY291bnQudHlwZV9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA6IGFjY291bnQuYWNjb3VudF90eXBlLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbF9uYW1lIDogYWNjb3VudC5hY2NvdW50X3R5cGUubG9jYWxfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnQgOiBhY2NvdW50LmFjY291bnRfdHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvKiBQYXJlbnQgTGV2ZWwgKi8KICAgICAgICAgICAgICAgICAgICBsZXQgdGhpc0FjY291bnRQYXJlbnRJZCA9ICIiOwogICAgICAgICAgICAgICAgICAgIGlmKGFjY291bnQuaGFzT3duUHJvcGVydHkoInBhcmVudF9hY2NvdW50IikpewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudFBhcmVudEFjY291bnQgPSBuZXcgQWNjb3VudE1vZGVsKGFjY291bnQucGFyZW50X2FjY291bnQpLCBjb3VudGVyID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnRQYXJlbnRBY2NvdW50Lm51bWJlciAhPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEdldCBhY2NvdW50IGJ5IHV1aWQgb3IgYmFuaGppX2FjY291bnRfbnVtYmVyICovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWNjb3VudFBhcmVudCA9IG5ldyBBY2NvdW50TW9kZWwoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGN1cnJlbnRQYXJlbnRBY2NvdW50LnV1aWQgIT09ICIiKXsvKiBHZXQgYnkgdXVpZCAqLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRQYXJlbnQgPSBuZXcgQWNjb3VudE1vZGVsKHRoaXMuYWNjb3VudHMuZmluZCgoaXRlbSkgPT4gaXRlbS51dWlkID09PSBjdXJyZW50UGFyZW50QWNjb3VudC51dWlkKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvKiBHZXQgYnkgYmFuaGppX2FjY291bnRfbnVtYmVyIGJlY2F1c2UgZGVmYXVsdCBkYXRhIGhhcyBubyB1dWlkICovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudFBhcmVudEFjY291bnQuYmFuaGppX2FjY291bnRfbnVtYmVyICE9PSAiIil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRQYXJlbnQgPSBuZXcgQWNjb3VudE1vZGVsKHRoaXMuYWNjb3VudHMuZmluZCgoaXRlbSkgPT4gaXRlbS5iYW5oamlfYWNjb3VudF9udW1iZXIgPT09IGN1cnJlbnRQYXJlbnRBY2NvdW50LmJhbmhqaV9hY2NvdW50X251bWJlcikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBTZXQgVGhpcyBBY2NvdW50IFBhcmVudCBJZCAqLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY291bnRlciA9PT0gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0FjY291bnRQYXJlbnRJZCA9IGFjY291bnRQYXJlbnQudXVpZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBGaW5kIE5leHQgUGFyZW50ICovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFBhcmVudCA9IG5ldyBBY2NvdW50TW9kZWwoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGFjY291bnRQYXJlbnQuaGFzT3duUHJvcGVydHkoInBhcmVudF9hY2NvdW50IikpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnRPZkFjY291bnRQYXJlbnQgPSBuZXcgQWNjb3VudE1vZGVsKGFjY291bnRQYXJlbnQucGFyZW50X2FjY291bnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHBhcmVudE9mQWNjb3VudFBhcmVudC5udW1iZXIgIT09ICIiKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocGFyZW50T2ZBY2NvdW50UGFyZW50LnV1aWQgIT09ICIiKXsvKiBHZXQgYnkgdXVpZCAqLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFBhcmVudCA9IHRoaXMuYWNjb3VudHMuZmluZCgoaXRlbSkgPT4gaXRlbS51dWlkID09PSBwYXJlbnRPZkFjY291bnRQYXJlbnQudXVpZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNley8qIEdldCBieSBiYW5oamlfYWNjb3VudF9udW1iZXIgYmVjYXVzZSBkZWZhdWx0IGRhdGEgaGFzIG5vIHV1aWQgKi8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHBhcmVudE9mQWNjb3VudFBhcmVudC5iYW5oamlfYWNjb3VudF9udW1iZXIgIT09ICIiKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0UGFyZW50ID0gdGhpcy5hY2NvdW50cy5maW5kKChpdGVtKSA9PiBpdGVtLmJhbmhqaV9hY2NvdW50X251bWJlciA9PT0gcGFyZW50T2ZBY2NvdW50UGFyZW50LmJhbmhqaV9hY2NvdW50X251bWJlcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIFNldCBQYXJlbnQgSWQgKi8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnRJZCA9IGFjY291bnRQYXJlbnQudHlwZV9jb2RlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobmV4dFBhcmVudC5udW1iZXIgIT09ICIiKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRJZCA9IG5leHRQYXJlbnQudXVpZDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogU2V0IG5leHQgcGFyZW50IGFjY291bnQgKi8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGN1cnJlbnRQYXJlbnRBY2NvdW50LCBuZXh0UGFyZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIFNldCBsb29wIHRvIGVuZCAqLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnRBY2NvdW50Lm51bWJlciA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEFkZCBQYXJlbnQgTGV2ZWwgKi8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFnW2FjY291bnRQYXJlbnQudXVpZF0pewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdbYWNjb3VudFBhcmVudC51dWlkXSA9IG5ldyBBY2NvdW50aW5nUmVwb3J0VHJlZUxpc3RNb2RlbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQgOiBhY2NvdW50UGFyZW50LnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlciA6IGFjY291bnRQYXJlbnQubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lIDogYWNjb3VudFBhcmVudC5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbF9uYW1lIDogYWNjb3VudFBhcmVudC5sb2NhbF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRJZCA6IHBhcmVudElkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50IDogYWNjb3VudFBhcmVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogSW5jcmVhc2UgQ291bnRlciBCeSAxICovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudGVyKys7CiAgICAgICAgICAgICAgICAgICAgICAgIH0vKiBFbmQgV2hpbGUgTG9vcCAqLwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvKiBBY2NvdW50IE5hdHVyZSAqLwogICAgICAgICAgICAgICAgICAgIGxldCBiYWxhbmNlID0gdmFsdWUuYmFsYW5jZTsKICAgICAgICAgICAgICAgICAgICBpZihhY2NvdW50LmFjY291bnRfdHlwZS5uYXR1cmUudG9Mb3dlckNhc2UoKSA9PT0gImNyIil7CiAgICAgICAgICAgICAgICAgICAgICAgIGJhbGFuY2UgKj0gLTE7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvKiBDaGlsZCBMZXZlbCAqLwogICAgICAgICAgICAgICAgICAgIGlmKCFnW2FjY291bnQudXVpZF0pewogICAgICAgICAgICAgICAgICAgICAgICBnW2FjY291bnQudXVpZF0gPSBuZXcgQWNjb3VudGluZ1JlcG9ydFRyZWVMaXN0TW9kZWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZCA6IGFjY291bnQudXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlciA6IGFjY291bnQubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA6IGFjY291bnQubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWUgOiBhY2NvdW50LmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50IDogYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbGFuY2UgOiBiYWxhbmNlLAogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8qIFNldCBQYXJlbnQgSWQgT3IgU2VsZiBQYXJlbnQgKi8KICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGRJZCA9IGFjY291bnQudXVpZDsKICAgICAgICAgICAgICAgICAgICBpZih0aGlzQWNjb3VudFBhcmVudElkICE9PSAiIil7LyogQ2hpbGQgTGV2ZWwgKi8KICAgICAgICAgICAgICAgICAgICAgICAgZ1thY2NvdW50LnV1aWRdLnBhcmVudElkID0gdGhpc0FjY291bnRQYXJlbnRJZDsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvKiBDaGlsZCBBcyBQYXJlbnQgKi8KICAgICAgICAgICAgICAgICAgICAgICAgZ1thY2NvdW50LnV1aWRdLnBhcmVudElkID0gYWNjb3VudC50eXBlX2NvZGU7IC8qIFNlbGYgQXMgUGFyZW50ICovCgogICAgICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZS5iYWxhbmNlICE9PSAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdbYWNjb3VudC51dWlkXS5iYWxhbmNlID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkSWQgPSBhY2NvdW50Lm51bWJlcjsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBTZWxmIEFzIENoaWxkIFdpdGggQmFsYW5jZSAqLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWdbYWNjb3VudC5udW1iZXJdKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnW2FjY291bnQubnVtYmVyXSA9IG5ldyBBY2NvdW50aW5nUmVwb3J0VHJlZUxpc3RNb2RlbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQgOiBhY2NvdW50Lm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyIDogYWNjb3VudC5udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgOiBhY2NvdW50Lm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsX25hbWUgOiBhY2NvdW50LmxvY2FsX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudElkIDogYWNjb3VudC51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50IDogYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFsYW5jZSA6IGJhbGFuY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8qIENoaWxkIElkICovCiAgICAgICAgICAgICAgICAgICAgY2hpbGRJZHMucHVzaChjaGlsZElkKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBQYXJzZSBPYmplY3QgQXJyYXkgKi8KICAgICAgICAgICAgbGV0IGVudHJpZXMgPSBPYmplY3QudmFsdWVzKGcpOwoKICAgICAgICAgICAgLyogUGFyZW50IGFnZ3JlZ2F0ZSBzdW0gKi8KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBsZXQgZW50cnkgPSBlbnRyaWVzW2ldOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZih+Y2hpbGRJZHMuaW5kZXhPZihlbnRyeS51dWlkKSl7CiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmVudElkID0gZW50cnkucGFyZW50SWQ7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUocGFyZW50SWQgIT09IG51bGwpewogICAgICAgICAgICAgICAgICAgICAgICBpZihwYXJlbnRJZCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gZW50cmllcy5maW5kKChpdGVtKSA9PiBpdGVtLnV1aWQgPT09IHBhcmVudElkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHBhcmVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmJhbGFuY2UgKz0gZW50cnkuYmFsYW5jZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBTZXQgbmV3IHBhcmVudCBpZCAqLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudElkID0gcGFyZW50LnBhcmVudElkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogU2V0IGxvb3AgdG8gZW5kICovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50SWQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIFNldCBsb29wIHRvIGVuZCAqLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50SWQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBCSU5EIEFDQ09VTlRTICovCiAgICAgICAgICAgIHRoaXMuY29hTGlzdCA9IGVudHJpZXM7CiAgICAgICAgICAgIAogICAgICAgICAgICB0aGlzLmdlbmVyYXRlQ29sdW1uKCk7CgogICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSwKICAgICAgICAvLyBSb3cgVGVtcGxhdGUKICAgICAgICBuYW1lVG1wbChkYXRhSXRlbSl7CiAgICAgICAgICAgIC8qIE5hbWUgaW4gbGFuZ3VhZ2UgKi8KICAgICAgICAgICAgbGV0IG5hbWUgPSBkYXRhSXRlbS5uYW1lOwogICAgICAgICAgICBpZih0aGlzLnJlcG9ydGluZ0xhbmd1YWdlID09PSAibG9jYWwiKXsKICAgICAgICAgICAgICAgIG5hbWUgPSBkYXRhSXRlbS5sb2NhbF9uYW1lOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvKiBEZWZpbmUgcmVzdWx0ICovCiAgICAgICAgICAgIGxldCByZXN1bHQgPSBgPHNwYW4+JHtkYXRhSXRlbS5udW1iZXJ9IC0gJHtuYW1lfTwvc3Bhbj5gOwoKICAgICAgICAgICAgLyogVG9wIExldmVsICovCiAgICAgICAgICAgIGlmKGRhdGFJdGVtLnBhcmVudElkID09PSBudWxsKXsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGA8c3BhbiBzdHlsZT0nZm9udC13ZWlnaHQ6IGJvbGRlcjsnPiR7bmFtZX08L3NwYW4+YDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLyogUGFyZW50IExldmVsICovCiAgICAgICAgICAgIGlmKGRhdGFJdGVtLmhhc0NoaWxkcmVuICYmIGRhdGFJdGVtLm51bWJlci5sZW5ndGggPiAzKXsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGA8c3BhbiBzdHlsZT0nZm9udC13ZWlnaHQ6IGJvbGRlcjsnPiR7ZGF0YUl0ZW0ubnVtYmVyfSAtICR7bmFtZX08L3NwYW4+YDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9LAogICAgICAgIC8qIE9uIGRhdGFib3VuZCAqLwogICAgICAgIG9uRGF0YUJvdW5kIChlKSB7CiAgICAgICAgICAgIHZhciBoZWFkZXJzID0gZS5zZW5kZXIudGhlYWQuY2hpbGRyZW4oKTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWFkZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgdGggPSBrZW5kby5qUXVlcnkoaGVhZGVyc1tpXSk7CiAgICAgICAgICAgICAgICB0aC5jc3MoImZvbnQtd2VpZ2h0IiwgImJvbGQiKTsKICAgICAgICAgICAgICAgIHRoLmNzcygidGV4dC1hbGlnbiIsICJjZW50ZXIiKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHJvd3MgPSBlLnNlbmRlci50Ym9keS5jaGlsZHJlbigpOwogICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJvd3MubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgIHZhciByb3cgPSBrZW5kby5qUXVlcnkocm93c1tqXSk7CiAgICAgICAgICAgICAgICB2YXIgZGF0YUl0ZW0gPSBlLnNlbmRlci5kYXRhSXRlbShyb3cpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvKiBBbW91bnQgYWxpZ24gcmlnaHQgKi8KICAgICAgICAgICAgICAgIC8vIHJvdy5jc3MoInRleHQtYWxpZ24iLCAicmlnaHQiKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLyogUGFyZW50IGluIGJvbGQgKi8KICAgICAgICAgICAgICAgIGlmKGRhdGFJdGVtLmdldCgiaGFzQ2hpbGRyZW4iKSB8fCBkYXRhSXRlbS5nZXQoInBhcmVudElkIikgPT09IG51bGwpewogICAgICAgICAgICAgICAgICAgIHJvdy5jc3MoImZvbnQtd2VpZ2h0IiwgImJvbGQiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZ2VuZXJhdGVDb2x1bW4oKSB7CiAgICAgICAgICAgIGxldCBoZWFkZXJBdHRyaWJ1dGVzID0gewogICAgICAgICAgICAgICAgY2xhc3M6ICJ0YWJsZS1oZWFkZXItY2VsbCIsCiAgICAgICAgICAgICAgICBzdHlsZTogImZvbnQtd2VpZ2h0OiBib2xkO3RleHQtYWxpZ246IGNlbnRlcjtwYWRkaW5nLXJpZ2h0OiAzNXB4OyBmb250LXNpemU6IDE0cHgiLAogICAgICAgICAgICB9LAogICAgICAgICAgICBhdHRyaWJ1dGVzID0gewogICAgICAgICAgICAgICAgY2xhc3M6ICJ0YWJsZS1jZWxsIiwKICAgICAgICAgICAgICAgIHN0eWxlOiAidGV4dC1hbGlnbjogcmlnaHQ7IGZvbnQtc2l6ZTogMTRweCIsCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBsZXQgY29sdW1ucyA9IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBmaWVsZDogIm5hbWUiLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpMThuLnQoImFjY291bnQiKSwKICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy5uYW1lVG1wbCwKICAgICAgICAgICAgICAgICAgICB3aWR0aDogMzAwLAogICAgICAgICAgICAgICAgICAgIGhlYWRlckF0dHJpYnV0ZXM6IGhlYWRlckF0dHJpYnV0ZXMsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGZpZWxkOiAiYWNjb3VudC5sb2NhbF9uYW1lIiwKICAgICAgICAgICAgICAgICAgICB0aXRsZTogaTE4bi50KCJsb2NhbF9uYW1lIiksCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDMwMCwKICAgICAgICAgICAgICAgICAgICBoaWRkZW46IHRydWUsCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyQXR0cmlidXRlczogaGVhZGVyQXR0cmlidXRlcywKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgZmllbGQ6ICJhY2NvdW50LmFjY291bnRfdHlwZS5uYW1lIiwKICAgICAgICAgICAgICAgICAgICB0aXRsZTogaTE4bi50KCJ0eXBlIiksCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDIwMCwKICAgICAgICAgICAgICAgICAgICBoZWFkZXJBdHRyaWJ1dGVzOiBoZWFkZXJBdHRyaWJ1dGVzLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBmaWVsZDogImFjY291bnQuYWNjb3VudF9ncm91cC5uYW1lIiwKICAgICAgICAgICAgICAgICAgICB0aXRsZTogaTE4bi50KCJncm91cCIpLAogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyMDAsCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyQXR0cmlidXRlczogaGVhZGVyQXR0cmlidXRlcywKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgZmllbGQ6ICJiYWxhbmNlIiwKICAgICAgICAgICAgICAgICAgICB0aXRsZTogaTE4bi50KCJiYWxhbmNlIiksCiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAiezA6bn0iLAogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAsCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyQXR0cmlidXRlczogaGVhZGVyQXR0cmlidXRlcywKICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIFNldCBBbGwgQ29sdW1ucyAqLwogICAgICAgICAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zOwogICAgICAgIH0sCiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICBhY2NvdW50czogIm9uQ2xpY2tTZWFyY2giCiAgICB9LAogICAgY29tcHV0ZWQ6IG1hcFN0YXRlKHsKICAgICAgICBhY2NvdW50czogc3RhdGUgPT4gc3RhdGUuYWNjb3VudGluZy5hY2NvdW50cwogICAgfSksCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICB9LAp9Owo="},{"version":3,"sources":["ChartOfAccount.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ChartOfAccount.vue","sourceRoot":"src/views/accounting/account","sourcesContent":["<template>\n    <v-row>\n        <v-col sm=\"12\" cols=\"12\" class=\"pt-0\">\n            <v-card color=\"white\" class=\"no_border\" elevation=\"0\">\n                <v-row>\n                    <v-col sm=\"10\" cols=\"12\">\n                        <h2 class=\"mb-0 font_20\">{{ $t(\"chart_of_accounts\") }}</h2>\n                        <p class=\"mb-4\">{{$t('chart_of_accounts_desc2')}}</p>\n                    </v-col>\n                    <v-col sm=\"2\" cols=\"12\">\n                        <v-btn color=\"primary\" class=\"float-right\">\n                            <v-icon @click=\"onClickSearch\" size=\"30\" color=\"white\">mdi-reload</v-icon>\n                        </v-btn>\n                    </v-col>\n                </v-row>\n\n                <v-row>\n                    <v-col sm=\"12\" cols=\"12\" class=\"py-0\">\n                        <template>\n                            <treelistdatasource \n                                ref=\"coaDS\"\n                                :data=\"coaList\"\n                                :sort=\"sortDefinition\"\n                                :schema-model=\"model\" />\n\n                            <treelist \n                                ref=\"coaTreeList\"\n                                data-source-ref=\"coaDS\"\n                                :resizable=\"true\"\n                                :column-menu=\"true\"\n                                :columns=\"columns\"\n                                :toolbar=\"['excel']\"\n\t\t\t\t\t\t\t\t:excel-file-name=\"'Chart of accounts.xlsx'\"\n\t\t\t\t\t\t\t\t:excel-filterable=\"true\"\n\t\t\t\t\t\t\t\t:excel-all-pages=\"true\"\n                                :dataBound=\"onDataBound\" />\n                        </template>\n                        <LoadingMe \n\t\t\t\t\t\t\t:isLoading =\"showLoading\" \n\t\t\t\t\t\t\t:fullPage  =\"false\" \n\t\t\t\t\t\t\t:myLoading =\"true\"\n                            type=\"loading\"/>\n\n                    </v-col>\n                </v-row>\n            </v-card>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\n    import kendo from '@progress/kendo-ui';\n    import {i18n} from '@/i18n';\n    // import Helper from \"@/helper.js\";\n    /* TreeList */\n    import { TreeList } from '@progress/kendo-treelist-vue-wrapper';\n    import { TreeListDataSource } from '@progress/kendo-datasource-vue-wrapper';\n\n    import JSZip from \"jszip\";\n    window.JSZip = JSZip;\n    \n    import AccountModel from \"@/scripts/model/Account.js\";\n    import AccountingReportTreeListModel from \"@/scripts/model/AccountingReportTreeList\";\n    // import store from \"@/store\";\n    import { mapState } from 'vuex';\n\n    const { trialBalanceHandler } = require(\"@/scripts/AppHandlers\");\n\n    export default {\n        components: {\n            \"LoadingMe\": () => import('@/components/Loading'),\n            'treelist': TreeList,\n            'treelistdatasource': TreeListDataSource,\n        },\n        data: () => ({\n            // Obj\n            coa: [],\n            coaList: [],\n            // LoadingMe\n            showLoading: false,\n            /* KENDO */\n            columns: [],\n            sortDefinition : [\n                { field: \"account.type_code\", dir: \"asc\" },\n                { field: \"number\", dir: \"asc\" },\n            ],\n            model: {\n                id: \"uuid\",\n                expanded: true\n            },\n        }),\n        methods: {\n            onClickSearch(){\n                /* Clear */\n                // store.state.accounting.accountLoaded = false;\n\n                // Empty dataSource\n                let ds = this.$refs.coaDS.kendoWidget();\n                ds.data([]);\n\n                this.search();\n            },\n            // Search\n            search(){\n                this.showLoading = true;\n                trialBalanceHandler.getTrialBalance({\n                    params : {\n                        as_of_date: kendo.toString(new Date(), 'yyyy-MM-dd') + 'T23:59:59.999Z',\n                        include_0_balance: true\n                    }\n                })\n                .then((res)=>{\n                    if(res){\n                        this.coa = res.data;\n                        this.bindData();\n                    }\n                });\n            },\n            /* Bind Data */\n            async bindData() {\n                let g = {}, childIds = [];\n\n                /* Call account list */\n                await this.$store.dispatch('accounting/getAccounts');\n                \n                /* Balance Sheet */\n                this.coa.tbdetails.forEach(value => {\n                    let account = new AccountModel(value.account);\n                    if(account.is_secondary === 0){/* Filter Primary Account Only */\n                        /* GROUPING */\n                        /* Top Level Account Type */\n                        if(!g[account.type_code]){\n                            g[account.type_code] = new AccountingReportTreeListModel({\n                                uuid : account.type_code,\n                                number : account.type_code,\n                                name : account.account_type.name,\n                                local_name : account.account_type.local_name,\n                                account : account.account_type,\n                            });\n                        }\n\n                        /* Parent Level */\n                        let thisAccountParentId = \"\";\n                        if(account.hasOwnProperty(\"parent_account\")){\n                            let currentParentAccount = new AccountModel(account.parent_account), counter = 0;\n                            while (currentParentAccount.number !== \"\") {\n                                /* Get account by uuid or banhji_account_number */\n                                let accountParent = new AccountModel();\n                                if(currentParentAccount.uuid !== \"\"){/* Get by uuid */\n                                    accountParent = new AccountModel(this.accounts.find((item) => item.uuid === currentParentAccount.uuid));\n                                }else{/* Get by banhji_account_number because default data has no uuid */\n                                    if(currentParentAccount.banhji_account_number !== \"\"){\n                                        accountParent = new AccountModel(this.accounts.find((item) => item.banhji_account_number === currentParentAccount.banhji_account_number));\n                                    }\n                                }\n\n                                /* Set This Account Parent Id */\n                                if(counter === 0){\n                                    thisAccountParentId = accountParent.uuid;\n                                }\n\n                                /* Find Next Parent */\n                                let nextParent = new AccountModel();\n                                if(accountParent.hasOwnProperty(\"parent_account\")){\n                                    let parentOfAccountParent = new AccountModel(accountParent.parent_account);\n                                    if(parentOfAccountParent.number !== \"\"){\n                                        if(parentOfAccountParent.uuid !== \"\"){/* Get by uuid */\n                                            nextParent = this.accounts.find((item) => item.uuid === parentOfAccountParent.uuid);\n                                        }else{/* Get by banhji_account_number because default data has no uuid */\n                                            if(parentOfAccountParent.banhji_account_number !== \"\"){\n                                                nextParent = this.accounts.find((item) => item.banhji_account_number === parentOfAccountParent.banhji_account_number);\n                                            }\n                                        }\n                                    }\n                                }\n                                \n                                /* Set Parent Id */\n                                let parentId = accountParent.type_code;\n                                if(nextParent.number !== \"\"){\n                                    parentId = nextParent.uuid;\n\n                                    /* Set next parent account */\n                                    Object.assign(currentParentAccount, nextParent);\n                                }else{\n                                    /* Set loop to end */\n                                    currentParentAccount.number = \"\";\n                                }\n\n                                /* Add Parent Level */\n                                if(!g[accountParent.uuid]){\n                                    g[accountParent.uuid] = new AccountingReportTreeListModel({\n                                        uuid : accountParent.uuid,\n                                        number : accountParent.number,\n                                        name : accountParent.name,\n                                        local_name : accountParent.local_name,\n                                        parentId : parentId,\n                                        account : accountParent,\n                                    });\n                                }\n                                \n                                /* Increase Counter By 1 */\n                                counter++;\n                            }/* End While Loop */\n                        }\n                        \n                        /* Account Nature */\n                        let balance = value.balance;\n                        if(account.account_type.nature.toLowerCase() === \"cr\"){\n                            balance *= -1;\n                        }\n\n                        /* Child Level */\n                        if(!g[account.uuid]){\n                            g[account.uuid] = new AccountingReportTreeListModel({\n                                uuid : account.uuid,\n                                number : account.number,\n                                name : account.name,\n                                local_name : account.local_name,\n                                account : account,\n                                balance : balance,\n                            });\n                        }\n\n                        /* Set Parent Id Or Self Parent */\n                        let childId = account.uuid;\n                        if(thisAccountParentId !== \"\"){/* Child Level */\n                            g[account.uuid].parentId = thisAccountParentId;\n                        }else{/* Child As Parent */\n                            g[account.uuid].parentId = account.type_code; /* Self As Parent */\n\n                            if(value.balance !== 0){\n                                g[account.uuid].balance = 0;\n                                childId = account.number;\n\n                                /* Self As Child With Balance */\n                                if(!g[account.number]){\n                                    g[account.number] = new AccountingReportTreeListModel({\n                                        uuid : account.number,\n                                        number : account.number,\n                                        name : account.name,\n                                        local_name : account.local_name,\n                                        parentId : account.uuid,\n                                        account : account,\n                                        balance : balance,\n                                    });\n                                }\n                            }\n                        }\n\n                        /* Child Id */\n                        childIds.push(childId);\n                    }\n                });\n                \n                /* Parse Object Array */\n                let entries = Object.values(g);\n\n                /* Parent aggregate sum */\n                for (let i = 0; i < entries.length; i++) {\n                    let entry = entries[i];\n                    \n                    if(~childIds.indexOf(entry.uuid)){\n                        let parentId = entry.parentId;\n                        while(parentId !== null){\n                            if(parentId){\n                                let parent = entries.find((item) => item.uuid === parentId);\n                                if(parent){\n                                    parent.balance += entry.balance;\n                                    \n                                    /* Set new parent id */\n                                    parentId = parent.parentId;\n                                }else{\n                                    /* Set loop to end */\n                                    parentId = null;\n                                }\n                            }else{\n                                /* Set loop to end */\n                                parentId = null;\n                            }\n                        }\n                    }\n                }\n                \n                /* BIND ACCOUNTS */\n                this.coaList = entries;\n                \n                this.generateColumn();\n\n                this.showLoading = false;\n            },\n            // Row Template\n            nameTmpl(dataItem){\n                /* Name in language */\n                let name = dataItem.name;\n                if(this.reportingLanguage === \"local\"){\n                    name = dataItem.local_name;\n                }\n\n                /* Define result */\n                let result = `<span>${dataItem.number} - ${name}</span>`;\n\n                /* Top Level */\n                if(dataItem.parentId === null){\n                    result = `<span style='font-weight: bolder;'>${name}</span>`;\n                }\n\n                /* Parent Level */\n                if(dataItem.hasChildren && dataItem.number.length > 3){\n                    result = `<span style='font-weight: bolder;'>${dataItem.number} - ${name}</span>`;\n                }\n\n                return result;\n            },\n            /* On databound */\n            onDataBound (e) {\n                var headers = e.sender.thead.children();\n                for (var i = 0; i < headers.length; i++) {\n                    var th = kendo.jQuery(headers[i]);\n                    th.css(\"font-weight\", \"bold\");\n                    th.css(\"text-align\", \"center\");\n                }\n\n                var rows = e.sender.tbody.children();\n                for (var j = 0; j < rows.length; j++) {\n                    var row = kendo.jQuery(rows[j]);\n                    var dataItem = e.sender.dataItem(row);\n                    \n                    /* Amount align right */\n                    // row.css(\"text-align\", \"right\");\n                    \n                    /* Parent in bold */\n                    if(dataItem.get(\"hasChildren\") || dataItem.get(\"parentId\") === null){\n                        row.css(\"font-weight\", \"bold\");\n                    }\n                }\n            },\n            generateColumn() {\n                let headerAttributes = {\n                    class: \"table-header-cell\",\n                    style: \"font-weight: bold;text-align: center;padding-right: 35px; font-size: 14px\",\n                },\n                attributes = {\n                    class: \"table-cell\",\n                    style: \"text-align: right; font-size: 14px\",\n                };\n\n                let columns = [\n                    {\n                        field: \"name\",\n                        title: i18n.t(\"account\"),\n                        template: this.nameTmpl,\n                        width: 300,\n                        headerAttributes: headerAttributes,\n                    },\n                    {\n                        field: \"account.local_name\",\n                        title: i18n.t(\"local_name\"),\n                        width: 300,\n                        hidden: true,\n                        headerAttributes: headerAttributes,\n                    },\n                    {\n                        field: \"account.account_type.name\",\n                        title: i18n.t(\"type\"),\n                        width: 200,\n                        headerAttributes: headerAttributes,\n                    },\n                    {\n                        field: \"account.account_group.name\",\n                        title: i18n.t(\"group\"),\n                        width: 200,\n                        headerAttributes: headerAttributes,\n                    },\n                    {\n                        field: \"balance\",\n                        title: i18n.t(\"balance\"),\n                        format: \"{0:n}\",\n                        width: 100,\n                        headerAttributes: headerAttributes,\n                        attributes: attributes,\n                    },\n                ];\n                \n                /* Set All Columns */\n                this.columns = columns;\n            },\n        },\n        watch: {\n            accounts: \"onClickSearch\"\n        },\n        computed: mapState({\n            accounts: state => state.accounting.accounts\n        }),\n        mounted() {\n            this.search();\n        },\n    };\n</script>\n<style scoped>\n</style>"]}]}