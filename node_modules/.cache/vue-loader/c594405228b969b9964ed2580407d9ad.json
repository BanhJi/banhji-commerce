{"remainingRequest":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/suppliers/payables/payment_option/PaymentOption.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/src/views/suppliers/payables/payment_option/PaymentOption.vue","mtime":1638499443354},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macos/Desktop/banhji-0.2/banhji-accounting-web-module/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYXltZW50T3B0aW9uTW9kZWwgZnJvbSAiQC9zY3JpcHRzL21vZGVsL1BheW1lbnRPcHRpb24iOwppbXBvcnQga2VuZG8gZnJvbSAiQHByb2dyZXNzL2tlbmRvLXVpIjsKCmNvbnN0IHBheW1lbnRPcHRpb25IYW5kbGVyID0gcmVxdWlyZSgiQC9zY3JpcHRzL3BheW1lbnRPcHRpb25IYW5kbGVyIik7CmNvbnN0IHtUWVBFX1NVUFBMSUVSfSA9IHJlcXVpcmUoIkAvc2NyaXB0cy9kZWZhdWx0X3NldHVwL1NldHRpbmciKTsKCmNvbnN0ICQgPSBrZW5kby5qUXVlcnkKLy8gY29uc3QgYWNjb3VudEhhbmRsZXIgPSByZXF1aXJlKCJAL3NjcmlwdHMvaGFuZGxlci9hY2NvdW50aW5nL2FjY291bnQiKQpjb25zdCBwYXltZW50T3B0aW9uTW9kZWwgPSBuZXcgUGF5bWVudE9wdGlvbk1vZGVsKHt9KTsKY29uc3QgT1BUSU9OX1RZUEUgPSBUWVBFX1NVUFBMSUVSOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTG9hZGluZ01lOiAoKSA9PiBpbXBvcnQoYEAvY29tcG9uZW50cy9Mb2FkaW5nYCksCiAgfSwKICBkYXRhOiAoKSA9PiAoewogICAgZGlhbG9nTTI6IGZhbHNlLAogICAgaXNIaWRlQmFuazogdHJ1ZSwKICAgIHNob3dMb2FkaW5nOiB0cnVlLAogICAgaXNMb2FkZWQ6IGZhbHNlLAogICAgcGF5bWVudE9wdGlvbnM6IFtdLAogICAgbUxvY2F0aW9uOiB7fSwKICAgIHBheW1lbnRPcHRpb246IHBheW1lbnRPcHRpb25Nb2RlbCwKICAgIHNjaGVtYURlZmluaXRpb246IHsKICAgICAgbW9kZWw6IHtpZDogImlkIn0sCiAgICB9LAogICAgYnRuRW5hYmxlOiBmYWxzZSwKICB9KSwKICBtb3VudGVkOiBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICBhd2FpdCB0aGlzLmxvYWRQYXltZW50T3B0aW9uKCk7CiAgICB0aGlzLmluaXRUb29sYmFyKHRoaXMpCiAgfSwKICBjcmVhdGVkKCkgewogIH0sCiAgbWV0aG9kczogewogICAgaW5pdFRvb2xiYXIodGhhdCkgewogICAgICBsZXQgZ3JpZCA9ICQoIiNncmlkUGF5bWVudE9wdGlvblZlbmRvciIpLmRhdGEoImtlbmRvR3JpZCIpOwogICAgICBsZXQgZ3JpZEVsZW1lbnQgPSBncmlkLmVsZW1lbnQ7CiAgICAgIGxldCB0b29sYmFyRWxlbWVudCA9IGdyaWRFbGVtZW50LmZpbmQoIi5rLWdyaWQtdG9vbGJhciIpOwogICAgICB0b29sYmFyRWxlbWVudC5vbigiY2xpY2siLCAiLmstcGFnZXItcmVmcmVzaCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIG9uUmVsb2FkRGF0YSh0aGF0KTsKICAgICAgfSk7CgogICAgICBmdW5jdGlvbiBvblJlbG9hZERhdGEodGhhdCkgewogICAgICAgIHRoYXQubG9hZFBheW1lbnRPcHRpb24oKTsKICAgICAgfQogICAgfSwKICAgIHRvb2xiYXJUZW1wbGF0ZTogZnVuY3Rpb24gKCkgewogICAgICBjb25zdCB0ZW1wbGF0ZUh0bWwgPQogICAgICAgICAgJzxzcGFuPicgKwogICAgICAgICAgJzxhIGNsYXNzPSJrLXBhZ2VyLXJlZnJlc2ggay1saW5rIGstYnV0dG9uIHJlbG9hZCIgdGl0bGU9IlJlZnJlc2giPjxzcGFuIGNsYXNzPSJrLWljb24gay1pLXJlbG9hZCI+PC9zcGFuPjwvYT4nICsKICAgICAgICAgICc8L3NwYW4+JyArCiAgICAgICAgICAnPHNwYW4gc3R5bGU9InBvc2l0aW9uOmFic29sdXRlOyByaWdodDo1cHgiPicgKwogICAgICAgICAgJzwvc3Bhbj4nOwogICAgICByZXR1cm4ga2VuZG8udGVtcGxhdGUodGVtcGxhdGVIdG1sKQogICAgfSwKICAgIGFjY291bnRUbXAoZGF0YUl0ZW0pIHsKICAgICAgaWYgKGRhdGFJdGVtLmhhc093blByb3BlcnR5KCJhY2NvdW50IikpIHsKICAgICAgICBpZiAoZGF0YUl0ZW0uYWNjb3VudC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgewogICAgICAgICAgcmV0dXJuIGRhdGFJdGVtLmFjY291bnQubmFtZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIG9uTmV3Q2xpY2soKSB7CiAgICAgIC8vIHRoaXMucGF5bWVudE9wdGlvbiA9IFtdCiAgICAgIC8vIHRoaXMubUJhbmsgPSBbXQogICAgICAvLyB0aGlzLmRpYWxvZ00yID0gdHJ1ZQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogInBheW1lbnRfb3B0aW9uX3ZlbmRvciIsCiAgICAgICAgbmFtZTogIlBheW1lbnQgT3B0aW9uIFZlbmRvciIsCiAgICAgICAgcGFyYW1zOiB7fSwKICAgICAgfSk7CiAgICB9LAogICAgY2xvc2UoKSB7CiAgICAgIHRoaXMuZGlhbG9nTTIgPSBmYWxzZTsKICAgIH0sCiAgICBnb0VkaXQoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGxldCBncmlkID0ga2VuZG8ualF1ZXJ5KCIjZ3JpZFBheW1lbnRPcHRpb25WZW5kb3IiKS5kYXRhKCJrZW5kb0dyaWQiKTsKICAgICAgbGV0IGRhdGFJdGVtID0gZ3JpZC5kYXRhSXRlbSgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgidHIiKSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAicGF5bWVudF9vcHRpb25fdmVuZG9yIiArIGAvJHtkYXRhSXRlbS5pZH1gLAogICAgICAgIG5hbWU6ICJQYXltZW50IE9wdGlvbiBWZW5kb3IiLAogICAgICAgIHBhcmFtczoge2lkOiBkYXRhSXRlbS5pZH0sCiAgICAgICAgcXVlcnk6IHt0eXBlOiAiZWRpdCJ9LAogICAgICB9KTsKICAgIH0sCiAgICByb3dOdW1iZXJUbXBsKGRhdGFJdGVtKSB7CiAgICAgIGxldCBkcyA9IHRoaXMuJHJlZnMucGF5bWVudE9wdGlvblZlbmRvckRTLmtlbmRvV2lkZ2V0KCksCiAgICAgICAgICBpbmRleCA9IGRzLmluZGV4T2YoZGF0YUl0ZW0pOwogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfSwKICAgIGFzeW5jIGxvYWRQYXltZW50T3B0aW9uKCkgewogICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsKICAgICAgICAgIHRoaXMucGF5bWVudE9wdGlvbnMgPSBbXTsKICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgcGF5bWVudE9wdGlvbkhhbmRsZXIKICAgICAgICAgICAgICAubGlzdCgiP29wdGlvblR5cGU9IiArIE9QVElPTl9UWVBFKQogICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB0aGlzLnBheW1lbnRPcHRpb25zID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pCiAgICAgICAgfSwgMTApOwogICAgICB9KTsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgJyRyb3V0ZSc6ICdsb2FkUGF5bWVudE9wdGlvbicKICB9Cn07Cg=="},{"version":3,"sources":["PaymentOption.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PaymentOption.vue","sourceRoot":"src/views/suppliers/payables/payment_option","sourcesContent":["<template>\n  <v-row>\n    <v-col sm=\"12\" cols=\"12\" class=\"grayBg px-6\">\n      <v-card color=\"white\" class=\"pa-3 no_border\" elevation=\"0\">\n        <v-row>\n          <v-col sm=\"10\" cols=\"10\" class=\"pt-0\">\n            <h2 class=\"mb-0 font_20\">{{ $t(\"payment_options\") }}</h2>\n\n            <p class=\"mb-0\">\n              {{ $t(\"payment_option_desc\") }}\n            </p>\n          </v-col>\n          <v-col sm=\"2\" cols=\"2\" class=\"pt-2\">\n            <v-btn\n                @click=\"onNewClick\"\n                color=\"primary\"\n                class=\" text-capitalize white--text float-right\">\n              {{ $t(\"create_new\") }}\n            </v-btn>\n          </v-col>\n          <v-col sm=\"12\" cols=\"12\">\n            <template>\n              <div v-if=\"!isLoaded\">\n                <LoadingMe\n                    :isLoading=\"showLoading\"\n                    :fullPage=\"false\"\n                    type=\"loading\"\n                    :myLoading=\"true\"\n                />\n              </div>\n              <kendo-datasource\n                  ref=\"paymentOptionVendorDS\"\n                  :data=\"paymentOptions\"\n                  :schema=\"schemaDefinition\"\n              />\n              <kendo-grid\n                  id=\"gridPaymentOptionVendor\"\n                  class=\"grid-function\"\n                  :data-source-ref=\"'paymentOptionVendorDS'\"\n                  :editable=\"false\"\n                  :toolbar=\"toolbarTemplate\"\n                  :scrollable-virtual=\"true\">\n                <kendo-grid-column\n                    :field=\"'no'\"\n                    :title=\"$t('no')\"\n                    :template=\"rowNumberTmpl\"\n                    :width=\"60\"\n                    :column-menu=\"false\"\n                    :headerAttributes=\"{\n                    style: 'background-color: #EDF1F5;',\n                    class: 'text-center',\n                  }\"\n                    :attributes=\"{ style: 'text-align: center' }\"\n                />\n                <kendo-grid-column\n                    :field=\"'code'\"\n                    :title=\"$t('code')\"\n                    :width=\"120\"\n                    :template=\"'<span>#=code#</span>'\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                />\n                <kendo-grid-column\n                    :field=\"'name'\"\n                    :attributes=\"{ class: 'tb_name_td' }\"\n                    :title=\"$t('name')\"\n                    :template=\"'<span>#=name#</span>'\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                />\n                <kendo-grid-column\n                    :field=\"'type'\"\n                    :title=\"$t('type')\"\n                    :width=\"160\"\n                    :template=\"'<span>#=type#</span>'\"\n                    :headerAttributes=\"{ style: 'background-color: #EDF1F5' }\"\n                />\n                <kendo-grid-column\n                    :field=\"''\"\n                    :title=\"''\"\n                    :width=\"63\"\n                    :command=\"[\n                    {\n                      iconClass: 'k-icon k-i-edit',\n                      text: ' ',\n                      click: goEdit,\n                    },\n                  ]\"\n                    :headerAttributes=\"{\n                    style: 'text-align: left; background-color: #EDF1F5',\n                  }\"\n                />\n              </kendo-grid>\n            </template>\n          </v-col>\n        </v-row>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport PaymentOptionModel from \"@/scripts/model/PaymentOption\";\nimport kendo from \"@progress/kendo-ui\";\n\nconst paymentOptionHandler = require(\"@/scripts/paymentOptionHandler\");\nconst {TYPE_SUPPLIER} = require(\"@/scripts/default_setup/Setting\");\n\nconst $ = kendo.jQuery\n// const accountHandler = require(\"@/scripts/handler/accounting/account\")\nconst paymentOptionModel = new PaymentOptionModel({});\nconst OPTION_TYPE = TYPE_SUPPLIER;\nexport default {\n  components: {\n    LoadingMe: () => import(`@/components/Loading`),\n  },\n  data: () => ({\n    dialogM2: false,\n    isHideBank: true,\n    showLoading: true,\n    isLoaded: false,\n    paymentOptions: [],\n    mLocation: {},\n    paymentOption: paymentOptionModel,\n    schemaDefinition: {\n      model: {id: \"id\"},\n    },\n    btnEnable: false,\n  }),\n  mounted: async function () {\n    await this.loadPaymentOption();\n    this.initToolbar(this)\n  },\n  created() {\n  },\n  methods: {\n    initToolbar(that) {\n      let grid = $(\"#gridPaymentOptionVendor\").data(\"kendoGrid\");\n      let gridElement = grid.element;\n      let toolbarElement = gridElement.find(\".k-grid-toolbar\");\n      toolbarElement.on(\"click\", \".k-pager-refresh\", function (e) {\n        e.preventDefault();\n        onReloadData(that);\n      });\n\n      function onReloadData(that) {\n        that.loadPaymentOption();\n      }\n    },\n    toolbarTemplate: function () {\n      const templateHtml =\n          '<span>' +\n          '<a class=\"k-pager-refresh k-link k-button reload\" title=\"Refresh\"><span class=\"k-icon k-i-reload\"></span></a>' +\n          '</span>' +\n          '<span style=\"position:absolute; right:5px\">' +\n          '</span>';\n      return kendo.template(templateHtml)\n    },\n    accountTmp(dataItem) {\n      if (dataItem.hasOwnProperty(\"account\")) {\n        if (dataItem.account.hasOwnProperty(\"id\")) {\n          return dataItem.account.name;\n        }\n        return \"\";\n      } else {\n        return \"\";\n      }\n    },\n    onNewClick() {\n      // this.paymentOption = []\n      // this.mBank = []\n      // this.dialogM2 = true\n      this.$router.push({\n        path: \"payment_option_vendor\",\n        name: \"Payment Option Vendor\",\n        params: {},\n      });\n    },\n    close() {\n      this.dialogM2 = false;\n    },\n    goEdit(e) {\n      e.preventDefault();\n      let grid = kendo.jQuery(\"#gridPaymentOptionVendor\").data(\"kendoGrid\");\n      let dataItem = grid.dataItem($(e.currentTarget).closest(\"tr\"));\n      this.$router.push({\n        path: \"payment_option_vendor\" + `/${dataItem.id}`,\n        name: \"Payment Option Vendor\",\n        params: {id: dataItem.id},\n        query: {type: \"edit\"},\n      });\n    },\n    rowNumberTmpl(dataItem) {\n      let ds = this.$refs.paymentOptionVendorDS.kendoWidget(),\n          index = ds.indexOf(dataItem);\n      return index + 1;\n    },\n    async loadPaymentOption() {\n      new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"resolved\");\n          this.paymentOptions = [];\n          this.showLoading = true;\n          paymentOptionHandler\n              .list(\"?optionType=\" + OPTION_TYPE)\n              .then((res) => {\n                if (res.data.statusCode === 200) {\n                  this.showLoading = false;\n                  this.paymentOptions = res.data.data;\n                } else {\n                  this.showLoading = false\n                }\n              })\n        }, 10);\n      });\n    },\n  },\n  watch: {\n    '$route': 'loadPaymentOption'\n  }\n};\n</script>\n<style scoped>\n.acc_group header {\n  height: 10px !important;\n}\n\ntable.acc_group tr td {\n  border-bottom: 1px solid #ccc;\n  padding: 8px;\n  vertical-align: middle;\n}\n\ntable.acc_group tr td:first-child {\n  font-weight: 700;\n}\n\ntable.acc_group tr td:last-child {\n  text-align: center;\n}\n\n.v-card__actions .v-btn.v-btn {\n  padding: 0 16px;\n}\n\n.exchange-table.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> thead\n> tr\n> th {\n  font-family: \"Niradei-Bold\", serif;\n  color: #000 !important;\n  border-top: 1px solid #000 !important;\n  border-bottom: 1px solid #000 !important;\n  font-size: 15px !important;\n}\n\n.exchange-table.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> thead\n> tr\n> td {\n  color: #000 !important;\n  padding: 5px !important;\n}\n\n.exchange-table.theme--light.v-data-table\n> .v-data-table__wrapper\n> table\n> tbody\n> tr:last-child\ntd {\n  border-bottom: 1px solid #000 !important;\n}\n\n.function_footer {\n  padding: 15px;\n  display: inline-block;\n}\n\n@media (max-width: 576px) {\n}\n</style>\n"]}]}